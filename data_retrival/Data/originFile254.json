{"items":[{"tags":["java","json","jsonschema","everit"],"comments":[{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":1,"creation_date":1603885723,"post_id":64571965,"comment_id":114176275,"body_markdown":"I just noticed that the builder generates keywords which are not compliant with the JSON Schema specification, e.g. allItemSchema instead of items. So it is probably not suitable as a general purpose schema generator.","body":"I just noticed that the builder generates keywords which are not compliant with the JSON Schema specification, e.g. allItemSchema instead of items. So it is probably not suitable as a general purpose schema generator."},{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1603888131,"post_id":64571965,"comment_id":114177383,"body_markdown":"Plus one to the above, with the weight of one of the spec editors. Are you sure the tool your using is trying to build actual JSON Schema?","body":"Plus one to the above, with the weight of one of the spec editors. Are you sure the tool your using is trying to build actual JSON Schema?"},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603900540,"post_id":64571965,"comment_id":114184031,"body_markdown":"I was following this advise by the creator of everit: https://stackoverflow.com/a/38478478/6871028 \nGiven my observations so far, apparently the answer is no.","body":"I was following this advise by the creator of everit: <a href=\"https://stackoverflow.com/a/38478478/6871028\">stackoverflow.com/a/38478478/6871028</a>  Given my observations so far, apparently the answer is no."},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603901422,"post_id":64571965,"comment_id":114184482,"body_markdown":"As a spec editor, could you advise a Java generator to build a schema from scratch? There are quite few libraries for code-based generation but I am struggling to find a simple schema builder that meets the spec.","body":"As a spec editor, could you advise a Java generator to build a schema from scratch? There are quite few libraries for code-based generation but I am struggling to find a simple schema builder that meets the spec."},{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1603901795,"post_id":64571965,"comment_id":114184650,"body_markdown":"I&#39;m afraid I cannot. I don&#39;t know Java. Take a look at http://json-schema.org/implementations.html and / or come by our Slack and ask. There are others that use Java there.","body":"I&#39;m afraid I cannot. I don&#39;t know Java. Take a look at <a href=\"http://json-schema.org/implementations.html\" rel=\"nofollow noreferrer\">json-schema.org/implementations.html</a> and / or come by our Slack and ask. There are others that use Java there."},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603903036,"post_id":64571965,"comment_id":114185206,"body_markdown":"Thanks, joined and asked.","body":"Thanks, joined and asked."}],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691736419,"creation_date":1691736419,"answer_id":76881267,"question_id":64571965,"body_markdown":"Trying to serialize the schema instance with jackson (like `String json = objectMapper.writeValueAsString(rootSchema);`) won&#39;t work, since it will dump the internals of the schema object (which will actually be quite similar to a json schema, but not exactly).\r\n\r\nInstead, you have to serialize the schema object to schema json by calling `String json = rootSchema.toString();`","title":"Everit schema builder includes unset properties as null","body":"<p>Trying to serialize the schema instance with jackson (like <code>String json = objectMapper.writeValueAsString(rootSchema);</code>) won't work, since it will dump the internals of the schema object (which will actually be quite similar to a json schema, but not exactly).</p>\n<p>Instead, you have to serialize the schema object to schema json by calling <code>String json = rootSchema.toString();</code></p>\n"}],"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691736419,"creation_date":1603884766,"question_id":64571965,"body_markdown":"Trying to build and use the Schema object:\r\n\r\n```\r\n        Schema rootSchema = ObjectSchema.builder()\r\n                .additionalProperties(true)\r\n                .build();\r\n```\r\n\r\nIt seems to work fine until I try to serialize it as a string and then to reload using the SchemaLoader:\r\n\r\n```\r\n        String json = objectMapper.writeValueAsString(rootSchema);\r\n        JSONObject schemaObject = new JSONObject(json);\r\n        Schema schema = SchemaLoader.load(schemaObject);\r\n```\r\n\r\nThe problem is that the unset keywords are serialized as null:\r\n```\r\n{\r\n  &quot;title&quot; : null,\r\n  &quot;description&quot; : null,\r\n  &quot;id&quot; : null,\r\n  &quot;propertySchemas&quot; : { },\r\n  &quot;schemaOfAdditionalProperties&quot; : null,\r\n  &quot;requiredProperties&quot; : [ ],\r\n  &quot;minProperties&quot; : null,\r\n  &quot;maxProperties&quot; : null,\r\n  &quot;propertyDependencies&quot; : { },\r\n  &quot;schemaDependencies&quot; : { },\r\n  &quot;patternProperties&quot; : { }\r\n}\r\n```\r\n\r\nThe SchemaLoader reports these as errors, e.g. &quot;java.lang.RuntimeException: org.json.JSONException: JSONObject[&quot;id&quot;] not a string.&quot; Would it be possible to skip these keywords?\r\n\r\nAnother problem: the serialized version doesn&#39;t include the additionalProperties keyword. \r\n\r\nAlso, is it possible to include additional keywords, not specified in the JSON Schema spec? AFAIIK the spec itself doesn&#39;t prohibit such keywords, and some libraries such as AJV actually use them?","title":"Everit schema builder includes unset properties as null","body":"<p>Trying to build and use the Schema object:</p>\n<pre><code>        Schema rootSchema = ObjectSchema.builder()\n                .additionalProperties(true)\n                .build();\n</code></pre>\n<p>It seems to work fine until I try to serialize it as a string and then to reload using the SchemaLoader:</p>\n<pre><code>        String json = objectMapper.writeValueAsString(rootSchema);\n        JSONObject schemaObject = new JSONObject(json);\n        Schema schema = SchemaLoader.load(schemaObject);\n</code></pre>\n<p>The problem is that the unset keywords are serialized as null:</p>\n<pre><code>{\n  &quot;title&quot; : null,\n  &quot;description&quot; : null,\n  &quot;id&quot; : null,\n  &quot;propertySchemas&quot; : { },\n  &quot;schemaOfAdditionalProperties&quot; : null,\n  &quot;requiredProperties&quot; : [ ],\n  &quot;minProperties&quot; : null,\n  &quot;maxProperties&quot; : null,\n  &quot;propertyDependencies&quot; : { },\n  &quot;schemaDependencies&quot; : { },\n  &quot;patternProperties&quot; : { }\n}\n</code></pre>\n<p>The SchemaLoader reports these as errors, e.g. &quot;java.lang.RuntimeException: org.json.JSONException: JSONObject[&quot;id&quot;] not a string.&quot; Would it be possible to skip these keywords?</p>\n<p>Another problem: the serialized version doesn't include the additionalProperties keyword.</p>\n<p>Also, is it possible to include additional keywords, not specified in the JSON Schema spec? AFAIIK the spec itself doesn't prohibit such keywords, and some libraries such as AJV actually use them?</p>\n"},{"tags":["java","alfresco"],"answers":[{"tags":[],"owner":{"account_id":434980,"reputation":3666,"user_id":821306,"display_name":"Rapha&#235;l"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372425581,"creation_date":1372419027,"answer_id":17363709,"question_id":17362990,"body_markdown":"Each site of Alfresco Share is linked to a user group. This group contains the user list and their roles.\r\n\r\nThe main group is named `GROUP_site_` + siteUrl. It contains 4 subgroup, one for each role : SiteManager, SiteCollaborator, SiteContributor and SiteConsumer.\r\n\r\nTheir type is &quot;cm:authorityContainer&quot;.\r\n\r\nIf your site has for URL name &quot;lntlegal&quot;, its groups will be:\r\n\r\n    GROUP_site_lntlegal\r\n    |- GROUP_site_lntlegal_SiteManager\r\n    |- GROUP_site_lntlegal_SiteCollaborator\r\n    |- GROUP_site_lntlegal_SiteContributor\r\n    |- GROUP_site_lntlegal_SiteConsumer\r\n\r\nYou can retrieve a group with the following Lucene query:\r\n\r\n    @cm\\:authorityName:&quot;GROUP_site_lntlegal_SiteConsumer&quot;\r\n\r\nThe users are the children of the association &quot;cm:member&quot;.\r\n\r\nHere is a sample code to do this using the Web Service API:\r\n\r\n    final String site = &quot;lntlegal&quot;;\r\n\r\n    for(final String role : Arrays.asList(&quot;SiteManager&quot;, &quot;SiteCollaborator&quot;, &quot;SiteContributor&quot;, &quot;SiteConsumer&quot;)) {\r\n        String luceneQuery = &quot;@cm\\\\:authorityName:\\&quot;GROUP_site_&quot; + site + &#39;_&#39; + role + &quot;\\&quot;&quot;;\r\n        Query query = new Query(Constants.QUERY_LANG_LUCENE, luceneQuery);\r\n\r\n        QueryResult queryResult = repositoryService.query(store, query, true);\r\n        ResultSet resultSet = queryResult.getResultSet();\r\n        ResultSetRow[] rows = resultSet.getRows();\r\n\r\n        ResultSetRowNode node = rows[0].getNode();\r\n        Reference reference = new Reference(store, node.getId(), null);\r\n\r\n        QueryResult associationQueryResult = repositoryService.queryChildren(reference); \r\n        ResultSet associationResultSet = associationQueryResult.getResultSet();\r\n        ResultSetRow[] associationRows = associationResultSet.getRows();\r\n\r\n        if(associationRows != null) {\r\n            final String userNameQName = createQNameString(NAMESPACE_CONTENT_MODEL, &quot;userName&quot;);\r\n            for(final ResultSetRow row : associationRows) {\r\n                String name = null;\r\n                for(NamedValue value:row.getColumns()) {\r\n                    if(value.getName().equals(userNameQName)) {\r\n                        name = value.getValue();\r\n                    }\r\n                }\r\n\r\n                System.out.println(row.getNode().getId() + &quot; : &quot; + name);\r\n            }\r\n        }\r\n    }\r\n","title":"Alfresco web service get all users under site","body":"<p>Each site of Alfresco Share is linked to a user group. This group contains the user list and their roles.</p>\n\n<p>The main group is named <code>GROUP_site_</code> + siteUrl. It contains 4 subgroup, one for each role : SiteManager, SiteCollaborator, SiteContributor and SiteConsumer.</p>\n\n<p>Their type is \"cm:authorityContainer\".</p>\n\n<p>If your site has for URL name \"lntlegal\", its groups will be:</p>\n\n<pre><code>GROUP_site_lntlegal\n|- GROUP_site_lntlegal_SiteManager\n|- GROUP_site_lntlegal_SiteCollaborator\n|- GROUP_site_lntlegal_SiteContributor\n|- GROUP_site_lntlegal_SiteConsumer\n</code></pre>\n\n<p>You can retrieve a group with the following Lucene query:</p>\n\n<pre><code>@cm\\:authorityName:\"GROUP_site_lntlegal_SiteConsumer\"\n</code></pre>\n\n<p>The users are the children of the association \"cm:member\".</p>\n\n<p>Here is a sample code to do this using the Web Service API:</p>\n\n<pre><code>final String site = \"lntlegal\";\n\nfor(final String role : Arrays.asList(\"SiteManager\", \"SiteCollaborator\", \"SiteContributor\", \"SiteConsumer\")) {\n    String luceneQuery = \"@cm\\\\:authorityName:\\\"GROUP_site_\" + site + '_' + role + \"\\\"\";\n    Query query = new Query(Constants.QUERY_LANG_LUCENE, luceneQuery);\n\n    QueryResult queryResult = repositoryService.query(store, query, true);\n    ResultSet resultSet = queryResult.getResultSet();\n    ResultSetRow[] rows = resultSet.getRows();\n\n    ResultSetRowNode node = rows[0].getNode();\n    Reference reference = new Reference(store, node.getId(), null);\n\n    QueryResult associationQueryResult = repositoryService.queryChildren(reference); \n    ResultSet associationResultSet = associationQueryResult.getResultSet();\n    ResultSetRow[] associationRows = associationResultSet.getRows();\n\n    if(associationRows != null) {\n        final String userNameQName = createQNameString(NAMESPACE_CONTENT_MODEL, \"userName\");\n        for(final ResultSetRow row : associationRows) {\n            String name = null;\n            for(NamedValue value:row.getColumns()) {\n                if(value.getName().equals(userNameQName)) {\n                    name = value.getValue();\n                }\n            }\n\n            System.out.println(row.getNode().getId() + \" : \" + name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405631,"reputation":4079,"user_id":2102192,"display_name":"alfrescian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372930288,"creation_date":1372930288,"answer_id":17466766,"question_id":17362990,"body_markdown":"    SiteService.listMembers\r\n\r\n will do the job ...but not 100% sure if the SiteService is available as SOAP WebService\r\n\r\nIf you&#39;d like to get members of a group, then take a look at\r\n`AuthorityService.getContainedAuthorities`","title":"Alfresco web service get all users under site","body":"<pre><code>SiteService.listMembers\n</code></pre>\n\n<p>will do the job ...but not 100% sure if the SiteService is available as SOAP WebService</p>\n\n<p>If you'd like to get members of a group, then take a look at\n<code>AuthorityService.getContainedAuthorities</code></p>\n"}],"owner":{"account_id":2760077,"reputation":11,"user_id":2377145,"display_name":"Anji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691736103,"creation_date":1372416557,"question_id":17362990,"body_markdown":"I&#39;m new to `alfresco`. \r\n\r\nUsing `web services with java`, I am connecting to Alfresco. Now I want all the users under group.\r\n\r\nPlease let me know if any.\r\n\r\nFor getting sub-folder, I am using `Lucena query` like this:\r\n\r\n    String luceneQuery = &quot;PATH:\\&quot;/app:company_home/st:sites/cm:lntlegal/cm:&quot; + strRootFolder + &quot;/*\\&quot; AND TYPE:\\&quot;cm:folder\\&quot;&quot;;\r\n\r\n","title":"Alfresco web service get all users under site","body":"<p>I'm new to <code>alfresco</code>. </p>\n\n<p>Using <code>web services with java</code>, I am connecting to Alfresco. Now I want all the users under group.</p>\n\n<p>Please let me know if any.</p>\n\n<p>For getting sub-folder, I am using <code>Lucena query</code> like this:</p>\n\n<pre><code>String luceneQuery = \"PATH:\\\"/app:company_home/st:sites/cm:lntlegal/cm:\" + strRootFolder + \"/*\\\" AND TYPE:\\\"cm:folder\\\"\";\n</code></pre>\n"},{"tags":["java","thymeleaf","ognl"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1691735280,"post_id":76881139,"comment_id":135534365,"body_markdown":"I&#39;ve never used Thymeleaf or OGNL, but looking at other pages, I suspect `${@java.lang.Math@random()}` is what you want (or possibly even just `${@random()}`). Unfortunately I&#39;m not in a position to check that at the moment.","body":"I&#39;ve never used Thymeleaf or OGNL, but looking at other pages, I suspect <code>${@java.lang.Math@random()}</code> is what you want (or possibly even just <code>${@random()}</code>). Unfortunately I&#39;m not in a position to check that at the moment."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691735325,"post_id":76881139,"comment_id":135534374,"body_markdown":"Depending on your versions and other settings, there are [various syntaxes](https://github.com/thymeleaf/thymeleaf/issues/593) to try.","body":"Depending on your versions and other settings, there are <a href=\"https://github.com/thymeleaf/thymeleaf/issues/593\" rel=\"nofollow noreferrer\">various syntaxes</a> to try."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691736117,"post_id":76881139,"comment_id":135534496,"body_markdown":"Just testet your code and it works fine. So the code itself is alright, might be a setup problem with your TemplateEngine?","body":"Just testet your code and it works fine. So the code itself is alright, might be a setup problem with your TemplateEngine?"}],"answers":[{"tags":[],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691735965,"creation_date":1691735965,"answer_id":76881231,"question_id":76881139,"body_markdown":"Thanks for the answers.\r\n\r\n`${@java.lang.Math@random()}` worked for me","title":"Static method Math#random invocation in Thymeleaf using OGNL gets OgnlException: source is null for getProperty(null, &quot;lang&quot;)","body":"<p>Thanks for the answers.</p>\n<p><code>${@java.lang.Math@random()}</code> worked for me</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76881231,"answer_count":1,"score":0,"last_activity_date":1691735965,"creation_date":1691734944,"question_id":76881139,"body_markdown":"I&#39;m trying a very basic static Java method invocation by Thymeleaf:\r\n```html\r\n&lt;div th:text=&quot;${T(java.lang.Math).random()}&quot;/&gt;\r\n```\r\n\r\nBut always got the exception `OgnlException: source is null for getProperty(null, &quot;lang&quot;)`.\r\n\r\nFull error message:\r\n```\r\n2023-08-11 16:17:16,221 ERROR [etp1561005241-55] o.t.TemplateEngine [THYMELEAF][etp1561005241-55] Exception processing template &quot;test.html&quot;: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random(\r\n)&quot; (template: &quot;test.html&quot; - line 89, col 14)\r\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random()&quot; (template: &quot;diag-ui.html&quot; - line 89, col 14)\r\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:199)\r\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:104)\r\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n        at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n        at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n        at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n        at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n        at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n        at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\r\n        at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\r\n        at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\r\n        at hobbit.mordor.diagui.DiaguiEndpoint.handleSearch(DiaguiEndpoint.java:106)\r\n        at hobbit.mordor.diagui.DiaguiEndpoint.handle(DiaguiEndpoint.java:149)\r\n        at hobbit.mordor.server.JettyRequestHandler.dispatchRequest(JettyRequestHandler.java:273)\r\n        at hobbit.mordor.server.JettyRequestHandler.handle(JettyRequestHandler.java:313)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: ognl.OgnlException: source is null for getProperty(null, &quot;lang&quot;)\r\n\r\n```","title":"Static method Math#random invocation in Thymeleaf using OGNL gets OgnlException: source is null for getProperty(null, &quot;lang&quot;)","body":"<p>I'm trying a very basic static Java method invocation by Thymeleaf:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div th:text=&quot;${T(java.lang.Math).random()}&quot;/&gt;\n</code></pre>\n<p>But always got the exception <code>OgnlException: source is null for getProperty(null, &quot;lang&quot;)</code>.</p>\n<p>Full error message:</p>\n<pre><code>2023-08-11 16:17:16,221 ERROR [etp1561005241-55] o.t.TemplateEngine [THYMELEAF][etp1561005241-55] Exception processing template &quot;test.html&quot;: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random(\n)&quot; (template: &quot;test.html&quot; - line 89, col 14)\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random()&quot; (template: &quot;diag-ui.html&quot; - line 89, col 14)\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:199)\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:104)\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n        at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n        at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n        at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n        at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n        at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n        at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\n        at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\n        at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\n        at hobbit.mordor.diagui.DiaguiEndpoint.handleSearch(DiaguiEndpoint.java:106)\n        at hobbit.mordor.diagui.DiaguiEndpoint.handle(DiaguiEndpoint.java:149)\n        at hobbit.mordor.server.JettyRequestHandler.dispatchRequest(JettyRequestHandler.java:273)\n        at hobbit.mordor.server.JettyRequestHandler.handle(JettyRequestHandler.java:313)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: ognl.OgnlException: source is null for getProperty(null, &quot;lang&quot;)\n\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":1,"creation_date":1691700032,"post_id":76879170,"comment_id":135530835,"body_markdown":"You have called a service method (setAddress), Mockito verify checks whether container&#39;s checkAndUpdate method was called. Who was supposed to invoke it?","body":"You have called a service method (setAddress), Mockito verify checks whether container&#39;s checkAndUpdate method was called. Who was supposed to invoke it?"},{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":0,"creation_date":1691700061,"post_id":76879170,"comment_id":135530843,"body_markdown":"The general idea is not ok, if you want to test Container.checkAndUpdate, you shouldn&#39;t mock the container at all","body":"The general idea is not ok, if you want to test Container.checkAndUpdate, you shouldn&#39;t mock the container at all"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1691701045,"post_id":76879170,"comment_id":135531004,"body_markdown":"@leokom Can you edit my code","body":"@leokom Can you edit my code"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1691701360,"post_id":76879170,"comment_id":135531051,"body_markdown":"@leokom then how i will write the unit test ?container is the class where it is written","body":"@leokom then how i will write the unit test ?container is the class where it is written"}],"answers":[{"tags":[],"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691735860,"creation_date":1691735860,"answer_id":76881223,"question_id":76879170,"body_markdown":"In order to verify interaction with the private method (if you really want doing that), its visibility should be increased to package-private one.\r\n\r\nThen the following approach may be used\r\n\r\n```\r\nclass ContainerTest {\r\n\t@Test\r\n\tvoid testCheckAndUpdate() {\r\n\r\n\t\tList&lt;Address&gt; addList = new ArrayList&lt;&gt;();\r\n\t\tService service = Mockito.mock(Service.class);\r\n\t\tActual actual = new Actual();\r\n\t\tactual.setValue(&quot;TA&quot;);\r\n\t\tservice.setAddress(addList);\r\n\r\n\t\tContainer container = Mockito.spy(new Container());\r\n\t\t// call the public method\r\n\t\tcontainer.checkAndUpdate(service, actual);\r\n\r\n\t\t// verify interaction with the package-private method\r\n\t\tMockito.verify(container).somePrivateMethod(addList);\r\n\t}\r\n}\r\n```","title":"How to write unit test of a void method which have multiple private method using junit Mockito","body":"<p>In order to verify interaction with the private method (if you really want doing that), its visibility should be increased to package-private one.</p>\n<p>Then the following approach may be used</p>\n<pre><code>class ContainerTest {\n    @Test\n    void testCheckAndUpdate() {\n\n        List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\n        Service service = Mockito.mock(Service.class);\n        Actual actual = new Actual();\n        actual.setValue(&quot;TA&quot;);\n        service.setAddress(addList);\n\n        Container container = Mockito.spy(new Container());\n        // call the public method\n        container.checkAndUpdate(service, actual);\n\n        // verify interaction with the package-private method\n        Mockito.verify(container).somePrivateMethod(addList);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691735860,"creation_date":1691699843,"question_id":76879170,"body_markdown":"I am trying to test a void method which have multiple private method , the approach I am taking is, \r\ntrying to test the public method which shall only , below is the public method \r\n\r\n   \r\n    class Container{ \r\n \r\n    public void checkAndUpdate(Service service, Actual actual){\r\n     List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\r\n     for(Address addr: service.getAddress()){\r\n      addList.add(addr);\r\n    }\r\n    somePrivateMethod(addList);\r\n    }\r\nTest class\r\n\r\n    @Mock\r\n    Container container;\r\n    \r\n    @Test\r\n    public void testCheckAndUpdate(){\r\n     \r\n    List&lt;Address&gt; addList = Mockito.mock(List.class);\r\n    Service service = Mockito.mock(Service.class);\r\n    Actual actual = new Actual();\r\n    actual.setValue(&quot;TA&quot;);\r\n    service.setAddress(addList);\r\n    \r\n    Mockito.verify(container).checkAndUpdate(service,actual);\r\n    \r\n\r\nI am getting the below exception \r\n\r\n       &quot;Actually there were zero interactions with the mock \r\n        wanted but not invoked \r\n      \r\nHow to solve this issue ","title":"How to write unit test of a void method which have multiple private method using junit Mockito","body":"<p>I am trying to test a void method which have multiple private method , the approach I am taking is,\ntrying to test the public method which shall only , below is the public method</p>\n<pre><code>class Container{ \n\npublic void checkAndUpdate(Service service, Actual actual){\n List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\n for(Address addr: service.getAddress()){\n  addList.add(addr);\n}\nsomePrivateMethod(addList);\n}\n</code></pre>\n<p>Test class</p>\n<pre><code>@Mock\nContainer container;\n\n@Test\npublic void testCheckAndUpdate(){\n \nList&lt;Address&gt; addList = Mockito.mock(List.class);\nService service = Mockito.mock(Service.class);\nActual actual = new Actual();\nactual.setValue(&quot;TA&quot;);\nservice.setAddress(addList);\n\nMockito.verify(container).checkAndUpdate(service,actual);\n</code></pre>\n<p>I am getting the below exception</p>\n<pre><code>   &quot;Actually there were zero interactions with the mock \n    wanted but not invoked \n  \n</code></pre>\n<p>How to solve this issue</p>\n"},{"tags":["java","android","logging","logcat","android-runtime"],"owner":{"account_id":4210014,"reputation":3098,"user_id":3448003,"accept_rate":31,"display_name":"Bajrang Hudda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691734682,"creation_date":1680090543,"question_id":75876802,"body_markdown":"I am developing an Android App that I am targeting for Android 13 or higher. In the APP I am performing continuous updates and for each update, I want to collect logs of the full device including update_engine&#39;s logs, so in case any update fails I can tell what was the issue. \r\nFor each update, I am saving logs in a different file.\r\n\r\nFor collecting full device logs I am using system permission\r\n\r\n `&lt;uses-permission android:name=&quot;android.permission.READ_LOGS&quot; /&gt;`\r\n\r\nThough system permission will be only granted if our APP is having same system signature as the device, in Android 13 Google made it more restrictive now only prv app can be granted by default and I can not make my APP as prv app, because for that Google needs to approve the request.\r\n\r\nIt&#39;s okay if we can&#39;t collect full device logs but still I want to collect my own APPs logs, unfortunately, I am able to collect only half of the logs of my APP.\r\n\r\nCurrently, I am using - \r\n\r\n            StringBuilder command = new StringBuilder(); // Start to get logcat log to new file\r\n            command.append(&quot;logcat -v threadtime -f &quot;);\r\n            command.append(Constants.LOGCAT_LOG_PATH);\r\n            try {\r\n                mProcess = Runtime.getRuntime().exec(command.toString());\r\n            } catch(Exception e) {\r\n                Log.e(TAG, &quot;Logcat exec ERROR &quot;);\r\n            }\r\n\r\n\r\nI also tried &#39;-d&#39; option that will dump the logs into a file but still I am not getting full logs sometimes or sometimes I am getting repeated logs in the log file.\r\n\r\nNote - I am calling reboot once the payload is applied to confirm if the device is updated successfully. Seems like when logs are still in the buffer (not yet written into the file) and the device got rebooted. I also tried a postRunnable() of 30 seconds so that logs can be written into the file form buffer but no help.\r\n\r\n    PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\r\n    pm.reboot(null);\r\n\r\n\r\n\r\nWhat can be a possible workaround after this Android 13 READ_LOG permission behavior change? Though the device is showing a pop-up for allow/ deny permission dialog if I allow it is collecting full device logs but I can not allow/ deny it all the time because it&#39;s a long-running process.","title":"Collect full device logs from an Android APP","body":"<p>I am developing an Android App that I am targeting for Android 13 or higher. In the APP I am performing continuous updates and for each update, I want to collect logs of the full device including update_engine's logs, so in case any update fails I can tell what was the issue.\nFor each update, I am saving logs in a different file.</p>\n<p>For collecting full device logs I am using system permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_LOGS&quot; /&gt;</code></p>\n<p>Though system permission will be only granted if our APP is having same system signature as the device, in Android 13 Google made it more restrictive now only prv app can be granted by default and I can not make my APP as prv app, because for that Google needs to approve the request.</p>\n<p>It's okay if we can't collect full device logs but still I want to collect my own APPs logs, unfortunately, I am able to collect only half of the logs of my APP.</p>\n<p>Currently, I am using -</p>\n<pre><code>        StringBuilder command = new StringBuilder(); // Start to get logcat log to new file\n        command.append(&quot;logcat -v threadtime -f &quot;);\n        command.append(Constants.LOGCAT_LOG_PATH);\n        try {\n            mProcess = Runtime.getRuntime().exec(command.toString());\n        } catch(Exception e) {\n            Log.e(TAG, &quot;Logcat exec ERROR &quot;);\n        }\n</code></pre>\n<p>I also tried '-d' option that will dump the logs into a file but still I am not getting full logs sometimes or sometimes I am getting repeated logs in the log file.</p>\n<p>Note - I am calling reboot once the payload is applied to confirm if the device is updated successfully. Seems like when logs are still in the buffer (not yet written into the file) and the device got rebooted. I also tried a postRunnable() of 30 seconds so that logs can be written into the file form buffer but no help.</p>\n<pre><code>PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\npm.reboot(null);\n</code></pre>\n<p>What can be a possible workaround after this Android 13 READ_LOG permission behavior change? Though the device is showing a pop-up for allow/ deny permission dialog if I allow it is collecting full device logs but I can not allow/ deny it all the time because it's a long-running process.</p>\n"},{"tags":["java","spring","spring-boot","ibm-mq"],"comments":[{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1692357061,"post_id":76881074,"comment_id":135615212,"body_markdown":"Try adding additional logging into `MqConnectionConfiguration` to check whether a connection is being attempted.","body":"Try adding additional logging into <code>MqConnectionConfiguration</code> to check whether a connection is being attempted."}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691734228,"creation_date":1691734228,"question_id":76881074,"body_markdown":"I have a running spring boot application which should receive Messages from IBM MQ Server. The application is able to start, but the message on the Queue is not fetched. \r\n\r\nThat&#39;s my MqConfiguration Class: \r\n\r\n```\r\n@Configuration\r\n@EnableJms\r\npublic class MqConfiguration {\r\n\r\n    @Bean()\r\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory connectionFactory, MqProperties properties) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setConcurrency(properties.getConcurrency());\r\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n        factory.setReceiveTimeout(properties.getReceiveTimeout());\r\n        factory.setMaxMessagesPerTask(properties.getMaxMessagesPerTask());\r\n\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nHere is my MqConnectionConfiguration\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class MqConnectionConfiguration {\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory(MqProperties properties, EksconnectUtf8ConverterEventLogger logger) throws ConfigurationException {\r\n        MQConnectionFactory mqConnectionFactory = null;\r\n        try {\r\n            mqConnectionFactory = new MQConnectionFactory();\r\n            mqConnectionFactory.setStringProperty(JmsConstants.PASSWORD, &quot;myPass&quot;);\r\n            mqConnectionFactory.setStringProperty(JmsConstants.USERID, &quot;myUser&quot;);\r\n            mqConnectionFactory.setBooleanProperty(JmsConstants.USER_AUTHENTICATION_MQCSP, true);\r\n            mqConnectionFactory.setHostName(10.0.0.1);\r\n            mqConnectionFactory.setPort(1414);\r\n            mqConnectionFactory.setQueueManager(&quot;*QMGR&quot;);\r\n            mqConnectionFactory.setChannel(&quot;CL.5.S&quot;);\r\n            mqConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\r\n            mqConnectionFactory.setTransportType(CommonConstants.WMQ_CM_CLIENT);\r\n            mqConnectionFactory.setAppName(&quot;myApp&quot;);\r\n            mqConnectionFactory.setShareConvAllowed(1);\r\n        } catch (JMSException e) {\r\n            throw new ConfigurationException(e.getMessage());\r\n        }\r\n        return mqConnectionFactory;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is a small implementation of my MqGateway is JmsListener: \r\n```\r\n@Named\r\n@Transactional(noRollbackFor = {HandlerErrors.RequestReplyException.class})\r\npublic class MqGateway {\r\n\r\n    @JmsListener(destination = &quot;QM.TEST.IN&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\r\n    public void onMessage(TextMessage message, Session session) throws HandlerErrors.OneWayException, JMSException {\r\n        System.out.println(&quot;Message received&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Application is able to start without any errors. And I can find any log messages related to MQ. There are messages on the Queue, but the JmsListener Method is not invoked and the Message is not printed to console. \r\n\r\nHow can I check if connection is working? Why is JmsListener not invoked? Can I get any Information to the log if the connection could have been established? Or where can I start debugging? \r\n","title":"Spring Boot 2.7 not connection to IBM MQ","body":"<p>I have a running spring boot application which should receive Messages from IBM MQ Server. The application is able to start, but the message on the Queue is not fetched.</p>\n<p>That's my MqConfiguration Class:</p>\n<pre><code>@Configuration\n@EnableJms\npublic class MqConfiguration {\n\n    @Bean()\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory connectionFactory, MqProperties properties) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setConcurrency(properties.getConcurrency());\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        factory.setReceiveTimeout(properties.getReceiveTimeout());\n        factory.setMaxMessagesPerTask(properties.getMaxMessagesPerTask());\n\n        return factory;\n    }\n}\n</code></pre>\n<p>Here is my MqConnectionConfiguration</p>\n<pre><code>@Configuration\n@Slf4j\npublic class MqConnectionConfiguration {\n\n    @Bean\n    public ConnectionFactory connectionFactory(MqProperties properties, EksconnectUtf8ConverterEventLogger logger) throws ConfigurationException {\n        MQConnectionFactory mqConnectionFactory = null;\n        try {\n            mqConnectionFactory = new MQConnectionFactory();\n            mqConnectionFactory.setStringProperty(JmsConstants.PASSWORD, &quot;myPass&quot;);\n            mqConnectionFactory.setStringProperty(JmsConstants.USERID, &quot;myUser&quot;);\n            mqConnectionFactory.setBooleanProperty(JmsConstants.USER_AUTHENTICATION_MQCSP, true);\n            mqConnectionFactory.setHostName(10.0.0.1);\n            mqConnectionFactory.setPort(1414);\n            mqConnectionFactory.setQueueManager(&quot;*QMGR&quot;);\n            mqConnectionFactory.setChannel(&quot;CL.5.S&quot;);\n            mqConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\n            mqConnectionFactory.setTransportType(CommonConstants.WMQ_CM_CLIENT);\n            mqConnectionFactory.setAppName(&quot;myApp&quot;);\n            mqConnectionFactory.setShareConvAllowed(1);\n        } catch (JMSException e) {\n            throw new ConfigurationException(e.getMessage());\n        }\n        return mqConnectionFactory;\n    }\n}\n</code></pre>\n<p>And here is a small implementation of my MqGateway is JmsListener:</p>\n<pre><code>@Named\n@Transactional(noRollbackFor = {HandlerErrors.RequestReplyException.class})\npublic class MqGateway {\n\n    @JmsListener(destination = &quot;QM.TEST.IN&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\n    public void onMessage(TextMessage message, Session session) throws HandlerErrors.OneWayException, JMSException {\n        System.out.println(&quot;Message received&quot;);\n    }\n\n}\n</code></pre>\n<p>The Application is able to start without any errors. And I can find any log messages related to MQ. There are messages on the Queue, but the JmsListener Method is not invoked and the Message is not printed to console.</p>\n<p>How can I check if connection is working? Why is JmsListener not invoked? Can I get any Information to the log if the connection could have been established? Or where can I start debugging?</p>\n"},{"tags":["java","ldap","spring-ldap"],"owner":{"account_id":4810627,"reputation":353,"user_id":4369307,"accept_rate":80,"display_name":"bpetlur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691733896,"creation_date":1678163403,"question_id":75658053,"body_markdown":"I am trying to map my java pojo (Parent and child classes) with LDAP entry using spring ODM @Entry\r\nas below\r\n\r\nThe ldap entry looks as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    //child class\r\n    public class ChildClass extends ParentClass{\r\n       \r\n       // attribute names are same as in LDAP\r\n        protected String attribute1;\r\n        protected String attribute2;\r\n    }\r\n\r\n    \r\n    //parent class\r\n    import org.springframework.ldap.odm.annotations.Entry;\r\n    import org.springframework.ldap.odm.annotations.Id;\r\n    \r\n    @Entry(objectClasses = {&quot;testObjectClass&quot;})\r\n    public class ParentClass {\r\n    \r\n        @Id\r\n        Name dn;\r\n        protected String cn;\r\n        protected List&lt;String&gt; objectClass;\r\n        \r\n       // attribute names are same as in LDAP\r\n        protected String attribute3;\r\n        protected String attribute4;\r\n        protected String attribute5;\r\n    }\r\n\r\n**Using Spring ldaptemplate i am trying to search as below.&lt;br/&gt;\r\nParentClass attributes value are getting populated properly, But ChildClass atributes value are populating as null.**\r\n\r\n    List&lt;ParentClass&gt; results = ldapTemplate.find(dn, filter, searchControls, ParentClass.class)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gomeZ.jpg","title":"How to Map Java Pojo with parent and child class to LDAP using spring ldap","body":"<p>I am trying to map my java pojo (Parent and child classes) with LDAP entry using spring ODM @Entry\nas below</p>\n<p>The ldap entry looks as below</p>\n<p><a href=\"https://i.stack.imgur.com/gomeZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gomeZ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>//child class\npublic class ChildClass extends ParentClass{\n   \n   // attribute names are same as in LDAP\n    protected String attribute1;\n    protected String attribute2;\n}\n\n\n//parent class\nimport org.springframework.ldap.odm.annotations.Entry;\nimport org.springframework.ldap.odm.annotations.Id;\n\n@Entry(objectClasses = {&quot;testObjectClass&quot;})\npublic class ParentClass {\n\n    @Id\n    Name dn;\n    protected String cn;\n    protected List&lt;String&gt; objectClass;\n    \n   // attribute names are same as in LDAP\n    protected String attribute3;\n    protected String attribute4;\n    protected String attribute5;\n}\n</code></pre>\n<p><strong>Using Spring ldaptemplate i am trying to search as below.<br/>\nParentClass attributes value are getting populated properly, But ChildClass atributes value are populating as null.</strong></p>\n<pre><code>List&lt;ParentClass&gt; results = ldapTemplate.find(dn, filter, searchControls, ParentClass.class)\n</code></pre>\n"},{"tags":["javascript","java","jquery","ember.js"],"answers":[{"tags":[],"owner":{"account_id":6461905,"reputation":1029,"user_id":5005385,"accept_rate":58,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481280427,"creation_date":1481280427,"answer_id":41058638,"question_id":41058500,"body_markdown":"Something like this in jQuery might do what you&#39;re after. More info [here][1].\r\n\r\n    $.ajax({\r\n\t\turl: &quot;url.php&quot;,\r\n\t\tmethod: &quot;POST&quot;,\r\n\t\tdata: myData\r\n\t})\r\n\t.fail(function(jqXHR, textStatus, errorThrown) {\r\n\t\t//process error here\r\n\t});\r\n\r\n\r\n  [1]: http://api.jquery.com/jQuery.ajax/","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Something like this in jQuery might do what you're after. More info <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>$.ajax({\n    url: \"url.php\",\n    method: \"POST\",\n    data: myData\n})\n.fail(function(jqXHR, textStatus, errorThrown) {\n    //process error here\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461905,"reputation":1029,"user_id":5005385,"accept_rate":58,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481280648,"creation_date":1481280648,"answer_id":41058712,"question_id":41058500,"body_markdown":"Perhaps you could use the try...catch syntax in javascript. More info [here][1].\r\n\r\n    try {\r\n\t\t//do something\r\n\t\treturn true;\r\n\t} catch (e) {\r\n\t\t//catch error\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Perhaps you could use the try...catch syntax in javascript. More info <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>try {\n    //do something\n    return true;\n} catch (e) {\n    //catch error\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":7238970,"reputation":57,"user_id":5523139,"accept_rate":0,"display_name":"Sunny Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1709,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691733783,"creation_date":1481280053,"question_id":41058500,"body_markdown":"Can we handle following errors: `ERR_ADDRESS_UNREACHABLE`, `ERR_CONNECTION_RESET`, `ERR_NETWORK_CHANGED` properly and throw exceptions, maybe in Java, JavaScript or Ember, even jQuery.\r\n\r\nI googled it for 15 days, and not appropriate solution. Just need to give proper error messages in above error cases. We are using `XMLHttpRequest` to send request to server in case of file uploads","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Can we handle following errors: <code>ERR_ADDRESS_UNREACHABLE</code>, <code>ERR_CONNECTION_RESET</code>, <code>ERR_NETWORK_CHANGED</code> properly and throw exceptions, maybe in Java, JavaScript or Ember, even jQuery.</p>\n\n<p>I googled it for 15 days, and not appropriate solution. Just need to give proper error messages in above error cases. We are using <code>XMLHttpRequest</code> to send request to server in case of file uploads</p>\n"},{"tags":["java","excel","spring-boot","google-sheets","import"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1691612557,"post_id":76871013,"comment_id":135516716,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) (And you even failed at uploading the images...)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> (And you even failed at uploading the images...)"}],"answers":[{"tags":[],"owner":{"account_id":29004775,"reputation":1,"user_id":22217594,"display_name":"azerty1012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691733393,"creation_date":1691733393,"answer_id":76881011,"question_id":76871013,"body_markdown":"**AchatMci**\r\n\r\n```\r\npackage com.sg.CompMO.model.mci;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;AchatMci&quot;)\r\n\r\npublic class AchatMci {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String agence;\r\n\tprivate String compte;\r\n\tprivate String code_ope;\r\n\tprivate String ecomm_code_ope;\r\n\tprivate Date date;\r\n\t//private Long nbDnweb;\r\n\t//private Long montantDnweb;\r\n\tprivate Long nb_mci_outgoing;\r\n\tprivate Long montant_mci_outgoing;\r\n\tprivate Long nb_sms;\r\n\tprivate Long montant_sms;\r\n\tprivate Long nb_rejets;\r\n\tprivate Long montant_rejets;\r\n\tprivate Long nbdeltacop;\r\n\tprivate Long montantdeltacop;\r\n\tprivate Long nbbkmvthcop;\r\n\tprivate Long montantbkmvthcop;\r\n\tprivate Long nbdeltaecom;\r\n\tprivate Long montantdeltaecom;\r\n\t//private Long nbajustagemci;\r\n\t//private Long montantajustagemci;\r\n\tprivate Long nbcouverturemci;\r\n\tprivate Long montantcouverturemci;\r\n\t//private Long nbecartDN;\r\n\t//private Long montantDN;\r\n\tprivate Long nbPost;\r\n\tprivate Long montantPost;\r\n\tprivate Long nb_couverturedelta;\r\n\tprivate Long montant_couverturedelta;\r\n\t@Column(columnDefinition=&quot;TEXT&quot;)\r\n\tprivate String obs;\r\n\tprivate String etat;\r\n}\r\n\r\n```\r\n\r\n**CompensationMci**\r\n\r\n```\r\npackage com.sg.CompMO.model.mci;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;CompensationMci&quot;)\r\n\r\npublic class CompensationMci {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String agence;\r\n\tprivate String compte;\r\n\tprivate String code_ope;\r\n\tprivate Date date;\r\n\tprivate Long couverturemci;\r\n\tprivate Long couverturehps;\r\n\tprivate Long fisDnweb;\r\n\tprivate Long bkmvtiFis;\r\n\tprivate Long BkmvthHps;\r\n\tprivate Long deltaCop;\r\n\tprivate Long BkmvthVSdelta;\r\n\tprivate Long dailyExtractjmoins1;\r\n\tprivate Long dailyExtractjplus1;\r\n\tprivate Long couvertureMcijustif;\r\n\tprivate Long autoverif;\r\n\t@Column(columnDefinition=&quot;TEXT&quot;)\r\n\tprivate String obs;\r\n\t\r\n}\r\n\r\n```","title":"Correction importing excel in spring boot","body":"<p><strong>AchatMci</strong></p>\n<pre><code>package com.sg.CompMO.model.mci;\n\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;AchatMci&quot;)\n\npublic class AchatMci {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String agence;\n    private String compte;\n    private String code_ope;\n    private String ecomm_code_ope;\n    private Date date;\n    //private Long nbDnweb;\n    //private Long montantDnweb;\n    private Long nb_mci_outgoing;\n    private Long montant_mci_outgoing;\n    private Long nb_sms;\n    private Long montant_sms;\n    private Long nb_rejets;\n    private Long montant_rejets;\n    private Long nbdeltacop;\n    private Long montantdeltacop;\n    private Long nbbkmvthcop;\n    private Long montantbkmvthcop;\n    private Long nbdeltaecom;\n    private Long montantdeltaecom;\n    //private Long nbajustagemci;\n    //private Long montantajustagemci;\n    private Long nbcouverturemci;\n    private Long montantcouverturemci;\n    //private Long nbecartDN;\n    //private Long montantDN;\n    private Long nbPost;\n    private Long montantPost;\n    private Long nb_couverturedelta;\n    private Long montant_couverturedelta;\n    @Column(columnDefinition=&quot;TEXT&quot;)\n    private String obs;\n    private String etat;\n}\n\n</code></pre>\n<p><strong>CompensationMci</strong></p>\n<pre><code>package com.sg.CompMO.model.mci;\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;CompensationMci&quot;)\n\npublic class CompensationMci {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String agence;\n    private String compte;\n    private String code_ope;\n    private Date date;\n    private Long couverturemci;\n    private Long couverturehps;\n    private Long fisDnweb;\n    private Long bkmvtiFis;\n    private Long BkmvthHps;\n    private Long deltaCop;\n    private Long BkmvthVSdelta;\n    private Long dailyExtractjmoins1;\n    private Long dailyExtractjplus1;\n    private Long couvertureMcijustif;\n    private Long autoverif;\n    @Column(columnDefinition=&quot;TEXT&quot;)\n    private String obs;\n    \n}\n\n</code></pre>\n"}],"owner":{"account_id":29004775,"reputation":1,"user_id":22217594,"display_name":"azerty1012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691733393,"creation_date":1691612440,"question_id":76871013,"body_markdown":"I have tried this code to import an excel but it doesn&#39;t work. It always make the same error\r\n\r\n**Repository**\r\n\r\n```\r\npublic interface AjustageRepository extends JpaRepository&lt;Ajustage, Long&gt; {\r\n\r\n\t@Query(&quot;SELECT v FROM Ajustage v WHERE v.date = (SELECT MAX(v2.date) FROM Ajustage v2)&quot;)\r\n    Ajustage lastInput();\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n```\r\n@Service\r\npublic class ExcelService {\r\n\r\n    @Autowired\r\n\tprivate AjustageRepository repository;\r\n\r\n    public void processExcelFile(MultipartFile file) {\r\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\r\n            Sheet sheet = workbook.getSheetAt(1); // Deuxi&#232;me feuille (index 1)\r\n            int i = 0;\r\n            for (Row row : sheet) {\r\n                i++;\r\n                if(i&gt;1) {\r\n                    Ajustage ajustage = new Ajustage();\r\n                    if (row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \r\n                        break;\r\n            \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n            \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n            \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n            \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n            \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n            \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n            \t    System.out.println(ajustage.toString());\r\n                    repository.save(ajustage);\r\n                    // Parcours des lignes de la deuxi&#232;me feuille\r\n                    // Ins&#233;rer les donn&#233;es dans la base de donn&#233;es ici\r\n                    // Vous pouvez acc&#233;der aux cellules de chaque ligne en utilisant row.getCell(cellIndex)\r\n                    // Exemple d&#39;insertion d&#39;une donn&#233;e factice dans la base de donn&#233;es\r\n                    //ExcelData excelData = new ExcelData();\r\n                    //excelData.setData(&quot;Donn&#233;e ins&#233;r&#233;e depuis le fichier Excel&quot;);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            // G&#233;rer les erreurs de lecture du fichier Excel\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    public void insertNewRecord(MultipartFile file) {\r\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\r\n            Sheet sheet = workbook.getSheetAt(1); // Deuxi&#232;me feuille (index 1)\r\n            int lastRowNum = this.lastRowNum(sheet);\r\n            Ajustage last = repository.lastInput();\r\n            \r\n            Row row = sheet.getRow(lastRowNum);\r\n            if(last != null) {\r\n            \tDate toInsert = row.getCell(0).getDateCellValue();\r\n            \twhile(toInsert.after(last.getDate())) {\r\n                \tAjustage ajustage = new Ajustage();\r\n            \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n            \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n            \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n            \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n            \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n            \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n            \t    System.out.println(ajustage.toString());\r\n                    repository.save(ajustage);\r\n                    \r\n                    //iteration boucle\r\n                    lastRowNum--;\r\n                    row = sheet.getRow(lastRowNum);\r\n                    toInsert = row.getCell(0).getDateCellValue();\r\n                }\r\n            }\r\n            else {\r\n\t            while(lastRowNum &gt; 0) {\r\n\t            \tAjustage ajustage = new Ajustage();\r\n\t        \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n\t        \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n\t        \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n\t        \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n\t        \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n\t        \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n\t        \t    System.out.println(ajustage.toString());\r\n\t                repository.save(ajustage);\r\n\t                \r\n\t                //iteration boucle\r\n\t                lastRowNum--;\r\n\t                row = sheet.getRow(lastRowNum);\r\n\t            }\r\n            }\r\n        } catch (IOException e) {\r\n            // G&#233;rer les erreurs de lecture du fichier Excel\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    public int lastRowNum(Sheet sheet) {\r\n    \tint lastRowNum = sheet.getLastRowNum();\r\n    \tfor(int rowNum = lastRowNum; rowNum &gt;= 0; rowNum--) {\r\n    \t\tRow row = sheet.getRow(rowNum);\r\n    \t\tif (row != null &amp;&amp; row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \r\n                return rowNum;\r\n    \t}\t\r\n    \treturn -1;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the code for the controller\r\n\r\n**Controller**\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/api/excel&quot;)\r\npublic class ExcelController {\r\n    private final ExcelService excelService;\r\n\r\n    @Autowired\r\n    public ExcelController(ExcelService excelService) {\r\n        this.excelService = excelService;\r\n    }\r\n    \r\n    @GetMapping(&quot;/test&quot;) \r\n    public ResponseEntity&lt;String&gt; test() {\r\n    \treturn ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;String&gt; uploadExcelFile(@RequestPart MultipartFile file) {\r\n    \tSystem.out.println(&quot;OKK##########&quot;);\r\n        try {\r\n            excelService.processExcelFile(file); // Appel de la m&#233;thode pour traiter le fichier Excel\r\n            return ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\r\n        }\r\n    }\r\n    \r\n    @PostMapping(&quot;/version2&quot;)\r\n    public ResponseEntity&lt;String&gt; insertNew(@RequestPart MultipartFile file) {\r\n    \tSystem.out.println(&quot;OKK##########&quot;);\r\n        try {\r\n            excelService.insertNewRecord(file); // Appel de la m&#233;thode pour traiter le fichier Excel\r\n            return ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis code import an axcel to a databse sql server via spring boot, So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ... So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ...","title":"Correction importing excel in spring boot","body":"<p>I have tried this code to import an excel but it doesn't work. It always make the same error</p>\n<p><strong>Repository</strong></p>\n<pre><code>public interface AjustageRepository extends JpaRepository&lt;Ajustage, Long&gt; {\n\n    @Query(&quot;SELECT v FROM Ajustage v WHERE v.date = (SELECT MAX(v2.date) FROM Ajustage v2)&quot;)\n    Ajustage lastInput();\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\npublic class ExcelService {\n\n    @Autowired\n    private AjustageRepository repository;\n\n    public void processExcelFile(MultipartFile file) {\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\n            Sheet sheet = workbook.getSheetAt(1); // Deuxième feuille (index 1)\n            int i = 0;\n            for (Row row : sheet) {\n                i++;\n                if(i&gt;1) {\n                    Ajustage ajustage = new Ajustage();\n                    if (row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \n                        break;\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    // Parcours des lignes de la deuxième feuille\n                    // Insérer les données dans la base de données ici\n                    // Vous pouvez accéder aux cellules de chaque ligne en utilisant row.getCell(cellIndex)\n                    // Exemple d'insertion d'une donnée factice dans la base de données\n                    //ExcelData excelData = new ExcelData();\n                    //excelData.setData(&quot;Donnée insérée depuis le fichier Excel&quot;);\n                }\n            }\n        } catch (IOException e) {\n            // Gérer les erreurs de lecture du fichier Excel\n            System.out.println(e.getMessage());\n        }\n    }\n    \n    public void insertNewRecord(MultipartFile file) {\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\n            Sheet sheet = workbook.getSheetAt(1); // Deuxième feuille (index 1)\n            int lastRowNum = this.lastRowNum(sheet);\n            Ajustage last = repository.lastInput();\n            \n            Row row = sheet.getRow(lastRowNum);\n            if(last != null) {\n                Date toInsert = row.getCell(0).getDateCellValue();\n                while(toInsert.after(last.getDate())) {\n                    Ajustage ajustage = new Ajustage();\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    \n                    //iteration boucle\n                    lastRowNum--;\n                    row = sheet.getRow(lastRowNum);\n                    toInsert = row.getCell(0).getDateCellValue();\n                }\n            }\n            else {\n                while(lastRowNum &gt; 0) {\n                    Ajustage ajustage = new Ajustage();\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    \n                    //iteration boucle\n                    lastRowNum--;\n                    row = sheet.getRow(lastRowNum);\n                }\n            }\n        } catch (IOException e) {\n            // Gérer les erreurs de lecture du fichier Excel\n            System.out.println(e.getMessage());\n        }\n    }\n    \n    public int lastRowNum(Sheet sheet) {\n        int lastRowNum = sheet.getLastRowNum();\n        for(int rowNum = lastRowNum; rowNum &gt;= 0; rowNum--) {\n            Row row = sheet.getRow(rowNum);\n            if (row != null &amp;&amp; row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \n                return rowNum;\n        }   \n        return -1;\n    }\n}\n</code></pre>\n<p>This is the code for the controller</p>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/excel&quot;)\npublic class ExcelController {\n    private final ExcelService excelService;\n\n    @Autowired\n    public ExcelController(ExcelService excelService) {\n        this.excelService = excelService;\n    }\n    \n    @GetMapping(&quot;/test&quot;) \n    public ResponseEntity&lt;String&gt; test() {\n        return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n    }\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; uploadExcelFile(@RequestPart MultipartFile file) {\n        System.out.println(&quot;OKK##########&quot;);\n        try {\n            excelService.processExcelFile(file); // Appel de la méthode pour traiter le fichier Excel\n            return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\n        }\n    }\n    \n    @PostMapping(&quot;/version2&quot;)\n    public ResponseEntity&lt;String&gt; insertNew(@RequestPart MultipartFile file) {\n        System.out.println(&quot;OKK##########&quot;);\n        try {\n            excelService.insertNewRecord(file); // Appel de la méthode pour traiter le fichier Excel\n            return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This code import an axcel to a databse sql server via spring boot, So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ... So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ...</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29203933,"reputation":21,"user_id":22373439,"display_name":"Prince Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691733052,"creation_date":1691733052,"answer_id":76880987,"question_id":76880980,"body_markdown":"    public static Uri saveImageAndGetUri(Context context, Bitmap imageBitmap) {\r\n    File imageFile = new File(context.getExternalFilesDir(null), &quot;image.jpg&quot;);\r\n    try {\r\n        FileOutputStream outStream = new FileOutputStream(imageFile);\r\n        imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n        outStream.flush();\r\n        outStream.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n  return Uri.fromFile(imageFile);\r\n}","title":"Failure delivering result ResultInfo{who=null, request=100, result=-1, data=Intent { act=inline-data (has extras) }} java.lang.NullPointerException","body":"<pre><code>public static Uri saveImageAndGetUri(Context context, Bitmap imageBitmap) {\nFile imageFile = new File(context.getExternalFilesDir(null), &quot;image.jpg&quot;);\ntry {\n    FileOutputStream outStream = new FileOutputStream(imageFile);\n    imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n    outStream.flush();\n    outStream.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>return Uri.fromFile(imageFile);\n}</p>\n"}],"owner":{"account_id":29203933,"reputation":21,"user_id":22373439,"display_name":"Prince Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691733220,"answer_count":1,"score":-1,"last_activity_date":1691733292,"creation_date":1691733017,"question_id":76880980,"body_markdown":"    public static Uri getImageUri(Context inContext, Bitmap inImage) {\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n\r\n        // Determine a size threshold below which compression is not performed\r\n        int sizeThreshold = 1024; // for example, consider images smaller than 1KB\r\n\r\n        if (inImage.getByteCount() &gt; sizeThreshold) {\r\n            inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\r\n        } else {\r\n            // Handle small images differently or skip compression\r\n            // For example, you might simply use the original image without compression\r\n            inImage.compress(Bitmap.CompressFormat.PNG, 100, bytes); // Use PNG format for small images\r\n        }\r\n\r\n\r\n        String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\r\n        return Uri.parse(path);\r\n    }\r\n\r\n#Getting crash while compressing the image in Redmi devices. Android versions 10 mostly.\r\n\r\n","title":"Failure delivering result ResultInfo{who=null, request=100, result=-1, data=Intent { act=inline-data (has extras) }} java.lang.NullPointerException","body":"<pre><code>public static Uri getImageUri(Context inContext, Bitmap inImage) {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    // Determine a size threshold below which compression is not performed\n    int sizeThreshold = 1024; // for example, consider images smaller than 1KB\n\n    if (inImage.getByteCount() &gt; sizeThreshold) {\n        inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\n    } else {\n        // Handle small images differently or skip compression\n        // For example, you might simply use the original image without compression\n        inImage.compress(Bitmap.CompressFormat.PNG, 100, bytes); // Use PNG format for small images\n    }\n\n\n    String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\n    return Uri.parse(path);\n}\n</code></pre>\n<p>#Getting crash while compressing the image in Redmi devices. Android versions 10 mostly.</p>\n"},{"tags":["java","spring-boot","http","tomcat","java-17"],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691732862,"creation_date":1691649726,"question_id":76873176,"body_markdown":"I have upgrade **Spring boot From 2.x to 3.1.1 (Java also upgraded to Java 8 -&gt; Zing Base Java 17)**\r\nPost the upgrade on few nodes following error is observed for all API calls, API calls works find but an additional error response gets appended to the actual response resulting errors \r\nfor client \r\n\r\nThis happens even for **actuator/health** APIs also\r\n\r\nAPI Result\r\n\r\n```{&quot;status&quot;:&quot;UP&quot;}{&quot;errorCode&quot;:&quot;MYAPP-1000&quot;,&quot;errorMessage&quot;:&quot;Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US&quot;} ```\r\n\r\nCustom Exception Handler Code\r\n\r\n```  \r\n@ExceptionHandler(value = Exception.class )\r\npublic ResponseEntity handleGenericException(Exception exception) {\r\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n          .body(cacheRefreshService.buildErrorResponse(&quot;MYAPP-1000&quot;, exception.getMessage()));\r\n  }\r\n```\r\n\r\nException StackTrace\r\n\r\n```\r\n\r\n05:20:51.163 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.164 [http-nio-51051-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServletRegistration] [] - Servlet.service() for servlet [dispatcherServletRegistration] in context with path [] threw exception [Request processing failed: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US] with root cause\r\njava.util.MissingResourceException: Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US\r\n\tat sun.util.resources.Bundles.throwMissingResourceException(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.Bundles.loadBundleOf(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.Bundles.of(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData.getBundle(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData.getTimeZoneNames(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleResources.getTimeZoneNames(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\r\n\tat sun.util.cldr.CLDRTimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayName(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getName(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObjectImpl(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown Source) ~[?:?]\r\n\tat java.util.TimeZone.getDisplayName(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.subFormat(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\r\n\tat java.text.DateFormat.format(Unknown Source) ~[?:?]\r\n\tat org.apache.tomcat.util.http.ConcurrentDateFormat.format(ConcurrentDateFormat.java:51) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.http.FastHttpDateFormat.getCurrentDate(FastHttpDateFormat.java:100) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:967) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.Response.action(Response.java:208) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.Response.doWrite(Response.java:613) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:334) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:780) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:382) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:360) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\r\n\tat java.io.OutputStreamWriter.write(Unknown Source) ~[?:?]\r\n\tat java.io.Writer.write(Unknown Source) ~[?:?]\r\n\tat org.springframework.util.StreamUtils.copy(StreamUtils.java:137) ~[spring-core-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:225) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerAdapter.handle(CompositeHandlerAdapter.java:58) ~[spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;]\r\n\r\n```\r\n","title":"MissingResourceException for TimeZoneNames in All API Calls post upgrading to Spring boot 3.1.0","body":"<p>I have upgrade <strong>Spring boot From 2.x to 3.1.1 (Java also upgraded to Java 8 -&gt; Zing Base Java 17)</strong>\nPost the upgrade on few nodes following error is observed for all API calls, API calls works find but an additional error response gets appended to the actual response resulting errors\nfor client</p>\n<p>This happens even for <strong>actuator/health</strong> APIs also</p>\n<p>API Result</p>\n<p><code>{&quot;status&quot;:&quot;UP&quot;}{&quot;errorCode&quot;:&quot;MYAPP-1000&quot;,&quot;errorMessage&quot;:&quot;Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US&quot;} </code></p>\n<p>Custom Exception Handler Code</p>\n<pre><code>@ExceptionHandler(value = Exception.class )\npublic ResponseEntity handleGenericException(Exception exception) {\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n          .body(cacheRefreshService.buildErrorResponse(&quot;MYAPP-1000&quot;, exception.getMessage()));\n  }\n</code></pre>\n<p>Exception StackTrace</p>\n<pre><code>\n05:20:51.163 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.164 [http-nio-51051-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServletRegistration] [] - Servlet.service() for servlet [dispatcherServletRegistration] in context with path [] threw exception [Request processing failed: java.util.MissingResourceException: Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US] with root cause\njava.util.MissingResourceException: Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US\n    at sun.util.resources.Bundles.throwMissingResourceException(Unknown Source) ~[?:?]\n    at sun.util.resources.Bundles.loadBundleOf(Unknown Source) ~[?:?]\n    at sun.util.resources.Bundles.of(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\n    at java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData.getBundle(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData.getTimeZoneNames(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleResources.getTimeZoneNames(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\n    at sun.util.cldr.CLDRTimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayName(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getName(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObjectImpl(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown Source) ~[?:?]\n    at java.util.TimeZone.getDisplayName(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.subFormat(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\n    at java.text.DateFormat.format(Unknown Source) ~[?:?]\n    at org.apache.tomcat.util.http.ConcurrentDateFormat.format(ConcurrentDateFormat.java:51) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.http.FastHttpDateFormat.getCurrentDate(FastHttpDateFormat.java:100) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:967) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.Response.action(Response.java:208) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.Response.doWrite(Response.java:613) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:334) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:780) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:382) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:360) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\n    at java.io.OutputStreamWriter.write(Unknown Source) ~[?:?]\n    at java.io.Writer.write(Unknown Source) ~[?:?]\n    at org.springframework.util.StreamUtils.copy(StreamUtils.java:137) ~[spring-core-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:225) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerAdapter.handle(CompositeHandlerAdapter.java:58) ~[spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8']\n\n</code></pre>\n"},{"tags":["java","sorting","tree"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463351573,"creation_date":1463322736,"answer_id":37239497,"question_id":37238980,"body_markdown":"You seem to be confusing terminology.\r\n\r\n[Radix sorting][1] is a sorting algorithm.\r\n\r\n[Lexical order][2] is a mathematical generalization of &quot;dictionary&quot; order.\r\n\r\nAs far as I am aware, there is no such thing as &quot;lexigographic sorting&quot; ... unless this is your personal short-hand for sorting into a lexicographical order.\r\n\r\nThe relationship between a sorting algorithm and an order / ordering is that you use a sort algorithm to sort a &quot;collection&quot; of values into a particular order. The difference between them is ... like &quot;comparing chalk and cheese&quot;.\r\n\r\n------------------\r\n\r\nHowever, based on how I think you intend to use them, you could sensibly use radix sort *with* a lexical order / ordering to sort an adjacency list.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Radix_sort\r\n  [2]: https://en.wikipedia.org/wiki/Lexicographical_order","title":"JAVA Tree Sorting lexicographic","body":"<p>You seem to be confusing terminology.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow\">Radix sorting</a> is a sorting algorithm.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Lexicographical_order\" rel=\"nofollow\">Lexical order</a> is a mathematical generalization of \"dictionary\" order.</p>\n\n<p>As far as I am aware, there is no such thing as \"lexigographic sorting\" ... unless this is your personal short-hand for sorting into a lexicographical order.</p>\n\n<p>The relationship between a sorting algorithm and an order / ordering is that you use a sort algorithm to sort a \"collection\" of values into a particular order. The difference between them is ... like \"comparing chalk and cheese\".</p>\n\n<hr>\n\n<p>However, based on how I think you intend to use them, you could sensibly use radix sort <em>with</em> a lexical order / ordering to sort an adjacency list.</p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691732636,"creation_date":1691732636,"answer_id":76880949,"question_id":37238980,"body_markdown":"As from you question **lexicographic sort and radix sort** differences are-\r\n\r\n**Radix Sort** is a linear sorting algorithm that sorts elements by processing them digit by digit.\r\n\r\n    for example to sort array [ 110,22,31 ]  using Redix Sort -  \r\n    \r\n    So first we will arrange based on unit place-\r\n    [110,31,22]\r\n    Then we arrange based on 10th place-\r\n    [110,22,31]\r\n    Then we arrange based on 100th place-\r\n    [22,31,110]\r\n\r\n    Finally we have the sorted result [22,31,110].\r\n\r\n**lexicographical Sort** is basically a dictionary order or we can say a generalization of the alphabetical order.\r\n\r\n    for example if we want to sort the below array-\r\n    [10,2,10001,1011,25,20001]\r\n    \r\n    so the lexical sort will look like-\r\n    [10,10001,1011,2,20001,25]\r\n\r\nSecond thing you want to sort lexicographically using tree\r\n\r\nSo here we can use a **binary search tree** for that,\r\nI am share a code for that hope it is helpful.\r\n\r\n    public class Node {\r\n        private int value;\r\n       private Node left, right;\r\n    \r\n        public Node(int value)\r\n        {\r\n            this.value = value;\r\n            left = right = null;\r\n        }\r\n    \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(int value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public Node getLeft() {\r\n            return left;\r\n        }\r\n    \r\n        public void setLeft(Node left) {\r\n            this.left = left;\r\n        }\r\n    \r\n        public Node getRight() {\r\n            return right;\r\n        }\r\n    \r\n        public void setRight(Node right) {\r\n            this.right = right;\r\n        }\r\n    }\r\n\r\n    public class TreeSort {\r\n    \r\n        // Root of BST\r\n        private Node root;\r\n    \r\n        public Node getRoot() {\r\n            return root;\r\n        }\r\n    \r\n        public void insert(int value)\r\n        {\r\n            root = insertRecursion(root, value);\r\n        }\r\n    \r\n        private Node insertRecursion(Node root, int value)\r\n        {\r\n    \r\n            /* If the tree is empty, return a new node */\r\n            if (root == null)\r\n            {\r\n                root = new Node(value);\r\n                return root;\r\n            }\r\n    \r\n            /* Otherwise, recur down the tree */\r\n            if (lexicographicalSort(value ,root.getValue())&lt;0)\r\n                root.setLeft(insertRecursion(root.getLeft(), value));\r\n    \r\n            else if (lexicographicalSort(value , root.getValue())&gt;0)\r\n                root.setRight( insertRecursion(root.getRight(), value));\r\n    \r\n            /* return the root */\r\n            return root;\r\n        }\r\n    \r\n        public void inorderRecursion(Node root)\r\n        {\r\n            if (root != null)\r\n            {\r\n                inorderRecursion(root.getLeft());\r\n                System.out.print(root.getValue() + &quot; &quot;);\r\n                inorderRecursion(root.getRight());\r\n            }\r\n        }\r\n    \r\n        public void treeInsertions(int[] arr)\r\n        {\r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                insert(arr[i]);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static int lexicographicalSort(long input1, long input2){\r\n    \r\n            // -ve means input1 is smaller\r\n            //  +ve means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            long inp1 = input1;\r\n            long inp2 = input2;\r\n            int input1Length = 1;\r\n            int input2Length = 1;\r\n    \r\n            while(inp1/10&gt;0){\r\n                input1Length++;\r\n                inp1 = inp1/10;\r\n            }\r\n    \r\n            while(inp2/10&gt;0){\r\n                input2Length++;\r\n                inp2 = inp2/10;\r\n            }\r\n    \r\n            int[] inArr1 = new int[input1Length];\r\n            int[] inArr2 = new int[input2Length];\r\n    \r\n            inp1 = input1;\r\n            inp2 = input2;\r\n    \r\n            int min = Math.min(input1Length,input2Length);\r\n    \r\n            while(inp1/10&gt;0){\r\n                inArr1[--input1Length] = (int)inp1%10;\r\n                inp1 = inp1/10;\r\n            }\r\n            inArr1[--input1Length] = (int)inp1;\r\n    \r\n            while(inp2/10&gt;0){\r\n                inArr2[--input2Length] = (int)inp2%10;\r\n                inp2 = inp2/10;\r\n            }\r\n            inArr2[--input2Length] = (int)inp2;\r\n    \r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( inArr1[k] != inArr2[k]){\r\n                    return inArr1[k]-inArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return inArr1.length-inArr2.length;\r\n        }\r\n    }\r\nTesting same--&gt;\r\n\r\n    public class SolTest {\r\n        public static void main(String[] args) {\r\n    \r\n           // int arr[] = {5, 4, 7, 2, 11};\r\n            int arr[] = {101,2,10,1012,8};\r\n            TreeSort tree = new TreeSort();\r\n            tree.treeInsertions(arr);\r\n            tree.inorderRec(tree.getRoot());\r\n    }\r\n    }\r\n**output**-&gt;10 101 1012 2 8 \r\n\r\n**Note**-&gt; Instead of printing the result you can also store the same in List\r\n\r\nAnd if you want a custom lexicographicalSort for String then use below method \r\n\r\n     private static int lexicographicalSort(String input1, String input2){\r\n    \r\n            // -1 means input1 is smaller\r\n            //  1 means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            char[] chArr1 = input1.toCharArray();\r\n            char[] chArr2 = input2.toCharArray();\r\n            int min = Math.min(chArr1.length,chArr2.length);\r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( chArr1[k] != chArr2[k]){\r\n                    return chArr1[k]-chArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return chArr1.length-chArr2.length;\r\n        }\r\n\r\n  ","title":"JAVA Tree Sorting lexicographic","body":"<p>As from you question <strong>lexicographic sort and radix sort</strong> differences are-</p>\n<p><strong>Radix Sort</strong> is a linear sorting algorithm that sorts elements by processing them digit by digit.</p>\n<pre><code>for example to sort array [ 110,22,31 ]  using Redix Sort -  \n\nSo first we will arrange based on unit place-\n[110,31,22]\nThen we arrange based on 10th place-\n[110,22,31]\nThen we arrange based on 100th place-\n[22,31,110]\n\nFinally we have the sorted result [22,31,110].\n</code></pre>\n<p><strong>lexicographical Sort</strong> is basically a dictionary order or we can say a generalization of the alphabetical order.</p>\n<pre><code>for example if we want to sort the below array-\n[10,2,10001,1011,25,20001]\n\nso the lexical sort will look like-\n[10,10001,1011,2,20001,25]\n</code></pre>\n<p>Second thing you want to sort lexicographically using tree</p>\n<p>So here we can use a <strong>binary search tree</strong> for that,\nI am share a code for that hope it is helpful.</p>\n<pre><code>public class Node {\n    private int value;\n   private Node left, right;\n\n    public Node(int value)\n    {\n        this.value = value;\n        left = right = null;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public Node getLeft() {\n        return left;\n    }\n\n    public void setLeft(Node left) {\n        this.left = left;\n    }\n\n    public Node getRight() {\n        return right;\n    }\n\n    public void setRight(Node right) {\n        this.right = right;\n    }\n}\n\npublic class TreeSort {\n\n    // Root of BST\n    private Node root;\n\n    public Node getRoot() {\n        return root;\n    }\n\n    public void insert(int value)\n    {\n        root = insertRecursion(root, value);\n    }\n\n    private Node insertRecursion(Node root, int value)\n    {\n\n        /* If the tree is empty, return a new node */\n        if (root == null)\n        {\n            root = new Node(value);\n            return root;\n        }\n\n        /* Otherwise, recur down the tree */\n        if (lexicographicalSort(value ,root.getValue())&lt;0)\n            root.setLeft(insertRecursion(root.getLeft(), value));\n\n        else if (lexicographicalSort(value , root.getValue())&gt;0)\n            root.setRight( insertRecursion(root.getRight(), value));\n\n        /* return the root */\n        return root;\n    }\n\n    public void inorderRecursion(Node root)\n    {\n        if (root != null)\n        {\n            inorderRecursion(root.getLeft());\n            System.out.print(root.getValue() + &quot; &quot;);\n            inorderRecursion(root.getRight());\n        }\n    }\n\n    public void treeInsertions(int[] arr)\n    {\n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            insert(arr[i]);\n        }\n\n    }\n\n    private static int lexicographicalSort(long input1, long input2){\n\n        // -ve means input1 is smaller\n        //  +ve means input1 is larger\n        //  0 means input1 and input2 are same\n        long inp1 = input1;\n        long inp2 = input2;\n        int input1Length = 1;\n        int input2Length = 1;\n\n        while(inp1/10&gt;0){\n            input1Length++;\n            inp1 = inp1/10;\n        }\n\n        while(inp2/10&gt;0){\n            input2Length++;\n            inp2 = inp2/10;\n        }\n\n        int[] inArr1 = new int[input1Length];\n        int[] inArr2 = new int[input2Length];\n\n        inp1 = input1;\n        inp2 = input2;\n\n        int min = Math.min(input1Length,input2Length);\n\n        while(inp1/10&gt;0){\n            inArr1[--input1Length] = (int)inp1%10;\n            inp1 = inp1/10;\n        }\n        inArr1[--input1Length] = (int)inp1;\n\n        while(inp2/10&gt;0){\n            inArr2[--input2Length] = (int)inp2%10;\n            inp2 = inp2/10;\n        }\n        inArr2[--input2Length] = (int)inp2;\n\n        int k = 0;\n\n        while(k&lt;min){\n            if( inArr1[k] != inArr2[k]){\n                return inArr1[k]-inArr2[k];\n            }\n            k++;\n        }\n\n        return inArr1.length-inArr2.length;\n    }\n}\n</code></pre>\n<p>Testing same--&gt;</p>\n<pre><code>public class SolTest {\n    public static void main(String[] args) {\n\n       // int arr[] = {5, 4, 7, 2, 11};\n        int arr[] = {101,2,10,1012,8};\n        TreeSort tree = new TreeSort();\n        tree.treeInsertions(arr);\n        tree.inorderRec(tree.getRoot());\n}\n}\n</code></pre>\n<p><strong>output</strong>-&gt;10 101 1012 2 8</p>\n<p><strong>Note</strong>-&gt; Instead of printing the result you can also store the same in List</p>\n<p>And if you want a custom lexicographicalSort for String then use below method</p>\n<pre><code> private static int lexicographicalSort(String input1, String input2){\n\n        // -1 means input1 is smaller\n        //  1 means input1 is larger\n        //  0 means input1 and input2 are same\n        char[] chArr1 = input1.toCharArray();\n        char[] chArr2 = input2.toCharArray();\n        int min = Math.min(chArr1.length,chArr2.length);\n        int k = 0;\n\n        while(k&lt;min){\n            if( chArr1[k] != chArr2[k]){\n                return chArr1[k]-chArr2[k];\n            }\n            k++;\n        }\n\n        return chArr1.length-chArr2.length;\n    }\n</code></pre>\n"}],"owner":{"account_id":8412192,"reputation":71,"user_id":6313706,"accept_rate":14,"display_name":"Donatas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691732636,"creation_date":1463319624,"question_id":37238980,"body_markdown":"I have a task to implement checking if two undirected graphs are isomorphic. For implementing tree I&#39;m using simple adjacency list example http://theoryofprogramming.com/adjacency-list-in-java/. The second thing i need to do is sort tree &quot;lexicographic&quot; is there a difference between lexicographic sort and radix sort, when sorting adjacency list of a tree ?","title":"JAVA Tree Sorting lexicographic","body":"<p>I have a task to implement checking if two undirected graphs are isomorphic. For implementing tree I'm using simple adjacency list example <a href=\"http://theoryofprogramming.com/adjacency-list-in-java/\" rel=\"nofollow\">http://theoryofprogramming.com/adjacency-list-in-java/</a>. The second thing i need to do is sort tree \"lexicographic\" is there a difference between lexicographic sort and radix sort, when sorting adjacency list of a tree ?</p>\n"},{"tags":["java","spring-boot","swagger","microservices","openapi"],"comments":[{"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"score":0,"creation_date":1691657690,"post_id":76873952,"comment_id":135522043,"body_markdown":"reference link for more explanation  https://springdoc.org/v1/","body":"reference link for more explanation  <a href=\"https://springdoc.org/v1/\" rel=\"nofollow noreferrer\">springdoc.org/v1</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691677619,"post_id":76873952,"comment_id":135526294,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691732067,"creation_date":1691656611,"answer_id":76873976,"question_id":76873952,"body_markdown":"If you are getting swagger issue using spring fox then read below. \r\nKindly note the compiler version issue as below:\r\n\r\n    49 = Java 5\r\n    50 = Java 6\r\n    51 = Java 7\r\n    52 = Java 8\r\n    53 = Java 9\r\n    54 = Java 10\r\n    55 = Java 11\r\n    56 = Java 12\r\n    57 = Java 13\r\n    58 = Java 14\r\n    59 = Java 15\r\n    60 = Java 16\r\n    61 = Java 17\r\n    62 = Java 18\r\n    63 = Java 19\r\n    64 = Java 20\r\n\r\nif you are using java version 8/11 then below dependency you can use.\r\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\nuse the above dependency and access the api using below sample url.\r\nhttp://localhost:8765/swagger-ui.html\r\n\r\nfor Spring-boot v3 (Java 17 &amp; Jakarta EE 9)\r\n \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n","title":"Spring boot swagger or open api integration error in new version 2.6.0+","body":"<p>If you are getting swagger issue using spring fox then read below.\nKindly note the compiler version issue as below:</p>\n<pre><code>49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n64 = Java 20\n</code></pre>\n<p>if you are using java version 8/11 then below dependency you can use.\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>use the above dependency and access the api using below sample url.\nhttp://localhost:8765/swagger-ui.html</p>\n<p>for Spring-boot v3 (Java 17 &amp; Jakarta EE 9)</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691732205,"creation_date":1691656345,"question_id":76873952,"body_markdown":"    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nwhile using swagger for my application which is having version issue while running the application.\r\n\r\n\r\nCaused by: java.lang.UnsupportedClassVersionError: org/springdoc/core/conditions/MultipleOpenApiSupportCondition has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes\r\n\r\nwe tried changing java version java 8 to java 11 but not working due to class file version issues.\r\n\r\ntried lowering the spring boot version then also it wont work.","title":"Spring boot swagger or open api integration error in new version 2.6.0+","body":"<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>while using swagger for my application which is having version issue while running the application.</p>\n<p>Caused by: java.lang.UnsupportedClassVersionError: org/springdoc/core/conditions/MultipleOpenApiSupportCondition has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes</p>\n<p>we tried changing java version java 8 to java 11 but not working due to class file version issues.</p>\n<p>tried lowering the spring boot version then also it wont work.</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1527749907,"post_id":50618350,"comment_id":88246510,"body_markdown":"You also need the proper configuration including the `@EnableSwagger2` annotation as mentioned in the article. Do you have those, and if so, could you post that in your question as well?","body":"You also need the proper configuration including the <code>@EnableSwagger2</code> annotation as mentioned in the article. Do you have those, and if so, could you post that in your question as well?"},{"owner":{"account_id":4450802,"reputation":1076,"user_id":4608329,"accept_rate":38,"display_name":"pkgajulapalli"},"score":0,"creation_date":1527749963,"post_id":50618350,"comment_id":88246544,"body_markdown":"Did you add the swaggerconfiguration?","body":"Did you add the swaggerconfiguration?"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1527749970,"post_id":50618350,"comment_id":88246549,"body_markdown":"spring-security-rest is not applicable for you","body":"spring-security-rest is not applicable for you"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1602594057,"post_id":50618350,"comment_id":113764952,"body_markdown":"Duplicate : https://stackoverflow.com/a/64333853/410439","body":"Duplicate : <a href=\"https://stackoverflow.com/a/64333853/410439\">stackoverflow.com/a/64333853/410439</a>"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1629279873,"post_id":50618350,"comment_id":121642761,"body_markdown":"Does this answer your question? [Added Springfox Swagger-UI and it&#39;s not working, what am I missing?](https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing\">Added Springfox Swagger-UI and it&#39;s not working, what am I missing?</a>"},{"owner":{"account_id":10142585,"reputation":904,"user_id":7491837,"accept_rate":49,"display_name":"Adriano"},"score":0,"creation_date":1629708445,"post_id":50618350,"comment_id":121748504,"body_markdown":"I was looking for an answer but I didn&#39;t notice that I used swagger 3.0 version with different url `swagger-ui/index.html`","body":"I was looking for an answer but I didn&#39;t notice that I used swagger 3.0 version with different url <code>swagger-ui&#47;index.html</code>"},{"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"score":0,"creation_date":1641553793,"post_id":50618350,"comment_id":124839351,"body_markdown":"[See more usefull informations.](https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing)","body":"<a href=\"https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing\">See more usefull informations.</a>"}],"answers":[{"tags":[],"owner":{"account_id":13564075,"reputation":71,"user_id":9784769,"display_name":"Illary Huaylupo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1534434527,"creation_date":1534434527,"answer_id":51880939,"question_id":50618350,"body_markdown":"This worked for me, I used the WebMvcConfigurer instead of the WebMvcConfigurerAdapter because that class is already deprecated.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig implements WebMvcConfigurer {\r\n      @Bean\r\n      public Docket productApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()                \r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.illary.controller&quot;))\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build()            \r\n\t\t\t\t.apiInfo(metaData());\r\n      }\r\n      private ApiInfo metaData() {\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Spring Boot Swagger App&quot;)\r\n                .description(&quot;\\&quot;Spring Boot Swagger Server App\\&quot;&quot;)\r\n                .version(&quot;1.0.0&quot;)\r\n                .license(&quot;Apache License Version 2.0&quot;)\r\n                .licenseUrl(&quot;https://www.apache.org/licenses/LICENSE-2.0\\&quot;&quot;)\r\n                .build();\r\n      }\r\n\r\n\t  public ApiInfo apiInfo() {\r\n\t\tfinal ApiInfoBuilder builder = new ApiInfoBuilder();\r\n\t\tbuilder.title(&quot;Swagger Test App&quot;).version(&quot;1.0&quot;).license(&quot;(C) Copyright Test&quot;)\r\n\t\t.description(&quot;The API provides a platform to query build test swagger api&quot;);\r\n\r\n\t\treturn builder.build();\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n\t\tregistry.addResourceHandler(&quot;/webjars/**&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t  }\r\n    }","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>This worked for me, I used the WebMvcConfigurer instead of the WebMvcConfigurerAdapter because that class is already deprecated.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig implements WebMvcConfigurer {\n  @Bean\n  public Docket productApi() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()                \n            .apis(RequestHandlerSelectors.basePackage(\"com.illary.controller\"))\n            .paths(PathSelectors.any())\n            .build()            \n            .apiInfo(metaData());\n  }\n  private ApiInfo metaData() {\n    return new ApiInfoBuilder()\n            .title(\"Spring Boot Swagger App\")\n            .description(\"\\\"Spring Boot Swagger Server App\\\"\")\n            .version(\"1.0.0\")\n            .license(\"Apache License Version 2.0\")\n            .licenseUrl(\"https://www.apache.org/licenses/LICENSE-2.0\\\"\")\n            .build();\n  }\n\n  public ApiInfo apiInfo() {\n    final ApiInfoBuilder builder = new ApiInfoBuilder();\n    builder.title(\"Swagger Test App\").version(\"1.0\").license(\"(C) Copyright Test\")\n    .description(\"The API provides a platform to query build test swagger api\");\n\n    return builder.build();\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"swagger-ui.html\")\n    .addResourceLocations(\"classpath:/META-INF/resources/\");\n\n    registry.addResourceHandler(\"/webjars/**\")\n    .addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1559836226,"creation_date":1536828195,"answer_id":52309864,"question_id":50618350,"body_markdown":"I was able to make it work with Spring boot version `2.0.4.RELEASE` and [this blog post][1]:\r\n\r\n\r\nI added these dependencies:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nAnd this configuration file:\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n        @Bean\r\n        public Docket apiDocket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nAnd it worked.\r\n\r\nThe Swagger UI can be reached at &lt;domain&gt;/swagger-ui.html#\r\n\r\n  [1]: https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I was able to make it work with Spring boot version <code>2.0.4.RELEASE</code> and <a href=\"https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\" rel=\"noreferrer\">this blog post</a>:</p>\n\n<p>I added these dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And this configuration file:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n    @Bean\n    public Docket apiDocket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n\n<p>And it worked.</p>\n\n<p>The Swagger UI can be reached at /swagger-ui.html#</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1550138585,"creation_date":1550138585,"answer_id":54687746,"question_id":50618350,"body_markdown":"It became working for me after removing  `@EnableWebMvc`","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>It became working for me after removing  <code>@EnableWebMvc</code></p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558591636,"creation_date":1558591636,"answer_id":56268967,"question_id":50618350,"body_markdown":"Another possibility is the location of your Swagger config file; you need to place it at the same package or a subpackage of the spring boot file&#39;s.\r\nLike the above picture:\r\n\r\n[![Swagger config and Spring Boot file hierarchy][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31EeC.png","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Another possibility is the location of your Swagger config file; you need to place it at the same package or a subpackage of the spring boot file's.\nLike the above picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/31EeC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31EeC.png\" alt=\"Swagger config and Spring Boot file hierarchy\"></a></p>\n"},{"tags":[],"owner":{"account_id":9920870,"reputation":535,"user_id":7344033,"display_name":"Exel Staderlin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1577350064,"creation_date":1561526604,"answer_id":56765725,"question_id":50618350,"body_markdown":"First add SwaggerConfig.java file at the same package of your springboot file like the following example.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @EnableWebMvc\r\n    public class SwaggerConfig extends WebMvcConfigurerAdapter {                                    \r\n        @Bean\r\n        public Docket api() { \r\n            return new Docket(DocumentationType.SWAGGER_2)  \r\n              .select()                                  \r\n              .apis(RequestHandlerSelectors.any())              \r\n              .paths(PathSelectors.any())                          \r\n              .build();                                           \r\n        }\r\n\r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n           registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n           .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n    \r\n           registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n           .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n       }\r\n    \r\n    }\r\n\r\ntry this \r\n`http://localhost:8080/spring-security-rest/api/swagger-ui.html`\r\n or \r\n`http://localhost:8080/spring-security-rest/swagger-ui.html`\r\n\r\nIf that does not work, try to change the path in application.properties\r\n\r\nAdd this to application.properties: \r\n\r\n    server.servlet-path=/loop-service\r\n\r\nand try the following urls:\r\n\r\n`http://localhost:8080/loop-service/swagger-ui.html`  (UI Docs)\r\n\r\n`http://localhost:8080/loop-service/v2/api-docs`   (JSON Docs)\r\n\r\n\r\nResult : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NEypp.png","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>First add SwaggerConfig.java file at the same package of your springboot file like the following example.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {                                    \n    @Bean\n    public Docket api() { \n        return new Docket(DocumentationType.SWAGGER_2)  \n          .select()                                  \n          .apis(RequestHandlerSelectors.any())              \n          .paths(PathSelectors.any())                          \n          .build();                                           \n    }\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(\"swagger-ui.html\")\n       .addResourceLocations(\"classpath:/META-INF/resources/\");\n\n       registry.addResourceHandler(\"/webjars/**\")\n       .addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n   }\n\n}\n</code></pre>\n\n<p>try this \n<code>http://localhost:8080/spring-security-rest/api/swagger-ui.html</code>\n or \n<code>http://localhost:8080/spring-security-rest/swagger-ui.html</code></p>\n\n<p>If that does not work, try to change the path in application.properties</p>\n\n<p>Add this to application.properties: </p>\n\n<pre><code>server.servlet-path=/loop-service\n</code></pre>\n\n<p>and try the following urls:</p>\n\n<p><code>http://localhost:8080/loop-service/swagger-ui.html</code>  (UI Docs)</p>\n\n<p><code>http://localhost:8080/loop-service/v2/api-docs</code>   (JSON Docs)</p>\n\n<p>Result : \n<a href=\"https://i.stack.imgur.com/NEypp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NEypp.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569614281,"creation_date":1569593392,"answer_id":58136230,"question_id":50618350,"body_markdown":"Don&#39;t forget to change `server.contextPath` to `server.servlet.contextPath` if you upgrade Spring Boot to 2+. \r\n\r\n\r\n\r\n ","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Don't forget to change <code>server.contextPath</code> to <code>server.servlet.contextPath</code> if you upgrade Spring Boot to 2+. </p>\n"},{"tags":[],"owner":{"account_id":8490518,"reputation":1,"user_id":6367011,"display_name":"O.Dmitry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587723624,"creation_date":1587723624,"answer_id":61406126,"question_id":50618350,"body_markdown":"**Solution:** You just need to remove *@EnableWebMvc* from the configuration classes.\r\n\r\n**Description:** *@EnableWebMvc* turn on the class *org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport*. In spring-boot, there is an autoconfiguration class *org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration*, which has the annotation *@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)*.\r\n\r\nWhat we get in the end: By adding *@EnableWebMvc* to the project, we ourselves become responsible for everything, since we turn off spring-boot auto-configuration.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p><strong>Solution:</strong> You just need to remove <em>@EnableWebMvc</em> from the configuration classes.</p>\n\n<p><strong>Description:</strong> <em>@EnableWebMvc</em> turn on the class <em>org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport</em>. In spring-boot, there is an autoconfiguration class <em>org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration</em>, which has the annotation <em>@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</em>.</p>\n\n<p>What we get in the end: By adding <em>@EnableWebMvc</em> to the project, we ourselves become responsible for everything, since we turn off spring-boot auto-configuration.</p>\n"},{"tags":[],"owner":{"account_id":5157394,"reputation":51,"user_id":4130245,"display_name":"SatyaRajC"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599161945,"creation_date":1599161945,"answer_id":63730573,"question_id":50618350,"body_markdown":"Faced same issue just resolved with change in dependency\r\nRefer https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\r\n\r\ncompile &quot;io.springfox:springfox-swagger2:2.9.2&quot;\r\n\r\nPreviously was using - Not working\r\n\r\ncompile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;3.0.0&#39;\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Faced same issue just resolved with change in dependency\nRefer <a href=\"https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\" rel=\"nofollow noreferrer\">https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/</a></p>\n<p>compile &quot;io.springfox:springfox-swagger2:2.9.2&quot;</p>\n<p>Previously was using - Not working</p>\n<p>compile group: 'io.springfox', name: 'springfox-swagger2', version: '3.0.0'</p>\n"},{"tags":[],"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608747903,"creation_date":1608747903,"answer_id":65429130,"question_id":50618350,"body_markdown":"After adding below line in `application.properties`, it started working \r\n```\r\nspring.web.resources.static-locations: classpath:/webapp/\r\n```\r\n\r\nBut I&#39;m not sure why do we have to add this. \r\nAdding the code, which I think could be relevant. Dependencies are as below: \r\n\r\n```xml \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Swagger Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nAnd main class as\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@SpringBootApplication\r\n@EnableSwagger2\r\npublic class ProxyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ProxyApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.ghsatpute.proxy&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n}\r\n```","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>After adding below line in <code>application.properties</code>, it started working</p>\n<pre><code>spring.web.resources.static-locations: classpath:/webapp/\n</code></pre>\n<p>But I'm not sure why do we have to add this.\nAdding the code, which I think could be relevant. Dependencies are as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Swagger Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And main class as</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@SpringBootApplication\n@EnableSwagger2\npublic class ProxyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProxyApplication.class, args);\n    }\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.ghsatpute.proxy&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612079802,"creation_date":1612079112,"answer_id":65976817,"question_id":50618350,"body_markdown":"Adding this if it can help somebody. This URL worked for me\r\n\r\n    http://localhost:8003/v2/api-docs\r\n\r\nand for swagger-ui this url worked for me out of the box:\r\n\r\n    http://localhost:8003/swagger-ui.html \r\n\r\nCheck if you are using right configured url for swagger specs. The urls like `http://localhost:8080/spring-security-rest/api/swagger-ui/`\r\n\r\ndidn&#39;t work , and I had been getting 404.\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Adding this if it can help somebody. This URL worked for me</p>\n<pre><code>http://localhost:8003/v2/api-docs\n</code></pre>\n<p>and for swagger-ui this url worked for me out of the box:</p>\n<pre><code>http://localhost:8003/swagger-ui.html \n</code></pre>\n<p>Check if you are using right configured url for swagger specs. The urls like <code>http://localhost:8080/spring-security-rest/api/swagger-ui/</code></p>\n<p>didn't work , and I had been getting 404.</p>\n"},{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613826368,"creation_date":1613653259,"answer_id":66260503,"question_id":50618350,"body_markdown":"I also had the same issue (404 Not Found with springfox 3.0.0). By setting the logging level to &quot;DEBUG&quot;, I was able to see endpoints for `/v3/api-docs` and they worked, but there was nothing about &quot;swagger-ui&quot;.\r\n\r\nI finally found https://github.com/springfox/springfox/issues/3285, which indicates that:\r\n\r\n&gt; the new url in 3.0.0 is /swagger-ui/index.html or /swagger-ui/ rather than /swagger-ui.html&quot;\r\n\r\nCould they not have added a debug log to indicate where the swagger UI is available?","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I also had the same issue (404 Not Found with springfox 3.0.0). By setting the logging level to &quot;DEBUG&quot;, I was able to see endpoints for <code>/v3/api-docs</code> and they worked, but there was nothing about &quot;swagger-ui&quot;.</p>\n<p>I finally found <a href=\"https://github.com/springfox/springfox/issues/3285\" rel=\"noreferrer\">https://github.com/springfox/springfox/issues/3285</a>, which indicates that:</p>\n<blockquote>\n<p>the new url in 3.0.0 is /swagger-ui/index.html or /swagger-ui/ rather than /swagger-ui.html&quot;</p>\n</blockquote>\n<p>Could they not have added a debug log to indicate where the swagger UI is available?</p>\n"},{"tags":[],"owner":{"account_id":16875349,"reputation":393,"user_id":12202904,"display_name":"doct0re"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1654686393,"creation_date":1614671651,"answer_id":66435357,"question_id":50618350,"body_markdown":"Please check the reference: https://springfox.github.io/springfox/docs/current/\r\n\r\n&quot;2.1.3. Migrating from existing 2.x version&quot;\r\n\r\nYou can remove springfox-swagger2 and springfox-swagger-ui from your pom.xml and add springfox-boot-starter instead (for example version 3.0.0). Also you can remove the @EnableSwagger2 annotations \r\n\r\nAnd: &quot;**swagger-ui location has moved from** *https://host/context-path/swagger-ui.html* **to** *https://host/context-path/swagger-ui/index.html* OR *https://host/context-path/swagger-ui/* for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Please check the reference: <a href=\"https://springfox.github.io/springfox/docs/current/\" rel=\"noreferrer\">https://springfox.github.io/springfox/docs/current/</a></p>\n<p>&quot;2.1.3. Migrating from existing 2.x version&quot;</p>\n<p>You can remove springfox-swagger2 and springfox-swagger-ui from your pom.xml and add springfox-boot-starter instead (for example version 3.0.0). Also you can remove the @EnableSwagger2 annotations</p>\n<p>And: &quot;<strong>swagger-ui location has moved from</strong> <em>https://host/context-path/swagger-ui.html</em> <strong>to</strong> <em>https://host/context-path/swagger-ui/index.html</em> OR <em>https://host/context-path/swagger-ui/</em> for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1662814446,"creation_date":1625680539,"answer_id":68290972,"question_id":50618350,"body_markdown":"## OpenAPI\r\n\r\nJust use **springdoc-openapi-ui** instead.\r\n\r\nThe Maven dependency:\r\n\r\n```json\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n     &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n     &lt;version&gt;1.6.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr Gradle:\r\n\r\n```groovy\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.11&#39;\r\n```\r\n\r\n### Links\r\n\r\n- UI: [http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)\r\n\r\n- Json: [http://localhost:8080/v3/api-docs](http://localhost:8080/v3/api-docs)\r\n\r\n- Yaml: [http://localhost:8080/v3/api-docs.yaml](http://localhost:8080/v3/api-docs.yaml)\r\n\r\n**That&#39;s really all there is to it... No annotations / configuration needed. Cheers!**\r\n\r\n### For Spring Security\r\n\r\nIf you are using **spring security**, make sure you can reach these paths for it to work:\r\n\r\n- &quot;/swagger-ui.html&quot; `&lt;-- for UI`\r\n- &quot;/swagger-ui/**&quot; `&lt;-- for UI redirects`\r\n- &quot;/v3/api-docs/**&quot; `&lt;-- for json docs and openapi configuration`\r\n- &quot;/v3/api-docs.yaml&quot; `&lt;-- for yaml docs`\r\n\r\nFor more information:\r\nhttps://www.baeldung.com/spring-rest-openapi-documentation","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<h2>OpenAPI</h2>\n<p>Just use <strong>springdoc-openapi-ui</strong> instead.</p>\n<p>The Maven dependency:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n     &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n     &lt;version&gt;1.6.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or Gradle:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.11'\n</code></pre>\n<h3>Links</h3>\n<ul>\n<li><p>UI: <a href=\"http://localhost:8080/swagger-ui.html\" rel=\"noreferrer\">http://localhost:8080/swagger-ui.html</a></p>\n</li>\n<li><p>Json: <a href=\"http://localhost:8080/v3/api-docs\" rel=\"noreferrer\">http://localhost:8080/v3/api-docs</a></p>\n</li>\n<li><p>Yaml: <a href=\"http://localhost:8080/v3/api-docs.yaml\" rel=\"noreferrer\">http://localhost:8080/v3/api-docs.yaml</a></p>\n</li>\n</ul>\n<p><strong>That's really all there is to it... No annotations / configuration needed. Cheers!</strong></p>\n<h3>For Spring Security</h3>\n<p>If you are using <strong>spring security</strong>, make sure you can reach these paths for it to work:</p>\n<ul>\n<li>&quot;/swagger-ui.html&quot; <code>&lt;-- for UI</code></li>\n<li>&quot;/swagger-ui/**&quot; <code>&lt;-- for UI redirects</code></li>\n<li>&quot;/v3/api-docs/**&quot; <code>&lt;-- for json docs and openapi configuration</code></li>\n<li>&quot;/v3/api-docs.yaml&quot; <code>&lt;-- for yaml docs</code></li>\n</ul>\n<p>For more information:\n<a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"noreferrer\">https://www.baeldung.com/spring-rest-openapi-documentation</a></p>\n"},{"tags":[],"owner":{"account_id":8643705,"reputation":613,"user_id":6471600,"display_name":"Thales Valias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626032938,"creation_date":1626032938,"answer_id":68339506,"question_id":50618350,"body_markdown":"For Spring Boot, just use the dependency below, it&#39;s all it needs to work on the URL `/swagger-ui/` (the trailing slash is mandatory).\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore trying that I was trying to use the classic dependencies of *swagger2* and *swagger-ui*, and none of the suggested URLs were working.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>For Spring Boot, just use the dependency below, it's all it needs to work on the URL <code>/swagger-ui/</code> (the trailing slash is mandatory).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Before trying that I was trying to use the classic dependencies of <em>swagger2</em> and <em>swagger-ui</em>, and none of the suggested URLs were working.</p>\n"},{"tags":[],"owner":{"account_id":16333527,"reputation":66,"user_id":11796286,"display_name":"goku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626109128,"creation_date":1626108266,"answer_id":68351072,"question_id":50618350,"body_markdown":"Below are the steps to enable swagger in spring boot application:\r\n1) Add **springfox-swagger2** and **springfox-swagger-ui** dependencies.\r\n2) To enable the Swagger2 in your project you should use **@EnableSwagger2**\r\n3) Define a docket bean ad below\r\n```java\r\n\r\n        @Bean\r\n        public Docket docket(){\r\n                return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;group-name&quot;).apiInfo(apiInfo()).select().paths(predicate()).build();\r\n        }\r\n\r\n\r\n        private Predicate&lt;String&gt; predicate() {\r\n        \t\treturn or(regex(&quot;/api/v1.*&quot;), regex(&quot;/api/v2.*&quot;));\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n        \treturn new ApiInfoBuilder().title(&quot;The title of the your choice&quot;)\r\n        \t\t\t.contact(&quot;your@email.com&quot;).license(&quot;Licence name &quot;).version(&quot;1.0&quot;).build();\r\n        }\r\n    ","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Below are the steps to enable swagger in spring boot application:</p>\n<ol>\n<li>Add <strong>springfox-swagger2</strong> and <strong>springfox-swagger-ui</strong> dependencies.</li>\n<li>To enable the Swagger2 in your project you should use <strong>@EnableSwagger2</strong></li>\n<li>Define a docket bean ad below</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\n        @Bean\n        public Docket docket(){\n                return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;group-name&quot;).apiInfo(apiInfo()).select().paths(predicate()).build();\n        }\n\n\n        private Predicate&lt;String&gt; predicate() {\n                return or(regex(&quot;/api/v1.*&quot;), regex(&quot;/api/v2.*&quot;));\n        }\n    \n        private ApiInfo apiInfo() {\n            return new ApiInfoBuilder().title(&quot;The title of the your choice&quot;)\n                    .contact(&quot;your@email.com&quot;).license(&quot;Licence name &quot;).version(&quot;1.0&quot;).build();\n        }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634745165,"creation_date":1634745165,"answer_id":69649249,"question_id":50618350,"body_markdown":"Swagger UI url pattern:\r\n```localhost:&lt;server.port&gt;/&lt;server.servlet.context-path&gt;/swagger-ui.html```","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Swagger UI url pattern:\n<code>localhost:&lt;server.port&gt;/&lt;server.servlet.context-path&gt;/swagger-ui.html</code></p>\n"},{"tags":[],"owner":{"account_id":10619430,"reputation":334,"user_id":7820989,"display_name":"Kushal Arya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638428425,"creation_date":1638428425,"answer_id":70195274,"question_id":50618350,"body_markdown":"Springfox swagger UI opens at path `/swagger-ui/index.html`. \r\n\r\nMake sure you are allowing correct *ResourceLocations* and *path excluded from interceptors*\r\n\r\n```\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t}\r\n```\r\n\r\nNote: i&#39;m using Springfox swagger version 3.0.0 and Springboot version 2.5.3","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Springfox swagger UI opens at path <code>/swagger-ui/index.html</code>.</p>\n<p>Make sure you are allowing correct <em>ResourceLocations</em> and <em>path excluded from interceptors</em></p>\n<pre><code>    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n</code></pre>\n<p>Note: i'm using Springfox swagger version 3.0.0 and Springboot version 2.5.3</p>\n"},{"tags":[],"owner":{"account_id":5379233,"reputation":84,"user_id":4285038,"display_name":"Hasitha Lakshan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641350776,"creation_date":1641350776,"answer_id":70587253,"question_id":50618350,"body_markdown":"I was stuck for a day with this issue. My issue was incorrect port configuration. Check your `application.yml/application.properties` file for port configuration. There I had mistakenly added both\r\n`server.port , management.server.port` with different values &#129315; .","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I was stuck for a day with this issue. My issue was incorrect port configuration. Check your <code>application.yml/application.properties</code> file for port configuration. There I had mistakenly added both\n<code>server.port , management.server.port</code> with different values 🤣 .</p>\n"},{"tags":[],"owner":{"account_id":10811853,"reputation":75,"user_id":7952215,"display_name":"Piratenlulatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657179934,"creation_date":1657179934,"answer_id":72894049,"question_id":50618350,"body_markdown":"For anyone still looking for this, using OpenAPI 3.0, not Springfox, I got it running using `WebMvcConfigurationSupport` without the need of `@EnableWebMvc`.\r\nThe only Dependency needed:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nI initially just got the JSON and a 404 on the UI.\r\n\r\nWhat ultimately worked was adding the right resource handlers to my `WebConfig` and configuring my `SecurityConfig` to allow unrestricted access for everyone.\r\n\r\nThe resource handlers in my `WebConfig`:\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \tregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-initializer.js&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.html&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui.css&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.css&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-bundle.js&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-standalone-preset.js&quot;);\r\n    }\r\nImportant was to add each one specifically (with version and everything, ** didn&#39;t work). Otherwise it wouldn&#39;t run in the cloud.\r\n\r\nI also needed to add the paths `&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;` my `SecurityConfig` to allow access to these resources. So in my case I added those here:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.addFilterBefore(...\r\n           .authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;)...\r\n    }\r\n\r\nand:\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().antMatchers(HttpMethod.GET, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;);\r\n    }\r\n\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>For anyone still looking for this, using OpenAPI 3.0, not Springfox, I got it running using <code>WebMvcConfigurationSupport</code> without the need of <code>@EnableWebMvc</code>.\nThe only Dependency needed:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I initially just got the JSON and a 404 on the UI.</p>\n<p>What ultimately worked was adding the right resource handlers to my <code>WebConfig</code> and configuring my <code>SecurityConfig</code> to allow unrestricted access for everyone.</p>\n<p>The resource handlers in my <code>WebConfig</code>:</p>\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-initializer.js&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.html&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui.css&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.css&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-bundle.js&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-standalone-preset.js&quot;);\n}\n</code></pre>\n<p>Important was to add each one specifically (with version and everything, ** didn't work). Otherwise it wouldn't run in the cloud.</p>\n<p>I also needed to add the paths <code>&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;</code> my <code>SecurityConfig</code> to allow access to these resources. So in my case I added those here:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.addFilterBefore(...\n       .authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;)...\n}\n</code></pre>\n<p>and:</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(HttpMethod.GET, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15861026,"reputation":1,"user_id":11444147,"display_name":"Erfan Akhavan Rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680205161,"creation_date":1680205161,"answer_id":75892327,"question_id":50618350,"body_markdown":"I had the same issue.\r\nAll I had to do was downgrading the Swagger-UI and SpringFox dependencies from 3.0.0 to 2.9.2 version.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I had the same issue.\nAll I had to do was downgrading the Swagger-UI and SpringFox dependencies from 3.0.0 to 2.9.2 version.</p>\n"},{"tags":[],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691731930,"creation_date":1691731930,"answer_id":76880903,"question_id":50618350,"body_markdown":" Kindly note the compiler version issue as below:\r\n\r\n    49 = Java 5\r\n    50 = Java 6\r\n    51 = Java 7\r\n    52 = Java 8\r\n    53 = Java 9\r\n    54 = Java 10\r\n    55 = Java 11\r\n    56 = Java 12\r\n    57 = Java 13\r\n    58 = Java 14\r\n    59 = Java 15\r\n    60 = Java 16\r\n    61 = Java 17\r\n    62 = Java 18\r\n    63 = Java 19\r\n    64 = Java 20\r\n\r\nif you are using java version 8/11 then below dependency you can use.\r\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\nuse the above dependency and access the api using below sample url.\r\nhttp://localhost:8765/swagger-ui.html\r\n\r\nfor Spring-boot v3 (Java 17 &amp; Jakarta EE 9)\r\n \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Kindly note the compiler version issue as below:</p>\n<pre><code>49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n64 = Java 20\n</code></pre>\n<p>if you are using java version 8/11 then below dependency you can use.\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>use the above dependency and access the api using below sample url.\nhttp://localhost:8765/swagger-ui.html</p>\n<p>for Spring-boot v3 (Java 17 &amp; Jakarta EE 9)</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113466,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":52309864,"answer_count":21,"score":36,"last_activity_date":1691731930,"creation_date":1527749582,"question_id":50618350,"body_markdown":"I&#39;m trying to integrate my Spring Boot version  `2.0.1.RELEASE` with [Swagger][1].\r\n\r\nFrom this [blog post][2]  it seemed like it will be easy by just adding two Maven dependencies and everything should work.\r\n\r\nSo I added the following dependencies to the pom:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd created the `SwaggerConfig` bean:\r\n\r\n```java\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        Docket docket = new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n        return docket;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd in the properties file I ended up with these 3 entries during the attempts to make it work:\r\n\r\n```yaml\r\nspring.application.name=cat-service\r\nmanagement.server.servlet.context-path=/cat-service\r\nserver.servlet.contextPath=/cat-service\r\n```\r\n\r\nBut at the end, when accessing\r\n\r\n `http://localhost:8080/cat-service/api/v2/api-docs` \r\n\r\nor the UI page at \r\n\r\n`http://localhost:8080/cat-service/swagger-ui.html` \r\n\r\nI get  a `page not found` error.\r\n\r\nI found [this issues in the swagger github page][3]  and [this question in stackoverflow][4]  but I was not able to change my `404` error.\r\n\r\n\r\n  [1]: https://swagger.io/\r\n  [2]: http://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n  [3]: https://github.com/springfox/springfox/issues/2155\r\n  [4]: https://stackoverflow.com/questions/49586658/spring-boot-2-0-with-swagger-ui-not-working-properly","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I'm trying to integrate my Spring Boot version  <code>2.0.1.RELEASE</code> with <a href=\"https://swagger.io/\" rel=\"noreferrer\">Swagger</a>.</p>\n<p>From this <a href=\"http://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"noreferrer\">blog post</a>  it seemed like it will be easy by just adding two Maven dependencies and everything should work.</p>\n<p>So I added the following dependencies to the pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And created the <code>SwaggerConfig</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        Docket docket = new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n        return docket;\n    }\n}\n</code></pre>\n<p>And in the properties file I ended up with these 3 entries during the attempts to make it work:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.application.name=cat-service\nmanagement.server.servlet.context-path=/cat-service\nserver.servlet.contextPath=/cat-service\n</code></pre>\n<p>But at the end, when accessing</p>\n<p><code>http://localhost:8080/cat-service/api/v2/api-docs</code></p>\n<p>or the UI page at</p>\n<p><code>http://localhost:8080/cat-service/swagger-ui.html</code></p>\n<p>I get  a <code>page not found</code> error.</p>\n<p>I found <a href=\"https://github.com/springfox/springfox/issues/2155\" rel=\"noreferrer\">this issues in the swagger github page</a>  and <a href=\"https://stackoverflow.com/questions/49586658/spring-boot-2-0-with-swagger-ui-not-working-properly\">this question in stackoverflow</a>  but I was not able to change my <code>404</code> error.</p>\n"},{"tags":["java","selenium-webdriver","testing","selenium-chromedriver","automated-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1691706830,"post_id":76874060,"comment_id":135531804,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1691715473,"post_id":76874060,"comment_id":135532628,"body_markdown":"check the typo here: `//div[@role=&#39;buttone&#39;]`","body":"check the typo here: <code>&#47;&#47;div[@role=&#39;buttone&#39;]</code>"}],"owner":{"account_id":6043568,"reputation":169,"user_id":8642891,"display_name":"Miklosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691731764,"creation_date":1691657218,"question_id":76874060,"body_markdown":"Currently working on google pay integration test automation and got stuck with element location problem.\r\nGoogle payment flow opens in separate window which I managed by finding proper handle in session\r\n```\r\ndriver.switchTo().window(googlePayWindowHandle);\r\n```\r\nafter after i got transferred to the page where i need to click on the &quot;Continue&quot; buttone and there are few tricks with it:\r\n - it&#39;s in the iframe which i managed by moving to the proper frame \r\n \r\n```\r\nWebElement iframe = checkPresenceOfElementWithWait(driver, By.name(&quot;sM432dIframe&quot;), WAIT_DURATION);\r\nWebDriver frameDriver = driver.switchTo().frame(iframe);\r\n```\r\n - button i need to click is a div with role=&quot;buttone&quot;.\r\nAs per other articles i&#39;ve tried locating button element with wait for it to be clickable \r\n```\r\nWebDriverWait frameWait = new WebDriverWait(frameDriver, WAIT_DURATION);\r\nWebElement element = frameWait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role=&#39;button&#39;]&quot;)));\r\n```\r\nBut it always fail with error \r\n```\r\nTimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //div[@role=&#39;buttone&#39;]\r\n```\r\nalso i tried another approaches like using **waitForElementPresence** and it seems that selenium cannot locate the element inside the iframe. To make sure that button is within the frame i entered chrome console and searched by xPath and it worked.\r\n\r\nP.S.:\r\nalso tried javascript executor and still no luck. ","title":"Selenium can&#39;t click div button inside google pay iframe","body":"<p>Currently working on google pay integration test automation and got stuck with element location problem.\nGoogle payment flow opens in separate window which I managed by finding proper handle in session</p>\n<pre><code>driver.switchTo().window(googlePayWindowHandle);\n</code></pre>\n<p>after after i got transferred to the page where i need to click on the &quot;Continue&quot; buttone and there are few tricks with it:</p>\n<ul>\n<li>it's in the iframe which i managed by moving to the proper frame</li>\n</ul>\n<pre><code>WebElement iframe = checkPresenceOfElementWithWait(driver, By.name(&quot;sM432dIframe&quot;), WAIT_DURATION);\nWebDriver frameDriver = driver.switchTo().frame(iframe);\n</code></pre>\n<ul>\n<li>button i need to click is a div with role=&quot;buttone&quot;.\nAs per other articles i've tried locating button element with wait for it to be clickable</li>\n</ul>\n<pre><code>WebDriverWait frameWait = new WebDriverWait(frameDriver, WAIT_DURATION);\nWebElement element = frameWait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role='button']&quot;)));\n</code></pre>\n<p>But it always fail with error</p>\n<pre><code>TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //div[@role='buttone']\n</code></pre>\n<p>also i tried another approaches like using <strong>waitForElementPresence</strong> and it seems that selenium cannot locate the element inside the iframe. To make sure that button is within the frame i entered chrome console and searched by xPath and it worked.</p>\n<p>P.S.:\nalso tried javascript executor and still no luck.</p>\n"},{"tags":["java","httpclient","connection-pooling","socket-timeout-exception"],"owner":{"account_id":27891295,"reputation":25,"user_id":21297617,"display_name":"ketan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691729176,"creation_date":1691729176,"question_id":76880740,"body_markdown":"I am facing an issue while using PoolingHttpClientConnectionManager in my Java application. I have a scenario where I need to handle socket timeout exceptions for some endpoints that might not respond in time. However, I&#39;m observing unexpected behavior when using a shared connection manager versus creating a new connection manager each time.\r\n\r\nHere&#39;s my code snippet:\r\n\r\n&#39;&#39;&#39;\r\n\r\n\tprivate static PoolingHttpClientConnectionManager connectionManager = null;\r\n\r\n\tstatic {\r\n\t\tconnectionManager = getPoolingHttpClientConnectionManager();\r\n\t}\r\n\r\n\tpublic static PoolingHttpClientConnectionManager getPoolingHttpClientConnectionManager() {\r\n\t\tPoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n\t\tconnectionManager.setDefaultConnectionConfig(getConnectionConfig());\r\n\t\treturn connectionManager;\r\n\t}\r\n\r\n\tpublic static CloseableHttpClient getHttpClientObject(Credential credentials, String url) {\r\n\t\tBasicCredentialsProvider credentialsProvider = getCredentialProvider(credentials, url);\r\n\t\tRegistry&lt;AuthSchemeFactory&gt; authSchemeRegistry = getAuthSchemeRegistry();\r\n\t\tRequestConfig requestConfig = getRequestConfig();\r\n\t\t/*\r\n\t\t * PoolingHttpClientConnectionManager connectionManager =\r\n\t\t * getPoolingHttpClientConnectionManager();\r\n\t\t */\r\n\t\tHttpClientBuilder httpClientBuilder = HttpClients.custom()\r\n\t\t\t\t.setConnectionManager(connectionManager) // Using shared connection manager\r\n\t\t\t\t.setDefaultAuthSchemeRegistry(authSchemeRegistry)\r\n\t\t\t\t.setConnectionManagerShared(true) // Setting connection manager as shared\r\n\t\t\t\t.setDefaultRequestConfig(requestConfig);\r\n\r\n\t\tif (null != credentialsProvider) {\r\n\t\t\thttpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t}\r\n\r\n\t\tCloseableHttpClient httpClient = httpClientBuilder.build();\r\n\r\n\t\treturn httpClient;\r\n\t}\r\n\r\n\tpublic static ConnectionConfig getConnectionConfig() {\r\n\r\n\t\tConnectionConfig connectionConfig = null;\r\n\r\n\t\tconnectionConfig = ConnectionConfig.custom()\r\n\t\t\t\t.setConnectTimeout(Timeout.of(4000, TimeUnit.MILLISECONDS))\r\n\t\t\t\t.setSocketTimeout(Timeout.of(1000, TimeUnit.MILLISECONDS))\r\n\t\t\t\t.build();\r\n\t\treturn connectionConfig;\r\n\t}\r\n\r\n&#39;&#39;&#39;\r\n\r\nWhen I use the shared connection manager, I don&#39;t get the expected socket timeout exception for endpoints that don&#39;t respond. However, if I uncomment the line to create a new connection manager each time, I do get the socket timeout exception as expected.\r\n\r\nCould someone help me understand why this behavior is happening? What might be going wrong when I use a shared connection manager? Is there a way to make the shared connection manager work as expected with socket timeout exceptions?\r\n\r\nThank you in advance for any insights or suggestions!","title":"Issue with Socket Timeout Exception when using shared PoolingHttpClientConnectionManager","body":"<p>I am facing an issue while using PoolingHttpClientConnectionManager in my Java application. I have a scenario where I need to handle socket timeout exceptions for some endpoints that might not respond in time. However, I'm observing unexpected behavior when using a shared connection manager versus creating a new connection manager each time.</p>\n<p>Here's my code snippet:</p>\n<p>'''</p>\n<pre><code>private static PoolingHttpClientConnectionManager connectionManager = null;\n\nstatic {\n    connectionManager = getPoolingHttpClientConnectionManager();\n}\n\npublic static PoolingHttpClientConnectionManager getPoolingHttpClientConnectionManager() {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setDefaultConnectionConfig(getConnectionConfig());\n    return connectionManager;\n}\n\npublic static CloseableHttpClient getHttpClientObject(Credential credentials, String url) {\n    BasicCredentialsProvider credentialsProvider = getCredentialProvider(credentials, url);\n    Registry&lt;AuthSchemeFactory&gt; authSchemeRegistry = getAuthSchemeRegistry();\n    RequestConfig requestConfig = getRequestConfig();\n    /*\n     * PoolingHttpClientConnectionManager connectionManager =\n     * getPoolingHttpClientConnectionManager();\n     */\n    HttpClientBuilder httpClientBuilder = HttpClients.custom()\n            .setConnectionManager(connectionManager) // Using shared connection manager\n            .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n            .setConnectionManagerShared(true) // Setting connection manager as shared\n            .setDefaultRequestConfig(requestConfig);\n\n    if (null != credentialsProvider) {\n        httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n    }\n\n    CloseableHttpClient httpClient = httpClientBuilder.build();\n\n    return httpClient;\n}\n\npublic static ConnectionConfig getConnectionConfig() {\n\n    ConnectionConfig connectionConfig = null;\n\n    connectionConfig = ConnectionConfig.custom()\n            .setConnectTimeout(Timeout.of(4000, TimeUnit.MILLISECONDS))\n            .setSocketTimeout(Timeout.of(1000, TimeUnit.MILLISECONDS))\n            .build();\n    return connectionConfig;\n}\n</code></pre>\n<p>'''</p>\n<p>When I use the shared connection manager, I don't get the expected socket timeout exception for endpoints that don't respond. However, if I uncomment the line to create a new connection manager each time, I do get the socket timeout exception as expected.</p>\n<p>Could someone help me understand why this behavior is happening? What might be going wrong when I use a shared connection manager? Is there a way to make the shared connection manager work as expected with socket timeout exceptions?</p>\n<p>Thank you in advance for any insights or suggestions!</p>\n"},{"tags":["java","macos","gradle","javafx"],"comments":[{"owner":{"account_id":20832881,"reputation":63,"user_id":15301757,"display_name":"Jaster_Master"},"score":0,"creation_date":1673970362,"post_id":75147224,"comment_id":132612602,"body_markdown":"Did you already google your problem? I also found the exception here: https://stackoverflow.com/questions/65737055/javafx-web-11-error-initializing-quantumrenderer-no-suitable-pipeline-found","body":"Did you already google your problem? I also found the exception here: <a href=\"https://stackoverflow.com/questions/65737055/javafx-web-11-error-initializing-quantumrenderer-no-suitable-pipeline-found\" title=\"javafx web 11 error initializing quantumrenderer no suitable pipeline found\">stackoverflow.com/questions/65737055/&hellip;</a>"},{"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"score":0,"creation_date":1673972156,"post_id":75147224,"comment_id":132613305,"body_markdown":"Yes, I tried what was suggested in that Post (Adding org.openjfx:javafx-graphics:17:mac to my implementation) However, that didn&#39;t make a difference unfortunately.","body":"Yes, I tried what was suggested in that Post (Adding org.openjfx:javafx-graphics:17:mac to my implementation) However, that didn&#39;t make a difference unfortunately."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1673974165,"post_id":75147224,"comment_id":132613981,"body_markdown":"start here: https://openjfx.io/openjfx-docs/","body":"start here: <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":20832881,"reputation":63,"user_id":15301757,"display_name":"Jaster_Master"},"score":0,"creation_date":1673978495,"post_id":75147224,"comment_id":132615320,"body_markdown":"Here I have a working gradle.build file with kotlin as DSL: https://github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/build.gradle.kts - If this does not help you, there must be some other problem with a local javafx sdk on your device or something else. Which OS do you use?","body":"Here I have a working gradle.build file with kotlin as DSL: <a href=\"https://github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/build.gradle.kts\" rel=\"nofollow noreferrer\">github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/&hellip;</a> - If this does not help you, there must be some other problem with a local javafx sdk on your device or something else. Which OS do you use?"},{"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"score":1,"creation_date":1674034612,"post_id":75147224,"comment_id":132626651,"body_markdown":"@jewelsea Thank you that was the problem. I upgraded to version 19 and everything is running smoothly","body":"@jewelsea Thank you that was the problem. I upgraded to version 19 and everything is running smoothly"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691728903,"creation_date":1674049576,"answer_id":75160212,"question_id":75147224,"body_markdown":"## Use later versions\r\n\r\nJavaFX support for [M1/M2][1] Macs is unreliable in some JavaFX 17 distributions. \r\n\r\nInstead, **use JavaFX 19 or greater**, same for the Java runtime. As of 2023-08, JavaFX ([OpenJFX][2]) version 20 is current, with 21 planned for next month. See [*Downloads*][3] page. JavaFX releases occur on approximately the same cadence as [OpenJDK][4]. \r\n\r\nThe `mac` classifier is wrong if it is an M1 Mac. It is better not to supply a classifier unless you know what architecture you are using, and even then, I would avoid it. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_silicon#M_series\r\n  [2]: https://openjfx.io/\r\n  [3]: https://gluonhq.com/products/javafx/\r\n  [4]: http://en.wikipedia.org/wiki/OpenJDK","title":"Error initializing QuantumRenderer: no suitable pipeline found","body":"<h2>Use later versions</h2>\n<p>JavaFX support for <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#M_series\" rel=\"nofollow noreferrer\">M1/M2</a> Macs is unreliable in some JavaFX 17 distributions.</p>\n<p>Instead, <strong>use JavaFX 19 or greater</strong>, same for the Java runtime. As of 2023-08, JavaFX (<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a>) version 20 is current, with 21 planned for next month. See <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\"><em>Downloads</em></a> page. JavaFX releases occur on approximately the same cadence as <a href=\"http://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a>.</p>\n<p>The <code>mac</code> classifier is wrong if it is an M1 Mac. It is better not to supply a classifier unless you know what architecture you are using, and even then, I would avoid it.</p>\n"}],"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160212,"answer_count":1,"score":0,"last_activity_date":1691728903,"creation_date":1673962436,"question_id":75147224,"body_markdown":"I am currently working on a project for University in Java.\r\nIn the template for the project we already have a lot of Classes and configurations given. However, if I try to run the code, my build fails and it gives me the following error Message:\r\n\r\n    java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\r\non top of that, I get the following warning:\r\n\r\n    Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @4bde3f8a&#39;\r\n\r\n\r\nI feel like it has something to do with the gradle configuration, so I include my build.gradle (That I was given by my university):\r\n\r\n    plugins {\r\n    \tid &#39;application&#39;\r\n    \tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.9&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    sourceCompatibility = 17\r\n    version = &#39;1.0.0&#39;\r\n    compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    javafx {\r\n    \tversion = &quot;17&quot;\r\n    \tmodules = [&#39;javafx.controls&#39;]\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.json:json:20220924&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;org.openjfx:javafx-graphics:17:mac&#39;\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDir &#39;src&#39;\r\n            }\r\n        }\r\n        test {\r\n            java {\r\n                srcDirs = []\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error initializing QuantumRenderer: no suitable pipeline found","body":"<p>I am currently working on a project for University in Java.\nIn the template for the project we already have a lot of Classes and configurations given. However, if I try to run the code, my build fails and it gives me the following error Message:</p>\n<pre><code>java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n</code></pre>\n<p>on top of that, I get the following warning:</p>\n<pre><code>Unsupported JavaFX configuration: classes were loaded from 'unnamed module @4bde3f8a'\n</code></pre>\n<p>I feel like it has something to do with the gradle configuration, so I include my build.gradle (That I was given by my university):</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.9'\n}\n\napply plugin: 'java'\nsourceCompatibility = 17\nversion = '1.0.0'\ncompileJava.options.encoding = 'UTF-8'\n\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = ['javafx.controls']\n}\n\ndependencies {\n    implementation 'org.json:json:20220924'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'org.openjfx:javafx-graphics:17:mac'\n}\n\nsourceSets {\n    main {\n        java {\n            srcDir 'src'\n        }\n    }\n    test {\n        java {\n            srcDirs = []\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","alfresco","cmis","opencmis","apache-chemistry"],"answers":[{"tags":[],"owner":{"account_id":271622,"reputation":6049,"user_id":562258,"accept_rate":41,"display_name":"Andreas Steffan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395267623,"creation_date":1395267623,"answer_id":22519379,"question_id":22518396,"body_markdown":"Looks like, you are missing a join as in\r\n\r\n    select d.*, o.* from cmis:document as d join cm:ownable as o on d.cmis:objectId = o.cmis:objectId\r\n\r\nHave a look at https://wiki.alfresco.com/wiki/CMIS#Aspect_Query for further details. ","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>Looks like, you are missing a join as in</p>\n\n<pre><code>select d.*, o.* from cmis:document as d join cm:ownable as o on d.cmis:objectId = o.cmis:objectId\n</code></pre>\n\n<p>Have a look at <a href=\"https://wiki.alfresco.com/wiki/CMIS#Aspect_Query\" rel=\"nofollow\">https://wiki.alfresco.com/wiki/CMIS#Aspect_Query</a> for further details. </p>\n"},{"tags":[],"owner":{"account_id":21472314,"reputation":36,"user_id":15821105,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691728540,"creation_date":1691728540,"answer_id":76880719,"question_id":22518396,"body_markdown":"Before `Document d = (Document) o;` You can use `o = session.getObject(o.getId());` to reload the cmisObject. \r\nAfter the reloading, the aspects/secondaryTypes can be retrieved.  \r\nIt works for me. I am using Chemistry 1.0.0, CMIS version 1.1, and browser binding.  \r\n\r\nThere is a similar question:\r\nhttps://stackoverflow.com/questions/42689664/session-queryobjects-does-not-support-secondary-types","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>Before <code>Document d = (Document) o;</code> You can use <code>o = session.getObject(o.getId());</code> to reload the cmisObject.\nAfter the reloading, the aspects/secondaryTypes can be retrieved.<br />\nIt works for me. I am using Chemistry 1.0.0, CMIS version 1.1, and browser binding.</p>\n<p>There is a similar question:\n<a href=\"https://stackoverflow.com/questions/42689664/session-queryobjects-does-not-support-secondary-types\">session.queryObjects does not support secondary types</a></p>\n"}],"owner":{"account_id":1024306,"reputation":105,"user_id":1033952,"accept_rate":75,"display_name":"BrianV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691728540,"creation_date":1395264207,"question_id":22518396,"body_markdown":"I have a couple test functions I&#39;ve written to illustrate a problem (or at least some behavior that I don&#39;t understand).  I am just doing some basic CMIS queries on an Alfresco 4.2.e community repository, but am getting some unexpected results depending on whether I use session.query() or session.queryObjects().  Specifically, the queryObjects doesn&#39;t return properties for custom aspects.  Both return the relationships/associations fine.  Am I doing something wrong, or is this a bug?  I&#39;m using opencmis 0.10, and the CMIS 1.1 URL.\r\n\r\n    private static Collection&lt;Document&gt; testCmisObjectQuery(Session session) {\r\n        List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\r\n        OperationContext opCon = session.createOperationContext();\r\n        opCon.setLoadSecondaryTypeProperties(true);\r\n        opCon.setIncludeRelationships(IncludeRelationships.BOTH);\r\n\r\n        ItemIterable&lt;CmisObject&gt; cmisObjs = \r\n                session.queryObjects(&quot;D:af:insuringFormInstance&quot;, null, false, opCon);\r\n        for (CmisObject o : cmisObjs) {\r\n            Document d = (Document) o;\r\n            rv.add(d);\r\n            printDocProps(d);\r\n        }\r\n        return rv;\r\n    }\r\n    \r\n    private static Collection&lt;Document&gt; testCmisQuery(Session session) {\r\n        List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\r\n        String queryString = &quot;SELECT cmis:objectId FROM af:insuringFormInstance&quot;;\r\n        OperationContext opCon = session.createOperationContext();\r\n        opCon.setIncludeRelationships(IncludeRelationships.SOURCE);\r\n        ItemIterable&lt;QueryResult&gt; results = session.query(queryString, false);\r\n        for (QueryResult qResult : results) {\r\n            String objectId = qResult.getPropertyValueByQueryName(&quot;cmis:objectId&quot;);\r\n            Document doc = (Document)   session.getObject(session.createObjectId(objectId),opCon);\r\n            printDocProps(doc);\r\n            rv.add(doc);\r\n        }\r\n        return rv;\r\n    }","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>I have a couple test functions I've written to illustrate a problem (or at least some behavior that I don't understand).  I am just doing some basic CMIS queries on an Alfresco 4.2.e community repository, but am getting some unexpected results depending on whether I use session.query() or session.queryObjects().  Specifically, the queryObjects doesn't return properties for custom aspects.  Both return the relationships/associations fine.  Am I doing something wrong, or is this a bug?  I'm using opencmis 0.10, and the CMIS 1.1 URL.</p>\n\n<pre><code>private static Collection&lt;Document&gt; testCmisObjectQuery(Session session) {\n    List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\n    OperationContext opCon = session.createOperationContext();\n    opCon.setLoadSecondaryTypeProperties(true);\n    opCon.setIncludeRelationships(IncludeRelationships.BOTH);\n\n    ItemIterable&lt;CmisObject&gt; cmisObjs = \n            session.queryObjects(\"D:af:insuringFormInstance\", null, false, opCon);\n    for (CmisObject o : cmisObjs) {\n        Document d = (Document) o;\n        rv.add(d);\n        printDocProps(d);\n    }\n    return rv;\n}\n\nprivate static Collection&lt;Document&gt; testCmisQuery(Session session) {\n    List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\n    String queryString = \"SELECT cmis:objectId FROM af:insuringFormInstance\";\n    OperationContext opCon = session.createOperationContext();\n    opCon.setIncludeRelationships(IncludeRelationships.SOURCE);\n    ItemIterable&lt;QueryResult&gt; results = session.query(queryString, false);\n    for (QueryResult qResult : results) {\n        String objectId = qResult.getPropertyValueByQueryName(\"cmis:objectId\");\n        Document doc = (Document)   session.getObject(session.createObjectId(objectId),opCon);\n        printDocProps(doc);\n        rv.add(doc);\n    }\n    return rv;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-kinesis-firehose"],"owner":{"account_id":20875862,"reputation":389,"user_id":15334653,"display_name":"Gurucharan Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691728528,"creation_date":1691726964,"question_id":76880641,"body_markdown":"I am trying to use AWS Firehose to send the data to S3 through my spring application using the PUT Apis. But the data is in AVRO. So I wrote a lambda function for Data Transformation to transform the data to JSON format.\r\n\r\n**Lambda function:** https://github.com/GurucharanSharma/avro-convertor-lambda.&lt;br&gt;\r\n\r\n&gt; *NOTE: In case someone wants to run the lambda function - you need not package/install the code. Just get the jar file from ```target``` folder in the repository and upload\r\n&gt; to AWS Lambda. Runtime is Java 17 and handler is\r\n&gt; ```com.paytmlabs.adtech.Handler::handleRequest```*\r\n\r\n**Here is the sample test event:**\r\n```\r\n{\r\n  &quot;invocationId&quot;: &quot;invocationIdExample&quot;,\r\n  &quot;deliveryStreamArn&quot;: &quot;arn:aws:kinesis:EXAMPLE&quot;,\r\n  &quot;region&quot;: &quot;ca-central-1&quot;,\r\n  &quot;records&quot;: [\r\n    {\r\n      &quot;recordId&quot;: &quot;49546986683135544286507457936321625675700192471156785154&quot;,\r\n      &quot;approximateArrivalTimestamp&quot;: 1495072949453,\r\n      &quot;data&quot;: &quot;AFRSRVFJRC0yZjU3NzQ2Zi0zMTZlLTRlZjgtYThhOS0xNTIwZjVjYzlkZDUcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMUMTIzNDU2NzgxMRgwODk4MTAyNzQwODcUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxvuKHqbxiAA==&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Final output from lambda:**\r\n```\r\n{\r\n\t&quot;records&quot;: [{\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397118562844340986462806099361794000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUwMTgyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}, {\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397119602520545855043965066149890000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC04ZmNlNjkwYi1lOWQyLTQyYjktOGQ3NC1iMjdkNmNlYTk2ZTAifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUxNTc4LCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}, {\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397120278310079019621742446379010000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC1lODcyNzg1Ny1mMTk4LTRmNjQtOGNiZS0wZjdiNjFiMGIxNDgifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUyNDMyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}]\r\n}\r\n```\r\n\r\nEverything seems to work fine till here, but firehose is giving the following error:\r\n```\r\n{\r\n  &quot;attemptsMade&quot;: 4,\r\n  &quot;arrivalTimestamp&quot;: 1691724750657,\r\n  &quot;errorCode&quot;: &quot;Lambda.FunctionError&quot;,\r\n  &quot;errorMessage&quot;: &quot;Invalid output structure. Check your function and make sure the output is in required format. In addition to that, make sure the processed records contain valid result status of Dropped, Ok, or ProcessingFailed.&quot;,\r\n  &quot;attemptEndingTimestamp&quot;: 1691724828300,\r\n  &quot;rawData&quot;: &quot;AFRSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMYMDg5ODEwMjc0MDg3FDEyMzQ1Njc4MTEUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxzPW4qrxiAA==&quot;,\r\n  &quot;lambdaArn&quot;: &quot;arn:aws:lambda:ap-south-1:272415727726:function:DecisionEngineAvroConverter:$LATEST&quot;\r\n}\r\n```\r\n\r\nCan&#39;t seem to figure out what is going wrong here. Any suggestions?\r\n```","title":"Invalid output structure error while using running Data Transformation for AWS Kinesis Firehose","body":"<p>I am trying to use AWS Firehose to send the data to S3 through my spring application using the PUT Apis. But the data is in AVRO. So I wrote a lambda function for Data Transformation to transform the data to JSON format.</p>\n<p><strong>Lambda function:</strong> <a href=\"https://github.com/GurucharanSharma/avro-convertor-lambda\" rel=\"nofollow noreferrer\">https://github.com/GurucharanSharma/avro-convertor-lambda</a>.<br></p>\n<blockquote>\n<p><em>NOTE: In case someone wants to run the lambda function - you need not package/install the code. Just get the jar file from <code>target</code> folder in the repository and upload\nto AWS Lambda. Runtime is Java 17 and handler is\n<code>com.paytmlabs.adtech.Handler::handleRequest</code></em></p>\n</blockquote>\n<p><strong>Here is the sample test event:</strong></p>\n<pre><code>{\n  &quot;invocationId&quot;: &quot;invocationIdExample&quot;,\n  &quot;deliveryStreamArn&quot;: &quot;arn:aws:kinesis:EXAMPLE&quot;,\n  &quot;region&quot;: &quot;ca-central-1&quot;,\n  &quot;records&quot;: [\n    {\n      &quot;recordId&quot;: &quot;49546986683135544286507457936321625675700192471156785154&quot;,\n      &quot;approximateArrivalTimestamp&quot;: 1495072949453,\n      &quot;data&quot;: &quot;AFRSRVFJRC0yZjU3NzQ2Zi0zMTZlLTRlZjgtYThhOS0xNTIwZjVjYzlkZDUcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMUMTIzNDU2NzgxMRgwODk4MTAyNzQwODcUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxvuKHqbxiAA==&quot;\n    }\n  ]\n}\n</code></pre>\n<p><strong>Final output from lambda:</strong></p>\n<pre><code>{\n    &quot;records&quot;: [{\n        &quot;recordId&quot;: &quot;49643047012485051063095397118562844340986462806099361794000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUwMTgyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }, {\n        &quot;recordId&quot;: &quot;49643047012485051063095397119602520545855043965066149890000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC04ZmNlNjkwYi1lOWQyLTQyYjktOGQ3NC1iMjdkNmNlYTk2ZTAifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUxNTc4LCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }, {\n        &quot;recordId&quot;: &quot;49643047012485051063095397120278310079019621742446379010000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC1lODcyNzg1Ny1mMTk4LTRmNjQtOGNiZS0wZjdiNjFiMGIxNDgifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUyNDMyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }]\n}\n</code></pre>\n<p>Everything seems to work fine till here, but firehose is giving the following error:</p>\n<pre><code>{\n  &quot;attemptsMade&quot;: 4,\n  &quot;arrivalTimestamp&quot;: 1691724750657,\n  &quot;errorCode&quot;: &quot;Lambda.FunctionError&quot;,\n  &quot;errorMessage&quot;: &quot;Invalid output structure. Check your function and make sure the output is in required format. In addition to that, make sure the processed records contain valid result status of Dropped, Ok, or ProcessingFailed.&quot;,\n  &quot;attemptEndingTimestamp&quot;: 1691724828300,\n  &quot;rawData&quot;: &quot;AFRSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMYMDg5ODEwMjc0MDg3FDEyMzQ1Njc4MTEUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxzPW4qrxiAA==&quot;,\n  &quot;lambdaArn&quot;: &quot;arn:aws:lambda:ap-south-1:272415727726:function:DecisionEngineAvroConverter:$LATEST&quot;\n}\n</code></pre>\n<p>Can't seem to figure out what is going wrong here. Any suggestions?</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672675,"post_id":76874713,"comment_id":135525041,"body_markdown":"See: https://stackoverflow.com/q/43917036/642706","body":"See: <a href=\"https://stackoverflow.com/q/43917036/642706\">stackoverflow.com/q/43917036/642706</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672746,"post_id":76874713,"comment_id":135525052,"body_markdown":"Try creating your project using the JavaFX template offered by IntelliJ in the new-project dialog box. I have posted here on this topic.","body":"Try creating your project using the JavaFX template offered by IntelliJ in the new-project dialog box. I have posted here on this topic."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672834,"post_id":76874713,"comment_id":135525067,"body_markdown":"If your Maven seems confused, delete the `.m2` folder. Clearing that cache often unplugs a stuck Maven installation.","body":"If your Maven seems confused, delete the <code>.m2</code> folder. Clearing that cache often unplugs a stuck Maven installation."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1691673194,"post_id":76874713,"comment_id":135525158,"body_markdown":"If your Maven seems confused, delete the `.m2` folder. Clearing that cache often unplugs a stuck Maven installation. Reestablishing a new `.m2` may take a while, depending on the speed of your internet connection. So be patient.","body":"If your Maven seems confused, delete the <code>.m2</code> folder. Clearing that cache often unplugs a stuck Maven installation. Reestablishing a new <code>.m2</code> may take a while, depending on the speed of your internet connection. So be patient."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1691688986,"post_id":76874713,"comment_id":135528841,"body_markdown":"LTS: Version 17.0.8 is current.","body":"LTS: Version 17.0.8 is current."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691689034,"post_id":76874713,"comment_id":135528853,"body_markdown":"@BasilBourque I have had no issue with Maven in the past, and I have downloaded many libraries. Elsewhere I saw someone say Javafx web is deprecated which doesn&#39;t make sense, but I was hoping someone could tell me if it is still used, and if the coordinates are correct. I did use a JavaFX template by IntelliJ. Also I don&#39;t know where to find this .m2 folder.","body":"@BasilBourque I have had no issue with Maven in the past, and I have downloaded many libraries. Elsewhere I saw someone say Javafx web is deprecated which doesn&#39;t make sense, but I was hoping someone could tell me if it is still used, and if the coordinates are correct. I did use a JavaFX template by IntelliJ. Also I don&#39;t know where to find this .m2 folder."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691689592,"post_id":76874713,"comment_id":135528970,"body_markdown":"JavaFX web is still used and maintained (as are all the JavaFX modules). 17.0.8 is the latest LTS version, 20.0.2 the latest GA version. (Early access for version 21 is planned for September 2023.) You should use the same version of all JavaFX modules. The maven coordinates are correct (basically use the same coordinates as you do for `javafx-controls`, but just change the `artifactId`). The `.m2` folder is usually in your user home directory. Note it&#39;s a hidden folder on most systems. What is the error message you get on the `import` statement? Have you added the `javafx.web` module?","body":"JavaFX web is still used and maintained (as are all the JavaFX modules). 17.0.8 is the latest LTS version, 20.0.2 the latest GA version. (Early access for version 21 is planned for September 2023.) You should use the same version of all JavaFX modules. The maven coordinates are correct (basically use the same coordinates as you do for <code>javafx-controls</code>, but just change the <code>artifactId</code>). The <code>.m2</code> folder is usually in your user home directory. Note it&#39;s a hidden folder on most systems. What is the error message you get on the <code>import</code> statement? Have you added the <code>javafx.web</code> module?"},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691690298,"post_id":76874713,"comment_id":135529107,"body_markdown":"@James_D For the import statement it doesn&#39;t give an error for the library itself but rather for &quot;web&quot;  in &quot;import javafx.scene.web.WebEngine;&quot; saying &quot;Cannot resolve symbol web&quot;. I  don&#39;t know why it&#39;s not recognizing &quot;web&quot; when it&#39;s supposed to be a JavaFX library. I added &quot;requires javafx.web;&quot; to the module-info file but it said it can&#39;t find module. I also added the dependency to the pom.xml file. When loading the library, it partially loaded, but showed red for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;.","body":"@James_D For the import statement it doesn&#39;t give an error for the library itself but rather for &quot;web&quot;  in &quot;import javafx.scene.web.WebEngine;&quot; saying &quot;Cannot resolve symbol web&quot;. I  don&#39;t know why it&#39;s not recognizing &quot;web&quot; when it&#39;s supposed to be a JavaFX library. I added &quot;requires javafx.web;&quot; to the module-info file but it said it can&#39;t find module. I also added the dependency to the pom.xml file. When loading the library, it partially loaded, but showed red for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691692044,"post_id":76874713,"comment_id":135529428,"body_markdown":"I&#39;d try deleting `.m2/repository/org/openjfx/javafx-web` and its contents; then in IntelliJ right-click on the project, choose &quot;Maven&quot; and &quot;Reload project&quot;. That should force a fresh download.","body":"I&#39;d try deleting <code>.m2&#47;repository&#47;org&#47;openjfx&#47;javafx-web</code> and its contents; then in IntelliJ right-click on the project, choose &quot;Maven&quot; and &quot;Reload project&quot;. That should force a fresh download."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691696575,"post_id":76874713,"comment_id":135530251,"body_markdown":"What kind of Mac do you have? Intel or M series? [JavaFX for M series macs may only be stable in later versions](https://stackoverflow.com/questions/75147224/error-initializing-quantumrenderer-no-suitable-pipeline-found/75160212#75160212). Don’t use outdated software. Also provide a pom.xml and module-info that causes the error in the question.","body":"What kind of Mac do you have? Intel or M series? <a href=\"https://stackoverflow.com/questions/75147224/error-initializing-quantumrenderer-no-suitable-pipeline-found/75160212#75160212\">JavaFX for M series macs may only be stable in later versions</a>. Don’t use outdated software. Also provide a pom.xml and module-info that causes the error in the question."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691732778,"post_id":76874713,"comment_id":135533974,"body_markdown":"Yep, I checked some more and [WebKit in JavaFX 17.0.2 was definitely broken on M series macs](https://bugs.openjdk.org/browse/JDK-8281459), and was fixed in later releases.","body":"Yep, I checked some more and <a href=\"https://bugs.openjdk.org/browse/JDK-8281459\" rel=\"nofollow noreferrer\">WebKit in JavaFX 17.0.2 was definitely broken on M series macs</a>, and was fixed in later releases."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691757005,"post_id":76874713,"comment_id":135538465,"body_markdown":"@James_D how do I find the .m2 directory?","body":"@James_D how do I find the .m2 directory?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691757883,"post_id":76874713,"comment_id":135538660,"body_markdown":"It&#39;s usually in your user home directory. In terminal, try `cd ~/.m2` or using Finder use &quot;Go&quot; -&gt; &quot;Go to folder...&quot; and then `~.m2`. But looking at jewelsea&#39;s comments, the solution should be just to change the JavaFX versions to `20.0.1` in `pom.xml` and then &quot;Maven&quot; -&gt; &quot;Reload Project&quot; from the project context menu in IntelliJ.","body":"It&#39;s usually in your user home directory. In terminal, try <code>cd ~&#47;.m2</code> or using Finder use &quot;Go&quot; -&gt; &quot;Go to folder...&quot; and then <code>~.m2</code>. But looking at jewelsea&#39;s comments, the solution should be just to change the JavaFX versions to <code>20.0.1</code> in <code>pom.xml</code> and then &quot;Maven&quot; -&gt; &quot;Reload Project&quot; from the project context menu in IntelliJ."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691855424,"post_id":76874713,"comment_id":135549304,"body_markdown":"Thank you. Reloading the project worked, and now I am having no issues importing javafx web. The first few times I tried reloading the project, it did not work, but after trying multiple times it did. Not sure why that is, but I am just relieved it&#39;s fixed.","body":"Thank you. Reloading the project worked, and now I am having no issues importing javafx web. The first few times I tried reloading the project, it did not work, but after trying multiple times it did. Not sure why that is, but I am just relieved it&#39;s fixed."}],"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691728413,"creation_date":1691662042,"question_id":76874713,"body_markdown":"I am making a Javafx app in IntelliJ. I tried to add &quot;import javafx.scene.web.WebEngine&quot; and &quot;import javafx.scene.web.WebView&quot; to my class. Unfortunately it was not able to import. \r\n\r\nI then tried to import the library org.openjfx:javafx-web:17.0.2 in the project libraries, but it perpetually said &quot;Resolving Maven Dependencies&quot; without doing anything. Any time in the past I have added javafx libraries, it was added with no problem, but this library never adds itself. I can not seem to find the correct way to do this. So do I have the incorrect coordinates or is there something wrong with my configuration? \r\n\r\nEdit: The library finally did load and showed fine for &quot;org.openjfx:javafx-web:17.0.2&quot; but showed red (error?) for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;. Import statement still does not work through I added to the module-info and pom.xml files. So I am still stuck and unsure why it did not work.","title":"What are the Maven coordinates for Javafx Web? (not able to import)","body":"<p>I am making a Javafx app in IntelliJ. I tried to add &quot;import javafx.scene.web.WebEngine&quot; and &quot;import javafx.scene.web.WebView&quot; to my class. Unfortunately it was not able to import.</p>\n<p>I then tried to import the library org.openjfx:javafx-web:17.0.2 in the project libraries, but it perpetually said &quot;Resolving Maven Dependencies&quot; without doing anything. Any time in the past I have added javafx libraries, it was added with no problem, but this library never adds itself. I can not seem to find the correct way to do this. So do I have the incorrect coordinates or is there something wrong with my configuration?</p>\n<p>Edit: The library finally did load and showed fine for &quot;org.openjfx:javafx-web:17.0.2&quot; but showed red (error?) for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;. Import statement still does not work through I added to the module-info and pom.xml files. So I am still stuck and unsure why it did not work.</p>\n"},{"tags":["java","generics","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1691720456,"post_id":76880289,"comment_id":135533014,"body_markdown":"What you do want? you want an exception?","body":"What you do want? you want an exception?"},{"owner":{"account_id":29203044,"reputation":1,"user_id":22372709,"display_name":"Oleh Kochetkov"},"score":0,"creation_date":1691720671,"post_id":76880289,"comment_id":135533031,"body_markdown":"I do not understend how  List&lt;Integer&gt; hold strings?","body":"I do not understend how  List&lt;Integer&gt; hold strings?"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1691720909,"post_id":76880289,"comment_id":135533055,"body_markdown":"Could you add the response to your question?","body":"Could you add the response to your question?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1691721637,"post_id":76880289,"comment_id":135533096,"body_markdown":"Images of text are [not well received](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) here. Please edit the question. Use copy-and-paste.","body":"Images of text are <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">not well received</a> here. Please edit the question. Use copy-and-paste."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691724397,"creation_date":1691723848,"answer_id":76880474,"question_id":76880289,"body_markdown":"Due to the use of raw type, the compiler skipped the generic check！！！\r\n\r\nThat is to say, if you use rawtype, you lose the compile-time checks when using generic types, which may extend errors to runtime.\r\n\r\n    public static void main(String[] args) {\r\n        List a = new ArrayList&lt;String&gt;(){{\r\n            add(&quot;what&quot;);\r\n            add(&quot;the&quot;);\r\n            add(&quot;f**k&quot;);\r\n        }};\r\n\r\n        List&lt;Integer&gt; b = a;\r\n        System.out.println(b); //[what, the, f**k]\r\n         \r\n        //It can be compiled successfully, but an error will be reported when running\r\n        Integer aNumber = b.get(0); \r\n\r\n    }\r\n\r\n\r\nIn your code, I think it may be that you did not specify the generic type of the `Response` object ","title":"Generics. I have issues when cast an object","body":"<p>Due to the use of raw type, the compiler skipped the generic check！！！</p>\n<p>That is to say, if you use rawtype, you lose the compile-time checks when using generic types, which may extend errors to runtime.</p>\n<pre><code>public static void main(String[] args) {\n    List a = new ArrayList&lt;String&gt;(){{\n        add(&quot;what&quot;);\n        add(&quot;the&quot;);\n        add(&quot;f**k&quot;);\n    }};\n\n    List&lt;Integer&gt; b = a;\n    System.out.println(b); //[what, the, f**k]\n     \n    //It can be compiled successfully, but an error will be reported when running\n    Integer aNumber = b.get(0); \n\n}\n</code></pre>\n<p>In your code, I think it may be that you did not specify the generic type of the <code>Response</code> object</p>\n"},{"tags":[],"owner":{"account_id":1778502,"reputation":913,"user_id":1621777,"accept_rate":17,"display_name":"Ashish Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691728140,"creation_date":1691727631,"answer_id":76880672,"question_id":76880289,"body_markdown":"You can also use instanceOf operator and then cast for example like\r\n\r\n    Map&lt;String,Object&gt; map = new HashMap();\r\n    map.put(&quot;A&quot;,11);\r\n    map.put(&quot;B&quot;,102);\r\n    map.put(&quot;C&quot;,new Dog());\r\n    map.put(&quot;D&quot;,new Exception(&quot;bla-bla&quot;));\r\n    map.put(&quot;E&quot;,&quot;Hello&quot;);\r\n\r\nso look at ur map type , it can take object as value so any object be it Integer , Float , Dog , Bussiness Object , new Thread , new Exception all are good to be inserted.\r\n\r\nnow the problem comes when u , iterating and access the values ...java dont know what comes out .. ***so it will give u classCastException ryt***.\r\n\r\n\r\n**Intention : to extract value** \r\n \r\n\r\n     int output = map.get(&quot;A&quot;); \r\n\r\n/* so here you trying to access value based on key ryt \r\n    which is integer and u trying to save in integer ...but it is object for java as u declared map as Map&lt;String,Object&gt; ... correct not integer */\r\n\r\n**Solution** \r\n\r\n    Object obj = map.get(&quot;A&quot;);\r\n    if(obj instanceOf Integer)\r\n    {\r\n      Integer output = (Integer) map.get(&quot;A&quot;);\r\n       // now u can use output\r\n    }\r\n\r\n","title":"Generics. I have issues when cast an object","body":"<p>You can also use instanceOf operator and then cast for example like</p>\n<pre><code>Map&lt;String,Object&gt; map = new HashMap();\nmap.put(&quot;A&quot;,11);\nmap.put(&quot;B&quot;,102);\nmap.put(&quot;C&quot;,new Dog());\nmap.put(&quot;D&quot;,new Exception(&quot;bla-bla&quot;));\nmap.put(&quot;E&quot;,&quot;Hello&quot;);\n</code></pre>\n<p>so look at ur map type , it can take object as value so any object be it Integer , Float , Dog , Bussiness Object , new Thread , new Exception all are good to be inserted.</p>\n<p>now the problem comes when u , iterating and access the values ...java dont know what comes out .. <em><strong>so it will give u classCastException ryt</strong></em>.</p>\n<p><strong>Intention : to extract value</strong></p>\n<pre><code> int output = map.get(&quot;A&quot;); \n</code></pre>\n<p>/* so here you trying to access value based on key ryt\nwhich is integer and u trying to save in integer ...but it is object for java as u declared map as Map&lt;String,Object&gt; ... correct not integer */</p>\n<p><strong>Solution</strong></p>\n<pre><code>Object obj = map.get(&quot;A&quot;);\nif(obj instanceOf Integer)\n{\n  Integer output = (Integer) map.get(&quot;A&quot;);\n   // now u can use output\n}\n</code></pre>\n"}],"owner":{"account_id":29203044,"reputation":1,"user_id":22372709,"display_name":"Oleh Kochetkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76880474,"answer_count":2,"score":-2,"last_activity_date":1691728140,"creation_date":1691719512,"question_id":76880289,"body_markdown":"When I use the `response.path()` method, it returns a list of objects (strings). I store this result in a list of integers, and surprisingly, it does not raise any exceptions. I&#39;m even able to print the contents successfully.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI do not have the solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3R3NQ.png","title":"Generics. I have issues when cast an object","body":"<p>When I use the <code>response.path()</code> method, it returns a list of objects (strings). I store this result in a list of integers, and surprisingly, it does not raise any exceptions. I'm even able to print the contents successfully.</p>\n<p><a href=\"https://i.stack.imgur.com/3R3NQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3R3NQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not have the solution.</p>\n"},{"tags":["java","windows","watchdog","apache-commons-exec"],"comments":[{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1466388999,"post_id":35601924,"comment_id":63279212,"body_markdown":"I see the same behavior on Linux when trying to run `*.sh` file (the first line is `#!/bin/sh`). Watchdog just doesn&#39;t stop this process after timeout! :(","body":"I see the same behavior on Linux when trying to run <code>*.sh</code> file (the first line is <code>#!&#47;bin&#47;sh</code>). Watchdog just doesn&#39;t stop this process after timeout! :("}],"answers":[{"tags":[],"owner":{"account_id":194102,"reputation":1,"user_id":436223,"display_name":"Ryan Lamore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677654680,"creation_date":1677652260,"answer_id":75600241,"question_id":35601924,"body_markdown":"I solved this by extending ExecuteWatchdog; ie:\r\n\r\n    static class DestroyDescendantsExecutorWatchdog extends ExecuteWatchdog {\r\n        private Process process = null;\r\n\r\n        /**\r\n         * Creates a new watchdog with a given timeout.\r\n         *\r\n         * @param timeout the timeout for the process in milliseconds. It must be\r\n         *                greater than 0 or &#39;INFINITE_TIMEOUT&#39;\r\n         */\r\n        public DestroyDescendantsExecutorWatchdog(long timeout) {\r\n            super(timeout);\r\n        }\r\n\r\n        /**\r\n         * Overridden to capture and store the process to monitor.\r\n         * @param processToMonitor\r\n         *            the process to monitor. It cannot be {@code null}\r\n         */\r\n        @Override\r\n        public synchronized void start(Process processToMonitor) {\r\n            super.start(processToMonitor);\r\n            process = processToMonitor;\r\n        }\r\n\r\n\r\n        /**\r\n         * Overridden to clean up the process to monitor state as we stop monitoring.\r\n         */\r\n        @Override\r\n        public synchronized void stop() {\r\n            super.stop();\r\n            process = null;\r\n        }\r\n\r\n        /**\r\n         * Overrides the default behavior to collect the descendants and kill them as well.\r\n         * @param w the watchdog that timed out.\r\n         */\r\n        @Override\r\n        public synchronized void timeoutOccured(Watchdog w) {\r\n            // if the process is defined\r\n            if (process != null) {\r\n                boolean isProcessTerminated = true;\r\n                try {\r\n                    // We must check if the process was not stopped before being here\r\n                    process.exitValue();\r\n                } catch (final IllegalThreadStateException itse) {\r\n                    // the process is not terminated, if this is really\r\n                    // a timeout and not a manual stop then destroy it.\r\n                    if (isWatching()) {\r\n                        isProcessTerminated = false;\r\n                    }\r\n                }\r\n                // if we haven&#39;t already started terminating the process\r\n                if (!isProcessTerminated) {\r\n                    // get all the descendants before you destroy the root process\r\n                    Stream&lt;ProcessHandle&gt; descendants = process.toHandle().descendants();\r\n                    // now go destroy the root process\r\n                    super.timeoutOccured(w);\r\n                    // follow up by destroying the descendants as well\r\n                    descendants.forEach(descendant -&gt; {\r\n                        try {\r\n                            descendant.destroy();\r\n                        } catch (Exception e) {\r\n                            log.warn(&quot;pid={};info={}; Could not destroy descendant&quot;, descendant.pid(), descendant.info(), e);\r\n                        }\r\n                    });\r\n                    // no longer watching this process as it&#39;s destroyed\r\n                    process = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe real magic is destroying the descendants along with the root process.  \r\n\r\nI have a unit test showing that basically does this:\r\n\r\nbash &quot;script.sh&quot;\r\nwhere script.sh is just a &quot;sleep 5&quot;\r\n\r\nBefore using ExecuteWatchdog, the ExecuteWatchdog would timeout the process with an exit code of 143, but only after 5 seconds.  After replacing ExecuteWatchdog with DestroyDescendantsExecutorWatchDog with a 5ms timeout, the unit test almost immediately exits with the expected return code of 143.","title":"Java Apache Commons Exec Watchdog and Windows cmd.exe issues","body":"<p>I solved this by extending ExecuteWatchdog; ie:</p>\n<pre><code>static class DestroyDescendantsExecutorWatchdog extends ExecuteWatchdog {\n    private Process process = null;\n\n    /**\n     * Creates a new watchdog with a given timeout.\n     *\n     * @param timeout the timeout for the process in milliseconds. It must be\n     *                greater than 0 or 'INFINITE_TIMEOUT'\n     */\n    public DestroyDescendantsExecutorWatchdog(long timeout) {\n        super(timeout);\n    }\n\n    /**\n     * Overridden to capture and store the process to monitor.\n     * @param processToMonitor\n     *            the process to monitor. It cannot be {@code null}\n     */\n    @Override\n    public synchronized void start(Process processToMonitor) {\n        super.start(processToMonitor);\n        process = processToMonitor;\n    }\n\n\n    /**\n     * Overridden to clean up the process to monitor state as we stop monitoring.\n     */\n    @Override\n    public synchronized void stop() {\n        super.stop();\n        process = null;\n    }\n\n    /**\n     * Overrides the default behavior to collect the descendants and kill them as well.\n     * @param w the watchdog that timed out.\n     */\n    @Override\n    public synchronized void timeoutOccured(Watchdog w) {\n        // if the process is defined\n        if (process != null) {\n            boolean isProcessTerminated = true;\n            try {\n                // We must check if the process was not stopped before being here\n                process.exitValue();\n            } catch (final IllegalThreadStateException itse) {\n                // the process is not terminated, if this is really\n                // a timeout and not a manual stop then destroy it.\n                if (isWatching()) {\n                    isProcessTerminated = false;\n                }\n            }\n            // if we haven't already started terminating the process\n            if (!isProcessTerminated) {\n                // get all the descendants before you destroy the root process\n                Stream&lt;ProcessHandle&gt; descendants = process.toHandle().descendants();\n                // now go destroy the root process\n                super.timeoutOccured(w);\n                // follow up by destroying the descendants as well\n                descendants.forEach(descendant -&gt; {\n                    try {\n                        descendant.destroy();\n                    } catch (Exception e) {\n                        log.warn(&quot;pid={};info={}; Could not destroy descendant&quot;, descendant.pid(), descendant.info(), e);\n                    }\n                });\n                // no longer watching this process as it's destroyed\n                process = null;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The real magic is destroying the descendants along with the root process.</p>\n<p>I have a unit test showing that basically does this:</p>\n<p>bash &quot;script.sh&quot;\nwhere script.sh is just a &quot;sleep 5&quot;</p>\n<p>Before using ExecuteWatchdog, the ExecuteWatchdog would timeout the process with an exit code of 143, but only after 5 seconds.  After replacing ExecuteWatchdog with DestroyDescendantsExecutorWatchDog with a 5ms timeout, the unit test almost immediately exits with the expected return code of 143.</p>\n"}],"owner":{"account_id":6826227,"reputation":77,"user_id":5251872,"accept_rate":80,"display_name":"ToMmY_hun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691728042,"creation_date":1456316028,"question_id":35601924,"body_markdown":"I am trying to use a watchdog for my program, but it does not work if I used cmd.exe to launching it. Watchdog kills the process if the process is started natively (without cmd.exe), but it does nothing if the program is started with cmd.exe. \r\n\r\nWorking code example:\r\n    \r\n            CommandLine cmd1 = CommandLine.parse(&quot;mysql&quot;);\r\n            \r\n            ExecuteWatchdog watchdog = new ExecuteWatchdog(3 * 1000); // wait for 3 sec\r\n    \r\n            Executor executor = new DefaultExecutor();\r\n            \r\n            executor.setWatchdog(watchdog);\r\n    \r\n            \r\n            try {\r\n    \r\n                executor.execute(cmd1);\r\n                \r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            } \r\n            \r\n            System.out.println(&quot;DONE!&quot;);\r\n\r\n\r\nChanging the command to this, will block the thread forever (&#39;mysql&#39; waits for user input):\r\n\r\n    CommandLine cmd1 = CommandLine.parse(&quot;cmd /C start /wait cmd.exe /C &#39;mysql&#39;&quot;);\r\n\r\nDo you have any idea, how to solve this problem? The &#39;mysql&#39; command should be run in a new cmd.exe window.","title":"Java Apache Commons Exec Watchdog and Windows cmd.exe issues","body":"<p>I am trying to use a watchdog for my program, but it does not work if I used cmd.exe to launching it. Watchdog kills the process if the process is started natively (without cmd.exe), but it does nothing if the program is started with cmd.exe. </p>\n\n<p>Working code example:</p>\n\n<pre><code>        CommandLine cmd1 = CommandLine.parse(\"mysql\");\n\n        ExecuteWatchdog watchdog = new ExecuteWatchdog(3 * 1000); // wait for 3 sec\n\n        Executor executor = new DefaultExecutor();\n\n        executor.setWatchdog(watchdog);\n\n\n        try {\n\n            executor.execute(cmd1);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        } \n\n        System.out.println(\"DONE!\");\n</code></pre>\n\n<p>Changing the command to this, will block the thread forever ('mysql' waits for user input):</p>\n\n<pre><code>CommandLine cmd1 = CommandLine.parse(\"cmd /C start /wait cmd.exe /C 'mysql'\");\n</code></pre>\n\n<p>Do you have any idea, how to solve this problem? The 'mysql' command should be run in a new cmd.exe window.</p>\n"},{"tags":["java","vim","ide"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1691716809,"post_id":76880169,"comment_id":135532741,"body_markdown":"I&#39;m not sure how vi runs things- probably either [A] using eclipse as language server, or [B] it doesn&#39;t - it&#39;s not java-aware and just runs tools, such as `javac`. Lombok scans for lombok.config in the same directory that your source file is in, bubbling up to every directory above it. If with &#39;root&#39; you mean `C:\\` or `/`, lombok can&#39;t not find it, really. Can you elaborate on the exact path of the source file you are editing, what you do exactly to get that error, and where your lombok.config file is? Use the &#39;edit&#39; button to edit your question and include this information.","body":"I&#39;m not sure how vi runs things- probably either [A] using eclipse as language server, or [B] it doesn&#39;t - it&#39;s not java-aware and just runs tools, such as <code>javac</code>. Lombok scans for lombok.config in the same directory that your source file is in, bubbling up to every directory above it. If with &#39;root&#39; you mean <code>C:` or </code>/`, lombok can&#39;t not find it, really. Can you elaborate on the exact path of the source file you are editing, what you do exactly to get that error, and where your lombok.config file is? Use the &#39;edit&#39; button to edit your question and include this information."}],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691728034,"creation_date":1691716561,"question_id":76880169,"body_markdown":"I am trying to switch my IDE from IntelliJ idea to vim, however a problem that I faced is that it does not detect my `lombok.config` file that I put on my PROJECT&#39;S root directory (with `pom.xml`, for example).\r\n\r\ni have set `lombok.accessors.chain=true`, but displays the error: `Cannot invoke [] on primitive type void`, which suggests that jdtls did not detect the lombok config file.\r\n\r\nedit: compiling is fine, but the java linting from jdtls is saying error.","title":"JDTLS and lombok","body":"<p>I am trying to switch my IDE from IntelliJ idea to vim, however a problem that I faced is that it does not detect my <code>lombok.config</code> file that I put on my PROJECT'S root directory (with <code>pom.xml</code>, for example).</p>\n<p>i have set <code>lombok.accessors.chain=true</code>, but displays the error: <code>Cannot invoke [] on primitive type void</code>, which suggests that jdtls did not detect the lombok config file.</p>\n<p>edit: compiling is fine, but the java linting from jdtls is saying error.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1490621677,"post_id":43047823,"comment_id":73179878,"body_markdown":"Try making it `transient` instead","body":"Try making it <code>transient</code> instead"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490621814,"post_id":43047823,"comment_id":73179992,"body_markdown":"@cricket_007 I did that before but then it&#39;s ignored on deserialization. I used `@Expose` to have more control over it","body":"@cricket_007 I did that before but then it&#39;s ignored on deserialization. I used <code>@Expose</code> to have more control over it"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1490622026,"post_id":43047823,"comment_id":73180196,"body_markdown":"Seen this? https://futurestud.io/tutorials/gson-model-annotations-how-to-ignore-fields-with-expose","body":"Seen this? <a href=\"https://futurestud.io/tutorials/gson-model-annotations-how-to-ignore-fields-with-expose\" rel=\"nofollow noreferrer\">futurestud.io/tutorials/&hellip;</a>"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490622235,"post_id":43047823,"comment_id":73180366,"body_markdown":"@cricket_007 Yes, I know it. What do you propose me to change from that tutorial?  Quote: &quot;An alternative to using \\@Expose is to declare a field as transient. A transient field will not be (de)serialized either. However, you don&#39;t have full control like you do with \\@Expose. You cannot deactivate one direction, transient will always completely turn off the conversion for that property.&quot;","body":"@cricket_007 Yes, I know it. What do you propose me to change from that tutorial?  Quote: &quot;An alternative to using \\@Expose is to declare a field as transient. A transient field will not be (de)serialized either. However, you don&#39;t have full control like you do with \\@Expose. You cannot deactivate one direction, transient will always completely turn off the conversion for that property.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490624482,"creation_date":1490624482,"answer_id":43048991,"question_id":43047823,"body_markdown":"As you mentioned in your comments, `@Expose` should be the better choice over `transient` here. It&#39;s important to note that the **default Gson instance does not regard the `@Expose` annotation**! It&#39;ll simply ignore it, no matter what you set as option.\r\n\r\nIf you want to activate the `@Expose` options, you need to customize Gson. Based on your code above, change it to:\r\n\r\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n            .setPrettyPrinting()\r\n            .excludeFieldsWithoutExposeAnnotation();\r\n            .create();\r\n\r\n\r\nYour `@Expose(serialize = false)` should be active and excluded during serialization.\r\n","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>As you mentioned in your comments, <code>@Expose</code> should be the better choice over <code>transient</code> here. It's important to note that the <strong>default Gson instance does not regard the <code>@Expose</code> annotation</strong>! It'll simply ignore it, no matter what you set as option.</p>\n\n<p>If you want to activate the <code>@Expose</code> options, you need to customize Gson. Based on your code above, change it to:</p>\n\n<pre><code>public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n        .setPrettyPrinting()\n        .excludeFieldsWithoutExposeAnnotation();\n        .create();\n</code></pre>\n\n<p>Your <code>@Expose(serialize = false)</code> should be active and excluded during serialization.</p>\n"},{"tags":[],"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1490627242,"creation_date":1490627242,"answer_id":43050050,"question_id":43047823,"body_markdown":"Thanks to @peitek for pointing out that `@Expose` is ignored unless `.excludeFieldsWithoutExposeAnnotation()` is added to the `GsonBuilder()`. However, I choose not to go with this route as it would require me to add `@Expose` to every single parameter of my model classes just to ignore one field on serialisation. Instead I wrote a `ExclusionStrategy` that checks for the presence of a custom `SkipSerialisation` annotation on the parameter. I implemented these as follows:\r\n\r\nThe full `GsonBuilder` with the strategy:\r\n\r\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n            .addSerializationExclusionStrategy(new ExclusionStrategy()\r\n            {\r\n                @Override\r\n                public boolean shouldSkipField(FieldAttributes f)\r\n                {\r\n                    return f.getAnnotation(SkipSerialisation.class) != null;\r\n                }\r\n\r\n                @Override\r\n                public boolean shouldSkipClass(Class&lt;?&gt; clazz)\r\n                {\r\n                    return false;\r\n                }\r\n            })\r\n            .setPrettyPrinting()\r\n            .create();\r\n\r\nAnd the annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface SkipSerialisation\r\n    {\r\n    }\r\n\r\nNow I can just do \r\n\r\n    @SkipSerialisation\r\n    @SerializedName(&quot;_id&quot;)\r\n    private String id;\r\n\r\nand it works!","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>Thanks to @peitek for pointing out that <code>@Expose</code> is ignored unless <code>.excludeFieldsWithoutExposeAnnotation()</code> is added to the <code>GsonBuilder()</code>. However, I choose not to go with this route as it would require me to add <code>@Expose</code> to every single parameter of my model classes just to ignore one field on serialisation. Instead I wrote a <code>ExclusionStrategy</code> that checks for the presence of a custom <code>SkipSerialisation</code> annotation on the parameter. I implemented these as follows:</p>\n\n<p>The full <code>GsonBuilder</code> with the strategy:</p>\n\n<pre><code>public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n        .addSerializationExclusionStrategy(new ExclusionStrategy()\n        {\n            @Override\n            public boolean shouldSkipField(FieldAttributes f)\n            {\n                return f.getAnnotation(SkipSerialisation.class) != null;\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz)\n            {\n                return false;\n            }\n        })\n        .setPrettyPrinting()\n        .create();\n</code></pre>\n\n<p>And the annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface SkipSerialisation\n{\n}\n</code></pre>\n\n<p>Now I can just do </p>\n\n<pre><code>@SkipSerialisation\n@SerializedName(\"_id\")\nprivate String id;\n</code></pre>\n\n<p>and it works!</p>\n"},{"tags":[],"owner":{"account_id":1633641,"reputation":803,"user_id":1507715,"display_name":"Sheldon Neilson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563371612,"creation_date":1563370780,"answer_id":57077277,"question_id":43047823,"body_markdown":"I just wanted to add here that you could use Expose in the desired way like this:\r\n\r\n    builder.addSerializationExclusionStrategy(new ExclusionStrategy() {\r\n            @Override\r\n            public boolean shouldSkipField(FieldAttributes f) {\r\n                Expose annotation = f.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.serialize();\r\n                else\r\n                    return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                Expose annotation = clazz.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.serialize();\r\n                else\r\n                    return false;\r\n            }\r\n        });\r\n        builder.addDeserializationExclusionStrategy(new ExclusionStrategy() {\r\n            @Override\r\n            public boolean shouldSkipField(FieldAttributes f) {\r\n                Expose annotation = f.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.deserialize();\r\n                else\r\n                    return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                Expose annotation = clazz.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.deserialize();\r\n                else\r\n                    return false;\r\n            }\r\n        });","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>I just wanted to add here that you could use Expose in the desired way like this:</p>\n\n<pre><code>builder.addSerializationExclusionStrategy(new ExclusionStrategy() {\n        @Override\n        public boolean shouldSkipField(FieldAttributes f) {\n            Expose annotation = f.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.serialize();\n            else\n                return false;\n        }\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            Expose annotation = clazz.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.serialize();\n            else\n                return false;\n        }\n    });\n    builder.addDeserializationExclusionStrategy(new ExclusionStrategy() {\n        @Override\n        public boolean shouldSkipField(FieldAttributes f) {\n            Expose annotation = f.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.deserialize();\n            else\n                return false;\n        }\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            Expose annotation = clazz.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.deserialize();\n            else\n                return false;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455497,"reputation":333,"user_id":7707781,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691727036,"creation_date":1691724824,"answer_id":76880523,"question_id":43047823,"body_markdown":"        GsonBuilder()\r\n            /**   WARN : the function result is :\r\n             *         just Serialization the field and class which with @Expose\r\n             * */\r\n            /*.excludeFieldsWithoutExposeAnnotation()*/\r\n\r\n  \r\n\r\n              /** addXxxxxxxxxExclusionStrategy Function is the best selection\r\n                     define yourself exclusion rule\r\n              */\r\n            .addSerializationExclusionStrategy(\r\n                object : ExclusionStrategy {\r\n                    override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\r\n                        return fieldAttr?.getAnnotation(Expose::class.java)?.serialize == false\r\n                    }\r\n\r\n                    override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\r\n                        return clazz?.getAnnotation(Expose::class.java)?.serialize == false\r\n                    }\r\n                })\r\n            .addDeserializationExclusionStrategy(object : ExclusionStrategy {\r\n\r\n                override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\r\n                    return fieldAttr?.getAnnotation(Expose::class.java)?.deserialize == false\r\n                }\r\n\r\n                override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\r\n                    return clazz?.getAnnotation(Expose::class.java)?.deserialize == false\r\n                }\r\n            })\r\n            .create()","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<pre><code>    GsonBuilder()\n        /**   WARN : the function result is :\n         *         just Serialization the field and class which with @Expose\n         * */\n        /*.excludeFieldsWithoutExposeAnnotation()*/\n\n\n\n          /** addXxxxxxxxxExclusionStrategy Function is the best selection\n                 define yourself exclusion rule\n          */\n        .addSerializationExclusionStrategy(\n            object : ExclusionStrategy {\n                override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\n                    return fieldAttr?.getAnnotation(Expose::class.java)?.serialize == false\n                }\n\n                override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\n                    return clazz?.getAnnotation(Expose::class.java)?.serialize == false\n                }\n            })\n        .addDeserializationExclusionStrategy(object : ExclusionStrategy {\n\n            override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\n                return fieldAttr?.getAnnotation(Expose::class.java)?.deserialize == false\n            }\n\n            override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\n                return clazz?.getAnnotation(Expose::class.java)?.deserialize == false\n            }\n        })\n        .create()\n</code></pre>\n"}],"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5649,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43050050,"answer_count":4,"score":13,"last_activity_date":1691727036,"creation_date":1490621364,"question_id":43047823,"body_markdown":"I&#39;m writing an SDK for a JSON API and I&#39;m running into a seemingly weird problem. The API is quite strict in it&#39;s POST data validation and it does not allow certain parameters to be present when updating resources, like an `id`. For this reason, I added `@Expose(serialize = false)` the ID field of my resource class. It seems however, that it still serializes this field, causing the request to be rejected. The resource class roughly is as follows:\r\n\r\n    public class Organisation extends BaseObject\r\n    {\r\n        public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n                .setPrettyPrinting()\r\n                .create();\r\n    \r\n        @Expose(serialize = false)\r\n        @SerializedName(&quot;_id&quot;)\r\n        private String id;\r\n    \r\n        @SerializedName(&quot;email&quot;)\r\n        private String email;\r\n    \r\n        @SerializedName(&quot;name&quot;)\r\n        private String name;\r\n\r\n        @SerializedName(&quot;parent_id&quot;)\r\n        private String parentId;\r\n    \r\n        public String toJson()\r\n        {\r\n            return PRETTY_PRINT_JSON.toJson(this);\r\n        }\r\n    }\r\n\r\nMy unit tests create an instance of `Organisation` via the API, saves the newly created instance to the test class as a class parameter and calls an update method that will test the update implementation of the SDK by updating the new resource. This is where it goes wrong. Even though the `toJson()` method is called on the new `Organisation` to serialise it to JSON for the update request, the `_id` field remains present, causing the API to decline the update. The test code is as follows. Notice the comments in the code.\r\n\r\n    @Test\r\n    public void testCreateUpdateAndDeleteOrganisation() throws RequestException\r\n    {\r\n        Organisation organisation = new Organisation();\r\n        organisation.setParentId(this.ORGANISATION_ID);\r\n        organisation.setName(&quot;Java Test Organisation&quot;);\r\n    \r\n        Organisation newOrganisation = this.MySDK.organisation.create(organisation);\r\n        this.testOrganisation(newOrganisation);\r\n        this.newOrganisation = newOrganisation;\r\n    \r\n        this.testUpdateOrganisation();\r\n    }\r\n    \r\n    public void testUpdateOrganisation() throws RequestException\r\n    {\r\n        // I tried setting ID to null, but that doesn&#39;t work either\r\n        // even though I&#39;ve set Gson to not serialise null values\r\n        this.newOrganisation.setId(null);\r\n        this.newOrganisation.setName(this.newName);\r\n    \r\n        // For debugging\r\n        System.out.println(this.newOrganisation.toJson());\r\n    \r\n        Organisation updatedOrganisation = this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);\r\n    \r\n        this.testOrganisation(updatedOrganisation);\r\n        assertEquals(newOrganisation.getName(), this.newName);\r\n    \r\n        this.testDeleteOrganisation();\r\n    }\r\n\r\nCan anyone spot what I&#39;m doing wrong? I have a feeling it has something to do with the fact that the instance already has/had a value for ID, but that shouldn&#39;t matter if I explicity tell it not to serialise it right?\r\n\r\nThanks in advance for the help.\r\n\r\nEDIT: At `this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);`, that does not edit the organisation instance. The given ID is merely added to the URL that the SDK will POST to (`POST /organisation/{id}`)","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>I'm writing an SDK for a JSON API and I'm running into a seemingly weird problem. The API is quite strict in it's POST data validation and it does not allow certain parameters to be present when updating resources, like an <code>id</code>. For this reason, I added <code>@Expose(serialize = false)</code> the ID field of my resource class. It seems however, that it still serializes this field, causing the request to be rejected. The resource class roughly is as follows:</p>\n\n<pre><code>public class Organisation extends BaseObject\n{\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n            .setPrettyPrinting()\n            .create();\n\n    @Expose(serialize = false)\n    @SerializedName(\"_id\")\n    private String id;\n\n    @SerializedName(\"email\")\n    private String email;\n\n    @SerializedName(\"name\")\n    private String name;\n\n    @SerializedName(\"parent_id\")\n    private String parentId;\n\n    public String toJson()\n    {\n        return PRETTY_PRINT_JSON.toJson(this);\n    }\n}\n</code></pre>\n\n<p>My unit tests create an instance of <code>Organisation</code> via the API, saves the newly created instance to the test class as a class parameter and calls an update method that will test the update implementation of the SDK by updating the new resource. This is where it goes wrong. Even though the <code>toJson()</code> method is called on the new <code>Organisation</code> to serialise it to JSON for the update request, the <code>_id</code> field remains present, causing the API to decline the update. The test code is as follows. Notice the comments in the code.</p>\n\n<pre><code>@Test\npublic void testCreateUpdateAndDeleteOrganisation() throws RequestException\n{\n    Organisation organisation = new Organisation();\n    organisation.setParentId(this.ORGANISATION_ID);\n    organisation.setName(\"Java Test Organisation\");\n\n    Organisation newOrganisation = this.MySDK.organisation.create(organisation);\n    this.testOrganisation(newOrganisation);\n    this.newOrganisation = newOrganisation;\n\n    this.testUpdateOrganisation();\n}\n\npublic void testUpdateOrganisation() throws RequestException\n{\n    // I tried setting ID to null, but that doesn't work either\n    // even though I've set Gson to not serialise null values\n    this.newOrganisation.setId(null);\n    this.newOrganisation.setName(this.newName);\n\n    // For debugging\n    System.out.println(this.newOrganisation.toJson());\n\n    Organisation updatedOrganisation = this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);\n\n    this.testOrganisation(updatedOrganisation);\n    assertEquals(newOrganisation.getName(), this.newName);\n\n    this.testDeleteOrganisation();\n}\n</code></pre>\n\n<p>Can anyone spot what I'm doing wrong? I have a feeling it has something to do with the fact that the instance already has/had a value for ID, but that shouldn't matter if I explicity tell it not to serialise it right?</p>\n\n<p>Thanks in advance for the help.</p>\n\n<p>EDIT: At <code>this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);</code>, that does not edit the organisation instance. The given ID is merely added to the URL that the SDK will POST to (<code>POST /organisation/{id}</code>)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528402965,"creation_date":1528402965,"answer_id":50749644,"question_id":50749595,"body_markdown":"Use [`isBeforeFirst`][1] to determine if a newly-returned [`ResultSet`][2] contains any rows.\r\n\r\n&gt; **Returns:** true if the cursor is before the first row; false if the\r\n&gt; cursor is at any other position or the result set contains no rows\r\n\r\n    try (ResultSet rs = stmt.executeQuery(query)) {\r\n        // executeQuery never returns a null ResultSet\r\n\r\n        if (!rs.isBeforeFirst()) {\r\n            // The result set contains no rows. Take some action.\r\n            // log.error(&quot;No records found&quot;);\r\n            // throw new Exception(&quot;No records found&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#isBeforeFirst--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html","title":"How to catch Fillo no record found exception(Java)","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#isBeforeFirst--\" rel=\"nofollow noreferrer\"><code>isBeforeFirst</code></a> to determine if a newly-returned <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> contains any rows.</p>\n\n<blockquote>\n  <p><strong>Returns:</strong> true if the cursor is before the first row; false if the\n  cursor is at any other position or the result set contains no rows</p>\n</blockquote>\n\n<pre><code>try (ResultSet rs = stmt.executeQuery(query)) {\n    // executeQuery never returns a null ResultSet\n\n    if (!rs.isBeforeFirst()) {\n        // The result set contains no rows. Take some action.\n        // log.error(\"No records found\");\n        // throw new Exception(\"No records found\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24417629,"reputation":21,"user_id":18344310,"display_name":"Sasitharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691726164,"creation_date":1691726164,"answer_id":76880589,"question_id":50749595,"body_markdown":"    // We can catch the exception like below...\r\n    catch(com.codoid.products.exception.FilloException nrf)\r\n    {\r\n        // Code to handle when No Record Found exception occurred...\r\n    }","title":"How to catch Fillo no record found exception(Java)","body":"<pre><code>// We can catch the exception like below...\ncatch(com.codoid.products.exception.FilloException nrf)\n{\n    // Code to handle when No Record Found exception occurred...\n}\n</code></pre>\n"}],"owner":{"account_id":13734122,"reputation":17,"user_id":9910922,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1691726164,"creation_date":1528402742,"question_id":50749595,"body_markdown":"I want to check if the resultset is empty or not.\r\n\r\nrs.executequery(query) \r\n\r\ntrows **com.codoid.products.exception.FilloException: No records found** exception if the file is empty\r\n\r\n\r\n\r\n\r\nNow my question is how to catch, What Parameter (like in catch(NULLPOINTEREXCEPTION)) to use\r\n\r\n    com.codoid.products.exception.FilloException: No records found\r\n\tat com.codoid.products.fillo.Recordset.&lt;init&gt;(Recordset.java:40)\r\n\tat com.codoid.products.fillo.Connection.executeQuery(Connection.java:69)\r\n","title":"How to catch Fillo no record found exception(Java)","body":"<p>I want to check if the resultset is empty or not.</p>\n\n<p>rs.executequery(query) </p>\n\n<p>trows <strong>com.codoid.products.exception.FilloException: No records found</strong> exception if the file is empty</p>\n\n<p>Now my question is how to catch, What Parameter (like in catch(NULLPOINTEREXCEPTION)) to use</p>\n\n<pre><code>com.codoid.products.exception.FilloException: No records found\nat com.codoid.products.fillo.Recordset.&lt;init&gt;(Recordset.java:40)\nat com.codoid.products.fillo.Connection.executeQuery(Connection.java:69)\n</code></pre>\n"},{"tags":["java","spring","rest","spring-security","httpresponse"],"comments":[{"owner":{"account_id":2067188,"reputation":2606,"user_id":1842482,"accept_rate":100,"display_name":"chaoluo"},"score":1,"creation_date":1516261118,"post_id":48306302,"comment_id":83617410,"body_markdown":"See here https://stackoverflow.com/a/43122832/1842482","body":"See here <a href=\"https://stackoverflow.com/a/43122832/1842482\">stackoverflow.com/a/43122832/1842482</a>"},{"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"score":0,"creation_date":1516278738,"post_id":48306302,"comment_id":83627975,"body_markdown":"I already resolved this problem. Look at answers. Thanks for response though.","body":"I already resolved this problem. Look at answers. Thanks for response though."},{"owner":{"account_id":1605165,"reputation":1630,"user_id":1485401,"accept_rate":91,"display_name":"Roman T"},"score":0,"creation_date":1608208043,"post_id":48306302,"comment_id":115515846,"body_markdown":"Had the same problem with the Reactive stack and for me introducing `AccessDeniedHandler` worked out. Thank you.","body":"Had the same problem with the Reactive stack and for me introducing <code>AccessDeniedHandler</code> worked out. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1516208606,"creation_date":1516208606,"answer_id":48306385,"question_id":48306302,"body_markdown":"According to this:\r\n\r\nhttp://www.baeldung.com/spring-security-custom-access-denied-page\r\n\r\nYou also needed to add:\r\n\r\n.exceptionHandling().accessDeniedHandler(accessDeniedHandler());\r\n\r\nguessing that goes in &quot;configure&quot;.","title":"Spring security - creating 403 Access denied custom response","body":"<p>According to this:</p>\n\n<p><a href=\"http://www.baeldung.com/spring-security-custom-access-denied-page\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-security-custom-access-denied-page</a></p>\n\n<p>You also needed to add:</p>\n\n<p>.exceptionHandling().accessDeniedHandler(accessDeniedHandler());</p>\n\n<p>guessing that goes in \"configure\".</p>\n"},{"tags":[],"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1691723323,"creation_date":1516227620,"answer_id":48310956,"question_id":48306302,"body_markdown":"I think I resolved the problem. Instead of creating an implementation of `AccessDeniedHandler` I had to create a custom `AuthenticationEntryPoint` and set it in exception handling.\r\n\r\n`WebConfig` now looks like this:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n    \tprivate UserDetailsService userDetailsService;\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tpublic WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n    \t\tthis.userDetailsService = userDetailsService;\r\n    \t\tthis.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.csrf().disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n    \t\t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling().authenticationEntryPoint(authenticationEntryPoint())\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n    \t\t\t\t\t.addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TokenProvider tokenProvider(){\r\n    \t\treturn new TokenProvider();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationEntryPoint authenticationEntryPoint(){\r\n    \t\treturn new CustomAuthenticationEntryPoint();\r\n    \t}\r\n    }\r\n\r\nand the `CustomAuthenticationEntryPoint`:\r\n\r\n    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest req, HttpServletResponse res, AuthenticationException authException) throws IOException, ServletException {\r\n            res.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            res.setStatus(403);\r\n            res.getWriter().write(JsonBuilder //my util class for creating json strings\r\n                    .put(&quot;timestamp&quot;, DateGenerator.getDate())\r\n                    .put(&quot;status&quot;, 403)\r\n                    .put(&quot;message&quot;, &quot;Access denied&quot;)\r\n                    .build());\r\n        }\r\n    }\r\n\r\nNow everything works as I wanted.","title":"Spring security - creating 403 Access denied custom response","body":"<p>I think I resolved the problem. Instead of creating an implementation of <code>AccessDeniedHandler</code> I had to create a custom <code>AuthenticationEntryPoint</code> and set it in exception handling.</p>\n<p><code>WebConfig</code> now looks like this:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    public WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint())\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n\n    @Bean\n    public AuthenticationEntryPoint authenticationEntryPoint(){\n        return new CustomAuthenticationEntryPoint();\n    }\n}\n</code></pre>\n<p>and the <code>CustomAuthenticationEntryPoint</code>:</p>\n<pre><code>public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest req, HttpServletResponse res, AuthenticationException authException) throws IOException, ServletException {\n        res.setContentType(&quot;application/json;charset=UTF-8&quot;);\n        res.setStatus(403);\n        res.getWriter().write(JsonBuilder //my util class for creating json strings\n                .put(&quot;timestamp&quot;, DateGenerator.getDate())\n                .put(&quot;status&quot;, 403)\n                .put(&quot;message&quot;, &quot;Access denied&quot;)\n                .build());\n    }\n}\n</code></pre>\n<p>Now everything works as I wanted.</p>\n"},{"tags":[],"owner":{"account_id":11747477,"reputation":109,"user_id":8597810,"display_name":"Amit Samuel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1543905517,"creation_date":1543905517,"answer_id":53607022,"question_id":48306302,"body_markdown":"I have the same problem &amp; tried to resolve as per the right answer, but it doesn&#39;t solve the issue. \r\nThe best way to handle this is to implement custom access denied handler. AuthenticationEntryPoint implementation is best to handle 401, UNAUTHORIZED access and AccessDeniedHandler implementation is there for 403, FORBIDDEN access. \r\n\r\nOverride AccessDeniedHandler&#39;s method in your implementation class as:\r\n\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, \r\n    AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        response.getWriter().write(&quot;Access Denied... Forbidden&quot;);\r\n    }\r\n\r\nAnd add this custom access denied handler in your security config like this:\r\n\r\n    .exceptionHandling()\t \r\n    .authenticationEntryPoint(authenticationEntryPoint())\r\n    .accessDeniedHandler(accessDeniedHandler())","title":"Spring security - creating 403 Access denied custom response","body":"<p>I have the same problem &amp; tried to resolve as per the right answer, but it doesn't solve the issue. \nThe best way to handle this is to implement custom access denied handler. AuthenticationEntryPoint implementation is best to handle 401, UNAUTHORIZED access and AccessDeniedHandler implementation is there for 403, FORBIDDEN access. </p>\n\n<p>Override AccessDeniedHandler's method in your implementation class as:</p>\n\n<pre><code>@Override\npublic void handle(HttpServletRequest request, HttpServletResponse response, \nAccessDeniedException accessDeniedException) throws IOException, ServletException {\n    response.getWriter().write(\"Access Denied... Forbidden\");\n}\n</code></pre>\n\n<p>And add this custom access denied handler in your security config like this:</p>\n\n<pre><code>.exceptionHandling()     \n.authenticationEntryPoint(authenticationEntryPoint())\n.accessDeniedHandler(accessDeniedHandler())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8102846,"reputation":628,"user_id":6105379,"display_name":"Joe Grandja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547668919,"creation_date":1547668919,"answer_id":54224499,"question_id":48306302,"body_markdown":"Here is a minimal security configuration that demonstrates a custom `AccessDeniedHandler` gets called on access denied (403) scenarios:\r\n\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/css/**&quot;, &quot;/index&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t\t.and()\r\n\t\t\t.exceptionHandling()\r\n\t\t\t\t.accessDeniedHandler((request, response, accessDeniedException) -&gt; {\r\n\t\t\t\t\tAccessDeniedHandler defaultAccessDeniedHandler = new AccessDeniedHandlerImpl();\r\n\t\t\t\t\tdefaultAccessDeniedHandler.handle(request, response, accessDeniedException);\r\n\t\t\t\t});\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t\t.withUser(User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;))\r\n\t\t\t\t.withUser(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;ADMIN&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nSteps to reproduce:\r\n\r\n1. Login with `user/password`\r\n2. Try to access `http://localhost:8080/user/index` - access granted\r\n2. Try to access `http://localhost:8080/admin/index` - access denied and custom `AccessDeniedHandler` gets called \r\n","title":"Spring security - creating 403 Access denied custom response","body":"<p>Here is a minimal security configuration that demonstrates a custom <code>AccessDeniedHandler</code> gets called on access denied (403) scenarios:</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(\"/css/**\", \"/index\").permitAll()\n                .antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n                .antMatchers(\"/user/**\").hasRole(\"USER\")\n                .and()\n            .formLogin()\n                .and()\n            .exceptionHandling()\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\n                    AccessDeniedHandler defaultAccessDeniedHandler = new AccessDeniedHandlerImpl();\n                    defaultAccessDeniedHandler.handle(request, response, accessDeniedException);\n                });\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(User.withDefaultPasswordEncoder().username(\"user\").password(\"password\").roles(\"USER\"))\n                .withUser(User.withDefaultPasswordEncoder().username(\"admin\").password(\"password\").roles(\"ADMIN\"));\n    }\n}\n</code></pre>\n\n<p>Steps to reproduce:</p>\n\n<ol>\n<li>Login with <code>user/password</code></li>\n<li>Try to access <code>http://localhost:8080/user/index</code> - access granted</li>\n<li>Try to access <code>http://localhost:8080/admin/index</code> - access denied and custom <code>AccessDeniedHandler</code> gets called </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589472654,"creation_date":1589472654,"answer_id":61802129,"question_id":48306302,"body_markdown":"Try this\r\n\r\n     @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n                    .and()\r\n                        .csrf().disable()\r\n                        .authorizeRequests()\r\n                        .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n                        .anyRequest().authenticated()\r\n                    \r\n                     .and().exceptionHandling().accessDeniedPage(&quot;/view/notAuth&quot;)\r\n                    .and()\r\n                        .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n                        .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n    \r\n        @Bean\r\n        public TokenProvider tokenProvider(){\r\n            return new TokenProvider();\r\n        }\r\n\r\n\r\nAnd make this configuration class for view page\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.format.FormatterRegistry;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.validation.MessageCodesResolver;\r\n    import org.springframework.validation.Validator;\r\n    import org.springframework.web.method.support.HandlerMethodArgumentResolver;\r\n    import org.springframework.web.method.support.HandlerMethodReturnValueHandler;\r\n    import org.springframework.web.servlet.HandlerExceptionResolver;\r\n    import org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    \r\n    \r\n    @Configuration\r\n    public class ViewRegistryConfig implements WebMvcConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n    \t\tregistry.addViewController(&quot;/view/notAuth&quot;).setViewName(&quot;notAuth&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureAsyncSupport(AsyncSupportConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addFormatters(FormatterRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addInterceptors(InterceptorRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addReturnValueHandlers(List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Validator getValidator() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic MessageCodesResolver getMessageCodesResolver() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    \r\n    \r\n      ","title":"Spring security - creating 403 Access denied custom response","body":"<p>Try this</p>\n\n<pre><code> @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n\n                 .and().exceptionHandling().accessDeniedPage(\"/view/notAuth\")\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n</code></pre>\n\n<p>And make this configuration class for view page</p>\n\n<pre><code>import java.util.List;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.validation.MessageCodesResolver;\nimport org.springframework.validation.Validator;\nimport org.springframework.web.method.support.HandlerMethodArgumentResolver;\nimport org.springframework.web.method.support.HandlerMethodReturnValueHandler;\nimport org.springframework.web.servlet.HandlerExceptionResolver;\nimport org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\nimport org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n\n@Configuration\npublic class ViewRegistryConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/view/notAuth\").setViewName(\"notAuth\");\n    }\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureAsyncSupport(AsyncSupportConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addReturnValueHandlers(List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public Validator getValidator() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public MessageCodesResolver getMessageCodesResolver() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6721149,"reputation":1665,"user_id":5181125,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683122606,"creation_date":1663002654,"answer_id":73692869,"question_id":48306302,"body_markdown":"Adding ExceptionHandler for AccessDeniedException did the trick in my case.\r\n\r\n\r\n  \r\n\r\n    @ExceptionHandler (value = {AccessDeniedException.class})\r\n      public void handleAccessDeniedException(HttpServletRequest request, HttpServletResponse response,\r\n          AccessDeniedException accessDeniedException) throws IOException {\r\n        // 403\r\n        response.sendError(403, &quot;Authorization Failed : &quot; + accessDeniedException.getMessage());\r\n      }","title":"Spring security - creating 403 Access denied custom response","body":"<p>Adding ExceptionHandler for AccessDeniedException did the trick in my case.</p>\n<pre><code>@ExceptionHandler (value = {AccessDeniedException.class})\n  public void handleAccessDeniedException(HttpServletRequest request, HttpServletResponse response,\n      AccessDeniedException accessDeniedException) throws IOException {\n    // 403\n    response.sendError(403, &quot;Authorization Failed : &quot; + accessDeniedException.getMessage());\n  }\n</code></pre>\n"}],"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34747,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":48310956,"answer_count":6,"score":26,"last_activity_date":1691723700,"creation_date":1516208293,"question_id":48306302,"body_markdown":"I have a `Spring Boot` app based on `REST` api with `JWT` authentication. The problem is I cannot get rid of default _403 Access Denied_ rest response which looks like this: \r\n\r\n    {\r\n        &quot;timestamp&quot;: 1516206966541,\r\n        &quot;status&quot;: 403,\r\n        &quot;error&quot;: &quot;Forbidden&quot;,\r\n        &quot;message&quot;: &quot;Access Denied&quot;,\r\n        &quot;path&quot;: &quot;/api/items/2&quot;\r\n    }\r\n\r\nI created custom `AccessDeniedHandler`:\r\n\r\n    public class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    \r\n        @Override\r\n        public void handle(HttpServletRequest req,\r\n                           HttpServletResponse res,\r\n                           AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n    \r\n    \r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            res.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            res.setStatus(403);\r\n            res.getWriter().write(mapper.writeValueAsString(new JsonResponse()\r\n                    .add(&quot;timestamp&quot;, System.currentTimeMillis())\r\n                    .add(&quot;status&quot;, 403)\r\n                    .add(&quot;message&quot;, &quot;Access denied&quot;)));\r\n        }\r\n    }\r\n\r\nand added it to the `WebConfig` class:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n    \tprivate UserDetailsService userDetailsService;\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tpublic WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n    \t\tthis.userDetailsService = userDetailsService;\r\n    \t\tthis.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.csrf().disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n    \t\t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling().accessDeniedHandler(accessDeniedHandler())\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n    \t\t\t\t\t.addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TokenProvider tokenProvider(){\r\n    \t\treturn new TokenProvider();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AccessDeniedHandler accessDeniedHandler(){\r\n    \t\treturn new CustomAccessDeniedHandler();\r\n    \t}\r\n    }\r\n\r\nDespite this I&#39;m still getting the default _Access Denied_ response. When debugging I realized that the `handle` method from custom handler isn&#39;t even called. What is the case here?","title":"Spring security - creating 403 Access denied custom response","body":"<p>I have a <code>Spring Boot</code> app based on <code>REST</code> api with <code>JWT</code> authentication. The problem is I cannot get rid of default <em>403 Access Denied</em> rest response which looks like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1516206966541,\n    &quot;status&quot;: 403,\n    &quot;error&quot;: &quot;Forbidden&quot;,\n    &quot;message&quot;: &quot;Access Denied&quot;,\n    &quot;path&quot;: &quot;/api/items/2&quot;\n}\n</code></pre>\n<p>I created custom <code>AccessDeniedHandler</code>:</p>\n<pre><code>public class CustomAccessDeniedHandler implements AccessDeniedHandler {\n\n    @Override\n    public void handle(HttpServletRequest req,\n                       HttpServletResponse res,\n                       AccessDeniedException accessDeniedException) throws IOException, ServletException {\n\n\n\n        ObjectMapper mapper = new ObjectMapper();\n        res.setContentType(&quot;application/json;charset=UTF-8&quot;);\n        res.setStatus(403);\n        res.getWriter().write(mapper.writeValueAsString(new JsonResponse()\n                .add(&quot;timestamp&quot;, System.currentTimeMillis())\n                .add(&quot;status&quot;, 403)\n                .add(&quot;message&quot;, &quot;Access denied&quot;)));\n    }\n}\n</code></pre>\n<p>and added it to the <code>WebConfig</code> class:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    public WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler(){\n        return new CustomAccessDeniedHandler();\n    }\n}\n</code></pre>\n<p>Despite this I'm still getting the default <em>Access Denied</em> response. When debugging I realized that the <code>handle</code> method from custom handler isn't even called. What is the case here?</p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691721357,"creation_date":1691574170,"question_id":76866472,"body_markdown":"My eclipse has just one jboss runtime and is point to C:\\wildfly-23.0.2.Final, when I start the wildfly in eclipse and then change the code in System.out.println, I see the wildfly status change from &#39;Debugging, Republish&#39; to &#39;Debugging, Synchronized&#39;, and i see my changed code is really run (the System.out.println content is changed in console), but when I check the &#39;C:\\wildfly-23.0.2.Final\\standalone\\deployments&#39; folder, the ear.deployed file is still the old one, and I even have not run maven &gt; package, so the ear file in workspace target folder is also the old one, then \r\n\r\n1) why my new code can really run in debug mode?\r\n2) is it possible that when I change the code, it will automatically build (package) the new code to workspace target folder ear and auto deploy to &#39;C:\\wildfly-23.0.2.Final\\standalone\\deployments&#39; folder?\r\n\r\n[![jboss runtime 1][1]][1]\r\n\r\n\r\n[![jboss runtime 2][2]][2]\r\n\r\n[![eclipse server tab][3]][3]\r\n\r\n[![eclipse wildfly setting][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S81OU.jpg\r\n  [2]: https://i.stack.imgur.com/kzr9n.jpg\r\n  [3]: https://i.stack.imgur.com/0sXbk.jpg\r\n  [4]: https://i.stack.imgur.com/K0Diu.jpg","title":"why eclipse can run latest change without maven package and copy the ear to wildfly","body":"<p>My eclipse has just one jboss runtime and is point to C:\\wildfly-23.0.2.Final, when I start the wildfly in eclipse and then change the code in System.out.println, I see the wildfly status change from 'Debugging, Republish' to 'Debugging, Synchronized', and i see my changed code is really run (the System.out.println content is changed in console), but when I check the 'C:\\wildfly-23.0.2.Final\\standalone\\deployments' folder, the ear.deployed file is still the old one, and I even have not run maven &gt; package, so the ear file in workspace target folder is also the old one, then</p>\n<ol>\n<li>why my new code can really run in debug mode?</li>\n<li>is it possible that when I change the code, it will automatically build (package) the new code to workspace target folder ear and auto deploy to 'C:\\wildfly-23.0.2.Final\\standalone\\deployments' folder?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/S81OU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S81OU.jpg\" alt=\"jboss runtime 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kzr9n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzr9n.jpg\" alt=\"jboss runtime 2\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0sXbk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0sXbk.jpg\" alt=\"eclipse server tab\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/K0Diu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K0Diu.jpg\" alt=\"eclipse wildfly setting\" /></a></p>\n"},{"tags":["java","junit","httpurlconnection","http-redirect","http-status-code-302"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691723950,"post_id":76880331,"comment_id":135533231,"body_markdown":"Minor point, the first argument to `assertEquals` should be the expected value, which would make the message say what it should.","body":"Minor point, the first argument to <code>assertEquals</code> should be the expected value, which would make the message say what it should."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691724016,"post_id":76880331,"comment_id":135533234,"body_markdown":"And I think the answer to your question is that the redirect is being followed, and `/test` returns a 200 status.","body":"And I think the answer to your question is that the redirect is being followed, and <code>&#47;test</code> returns a 200 status."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691724279,"post_id":76880331,"comment_id":135533258,"body_markdown":"200 is &quot;ok&quot; 302 is a little more odd but for some , the same as 200 re: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302","body":"200 is &quot;ok&quot; 302 is a little more odd but for some , the same as 200 re: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/302</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691725915,"post_id":76880331,"comment_id":135533373,"body_markdown":"@SamuelMarchant No it isn&#39;t. 302 means a redirect to a URL specified in another header. 200 means success and is accompanied by the desired payload. Your source code does not support your assertion.","body":"@SamuelMarchant No it isn&#39;t. 302 means a redirect to a URL specified in another header. 200 means success and is accompanied by the desired payload. Your source code does not support your assertion."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691726005,"post_id":76880331,"comment_id":135533384,"body_markdown":"@OP As you are following redirects, you won&#39;t see the 302. If you want to see it, don&#39;t set the connection to follow redirects, in which case you will have to follow them yourself.","body":"@OP As you are following redirects, you won&#39;t see the 302. If you want to see it, don&#39;t set the connection to follow redirects, in which case you will have to follow them yourself."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691726984,"post_id":76880331,"comment_id":135533459,"body_markdown":"@user207421.   No it isn&#39;t his problem, he is using &quot;assertions&quot; , it is simply the junit test result! He &quot;asserts the result will be 302&quot;.   (NB my other comment on return http codes infers any clear information wanted is explained in the documentation at the link). Not knowing exactly how the test is setup , &quot;maybe he got the resource at its location&quot;. hmmmm","body":"@user207421.   No it isn&#39;t his problem, he is using &quot;assertions&quot; , it is simply the junit test result! He &quot;asserts the result will be 302&quot;.   (NB my other comment on return http codes infers any clear information wanted is explained in the documentation at the link). Not knowing exactly how the test is setup , &quot;maybe he got the resource at its location&quot;. hmmmm"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691733395,"post_id":76880331,"comment_id":135534061,"body_markdown":"@SamuelMarchant they got the resource after their request followed the redirect at `/rdrct` to the actual resource at `/test`.","body":"@SamuelMarchant they got the resource after their request followed the redirect at <code>&#47;rdrct</code> to the actual resource at <code>&#47;test</code>."},{"owner":{"account_id":688173,"reputation":1511,"user_id":544982,"accept_rate":45,"display_name":"p0tta"},"score":0,"creation_date":1691759986,"post_id":76880331,"comment_id":135539136,"body_markdown":"In that case, is there a way I can just test for the new url as /test instead and not test for http status code 302? I just need to make sure I test the redirect works","body":"In that case, is there a way I can just test for the new url as /test instead and not test for http status code 302? I just need to make sure I test the redirect works"}],"owner":{"account_id":688173,"reputation":1511,"user_id":544982,"accept_rate":45,"display_name":"p0tta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691720429,"creation_date":1691720429,"question_id":76880331,"body_markdown":"I am trying to write a test for a URL /rdrct which redirects to another URL, say /test on the same host. On the application, the redirect works fine and I see a HTTP 302 in the Network Inspector but when I write a Java test, it fails and I get the following error. \r\n\r\n**expected: &lt;200&gt; but was: &lt;302&gt;**\r\n\r\n    @Test\r\n    public void testRedirect() throws Exception { \r\n        String uri = &quot;http://localhost:&quot; + port + &quot;/rdrct&quot;;\r\n        URL url = new URL(uri);\r\n\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setInstanceFollowRedirects(true);\r\n        connection.setRequestProperty(&quot;Accept&quot;,\r\n            &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,&quot;\r\n            + &quot;image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;);\r\n        connection.connect();\r\n        int responseCode = connection.getResponseCode();\r\n        assertEquals(responseCode, 302); \r\n    }\r\n\r\nWhat am I missing or doing wrong? ","title":"HttpURLConnection unable to capture HTTP 302 correctly in a Java test","body":"<p>I am trying to write a test for a URL /rdrct which redirects to another URL, say /test on the same host. On the application, the redirect works fine and I see a HTTP 302 in the Network Inspector but when I write a Java test, it fails and I get the following error.</p>\n<p><strong>expected: &lt;200&gt; but was: &lt;302&gt;</strong></p>\n<pre><code>@Test\npublic void testRedirect() throws Exception { \n    String uri = &quot;http://localhost:&quot; + port + &quot;/rdrct&quot;;\n    URL url = new URL(uri);\n\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setInstanceFollowRedirects(true);\n    connection.setRequestProperty(&quot;Accept&quot;,\n        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,&quot;\n        + &quot;image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;);\n    connection.connect();\n    int responseCode = connection.getResponseCode();\n    assertEquals(responseCode, 302); \n}\n</code></pre>\n<p>What am I missing or doing wrong?</p>\n"},{"tags":["java","configuration"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691739224,"post_id":76880268,"comment_id":135535083,"body_markdown":"_&quot;What does conf/ suydirectory in the jdk contents imply&quot;_ It implies nothing, it stores configuration files. _&quot;how to edit it&quot;_ You edit configuration files with a text editor. The additional question you pose in your question body is far too broad and unspecific. (And really, if you have to ask why you would change it, you probably have no need to change it.)","body":"<i>&quot;What does conf/ suydirectory in the jdk contents imply&quot;</i> It implies nothing, it stores configuration files. <i>&quot;how to edit it&quot;</i> You edit configuration files with a text editor. The additional question you pose in your question body is far too broad and unspecific. (And really, if you have to ask why you would change it, you probably have no need to change it.)"}],"owner":{"account_id":29202952,"reputation":9,"user_id":22372635,"display_name":"YSSReddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691719039,"creation_date":1691719039,"question_id":76880268,"body_markdown":"I am going through java SE \\[documentation\\](https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:~:text=man/index.html-,Configuration%20files,-(In%20the) and I see that under contents of JDK we have configuration Files which are stored at conf/ subdirectory. Can anyone explain me what are the use cases where we may need to edit the contents of this subdirectory ?\r\n\r\nI tried to go through the contents of this subdirectory and I also looked online and was not able to find any explainer on this subdirectory.","title":"What does conf/ subdirectory in the jdk contents imply and how to edit it?","body":"<p>I am going through java SE [documentation](<a href=\"https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:%7E:text=man/index.html-,Configuration%20files,-(In%20the)\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:~:text=man/index.html-,Configuration%20files,-(In%20the)</a> and I see that under contents of JDK we have configuration Files which are stored at conf/ subdirectory. Can anyone explain me what are the use cases where we may need to edit the contents of this subdirectory ?</p>\n<p>I tried to go through the contents of this subdirectory and I also looked online and was not able to find any explainer on this subdirectory.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":137700,"reputation":8264,"user_id":342073,"accept_rate":64,"display_name":"Ramesh Kotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649715255,"creation_date":1649715255,"answer_id":71834896,"question_id":71834853,"body_markdown":"Use Spring @Profile annotation\r\n\r\nYou can have environment specific property file\r\n\r\nEx: application-prod.properties \r\napplication-dev.properties ","title":"Java Spring boot Configuration settings for different environment","body":"<p>Use Spring @Profile annotation</p>\n<p>You can have environment specific property file</p>\n<p>Ex: application-prod.properties\napplication-dev.properties</p>\n"},{"tags":[],"owner":{"account_id":23828425,"reputation":755,"user_id":17835092,"display_name":"Samuel Olufemi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691717938,"creation_date":1649716519,"answer_id":71835048,"question_id":71834853,"body_markdown":"You can create different application.properties file for different environment. The environment name should be appended to the filename and separated with dash (-). For example, \r\n\r\nyou can have  `application-dev.properties` for dev environment , you can also have &#39;application-staging.properties` for staging environment `application-prod.properties` for production environment.\r\n\r\nTo activate each environment, pass it as a flag when are starting your .jar application for example\r\n\r\n`java -jar myapp.jar --spring.profiles.active=staging`\r\n\r\n or you can define the active profile inside `application.properties`.\r\n\r\nI.e (In the example below , your application will make use of the configuration inside `application-staging.properties` )\r\n\r\n    spring.profiles.active=staging #comment out to switch away from staging\r\n    #spring.profiles.active=dev # uncomment to set active profile to dev\r\n    #spring.profiles.active=prod # uncomment to set active profile to prod\r\n\r\n\r\n[![application.properties configuration][1]][1]\r\n\r\nYou can now have different settings based on different environment in the custom created files.\r\n\r\nFor instance the staging environment could be configured to start on port 8888 as shown below\r\n[![application-staging.properties content][2]][2]\r\n\r\nand  the dev could be configured to start on port 8989\r\n\r\n[![application-dev.properties content][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6pqnA.png\r\n  [2]: https://i.stack.imgur.com/3SkjU.png\r\n  [3]: https://i.stack.imgur.com/nOCCz.png","title":"Java Spring boot Configuration settings for different environment","body":"<p>You can create different application.properties file for different environment. The environment name should be appended to the filename and separated with dash (-). For example,</p>\n<p>you can have  <code>application-dev.properties</code> for dev environment , you can also have 'application-staging.properties<code>for staging environment</code>application-prod.properties` for production environment.</p>\n<p>To activate each environment, pass it as a flag when are starting your .jar application for example</p>\n<p><code>java -jar myapp.jar --spring.profiles.active=staging</code></p>\n<p>or you can define the active profile inside <code>application.properties</code>.</p>\n<p>I.e (In the example below , your application will make use of the configuration inside <code>application-staging.properties</code> )</p>\n<pre><code>spring.profiles.active=staging #comment out to switch away from staging\n#spring.profiles.active=dev # uncomment to set active profile to dev\n#spring.profiles.active=prod # uncomment to set active profile to prod\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6pqnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pqnA.png\" alt=\"application.properties configuration\" /></a></p>\n<p>You can now have different settings based on different environment in the custom created files.</p>\n<p>For instance the staging environment could be configured to start on port 8888 as shown below\n<a href=\"https://i.stack.imgur.com/3SkjU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3SkjU.png\" alt=\"application-staging.properties content\" /></a></p>\n<p>and  the dev could be configured to start on port 8989</p>\n<p><a href=\"https://i.stack.imgur.com/nOCCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nOCCz.png\" alt=\"application-dev.properties content\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691718015,"creation_date":1649716574,"answer_id":71835054,"question_id":71834853,"body_markdown":"In Spring Boot, there is a convention of using a *property* file or a *yaml* file, the pattern used for file naming is `application-{env}.[ yaml | properties ]`.\r\n\r\nSpecifying the env variable can be passed using `spring.profiles.active` property, e.g.\r\n\r\nSay you have a Spring config file named `application-test.yaml` then:\r\n&gt;pom.xml\r\n```xml\r\n.\r\n.\r\n&lt;properties&gt;\r\n \r\n &lt;spring.profiles.active&gt;${environment}&lt;/spring.profiles.active&gt;\r\n\r\n&lt;/properties&gt;\r\n.\r\n.\r\n```\r\n\r\nTo use a different environment for each Maven build you&#39;ll need to use *Maven profiles*, e.g.\r\n\r\n&gt;pom.xml\r\n```xml\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;test&lt;/id&gt;\r\n    &lt;properties&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;environment&lt;/name&gt;\r\n        &lt;value&gt;test&lt;/value&gt;\r\n      &lt;/property&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nThis allows you to control the environment from the console:\r\n\r\n```bash\r\n$ mvn clean verify -P test\r\n```\r\n\r\nA quick search for *Maven profiles* and *Spring profiles* will probably get you what you need for your use case.","title":"Java Spring boot Configuration settings for different environment","body":"<p>In Spring Boot, there is a convention of using a <em>property</em> file or a <em>yaml</em> file, the pattern used for file naming is <code>application-{env}.[ yaml | properties ]</code>.</p>\n<p>Specifying the env variable can be passed using <code>spring.profiles.active</code> property, e.g.</p>\n<p>Say you have a Spring config file named <code>application-test.yaml</code> then:</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>.\n.\n&lt;properties&gt;\n \n &lt;spring.profiles.active&gt;${environment}&lt;/spring.profiles.active&gt;\n\n&lt;/properties&gt;\n.\n.\n</code></pre>\n<p>To use a different environment for each Maven build you'll need to use <em>Maven profiles</em>, e.g.</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;test&lt;/id&gt;\n    &lt;properties&gt;\n      &lt;property&gt;\n        &lt;name&gt;environment&lt;/name&gt;\n        &lt;value&gt;test&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/properties&gt;\n    ...\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>This allows you to control the environment from the console:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn clean verify -P test\n</code></pre>\n<p>A quick search for <em>Maven profiles</em> and <em>Spring profiles</em> will probably get you what you need for your use case.</p>\n"}],"owner":{"account_id":24540221,"reputation":25,"user_id":18450658,"display_name":"Temiloluwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71835048,"answer_count":3,"score":2,"last_activity_date":1691718015,"creation_date":1649715012,"question_id":71834853,"body_markdown":"I am using maven with java Spring-boot. \r\n\r\nHow can efficiently handle configuration  for different environment?\r\nFor instance, if I am on staging use this port, if I am on dev, use this port \r\n    \r\nCurrently, I change all the necessary  settings in the application.properties each time I move to a different environment","title":"Java Spring boot Configuration settings for different environment","body":"<p>I am using maven with java Spring-boot.</p>\n<p>How can efficiently handle configuration  for different environment?\nFor instance, if I am on staging use this port, if I am on dev, use this port</p>\n<p>Currently, I change all the necessary  settings in the application.properties each time I move to a different environment</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1482346887,"post_id":41270035,"comment_id":69741019,"body_markdown":"Instead of `sendError` use `setStatus` . a `@ControllerAdvice` won&#39;t work as the exception happens in the filter chain not inside the `DispatcherServlet`. Next to that make sure you are following the correct rules regarding security overrides in Spring Boot (see the reference guide for that).","body":"Instead of <code>sendError</code> use <code>setStatus</code> . a <code>@ControllerAdvice</code> won&#39;t work as the exception happens in the filter chain not inside the <code>DispatcherServlet</code>. Next to that make sure you are following the correct rules regarding security overrides in Spring Boot (see the reference guide for that)."},{"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"score":0,"creation_date":1482347768,"post_id":41270035,"comment_id":69741493,"body_markdown":"@M.Deinum, thanks, but it didn&#39;t help. I tried                     &#39;response.setStatus(403);&#39;\n&#39;response.getWriter().print(&quot;forbidden&quot;);&#39;, it is still giving a spring error page. I think I configured it well, since it is at least blocking access to test.txt for unauthenticated users.","body":"@M.Deinum, thanks, but it didn&#39;t help. I tried                     &#39;response.setStatus(403);&#39; &#39;response.getWriter().print(&quot;forbidden&quot;);&#39;, it is still giving a spring error page. I think I configured it well, since it is at least blocking access to test.txt for unauthenticated users."},{"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"score":0,"creation_date":1482348459,"post_id":41270035,"comment_id":69741919,"body_markdown":"@M.Deinum, I&#39;ve found an answer for my questions. The thing is Spring security first tries to authorize the user and calls for authenticationEntryPoint, and only if user is authorized already and access is still denied, it will call for accessDeniedHandler. In my case it was trying to find authenticationEntryPoint and giving an error. Thank you anyway!","body":"@M.Deinum, I&#39;ve found an answer for my questions. The thing is Spring security first tries to authorize the user and calls for authenticationEntryPoint, and only if user is authorized already and access is still denied, it will call for accessDeniedHandler. In my case it was trying to find authenticationEntryPoint and giving an error. Thank you anyway!"}],"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691717614,"creation_date":1482346680,"question_id":41270035,"body_markdown":"I want to create a `Spring Boot` app that will serve as a back-end service provider for angular/mobile apps. When a user makes a request that he/she is not allowed to do, user has to get a response like &quot;_forbidden_&quot; for example.\r\nI&#39;ve created an `@EnableWebSecurity` annotated class that overrides `WebSecurityConfigurerAdapter.configure(HttpSecurity http)` method. I have tried the following:\r\n\r\n    http\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/test.txt&quot;).authenticated().and().exceptionHandling()\r\n        .accessDeniedHandler((HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) -&gt; {\r\n            response.sendError(403, &quot;forbidden&quot;);\r\n        });\r\n\r\nAnd even this didn&#39;t work\r\n\r\n    http\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/test.txt&quot;).authenticated()\r\n        .and().exceptionHandling().accessDeniedPage(&quot;/somepage&quot;);\r\n\r\nWhat I get is `403` response with _html_ text as follows:\r\n\r\n    &quot;This application has no explicit mapping for /error, \r\n     so you are seeing this as a fallback. \r\n     There was an unexpected error (type=Forbidden, status=403). \r\n     Access Denied&quot;\r\n\r\nI&#39;ve already googled for the answer and got advises to create a `@ControllerAdvice` class to catch `AccessDeniedException`s. \r\n\r\nBut, first, I already have such class that has `@ExceptionHandler(Throwable.class)` annotated method (to catch all possible exceptions in an application) and it is not invoked either, second, I would like to understand why my first method doesn&#39;t work. Thanks!","title":"Spring Security custom accessDeniedHandler is ignored","body":"<p>I want to create a <code>Spring Boot</code> app that will serve as a back-end service provider for angular/mobile apps. When a user makes a request that he/she is not allowed to do, user has to get a response like &quot;<em>forbidden</em>&quot; for example.\nI've created an <code>@EnableWebSecurity</code> annotated class that overrides <code>WebSecurityConfigurerAdapter.configure(HttpSecurity http)</code> method. I have tried the following:</p>\n<pre><code>http\n    .authorizeRequests()\n    .antMatchers(&quot;/test.txt&quot;).authenticated().and().exceptionHandling()\n    .accessDeniedHandler((HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) -&gt; {\n        response.sendError(403, &quot;forbidden&quot;);\n    });\n</code></pre>\n<p>And even this didn't work</p>\n<pre><code>http\n    .authorizeRequests()\n    .antMatchers(&quot;/test.txt&quot;).authenticated()\n    .and().exceptionHandling().accessDeniedPage(&quot;/somepage&quot;);\n</code></pre>\n<p>What I get is <code>403</code> response with <em>html</em> text as follows:</p>\n<pre><code>&quot;This application has no explicit mapping for /error, \n so you are seeing this as a fallback. \n There was an unexpected error (type=Forbidden, status=403). \n Access Denied&quot;\n</code></pre>\n<p>I've already googled for the answer and got advises to create a <code>@ControllerAdvice</code> class to catch <code>AccessDeniedException</code>s.</p>\n<p>But, first, I already have such class that has <code>@ExceptionHandler(Throwable.class)</code> annotated method (to catch all possible exceptions in an application) and it is not invoked either, second, I would like to understand why my first method doesn't work. Thanks!</p>\n"},{"tags":["java","spring-boot","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691656522,"post_id":76870760,"comment_id":135521832,"body_markdown":"Did you configure `java.configuration.runtimes`?","body":"Did you configure <code>java.configuration.runtimes</code>?"},{"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"score":0,"creation_date":1691662643,"post_id":76870760,"comment_id":135523023,"body_markdown":"Is that a Gradle or a VS Code setting?","body":"Is that a Gradle or a VS Code setting?"},{"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"score":0,"creation_date":1691694277,"post_id":76870760,"comment_id":135529840,"body_markdown":"This did the trick. I set the runtime configurations in VS Code and now it works. Thank you! Do you want to answer the question so that i can set it as the accepted answer?","body":"This did the trick. I set the runtime configurations in VS Code and now it works. Thank you! Do you want to answer the question so that i can set it as the accepted answer?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691715931,"post_id":76870760,"comment_id":135532664,"body_markdown":"I have made an answer. If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue.","body":"I have made an answer. If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691715908,"creation_date":1691715908,"answer_id":76880148,"question_id":76870760,"body_markdown":"You can configure **JDK** for your project via [`java.configuration.runtimes`][1] configuration.\r\n\r\n***Example:***\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"Spring Boot 3 with Gradle and Java 17 not working in VS Code Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2","body":"<p>You can configure <strong>JDK</strong> for your project via <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\"><code>java.configuration.runtimes</code></a> configuration.</p>\n<p><em><strong>Example:</strong></em></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n"}],"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76880148,"answer_count":1,"score":0,"last_activity_date":1691715908,"creation_date":1691609713,"question_id":76870760,"body_markdown":"I have a Spring Boot 3 project with Gradle and Java 17. I want to work with it using VS Code. I have the Java extension pack, the Spring Boot extension pack and the gradle extension in VS Code. \r\n\r\nI can use the same project without problems in Eclipse. I also tried using a new project from start.spring.io. The projects work with the following configurations:\r\n\r\n- Maven + Java 11 + Spring Boot 2.7.14\r\n- Maven + Java 17 + Spring Boot 3.1.2\r\n- Gradle + Java 11 + Spring Boot 2.7.14\r\n\r\n\r\nThe log shows the following error, when i try to open the project:\r\n\r\n    !SESSION 2023-08-09 20:32:19.690 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=17.0.7\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:29.890\r\n    !MESSAGE Finished creating the Java project jdt.ls-java-project\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.142\r\n    !MESSAGE Importing Gradle project(s)\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.143\r\n    !MESSAGE No previous Gradle project at /home/username/Documents/tmp/testb3j17g, it must be synchronized\r\n\r\n    !ENTRY org.eclipse.buildship.core 2 3 2023-08-09 20:32:42.643\r\n    !MESSAGE Synchronize project testb3j17g failed due to an error connecting to the Gradle build.\r\n    !STACK 0\r\n    org.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\r\n        at ...\r\n    Caused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:classpath&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n    Required by:\r\n        project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n    Caused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n    - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n        at ...\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 4 0 2023-08-09 20:32:43.292\r\n    !MESSAGE Could not fetch model of type &#39;Map&#39; using connection to Gradle installation &#39;/usr/share/java/gradle&#39;.\r\n    !STACK 0\r\n    org.gradle.tooling.BuildException: Could not fetch model of type &#39;Map&#39; using connection to Gradle installation &#39;/usr/share/java/gradle&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...\r\n    Caused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...d$4(DefaultBuildTreeLifecycleController.java:98)\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:classpath&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n    Required by:\r\n        project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n    Caused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n    - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n\r\nAfter reading some other questions (like [this one][1] or [that one][2]), I thought gradle uses java 11 but `gradle --version` gives the following output:\r\n\r\n    $ gradle --version\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 8.2.1\r\n    ------------------------------------------------------------\r\n\r\n    Build time:   2023-07-10 16:30:34 UTC\r\n    Revision:     &lt;unknown&gt;\r\n\r\n    Kotlin:       1.8.20\r\n    Groovy:       3.0.17\r\n    Ant:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\n    JVM:          17.0.8 (Oracle Corporation 17.0.8+7)\r\n    OS:           Linux 6.4.4-arch1-1 amd64\r\n\r\nI also set the VS Code setting `Java › Import › Gradle › Java: Home` to the JDK-17. What I find strange is that gradle build is working fine and also in the gradle view in VS Code the Spring Boot dependencies are listed.\r\n\r\n  [1]: https://stackoverflow.com/q/74616510/12949885\r\n  [2]: https://stackoverflow.com/q/74931848/12949885","title":"Spring Boot 3 with Gradle and Java 17 not working in VS Code Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2","body":"<p>I have a Spring Boot 3 project with Gradle and Java 17. I want to work with it using VS Code. I have the Java extension pack, the Spring Boot extension pack and the gradle extension in VS Code.</p>\n<p>I can use the same project without problems in Eclipse. I also tried using a new project from start.spring.io. The projects work with the following configurations:</p>\n<ul>\n<li>Maven + Java 11 + Spring Boot 2.7.14</li>\n<li>Maven + Java 17 + Spring Boot 3.1.2</li>\n<li>Gradle + Java 11 + Spring Boot 2.7.14</li>\n</ul>\n<p>The log shows the following error, when i try to open the project:</p>\n<pre><code>!SESSION 2023-08-09 20:32:19.690 -----------------------------------------------\neclipse.buildId=unknown\njava.version=17.0.7\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:29.890\n!MESSAGE Finished creating the Java project jdt.ls-java-project\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.142\n!MESSAGE Importing Gradle project(s)\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.143\n!MESSAGE No previous Gradle project at /home/username/Documents/tmp/testb3j17g, it must be synchronized\n\n!ENTRY org.eclipse.buildship.core 2 3 2023-08-09 20:32:42.643\n!MESSAGE Synchronize project testb3j17g failed due to an error connecting to the Gradle build.\n!STACK 0\norg.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\n    at ...\nCaused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'testb3j17g'.\n    at ...\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at ...\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\nRequired by:\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\nCaused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n    at ...\n\n!ENTRY org.eclipse.jdt.ls.core 4 0 2023-08-09 20:32:43.292\n!MESSAGE Could not fetch model of type 'Map' using connection to Gradle installation '/usr/share/java/gradle'.\n!STACK 0\norg.gradle.tooling.BuildException: Could not fetch model of type 'Map' using connection to Gradle installation '/usr/share/java/gradle'.\n    at ...\nCaused by: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project 'testb3j17g'.\n    at ...\nCaused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'testb3j17g'.\n    at ...d$4(DefaultBuildTreeLifecycleController.java:98)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at ...\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\nRequired by:\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\nCaused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n</code></pre>\n<p>After reading some other questions (like <a href=\"https://stackoverflow.com/q/74616510/12949885\">this one</a> or <a href=\"https://stackoverflow.com/q/74931848/12949885\">that one</a>), I thought gradle uses java 11 but <code>gradle --version</code> gives the following output:</p>\n<pre><code>$ gradle --version\n\n------------------------------------------------------------\nGradle 8.2.1\n------------------------------------------------------------\n\nBuild time:   2023-07-10 16:30:34 UTC\nRevision:     &lt;unknown&gt;\n\nKotlin:       1.8.20\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          17.0.8 (Oracle Corporation 17.0.8+7)\nOS:           Linux 6.4.4-arch1-1 amd64\n</code></pre>\n<p>I also set the VS Code setting <code>Java › Import › Gradle › Java: Home</code> to the JDK-17. What I find strange is that gradle build is working fine and also in the gradle view in VS Code the Spring Boot dependencies are listed.</p>\n"},{"tags":["java","android","react-native","kotlin"],"owner":{"account_id":29132209,"reputation":11,"user_id":22317183,"display_name":"srbarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691715891,"creation_date":1691715891,"question_id":76880145,"body_markdown":"react native android debug works fine, but when i try to build the apk with \r\n`npx react-native run-android --mode release`\r\nit correctly builds but crashes on startup. I&#39;ve attached a screenshot of the logcat below. It has something to do with redux because it says it cant access property store. Its code in one of the packages because I am not accessing .store anywhere in my code. But this still doesn&#39;t explain why it works in debug but not in release\r\n\r\n\r\n[logcat fatal exception](https://i.stack.imgur.com/9eiTG.png)\r\n\r\nI have tried rebuilding the project several times and it hasn&#39;t worked. ","title":"react native android release crash on startup","body":"<p>react native android debug works fine, but when i try to build the apk with\n<code>npx react-native run-android --mode release</code>\nit correctly builds but crashes on startup. I've attached a screenshot of the logcat below. It has something to do with redux because it says it cant access property store. Its code in one of the packages because I am not accessing .store anywhere in my code. But this still doesn't explain why it works in debug but not in release</p>\n<p><a href=\"https://i.stack.imgur.com/9eiTG.png\" rel=\"nofollow noreferrer\">logcat fatal exception</a></p>\n<p>I have tried rebuilding the project several times and it hasn't worked.</p>\n"},{"tags":["java","deployment","jar","packaging","hexagonal-architecture"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683065739,"post_id":76156250,"comment_id":134308935,"body_markdown":"What’s your goal? Why do you need more than one JAR per deployable unit?","body":"What’s your goal? Why do you need more than one JAR per deployable unit?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1683084028,"post_id":76156250,"comment_id":134310735,"body_markdown":"@TimMoore it&#39;s a matter of subprojects if you prefer. I&#39;ve started with a Maven project having roughly eight `&lt;module&gt;` of `&lt;packaging&gt;jar&lt;/packaging&gt;` kind, gathered into a final executable through the `org.springframework.boot:spring-boot-maven-plugin:repackage` plugin =&gt; I have, for backend, a single executable jar, but if I open it with a tool its `BOOT-INF/lib` has seven small jars of mine inside, among plenty of _Spring_, _Spark_, _Jakata_ API jars. What I&#39;m fearing now, is to be going to hundred of these modules.","body":"@TimMoore it&#39;s a matter of subprojects if you prefer. I&#39;ve started with a Maven project having roughly eight <code>&lt;module&gt;</code> of <code>&lt;packaging&gt;jar&lt;&#47;packaging&gt;</code> kind, gathered into a final executable through the <code>org.springframework.boot:spring-boot-maven-plugin:repackage</code> plugin =&gt; I have, for backend, a single executable jar, but if I open it with a tool its <code>BOOT-INF&#47;lib</code> has seven small jars of mine inside, among plenty of <i>Spring</i>, <i>Spark</i>, <i>Jakata</i> API jars. What I&#39;m fearing now, is to be going to hundred of these modules."}],"answers":[{"tags":[],"owner":{"account_id":1089215,"reputation":4570,"user_id":1084242,"accept_rate":71,"display_name":"choquero70"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691715880,"creation_date":1691715880,"answer_id":76880144,"question_id":76156250,"body_markdown":"Here is my example of Hexagonal Architecture with Java 9 modules:\r\n\r\n- One for the app (hexagon).\r\n- One for each adapter.\r\n- One for a startup that builds the whole system.\r\n\r\nGithub repo with the code:\r\n\r\nhttps://github.com/jmgarridopaz/bluezone\r\n","title":"What IDE subprojects (=Maven &lt;modules&gt;) dispatching for an hexagonal project? How many jars will be in the final executable jar? Ten, tens, hundreds?","body":"<p>Here is my example of Hexagonal Architecture with Java 9 modules:</p>\n<ul>\n<li>One for the app (hexagon).</li>\n<li>One for each adapter.</li>\n<li>One for a startup that builds the whole system.</li>\n</ul>\n<p>Github repo with the code:</p>\n<p><a href=\"https://github.com/jmgarridopaz/bluezone\" rel=\"nofollow noreferrer\">https://github.com/jmgarridopaz/bluezone</a></p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691715880,"creation_date":1683039804,"question_id":76156250,"body_markdown":"Before starting to move to an hexagonal architecture, my application (roughly) had these jars, gathering into a bigger executable.\r\n\r\n(to be more precise, for a comment below: concretely each of my _Maven_ subprojects (`&lt;module&gt;`) has a `&lt;packaging&gt;jar&lt;/packaging&gt;` kind, and at the end, the application component gathers everything into an executable jar through the `org.springframework.boot:spring-boot-maven-plugin:repackage` plugin.  \r\nIf I enter with a zip tool into the executable jar, I&#39;ll see inside its `BOOT-INF/lib` seven or eight small jars of mine, among plenty of _Spring_, _Spark_, _Jakata_ API jars).\r\n\r\n__0)__ Here&#39;s my dispatching of components/Maven modules/IDE subprojects, roughly, before starting the migration to an hexagonal architecture:\r\n\r\n```\r\nBusiness Object.jar\r\n\r\nAssociation.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\nCatalogue.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\nComptes.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\n[seven others like these: Cities/Departments/Regions, Emploi,\r\nEntreprise, Equipement, Formation, Mobilite, Revenus Imposition]\r\n\r\n=&gt; Those going into a Main-Spring-Backend-Application.jar \r\n   Inside its BOOT-INF/lib you find:\r\n   Association.jar, Catalogue.jar, Comptes.jar...\r\n   among other API, frameworks, drivers, used by the application.\r\n\r\n=&gt; Angular Web Application.war\r\n```\r\n\r\nNow, hexagonal architecture is splitting, for example, Association management into:\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.rest.AssociationController\r\n\r\nadapters.outbound.port.AssociationRepository\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n\r\napplication.port.AssociationPort\r\n\r\napplication.service.AssociationService\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\n```\r\n\r\nI&#39;m a newbie in hexagonal architecture. It&#39;s the first time I&#39;m applying it, and the name of the classes and interfaces are still a bit imprecise in my mind.\r\n\r\nBut where am I going, in term of deployment?\r\n--------------------------------------------\r\n\r\n__1)__ Should I be in front of something like that, at the end of my work, if I consider jars I intend to deploy?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.port.CatalogueAPI\r\nadapters.inbound.port.ComptesAPI\r\n   ==&gt; For a jar #1\r\n\r\nadapters.inbound.rest.AssociationController\r\nadapters.inbound.rest.CatalogueController\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #2\r\n\r\nadapters.outbound.port.AssociationRepository\r\nadapters.outbound.port.CatalogueRepository\r\nadapters.outbound.port.ComptesRepository\r\n   ==&gt; for a jar #3\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #4\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #5\r\n\r\napplication.port.AssociationPort\r\napplication.port.CataloguePort\r\napplication.port.ComptesPort\r\n   ==&gt; for a jar #6\r\n\r\napplication.service.AssociationService\r\napplication.service.CatalogueDatagouvService\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #7\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #8\r\n```\r\n\r\nIt looks to me simple, but mixing every business together in each jar seems very confusing and troublesome.\r\n\r\n\r\n----------\r\n\r\n\r\n__2)__ Should I, instead, reach something like this, entirely split by business notion and by hexagonal nature?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\n   ==&gt; for a jar #1\r\n\r\nadapters.inbound.port.CatalogueAPI\r\n   ==&gt; for a jar #2\r\n\r\nadapters.inbound.port.ComptesAPI\r\n   ==&gt; For a jar #3\r\n\r\nadapters.inbound.rest.AssociationController\r\n   ==&gt; for a jar #4\r\n\r\nadapters.inbound.rest.CatalogueController\r\n   ==&gt; for a jar #5\r\n\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #6\r\n\r\nadapters.outbound.port.AssociationRepository\r\n   ==&gt; for a jar #7\r\n\r\nadapters.outbound.port.CatalogueRepository\r\n   ==&gt; for a jar #8\r\n\r\nadapters.outbound.port.ComptesRepository\r\n   ==&gt; for a jar #9\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\n   ==&gt; for a jar #10\r\n\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\n   ==&gt; for a jar #11\r\n\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #12\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #13\r\n\r\napplication.port.AssociationPort\r\n   ==&gt; for a jar #14\r\n\r\napplication.port.CataloguePort\r\n   ==&gt; for a jar #15\r\n\r\napplication.port.ComptesPort\r\n   ==&gt; for a jar #16\r\n\r\napplication.service.AssociationService\r\n   ==&gt; for a jar #17\r\n\r\napplication.service.CatalogueDatagouvService\r\n   ==&gt; for a jar #18\r\n\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #19\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\n   ==&gt; for a jar #20\r\n\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\n   ==&gt; for a jar #21\r\n\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #22\r\n```\r\n\r\n\r\nIt&#39;s yet the situation where I am, having started the migration, and I have this tree of subprojects, now:\r\n\r\n```\r\n------------------------------------------------------------------------\r\nReactor Summary for Application : Extraction et analyse de donn&#233;es par Apache Spark :\r\n\r\nPOM Parent ......................................... SUCCESS\r\nDomain-Core : Utilitaires bas niveau et m&#233;canismes techniques des objets m&#233;tiers SUCCESS\r\nDomain : Objets m&#233;tiers ............................ SUCCESS\r\nApplication-Port : Association ..................... SUCCESS\r\nAdapter-Inbound-Port : Association ................. SUCCESS\r\nAdapter-Outbound-Port : Association ................ SUCCESS\r\nApplication-Service-Core : Classes de base des services Spring SUCCESS\r\nAdapter-Outbound-Dao : DAO pour Postgis (G&#233;n&#233;ral) .. SUCCESS\r\nPOM Parent pour les projets Spark .................. SUCCESS\r\nAdapter-Outbound-Spark-Core : Classes de bases et utilitaires Spark SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Catalogue data.gouv.fr SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Maillage territorial (COG) SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Registre National des Associations (RNA) SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Comptes communaux et intercommunaux SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Emploi/Ch&#244;mage .... SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Entreprises et &#233;tablissements SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Base &#233;quipement INSEE SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Formation, enseignement, dipl&#244;mes SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Mobilit&#233; .......... SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Revenus (salaires, retraites) et imposition des m&#233;nages SUCCESS\r\nAdapter-Outbound-Spark-Analyse : Association ....... SUCCESS\r\nAdapter-Outbound-Spark-Analyse : Impacts communaux . SUCCESS\r\nAdapter-Inbound-Rest : Association ................. SUCCESS\r\nApplication-Service : Gestion des associations ..... SUCCESS\r\nApplication-Backend m&#233;tier : Services d&#39;enrichissement Open Data SUCCESS\r\nAdapter-Inbound-Rest : G&#233;n&#233;ration clients OpenAPI des services m&#233;tiers (G&#233;n&#233;ral) SUCCESS\r\nAdapter-Inbound-Web : Pr&#233;sentation des donn&#233;es ..... SUCCESS\r\nApplication : Extraction et analyse de donn&#233;es par Apache Spark SUCCESS \r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n ------------------------------------------------------------------------\r\nTotal time:  16.331 s\r\nFinished at: 2023-05-03T16:18:40+02:00\r\n------------------------------------------------------------------------\r\n```\r\n\r\nAnd I have only extracted the first business family/notion: Association.  \r\nDoing the other (Mobility, Tax, City...) will lead me to an impressive number of jars/a lot of subprojets. \r\nI will quickly have hundred of modules/jars/ide projects in my redispatched application.\r\n\r\n\r\n----------\r\n\r\n\r\n__3)__ Or dispatching only by hexagonal global nature, and then: business notion?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.rest.AssociationController\r\n   ==&gt; for a jar #1\r\n\r\nadapters.inbound.port.CatalogueAPI\r\nadapters.inbound.rest.CatalogueController\r\n   ==&gt; for a jar #2\r\n\r\nadapters.inbound.port.ComptesAPI\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #3\r\n\r\nadapters.outbound.port.AssociationRepository\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #4\r\n\r\nadapters.outbound.port.CatalogueRepository\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\n   ==&gt; for a jar #5\r\n\r\nadapters.outbound.port.ComptesRepository\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #6\r\n\r\napplication.port.AssociationPort\r\napplication.service.AssociationService\r\n   ==&gt; for a jar #7\r\n\r\napplication.port.CataloguePort\r\napplication.service.CatalogueDatagouvService\r\n\r\napplication.port.ComptesPort\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #8\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #9\r\n```\r\n\r\nHere, the number of submodules would be reduced, but outbound adapters jars [per kind of business notion] could see at the end a mix of _Spark_, _Postgresql_, etc. inside, and for the adapters.inbound, I could find myself having rest, angular application, etc. gathered.\r\n\r\nAnd how could I check their boundaries, if I&#39;ll become meticulous and wish to manage them through the Java 9 module system?\r\n\r\nIt would be odd, also.","title":"What IDE subprojects (=Maven &lt;modules&gt;) dispatching for an hexagonal project? How many jars will be in the final executable jar? Ten, tens, hundreds?","body":"<p>Before starting to move to an hexagonal architecture, my application (roughly) had these jars, gathering into a bigger executable.</p>\n<p>(to be more precise, for a comment below: concretely each of my <em>Maven</em> subprojects (<code>&lt;module&gt;</code>) has a <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> kind, and at the end, the application component gathers everything into an executable jar through the <code>org.springframework.boot:spring-boot-maven-plugin:repackage</code> plugin.<br />\nIf I enter with a zip tool into the executable jar, I'll see inside its <code>BOOT-INF/lib</code> seven or eight small jars of mine, among plenty of <em>Spring</em>, <em>Spark</em>, <em>Jakata</em> API jars).</p>\n<p><strong>0)</strong> Here's my dispatching of components/Maven modules/IDE subprojects, roughly, before starting the migration to an hexagonal architecture:</p>\n<pre><code>Business Object.jar\n\nAssociation.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\nCatalogue.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\nComptes.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\n[seven others like these: Cities/Departments/Regions, Emploi,\nEntreprise, Equipement, Formation, Mobilite, Revenus Imposition]\n\n=&gt; Those going into a Main-Spring-Backend-Application.jar \n   Inside its BOOT-INF/lib you find:\n   Association.jar, Catalogue.jar, Comptes.jar...\n   among other API, frameworks, drivers, used by the application.\n\n=&gt; Angular Web Application.war\n</code></pre>\n<p>Now, hexagonal architecture is splitting, for example, Association management into:</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.rest.AssociationController\n\nadapters.outbound.port.AssociationRepository\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n\napplication.port.AssociationPort\n\napplication.service.AssociationService\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\n</code></pre>\n<p>I'm a newbie in hexagonal architecture. It's the first time I'm applying it, and the name of the classes and interfaces are still a bit imprecise in my mind.</p>\n<h2>But where am I going, in term of deployment?</h2>\n<p><strong>1)</strong> Should I be in front of something like that, at the end of my work, if I consider jars I intend to deploy?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.port.CatalogueAPI\nadapters.inbound.port.ComptesAPI\n   ==&gt; For a jar #1\n\nadapters.inbound.rest.AssociationController\nadapters.inbound.rest.CatalogueController\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #2\n\nadapters.outbound.port.AssociationRepository\nadapters.outbound.port.CatalogueRepository\nadapters.outbound.port.ComptesRepository\n   ==&gt; for a jar #3\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #4\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #5\n\napplication.port.AssociationPort\napplication.port.CataloguePort\napplication.port.ComptesPort\n   ==&gt; for a jar #6\n\napplication.service.AssociationService\napplication.service.CatalogueDatagouvService\napplication.service.BalanceCompteService\n   ==&gt; for a jar #7\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #8\n</code></pre>\n<p>It looks to me simple, but mixing every business together in each jar seems very confusing and troublesome.</p>\n<hr />\n<p><strong>2)</strong> Should I, instead, reach something like this, entirely split by business notion and by hexagonal nature?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\n   ==&gt; for a jar #1\n\nadapters.inbound.port.CatalogueAPI\n   ==&gt; for a jar #2\n\nadapters.inbound.port.ComptesAPI\n   ==&gt; For a jar #3\n\nadapters.inbound.rest.AssociationController\n   ==&gt; for a jar #4\n\nadapters.inbound.rest.CatalogueController\n   ==&gt; for a jar #5\n\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #6\n\nadapters.outbound.port.AssociationRepository\n   ==&gt; for a jar #7\n\nadapters.outbound.port.CatalogueRepository\n   ==&gt; for a jar #8\n\nadapters.outbound.port.ComptesRepository\n   ==&gt; for a jar #9\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\n   ==&gt; for a jar #10\n\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\n   ==&gt; for a jar #11\n\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #12\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #13\n\napplication.port.AssociationPort\n   ==&gt; for a jar #14\n\napplication.port.CataloguePort\n   ==&gt; for a jar #15\n\napplication.port.ComptesPort\n   ==&gt; for a jar #16\n\napplication.service.AssociationService\n   ==&gt; for a jar #17\n\napplication.service.CatalogueDatagouvService\n   ==&gt; for a jar #18\n\napplication.service.BalanceCompteService\n   ==&gt; for a jar #19\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\n   ==&gt; for a jar #20\n\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\n   ==&gt; for a jar #21\n\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #22\n</code></pre>\n<p>It's yet the situation where I am, having started the migration, and I have this tree of subprojects, now:</p>\n<pre><code>------------------------------------------------------------------------\nReactor Summary for Application : Extraction et analyse de données par Apache Spark :\n\nPOM Parent ......................................... SUCCESS\nDomain-Core : Utilitaires bas niveau et mécanismes techniques des objets métiers SUCCESS\nDomain : Objets métiers ............................ SUCCESS\nApplication-Port : Association ..................... SUCCESS\nAdapter-Inbound-Port : Association ................. SUCCESS\nAdapter-Outbound-Port : Association ................ SUCCESS\nApplication-Service-Core : Classes de base des services Spring SUCCESS\nAdapter-Outbound-Dao : DAO pour Postgis (Général) .. SUCCESS\nPOM Parent pour les projets Spark .................. SUCCESS\nAdapter-Outbound-Spark-Core : Classes de bases et utilitaires Spark SUCCESS\nAdapter-Outbound-Spark-Dataset : Catalogue data.gouv.fr SUCCESS\nAdapter-Outbound-Spark-Dataset : Maillage territorial (COG) SUCCESS\nAdapter-Outbound-Spark-Dataset : Registre National des Associations (RNA) SUCCESS\nAdapter-Outbound-Spark-Dataset : Comptes communaux et intercommunaux SUCCESS\nAdapter-Outbound-Spark-Dataset : Emploi/Chômage .... SUCCESS\nAdapter-Outbound-Spark-Dataset : Entreprises et établissements SUCCESS\nAdapter-Outbound-Spark-Dataset : Base équipement INSEE SUCCESS\nAdapter-Outbound-Spark-Dataset : Formation, enseignement, diplômes SUCCESS\nAdapter-Outbound-Spark-Dataset : Mobilité .......... SUCCESS\nAdapter-Outbound-Spark-Dataset : Revenus (salaires, retraites) et imposition des ménages SUCCESS\nAdapter-Outbound-Spark-Analyse : Association ....... SUCCESS\nAdapter-Outbound-Spark-Analyse : Impacts communaux . SUCCESS\nAdapter-Inbound-Rest : Association ................. SUCCESS\nApplication-Service : Gestion des associations ..... SUCCESS\nApplication-Backend métier : Services d'enrichissement Open Data SUCCESS\nAdapter-Inbound-Rest : Génération clients OpenAPI des services métiers (Général) SUCCESS\nAdapter-Inbound-Web : Présentation des données ..... SUCCESS\nApplication : Extraction et analyse de données par Apache Spark SUCCESS \n------------------------------------------------------------------------\nBUILD SUCCESS\n ------------------------------------------------------------------------\nTotal time:  16.331 s\nFinished at: 2023-05-03T16:18:40+02:00\n------------------------------------------------------------------------\n</code></pre>\n<p>And I have only extracted the first business family/notion: Association.<br />\nDoing the other (Mobility, Tax, City...) will lead me to an impressive number of jars/a lot of subprojets.\nI will quickly have hundred of modules/jars/ide projects in my redispatched application.</p>\n<hr />\n<p><strong>3)</strong> Or dispatching only by hexagonal global nature, and then: business notion?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.rest.AssociationController\n   ==&gt; for a jar #1\n\nadapters.inbound.port.CatalogueAPI\nadapters.inbound.rest.CatalogueController\n   ==&gt; for a jar #2\n\nadapters.inbound.port.ComptesAPI\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #3\n\nadapters.outbound.port.AssociationRepository\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #4\n\nadapters.outbound.port.CatalogueRepository\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\n   ==&gt; for a jar #5\n\nadapters.outbound.port.ComptesRepository\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #6\n\napplication.port.AssociationPort\napplication.service.AssociationService\n   ==&gt; for a jar #7\n\napplication.port.CataloguePort\napplication.service.CatalogueDatagouvService\n\napplication.port.ComptesPort\napplication.service.BalanceCompteService\n   ==&gt; for a jar #8\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #9\n</code></pre>\n<p>Here, the number of submodules would be reduced, but outbound adapters jars [per kind of business notion] could see at the end a mix of <em>Spark</em>, <em>Postgresql</em>, etc. inside, and for the adapters.inbound, I could find myself having rest, angular application, etc. gathered.</p>\n<p>And how could I check their boundaries, if I'll become meticulous and wish to manage them through the Java 9 module system?</p>\n<p>It would be odd, also.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1691054146,"post_id":76825125,"comment_id":135440541,"body_markdown":"Have you tried commenting out the code in your ProxyAction and see if the pasting still works? Suspect that the default paste action is still being run, then your ProxyAction","body":"Have you tried commenting out the code in your ProxyAction and see if the pasting still works? Suspect that the default paste action is still being run, then your ProxyAction"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691062466,"post_id":76825125,"comment_id":135442318,"body_markdown":"`JTextArea` already actions bound to the &quot;copy&quot; and &quot;paste&quot; operations.  You can replace these with your own operations [for example](https://stackoverflow.com/questions/25276020/listen-to-the-paste-events-jtextarea/25276224#25276224) - this takes a reference to the installed action and replaces it with a new action, which can call the original.","body":"<code>JTextArea</code> already actions bound to the &quot;copy&quot; and &quot;paste&quot; operations.  You can replace these with your own operations <a href=\"https://stackoverflow.com/questions/25276020/listen-to-the-paste-events-jtextarea/25276224#25276224\">for example</a> - this takes a reference to the installed action and replaces it with a new action, which can call the original."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691062480,"post_id":76825125,"comment_id":135442323,"body_markdown":"Now, the problem is, the paste operation MUST be done the Event Dispatching Thread, meaning that, if it takes a &quot;long time&quot;, this will cause the EDT to stop responding to new events, which will probably mean that your &quot;loading screen&quot; either won&#39;t be displayed OR will not &quot;animate&quot;","body":"Now, the problem is, the paste operation MUST be done the Event Dispatching Thread, meaning that, if it takes a &quot;long time&quot;, this will cause the EDT to stop responding to new events, which will probably mean that your &quot;loading screen&quot; either won&#39;t be displayed OR will not &quot;animate&quot;"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691067159,"post_id":76825125,"comment_id":135443332,"body_markdown":"Are you saying there is no way to intercept the paste operation before the loading screen can be enabled? What I am hoping to achieve is 1) redirect to ProxyAction, 2) cancel paste operation, 3) display loading screen, 4) copy text from the clipboard and write to JTextArea, 5) finally stop the loading screen. How do you do it?","body":"Are you saying there is no way to intercept the paste operation before the loading screen can be enabled? What I am hoping to achieve is 1) redirect to ProxyAction, 2) cancel paste operation, 3) display loading screen, 4) copy text from the clipboard and write to JTextArea, 5) finally stop the loading screen. How do you do it?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691099095,"post_id":76825125,"comment_id":135449966,"body_markdown":"No, I’m saying your probably going to have issues as the “default” work flow is done within the context of the EDT, so you’d not be able to do animation or respond to user input (ie cancel). You “might” be able to copy the underlying Document, move it to a Thread/SwingWorker and manually paste the text and then replace the Document in the JTextArea, but the “default” paste operation is non-trivial","body":"No, I’m saying your probably going to have issues as the “default” work flow is done within the context of the EDT, so you’d not be able to do animation or respond to user input (ie cancel). You “might” be able to copy the underlying Document, move it to a Thread/SwingWorker and manually paste the text and then replace the Document in the JTextArea, but the “default” paste operation is non-trivial"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691112673,"post_id":76825125,"comment_id":135451187,"body_markdown":"I see. It is more complicated than I thought. I do not think my approach is good. I have to think of a different way. Maybe block the control-v key operation when the mouse is over the JTextArea and then add a button &quot;Paste&quot;, so maybe clicking it causes the loading screen to be displayed and then copies the text from the clipboard to it. Do you think this solution would work?","body":"I see. It is more complicated than I thought. I do not think my approach is good. I have to think of a different way. Maybe block the control-v key operation when the mouse is over the JTextArea and then add a button &quot;Paste&quot;, so maybe clicking it causes the loading screen to be displayed and then copies the text from the clipboard to it. Do you think this solution would work?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691149122,"post_id":76825125,"comment_id":135456088,"body_markdown":"How much text is &quot;very large text&quot; and how long does it take?  I just copied the contents of this Stack Overflow page and pasted it into Notepad.  Took less than a second.","body":"How much text is &quot;very large text&quot; and how long does it take?  I just copied the contents of this Stack Overflow page and pasted it into Notepad.  Took less than a second."},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691235525,"post_id":76825125,"comment_id":135466577,"body_markdown":"Actually I am talking about the very large text - over 1,000,000 lines!","body":"Actually I am talking about the very large text - over 1,000,000 lines!"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691452485,"post_id":76825125,"comment_id":135490853,"body_markdown":"@MadProgrammer, I tried to use `rawDocument.paste();` inside the `doInBackground` method of a `SwingWorker` class after clicking a **Paste** button (rather than keying Ctrl-v) and showing up the loading icon, but the outcome seems unpredictable. At most, it gets frozen. I am guessing calling the SwingWorker from the EDT is problematic?","body":"@MadProgrammer, I tried to use <code>rawDocument.paste();</code> inside the <code>doInBackground</code> method of a <code>SwingWorker</code> class after clicking a <b>Paste</b> button (rather than keying Ctrl-v) and showing up the loading icon, but the outcome seems unpredictable. At most, it gets frozen. I am guessing calling the SwingWorker from the EDT is problematic?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691454563,"post_id":76825125,"comment_id":135491028,"body_markdown":"As the name states `doInBackground` is NOT running on the Event Dispatching Thread, that&#39;s it&#39;s point.  Instead, work that needs to be done on the Event Dispatching Thread, needs to be done in the `process` method (work gets moved to it via the `publish` method). As I stated, the &quot;paste&quot; operation is, complicated, and I don&#39;t think you&#39;re going to accomplish what you want with out first understanding it and then re-implementing it a &quot;swing-thread-safe&quot; manner","body":"As the name states <code>doInBackground</code> is NOT running on the Event Dispatching Thread, that&#39;s it&#39;s point.  Instead, work that needs to be done on the Event Dispatching Thread, needs to be done in the <code>process</code> method (work gets moved to it via the <code>publish</code> method). As I stated, the &quot;paste&quot; operation is, complicated, and I don&#39;t think you&#39;re going to accomplish what you want with out first understanding it and then re-implementing it a &quot;swing-thread-safe&quot; manner"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691454733,"post_id":76825125,"comment_id":135491043,"body_markdown":"At the simplest level that I can think off, you need to make a copy of the editors current `Document` and the current caret position, from a background thread, you then need get the contents of the clipboard ... let&#39;s just say for argument sake it&#39;s plain text and for now and move on, insert the text into the `Document`, at the current caret position and then, on the Event Dispatching Thread, set this `Document` back to the editor.  However, what you might find is, the problem isn&#39;t with the &quot;paste&quot;, but with the editor&#39;s ability to render it fast","body":"At the simplest level that I can think off, you need to make a copy of the editors current <code>Document</code> and the current caret position, from a background thread, you then need get the contents of the clipboard ... let&#39;s just say for argument sake it&#39;s plain text and for now and move on, insert the text into the <code>Document</code>, at the current caret position and then, on the Event Dispatching Thread, set this <code>Document</code> back to the editor.  However, what you might find is, the problem isn&#39;t with the &quot;paste&quot;, but with the editor&#39;s ability to render it fast"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691455516,"post_id":76825125,"comment_id":135491100,"body_markdown":"Just as a quick test, I got a block of text up to 3k lines (1403120 characters) and it pasted &quot;almost&quot; immediately, there was a just perceivable delay.  I then duplicated this up to 117, 824 lines (4, 209, 364) and again, the past was almost immediate. I then duplicated that 10 more times up to 1, 178, 241 lines (42, 094, 019 characters) and there is a noticeable ~4 sec delay - but I don&#39;t think this is an issue with transferring the data from the clipboard, but a delay in the ability of the text area to render that much text","body":"Just as a quick test, I got a block of text up to 3k lines (1403120 characters) and it pasted &quot;almost&quot; immediately, there was a just perceivable delay.  I then duplicated this up to 117, 824 lines (4, 209, 364) and again, the past was almost immediate. I then duplicated that 10 more times up to 1, 178, 241 lines (42, 094, 019 characters) and there is a noticeable ~4 sec delay - but I don&#39;t think this is an issue with transferring the data from the clipboard, but a delay in the ability of the text area to render that much text"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691715806,"creation_date":1691463810,"answer_id":76856243,"question_id":76825125,"body_markdown":"# !! Warning !!\r\n\r\nThis example makes a number of assumptions:\r\n\r\n1. We&#39;re only dealing with a `PlainDocument` (ie only supports `JTextArea`)\r\n2. We&#39;re only dealing with &quot;plain text&quot; - the example doesn&#39;t do a lot in the way of checking the available data flavours from the clipboard and only supports `DataFlavor.stringFlavor`\r\n\r\n# Example...\r\n\r\nAfter spending some time digging around, the current &quot;paste&quot; operation is, complicated, and it would be a non-trivial amount of work to replicate it - because making it work on a background thread as is would be impossible.\r\n\r\nSo, instead, we need to step back and take a look at how we could take control of it.\r\n\r\nMy test data consisted of plain text of 1, 178, 241 lines/42, 094, 019 characters.\r\n\r\nMy first thought was to split text from the clipboard into smaller chunks and then simply insert those chunks into the document.  This actually turned out to be way worse then I first expected.\r\n\r\nMy next thought was to make a copy of the underlying `Document` and update this copy on a background thread and once completed, apply the copy to the text area itself.\r\n\r\nThis did work.  But, interestingly, it raised a copy of points.\r\n\r\n1. Pulling the text from the clipboard is relatively fast (in may testing 0.529 milliseconds)\r\n2. Inserting the text into the document is relatively fast (in my testing 0.608s)\r\n3. Updating the view with the text is also slow (~1-2s)\r\n\r\nTake into account that it&#39;s taken rough 1-2s before the view is even been updated and we&#39;re running into the 3-4s mark.  Also add in the overhead of creating the `SwingWorker` and it&#39;s own internal management of sync back to the Event Dispatching Thread (in that case you might need to do some more testing and decide at what threshold it&#39;s worth spinning up the `SwingWorker` for)\r\n\r\n## Runnable example\r\n\r\n**!! Cavet:** This just a demonstration of the core concepts, there is so much more that really needs to be taken into consideration, for example:\r\n\r\n* Better error handling\r\n* Investigation into the desired threshold when it would be justifiable to spin up a `SwingWorker` to do this work.\r\n* Pre-sampling of the clipboard - do things like, look at the supported `DataFlavor`s to determine if it contains plain text, maybe even look at the size of the content, if it&#39;s fast enough to do so.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Arc2D;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.util.concurrent.ExecutionException;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRootPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.Timer;\r\n    import javax.swing.text.Document;\r\n    import javax.swing.text.PlainDocument;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JTextArea ta = new JTextArea(20, 40);\r\n                Action action = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\r\n                ta.getActionMap().put(&quot;paste-from-clipboard&quot;, new BackgroundPasteAction());\r\n                add(new JScrollPane(ta));\r\n            }\r\n        }\r\n\r\n        public class BackgroundPasteAction extends AbstractAction {\r\n            public BackgroundPasteAction() {\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                Object source = e.getSource();\r\n                if (!(source instanceof JTextArea)) {\r\n                    return;\r\n                }\r\n                JTextArea textArea = (JTextArea) source;\r\n\r\n                JRootPane rootPane = SwingUtilities.getRootPane(textArea);\r\n                Component oldGlassPane = rootPane.getGlassPane();\r\n                WaitOverlay overlay = new WaitOverlay();\r\n                rootPane.setGlassPane(overlay);\r\n                overlay.start();\r\n                overlay.setVisible(true);\r\n\r\n                setEnabled(false);\r\n                PasteWorker worker = new PasteWorker(textArea);\r\n                StopWatch sw = new StopWatch().start();\r\n                worker.addPropertyChangeListener(new SwingWorkerAdapter&lt;PasteWorker&gt;() {\r\n                    @Override\r\n                    protected void workerDone(PasteWorker worker) {\r\n                        try {\r\n                            textArea.setDocument(worker.get());\r\n                            textArea.setCaretPosition(worker.getNewCaretPosition());\r\n                        } catch (InterruptedException | ExecutionException ex) {\r\n                            ex.printStackTrace();\r\n                        }\r\n                        setEnabled(true);\r\n\r\n                        overlay.stop();\r\n                        overlay.setVisible(false);\r\n                        rootPane.setGlassPane(oldGlassPane);\r\n\r\n                        System.out.println(&quot;Job took: &quot; + sw.stop());\r\n                    }\r\n                });\r\n                worker.execute();\r\n            }\r\n        }\r\n\r\n        // This makes it easier to deal with the PropertyChangeListener support of\r\n        // SwingWorker and allows you to focus on only the states you are interested\r\n        // in\r\n        public class SwingWorkerAdapter&lt;W extends SwingWorker&gt; implements PropertyChangeListener {\r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent evt) {\r\n                W worker = (W) evt.getSource();\r\n                switch (evt.getPropertyName()) {\r\n                    case &quot;state&quot;:\r\n                        workerStateChanged(worker);\r\n                        switch (worker.getState()) {\r\n                            case STARTED:\r\n                                workerStarted(worker);\r\n                                break;\r\n                            case DONE:\r\n                                workerDone(worker);\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case &quot;progress&quot;:\r\n                        workerProgressUpdated(worker);\r\n                        break;\r\n                }\r\n            }\r\n\r\n            protected void workerProgressUpdated(W worker) {\r\n            }\r\n\r\n            protected void workerStateChanged(W worker) {\r\n            }\r\n\r\n            protected void workerStarted(W worker) {\r\n            }\r\n\r\n            protected void workerDone(W worker) {\r\n            }\r\n\r\n        }\r\n\r\n        // The SwingWorker which actually does the heavy lifting.  It takes the text\r\n        // from the clipboard and inserts into a copy of the Document\r\n        public class PasteWorker extends SwingWorker&lt;Document, Void&gt; {\r\n\r\n            private JTextArea textArea;\r\n            private int initialCaretPosition;\r\n            private int newCaretPosition;\r\n\r\n            public PasteWorker(JTextArea textArea) {\r\n                this.textArea = textArea;\r\n                this.initialCaretPosition = textArea.getCaretPosition();\r\n            }\r\n\r\n            public int getInitialCaretPosition() {\r\n                return initialCaretPosition;\r\n            }\r\n\r\n            public JTextArea getTextArea() {\r\n                return textArea;\r\n            }\r\n\r\n            public int getNewCaretPosition() {\r\n                return newCaretPosition;\r\n            }\r\n\r\n            @Override\r\n            protected Document doInBackground() throws Exception {\r\n                Document document = new PlainDocument();\r\n                document.insertString(0, textArea.getText(), null);\r\n\r\n                StopWatch sw = new StopWatch().start();\r\n\r\n                Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n                String text = clipboard.getContents(null).getTransferData(DataFlavor.stringFlavor).toString();\r\n                Instant now = Instant.now();\r\n                System.out.println(&quot;Clipboard took: &quot; + sw.stop());\r\n\r\n                sw.start();\r\n\r\n                document.insertString(getInitialCaretPosition(), text, null);\r\n\r\n                System.out.println(&quot;Paste took: &quot; + sw.stop());\r\n\r\n                newCaretPosition = getInitialCaretPosition() + text.length();\r\n\r\n                return document;\r\n            }\r\n        }\r\n\r\n        // The actuall overlay view - used on the glass pane\r\n        public class WaitOverlay extends JPanel {\r\n            private WaitIndicator indicator = new WaitIndicator();\r\n\r\n            public WaitOverlay() {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(0, 4, 0, 4);\r\n                add(indicator, gbc);\r\n                add(new JLabel(&quot;Pasting...&quot;), gbc);\r\n            }\r\n\r\n            public void start() {\r\n                indicator.start();\r\n            }\r\n\r\n            public void stop() {\r\n                indicator.stop();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        // An implementation of an animated &quot;wait&quot; indicator\r\n        public class WaitIndicator extends JPanel {\r\n            private double angle;\r\n            private double extent;\r\n\r\n            private double angleDelta = -1;\r\n            private double extentDelta = -5;\r\n\r\n            private boolean flip = false;\r\n\r\n            private Timer timer;\r\n\r\n            public WaitIndicator() {\r\n                setForeground(Color.BLACK);\r\n                timer = new Timer(10, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        angle += angleDelta;\r\n                        extent += extentDelta;\r\n                        if (Math.abs(extent) % 360.0 == 0) {\r\n                            angle = angle - extent;\r\n                            flip = !flip;\r\n                            if (flip) {\r\n                                extent = 360.0;\r\n                            } else {\r\n                                extent = 0.0;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void start() {\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                timer.stop();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(25, 25);\r\n            }\r\n\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n\r\n                int width = getWidth();\r\n                int height = getHeight();\r\n                int size = Math.min(width, height);\r\n\r\n                int x = (getWidth() - size) / 2;\r\n                int y = (getHeight() - size) / 2;\r\n\r\n                Arc2D.Double arc = new Arc2D.Double(x + 2, y + 2, width - 4, height - 4, angle, extent, Arc2D.OPEN);\r\n                BasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\r\n                g2d.setStroke(stroke);\r\n                g2d.setColor(getForeground());\r\n                g2d.draw(arc);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        // Utility classed used for calculating the time difference between two\r\n        // points in time - it&#39;s just simpler then having a lot of duplicate\r\n        // code laying around\r\n        public class StopWatch {\r\n            private LocalDateTime startTime;\r\n            private Duration totalRunTime = Duration.ZERO;\r\n\r\n            public StopWatch start() {\r\n                totalRunTime = Duration.ZERO;\r\n                startTime = LocalDateTime.now();\r\n                return this;\r\n            }\r\n\r\n            public StopWatch stop() {\r\n                if (startTime == null) {\r\n                    return this;\r\n                }\r\n                totalRunTime = Duration.between(startTime, LocalDateTime.now());\r\n                startTime = null;\r\n                return this;\r\n            }\r\n\r\n            public void reset() {\r\n                stop();\r\n                totalRunTime = Duration.ZERO;\r\n            }\r\n\r\n            public boolean isRunning() {\r\n                return startTime != null;\r\n            }\r\n\r\n            public Duration getDuration() {\r\n                Duration currentDuration = Duration.ZERO;\r\n                currentDuration = currentDuration.plus(totalRunTime);\r\n                if (isRunning()) {\r\n                    Duration runTime = Duration.between(startTime, LocalDateTime.now());\r\n                    currentDuration = currentDuration.plus(runTime);\r\n                }\r\n                return currentDuration;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                Duration duration = getDuration();\r\n                return String.format(&quot;%02d:%03d&quot;, duration.toSecondsPart(), duration.toMillisPart());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eCLZZ.gif","title":"How to listen and manipulate paste events in Java Swing?","body":"<h1>!! Warning !!</h1>\n<p>This example makes a number of assumptions:</p>\n<ol>\n<li>We're only dealing with a <code>PlainDocument</code> (ie only supports <code>JTextArea</code>)</li>\n<li>We're only dealing with &quot;plain text&quot; - the example doesn't do a lot in the way of checking the available data flavours from the clipboard and only supports <code>DataFlavor.stringFlavor</code></li>\n</ol>\n<h1>Example...</h1>\n<p>After spending some time digging around, the current &quot;paste&quot; operation is, complicated, and it would be a non-trivial amount of work to replicate it - because making it work on a background thread as is would be impossible.</p>\n<p>So, instead, we need to step back and take a look at how we could take control of it.</p>\n<p>My test data consisted of plain text of 1, 178, 241 lines/42, 094, 019 characters.</p>\n<p>My first thought was to split text from the clipboard into smaller chunks and then simply insert those chunks into the document.  This actually turned out to be way worse then I first expected.</p>\n<p>My next thought was to make a copy of the underlying <code>Document</code> and update this copy on a background thread and once completed, apply the copy to the text area itself.</p>\n<p>This did work.  But, interestingly, it raised a copy of points.</p>\n<ol>\n<li>Pulling the text from the clipboard is relatively fast (in may testing 0.529 milliseconds)</li>\n<li>Inserting the text into the document is relatively fast (in my testing 0.608s)</li>\n<li>Updating the view with the text is also slow (~1-2s)</li>\n</ol>\n<p>Take into account that it's taken rough 1-2s before the view is even been updated and we're running into the 3-4s mark.  Also add in the overhead of creating the <code>SwingWorker</code> and it's own internal management of sync back to the Event Dispatching Thread (in that case you might need to do some more testing and decide at what threshold it's worth spinning up the <code>SwingWorker</code> for)</p>\n<h2>Runnable example</h2>\n<p><strong>!! Cavet:</strong> This just a demonstration of the core concepts, there is so much more that really needs to be taken into consideration, for example:</p>\n<ul>\n<li>Better error handling</li>\n<li>Investigation into the desired threshold when it would be justifiable to spin up a <code>SwingWorker</code> to do this work.</li>\n<li>Pre-sampling of the clipboard - do things like, look at the supported <code>DataFlavor</code>s to determine if it contains plain text, maybe even look at the size of the content, if it's fast enough to do so.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eCLZZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCLZZ.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Arc2D;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.util.concurrent.ExecutionException;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRootPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\nimport javax.swing.Timer;\nimport javax.swing.text.Document;\nimport javax.swing.text.PlainDocument;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JTextArea ta = new JTextArea(20, 40);\n            Action action = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\n            ta.getActionMap().put(&quot;paste-from-clipboard&quot;, new BackgroundPasteAction());\n            add(new JScrollPane(ta));\n        }\n    }\n\n    public class BackgroundPasteAction extends AbstractAction {\n        public BackgroundPasteAction() {\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            Object source = e.getSource();\n            if (!(source instanceof JTextArea)) {\n                return;\n            }\n            JTextArea textArea = (JTextArea) source;\n\n            JRootPane rootPane = SwingUtilities.getRootPane(textArea);\n            Component oldGlassPane = rootPane.getGlassPane();\n            WaitOverlay overlay = new WaitOverlay();\n            rootPane.setGlassPane(overlay);\n            overlay.start();\n            overlay.setVisible(true);\n\n            setEnabled(false);\n            PasteWorker worker = new PasteWorker(textArea);\n            StopWatch sw = new StopWatch().start();\n            worker.addPropertyChangeListener(new SwingWorkerAdapter&lt;PasteWorker&gt;() {\n                @Override\n                protected void workerDone(PasteWorker worker) {\n                    try {\n                        textArea.setDocument(worker.get());\n                        textArea.setCaretPosition(worker.getNewCaretPosition());\n                    } catch (InterruptedException | ExecutionException ex) {\n                        ex.printStackTrace();\n                    }\n                    setEnabled(true);\n\n                    overlay.stop();\n                    overlay.setVisible(false);\n                    rootPane.setGlassPane(oldGlassPane);\n\n                    System.out.println(&quot;Job took: &quot; + sw.stop());\n                }\n            });\n            worker.execute();\n        }\n    }\n\n    // This makes it easier to deal with the PropertyChangeListener support of\n    // SwingWorker and allows you to focus on only the states you are interested\n    // in\n    public class SwingWorkerAdapter&lt;W extends SwingWorker&gt; implements PropertyChangeListener {\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            W worker = (W) evt.getSource();\n            switch (evt.getPropertyName()) {\n                case &quot;state&quot;:\n                    workerStateChanged(worker);\n                    switch (worker.getState()) {\n                        case STARTED:\n                            workerStarted(worker);\n                            break;\n                        case DONE:\n                            workerDone(worker);\n                            break;\n                    }\n                    break;\n                case &quot;progress&quot;:\n                    workerProgressUpdated(worker);\n                    break;\n            }\n        }\n\n        protected void workerProgressUpdated(W worker) {\n        }\n\n        protected void workerStateChanged(W worker) {\n        }\n\n        protected void workerStarted(W worker) {\n        }\n\n        protected void workerDone(W worker) {\n        }\n\n    }\n\n    // The SwingWorker which actually does the heavy lifting.  It takes the text\n    // from the clipboard and inserts into a copy of the Document\n    public class PasteWorker extends SwingWorker&lt;Document, Void&gt; {\n\n        private JTextArea textArea;\n        private int initialCaretPosition;\n        private int newCaretPosition;\n\n        public PasteWorker(JTextArea textArea) {\n            this.textArea = textArea;\n            this.initialCaretPosition = textArea.getCaretPosition();\n        }\n\n        public int getInitialCaretPosition() {\n            return initialCaretPosition;\n        }\n\n        public JTextArea getTextArea() {\n            return textArea;\n        }\n\n        public int getNewCaretPosition() {\n            return newCaretPosition;\n        }\n\n        @Override\n        protected Document doInBackground() throws Exception {\n            Document document = new PlainDocument();\n            document.insertString(0, textArea.getText(), null);\n\n            StopWatch sw = new StopWatch().start();\n\n            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n            String text = clipboard.getContents(null).getTransferData(DataFlavor.stringFlavor).toString();\n            Instant now = Instant.now();\n            System.out.println(&quot;Clipboard took: &quot; + sw.stop());\n\n            sw.start();\n\n            document.insertString(getInitialCaretPosition(), text, null);\n\n            System.out.println(&quot;Paste took: &quot; + sw.stop());\n\n            newCaretPosition = getInitialCaretPosition() + text.length();\n\n            return document;\n        }\n    }\n\n    // The actuall overlay view - used on the glass pane\n    public class WaitOverlay extends JPanel {\n        private WaitIndicator indicator = new WaitIndicator();\n\n        public WaitOverlay() {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(0, 4, 0, 4);\n            add(indicator, gbc);\n            add(new JLabel(&quot;Pasting...&quot;), gbc);\n        }\n\n        public void start() {\n            indicator.start();\n        }\n\n        public void stop() {\n            indicator.stop();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\n            g2d.setColor(getBackground());\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            g2d.dispose();\n        }\n    }\n\n    // An implementation of an animated &quot;wait&quot; indicator\n    public class WaitIndicator extends JPanel {\n        private double angle;\n        private double extent;\n\n        private double angleDelta = -1;\n        private double extentDelta = -5;\n\n        private boolean flip = false;\n\n        private Timer timer;\n\n        public WaitIndicator() {\n            setForeground(Color.BLACK);\n            timer = new Timer(10, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    angle += angleDelta;\n                    extent += extentDelta;\n                    if (Math.abs(extent) % 360.0 == 0) {\n                        angle = angle - extent;\n                        flip = !flip;\n                        if (flip) {\n                            extent = 360.0;\n                        } else {\n                            extent = 0.0;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        public void start() {\n            timer.start();\n        }\n\n        public void stop() {\n            timer.stop();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(25, 25);\n        }\n\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n            int width = getWidth();\n            int height = getHeight();\n            int size = Math.min(width, height);\n\n            int x = (getWidth() - size) / 2;\n            int y = (getHeight() - size) / 2;\n\n            Arc2D.Double arc = new Arc2D.Double(x + 2, y + 2, width - 4, height - 4, angle, extent, Arc2D.OPEN);\n            BasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\n            g2d.setStroke(stroke);\n            g2d.setColor(getForeground());\n            g2d.draw(arc);\n            g2d.dispose();\n        }\n\n    }\n\n    // Utility classed used for calculating the time difference between two\n    // points in time - it's just simpler then having a lot of duplicate\n    // code laying around\n    public class StopWatch {\n        private LocalDateTime startTime;\n        private Duration totalRunTime = Duration.ZERO;\n\n        public StopWatch start() {\n            totalRunTime = Duration.ZERO;\n            startTime = LocalDateTime.now();\n            return this;\n        }\n\n        public StopWatch stop() {\n            if (startTime == null) {\n                return this;\n            }\n            totalRunTime = Duration.between(startTime, LocalDateTime.now());\n            startTime = null;\n            return this;\n        }\n\n        public void reset() {\n            stop();\n            totalRunTime = Duration.ZERO;\n        }\n\n        public boolean isRunning() {\n            return startTime != null;\n        }\n\n        public Duration getDuration() {\n            Duration currentDuration = Duration.ZERO;\n            currentDuration = currentDuration.plus(totalRunTime);\n            if (isRunning()) {\n                Duration runTime = Duration.between(startTime, LocalDateTime.now());\n                currentDuration = currentDuration.plus(runTime);\n            }\n            return currentDuration;\n        }\n\n        @Override\n        public String toString() {\n            Duration duration = getDuration();\n            return String.format(&quot;%02d:%03d&quot;, duration.toSecondsPart(), duration.toMillisPart());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76856243,"answer_count":1,"score":1,"last_activity_date":1691715806,"creation_date":1691040891,"question_id":76825125,"body_markdown":"Please help.\r\n\r\nI am unable to work out the right listener to react to paste events in the JTextArea component. What I am trying to get is once users press &quot;Control-V&quot; to paste very large text contents, my program should show a loading icon (ie waiting or busy time) through the non-opaque glass panel before the paste event is processed.\r\n\r\nWhen the paste is fully completed, ie all contents are placed in the text area, then the loading icon automatically stops showing.\r\n\r\nWhat I am having is the loading icon doesn&#39;t display until after the paste event has completed. That is not what I want.\r\n\r\nBelow is my test code in brevity.\r\n\r\n```\r\n    private void drawInputLeftPane(JComponent midpanel)\r\n    {\r\n        rawDocument = new JTextArea();\r\n        rawDocument.getDocument().addDocumentListener(new RawDocumentListener());\r\n\r\n        KeyStroke key = KeyStroke.getKeyStroke(KeyEvent.VK_V, Event.CTRL_MASK);\r\n        InputMap inputMap = rawDocument.getInputMap();\r\n        inputMap.put(key, &quot;myPaste&quot;);\r\n\r\n        rawDocument.getActionMap().put(&quot;myPaste&quot;, new ProxyAction());\r\n\t\t.\r\n\t\t.\r\n\t\t.\r\n\t\t\r\n        midpanel.add(scrollPane);\r\n    }\r\n```\r\n\t\r\n```\r\n    private JComponent addLoadingIcon()\r\n    {\r\n        JPanel p = new JPanel();\r\n\r\n        p.setOpaque(false);\r\n        p.setLayout(new GridBagLayout());\r\n        p.add(new JLabel(getFDImage(&quot;/images/loader.gif&quot;)));\r\n\r\n        return p;\r\n    }\r\n```\r\n\r\n```\r\n   private class ProxyAction extends AbstractAction\r\n    {\r\n        public ProxyAction()\r\n        {\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent evt)\r\n        {\r\n            System.out.println(&quot;Paste has happened...&quot;);\r\n\r\n            /* Adds invisible glass pane with loading icon displayed when enabled. */\r\n            JComponent glassPanel = addLoadingIcon();\r\n\r\n            /* Adds the glass pane to this container for frame */\r\n            setGlassPane(glassPanel);\r\n\r\n            glassPanel.setVisible(true);\r\n\r\n            try\r\n            {\r\n                String text = Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n                System.out.println(text);\r\n                rawDocument.setText(text);\r\n            }\r\n\r\n            catch (Exception exc)\r\n            {\r\n                exc.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    private class RawDocumentListener implements DocumentListener\r\n    {\r\n        @Override\r\n        public void insertUpdate(DocumentEvent evt)\r\n        {\r\n\t\t    JComponent glassPanel = this.getGlassPane()\r\n\t\t\tglassPanel.setVisible(false);\r\n     \t\t.\r\n\t    \t.\r\n\t\t    .\r\n        }\r\n\r\n        @Override\r\n        public void removeUpdate(DocumentEvent evt)\r\n        {\r\n    \t\t.\r\n\t    \t.\r\n\t\t    .        \r\n        }\r\n\r\n        @Override\r\n        public void changedUpdate(DocumentEvent evt)\r\n        {\r\n            // Nothing to do\r\n        }\r\n    }\r\n```\r\n\r\nWhat am I missing? My knowledge in Swing is pretty good, but not experienced enough yet. Anyone with an eagle eye is welcome to comment why my code is not working?\r\n","title":"How to listen and manipulate paste events in Java Swing?","body":"<p>Please help.</p>\n<p>I am unable to work out the right listener to react to paste events in the JTextArea component. What I am trying to get is once users press &quot;Control-V&quot; to paste very large text contents, my program should show a loading icon (ie waiting or busy time) through the non-opaque glass panel before the paste event is processed.</p>\n<p>When the paste is fully completed, ie all contents are placed in the text area, then the loading icon automatically stops showing.</p>\n<p>What I am having is the loading icon doesn't display until after the paste event has completed. That is not what I want.</p>\n<p>Below is my test code in brevity.</p>\n<pre><code>    private void drawInputLeftPane(JComponent midpanel)\n    {\n        rawDocument = new JTextArea();\n        rawDocument.getDocument().addDocumentListener(new RawDocumentListener());\n\n        KeyStroke key = KeyStroke.getKeyStroke(KeyEvent.VK_V, Event.CTRL_MASK);\n        InputMap inputMap = rawDocument.getInputMap();\n        inputMap.put(key, &quot;myPaste&quot;);\n\n        rawDocument.getActionMap().put(&quot;myPaste&quot;, new ProxyAction());\n        .\n        .\n        .\n        \n        midpanel.add(scrollPane);\n    }\n</code></pre>\n<pre><code>    private JComponent addLoadingIcon()\n    {\n        JPanel p = new JPanel();\n\n        p.setOpaque(false);\n        p.setLayout(new GridBagLayout());\n        p.add(new JLabel(getFDImage(&quot;/images/loader.gif&quot;)));\n\n        return p;\n    }\n</code></pre>\n<pre><code>   private class ProxyAction extends AbstractAction\n    {\n        public ProxyAction()\n        {\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent evt)\n        {\n            System.out.println(&quot;Paste has happened...&quot;);\n\n            /* Adds invisible glass pane with loading icon displayed when enabled. */\n            JComponent glassPanel = addLoadingIcon();\n\n            /* Adds the glass pane to this container for frame */\n            setGlassPane(glassPanel);\n\n            glassPanel.setVisible(true);\n\n            try\n            {\n                String text = Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n                System.out.println(text);\n                rawDocument.setText(text);\n            }\n\n            catch (Exception exc)\n            {\n                exc.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<pre><code>    private class RawDocumentListener implements DocumentListener\n    {\n        @Override\n        public void insertUpdate(DocumentEvent evt)\n        {\n            JComponent glassPanel = this.getGlassPane()\n            glassPanel.setVisible(false);\n            .\n            .\n            .\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent evt)\n        {\n            .\n            .\n            .        \n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent evt)\n        {\n            // Nothing to do\n        }\n    }\n</code></pre>\n<p>What am I missing? My knowledge in Swing is pretty good, but not experienced enough yet. Anyone with an eagle eye is welcome to comment why my code is not working?</p>\n"},{"tags":["java","hudson","jakarta-mail","jenkins"],"comments":[{"owner":{"account_id":19628773,"reputation":100,"user_id":14373822,"display_name":"John Sohn"},"score":0,"creation_date":1631584010,"post_id":6784463,"comment_id":122255456,"body_markdown":"I don;t know if this helps but I have had this happen in DBeaver and just had to fix it, which apparently also uses java as its nightmare of choice.  There were 3 options in driver configuration: Require SSL, Verify Server Certificate, Allow Public Key retrieval. When I uncheck Verify Server Certificate the connection succeeds, prior it was giving this same error for any but a root connection to mysql 8.0.","body":"I don;t know if this helps but I have had this happen in DBeaver and just had to fix it, which apparently also uses java as its nightmare of choice.  There were 3 options in driver configuration: Require SSL, Verify Server Certificate, Allow Public Key retrieval. When I uncheck Verify Server Certificate the connection succeeds, prior it was giving this same error for any but a root connection to mysql 8.0."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":28,"up_vote_count":631,"is_accepted":true,"score":603,"last_activity_date":1691715747,"creation_date":1311330511,"answer_id":6788682,"question_id":6784463,"body_markdown":"This bizarre message means that the trust store you specified was:\r\n\r\n- empty,\r\n- not found, or\r\n- couldn&#39;t be opened, due for example to:\r\n  - wrong/missing `trustStorePassword`, or\r\n  - file access permissions.\r\n\r\nSee also @AdamPlumb&#39;s [answer below](https://stackoverflow.com/a/25188331/207421).","title":"Error - trustAnchors parameter must be non-empty","body":"<p>This bizarre message means that the trust store you specified was:</p>\n<ul>\n<li>empty,</li>\n<li>not found, or</li>\n<li>couldn't be opened, due for example to:\n<ul>\n<li>wrong/missing <code>trustStorePassword</code>, or</li>\n<li>file access permissions.</li>\n</ul>\n</li>\n</ul>\n<p>See also @AdamPlumb's <a href=\"https://stackoverflow.com/a/25188331/207421\">answer below</a>.</p>\n"},{"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1532255888,"creation_date":1338990977,"answer_id":10915692,"question_id":6784463,"body_markdown":"I ran into this solution from blog post *[Fixing the trustAnchors problem when running OpenJDK 7 on OS X][1]*:\r\n\r\nFixing the trustAnchors problem when running OpenJDK 7 on OS&amp;nbsp;X. If you&#39;re running OpenJDK 7 on OS&amp;nbsp;X and have seen this exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors\r\n        parameter must be non-empty\r\n\r\nThere&#39;s a simple fix. Just link in the same cacerts file that Apple’s JDK 1.6 uses:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    cd $(/usr/libexec/java_home -v 1.7)/jre/lib/security\r\n    ln -fsh /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts\r\n\r\nYou need to do this for every OpenJDK version you have installed. Just change `-v 1.7` to the version you want to fix. Run `/usr/libexec/java_home -V` to see all the JREs and JDKs you have installed.\r\n\r\nPerhaps the OpenJDK guys could add this to their install scripts.\r\n\r\n  [1]: http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into this solution from blog post <em><a href=\"http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7\" rel=\"noreferrer\">Fixing the trustAnchors problem when running OpenJDK 7 on OS X</a></em>:</p>\n\n<p>Fixing the trustAnchors problem when running OpenJDK 7 on OS&nbsp;X. If you're running OpenJDK 7 on OS&nbsp;X and have seen this exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors\n    parameter must be non-empty\n</code></pre>\n\n<p>There's a simple fix. Just link in the same cacerts file that Apple’s JDK 1.6 uses:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cd $(/usr/libexec/java_home -v 1.7)/jre/lib/security\nln -fsh /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts\n</code></pre>\n\n<p>You need to do this for every OpenJDK version you have installed. Just change <code>-v 1.7</code> to the version you want to fix. Run <code>/usr/libexec/java_home -V</code> to see all the JREs and JDKs you have installed.</p>\n\n<p>Perhaps the OpenJDK guys could add this to their install scripts.</p>\n"},{"tags":[],"owner":{"account_id":2492738,"reputation":481,"user_id":2169897,"display_name":"yvesr"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1532255970,"creation_date":1363265987,"answer_id":15409993,"question_id":6784463,"body_markdown":"In [Ubuntu&amp;nbsp;12.10][1] (Quantal Quetzal) or later, the certificates are held in the [ca-certificates-java][2] package. Using `-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts` will pick them up regardless of what JDK you&#39;re using.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_12.10_.28Quantal_Quetzal.29\r\n  [2]: http://packages.ubuntu.com/quantal/all/ca-certificates-java\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In <a href=\"http://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_12.10_.28Quantal_Quetzal.29\" rel=\"noreferrer\">Ubuntu&nbsp;12.10</a> (Quantal Quetzal) or later, the certificates are held in the <a href=\"http://packages.ubuntu.com/quantal/all/ca-certificates-java\" rel=\"noreferrer\">ca-certificates-java</a> package. Using <code>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts</code> will pick them up regardless of what JDK you're using.</p>\n"},{"tags":[],"owner":{"account_id":1478880,"reputation":814,"user_id":1388643,"display_name":"KiwiMartin"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1532256061,"creation_date":1383131667,"answer_id":19680689,"question_id":6784463,"body_markdown":"I ran into this exact problem on OS X, using JDK 1.7, after upgrading to [OS&amp;nbsp;X v10.9][1] (Mavericks). The fix that worked for me was to simply reinstall the Apple version of Java, available at http://support.apple.com/kb/DL1572.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OS_X_Mavericks\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into this exact problem on OS X, using JDK 1.7, after upgrading to <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\" rel=\"nofollow noreferrer\">OS&nbsp;X v10.9</a> (Mavericks). The fix that worked for me was to simply reinstall the Apple version of Java, available at <a href=\"http://support.apple.com/kb/DL1572\" rel=\"nofollow noreferrer\">http://support.apple.com/kb/DL1572</a>.</p>\n"},{"tags":[],"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1532256122,"creation_date":1384532256,"answer_id":20005591,"question_id":6784463,"body_markdown":"I also encountered this on OS X after updating OS&amp;nbsp;X v10.9 (Mavericks), when the old Java 6 was being used and tried to access an HTTPS URL. The fix was the inverse of Peter Kriens; I needed to copy the `cacerts` from the 1.7 space to the location linked by the 1.6 version:\r\n\r\n    (as root)\r\n    umask 022\r\n    mkdir -p /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\r\n    cp $(/usr/libexec/java_home -v 1.7)/jre/lib/security/cacerts \\\r\n        /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I also encountered this on OS X after updating OS&nbsp;X v10.9 (Mavericks), when the old Java 6 was being used and tried to access an HTTPS URL. The fix was the inverse of Peter Kriens; I needed to copy the <code>cacerts</code> from the 1.7 space to the location linked by the 1.6 version:</p>\n\n<pre><code>(as root)\numask 022\nmkdir -p /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\ncp $(/usr/libexec/java_home -v 1.7)/jre/lib/security/cacerts \\\n    /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185081,"reputation":1397,"user_id":421563,"accept_rate":56,"display_name":"Freddy Boucher"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1532256182,"creation_date":1388437612,"answer_id":20847585,"question_id":6784463,"body_markdown":"I&#39;ve had lot of security issues after upgrading to [OS&amp;nbsp;X v10.9][1] (Mavericks):\r\n\r\n - SSL problem with Amazon AWS\r\n - Peer not authenticated with Maven and Eclipse\r\n - `trustAnchors` parameter must be non-empty\r\n\r\nI applied this Java update and it fixed all my issues: http://support.apple.com/kb/DL1572?viewlocale=en_US\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OS_X_Mavericks\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I've had lot of security issues after upgrading to <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\" rel=\"nofollow noreferrer\">OS&nbsp;X v10.9</a> (Mavericks):</p>\n\n<ul>\n<li>SSL problem with Amazon AWS</li>\n<li>Peer not authenticated with Maven and Eclipse</li>\n<li><code>trustAnchors</code> parameter must be non-empty</li>\n</ul>\n\n<p>I applied this Java update and it fixed all my issues: <a href=\"http://support.apple.com/kb/DL1572?viewlocale=en_US\" rel=\"nofollow noreferrer\">http://support.apple.com/kb/DL1572?viewlocale=en_US</a></p>\n"},{"tags":[],"owner":{"account_id":12333,"reputation":3758,"user_id":24208,"accept_rate":82,"display_name":"Adam Plumb"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1584621034,"creation_date":1407431328,"answer_id":25188331,"question_id":6784463,"body_markdown":"EJP basically answered the question (and I realize this has an accepted answer), but I just dealt with this edge-case gotcha and wanted to immortalize my solution.\r\n\r\nI had the `InvalidAlgorithmParameterException` error on a hosted [Jira][1] server that I had previously set up for SSL-only access. The issue was that I had set up my keystore in the PKCS#12 format, but my truststore was in the JKS format.\r\n\r\nIn my case, I had edited my `server.xml` file to specify the keystoreType to PKCS, but I did not specify the truststoreType, so it defaults to whatever the keystoreType is. Specifying the truststoreType explicitly as JKS solved it for me.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jira_(software)\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>EJP basically answered the question (and I realize this has an accepted answer), but I just dealt with this edge-case gotcha and wanted to immortalize my solution.</p>\n\n<p>I had the <code>InvalidAlgorithmParameterException</code> error on a hosted <a href=\"https://en.wikipedia.org/wiki/Jira_(software)\" rel=\"noreferrer\">Jira</a> server that I had previously set up for SSL-only access. The issue was that I had set up my keystore in the PKCS#12 format, but my truststore was in the JKS format.</p>\n\n<p>In my case, I had edited my <code>server.xml</code> file to specify the keystoreType to PKCS, but I did not specify the truststoreType, so it defaults to whatever the keystoreType is. Specifying the truststoreType explicitly as JKS solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":887255,"reputation":475,"user_id":926392,"accept_rate":33,"display_name":"Sergey Filkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424422537,"creation_date":1424422537,"answer_id":28624964,"question_id":6784463,"body_markdown":"I have faced with the issue while importing a Gradle project in IntelliJ IDEA 14.\r\nA solution was using a local copy of Gradle instead of a wrapper from the project directory.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I have faced with the issue while importing a Gradle project in IntelliJ IDEA 14.\nA solution was using a local copy of Gradle instead of a wrapper from the project directory.</p>\n"},{"tags":[],"owner":{"account_id":3412867,"reputation":104,"user_id":2862447,"display_name":"ak1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532256413,"creation_date":1431548497,"answer_id":30224492,"question_id":6784463,"body_markdown":"On Red Hat Linux I got this issue resolved by importing the certificates to `/etc/pki/java/cacerts`.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Red Hat Linux I got this issue resolved by importing the certificates to <code>/etc/pki/java/cacerts</code>.</p>\n"},{"tags":[],"owner":{"account_id":6431651,"reputation":1201,"user_id":4984523,"display_name":"Michael Condouris"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1478286355,"creation_date":1433724843,"answer_id":30699960,"question_id":6784463,"body_markdown":"This fixed the problem for me on Ubuntu:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n(found here: https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760)\r\n\r\n`ca-certificates-java` is not a dependency in the Oracle JDK/JRE so this must be explicitly installed.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>This fixed the problem for me on Ubuntu:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<p>(found here: <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760</a>)</p>\n\n<p><code>ca-certificates-java</code> is not a dependency in the Oracle JDK/JRE so this must be explicitly installed.</p>\n"},{"tags":[],"owner":{"account_id":6679529,"reputation":404,"user_id":5153178,"display_name":"steveoams"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1532257223,"creation_date":1437755283,"answer_id":31615479,"question_id":6784463,"body_markdown":"I expected things like this, being that I use an alternate JVM in my [Talend Open Studio][1] (support at the moment exists only until JDK 1.7). I use 8 for security purposes... anyway\r\n\r\n- Update your certificate store:\r\n\r\n        sudo update-ca-certificates -f\r\n\r\nthen\r\n\r\n- add a new value in your initialization parameters\r\n\r\n        sudo gedit $(path to your architecture specific ini i.e. TOS_DI...ini)\r\n\r\n        Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\r\n\r\nFor me, the second entry worked. I think, depending on the version of Talend Open Studio/TEnt + JVM, it has a different parameter name, but it looks for the same keystore file.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Talend_Open_Studio_for_Data_Quality#Talend_Open_Studio_for_Data_Quality_Project\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I expected things like this, being that I use an alternate JVM in my <a href=\"https://en.wikipedia.org/wiki/Talend_Open_Studio_for_Data_Quality#Talend_Open_Studio_for_Data_Quality_Project\" rel=\"nofollow noreferrer\">Talend Open Studio</a> (support at the moment exists only until JDK 1.7). I use 8 for security purposes... anyway</p>\n\n<ul>\n<li><p>Update your certificate store:</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre></li>\n</ul>\n\n<p>then</p>\n\n<ul>\n<li><p>add a new value in your initialization parameters</p>\n\n<pre><code>sudo gedit $(path to your architecture specific ini i.e. TOS_DI...ini)\n\nDjavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\n</code></pre></li>\n</ul>\n\n<p>For me, the second entry worked. I think, depending on the version of Talend Open Studio/TEnt + JVM, it has a different parameter name, but it looks for the same keystore file.</p>\n"},{"tags":[],"owner":{"account_id":3364653,"reputation":391,"user_id":2825593,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1532257334,"creation_date":1445635963,"answer_id":33311710,"question_id":6784463,"body_markdown":"I ran\r\n\r\n    sudo update-ca-certificates -f\r\n\r\nto create a certificate file, and then:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\nI was back in business, thanks guys. It is a pity it&#39;s not included in the installation, but I got there in the end.\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre>\n\n<p>to create a certificate file, and then:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<p>I was back in business, thanks guys. It is a pity it's not included in the installation, but I got there in the end.</p>\n"},{"tags":[],"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532257427,"creation_date":1458629943,"answer_id":36147986,"question_id":6784463,"body_markdown":"In my case the JKS file used in the client application was corrupted. I created a new one and imported the destination server SSL certificates in it. Then I used the new JKS file in the client application as a trust store, like:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path_to_your_cacerts_file);\r\n\r\nSource: [Java SSL and certificate keystore][1]\r\n\r\nI use the (KeyStore Explorer) tool to create the new JKS. You can download it from this link, [KeyStore Explorer][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\r\n  [2]: http://www.keystore-explorer.org/\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In my case the JKS file used in the client application was corrupted. I created a new one and imported the destination server SSL certificates in it. Then I used the new JKS file in the client application as a trust store, like:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",path_to_your_cacerts_file);\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\">Java SSL and certificate keystore</a></p>\n\n<p>I use the (KeyStore Explorer) tool to create the new JKS. You can download it from this link, <a href=\"http://www.keystore-explorer.org/\" rel=\"nofollow noreferrer\">KeyStore Explorer</a>.</p>\n"},{"tags":[],"owner":{"account_id":2465474,"reputation":1361,"user_id":2148681,"display_name":"razvanone"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1613121180,"creation_date":1459332362,"answer_id":36305610,"question_id":6784463,"body_markdown":"The error tells that the system cannot find the truststore in the path provided with the parameter `javax.net.ssl.trustStore`.\r\n\r\nUnder Windows I copied the `cacerts` file from `jre/lib/security` into the Eclipse install directory (same place as the `eclipse.ini` file) and added the following settings in `eclipse.ini`:\r\n\r\n    -Djavax.net.ssl.trustStore=cacerts\r\n    -Djavax.net.ssl.trustStorePassword=changeit\r\n    -Djavax.net.ssl.trustStoreType=JKS\r\n\r\nI had some troubles with the path to the cacerts (the %java_home% environment variable is somehow overwritten), so I used this trivial solution.\r\n\r\nThe idea is to provide a valid path to the truststore file - ideally it would be to use a relative one. You may also use an absolute path.\r\n\r\nTo make sure the store type is JKS, you would run the following command:\r\n\r\n    keytool -list -keystore cacerts\r\n\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n\r\n**Note**: because certificates have expiration dates, or can become invalid for other reasons, do check from time to time if the certificates in *cacerts* are still valid. You would usually find the valid versions of the certificates in the latest builds of jdk.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>The error tells that the system cannot find the truststore in the path provided with the parameter <code>javax.net.ssl.trustStore</code>.</p>\n<p>Under Windows I copied the <code>cacerts</code> file from <code>jre/lib/security</code> into the Eclipse install directory (same place as the <code>eclipse.ini</code> file) and added the following settings in <code>eclipse.ini</code>:</p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n-Djavax.net.ssl.trustStorePassword=changeit\n-Djavax.net.ssl.trustStoreType=JKS\n</code></pre>\n<p>I had some troubles with the path to the cacerts (the %java_home% environment variable is somehow overwritten), so I used this trivial solution.</p>\n<p>The idea is to provide a valid path to the truststore file - ideally it would be to use a relative one. You may also use an absolute path.</p>\n<p>To make sure the store type is JKS, you would run the following command:</p>\n<pre><code>keytool -list -keystore cacerts\n\nKeystore type: JKS\nKeystore provider: SUN\n</code></pre>\n<p><strong>Note</strong>: because certificates have expiration dates, or can become invalid for other reasons, do check from time to time if the certificates in <em>cacerts</em> are still valid. You would usually find the valid versions of the certificates in the latest builds of jdk.</p>\n"},{"tags":[],"owner":{"account_id":8543642,"reputation":415,"user_id":6402834,"display_name":"Divyesh Kalbhor"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1532257791,"creation_date":1464670840,"answer_id":37537169,"question_id":6784463,"body_markdown":"    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\Users\\\\user-id\\\\Desktop\\\\tomcat\\\\cacerts&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;passwd&quot;);\r\n\r\nYou have to add the above two lines to your code. It is not able to find the truststore.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<pre><code>System.setProperty(\"javax.net.ssl.trustStore\", \"C:\\\\Users\\\\user-id\\\\Desktop\\\\tomcat\\\\cacerts\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"passwd\");\n</code></pre>\n\n<p>You have to add the above two lines to your code. It is not able to find the truststore.</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532276730,"creation_date":1483617915,"answer_id":41484663,"question_id":6784463,"body_markdown":"I got the same error when sending emails, but **NOT** always. In my case I&#39;ve changed one line of code to get a new [Session](http://docs.oracle.com/javaee/7/api/javax/mail/Session.html) object every time:\r\n\r\n    MimeMessage message = new MimeMessage(Session.getDefaultInstance(props, authenticator));\r\n\r\nto\r\n\r\n    MimeMessage message = new MimeMessage(Session.getInstance(props, authenticator));\r\n\r\nSince then sending e-mails works every time.\r\n\r\nThe error I got:\r\n\r\n&gt; javax.mail.MessagingException: Could not convert socket to TLS;    &lt;br/&gt;\r\n&gt; nested exception is:     javax.net.ssl.SSLException:               &lt;br/&gt;\r\n&gt; java.lang.RuntimeException: Unexpected error:                      &lt;br/&gt;\r\n&gt; java.security.InvalidAlgorithmParameterException: the trustAnchors &lt;br/&gt;\r\n&gt; parameter must be non-empty     at                                 &lt;br/&gt;\r\n&gt; com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)     at &lt;br/&gt;\r\n&gt; com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)  &lt;br/&gt;\r\n&gt;     at javax.mail.Service.connect(Service.java:317)     at &lt;br/&gt;\r\n&gt; javax.mail.Service.connect(Service.java:176)     at        &lt;br/&gt;\r\n&gt; javax.mail.Service.connect(Service.java:125)     at        &lt;br/&gt;\r\n&gt; javax.mail.Transport.send0(Transport.java:194)     at      &lt;br/&gt;\r\n&gt; javax.mail.Transport.send(Transport.java:124)              &lt;br/&gt;\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got the same error when sending emails, but <strong>NOT</strong> always. In my case I've changed one line of code to get a new <a href=\"http://docs.oracle.com/javaee/7/api/javax/mail/Session.html\" rel=\"nofollow noreferrer\">Session</a> object every time:</p>\n\n<pre><code>MimeMessage message = new MimeMessage(Session.getDefaultInstance(props, authenticator));\n</code></pre>\n\n<p>to</p>\n\n<pre><code>MimeMessage message = new MimeMessage(Session.getInstance(props, authenticator));\n</code></pre>\n\n<p>Since then sending e-mails works every time.</p>\n\n<p>The error I got:</p>\n\n<blockquote>\n  <p>javax.mail.MessagingException: Could not convert socket to TLS;    <br/>\n  nested exception is:     javax.net.ssl.SSLException:               <br/>\n  java.lang.RuntimeException: Unexpected error:                      <br/>\n  java.security.InvalidAlgorithmParameterException: the trustAnchors <br/>\n  parameter must be non-empty     at                                 <br/>\n  com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)     at <br/>\n  com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)  <br/>\n      at javax.mail.Service.connect(Service.java:317)     at <br/>\n  javax.mail.Service.connect(Service.java:176)     at        <br/>\n  javax.mail.Service.connect(Service.java:125)     at        <br/>\n  javax.mail.Transport.send0(Transport.java:194)     at      <br/>\n  javax.mail.Transport.send(Transport.java:124)              <br/></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2567258,"reputation":153,"user_id":2226964,"display_name":"The Tomahawk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484147525,"creation_date":1484147525,"answer_id":41594375,"question_id":6784463,"body_markdown":"On Ubuntu:\r\n\r\n&gt; sudo apt install ca-certificates-java\r\n\r\nor\r\n\r\n&gt; sudo apt-get install ca-certificates-java\r\n\r\nsorted it for me.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu:</p>\n\n<blockquote>\n  <p>sudo apt install ca-certificates-java</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>sudo apt-get install ca-certificates-java</p>\n</blockquote>\n\n<p>sorted it for me.</p>\n"},{"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532258172,"creation_date":1487868778,"answer_id":42421760,"question_id":6784463,"body_markdown":"Another reason for this is it&#39;s actually a valid error. Some nefarious Wi-Fi hotspots will mess with certificates and [man-in-the-middle attack][1] you to do who knows what (run away!).\r\n\r\nSome large employers will do this same trick, especially in sensitive network zones so they can monitor all the encrypted traffic (not great from end user perspective, but there may be good reasons for this).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Man-in-the-middle_attack\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Another reason for this is it's actually a valid error. Some nefarious Wi-Fi hotspots will mess with certificates and <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">man-in-the-middle attack</a> you to do who knows what (run away!).</p>\n\n<p>Some large employers will do this same trick, especially in sensitive network zones so they can monitor all the encrypted traffic (not great from end user perspective, but there may be good reasons for this).</p>\n"},{"tags":[],"owner":{"account_id":6446680,"reputation":828,"user_id":4994985,"accept_rate":80,"display_name":"Maarten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532258311,"creation_date":1488878170,"answer_id":42644289,"question_id":6784463,"body_markdown":"I got this error when using a truststore which was exported using a IBM Websphere JDK keytool in #PKCS12 format and trying to communicate over SSL using that file on an Oracle JRE.\r\n\r\nMy solution was to run on an IBM JRE or convert the truststore to JKS using an IBM Websphere keytool, so I was able to run it in an Oracle JRE.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got this error when using a truststore which was exported using a IBM Websphere JDK keytool in #PKCS12 format and trying to communicate over SSL using that file on an Oracle JRE.</p>\n\n<p>My solution was to run on an IBM JRE or convert the truststore to JKS using an IBM Websphere keytool, so I was able to run it in an Oracle JRE.</p>\n"},{"tags":[],"owner":{"account_id":4367754,"reputation":2942,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1532258751,"creation_date":1490034054,"answer_id":42911164,"question_id":6784463,"body_markdown":"For the record, *none* of the answers here worked for me. My Gradle build started failing mysteriously with this error, unable to fetch HEAD from [Maven][1] [central][2] for a particular [POM][3] file.\r\n\r\nIt turned out that I had JAVA_HOME set to my own personal build of OpenJDK, which I had built for debugging a javac issue. Setting it back to the JDK installed on my system fixed it.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://central.sonatype.org/\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For the record, <em>none</em> of the answers here worked for me. My Gradle build started failing mysteriously with this error, unable to fetch HEAD from <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> <a href=\"https://central.sonatype.org/\" rel=\"nofollow noreferrer\">central</a> for a particular <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</p>\n\n<p>It turned out that I had JAVA_HOME set to my own personal build of OpenJDK, which I had built for debugging a javac issue. Setting it back to the JDK installed on my system fixed it.</p>\n"},{"tags":[],"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1532265491,"creation_date":1499179363,"answer_id":44908840,"question_id":6784463,"body_markdown":"You may also encounter this error after upgrading to Spring Boot 1.4.1 (or newer) because it brings along [Tomcat][1] 8.5.5 as part of its dependencies.\r\n\r\nThe problem is due to the way that Tomcat deals with the trust store. If you happen to have specified your trust store location as the same as your keystore in the Spring Boot configuration, you&#39;ll likely get the `trustAnchors parameter must be non-empty` message when starting the application.\r\n\r\n    server.ssl.key-store=classpath:server.jks\r\n    server.ssl.trust-store=classpath:server.jks\r\n\r\nSimply remove the `server.ssl.trust-store` configuration unless you know that you need it, in which case consult the links below.\r\n\r\nThe following issues contain more details about the problem:\r\n\r\n - *[HTTPS Tomcat connector fails to start with 1.4.1][2]* #7069\r\n - *[SSL-client-auth with self-signed cert stopped working][3]* #7406\r\n - *[Upgrade to Tomcat 8.5.5][4]* #6703\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Tomcat\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/7069\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/7406\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/6703\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>You may also encounter this error after upgrading to Spring Boot 1.4.1 (or newer) because it brings along <a href=\"http://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Tomcat</a> 8.5.5 as part of its dependencies.</p>\n\n<p>The problem is due to the way that Tomcat deals with the trust store. If you happen to have specified your trust store location as the same as your keystore in the Spring Boot configuration, you'll likely get the <code>trustAnchors parameter must be non-empty</code> message when starting the application.</p>\n\n<pre><code>server.ssl.key-store=classpath:server.jks\nserver.ssl.trust-store=classpath:server.jks\n</code></pre>\n\n<p>Simply remove the <code>server.ssl.trust-store</code> configuration unless you know that you need it, in which case consult the links below.</p>\n\n<p>The following issues contain more details about the problem:</p>\n\n<ul>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/7069\" rel=\"nofollow noreferrer\">HTTPS Tomcat connector fails to start with 1.4.1</a></em> #7069</li>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/7406\" rel=\"nofollow noreferrer\">SSL-client-auth with self-signed cert stopped working</a></em> #7406</li>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/6703\" rel=\"nofollow noreferrer\">Upgrade to Tomcat 8.5.5</a></em> #6703</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1615207642,"creation_date":1501804862,"answer_id":45496332,"question_id":6784463,"body_markdown":"For me it was caused by the lack of a trustedCertEntry in the truststore.\r\n\r\nTo test, use:\r\n\r\n    keytool -list -keystore keystore.jks\r\n\r\nIt gives me:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n\r\n    Your keystore contains 1 entry\r\n\r\n    cert-alias, 31-Jul-2017, PrivateKeyEntry\r\n\r\nEven though my PrivateKeyEntry contains a CA ***it needed to be imported separately***:\r\n\r\n    keytool -import -alias root-ca1 -file rootca.crt -keystore keystore.jks\r\n\r\nIt imports the certificate, and then re-running `keytool -list -keystore keystore.jks` now gives:\r\n\r\n    Your keystore contains 2 entries\r\n\r\n    cert-alias, 31-Jul-2017, PrivateKeyEntry,\r\n    Certificate fingerprint (SHA1): &lt;fingerprint&gt;\r\n\r\n    root-ca1, 04-Aug-2017, trustedCertEntry,\r\n    Certificate fingerprint (SHA1): &lt;fingerprint&gt;\r\n\r\nNow it has a trustedCertEntry, and Tomcat will start successfully.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For me it was caused by the lack of a trustedCertEntry in the truststore.</p>\n<p>To test, use:</p>\n<pre><code>keytool -list -keystore keystore.jks\n</code></pre>\n<p>It gives me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Keystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\ncert-alias, 31-Jul-2017, PrivateKeyEntry\n</code></pre>\n<p>Even though my PrivateKeyEntry contains a CA <em><strong>it needed to be imported separately</strong></em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -import -alias root-ca1 -file rootca.crt -keystore keystore.jks\n</code></pre>\n<p>It imports the certificate, and then re-running <code>keytool -list -keystore keystore.jks</code> now gives:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Your keystore contains 2 entries\n\ncert-alias, 31-Jul-2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): &lt;fingerprint&gt;\n\nroot-ca1, 04-Aug-2017, trustedCertEntry,\nCertificate fingerprint (SHA1): &lt;fingerprint&gt;\n</code></pre>\n<p>Now it has a trustedCertEntry, and Tomcat will start successfully.</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506097322,"creation_date":1506097322,"answer_id":46369183,"question_id":6784463,"body_markdown":"If you experience this on Ubuntu with JDK9 and Maven, you can add this JVM option - first check if the path exists:\r\n\r\n    -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\r\n\r\nIf the file is missing, try to install the ca-certificates-java as someone noted:\r\n\r\n    sudo apt install ca-certificates-java","title":"Error - trustAnchors parameter must be non-empty","body":"<p>If you experience this on Ubuntu with JDK9 and Maven, you can add this JVM option - first check if the path exists:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>If the file is missing, try to install the ca-certificates-java as someone noted:</p>\n\n<pre><code>sudo apt install ca-certificates-java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8902355,"reputation":65,"user_id":6645406,"display_name":"DPKGRG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532266003,"creation_date":1508920904,"answer_id":46927804,"question_id":6784463,"body_markdown":"I faced this problem while running a particular suite of Android for testing on [Ubuntu&amp;nbsp;14.04][1] (Trusty Tahr). Two things worked for me as suggested by shaheen:\r\n\r\n    sudo update-ca-certificates -f\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_14.04_LTS_.28Trusty_Tahr.29\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I faced this problem while running a particular suite of Android for testing on <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_14.04_LTS_.28Trusty_Tahr.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;14.04</a> (Trusty Tahr). Two things worked for me as suggested by shaheen:</p>\n\n<pre><code>sudo update-ca-certificates -f\n\nsudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8584389,"reputation":720,"user_id":6431035,"display_name":"Mossroy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532266120,"creation_date":1509288865,"answer_id":47001608,"question_id":6784463,"body_markdown":"I had this error message on Java 9.0.1 on Linux. It was due to a known bug of the JDK, where the cacerts file is empty in the .tar.gz binary package (downloaded from http://jdk.java.net/9/).\r\n\r\nSee the &quot;known issues&quot; paragraph of *[JDK 9.0.1 Release Notes][1]*, saying &quot;TLS does not work by default on OpenJDK 9&quot;.\r\n\r\nOn Debian/Ubuntu (and probably other derivaties), a simple workaround is to replace the cacerts file with the one from the &quot;ca-certificates-java&quot; package:\r\n\r\n    sudo apt install ca-certificates-java\r\n    cp /etc/ssl/certs/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\r\n\r\nOn Red Hat Linux/CentOS, you can do the same from the &quot;ca-certificates&quot; package:\r\n\r\n    sudo yum install ca-certificates\r\n    cp /etc/pki/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/9-0-1-relnotes-3883752.html\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had this error message on Java 9.0.1 on Linux. It was due to a known bug of the JDK, where the cacerts file is empty in the .tar.gz binary package (downloaded from <a href=\"http://jdk.java.net/9/\" rel=\"nofollow noreferrer\">http://jdk.java.net/9/</a>).</p>\n\n<p>See the \"known issues\" paragraph of <em><a href=\"http://www.oracle.com/technetwork/java/javase/9-0-1-relnotes-3883752.html\" rel=\"nofollow noreferrer\">JDK 9.0.1 Release Notes</a></em>, saying \"TLS does not work by default on OpenJDK 9\".</p>\n\n<p>On Debian/Ubuntu (and probably other derivaties), a simple workaround is to replace the cacerts file with the one from the \"ca-certificates-java\" package:</p>\n\n<pre><code>sudo apt install ca-certificates-java\ncp /etc/ssl/certs/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\n</code></pre>\n\n<p>On Red Hat Linux/CentOS, you can do the same from the \"ca-certificates\" package:</p>\n\n<pre><code>sudo yum install ca-certificates\ncp /etc/pki/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9534194,"reputation":13,"user_id":7084856,"display_name":"himanshu vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532266191,"creation_date":1509524022,"answer_id":47050679,"question_id":6784463,"body_markdown":"For me it got resolved just by upgrading a Jenkins plugin, &quot;Email Extension Plugin&quot;, to the latest version (2.61).\r\n\r\nThese two plugins are responsible for email configuration in Jenkins:\r\n\r\n * *Email Extension*\r\n * *Email Extension Template*\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For me it got resolved just by upgrading a Jenkins plugin, \"Email Extension Plugin\", to the latest version (2.61).</p>\n\n<p>These two plugins are responsible for email configuration in Jenkins:</p>\n\n<ul>\n<li><em>Email Extension</em></li>\n<li><em>Email Extension Template</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":81786,"reputation":614,"user_id":230438,"accept_rate":50,"display_name":"shw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532266403,"creation_date":1509540296,"answer_id":47055186,"question_id":6784463,"body_markdown":"None of solutions that I found on the Internet worked, but a modified version of [Peter Kriens&#39;s answer][1] seems to do the job.\r\n\r\nFirst find your Java folder by running `/usr/libexec/java_home`. For me it was the `1.6.0.jdk` version. Then go to its `lib/security` subfolder (for me `/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security`).\r\n\r\nThen delete the `cacerts` file if there is one already and search for one on the system with `sudo find / -name &quot;cacerts&quot;`. It found multiple items for me, in versions of Xcode or other applications that I had installed, but also at `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts` which I chose.\r\n\r\nUse that file and make a symbolic link to it (while inside the Java folder from before), `sudo ln -fsh &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts&quot;`, and it should work.\r\n\r\nI have both - Java from Apple&#39;s 2017-001 download (https://support.apple.com/kb/dl1572 - I assume that&#39;s where the correct certificates are from) and Oracle&#39;s one installed on [Mac OS X v10.12][2] (Sierra).\r\n\r\n  [1]: https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/10915692#10915692\r\n  [2]: https://en.wikipedia.org/wiki/MacOS_Sierra\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>None of solutions that I found on the Internet worked, but a modified version of <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/10915692#10915692\">Peter Kriens's answer</a> seems to do the job.</p>\n\n<p>First find your Java folder by running <code>/usr/libexec/java_home</code>. For me it was the <code>1.6.0.jdk</code> version. Then go to its <code>lib/security</code> subfolder (for me <code>/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security</code>).</p>\n\n<p>Then delete the <code>cacerts</code> file if there is one already and search for one on the system with <code>sudo find / -name \"cacerts\"</code>. It found multiple items for me, in versions of Xcode or other applications that I had installed, but also at <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts</code> which I chose.</p>\n\n<p>Use that file and make a symbolic link to it (while inside the Java folder from before), <code>sudo ln -fsh \"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts\"</code>, and it should work.</p>\n\n<p>I have both - Java from Apple's 2017-001 download (<a href=\"https://support.apple.com/kb/dl1572\" rel=\"nofollow noreferrer\">https://support.apple.com/kb/dl1572</a> - I assume that's where the correct certificates are from) and Oracle's one installed on <a href=\"https://en.wikipedia.org/wiki/MacOS_Sierra\" rel=\"nofollow noreferrer\">Mac OS X v10.12</a> (Sierra).</p>\n"},{"tags":[],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532266852,"creation_date":1524455993,"answer_id":49973208,"question_id":6784463,"body_markdown":"I had this issue when trying to use [Maven][1] 3, after upgrading from [Ubuntu&amp;nbsp;16.04][2] LTS (Xenial Xerus) to [Ubuntu&amp;nbsp;18.04][3] LTS (Bionic Beaver).\r\n\r\nChecking /usr/lib/jvm/java-8-oracle/jre/lib/security showed that my cacerts file was a symbolic link pointing to `/etc/ssl/certs/java/cacerts`.\r\n\r\nI also had a file suspiciously named `cacerts.original`.\r\n\r\nI renamed `cacerts.original` to `cacerts`, and that fixed the issue.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29\r\n  [3]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_18.04_LTS_.28Bionic_Beaver.29\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had this issue when trying to use <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> 3, after upgrading from <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;16.04</a> LTS (Xenial Xerus) to <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_18.04_LTS_.28Bionic_Beaver.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;18.04</a> LTS (Bionic Beaver).</p>\n\n<p>Checking /usr/lib/jvm/java-8-oracle/jre/lib/security showed that my cacerts file was a symbolic link pointing to <code>/etc/ssl/certs/java/cacerts</code>.</p>\n\n<p>I also had a file suspiciously named <code>cacerts.original</code>.</p>\n\n<p>I renamed <code>cacerts.original</code> to <code>cacerts</code>, and that fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":4009160,"reputation":575,"user_id":3303059,"display_name":"ericek111"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1532267117,"creation_date":1524779540,"answer_id":50052364,"question_id":6784463,"body_markdown":"Removing the ca-certificates-java package and installing it again worked for me ([Ubuntu MATE][1] 17.10 (Artful Aardvark)).\r\n\r\n    sudo dpkg --purge --force-depends ca-certificates-java\r\n\r\n    sudo apt-get install ca-certificates-java\r\n\r\nThank you, jdstrand: *Comment 1 for bug 983302, Re: ca-certificates-java fails to install Java cacerts on Oneiric Ocelot*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_MATE\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Removing the ca-certificates-java package and installing it again worked for me (<a href=\"https://en.wikipedia.org/wiki/Ubuntu_MATE\" rel=\"noreferrer\">Ubuntu MATE</a> 17.10 (Artful Aardvark)).</p>\n\n<pre><code>sudo dpkg --purge --force-depends ca-certificates-java\n\nsudo apt-get install ca-certificates-java\n</code></pre>\n\n<p>Thank you, jdstrand: <em>Comment 1 for bug 983302, Re: ca-certificates-java fails to install Java cacerts on Oneiric Ocelot</em>.</p>\n"},{"tags":[],"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"down_vote_count":2,"up_vote_count":304,"is_accepted":false,"score":302,"last_activity_date":1591197084,"creation_date":1525101765,"answer_id":50103533,"question_id":6784463,"body_markdown":"In **Ubuntu 18.04**, this error has a different cause (JEP 229, switch from the `jks` keystore default format to the `pkcs12` format, and the Debian cacerts file generation using the default for new files) and [workaround](https://gist.github.com/mikaelhg/527204e746984cf9a33f7910bb8b4cb6):\r\n\r\n&lt;!-- language: lang-bsh --&gt;\r\n\r\n    # Ubuntu 18.04 and various Docker images such as openjdk:9-jdk throw exceptions when\r\n    # Java applications use SSL and HTTPS, because Java 9 changed a file format, if you\r\n    # create that file from scratch, like Debian / Ubuntu do.\r\n    #\r\n    # Before applying, run your application with the Java command line parameter\r\n    #  java -Djavax.net.ssl.trustStorePassword=changeit ...\r\n    # to verify that this workaround is relevant to your particular issue.\r\n    #\r\n    # The parameter by itself can be used as a workaround, as well.\r\n    \r\n    # 0. First make yourself root with &#39;sudo bash&#39;.\r\n\r\n    # 1. Save an empty JKS file with the default &#39;changeit&#39; password for Java cacerts.\r\n    #    Use &#39;printf&#39; instead of &#39;echo&#39; for Dockerfile RUN compatibility.\r\n    /usr/bin/printf &#39;\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92&#39; &gt; /etc/ssl/certs/java/cacerts\r\n    \r\n    # 2. Re-add all the CA certs into the previously empty file.\r\n    /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n----\r\n\r\n**Status (2018-08-07)**, the bug has been fixed in Ubuntu Bionic LTS 18.04.1 and Ubuntu Cosmic 18.10. \r\n\r\n----\r\n\r\n&#128505; [Ubuntu 1770553: [SRU] backport ca-certificates-java from cosmic (20180413ubuntu1)](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1770553)\r\n\r\n&#128505; [Ubuntu 1769013: Please merge ca-certificates-java 20180413 (main) from Debian unstable (main)](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1769013)\r\n\r\n&#128505; [Ubuntu 1739631: Fresh install with JDK 9 can&#39;t use the generated PKCS12 cacerts keystore file](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631)\r\n\r\n&#128505; [docker-library 145: 9-jdk image has SSL issues](https://github.com/docker-library/openjdk/issues/145)\r\n\r\n&#128505; [Debian 894979: ca-certificates-java: does not work with OpenJDK 9, applications fail with InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=894979)\r\n\r\n&#128505; [JDK-8044445 : JEP 229: Create PKCS12 Keystores by Default](https://bugs.java.com/view_bug.do?bug_id=8044445)\r\n\r\n&#128442; [JEP 229: Create PKCS12 Keystores by Default](http://openjdk.java.net/jeps/229)\r\n\r\n----\r\n\r\nIf the issue continues after this workaround, you might want to make sure that you&#39;re actually running the Java distribution you just fixed.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    $ which java\r\n    /usr/bin/java\r\n\r\nYou can set the Java alternatives to &#39;auto&#39; with:\r\n\r\n    $ sudo update-java-alternatives -a\r\n    update-alternatives: error: no alternatives for mozilla-javaplugin.so\r\n\r\nYou can double-check the Java version you&#39;re executing:\r\n\r\n    $ java --version\r\n    openjdk 10.0.1 2018-04-17\r\n    OpenJDK Runtime Environment (build 10.0.1+10-Ubuntu-3ubuntu1)\r\n    OpenJDK 64-Bit Server VM (build 10.0.1+10-Ubuntu-3ubuntu1, mixed mode)\r\n\r\n----\r\n\r\nThere are alternative workarounds as well, but those have their own side effects which will require extra future maintenance, for no payoff whatsoever.\r\n\r\nThe next-best workaround is to add the row\r\n\r\n    javax.net.ssl.trustStorePassword=changeit\r\n\r\nto the files\r\n\r\n    /etc/java-9-openjdk/management/management.properties\r\n    /etc/java-11-openjdk/management/management.properties\r\n\r\nwhichever exists.\r\n\r\nThe third least problematic workaround is to change the value of\r\n\r\n    keystore.type=pkcs12\r\n\r\nto \r\n\r\n    keystore.type=jks\r\n\r\nin the files \r\n\r\n    /etc/java-9-openjdk/security/java.security\r\n    /etc/java-11-openjdk/security/java.security\r\n\r\nwhichever exists, and then remove the `cacerts` file and regenerate it in the manner described on the last row of the workaround script at the top of the post.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In <strong>Ubuntu 18.04</strong>, this error has a different cause (JEP 229, switch from the <code>jks</code> keystore default format to the <code>pkcs12</code> format, and the Debian cacerts file generation using the default for new files) and <a href=\"https://gist.github.com/mikaelhg/527204e746984cf9a33f7910bb8b4cb6\" rel=\"noreferrer\">workaround</a>:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code># Ubuntu 18.04 and various Docker images such as openjdk:9-jdk throw exceptions when\n# Java applications use SSL and HTTPS, because Java 9 changed a file format, if you\n# create that file from scratch, like Debian / Ubuntu do.\n#\n# Before applying, run your application with the Java command line parameter\n#  java -Djavax.net.ssl.trustStorePassword=changeit ...\n# to verify that this workaround is relevant to your particular issue.\n#\n# The parameter by itself can be used as a workaround, as well.\n\n# 0. First make yourself root with 'sudo bash'.\n\n# 1. Save an empty JKS file with the default 'changeit' password for Java cacerts.\n#    Use 'printf' instead of 'echo' for Dockerfile RUN compatibility.\n/usr/bin/printf '\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92' &gt; /etc/ssl/certs/java/cacerts\n\n# 2. Re-add all the CA certs into the previously empty file.\n/var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<hr>\n\n<p><strong>Status (2018-08-07)</strong>, the bug has been fixed in Ubuntu Bionic LTS 18.04.1 and Ubuntu Cosmic 18.10. </p>\n\n<hr>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1770553\" rel=\"noreferrer\">Ubuntu 1770553: [SRU] backport ca-certificates-java from cosmic (20180413ubuntu1)</a></p>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1769013\" rel=\"noreferrer\">Ubuntu 1769013: Please merge ca-certificates-java 20180413 (main) from Debian unstable (main)</a></p>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631\" rel=\"noreferrer\">Ubuntu 1739631: Fresh install with JDK 9 can't use the generated PKCS12 cacerts keystore file</a></p>\n\n<p>🗹 <a href=\"https://github.com/docker-library/openjdk/issues/145\" rel=\"noreferrer\">docker-library 145: 9-jdk image has SSL issues</a></p>\n\n<p>🗹 <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=894979\" rel=\"noreferrer\">Debian 894979: ca-certificates-java: does not work with OpenJDK 9, applications fail with InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty</a></p>\n\n<p>🗹 <a href=\"https://bugs.java.com/view_bug.do?bug_id=8044445\" rel=\"noreferrer\">JDK-8044445 : JEP 229: Create PKCS12 Keystores by Default</a></p>\n\n<p>🖺 <a href=\"http://openjdk.java.net/jeps/229\" rel=\"noreferrer\">JEP 229: Create PKCS12 Keystores by Default</a></p>\n\n<hr>\n\n<p>If the issue continues after this workaround, you might want to make sure that you're actually running the Java distribution you just fixed.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ which java\n/usr/bin/java\n</code></pre>\n\n<p>You can set the Java alternatives to 'auto' with:</p>\n\n<pre><code>$ sudo update-java-alternatives -a\nupdate-alternatives: error: no alternatives for mozilla-javaplugin.so\n</code></pre>\n\n<p>You can double-check the Java version you're executing:</p>\n\n<pre><code>$ java --version\nopenjdk 10.0.1 2018-04-17\nOpenJDK Runtime Environment (build 10.0.1+10-Ubuntu-3ubuntu1)\nOpenJDK 64-Bit Server VM (build 10.0.1+10-Ubuntu-3ubuntu1, mixed mode)\n</code></pre>\n\n<hr>\n\n<p>There are alternative workarounds as well, but those have their own side effects which will require extra future maintenance, for no payoff whatsoever.</p>\n\n<p>The next-best workaround is to add the row</p>\n\n<pre><code>javax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>to the files</p>\n\n<pre><code>/etc/java-9-openjdk/management/management.properties\n/etc/java-11-openjdk/management/management.properties\n</code></pre>\n\n<p>whichever exists.</p>\n\n<p>The third least problematic workaround is to change the value of</p>\n\n<pre><code>keystore.type=pkcs12\n</code></pre>\n\n<p>to </p>\n\n<pre><code>keystore.type=jks\n</code></pre>\n\n<p>in the files </p>\n\n<pre><code>/etc/java-9-openjdk/security/java.security\n/etc/java-11-openjdk/security/java.security\n</code></pre>\n\n<p>whichever exists, and then remove the <code>cacerts</code> file and regenerate it in the manner described on the last row of the workaround script at the top of the post.</p>\n"},{"tags":[],"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1544521346,"creation_date":1528144412,"answer_id":50688351,"question_id":6784463,"body_markdown":"On Ubuntu 18.04 the root cause is a conflict between openjdk-11-jdk (which is default) and other packages depending on it. It has already been fixed in Debian and will be included in Ubuntu shortly. Meanwhile the simplest workaround is to demote your java to version 8. Other solutions employing `ca-certificates-java` are much more complicated.\r\n\r\nFirst remove conflicting packages:\r\n\r\n    sudo apt-get remove --purge openjdk* java-common default-jdk\r\n    sudo apt-get autoremove --purge\r\n\r\nCheck whether you successfully removed all related packages by:\r\n\r\n    sudo update-alternatives --config java\r\n\r\nThe system shall prompt you **there is no Java available to config**, otherwise this workaround **fails**.\r\n\r\nThen reinstall required packages:\r\n\r\n    sudo apt-get install openjdk-8-jdk","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu 18.04 the root cause is a conflict between openjdk-11-jdk (which is default) and other packages depending on it. It has already been fixed in Debian and will be included in Ubuntu shortly. Meanwhile the simplest workaround is to demote your java to version 8. Other solutions employing <code>ca-certificates-java</code> are much more complicated.</p>\n\n<p>First remove conflicting packages:</p>\n\n<pre><code>sudo apt-get remove --purge openjdk* java-common default-jdk\nsudo apt-get autoremove --purge\n</code></pre>\n\n<p>Check whether you successfully removed all related packages by:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>The system shall prompt you <strong>there is no Java available to config</strong>, otherwise this workaround <strong>fails</strong>.</p>\n\n<p>Then reinstall required packages:</p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8963670,"reputation":513,"user_id":6685260,"display_name":"Gabriel Cs&#233;falvay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584625174,"creation_date":1528365611,"answer_id":50738393,"question_id":6784463,"body_markdown":"I encountered this problem with the Android SDK sdkmanager. For me this solution worked:\r\n\r\n 1. Go to `/usr/lib/jvm/java-8-oracle/jre/lib/security/`\r\n 2. Replace `cacert` with `cacert.original`\r\n\r\nThe `cacert` file was a tiny one (22B). I have installed `oracle-java8-installer` from `ppa:webupd8team/java` (according to this manual: https://docs.nativescript.org/start/ns-setup-linux). ","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I encountered this problem with the Android SDK sdkmanager. For me this solution worked:</p>\n\n<ol>\n<li>Go to <code>/usr/lib/jvm/java-8-oracle/jre/lib/security/</code></li>\n<li>Replace <code>cacert</code> with <code>cacert.original</code></li>\n</ol>\n\n<p>The <code>cacert</code> file was a tiny one (22B). I have installed <code>oracle-java8-installer</code> from <code>ppa:webupd8team/java</code> (according to this manual: <a href=\"https://docs.nativescript.org/start/ns-setup-linux\" rel=\"nofollow noreferrer\">https://docs.nativescript.org/start/ns-setup-linux</a>). </p>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1584622941,"creation_date":1538486131,"answer_id":52609144,"question_id":6784463,"body_markdown":"Some OpenJDK vendors releases caused this by having an empty `cacerts` file distributed with the binary. The bug is explained here: https://github.com/AdoptOpenJDK/openjdk-build/issues/555\r\n\r\nYou can copy to `adoptOpenJdk8\\jre\\lib\\security\\cacerts` the file from an old instalation like `c:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security\\cacerts`.\r\n\r\nThe AdoptOpenJDK buggy version is https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Some OpenJDK vendors releases caused this by having an empty <code>cacerts</code> file distributed with the binary. The bug is explained here: <a href=\"https://github.com/AdoptOpenJDK/openjdk-build/issues/555\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk-build/issues/555</a></p>\n\n<p>You can copy to <code>adoptOpenJdk8\\jre\\lib\\security\\cacerts</code> the file from an old instalation like <code>c:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security\\cacerts</code>.</p>\n\n<p>The AdoptOpenJDK buggy version is <a href=\"https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip</a></p>\n"},{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547261394,"creation_date":1547261394,"answer_id":54156381,"question_id":6784463,"body_markdown":"on ubuntu 14.04 with openjdk 11 from ppa:openjdk-r/ppa this worked for me:\r\n\r\nin java.security change keystore type to \r\n\r\n    keystore.type=jks\r\n\r\nthen:\r\n\r\n    sudo dpkg --purge --force-depends ca-certificates-java\r\n    sudo apt-get install ca-certificates-java\r\n\r\nwhen you check if it worked, be sure you are not using any daemon with old java still running (eg. `--no-daemon` option for gradle)\r\n\r\nthis bug describes everything nicely and will help you understand what&#39;s going on https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631","title":"Error - trustAnchors parameter must be non-empty","body":"<p>on ubuntu 14.04 with openjdk 11 from ppa:openjdk-r/ppa this worked for me:</p>\n\n<p>in java.security change keystore type to </p>\n\n<pre><code>keystore.type=jks\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>sudo dpkg --purge --force-depends ca-certificates-java\nsudo apt-get install ca-certificates-java\n</code></pre>\n\n<p>when you check if it worked, be sure you are not using any daemon with old java still running (eg. <code>--no-daemon</code> option for gradle)</p>\n\n<p>this bug describes everything nicely and will help you understand what's going on <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631</a></p>\n"},{"tags":[],"owner":{"account_id":417139,"reputation":367,"user_id":792962,"accept_rate":75,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564047848,"creation_date":1564047848,"answer_id":57198962,"question_id":6784463,"body_markdown":"On Ubuntu 18.04 I needed to use OpenJDK 1.7 for the maintenance of an old project. I downloaded the binary package. But when I executed my script on it I got the same error.\r\n\r\nThe solution was to remove the `cacerts` file of the downloaded JDK in the `jre/lib/security` folder and then to create it as symlink to the systems `cacerts` file in `/etc/ssl/certs/java/`:\r\n\r\n`sudo ln -s /etc/ssl/certs/java/cacerts /path/to/downloaded/java/jre/lib/security/cacerts`","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu 18.04 I needed to use OpenJDK 1.7 for the maintenance of an old project. I downloaded the binary package. But when I executed my script on it I got the same error.</p>\n\n<p>The solution was to remove the <code>cacerts</code> file of the downloaded JDK in the <code>jre/lib/security</code> folder and then to create it as symlink to the systems <code>cacerts</code> file in <code>/etc/ssl/certs/java/</code>:</p>\n\n<p><code>sudo ln -s /etc/ssl/certs/java/cacerts /path/to/downloaded/java/jre/lib/security/cacerts</code></p>\n"},{"tags":[],"owner":{"account_id":1022880,"reputation":2804,"user_id":1032791,"accept_rate":73,"display_name":"Julius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565249523,"creation_date":1565249523,"answer_id":57407399,"question_id":6784463,"body_markdown":"I found yet another reason for this error, which is not related to Ubuntu.\r\n\r\nI tried setting up mutual TLS in a Spring boot 2 app and ran into this issue after using a truststore that had only a private key entry and no trusted certificate entry. \r\n\r\nThis is my Spring Boot TLS configuration\r\n\r\n    server.port=8443\r\n    server.ssl.key-alias=oba-tls\r\n    server.ssl.key-password=mypw\r\n    server.ssl.key-store-password=mypw\r\n    server.ssl.key-store=classpath:keys/tls-keystore.pfx\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.enabled=true\r\n    server.ssl.client-auth=need\r\n    \r\n    server.ssl.trust-store=classpath:keys/truststore.pfx\r\n    server.ssl.trust-store-password=mypw\r\n    server.ssl.trust-store-type=PKCS12\r\n    server.ssl.ciphers=ECDHE-RSA-AES128-GCM-SHA256,ECDHE-RSA-AES256-SHA384\r\n    server.ssl.protocol=TLS\r\n    server.ssl.enabled-protocols=TLSv1.2\r\n\r\nFor generating truststore.pfx I had to use the following commands to make it work.\r\n\r\n    openssl req -newkey rsa:2048 -nodes -keyout private.key -x509 -out cert.crt\r\n    \r\n    keytool -importcert -alias oba-trust -file cert.crt -keystore truststore.jks\r\n    \r\n    keytool -importkeystore -srckeystore truststore.jks -destkeystore truststore.pfx -srcstoretype JKS - deststoretype PKCS12 -deststorepass yourpassword\r\n\r\n ","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I found yet another reason for this error, which is not related to Ubuntu.</p>\n\n<p>I tried setting up mutual TLS in a Spring boot 2 app and ran into this issue after using a truststore that had only a private key entry and no trusted certificate entry. </p>\n\n<p>This is my Spring Boot TLS configuration</p>\n\n<pre><code>server.port=8443\nserver.ssl.key-alias=oba-tls\nserver.ssl.key-password=mypw\nserver.ssl.key-store-password=mypw\nserver.ssl.key-store=classpath:keys/tls-keystore.pfx\nserver.ssl.key-store-type=PKCS12\nserver.ssl.enabled=true\nserver.ssl.client-auth=need\n\nserver.ssl.trust-store=classpath:keys/truststore.pfx\nserver.ssl.trust-store-password=mypw\nserver.ssl.trust-store-type=PKCS12\nserver.ssl.ciphers=ECDHE-RSA-AES128-GCM-SHA256,ECDHE-RSA-AES256-SHA384\nserver.ssl.protocol=TLS\nserver.ssl.enabled-protocols=TLSv1.2\n</code></pre>\n\n<p>For generating truststore.pfx I had to use the following commands to make it work.</p>\n\n<pre><code>openssl req -newkey rsa:2048 -nodes -keyout private.key -x509 -out cert.crt\n\nkeytool -importcert -alias oba-trust -file cert.crt -keystore truststore.jks\n\nkeytool -importkeystore -srckeystore truststore.jks -destkeystore truststore.pfx -srcstoretype JKS - deststoretype PKCS12 -deststorepass yourpassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13535303,"reputation":29,"user_id":9764652,"display_name":"Dimitar Dimitrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584625098,"creation_date":1566374823,"answer_id":57587112,"question_id":6784463,"body_markdown":"I had the same error, and the problem was not in configuring the JDK, but a simple wrong path to the JKS file in `application.properties` file under `trust-store:` parameter, double-check if the path is correct.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had the same error, and the problem was not in configuring the JDK, but a simple wrong path to the JKS file in <code>application.properties</code> file under <code>trust-store:</code> parameter, double-check if the path is correct.</p>\n"},{"tags":[],"owner":{"account_id":15195792,"reputation":339,"user_id":10965177,"display_name":"NELSON RODRIGUEZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584625044,"creation_date":1575595410,"answer_id":59205576,"question_id":6784463,"body_markdown":"I ran\r\n\r\n    sudo update-ca-certificates -f\r\n\r\nto create a certificate file, and then:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`\r\n\r\nand then change the command line of jar execution:\r\n\r\n    sudo java -cp xx.jar:lib/* co.com.ixxx.clixxxlarxa.Main","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre>\n\n<p>to create a certificate file, and then:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`\n</code></pre>\n\n<p>and then change the command line of jar execution:</p>\n\n<pre><code>sudo java -cp xx.jar:lib/* co.com.ixxx.clixxxlarxa.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914885,"reputation":77,"user_id":12233118,"display_name":"Poli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575979796,"creation_date":1575979796,"answer_id":59266912,"question_id":6784463,"body_markdown":"For my case I didn&#39;t had specified VM Arguments fully.\r\n\r\n(```Run Configurations.. &gt; (under Apache Tomcat) any server &gt; (x)= Arguments &gt; VM arguments:```)\r\n\r\nMake sure all VM Arguments are set tup correctly.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For my case I didn't had specified VM Arguments fully.</p>\n\n<p>(<code>Run Configurations.. &gt; (under Apache Tomcat) any server &gt; (x)= Arguments &gt; VM arguments:</code>)</p>\n\n<p>Make sure all VM Arguments are set tup correctly.</p>\n"},{"tags":[],"owner":{"account_id":2989870,"reputation":391,"user_id":2537652,"accept_rate":50,"display_name":"Christian Bartram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578853165,"creation_date":1578853165,"answer_id":59706817,"question_id":6784463,"body_markdown":"Slim chance this will help anyone but....for anyone running Java 8 from a Docker Image on a Raspberry Pi (using AMD CPU) I got the following Dockerfile to build and run successfully for me\r\n\r\n```\r\nFROM hypriot/rpi-java\r\nUSER root\r\n\r\nWORKDIR /usr/build/\r\n\r\nRUN /usr/bin/printf &#39;\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92&#39; &gt; /etc/ssl/certs/java/cacerts\r\nRUN update-ca-certificates -f\r\nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\nEXPOSE 8080\r\n\r\nARG JAR_FILE=target/app-0.0.1-SNAPSHOT.jar\r\n\r\nADD ${JAR_FILE} app.jar\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-Djavax.net.ssl.trustStorePassword=changeit&quot;, &quot;-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Slim chance this will help anyone but....for anyone running Java 8 from a Docker Image on a Raspberry Pi (using AMD CPU) I got the following Dockerfile to build and run successfully for me</p>\n\n<pre><code>FROM hypriot/rpi-java\nUSER root\n\nWORKDIR /usr/build/\n\nRUN /usr/bin/printf '\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92' &gt; /etc/ssl/certs/java/cacerts\nRUN update-ca-certificates -f\nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\n\nEXPOSE 8080\n\nARG JAR_FILE=target/app-0.0.1-SNAPSHOT.jar\n\nADD ${JAR_FILE} app.jar\n\nENTRYPOINT [\"java\", \"-Djavax.net.ssl.trustStorePassword=changeit\", \"-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\", \"-jar\", \"app.jar\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4188359,"reputation":17,"user_id":3431510,"display_name":"Prashant"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1585588511,"creation_date":1585588511,"answer_id":60935875,"question_id":6784463,"body_markdown":"You must add the cert file to your java keystore\r\nGo to chrom , open the website , save the certificate in txt format\r\n\r\nGo to cmd&gt; keytool -import -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -alias Root -import -file Trustedcaroot.txt\r\n\r\nhttps://knowledge.digicert.com/solution/SO4085.html\r\n\r\nThis has worked like a charm","title":"Error - trustAnchors parameter must be non-empty","body":"<p>You must add the cert file to your java keystore\nGo to chrom , open the website , save the certificate in txt format</p>\n\n<p>Go to cmd> keytool -import -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -alias Root -import -file Trustedcaroot.txt</p>\n\n<p><a href=\"https://knowledge.digicert.com/solution/SO4085.html\" rel=\"nofollow noreferrer\">https://knowledge.digicert.com/solution/SO4085.html</a></p>\n\n<p>This has worked like a charm</p>\n"},{"tags":[],"owner":{"account_id":6463622,"reputation":2214,"user_id":5006469,"accept_rate":80,"display_name":"rdupz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594979420,"creation_date":1594979420,"answer_id":62951487,"question_id":6784463,"body_markdown":"Fall into this using Amazon SDK v2, Windows 10 and JDK8.\r\nAmazon SDK was complaining about credentials loading.  \r\nI solved this by replacing the `security/cacert` file of JDK8 by the JDK11 one.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Fall into this using Amazon SDK v2, Windows 10 and JDK8.\nAmazon SDK was complaining about credentials loading.<br />\nI solved this by replacing the <code>security/cacert</code> file of JDK8 by the JDK11 one.</p>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688568408,"creation_date":1595744435,"answer_id":63096779,"question_id":6784463,"body_markdown":"I&#39;m a fan of portability, so I don&#39;t install java, just download the tar.gz and export some values in the path and everything works.\r\n\r\nI fought with this issue and no solution (install or update operative systems certs). Nothing worked for me.\r\n\r\n## cacerts file is empty\r\n\r\nIn my case, reviewing my jdk folder, the cacerts file had a little size compared with other jdk folder (servers &amp; friends):\r\n\r\n `/../some_openjdk/jre/lib/security/cacerts` **size: 32 bytes**\r\n\r\nI downloaded it from:\r\n\r\n- https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz\r\n- https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz\r\n\r\n## Fix\r\n\r\nAfter several attempts I found a correct jdk.tar.gz with a **cacerts** file with size **101 KB**\r\n\r\nI downloaded the **open jdk** from [https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries](https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases)\r\n\r\n- https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz\r\n\r\nI found this url in this Dockerfile :\r\n\r\n- https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I'm a fan of portability, so I don't install java, just download the tar.gz and export some values in the path and everything works.</p>\n<p>I fought with this issue and no solution (install or update operative systems certs). Nothing worked for me.</p>\n<h2>cacerts file is empty</h2>\n<p>In my case, reviewing my jdk folder, the cacerts file had a little size compared with other jdk folder (servers &amp; friends):</p>\n<p><code>/../some_openjdk/jre/lib/security/cacerts</code> <strong>size: 32 bytes</strong></p>\n<p>I downloaded it from:</p>\n<ul>\n<li><a href=\"https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz\" rel=\"nofollow noreferrer\">https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</a></li>\n<li><a href=\"https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz</a></li>\n</ul>\n<h2>Fix</h2>\n<p>After several attempts I found a correct jdk.tar.gz with a <strong>cacerts</strong> file with size <strong>101 KB</strong></p>\n<p>I downloaded the <strong>open jdk</strong> from <a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries</a></p>\n<ul>\n<li><a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz</a></li>\n</ul>\n<p>I found this url in this Dockerfile :</p>\n<ul>\n<li><a href=\"https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8211860,"reputation":113,"user_id":7914761,"display_name":"Gus Calca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604627484,"creation_date":1604627484,"answer_id":64707792,"question_id":6784463,"body_markdown":"[Marquis of Lorne&#39;s answer][1] is accurate, I&#39;m adding some info for debugging purposes:\r\n\r\nTo debug this issue (I wrote about it with more details in [here][2]) and understand what truststore is being used (or trying to use) you can add [the property][3] javax.net.debug=all and then filter the logs about truststore. You can also play with the property javax.net.ssl.trustStore to specify a specific truststore. For example :\r\n```\r\n\r\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/Another/path/to/cacerts -jar test_get_https-0.0.1-SNAPSHOT-jar-with-dependencies.jar https://www.calca.com.py 2&gt;&amp;1| grep -i truststore\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6788682/7914761\r\n  [2]: https://medium.com/@gustavocalcaterra/debugging-yet-another-ssl-tls-error-the-trustanchors-parameter-must-be-non-empty-7dd9cb300f43\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug","title":"Error - trustAnchors parameter must be non-empty","body":"<p><a href=\"https://stackoverflow.com/a/6788682/7914761\">Marquis of Lorne's answer</a> is accurate, I'm adding some info for debugging purposes:</p>\n<p>To debug this issue (I wrote about it with more details in <a href=\"https://medium.com/@gustavocalcaterra/debugging-yet-another-ssl-tls-error-the-trustanchors-parameter-must-be-non-empty-7dd9cb300f43\" rel=\"nofollow noreferrer\">here</a>) and understand what truststore is being used (or trying to use) you can add <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\">the property</a> javax.net.debug=all and then filter the logs about truststore. You can also play with the property javax.net.ssl.trustStore to specify a specific truststore. For example :</p>\n<pre><code>\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/Another/path/to/cacerts -jar test_get_https-0.0.1-SNAPSHOT-jar-with-dependencies.jar https://www.calca.com.py 2&gt;&amp;1| grep -i truststore\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4247211,"reputation":457,"user_id":3475522,"display_name":"Robin Mathur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621855999,"creation_date":1621855999,"answer_id":67671367,"question_id":6784463,"body_markdown":"In my case root cause of this issue was **empty truststore** (it was app server truststore).\r\nWhen I added any **dummy x.509 certificate** then stopped throwing this error.\r\n\r\nCommand to add certificate in truststore vis keytool\r\n\r\n    keytool -import -alias dummy -keystore &lt;path to keystore&gt; -storepass &lt;truststore password if any&gt;","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In my case root cause of this issue was <strong>empty truststore</strong> (it was app server truststore).\nWhen I added any <strong>dummy x.509 certificate</strong> then stopped throwing this error.</p>\n<p>Command to add certificate in truststore vis keytool</p>\n<pre><code>keytool -import -alias dummy -keystore &lt;path to keystore&gt; -storepass &lt;truststore password if any&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677159392,"creation_date":1677159392,"answer_id":75545576,"question_id":6784463,"body_markdown":"I ran into the *the trustAnchors parameter must be non-empty* error when I tried to run my app in IntelliJ. To fix the problem I had to make the Run Configuration point to the JDK or JRE that had the `/lib/security/` folder which had the `cacerts` file.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into the <em>the trustAnchors parameter must be non-empty</em> error when I tried to run my app in IntelliJ. To fix the problem I had to make the Run Configuration point to the JDK or JRE that had the <code>/lib/security/</code> folder which had the <code>cacerts</code> file.</p>\n"},{"tags":[],"owner":{"account_id":4405831,"reputation":2663,"user_id":3590283,"display_name":"Sheikh Abdul Wahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689150304,"creation_date":1689150304,"answer_id":76668551,"question_id":6784463,"body_markdown":"I got the same error. But when I restarted the Tomcat service, thankfully it has gone.\r\n\r\n    sudo /usr/local/tomcat/bin/shutdown.sh\r\n    sudo /usr/local/tomcat/bin/startup.sh","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got the same error. But when I restarted the Tomcat service, thankfully it has gone.</p>\n<pre><code>sudo /usr/local/tomcat/bin/shutdown.sh\nsudo /usr/local/tomcat/bin/startup.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690888760,"creation_date":1690888760,"answer_id":76811112,"question_id":6784463,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI had to explicitly specify the path to the store, but I didn&#39;t need to do this before. The application connects to the remote service over https.\r\n\r\n  [1]: https://i.stack.imgur.com/Vqxon.png","title":"Error - trustAnchors parameter must be non-empty","body":"<p><a href=\"https://i.stack.imgur.com/Vqxon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vqxon.png\" alt=\"enter image description here\" /></a></p>\n<p>I had to explicitly specify the path to the store, but I didn't need to do this before. The application connects to the remote service over https.</p>\n"}],"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933648,"favorite_count":0,"down_vote_count":0,"up_vote_count":602,"accepted_answer_id":6788682,"answer_count":48,"score":602,"last_activity_date":1691715747,"creation_date":1311294902,"question_id":6784463,"body_markdown":"I&#39;m trying to configure my e-mail on Jenkins/Hudson, and I constantly receive the error:\r\n\r\n    java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be\r\n        non-empty\r\n\r\nI&#39;ve seen a good amount of information online about the error, but I have not gotten any to work. I&#39;m using Sun&#39;s JDK on Fedora Linux (not OpenJDK).\r\n\r\nHere are a few things I&#39;ve tried. I tried following the advice from this [post][1], but copying the cacerts from Windows over to my Fedora box hosting Jenkins didn&#39;t work.  I tried following [this guide][2] as I&#39;m trying to configure Gmail as my SMTP server, but it didn&#39;t work either. I also tried to download and move those cacert files manually and move them over to my Java folder using a variation of the commands on [this guide][3].\r\n\r\nI am open to any suggestions as I&#39;m currently stuck right now. I have gotten it to work from a Windows Hudson server, but I am struggling on Linux.\r\n\r\n  [1]: https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-must\r\n  [2]: http://g4j.sourceforge.net/faq.html\r\n  [3]: http://www.krzywanski.net/archives/546\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I'm trying to configure my e-mail on Jenkins/Hudson, and I constantly receive the error:</p>\n\n<pre><code>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be\n    non-empty\n</code></pre>\n\n<p>I've seen a good amount of information online about the error, but I have not gotten any to work. I'm using Sun's JDK on Fedora Linux (not OpenJDK).</p>\n\n<p>Here are a few things I've tried. I tried following the advice from this <a href=\"https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-must\">post</a>, but copying the cacerts from Windows over to my Fedora box hosting Jenkins didn't work.  I tried following <a href=\"http://g4j.sourceforge.net/faq.html\" rel=\"noreferrer\">this guide</a> as I'm trying to configure Gmail as my SMTP server, but it didn't work either. I also tried to download and move those cacert files manually and move them over to my Java folder using a variation of the commands on <a href=\"http://www.krzywanski.net/archives/546\" rel=\"noreferrer\">this guide</a>.</p>\n\n<p>I am open to any suggestions as I'm currently stuck right now. I have gotten it to work from a Windows Hudson server, but I am struggling on Linux.</p>\n"},{"tags":["java","maven","jenkins","build"],"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691714380,"creation_date":1691714380,"question_id":76880093,"body_markdown":"Having an issue with versioning on my project. It&#39;s a multi-module project with the parent being in a &quot;parent&quot; subfolder. The child pom in the root of the project just simply states the modules that need to be compiled. My fix for versioning states that it only works when the parent pom is in the git root folder. Are there any concerns &quot;merging&quot; the child pom and parent pom with the modules and putting the parent in the root of the project? I would then have to give all inherited child poms the relative path I presume. Any concerns doing this? I&#39;m fairly new to maven.","title":"Are there any concern with moving a parent pom from a &quot;parent&quot; submodule and putting it to root dir?","body":"<p>Having an issue with versioning on my project. It's a multi-module project with the parent being in a &quot;parent&quot; subfolder. The child pom in the root of the project just simply states the modules that need to be compiled. My fix for versioning states that it only works when the parent pom is in the git root folder. Are there any concerns &quot;merging&quot; the child pom and parent pom with the modules and putting the parent in the root of the project? I would then have to give all inherited child poms the relative path I presume. Any concerns doing this? I'm fairly new to maven.</p>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691702249,"post_id":76879320,"comment_id":135531186,"body_markdown":"Is `my_path` an absolute path?  Are you certain abc.jar is present in that directory?","body":"Is <code>my_path</code> an absolute path?  Are you certain abc.jar is present in that directory?"},{"owner":{"display_name":"user9035826"},"score":3,"creation_date":1691702343,"post_id":76879320,"comment_id":135531199,"body_markdown":"The extension mechanism has been removed since Java 9. For any external jar files, you have to specify them in the class path. What are the errors are you getting?","body":"The extension mechanism has been removed since Java 9. For any external jar files, you have to specify them in the class path. What are the errors are you getting?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":7,"creation_date":1691702383,"post_id":76879320,"comment_id":135531208,"body_markdown":"You can&#39;t mix `-jar` with `-classpath`. You need `java -classpath my_path/abc.jar:my_path /myapp.jar a.b.c.Main`","body":"You can&#39;t mix <code>-jar</code> with <code>-classpath</code>. You need <code>java -classpath my_path&#47;abc.jar:my_path &#47;myapp.jar a.b.c.Main</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691737718,"post_id":76879320,"comment_id":135534826,"body_markdown":"@g00se you can also add a [Class-Path](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html) header field in the JAR manifest.","body":"@g00se you can also add a <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">Class-Path</a> header field in the JAR manifest."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691737978,"post_id":76879320,"comment_id":135534877,"body_markdown":"You can, but personally I don&#39;t like it as it&#39;s hidden and easy to break","body":"You can, but personally I don&#39;t like it as it&#39;s hidden and easy to break"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692618633,"post_id":76879320,"comment_id":135643533,"body_markdown":"@g00se your fix is working with windows(by replacing &#39;:&#39; with &#39;;&#39;) but not working with Linux terminal. Any suggestions?","body":"@g00se your fix is working with windows(by replacing &#39;:&#39; with &#39;;&#39;) but not working with Linux terminal. Any suggestions?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692619047,"post_id":76879320,"comment_id":135643627,"body_markdown":"That really [has no meaning](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"That really <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">has no meaning</a>"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692641710,"post_id":76879320,"comment_id":135648594,"body_markdown":"Hi@g00se, it worked, it was path issue. I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main. Thanks !","body":"Hi@g00se, it worked, it was path issue. I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main. Thanks !"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692641772,"post_id":76879320,"comment_id":135648606,"body_markdown":"Hi @VGR , it&#39;s absolute path. Thanks!","body":"Hi @VGR , it&#39;s absolute path. Thanks!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692648718,"post_id":76879320,"comment_id":135649835,"body_markdown":"*I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main.* No. It&#39;s really quite simple: **a** the quotes are for paths containing spaces and **b** the path separator on Unix-based systems is `:`. I&#39;m finding it difficult to know if you *still* have a problem or not, and if you do, what it is..?","body":"<i>I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main.</i> No. It&#39;s really quite simple: <b>a</b> the quotes are for paths containing spaces and <b>b</b> the path separator on Unix-based systems is <code>:</code>. I&#39;m finding it difficult to know if you <i>still</i> have a problem or not, and if you do, what it is..?"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692704568,"post_id":76879320,"comment_id":135657575,"body_markdown":"Hi @g00se , Actually my application main jar name is dynamic e.g. myapp_version_number.jar So I am trying -classpath my_path/abc.jar:/my_path/myapp*.jar a.b.c.Main but it&#39;s not working","body":"Hi @g00se , Actually my application main jar name is dynamic e.g. myapp_version_number.jar So I am trying -classpath my_path/abc.jar:/my_path/myapp*.jar a.b.c.Main but it&#39;s not working"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692706517,"post_id":76879320,"comment_id":135658043,"body_markdown":"That really has [no meaning](https://technojeeves.com/index.php/aliasjava1/17-errors) But you need to try something like: `dynajar=my_path/myapp*.jar;java -classpath &quot;my_path/abc.jar:/$dynajar&quot; a.b.c.Main` And you need to make sure that can only expand *to ONE file*","body":"That really has <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">no meaning</a> But you need to try something like: <code>dynajar=my_path&#47;myapp*.jar;java -classpath &quot;my_path&#47;abc.jar:&#47;$dynajar&quot; a.b.c.Main</code> And you need to make sure that can only expand <i>to ONE file</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692706906,"post_id":76879320,"comment_id":135658137,"body_markdown":"Were you to ensure you built with a name like `jar-2023-08-22.jar` you could sort and get the latest","body":"Were you to ensure you built with a name like <code>jar-2023-08-22.jar</code> you could sort and get the latest"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692722719,"post_id":76879320,"comment_id":135662101,"body_markdown":"Hi @g00se, it worked with command substitution in Linux bash, main_app=$(echo /my_path/my_app-*.jar) \n                                                          java -classpath /my_path/abc.jar:${main_app} a.b.c.Main","body":"Hi @g00se, it worked with command substitution in Linux bash, main_app=$(echo /my_path/my_app-*.jar)                                                            java -classpath /my_path/abc.jar:${main_app} a.b.c.Main"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692723394,"post_id":76879320,"comment_id":135662256,"body_markdown":"Yes, but see what I wrote earlier. The `echo` in yours is redundant","body":"Yes, but see what I wrote earlier. The <code>echo</code> in yours is redundant"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692724469,"post_id":76879320,"comment_id":135662471,"body_markdown":"@g00se it&#39;s not working without &#39;echo&#39;.","body":"@g00se it&#39;s not working without &#39;echo&#39;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692735945,"post_id":76879320,"comment_id":135664657,"body_markdown":"It should do. You&#39;re probably quoting it","body":"It should do. You&#39;re probably quoting it"}],"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691714055,"creation_date":1691701683,"question_id":76879320,"body_markdown":"I am migrating from Java 8 to Java17 and I have 1 external dependency jar which was directly placed in jdk8/jre/lib/ext location in Java 8 but in Java 17 there is no such path available for external library. so, I tried below script in Java 17,\r\n`java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar`\r\n\r\nWhere,\r\nabc.jar is external dependency jar \r\nmyapp.jar is main application jar\r\n\r\nBut above script didn&#39;t work. How to make it work?\r\n\r\nI tried below script in Java 17,\r\n`java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar` \r\nBut it didn&#39;t work.","title":"What is replacement in Java-17 for Java-8 built in external dependency path- jdk8/jre/lib/ext/external-dependency.jar","body":"<p>I am migrating from Java 8 to Java17 and I have 1 external dependency jar which was directly placed in jdk8/jre/lib/ext location in Java 8 but in Java 17 there is no such path available for external library. so, I tried below script in Java 17,\n<code>java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar</code></p>\n<p>Where,\nabc.jar is external dependency jar\nmyapp.jar is main application jar</p>\n<p>But above script didn't work. How to make it work?</p>\n<p>I tried below script in Java 17,\n<code>java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar</code>\nBut it didn't work.</p>\n"},{"tags":["java","aspectj","lombok"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1411026969,"post_id":25903686,"comment_id":40550289,"body_markdown":"[This site](https://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist) could be useful. But you should more exactly describe what you&#39;re doing (Eclipse? Maven? Whatever?).","body":"<a href=\"https://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist\" rel=\"nofollow noreferrer\">This site</a> could be useful. But you should more exactly describe what you&#39;re doing (Eclipse? Maven? Whatever?)."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1411053684,"post_id":25903686,"comment_id":40567586,"body_markdown":"Thanks for the link; definitely a helpful suggestion, but for more complex AJ projects (ex: ITDs, member injection, interface implementation, etc), I don&#39;t envision the solution working.  The proposed idea requires javac to run before ajc, but javac will fail on any files that make use of injected members/interfaces/etc, and consequently, there won&#39;t be any byte code for ajc to work with.  At least, that&#39;s my theory; I still haven&#39;t tried it to be sure.","body":"Thanks for the link; definitely a helpful suggestion, but for more complex AJ projects (ex: ITDs, member injection, interface implementation, etc), I don&#39;t envision the solution working.  The proposed idea requires javac to run before ajc, but javac will fail on any files that make use of injected members/interfaces/etc, and consequently, there won&#39;t be any byte code for ajc to work with.  At least, that&#39;s my theory; I still haven&#39;t tried it to be sure."},{"owner":{"account_id":5537608,"reputation":413,"user_id":4395348,"display_name":"Volodymyr Masliy"},"score":0,"creation_date":1608498517,"post_id":25903686,"comment_id":115596524,"body_markdown":"This helped when I had a problem adding aspectj-depended lib into project with lombok\nhttps://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/","body":"This helped when I had a problem adding aspectj-depended lib into project with lombok <a href=\"https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"nofollow noreferrer\">palesz.wordpress.com/2011/12/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1691713176,"creation_date":1412241728,"answer_id":26157868,"question_id":25903686,"body_markdown":"The current answer according to AspectJ maintainer Andy Clement is that there are problems due to ECJ (Eclipse Compiler for Java) packages being included and renamed in the AspectJ compiler infrastructure. \r\n\r\nFor more information there is ongoing discussion between Eric B. and A. Clement on the AspectJ users mailing list:\r\n\r\n* [Discussion thread](https://www.eclipse.org/lists/aspectj-users/thrd10.html#14572)\r\n* [Discussion thread continued](https://www.eclipse.org/lists/aspectj-users/thrd10.html#14567)\r\n\r\nMaybe we can close the issue here with this answer and report back when the problem is solved.","title":"How to make Lombok and AspectJ work together?","body":"<p>The current answer according to AspectJ maintainer Andy Clement is that there are problems due to ECJ (Eclipse Compiler for Java) packages being included and renamed in the AspectJ compiler infrastructure.</p>\n<p>For more information there is ongoing discussion between Eric B. and A. Clement on the AspectJ users mailing list:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/lists/aspectj-users/thrd10.html#14572\" rel=\"nofollow noreferrer\">Discussion thread</a></li>\n<li><a href=\"https://www.eclipse.org/lists/aspectj-users/thrd10.html#14567\" rel=\"nofollow noreferrer\">Discussion thread continued</a></li>\n</ul>\n<p>Maybe we can close the issue here with this answer and report back when the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":7965952,"reputation":337,"user_id":6012170,"display_name":"Cheng.T"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1537808923,"creation_date":1522661970,"answer_id":49608811,"question_id":25903686,"body_markdown":"Add Project Lombok as a dependency to the aspectj-maven-plugin as in:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.18&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor example:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.16.18&lt;/version&gt;\r\n                    &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\r\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;privateScope&gt;true&lt;/privateScope&gt;\r\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                &lt;outxml&gt;true&lt;/outxml&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;aspectLibraries combine.self=&quot;override&quot;&gt;\r\n                            &lt;aspectLibrary&gt;\r\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                            &lt;/aspectLibrary&gt;\r\n                        &lt;/aspectLibraries&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n","title":"How to make Lombok and AspectJ work together?","body":"<p>Add Project Lombok as a dependency to the aspectj-maven-plugin as in:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.18&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.16.18&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;privateScope&gt;true&lt;/privateScope&gt;\n            &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n            &lt;outxml&gt;true&lt;/outxml&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;goal&gt;test-compile&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;aspectLibraries combine.self=\"override\"&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75563,"reputation":818,"user_id":216695,"accept_rate":80,"display_name":"shearn89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649423432,"creation_date":1649423432,"answer_id":71797630,"question_id":25903686,"body_markdown":"In 2022 - there&#39;s an answer to this on the AWS docs for the Lambda Powertools FAQ: https://awslabs.github.io/aws-lambda-powertools-java/FAQs/\r\n\r\nTo enable in-place weaving feature you need to use following aspectj-maven-plugin configuration:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt; \r\n        &lt;sources/&gt;\r\n        &lt;weaveDirectories&gt;\r\n            &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n        &lt;/weaveDirectories&gt;\r\n        ...\r\n        &lt;aspectLibraries&gt;\r\n            &lt;aspectLibrary&gt;\r\n                &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n            &lt;/aspectLibrary&gt;\r\n        &lt;/aspectLibraries&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"How to make Lombok and AspectJ work together?","body":"<p>In 2022 - there's an answer to this on the AWS docs for the Lambda Powertools FAQ: <a href=\"https://awslabs.github.io/aws-lambda-powertools-java/FAQs/\" rel=\"nofollow noreferrer\">https://awslabs.github.io/aws-lambda-powertools-java/FAQs/</a></p>\n<p>To enable in-place weaving feature you need to use following aspectj-maven-plugin configuration:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt; \n    &lt;sources/&gt;\n    &lt;weaveDirectories&gt;\n        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n    &lt;/weaveDirectories&gt;\n    ...\n    &lt;aspectLibraries&gt;\n        &lt;aspectLibrary&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n        &lt;/aspectLibrary&gt;\n    &lt;/aspectLibraries&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13839,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":3,"score":28,"last_activity_date":1691713176,"creation_date":1411010720,"question_id":25903686,"body_markdown":"I just finished posting [this issue on SO][1] about Lombok not generating my getters/setters. It turns out that it is conflicting with AspectJ. If I disable AspectJ, then the getters/setters are appropriately generated.\r\n\r\nMy guess is that the ajc compiler is not able to recognize lombok.\r\n\r\nAre Lombok and AspectJ mutually exclusive? Do both technologies work together? \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25903504/827480","title":"How to make Lombok and AspectJ work together?","body":"<p>I just finished posting <a href=\"https://stackoverflow.com/q/25903504/827480\">this issue on SO</a> about Lombok not generating my getters/setters. It turns out that it is conflicting with AspectJ. If I disable AspectJ, then the getters/setters are appropriately generated.</p>\n\n<p>My guess is that the ajc compiler is not able to recognize lombok.</p>\n\n<p>Are Lombok and AspectJ mutually exclusive? Do both technologies work together? </p>\n"},{"tags":["java","okhttp"],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691712216,"creation_date":1691712216,"question_id":76880000,"body_markdown":"I am trying to use the okhttp library in my codebase. Here is how I have it in my pom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhen I bring it in like this, I get enforcer errors like this \r\n\r\n```\r\nDependency convergence error for org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20 paths to dependency are:\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:okhttp:4.11.0\r\n    +-com.squareup.okio:okio:3.2.0\r\n      +-com.squareup.okio:okio-jvm:3.2.0\r\n        +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\r\nand\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:okhttp:4.11.0\r\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\r\nand\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:mockwebserver:4.11.0\r\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10\r\n```\r\n\r\nNow I have gotten this to work by having this in my pom instead. \r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nHowever, why am I having to exclude something from 2 packages that are listed together from the same repo? Is this a bug? Shouldn&#39;t these 2 packages work fine together?\r\n[Repo link](https://github.com/square/okhttp)","title":"Installing okhttp library","body":"<p>I am trying to use the okhttp library in my codebase. Here is how I have it in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I bring it in like this, I get enforcer errors like this</p>\n<pre><code>Dependency convergence error for org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20 paths to dependency are:\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:okhttp:4.11.0\n    +-com.squareup.okio:okio:3.2.0\n      +-com.squareup.okio:okio-jvm:3.2.0\n        +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\nand\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:okhttp:4.11.0\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\nand\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:mockwebserver:4.11.0\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10\n</code></pre>\n<p>Now I have gotten this to work by having this in my pom instead.</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, why am I having to exclude something from 2 packages that are listed together from the same repo? Is this a bug? Shouldn't these 2 packages work fine together?\n<a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">Repo link</a></p>\n"},{"tags":["java","mapping","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469785126,"creation_date":1469785126,"answer_id":38655462,"question_id":38610306,"body_markdown":"This was a bug in MapStruct 1.0.0. It is (will be) fixed in the (at the time of writing, upcoming) version 1.1.0.\r\n\r\nSee : https://github.com/mapstruct/mapstruct/issues/844","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>This was a bug in MapStruct 1.0.0. It is (will be) fixed in the (at the time of writing, upcoming) version 1.1.0.</p>\n\n<p>See : <a href=\"https://github.com/mapstruct/mapstruct/issues/844\" rel=\"nofollow\">https://github.com/mapstruct/mapstruct/issues/844</a></p>\n"},{"tags":[],"owner":{"account_id":4719664,"reputation":3927,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1607497709,"creation_date":1527240728,"answer_id":50525950,"question_id":38610306,"body_markdown":"When missing an import with MapStruct, note that you can manually configure the Mapper to import it :\r\n\r\n    @Mapper( imports = AbstractBaseEntity.class )\r\n\r\nSearch for &quot;Declaring an import&quot; in [MapStruct documentation][1]\r\n\r\n(exemple 72 at the time of this edit : Mapstruct 1.4.1.Final)\r\n\r\n  [1]: http://mapstruct.org/documentation/stable/reference/html/","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>When missing an import with MapStruct, note that you can manually configure the Mapper to import it :</p>\n<pre><code>@Mapper( imports = AbstractBaseEntity.class )\n</code></pre>\n<p>Search for &quot;Declaring an import&quot; in <a href=\"http://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\">MapStruct documentation</a></p>\n<p>(exemple 72 at the time of this edit : Mapstruct 1.4.1.Final)</p>\n"},{"tags":[],"owner":{"account_id":18473869,"reputation":41,"user_id":13457971,"display_name":"Snookeroo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691710818,"creation_date":1691710818,"answer_id":76879929,"question_id":38610306,"body_markdown":"As yunandtidus correctly states, you can solve it like this:\r\n\r\n    @Mapper( imports = AbstractBaseEntity.class )\r\n\r\nTo add to his response, if you need to import multiple classes, you just wrap them in curly brackets:\r\n\r\n    @Mapper( imports = {AbstractBaseEntity.class, MyOtherCoolClass.class} )","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>As yunandtidus correctly states, you can solve it like this:</p>\n<pre><code>@Mapper( imports = AbstractBaseEntity.class )\n</code></pre>\n<p>To add to his response, if you need to import multiple classes, you just wrap them in curly brackets:</p>\n<pre><code>@Mapper( imports = {AbstractBaseEntity.class, MyOtherCoolClass.class} )\n</code></pre>\n"}],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20247,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38655462,"answer_count":3,"score":9,"last_activity_date":1691710818,"creation_date":1469615076,"question_id":38610306,"body_markdown":"I am using MapStruct to map between JPA entities and POJO DTOs.\r\n\r\nAll my entities extend a common base class that has an ID field (a `java.lang.Long`).\r\n\r\nI have the following abstract mapper, that allows me to map from relationship in JPA to a simple Long field (or List&lt;Long&gt;) in the DTOs. \r\n\r\nAn entity or `List&lt;entity&gt;` field can be mapped to a `Long`/`List&lt;Long&gt;` field, e.g. `User.groups` could be mapped to `UserDTO.groupIds`  :\r\n\r\n    @Mapper\r\n    public abstract class EntityMapper {\r\n    \r\n        public Long entityToLongId(AbstractBaseEntity entity){\r\n            return entity.getId();\r\n        }\r\n    \r\n        public abstract List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends AbstractBaseEntity&gt; entities);\r\n    }\r\n\r\nHowever the generated implementation class does not include any import statement for the `AbstractBaseEntity` class, although it is present in the abstract class, so the code does not compile :\r\n\r\n    package ....;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import javax.annotation.Generated;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2016-07-27T12:11:25+0200&quot;,\r\n        comments = &quot;version: 1.0.0.Final, compiler: javac, environment: Java 1.8.0_66 (Oracle Corporation)&quot;\r\n    )\r\n    @Component\r\n    public class EntityMapperImpl extends EntityMapper {\r\n    \r\n        @Override\r\n        public List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends ch.unine.tango.model.AbstractBaseEntity&gt; entities) {\r\n            if ( entities == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\r\n            for ( AbstractBaseEntity abstractBaseEntity : entities ) { // compilation error here !\r\n                list.add( entityToLongId( abstractBaseEntity ) );\r\n            }\r\n    \r\n            return list;\r\n        }\r\n    }\r\n\r\nWhy is that ? Am I doing it wrong ? How to fix this ?\r\n\r\nI am using MapStruct 1.0.0.Final with Java 8.\r\n\r\nEDIT: If I add an abstract method that uses the `AbstractBaseEntity` class directly, then the import is added :\r\n\r\n    public abstract AbstractBaseEntityDTO entityToDTO(AbstractBaseEntity abstractBaseEntity); \r\n\r\nEDIT2: posted the issue on MapStruct&#39;s Github : https://github.com/mapstruct/mapstruct/issues/844","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>I am using MapStruct to map between JPA entities and POJO DTOs.</p>\n\n<p>All my entities extend a common base class that has an ID field (a <code>java.lang.Long</code>).</p>\n\n<p>I have the following abstract mapper, that allows me to map from relationship in JPA to a simple Long field (or List) in the DTOs. </p>\n\n<p>An entity or <code>List&lt;entity&gt;</code> field can be mapped to a <code>Long</code>/<code>List&lt;Long&gt;</code> field, e.g. <code>User.groups</code> could be mapped to <code>UserDTO.groupIds</code>  :</p>\n\n<pre><code>@Mapper\npublic abstract class EntityMapper {\n\n    public Long entityToLongId(AbstractBaseEntity entity){\n        return entity.getId();\n    }\n\n    public abstract List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends AbstractBaseEntity&gt; entities);\n}\n</code></pre>\n\n<p>However the generated implementation class does not include any import statement for the <code>AbstractBaseEntity</code> class, although it is present in the abstract class, so the code does not compile :</p>\n\n<pre><code>package ....;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport javax.annotation.Generated;\nimport org.springframework.stereotype.Component;\n\n@Generated(\n    value = \"org.mapstruct.ap.MappingProcessor\",\n    date = \"2016-07-27T12:11:25+0200\",\n    comments = \"version: 1.0.0.Final, compiler: javac, environment: Java 1.8.0_66 (Oracle Corporation)\"\n)\n@Component\npublic class EntityMapperImpl extends EntityMapper {\n\n    @Override\n    public List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends ch.unine.tango.model.AbstractBaseEntity&gt; entities) {\n        if ( entities == null ) {\n            return null;\n        }\n\n        List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\n        for ( AbstractBaseEntity abstractBaseEntity : entities ) { // compilation error here !\n            list.add( entityToLongId( abstractBaseEntity ) );\n        }\n\n        return list;\n    }\n}\n</code></pre>\n\n<p>Why is that ? Am I doing it wrong ? How to fix this ?</p>\n\n<p>I am using MapStruct 1.0.0.Final with Java 8.</p>\n\n<p>EDIT: If I add an abstract method that uses the <code>AbstractBaseEntity</code> class directly, then the import is added :</p>\n\n<pre><code>public abstract AbstractBaseEntityDTO entityToDTO(AbstractBaseEntity abstractBaseEntity); \n</code></pre>\n\n<p>EDIT2: posted the issue on MapStruct's Github : <a href=\"https://github.com/mapstruct/mapstruct/issues/844\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/844</a></p>\n"},{"tags":["java","non-recursive"],"comments":[{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":1,"creation_date":1337880185,"post_id":10742322,"comment_id":13957742,"body_markdown":"`while(M != 0 || N != 0){\\\\todo}`","body":"<code>while(M != 0 || N != 0){\\\\todo}</code>"},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":3,"creation_date":1337880190,"post_id":10742322,"comment_id":13957743,"body_markdown":"Smells like homework. What have you tried?","body":"Smells like homework. What have you tried?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1337880298,"post_id":10742322,"comment_id":13957788,"body_markdown":"This should give you ideas: http://stackoverflow.com/questions/616416/is-it-possible-to-remove-recursion-from-this-function","body":"This should give you ideas: <a href=\"http://stackoverflow.com/questions/616416/is-it-possible-to-remove-recursion-from-this-function\" title=\"is it possible to remove recursion from this function\">stackoverflow.com/questions/616416/&hellip;</a>"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1337882365,"post_id":10742322,"comment_id":13958544,"body_markdown":"Due to the nested `func` call this is way from trivial to un-recurse. Good luck :)","body":"Due to the nested <code>func</code> call this is way from trivial to un-recurse. Good luck :)"},{"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"score":1,"creation_date":1337882526,"post_id":10742322,"comment_id":13958588,"body_markdown":"@MarkoTopolnik I agree, I&#39;ve been staring at it for a while and can&#39;t come up with a good solution without just declaring a stack and using it to simulate the recursion as assylias link describes.  Very hard assignment if this is indeed homework.","body":"@MarkoTopolnik I agree, I&#39;ve been staring at it for a while and can&#39;t come up with a good solution without just declaring a stack and using it to simulate the recursion as assylias link describes.  Very hard assignment if this is indeed homework."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1337883197,"post_id":10742322,"comment_id":13958808,"body_markdown":"@KDiTraglia This looks more like practical joke, a well-known (in &quot;certain&quot; circles) uncomputable function. I can&#39;t even get it to terminate for something as simple as (4,2). I bet that &quot;func&quot; has a real name, but it&#39;s next to un-googlable.","body":"@KDiTraglia This looks more like practical joke, a well-known (in &quot;certain&quot; circles) uncomputable function. I can&#39;t even get it to terminate for something as simple as (4,2). I bet that &quot;func&quot; has a real name, but it&#39;s next to un-googlable."},{"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"score":1,"creation_date":1337883334,"post_id":10742322,"comment_id":13958855,"body_markdown":"evil professor? haha.  I did notice it stack overflows pretty quickly with pretty small values for M and N","body":"evil professor? haha.  I did notice it stack overflows pretty quickly with pretty small values for M and N"},{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":1,"creation_date":1337883383,"post_id":10742322,"comment_id":13958871,"body_markdown":"It is http://en.wikipedia.org/wiki/Double_recursion","body":"It is <a href=\"http://en.wikipedia.org/wiki/Double_recursion\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double_recursion</a>"},{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":3,"creation_date":1337883519,"post_id":10742322,"comment_id":13958912,"body_markdown":"It seems to me, or this function is similar to http://en.wikipedia.org/wiki/Ackermann_function ?","body":"It seems to me, or this function is similar to <a href=\"http://en.wikipedia.org/wiki/Ackermann_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Ackermann_function</a> ?"},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":1,"creation_date":1337884114,"post_id":10742322,"comment_id":13959124,"body_markdown":"@KDiTraglia When I was working it out in my answer, I noticed that this function is indeed quite a toughy. The math isn&#39;t difficult, its that it has a very big-O.","body":"@KDiTraglia When I was working it out in my answer, I noticed that this function is indeed quite a toughy. The math isn&#39;t difficult, its that it has a very big-O."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1337884117,"post_id":10742322,"comment_id":13959127,"body_markdown":"Victor, I think you&#39;ve got it. This is clearly a variation on the Ackermann function. The WP page even says that all the variations still go by the same name. And it even escapes for the same arguments (4,2) as mine.","body":"Victor, I think you&#39;ve got it. This is clearly a variation on the Ackermann function. The WP page even says that all the variations still go by the same name. And it even escapes for the same arguments (4,2) as mine."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1508637172,"post_id":10742322,"comment_id":80686747,"body_markdown":"@MarkoTopolnik: can&#39;t be implemented on a computer???   According to Wikipedia, the Ackermann function *is* computable, and illustrates that not all total computable functions are primitive recursive.  Doesn&#39;t it just mean that it can&#39;t be implemented without some kind of stack?  (either a call stack or a manual stack data structure like the accepted answer).","body":"@MarkoTopolnik: can&#39;t be implemented on a computer???   According to Wikipedia, the Ackermann function <i>is</i> computable, and illustrates that not all total computable functions are primitive recursive.  Doesn&#39;t it just mean that it can&#39;t be implemented without some kind of stack?  (either a call stack or a manual stack data structure like the accepted answer)."}],"answers":[{"tags":[],"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1337892804,"creation_date":1337880593,"answer_id":10742462,"question_id":10742322,"body_markdown":"This looks like homework, so I won&#39;t give you the answer but I will lead you in the right direction:\r\n\r\nIf you want to breakdown the recursion, it might be useful for you to list out all the values as they progress, letting m = {0...x} n = {0...y}.\r\n\r\nFor example:\r\n\r\n    m = 0, n = 0 = f(0,0) = M+N+1 = 1\r\n    m = 1, n = 0 = f(1,0) = M+N+1 = 2\r\n    m = 1, n = 1 = f(1,1) = f(0,f(1,0)) = f(0,2) = 3\r\n    m = 2, n = 1 = f(2,1) = f(1,f(2,0)) = f(1,3) = f(0,f(1,2)) = f(0,f(0,f(1,1))\r\n                 = f(0,f(0,3))          = f(0,4) = 5\r\n \r\nWith this, you can come up with a non-recursive relationship (a non-recursive function definition) that you can use.\r\n\r\nEdit: So it looks like this is [the Ackermann function](http://demonstrations.wolfram.com/RecursionInTheAckermannFunction/), a total computable function that is **not** primitive recursive.","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>This looks like homework, so I won't give you the answer but I will lead you in the right direction:</p>\n\n<p>If you want to breakdown the recursion, it might be useful for you to list out all the values as they progress, letting m = {0...x} n = {0...y}.</p>\n\n<p>For example:</p>\n\n<pre><code>m = 0, n = 0 = f(0,0) = M+N+1 = 1\nm = 1, n = 0 = f(1,0) = M+N+1 = 2\nm = 1, n = 1 = f(1,1) = f(0,f(1,0)) = f(0,2) = 3\nm = 2, n = 1 = f(2,1) = f(1,f(2,0)) = f(1,3) = f(0,f(1,2)) = f(0,f(0,f(1,1))\n             = f(0,f(0,3))          = f(0,4) = 5\n</code></pre>\n\n<p>With this, you can come up with a non-recursive relationship (a non-recursive function definition) that you can use.</p>\n\n<p>Edit: So it looks like this is <a href=\"http://demonstrations.wolfram.com/RecursionInTheAckermannFunction/\" rel=\"nofollow\">the Ackermann function</a>, a total computable function that is <strong>not</strong> primitive recursive.</p>\n"},{"tags":[],"owner":{"account_id":452652,"reputation":796,"user_id":1206223,"accept_rate":71,"display_name":"Lightyear Buzz"},"down_vote_count":3,"up_vote_count":19,"is_accepted":true,"score":16,"last_activity_date":1337890041,"creation_date":1337890041,"answer_id":10744545,"question_id":10742322,"body_markdown":"Not quite O(1) but definitely non-recursive.\r\n\r\n    public static int itFunc(int m, int n){\r\n        Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\r\n        s.add(m);\r\n        while(!s.isEmpty()){\r\n            m=s.pop();\r\n            if(m==0||n==0)\r\n                n+=m+1;\r\n            else{\r\n                s.add(--m);\r\n                s.add(++m);\r\n                n--;\r\n            }\r\n        }\r\n        return n;\r\n    }","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Not quite O(1) but definitely non-recursive.</p>\n\n<pre><code>public static int itFunc(int m, int n){\n    Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\n    s.add(m);\n    while(!s.isEmpty()){\n        m=s.pop();\n        if(m==0||n==0)\n            n+=m+1;\n        else{\n            s.add(--m);\n            s.add(++m);\n            n--;\n        }\n    }\n    return n;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11141782,"reputation":171,"user_id":8178069,"display_name":"Ray Xie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501495476,"creation_date":1501495476,"answer_id":45412879,"question_id":10742322,"body_markdown":"This is the a correct version which already examined by myself.\r\n\r\n    public static int Ackermann(int m, int n){\r\n    Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\r\n    s.add(m);\r\n    while(!s.isEmpty()){\r\n        m=s.pop();\r\n        if(m==0) { n+=m+1; }\r\n        else if(n==0)\r\n        {\r\n           n += 1;\r\n           s.add(--m);\r\n        }\r\n        else{\r\n            s.add(--m);\r\n            s.add(++m);\r\n            n--;\r\n        }\r\n    }\r\n    return n;\r\n    }","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>This is the a correct version which already examined by myself.</p>\n\n<pre><code>public static int Ackermann(int m, int n){\nStack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\ns.add(m);\nwhile(!s.isEmpty()){\n    m=s.pop();\n    if(m==0) { n+=m+1; }\n    else if(n==0)\n    {\n       n += 1;\n       s.add(--m);\n    }\n    else{\n        s.add(--m);\n        s.add(++m);\n        n--;\n    }\n}\nreturn n;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":375745,"reputation":565,"user_id":726773,"display_name":"Nick S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530231407,"creation_date":1530231407,"answer_id":51092690,"question_id":10742322,"body_markdown":"I couldn&#39;t get @LightyearBuzz&#39;s answer to work, but I found this Java 5 code from [WikiWikiWeb](https://web.archive.org/web/20160322060819/http://c2.com/cgi/wiki?IteratedAckermannExample) that worked for me:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Stack;\r\n    \r\n    public class Ackerman {\r\n      static class  Pair &lt;T1,T2&gt;{\r\n        T1 x; T2 y;\r\n        Pair(T1 x_,T2 y_) {x=x_; y=y_;}\r\n        public int hashCode() {return x.hashCode() ^ y.hashCode();}\r\n        public boolean equals(Object o_) {Pair o= (Pair) o_; return x.equals(o.x) &amp;&amp; y.equals(o.y);}\r\n      }\r\n    \r\n      /**\r\n       * @param args\r\n       */\r\n      public static int ack_iter(int m, int n) {\r\n        HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt; solved_set= new HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt;(120000);\r\n        Stack&lt;Pair&lt;Integer,Integer&gt;&gt; to_solve= new Stack&lt;Pair&lt;Integer,Integer&gt;&gt;();\r\n        to_solve.push(new Pair&lt;Integer,Integer&gt;(m,n));\r\n    \r\n        while (!to_solve.isEmpty()) {\r\n          Pair&lt;Integer,Integer&gt; head= to_solve.peek();\r\n          if (head.x.equals(0) ) {\r\n            solved_set.put(head,head.y + 1);\r\n            to_solve.pop();\r\n          }\r\n          else if (head.y.equals(0)) {\r\n            Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt; (head.x-1,1);\r\n            Integer result= solved_set.get(next);\r\n            if(result==null){\r\n              to_solve.push(next);\r\n            } \r\n            else {\r\n              solved_set.put(head, result);\r\n              to_solve.pop();\r\n            }\r\n          }\r\n          else {\r\n            Pair&lt;Integer,Integer&gt; next0= new Pair&lt;Integer,Integer&gt;(head.x, head.y-1);\r\n            Integer result0= solved_set.get(next0);\r\n            if(result0 == null) {\r\n              to_solve.push(next0);\r\n            }\r\n            else {\r\n              Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt;(head.x-1,result0);\r\n              Integer result= solved_set.get(next);\r\n              if (result == null) {\r\n                to_solve.push(next);\r\n              }\r\n              else {\r\n                solved_set.put(head,result);\r\n                to_solve.pop();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        System.out.println(&quot;hash size: &quot;+solved_set.size());\r\n        System.out.println(&quot;consumed heap: &quot;+ (Runtime.getRuntime().totalMemory()/(1024*1024)) + &quot;m&quot;);\r\n        return solved_set.get(new Pair&lt;Integer,Integer&gt;(m,n));\r\n      }\r\n    }\r\n\r\n","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>I couldn't get @LightyearBuzz's answer to work, but I found this Java 5 code from <a href=\"https://web.archive.org/web/20160322060819/http://c2.com/cgi/wiki?IteratedAckermannExample\" rel=\"nofollow noreferrer\">WikiWikiWeb</a> that worked for me:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Stack;\n\npublic class Ackerman {\n  static class  Pair &lt;T1,T2&gt;{\n    T1 x; T2 y;\n    Pair(T1 x_,T2 y_) {x=x_; y=y_;}\n    public int hashCode() {return x.hashCode() ^ y.hashCode();}\n    public boolean equals(Object o_) {Pair o= (Pair) o_; return x.equals(o.x) &amp;&amp; y.equals(o.y);}\n  }\n\n  /**\n   * @param args\n   */\n  public static int ack_iter(int m, int n) {\n    HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt; solved_set= new HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt;(120000);\n    Stack&lt;Pair&lt;Integer,Integer&gt;&gt; to_solve= new Stack&lt;Pair&lt;Integer,Integer&gt;&gt;();\n    to_solve.push(new Pair&lt;Integer,Integer&gt;(m,n));\n\n    while (!to_solve.isEmpty()) {\n      Pair&lt;Integer,Integer&gt; head= to_solve.peek();\n      if (head.x.equals(0) ) {\n        solved_set.put(head,head.y + 1);\n        to_solve.pop();\n      }\n      else if (head.y.equals(0)) {\n        Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt; (head.x-1,1);\n        Integer result= solved_set.get(next);\n        if(result==null){\n          to_solve.push(next);\n        } \n        else {\n          solved_set.put(head, result);\n          to_solve.pop();\n        }\n      }\n      else {\n        Pair&lt;Integer,Integer&gt; next0= new Pair&lt;Integer,Integer&gt;(head.x, head.y-1);\n        Integer result0= solved_set.get(next0);\n        if(result0 == null) {\n          to_solve.push(next0);\n        }\n        else {\n          Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt;(head.x-1,result0);\n          Integer result= solved_set.get(next);\n          if (result == null) {\n            to_solve.push(next);\n          }\n          else {\n            solved_set.put(head,result);\n            to_solve.pop();\n          }\n        }\n      }\n    }\n    System.out.println(\"hash size: \"+solved_set.size());\n    System.out.println(\"consumed heap: \"+ (Runtime.getRuntime().totalMemory()/(1024*1024)) + \"m\");\n    return solved_set.get(new Pair&lt;Integer,Integer&gt;(m,n));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638949509,"creation_date":1548372650,"answer_id":54356919,"question_id":10742322,"body_markdown":"All the answers posted previously don&#39;t properly implement Ackermann.\r\n\r\n```ruby\r\ndef acker_mstack(m, n)\r\n  stack = [m]\r\n  until stack.empty?\r\n    m = stack.pop\r\n\r\n    if m.zero?\r\n      n += 1\r\n    elsif n.zero?\r\n      stack &lt;&lt; m - 1\r\n      n = 1\r\n    else\r\n      stack &lt;&lt; m - 1 &lt;&lt; m\r\n      n -= 1\r\n    end\r\n  end\r\n  n\r\nend\r\n```","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>All the answers posted previously don't properly implement Ackermann.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>def acker_mstack(m, n)\n  stack = [m]\n  until stack.empty?\n    m = stack.pop\n\n    if m.zero?\n      n += 1\n    elsif n.zero?\n      stack &lt;&lt; m - 1\n      n = 1\n    else\n      stack &lt;&lt; m - 1 &lt;&lt; m\n      n -= 1\n    end\n  end\n  n\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13935478,"reputation":434,"user_id":10062580,"display_name":"Darwin Harianto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567653496,"creation_date":1567653496,"answer_id":57797989,"question_id":10742322,"body_markdown":"Written in python, using only 1 array and 1 variable, hope this helps!\r\n\r\n    \r\n    def acker(m,n):\r\n    \r\n        right = [m]\r\n        result = n\r\n        i = 0\r\n    \r\n        while True:\r\n            if len(right) == 0:\r\n                break\r\n    \r\n            if right[i] &gt; 0 and result &gt; 0:\r\n                right.append(right[i])\r\n                right[i] -= 1\r\n                result -= 1\r\n                i += 1\r\n    \r\n            elif right[i] &gt; 0 and result == 0:\r\n                right[i] -= 1\r\n                result = 1\r\n    \r\n            elif right[i] == 0:\r\n                result += 1\r\n                right.pop()\r\n                i -=1\r\n    \r\n        return result\r\n","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Written in python, using only 1 array and 1 variable, hope this helps!</p>\n\n<pre><code>def acker(m,n):\n\n    right = [m]\n    result = n\n    i = 0\n\n    while True:\n        if len(right) == 0:\n            break\n\n        if right[i] &gt; 0 and result &gt; 0:\n            right.append(right[i])\n            right[i] -= 1\n            result -= 1\n            i += 1\n\n        elif right[i] &gt; 0 and result == 0:\n            right[i] -= 1\n            result = 1\n\n        elif right[i] == 0:\n            result += 1\n            right.pop()\n            i -=1\n\n    return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16471009,"reputation":101,"user_id":11900025,"display_name":"Bhuvnesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632026826,"creation_date":1632026826,"answer_id":69240370,"question_id":10742322,"body_markdown":"Well I came here to find the answer of this question. But could not write a code even after looking at the answers. So, I tried it myself and after some struggle built the code.\r\nSo, I will give you a hint (because I feel etiquettes here are that the homework questions are not meant to be fully answered).\r\nSo you can use a single stack to compute the function without using recursion. Just look at the flow of control in David&#39;s answer. You have to use that. Just start a while(1) loop and inside that check for the case your arguments are satisfying. Let the desired block amongst if-else blocks execute.Then push the two latest arguments of ackerman function into the stack. Then at the end of the loop pop them and let the cycle repeat till an end condition is reached where no further arguments of ackermann function are generated. You have to put a for statement inside the while loop to keep checking it. And finally get the final results.\r\nI don&#39;t know how much of this is understandable, but I wish I could have some idea to start with. So, just shared the way.","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Well I came here to find the answer of this question. But could not write a code even after looking at the answers. So, I tried it myself and after some struggle built the code.\nSo, I will give you a hint (because I feel etiquettes here are that the homework questions are not meant to be fully answered).\nSo you can use a single stack to compute the function without using recursion. Just look at the flow of control in David's answer. You have to use that. Just start a while(1) loop and inside that check for the case your arguments are satisfying. Let the desired block amongst if-else blocks execute.Then push the two latest arguments of ackerman function into the stack. Then at the end of the loop pop them and let the cycle repeat till an end condition is reached where no further arguments of ackermann function are generated. You have to put a for statement inside the while loop to keep checking it. And finally get the final results.\nI don't know how much of this is understandable, but I wish I could have some idea to start with. So, just shared the way.</p>\n"},{"tags":[],"owner":{"account_id":25696046,"reputation":1,"user_id":19456717,"display_name":"Tushar Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691710163,"creation_date":1691620259,"answer_id":76871654,"question_id":10742322,"body_markdown":"Written using C++. Stack stores only m values and works fine for all inputs\r\n\r\n```cpp\r\nint ackermann(int m, int n) {\r\n\tstack&lt;int&gt; s;\r\n\ts.push(m);\r\n\twhile(!s.empty()) {\r\n\t\tm = s.top();\r\n        s.pop();\r\n        if(m == 0) {\r\n            n++;\r\n        }\r\n        else if(n == 0) {\r\n            s.push(--m);\r\n            n = 1;\r\n        }\r\n        else {\r\n            s.push(m-1);\r\n            s.push(m);\r\n            n--;\r\n        }\r\n\t}\r\n    return n;\r\n}\r\n```","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Written using C++. Stack stores only m values and works fine for all inputs</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int ackermann(int m, int n) {\n    stack&lt;int&gt; s;\n    s.push(m);\n    while(!s.empty()) {\n        m = s.top();\n        s.pop();\n        if(m == 0) {\n            n++;\n        }\n        else if(n == 0) {\n            s.push(--m);\n            n = 1;\n        }\n        else {\n            s.push(m-1);\n            s.push(m);\n            n--;\n        }\n    }\n    return n;\n}\n</code></pre>\n"}],"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18092,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":10744545,"answer_count":8,"score":17,"last_activity_date":1691710163,"creation_date":1337880084,"question_id":10742322,"body_markdown":"I have function\r\n\r\n\tpublic static int func(int M,int N){\r\n\t\tif(M == 0 || N == 0) return M+N+1;\r\n\t\treturn func(M-1, func(M, N-1));\r\n\t}\r\n\r\nHow to rewrite it in non-recursive style ?\r\nMaybe, is it implementation some algorithm?","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>I have function</p>\n\n<pre><code>public static int func(int M,int N){\n    if(M == 0 || N == 0) return M+N+1;\n    return func(M-1, func(M, N-1));\n}\n</code></pre>\n\n<p>How to rewrite it in non-recursive style ?\nMaybe, is it implementation some algorithm?</p>\n"},{"tags":["java","selenium","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1529998572,"post_id":51028947,"comment_id":89066224,"body_markdown":"After you change the pom.xml file, run re-import from Maven in Maven projects tool window: https://www.jetbrains.com/help/idea/maven-support.html#maven_import_dependency or configure **Auto-import**.","body":"After you change the pom.xml file, run re-import from Maven in Maven projects tool window: <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_dependency\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> or configure <b>Auto-import</b>."}],"answers":[{"tags":[],"owner":{"account_id":5798099,"reputation":183,"user_id":4573226,"display_name":"JacksonWong"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1529947857,"creation_date":1529947857,"answer_id":51028948,"question_id":51028947,"body_markdown":"After much pain and suffering I found this, where Erek Speed will remain a hero of mine for all time:\r\nhttps://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ\r\n\r\nSo the steps are:\r\n\r\n 1. File &gt; Project Structure\r\n 2. then click on Libraries on the left side-nav\r\n 3. then the &quot;+&quot; button to add, then choose &quot;from Maven&quot;\r\n 4. then type in org.testng and click the magnifying glass\r\n 5. choose the version you want to use, then click &quot;ok&quot; and &quot;Apply&quot;\r\n\r\nThe steps are based on using IntelliJ IDEA Community version 2017.2.3","title":"Intellij package org.testng does not exist","body":"<p>After much pain and suffering I found this, where Erek Speed will remain a hero of mine for all time:\n<a href=\"https://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ\" rel=\"noreferrer\">https://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ</a></p>\n\n<p>So the steps are:</p>\n\n<ol>\n<li>File > Project Structure</li>\n<li>then click on Libraries on the left side-nav</li>\n<li>then the \"+\" button to add, then choose \"from Maven\"</li>\n<li>then type in org.testng and click the magnifying glass</li>\n<li>choose the version you want to use, then click \"ok\" and \"Apply\"</li>\n</ol>\n\n<p>The steps are based on using IntelliJ IDEA Community version 2017.2.3</p>\n"},{"tags":[],"owner":{"account_id":7651408,"reputation":339,"user_id":5800000,"accept_rate":17,"display_name":"amit bansode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567151211,"creation_date":1567151211,"answer_id":57722609,"question_id":51028947,"body_markdown":"It was same case for me. This may help you.\r\n\r\nDo following steps:\r\n\r\n 1. Place your cusror on class name\r\n 2. Alt + Enter\r\n 3. Create Test\r\n 4. In the Test Library input field. Please select TestNG. Press ok\r\n 5. Go to code where you are getting unresolved. e.g. (&quot;Assert&quot;.assertEquals)\r\n 6. Press Alt + Enter\r\n 7. Choose add dependency\r\n\r\nAll set. Cheers!! ","title":"Intellij package org.testng does not exist","body":"<p>It was same case for me. This may help you.</p>\n\n<p>Do following steps:</p>\n\n<ol>\n<li>Place your cusror on class name</li>\n<li>Alt + Enter</li>\n<li>Create Test</li>\n<li>In the Test Library input field. Please select TestNG. Press ok</li>\n<li>Go to code where you are getting unresolved. e.g. (\"Assert\".assertEquals)</li>\n<li>Press Alt + Enter</li>\n<li>Choose add dependency</li>\n</ol>\n\n<p>All set. Cheers!! </p>\n"},{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691709442,"creation_date":1691709428,"answer_id":76879847,"question_id":51028947,"body_markdown":"In Intellij IDEA , I&#39;ve faced similar issue.\r\n\r\nAfter adding following dependency , could not found the testNg in IntellijIdea\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThe error i&#39;ve faced: **Dependency &#39;org.testng:testng:7.8.0&#39; not found**\r\n\r\nFirst solution :\r\n\r\nmvn clean\r\nmvn clean install -U\r\n\r\nIf it does not help , it might be related your local repo , please run following commands on your project:\r\n\r\n**mvn dependency:purge-local-repository**\r\n **mvn clean install**\r\n\r\n\r\n\r\n","title":"Intellij package org.testng does not exist","body":"<p>In Intellij IDEA , I've faced similar issue.</p>\n<p>After adding following dependency , could not found the testNg in IntellijIdea</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The error i've faced: <strong>Dependency 'org.testng:testng:7.8.0' not found</strong></p>\n<p>First solution :</p>\n<p>mvn clean\nmvn clean install -U</p>\n<p>If it does not help , it might be related your local repo , please run following commands on your project:</p>\n<p><strong>mvn dependency:purge-local-repository</strong>\n<strong>mvn clean install</strong></p>\n"}],"owner":{"account_id":5798099,"reputation":183,"user_id":4573226,"display_name":"JacksonWong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12875,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691709442,"creation_date":1529947857,"question_id":51028947,"body_markdown":"When using Intellij and trying to import TestNG the error is:\r\n\r\njava: package org.testng does not exist\r\n\r\nWhat I was doing was trying to import it via pom.xml as a dependency, which does not seem to work at all. \r\n\r\nNot sure if other people have had the same issue, also seems there&#39;s way  more ppl using eclipse vs intellij when it comes to selenium-java (when looking up questions at least).","title":"Intellij package org.testng does not exist","body":"<p>When using Intellij and trying to import TestNG the error is:</p>\n\n<p>java: package org.testng does not exist</p>\n\n<p>What I was doing was trying to import it via pom.xml as a dependency, which does not seem to work at all. </p>\n\n<p>Not sure if other people have had the same issue, also seems there's way  more ppl using eclipse vs intellij when it comes to selenium-java (when looking up questions at least).</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1691419452,"post_id":76852801,"comment_id":135485446,"body_markdown":"why not just use @Query annotation ?","body":"why not just use @Query annotation ?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1691419587,"post_id":76852801,"comment_id":135485476,"body_markdown":"Not used the Query annotation till now in my application , so i just dont want to introduce it now unless its not possible .","body":"Not used the Query annotation till now in my application , so i just dont want to introduce it now unless its not possible ."},{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1691420853,"post_id":76852801,"comment_id":135485802,"body_markdown":"Cannot you make findAllByActionDateGreaterThanSysdateMinus30() a wrapper function for findAllByActionDateGreaterThan()?","body":"Cannot you make findAllByActionDateGreaterThanSysdateMinus30() a wrapper function for findAllByActionDateGreaterThan()?"}],"answers":[{"tags":[],"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691432326,"creation_date":1691421917,"answer_id":76853105,"question_id":76852801,"body_markdown":"This may help, inside your interface \r\n\r\n    default List&lt;Object&gt; findAllByActionDateGreaterThanSysdateMinus30() {\r\n\t\tInstant oneMonthAgoInstance = Instant.now()\r\n                .minus(Duration.ofDays(30L));\r\n        Date oneMonthAgoDate = Date.from(oneMonthAgoInstance);\r\n\t\treturn this.findAllByActionDateGreaterThan(oneMonthAgoDate);\r\n\t}","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>This may help, inside your interface</p>\n<pre><code>default List&lt;Object&gt; findAllByActionDateGreaterThanSysdateMinus30() {\n    Instant oneMonthAgoInstance = Instant.now()\n            .minus(Duration.ofDays(30L));\n    Date oneMonthAgoDate = Date.from(oneMonthAgoInstance);\n    return this.findAllByActionDateGreaterThan(oneMonthAgoDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22039438,"reputation":39,"user_id":16305424,"display_name":"CaileanCuina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691665920,"creation_date":1691665920,"answer_id":76875178,"question_id":76852801,"body_markdown":"Maybe it is a complicate workaround - but have you tried to use Java Specifications?\r\n\r\n    public class TestSpec implements Specification&lt;YourEntity&gt; {\r\n\t@Override\r\n\tpublic Predicate toPredicate(Root&lt;YourEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n\t\tPredicate yourPredicate\r\n\t\t\t\t= cb.and(cb.greaterThanOrEqualTo(root.get(dateInEntity), \r\n\t\treturn cb.and(yourPredicate);\r\n\t}\r\n\r\nthen it should work like this:\r\nyourRepo.findAll(yourPredicate);\r\n\r\n\r\n\r\nhere is more about that:\r\nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>Maybe it is a complicate workaround - but have you tried to use Java Specifications?</p>\n<pre><code>public class TestSpec implements Specification&lt;YourEntity&gt; {\n@Override\npublic Predicate toPredicate(Root&lt;YourEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    Predicate yourPredicate\n            = cb.and(cb.greaterThanOrEqualTo(root.get(dateInEntity), \n    return cb.and(yourPredicate);\n}\n</code></pre>\n<p>then it should work like this:\nyourRepo.findAll(yourPredicate);</p>\n<p>here is more about that:\n<a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl</a></p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76875178,"answer_count":2,"score":1,"last_activity_date":1691709429,"creation_date":1691419367,"question_id":76852801,"body_markdown":"I am trying to fetch records which are greater than actionDate column using Spring JPA.\r\nI am able to achieve it if i write the method like below .\r\n\r\n    findAllByActionDateGreaterThan(Date date)\r\n\r\nBut Is there any way i can do it without passing the date parameter like a Hardcoded value in the method name itself like \r\n\r\n    findAllByActionDateGreaterThanSysdateMinus30()\r\n\r\n","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>I am trying to fetch records which are greater than actionDate column using Spring JPA.\nI am able to achieve it if i write the method like below .</p>\n<pre><code>findAllByActionDateGreaterThan(Date date)\n</code></pre>\n<p>But Is there any way i can do it without passing the date parameter like a Hardcoded value in the method name itself like</p>\n<pre><code>findAllByActionDateGreaterThanSysdateMinus30()\n</code></pre>\n"},{"tags":["java","ssl","openssl","pkcs#12"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1593100964,"post_id":62575976,"comment_id":110668419,"body_markdown":"(1) how was this P12 created (e.g. with what software and commands/options, or device)? (2) can you provide an example file with the problem, as hex or base64 or somewhere like pastebin -- i.e. can you reproduce with a key whose security doesn&#39;t matter? (3) even if you could or can read this, you won&#39;t be able to convert it to JKS, because JKS can&#39;t contain a SecretKeyEntry","body":"(1) how was this P12 created (e.g. with what software and commands/options, or device)? (2) can you provide an example file with the problem, as hex or base64 or somewhere like pastebin -- i.e. can you reproduce with a key whose security doesn&#39;t matter? (3) even if you could or can read this, you won&#39;t be able to convert it to JKS, because JKS can&#39;t contain a SecretKeyEntry"},{"owner":{"account_id":3814779,"reputation":146,"user_id":3164394,"display_name":"madhukar"},"score":0,"creation_date":1593139429,"post_id":62575976,"comment_id":110681904,"body_markdown":"Thanks Dave, I used orapki (Oracle wallet) tool to generate the keystore file. Using keytool am not able to convert to JKS but after exploring orapki tool, found option pkcs12_to_jks, after converting to JKS the keystore entrytype is changed to PrivateKeyEntry. Now able to read the keystore from JKS file. But not sure why am not able to read the data from wallet generated keystore.","body":"Thanks Dave, I used orapki (Oracle wallet) tool to generate the keystore file. Using keytool am not able to convert to JKS but after exploring orapki tool, found option pkcs12_to_jks, after converting to JKS the keystore entrytype is changed to PrivateKeyEntry. Now able to read the keystore from JKS file. But not sure why am not able to read the data from wallet generated keystore."}],"answers":[{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675429249,"creation_date":1675429249,"answer_id":75336110,"question_id":62575976,"body_markdown":"Either use a more recent java version or a different security provider.\r\nE.g. [bouncycastle][1]bouncycastle will do the job and you are going to use the [bouncycastle provider for JDK 8 and later][2]\r\n\r\nTo enable it you either modify the file `jre/lib/security/java.security` in your JDK 8 and put that provider at position 1:\r\n\r\n    security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    security.provider.2=sun.security.provider.Sun\r\n    ...\r\n\r\nor you add it once at runtime at position 1:\r\n\r\n    BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\r\n    Security.insertProviderAt(bouncyCastleProvider, 1);\r\n\r\n  [1]: https://www.bouncycastle.org/latest_releases.html\r\n  [2]: https://www.bouncycastle.org/download/bcprov-jdk18on-172.jar","title":"Reading keystore.p12:Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261","body":"<p>Either use a more recent java version or a different security provider.\nE.g. <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">bouncycastle</a>bouncycastle will do the job and you are going to use the <a href=\"https://www.bouncycastle.org/download/bcprov-jdk18on-172.jar\" rel=\"nofollow noreferrer\">bouncycastle provider for JDK 8 and later</a></p>\n<p>To enable it you either modify the file <code>jre/lib/security/java.security</code> in your JDK 8 and put that provider at position 1:</p>\n<pre><code>security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.2=sun.security.provider.Sun\n...\n</code></pre>\n<p>or you add it once at runtime at position 1:</p>\n<pre><code>BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\nSecurity.insertProviderAt(bouncyCastleProvider, 1);\n</code></pre>\n"}],"owner":{"account_id":3814779,"reputation":146,"user_id":3164394,"display_name":"madhukar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9358,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691708805,"creation_date":1593090067,"question_id":62575976,"body_markdown":"I&#39;ve a .p12 keystore which is having Entry type: SecretKeyEntry. If I try to read the keystore getting error\r\n\r\n    Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:90)\r\n\tat java.base/java.security.KeyStore.getKey(KeyStore.java:1057)\r\n\tat client.Keystest.main(Keystest.java:25)\r\n    Caused by: java.io.IOException: overrun, bytes = 261\r\n    \tat java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\r\n    \tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\r\n    \t... 3 more\r\n\r\n\r\nIf I try to convert the keystore from PKCS12 to JKS getting same error\r\n\r\n    keytool -v -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.ks -deststoretype PKCS12\r\n    Importing keystore keystore.p12 to keystore.ks...\r\n    Enter destination keystore password:\r\n    Enter source keystore password:\r\n    keytool error: java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n    java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetEntry(PKCS12KeyStore.java:1346)\r\n            at java.base/sun.security.util.KeyStoreDelegator.engineGetEntry(KeyStoreDelegator.java:166)\r\n            at java.base/java.security.KeyStore.getEntry(KeyStore.java:1555)\r\n            at java.base/sun.security.tools.keytool.Main.recoverEntry(Main.java:3536)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStoreSingle(Main.java:2253)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStoreAll(Main.java:2303)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStore(Main.java:2195)\r\n            at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1189)\r\n            at java.base/sun.security.tools.keytool.Main.run(Main.java:398)\r\n            at java.base/sun.security.tools.keytool.Main.main(Main.java:391)\r\n    Caused by: java.io.IOException: overrun, bytes = 261\r\n            at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\r\n            ... 10 more\r\n\r\nNot getting the exact cause for &quot;overrun, bytes = 261&quot;","title":"Reading keystore.p12:Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261","body":"<p>I've a .p12 keystore which is having Entry type: SecretKeyEntry. If I try to read the keystore getting error</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\nat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\nat java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:90)\nat java.base/java.security.KeyStore.getKey(KeyStore.java:1057)\nat client.Keystest.main(Keystest.java:25)\nCaused by: java.io.IOException: overrun, bytes = 261\n    at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\n    ... 3 more\n</code></pre>\n<p>If I try to convert the keystore from PKCS12 to JKS getting same error</p>\n<pre><code>keytool -v -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.ks -deststoretype PKCS12\nImporting keystore keystore.p12 to keystore.ks...\nEnter destination keystore password:\nEnter source keystore password:\nkeytool error: java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\njava.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetEntry(PKCS12KeyStore.java:1346)\n        at java.base/sun.security.util.KeyStoreDelegator.engineGetEntry(KeyStoreDelegator.java:166)\n        at java.base/java.security.KeyStore.getEntry(KeyStore.java:1555)\n        at java.base/sun.security.tools.keytool.Main.recoverEntry(Main.java:3536)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStoreSingle(Main.java:2253)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStoreAll(Main.java:2303)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStore(Main.java:2195)\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1189)\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:398)\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:391)\nCaused by: java.io.IOException: overrun, bytes = 261\n        at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\n        ... 10 more\n</code></pre>\n<p>Not getting the exact cause for &quot;overrun, bytes = 261&quot;</p>\n"},{"tags":["java","spring-boot","websocket","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":29202523,"reputation":1,"user_id":22372315,"display_name":"Imperator_Twix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691707618,"creation_date":1691707618,"answer_id":76879751,"question_id":76183643,"body_markdown":"I face the same problem, and i have a not-solution for you: &lt;br/&gt;\r\nhttps://github.com/spring-projects/spring-framework/issues/31021 &lt;br/&gt;\r\nCite: &quot;Other clients are connecting fine, just not Spring clients after upgrading.&quot; Maybe they will fix this, the comment is only 6 hours old. &lt;br/&gt;\r\nHope that helps.","title":"Stomp Session Handler: once connection established the handler is not notified in afterConnected() method","body":"<p>I face the same problem, and i have a not-solution for you: <br/>\n<a href=\"https://github.com/spring-projects/spring-framework/issues/31021\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/31021</a> <br/>\nCite: &quot;Other clients are connecting fine, just not Spring clients after upgrading.&quot; Maybe they will fix this, the comment is only 6 hours old. <br/>\nHope that helps.</p>\n"}],"owner":{"account_id":17566302,"reputation":1,"user_id":12743048,"display_name":"GDA 973"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691707618,"creation_date":1683299550,"question_id":76183643,"body_markdown":"I&#39;m trying to build websocket connection with stomp session handler in spring boot but after connectiong established it&#39;s not called afterConnected() method i can see &quot;In connection&quot; but not &quot;connected&quot; in console and than after few minute console print &quot;failed in transportConnection closed&quot; which is in transport exception.. I am using spring websocket client...\r\n\r\n\r\n```\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\r\nimport org.springframework.messaging.simp.stomp.StompCommand;\r\nimport org.springframework.messaging.simp.stomp.StompHeaders;\r\nimport org.springframework.messaging.simp.stomp.StompSession;\r\nimport org.springframework.messaging.simp.stomp.StompSessionHandler;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.socket.client.WebSocketClient;\r\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\r\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\r\n\r\nimport java.lang.reflect.Type;\r\n\r\n@Service\r\npublic class MyStompClient extends StompSessionHandlerAdapter {\r\n\r\n    @EventListener(value = ApplicationReadyEvent.class)\r\n    public void connect() {\r\n        System.out.println(&quot;In connection...&quot;);\r\n        WebSocketClient client = new StandardWebSocketClient();\r\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n        try {\r\n            StompSession stompSession = stompClient\r\n                    .connectAsync(&quot;wss://ws.finnhub.io/?token=my_token&quot;, this)\r\n                    .get();\r\n            System.out.println(&quot;connected&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Failed&quot; + e.getMessage());\r\n        }\r\n    }\r\n    @Override\r\n    public void afterConnected(StompSession session, StompHeaders connectedHeaders) {\r\n        System.out.println(&quot;After Connected Called&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void handleException(StompSession session, StompCommand command, StompHeaders headers, byte[] payload, Throwable exception) {\r\n        System.out.println(&quot;in ex: &quot; + exception.getMessage());\r\n    }\r\n\r\n    @Override\r\n    public void handleTransportError(StompSession session, Throwable exception) {\r\n        System.out.println(&quot;failed in transport&quot;  + exception.getMessage());\r\n    }\r\n\r\n    @Override\r\n    public Type getPayloadType(StompHeaders headers) {\r\n        return String.class;\r\n    }\r\n\r\n    @Override\r\n    public void handleFrame(StompHeaders headers, Object payload) {\r\n\r\n    }\r\n}\r\n```\r\non running application it should be called after connected method","title":"Stomp Session Handler: once connection established the handler is not notified in afterConnected() method","body":"<p>I'm trying to build websocket connection with stomp session handler in spring boot but after connectiong established it's not called afterConnected() method i can see &quot;In connection&quot; but not &quot;connected&quot; in console and than after few minute console print &quot;failed in transportConnection closed&quot; which is in transport exception.. I am using spring websocket client...</p>\n<pre><code>import org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\nimport org.springframework.messaging.simp.stomp.StompCommand;\nimport org.springframework.messaging.simp.stomp.StompHeaders;\nimport org.springframework.messaging.simp.stomp.StompSession;\nimport org.springframework.messaging.simp.stomp.StompSessionHandler;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.socket.client.WebSocketClient;\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\n\nimport java.lang.reflect.Type;\n\n@Service\npublic class MyStompClient extends StompSessionHandlerAdapter {\n\n    @EventListener(value = ApplicationReadyEvent.class)\n    public void connect() {\n        System.out.println(&quot;In connection...&quot;);\n        WebSocketClient client = new StandardWebSocketClient();\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n        try {\n            StompSession stompSession = stompClient\n                    .connectAsync(&quot;wss://ws.finnhub.io/?token=my_token&quot;, this)\n                    .get();\n            System.out.println(&quot;connected&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Failed&quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void afterConnected(StompSession session, StompHeaders connectedHeaders) {\n        System.out.println(&quot;After Connected Called&quot;);\n    }\n\n    @Override\n    public void handleException(StompSession session, StompCommand command, StompHeaders headers, byte[] payload, Throwable exception) {\n        System.out.println(&quot;in ex: &quot; + exception.getMessage());\n    }\n\n    @Override\n    public void handleTransportError(StompSession session, Throwable exception) {\n        System.out.println(&quot;failed in transport&quot;  + exception.getMessage());\n    }\n\n    @Override\n    public Type getPayloadType(StompHeaders headers) {\n        return String.class;\n    }\n\n    @Override\n    public void handleFrame(StompHeaders headers, Object payload) {\n\n    }\n}\n</code></pre>\n<p>on running application it should be called after connected method</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":2,"creation_date":1691706075,"post_id":76879452,"comment_id":135531696,"body_markdown":"Do not use the `dsa` tag.  Your question has nothing to do with `Digital Signature Algorithm`.","body":"Do not use the <code>dsa</code> tag.  Your question has nothing to do with <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691706670,"post_id":76879452,"comment_id":135531781,"body_markdown":"*but it&#39;s not giving the expected output.* -- What debugging have you done?  [What is a debugger?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems).  If you wrote the code yourself, you had a plan (on paper).  You then implemented the plan in Java.  The next step is to see where the program goes against your plan by debugging the program.  You will either discover the bug in your code, or you will discover that the plan was flawed and start over with a new plan.","body":"<i>but it&#39;s not giving the expected output.</i> -- What debugging have you done?  <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger?</a>.  If you wrote the code yourself, you had a plan (on paper).  You then implemented the plan in Java.  The next step is to see where the program goes against your plan by debugging the program.  You will either discover the bug in your code, or you will discover that the plan was flawed and start over with a new plan."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691707141,"post_id":76879452,"comment_id":135531845,"body_markdown":"Shabbir, your question was completely unreadable because that &#39;ask a question&#39; textbox isn&#39;t raw text - stars and dashes and the like are formatting primitives. I had to stick everything relevant in backticks to indicate it was &#39;code&#39; / raw things not to be &#39;parsed&#39; for format strings. When asking questions on SO, reread your question after posting. Help us help you.","body":"Shabbir, your question was completely unreadable because that &#39;ask a question&#39; textbox isn&#39;t raw text - stars and dashes and the like are formatting primitives. I had to stick everything relevant in backticks to indicate it was &#39;code&#39; / raw things not to be &#39;parsed&#39; for format strings. When asking questions on SO, reread your question after posting. Help us help you."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1691707683,"post_id":76879452,"comment_id":135531903,"body_markdown":"@rzwitserloot Thank you, I was looking at the question and wondering where did the stars come from.","body":"@rzwitserloot Thank you, I was looking at the question and wondering where did the stars come from."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691709689,"post_id":76879452,"comment_id":135532075,"body_markdown":"Gave it a quick scan - Shabbir, this is just &#39;help me with my homework&#39; / &#39;I do not know how to debug code, please do it for me&#39;. Certainly fair questions. However, SO is not meant for such questions. I&#39;m not aware of other sites that are (other than defunct deserts). They probably are deserts because there are __a lot__ of people learning first-steps java and asking low-effort questions, and not nearly enough folks to try and answer it. Perhaps ask your teacher! Voting to close.","body":"Gave it a quick scan - Shabbir, this is just &#39;help me with my homework&#39; / &#39;I do not know how to debug code, please do it for me&#39;. Certainly fair questions. However, SO is not meant for such questions. I&#39;m not aware of other sites that are (other than defunct deserts). They probably are deserts because there are <b>a lot</b> of people learning first-steps java and asking low-effort questions, and not nearly enough folks to try and answer it. Perhaps ask your teacher! Voting to close."}],"owner":{"account_id":25737506,"reputation":7,"user_id":19491999,"display_name":"Shabbir Katlariwala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691707088,"creation_date":1691703502,"question_id":76879452,"body_markdown":"**Description**:\r\n\r\nproblem name - String hasher \r\n\r\nproblem statement:\r\n\r\nyou are given a string and a number(sub-string length). the string consists of `*`,`-`, and `+` characters, and the string&#39;s length will be the multiple of the given number. Write a function to hash the string using the below hashing algorithm:\r\n- split the given string into multiple sub-strings of a given length string from left\r\n- calculate the weight of each sub-string. the number of times a unique sub-string value appears after splitting is defined as the weight of that sub-string\r\n-sort the unique sub-string values by weight in descending order. if 2 or more sub-strings have the same weight, then sort them by character order. `*` &gt; `-` &gt; `+`\r\n-create the hash by concatenating the sorted list of unique sub-strings and return the hash.\r\n\r\n\r\nExample 1:\r\n\r\n```\r\n**input**: -+*++-*++-\r\n```\r\n\r\nsub-string length:2\r\n\r\n```\r\n**output**: *++--+\r\n```\r\n\r\nExplanation:\r\n\r\nsub-string with length 2: \r\n\r\n```\r\n-+*++-*++-\r\n```\r\n\r\nunique sub-strings with weight \r\n```\r\n- -+ : 1\r\n- *+ : 2\r\n- +- : 2\r\n```\r\n\r\n\r\n- while sorting sub-strings by weight,`*+` and `+-` sub-strings have same weight. i.e 2. so, we sort these sub-strings by character order resulting in *+ coming before +-.so,the final order is `*++--+`\r\n- create the hash by concatenating the unique sub-string: `*++--+`\r\n\r\n**Sample Input** \r\n\r\n```\r\n-+*++-*++-\r\n```\r\n\r\n2\r\n\r\n**sample output** \r\n\r\n```\r\n*++--+\r\n```\r\n\r\n**Java pseudo code to be built**\r\n\r\n\r\n    import java.io.* ;\r\n    import java.util.* ;\r\n    import java.text.* ;\r\n    import java.math.* ;\r\n    import java.util.regrex.* ;\r\n    \r\n    class Main{\r\n    public static void main ( String [] args) throws Exception {\r\n    StringBuilder inputData=new  StringBuilder() ;\r\n    String thisLine=null ;\r\n    BufferReader br= new  BufferReader (new InputStreamReader(System.in));\r\n    while((thisLine=br.readLine())!=null){\r\n    inputData.append(thisLine + &quot;/n&quot;);\r\n    }\r\n    System.out.println(codeHere(inputData));\r\n    }\r\n    \r\n    public static string codeHere(StringBuilder inputData){\r\n    // use this function to write your solution;\r\n    return inputData.toString();\r\n    }\r\n\r\n**my code** :\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            StringBuilder inputData = new StringBuilder();\r\n            String thisLine = null;\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            while ((thisLine = br.readLine()) != null) {\r\n                inputData.append(thisLine + &quot;\\n&quot;);\r\n            }\r\n            System.out.println(codeHere(inputData));\r\n        }\r\n    \r\n        public static String codeHere(StringBuilder inputData) {\r\n            String[] lines = inputData.toString().split(&quot;\\n&quot;);\r\n            String inputString = lines[0].trim();\r\n            int subStringLength = Integer.parseInt(lines[1].trim());\r\n    \r\n            return hashString(inputString, subStringLength);\r\n        }\r\n    \r\n        public static String hashString(String inputString, int subStringLength) {\r\n            Map&lt;String, Integer&gt; substringCount = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt;= inputString.length() - subStringLength; i++) {\r\n                String substring = inputString.substring(i, i + subStringLength);\r\n                substringCount.put(substring, substringCount.getOrDefault(substring, 0) + 1);\r\n            }\r\n    \r\n            List&lt;String&gt; uniqueSubstrings = new ArrayList&lt;&gt;(substringCount.keySet());\r\n            uniqueSubstrings.sort((a, b) -&gt; {\r\n                int weightComparison = substringCount.get(b) - substringCount.get(a);\r\n                if (weightComparison == 0) {\r\n                    return a.compareTo(b);\r\n                }\r\n                return weightComparison;\r\n            });\r\n    \r\n            StringBuilder hash = new StringBuilder();\r\n            for (String substring : uniqueSubstrings) {\r\n                hash.append(substring);\r\n            }\r\n    \r\n            return hash.toString();\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nbut it&#39;s not giving the expected output.\r\n\r\nfor input:\r\n\r\n```\r\n-+*++-*++-\r\n```\r\n2\r\n\r\n**output** \r\n\r\n```\r\n*++++-+*-*-+\r\n```\r\n\r\nexpected output\r\n\r\n```\r\n*++--+ \r\n```\r\n\r\nPlease Give easiest method if possible.\r\n","title":"Java String Hashing: Sorting Sub-strings by Weight and Character Order","body":"<p><strong>Description</strong>:</p>\n<p>problem name - String hasher</p>\n<p>problem statement:</p>\n<p>you are given a string and a number(sub-string length). the string consists of <code>*</code>,<code>-</code>, and <code>+</code> characters, and the string's length will be the multiple of the given number. Write a function to hash the string using the below hashing algorithm:</p>\n<ul>\n<li>split the given string into multiple sub-strings of a given length string from left</li>\n<li>calculate the weight of each sub-string. the number of times a unique sub-string value appears after splitting is defined as the weight of that sub-string\n-sort the unique sub-string values by weight in descending order. if 2 or more sub-strings have the same weight, then sort them by character order. <code>*</code> &gt; <code>-</code> &gt; <code>+</code>\n-create the hash by concatenating the sorted list of unique sub-strings and return the hash.</li>\n</ul>\n<p>Example 1:</p>\n<pre><code>**input**: -+*++-*++-\n</code></pre>\n<p>sub-string length:2</p>\n<pre><code>**output**: *++--+\n</code></pre>\n<p>Explanation:</p>\n<p>sub-string with length 2:</p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>unique sub-strings with weight</p>\n<pre><code>- -+ : 1\n- *+ : 2\n- +- : 2\n</code></pre>\n<ul>\n<li>while sorting sub-strings by weight,<code>*+</code> and <code>+-</code> sub-strings have same weight. i.e 2. so, we sort these sub-strings by character order resulting in *+ coming before +-.so,the final order is <code>*++--+</code></li>\n<li>create the hash by concatenating the unique sub-string: <code>*++--+</code></li>\n</ul>\n<p><strong>Sample Input</strong></p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>2</p>\n<p><strong>sample output</strong></p>\n<pre><code>*++--+\n</code></pre>\n<p><strong>Java pseudo code to be built</strong></p>\n<pre><code>import java.io.* ;\nimport java.util.* ;\nimport java.text.* ;\nimport java.math.* ;\nimport java.util.regrex.* ;\n\nclass Main{\npublic static void main ( String [] args) throws Exception {\nStringBuilder inputData=new  StringBuilder() ;\nString thisLine=null ;\nBufferReader br= new  BufferReader (new InputStreamReader(System.in));\nwhile((thisLine=br.readLine())!=null){\ninputData.append(thisLine + &quot;/n&quot;);\n}\nSystem.out.println(codeHere(inputData));\n}\n\npublic static string codeHere(StringBuilder inputData){\n// use this function to write your solution;\nreturn inputData.toString();\n}\n</code></pre>\n<p><strong>my code</strong> :</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Main {\n    public static void main(String[] args) throws Exception {\n        StringBuilder inputData = new StringBuilder();\n        String thisLine = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        while ((thisLine = br.readLine()) != null) {\n            inputData.append(thisLine + &quot;\\n&quot;);\n        }\n        System.out.println(codeHere(inputData));\n    }\n\n    public static String codeHere(StringBuilder inputData) {\n        String[] lines = inputData.toString().split(&quot;\\n&quot;);\n        String inputString = lines[0].trim();\n        int subStringLength = Integer.parseInt(lines[1].trim());\n\n        return hashString(inputString, subStringLength);\n    }\n\n    public static String hashString(String inputString, int subStringLength) {\n        Map&lt;String, Integer&gt; substringCount = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt;= inputString.length() - subStringLength; i++) {\n            String substring = inputString.substring(i, i + subStringLength);\n            substringCount.put(substring, substringCount.getOrDefault(substring, 0) + 1);\n        }\n\n        List&lt;String&gt; uniqueSubstrings = new ArrayList&lt;&gt;(substringCount.keySet());\n        uniqueSubstrings.sort((a, b) -&gt; {\n            int weightComparison = substringCount.get(b) - substringCount.get(a);\n            if (weightComparison == 0) {\n                return a.compareTo(b);\n            }\n            return weightComparison;\n        });\n\n        StringBuilder hash = new StringBuilder();\n        for (String substring : uniqueSubstrings) {\n            hash.append(substring);\n        }\n\n        return hash.toString();\n    }\n}\n</code></pre>\n<p></p>\n<p>but it's not giving the expected output.</p>\n<p>for input:</p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>2</p>\n<p><strong>output</strong></p>\n<pre><code>*++++-+*-*-+\n</code></pre>\n<p>expected output</p>\n<pre><code>*++--+ \n</code></pre>\n<p>Please Give easiest method if possible.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","concurrenthashmap","java-memory-model"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1691706988,"creation_date":1691706988,"answer_id":76879703,"question_id":76879210,"body_markdown":"It can, though:\r\n\r\n&gt; ```\r\n&gt; while (advance) {\r\n&gt;  int nextIndex, nextBound;\r\n&gt;  if (--i &gt;= bound || finishing)\r\n&gt;    advance = false;\r\n&gt;  else if ((nextIndex = transferIndex) &lt;= 0) { // !!!! LINE 1\r\n&gt;    i = -1;\r\n&gt;    advance = false;\r\n&gt;  }\r\n&gt;  else if (U.compareAndSetInt\r\n&gt;           (this, TRANSFERINDEX, nextIndex,\r\n&gt;            nextBound = (nextIndex &gt; stride ?\r\n&gt;                         nextIndex - stride : 0))) {\r\n&gt;     bound = nextBound;\r\n&gt;     i = nextIndex - 1;\r\n&gt;     advance = false;\r\n&gt;   }\r\n&gt; }\r\n&gt;\r\n&gt; if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\r\n&gt; ```\r\n\r\nThis code is highly non-idiomatic; it is written in a style somewhat common in older kernel/low-level C code style and not at all in java style. No wonder; this stuff _is_ the domain of low-level stuff.\r\n\r\nLine 1 as marked in the snippet I copy/pasted directly from the source of CHM (other than that remark) looks like a check __but it is not__. It __sets__ `nextIndex` to transferIndex, _and then_ checks if that value is below or equal to 0 in which case it enters the `else if`&#39;s block.\r\n\r\nSo, here&#39;s the flow to get to `i &gt;= n` triggering:\r\n\r\n* This code loops once or a few times.\r\n* It gets to that `if` check. `transferIndex` is a field. Another thread can change it (and given that we&#39;re talking about CHM, the code is obviously written to take into account that may have occurred).\r\n* Because of this, `nextIndex` is now quite high. Higher than `n`. That&#39;s because another thread has been growing this map in the middle of this `transfer()` operation.\r\n* Nevertheless, whilst `nextIndex` has been updated to the value of `nextTransfer`, the if fails. The next elseif (a CAS (Compare-and-set, a CPU primitive that is incredibly useful to write lock-free code that operates correctly in concurrent situations) op to ensure that in the few cycles we just spent going through these hoops, `transferIndex` is _still_ the value we read a cycle or two ago), we have now &#39;claimed&#39; the job and set `i` to `nextIndex - 1` __which could be higher than `n`!__.\r\n\r\n* Then we get to the `i &gt;= n` check you are asking about, and it could therefore indeed be true. I _think_ the situation where that occurs is if, halfway through a transfer, some other thread has added some data to the CHM, but that&#39;s already been added to the post-transfer intended table so there is no need to act, thus, start the &#39;finishing&#39; job which requires another CAS check and one more loop with `finishing = true` on.\r\n\r\nNB: You may be thinking: Wait, `transferIndex` is being read but there is absolutely nothing establishing Happens-Before on transferIndex here, so whatever it reads, it&#39;s by definition a JMM violation and could be (and is in fact likely to be on modern CPUs) unaffected by other thread writes. But not so fast: Before a likely stale value of transferIndex is actually used, the code does a CAS check on `TRANSFERINDEX` (it&#39;s in the snippet I just pasted, in the final `else if`) and CAS checks also establish HB. It&#39;s not documented, because `Unsafe` isn&#39;t officially part of the spec, more or less. (It&#39;s sort of part of JVM spec and sort of not, bit of an oddball). For stale reads on this, the loop more or less just reloops.\r\n\r\nAs a general rule, to be truly fast in the face of likely concurrent operations, you want to be lock-free. To be lock-free, you need lots of CAS, and you use the CAS generally in a &#39;retry&#39; style: You check current state, you act on current state, you then use CAS to confirm that the state you checked before is still the state, and if so, update and move on. If not, just.. do it again. Over and over until you &#39;win&#39; (&#39;win&#39; = the CAS call succeeds because the thing you are CASing does have the expected value, expected = the thing it was when you started the calculation). Eventually you &#39;win&#39;. Hence, it&#39;s best to read such code as having looped a few times, having done absolutely nothing, because CAS calls failed.\r\n\r\nDBs work the same way: If you&#39;re familiar with MVCC style dbs and how you can use them to do lock-free ops with nevertheless the very highest concurrency guarantees (namely, `TransactionIsolationLevel.SERIALIBLE`, the &#39;toughest&#39; level) - same principle at work. Retry-on-conflict - same thing happening here.\r\n","title":"ConcurrentHashMap - Can we get rid of i &gt;= n from transfer()?","body":"<p>It can, though:</p>\n<blockquote>\n<pre><code>while (advance) {\n int nextIndex, nextBound;\n if (--i &gt;= bound || finishing)\n   advance = false;\n else if ((nextIndex = transferIndex) &lt;= 0) { // !!!! LINE 1\n   i = -1;\n   advance = false;\n }\n else if (U.compareAndSetInt\n          (this, TRANSFERINDEX, nextIndex,\n           nextBound = (nextIndex &gt; stride ?\n                        nextIndex - stride : 0))) {\n    bound = nextBound;\n    i = nextIndex - 1;\n    advance = false;\n  }\n}\n\nif (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\n</code></pre>\n</blockquote>\n<p>This code is highly non-idiomatic; it is written in a style somewhat common in older kernel/low-level C code style and not at all in java style. No wonder; this stuff <em>is</em> the domain of low-level stuff.</p>\n<p>Line 1 as marked in the snippet I copy/pasted directly from the source of CHM (other than that remark) looks like a check <strong>but it is not</strong>. It <strong>sets</strong> <code>nextIndex</code> to transferIndex, <em>and then</em> checks if that value is below or equal to 0 in which case it enters the <code>else if</code>'s block.</p>\n<p>So, here's the flow to get to <code>i &gt;= n</code> triggering:</p>\n<ul>\n<li><p>This code loops once or a few times.</p>\n</li>\n<li><p>It gets to that <code>if</code> check. <code>transferIndex</code> is a field. Another thread can change it (and given that we're talking about CHM, the code is obviously written to take into account that may have occurred).</p>\n</li>\n<li><p>Because of this, <code>nextIndex</code> is now quite high. Higher than <code>n</code>. That's because another thread has been growing this map in the middle of this <code>transfer()</code> operation.</p>\n</li>\n<li><p>Nevertheless, whilst <code>nextIndex</code> has been updated to the value of <code>nextTransfer</code>, the if fails. The next elseif (a CAS (Compare-and-set, a CPU primitive that is incredibly useful to write lock-free code that operates correctly in concurrent situations) op to ensure that in the few cycles we just spent going through these hoops, <code>transferIndex</code> is <em>still</em> the value we read a cycle or two ago), we have now 'claimed' the job and set <code>i</code> to <code>nextIndex - 1</code> <strong>which could be higher than <code>n</code>!</strong>.</p>\n</li>\n<li><p>Then we get to the <code>i &gt;= n</code> check you are asking about, and it could therefore indeed be true. I <em>think</em> the situation where that occurs is if, halfway through a transfer, some other thread has added some data to the CHM, but that's already been added to the post-transfer intended table so there is no need to act, thus, start the 'finishing' job which requires another CAS check and one more loop with <code>finishing = true</code> on.</p>\n</li>\n</ul>\n<p>NB: You may be thinking: Wait, <code>transferIndex</code> is being read but there is absolutely nothing establishing Happens-Before on transferIndex here, so whatever it reads, it's by definition a JMM violation and could be (and is in fact likely to be on modern CPUs) unaffected by other thread writes. But not so fast: Before a likely stale value of transferIndex is actually used, the code does a CAS check on <code>TRANSFERINDEX</code> (it's in the snippet I just pasted, in the final <code>else if</code>) and CAS checks also establish HB. It's not documented, because <code>Unsafe</code> isn't officially part of the spec, more or less. (It's sort of part of JVM spec and sort of not, bit of an oddball). For stale reads on this, the loop more or less just reloops.</p>\n<p>As a general rule, to be truly fast in the face of likely concurrent operations, you want to be lock-free. To be lock-free, you need lots of CAS, and you use the CAS generally in a 'retry' style: You check current state, you act on current state, you then use CAS to confirm that the state you checked before is still the state, and if so, update and move on. If not, just.. do it again. Over and over until you 'win' ('win' = the CAS call succeeds because the thing you are CASing does have the expected value, expected = the thing it was when you started the calculation). Eventually you 'win'. Hence, it's best to read such code as having looped a few times, having done absolutely nothing, because CAS calls failed.</p>\n<p>DBs work the same way: If you're familiar with MVCC style dbs and how you can use them to do lock-free ops with nevertheless the very highest concurrency guarantees (namely, <code>TransactionIsolationLevel.SERIALIBLE</code>, the 'toughest' level) - same principle at work. Retry-on-conflict - same thing happening here.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691706988,"creation_date":1691700403,"question_id":76879210,"body_markdown":"Related to :\r\nhttps://stackoverflow.com/q/63597067/7134737\r\n\r\nI am looking into the transfer() method in [j.u.c.ConcurrentHashMap][1].\r\n\r\nDoesn&#39;t it make sense to just get rid of [i &gt;= n || i + n &gt;= nextn][2] from the [transfer()][3] method ?\r\n\r\n      for (int i = 0, bound = 0;;) {\r\n            Node&lt;K,V&gt; f; int fh;\r\n            while (advance) {\r\n                int nextIndex, nextBound;\r\n                if (--i &gt;= bound || finishing) // always decreasing\r\n                    advance = false;\r\n                else if ((nextIndex = transferIndex) &lt;= 0) {\r\n                    i = -1; // obviously less than n\r\n                    advance = false;\r\n                }\r\n                else if (U.compareAndSetInt\r\n                         (this, TRANSFERINDEX, nextIndex,\r\n                          nextBound = (nextIndex &gt; stride ?\r\n                                       nextIndex - stride : 0))) {\r\n                    bound = nextBound;\r\n                    i = nextIndex - 1; // will be guaranteed to be less than n\r\n                    advance = false;\r\n                }\r\n            }\r\n            if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) { // why keep any thing other than i &lt; 0\r\n\r\nGiven that `i` is a local variable I see no mathematical way it can exceed `n` (old table len).\r\n\r\nAlso, the [question linked above][4] also says that its dead code.\r\n\r\nAm I missing something about the JMM that needs to check this weird condition?\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java\r\n  [2]: https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2465\r\n  [3]: https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2426\r\n  [4]: https://stackoverflow.com/a/67656878/7134737","title":"ConcurrentHashMap - Can we get rid of i &gt;= n from transfer()?","body":"<p>Related to :\n<a href=\"https://stackoverflow.com/q/63597067/7134737\">In ConcurrentHashMap&#39;s transfer method, I don&#39;t understand the meaning of these two conditions &quot;i &gt;= n&quot; and &quot;i + n &gt;= nextn&quot;</a></p>\n<p>I am looking into the transfer() method in <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">j.u.c.ConcurrentHashMap</a>.</p>\n<p>Doesn't it make sense to just get rid of <a href=\"https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2465\" rel=\"nofollow noreferrer\">i &gt;= n || i + n &gt;= nextn</a> from the <a href=\"https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2426\" rel=\"nofollow noreferrer\">transfer()</a> method ?</p>\n<pre><code>  for (int i = 0, bound = 0;;) {\n        Node&lt;K,V&gt; f; int fh;\n        while (advance) {\n            int nextIndex, nextBound;\n            if (--i &gt;= bound || finishing) // always decreasing\n                advance = false;\n            else if ((nextIndex = transferIndex) &lt;= 0) {\n                i = -1; // obviously less than n\n                advance = false;\n            }\n            else if (U.compareAndSetInt\n                     (this, TRANSFERINDEX, nextIndex,\n                      nextBound = (nextIndex &gt; stride ?\n                                   nextIndex - stride : 0))) {\n                bound = nextBound;\n                i = nextIndex - 1; // will be guaranteed to be less than n\n                advance = false;\n            }\n        }\n        if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) { // why keep any thing other than i &lt; 0\n</code></pre>\n<p>Given that <code>i</code> is a local variable I see no mathematical way it can exceed <code>n</code> (old table len).</p>\n<p>Also, the <a href=\"https://stackoverflow.com/a/67656878/7134737\">question linked above</a> also says that its dead code.</p>\n<p>Am I missing something about the JMM that needs to check this weird condition?</p>\n"},{"tags":["java","macos","mousemove","awtrobot","macos-mojave"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1541085180,"post_id":53103394,"comment_id":93103452,"body_markdown":"You&#39;re going to have to be more specific with &quot;it doesnt work&quot;. What does the console say when you run it?/what is it supposed to say? Also more to the point how are you running it?","body":"You&#39;re going to have to be more specific with &quot;it doesnt work&quot;. What does the console say when you run it?/what is it supposed to say? Also more to the point how are you running it?"},{"owner":{"account_id":14665355,"reputation":131,"user_id":10591345,"display_name":"R.edd"},"score":0,"creation_date":1541092803,"post_id":53103394,"comment_id":93107743,"body_markdown":"Hi, so in console I receive only these two lines (example from Mac): &quot;Predicted mouse location : 12, 300&quot; and &quot;Actual mouse location : 730, 428&quot; - what is correct, because the second line shows mouse position (because mouse does not change position for some reason). In Windows 7 I can see the same values in both lines (because predicted mouse position is equal to actual position after mouse moved). Do I need to provide something more? Thanks for reply","body":"Hi, so in console I receive only these two lines (example from Mac): &quot;Predicted mouse location : 12, 300&quot; and &quot;Actual mouse location : 730, 428&quot; - what is correct, because the second line shows mouse position (because mouse does not change position for some reason). In Windows 7 I can see the same values in both lines (because predicted mouse position is equal to actual position after mouse moved). Do I need to provide something more? Thanks for reply"},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586022897,"post_id":53103394,"comment_id":107974842,"body_markdown":"I ran your code with JDK 1.8 and the actual and predicted do not match, but my mouse cursor was moved to the correct location. The same code with JDK 11 works.","body":"I ran your code with JDK 1.8 and the actual and predicted do not match, but my mouse cursor was moved to the correct location. The same code with JDK 11 works."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586188163,"post_id":53103394,"comment_id":108030039,"body_markdown":"The code example will not always work. For it to work reliably, there needs to be a `SwingUtilities.invokeAndWait` used to get the `MouseInfo`.","body":"The code example will not always work. For it to work reliably, there needs to be a <code>SwingUtilities.invokeAndWait</code> used to get the <code>MouseInfo</code>."}],"answers":[{"tags":[],"owner":{"account_id":1160273,"reputation":251,"user_id":1139925,"display_name":"Paul Banta"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1546047232,"creation_date":1546045127,"answer_id":53965852,"question_id":53103394,"body_markdown":"\r\nI&#39;m having the same exact issue too. I have a statement &quot;robot.mouseMove(100, 100);&quot; and the mouse doesn&#39;t move at all. I have an idea to research. I noticed a warning or informational type of message from MacOS while I was running my code. It was asking me something about giving permission for my program to control the screen or system or something. I tried to click the &quot;allow&quot; checkbox, but it wouldn&#39;t let me. I&#39;ll research this some more. I think it&#39;s a MacOS thing. You (and I) have to tell MacOS that it&#39;s ok for our Java program to control the mouse.\r\n\r\n\r\nI think this is the solution . . .\r\n\r\nIn System Preferences (the &quot;gear&quot; icon), under Security &amp; Privacy, click the Privacy tab toward the top, then choose Accessibility on the left. This lists all the programs that can &quot;control your computer&quot;. I&#39;m using STS, not IntelliJ. I see STS listed along with BetterSnapTool and KeyCastr. Both BetterSnapTool and KeyCastr are checked. STS is not checked. And, all of these are grayed out so that I can&#39;t change any of the checks. There&#39;s a Lock icon at the bottom left of the window. I clicked on the icon, and a prompt came up asking for my password (I have some level of sysadmin privileges). I put in my password, and I am now allowed to &quot;check&quot; STS. I &quot;checked&quot; STS (you will &quot;check&quot; IntelliJ). After &quot;checking&quot; STS, I clicked the Lock icon at the bottom left again. This &quot;closed&quot; the lock. Now when I run my program, the robot command moves my mouse.\r\n","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I'm having the same exact issue too. I have a statement \"robot.mouseMove(100, 100);\" and the mouse doesn't move at all. I have an idea to research. I noticed a warning or informational type of message from MacOS while I was running my code. It was asking me something about giving permission for my program to control the screen or system or something. I tried to click the \"allow\" checkbox, but it wouldn't let me. I'll research this some more. I think it's a MacOS thing. You (and I) have to tell MacOS that it's ok for our Java program to control the mouse.</p>\n\n<p>I think this is the solution . . .</p>\n\n<p>In System Preferences (the \"gear\" icon), under Security &amp; Privacy, click the Privacy tab toward the top, then choose Accessibility on the left. This lists all the programs that can \"control your computer\". I'm using STS, not IntelliJ. I see STS listed along with BetterSnapTool and KeyCastr. Both BetterSnapTool and KeyCastr are checked. STS is not checked. And, all of these are grayed out so that I can't change any of the checks. There's a Lock icon at the bottom left of the window. I clicked on the icon, and a prompt came up asking for my password (I have some level of sysadmin privileges). I put in my password, and I am now allowed to \"check\" STS. I \"checked\" STS (you will \"check\" IntelliJ). After \"checking\" STS, I clicked the Lock icon at the bottom left again. This \"closed\" the lock. Now when I run my program, the robot command moves my mouse.</p>\n"},{"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588092193,"creation_date":1588092193,"answer_id":61485434,"question_id":53103394,"body_markdown":"The answer is &quot;you can&quot; and &quot;you can&#39;t&quot;. Let&#39;s start with the &quot;can&#39;t&quot;.\r\n\r\n**Can&#39;t:**\r\n\r\nIt seems macOS incorrectly detects the attempt to move the mouse as coming from IntelliJ, when in fact, it&#39;s coming from `java`. You can give IntelliJ all the permissions you want, but `java` will never be able to move the cursor when the permissions are given to IntelliJ.\r\n\r\nIntelliJ (which is a Java application) is running a child process to start your program. The child process is the `java` command line and not the same `java` as is bundled with IntelliJ. This child process needs the permissions.\r\n\r\n**Can:**\r\n\r\nThis is a bit round about.\r\n\r\n1. Use Gradle to build your project, IntelliJ recognizes Gradle projects and interacts nicely with them\r\n2. Remove all occurrences of IntelliJ and Java from Accessibility permissions in macOS system preferences -&gt; Security and Privacy.\r\n3. Be sure all Gradle daemons are stopped (or if you haven&#39;t run Gradle yet, then be sure the next step is the first time gradle runs since you last rebooted your computer)\r\n4. Run you application from the command line using Gradle\r\n5. macOS will prompt to give permissions, open system preferences and give `java` permission.\r\n6. Run IntelliJ and run your app as a gradle project through IntelliJ, and voila!\r\n\r\nWhat happens: IntelliJ, in step 6, uses the already running gradle daemon process to execute your application. This process is using `java` and `java` has permission to move the mouse cursor in macOS system preferences.\r\n\r\nIt&#39;s not pretty, but it works. If you&#39;re like me, you use gradle anyway for java projects in IntelliJ, and all you have to do is remember to run your project from the command line before running it from IntelliJ. This way, the gradle daemon (a `java` process) will be responsible for running the application and proper permissions will be detected by macOS.\r\n\r\nI tested this with the following code (note a few modifications, as the OP code had some &quot;bugs&quot;):\r\n\r\n    import javax.swing.SwingUtilities;\r\n    import java.awt.AWTException;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Robot;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class RunRobot {\r\n        public static void main(String[] args) {\r\n            int x = 12,\r\n                y = 300;\r\n            final int[] xAct = new int[1],\r\n                        yAct = new int[1];\r\n            try {\r\n                Robot robot = new Robot();\r\n                robot.mouseMove(x, y);\r\n                robot.waitForIdle();\r\n    \r\n                SwingUtilities.invokeAndWait(()-&gt;{\r\n                    xAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getX();\r\n                    yAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getY();\r\n                });\r\n    \r\n                String sPred = String.format(&quot;Predicted mouse location : %, d, %, d&quot;, x, y),\r\n                       sAct  = String.format(&quot;Actual    mouse location : %, d, %, d&quot;, xAct[0], yAct[0]);\r\n    \r\n                System.out.println(sPred);\r\n                System.out.println(sAct);\r\n            } catch (InterruptedException | AWTException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>The answer is \"you can\" and \"you can't\". Let's start with the \"can't\".</p>\n\n<p><strong>Can't:</strong></p>\n\n<p>It seems macOS incorrectly detects the attempt to move the mouse as coming from IntelliJ, when in fact, it's coming from <code>java</code>. You can give IntelliJ all the permissions you want, but <code>java</code> will never be able to move the cursor when the permissions are given to IntelliJ.</p>\n\n<p>IntelliJ (which is a Java application) is running a child process to start your program. The child process is the <code>java</code> command line and not the same <code>java</code> as is bundled with IntelliJ. This child process needs the permissions.</p>\n\n<p><strong>Can:</strong></p>\n\n<p>This is a bit round about.</p>\n\n<ol>\n<li>Use Gradle to build your project, IntelliJ recognizes Gradle projects and interacts nicely with them</li>\n<li>Remove all occurrences of IntelliJ and Java from Accessibility permissions in macOS system preferences -> Security and Privacy.</li>\n<li>Be sure all Gradle daemons are stopped (or if you haven't run Gradle yet, then be sure the next step is the first time gradle runs since you last rebooted your computer)</li>\n<li>Run you application from the command line using Gradle</li>\n<li>macOS will prompt to give permissions, open system preferences and give <code>java</code> permission.</li>\n<li>Run IntelliJ and run your app as a gradle project through IntelliJ, and voila!</li>\n</ol>\n\n<p>What happens: IntelliJ, in step 6, uses the already running gradle daemon process to execute your application. This process is using <code>java</code> and <code>java</code> has permission to move the mouse cursor in macOS system preferences.</p>\n\n<p>It's not pretty, but it works. If you're like me, you use gradle anyway for java projects in IntelliJ, and all you have to do is remember to run your project from the command line before running it from IntelliJ. This way, the gradle daemon (a <code>java</code> process) will be responsible for running the application and proper permissions will be detected by macOS.</p>\n\n<p>I tested this with the following code (note a few modifications, as the OP code had some \"bugs\"):</p>\n\n<pre><code>import javax.swing.SwingUtilities;\nimport java.awt.AWTException;\nimport java.awt.MouseInfo;\nimport java.awt.Robot;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class RunRobot {\n    public static void main(String[] args) {\n        int x = 12,\n            y = 300;\n        final int[] xAct = new int[1],\n                    yAct = new int[1];\n        try {\n            Robot robot = new Robot();\n            robot.mouseMove(x, y);\n            robot.waitForIdle();\n\n            SwingUtilities.invokeAndWait(()-&gt;{\n                xAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getX();\n                yAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getY();\n            });\n\n            String sPred = String.format(\"Predicted mouse location : %, d, %, d\", x, y),\n                   sAct  = String.format(\"Actual    mouse location : %, d, %, d\", xAct[0], yAct[0]);\n\n            System.out.println(sPred);\n            System.out.println(sAct);\n        } catch (InterruptedException | AWTException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15123026,"reputation":513,"user_id":10913282,"display_name":"D.A.C. Nupun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669915967,"creation_date":1669915453,"answer_id":74645853,"question_id":53103394,"body_markdown":"I had the same problem on mac os. But finally I found a way to do it.\r\n\r\n1. Create a .jar file from your source. (It can be done by simply doing Clean &amp; Build in netbeans)\r\n\r\n2. After that go to system preference &gt; Privacy &amp; Security &gt; Accessibility &gt; Select &quot;Terminal&quot; and turn it ON (as below)\r\nIf &quot;Terminal&quot; is not visible in Accessibility you can add pressing &quot;+&quot; button\r\n\r\n [![enter image description here][1]][1] \r\n\r\n3.Run the .jar file via terminal. Then robot function will be execute !\r\nUse this command to run .jar file via terminal `java -jar /Users/&lt;username&gt;/Documents/MyApp.jar`\r\n\r\nEnjoy !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypgUB.png","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I had the same problem on mac os. But finally I found a way to do it.</p>\n<ol>\n<li><p>Create a .jar file from your source. (It can be done by simply doing Clean &amp; Build in netbeans)</p>\n</li>\n<li><p>After that go to system preference &gt; Privacy &amp; Security &gt; Accessibility &gt; Select &quot;Terminal&quot; and turn it ON (as below)\nIf &quot;Terminal&quot; is not visible in Accessibility you can add pressing &quot;+&quot; button</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ypgUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypgUB.png\" alt=\"enter image description here\" /></a></p>\n<p>3.Run the .jar file via terminal. Then robot function will be execute !\nUse this command to run .jar file via terminal <code>java -jar /Users/&lt;username&gt;/Documents/MyApp.jar</code></p>\n<p>Enjoy !</p>\n"}],"owner":{"account_id":14665355,"reputation":131,"user_id":10591345,"display_name":"R.edd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5784,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1691706980,"creation_date":1541082753,"question_id":53103394,"body_markdown":"I created java file in IntelliJ IDE, with that code\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Robot;\r\n    \r\n    public class JavaRobotExample {\r\n        public static void main(String[] args) {\r\n            int x = 12,\r\n                    y = 300;\r\n            try {\r\n                Robot robot = new Robot();\r\n                robot.mouseMove(x, y);\r\n    \r\n                int xAct = (int)    MouseInfo.getPointerInfo().getLocation().getX(),\r\n                        yAct = (int) MouseInfo.getPointerInfo().getLocation().getY();\r\n    \r\n                String sPred = String.format(&quot;Predicted mouse location : %, d, %, d&quot;, x, y),\r\n                        sAct = String.format(&quot;Actual mouse location : %, d, %, d&quot;, xAct, yAct);\r\n    \r\n                System.out.println(sPred);\r\n                System.out.println(sAct);\r\n            } catch (AWTException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThat example works fine in Windows 7 environment, but the same code on Mac OS 10.14 doesn&#39;t move mouse using method mouseMove (but reads position with MouseInfo class).\r\n\r\nAlso I don&#39;t receive any Exception e.g.\r\n\r\nDid someone had earlier similar problem? Any ideas how to get that code to work in Mac OS?\r\n\r\nBest Regards,\r\n","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I created java file in IntelliJ IDE, with that code</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.MouseInfo;\nimport java.awt.Robot;\n\npublic class JavaRobotExample {\n    public static void main(String[] args) {\n        int x = 12,\n                y = 300;\n        try {\n            Robot robot = new Robot();\n            robot.mouseMove(x, y);\n\n            int xAct = (int)    MouseInfo.getPointerInfo().getLocation().getX(),\n                    yAct = (int) MouseInfo.getPointerInfo().getLocation().getY();\n\n            String sPred = String.format(\"Predicted mouse location : %, d, %, d\", x, y),\n                    sAct = String.format(\"Actual mouse location : %, d, %, d\", xAct, yAct);\n\n            System.out.println(sPred);\n            System.out.println(sAct);\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>That example works fine in Windows 7 environment, but the same code on Mac OS 10.14 doesn't move mouse using method mouseMove (but reads position with MouseInfo class).</p>\n\n<p>Also I don't receive any Exception e.g.</p>\n\n<p>Did someone had earlier similar problem? Any ideas how to get that code to work in Mac OS?</p>\n\n<p>Best Regards,</p>\n"},{"tags":["java","mergesort"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689598295,"post_id":76704587,"comment_id":135231737,"body_markdown":"Can you find out *any* information about the test case(s) you fail on?","body":"Can you find out <i>any</i> information about the test case(s) you fail on?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689599156,"post_id":76704587,"comment_id":135231944,"body_markdown":"If you are looking for improvements to working code, the [Code Review Stack Exchange](https://codereview.stackexchange.com/) is a better place to ask.","body":"If you are looking for improvements to working code, the <a href=\"https://codereview.stackexchange.com/\">Code Review Stack Exchange</a> is a better place to ask."},{"owner":{"account_id":6725902,"reputation":449,"user_id":5999841,"accept_rate":78,"display_name":"pacmaninbw"},"score":0,"creation_date":1689602164,"post_id":76704587,"comment_id":135232695,"body_markdown":"Before posting on Code Review please read [A guide to Code Review for Stack Overflow users](https://codereview.meta.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users/5778#5778) and [How do I ask a good question?](https://codereview.stackexchange.com/help/how-to-ask)","body":"Before posting on Code Review please read <a href=\"https://codereview.meta.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users/5778#5778\">A guide to Code Review for Stack Overflow users</a> and <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713265,"creation_date":1689713265,"answer_id":76716450,"question_id":76704587,"body_markdown":"Change the code to do a one time allocation of a second array, instead of allocating on every merge. This example does a one time copy, then alternates the direction of merge with each level of recursion to avoid copy back. mergeSort is the entry function, mergeSortR is the recursive function:\r\n\r\n    static void mergeSort(int a[], int l, int r)\r\n    {\r\n        r += 1;                             // change r to end (last+1)\r\n        if((r-l) &lt; 2)                       // return if nothing to sort\r\n            return;\r\n        int [] b = a;                       // one time copy\r\n        mergeSortR(b, a, l, r);\r\n    }\r\n    \r\n    static void mergeSortR(int b[], int a[], int bb, int ee)\r\n    {\r\n        if ((ee - bb) == 1)                 // if one element, return\r\n            return;\r\n        int mm = (bb+ee)/2;                 // midpoint, start of right half\r\n        mergeSortR(a, b, bb, mm);           // sort left  half of a to b\r\n        mergeSortR(a, b, mm, ee);           // sort right half of a to b\r\n        merge(b, a, bb, mm, ee);            // merge b to a\r\n    }\r\n    \r\n    static void merge(int a[], int b[], int bb, int mm, int ee)\r\n    {\r\n        int o = bb;                         // b[]       index\r\n        int l = bb;                         // a[] left  index\r\n        int r = mm;                         // a[] right index\r\n        while(true){                        // merge data\r\n            if(a[l] &lt;= a[r]){               // if a[l] &lt;= a[r]\r\n                b[o++] = a[l++];            //   copy a[l]\r\n                if(l &lt; mm)                  //   if not end of left run\r\n                    continue;               //     continue (back to while)\r\n                while(r &lt; ee)               //   else copy rest of right run\r\n                    b[o++] = a[r++];\r\n                break;                      //     and return\r\n            } else {                        // else a[l] &gt; a[r]\r\n                b[o++] = a[r++];            //   copy a[r]\r\n                if(r &lt; ee)                  //   if not end of right run\r\n                    continue;               //     continue (back to while)\r\n                while(l &lt; mm)               //   else copy rest of left run\r\n                    b[o++] = a[l++];\r\n                break;                      //     and return\r\n            }\r\n        }\r\n    }\r\n","title":"Time Limit Exceeded in Merge Sort program","body":"<p>Change the code to do a one time allocation of a second array, instead of allocating on every merge. This example does a one time copy, then alternates the direction of merge with each level of recursion to avoid copy back. mergeSort is the entry function, mergeSortR is the recursive function:</p>\n<pre><code>static void mergeSort(int a[], int l, int r)\n{\n    r += 1;                             // change r to end (last+1)\n    if((r-l) &lt; 2)                       // return if nothing to sort\n        return;\n    int [] b = a;                       // one time copy\n    mergeSortR(b, a, l, r);\n}\n\nstatic void mergeSortR(int b[], int a[], int bb, int ee)\n{\n    if ((ee - bb) == 1)                 // if one element, return\n        return;\n    int mm = (bb+ee)/2;                 // midpoint, start of right half\n    mergeSortR(a, b, bb, mm);           // sort left  half of a to b\n    mergeSortR(a, b, mm, ee);           // sort right half of a to b\n    merge(b, a, bb, mm, ee);            // merge b to a\n}\n\nstatic void merge(int a[], int b[], int bb, int mm, int ee)\n{\n    int o = bb;                         // b[]       index\n    int l = bb;                         // a[] left  index\n    int r = mm;                         // a[] right index\n    while(true){                        // merge data\n        if(a[l] &lt;= a[r]){               // if a[l] &lt;= a[r]\n            b[o++] = a[l++];            //   copy a[l]\n            if(l &lt; mm)                  //   if not end of left run\n                continue;               //     continue (back to while)\n            while(r &lt; ee)               //   else copy rest of right run\n                b[o++] = a[r++];\n            break;                      //     and return\n        } else {                        // else a[l] &gt; a[r]\n            b[o++] = a[r++];            //   copy a[r]\n            if(r &lt; ee)                  //   if not end of right run\n                continue;               //     continue (back to while)\n            while(l &lt; mm)               //   else copy rest of left run\n                b[o++] = a[l++];\n            break;                      //     and return\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5823909,"reputation":136952,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691706601,"creation_date":1691706225,"answer_id":76879652,"question_id":76704587,"body_markdown":"Your `merge` function allocates a temporary array that has the full size of the original array at each step of the algorithm. The interpreter might be unable to optimize this and free the array immediately after each call, relying on the garbage collector to release the memory.\r\n\r\nYou can improve this algorithm by reducing the length of the array allocated for the merge:\r\n```\r\nvoid merge(int arr[], int l, int m, int r)\r\n{ \r\n    int n = r - l + 1;\r\n    int b[] = new int[n];\r\n    \r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n    \r\n    while (i &lt;= m &amp;&amp; j &lt;= r) {\r\n        if (arr[i] &lt;= arr[j]) {\r\n            b[k++] = arr[i++]; \r\n        } else {\r\n            b[k++] = arr[j++];\r\n        }\r\n    }\r\n    \r\n    if (i &gt; m) {\r\n        while (j &lt;= r) {\r\n            b[k++] = arr[j++];\r\n        } \r\n    } else {\r\n        while(i &lt;= m) {\r\n            b[k++] = arr[i++];\r\n        }\r\n    }\r\n    \r\n    for (k = 0; k &lt; n; k++) {\r\n        arr[l + k] = b[k];\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort(arr, l, mid);\r\n        mergeSort(arr, mid + 1, r);\r\n        merge(arr, l, mid, r);\r\n    }\r\n}\r\n```\r\n\r\nYou can further reduce the allocated space by only allocating a copy of the left part:\r\n```\r\nvoid merge(int arr[], int l, int m, int r)\r\n{ \r\n    int n = m - l + 1;\r\n    int b[] = new int[n];\r\n\r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n\r\n    while (i &lt;= m) {\r\n        b[k++] = arr[i++]\r\n    }\r\n    \r\n    i = l;\r\n    k = 0;\r\n    \r\n    while (k &lt; n &amp;&amp; j &lt;= r) {\r\n        if (b[k] &lt;= arr[j]) {\r\n            arr[i++] = b[k++]; \r\n        } else {\r\n            arr[i++] = arr[j++];\r\n        }\r\n    }\r\n    while (k &lt; n) {\r\n        arr[i++] = b[k++];\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort(arr, l, mid);\r\n        mergeSort(arr, mid + 1, r);\r\n        merge(arr, l, mid, r);\r\n    }\r\n}\r\n```\r\n\r\nAn even more efficient version would allocate a single temporary array with a length half the length of the array to be sorted and pass this array as temporary storage to the recursive calls:\r\n```\r\nvoid merge2(int arr[], int l, int m, int r, int b[])\r\n{ \r\n    int n = m - l + 1;\r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n\r\n    while (i &lt;= m) {\r\n        b[k++] = arr[i++]\r\n    }\r\n    \r\n    i = l;\r\n    k = 0;\r\n    \r\n    while (k &lt; n &amp;&amp; j &lt;= r) {\r\n        if (b[k] &lt;= arr[j]) {\r\n            arr[i++] = b[k++]; \r\n        } else {\r\n            arr[i++] = arr[j++];\r\n        }\r\n    }\r\n    while (k &lt; n) {\r\n        arr[i++] = b[k++];\r\n    }\r\n}\r\n\r\nvoid mergeSort2(int arr[], int l, int r, int b[])\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort2(arr, l, mid, b);\r\n        mergeSort2(arr, mid + 1, r, b);\r\n        merge2(arr, l, mid, r, b);\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int b[] = new int[(r - l) / 2 + 1];\r\n        mergeSort2(arr, l, r, b);\r\n    }\r\n}\r\n```\r\n","title":"Time Limit Exceeded in Merge Sort program","body":"<p>Your <code>merge</code> function allocates a temporary array that has the full size of the original array at each step of the algorithm. The interpreter might be unable to optimize this and free the array immediately after each call, relying on the garbage collector to release the memory.</p>\n<p>You can improve this algorithm by reducing the length of the array allocated for the merge:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = r - l + 1;\n    int b[] = new int[n];\n    \n    int i = l;\n    int j = m + 1;\n    int k = 0;\n    \n    while (i &lt;= m &amp;&amp; j &lt;= r) {\n        if (arr[i] &lt;= arr[j]) {\n            b[k++] = arr[i++]; \n        } else {\n            b[k++] = arr[j++];\n        }\n    }\n    \n    if (i &gt; m) {\n        while (j &lt;= r) {\n            b[k++] = arr[j++];\n        } \n    } else {\n        while(i &lt;= m) {\n            b[k++] = arr[i++];\n        }\n    }\n    \n    for (k = 0; k &lt; n; k++) {\n        arr[l + k] = b[k];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n<p>You can further reduce the allocated space by only allocating a copy of the left part:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = m - l + 1;\n    int b[] = new int[n];\n\n    int i = l;\n    int j = m + 1;\n    int k = 0;\n\n    while (i &lt;= m) {\n        b[k++] = arr[i++]\n    }\n    \n    i = l;\n    k = 0;\n    \n    while (k &lt; n &amp;&amp; j &lt;= r) {\n        if (b[k] &lt;= arr[j]) {\n            arr[i++] = b[k++]; \n        } else {\n            arr[i++] = arr[j++];\n        }\n    }\n    while (k &lt; n) {\n        arr[i++] = b[k++];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n<p>An even more efficient version would allocate a single temporary array with a length half the length of the array to be sorted and pass this array as temporary storage to the recursive calls:</p>\n<pre><code>void merge2(int arr[], int l, int m, int r, int b[])\n{ \n    int n = m - l + 1;\n    int i = l;\n    int j = m + 1;\n    int k = 0;\n\n    while (i &lt;= m) {\n        b[k++] = arr[i++]\n    }\n    \n    i = l;\n    k = 0;\n    \n    while (k &lt; n &amp;&amp; j &lt;= r) {\n        if (b[k] &lt;= arr[j]) {\n            arr[i++] = b[k++]; \n        } else {\n            arr[i++] = arr[j++];\n        }\n    }\n    while (k &lt; n) {\n        arr[i++] = b[k++];\n    }\n}\n\nvoid mergeSort2(int arr[], int l, int r, int b[])\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort2(arr, l, mid, b);\n        mergeSort2(arr, mid + 1, r, b);\n        merge2(arr, l, mid, r, b);\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int b[] = new int[(r - l) / 2 + 1];\n        mergeSort2(arr, l, r, b);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20473506,"reputation":39,"user_id":15023361,"display_name":"Mayur Panchal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691706601,"creation_date":1689597911,"question_id":76704587,"body_markdown":"I tried to implement Merge sort but I am getting Time Limit Exceeded error.\r\nI tried this on GeeksForGeeks platform. The code is working fine for almost all test cases.\r\nIs there any way to optimize the code?\r\n\r\nThis is my code:\r\n\r\n    void merge(int arr[], int l, int m, int r)\r\n    { \r\n        int n = arr.length; \r\n        int b[] = new int[n];\r\n        \r\n        int i = l;\r\n        int j = m + 1;\r\n        int k = l;\r\n        \r\n        while (i &lt;= m &amp;&amp; j &lt;= r) {\r\n            if (arr[i] &lt; arr[j]) {\r\n                b[k] = arr[i]; \r\n                i++;\r\n            } else {\r\n                b[k] = arr[j];\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n        \r\n        if (i &gt; m) {\r\n            while (j &lt;= r) {\r\n                b[k] = arr[j];\r\n                k++;\r\n                j++;\r\n            } \r\n        } else {\r\n            while(i &lt;= m) {\r\n                b[k] = arr[i];\r\n                k++;\r\n                i++;\r\n            }\r\n        }\r\n        \r\n        for (k = l; k &lt;= r; k++) {\r\n            arr[k] = b[k];\r\n        }\r\n    }\r\n\r\n    void mergeSort(int arr[], int l, int r)\r\n    {\r\n        if (l &gt; r) {\r\n            return;\r\n        }\r\n        \r\n        if (l &lt; r) {\r\n            int mid = (l + r) / 2;\r\n            mergeSort(arr, l, mid);\r\n            mergeSort(arr, mid + 1, r);\r\n            merge(arr, l, mid, r);\r\n        }\r\n    }","title":"Time Limit Exceeded in Merge Sort program","body":"<p>I tried to implement Merge sort but I am getting Time Limit Exceeded error.\nI tried this on GeeksForGeeks platform. The code is working fine for almost all test cases.\nIs there any way to optimize the code?</p>\n<p>This is my code:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = arr.length; \n    int b[] = new int[n];\n    \n    int i = l;\n    int j = m + 1;\n    int k = l;\n    \n    while (i &lt;= m &amp;&amp; j &lt;= r) {\n        if (arr[i] &lt; arr[j]) {\n            b[k] = arr[i]; \n            i++;\n        } else {\n            b[k] = arr[j];\n            j++;\n        }\n        k++;\n    }\n    \n    if (i &gt; m) {\n        while (j &lt;= r) {\n            b[k] = arr[j];\n            k++;\n            j++;\n        } \n    } else {\n        while(i &lt;= m) {\n            b[k] = arr[i];\n            k++;\n            i++;\n        }\n    }\n    \n    for (k = l; k &lt;= r; k++) {\n        arr[k] = b[k];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &gt; r) {\n        return;\n    }\n    \n    if (l &lt; r) {\n        int mid = (l + r) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691706560,"creation_date":1691706560,"answer_id":76879679,"question_id":76879015,"body_markdown":"There&#39;s no built-in formatting for any of the Java 8 temporal classes as of FreeMarker 2.3.32. (Though there&#39;s a development branch with a semi-finished implementation, not even that addresses `Duration` yet.)\r\n\r\nBut, of course you can call static utility methods from FreeMarker. You have to put the value of this into the data-model (the template context), with the name you prefer (like `MyUtils` in this case) `((BeansWrapper) cfg.getObjectWrapper()).getStaticModels().get(MyUtils.class.getName())`, where `cfg` is the FreeMarker `Configuration` singleton.","title":"What is a good way to format a Duration object in freemarker?","body":"<p>There's no built-in formatting for any of the Java 8 temporal classes as of FreeMarker 2.3.32. (Though there's a development branch with a semi-finished implementation, not even that addresses <code>Duration</code> yet.)</p>\n<p>But, of course you can call static utility methods from FreeMarker. You have to put the value of this into the data-model (the template context), with the name you prefer (like <code>MyUtils</code> in this case) <code>((BeansWrapper) cfg.getObjectWrapper()).getStaticModels().get(MyUtils.class.getName())</code>, where <code>cfg</code> is the FreeMarker <code>Configuration</code> singleton.</p>\n"}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691706560,"creation_date":1691698235,"question_id":76879015,"body_markdown":"I have a java Duration object that should be formatted as `hh:mm:ss` in xml.\r\n\r\n```\r\n&lt;Duration&gt;${duration}&lt;/Duration&gt;\r\n```\r\n\r\nBut it is rendered with the standard format.\r\n\r\n```\r\n&lt;Duration&gt;PT30S&lt;/Duration&gt;\r\n```\r\n\r\nI have a method in java that can format a duration and it is currently used for json mapping.\r\n\r\n```\r\n    public static String format(Duration value) {\r\n        long hours = value.toHours();\r\n        int minutes = value.toMinutesPart();\r\n        int seconds = value.toSecondsPart();\r\n        int millis = value.toMillisPart();\r\n        return millis == 0\r\n            ? String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds)\r\n            : String.format(&quot;%02d:%02d:%02d.%03d&quot;, hours, minutes, seconds, millis);\r\n    }\r\n```\r\n\r\nI also need to render Duration in freemarker. Is it possible to use this same method in freemarker?\r\n\r\n","title":"What is a good way to format a Duration object in freemarker?","body":"<p>I have a java Duration object that should be formatted as <code>hh:mm:ss</code> in xml.</p>\n<pre><code>&lt;Duration&gt;${duration}&lt;/Duration&gt;\n</code></pre>\n<p>But it is rendered with the standard format.</p>\n<pre><code>&lt;Duration&gt;PT30S&lt;/Duration&gt;\n</code></pre>\n<p>I have a method in java that can format a duration and it is currently used for json mapping.</p>\n<pre><code>    public static String format(Duration value) {\n        long hours = value.toHours();\n        int minutes = value.toMinutesPart();\n        int seconds = value.toSecondsPart();\n        int millis = value.toMillisPart();\n        return millis == 0\n            ? String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds)\n            : String.format(&quot;%02d:%02d:%02d.%03d&quot;, hours, minutes, seconds, millis);\n    }\n</code></pre>\n<p>I also need to render Duration in freemarker. Is it possible to use this same method in freemarker?</p>\n"},{"tags":["java","maven","java-8","dependency-management","noclassdeffounderror"],"comments":[{"owner":{"account_id":1227700,"reputation":366,"user_id":1598298,"accept_rate":73,"display_name":"Key Lay"},"score":0,"creation_date":1691697014,"post_id":76878899,"comment_id":135530332,"body_markdown":"In the changes in the dependency no relevant exclusions are added and the only transitive dependency change in my app is in the version of snappy-java.","body":"In the changes in the dependency no relevant exclusions are added and the only transitive dependency change in my app is in the version of snappy-java."},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":1,"creation_date":1691698359,"post_id":76878899,"comment_id":135530594,"body_markdown":"That error means that the class was found,  but something went wrong when the class was loaded. Typically static initialization code failed.","body":"That error means that the class was found,  but something went wrong when the class was loaded. Typically static initialization code failed."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691698601,"creation_date":1691698601,"answer_id":76879052,"question_id":76878899,"body_markdown":"Be aware you are not looking at a `ClassNotFoundException`.\r\n\r\nThe [ApiDoc][1] states about `NoClassDefFoundError`:\r\n*Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.\r\nThe searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found.*\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/NoClassDefFoundError.html","title":"How can one get a NoClassDefFound for a JDK class/jar?","body":"<p>Be aware you are not looking at a <code>ClassNotFoundException</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">ApiDoc</a> states about <code>NoClassDefFoundError</code>:\n<em>Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.\nThe searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found.</em></p>\n"}],"owner":{"account_id":1227700,"reputation":366,"user_id":1598298,"accept_rate":73,"display_name":"Key Lay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691706546,"creation_date":1691696986,"question_id":76878899,"body_markdown":"In updating a version of a dependency, I began getting a `java.lang.NoClassDefFoundError: javax/net/ssl/SSLSession`. javax.net.ssl.SSLSession is a JDK class found in rt.jar. How can updating a dependency cause a JDK jar to not be found?\r\n\r\nEDIT: the answer for me is that such a dep change *can&#39;t* cause this result. There was a base image change that was not known at the time of asking that was responsible. \r\n\r\nI am leaving the question up as I think the replies and comments could be helpful to someone coming here for a similar issue. To such people I recommend: double check you classpath and double check your jdk directory.","title":"How can one get a NoClassDefFound for a JDK class/jar?","body":"<p>In updating a version of a dependency, I began getting a <code>java.lang.NoClassDefFoundError: javax/net/ssl/SSLSession</code>. javax.net.ssl.SSLSession is a JDK class found in rt.jar. How can updating a dependency cause a JDK jar to not be found?</p>\n<p>EDIT: the answer for me is that such a dep change <em>can't</em> cause this result. There was a base image change that was not known at the time of asking that was responsible.</p>\n<p>I am leaving the question up as I think the replies and comments could be helpful to someone coming here for a similar issue. To such people I recommend: double check you classpath and double check your jdk directory.</p>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"score":0,"creation_date":1332826195,"post_id":3526556,"comment_id":12606465,"body_markdown":"In case anyone wants to read more about this: https://hibernate.onjira.com/browse/HHH-2603","body":"In case anyone wants to read more about this: <a href=\"https://hibernate.onjira.com/browse/HHH-2603\" rel=\"nofollow noreferrer\">hibernate.onjira.com/browse/HHH-2603</a>"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":9,"creation_date":1335913108,"post_id":3526556,"comment_id":13423027,"body_markdown":"One of the many reasons to stay away from this awful framework called Hibernate. It is time for it to go sleep forever as the name implies.","body":"One of the many reasons to stay away from this awful framework called Hibernate. It is time for it to go sleep forever as the name implies."},{"owner":{"account_id":392986,"reputation":2452,"user_id":754587,"accept_rate":73,"display_name":"Emaborsa"},"score":2,"creation_date":1406270632,"post_id":3526556,"comment_id":38775951,"body_markdown":"@chrisapotek You don&#39;t like Hibernate...do you have any alternatives or do you write all the persistence stuff by hand?","body":"@chrisapotek You don&#39;t like Hibernate...do you have any alternatives or do you write all the persistence stuff by hand?"},{"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"score":1,"creation_date":1579715273,"post_id":3526556,"comment_id":105862151,"body_markdown":"How about mybatis?","body":"How about mybatis?"}],"answers":[{"tags":[],"owner":{"account_id":64910,"reputation":19196,"user_id":191367,"accept_rate":100,"display_name":"KeatsPeeks"},"down_vote_count":0,"up_vote_count":93,"is_accepted":true,"score":93,"last_activity_date":1660555768,"creation_date":1282255123,"answer_id":3526626,"question_id":3526556,"body_markdown":"You now have to use the Work API:\r\n\r\n    session.doWork(connection -&gt; doSomething(connection)); \r\n\r\nOr, in Java &lt; 8 :\r\n\r\n    session.doWork(\r\n        new Work() {\r\n            public void execute(Connection connection) throws SQLException \r\n            { \r\n                doSomething(connection); \r\n            }\r\n        }\r\n    );\r\n\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>You now have to use the Work API:</p>\n<pre><code>session.doWork(connection -&gt; doSomething(connection)); \n</code></pre>\n<p>Or, in Java &lt; 8 :</p>\n<pre><code>session.doWork(\n    new Work() {\n        public void execute(Connection connection) throws SQLException \n        { \n            doSomething(connection); \n        }\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1512536492,"creation_date":1282258866,"answer_id":3526956,"question_id":3526556,"body_markdown":"&gt; If `session.connect()` is now deprecated, how am I supposed to do that?\r\n\r\nYou have to use [`Session#doWork(Work)`][1] and the [`Work`][2] API, as mentioned in the Javadoc:\r\n\r\n&gt; [`connection()`][3]   \r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Deprecated.** (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use [`doWork(org.hibernate.jdbc.Work)`][4]; for opening a &#39;temporary Session&#39; use (TBD).\r\n\r\nYou have some time before Hibernate 4.x but, well, using a deprecated API somehow looks like this:\r\n\r\n![alt text][5]:)\r\n\r\n**Update:** According to **[RE: \\[hibernate-dev\\] Connection proxying][6]** on the hibernate-dev list, it seems that the initial intention of the deprecation was to discourage the use of `Session#connection()` because it was/is considered as a &quot;bad&quot; API, but it was supposed to stay at that time. I guess they changed their mind...\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork%28org.hibernate.jdbc.Work%29\r\n  [2]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/jdbc/Work.html\r\n  [3]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#connection()\r\n  [4]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork(org.hibernate.jdbc.Work)\r\n  [5]: http://i.stack.imgur.com/M2c5H.jpg\r\n  [6]: http://www.mail-archive.com/hibernate-dev@lists.jboss.org/msg00133.html","title":"session.connection() deprecated on Hibernate?","body":"<blockquote>\n  <p>If <code>session.connect()</code> is now deprecated, how am I supposed to do that?</p>\n</blockquote>\n\n<p>You have to use <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork%28org.hibernate.jdbc.Work%29\" rel=\"nofollow noreferrer\"><code>Session#doWork(Work)</code></a> and the <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/jdbc/Work.html\" rel=\"nofollow noreferrer\"><code>Work</code></a> API, as mentioned in the Javadoc:</p>\n\n<blockquote>\n  <p><a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#connection()\" rel=\"nofollow noreferrer\"><code>connection()</code></a><br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Deprecated.</strong> (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork(org.hibernate.jdbc.Work)\" rel=\"nofollow noreferrer\"><code>doWork(org.hibernate.jdbc.Work)</code></a>; for opening a 'temporary Session' use (TBD).</p>\n</blockquote>\n\n<p>You have some time before Hibernate 4.x but, well, using a deprecated API somehow looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/M2c5H.jpg\" alt=\"alt text\">:)</p>\n\n<p><strong>Update:</strong> According to <strong><a href=\"http://www.mail-archive.com/hibernate-dev@lists.jboss.org/msg00133.html\" rel=\"nofollow noreferrer\">RE: [hibernate-dev] Connection proxying</a></strong> on the hibernate-dev list, it seems that the initial intention of the deprecation was to discourage the use of <code>Session#connection()</code> because it was/is considered as a \"bad\" API, but it was supposed to stay at that time. I guess they changed their mind...</p>\n"},{"tags":[],"owner":{"account_id":22157,"reputation":3901,"user_id":54396,"accept_rate":80,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1335567203,"creation_date":1335567203,"answer_id":10358905,"question_id":3526556,"body_markdown":"`connection()` was just deprecated on the interface. It is still available on `SessionImpl`. You can do what Spring does and just call that one.\r\n\r\nHere is the code from `HibernateJpaDialect` in Spring 3.1.1\r\n\r\n    public Connection getConnection() {\r\n\t\t\ttry {\r\n\t\t\t\tif (connectionMethod == null) {\r\n\t\t\t\t\t// reflective lookup to bridge between Hibernate 3.x and 4.x\r\n\t\t\t\t\tconnectionMethod = this.session.getClass().getMethod(&quot;connection&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn (Connection) ReflectionUtils.invokeMethod(connectionMethod, this.session);\r\n\t\t\t}\r\n\t\t\tcatch (NoSuchMethodException ex) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Cannot find connection() method on Hibernate session&quot;, ex);\r\n\t\t\t}\r\n\t\t}","title":"session.connection() deprecated on Hibernate?","body":"<p><code>connection()</code> was just deprecated on the interface. It is still available on <code>SessionImpl</code>. You can do what Spring does and just call that one.</p>\n\n<p>Here is the code from <code>HibernateJpaDialect</code> in Spring 3.1.1</p>\n\n<pre><code>public Connection getConnection() {\n        try {\n            if (connectionMethod == null) {\n                // reflective lookup to bridge between Hibernate 3.x and 4.x\n                connectionMethod = this.session.getClass().getMethod(\"connection\");\n            }\n            return (Connection) ReflectionUtils.invokeMethod(connectionMethod, this.session);\n        }\n        catch (NoSuchMethodException ex) {\n            throw new IllegalStateException(\"Cannot find connection() method on Hibernate session\", ex);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1350121352,"creation_date":1346922216,"answer_id":12296555,"question_id":3526556,"body_markdown":"There&#39;s another option with still a lot of casts involved, but at least it doesn&#39;t need reflection, which will give you back compile time checking:\r\n\r\n\r\n    public Connection getConnection(final EntityManager em) {\r\n      HibernateEntityManager hem = (HibernateEntityManager) em;\r\n      SessionImplementor sim = (SessionImplementor) hem.getSession();\r\n      return sim.connection();\r\n    }\r\n\r\nYou could of course make that even &quot;prettier&quot; with a few `instanceof` checks, but the version above works for me.","title":"session.connection() deprecated on Hibernate?","body":"<p>There's another option with still a lot of casts involved, but at least it doesn't need reflection, which will give you back compile time checking:</p>\n\n<pre><code>public Connection getConnection(final EntityManager em) {\n  HibernateEntityManager hem = (HibernateEntityManager) em;\n  SessionImplementor sim = (SessionImplementor) hem.getSession();\n  return sim.connection();\n}\n</code></pre>\n\n<p>You could of course make that even \"prettier\" with a few <code>instanceof</code> checks, but the version above works for me.</p>\n"},{"tags":[],"owner":{"account_id":2544870,"reputation":9,"user_id":2209871,"display_name":"user2209871"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364263972,"creation_date":1364263972,"answer_id":15628153,"question_id":3526556,"body_markdown":"        Connection conn = null;\r\n        PreparedStatement preparedStatement = null;\r\n        try {\r\n            Session session = (org.hibernate.Session) em.getDelegate();\r\n            SessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\r\n            ConnectionProvider cp = sfi.getConnectionProvider();\r\n            conn = cp.getConnection();\r\n            preparedStatement = conn.prepareStatement(&quot;Select id, name from Custumer&quot;);\r\n            ResultSet rs = preparedStatement.executeQuery();\r\n            while (rs.next()) {\r\n                System.out.print(rs.getInt(1));\r\n                System.out.println(rs.getString(2));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (preparedStatement != null) {\r\n                preparedStatement.close();\r\n            }\r\n            if (conn != null) {\r\n                conn.close();\r\n            }\r\n        }","title":"session.connection() deprecated on Hibernate?","body":"<pre><code>    Connection conn = null;\n    PreparedStatement preparedStatement = null;\n    try {\n        Session session = (org.hibernate.Session) em.getDelegate();\n        SessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\n        ConnectionProvider cp = sfi.getConnectionProvider();\n        conn = cp.getConnection();\n        preparedStatement = conn.prepareStatement(\"Select id, name from Custumer\");\n        ResultSet rs = preparedStatement.executeQuery();\n        while (rs.next()) {\n            System.out.print(rs.getInt(1));\n            System.out.println(rs.getString(2));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (preparedStatement != null) {\n            preparedStatement.close();\n        }\n        if (conn != null) {\n            conn.close();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2722968,"reputation":443,"user_id":2348812,"display_name":"Mohammad Hosseini"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1367634942,"creation_date":1367633828,"answer_id":16369929,"question_id":3526556,"body_markdown":"Try This\r\n\r\n    ((SessionImpl)getSession()).connection()\r\n\r\nActuly getSession returns Session Interface type, you should see what is the original class for the session, type cast to the original class then get the connection.\r\n\r\nGOOD LUCK!","title":"session.connection() deprecated on Hibernate?","body":"<p>Try This</p>\n\n<pre><code>((SessionImpl)getSession()).connection()\n</code></pre>\n\n<p>Actuly getSession returns Session Interface type, you should see what is the original class for the session, type cast to the original class then get the connection.</p>\n\n<p>GOOD LUCK!</p>\n"},{"tags":[],"owner":{"account_id":3479223,"reputation":217,"user_id":2911732,"display_name":"segaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403080446,"creation_date":1382642714,"answer_id":19574810,"question_id":3526556,"body_markdown":"Try this:\r\n\r\n    public Connection getJavaSqlConnectionFromHibernateSession() {\r\n    \r\n\t\tSession session = this.getSession();\r\n\t\tSessionFactoryImplementor sessionFactoryImplementor = null;\r\n\t\tConnectionProvider connectionProvider = null;\r\n\t\tjava.sql.Connection connection = null;\r\n\t\ttry {\r\n\t\t\tsessionFactoryImplementor = (SessionFactoryImplementor) session.getSessionFactory();\r\n\t\t\tconnectionProvider = (ConnectionProvider) sessionFactoryImplementor.getConnectionProvider().getConnection();\r\n\t\t\tconnection = connectionProvider.getConnection();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn connection;\r\n\t}","title":"session.connection() deprecated on Hibernate?","body":"<p>Try this:</p>\n\n<pre><code>public Connection getJavaSqlConnectionFromHibernateSession() {\n\n    Session session = this.getSession();\n    SessionFactoryImplementor sessionFactoryImplementor = null;\n    ConnectionProvider connectionProvider = null;\n    java.sql.Connection connection = null;\n    try {\n        sessionFactoryImplementor = (SessionFactoryImplementor) session.getSessionFactory();\n        connectionProvider = (ConnectionProvider) sessionFactoryImplementor.getConnectionProvider().getConnection();\n        connection = connectionProvider.getConnection();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return connection;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3891230,"reputation":738,"user_id":3221366,"display_name":"shcherbak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390345950,"creation_date":1390345950,"answer_id":21271019,"question_id":3526556,"body_markdown":"For hibenate 4.3 try this:\r\n\r\n    public static Connection getConnection() {\r\n            EntityManager em = &lt;code to create em&gt;;\r\n            Session ses = (Session) em.getDelegate();\r\n            SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ses.getSessionFactory();\r\n            try{\r\n                connection = sessionFactory.getConnectionProvider().getConnection();\r\n            }catch(SQLException e){\r\n                ErrorMsgDialog.getInstance().setException(e);\r\n            }\r\n            return connection;\r\n        }","title":"session.connection() deprecated on Hibernate?","body":"<p>For hibenate 4.3 try this:</p>\n\n<pre><code>public static Connection getConnection() {\n        EntityManager em = &lt;code to create em&gt;;\n        Session ses = (Session) em.getDelegate();\n        SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ses.getSessionFactory();\n        try{\n            connection = sessionFactory.getConnectionProvider().getConnection();\n        }catch(SQLException e){\n            ErrorMsgDialog.getInstance().setException(e);\n        }\n        return connection;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982950,"reputation":296,"user_id":3284424,"display_name":"Louis-F&#233;lix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1418247298,"creation_date":1418247298,"answer_id":27411253,"question_id":3526556,"body_markdown":"Here is a way to do it in Hibernate 4.3, and it is not deprecated:\r\n\r\n\t  Session session = entityManager.unwrap(Session.class);\r\n\t  SessionImplementor sessionImplementor = (SessionImplementor) session;\r\n\t  Connection conn = sessionImplementor.getJdbcConnectionAccess().obtainConnection();","title":"session.connection() deprecated on Hibernate?","body":"<p>Here is a way to do it in Hibernate 4.3, and it is not deprecated:</p>\n\n<pre><code>  Session session = entityManager.unwrap(Session.class);\n  SessionImplementor sessionImplementor = (SessionImplementor) session;\n  Connection conn = sessionImplementor.getJdbcConnectionAccess().obtainConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":900115,"reputation":301,"user_id":936468,"display_name":"Simon Mbatia"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1584619020,"creation_date":1431856525,"answer_id":30285608,"question_id":3526556,"body_markdown":"This is what I use and works for me.\r\nDowncast the Session object into a SessionImpl and get the connection object easily:\r\n\r\n    SessionImpl sessionImpl = (SessionImpl) session;\r\n    Connection conn = sessionImpl.connection();\r\n\r\nwhere `session` is the name of your Hibernate session object.\r\n\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>This is what I use and works for me.\nDowncast the Session object into a SessionImpl and get the connection object easily:</p>\n\n<pre><code>SessionImpl sessionImpl = (SessionImpl) session;\nConnection conn = sessionImpl.connection();\n</code></pre>\n\n<p>where <code>session</code> is the name of your Hibernate session object.</p>\n"},{"tags":[],"owner":{"account_id":1611832,"reputation":173,"user_id":1490538,"display_name":"PETRo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1460637027,"creation_date":1460637027,"answer_id":36623189,"question_id":3526556,"body_markdown":"I found [this article][1]\r\n\r\n\r\n  [1]: http://myjourneyonjava.blogspot.md/2014/12/different-ways-to-get-connection-object.html\r\n\r\n    package com.varasofttech.client;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\r\n    import org.hibernate.engine.spi.SessionFactoryImplementor;\r\n    import org.hibernate.internal.SessionImpl;\r\n    import org.hibernate.jdbc.ReturningWork;\r\n    import org.hibernate.jdbc.Work;\r\n\r\n    import com.varasofttech.util.HibernateUtil;\r\n\r\n    public class Application {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        // Different ways to get the Connection object using Session\r\n        \r\n        SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        \r\n        // Way1 - using doWork method\r\n        session.doWork(new Work() {\r\n            @Override\r\n            public void execute(Connection connection) throws SQLException {\r\n                // do your work using connection\r\n            }\r\n            \r\n        });\r\n        \r\n        // Way2 - using doReturningWork method\r\n        Connection connection = session.doReturningWork(new ReturningWork&lt;Connection&gt;() {\r\n            @Override\r\n            public Connection execute(Connection conn) throws SQLException {\r\n                return conn;\r\n            }\r\n        });\r\n        \r\n        // Way3 - using Session Impl\r\n        SessionImpl sessionImpl = (SessionImpl) session;\r\n        connection = sessionImpl.connection();\r\n        // do your work using connection\r\n        \r\n        // Way4 - using connection provider\r\n        SessionFactoryImplementor sessionFactoryImplementation = (SessionFactoryImplementor) session.getSessionFactory();\r\n        ConnectionProvider connectionProvider = sessionFactoryImplementation.getConnectionProvider();\r\n        try {\r\n            connection = connectionProvider.getConnection();\r\n            // do your work using connection\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\nIt helped me.","title":"session.connection() deprecated on Hibernate?","body":"<p>I found <a href=\"http://myjourneyonjava.blogspot.md/2014/12/different-ways-to-get-connection-object.html\" rel=\"noreferrer\">this article</a></p>\n\n<pre><code>package com.varasofttech.client;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\nimport org.hibernate.engine.spi.SessionFactoryImplementor;\nimport org.hibernate.internal.SessionImpl;\nimport org.hibernate.jdbc.ReturningWork;\nimport org.hibernate.jdbc.Work;\n\nimport com.varasofttech.util.HibernateUtil;\n\npublic class Application {\n\npublic static void main(String[] args) {\n\n    // Different ways to get the Connection object using Session\n\n    SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\n    Session session = sessionFactory.openSession();\n\n    // Way1 - using doWork method\n    session.doWork(new Work() {\n        @Override\n        public void execute(Connection connection) throws SQLException {\n            // do your work using connection\n        }\n\n    });\n\n    // Way2 - using doReturningWork method\n    Connection connection = session.doReturningWork(new ReturningWork&lt;Connection&gt;() {\n        @Override\n        public Connection execute(Connection conn) throws SQLException {\n            return conn;\n        }\n    });\n\n    // Way3 - using Session Impl\n    SessionImpl sessionImpl = (SessionImpl) session;\n    connection = sessionImpl.connection();\n    // do your work using connection\n\n    // Way4 - using connection provider\n    SessionFactoryImplementor sessionFactoryImplementation = (SessionFactoryImplementor) session.getSessionFactory();\n    ConnectionProvider connectionProvider = sessionFactoryImplementation.getConnectionProvider();\n    try {\n        connection = connectionProvider.getConnection();\n        // do your work using connection\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>It helped me.</p>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472069730,"creation_date":1463088377,"answer_id":37197687,"question_id":3526556,"body_markdown":"With `Hibernate` &gt;= 5.0 you can get the `Connection` like this:\r\n\r\n    Connection c = sessionFactory.\r\n    getSessionFactoryOptions().getServiceRegistry().\r\n    getService(ConnectionProvider.class).getConnection();","title":"session.connection() deprecated on Hibernate?","body":"<p>With <code>Hibernate</code> >= 5.0 you can get the <code>Connection</code> like this:</p>\n\n<pre><code>Connection c = sessionFactory.\ngetSessionFactoryOptions().getServiceRegistry().\ngetService(ConnectionProvider.class).getConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593703752,"creation_date":1593703752,"answer_id":62699882,"question_id":3526556,"body_markdown":"Here is a Java 8 method to return the `Connection` used by an `EntityManager` without actually doing anything with it yet:\r\n\r\n    private Connection getConnection(EntityManager em) throws SQLException {\r\n    \tAtomicReference&lt;Connection&gt; atomicReference = new AtomicReference&lt;Connection&gt;();\r\n        final Session session = em.unwrap(Session.class);\r\n        session.doWork(connection -&gt; atomicReference.set(connection));\r\n        return atomicReference.get();\r\n    }\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>Here is a Java 8 method to return the <code>Connection</code> used by an <code>EntityManager</code> without actually doing anything with it yet:</p>\n<pre><code>private Connection getConnection(EntityManager em) throws SQLException {\n    AtomicReference&lt;Connection&gt; atomicReference = new AtomicReference&lt;Connection&gt;();\n    final Session session = em.unwrap(Session.class);\n    session.doWork(connection -&gt; atomicReference.set(connection));\n    return atomicReference.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5151005,"reputation":7131,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705954,"creation_date":1691705954,"answer_id":76879641,"question_id":3526556,"body_markdown":"If you need a return value from inside the lambda, don&#39;t overlook `doReturningWork()`\r\n\r\n    try {\r\n      return session.doReturningWork(connection -&gt; {\r\n        try (CallableStatement cs = connection.prepareCall(...)) {\r\n          cs.doSomethingPseudoMethod();\r\n          cs.executeUpdate();\r\n          return cs;\r\n        }\r\n      });\r\n    } catch (SQLException sqlException) {\r\n      ...\r\n    }","title":"session.connection() deprecated on Hibernate?","body":"<p>If you need a return value from inside the lambda, don't overlook <code>doReturningWork()</code></p>\n<pre><code>try {\n  return session.doReturningWork(connection -&gt; {\n    try (CallableStatement cs = connection.prepareCall(...)) {\n      cs.doSomethingPseudoMethod();\n      cs.executeUpdate();\n      return cs;\n    }\n  });\n} catch (SQLException sqlException) {\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94499,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":3526626,"answer_count":14,"score":86,"last_activity_date":1691705954,"creation_date":1282254552,"question_id":3526556,"body_markdown":"We need to be able to get the associated `java.sql.Connection` of a hibernate session. No other connection will work, as this connection may be associated with a running transaction. \r\n\r\nIf session.connection() is now deprecated, how am I supposed to do that?","title":"session.connection() deprecated on Hibernate?","body":"<p>We need to be able to get the associated <code>java.sql.Connection</code> of a hibernate session. No other connection will work, as this connection may be associated with a running transaction. </p>\n\n<p>If session.connection() is now deprecated, how am I supposed to do that?</p>\n"},{"tags":["java","spring","spring-batch","batch-processing"],"owner":{"account_id":28876844,"reputation":1,"user_id":22117195,"display_name":"Juan Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691705902,"creation_date":1691705902,"question_id":76879640,"body_markdown":"I&#180;m kind of new with Spring Batch and I&#180;m wondering if there is a way to read a StoredProcedure with IN parameters. \r\n\r\nI have already used StoredProcedureItemReader as follows, but I don&#180;t know how to set params\r\n\r\n```\r\n@Bean\r\n    public StoredProcedureItemReader&lt;School&gt; reader(DataSource dataSource) {\r\n        StoredProcedureItemReader&lt;School&gt; reader = new StoredProcedureItemReader&lt;&gt;();\r\n            reader.setDataSource(dataSource);\r\n            reader.setProcedureName(&quot;SP_CLASS&quot;);\r\n            reader.setRowMapper(new SchoolMapper());\r\n        return reader;\r\n    }\r\n```\r\n\r\nMy StoredProcedure:\r\n\r\n```\r\nDELIMITER $$\r\nCREATE PROCEDURE SP_CLASS(IN classlIDParameter INT)\r\nBEGIN\r\n\tSELECT * FROM students WHERE classId = classlIDParameter ;\r\nEND $$\r\nDELIMITER ;\r\n\r\nCALL SP_CLASS(40589);   --Calling the SP\r\n```\r\n\r\nNot sure how to put the 40589 from Spring Batch. I already have a file with all the &quot;ClassIds&quot;. Not sure what is the best approach for this problem","title":"Setting params with StoredProcedureItemReader Spring Batch","body":"<p>I´m kind of new with Spring Batch and I´m wondering if there is a way to read a StoredProcedure with IN parameters.</p>\n<p>I have already used StoredProcedureItemReader as follows, but I don´t know how to set params</p>\n<pre><code>@Bean\n    public StoredProcedureItemReader&lt;School&gt; reader(DataSource dataSource) {\n        StoredProcedureItemReader&lt;School&gt; reader = new StoredProcedureItemReader&lt;&gt;();\n            reader.setDataSource(dataSource);\n            reader.setProcedureName(&quot;SP_CLASS&quot;);\n            reader.setRowMapper(new SchoolMapper());\n        return reader;\n    }\n</code></pre>\n<p>My StoredProcedure:</p>\n<pre><code>DELIMITER $$\nCREATE PROCEDURE SP_CLASS(IN classlIDParameter INT)\nBEGIN\n    SELECT * FROM students WHERE classId = classlIDParameter ;\nEND $$\nDELIMITER ;\n\nCALL SP_CLASS(40589);   --Calling the SP\n</code></pre>\n<p>Not sure how to put the 40589 from Spring Batch. I already have a file with all the &quot;ClassIds&quot;. Not sure what is the best approach for this problem</p>\n"},{"tags":["java","collections","loops"],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1250340991,"creation_date":1250332739,"answer_id":1281617,"question_id":1281607,"body_markdown":"&lt;strike&gt;no, there isn&#39;t. Using only JDK classes you cannot do it better.&lt;/strike&gt; [Check my second answer][1] \r\n\r\n**EDIT**\r\n\r\ntry google collection library [Lists.trasform][2]:\r\n\r\n    List&lt;String&gt; out = Lists.transform(in, new Function&lt;String, String&gt;() {\r\n\r\n        public String apply(String s) {\r\n            return String.format(&quot;(%s)&quot;, s);\r\n        }\r\n    });\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281757#1281757\r\n  [2]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p><strike>no, there isn't. Using only JDK classes you cannot do it better.</strike> <a href=\"https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281757#1281757\">Check my second answer</a> </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>try google collection library <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html\" rel=\"nofollow noreferrer\">Lists.trasform</a>:</p>\n\n<pre><code>List&lt;String&gt; out = Lists.transform(in, new Function&lt;String, String&gt;() {\n\n    public String apply(String s) {\n        return String.format(\"(%s)\", s);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45517,"reputation":808,"user_id":134201,"display_name":"MarrLiss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250332937,"creation_date":1250332937,"answer_id":1281623,"question_id":1281607,"body_markdown":"You can use [CollectionUtils.transform][1] from Apache commons collections.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>You can use <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\" rel=\"nofollow noreferrer\">CollectionUtils.transform</a> from Apache commons collections.</p>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250333887,"creation_date":1250333255,"answer_id":1281631,"question_id":1281607,"body_markdown":"Use [Apache Commons CollectionUtils][1]:\r\n\r\n    List l = someList;\r\n    CollectionUtils.transform(l, new Transformer() {\r\n        public Object transform(Object o)\r\n    \t{\r\n            String s = (String) o;\r\n    \t    return &quot;(&quot; + s + &quot;)&quot;;\r\n    \t}\r\n    });\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform%28java.util.Collection,%20org.apache.commons.collections.Transformer%29","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Use <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform%28java.util.Collection,%20org.apache.commons.collections.Transformer%29\" rel=\"nofollow noreferrer\">Apache Commons CollectionUtils</a>:</p>\n\n<pre><code>List l = someList;\nCollectionUtils.transform(l, new Transformer() {\n    public Object transform(Object o)\n    {\n        String s = (String) o;\n        return \"(\" + s + \")\";\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13185,"reputation":34155,"user_id":26334,"accept_rate":54,"display_name":"Draemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250333809,"creation_date":1250333809,"answer_id":1281642,"question_id":1281607,"body_markdown":"It&#39;s sounds to me like you&#39;re trying to use functional idioms with Java. While this can be achieved using third party libs and functor (as others have suggested), I would recommend programming Java using Java idioms or use a functional language. If you want a JVM-compatible functional language, look at [Scala][1].\r\n\r\n [1]: http://www.scala-lang.org/","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>It's sounds to me like you're trying to use functional idioms with Java. While this can be achieved using third party libs and functor (as others have suggested), I would recommend programming Java using Java idioms or use a functional language. If you want a JVM-compatible functional language, look at <a href=\"http://www.scala-lang.org/\" rel=\"nofollow noreferrer\">Scala</a>.</p>\n"},{"tags":[],"owner":{"account_id":52280,"reputation":61,"user_id":156178,"display_name":"user156178"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1250334224,"creation_date":1250334224,"answer_id":1281653,"question_id":1281607,"body_markdown":"That&#39;s actually a Java shortage which has been discussed a lot. In many languages you can do that in just one line of code using closures (or code blocks). For instance, in Groovy you can write it as follows:\r\n\r\n    newCollection = collection.collect { &quot;($it)&quot; }\r\n\r\nI wish, we can do this in java 7.","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>That's actually a Java shortage which has been discussed a lot. In many languages you can do that in just one line of code using closures (or code blocks). For instance, in Groovy you can write it as follows:</p>\n\n<pre><code>newCollection = collection.collect { \"($it)\" }\n</code></pre>\n\n<p>I wish, we can do this in java 7.</p>\n"},{"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250335648,"creation_date":1250335648,"answer_id":1281696,"question_id":1281607,"body_markdown":"You want a [Map function][1]. Those are available (among other things) in [functional java][2]. Example code:\r\n\r\n    import fj.F;\r\n\timport fj.data.List;\r\n\timport static fj.data.List.*;\r\n\timport static fj.pre.Show.listShow;\r\n\timport static fj.pre.Show.stringShow;\r\n\r\n\timport static java.lang.String.format;\r\n\r\n\tpublic class Test {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t        List&lt;String&gt; a = list(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\t        List&lt;String&gt; b = a.map(new F&lt;String, String&gt;() {\r\n\r\n\t            public String f(String s) {\r\n\t                return format(&quot;(%s)&quot;, s);\r\n\t            }\r\n\r\n\t        });\r\n\r\n\t        listShow(stringShow).println(a);\r\n\t        listShow(stringShow).println(b);\r\n\r\n\t    }\r\n\r\n\t}\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Map_(higher-order_function)\r\n  [2]: http://functionaljava.org/","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>You want a <a href=\"http://en.wikipedia.org/wiki/Map_(higher-order_function)\" rel=\"nofollow noreferrer\">Map function</a>. Those are available (among other things) in <a href=\"http://functionaljava.org/\" rel=\"nofollow noreferrer\">functional java</a>. Example code:</p>\n\n<pre><code>import fj.F;\nimport fj.data.List;\nimport static fj.data.List.*;\nimport static fj.pre.Show.listShow;\nimport static fj.pre.Show.stringShow;\n\nimport static java.lang.String.format;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; a = list(\"a\", \"b\", \"c\");\n        List&lt;String&gt; b = a.map(new F&lt;String, String&gt;() {\n\n            public String f(String s) {\n                return format(\"(%s)\", s);\n            }\n\n        });\n\n        listShow(stringShow).println(a);\n        listShow(stringShow).println(b);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1250340914,"creation_date":1250337791,"answer_id":1281757,"question_id":1281607,"body_markdown":"[my previous answer was *functional oriented*][1], now, meanwhile I&#39;m cooking &quot;spaghetti al pomodoro&quot;, I&#39;m thinking about a more *object oriented* approach. \r\n\r\nWhat do you think about an anonymous class implementation that overrides it&#39;s iterator with one that enclose it&#39;s element around ()?\r\n\r\n    public static &lt;T&gt; Collection&lt;String&gt; wrap(final Collection&lt;T&gt; collection) {\r\n        final Iterator&lt;T&gt; iterator = collection.iterator();\r\n        return new AbstractCollection&lt;String&gt;() {\r\n\r\n            @Override\r\n            public int size() {\r\n                return collection.size();\r\n            }\r\n\r\n            @Override\r\n            public Iterator&lt;String&gt; iterator() {\r\n                return new Iterator&lt;String&gt;() {\r\n\r\n                    public boolean hasNext() {\r\n                        return iterator.hasNext();\r\n                    }\r\n\r\n                    public String next() {\r\n                        return String.format(&quot;(%s)&quot;, iterator.next());\r\n                    }\r\n\r\n                    public void remove() {\r\n                        iterator.remove();\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n&lt;h2&gt;demo&lt;/h2&gt;\r\n\r\n    List&lt;String&gt; in = Arrays.asList(&quot;aaa&quot;,&quot;bbb&quot;);\r\n    List&lt;String&gt; out = new ArrayList&lt;String&gt;(wrap(in));\r\n    System.out.println(out);\r\n    \r\noutputs:\r\n\r\n&lt;pre&gt;\r\n[(aaa), (bbb)]\r\n&lt;/pre&gt;\r\n\r\nBTW this only uses JDK classes and uses no loops! \r\n\r\n  [1]: https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281617#1281617","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p><a href=\"https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281617#1281617\">my previous answer was <em>functional oriented</em></a>, now, meanwhile I'm cooking \"spaghetti al pomodoro\", I'm thinking about a more <em>object oriented</em> approach. </p>\n\n<p>What do you think about an anonymous class implementation that overrides it's iterator with one that enclose it's element around ()?</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;String&gt; wrap(final Collection&lt;T&gt; collection) {\n    final Iterator&lt;T&gt; iterator = collection.iterator();\n    return new AbstractCollection&lt;String&gt;() {\n\n        @Override\n        public int size() {\n            return collection.size();\n        }\n\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return new Iterator&lt;String&gt;() {\n\n                public boolean hasNext() {\n                    return iterator.hasNext();\n                }\n\n                public String next() {\n                    return String.format(\"(%s)\", iterator.next());\n                }\n\n                public void remove() {\n                    iterator.remove();\n                }\n            };\n        }\n    };\n}\n</code></pre>\n\n<h2>demo</h2>\n\n<pre><code>List&lt;String&gt; in = Arrays.asList(\"aaa\",\"bbb\");\nList&lt;String&gt; out = new ArrayList&lt;String&gt;(wrap(in));\nSystem.out.println(out);\n</code></pre>\n\n<p>outputs:</p>\n\n<pre>\n[(aaa), (bbb)]\n</pre>\n\n<p>BTW this only uses JDK classes and uses no loops! </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250346947,"creation_date":1250346947,"answer_id":1282018,"question_id":1281607,"body_markdown":"&gt; How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?\r\n\r\nWhy would you want to? As Java does not have closures, this is often more complicated, non-standard and more difficult to read.\r\n\r\nYou will note that your example is shorter and simpler than the alternative solutions and it uses standard java. \r\n\r\nBTW: loops are still used, just not directly by you so the distinction is an illusion.","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<blockquote>\n  <p>How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?</p>\n</blockquote>\n\n<p>Why would you want to? As Java does not have closures, this is often more complicated, non-standard and more difficult to read.</p>\n\n<p>You will note that your example is shorter and simpler than the alternative solutions and it uses standard java. </p>\n\n<p>BTW: loops are still used, just not directly by you so the distinction is an illusion.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252741726,"creation_date":1252741726,"answer_id":1414579,"question_id":1281607,"body_markdown":"Check out the lambdaj library\r\n\r\nhttp://code.google.com/p/lambdaj/\r\n\r\nand you will discover a huge set of handful methods to manipulate collection in a DSL style without writing a single explicit loop","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Check out the lambdaj library</p>\n\n<p><a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow noreferrer\">http://code.google.com/p/lambdaj/</a></p>\n\n<p>and you will discover a huge set of handful methods to manipulate collection in a DSL style without writing a single explicit loop</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705429,"creation_date":1691705111,"answer_id":76879581,"question_id":1281607,"body_markdown":"Old question, but Java has evolved:\r\n```\r\n// At least Java-16\r\nvar res = collection.stream().map(&quot;(%s)&quot;::formatted).toList();\r\n\r\n// Or with Java-8\r\nList&lt;String&gt; res =\r\n    collection.stream().map(s -&gt; &quot;(&quot; + s + &quot;)&quot;).collect(Collectors.toList());\r\n```","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Old question, but Java has evolved:</p>\n<pre><code>// At least Java-16\nvar res = collection.stream().map(&quot;(%s)&quot;::formatted).toList();\n\n// Or with Java-8\nList&lt;String&gt; res =\n    collection.stream().map(s -&gt; &quot;(&quot; + s + &quot;)&quot;).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9953,"reputation":1772,"user_id":18597,"accept_rate":80,"display_name":"Markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1281617,"answer_count":10,"score":3,"last_activity_date":1691705429,"creation_date":1250332322,"question_id":1281607,"body_markdown":"How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?\r\n\r\nFor example, I&#39;m having a `Collection&lt;String&gt;` and want to surround all Strings by parentheses.\r\n\r\nWith a loop I would do this:\r\n\r\n\r\n    Iterable&lt;String&gt; collection = getCollection();\r\n    ArrayList&lt;String&gt; newCollection = new ArrayList&lt;String&gt;();    \r\n    for(String str : collection) \r\n        newCollection.add(&quot;(&quot; + str + &quot;)&quot;);\r\n\r\nThere has to be a more elegant solution.\r\n\r\nEDIT: Use of third party utilities is allowed :)","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?</p>\n\n<p>For example, I'm having a <code>Collection&lt;String&gt;</code> and want to surround all Strings by parentheses.</p>\n\n<p>With a loop I would do this:</p>\n\n<pre><code>Iterable&lt;String&gt; collection = getCollection();\nArrayList&lt;String&gt; newCollection = new ArrayList&lt;String&gt;();    \nfor(String str : collection) \n    newCollection.add(\"(\" + str + \")\");\n</code></pre>\n\n<p>There has to be a more elegant solution.</p>\n\n<p>EDIT: Use of third party utilities is allowed :)</p>\n"},{"tags":["java","jenkins","jenkins-plugins","jenkins-pipeline"],"comments":[{"owner":{"account_id":5145677,"reputation":1629,"user_id":4121744,"display_name":"bto"},"score":0,"creation_date":1525295300,"post_id":50140565,"comment_id":87305337,"body_markdown":"Are you able to log onto the node (preferably as the same user that Jenkins is trying to use)? If so, what&#39;s the output of: `command -v java; ls -al $(command -v java); echo $JAVA_HOME; java -version`","body":"Are you able to log onto the node (preferably as the same user that Jenkins is trying to use)? If so, what&#39;s the output of: <code>command -v java; ls -al $(command -v java); echo $JAVA_HOME; java -version</code>"},{"owner":{"account_id":12873756,"reputation":253,"user_id":9311213,"accept_rate":71,"display_name":"Jeremyapple"},"score":0,"creation_date":1525295702,"post_id":50140565,"comment_id":87305513,"body_markdown":"@bto - the output is `/usr/bin/java\nlrwxrwxrwx 1 root root 22 Sep 26  2016 /usr/bin/java -&gt; /etc/alternatives/java\n\nopenjdk version &quot;1.8.0_111&quot;\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-3~12.04-b14)\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)`","body":"@bto - the output is <code>&#47;usr&#47;bin&#47;java lrwxrwxrwx 1 root root 22 Sep 26  2016 &#47;usr&#47;bin&#47;java -&gt; &#47;etc&#47;alternatives&#47;java  openjdk version &quot;1.8.0_111&quot; OpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-3~12.04-b14) OpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)</code>"}],"answers":[{"tags":[],"owner":{"account_id":10966300,"reputation":350,"user_id":8057929,"display_name":"pranay jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525283487,"creation_date":1525283487,"answer_id":50140727,"question_id":50140565,"body_markdown":"You can set JAVA_HOME environment variable for the node by configuring it.\r\n\r\n1. Click on Manage Jenkins\r\n2. Click on Manage Nodes\r\n3. Select the Node on which you are running your build\r\n4. Click on configure.\r\n5. Add environment variable to it (JAVA_HOME)","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>You can set JAVA_HOME environment variable for the node by configuring it.</p>\n\n<ol>\n<li>Click on Manage Jenkins</li>\n<li>Click on Manage Nodes</li>\n<li>Select the Node on which you are running your build</li>\n<li>Click on configure.</li>\n<li>Add environment variable to it (JAVA_HOME)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5145677,"reputation":1629,"user_id":4121744,"display_name":"bto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1525355436,"creation_date":1525355436,"answer_id":50156707,"question_id":50140565,"body_markdown":"You can explicitly set the path to the java executable in the node launch configuration:\r\n\r\n1. Click on Manage Jenkins\r\n1. Click on Manage Nodes\r\n1. Click on the node you are trying to launch\r\n1. Click on configure\r\n1. Under **Launch method** there is a button labeled **Advanced...**; click it\r\n1. Find the option **JavaPath** and set it to the full path to the java executable you want to use; like:\r\n\r\n        /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin/java\r\n\r\n1. Save\r\n1. Relaunch the node","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>You can explicitly set the path to the java executable in the node launch configuration:</p>\n\n<ol>\n<li>Click on Manage Jenkins</li>\n<li>Click on Manage Nodes</li>\n<li>Click on the node you are trying to launch</li>\n<li>Click on configure</li>\n<li>Under <strong>Launch method</strong> there is a button labeled <strong>Advanced...</strong>; click it</li>\n<li><p>Find the option <strong>JavaPath</strong> and set it to the full path to the java executable you want to use; like:</p>\n\n<pre><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin/java\n</code></pre></li>\n<li><p>Save</p></li>\n<li>Relaunch the node</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":300204,"reputation":127,"user_id":607219,"display_name":"G. Stevens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705388,"creation_date":1691705388,"answer_id":76879601,"question_id":50140565,"body_markdown":"For Windows, set the path to the Java executable you want to use in the *jenkins-slave.xml* file that gets created in the folder where the jenkins jar file is located.\r\n\r\nFor example:\r\n\r\n    &lt;service&gt;\r\n      &lt;id&gt;jenkinsslave-C__jenkins&lt;/id&gt;\r\n      &lt;name&gt;Jenkins agent (jenkinsslave-C__jenkins)&lt;/name&gt;\r\n      &lt;description&gt;This service runs an agent for Jenkins automation server.&lt;/description&gt;\r\n      &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_192\\bin\\java.exe&lt;/executable&gt;\r\n","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>For Windows, set the path to the Java executable you want to use in the <em>jenkins-slave.xml</em> file that gets created in the folder where the jenkins jar file is located.</p>\n<p>For example:</p>\n<pre><code>&lt;service&gt;\n  &lt;id&gt;jenkinsslave-C__jenkins&lt;/id&gt;\n  &lt;name&gt;Jenkins agent (jenkinsslave-C__jenkins)&lt;/name&gt;\n  &lt;description&gt;This service runs an agent for Jenkins automation server.&lt;/description&gt;\n  &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_192\\bin\\java.exe&lt;/executable&gt;\n</code></pre>\n"}],"owner":{"account_id":12873756,"reputation":253,"user_id":9311213,"accept_rate":71,"display_name":"Jeremyapple"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50156707,"answer_count":3,"score":4,"last_activity_date":1691705388,"creation_date":1525282795,"question_id":50140565,"body_markdown":"I am running into below error while launching an agent on my Jenkins 2.107.2 ,looks like this is a popular error and based on my homework it sounds like need to launch the agent using 1.8,I installed 1.8 and my /usr/lib/jvm folder looks like below,however when I launch the agent it still using java 1.7.0, how do I force Jenkins to launch the agent using 1.8?\r\n\r\n**/usr/lib/jvm**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError:\r\n\r\n    [05/02/18 10:17:59] [SSH] Starting sftp client.\r\n    [05/02/18 10:17:59] [SSH] Copying latest slave.jar...\r\n    [05/02/18 10:17:59] [SSH] Copied 762,466 bytes.\r\n    Expanded the channel window size to 4MB\r\n    [05/02/18 10:17:59] [SSH] Starting slave process: cd &quot;/home/username&quot; &amp;&amp; /usr/lib/jvm/java-1.7.0-openjdk-amd64/bin/java  -jar slave.jar\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher : Unsupported major.minor version 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:803)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n    Slave JVM has terminated. Exit code=1\r\n    [05/02/18 10:17:59] Launch failed - cleaning up connection\r\n    [05/02/18 10:17:59] [SSH] Connection closed\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VT5K.png","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>I am running into below error while launching an agent on my Jenkins 2.107.2 ,looks like this is a popular error and based on my homework it sounds like need to launch the agent using 1.8,I installed 1.8 and my /usr/lib/jvm folder looks like below,however when I launch the agent it still using java 1.7.0, how do I force Jenkins to launch the agent using 1.8?</p>\n\n<p><strong>/usr/lib/jvm</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1VT5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VT5K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Error:</p>\n\n<pre><code>[05/02/18 10:17:59] [SSH] Starting sftp client.\n[05/02/18 10:17:59] [SSH] Copying latest slave.jar...\n[05/02/18 10:17:59] [SSH] Copied 762,466 bytes.\nExpanded the channel window size to 4MB\n[05/02/18 10:17:59] [SSH] Starting slave process: cd \"/home/username\" &amp;&amp; /usr/lib/jvm/java-1.7.0-openjdk-amd64/bin/java  -jar slave.jar\nException in thread \"main\" java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\nSlave JVM has terminated. Exit code=1\n[05/02/18 10:17:59] Launch failed - cleaning up connection\n[05/02/18 10:17:59] [SSH] Connection closed\n</code></pre>\n"},{"tags":["java","tomcat","spring-boot"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1517494703,"post_id":48564452,"comment_id":84125571,"body_markdown":"How is your logging configured?","body":"How is your logging configured?"},{"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"score":0,"creation_date":1517497530,"post_id":48564452,"comment_id":84127578,"body_markdown":"Is this relevant? I want everything logged except this exception. Thanks for your interest :)","body":"Is this relevant? I want everything logged except this exception. Thanks for your interest :)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1517498184,"post_id":48564452,"comment_id":84128034,"body_markdown":"Of course it&#39;s relevant. You have a question about logging, and you won&#39;t even tell you how your logging is configured? Which logging framework are you using? Where are you seeing the logged lines above, `catalina.out`?","body":"Of course it&#39;s relevant. You have a question about logging, and you won&#39;t even tell you how your logging is configured? Which logging framework are you using? Where are you seeing the logged lines above, <code>catalina.out</code>?"},{"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"score":0,"creation_date":1517927882,"post_id":48564452,"comment_id":84287939,"body_markdown":"As I said, I want every exception logged but this, wherever they come from. Logging framework: SLF4J","body":"As I said, I want every exception logged but this, wherever they come from. Logging framework: SLF4J"}],"answers":[{"tags":[],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525502541,"creation_date":1525502541,"answer_id":50186554,"question_id":48564452,"body_markdown":"To prevent this exception in logs you can try some changes in your code that performs push on client. Here is my example. I listen to api called and then it called I push socket to the client. I think you could understand the code:\r\n\r\n     @GetMapping(&quot;/api/status/{groupId}/{groupstatusId}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    @ExceptionHandler(IOException.class)\r\n    public void listenToNewStatus(@PathVariable Long groupId, @PathVariable String groupstatusId, IOException e) {\r\n        Group group = groupDTOService.findById(groupId);\r\n        if (group != null) {\r\n            if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), &quot;Broken pipe&quot;)) {\r\n                logger.info(&quot;broken pipe&quot;);\r\n            } else {\r\n                template.convertAndSend(&quot;/topic/callstatus/&quot; + group.getUser().getId(), groupstatusId);\r\n            }\r\n\r\n        }\r\nIn this code to prevent broken pipe I add annotation @ExceptionHandler(IOException.class) and check if exception contains broken pipe then nothing else send message to client.\r\n\r\n","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>To prevent this exception in logs you can try some changes in your code that performs push on client. Here is my example. I listen to api called and then it called I push socket to the client. I think you could understand the code:</p>\n\n<pre><code> @GetMapping(\"/api/status/{groupId}/{groupstatusId}\")\n@ResponseStatus(HttpStatus.NO_CONTENT)\n@ExceptionHandler(IOException.class)\npublic void listenToNewStatus(@PathVariable Long groupId, @PathVariable String groupstatusId, IOException e) {\n    Group group = groupDTOService.findById(groupId);\n    if (group != null) {\n        if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), \"Broken pipe\")) {\n            logger.info(\"broken pipe\");\n        } else {\n            template.convertAndSend(\"/topic/callstatus/\" + group.getUser().getId(), groupstatusId);\n        }\n\n    }\n</code></pre>\n\n<p>In this code to prevent broken pipe I add annotation @ExceptionHandler(IOException.class) and check if exception contains broken pipe then nothing else send message to client.</p>\n"},{"tags":[],"owner":{"account_id":4185417,"reputation":86,"user_id":3429290,"display_name":"Oskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654158747,"creation_date":1654158747,"answer_id":72473123,"question_id":48564452,"body_markdown":"I see that this question is quite old, but in case someone is still looking for an answer, there are a few blog posts on how to mute ClientAbortException so it doesn&#39;t flood your logs.\r\n\r\nhttps://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>I see that this question is quite old, but in case someone is still looking for an answer, there are a few blog posts on how to mute ClientAbortException so it doesn't flood your logs.</p>\n<p><a href=\"https://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/\" rel=\"nofollow noreferrer\">https://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/</a></p>\n"}],"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8889,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1691704825,"creation_date":1517493340,"question_id":48564452,"body_markdown":"I am using Server-Sent events on one browser, and a spring boot application on the back end. When I shot down the client, I get the next exception:\r\n\r\n    14:35:09.458 [http-nio-8084-exec-25] ERROR o.a.c.c.C.[Tomcat].[localhost] - Exception Processing ErrorPage[errorCode=0, location=/error]\r\n    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\r\n\r\nI understand this is the expected behavior; on the other hand, my application works fine, but I have awful logs full of those exceptions. I guess this is caused by Tomcat. Is there a way to catch these exceptions, or at least to prevent Tomcat from writing this exception stack trace to the log? I mean, without modifying Tomcat&#39;s code.","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>I am using Server-Sent events on one browser, and a spring boot application on the back end. When I shot down the client, I get the next exception:</p>\n\n<pre><code>14:35:09.458 [http-nio-8084-exec-25] ERROR o.a.c.c.C.[Tomcat].[localhost] - Exception Processing ErrorPage[errorCode=0, location=/error]\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n</code></pre>\n\n<p>I understand this is the expected behavior; on the other hand, my application works fine, but I have awful logs full of those exceptions. I guess this is caused by Tomcat. Is there a way to catch these exceptions, or at least to prevent Tomcat from writing this exception stack trace to the log? I mean, without modifying Tomcat's code.</p>\n"},{"tags":["java","spring-boot","intellij-idea","jetbrains-ide","intellij-plugin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1628838813,"post_id":68767259,"comment_id":121532435,"body_markdown":"What IDE version do you use? Seems plugin isn&#39;t supported in the latest versions.","body":"What IDE version do you use? Seems plugin isn&#39;t supported in the latest versions."},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1628839164,"post_id":68767259,"comment_id":121532551,"body_markdown":"The version that I use is IntelliJ IDEA 2020.1.4 (Community Edition). If this plugin is not supported, is there an alternate one that they have proposed.","body":"The version that I use is IntelliJ IDEA 2020.1.4 (Community Edition). If this plugin is not supported, is there an alternate one that they have proposed."},{"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"score":0,"creation_date":1628843312,"post_id":68767259,"comment_id":121534056,"body_markdown":"Downgade your intellij version or just create the project in https://start.spring.io/ and import int in your workspace","body":"Downgade your intellij version or just create the project in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and import int in your workspace"},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1628847190,"post_id":68767259,"comment_id":121535580,"body_markdown":"That is one solution which I have already used but my main focus was how to do same within IDE. Is there a new plugin which is provided instead of spring assistant because making the plug-in incompatible for higher version doesn’t make much sense.","body":"That is one solution which I have already used but my main focus was how to do same within IDE. Is there a new plugin which is provided instead of spring assistant because making the plug-in incompatible for higher version doesn’t make much sense."},{"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"score":0,"creation_date":1628877357,"post_id":68767259,"comment_id":121547077,"body_markdown":"The provided plugin its different from the plugin you pointed out, the provided with the utilimate version it&#39;s made by jetbrains. You are using an older version of Intellij trying to use a plugin abandoded  3 years ago. You cannot pretend that a 3 years old plugin works with an IDE that came out the last year. JetBrains, changes a lot of things on each realease, so its normal that some plugins may not work, properly or work at all. By the way i posted a fork of the original plugin. Should work with your version.","body":"The provided plugin its different from the plugin you pointed out, the provided with the utilimate version it&#39;s made by jetbrains. You are using an older version of Intellij trying to use a plugin abandoded  3 years ago. You cannot pretend that a 3 years old plugin works with an IDE that came out the last year. JetBrains, changes a lot of things on each realease, so its normal that some plugins may not work, properly or work at all. By the way i posted a fork of the original plugin. Should work with your version."}],"answers":[{"tags":[],"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676652233,"creation_date":1628877116,"answer_id":68776508,"question_id":68767259,"body_markdown":"You can use \r\n\r\nhttps://github.com/eltonsandre/intellij-spring-assistant\r\n\r\nIts a fork of the original plugin, according to the comments [here][1], seems to work with 2020.3.1, 2021.1(those are the tested versions, check in the comment section). \r\n\r\nHere the [changelog][2] of the forked plugin\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10229-spring-assistant/reviews\r\n  [2]: https://github.com/eltonsandre/intellij-spring-assistant/blob/19010a17a8cf5d59515b2bd8eccb215cb87dd6ba/CHANGELOG.md","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>You can use</p>\n<p><a href=\"https://github.com/eltonsandre/intellij-spring-assistant\" rel=\"nofollow noreferrer\">https://github.com/eltonsandre/intellij-spring-assistant</a></p>\n<p>Its a fork of the original plugin, according to the comments <a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant/reviews\" rel=\"nofollow noreferrer\">here</a>, seems to work with 2020.3.1, 2021.1(those are the tested versions, check in the comment section).</p>\n<p>Here the <a href=\"https://github.com/eltonsandre/intellij-spring-assistant/blob/19010a17a8cf5d59515b2bd8eccb215cb87dd6ba/CHANGELOG.md\" rel=\"nofollow noreferrer\">changelog</a> of the forked plugin</p>\n"},{"tags":[],"owner":{"account_id":9326848,"reputation":402,"user_id":6923823,"display_name":"Elton Sandr&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691704337,"creation_date":1648565549,"answer_id":71664297,"question_id":68767259,"body_markdown":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.\r\n\r\nthe same can be found directly in the search for Intellij or in the marketplace.\r\n\r\n[Spring Boot Helper](https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant)\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.</p>\n<p>the same can be found directly in the search for Intellij or in the marketplace.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant\" rel=\"nofollow noreferrer\">Spring Boot Helper</a></p>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8359,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691704337,"creation_date":1628832822,"question_id":68767259,"body_markdown":"I want to create a Spring Boot project from scratch in IntelliJ IDE. As there is also a way to use Spring Initializr to create a Spring Boot project and then download the zip and import to IDE.\r\n\r\nAs it is bit time consuming process to do that every-time, so I checked over the internet to see if there exists a plugin for the same which automatically loads Spring Initializr onto IntelliJ and found there is one named with Spring Assistant. \r\n\r\nBut this plugin is not visible in IntelliJ Plugins Marketplace. So I went over to JetBrains site for this plugin and landed on this page. This url is the download link for this plugin and is available for all versions. I am using the Community version.\r\n\r\nhttps://plugins.jetbrains.com/plugin/10229-spring-assistant/versions\r\n\r\nAfter downloading and importing the plugin, Spring Assistant option was visible under the `File -&gt; New Project` section. But after specifying the project details, the dependency screen was not loading up (shown in last image) and I also get errors at the bottom of my IDE which says the plugin doesn&#39;t belongs to JetBrains. After this I also seem to feel IntelliJ IDE getting hanged. I have attached images for better understanding. \r\n\r\nAs anyone else faced a similar problem, because if this doesn&#39;t work then the only option is to go to Initializr every time.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETL5Z.png\r\n  [2]: https://i.stack.imgur.com/kR6C7.jpg\r\n  [3]: https://i.stack.imgur.com/be7xU.png","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>I want to create a Spring Boot project from scratch in IntelliJ IDE. As there is also a way to use Spring Initializr to create a Spring Boot project and then download the zip and import to IDE.</p>\n<p>As it is bit time consuming process to do that every-time, so I checked over the internet to see if there exists a plugin for the same which automatically loads Spring Initializr onto IntelliJ and found there is one named with Spring Assistant.</p>\n<p>But this plugin is not visible in IntelliJ Plugins Marketplace. So I went over to JetBrains site for this plugin and landed on this page. This url is the download link for this plugin and is available for all versions. I am using the Community version.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant/versions\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/10229-spring-assistant/versions</a></p>\n<p>After downloading and importing the plugin, Spring Assistant option was visible under the <code>File -&gt; New Project</code> section. But after specifying the project details, the dependency screen was not loading up (shown in last image) and I also get errors at the bottom of my IDE which says the plugin doesn't belongs to JetBrains. After this I also seem to feel IntelliJ IDE getting hanged. I have attached images for better understanding.</p>\n<p>As anyone else faced a similar problem, because if this doesn't work then the only option is to go to Initializr every time.</p>\n<p><a href=\"https://i.stack.imgur.com/ETL5Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETL5Z.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kR6C7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kR6C7.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/be7xU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be7xU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","recursion","mergesort"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690192054,"post_id":76753032,"comment_id":135314041,"body_markdown":"Too bad that you are a member for more than two years, but without any trace so far. Is this question going to last? Or will it be deleted once answered?","body":"Too bad that you are a member for more than two years, but without any trace so far. Is this question going to last? Or will it be deleted once answered?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690201354,"post_id":76753032,"comment_id":135315947,"body_markdown":"Find the smallest data set which reproduces the problem, and step through your code with the debugger.","body":"Find the smallest data set which reproduces the problem, and step through your code with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690409477,"creation_date":1690409477,"answer_id":76775372,"question_id":76753032,"body_markdown":"Try this fix (there may be other issues):\r\n\r\n        int temp [] = new int[high-low+1];","title":"Recursive MergeSort","body":"<p>Try this fix (there may be other issues):</p>\n<pre><code>    int temp [] = new int[high-low+1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6170834,"reputation":1988,"user_id":4809143,"display_name":"moreON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690410102,"creation_date":1690410102,"answer_id":76775409,"question_id":76753032,"body_markdown":"```\r\n        //copying elements to array\r\n        for(int i=0; i&lt;temp.length; i++){\r\n            arr[i]=temp[i];\r\n        }\r\n```\r\nIs copying back into the original array starting at `0` instead of `low`. And also copying all of `temp`, not just the portion of it that you&#39;re populating during that call.","title":"Recursive MergeSort","body":"<pre><code>        //copying elements to array\n        for(int i=0; i&lt;temp.length; i++){\n            arr[i]=temp[i];\n        }\n</code></pre>\n<p>Is copying back into the original array starting at <code>0</code> instead of <code>low</code>. And also copying all of <code>temp</code>, not just the portion of it that you're populating during that call.</p>\n"},{"tags":[],"owner":{"account_id":5823909,"reputation":136952,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691704306,"creation_date":1691704306,"answer_id":76879514,"question_id":76753032,"body_markdown":"There are 2 problems in the code:\r\n\r\n* `int temp[] = new int[high + 1];` defines a temporary array that is way too large. It should be:\r\n\r\n        int temp[] = new int[high - low + 1];\r\n\r\n* the loop to copy the temporary array back to the original array is incorrect too: the destination index should be offset by `low` entries:\r\n  ```\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            arr[low + i] = temp[i];\r\n        }\r\n  ```","title":"Recursive MergeSort","body":"<p>There are 2 problems in the code:</p>\n<ul>\n<li><p><code>int temp[] = new int[high + 1];</code> defines a temporary array that is way too large. It should be:</p>\n<pre><code>  int temp[] = new int[high - low + 1];\n</code></pre>\n</li>\n<li><p>the loop to copy the temporary array back to the original array is incorrect too: the destination index should be offset by <code>low</code> entries:</p>\n<pre><code>      for (int i = 0; i &lt; temp.length; i++) {\n          arr[low + i] = temp[i];\n      }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20959094,"reputation":11,"user_id":15398910,"display_name":"Itasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691704306,"creation_date":1690190431,"question_id":76753032,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.io.*; \r\n\r\npublic class Main {\r\n    public static void merge(int[]arr, int low, int mid, int high) {\r\n        int temp[] = new int[high + 1];\r\n        int index = 0;\r\n        int left = low;\r\n        int right = mid + 1;\r\n        while (left &lt;= mid &amp;&amp; right &lt;= high) {\r\n            if (arr[left] &lt;= arr[right]) {\r\n                temp[index] = arr[left];\r\n                left++;\r\n            } else {\r\n                temp[index] = arr[right];\r\n                right++;\r\n            }\r\n            index++;\r\n        }\r\n        //for exhaustion of any of the parts\r\n        while (left &lt;= mid ){\r\n            temp[index] = arr[left];\r\n            left++;\r\n            index++;\r\n        }\r\n        while (right &lt;= high ){\r\n            temp[index] = arr[right];\r\n            right++;\r\n            index++;\r\n        }\r\n        //copying elements to array\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            arr[i] = temp[i];\r\n        }\r\n        //printing arr\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static void mergesort(int[]arr, int low, int high) {\r\n        //base case\r\n        if (low &gt;= high) {\r\n            return;\r\n        }\r\n        int mid = (low + high) / 2;\r\n        mergesort(arr, low, mid);\r\n        mergesort(arr, mid + 1, high);\r\n        merge(arr, low, mid, high);\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t    int[] arr = { 2, 3, 46, 5, 8, 7, 6 };\r\n\t    int n = arr.length;\r\n\t\tmergesort(arr, 0, n - 1);\r\n\t}\r\n}\r\n```\r\n\r\nI implemented `mergesort` using recursion, please help identify what&#39;s wrong with my code? It is giving first three elements sorted then some 0s and then again sorted elements and then unsorted.\r\n\r\nRecursion not working properly and giving sorted array results why?","title":"Recursive MergeSort","body":"<pre><code>import java.util.*;\nimport java.io.*; \n\npublic class Main {\n    public static void merge(int[]arr, int low, int mid, int high) {\n        int temp[] = new int[high + 1];\n        int index = 0;\n        int left = low;\n        int right = mid + 1;\n        while (left &lt;= mid &amp;&amp; right &lt;= high) {\n            if (arr[left] &lt;= arr[right]) {\n                temp[index] = arr[left];\n                left++;\n            } else {\n                temp[index] = arr[right];\n                right++;\n            }\n            index++;\n        }\n        //for exhaustion of any of the parts\n        while (left &lt;= mid ){\n            temp[index] = arr[left];\n            left++;\n            index++;\n        }\n        while (right &lt;= high ){\n            temp[index] = arr[right];\n            right++;\n            index++;\n        }\n        //copying elements to array\n        for (int i = 0; i &lt; temp.length; i++) {\n            arr[i] = temp[i];\n        }\n        //printing arr\n        for (int i = 0; i &lt; temp.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n    }\n\n    public static void mergesort(int[]arr, int low, int high) {\n        //base case\n        if (low &gt;= high) {\n            return;\n        }\n        int mid = (low + high) / 2;\n        mergesort(arr, low, mid);\n        mergesort(arr, mid + 1, high);\n        merge(arr, low, mid, high);\n    }\n    \n    public static void main(String[] args) {\n        int[] arr = { 2, 3, 46, 5, 8, 7, 6 };\n        int n = arr.length;\n        mergesort(arr, 0, n - 1);\n    }\n}\n</code></pre>\n<p>I implemented <code>mergesort</code> using recursion, please help identify what's wrong with my code? It is giving first three elements sorted then some 0s and then again sorted elements and then unsorted.</p>\n<p>Recursion not working properly and giving sorted array results why?</p>\n"},{"tags":["java","caching","junit"],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691703143,"creation_date":1691703143,"answer_id":76879424,"question_id":76879334,"body_markdown":"I don&#39;t see that elements will be removed between the two puts and the size-call.","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>I don't see that elements will be removed between the two puts and the size-call.</p>\n"},{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691703334,"creation_date":1691703334,"answer_id":76879433,"question_id":76879334,"body_markdown":"Your cleanup method is triggered when the client calls `get()`, but not when it calls `size()`. In other words, when you call `size()`, your cache actually holds two key -&gt; value pairs, and the expired record is removed only when you call `get()`.\r\n\r\nThis should not fail:\r\n\r\n    @Test\r\n    public void getExpired() {\r\n        TestClock clock = new TestClock();\r\n    \r\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\r\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\r\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\r\n    \r\n        clock.offset(Duration.ofMillis(3000));\r\n    \r\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\r\n        assertEquals(1, expired.size());\r\n    }","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>Your cleanup method is triggered when the client calls <code>get()</code>, but not when it calls <code>size()</code>. In other words, when you call <code>size()</code>, your cache actually holds two key -&gt; value pairs, and the expired record is removed only when you call <code>get()</code>.</p>\n<p>This should not fail:</p>\n<pre><code>@Test\npublic void getExpired() {\n    TestClock clock = new TestClock();\n\n    SimpleAgedCache expired = new SimpleAgedCache(clock);\n    expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\n    expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\n\n    clock.offset(Duration.ofMillis(3000));\n\n    assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\n    assertEquals(1, expired.size());\n}\n</code></pre>\n"}],"owner":{"account_id":29202222,"reputation":13,"user_id":22372080,"display_name":"gdanylov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76879433,"answer_count":2,"score":1,"last_activity_date":1691703334,"creation_date":1691701989,"question_id":76879334,"body_markdown":"Simple Aged Cache:\r\nI have created a simple aged cache and I have got it to pass all unit tests except getExpired. I have tried running the cleanExpiredRecords method after the put, and before, really not sure how to fix this. Any suggestions would be appreciated.\r\n\r\n```\r\npackage io.collective;\r\n\r\nimport java.time.Clock;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SimpleAgedCache {\r\n    private final Clock clock;\r\n    private final Map&lt;Object, CacheEntry&gt; cacheMap;\r\n\r\n    public SimpleAgedCache(Clock clock) {\r\n        this.clock = clock;\r\n        this.cacheMap = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public SimpleAgedCache() {\r\n        this(Clock.system(Clock.systemDefaultZone().getZone()));\r\n    }\r\n\r\n    public void put(Object key, Object value, int retentionInMillis) {\r\n        if (key != null &amp;&amp; retentionInMillis &gt; 0){\r\n            long expirationTime = clock.millis() + retentionInMillis;\r\n            cacheMap.put(key, new CacheEntry(value, expirationTime));\r\n        }\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return cacheMap.isEmpty();\r\n    }\r\n\r\n    public int size() {\r\n        return cacheMap.size();\r\n    }\r\n\r\n    public Object get(Object key) {\r\n        cleanExpiredRecords();\r\n        CacheEntry entry = cacheMap.get(key);\r\n        if (entry != null){\r\n            return entry.value;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void cleanExpiredRecords(){\r\n        long currentTime = clock.millis();\r\n        cacheMap.entrySet().removeIf(entry -&gt; entry.getValue().isExpired(currentTime));\r\n    }\r\n\r\n    private static class CacheEntry{\r\n        Object value;\r\n        long expirationTime;\r\n\r\n        CacheEntry(Object value, long expirationTime){\r\n            this.value = value;\r\n            this.expirationTime = expirationTime;\r\n        }\r\n\r\n        boolean isExpired(long currentTime){\r\n            return currentTime &gt;= expirationTime;\r\n        }\r\n\r\n        boolean isNotExpired(long currentTime){\r\n            return !isExpired(currentTime);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Junit test that it keeps failing is below. I am trying to get my code to pass the unit test. However, it keeps returning 2 when the expected answer is 1.\r\nExpected :1\r\nActual   :2\r\n\r\n```\r\n@Test\r\n    public void getExpired() {\r\n        TestClock clock = new TestClock();\r\n\r\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\r\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\r\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\r\n\r\n        clock.offset(Duration.ofMillis(3000));\r\n\r\n        assertEquals(1, expired.size());\r\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\r\n    }\r\n```\r\n","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>Simple Aged Cache:\nI have created a simple aged cache and I have got it to pass all unit tests except getExpired. I have tried running the cleanExpiredRecords method after the put, and before, really not sure how to fix this. Any suggestions would be appreciated.</p>\n<pre><code>package io.collective;\n\nimport java.time.Clock;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SimpleAgedCache {\n    private final Clock clock;\n    private final Map&lt;Object, CacheEntry&gt; cacheMap;\n\n    public SimpleAgedCache(Clock clock) {\n        this.clock = clock;\n        this.cacheMap = new HashMap&lt;&gt;();\n    }\n\n    public SimpleAgedCache() {\n        this(Clock.system(Clock.systemDefaultZone().getZone()));\n    }\n\n    public void put(Object key, Object value, int retentionInMillis) {\n        if (key != null &amp;&amp; retentionInMillis &gt; 0){\n            long expirationTime = clock.millis() + retentionInMillis;\n            cacheMap.put(key, new CacheEntry(value, expirationTime));\n        }\n    }\n\n    public boolean isEmpty() {\n        return cacheMap.isEmpty();\n    }\n\n    public int size() {\n        return cacheMap.size();\n    }\n\n    public Object get(Object key) {\n        cleanExpiredRecords();\n        CacheEntry entry = cacheMap.get(key);\n        if (entry != null){\n            return entry.value;\n        }\n        return null;\n    }\n\n    private void cleanExpiredRecords(){\n        long currentTime = clock.millis();\n        cacheMap.entrySet().removeIf(entry -&gt; entry.getValue().isExpired(currentTime));\n    }\n\n    private static class CacheEntry{\n        Object value;\n        long expirationTime;\n\n        CacheEntry(Object value, long expirationTime){\n            this.value = value;\n            this.expirationTime = expirationTime;\n        }\n\n        boolean isExpired(long currentTime){\n            return currentTime &gt;= expirationTime;\n        }\n\n        boolean isNotExpired(long currentTime){\n            return !isExpired(currentTime);\n        }\n    }\n}\n</code></pre>\n<p>The Junit test that it keeps failing is below. I am trying to get my code to pass the unit test. However, it keeps returning 2 when the expected answer is 1.\nExpected :1\nActual   :2</p>\n<pre><code>@Test\n    public void getExpired() {\n        TestClock clock = new TestClock();\n\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\n\n        clock.offset(Duration.ofMillis(3000));\n\n        assertEquals(1, expired.size());\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\n    }\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","aop","aspect"],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691702534,"creation_date":1691702534,"answer_id":76879371,"question_id":76878468,"body_markdown":"Just annotate your `ComponentConfig` class with `@EnableAspectJAutoProxy` and your interception will work","title":"i cannot see the aspect logs when i run the method to be intercepted","body":"<p>Just annotate your <code>ComponentConfig</code> class with <code>@EnableAspectJAutoProxy</code> and your interception will work</p>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691702534,"creation_date":1691692426,"question_id":76878468,"body_markdown":"thats my code and this is only showing the logs as method is executed in intellij\r\nINFO: Publishing comment: Demo comment. Also added the dependencies but still i cant see whats the error.\r\n```\r\npackage com.alpha;\r\n\r\nimport com.alpha.exampleApp.Comment;\r\nimport com.alpha.servoces.CommentServoce;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var context = new AnnotationConfigApplicationContext(ComponentConfig.class);\r\n\r\n        var comment = new Comment();\r\n        comment.setAuthor(&quot;Laurentiu&quot;);\r\n        comment.setText(&quot;Demo comment&quot;);\r\n\r\n        var commentServoce = context.getBean(CommentServoce.class);\r\n        commentServoce.publishComment(comment);\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nthis is aspect class-&gt;\r\n```\r\npackage com.alpha;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.logging.Logger;\r\n\r\n@Aspect\r\npublic class LogAspect {\r\n    private Logger logger = Logger.getLogger(LogAspect.class.getName());\r\n\r\n    @Around(&quot;execution(* com.alpha.servoces.*.*(..))&quot;)\r\n    public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            String methodName = joinPoint.getSignature().getName();\r\n            Object[] arguments = joinPoint.getArgs();\r\n            logger.info(&quot;Method &quot; + methodName +\r\n                    &quot; with parameters &quot; + Arrays.asList(arguments) +\r\n                    &quot; will execute&quot;);\r\n            Object returnedByMethod = joinPoint.proceed();\r\n            logger.info(&quot;Method executed and returned &quot; + returnedByMethod);\r\n            return returnedByMethod;\r\n\r\n    }\r\n}\r\n\r\n```\r\nthis is my config class-&gt;\r\n```\r\npackage com.alpha;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;com.alpha.servoces&quot;)\r\npublic class ComponentConfig {\r\n    @Bean\r\n    public LogAspect loggingAspect(){\r\n        LogAspect logAspect = new LogAspect();\r\n        return logAspect;\r\n    }\r\n}\r\n\r\n```\r\nthis is the class in which i want the method intercepted-&gt;\r\n```\r\npackage com.alpha.servoces;\r\nimport com.alpha.exampleApp.Comment;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.logging.Logger;\r\n\r\n@Service\r\npublic class CommentServoce {\r\n    private Logger logger = Logger.getLogger(CommentServoce.class.getName());\r\n\r\n    public String publishComment(Comment comment) {\r\n        logger.info(&quot;Publishing comment: &quot; + comment.getText());\r\n        return &quot;SUCCESS&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni wanted to see the logs by intercepting the method through aspects in spring but i couldnt see the logs","title":"i cannot see the aspect logs when i run the method to be intercepted","body":"<p>thats my code and this is only showing the logs as method is executed in intellij\nINFO: Publishing comment: Demo comment. Also added the dependencies but still i cant see whats the error.</p>\n<pre><code>package com.alpha;\n\nimport com.alpha.exampleApp.Comment;\nimport com.alpha.servoces.CommentServoce;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class Main {\n    public static void main(String[] args) {\n        var context = new AnnotationConfigApplicationContext(ComponentConfig.class);\n\n        var comment = new Comment();\n        comment.setAuthor(&quot;Laurentiu&quot;);\n        comment.setText(&quot;Demo comment&quot;);\n\n        var commentServoce = context.getBean(CommentServoce.class);\n        commentServoce.publishComment(comment);\n\n\n    }\n}\n\n</code></pre>\n<p>this is aspect class-&gt;</p>\n<pre><code>package com.alpha;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\nimport java.util.Arrays;\nimport java.util.logging.Logger;\n\n@Aspect\npublic class LogAspect {\n    private Logger logger = Logger.getLogger(LogAspect.class.getName());\n\n    @Around(&quot;execution(* com.alpha.servoces.*.*(..))&quot;)\n    public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\n            String methodName = joinPoint.getSignature().getName();\n            Object[] arguments = joinPoint.getArgs();\n            logger.info(&quot;Method &quot; + methodName +\n                    &quot; with parameters &quot; + Arrays.asList(arguments) +\n                    &quot; will execute&quot;);\n            Object returnedByMethod = joinPoint.proceed();\n            logger.info(&quot;Method executed and returned &quot; + returnedByMethod);\n            return returnedByMethod;\n\n    }\n}\n\n</code></pre>\n<p>this is my config class-&gt;</p>\n<pre><code>package com.alpha;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\n@ComponentScan(basePackages = &quot;com.alpha.servoces&quot;)\npublic class ComponentConfig {\n    @Bean\n    public LogAspect loggingAspect(){\n        LogAspect logAspect = new LogAspect();\n        return logAspect;\n    }\n}\n\n</code></pre>\n<p>this is the class in which i want the method intercepted-&gt;</p>\n<pre><code>package com.alpha.servoces;\nimport com.alpha.exampleApp.Comment;\nimport org.springframework.stereotype.Service;\nimport java.util.logging.Logger;\n\n@Service\npublic class CommentServoce {\n    private Logger logger = Logger.getLogger(CommentServoce.class.getName());\n\n    public String publishComment(Comment comment) {\n        logger.info(&quot;Publishing comment: &quot; + comment.getText());\n        return &quot;SUCCESS&quot;;\n    }\n}\n\n</code></pre>\n<p>i wanted to see the logs by intercepting the method through aspects in spring but i couldnt see the logs</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-iceberg"],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691702329,"creation_date":1691009489,"question_id":76823432,"body_markdown":"I am connecting to Iceberg running in Spark and querying tables. I am able to SELECT and INSERT from spark-shell. But face issues when executing the same statements from Java code\r\n\r\n```\r\nSparkConf sparkConf = new SparkConf().setAppName(&quot;my app&quot;);\r\nsparkConf.setMaster(&quot;spark://localhost:7077&quot;); // my spark is running in k8s with port-forward\r\nsparkConf.set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;);\r\nsparkConf.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\r\n...\r\n// Bunch of Iceberg+Nessie related config properties\r\n...\r\n\r\nSparkSession spark = SparkSession\r\n                .builder()\r\n                .config(sparkConf)\r\n                .getOrCreate();\r\nspark.sql(&quot;use my;&quot;); // works\r\nspark.sql(&quot;SELECT * FROM my.table LIMIT 1;&quot;);  // works\r\nspark.sql(&quot;INSERT INTO my.table (id, value) VALUES (1, &#39;test&#39;);&quot;)  // Does not work. see errors below\r\n```\r\n\r\nHere&#39;s what I see:\r\n```\r\nInitial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\r\n```\r\n\r\nBut the error is misleading cuz there&#39;re enough resources.\r\nI tried adding the `spark.driver.host` like so:\r\n```\r\nsparkConf.set(&quot;spark.driver.host&quot;, &quot;localhost&quot;);\r\nsparkConf.set(&quot;spark.driver.port&quot;, &quot;7077&quot;);\r\n```\r\nBut this only results in the job exiting immediately and requesting a new worker.\r\n\r\n\r\nHow do I fix this so that I can run my query? Why is it only happening for INSERT queries?","title":"Spark SQL SELECT works but INSERT fails due to Spark issue","body":"<p>I am connecting to Iceberg running in Spark and querying tables. I am able to SELECT and INSERT from spark-shell. But face issues when executing the same statements from Java code</p>\n<pre><code>SparkConf sparkConf = new SparkConf().setAppName(&quot;my app&quot;);\nsparkConf.setMaster(&quot;spark://localhost:7077&quot;); // my spark is running in k8s with port-forward\nsparkConf.set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;);\nsparkConf.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\n...\n// Bunch of Iceberg+Nessie related config properties\n...\n\nSparkSession spark = SparkSession\n                .builder()\n                .config(sparkConf)\n                .getOrCreate();\nspark.sql(&quot;use my;&quot;); // works\nspark.sql(&quot;SELECT * FROM my.table LIMIT 1;&quot;);  // works\nspark.sql(&quot;INSERT INTO my.table (id, value) VALUES (1, 'test');&quot;)  // Does not work. see errors below\n</code></pre>\n<p>Here's what I see:</p>\n<pre><code>Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\n</code></pre>\n<p>But the error is misleading cuz there're enough resources.\nI tried adding the <code>spark.driver.host</code> like so:</p>\n<pre><code>sparkConf.set(&quot;spark.driver.host&quot;, &quot;localhost&quot;);\nsparkConf.set(&quot;spark.driver.port&quot;, &quot;7077&quot;);\n</code></pre>\n<p>But this only results in the job exiting immediately and requesting a new worker.</p>\n<p>How do I fix this so that I can run my query? Why is it only happening for INSERT queries?</p>\n"},{"tags":["java","animation","javafx","css-animations","refresh"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1691217800,"post_id":76840406,"comment_id":135465016,"body_markdown":"[This](https://stackoverflow.com/questions/9908402/rotate-orbit-node-around-another-object-javafx-2) may help.","body":"<a href=\"https://stackoverflow.com/questions/9908402/rotate-orbit-node-around-another-object-javafx-2\">This</a> may help."},{"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"score":0,"creation_date":1691218366,"post_id":76840406,"comment_id":135465059,"body_markdown":"I am changing the position of the circle, not rotating it.","body":"I am changing the position of the circle, not rotating it."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1691219955,"post_id":76840406,"comment_id":135465191,"body_markdown":"I did not run the code, but the linked question talks about rotating a circle around a rectangle.  That would require changing position.","body":"I did not run the code, but the linked question talks about rotating a circle around a rectangle.  That would require changing position."},{"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"score":1,"creation_date":1691220301,"post_id":76840406,"comment_id":135465206,"body_markdown":"Really, and it worx! THX!!","body":"Really, and it worx! THX!!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691220545,"post_id":76840406,"comment_id":135465222,"body_markdown":"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx#51561957","body":"<a href=\"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx#51561957\" title=\"how to make the ball bounce off the walls in javafx%2351561957\">stackoverflow.com/questions/20022889/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1691225021,"post_id":76840406,"comment_id":135465575,"body_markdown":"I would use a Group or Pane instead of a StackPane, then apply a RotateTransform with a pivot point, and have the animation modify the angle property of the transform l[like this](https://gist.github.com/jewelsea/1475424).  But that is just me.  If you made the StackPane solution work how you want and are happy with the solution, that is fine.","body":"I would use a Group or Pane instead of a StackPane, then apply a RotateTransform with a pivot point, and have the animation modify the angle property of the transform l<a href=\"https://gist.github.com/jewelsea/1475424\" rel=\"nofollow noreferrer\">like this</a>.  But that is just me.  If you made the StackPane solution work how you want and are happy with the solution, that is fine."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1691225533,"post_id":76840406,"comment_id":135465623,"body_markdown":"Another way to do this is a PathTransition with a circular path and an orientation of ORTHOGONAL_TO_TANGENT or NONE.  Try it with a square on the animated path and different orientation types if interested.","body":"Another way to do this is a PathTransition with a circular path and an orientation of ORTHOGONAL_TO_TANGENT or NONE.  Try it with a square on the animated path and different orientation types if interested."}],"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691701994,"creation_date":1691216857,"question_id":76840406,"body_markdown":"I am trying a basic animation to move around a circle, but the stage is not showing the circle&#39;s new position.\r\n\r\n    package circler;\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.*;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.layout.*;\r\n    import javafx.util.Duration;\r\n\r\n    public class Main extends Application {\r\n        Circle circle;\r\n        int distance = 100;\r\n        int angle = 0;\r\n\r\n        public void start(Stage primaryStage) {\r\n            circle = new Circle();\r\n            circle.setCenterX(400);\r\n            circle.setCenterY(400);\r\n            circle.setRadius(10);\r\n            circle.setFill(Color.RED);\r\n\r\n            Timeline timeline = new Timeline(new KeyFrame(Duration.seconds(0.1), e -&gt; {\r\n                    angle++;\r\n                    angle %= 360;\r\n                    setPosition();\r\n                    primaryStage.show();\r\n            }));\r\n\r\n            timeline.setCycleCount(Animation.INDEFINITE);\r\n            timeline.play();\r\n\r\n            primaryStage.setScene(new Scene(new StackPane(circle), 800, 800));\r\n            primaryStage.show();\r\n        }\r\n\r\n        private int calc(boolean sin) {\r\n            return (int) (sin ? distance * Math.sin(Math.toRadians(angle)) : distance * Math.cos(Math.toRadians(angle)));\r\n        }\r\n        \r\n        private void setPosition() {\r\n            circle.setCenterX(circle.getScene().getHeight() / 2 + calc(true));\r\n            circle.setCenterY(circle.getScene().getHeight() / 2 + calc(false));\r\n            System.out.println(circle.getCenterX());\r\n        }\r\n    }\r\n\r\nI tried every page which tells about refreshing it. I want the circle to move 100ms and the stage should show it at the new position.","title":"Why isn&#39;t javafx stage refreshing?","body":"<p>I am trying a basic animation to move around a circle, but the stage is not showing the circle's new position.</p>\n<pre><code>package circler;\n\nimport javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.*;\nimport javafx.stage.Stage;\nimport javafx.scene.layout.*;\nimport javafx.util.Duration;\n\npublic class Main extends Application {\n    Circle circle;\n    int distance = 100;\n    int angle = 0;\n\n    public void start(Stage primaryStage) {\n        circle = new Circle();\n        circle.setCenterX(400);\n        circle.setCenterY(400);\n        circle.setRadius(10);\n        circle.setFill(Color.RED);\n\n        Timeline timeline = new Timeline(new KeyFrame(Duration.seconds(0.1), e -&gt; {\n                angle++;\n                angle %= 360;\n                setPosition();\n                primaryStage.show();\n        }));\n\n        timeline.setCycleCount(Animation.INDEFINITE);\n        timeline.play();\n\n        primaryStage.setScene(new Scene(new StackPane(circle), 800, 800));\n        primaryStage.show();\n    }\n\n    private int calc(boolean sin) {\n        return (int) (sin ? distance * Math.sin(Math.toRadians(angle)) : distance * Math.cos(Math.toRadians(angle)));\n    }\n    \n    private void setPosition() {\n        circle.setCenterX(circle.getScene().getHeight() / 2 + calc(true));\n        circle.setCenterY(circle.getScene().getHeight() / 2 + calc(false));\n        System.out.println(circle.getCenterX());\n    }\n}\n</code></pre>\n<p>I tried every page which tells about refreshing it. I want the circle to move 100ms and the stage should show it at the new position.</p>\n"},{"tags":["java","android","twilio","twilio-api"],"answers":[{"tags":[],"owner":{"account_id":104520,"reputation":21516,"user_id":279395,"accept_rate":96,"display_name":"Marcos Placona"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549367949,"creation_date":1549367949,"answer_id":54533942,"question_id":54512235,"body_markdown":"Twilio developer evangelist here. As you&#39;ve noticed, Android will have trouble using our Java SDK as one of its dependencies is the Apache library for HTTP. What you want to do though is use our [Android SDK][1] for making calls.\r\n\r\nYou can see an example of how to use it [here][2], as well as go through the [quickstart][3] that will take you through the entire process.\r\n\r\nIn your example, you are using the Java SDK which beings a security problem into your application, as its now hard coding your account credentials into your final APK. I explain why that is not a good idea in this [blog post][4].\r\n\r\nHope this helps you.\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/voice/voip-sdk\r\n  [2]: https://www.twilio.com/docs/voice/voip-sdk/get-started\r\n  [3]: https://www.twilio.com/docs/voice/voip-sdk/get-started#quickstart\r\n  [4]: https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html","title":"Facing some error in implementing twilio programmable voice call in java android studio","body":"<p>Twilio developer evangelist here. As you've noticed, Android will have trouble using our Java SDK as one of its dependencies is the Apache library for HTTP. What you want to do though is use our <a href=\"https://www.twilio.com/docs/voice/voip-sdk\" rel=\"nofollow noreferrer\">Android SDK</a> for making calls.</p>\n\n<p>You can see an example of how to use it <a href=\"https://www.twilio.com/docs/voice/voip-sdk/get-started\" rel=\"nofollow noreferrer\">here</a>, as well as go through the <a href=\"https://www.twilio.com/docs/voice/voip-sdk/get-started#quickstart\" rel=\"nofollow noreferrer\">quickstart</a> that will take you through the entire process.</p>\n\n<p>In your example, you are using the Java SDK which beings a security problem into your application, as its now hard coding your account credentials into your final APK. I explain why that is not a good idea in this <a href=\"https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n\n<p>Hope this helps you.</p>\n"}],"owner":{"account_id":11955309,"reputation":41,"user_id":8747835,"display_name":"JUNAID ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1691701975,"creation_date":1549267954,"question_id":54512235,"body_markdown":"I&#39;m implementing Twilio programmable voice call in java android studio as description they gave in their docs but facing some error when run\r\n\r\nSee the exception I received below:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\r\n        \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:144)\r\n        \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:109)\r\n        \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:116)\r\n        \tat com.twilio.http.NetworkHttpClient.&lt;init&gt;(NetworkHttpClient.java:58)\r\n        \tat com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\r\n        \tat com.twilio.Twilio.getRestClient(Twilio.java:122)\r\n        \tat com.twilio.base.Creator.create(Creator.java:45)\r\n        \tat com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n\r\n\r\nWhen I tried to exclude http libraries like this:\r\n\r\n```\r\nimplementation(group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n\r\nimplementation(group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n\r\nimplementation(group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n```\r\n\r\nthe exception changed to:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ProtocolVersion\r\n    \tat com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\r\n    \tat com.twilio.Twilio.getRestClient(Twilio.java:122)\r\n    \tat com.twilio.base.Creator.create(Creator.java:45)\r\n    \tat com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.ProtocolVersion\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 9 more\r\n\r\n#### Code\r\n```java\r\npublic static void main(String[] args) throws URISyntaxException {\r\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n    String from = &quot;+18572632XXX&quot;;\r\n    String to = &quot;+92**********&quot;;\r\n\r\n    Call call = Call.creator(new PhoneNumber(to), new PhoneNumber(from),\r\n            new URI(&quot;http://demo.twilio.com/docs/voice.xml&quot;)).create();\r\n\r\n\r\n    System.out.println(call.getSid());\r\n}\r\n```\r\n\r\nFor the above code, I&#39;ve included the following libraries\r\n\r\n\r\n    implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;\r\n    implementation group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;\r\n    implementation group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;\r\n\r\nAs i have not much experience in this please help \r\n\r\n\r\n\r\n\r\n","title":"Facing some error in implementing twilio programmable voice call in java android studio","body":"<p>I'm implementing Twilio programmable voice call in java android studio as description they gave in their docs but facing some error when run</p>\n<p>See the exception I received below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:144)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:109)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:116)\n        at com.twilio.http.NetworkHttpClient.&lt;init&gt;(NetworkHttpClient.java:58)\n        at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\n        at com.twilio.Twilio.getRestClient(Twilio.java:122)\n        at com.twilio.base.Creator.create(Creator.java:45)\n        at com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n<p>When I tried to exclude http libraries like this:</p>\n<pre><code>implementation(group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n\nimplementation(group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n\nimplementation(group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n</code></pre>\n<p>the exception changed to:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ProtocolVersion\n    at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\n    at com.twilio.Twilio.getRestClient(Twilio.java:122)\n    at com.twilio.base.Creator.create(Creator.java:45)\n    at com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.ProtocolVersion\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 9 more\n</code></pre>\n<h4>Code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws URISyntaxException {\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n    String from = &quot;+18572632XXX&quot;;\n    String to = &quot;+92**********&quot;;\n\n    Call call = Call.creator(new PhoneNumber(to), new PhoneNumber(from),\n            new URI(&quot;http://demo.twilio.com/docs/voice.xml&quot;)).create();\n\n\n    System.out.println(call.getSid());\n}\n</code></pre>\n<p>For the above code, I've included the following libraries</p>\n<pre><code>implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;\nimplementation group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;\nimplementation group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;\n</code></pre>\n<p>As i have not much experience in this please help</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1691676277,"post_id":76876189,"comment_id":135525938,"body_markdown":"You shouldn&#39;t use `java.sql.Date` any more. Use `LocalDate` (i.e. when using JDBC, `preparedStatement.setObject(1, localDateValue)` and `resultSet.getObject(1, LocalDate.class)`).","body":"You shouldn&#39;t use <code>java.sql.Date</code> any more. Use <code>LocalDate</code> (i.e. when using JDBC, <code>preparedStatement.setObject(1, localDateValue)</code> and <code>resultSet.getObject(1, LocalDate.class)</code>)."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691678766,"post_id":76876189,"comment_id":135526579,"body_markdown":"This required looking up loads of stuff and having to make some leaps of logic, such as: ... this question does not make sense unless OP is running this code on a system that is set to the Asia/Kolkata zone. Fun exercise to figure out this mystery :)","body":"This required looking up loads of stuff and having to make some leaps of logic, such as: ... this question does not make sense unless OP is running this code on a system that is set to the Asia/Kolkata zone. Fun exercise to figure out this mystery :)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691701588,"creation_date":1691678714,"answer_id":76876841,"question_id":76876189,"body_markdown":"## Preamble\r\n\r\nYour code as written actually would be off by one day for _everything_, __if__ you run that code on any JVM whose default timezone is configured to be &#39;west&#39; of `Asia/Kolkata`, because &#39;your system&#39;s local timezone&#39; is an intrinsic part of it (because `new Date(millis).toString()` prints the date that those millis are in as per your local timezone). Hence, a previous answerer (who since deleted their answer) who put in the effort to fully reproduce your issue misidentified the problem - part of the &#39;input&#39; is _also_ to set the platform default tz to Asia/Kolkata, which, evidently, is what your Computer is already set to.\r\n\r\nThe explanation to this problem is very complicated and requires a bunch of background.\r\n\r\n\r\n## A deep dive on `tzdata`.\r\n\r\nHere is the current [tzdata section for `Asia/Kolkata`](https://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/asia#L1302C1-L1310C14):\r\n\r\n```\r\n# Zone\tNAME\t\tSTDOFF\tRULES\tFORMAT\t[UNTIL]\r\nZone\tAsia/Kolkata\t5:53:28 -\tLMT\t1854 Jun 28 # Kolkata\r\n\t\t\t            5:53:20\t-\tHMT\t1870\t    # Howrah Mean Time?\r\n\t\t\t            5:21:10\t-\tMMT\t1906 Jan  1 # Madras local time\r\n\t\t\t            5:30\t-\tIST\t1941 Oct\r\n\t\t\t            5:30\t1:00\t+0630\t1942 May 15\r\n\t\t\t            5:30\t-\tIST\t1942 Sep\r\n\t\t\t            5:30\t1:00\t+0630\t1945 Oct 15\r\n\t\t\t            5:30\t-\tIST\r\n```\r\n\r\nAs you can see, 1870 is an inflection point for it: A tiny little change, adjusting the offset bij 2 minutes and 10 seconds was introduced.\r\n\r\nThat is just a small snippet of a huge boatload of text that lists every timezone and every inflection point for all of them. This is called the `tzdata` and is a separate project. The thing is, jodatime as a library ships with its own copy of this `tzdata` and uses this for all its calculations, whereas `new Date().toString()` needs to convert its millis too in order to determine what date to show, and it uses your OpenJDK&#39;s definitions (remember, `java.util.Date` __is a lie__ - it does not represent dates at all, it represents epochmillis; its toString is merely confused for backwards compatibility reasons. There&#39;s a reason almost every method in that class is deprecated, __you should not be using this class for anything__).\r\n\r\n## The explanation (in overview)\r\n\r\nIf the `tzdata` that is baked into your joda distro is different from the tzdata baked into your OpenJDK specifically in regards to `Asia/Kolkata` for the relevant date, we have our explanation. Jodatime needs to determine the correct millis for `1854-01-01 00:00:00 in the Asia/Kolkata` zone which it does using its tzdata. This millis is then sent to `j.u.Date`, and then you ask `j.u.Date`: Convert that _back_ to human reckoning, in my system&#39;s default zone (Presumably, also `Asia/Kolkata`). That __SHOULD__ be a lossless conversion - it should always get you right back to 1854-01-01. __Unless the tzdata definitions for `Asia/Kolkata` of your jodatime and your OpenJDK disagree__.\r\n\r\nLooking back in history, the last version of jodatime where there is a disagreement is all the way [back to 2018](https://github.com/JodaOrg/joda-time/blob/c5c681c91c74a508e67911e0af4980846d676ba2/src/main/java/org/joda/time/tz/src/asia#L890C1-L896C14):\r\n\r\n```\r\nZone\tAsia/Kolkata\t5:53:28 -\tLMT\t1880        # Kolkata\r\n\t\t\t            5:53:20\t-\tHMT\t1941 Oct    # Howrah Mean Time?\r\n\t\t\t            6:30\t-\t+0630\t1942 May 15\r\n\t\t\t            5:30\t-\tIST\t1942 Sep\r\n\t\t\t            5:30\t1:00\t+0630\t1945 Oct 15\r\n\t\t\t            5:30\t-\tIST\r\n```\r\n\r\nIt&#39;s subtle: There is a difference in the following date ranges:\r\n\r\nUntil 1870 they are in agreement: Offse of 5:53:28.\r\n\r\nFrom 1870 to 1880, the current def says the offset is 5:53:20. The 2018 version, however, says the offset is 5:53:28.\r\n\r\nThen from 1880 to 1906 the two are in agreement again (both go with 5:53:20).\r\n\r\nFrom 1906 to 1941, the current version says the offset is 5:21:10, whereas the 2018 version says the offset is 5:53:20.\r\n\r\nThen the switchover to the 5:30:00 offset date is also not the same; from 1942 they are in agreement again until the present day.\r\n\r\n__Depending on the direction of the error you won&#39;t notice__. One &#39;direction&#39; of error (Where old thinks the offset is _less_ than new) you won&#39;t notice: The translation errors by translating `1910-01-01 00:00:00` to `1910-01-01 01:00:00` (not exactly - but, with the error _added_ to the date). toString just prints the date, so you can&#39;t tell.\r\n\r\nIts when the old thinks the offset is _more_ than the new that you end up translating `1870-01-01 00:00:00` to `1869-12-31 23:...` - that the error is subtracted, thus resulting in a date that is &#39;too low&#39;.\r\n\r\nI&#39;m 99.9% certain your particular version of jodatime is quite old (2018 or earlier). If you update it to the latest, this problem goes away, but, your code will just fail again if ever these definitions change again. I suggest you read on so you understand how this works, and what you can do to ensure this problem won&#39;t show up in the future.\r\n\r\n## A quick note on tzdata principles\r\n\r\nMore generally, __THE JVM IS BROKEN__ - anytime you have ALL these things happening:\r\n\r\n* You translate any date from human reckoning to millis and back again, one step being done on JDK version X, and another on JDK version Y, where X and Y are on different sides of &#39;the time when OpenJDK messed up and picked the simplified version of the post-tzdata refactor&#39; line (which is, more or less, a point update of OpenJDK17).\r\n* That time is before 1970.\r\n\r\nThen you should assume that an off-by-one error is going to occur in that date. This hits a few time zones particularly hard (for example, Europe/Amsterdam. For example if you store dates in the h2 database system using JDBC&#39;s `.setDate` and `.getDate`, or even `.setObject(x, LocalDate)`, and that date is prior to 1945, __it will be off by one when you upgrade your JDK__.\r\n\r\nThis is a bug, I think the OpenJDK is the primary actor that messed this up, I reported it, they do not understand. I rate the odds they ever fix it as low.\r\n\r\nNB: The reason 1970 is magic, is that the tzdata refactored: They realized that exact knowledge about timezone status prior to 1970 is incredibly hard to verify, so recently they changed policy: Any defs that affect 1970 or after are aggressively verified, fact-checked, and distributed, and an extremely high bar is required if you want to tell the tzdata maintainer that it has an error in it that affects 1970 or later. However, in contrast, a few newspaper articles are enough for pre-1970 updates and the tzdata makes far fewer guarantees about accuracy because being accurate is difficult as a general principle due to lots of details being lost to the mists of time. As part of this policy update, there are &#39;simple&#39; and &#39;complex&#39; versions of tzdata now: The simple version more aggressively errors for pre-1970. For example, it says that The Netherlands was like Belgium pre-1970 which is known-wrong for the second world war years. Nevertheless, tzdata will not fix it because of policy (&#39;we do not guarantee correctness for pre-1970 if you take the simple set&#39;), and don&#39;t want to hear that this was the wrong choice (NL is larger than Belgium, so NL should be &#39;leading&#39;. Or just include both, you don&#39;t guarantee correctness but you don&#39;t guarantee wrongness either). However, the worst offender here is team OpenJDK that messed up by picking the simple set.\r\n\r\n\r\n## How to avoid this problem from hurting you\r\n\r\njoda-time is obsolete and has been for a decade. __Do not use it__ - java itself has a variant of joda-time now (it was added to the JDK by the author of JodaTime!), in the `java.time` package. In your scenario the root cause is that you are operating with different tzdata defs and all sorts of heck is going to break loose when you do that. At least by using java.time, all is in agreement.\r\n\r\nBut that&#39;s not enough - I do that and the `Europe/Amsterdam` thing caused a lot of pain.\r\n\r\nYou also want to avoid millis to human to millis conversion as much as you can. In order to do that properly, __do not ever use `java.util.Date`, and as a corrollary, do not use `java.sql.Date` or `java.sql.Timestamp` either. These things are just broken. Use `.getObject(colIdx, OffsetDateTime.class)` for example. It&#39;s wordy, but JDBC5 spec __requires__ that databases support it.\r\n\r\nThen, use a database that doesn&#39;t implement it badly. H2, unfortunately, messed this up. Understandable, perhaps - this stuff is hard to find.\r\n\r\n## OMG I didn&#39;t do that and now all my data is corrupt.\r\n\r\nYou can load the proper version of a tzdata def straight into the JDK, using the `tzupdater.jar` tool. If this has caused heck on your systems, find out which tzdata version was present when you did step 1 of all your conversions, load that into your JDK using tzupdater, and now the reverse of step 1 no longer causes off-by-1 errors.\r\n","title":"java.sql.Date from millis off by 1 day for dates before 1870","body":"<h2>Preamble</h2>\n<p>Your code as written actually would be off by one day for <em>everything</em>, <strong>if</strong> you run that code on any JVM whose default timezone is configured to be 'west' of <code>Asia/Kolkata</code>, because 'your system's local timezone' is an intrinsic part of it (because <code>new Date(millis).toString()</code> prints the date that those millis are in as per your local timezone). Hence, a previous answerer (who since deleted their answer) who put in the effort to fully reproduce your issue misidentified the problem - part of the 'input' is <em>also</em> to set the platform default tz to Asia/Kolkata, which, evidently, is what your Computer is already set to.</p>\n<p>The explanation to this problem is very complicated and requires a bunch of background.</p>\n<h2>A deep dive on <code>tzdata</code>.</h2>\n<p>Here is the current <a href=\"https://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/asia#L1302C1-L1310C14\" rel=\"nofollow noreferrer\">tzdata section for <code>Asia/Kolkata</code></a>:</p>\n<pre><code># Zone  NAME        STDOFF  RULES   FORMAT  [UNTIL]\nZone    Asia/Kolkata    5:53:28 -   LMT 1854 Jun 28 # Kolkata\n                        5:53:20 -   HMT 1870        # Howrah Mean Time?\n                        5:21:10 -   MMT 1906 Jan  1 # Madras local time\n                        5:30    -   IST 1941 Oct\n                        5:30    1:00    +0630   1942 May 15\n                        5:30    -   IST 1942 Sep\n                        5:30    1:00    +0630   1945 Oct 15\n                        5:30    -   IST\n</code></pre>\n<p>As you can see, 1870 is an inflection point for it: A tiny little change, adjusting the offset bij 2 minutes and 10 seconds was introduced.</p>\n<p>That is just a small snippet of a huge boatload of text that lists every timezone and every inflection point for all of them. This is called the <code>tzdata</code> and is a separate project. The thing is, jodatime as a library ships with its own copy of this <code>tzdata</code> and uses this for all its calculations, whereas <code>new Date().toString()</code> needs to convert its millis too in order to determine what date to show, and it uses your OpenJDK's definitions (remember, <code>java.util.Date</code> <strong>is a lie</strong> - it does not represent dates at all, it represents epochmillis; its toString is merely confused for backwards compatibility reasons. There's a reason almost every method in that class is deprecated, <strong>you should not be using this class for anything</strong>).</p>\n<h2>The explanation (in overview)</h2>\n<p>If the <code>tzdata</code> that is baked into your joda distro is different from the tzdata baked into your OpenJDK specifically in regards to <code>Asia/Kolkata</code> for the relevant date, we have our explanation. Jodatime needs to determine the correct millis for <code>1854-01-01 00:00:00 in the Asia/Kolkata</code> zone which it does using its tzdata. This millis is then sent to <code>j.u.Date</code>, and then you ask <code>j.u.Date</code>: Convert that <em>back</em> to human reckoning, in my system's default zone (Presumably, also <code>Asia/Kolkata</code>). That <strong>SHOULD</strong> be a lossless conversion - it should always get you right back to 1854-01-01. <strong>Unless the tzdata definitions for <code>Asia/Kolkata</code> of your jodatime and your OpenJDK disagree</strong>.</p>\n<p>Looking back in history, the last version of jodatime where there is a disagreement is all the way <a href=\"https://github.com/JodaOrg/joda-time/blob/c5c681c91c74a508e67911e0af4980846d676ba2/src/main/java/org/joda/time/tz/src/asia#L890C1-L896C14\" rel=\"nofollow noreferrer\">back to 2018</a>:</p>\n<pre><code>Zone    Asia/Kolkata    5:53:28 -   LMT 1880        # Kolkata\n                        5:53:20 -   HMT 1941 Oct    # Howrah Mean Time?\n                        6:30    -   +0630   1942 May 15\n                        5:30    -   IST 1942 Sep\n                        5:30    1:00    +0630   1945 Oct 15\n                        5:30    -   IST\n</code></pre>\n<p>It's subtle: There is a difference in the following date ranges:</p>\n<p>Until 1870 they are in agreement: Offse of 5:53:28.</p>\n<p>From 1870 to 1880, the current def says the offset is 5:53:20. The 2018 version, however, says the offset is 5:53:28.</p>\n<p>Then from 1880 to 1906 the two are in agreement again (both go with 5:53:20).</p>\n<p>From 1906 to 1941, the current version says the offset is 5:21:10, whereas the 2018 version says the offset is 5:53:20.</p>\n<p>Then the switchover to the 5:30:00 offset date is also not the same; from 1942 they are in agreement again until the present day.</p>\n<p><strong>Depending on the direction of the error you won't notice</strong>. One 'direction' of error (Where old thinks the offset is <em>less</em> than new) you won't notice: The translation errors by translating <code>1910-01-01 00:00:00</code> to <code>1910-01-01 01:00:00</code> (not exactly - but, with the error <em>added</em> to the date). toString just prints the date, so you can't tell.</p>\n<p>Its when the old thinks the offset is <em>more</em> than the new that you end up translating <code>1870-01-01 00:00:00</code> to <code>1869-12-31 23:...</code> - that the error is subtracted, thus resulting in a date that is 'too low'.</p>\n<p>I'm 99.9% certain your particular version of jodatime is quite old (2018 or earlier). If you update it to the latest, this problem goes away, but, your code will just fail again if ever these definitions change again. I suggest you read on so you understand how this works, and what you can do to ensure this problem won't show up in the future.</p>\n<h2>A quick note on tzdata principles</h2>\n<p>More generally, <strong>THE JVM IS BROKEN</strong> - anytime you have ALL these things happening:</p>\n<ul>\n<li>You translate any date from human reckoning to millis and back again, one step being done on JDK version X, and another on JDK version Y, where X and Y are on different sides of 'the time when OpenJDK messed up and picked the simplified version of the post-tzdata refactor' line (which is, more or less, a point update of OpenJDK17).</li>\n<li>That time is before 1970.</li>\n</ul>\n<p>Then you should assume that an off-by-one error is going to occur in that date. This hits a few time zones particularly hard (for example, Europe/Amsterdam. For example if you store dates in the h2 database system using JDBC's <code>.setDate</code> and <code>.getDate</code>, or even <code>.setObject(x, LocalDate)</code>, and that date is prior to 1945, <strong>it will be off by one when you upgrade your JDK</strong>.</p>\n<p>This is a bug, I think the OpenJDK is the primary actor that messed this up, I reported it, they do not understand. I rate the odds they ever fix it as low.</p>\n<p>NB: The reason 1970 is magic, is that the tzdata refactored: They realized that exact knowledge about timezone status prior to 1970 is incredibly hard to verify, so recently they changed policy: Any defs that affect 1970 or after are aggressively verified, fact-checked, and distributed, and an extremely high bar is required if you want to tell the tzdata maintainer that it has an error in it that affects 1970 or later. However, in contrast, a few newspaper articles are enough for pre-1970 updates and the tzdata makes far fewer guarantees about accuracy because being accurate is difficult as a general principle due to lots of details being lost to the mists of time. As part of this policy update, there are 'simple' and 'complex' versions of tzdata now: The simple version more aggressively errors for pre-1970. For example, it says that The Netherlands was like Belgium pre-1970 which is known-wrong for the second world war years. Nevertheless, tzdata will not fix it because of policy ('we do not guarantee correctness for pre-1970 if you take the simple set'), and don't want to hear that this was the wrong choice (NL is larger than Belgium, so NL should be 'leading'. Or just include both, you don't guarantee correctness but you don't guarantee wrongness either). However, the worst offender here is team OpenJDK that messed up by picking the simple set.</p>\n<h2>How to avoid this problem from hurting you</h2>\n<p>joda-time is obsolete and has been for a decade. <strong>Do not use it</strong> - java itself has a variant of joda-time now (it was added to the JDK by the author of JodaTime!), in the <code>java.time</code> package. In your scenario the root cause is that you are operating with different tzdata defs and all sorts of heck is going to break loose when you do that. At least by using java.time, all is in agreement.</p>\n<p>But that's not enough - I do that and the <code>Europe/Amsterdam</code> thing caused a lot of pain.</p>\n<p>You also want to avoid millis to human to millis conversion as much as you can. In order to do that properly, __do not ever use <code>java.util.Date</code>, and as a corrollary, do not use <code>java.sql.Date</code> or <code>java.sql.Timestamp</code> either. These things are just broken. Use <code>.getObject(colIdx, OffsetDateTime.class)</code> for example. It's wordy, but JDBC5 spec <strong>requires</strong> that databases support it.</p>\n<p>Then, use a database that doesn't implement it badly. H2, unfortunately, messed this up. Understandable, perhaps - this stuff is hard to find.</p>\n<h2>OMG I didn't do that and now all my data is corrupt.</h2>\n<p>You can load the proper version of a tzdata def straight into the JDK, using the <code>tzupdater.jar</code> tool. If this has caused heck on your systems, find out which tzdata version was present when you did step 1 of all your conversions, load that into your JDK using tzupdater, and now the reverse of step 1 no longer causes off-by-1 errors.</p>\n"}],"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691701588,"creation_date":1691674137,"question_id":76876189,"body_markdown":"If I create an SQL Date object from millis, the date is off by 1 day for dates before 1870-01-01\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.DateTimeZone;\r\nimport org.joda.time.format.DateTimeFormatter;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\n\r\nimport java.sql.Date;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n\r\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\r\n    public static void main( String[] args )\r\n    {\r\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\r\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1854-01-01&quot;));\r\n        Date date = new Date(millis);\r\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\r\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\r\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAbove code gives the output\r\n\r\n```\r\nmillis -3660616408000,date 1853-12-31,jodadate 1854-01-01T00:00:00.000+05:53:28\r\n```\r\n\r\n\r\nIn this code I&#39;m getting the milliseconds from epoch of a string using Joda libraries. Then creating an SQL Date object from it. But this SQL date is one day off from the initial string I parsed.\r\n\r\nStrange thing is I don&#39;t see the SQL date being off I started with any date on or after 1870-01-01. Is there something I&#39;m missing here?\r\n\r\n---EDIT---\r\n\r\nBelow is an example where I *don&#39;t* see the date being one day off.\r\n```\r\npackage org.example;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.DateTimeZone;\r\nimport org.joda.time.format.DateTimeFormatter;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\n\r\nimport java.sql.Date;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n\r\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\r\n    public static void main( String[] args )\r\n    {\r\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\r\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1870-01-01&quot;));\r\n        Date date = new Date(millis);\r\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\r\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\r\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\r\n    }\r\n}\r\n```\r\nAbove code gives output\r\n```\r\nmillis -3155692870000,date 1870-01-01,jodadate 1870-01-01T00:00:00.000+05:21:10\r\n```","title":"java.sql.Date from millis off by 1 day for dates before 1870","body":"<p>If I create an SQL Date object from millis, the date is off by 1 day for dates before 1870-01-01</p>\n<pre><code>package org.example;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.format.DateTimeFormatter;\nimport org.joda.time.format.ISODateTimeFormat;\n\nimport java.sql.Date;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\n    public static void main( String[] args )\n    {\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1854-01-01&quot;));\n        Date date = new Date(millis);\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\n    }\n}\n\n</code></pre>\n<p>Above code gives the output</p>\n<pre><code>millis -3660616408000,date 1853-12-31,jodadate 1854-01-01T00:00:00.000+05:53:28\n</code></pre>\n<p>In this code I'm getting the milliseconds from epoch of a string using Joda libraries. Then creating an SQL Date object from it. But this SQL date is one day off from the initial string I parsed.</p>\n<p>Strange thing is I don't see the SQL date being off I started with any date on or after 1870-01-01. Is there something I'm missing here?</p>\n<p>---EDIT---</p>\n<p>Below is an example where I <em>don't</em> see the date being one day off.</p>\n<pre><code>package org.example;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.format.DateTimeFormatter;\nimport org.joda.time.format.ISODateTimeFormat;\n\nimport java.sql.Date;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\n    public static void main( String[] args )\n    {\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1870-01-01&quot;));\n        Date date = new Date(millis);\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\n    }\n}\n</code></pre>\n<p>Above code gives output</p>\n<pre><code>millis -3155692870000,date 1870-01-01,jodadate 1870-01-01T00:00:00.000+05:21:10\n</code></pre>\n"},{"tags":["java","spring-boot","yt-dlp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691681212,"post_id":76877129,"comment_id":135527187,"body_markdown":"*i want to get the video or audio as link to download* So why not use your start link in a gui hyperink which downloads the file on click?","body":"<i>i want to get the video or audio as link to download</i> So why not use your start link in a gui hyperink which downloads the file on click?"},{"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"score":0,"creation_date":1691681639,"post_id":76877129,"comment_id":135527281,"body_markdown":"what do you mean ?","body":"what do you mean ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691682368,"post_id":76877129,"comment_id":135527461,"body_markdown":"I&#39;m not even sure what *you* mean ;) So i&#39;ll check - do you mean you want the user to be able to click on a link and *then* download the video?","body":"I&#39;m not even sure what <i>you</i> mean ;) So i&#39;ll check - do you mean you want the user to be able to click on a link and <i>then</i> download the video?"},{"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"score":0,"creation_date":1691684255,"post_id":76877129,"comment_id":135527940,"body_markdown":"yeah like i want to make after this multiple comboboxs to let the user choose like the media format and the resolution it would be great if you help me with this too.","body":"yeah like i want to make after this multiple comboboxs to let the user choose like the media format and the resolution it would be great if you help me with this too."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691685297,"post_id":76877129,"comment_id":135528137,"body_markdown":"I can&#39;t get into the intricacies of JavaFX guis (I don&#39;t even do it) but there&#39;s not much to this other than responding to user input. You&#39;ll make life easier for yourself if you use `ProcessBuilder` too","body":"I can&#39;t get into the intricacies of JavaFX guis (I don&#39;t even do it) but there&#39;s not much to this other than responding to user input. You&#39;ll make life easier for yourself if you use <code>ProcessBuilder</code> too"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757470,"post_id":76877129,"comment_id":135538575,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9934708,"reputation":997,"user_id":7353417,"display_name":"pierpy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691701586,"creation_date":1691701586,"answer_id":76879314,"question_id":76877129,"body_markdown":"The right command line to get the download link is:  \r\n` yt-dlp --get-url [...]`  \r\n\r\nSo, in your case, maybe   \r\n`stdin.println(dlp + &quot;--get-url &quot; + url + &quot; -f best/bestvideo+bestaudio &quot; );`  does the job.  \r\nPlease note, I&#39;m not familiar with Java, and I don&#39;t know if this is the best way to pass parameters to an external executable","title":"How can i get the download link using yt-dlp","body":"<p>The right command line to get the download link is:<br />\n<code> yt-dlp --get-url [...]</code></p>\n<p>So, in your case, maybe<br />\n<code>stdin.println(dlp + &quot;--get-url &quot; + url + &quot; -f best/bestvideo+bestaudio &quot; );</code>  does the job.<br />\nPlease note, I'm not familiar with Java, and I don't know if this is the best way to pass parameters to an external executable</p>\n"}],"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691701586,"creation_date":1691680664,"question_id":76877129,"body_markdown":"this java code  will download the youtube video direct to the selectedDirectory. i am trying to figure out if it is possible to get instead a download link print it out. if i paste this link to a browser it will ask me where to save it then it will start download the selected format video or audio.\r\n\r\n```\r\npackage com.chillyfacts.com;\r\n\r\nimport java.io.PrintWriter;\r\nimport javafx.application.Application;\r\nimport javafx.stage.DirectoryChooser;\r\nimport javafx.stage.Stage;\r\n\r\npublic class my_main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        String dlp = &quot;D:\\youtube_db_java\\yt-dlP &quot;;\r\n\r\n        DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\r\n\r\n        java.io.File selectedDirectory = directoryChooser.showDialog(primaryStage);\r\n\r\n\r\n        if (selectedDirectory != null) {\r\n            String chosenPath = selectedDirectory.getAbsolutePath();\r\n            String url = &quot;https://www.youtube.com/watch?v=BaW_jenozKc&quot;;\r\n            String[] command = {\r\n                &quot;cmd&quot;,\r\n            };\r\n            Process p;\r\n            try {\r\n                p = Runtime.getRuntime().exec(command);\r\n                new Thread(new SyncPipe(p.getErrorStream(), System.err)).start();\r\n                new Thread(new SyncPipe(p.getInputStream(), System.out)).start();\r\n                PrintWriter stdin = new PrintWriter(p.getOutputStream());\r\n                stdin.println(&quot;cd &quot;&quot; + chosenPath + &quot;&quot;&quot;);\r\n                stdin.println(dlp + url + &quot; -f best/bestvideo+bestaudio &quot; );\r\n                stdin.close();\r\n                p.waitFor();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No directory selected.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni want to get the video or audio as link to download\r\n\r\n","title":"How can i get the download link using yt-dlp","body":"<p>this java code  will download the youtube video direct to the selectedDirectory. i am trying to figure out if it is possible to get instead a download link print it out. if i paste this link to a browser it will ask me where to save it then it will start download the selected format video or audio.</p>\n<pre><code>package com.chillyfacts.com;\n\nimport java.io.PrintWriter;\nimport javafx.application.Application;\nimport javafx.stage.DirectoryChooser;\nimport javafx.stage.Stage;\n\npublic class my_main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        String dlp = &quot;D:\\youtube_db_java\\yt-dlP &quot;;\n\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n\n\n        java.io.File selectedDirectory = directoryChooser.showDialog(primaryStage);\n\n\n        if (selectedDirectory != null) {\n            String chosenPath = selectedDirectory.getAbsolutePath();\n            String url = &quot;https://www.youtube.com/watch?v=BaW_jenozKc&quot;;\n            String[] command = {\n                &quot;cmd&quot;,\n            };\n            Process p;\n            try {\n                p = Runtime.getRuntime().exec(command);\n                new Thread(new SyncPipe(p.getErrorStream(), System.err)).start();\n                new Thread(new SyncPipe(p.getInputStream(), System.out)).start();\n                PrintWriter stdin = new PrintWriter(p.getOutputStream());\n                stdin.println(&quot;cd &quot;&quot; + chosenPath + &quot;&quot;&quot;);\n                stdin.println(dlp + url + &quot; -f best/bestvideo+bestaudio &quot; );\n                stdin.close();\n                p.waitFor();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;No directory selected.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>i want to get the video or audio as link to download</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":1,"creation_date":1523309243,"post_id":48900892,"comment_id":86498496,"body_markdown":"See https://stackoverflow.com/a/48670785/2702730 for a very detailed response","body":"See <a href=\"https://stackoverflow.com/a/48670785/2702730\">stackoverflow.com/a/48670785/2702730</a> for a very detailed response"},{"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"score":0,"creation_date":1674386711,"post_id":48900892,"comment_id":132699690,"body_markdown":"As mentioned in the link @senseiwu posted. Old properties starting with `endpoints.xyz` are deprecated in favor of properties starting with `management.xyz`. So yes using any recent version of SpringBoot you should rely on `management.endpoints` properties and remove root `endpoints` configurations.","body":"As mentioned in the link @senseiwu posted. Old properties starting with <code>endpoints.xyz</code> are deprecated in favor of properties starting with <code>management.xyz</code>. So yes using any recent version of SpringBoot you should rely on <code>management.endpoints</code> properties and remove root <code>endpoints</code> configurations."}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1691700490,"creation_date":1519201651,"answer_id":48901161,"question_id":48900892,"body_markdown":"With Spring Boot 2.0.0.RC**1**, actuator endpoints must be 1) enabled and 2) exposed.\r\n\r\nBy default, all endpoints but `shutdown` are enabled and only `health` and `info` are exposed.\r\n\r\nIn your case, the following should work:\r\n\r\n    management.endpoints.web.expose=*\r\n    # if you&#39;d like to expose shutdown:\r\n    # management.endpoint.shutdown.enabled=true\r\n\r\nNote that this changes (again!) as of Spring Boot 2.0.0.RC**2**:\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    # if you&#39;d like to expose shutdown:\r\n    # management.endpoint.shutdown.enabled=true\r\n\r\nIn doubt, [the dedicated migration guide][1] is always up-to-date with the latest changes.\r\n\r\n**Edit**\r\n\r\nFor easy copy and paste, here&#39;s the `yaml&#180; versions - as of Spring Boot 2.0.0.RC**2**:\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\n\r\nSpring Boot 2.0.0.RC**1**: \r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          expose: &quot;*&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#endpoints","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>With Spring Boot 2.0.0.RC<strong>1</strong>, actuator endpoints must be 1) enabled and 2) exposed.</p>\n<p>By default, all endpoints but <code>shutdown</code> are enabled and only <code>health</code> and <code>info</code> are exposed.</p>\n<p>In your case, the following should work:</p>\n<pre><code>management.endpoints.web.expose=*\n# if you'd like to expose shutdown:\n# management.endpoint.shutdown.enabled=true\n</code></pre>\n<p>Note that this changes (again!) as of Spring Boot 2.0.0.RC<strong>2</strong>:</p>\n<pre><code>management.endpoints.web.exposure.include=*\n# if you'd like to expose shutdown:\n# management.endpoint.shutdown.enabled=true\n</code></pre>\n<p>In doubt, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#endpoints\" rel=\"noreferrer\">the dedicated migration guide</a> is always up-to-date with the latest changes.</p>\n<p><strong>Edit</strong></p>\n<p>For easy copy and paste, here's the `yaml´ versions - as of Spring Boot 2.0.0.RC<strong>2</strong>:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>Spring Boot 2.0.0.RC<strong>1</strong>:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      expose: &quot;*&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519227238,"creation_date":1519227238,"answer_id":48909732,"question_id":48900892,"body_markdown":"I will add that for Spring Boot 2 the actuator security has been changed (for 1.X the security for actuator has separate configuration what often cause problems when it mixes with user configuration). For Spring Boot 2.X the actuator won&#39;t have separate security config. According to Spring documentation:\r\n\r\n&gt; For security purposes, all actuators other than /health and /info are disabled by default. The management.endpoints.web.expose flag can be used to enable the actuators. If Spring Security is on the classpath and no other WebSecurityConfigurerAdapter is present, the actuators are secured by Spring Boot auto-config. If you define a custom WebSecurityConfigurerAdapter, Spring Boot auto-config will back off and you will be in full control of actuator access rules.)","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>I will add that for Spring Boot 2 the actuator security has been changed (for 1.X the security for actuator has separate configuration what often cause problems when it mixes with user configuration). For Spring Boot 2.X the actuator won't have separate security config. According to Spring documentation:</p>\n\n<blockquote>\n  <p>For security purposes, all actuators other than /health and /info are disabled by default. The management.endpoints.web.expose flag can be used to enable the actuators. If Spring Security is on the classpath and no other WebSecurityConfigurerAdapter is present, the actuators are secured by Spring Boot auto-config. If you define a custom WebSecurityConfigurerAdapter, Spring Boot auto-config will back off and you will be in full control of actuator access rules.)</p>\n</blockquote>\n"}],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80216,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":48901161,"answer_count":2,"score":63,"last_activity_date":1691700490,"creation_date":1519200627,"question_id":48900892,"body_markdown":"I moved to Spring Boot 2.0.0 RC1 from 1.5.10 and I am stuck with actuator in the latest version. How can I enable expose and enable all actuator endpoints?\r\n\r\nThe only endpoints that get exposed are: \r\n\r\n    {\r\n      &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator&quot;,\r\n          &quot;templated&quot;: false\r\n        },\r\n        &quot;health&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator/health&quot;,\r\n          &quot;templated&quot;: false\r\n        },\r\n        &quot;info&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator/info&quot;,\r\n          &quot;templated&quot;: false\r\n        }\r\n      }\r\n    }\r\n\r\nThis is my `application.properties` files. Any ideas?\r\n\r\n    #The three first ones seem to be obsolete\r\n    endpoints.configprops.enabled=true\r\n    endpoints.beans.enabled=true\r\n    endpoints.shutdown.enabled=true\r\n    \r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.sensitive=false\r\n    management.endpoints.enabled=true\r\n    \r\n    management.endpoint.configprops.enabled=true\r\n    management.endpoint.beans.enabled=true\r\n    management.endpoint.shutdown.enabled=true\r\n    \r\n    management.endpoints.web.exposure.include=*","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>I moved to Spring Boot 2.0.0 RC1 from 1.5.10 and I am stuck with actuator in the latest version. How can I enable expose and enable all actuator endpoints?</p>\n\n<p>The only endpoints that get exposed are: </p>\n\n<pre><code>{\n  \"_links\": {\n    \"self\": {\n      \"href\": \"http://127.0.0.1:8080/actuator\",\n      \"templated\": false\n    },\n    \"health\": {\n      \"href\": \"http://127.0.0.1:8080/actuator/health\",\n      \"templated\": false\n    },\n    \"info\": {\n      \"href\": \"http://127.0.0.1:8080/actuator/info\",\n      \"templated\": false\n    }\n  }\n}\n</code></pre>\n\n<p>This is my <code>application.properties</code> files. Any ideas?</p>\n\n<pre><code>#The three first ones seem to be obsolete\nendpoints.configprops.enabled=true\nendpoints.beans.enabled=true\nendpoints.shutdown.enabled=true\n\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoints.sensitive=false\nmanagement.endpoints.enabled=true\n\nmanagement.endpoint.configprops.enabled=true\nmanagement.endpoint.beans.enabled=true\nmanagement.endpoint.shutdown.enabled=true\n\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-jpa","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691700263,"creation_date":1691700263,"answer_id":76879201,"question_id":76868171,"body_markdown":"There are a couple of aspects to discuss.\r\n\r\n - **Is it good idea to modify existing migration files?** Mongock, as any other migration tool of the kind, it&#39;s designed to take a database from state S(0) to state S(n) by applying a sequence of what we call changeUnits(migration changes) that will make the database go through all the states S(0),S(1),..,S(n-1),S(n). This is specially useful when deploying the application from scratch in new environments. Taking this into account, this renaming process should be another state S(n+1) more. So the answer is NO, we suggest not to amend the existing changeUnits(for this reason)\r\n \r\n - **I will definitely need to modify it because Foo__ classes no longer exist in code** This is the reason why we suggest not to use\r\n   repositories and domain classes in changeUnits and the MongoTemplate(or driver classes) directly instead. At this point, you have three options:\r\n \r\n     - *Changing the migration files in the project*: Not recommended because these files(changeUnits) should remain unchanged as much as possible.\r\n\r\n     - *Keeping the deprecated classes in the project*: Not recommended because force you to keep deprecated code in your project\r\n\r\n     - **Moving these deprecated classes to a separated library and bring it to your project via maven/gradle**. This is not 100% ideal neither, but   the one we recommend because, among the three options, it provides the best balance(the changeUnits remain unchanged and your project can evolve without maintaining deprecated classes)\r\n\r\n\r\nIn conclusion, we suggest.\r\n\r\n 1. No change the existing changeUnits\r\n 2. Perform the renaming in a changeUnit as part of the migration steps\r\n 3. Move the deprecated classes to an independent library and bring it as a maven/gradle dependency","title":"What to do when name of class and collection used in Mongock migration file has changed?","body":"<p>There are a couple of aspects to discuss.</p>\n<ul>\n<li><p><strong>Is it good idea to modify existing migration files?</strong> Mongock, as any other migration tool of the kind, it's designed to take a database from state S(0) to state S(n) by applying a sequence of what we call changeUnits(migration changes) that will make the database go through all the states S(0),S(1),..,S(n-1),S(n). This is specially useful when deploying the application from scratch in new environments. Taking this into account, this renaming process should be another state S(n+1) more. So the answer is NO, we suggest not to amend the existing changeUnits(for this reason)</p>\n</li>\n<li><p><strong>I will definitely need to modify it because Foo__ classes no longer exist in code</strong> This is the reason why we suggest not to use\nrepositories and domain classes in changeUnits and the MongoTemplate(or driver classes) directly instead. At this point, you have three options:</p>\n<ul>\n<li><p><em>Changing the migration files in the project</em>: Not recommended because these files(changeUnits) should remain unchanged as much as possible.</p>\n</li>\n<li><p><em>Keeping the deprecated classes in the project</em>: Not recommended because force you to keep deprecated code in your project</p>\n</li>\n<li><p><strong>Moving these deprecated classes to a separated library and bring it to your project via maven/gradle</strong>. This is not 100% ideal neither, but   the one we recommend because, among the three options, it provides the best balance(the changeUnits remain unchanged and your project can evolve without maintaining deprecated classes)</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>In conclusion, we suggest.</p>\n<ol>\n<li>No change the existing changeUnits</li>\n<li>Perform the renaming in a changeUnit as part of the migration steps</li>\n<li>Move the deprecated classes to an independent library and bring it as a maven/gradle dependency</li>\n</ol>\n"}],"owner":{"account_id":14222519,"reputation":87,"user_id":10274322,"display_name":"Whistleroosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76879201,"answer_count":1,"score":0,"last_activity_date":1691700263,"creation_date":1691587026,"question_id":76868171,"body_markdown":"I have an app in Spring Boot and use Mogock with MongoDB. Recently, I made a big refactoring and changed many class names and collection names. What I used to have before refactoring is an entity FooDb:\r\n\r\n\r\n    @Document(&quot;foo&quot;)\r\n    public class FooDb {\r\n      @Id\r\n      private String id;\r\n      ...\r\n    }\r\n\r\nand some interface:\r\n\r\n    @Repository\r\n    public interface FooRepository extends MongoRepository&lt;FooDb, String&gt; { ... }\r\n\r\nand migration file:\r\n\r\n\r\n\r\n    @ChangeUnit(order=&quot;001, ...)\r\n    public class CreateFooChangelog {\r\n      ...\r\n      @Execution\r\n      public void migration(FooRepository repository) {\r\n         repository.save(...);\r\n      }\r\n    }\r\n\r\nDuring refactoring I only changed names of collections and classes. Their structure is the same:\r\n\r\n    @Document(&quot;bar&quot;)\r\n    public class BarDb {\r\n      @Id\r\n      private String id;\r\n      ...\r\n    }\r\n    \r\n    @Repository\r\n    public interface BarRepository extends MongoRepository&lt;BarDb, String&gt; { ... }\r\n\r\nHowever, now I am not sure what to do with existing migration file. Is it good idea to modify existing migration files? I will definitely need to modify it because Foo* classes no longer exist in code.\r\n\r\nI can think of solution like this: if there exists a foo collection it needs to be renamed to bar and if not, I need to initialize bar with some default data. Then I could try to modify this migration file like this:\r\n\r\n    @ChangeUnit(order=&quot;001&quot;, ...)\r\n    public class CreateBarChangelog {\r\n      ...\r\n      @Execution\r\n      public void migration(BarRepository repository) {\r\n         // if foo exists, rename it to bar\r\n         // else: repository.save(...);\r\n      }\r\n    }\r\n\r\nIs this the right approach in this scenario or is there a better solution?","title":"What to do when name of class and collection used in Mongock migration file has changed?","body":"<p>I have an app in Spring Boot and use Mogock with MongoDB. Recently, I made a big refactoring and changed many class names and collection names. What I used to have before refactoring is an entity FooDb:</p>\n<pre><code>@Document(&quot;foo&quot;)\npublic class FooDb {\n  @Id\n  private String id;\n  ...\n}\n</code></pre>\n<p>and some interface:</p>\n<pre><code>@Repository\npublic interface FooRepository extends MongoRepository&lt;FooDb, String&gt; { ... }\n</code></pre>\n<p>and migration file:</p>\n<pre><code>@ChangeUnit(order=&quot;001, ...)\npublic class CreateFooChangelog {\n  ...\n  @Execution\n  public void migration(FooRepository repository) {\n     repository.save(...);\n  }\n}\n</code></pre>\n<p>During refactoring I only changed names of collections and classes. Their structure is the same:</p>\n<pre><code>@Document(&quot;bar&quot;)\npublic class BarDb {\n  @Id\n  private String id;\n  ...\n}\n\n@Repository\npublic interface BarRepository extends MongoRepository&lt;BarDb, String&gt; { ... }\n</code></pre>\n<p>However, now I am not sure what to do with existing migration file. Is it good idea to modify existing migration files? I will definitely need to modify it because Foo* classes no longer exist in code.</p>\n<p>I can think of solution like this: if there exists a foo collection it needs to be renamed to bar and if not, I need to initialize bar with some default data. Then I could try to modify this migration file like this:</p>\n<pre><code>@ChangeUnit(order=&quot;001&quot;, ...)\npublic class CreateBarChangelog {\n  ...\n  @Execution\n  public void migration(BarRepository repository) {\n     // if foo exists, rename it to bar\n     // else: repository.save(...);\n  }\n}\n</code></pre>\n<p>Is this the right approach in this scenario or is there a better solution?</p>\n"},{"tags":["java","data-structures","linked-list","modulo"],"comments":[{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643710391,"post_id":70938689,"comment_id":125406318,"body_markdown":"10000000000 is greater than 2^31 -1 (max value for an int). Just change datatype of `l` from `int` to `long`","body":"10000000000 is greater than 2^31 -1 (max value for an int). Just change datatype of <code>l</code> from <code>int</code> to <code>long</code>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1643711404,"post_id":70938689,"comment_id":125406702,"body_markdown":"`(int) 10000000000` causes an overflow, leaving you with `1410065408` where its clear that you get `8` as a result when using `% 10`","body":"<code>(int) 10000000000</code> causes an overflow, leaving you with <code>1410065408</code> where its clear that you get <code>8</code> as a result when using <code>% 10</code>"}],"answers":[{"tags":[],"owner":{"account_id":15031620,"reputation":56,"user_id":10849566,"display_name":"GoodmeetsEvil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643711400,"creation_date":1643711400,"answer_id":70939003,"question_id":70938689,"body_markdown":"    int l = (int)sum%10;\r\n\r\nThe problem is here. You are first casting a ***long*** variable to ***int*** and then calculate the remainder. You might want to check out [Storage sizes for primitive datatypes][1]. There it says the following:\r\n\r\n&gt; Also known as an integer, int type holds a wide range of non-fractional number values.\r\n&gt; \r\n&gt; Specifically, Java stores it using 32 bits of memory. In other words,\r\n&gt; it can represent values from -2,147,483,648 (-231) to 2,147,483,647\r\n&gt; (231-1).\r\n\r\nIn other words, because you are converting a number larger than supported to ***int*** you are getting a loss of data. To fix there problem either cast after finding the remainder:\r\n\r\n    int l = (int)(sum % 10)\r\n\r\nOr, better yet, just make your variable ***long***.\r\n\r\n    long l = sum % 10\r\n\r\n  [1]: https://www.baeldung.com/java-primitives#:~:text=Also%20known%20as%20an%20integer,(231%2D1).","title":"10000000000%10 returning 8 in Java","body":"<pre><code>int l = (int)sum%10;\n</code></pre>\n<p>The problem is here. You are first casting a <em><strong>long</strong></em> variable to <em><strong>int</strong></em> and then calculate the remainder. You might want to check out <a href=\"https://www.baeldung.com/java-primitives#:%7E:text=Also%20known%20as%20an%20integer,(231%2D1).\" rel=\"nofollow noreferrer\">Storage sizes for primitive datatypes</a>. There it says the following:</p>\n<blockquote>\n<p>Also known as an integer, int type holds a wide range of non-fractional number values.</p>\n<p>Specifically, Java stores it using 32 bits of memory. In other words,\nit can represent values from -2,147,483,648 (-231) to 2,147,483,647\n(231-1).</p>\n</blockquote>\n<p>In other words, because you are converting a number larger than supported to <em><strong>int</strong></em> you are getting a loss of data. To fix there problem either cast after finding the remainder:</p>\n<pre><code>int l = (int)(sum % 10)\n</code></pre>\n<p>Or, better yet, just make your variable <em><strong>long</strong></em>.</p>\n<pre><code>long l = sum % 10\n</code></pre>\n"}],"owner":{"display_name":"user14661106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70939003,"answer_count":1,"score":-2,"last_activity_date":1691699922,"creation_date":1643710015,"question_id":70938689,"body_markdown":"**Q ) To reverse two linked lists, add them and return a reversed linked list of the sum**`\r\nhttps://leetcode.com/problems/add-two-numbers/\r\n```java\r\nclass Solution \r\n{\r\n    public long reverse(long num)\r\n    {\r\n        long ans = 0;\r\n        while(num &gt; 0)\r\n        {\r\n            ans = ans*10 + (num%10);\r\n            num /= 10;\r\n        }\r\n        return ans;\r\n    }\r\n    \r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) \r\n    {\r\n        \r\n        long num1 = 0;\r\n        long num2 = 0;\r\n        while(l1 != null)\r\n        {\r\n            num1 = num1*10 + l1.val;\r\n            l1 = l1.next;\r\n        }\r\n        while(l2 != null)\r\n        {\r\n            num2 = num2*10 + l2.val;\r\n            l2 = l2.next;\r\n        }\r\n        num1 = reverse(num1);\r\n        num2 = reverse(num2);     \r\n        System.out.println(&quot;num1 = &quot; + num1);\r\n        System.out.println(&quot;num2 = &quot; + num2);\r\n        long sum = num1+num2;\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n        int l = (int)sum%10;\r\n        sum /= 10;\r\n        System.out.println(&quot;l = &quot; + l);\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n        ListNode head = new ListNode(l);\r\n        ListNode l3 = head;\r\n        while(sum &gt; 0)\r\n        {\r\n            l = (int)sum%10;\r\n            System.out.println(&quot;l = &quot; + l);\r\n            System.out.println(&quot;sum = &quot; + sum);\r\n            sum/=10;\r\n            ListNode temp = new ListNode(l);\r\n            l3.next = temp;\r\n            l3 = l3.next;\r\n        }\r\n        return head;\r\n    }\r\n}\r\n```\r\n\r\n**For the input:** \r\n\r\n[9]\r\n[1,9,9,9,9,9,9,9,9,9]\r\n\r\n\r\n**Output:**\r\n\r\nnum1 = 9\r\nnum2 = 9999999991\r\n\r\nsum = 10000000000\r\nl = 8 **(why is 10000000000%10=8 here?)**\r\n\r\nsum = 1000000000\r\nl = 0\r\n\r\nsum = 1000000000\r\nl = 0\r\n\r\nsum = 100000000\r\nl = 0\r\n\r\nsum = 10000000\r\nl = 0\r\n\r\nsum = 1000000\r\nl = 0\r\n\r\nsum = 100000\r\nl = 0\r\n\r\nsum = 10000\r\nl = 0\r\n\r\nsum = 1000\r\nl = 0\r\n\r\nsum = 100\r\n l = 0\r\n\r\nsum = 10\r\nl = 1\r\n\r\nsum = 1\r\n\r\nPlease help","title":"10000000000%10 returning 8 in Java","body":"<p><strong>Q ) To reverse two linked lists, add them and return a reversed linked list of the sum</strong>`\n<a href=\"https://leetcode.com/problems/add-two-numbers/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/add-two-numbers/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution \n{\n    public long reverse(long num)\n    {\n        long ans = 0;\n        while(num &gt; 0)\n        {\n            ans = ans*10 + (num%10);\n            num /= 10;\n        }\n        return ans;\n    }\n    \n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) \n    {\n        \n        long num1 = 0;\n        long num2 = 0;\n        while(l1 != null)\n        {\n            num1 = num1*10 + l1.val;\n            l1 = l1.next;\n        }\n        while(l2 != null)\n        {\n            num2 = num2*10 + l2.val;\n            l2 = l2.next;\n        }\n        num1 = reverse(num1);\n        num2 = reverse(num2);     \n        System.out.println(&quot;num1 = &quot; + num1);\n        System.out.println(&quot;num2 = &quot; + num2);\n        long sum = num1+num2;\n        System.out.println(&quot;sum = &quot; + sum);\n        int l = (int)sum%10;\n        sum /= 10;\n        System.out.println(&quot;l = &quot; + l);\n        System.out.println(&quot;sum = &quot; + sum);\n        ListNode head = new ListNode(l);\n        ListNode l3 = head;\n        while(sum &gt; 0)\n        {\n            l = (int)sum%10;\n            System.out.println(&quot;l = &quot; + l);\n            System.out.println(&quot;sum = &quot; + sum);\n            sum/=10;\n            ListNode temp = new ListNode(l);\n            l3.next = temp;\n            l3 = l3.next;\n        }\n        return head;\n    }\n}\n</code></pre>\n<p><strong>For the input:</strong></p>\n<p>[9]\n[1,9,9,9,9,9,9,9,9,9]</p>\n<p><strong>Output:</strong></p>\n<p>num1 = 9\nnum2 = 9999999991</p>\n<p>sum = 10000000000\nl = 8 <strong>(why is 10000000000%10=8 here?)</strong></p>\n<p>sum = 1000000000\nl = 0</p>\n<p>sum = 1000000000\nl = 0</p>\n<p>sum = 100000000\nl = 0</p>\n<p>sum = 10000000\nl = 0</p>\n<p>sum = 1000000\nl = 0</p>\n<p>sum = 100000\nl = 0</p>\n<p>sum = 10000\nl = 0</p>\n<p>sum = 1000\nl = 0</p>\n<p>sum = 100\nl = 0</p>\n<p>sum = 10\nl = 1</p>\n<p>sum = 1</p>\n<p>Please help</p>\n"},{"tags":["java","spring","spring-boot","web-services","tomcat"],"answers":[{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691696943,"creation_date":1691696943,"answer_id":76878893,"question_id":76878381,"body_markdown":"The [ServerResponse][1] is from Spring Reactive framework, used in Spring webflux.\r\n\r\nSo for simple healthcheck/heartbeat implementation, your second method `getHello()` construct will do just fine, if you are building spring web project and deploying in a tomcat server. Because your second method&#39;s response status will be  **200 OK** as well.\r\n\r\n**Side-note:** I&#39;ve seen you&#39;ve tagged your question as a `spring-boot`. So, if you are building a spring-boot app, then i&#39;ll suggest to use it&#39;s [spring-boot-actuator][2] which adds many production grade capabilities, out of which, two which i&#39;ve used in our enterprise apps are **health check** and **shutdown**\r\n```\r\n http://localhost:8080/actuator/health\r\n{&quot;status&quot;:&quot;UP&quot;}\r\n\r\nhttp://localhost:8080/actuator/shutdown\r\n{ &quot;message&quot; : &quot;Shutting down, bye...&quot;}\r\n```\r\nSo, `\\actuatot\\health` endpoint is also good fit for heartbeat implementation\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/server/ServerResponse.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/","title":"Correct way to implement a &#39;heartbeat&#39; service in SpringFramework","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/server/ServerResponse.html\" rel=\"nofollow noreferrer\">ServerResponse</a> is from Spring Reactive framework, used in Spring webflux.</p>\n<p>So for simple healthcheck/heartbeat implementation, your second method <code>getHello()</code> construct will do just fine, if you are building spring web project and deploying in a tomcat server. Because your second method's response status will be  <strong>200 OK</strong> as well.</p>\n<p><strong>Side-note:</strong> I've seen you've tagged your question as a <code>spring-boot</code>. So, if you are building a spring-boot app, then i'll suggest to use it's <a href=\"https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/\" rel=\"nofollow noreferrer\">spring-boot-actuator</a> which adds many production grade capabilities, out of which, two which i've used in our enterprise apps are <strong>health check</strong> and <strong>shutdown</strong></p>\n<pre><code> http://localhost:8080/actuator/health\n{&quot;status&quot;:&quot;UP&quot;}\n\nhttp://localhost:8080/actuator/shutdown\n{ &quot;message&quot; : &quot;Shutting down, bye...&quot;}\n</code></pre>\n<p>So, <code>\\actuatot\\health</code> endpoint is also good fit for heartbeat implementation</p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691699775,"creation_date":1691698592,"answer_id":76879050,"question_id":76878381,"body_markdown":"To add to Abhinav&#39;s answer, as he stated don&#39;t use ServerResponse here; it&#39;s not the appropriate response type.\r\n\r\nIf you just want to return a 200 if everything is ok, you can do something like this:\r\n\r\n\timport lombok.extern.slf4j.Slf4j;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.CrossOrigin;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.servlet.function.ServerResponse;\r\n\timport static org.springframework.http.HttpStatus.SERVICE_UNAVAILABLE;\r\n\r\n    ...\r\n\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @GetMapping(path = &quot;/heartbeat&quot;)\r\n    public ResponseEntity&lt;?&gt; getHeartbeat()\r\n    {\r\n        logger.info(&quot;checking heartbeat&quot;);\r\n        if (isEverythingKosher()) {\r\n          return ResponseEntity.ok().build();\r\n        } else {\r\n          return ResponseEntity.status(SERVICE_UNAVAILABLE).build();\r\n        }\r\n    }\r\n\r\nBut, as stated in the previous answer, I would leverage Actuator as it&#39;s already got built-in support for most checks that you&#39;ll want to use.  You can even extend it with your own health checks if you want to by defining a class that extends AbstractHealthIndicator\r\n\r\n    @Component\r\n    public class MyHealthCheck extends AbstractHealthIndicator {\r\n      @Override\r\n      protected void doHealthCheck(Health.Builder builder) throws Exception {\r\n        // Do your checks here, set the builder up or down depending on the status\r\n        if (isEverythingKosher()) {\r\n          builder.up();\r\n        } else {\r\n          builder.down();\r\n        }\r\n      }\r\n    }\r\n\r\nThen when you call the actuator/health endpoint, it will contribute to the health status of your application.\r\n\r\nHere is what the output would look like using the actuator (I set the custom health indicator to indicate down).\r\n\r\n    {\r\n      &quot;status&quot;: &quot;DOWN&quot;,\r\n      &quot;components&quot;: {\r\n        &quot;diskSpace&quot;: {\r\n          &quot;status&quot;: &quot;UP&quot;,\r\n          &quot;details&quot;: {\r\n            &quot;total&quot;: 1000240963584,\r\n            &quot;free&quot;: 472888266752,\r\n            &quot;threshold&quot;: 10485760,\r\n            &quot;path&quot;: &quot;/Users/lane.maxwell/git/actuator-demo/.&quot;,\r\n            &quot;exists&quot;: true\r\n          }\r\n        },\r\n        &quot;mongo&quot;: {\r\n          &quot;status&quot;: &quot;UP&quot;,\r\n          &quot;details&quot;: {\r\n            &quot;maxWireVersion&quot;: 13\r\n          }\r\n        },\r\n        &quot;myHealthCheck&quot;: {\r\n          &quot;status&quot;: &quot;DOWN&quot;\r\n        },\r\n        &quot;ping&quot;: {\r\n          &quot;status&quot;: &quot;UP&quot;\r\n        }\r\n      }\r\n    }","title":"Correct way to implement a &#39;heartbeat&#39; service in SpringFramework","body":"<p>To add to Abhinav's answer, as he stated don't use ServerResponse here; it's not the appropriate response type.</p>\n<p>If you just want to return a 200 if everything is ok, you can do something like this:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.function.ServerResponse;\nimport static org.springframework.http.HttpStatus.SERVICE_UNAVAILABLE;\n\n...\n\n@CrossOrigin(origins = &quot;*&quot;)\n@GetMapping(path = &quot;/heartbeat&quot;)\npublic ResponseEntity&lt;?&gt; getHeartbeat()\n{\n    logger.info(&quot;checking heartbeat&quot;);\n    if (isEverythingKosher()) {\n      return ResponseEntity.ok().build();\n    } else {\n      return ResponseEntity.status(SERVICE_UNAVAILABLE).build();\n    }\n}\n</code></pre>\n<p>But, as stated in the previous answer, I would leverage Actuator as it's already got built-in support for most checks that you'll want to use.  You can even extend it with your own health checks if you want to by defining a class that extends AbstractHealthIndicator</p>\n<pre><code>@Component\npublic class MyHealthCheck extends AbstractHealthIndicator {\n  @Override\n  protected void doHealthCheck(Health.Builder builder) throws Exception {\n    // Do your checks here, set the builder up or down depending on the status\n    if (isEverythingKosher()) {\n      builder.up();\n    } else {\n      builder.down();\n    }\n  }\n}\n</code></pre>\n<p>Then when you call the actuator/health endpoint, it will contribute to the health status of your application.</p>\n<p>Here is what the output would look like using the actuator (I set the custom health indicator to indicate down).</p>\n<pre><code>{\n  &quot;status&quot;: &quot;DOWN&quot;,\n  &quot;components&quot;: {\n    &quot;diskSpace&quot;: {\n      &quot;status&quot;: &quot;UP&quot;,\n      &quot;details&quot;: {\n        &quot;total&quot;: 1000240963584,\n        &quot;free&quot;: 472888266752,\n        &quot;threshold&quot;: 10485760,\n        &quot;path&quot;: &quot;/Users/lane.maxwell/git/actuator-demo/.&quot;,\n        &quot;exists&quot;: true\n      }\n    },\n    &quot;mongo&quot;: {\n      &quot;status&quot;: &quot;UP&quot;,\n      &quot;details&quot;: {\n        &quot;maxWireVersion&quot;: 13\n      }\n    },\n    &quot;myHealthCheck&quot;: {\n      &quot;status&quot;: &quot;DOWN&quot;\n    },\n    &quot;ping&quot;: {\n      &quot;status&quot;: &quot;UP&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76879050,"answer_count":2,"score":1,"last_activity_date":1691699775,"creation_date":1691691623,"question_id":76878381,"body_markdown":"I have a java web application running on tomcat. I wanted to create a &#39;heartbeat&#39; method that will simply return a 200 status code that I can use to verify the status of the service. I created a simple controller class that looks like this:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.servlet.function.ServerResponse;\r\n    \r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @Controller\r\n    @RequestMapping(path = &quot;/status&quot;)\r\n    public class StatusController {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(StatusController.class);\r\n        @CrossOrigin(origins = &quot;*&quot;)\r\n        @GetMapping(path = &quot;/heartbeat&quot;)\r\n        public ServerResponse getHeartbeat()\r\n        {\r\n            logger.info(&quot;checking heartbeat&quot;);\r\n            return ServerResponse.ok().build();\r\n        }\r\n    \r\n        @CrossOrigin(origins = &quot;*&quot;)\r\n        @GetMapping(path = &quot;/hello&quot;, produces = &quot;text/html&quot;)\r\n        @ResponseBody\r\n        public String getHello()\r\n        {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    }\r\n\r\nIf I deploy my application, I can call mysite.com/myapp/status/hello and get a return value of &#39;Hello World&#39;. However, if I try to call the heartbeat service ( mysite.com/myapp/status/heartbeat ) I get a 404 error.\r\n\r\n\r\nI&#39;m not quite sure what I&#39;m doing wrong here. What is the correct way to simply return a status code from a service call?","title":"Correct way to implement a &#39;heartbeat&#39; service in SpringFramework","body":"<p>I have a java web application running on tomcat. I wanted to create a 'heartbeat' method that will simply return a 200 status code that I can use to verify the status of the service. I created a simple controller class that looks like this:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.function.ServerResponse;\n\n@CrossOrigin(origins = &quot;*&quot;)\n@Controller\n@RequestMapping(path = &quot;/status&quot;)\npublic class StatusController {\n\n    private static final Logger logger = LoggerFactory.getLogger(StatusController.class);\n    @CrossOrigin(origins = &quot;*&quot;)\n    @GetMapping(path = &quot;/heartbeat&quot;)\n    public ServerResponse getHeartbeat()\n    {\n        logger.info(&quot;checking heartbeat&quot;);\n        return ServerResponse.ok().build();\n    }\n\n    @CrossOrigin(origins = &quot;*&quot;)\n    @GetMapping(path = &quot;/hello&quot;, produces = &quot;text/html&quot;)\n    @ResponseBody\n    public String getHello()\n    {\n        return &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>If I deploy my application, I can call mysite.com/myapp/status/hello and get a return value of 'Hello World'. However, if I try to call the heartbeat service ( mysite.com/myapp/status/heartbeat ) I get a 404 error.</p>\n<p>I'm not quite sure what I'm doing wrong here. What is the correct way to simply return a status code from a service call?</p>\n"},{"tags":["java","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691694397,"post_id":76878331,"comment_id":135529860,"body_markdown":"Are you trying to return two files for a single request?","body":"Are you trying to return two files for a single request?"},{"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"score":0,"creation_date":1691696966,"post_id":76878331,"comment_id":135530322,"body_markdown":"My goal is to serve index.html with its style that&#39;s all. that&#39;s why this post is posted on here.","body":"My goal is to serve index.html with its style that&#39;s all. that&#39;s why this post is posted on here."}],"answers":[{"tags":[],"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691699437,"creation_date":1691699437,"answer_id":76879135,"question_id":76878331,"body_markdown":"When a browser loads an HTML file and encounters a link to an external CSS file, it will make a separate request to fetch the CSS file. Your current implementation is trying to serve both the HTML and CSS content for the /home route in a single response, which is incorrect.\r\n\r\nHere&#39;s a way to fix this:\r\n\r\nModify your index.html to reference the style.css as a relative path:\r\n&lt;br&gt; Basicly you should this inside **head** tag\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/Views/style.css&quot;&gt;\r\n\r\n","title":"Is there a way where I can serve static files one /home route","body":"<p>When a browser loads an HTML file and encounters a link to an external CSS file, it will make a separate request to fetch the CSS file. Your current implementation is trying to serve both the HTML and CSS content for the /home route in a single response, which is incorrect.</p>\n<p>Here's a way to fix this:</p>\n<p>Modify your index.html to reference the style.css as a relative path:\n<br> Basicly you should this inside <strong>head</strong> tag</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/Views/style.css&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691699437,"creation_date":1691691140,"question_id":76878331,"body_markdown":"I have root folder called TodoList this folder contains another folder called TodoList/Views/index.html,style.css my goal is to serve the index.html and the style.css on the route of /home however the index.html has one element &lt;button&gt;Click&lt;/button&gt; and it has style which is to background-color blue orange for the button, but when I run the code on my localhost:8080 I am getting only the html file served not with its style. how can I make the html file keep its style rather than losing it midway thank you.\r\n\r\n\r\n ```import com.sun.net.httpserver.HttpServer;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpExchange;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) throws IOException {\r\n            int port = 8080;\r\n            HttpServer server = HttpServer.create(new InetSocketAddress(port), 0);\r\n    \r\n            server.createContext(&quot;/home&quot;, new RequestHandler());\r\n            server.start();\r\n    \r\n            System.out.println(&quot;Server started on port &quot; + port);\r\n        }\r\n    }\r\n    \r\n    class RequestHandler implements HttpHandler {\r\n        @Override\r\n        public void handle(HttpExchange exchange) throws IOException {\r\n            String requestPath = exchange.getRequestURI().getPath();\r\n            \r\n            if (requestPath.equals(&quot;/home&quot;)) {\r\n                serveFile(exchange, &quot;Views/index.html&quot;, &quot;text/html&quot;);\r\n                serveFile(exchange, &quot;Views/style.css&quot;, &quot;text/css&quot;);\r\n            } else {\r\n                // Handle other requests here\r\n                // For example, you could serve a 404 page\r\n                String response = &quot;404 - Not Found&quot;;\r\n                exchange.sendResponseHeaders(404, response.length());\r\n                try (OutputStream os = exchange.getResponseBody()) {\r\n                    os.write(response.getBytes());\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void serveFile(HttpExchange exchange, String filePath, String contentType) throws IOException {\r\n            Path path = Paths.get(filePath);\r\n            byte[] fileBytes = Files.readAllBytes(path);\r\n    \r\n            exchange.getResponseHeaders().set(&quot;Content-Type&quot;, contentType);\r\n            exchange.sendResponseHeaders(200, fileBytes.length);\r\n    \r\n            try (OutputStream os = exchange.getResponseBody()) {\r\n                os.write(fileBytes);\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\n","title":"Is there a way where I can serve static files one /home route","body":"<p>I have root folder called TodoList this folder contains another folder called TodoList/Views/index.html,style.css my goal is to serve the index.html and the style.css on the route of /home however the index.html has one element Click and it has style which is to background-color blue orange for the button, but when I run the code on my localhost:8080 I am getting only the html file served not with its style. how can I make the html file keep its style rather than losing it midway thank you.</p>\n<pre><code>   import com.sun.net.httpserver.HttpHandler;\n   import com.sun.net.httpserver.HttpExchange;\n   \n   import java.io.IOException;\n   import java.io.OutputStream;\n   import java.net.InetSocketAddress;\n   import java.nio.file.Files;\n   import java.nio.file.Path;\n   import java.nio.file.Paths;\n   \n   public class App {\n       public static void main(String[] args) throws IOException {\n           int port = 8080;\n           HttpServer server = HttpServer.create(new InetSocketAddress(port), 0);\n   \n           server.createContext(&quot;/home&quot;, new RequestHandler());\n           server.start();\n   \n           System.out.println(&quot;Server started on port &quot; + port);\n       }\n   }\n   \n   class RequestHandler implements HttpHandler {\n       @Override\n       public void handle(HttpExchange exchange) throws IOException {\n           String requestPath = exchange.getRequestURI().getPath();\n           \n           if (requestPath.equals(&quot;/home&quot;)) {\n               serveFile(exchange, &quot;Views/index.html&quot;, &quot;text/html&quot;);\n               serveFile(exchange, &quot;Views/style.css&quot;, &quot;text/css&quot;);\n           } else {\n               // Handle other requests here\n               // For example, you could serve a 404 page\n               String response = &quot;404 - Not Found&quot;;\n               exchange.sendResponseHeaders(404, response.length());\n               try (OutputStream os = exchange.getResponseBody()) {\n                   os.write(response.getBytes());\n               }\n           }\n       }\n   \n       private void serveFile(HttpExchange exchange, String filePath, String contentType) throws IOException {\n           Path path = Paths.get(filePath);\n           byte[] fileBytes = Files.readAllBytes(path);\n   \n           exchange.getResponseHeaders().set(&quot;Content-Type&quot;, contentType);\n           exchange.sendResponseHeaders(200, fileBytes.length);\n   \n           try (OutputStream os = exchange.getResponseBody()) {\n               os.write(fileBytes);\n           }\n       }\n   }\n   ```\n\n</code></pre>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":1,"creation_date":1691696111,"post_id":76878795,"comment_id":135530162,"body_markdown":"Check for integer overflow.","body":"Check for integer overflow."},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1691696334,"post_id":76878795,"comment_id":135530201,"body_markdown":"What error are you getting? What is this code&#39;s function? What inputs are you giving it? When I run `fourSum(new int[]{ 1000000000, 1000000000, 1000000000, 1000000000 }, -294967296)` it doesn&#39;t give me any error.","body":"What error are you getting? What is this code&#39;s function? What inputs are you giving it? When I run <code>fourSum(new int[]{ 1000000000, 1000000000, 1000000000, 1000000000 }, -294967296)</code> it doesn&#39;t give me any error."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1691703737,"post_id":76878795,"comment_id":135531379,"body_markdown":"For reference, this seems to be the LeetCode page for the problem: https://leetcode.com/problems/4sum/","body":"For reference, this seems to be the LeetCode page for the problem: <a href=\"https://leetcode.com/problems/4sum/\" rel=\"nofollow noreferrer\">leetcode.com/problems/4sum</a>"}],"answers":[{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691697106,"creation_date":1691696603,"answer_id":76878871,"question_id":76878795,"body_markdown":"First of all...\r\n\r\n```\r\nif(target&gt;Integer.MAX_VALUE||target&lt;Integer.MIN_VALUE){\r\n    return new ArrayList();\r\n}\r\n```\r\n\r\nThis `if` statement will never trigger because an `int` *by definition* cannot be smaller than `Integer.MIN_VALUE` or larger than `Integer.MAX_VALUE`. In other words, `target &gt; Integer.MAX_VALUE || target &lt; Integer.MIN_VALUE` will always evaluate to `false`.\r\n\r\nThe maximum value an `int` variable can hold is 2^31 - 1, or 2,147,483,647. Your sum is exactly 4 billion which causes your integer variable to overflow. \r\n\r\nYou really should use `long` variables to operate on values of this magnitude.\r\n\r\n**P.S.** What does `integer overflow` mean? `byte`, `short`, `int` and `long` numbers in Java are stored using the [2&#39;s complement system](https://en.wikipedia.org/wiki/Two%27s_complement). The first bit of the value stores the sign. If it&#39;s equal to 0, the number is positive; if it&#39;s 1, the number is negative. Thus the largest positive value an `int` can hold is 01111111111111111111111111111111 in binary. This number happens to be 2,147,483,647 in decimal. If you add 1 to it, it becomes 10000000000000000000000000000000, which is -2,147,483,648 in decimal (it&#39;s negative because the first bit is now 1).","title":"Why does it output -294967296","body":"<p>First of all...</p>\n<pre><code>if(target&gt;Integer.MAX_VALUE||target&lt;Integer.MIN_VALUE){\n    return new ArrayList();\n}\n</code></pre>\n<p>This <code>if</code> statement will never trigger because an <code>int</code> <em>by definition</em> cannot be smaller than <code>Integer.MIN_VALUE</code> or larger than <code>Integer.MAX_VALUE</code>. In other words, <code>target &gt; Integer.MAX_VALUE || target &lt; Integer.MIN_VALUE</code> will always evaluate to <code>false</code>.</p>\n<p>The maximum value an <code>int</code> variable can hold is 2^31 - 1, or 2,147,483,647. Your sum is exactly 4 billion which causes your integer variable to overflow.</p>\n<p>You really should use <code>long</code> variables to operate on values of this magnitude.</p>\n<p><strong>P.S.</strong> What does <code>integer overflow</code> mean? <code>byte</code>, <code>short</code>, <code>int</code> and <code>long</code> numbers in Java are stored using the <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">2's complement system</a>. The first bit of the value stores the sign. If it's equal to 0, the number is positive; if it's 1, the number is negative. Thus the largest positive value an <code>int</code> can hold is 01111111111111111111111111111111 in binary. This number happens to be 2,147,483,647 in decimal. If you add 1 to it, it becomes 10000000000000000000000000000000, which is -2,147,483,648 in decimal (it's negative because the first bit is now 1).</p>\n"},{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691699269,"creation_date":1691697981,"answer_id":76878998,"question_id":76878795,"body_markdown":"This is a calculation overflow. Simply put 4 * 1000000000 exceeds Integer.MAX_VALUE. Though the processor won&#39;t limit your result but wraps it into its available bits.\r\n\r\nYou can try using hexadecimal representation: 4 * 0x3B9ACA00 = 0xEE6B2800\r\n\r\n```\r\nSystem.out.println(0xEE6B2800);\r\n```\r\n\r\nJust another tip: Your code has a high complexity already. You should declare variables where you need them. The declarations of lb and ub could go into the for-j-loop, sum is only used within the while-loop. The initial values are never used before set to other values.\r\n\r\nIn my career I found lots of such top-level variables which ware reused in following code for other purposes and no one could really predict which values they have.","title":"Why does it output -294967296","body":"<p>This is a calculation overflow. Simply put 4 * 1000000000 exceeds Integer.MAX_VALUE. Though the processor won't limit your result but wraps it into its available bits.</p>\n<p>You can try using hexadecimal representation: 4 * 0x3B9ACA00 = 0xEE6B2800</p>\n<pre><code>System.out.println(0xEE6B2800);\n</code></pre>\n<p>Just another tip: Your code has a high complexity already. You should declare variables where you need them. The declarations of lb and ub could go into the for-j-loop, sum is only used within the while-loop. The initial values are never used before set to other values.</p>\n<p>In my career I found lots of such top-level variables which ware reused in following code for other purposes and no one could really predict which values they have.</p>\n"}],"owner":{"account_id":23356022,"reputation":1,"user_id":17428983,"display_name":"skeleg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1691700917,"accepted_answer_id":76878871,"answer_count":2,"score":-2,"last_activity_date":1691699269,"creation_date":1691695778,"question_id":76878795,"body_markdown":"So in leetcode 4 sum there is a test case [1000000000,1000000000,1000000000,1000000000] and for some reason the addition of these is equal to -294967296 and i do not understand how exactly this works i assumed it was because the actual answer is larger than max val of an int but i tried that and it just threw an error instead so why does that not happen here\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; fourSum(int[] nums, int target) {\r\n        if(target&gt;Integer.MAX_VALUE||target&lt;Integer.MIN_VALUE){\r\n            return new ArrayList();\r\n        }\r\n        int lb =0;\r\n        int ub  = nums.length-1;\r\n        int sum = 0;\r\n        HashSet&lt;List&lt;Integer&gt;&gt; ans = new HashSet();\r\n        Arrays.sort(nums);\r\n        for(int i = 0;i&lt;nums.length;i++){\r\n\r\n            for(int j = i+1;j&lt;nums.length;j++){\r\n                lb = j+1;\r\n                ub = nums.length-1;\r\n                while(lb&lt;ub){\r\n\r\n                    sum = nums[i]+nums[j]+nums[lb]+nums[ub];\r\n                    if(sum==-294967296){\r\n                        System.out.println(sum);\r\n                        System.out.println(nums[i]);\r\n                        System.out.println(nums[j]);\r\n                        System.out.println(nums[lb]);\r\n                        System.out.println(nums[ub]);\r\n                    }\r\n                    if(sum==target){\r\n                        ans.add(Arrays.asList(nums[i],nums[j],nums[lb],nums[ub]));\r\n                        lb++;\r\n                        ub--;\r\n                    }else if(sum&lt;target){\r\n                        lb++;\r\n                    }else{\r\n                        ub--;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        List&lt;List&lt;Integer&gt;&gt; ret = new ArrayList(ans);\r\n        return ret;\r\n    }\r\n}\r\n\r\n```\r\nthis is the code i wrote and i dont think there is an issue here","title":"Why does it output -294967296","body":"<p>So in leetcode 4 sum there is a test case [1000000000,1000000000,1000000000,1000000000] and for some reason the addition of these is equal to -294967296 and i do not understand how exactly this works i assumed it was because the actual answer is larger than max val of an int but i tried that and it just threw an error instead so why does that not happen here</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; fourSum(int[] nums, int target) {\n        if(target&gt;Integer.MAX_VALUE||target&lt;Integer.MIN_VALUE){\n            return new ArrayList();\n        }\n        int lb =0;\n        int ub  = nums.length-1;\n        int sum = 0;\n        HashSet&lt;List&lt;Integer&gt;&gt; ans = new HashSet();\n        Arrays.sort(nums);\n        for(int i = 0;i&lt;nums.length;i++){\n\n            for(int j = i+1;j&lt;nums.length;j++){\n                lb = j+1;\n                ub = nums.length-1;\n                while(lb&lt;ub){\n\n                    sum = nums[i]+nums[j]+nums[lb]+nums[ub];\n                    if(sum==-294967296){\n                        System.out.println(sum);\n                        System.out.println(nums[i]);\n                        System.out.println(nums[j]);\n                        System.out.println(nums[lb]);\n                        System.out.println(nums[ub]);\n                    }\n                    if(sum==target){\n                        ans.add(Arrays.asList(nums[i],nums[j],nums[lb],nums[ub]));\n                        lb++;\n                        ub--;\n                    }else if(sum&lt;target){\n                        lb++;\n                    }else{\n                        ub--;\n                    }\n\n                }\n            }\n        }\n        List&lt;List&lt;Integer&gt;&gt; ret = new ArrayList(ans);\n        return ret;\n    }\n}\n\n</code></pre>\n<p>this is the code i wrote and i dont think there is an issue here</p>\n"},{"tags":["java","encryption","character-encoding","urlencode","encoder"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1691666927,"post_id":76875240,"comment_id":135523792,"body_markdown":"Please let me know if you find an encryption algorithm that is both secure and *also* a great compression algorithm. Or, you know, keep it to yourself and become immensely rich.","body":"Please let me know if you find an encryption algorithm that is both secure and <i>also</i> a great compression algorithm. Or, you know, keep it to yourself and become immensely rich."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691667311,"post_id":76875240,"comment_id":135523868,"body_markdown":"Now, if you&#39;re looking for a *hash* instead of encryption, you can make those as short as you like. The shorter it is, the higher the chance of collisions. And of course unlike encryption, hashes are not reversible (you cannot obtain the original data).","body":"Now, if you&#39;re looking for a <i>hash</i> instead of encryption, you can make those as short as you like. The shorter it is, the higher the chance of collisions. And of course unlike encryption, hashes are not reversible (you cannot obtain the original data)."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691670004,"post_id":76875240,"comment_id":135524439,"body_markdown":"I’m afraid that less than five characters isn’t possible","body":"I’m afraid that less than five characters isn’t possible"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691683953,"post_id":76875240,"comment_id":135527876,"body_markdown":"Are you trying to encrypt ot to compress? Those are two different things.","body":"Are you trying to encrypt ot to compress? Those are two different things."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691699255,"creation_date":1691699255,"answer_id":76879115,"question_id":76875240,"body_markdown":"There are certainly ways to encode fields to a minimum amount of bits, especially if the values in the data are not randomized. Compression doesn&#39;t work that well for small data sizes as the overhead (to indicate the compression mechanism and such) will likely negate any result.\r\n\r\nThe best you can do using encryption is to break even, see Format Preserving Encryption (FPE) for that. The resulting ciphertext is fully randomized and cannot be compressed, so the compression must be performed beforehand.\r\n\r\nAfter FPE is performed on the binary data then you can perform *base conversion* to encode the value (seen as large integer) into an index, and finally in characters.\r\n\r\n---\r\n\r\nHowever, your data consists of large identifiers, so the chance that you can compress those to 5 characters or less is unlikely to the extreme, even if you&#39;d use all possible printable Unicode characters for the ciphertext.\r\n","title":"Get a shorter encoded characters of an encrypted link using Java","body":"<p>There are certainly ways to encode fields to a minimum amount of bits, especially if the values in the data are not randomized. Compression doesn't work that well for small data sizes as the overhead (to indicate the compression mechanism and such) will likely negate any result.</p>\n<p>The best you can do using encryption is to break even, see Format Preserving Encryption (FPE) for that. The resulting ciphertext is fully randomized and cannot be compressed, so the compression must be performed beforehand.</p>\n<p>After FPE is performed on the binary data then you can perform <em>base conversion</em> to encode the value (seen as large integer) into an index, and finally in characters.</p>\n<hr />\n<p>However, your data consists of large identifiers, so the chance that you can compress those to 5 characters or less is unlikely to the extreme, even if you'd use all possible printable Unicode characters for the ciphertext.</p>\n"}],"owner":{"account_id":26343930,"reputation":1,"user_id":20002621,"display_name":"Sham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1691726465,"answer_count":1,"score":-3,"last_activity_date":1691699255,"creation_date":1691666331,"question_id":76875240,"body_markdown":"I need to get a shorter characters using my encrypted link. This is is the encoded characters Im currently getting using my code: `data=xvXTyQe6cthuC0GdQcOvCR5PKSlFiMqLBt7tM0zbxHs%3D`. I want to achieve shorter characters than this.\r\n\r\nWhat I have done: \r\n\r\nGiven below is related part of my code:\r\n\r\n    private Map&lt;String, Object&gt; getEUGenericDataMapFields(Map&lt;String, Object&gt; data , Document doc) {\r\n    \r\n    String imeiOrSerial = org.apache.commons.lang3.StringUtils.isNotBlank(doc.getIMEINumber()) ? doc.getIMEINumber() : doc.getDeviceSerialNo();\r\n    String link = imeiOrSerial + PolicyConstants.REGEX_PIPE + PolicyConstants.RENEWAL_SMS;\r\n    \r\n    \tpublic static String encrypt(String strToEncrypt, String secret) {\r\n    \t\ttry {\r\n    \t\t\tKey secretKey = generateKey(secret);\r\n    \t\t\tCipher cipher = Cipher.getInstance(PolicyConstants.AES);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \t\t\treturn Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error while encrypting: &quot; + e);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    link = EncryptionUtil.encrypt(link, Config.getSecretKey());\r\n    \tdata.put(PolicyConstants.DATA_LINK, URLEncoder.encode(link, StandardCharsets.UTF_8.toString()));\r\n    return data;\r\n    }\r\n\r\nResult: \r\n\r\n    data=xvXTyQe6cthuC0GdQcOvCR5PKSlFiMqLBt7tM0zbxHs%3D (almost 50 characters)\r\n\r\nExpected result: less than 5 characters if possible.","title":"Get a shorter encoded characters of an encrypted link using Java","body":"<p>I need to get a shorter characters using my encrypted link. This is is the encoded characters Im currently getting using my code: <code>data=xvXTyQe6cthuC0GdQcOvCR5PKSlFiMqLBt7tM0zbxHs%3D</code>. I want to achieve shorter characters than this.</p>\n<p>What I have done:</p>\n<p>Given below is related part of my code:</p>\n<pre><code>private Map&lt;String, Object&gt; getEUGenericDataMapFields(Map&lt;String, Object&gt; data , Document doc) {\n\nString imeiOrSerial = org.apache.commons.lang3.StringUtils.isNotBlank(doc.getIMEINumber()) ? doc.getIMEINumber() : doc.getDeviceSerialNo();\nString link = imeiOrSerial + PolicyConstants.REGEX_PIPE + PolicyConstants.RENEWAL_SMS;\n\n    public static String encrypt(String strToEncrypt, String secret) {\n        try {\n            Key secretKey = generateKey(secret);\n            Cipher cipher = Cipher.getInstance(PolicyConstants.AES);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\n        } catch (Exception e) {\n            log.error(&quot;Error while encrypting: &quot; + e);\n        }\n        return null;\n    }\n\nlink = EncryptionUtil.encrypt(link, Config.getSecretKey());\n    data.put(PolicyConstants.DATA_LINK, URLEncoder.encode(link, StandardCharsets.UTF_8.toString()));\nreturn data;\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>data=xvXTyQe6cthuC0GdQcOvCR5PKSlFiMqLBt7tM0zbxHs%3D (almost 50 characters)\n</code></pre>\n<p>Expected result: less than 5 characters if possible.</p>\n"},{"tags":["java","export-to-csv","opencsv"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1691570515,"post_id":76865987,"comment_id":135508143,"body_markdown":"Maybe you want to change `.withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)`","body":"Maybe you want to change <code>.withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)</code>"},{"owner":{"account_id":10081276,"reputation":180,"user_id":7451476,"display_name":"tmzafar"},"score":0,"creation_date":1691571543,"post_id":76865987,"comment_id":135508334,"body_markdown":"@ScaryWombat you mean remove it?","body":"@ScaryWombat you mean remove it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691575233,"post_id":76865987,"comment_id":135509102,"body_markdown":"*but when i write a new csv it actually creates a new line* What do you mean by that? *and here is how it looks like in the arraylist:* Not legible (and [Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.)","body":"<i>but when i write a new csv it actually creates a new line</i> What do you mean by that? <i>and here is how it looks like in the arraylist:</i> Not legible (and <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691577412,"post_id":76865987,"comment_id":135509554,"body_markdown":"Moreover, from what I can see of &quot;Body&quot;, it looks like a string, and *not*  &quot;a new csv&quot;","body":"Moreover, from what I can see of &quot;Body&quot;, it looks like a string, and <i>not</i>  &quot;a new csv&quot;"},{"owner":{"account_id":10081276,"reputation":180,"user_id":7451476,"display_name":"tmzafar"},"score":0,"creation_date":1691597049,"post_id":76865987,"comment_id":135514037,"body_markdown":"@g00se it is a string, but somehow while writing the csv it is a line break","body":"@g00se it is a string, but somehow while writing the csv it is a line break"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691599385,"post_id":76865987,"comment_id":135514537,"body_markdown":"*.withEscapechar(&#39;\\n&#39;)* doesn&#39;t make sense I don&#39;t *think* (I haven&#39;t used this method before). You wouldn&#39;t want an escape char to be a line feed. I would begin by deleting that line","body":"<i>.withEscapechar(&#39;\\n&#39;)</i> doesn&#39;t make sense I don&#39;t <i>think</i> (I haven&#39;t used this method before). You wouldn&#39;t want an escape char to be a line feed. I would begin by deleting that line"}],"answers":[{"tags":[],"owner":{"account_id":10081276,"reputation":180,"user_id":7451476,"display_name":"tmzafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691699072,"creation_date":1691699072,"answer_id":76879099,"question_id":76865987,"body_markdown":"The suggestion of @g00se made me remove the *.withEscapechar(&#39;\\n&#39;)* and after that it worked fine. My final Export looks like this:\r\n\r\n    File file = new File(outDirectory, this.outputCSVName);\r\n\r\n        try (\r\n                Writer writer = Files.newBufferedWriter(Paths.get(file.toURI()), StandardCharsets.UTF_8);\r\n        ) {\r\n            StatefulBeanToCsv&lt;Shopify&gt; beanToCsv = new StatefulBeanToCsvBuilder(writer)\r\n                    .withSeparator(&#39;,&#39;)\r\n                    .build();\r\n\r\n            beanToCsv.write(data);\r\n            writer.close();\r\n            return &quot;Export OK&quot;;\r\n        } catch (CsvRequiredFieldEmptyException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (CsvDataTypeMismatchException e) {\r\n            throw new RuntimeException(e);\r\n        }","title":"How to escape linebreak character while writing a csv with java/opencsv","body":"<p>The suggestion of @g00se made me remove the <em>.withEscapechar('\\n')</em> and after that it worked fine. My final Export looks like this:</p>\n<pre><code>File file = new File(outDirectory, this.outputCSVName);\n\n    try (\n            Writer writer = Files.newBufferedWriter(Paths.get(file.toURI()), StandardCharsets.UTF_8);\n    ) {\n        StatefulBeanToCsv&lt;Shopify&gt; beanToCsv = new StatefulBeanToCsvBuilder(writer)\n                .withSeparator(',')\n                .build();\n\n        beanToCsv.write(data);\n        writer.close();\n        return &quot;Export OK&quot;;\n    } catch (CsvRequiredFieldEmptyException | IOException e) {\n        throw new RuntimeException(e);\n    } catch (CsvDataTypeMismatchException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"}],"owner":{"account_id":10081276,"reputation":180,"user_id":7451476,"display_name":"tmzafar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76879099,"answer_count":1,"score":0,"last_activity_date":1691699072,"creation_date":1691570422,"question_id":76865987,"body_markdown":"I have a CSV file, which is saved as a Bean. One column has HTML tags including \\n character. While reading with opencsv is not a problem, but when i write a new csv it actually creates a new line break/row. [![CSV][1]][1]\r\n\r\nHere is what i have tried:\r\n\r\n    File file = new File(outDirectory, this.outputCSVName);\r\n\r\n        try (\r\n                Writer writer = Files.newBufferedWriter(Paths.get(file.toURI()));\r\n        ) {\r\n            StatefulBeanToCsv&lt;Shopify&gt; beanToCsv = new StatefulBeanToCsvBuilder(writer)\r\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n                    .withApplyQuotesToAll(true)[![enter image description here][1]][1]\r\n                    .withEscapechar(&#39;\\n&#39;)\r\n                    .withLineEnd(&quot;\\n&quot;) // just to test\r\n                    .withSeparator(&#39;,&#39;)\r\n                    .build();\r\n\r\n            beanToCsv.write(data);\r\n            writer.close();\r\n\r\n        } catch (CsvRequiredFieldEmptyException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (CsvDataTypeMismatchException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\nand here is how it looks like in the arraylist:[![enter image description here][2]][2]\r\n\r\nHow can i write it as a string? Also how can i export it as a UTF-8 encoded file? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kyeVh.png\r\n  [2]: https://i.stack.imgur.com/yr7d4.png","title":"How to escape linebreak character while writing a csv with java/opencsv","body":"<p>I have a CSV file, which is saved as a Bean. One column has HTML tags including \\n character. While reading with opencsv is not a problem, but when i write a new csv it actually creates a new line break/row. <a href=\"https://i.stack.imgur.com/kyeVh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kyeVh.png\" alt=\"CSV\" /></a></p>\n<p>Here is what i have tried:</p>\n<pre><code>File file = new File(outDirectory, this.outputCSVName);\n\n    try (\n            Writer writer = Files.newBufferedWriter(Paths.get(file.toURI()));\n    ) {\n        StatefulBeanToCsv&lt;Shopify&gt; beanToCsv = new StatefulBeanToCsvBuilder(writer)\n                .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n                .withApplyQuotesToAll(true)[![enter image description here][1]][1]\n                .withEscapechar('\\n')\n                .withLineEnd(&quot;\\n&quot;) // just to test\n                .withSeparator(',')\n                .build();\n\n        beanToCsv.write(data);\n        writer.close();\n\n    } catch (CsvRequiredFieldEmptyException | IOException e) {\n        throw new RuntimeException(e);\n    } catch (CsvDataTypeMismatchException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>and here is how it looks like in the arraylist:<a href=\"https://i.stack.imgur.com/yr7d4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yr7d4.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i write it as a string? Also how can i export it as a UTF-8 encoded file?</p>\n"},{"tags":["java","spring","maven","spring-mvc","jpa"],"comments":[{"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"score":0,"creation_date":1481827188,"post_id":41170661,"comment_id":69542499,"body_markdown":"How looks your class with main method? Is it annotated with `@SpringBootApplication`? Is it in package that is root package for any others?","body":"How looks your class with main method? Is it annotated with <code>@SpringBootApplication</code>? Is it in package that is root package for any others?"},{"owner":{"account_id":9859819,"reputation":341,"user_id":7303201,"display_name":"Miguel Torrej&#243;n Garv&#237;a"},"score":1,"creation_date":1481827990,"post_id":41170661,"comment_id":69542926,"body_markdown":"package es.uc3m.tiw;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ClienteSpringApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(ClienteSpringApplication.class, args);\n\t}\n}","body":"package es.uc3m.tiw;  import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication&zwnj;&#8203;;  @SpringBootApplication public class ClienteSpringApplication {  \tpublic static void main(String[] args) { \t\tSpringApplication.run(ClienteSpringApplication.class, args); \t} }"}],"answers":[{"tags":[],"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481868641,"creation_date":1481868641,"answer_id":41178250,"question_id":41170661,"body_markdown":"You are missing repository configuration, as you have to configure it using `@Repository`,\r\n\r\nFollowing is incorrect,\r\n\r\n    public interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\r\n\r\nRather it should be configured as repository as follows,\r\n\r\n    @Repository\r\n    public interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\r\n\r\nThis will make it a bean to be scanned and treat it as a repository and then your following code should work as expected as well,\r\n\r\n    @Autowired\r\n    private UsuarioRepository usuarioDao;\r\n\r\n","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>You are missing repository configuration, as you have to configure it using <code>@Repository</code>,</p>\n\n<p>Following is incorrect,</p>\n\n<pre><code>public interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\n</code></pre>\n\n<p>Rather it should be configured as repository as follows,</p>\n\n<pre><code>@Repository\npublic interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\n</code></pre>\n\n<p>This will make it a bean to be scanned and treat it as a repository and then your following code should work as expected as well,</p>\n\n<pre><code>@Autowired\nprivate UsuarioRepository usuarioDao;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511192,"reputation":205,"user_id":1413278,"display_name":"Deepu Surendran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500928156,"creation_date":1500928156,"answer_id":45289507,"question_id":41170661,"body_markdown":"Check persistence-api in pom file and try to change with hibernate-jpa-2.1 which is a part of spring-boot-started-data-jpa jar","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>Check persistence-api in pom file and try to change with hibernate-jpa-2.1 which is a part of spring-boot-started-data-jpa jar</p>\n"},{"tags":[],"owner":{"account_id":3746920,"reputation":21,"user_id":3115394,"display_name":"Carvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505342688,"creation_date":1505342688,"answer_id":46207916,"question_id":41170661,"body_markdown":"In my case was the h2-1.4.193.jar, that contains the Driver class but it can&#39;t be read (very odd, may be is corrupted), as you can see:\r\n[Driver class from h2-1.4.193][1]\r\n\r\nSo, you can update de spring-boot-starter-parent to 1.5.3.RELEASE (or newer) or override the managed version of your h2 dependency.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nMnUd.png","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>In my case was the h2-1.4.193.jar, that contains the Driver class but it can't be read (very odd, may be is corrupted), as you can see:\n<a href=\"https://i.stack.imgur.com/nMnUd.png\" rel=\"nofollow noreferrer\">Driver class from h2-1.4.193</a></p>\n\n<p>So, you can update de spring-boot-starter-parent to 1.5.3.RELEASE (or newer) or override the managed version of your h2 dependency.</p>\n"},{"tags":[],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1515750748,"creation_date":1515750748,"answer_id":48223609,"question_id":41170661,"body_markdown":"In your `ClienteSpringApplication` you only have the `@SpringBootApplication` annotation, wich is the equivalent of `@Configuration`, `@EnableAutoConfiguration` and `@ComponentScan`. What you are missing is the `@EnableJpaRepositories` annotation.\r\n\r\n\r\n    package es.uc3m.tiw;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    @EnableJpaRepositories\r\n    public class ClienteSpringApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ClienteSpringApplication.class, args);\r\n        }\r\n    }\r\n\r\nIf it doesn&#39;t work like that try adding also the package of your repository:\r\n\r\n    @EnableJpaRepositories(&quot;es.uc3m.tiw.dominios&quot;)","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>In your <code>ClienteSpringApplication</code> you only have the <code>@SpringBootApplication</code> annotation, wich is the equivalent of <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code>. What you are missing is the <code>@EnableJpaRepositories</code> annotation.</p>\n\n<pre><code>package es.uc3m.tiw;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class ClienteSpringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClienteSpringApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>If it doesn't work like that try adding also the package of your repository:</p>\n\n<pre><code>@EnableJpaRepositories(\"es.uc3m.tiw.dominios\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12021263,"reputation":101,"user_id":8794626,"display_name":"Appsstuff Solutions"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524944199,"creation_date":1524938375,"answer_id":50079546,"question_id":41170661,"body_markdown":"check that you added **@Repository annotation on JpaRepository**\r\nCheck that you make all entity Setter and Getter\r\nclean and build\r\nthen run.","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>check that you added <strong>@Repository annotation on JpaRepository</strong>\nCheck that you make all entity Setter and Getter\nclean and build\nthen run.</p>\n"},{"tags":[],"owner":{"account_id":8072907,"reputation":1250,"user_id":6085034,"display_name":"Christian Altamirano Ayala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525899613,"creation_date":1525899613,"answer_id":50261969,"question_id":41170661,"body_markdown":"Be careful with jars dependencies loaded by Maven, in my case hibernate-core.jar was corrupted, once I removed and install that dependency the project runs ok.\r\ncheers.","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>Be careful with jars dependencies loaded by Maven, in my case hibernate-core.jar was corrupted, once I removed and install that dependency the project runs ok.\ncheers.</p>\n"},{"tags":[],"owner":{"account_id":7029904,"reputation":106,"user_id":5386017,"display_name":"H. Sami Sari"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531431706,"creation_date":1531431706,"answer_id":51314877,"question_id":41170661,"body_markdown":"I had exact same issue. When I checked maven build log I have realised that there was an error about hibernate packages complaining about &quot;invalid LOC header (bad signature)&quot;. I solved by deleting sub directories under &lt;user-home&gt;\\.m2\\repository\\org\\hibernate\\hibernate-core and recompiling my project.","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>I had exact same issue. When I checked maven build log I have realised that there was an error about hibernate packages complaining about \"invalid LOC header (bad signature)\". I solved by deleting sub directories under .m2\\repository\\org\\hibernate\\hibernate-core and recompiling my project.</p>\n"},{"tags":[],"owner":{"account_id":11758526,"reputation":41,"user_id":8605422,"display_name":"Ankit Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573549912,"creation_date":1573549912,"answer_id":58815370,"question_id":41170661,"body_markdown":"pom.xml needs to be updated and it works for me:\r\n\r\nI added the following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>pom.xml needs to be updated and it works for me:</p>\n\n<p>I added the following dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8006428,"reputation":363,"user_id":6039603,"display_name":"rsobies"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1691669949,"creation_date":1595132986,"answer_id":62976297,"question_id":41170661,"body_markdown":"In my case, I had the wrong dependency: `spring-data-jpa`.\r\nwhen I changed to spring-boot-starter-data-jpa, it solved the problem.\r\n\r\nI didn&#39;t have to add any annotation `@Repository` nor `@EnableJpa` etc.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>In my case, I had the wrong dependency: <code>spring-data-jpa</code>.\nwhen I changed to spring-boot-starter-data-jpa, it solved the problem.</p>\n<p>I didn't have to add any annotation <code>@Repository</code> nor <code>@EnableJpa</code> etc.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2217934,"reputation":498,"user_id":1958098,"accept_rate":100,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656533106,"creation_date":1656533106,"answer_id":72807227,"question_id":41170661,"body_markdown":"I faced the same issue some time back and in my case the package declaration in connection configuration was wrong.\r\nSo like others said, either check the annotations in SpringBootApplication class or the configurations in your connectionconfiguration class\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;someEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;someTransactionManager&quot;,\r\n            **basePackages = {&quot;com.pack.some.database.repository&quot;})**\r\n    public class MyConnectionConfiguration {","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>I faced the same issue some time back and in my case the package declaration in connection configuration was wrong.\nSo like others said, either check the annotations in SpringBootApplication class or the configurations in your connectionconfiguration class</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;someEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;someTransactionManager&quot;,\n        **basePackages = {&quot;com.pack.some.database.repository&quot;})**\npublic class MyConnectionConfiguration {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16204252,"reputation":116,"user_id":11699883,"display_name":"Pokrt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691698416,"creation_date":1667092082,"answer_id":74249891,"question_id":41170661,"body_markdown":"In my case, I was missing Hibernate Entity Manager dependency, \r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \r\n      &lt;version&gt;5.2.3.Final&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\nbecause I have had only this one (Hibernate Core):\r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; \r\n      &lt;version&gt;4.1.4.Final&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\nFurthermore solved adding this dependency:\r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \r\n      &lt;version&gt;2.3.0&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\nas suggested here: [link][1].\r\n\r\n\r\n  [1]: https://www.edureka.co/community/163776/creating-entitymanagerfactory-defined-resource-invocation","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>In my case, I was missing Hibernate Entity Manager dependency,</p>\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \n  &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \n  &lt;version&gt;5.2.3.Final&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>because I have had only this one (Hibernate Core):</p>\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; \n  &lt;version&gt;4.1.4.Final&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Furthermore solved adding this dependency:</p>\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \n  &lt;version&gt;2.3.0&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>as suggested here: <a href=\"https://www.edureka.co/community/163776/creating-entitymanagerfactory-defined-resource-invocation\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":20898348,"reputation":41,"user_id":15351994,"display_name":"Hassan Harera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674055343,"creation_date":1674055343,"answer_id":75161479,"question_id":41170661,"body_markdown":"In my case, the problem was incompatible versions between JPA nad Spring Boot version","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>In my case, the problem was incompatible versions between JPA nad Spring Boot version</p>\n"},{"tags":[],"owner":{"account_id":4562312,"reputation":8142,"user_id":3704297,"accept_rate":100,"display_name":"omikes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678811259,"creation_date":1678751741,"answer_id":75727919,"question_id":41170661,"body_markdown":"After trying a dozen things, I finally gave up and added a bean to my config like it says to do, with a `DataSource` variable named `dataSource` which gets `@Autowired` in the constructor. \r\nThen it wanted another bean that I also added. \r\n\r\nHere is the final config, don&#39;t forget to replace the `repository.package.location` text with the package location of your repository:\r\n\r\n```\r\n@Configuration\r\npublic class JpaConfiguration\r\n{\r\n\tprivate final DataSource dataSource;\r\n\r\n\tpublic JpaConfiguration(DataSource dataSource) {\r\n\t\tthis.dataSource = dataSource;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EntityManagerFactory entityManagerFactory() {\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tvendorAdapter.setGenerateDdl(true);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactory.setJpaVendorAdapter(vendorAdapter);\r\n\t\tfactory.setPackagesToScan(&quot;repository.package.location&quot;);\r\n\t\tfactory.setDataSource(dataSource);\r\n\t\tfactory.afterPropertiesSet();\r\n\r\n\t\treturn factory.getObject();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PlatformTransactionManager transactionManager() {\r\n\t\tJpaTransactionManager txManager = new JpaTransactionManager();\r\n\t\ttxManager.setEntityManagerFactory(entityManagerFactory());\r\n\t\treturn txManager;\r\n\t}\r\n}\r\n```","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>After trying a dozen things, I finally gave up and added a bean to my config like it says to do, with a <code>DataSource</code> variable named <code>dataSource</code> which gets <code>@Autowired</code> in the constructor.\nThen it wanted another bean that I also added.</p>\n<p>Here is the final config, don't forget to replace the <code>repository.package.location</code> text with the package location of your repository:</p>\n<pre><code>@Configuration\npublic class JpaConfiguration\n{\n    private final DataSource dataSource;\n\n    public JpaConfiguration(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(true);\n\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setJpaVendorAdapter(vendorAdapter);\n        factory.setPackagesToScan(&quot;repository.package.location&quot;);\n        factory.setDataSource(dataSource);\n        factory.afterPropertiesSet();\n\n        return factory.getObject();\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager txManager = new JpaTransactionManager();\n        txManager.setEntityManagerFactory(entityManagerFactory());\n        return txManager;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9859819,"reputation":341,"user_id":7303201,"display_name":"Miguel Torrej&#243;n Garv&#237;a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150380,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":13,"score":34,"last_activity_date":1691698416,"creation_date":1481825288,"question_id":41170661,"body_markdown":"I am developing an application in Spring, using Tomcat, Mysql5, Java8... The problem is that I cannot deploy it, due to &quot;required bean &#39;entityManagerFactory&#39; not found&quot; problem. I have developed this project with my coworkers but they can perfectly deploy it with any problems, even if I copy-paste the same project in Spring Tool Suite. How can be possible?\r\nError:\r\n\r\n        2016-12-15 17:41:12.777  WARN 3676 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;controlador&#39;: Unsatisfied dependency expressed through field &#39;usuarioDao&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;usuarioRepository&#39;: Cannot create inner bean &#39;(inner bean)#59e43e8c&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#59e43e8c&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    2016-12-15 17:41:12.783  INFO 3676 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\r\n    2016-12-15 17:41:12.807  WARN 3676 --- [ost-startStop-1] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n    2016-12-15 17:41:12.826  INFO 3676 --- [           main] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2016-12-15 17:41:12.940 ERROR 3676 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field usuarioDao in es.uc3m.tiw.Controladores.Controlador required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n\r\n**Here is my pom.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;es.uc3m.tiw&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Cliente&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Cliente&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\t\r\n            \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**Here is my repository**\r\n\r\n        package es.uc3m.tiw.Daos;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import es.uc3m.tiw.dominios.Usuario;\r\n    \r\n    public interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\r\n    \r\n    \tList&lt;Usuario&gt; findAll();\r\n    \t\r\n    \tUsuario findByNombre(String nombre);\r\n    }\r\n\r\n\r\n**Here is my controller**\r\n\r\n    package es.uc3m.tiw.Controladores;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import es.uc3m.tiw.Daos.AdministradorRepository;\r\n    import es.uc3m.tiw.Daos.UsuarioRepository;\r\n    import es.uc3m.tiw.dominios.Administrador;\r\n    import es.uc3m.tiw.dominios.Usuario;\r\n    \r\n    @RestController\r\n    public class Controlador {\r\n    \r\n    @Autowired\r\n    private UsuarioRepository usuarioDao;\r\n    private AdministradorRepository administradorDao;\r\n    \r\n    \r\n    \t\r\n    \t@RequestMapping(value=&quot;/registroUsuario&quot;, method = RequestMethod.POST)\r\n    \tpublic @ResponseBody Usuario registrarUsuario(@RequestBody Usuario usuarioARegistrar){\r\n    \tusuarioDao.save(usuarioARegistrar); //guardar, editar, borrar, findbyOne(Primary key) son m&#233;todos que vienen implementados ya en el CrudRepository\r\n    \treturn usuarioARegistrar;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/editarUsuario&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody Usuario editarUsuario(Usuario usuarioAEditar){\r\n    \t        usuarioAEditar.setNombre(usuarioAEditar.getNombre());\r\n    \t        usuarioAEditar.setApellidos(usuarioAEditar.getApellidos());\r\n    \t        usuarioAEditar.setCiudad(usuarioAEditar.getCiudad());\r\n    \t        usuarioAEditar.setEmail(usuarioAEditar.getEmail());\r\n    \t        usuarioAEditar.setPassword(usuarioAEditar.getPassword());\r\n    \t        usuarioDao.save(usuarioAEditar);\t        \r\n        return usuarioAEditar;\r\n        }\r\n    \t\r\n    \t@RequestMapping(value=&quot;/eliminarUsuario&quot;, method = RequestMethod.DELETE)\r\n        public @ResponseBody Usuario eliminarUsuario(Usuario usuarioAEliminar){\r\n        usuarioDao.delete(usuarioAEliminar);\r\n        return usuarioAEliminar;\r\n        }\r\n    \r\n    \t@RequestMapping(value=&quot;/validar&quot; ,method = RequestMethod.POST)\r\n    \tpublic  @ResponseBody Usuario loginUsuario(@RequestBody Usuario usuarioPendiente){\r\n    \tUsuario usuarioLogeado = null;\r\n    \tList &lt;Usuario&gt; usuarios = usuarioDao.findAll();\r\n    \tusuarioLogeado = comprobarUsuario(usuarios, usuarioPendiente.getEmail(),usuarioPendiente.getPassword()); \r\n    \treturn usuarioLogeado;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/verPerfilUsuario&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody Usuario verPerfilUsuario(Usuario usuarioAMostrar){\r\n    \t\tusuarioAMostrar.getNombre();\r\n    \t\tusuarioAMostrar.getApellidos();\r\n    \t\tusuarioAMostrar.getCiudad();\r\n    \t\tusuarioAMostrar.getEmail();\r\n    \t\tusuarioAMostrar.getPassword();\r\n        return usuarioAMostrar;\r\n        }\r\n    \t\r\n    \t@RequestMapping(value=&quot;/loginAdministrador&quot; ,method = RequestMethod.POST)\r\n        public  @ResponseBody Administrador loginAdministrador(@RequestBody Administrador administradorPendiente){\r\n    \t\tAdministrador administradorLogeado = null;\r\n        \tList &lt;Administrador&gt; administradores = administradorDao.findAll();\r\n        \tadministradorLogeado = comprobarAdministrador(administradores, administradorPendiente.getEmail(),administradorPendiente.getPassword());\r\n        \treturn administradorLogeado;\r\n        }\r\n    \t\r\n        private Usuario comprobarUsuario( List&lt;Usuario&gt; usuarios, String email, String password) {\r\n                Usuario u = null;\r\n                for (Usuario usuario : usuarios) {\r\n                        if (email.equals(usuario.getEmail()) &amp;&amp; password.equals(usuario.getPassword())){\r\n                                u = usuario;\r\n                                break;\r\n                        \t\t}\r\n                \t\t}\r\n                return u;\r\n        \t} \r\n     \r\n        private Administrador comprobarAdministrador( List&lt;Administrador&gt; administradores, String email, String password) {\r\n            Administrador ad = null;\r\n            for (Administrador administrador : administradores) {\r\n                    if (email.equals(administrador.getEmail()) &amp;&amp; password.equals(administrador.getPassword())){\r\n                            ad = administrador;\r\n                            //break;\r\n                    \t\t}\r\n            \t\t}\r\n            return ad;\r\n    \t}\r\n    }\r\n\r\n\r\n**Application.properties**\r\n\r\n    server.port=8010\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/tiw\r\n    spring.datasource.username=root\r\n    spring.datasource.password=admin\r\n    spring.datasource.driver-class-name = com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\n**Entity**\r\n\r\n    package es.uc3m.tiw.dominios;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;USUARIOS&quot;)\r\n    public class Usuario implements Serializable {\r\n    \t\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t@Id\r\n    \t\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t\tprivate long id;\r\n    \t\t@Column(length = 25)\r\n    \t\tprivate String nombre;\r\n    \t\t@Column(length = 25)\r\n    \t\tprivate String apellidos;\r\n    \t\t@Column(length = 25)\r\n    \t\tprivate String ciudad;\r\n    \t\t@Column(length = 25, nullable = false, unique = true)\r\n    \t\tprivate String email;\r\n    \t\t@Column(length = 25, nullable = false)\r\n    \t\tprivate String password;\r\n    \t\t\r\n    \t\t\r\n    \t\tpublic Usuario() {\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Usuario(long id, String nombre, String apellidos, String ciudad, String password, String email) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.nombre = nombre;\r\n    \t\t\tthis.apellidos = apellidos;\r\n    \t\t\tthis.ciudad = ciudad;\r\n    \t\t\tthis.password = password;\r\n    \t\t\tthis.email = email;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic long getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(long id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\t\t\r\n    \t\tpublic String getNombre() {\r\n    \t\t\treturn nombre;\r\n    \t\t}\t\t\r\n    \t\tpublic void setNombre(String nombre) {\r\n    \t\t\tthis.nombre = nombre;\r\n    \t\t}\t\t\r\n    \t\tpublic String getApellidos() {\r\n    \t\t\treturn apellidos;\r\n    \t\t}\t\r\n    \t\tpublic void setApellidos(String apellidos) {\r\n    \t\t\tthis.apellidos = apellidos;\r\n    \t\t}\t\t\r\n    \t\tpublic String getCiudad() {\r\n    \t\t\treturn ciudad;\r\n    \t\t}\r\n    \t\tpublic void setCiudad(String ciudad) {\r\n    \t\t\tthis.ciudad = ciudad;\r\n    \t\t}\t\t\r\n    \t\tpublic String getPassword() {\r\n    \t\t\treturn password;\r\n    \t\t}\t\t\r\n    \t\tpublic void setPassword(String password) {\r\n    \t\t\tthis.password = password;\r\n    \t\t}\t\r\n    \t\tpublic String getEmail() {\r\n    \t\t\treturn email;\r\n    \t\t}\t\r\n    \t\tpublic void setEmail(String email) {\r\n    \t\t\tthis.email = email;\r\n    \t\t}\r\n    }\r\n\r\n\r\n**Here is my main**\r\n\r\n    package es.uc3m.tiw;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ClienteSpringApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ClienteSpringApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Spring Data JPA - Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration","body":"<p>I am developing an application in Spring, using Tomcat, Mysql5, Java8... The problem is that I cannot deploy it, due to \"required bean 'entityManagerFactory' not found\" problem. I have developed this project with my coworkers but they can perfectly deploy it with any problems, even if I copy-paste the same project in Spring Tool Suite. How can be possible?\nError:</p>\n\n<pre><code>    2016-12-15 17:41:12.777  WARN 3676 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'controlador': Unsatisfied dependency expressed through field 'usuarioDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository': Cannot create inner bean '(inner bean)#59e43e8c' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#59e43e8c': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n2016-12-15 17:41:12.783  INFO 3676 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n2016-12-15 17:41:12.807  WARN 3676 --- [ost-startStop-1] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n2016-12-15 17:41:12.826  INFO 3676 --- [           main] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2016-12-15 17:41:12.940 ERROR 3676 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField usuarioDao in es.uc3m.tiw.Controladores.Controlador required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n\n<p><strong>Here is my pom.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;es.uc3m.tiw&lt;/groupId&gt;\n    &lt;artifactId&gt;Cliente&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Cliente&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;   \n\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Here is my repository</strong></p>\n\n<pre><code>    package es.uc3m.tiw.Daos;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport es.uc3m.tiw.dominios.Usuario;\n\npublic interface UsuarioRepository  extends JpaRepository&lt;Usuario, Long&gt; {\n\n    List&lt;Usuario&gt; findAll();\n\n    Usuario findByNombre(String nombre);\n}\n</code></pre>\n\n<p><strong>Here is my controller</strong></p>\n\n<pre><code>package es.uc3m.tiw.Controladores;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport es.uc3m.tiw.Daos.AdministradorRepository;\nimport es.uc3m.tiw.Daos.UsuarioRepository;\nimport es.uc3m.tiw.dominios.Administrador;\nimport es.uc3m.tiw.dominios.Usuario;\n\n@RestController\npublic class Controlador {\n\n@Autowired\nprivate UsuarioRepository usuarioDao;\nprivate AdministradorRepository administradorDao;\n\n\n\n    @RequestMapping(value=\"/registroUsuario\", method = RequestMethod.POST)\n    public @ResponseBody Usuario registrarUsuario(@RequestBody Usuario usuarioARegistrar){\n    usuarioDao.save(usuarioARegistrar); //guardar, editar, borrar, findbyOne(Primary key) son métodos que vienen implementados ya en el CrudRepository\n    return usuarioARegistrar;\n    }\n\n    @RequestMapping(value=\"/editarUsuario\", method = RequestMethod.POST)\n    public @ResponseBody Usuario editarUsuario(Usuario usuarioAEditar){\n            usuarioAEditar.setNombre(usuarioAEditar.getNombre());\n            usuarioAEditar.setApellidos(usuarioAEditar.getApellidos());\n            usuarioAEditar.setCiudad(usuarioAEditar.getCiudad());\n            usuarioAEditar.setEmail(usuarioAEditar.getEmail());\n            usuarioAEditar.setPassword(usuarioAEditar.getPassword());\n            usuarioDao.save(usuarioAEditar);            \n    return usuarioAEditar;\n    }\n\n    @RequestMapping(value=\"/eliminarUsuario\", method = RequestMethod.DELETE)\n    public @ResponseBody Usuario eliminarUsuario(Usuario usuarioAEliminar){\n    usuarioDao.delete(usuarioAEliminar);\n    return usuarioAEliminar;\n    }\n\n    @RequestMapping(value=\"/validar\" ,method = RequestMethod.POST)\n    public  @ResponseBody Usuario loginUsuario(@RequestBody Usuario usuarioPendiente){\n    Usuario usuarioLogeado = null;\n    List &lt;Usuario&gt; usuarios = usuarioDao.findAll();\n    usuarioLogeado = comprobarUsuario(usuarios, usuarioPendiente.getEmail(),usuarioPendiente.getPassword()); \n    return usuarioLogeado;\n    }\n\n    @RequestMapping(value=\"/verPerfilUsuario\", method = RequestMethod.GET)\n    public @ResponseBody Usuario verPerfilUsuario(Usuario usuarioAMostrar){\n        usuarioAMostrar.getNombre();\n        usuarioAMostrar.getApellidos();\n        usuarioAMostrar.getCiudad();\n        usuarioAMostrar.getEmail();\n        usuarioAMostrar.getPassword();\n    return usuarioAMostrar;\n    }\n\n    @RequestMapping(value=\"/loginAdministrador\" ,method = RequestMethod.POST)\n    public  @ResponseBody Administrador loginAdministrador(@RequestBody Administrador administradorPendiente){\n        Administrador administradorLogeado = null;\n        List &lt;Administrador&gt; administradores = administradorDao.findAll();\n        administradorLogeado = comprobarAdministrador(administradores, administradorPendiente.getEmail(),administradorPendiente.getPassword());\n        return administradorLogeado;\n    }\n\n    private Usuario comprobarUsuario( List&lt;Usuario&gt; usuarios, String email, String password) {\n            Usuario u = null;\n            for (Usuario usuario : usuarios) {\n                    if (email.equals(usuario.getEmail()) &amp;&amp; password.equals(usuario.getPassword())){\n                            u = usuario;\n                            break;\n                            }\n                    }\n            return u;\n        } \n\n    private Administrador comprobarAdministrador( List&lt;Administrador&gt; administradores, String email, String password) {\n        Administrador ad = null;\n        for (Administrador administrador : administradores) {\n                if (email.equals(administrador.getEmail()) &amp;&amp; password.equals(administrador.getPassword())){\n                        ad = administrador;\n                        //break;\n                        }\n                }\n        return ad;\n    }\n}\n</code></pre>\n\n<p><strong>Application.properties</strong></p>\n\n<pre><code>server.port=8010\nspring.datasource.url=jdbc:mysql://localhost:3306/tiw\nspring.datasource.username=root\nspring.datasource.password=admin\nspring.datasource.driver-class-name = com.mysql.jdbc.Driver\n\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p><strong>Entity</strong></p>\n\n<pre><code>package es.uc3m.tiw.dominios;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"USUARIOS\")\npublic class Usuario implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue(strategy=GenerationType.AUTO)\n        private long id;\n        @Column(length = 25)\n        private String nombre;\n        @Column(length = 25)\n        private String apellidos;\n        @Column(length = 25)\n        private String ciudad;\n        @Column(length = 25, nullable = false, unique = true)\n        private String email;\n        @Column(length = 25, nullable = false)\n        private String password;\n\n\n        public Usuario() {\n        }\n\n        public Usuario(long id, String nombre, String apellidos, String ciudad, String password, String email) {\n            super();\n            this.id = id;\n            this.nombre = nombre;\n            this.apellidos = apellidos;\n            this.ciudad = ciudad;\n            this.password = password;\n            this.email = email;\n        }\n\n        public long getId() {\n            return id;\n        }\n        public void setId(long id) {\n            this.id = id;\n        }       \n        public String getNombre() {\n            return nombre;\n        }       \n        public void setNombre(String nombre) {\n            this.nombre = nombre;\n        }       \n        public String getApellidos() {\n            return apellidos;\n        }   \n        public void setApellidos(String apellidos) {\n            this.apellidos = apellidos;\n        }       \n        public String getCiudad() {\n            return ciudad;\n        }\n        public void setCiudad(String ciudad) {\n            this.ciudad = ciudad;\n        }       \n        public String getPassword() {\n            return password;\n        }       \n        public void setPassword(String password) {\n            this.password = password;\n        }   \n        public String getEmail() {\n            return email;\n        }   \n        public void setEmail(String email) {\n            this.email = email;\n        }\n}\n</code></pre>\n\n<p><strong>Here is my main</strong></p>\n\n<pre><code>package es.uc3m.tiw;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ClienteSpringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClienteSpringApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","slf4j","javalin"],"comments":[{"owner":{"account_id":235131,"reputation":2628,"user_id":501739,"accept_rate":67,"display_name":"Jolta"},"score":0,"creation_date":1555054088,"post_id":55515952,"comment_id":97982356,"body_markdown":"I think this question is not specific to the Javalin library, so I added the Slf4j and Java tags here.","body":"I think this question is not specific to the Javalin library, so I added the Slf4j and Java tags here."},{"owner":{"account_id":2370379,"reputation":2150,"user_id":2075134,"accept_rate":78,"display_name":"MrDumb"},"score":0,"creation_date":1560764623,"post_id":55515952,"comment_id":99829351,"body_markdown":"if you mean path of the file where your log should be stored. Then you should fallow this [link](https://howtodoinjava.com/log4j2/log4j-2-xml-configuration-example/). if this is your requirement and link is not clear let me know. I&#39;ll write you an answer","body":"if you mean path of the file where your log should be stored. Then you should fallow this <a href=\"https://howtodoinjava.com/log4j2/log4j-2-xml-configuration-example/\" rel=\"nofollow noreferrer\">link</a>. if this is your requirement and link is not clear let me know. I&#39;ll write you an answer"},{"owner":{"account_id":371476,"reputation":35019,"user_id":720030,"display_name":"karmakaze"},"score":0,"creation_date":1572493915,"post_id":55515952,"comment_id":103579904,"body_markdown":"The link provided by @MrDumb is if you are using Javalin with `Log4j`. Javalin uses `Slf4j` which in turn can use different log implementations. Other common ones are `logback` and `slf4j-simple`.","body":"The link provided by @MrDumb is if you are using Javalin with <code>Log4j</code>. Javalin uses <code>Slf4j</code> which in turn can use different log implementations. Other common ones are <code>logback</code> and <code>slf4j-simple</code>."}],"answers":[{"tags":[],"owner":{"account_id":7799336,"reputation":48,"user_id":5899345,"display_name":"zugazagoitia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691698414,"creation_date":1691698414,"answer_id":76879037,"question_id":55515952,"body_markdown":"Javalin does not come with a specific logger, you should check the documentation of the logger you&#39;re using to configure it. \r\n\r\nYou can also check the [Javalin tutorial on logging](https://javalin.io/tutorials/javalin-logging).\r\n","title":"How to give log path in javalin","body":"<p>Javalin does not come with a specific logger, you should check the documentation of the logger you're using to configure it.</p>\n<p>You can also check the <a href=\"https://javalin.io/tutorials/javalin-logging\" rel=\"nofollow noreferrer\">Javalin tutorial on logging</a>.</p>\n"}],"owner":{"account_id":2563085,"reputation":21,"user_id":2223809,"display_name":"purnachand.kodali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691698414,"creation_date":1554380660,"question_id":55515952,"body_markdown":"    public class App {\r\n\t    //private static final Logger logger = LoggerFactory.getLogger(App.class);\r\n\t    private static Logger logger = LoggerFactory.getLogger(App.class.getName());\r\n\t    private static ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Integer port = args.length&gt;0?Integer.parseInt(args[0]): 7000;\t\t\r\n\t\t    Javalin app = Javalin.create().port(port).start();\t\t\r\n\t\t\r\n\t\t    app.get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;service working&quot;));\t\t\r\n\t\t    app.post(&quot;/mhbwebservice&quot;, handler);\t\t\r\n\t    }\r\n    }\r\n\r\n\r\nCan you please advice on how to give log path in javalin framework","title":"How to give log path in javalin","body":"<pre><code>public class App {\n    //private static final Logger logger = LoggerFactory.getLogger(App.class);\n    private static Logger logger = LoggerFactory.getLogger(App.class.getName());\n    private static ObjectMapper mapper = new ObjectMapper();\n\n    public static void main(String[] args) {\n        Integer port = args.length&gt;0?Integer.parseInt(args[0]): 7000;       \n        Javalin app = Javalin.create().port(port).start();      \n\n        app.get(\"/\", ctx -&gt; ctx.result(\"service working\"));     \n        app.post(\"/mhbwebservice\", handler);        \n    }\n}\n</code></pre>\n\n<p>Can you please advice on how to give log path in javalin framework</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1514563001,"post_id":48025072,"comment_id":83019567,"body_markdown":"Use a Map&lt;String, YourClass&gt;, where YourClass has a name, an ip, and a cumulatedDuration. Add an `addDuration(int duration)` method to the class to add a duration to the cumulated duration. Java is an OO language. Use classes. This will make your code much clearer (and faster, too).","body":"Use a Map&lt;String, YourClass&gt;, where YourClass has a name, an ip, and a cumulatedDuration. Add an <code>addDuration(int duration)</code> method to the class to add a duration to the cumulated duration. Java is an OO language. Use classes. This will make your code much clearer (and faster, too)."},{"owner":{"account_id":12426753,"reputation":11,"user_id":9051077,"display_name":"Anton Stoychev"},"score":0,"creation_date":1514563333,"post_id":48025072,"comment_id":83019707,"body_markdown":"Thanks for your advice but the aim is to solve without classes and I am trying :)","body":"Thanks for your advice but the aim is to solve without classes and I am trying :)"}],"answers":[{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514562930,"creation_date":1514562930,"answer_id":48025102,"question_id":48025072,"body_markdown":"    int oldDuration = users.get(name).get(ip);\r\n    int totalDuration = oldDuration + duration;\r\n    users.get(name).put(ip, totalDuration);","title":"How to sum value in same key HashMap Java?","body":"<pre><code>int oldDuration = users.get(name).get(ip);\nint totalDuration = oldDuration + duration;\nusers.get(name).put(ip, totalDuration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9833659,"reputation":77,"user_id":7284669,"display_name":"Mykyta Lebid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514563585,"creation_date":1514563585,"answer_id":48025224,"question_id":48025072,"body_markdown":"I believe it&#39;d be your answer\r\nTry this:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n            String[] input = scanner.readLine().split(&quot;\\\\s+&quot;);\r\n            String ip = input[0];\r\n            String name = input[1];\r\n            int duration = Integer.parseInt(input[2]);\r\n            if (!users.containsKey(name)) {\r\n                users.put(name, new LinkedHashMap&lt;&gt;());\r\n                users.get(name).put(ip, duration);\r\n            } else {\r\n                LinkedHashMap&lt;String, Integer&gt; user = users.get(name);\r\n                Integer userDuration = user.get(ip);\r\n                user.put(ip, userDuration + duration);\r\n            }\r\n        }","title":"How to sum value in same key HashMap Java?","body":"<p>I believe it'd be your answer\nTry this:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i++) {\n        String[] input = scanner.readLine().split(\"\\\\s+\");\n        String ip = input[0];\n        String name = input[1];\n        int duration = Integer.parseInt(input[2]);\n        if (!users.containsKey(name)) {\n            users.put(name, new LinkedHashMap&lt;&gt;());\n            users.get(name).put(ip, duration);\n        } else {\n            LinkedHashMap&lt;String, Integer&gt; user = users.get(name);\n            Integer userDuration = user.get(ip);\n            user.put(ip, userDuration + duration);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2452751,"reputation":786,"user_id":2138602,"accept_rate":62,"display_name":"Jesse Nelson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691698248,"creation_date":1514564170,"answer_id":48025344,"question_id":48025072,"body_markdown":"    LinkedHashMap&lt;String, LinkedHashMap&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            String[] input = scanner.readLine().split(&quot;\\\\s+&quot;);\r\n            String ip = input[0];\r\n            String name = input[1];\r\n            int duration = Integer.parseInt(input[2]);\r\n            LinkedHashMap&lt;String, Integer&gt; ipDurations= users.get(name);\r\n            \r\n            if (ipDurations== null) {\r\n                ipDurations= new LinkedHashMap&lt;&gt;();\r\n                ipDurations.put(ip, duration);\r\n                users.put(name, ipDurations);\r\n            } else {\r\n                Integer cummulativeDuration = ipDurations.get(ip);\r\n                if (cummulativeDuration == null) {\r\n                   cuumulativeDuration = 0;\r\n                   ipDurations.put(ip, cummulativeDuration);\r\n                }\r\n                cummulativeDuration += duration;\r\n              }\r\n         }","title":"How to sum value in same key HashMap Java?","body":"<pre><code>LinkedHashMap&lt;String, LinkedHashMap&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        String[] input = scanner.readLine().split(&quot;\\\\s+&quot;);\n        String ip = input[0];\n        String name = input[1];\n        int duration = Integer.parseInt(input[2]);\n        LinkedHashMap&lt;String, Integer&gt; ipDurations= users.get(name);\n        \n        if (ipDurations== null) {\n            ipDurations= new LinkedHashMap&lt;&gt;();\n            ipDurations.put(ip, duration);\n            users.put(name, ipDurations);\n        } else {\n            Integer cummulativeDuration = ipDurations.get(ip);\n            if (cummulativeDuration == null) {\n               cuumulativeDuration = 0;\n               ipDurations.put(ip, cummulativeDuration);\n            }\n            cummulativeDuration += duration;\n          }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10491045,"reputation":559,"user_id":7732917,"display_name":"Oleg Zinoviev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514564899,"creation_date":1514564899,"answer_id":48025502,"question_id":48025072,"body_markdown":"Unfortunately I cannot add full snippet due I type from phone, but I beleive all you need is stream and collect with merge if you need initial map later, or just merge instead put if you dont","title":"How to sum value in same key HashMap Java?","body":"<p>Unfortunately I cannot add full snippet due I type from phone, but I beleive all you need is stream and collect with merge if you need initial map later, or just merge instead put if you dont</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514575974,"creation_date":1514575974,"answer_id":48027521,"question_id":48025072,"body_markdown":"You can do it by using [`Map.computeIfAbsent`][1] in the outer map, along with [`Map.merge`][2] in the inner maps:\r\n\r\n    Map&lt;String, Map&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        String[] input = scanner.readLine().split(&quot;\\\\s+&quot;);\r\n        String ip = input[0];\r\n        String name = input[1];\r\n        int duration = Integer.parseInt(input[2]);\r\n\r\n        users.computeIfAbsent(name, k -&gt; new LinkedHashMap&lt;&gt;())\r\n            .merge(ip, duration, Integer::sum);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-","title":"How to sum value in same key HashMap Java?","body":"<p>You can do it by using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> in the outer map, along with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>Map.merge</code></a> in the inner maps:</p>\n\n<pre><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; n; i++) {\n    String[] input = scanner.readLine().split(\"\\\\s+\");\n    String ip = input[0];\n    String name = input[1];\n    int duration = Integer.parseInt(input[2]);\n\n    users.computeIfAbsent(name, k -&gt; new LinkedHashMap&lt;&gt;())\n        .merge(ip, duration, Integer::sum);\n}\n</code></pre>\n"}],"owner":{"account_id":12426753,"reputation":11,"user_id":9051077,"display_name":"Anton Stoychev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1691698248,"creation_date":1514562808,"question_id":48025072,"body_markdown":"I need to sum the value in same key not just to replace? Thanks.\r\n\r\n        LinkedHashMap&lt;String, LinkedHashMap&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            String[] input = scanner.readLine().split(&quot;\\\\s+&quot;);\r\n            String ip = input[0];\r\n            String name = input[1];\r\n            int duration = Integer.parseInt(input[2]);\r\n            if (!users.containsKey(name)) {\r\n                users.put(name, new LinkedHashMap&lt;&gt;());\r\n                users.get(name).put(ip,duration);\r\n            } else {\r\n                users.get(name).put(ip,duration);\r\n            }\r\n        }","title":"How to sum value in same key HashMap Java?","body":"<p>I need to sum the value in same key not just to replace? Thanks.</p>\n\n<pre><code>    LinkedHashMap&lt;String, LinkedHashMap&lt;String, Integer&gt;&gt; users = new LinkedHashMap&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        String[] input = scanner.readLine().split(\"\\\\s+\");\n        String ip = input[0];\n        String name = input[1];\n        int duration = Integer.parseInt(input[2]);\n        if (!users.containsKey(name)) {\n            users.put(name, new LinkedHashMap&lt;&gt;());\n            users.get(name).put(ip,duration);\n        } else {\n            users.get(name).put(ip,duration);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","jpa","concurrency"],"comments":[{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1551145699,"post_id":54875853,"comment_id":96524469,"body_markdown":"What does the conflict check look like? What database are you using?","body":"What does the conflict check look like? What database are you using?"},{"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"score":0,"creation_date":1551147125,"post_id":54875853,"comment_id":96524779,"body_markdown":"&quot;SELECT COUNT(*) WHERE time == ?&quot;, Databases are H2 and MySQL","body":"&quot;SELECT COUNT(*) WHERE time == ?&quot;, Databases are H2 and MySQL"},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1551148982,"post_id":54875853,"comment_id":96525122,"body_markdown":"That does suggest that you could simply add a unique index on `time`. You&#39;d have to handle the exceptions raised in response to duplicate inserts.","body":"That does suggest that you could simply add a unique index on <code>time</code>. You&#39;d have to handle the exceptions raised in response to duplicate inserts."},{"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"score":0,"creation_date":1551149302,"post_id":54875853,"comment_id":96525188,"body_markdown":"I would need to do it on a series of compound fields. Sorry, I am using mostly sudo code. I dont believe unique index is an option here. It had been considered.","body":"I would need to do it on a series of compound fields. Sorry, I am using mostly sudo code. I dont believe unique index is an option here. It had been considered."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1551149500,"post_id":54875853,"comment_id":96525238,"body_markdown":"Can you add more details around the constraints to your question? A database constraint is possible, and is probably the best option.","body":"Can you add more details around the constraints to your question? A database constraint is possible, and is probably the best option."},{"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"score":0,"creation_date":1551246324,"post_id":54875853,"comment_id":96565600,"body_markdown":"I added some DB details. I suppose I could make a unique constraint of start_time, locationid, and userid which would basically mean the user can&#39;t have more than one reservation a given location with the same start. The problem is the duration. If the start times are slightly different (say 5 min) and the duration (say 35 min) causes overlap (reservation = start_time+duration). Honestly what I think would work is lock table, check conflict, insert, release lock but I cant seem to find anything that says that is feasible.","body":"I added some DB details. I suppose I could make a unique constraint of start_time, locationid, and userid which would basically mean the user can&#39;t have more than one reservation a given location with the same start. The problem is the duration. If the start times are slightly different (say 5 min) and the duration (say 35 min) causes overlap (reservation = start_time+duration). Honestly what I think would work is lock table, check conflict, insert, release lock but I cant seem to find anything that says that is feasible."},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1551411870,"post_id":54875853,"comment_id":96639058,"body_markdown":"@user3170736 why do your system support user to make two reservation in the same location and start time?","body":"@user3170736 why do your system support user to make two reservation in the same location and start time?"},{"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"score":0,"creation_date":1551465463,"post_id":54875853,"comment_id":96663706,"body_markdown":"@MạnhQuyếtNguyễn The location is a table. It supports one user per time. These are the system requirements and this comment is not helpful.","body":"@MạnhQuyếtNguyễn The location is a table. It supports one user per time. These are the system requirements and this comment is not helpful."},{"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"score":0,"creation_date":1551465554,"post_id":54875853,"comment_id":96663744,"body_markdown":"@NathanHughes台湾不在中国 We are using innoDB and JPA with the Transactional annotation. Row-level locking isnt sufficient here since we arent worried about row data collision. We are worried about two rows of data overlapping.","body":"@NathanHughes台湾不在中国 We are using innoDB and JPA with the Transactional annotation. Row-level locking isnt sufficient here since we arent worried about row data collision. We are worried about two rows of data overlapping."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1551694961,"post_id":54875853,"comment_id":96720300,"body_markdown":"What about replacing check then insert, by insert, commit, check then keep or delete ? (The commit being necessary to insure serial visibility).","body":"What about replacing check then insert, by insert, commit, check then keep or delete ? (The commit being necessary to insure serial visibility)."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1558348761,"post_id":54875853,"comment_id":99058831,"body_markdown":"If one of the answers below fixes your issue, you should accept it (click the check mark next to the appropriate answer). That does two things. It lets everyone know your issue has been resolved to your satisfaction, and it gives the person that helps you credit for the assist. [See here](http://meta.stackexchange.com/a/5235) for a full explanation.","body":"If one of the answers below fixes your issue, you should accept it (click the check mark next to the appropriate answer). That does two things. It lets everyone know your issue has been resolved to your satisfaction, and it gives the person that helps you credit for the assist. <a href=\"http://meta.stackexchange.com/a/5235\">See here</a> for a full explanation."}],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551694521,"creation_date":1551693153,"answer_id":54980640,"question_id":54875853,"body_markdown":"Implementing something like this from scratch is no rocket science but maybe you may want to take a look at this GitHub project: https://github.com/alturkovic/distributed-lock\r\n\r\nI&#39;m neither involved in this project nor currently using it but it looks very promising. You simply need to create a Spring configuration with `EnableJdbcDistributedLock`:\r\n\r\n``` lang-java\r\n@Configuration\r\n@EnableJdbcDistributedLock\r\npublic class LockConfiguration {\r\n}\r\n```\r\n\r\nAnd create the needed database table:\r\n\r\n``` lang-sql\r\ncreate table lock (\r\n  id int not null auto_increment primary key,\r\n  lock_key varchar(255) unique,\r\n  token varchar(255),\r\n  expireAt timestamp,\r\n);\r\n```\r\n\r\nOnce this is in place you can sychronize method calls in a distributed environment by a simple annotation (taken from the project&#39;s examples):\r\n\r\n``` lang-java\r\n@JdbcLocked(expression = &quot;#name&quot;)\r\npublic String sayHello(final String name) {\r\n  return &quot;Hello &quot; + name + &quot;!&quot;;\r\n}\r\n```\r\n\r\n\r\n","title":"Java - Distributed JPA Lock For Reservation","body":"<p>Implementing something like this from scratch is no rocket science but maybe you may want to take a look at this GitHub project: <a href=\"https://github.com/alturkovic/distributed-lock\" rel=\"noreferrer\">https://github.com/alturkovic/distributed-lock</a></p>\n\n<p>I'm neither involved in this project nor currently using it but it looks very promising. You simply need to create a Spring configuration with <code>EnableJdbcDistributedLock</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJdbcDistributedLock\npublic class LockConfiguration {\n}\n</code></pre>\n\n<p>And create the needed database table:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create table lock (\n  id int not null auto_increment primary key,\n  lock_key varchar(255) unique,\n  token varchar(255),\n  expireAt timestamp,\n);\n</code></pre>\n\n<p>Once this is in place you can sychronize method calls in a distributed environment by a simple annotation (taken from the project's examples):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcLocked(expression = \"#name\")\npublic String sayHello(final String name) {\n  return \"Hello \" + name + \"!\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3099140"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551894723,"creation_date":1551894723,"answer_id":55029356,"question_id":54875853,"body_markdown":"The database should be handling this. You can either:\r\n\r\n* use locking reads. `SELECT FOR UPDATE` will prevent any rows you&#39;re reading (e.g. in your `COUNT(*)` query) from being written to. See https://dev.mysql.com/doc/refman/8.0/en/innodb-locking-reads.html\r\n* change the database&#39;s isolation level. See https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html\r\n\r\nYou can test your changes locally with a command-line SQL client: open two concurrent transactions, and try different ways of interleaving the `SELECT` and the `INSERT`.","title":"Java - Distributed JPA Lock For Reservation","body":"<p>The database should be handling this. You can either:</p>\n\n<ul>\n<li>use locking reads. <code>SELECT FOR UPDATE</code> will prevent any rows you're reading (e.g. in your <code>COUNT(*)</code> query) from being written to. See <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locking-reads.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-locking-reads.html</a></li>\n<li>change the database's isolation level. See <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html</a></li>\n</ul>\n\n<p>You can test your changes locally with a command-line SQL client: open two concurrent transactions, and try different ways of interleaving the <code>SELECT</code> and the <code>INSERT</code>.</p>\n"},{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551969730,"creation_date":1551969730,"answer_id":55046460,"question_id":54875853,"body_markdown":"I think the logical thing would be to lock the location. If I understand the domain correctly you are reserving a specific location (such as a room) for a time slot given by start time and duration? In that case you probably have an entity for location already. If not you can perhaps create one and add a matching table. The code would then be simple:\r\n\r\n 1. Get a pessimistic lock on the location from the request with JPA\r\n 2. Check the database for conflicts\r\n 3. Insert the new reservation\r\n 4. Commit\r\n\r\nA table lock will really hurt scalability, but locking a specific location should work.","title":"Java - Distributed JPA Lock For Reservation","body":"<p>I think the logical thing would be to lock the location. If I understand the domain correctly you are reserving a specific location (such as a room) for a time slot given by start time and duration? In that case you probably have an entity for location already. If not you can perhaps create one and add a matching table. The code would then be simple:</p>\n\n<ol>\n<li>Get a pessimistic lock on the location from the request with JPA</li>\n<li>Check the database for conflicts</li>\n<li>Insert the new reservation</li>\n<li>Commit</li>\n</ol>\n\n<p>A table lock will really hurt scalability, but locking a specific location should work.</p>\n"}],"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3481,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":3,"score":11,"last_activity_date":1691698212,"creation_date":1551134775,"question_id":54875853,"body_markdown":"I am working on a legacy system that allows reservation scheduling. The application is stateless REST and designed to be horizontally scaled. The database, however, is shared between all instances. Before I get a lecture on design and scale, it&#39;s not mine - have to make the best of a bad situation (or codebase). Recently we have seen an issue where there are duplicate reservations. I believe it is because of the nature of request response threads. The process currently is, receive request, check database for conflicting time reservation, if none, insert. Depending on time between reads and insert it&#39;s possible that both get inserted. Scenario seems to look like this:\r\n\r\n    |------|-------|-------|\r\n    R1     C1      I1     RSP\r\n    \r\n    -|--------|-------|---------|\r\n    R2       C2     I2   RSP\r\n\r\n\r\nWhere R = Request, C = DB Check, I = Insert.\r\n\r\nSo I believe I could use the @Synchronized annotation which would force all threads to be ordered. The problem comes with the fact that there are multiple instances running so that wont work overall instances. Pessimistic or Optimistic reads and writes dont seem to apply since we are trying to do a read and write combo unless I completely misunderstand. Any thoughts to handle this problem across scale? Would prefer to handle it in java via a table lock or something similar rather then add additional services (kafka, redis, etc). \r\n\r\n**EDIT**: the database looks something like this and using h2 in dev and mysql in production.\r\n\r\n     id |  start_time  | locationid | postingid | userid | duration\r\n","title":"Java - Distributed JPA Lock For Reservation","body":"<p>I am working on a legacy system that allows reservation scheduling. The application is stateless REST and designed to be horizontally scaled. The database, however, is shared between all instances. Before I get a lecture on design and scale, it's not mine - have to make the best of a bad situation (or codebase). Recently we have seen an issue where there are duplicate reservations. I believe it is because of the nature of request response threads. The process currently is, receive request, check database for conflicting time reservation, if none, insert. Depending on time between reads and insert it's possible that both get inserted. Scenario seems to look like this:</p>\n<pre><code>|------|-------|-------|\nR1     C1      I1     RSP\n\n-|--------|-------|---------|\nR2       C2     I2   RSP\n</code></pre>\n<p>Where R = Request, C = DB Check, I = Insert.</p>\n<p>So I believe I could use the @Synchronized annotation which would force all threads to be ordered. The problem comes with the fact that there are multiple instances running so that wont work overall instances. Pessimistic or Optimistic reads and writes dont seem to apply since we are trying to do a read and write combo unless I completely misunderstand. Any thoughts to handle this problem across scale? Would prefer to handle it in java via a table lock or something similar rather then add additional services (kafka, redis, etc).</p>\n<p><strong>EDIT</strong>: the database looks something like this and using h2 in dev and mysql in production.</p>\n<pre><code> id |  start_time  | locationid | postingid | userid | duration\n</code></pre>\n"},{"tags":["java","spring","logging","logback","slf4j"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1691702103,"post_id":76878984,"comment_id":135531166,"body_markdown":"Is there any chance you have a property named `debug` in your application.properties or application.yml set to true?  Or the loggers can also be configured through the `logging.level` properties.  There aren&#39;t enough details in your question to answer effectively.","body":"Is there any chance you have a property named <code>debug</code> in your application.properties or application.yml set to true?  Or the loggers can also be configured through the <code>logging.level</code> properties.  There aren&#39;t enough details in your question to answer effectively."},{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":0,"creation_date":1691702232,"post_id":76878984,"comment_id":135531183,"body_markdown":"Spring is using it application.properties (or yml) file to set the log levels. `logging.level.your.package.here=INFO`. See https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.logging","body":"Spring is using it application.properties (or yml) file to set the log levels. <code>logging.level.your.package.here=INFO</code>. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1691726282,"post_id":76878984,"comment_id":135533403,"body_markdown":"@AndersLindgren Correct you are, but this can be overridden in the application&#39;s property files.  For instance, if the OP has the property, `logging.leve.org.springframework`, set to DEBUG in their properties, this would explain why they&#39;re still getting the debug logs.","body":"@AndersLindgren Correct you are, but this can be overridden in the application&#39;s property files.  For instance, if the OP has the property, <code>logging.leve.org.springframework</code>, set to DEBUG in their properties, this would explain why they&#39;re still getting the debug logs."}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691697892,"creation_date":1691697892,"question_id":76878984,"body_markdown":"i cannot turn off debug logs in console even after setting in configuration like this-&gt;\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\ni have added slf4j api and lockback classic implementation, im using spring core, aop and context dependencies too. \r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.11&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\ntried to remove debug logs but couldnt","title":"Can&#39;t turn off debug logs in console even after setting configuration","body":"<p>i cannot turn off debug logs in console even after setting in configuration like this-&gt;</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n<p>i have added slf4j api and lockback classic implementation, im using spring core, aop and context dependencies too.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>tried to remove debug logs but couldnt</p>\n"},{"tags":["java","spring","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":1391519,"reputation":1710,"user_id":1322243,"accept_rate":66,"display_name":"liltitus27"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1386689742,"creation_date":1386689409,"answer_id":20498452,"question_id":20497813,"body_markdown":"This sounds like a transitive dependency issue.  What this means is that your code relies on a jar or library to do something - evidently, you depend on Spring framework code.  Well, all that Spring code also depends on libraries and jars.  \r\n\r\nMost likely, you need to add the corerctly versioned `org.springframework.core` jar to your classpath so that the `EnvironmentCapable` class can be found when your IDE attempts to build your project.  \r\n\r\nThis might also be a jar collision issue as well, although that sounds less likely.  When an application experiences jar collision (also known as &quot;dll hell&quot;), the compiler is finding multiple jars and classes with the same fully-qualified name.  For example, let&#39;s say you added Spring to your classpath, along with the entire Tomcat server library.  Well, those two jars may contain the same exact named classes, maybe the same version, maybe different versions.  But either way, when the compiler looks for that `EnvironmentCapable` class, it finds two (in this contrived example) - one in the Spring jar and one in the Tomcat jar.  Well, it doesn&#39;t know which one to choose, and so it throws a `ClassDefNotFoundException`, which would/could manifest itself as the error you experienced.","title":"Indirectly referenced from required .class files","body":"<p>This sounds like a transitive dependency issue.  What this means is that your code relies on a jar or library to do something - evidently, you depend on Spring framework code.  Well, all that Spring code also depends on libraries and jars.  </p>\n\n<p>Most likely, you need to add the corerctly versioned <code>org.springframework.core</code> jar to your classpath so that the <code>EnvironmentCapable</code> class can be found when your IDE attempts to build your project.  </p>\n\n<p>This might also be a jar collision issue as well, although that sounds less likely.  When an application experiences jar collision (also known as \"dll hell\"), the compiler is finding multiple jars and classes with the same fully-qualified name.  For example, let's say you added Spring to your classpath, along with the entire Tomcat server library.  Well, those two jars may contain the same exact named classes, maybe the same version, maybe different versions.  But either way, when the compiler looks for that <code>EnvironmentCapable</code> class, it finds two (in this contrived example) - one in the Spring jar and one in the Tomcat jar.  Well, it doesn't know which one to choose, and so it throws a <code>ClassDefNotFoundException</code>, which would/could manifest itself as the error you experienced.</p>\n"},{"tags":[],"owner":{"account_id":9321025,"reputation":11,"user_id":6919750,"display_name":"Anbu Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493145363,"creation_date":1493145363,"answer_id":43618478,"question_id":20497813,"body_markdown":" I faced same error while i work with spring security on spring-security-config.i jsut deleted that jar in maven repo and gave maven-&gt;update Project in eclipse.\r\nit is resolved.Please try it once.","title":"Indirectly referenced from required .class files","body":"<p>I faced same error while i work with spring security on spring-security-config.i jsut deleted that jar in maven repo and gave maven->update Project in eclipse.\nit is resolved.Please try it once.</p>\n"},{"tags":[],"owner":{"account_id":220031,"reputation":11,"user_id":3024661,"display_name":"sinanduman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527439249,"creation_date":1527439249,"answer_id":50554318,"question_id":20497813,"body_markdown":"From command line, run &quot;mvn clean install&quot;, you&#39;ll see project failed and you&#39;ll see artifacts in the logs that cause such a problem.\r\nAfter that, remove artifacts from .m2/repository, then maven update from eclipse.","title":"Indirectly referenced from required .class files","body":"<p>From command line, run \"mvn clean install\", you'll see project failed and you'll see artifacts in the logs that cause such a problem.\nAfter that, remove artifacts from .m2/repository, then maven update from eclipse.</p>\n"},{"tags":[],"owner":{"account_id":6937456,"reputation":2312,"user_id":5324923,"display_name":"Dezso Gabos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543517008,"creation_date":1543517008,"answer_id":53545639,"question_id":20497813,"body_markdown":"To avoid jar collision, make sure you declare your dependency versions under the properties tag in the aggregate pom.xml, and use the property name as a placeholder throughout the project. For example  &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt; in the parent pom, and then in the child modules just use ${spring.version} instead of 4.2.5.RELEASE. This way you can avoid having two different versions of the same library on the classpath. \r\n\r\nAlso it is recommended to be consistent with the version of spring dependencies. Use the same version for spring-core, spring-web etc. \r\n\r\nIf you are using maven, then you can use the maven enforcer plugin to ensure dependency convergence, and avoid further issues with transitive dependencies.","title":"Indirectly referenced from required .class files","body":"<p>To avoid jar collision, make sure you declare your dependency versions under the properties tag in the aggregate pom.xml, and use the property name as a placeholder throughout the project. For example  4.2.5.RELEASE in the parent pom, and then in the child modules just use ${spring.version} instead of 4.2.5.RELEASE. This way you can avoid having two different versions of the same library on the classpath. </p>\n\n<p>Also it is recommended to be consistent with the version of spring dependencies. Use the same version for spring-core, spring-web etc. </p>\n\n<p>If you are using maven, then you can use the maven enforcer plugin to ensure dependency convergence, and avoid further issues with transitive dependencies.</p>\n"},{"tags":[],"owner":{"account_id":7444245,"reputation":1031,"user_id":5661010,"accept_rate":33,"display_name":"iLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691697461,"creation_date":1691697461,"answer_id":76878953,"question_id":20497813,"body_markdown":"Follow these Steps if you are using Eclipse:\r\n\r\n 1. Right Click Maven Project\r\n \r\n 2. Select Maven --&gt; For Update of Snapshots / Releases\r\n\r\nThis will update your Maven Projects to Resolve the Dependencies","title":"Indirectly referenced from required .class files","body":"<p>Follow these Steps if you are using Eclipse:</p>\n<ol>\n<li><p>Right Click Maven Project</p>\n</li>\n<li><p>Select Maven --&gt; For Update of Snapshots / Releases</p>\n</li>\n</ol>\n<p>This will update your Maven Projects to Resolve the Dependencies</p>\n"}],"owner":{"account_id":36083,"reputation":11748,"user_id":102689,"accept_rate":57,"display_name":"Srinivasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36717,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1691697461,"creation_date":1386687720,"question_id":20497813,"body_markdown":"I&#39;m getting below error in STS: \r\n\r\n&gt;    The type org.springframework.core.env.EnvironmentCapable cannot be resolved. It is indirectly referenced from required .class files","title":"Indirectly referenced from required .class files","body":"<p>I'm getting below error in STS: </p>\n\n<blockquote>\n  <p>The type org.springframework.core.env.EnvironmentCapable cannot be resolved. It is indirectly referenced from required .class files</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","windows-task-scheduler"],"comments":[{"owner":{"account_id":5355185,"reputation":1862,"user_id":4335488,"accept_rate":79,"display_name":"HSchmale"},"score":0,"creation_date":1520999051,"post_id":49269405,"comment_id":85542023,"body_markdown":"Could the there be another thread running in jvm after yours ends? Are you properly shutting down selenium?","body":"Could the there be another thread running in jvm after yours ends? Are you properly shutting down selenium?"},{"owner":{"account_id":3038036,"reputation":1608,"user_id":2575662,"accept_rate":100,"display_name":"Onel Sarmiento"},"score":0,"creation_date":1520999252,"post_id":49269405,"comment_id":85542061,"body_markdown":"@HSchmale Do you mean the WebDriver? if that&#39;s so, I already verified it, but there&#39;s no chromedriver.exe or any related driver on the process.","body":"@HSchmale Do you mean the WebDriver? if that&#39;s so, I already verified it, but there&#39;s no chromedriver.exe or any related driver on the process."},{"owner":{"account_id":5364291,"reputation":1046,"user_id":4280027,"display_name":"user254948"},"score":1,"creation_date":1521008248,"post_id":49269405,"comment_id":85544684,"body_markdown":"@LeonelSarmiento I would assume another thread is running in the jvm as well. Try using JStack to figure out what threads are running inside the JVM.","body":"@LeonelSarmiento I would assume another thread is running in the jvm as well. Try using JStack to figure out what threads are running inside the JVM."}],"answers":[{"tags":[],"owner":{"account_id":3038036,"reputation":1608,"user_id":2575662,"accept_rate":100,"display_name":"Onel Sarmiento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521005730,"creation_date":1521005730,"answer_id":49270356,"question_id":49269405,"body_markdown":"I make a workaround or maybe a solution. I found out that the `System.exit(0)` on main will only close the console application, but the *&quot;Java (TM) Platform SE binary&quot;* will remain. To terminate this I extended to `JFrame` class to be able to override the `ExitApp()`. Inside the `ExitApp()` I add window listener and in `windowClosing()` I called the `disposed()` and `System.exit(0)` once more. I don&#39;t have any idea how this even works. If someone know how this works feel free to update this answer.\r\n\r\n    public class TestClass extends JFrame {\r\n    \r\n    \tpublic void ExitApp() {\r\n    \t\taddWindowListener(new WindowAdapter() {\r\n    \t\t\tpublic void windowClosing(WindowEvent e) {\r\n                    // Dispose Java (TM) Platform SE binary.\r\n    \t\t\t\tdispose();\r\n                    // Close the Java.exe I&#39;m not sure.\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            // Close Your Application Trigger ExitApp();\r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    } ","title":"Java (TM) Platform SE binary still running on processes","body":"<p>I make a workaround or maybe a solution. I found out that the <code>System.exit(0)</code> on main will only close the console application, but the <em>\"Java (TM) Platform SE binary\"</em> will remain. To terminate this I extended to <code>JFrame</code> class to be able to override the <code>ExitApp()</code>. Inside the <code>ExitApp()</code> I add window listener and in <code>windowClosing()</code> I called the <code>disposed()</code> and <code>System.exit(0)</code> once more. I don't have any idea how this even works. If someone know how this works feel free to update this answer.</p>\n\n<pre><code>public class TestClass extends JFrame {\n\n    public void ExitApp() {\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent e) {\n                // Dispose Java (TM) Platform SE binary.\n                dispose();\n                // Close the Java.exe I'm not sure.\n                System.exit(0);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        // Close Your Application Trigger ExitApp();\n        System.exit(0);\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":3038036,"reputation":1608,"user_id":2575662,"accept_rate":100,"display_name":"Onel Sarmiento"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49270356,"answer_count":1,"score":0,"last_activity_date":1691697336,"creation_date":1520998842,"question_id":49269405,"body_markdown":"I created a console application using Java, then exported it as runnable JAR file. but when I run the JAR file the automation is finished but the *&quot;Java (TM) Platform SE binary&quot;* is still on background, I tried to put `System.exit(0)` and still not able to terminate the process.\r\n\r\nI&#39;m also trying to run this automatically in Task Scheduler in indefinitely repetition every 15 minutes, the problem is it will not run again after 15 minutes since the *&quot;Java (TM) Platform SE binary&quot;* is still in process and identified its status as running.\r\n\r\nI&#39;m pretty sure that all my automation task is all finished without error and not creating another threads.\r\n\r\n**Here is my code below:**\r\n\r\n    public static void main(String[] args) {\r\n        String jarName = new File(Selenium.class.getProtectionDomain().getCodeSource().getLocation().getPath())\r\n            .getName();\r\n        System.out.println(&quot;Running &quot; + jarName + &quot; Automation&quot;);\r\n        if (args.length &gt;= 1 &amp;&amp; args[0].toLowerCase().equals(&quot;-run&quot;)) {\r\n            for (int i = 1; i &lt; args.length; i++) {\r\n                String pram = args[i].replace(jarName + &quot;_&quot;, &quot;&quot;);\r\n                if (pram.toLowerCase().equals(&quot;all&quot;)) {\r\n                    GFC.execute(&quot;Login&quot;);\r\n                    GFC.execute(&quot;SwitchIntegration&quot;);\r\n                    GFC.execute(&quot;BODActivate&quot;);\r\n                    GFC.execute(&quot;Users&quot;);\r\n                    GFC.execute(&quot;Settings&quot;);\r\n                    GFC.execute(&quot;AccountingEntityRegistration&quot;);\r\n                    GFC.execute(&quot;CustomizedData&quot;);\r\n                    GFC.execute(&quot;BOD&quot;);\r\n                    GFC.execute(&quot;BODAttributesMDM&quot;);\r\n                    GFC.execute(&quot;BODAttributesTransactional&quot;);\r\n                    GFC.execute(&quot;CMD&quot;);\r\n                    GFC.execute(&quot;CMDAttributes&quot;);\r\n                    GFC.execute(&quot;CMDDataEntry&quot;);\r\n                    GFC.execute(&quot;CMDActivate&quot;);\r\n                    GFC.execute(&quot;AccountingEntity&quot;);\r\n                    GFC.execute(&quot;AccountingEntityMapping&quot;);\r\n                    GFC.execute(&quot;JETemplates&quot;);\r\n                    GFC.execute(&quot;Scenarios&quot;);\r\n                    GFC.execute(&quot;Rules&quot;);\r\n                    GFC.execute(&quot;RulesScript&quot;).quit();\r\n                } else {\r\n                    if (!pram.equals(&quot;Login&quot;)) {\r\n                        GFC.execute(&quot;Login&quot;);\r\n                    }\r\n                    GFC.execute(pram).quit();\r\n                }\r\n            }\r\n    \r\n            if (Boolean.parseBoolean(infor.automation.utils.Properties.get(&quot;gfc.enableemailer&quot;))) {\r\n                sendEmail();\r\n            }\r\n        }\r\n    }\r\n\r\n**Update:** 3/14/2018\r\n\r\n - Worrying might my automation is creating another threads, so I decide\r\n   to create a new project and just a main class and export it as a\r\n   runnable Jar file, and it&#39;s still the same.\r\n - My JDK version is 1.8","title":"Java (TM) Platform SE binary still running on processes","body":"<p>I created a console application using Java, then exported it as runnable JAR file. but when I run the JAR file the automation is finished but the <em>\"Java (TM) Platform SE binary\"</em> is still on background, I tried to put <code>System.exit(0)</code> and still not able to terminate the process.</p>\n\n<p>I'm also trying to run this automatically in Task Scheduler in indefinitely repetition every 15 minutes, the problem is it will not run again after 15 minutes since the <em>\"Java (TM) Platform SE binary\"</em> is still in process and identified its status as running.</p>\n\n<p>I'm pretty sure that all my automation task is all finished without error and not creating another threads.</p>\n\n<p><strong>Here is my code below:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    String jarName = new File(Selenium.class.getProtectionDomain().getCodeSource().getLocation().getPath())\n        .getName();\n    System.out.println(\"Running \" + jarName + \" Automation\");\n    if (args.length &gt;= 1 &amp;&amp; args[0].toLowerCase().equals(\"-run\")) {\n        for (int i = 1; i &lt; args.length; i++) {\n            String pram = args[i].replace(jarName + \"_\", \"\");\n            if (pram.toLowerCase().equals(\"all\")) {\n                GFC.execute(\"Login\");\n                GFC.execute(\"SwitchIntegration\");\n                GFC.execute(\"BODActivate\");\n                GFC.execute(\"Users\");\n                GFC.execute(\"Settings\");\n                GFC.execute(\"AccountingEntityRegistration\");\n                GFC.execute(\"CustomizedData\");\n                GFC.execute(\"BOD\");\n                GFC.execute(\"BODAttributesMDM\");\n                GFC.execute(\"BODAttributesTransactional\");\n                GFC.execute(\"CMD\");\n                GFC.execute(\"CMDAttributes\");\n                GFC.execute(\"CMDDataEntry\");\n                GFC.execute(\"CMDActivate\");\n                GFC.execute(\"AccountingEntity\");\n                GFC.execute(\"AccountingEntityMapping\");\n                GFC.execute(\"JETemplates\");\n                GFC.execute(\"Scenarios\");\n                GFC.execute(\"Rules\");\n                GFC.execute(\"RulesScript\").quit();\n            } else {\n                if (!pram.equals(\"Login\")) {\n                    GFC.execute(\"Login\");\n                }\n                GFC.execute(pram).quit();\n            }\n        }\n\n        if (Boolean.parseBoolean(infor.automation.utils.Properties.get(\"gfc.enableemailer\"))) {\n            sendEmail();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong> 3/14/2018</p>\n\n<ul>\n<li>Worrying might my automation is creating another threads, so I decide\nto create a new project and just a main class and export it as a\nrunnable Jar file, and it's still the same.</li>\n<li>My JDK version is 1.8</li>\n</ul>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653455714,"post_id":72371993,"comment_id":127853714,"body_markdown":"`&quot;/storage/emulated/0/DCIM/&quot;` try `&quot;/storage/emulated/0&quot;` instead. And allways check for null before use. How did you grant permissions?","body":"<code>&quot;&#47;storage&#47;emulated&#47;0&#47;DCIM&#47;&quot;</code> try <code>&quot;&#47;storage&#47;emulated&#47;0&quot;</code> instead. And allways check for null before use. How did you grant permissions?"},{"owner":{"account_id":25382549,"reputation":1,"user_id":19194736,"display_name":"Leo Leung"},"score":0,"creation_date":1653463585,"post_id":72371993,"comment_id":127855679,"body_markdown":"I tried to use &quot;/storage/emulated/0&quot;, it can find the all folder path.\nBut I want to delete the files in &quot;/storage/emulated/0/DCIM/&quot;, how can I check?","body":"I tried to use &quot;/storage/emulated/0&quot;, it can find the all folder path. But I want to delete the files in &quot;/storage/emulated/0/DCIM/&quot;, how can I check?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653469633,"post_id":72371993,"comment_id":127857839,"body_markdown":"Well first tell if listFiles() really returns null. Or if it returns an empty list. If it returns null you would have a NullPointerException and you did not tell you had one.","body":"Well first tell if listFiles() really returns null. Or if it returns an empty list. If it returns null you would have a NullPointerException and you did not tell you had one."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653469800,"post_id":72371993,"comment_id":127857929,"body_markdown":"Repeat: `How did you grant permissions? ` Why dont you answer? The user can only grant permissions at runtime.","body":"Repeat: <code>How did you grant permissions? </code> Why dont you answer? The user can only grant permissions at runtime."},{"owner":{"account_id":25382549,"reputation":1,"user_id":19194736,"display_name":"Leo Leung"},"score":0,"creation_date":1653471565,"post_id":72371993,"comment_id":127858546,"body_markdown":"How did you grant permissions? -&gt; I use below setting\n\n    &lt;uses-permission\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        tools:node=&quot;merge&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.STORAGE&quot;\n        tools:node=&quot;merge&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;","body":"How did you grant permissions? -&gt; I use below setting      &lt;uses-permission         android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;         tools:node=&quot;merge&quot; /&gt;     &lt;uses-permission         android:name=&quot;android.permission.STORAGE&quot;         tools:node=&quot;merge&quot; /&gt;     &lt;uses-permission         android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;         tools:ignore=&quot;ScopedStorage&quot; /&gt;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653473562,"post_id":72371993,"comment_id":127859325,"body_markdown":"Repeat: `Well first tell if listFiles() really returns null. Or if it returns an empty list. If it returns null you would have a NullPointerException and you did not tell you had one.`  You should answer all questions!!!","body":"Repeat: <code>Well first tell if listFiles() really returns null. Or if it returns an empty list. If it returns null you would have a NullPointerException and you did not tell you had one.</code>  You should answer all questions!!!"},{"owner":{"account_id":25382549,"reputation":1,"user_id":19194736,"display_name":"Leo Leung"},"score":0,"creation_date":1653493442,"post_id":72371993,"comment_id":127867557,"body_markdown":"It returns empty list","body":"It returns empty list"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653498962,"post_id":72371993,"comment_id":127869634,"body_markdown":"Indeed. It returns an empty list. `I use below setting ` Well we already saw that. But the user has to grant those permissions at runtime too. And you did not tell us if you added the code for that.","body":"Indeed. It returns an empty list. <code>I use below setting </code> Well we already saw that. But the user has to grant those permissions at runtime too. And you did not tell us if you added the code for that."},{"owner":{"account_id":25382549,"reputation":1,"user_id":19194736,"display_name":"Leo Leung"},"score":0,"creation_date":1653533418,"post_id":72371993,"comment_id":127877444,"body_markdown":"I&#39;ve added below code to grant permission.\nThe list can return the file name now\n\n  private void assignPermission() {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n        }\n    }","body":"I&#39;ve added below code to grant permission. The list can return the file name now    private void assignPermission() {         if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {             ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);         }     }"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653549716,"post_id":72371993,"comment_id":127880340,"body_markdown":"Please put your code in your post. Its unreadable in a comment .","body":"Please put your code in your post. Its unreadable in a comment ."}],"answers":[{"tags":[],"owner":{"account_id":28106482,"reputation":1,"user_id":21474999,"display_name":"Mr17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691697185,"creation_date":1691697185,"answer_id":76878920,"question_id":72371993,"body_markdown":"You need to get run time permision \r\n\r\n\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{READ_EXTERNAL_STORAGE}, 2);\r\n        }\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 3);\r\n        }","title":"Try to the File.listFiles() is returning null in android 11","body":"<p>You need to get run time permision</p>\n<pre><code>    if (SDK_INT &gt;= Build.VERSION_CODES.M) {\n        requestPermissions(new String[]{WRITE_EXTERNAL_STORAGE}, 1);\n    }\n    if (SDK_INT &gt;= Build.VERSION_CODES.M) {\n        requestPermissions(new String[]{READ_EXTERNAL_STORAGE}, 2);\n    }\n    if (SDK_INT &gt;= Build.VERSION_CODES.M) {\n        requestPermissions(new String[]{Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 3);\n    }\n</code></pre>\n"}],"owner":{"account_id":25382549,"reputation":1,"user_id":19194736,"display_name":"Leo Leung"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691697185,"creation_date":1653453265,"question_id":72371993,"body_markdown":"I was creating an application to test whether File.listFiles() method is working or not. To check this I made an application and I used it there but this returning null in place of an array. This is my full code please help and I have granted all permissions for android 11\r\n\r\nManifest File\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.myapplication&quot;&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n            tools:node=&quot;merge&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.STORAGE&quot;\r\n            tools:node=&quot;merge&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nMainActivity.java\r\n\r\n    package com.example.myapplication;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n    import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private Button deleteButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            initView();\r\n        }\r\n        private void initView() {\r\n            deleteButton = findViewById(R.id.deleteButton);\r\n            deleteButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    deleteFiles(view);\r\n                }\r\n            });\r\n        }\r\n        private void deleteFiles(View v) {\r\n            File file = new File(&quot;/storage/emulated/0/DCIM/&quot;);\r\n            if (file.isDirectory())\r\n            {\r\n                File[] files;\r\n                files = file.listFiles();\r\n                int a = files.length;\r\n                for (int i = 0; i &lt; files.length; i++)\r\n                {\r\n                    new File(file, files[i].getName()).delete();\r\n                }\r\n                Toast.makeText(getApplicationContext(), &quot;Done&quot;, Toast.LENGTH_LONG).show();\r\n            }else {\r\n                Toast.makeText(getApplicationContext(), (CharSequence) file,  Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }","title":"Try to the File.listFiles() is returning null in android 11","body":"<p>I was creating an application to test whether File.listFiles() method is working or not. To check this I made an application and I used it there but this returning null in place of an array. This is my full code please help and I have granted all permissions for android 11</p>\n<p>Manifest File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.myapplication&quot;&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        tools:node=&quot;merge&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.STORAGE&quot;\n        tools:node=&quot;merge&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\nimport java.io.File;\nimport java.io.IOException;\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\npublic class MainActivity extends AppCompatActivity {\n    private Button deleteButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        initView();\n    }\n    private void initView() {\n        deleteButton = findViewById(R.id.deleteButton);\n        deleteButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                deleteFiles(view);\n            }\n        });\n    }\n    private void deleteFiles(View v) {\n        File file = new File(&quot;/storage/emulated/0/DCIM/&quot;);\n        if (file.isDirectory())\n        {\n            File[] files;\n            files = file.listFiles();\n            int a = files.length;\n            for (int i = 0; i &lt; files.length; i++)\n            {\n                new File(file, files[i].getName()).delete();\n            }\n            Toast.makeText(getApplicationContext(), &quot;Done&quot;, Toast.LENGTH_LONG).show();\n        }else {\n            Toast.makeText(getApplicationContext(), (CharSequence) file,  Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xhtml","w3c-validation","htmltidy","jtidy"],"answers":[{"tags":[],"owner":{"account_id":114789,"reputation":9447,"user_id":301717,"display_name":"J&#233;r&#244;me Pouiller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440420029,"creation_date":1440420029,"answer_id":32182584,"question_id":9475049,"body_markdown":"Tidy configuration used by W3C validator is available [here][1]\r\n\r\n\r\n  [1]: https://validator.w3.org/config/tidy.conf","title":"JTidy (HTML-Tidy) Configuration used on w3c HTML Validator","body":"<p>Tidy configuration used by W3C validator is available <a href=\"https://validator.w3.org/config/tidy.conf\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":45443,"reputation":3769,"user_id":133936,"accept_rate":68,"display_name":"empire29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691697154,"creation_date":1330392170,"question_id":9475049,"body_markdown":"I am using JTidy (the java port of the HTML Tidy library) to scrub some existing sites. When I used my configuration of JTidy is seems to be very strict and ends up cutting off the bottom of the page (bad markup).\r\n\r\nWhen i run the same markup through the w3c HTML validator tool only, It cleans up it up but is more intelligent in its rewriting; instead of chopping off tags, it seems to intelligently guess where the missing tag was and updates the structure accordingly.\r\n\r\nDoes anyone know the HTML-Tidy configuration w3c uses?\r\n\r\nMy jtidy configuratio is as follows:\r\n\r\n        Tidy tidy = new Tidy();\r\n        tidy.setTidyMark(false);\r\n        tidy.setXHTML(true);\r\n        tidy.setXmlOut(false);\r\n        tidy.setNumEntities(true);        \r\n        tidy.setSpaces(2);\r\n        tidy.setWraplen(2000);\r\n        tidy.setUpperCaseTags(false);\r\n        tidy.setUpperCaseAttrs(false);\r\n        tidy.setQuiet(false);\r\n        tidy.setMakeClean(true);\r\n        tidy.setShowWarnings(true);\r\n        tidy.setBreakBeforeBR(true);\r\n        tidy.setHideComments(true);","title":"JTidy (HTML-Tidy) Configuration used on w3c HTML Validator","body":"<p>I am using JTidy (the java port of the HTML Tidy library) to scrub some existing sites. When I used my configuration of JTidy is seems to be very strict and ends up cutting off the bottom of the page (bad markup).</p>\n\n<p>When i run the same markup through the w3c HTML validator tool only, It cleans up it up but is more intelligent in its rewriting; instead of chopping off tags, it seems to intelligently guess where the missing tag was and updates the structure accordingly.</p>\n\n<p>Does anyone know the HTML-Tidy configuration w3c uses?</p>\n\n<p>My jtidy configuratio is as follows:</p>\n\n<pre><code>    Tidy tidy = new Tidy();\n    tidy.setTidyMark(false);\n    tidy.setXHTML(true);\n    tidy.setXmlOut(false);\n    tidy.setNumEntities(true);        \n    tidy.setSpaces(2);\n    tidy.setWraplen(2000);\n    tidy.setUpperCaseTags(false);\n    tidy.setUpperCaseAttrs(false);\n    tidy.setQuiet(false);\n    tidy.setMakeClean(true);\n    tidy.setShowWarnings(true);\n    tidy.setBreakBeforeBR(true);\n    tidy.setHideComments(true);\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-validator","jakarta-validation"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691677991,"post_id":76876716,"comment_id":135526394,"body_markdown":"Sure, it can be easier. Make your own copy of the class and add the annotations. That, or just use the existing class and manually add the extra validations. I definitely don&#39;t recommend this reflection-based approach.","body":"Sure, it can be easier. Make your own copy of the class and add the annotations. That, or just use the existing class and manually add the extra validations. I definitely don&#39;t recommend this reflection-based approach."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691680242,"post_id":76876716,"comment_id":135526930,"body_markdown":"I&#39;d search for a library that can do the validation in some easy way.","body":"I&#39;d search for a library that can do the validation in some easy way."},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1691736913,"post_id":76876716,"comment_id":135534679,"body_markdown":"Classes are too much to maintenance copies of them or add annotation manually.","body":"Classes are too much to maintenance copies of them or add annotation manually."}],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691696332,"creation_date":1691696332,"answer_id":76878842,"question_id":76876716,"body_markdown":"For cases when it is not possible to edit the classes to add validation annotations to it there are two options:\r\n\r\nSpecifying the constraints via XML\r\n----------------------------------\r\nTo use this approach you&#39;d need to add a `META-INF/validation.xml` and then inside of it you can define/redefine your constraints:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;constraint-mappings\r\n    xmlns=&quot;https://jakarta.ee/xml/ns/validation/mapping&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n        https://jakarta.ee/xml/ns/validation/mapping\r\n        https://jakarta.ee/xml/ns/validation/validation-mapping-3.0.xsd&quot;\r\n    version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;!-- note that you can use ignore-annotations \r\n        to either ignore any annotation constraints \r\n        or include them, depending on your needs --&gt;\r\n    &lt;bean class=&quot;com.acme.common.model.SomeType&quot; ignore-annotations=&quot;false&quot;&gt;\r\n       &lt;field name=&quot;someField&quot;&gt;\r\n           &lt;constraint annotation=&quot;jakarta.validation.constraints.NotBlank&quot;/&gt;\r\n           [...]\r\n       &lt;/field&gt;\r\n       [...]\r\n    &lt;/bean&gt;\r\n&lt;/constraint-mappings&gt;\r\n```\r\nfor more details you should check [this section of the specification][1]. \r\n\r\nProgrammatic constraint definition\r\n--------------------\r\n\r\nAlternatively, Hibernate Validator provides a way to add constraints programmatically:\r\n\r\n```java\r\nHibernateValidatorConfiguration configuration = Validation\r\n        .byProvider( HibernateValidator.class )\r\n        .configure();\r\n\r\nConstraintMapping constraintMapping = configuration.createConstraintMapping();\r\n\r\nconstraintMapping\r\n    .type( Car.class )\r\n        .field( &quot;manufacturer&quot; )\r\n            .constraint( new NotNullDef() )\r\n        .field( &quot;licensePlate&quot; )\r\n            .ignoreAnnotations( true )\r\n            .constraint( new NotNullDef() )\r\n            .constraint( new SizeDef().min( 2 ).max( 14 ) )\r\n    .type( RentalCar.class )\r\n        .getter( &quot;rentalStation&quot; )\r\n            .constraint( new NotNullDef() );\r\n\r\nValidator validator = configuration.addMapping( constraintMapping )\r\n        .buildValidatorFactory()\r\n        .getValidator();\r\n```\r\n\r\nFor more details, check this [section of the Hibernate Validator documentation][2].\r\n\r\n\r\nIf you do not know which fields will need not empty/blank constraint being applied you can try to iterate through the fields using the reflection and then based on that information define the constraints via programmatic API. once constraints are added to the validator you should be able to just use `Validator#validate(..)` \r\n\r\n  [1]: https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#xml-mapping-constraintdeclarationinxml\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-programmatic-api","title":"Validating class which cannot be modified by add new annotations","body":"<p>For cases when it is not possible to edit the classes to add validation annotations to it there are two options:</p>\n<h2>Specifying the constraints via XML</h2>\n<p>To use this approach you'd need to add a <code>META-INF/validation.xml</code> and then inside of it you can define/redefine your constraints:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;constraint-mappings\n    xmlns=&quot;https://jakarta.ee/xml/ns/validation/mapping&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;\n        https://jakarta.ee/xml/ns/validation/mapping\n        https://jakarta.ee/xml/ns/validation/validation-mapping-3.0.xsd&quot;\n    version=&quot;3.0&quot;&gt;\n\n    &lt;!-- note that you can use ignore-annotations \n        to either ignore any annotation constraints \n        or include them, depending on your needs --&gt;\n    &lt;bean class=&quot;com.acme.common.model.SomeType&quot; ignore-annotations=&quot;false&quot;&gt;\n       &lt;field name=&quot;someField&quot;&gt;\n           &lt;constraint annotation=&quot;jakarta.validation.constraints.NotBlank&quot;/&gt;\n           [...]\n       &lt;/field&gt;\n       [...]\n    &lt;/bean&gt;\n&lt;/constraint-mappings&gt;\n</code></pre>\n<p>for more details you should check <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#xml-mapping-constraintdeclarationinxml\" rel=\"nofollow noreferrer\">this section of the specification</a>.</p>\n<h2>Programmatic constraint definition</h2>\n<p>Alternatively, Hibernate Validator provides a way to add constraints programmatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HibernateValidatorConfiguration configuration = Validation\n        .byProvider( HibernateValidator.class )\n        .configure();\n\nConstraintMapping constraintMapping = configuration.createConstraintMapping();\n\nconstraintMapping\n    .type( Car.class )\n        .field( &quot;manufacturer&quot; )\n            .constraint( new NotNullDef() )\n        .field( &quot;licensePlate&quot; )\n            .ignoreAnnotations( true )\n            .constraint( new NotNullDef() )\n            .constraint( new SizeDef().min( 2 ).max( 14 ) )\n    .type( RentalCar.class )\n        .getter( &quot;rentalStation&quot; )\n            .constraint( new NotNullDef() );\n\nValidator validator = configuration.addMapping( constraintMapping )\n        .buildValidatorFactory()\n        .getValidator();\n</code></pre>\n<p>For more details, check this <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-programmatic-api\" rel=\"nofollow noreferrer\">section of the Hibernate Validator documentation</a>.</p>\n<p>If you do not know which fields will need not empty/blank constraint being applied you can try to iterate through the fields using the reflection and then based on that information define the constraints via programmatic API. once constraints are added to the validator you should be able to just use <code>Validator#validate(..)</code></p>\n"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76878842,"answer_count":1,"score":0,"last_activity_date":1691696332,"creation_date":1691677811,"question_id":76876716,"body_markdown":"the model is generated by some tools. Particular fields are annotated by for instance @NotNull annotation. I cannot modify generated classes. I need to do additonal validation of generated classes like check that value of the string field does&#39;t contain empty string and then throw ConstraintViolationException. Currently I iterate over the class to find field type of String and then in case of empty string I need to implement my own ConstraintViolation interface which is deadly hard. So it looks like that:\r\n\r\n        Validator validator = Validation.buildDefaultValidatorFactory()\r\n                .getValidator();\r\n        Set&lt; ConstraintViolation&lt; E &gt; &gt; validationErrors = validator.validate(aEntity);\r\n        Field[] fields = aEntity.getClass().getDeclaredFields();\r\n        for (Field f : fields) {\r\n            Class&lt;?&gt; type = f.getType();\r\n            if (type == String.class) {\r\n                try {\r\n                    String v = (String) f.get(aEntity);\r\n                    // check that value is not an empty string\r\n                    if (v == null || !v.trim().isEmpty()) {\r\n                        validationErrors.add(new ConstraintViolation&lt;E&gt;() {\r\n                            @Override\r\n                            public String getMessage() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public String getMessageTemplate() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public E getRootBean() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public Class&lt;E&gt; getRootBeanClass() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public Object getLeafBean() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public Object[] getExecutableParameters() {\r\n                                return new Object[0];\r\n                            }\r\n\r\n                            @Override\r\n                            public Object getExecutableReturnValue() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public Path getPropertyPath() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public Object getInvalidValue() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public ConstraintDescriptor&lt;?&gt; getConstraintDescriptor() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public &lt;U&gt; U unwrap(Class&lt;U&gt; type) {\r\n                                return null;\r\n                            }\r\n                        });\r\n                    }\r\n                } catch (IllegalAccessException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n\r\nIs it possible to make this easier?","title":"Validating class which cannot be modified by add new annotations","body":"<p>the model is generated by some tools. Particular fields are annotated by for instance @NotNull annotation. I cannot modify generated classes. I need to do additonal validation of generated classes like check that value of the string field does't contain empty string and then throw ConstraintViolationException. Currently I iterate over the class to find field type of String and then in case of empty string I need to implement my own ConstraintViolation interface which is deadly hard. So it looks like that:</p>\n<pre><code>    Validator validator = Validation.buildDefaultValidatorFactory()\n            .getValidator();\n    Set&lt; ConstraintViolation&lt; E &gt; &gt; validationErrors = validator.validate(aEntity);\n    Field[] fields = aEntity.getClass().getDeclaredFields();\n    for (Field f : fields) {\n        Class&lt;?&gt; type = f.getType();\n        if (type == String.class) {\n            try {\n                String v = (String) f.get(aEntity);\n                // check that value is not an empty string\n                if (v == null || !v.trim().isEmpty()) {\n                    validationErrors.add(new ConstraintViolation&lt;E&gt;() {\n                        @Override\n                        public String getMessage() {\n                            return null;\n                        }\n\n                        @Override\n                        public String getMessageTemplate() {\n                            return null;\n                        }\n\n                        @Override\n                        public E getRootBean() {\n                            return null;\n                        }\n\n                        @Override\n                        public Class&lt;E&gt; getRootBeanClass() {\n                            return null;\n                        }\n\n                        @Override\n                        public Object getLeafBean() {\n                            return null;\n                        }\n\n                        @Override\n                        public Object[] getExecutableParameters() {\n                            return new Object[0];\n                        }\n\n                        @Override\n                        public Object getExecutableReturnValue() {\n                            return null;\n                        }\n\n                        @Override\n                        public Path getPropertyPath() {\n                            return null;\n                        }\n\n                        @Override\n                        public Object getInvalidValue() {\n                            return null;\n                        }\n\n                        @Override\n                        public ConstraintDescriptor&lt;?&gt; getConstraintDescriptor() {\n                            return null;\n                        }\n\n                        @Override\n                        public &lt;U&gt; U unwrap(Class&lt;U&gt; type) {\n                            return null;\n                        }\n                    });\n                }\n            } catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n</code></pre>\n<p>Is it possible to make this easier?</p>\n"},{"tags":["java","oracle","wget","tar","dpkg"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1691641303,"post_id":76872499,"comment_id":135519584,"body_markdown":"Can you use dpkg to install files other than .deb? Is there some reason you aren&#39;t using apt?","body":"Can you use dpkg to install files other than .deb? Is there some reason you aren&#39;t using apt?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691654488,"post_id":76872499,"comment_id":135521461,"body_markdown":"Yes why are you installing manually?","body":"Yes why are you installing manually?"},{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":1,"creation_date":1691660854,"post_id":76872499,"comment_id":135522722,"body_markdown":"You should have downloaded the file ending with deb if you are installing using Debian tools like dpkg. The tar.gz file contains the binary distribution and you could put it anywhere (in theory) on your file system and just add the bin folder to your path.","body":"You should have downloaded the file ending with deb if you are installing using Debian tools like dpkg. The tar.gz file contains the binary distribution and you could put it anywhere (in theory) on your file system and just add the bin folder to your path."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1691696257,"post_id":76872499,"comment_id":135530189,"body_markdown":"Consider that Java 20 is a short-lived version of Java, not suitable for serious usage. I would stick with 8, 11, or 17.","body":"Consider that Java 20 is a short-lived version of Java, not suitable for serious usage. I would stick with 8, 11, or 17."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1691697708,"post_id":76872499,"comment_id":135530461,"body_markdown":"As far as I&#39;m aware, Oracle does not provide .deb packages for AArch64.","body":"As far as I&#39;m aware, Oracle does not provide .deb packages for AArch64."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691702190,"post_id":76872499,"comment_id":135531176,"body_markdown":"Isn&#39;t [Arm64](https://packages.debian.org/bookworm/openjdk-17-jdk) the same thing?","body":"Isn&#39;t <a href=\"https://packages.debian.org/bookworm/openjdk-17-jdk\" rel=\"nofollow noreferrer\">Arm64</a> the same thing?"},{"owner":{"account_id":28747043,"reputation":11,"user_id":22015952,"display_name":"Tyler Roberts"},"score":0,"creation_date":1691705450,"post_id":76872499,"comment_id":135531617,"body_markdown":"I tried to use apt but it said that it was not a deb package","body":"I tried to use apt but it said that it was not a deb package"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691705555,"post_id":76872499,"comment_id":135531631,"body_markdown":"What is your OS?","body":"What is your OS?"},{"owner":{"account_id":28747043,"reputation":11,"user_id":22015952,"display_name":"Tyler Roberts"},"score":0,"creation_date":1691707359,"post_id":76872499,"comment_id":135531869,"body_markdown":"It&#39;s a ChromeOS with Debian 11 Bullseye","body":"It&#39;s a ChromeOS with Debian 11 Bullseye"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691707617,"post_id":76872499,"comment_id":135531895,"body_markdown":"So `sudo apt update` then `sudo apt install openjdk-17-jdk`","body":"So <code>sudo apt update</code> then <code>sudo apt install openjdk-17-jdk</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691708020,"post_id":76872499,"comment_id":135531939,"body_markdown":"If you absolutely must have 20, then there&#39;s [this](https://download.bell-sw.com/java/20.0.2+10/bellsoft-jdk20.0.2+10-linux-aarch64.deb)","body":"If you absolutely must have 20, then there&#39;s <a href=\"https://download.bell-sw.com/java/20.0.2+10/bellsoft-jdk20.0.2+10-linux-aarch64.deb\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691695365,"creation_date":1691694768,"answer_id":76878711,"question_id":76872499,"body_markdown":"You cannot install a tar.gz file using dpkg — it&#39;s not a .deb package, and dpkg does not know what to do with it.\r\n\r\nIf you only need to install Java for your user and not systemwide, you could do the following:\r\n\r\n```\r\ntar -xzvf jdk-20_linux-aarch64_bin.tar.gz\r\n```\r\n\r\nThis would extract the contents of the archive into a directory called `jdk-20.0.2`. Now create the `.bin/java` directory in your home folder:\r\n\r\n```\r\nmkdir -p ~/.bin/java\r\n```\r\n\r\nNow copy the `jdk-20.0.2` folder into your new folder:\r\n\r\n```\r\ncp -rp jdk-20.0.2 ~/.bin/java\r\n```\r\n\r\nNow you will need to edit your shell configuration file, it should be .bashrc by default:\r\n\r\n```\r\nnano ~/.bashrc\r\n```\r\n\r\nAdd the following lines to this config file:\r\n\r\n```\r\nPATH=&quot;$HOME/.bin/java/jdk-20.0.2/bin:$PATH&quot;\r\nexport JAVA_HOME=$HOME/.bin/java/jdk-20.0.2\r\n```\r\n\r\nPress Ctrl-o to save the changes and Ctrl-x to exit the editor.\r\n\r\nNow you need to source your shell configuration file:\r\n\r\n```\r\nsource ~/.bashrc\r\n```\r\n\r\nVerify that you can run the Java VM by using the following command:\r\n\r\n```\r\njava --version\r\n```\r\n\r\nNow you can delete the file you downloaded and the unpacked folder:\r\n\r\n```\r\nrm jdk-20_linux-aarch64_bin.tar.gz\r\nrm -rf jdk-20.0.2/\r\n```","title":"I want to install JDK for Debian using ARM64 but I got todpkg: error: archive &#39;jdk-20.0.2&#39; is not a regular file, how do I fix?","body":"<p>You cannot install a tar.gz file using dpkg — it's not a .deb package, and dpkg does not know what to do with it.</p>\n<p>If you only need to install Java for your user and not systemwide, you could do the following:</p>\n<pre><code>tar -xzvf jdk-20_linux-aarch64_bin.tar.gz\n</code></pre>\n<p>This would extract the contents of the archive into a directory called <code>jdk-20.0.2</code>. Now create the <code>.bin/java</code> directory in your home folder:</p>\n<pre><code>mkdir -p ~/.bin/java\n</code></pre>\n<p>Now copy the <code>jdk-20.0.2</code> folder into your new folder:</p>\n<pre><code>cp -rp jdk-20.0.2 ~/.bin/java\n</code></pre>\n<p>Now you will need to edit your shell configuration file, it should be .bashrc by default:</p>\n<pre><code>nano ~/.bashrc\n</code></pre>\n<p>Add the following lines to this config file:</p>\n<pre><code>PATH=&quot;$HOME/.bin/java/jdk-20.0.2/bin:$PATH&quot;\nexport JAVA_HOME=$HOME/.bin/java/jdk-20.0.2\n</code></pre>\n<p>Press Ctrl-o to save the changes and Ctrl-x to exit the editor.</p>\n<p>Now you need to source your shell configuration file:</p>\n<pre><code>source ~/.bashrc\n</code></pre>\n<p>Verify that you can run the Java VM by using the following command:</p>\n<pre><code>java --version\n</code></pre>\n<p>Now you can delete the file you downloaded and the unpacked folder:</p>\n<pre><code>rm jdk-20_linux-aarch64_bin.tar.gz\nrm -rf jdk-20.0.2/\n</code></pre>\n"}],"owner":{"account_id":28747043,"reputation":11,"user_id":22015952,"display_name":"Tyler Roberts"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691695365,"creation_date":1691638489,"question_id":76872499,"body_markdown":"I tried to install Java IDK using https://www.oracle.com/java/technologies/downloads/#jdk18-linux and wget as well as uncompressing it using tar but when I tried to `sudo apt dpkg install` on it, it would result in the error:\r\n\r\n    dpkg: error: \r\n    archive &#39;jdk-20.0.2&#39; is not a regular file. \r\n\r\nWhat does it mean and how can I fix it?\r\n\r\n\r\n1. Installed https://www.oracle.com/java/technologies/downloads/#jdk18-linux using wget\r\n2. Got back jdk-20_linux-aarch64_bin.tar.gz, then went to Downloads directory\r\n3. Unpackaged jdk-20_linux-aarch64_bin.tar.gz using tar zxvf\r\n4. Tried to sudo dpkg -i jdk-20_linux-aarch64_bin.tar.gz\r\n5. &quot;dpkg: error: archive &#39;jdk-20.0.2&#39; is not a regular file&quot;\r\n","title":"I want to install JDK for Debian using ARM64 but I got todpkg: error: archive &#39;jdk-20.0.2&#39; is not a regular file, how do I fix?","body":"<p>I tried to install Java IDK using <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk18-linux\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk18-linux</a> and wget as well as uncompressing it using tar but when I tried to <code>sudo apt dpkg install</code> on it, it would result in the error:</p>\n<pre><code>dpkg: error: \narchive 'jdk-20.0.2' is not a regular file. \n</code></pre>\n<p>What does it mean and how can I fix it?</p>\n<ol>\n<li>Installed <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk18-linux\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk18-linux</a> using wget</li>\n<li>Got back jdk-20_linux-aarch64_bin.tar.gz, then went to Downloads directory</li>\n<li>Unpackaged jdk-20_linux-aarch64_bin.tar.gz using tar zxvf</li>\n<li>Tried to sudo dpkg -i jdk-20_linux-aarch64_bin.tar.gz</li>\n<li>&quot;dpkg: error: archive 'jdk-20.0.2' is not a regular file&quot;</li>\n</ol>\n"},{"tags":["java","spring","hibernate","transactions","hsqldb"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691052414,"post_id":76826315,"comment_id":135440139,"body_markdown":"Configure HSQLDEB as it was behaving with 1.x (I&#39;m assuming you are mentioning that in upgrade and not Spring Boot). Although I think the code is flawed and that is what should be fixed and not so much the tests. But apparently everything has been written with the `read_uncommitted` level in mind.","body":"Configure HSQLDEB as it was behaving with 1.x (I&#39;m assuming you are mentioning that in upgrade and not Spring Boot). Although I think the code is flawed and that is what should be fixed and not so much the tests. But apparently everything has been written with the <code>read_uncommitted</code> level in mind."},{"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"score":0,"creation_date":1691062992,"post_id":76826315,"comment_id":135442450,"body_markdown":"I am afraid `read_uncommitted` is no longer in version 2.X. I mean it works as `read_committed`. Also, the rows are committed before, only update part is not, so looks like it is more like HSQLDB &#39;feature&#39; than standard behavior.","body":"I am afraid <code>read_uncommitted</code> is no longer in version 2.X. I mean it works as <code>read_committed</code>. Also, the rows are committed before, only update part is not, so looks like it is more like HSQLDB &#39;feature&#39; than standard behavior."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691063987,"post_id":76826315,"comment_id":135442637,"body_markdown":"The update part is the problem as it is a new transaction (depending on the row is locked or not) will be overwritten by the pending one. I&#39;m not familiar with HSQLDB that much (It has been years since I used it) so it could throw an error somewhere. I would still say the code is wrong and depended on quircky behavior of the db much more then it should.","body":"The update part is the problem as it is a new transaction (depending on the row is locked or not) will be overwritten by the pending one. I&#39;m not familiar with HSQLDB that much (It has been years since I used it) so it could throw an error somewhere. I would still say the code is wrong and depended on quircky behavior of the db much more then it should."},{"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"score":0,"creation_date":1691165037,"post_id":76826315,"comment_id":135459685,"body_markdown":"I switched to H2 and the case I described here started to work out of the box. However, I still have a problem with camel routes. When there is a JPA endpoint and a new entity is persisted, it is not visible in next processor on the route...","body":"I switched to H2 and the case I described here started to work out of the box. However, I still have a problem with camel routes. When there is a JPA endpoint and a new entity is persisted, it is not visible in next processor on the route..."},{"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"score":0,"creation_date":1692014333,"post_id":76826315,"comment_id":135564091,"body_markdown":"Regarding camel - setting shared entity manager helped there.","body":"Regarding camel - setting shared entity manager helped there."}],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691695002,"creation_date":1691695002,"answer_id":76878737,"question_id":76826315,"body_markdown":"The issue with HSQLDB was fixed recently. See below:\r\n\r\nhttps://sourceforge.net/p/hsqldb/bugs/1684/\r\n\r\nYou can build the jar from the SVN snapshot and use it for tests.","title":"In-memory HSQLDB issue with REQUIRES_NEW propagation","body":"<p>The issue with HSQLDB was fixed recently. See below:</p>\n<p><a href=\"https://sourceforge.net/p/hsqldb/bugs/1684/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/hsqldb/bugs/1684/</a></p>\n<p>You can build the jar from the SVN snapshot and use it for tests.</p>\n"}],"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76878737,"answer_count":1,"score":0,"last_activity_date":1691695002,"creation_date":1691052020,"question_id":76826315,"body_markdown":"I am working in a Spring Boot project, it is not very old, but should be considered to be a bit legacy. For some reason, someone decided to use in-memory HSQL db in tests, unfortunately in 1.X version. I am trying to upgrade it to the latest version 2.X.\r\n\r\nAfter upgrading a dependency, a lot of tests stopped working. There are a few crucial changes between versions 1.X and 2.X, i.e.: read uncommitted was a default isolation level in old version, transaction model is different now (I use MVCC).\r\n\r\nI found an interesting case in the application. Let&#39;s assume I have two tables: `Second` with some columns and `First` with `id, second_id` and other columns. `second_id` is a foreign key. Now, I start a test and there is an SQL script that inserts two rows:\r\n\r\n - `Second` table: a row with `id=1`,\r\n - `First` table: a row with `id=1`, `second_id=null`.\r\n\r\nThe script ends with `COMMIT` instruction, so these rows are committed. So, after the execution of the script, we have two rows which are not linked together by a foreign key.\r\n\r\nNow, inside the application, new transaction starts (through `@Transactional`, propagation=`REQUIRED`). The transaction attempts to run update query on a row with `id=1` from `Second` table (`UPDATE Second SET ... WHERE id=1`). Transaction is ongoing, not committed yet.\r\n\r\nThe code hits another `@Transactional` method, however with `propagation=REQUIRES_NEW`. Current transaction is **suspended** and a new one is spawned. Inside it, the following query is executed: `update First set second_id=1 where id=1` - so basically we want to link both rows together through a foreign key. However, it fails with `foreign key no parent`.\r\n\r\nWhat happens here: row which we are trying to link is currently being modified by the first transaction and it is not visible to that new transaction. And it fails. It seems to be expected according to HSQLDB transaction model, which is a bit strange comparing with other relational dbs.\r\n\r\nDo you have any idea how to make it working without modifying the existing code? I can only touch tests and their configuration. The code has been working fine for years (yeah, the design is not nice, I know) and I am not allowed to change anything related to transaction at the moment. There are a lot of new transactions started with `REQUIRES_NEW` propagation, even in some simple cases, what is an overkill according to me.\r\n\r\nI would be very grateful for any ideas how to proceed with that.","title":"In-memory HSQLDB issue with REQUIRES_NEW propagation","body":"<p>I am working in a Spring Boot project, it is not very old, but should be considered to be a bit legacy. For some reason, someone decided to use in-memory HSQL db in tests, unfortunately in 1.X version. I am trying to upgrade it to the latest version 2.X.</p>\n<p>After upgrading a dependency, a lot of tests stopped working. There are a few crucial changes between versions 1.X and 2.X, i.e.: read uncommitted was a default isolation level in old version, transaction model is different now (I use MVCC).</p>\n<p>I found an interesting case in the application. Let's assume I have two tables: <code>Second</code> with some columns and <code>First</code> with <code>id, second_id</code> and other columns. <code>second_id</code> is a foreign key. Now, I start a test and there is an SQL script that inserts two rows:</p>\n<ul>\n<li><code>Second</code> table: a row with <code>id=1</code>,</li>\n<li><code>First</code> table: a row with <code>id=1</code>, <code>second_id=null</code>.</li>\n</ul>\n<p>The script ends with <code>COMMIT</code> instruction, so these rows are committed. So, after the execution of the script, we have two rows which are not linked together by a foreign key.</p>\n<p>Now, inside the application, new transaction starts (through <code>@Transactional</code>, propagation=<code>REQUIRED</code>). The transaction attempts to run update query on a row with <code>id=1</code> from <code>Second</code> table (<code>UPDATE Second SET ... WHERE id=1</code>). Transaction is ongoing, not committed yet.</p>\n<p>The code hits another <code>@Transactional</code> method, however with <code>propagation=REQUIRES_NEW</code>. Current transaction is <strong>suspended</strong> and a new one is spawned. Inside it, the following query is executed: <code>update First set second_id=1 where id=1</code> - so basically we want to link both rows together through a foreign key. However, it fails with <code>foreign key no parent</code>.</p>\n<p>What happens here: row which we are trying to link is currently being modified by the first transaction and it is not visible to that new transaction. And it fails. It seems to be expected according to HSQLDB transaction model, which is a bit strange comparing with other relational dbs.</p>\n<p>Do you have any idea how to make it working without modifying the existing code? I can only touch tests and their configuration. The code has been working fine for years (yeah, the design is not nice, I know) and I am not allowed to change anything related to transaction at the moment. There are a lot of new transactions started with <code>REQUIRES_NEW</code> propagation, even in some simple cases, what is an overkill according to me.</p>\n<p>I would be very grateful for any ideas how to proceed with that.</p>\n"},{"tags":["java","proxy","load-balancing","javalin","proxy-protocol"],"answers":[{"tags":[],"owner":{"account_id":7799336,"reputation":48,"user_id":5899345,"display_name":"zugazagoitia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691694733,"creation_date":1691694733,"answer_id":76878707,"question_id":76643022,"body_markdown":"Javalin does not support the Proxy Protocol. \r\n\r\nIf you are proxying your traffic through Nginx, you don&#39;t need to use the proxy protocol in Javalin, since it will be the final destination. Nginx will handle the proxy protocol and forward the request to Javalin. [You can then use the X-Forwarded-For header to get the original IP address.](https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/)\r\n\r\n","title":"How to enable proxy protocol in javalin?","body":"<p>Javalin does not support the Proxy Protocol.</p>\n<p>If you are proxying your traffic through Nginx, you don't need to use the proxy protocol in Javalin, since it will be the final destination. Nginx will handle the proxy protocol and forward the request to Javalin. <a href=\"https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/\" rel=\"nofollow noreferrer\">You can then use the X-Forwarded-For header to get the original IP address.</a></p>\n"}],"owner":{"account_id":28864519,"reputation":11,"user_id":22107570,"display_name":"Lvkas_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691694733,"creation_date":1688820373,"question_id":76643022,"body_markdown":"I bought a load balancer at hetzner and for my backend (written in Java, Web-Server is Javalin) I want to use the Proxy Protocol, that the IP-Adresses will be redirected to my web-services.\r\n\r\n[Hetzner Load Balancer enable Proxy Protocol](https://i.stack.imgur.com/h9buW.png)\r\nHetzner says, that my service must support this. They also linked an how-to for nginx: https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/\r\n\r\nAt the moment, my services aren&#39;t reachable through the load balancer if I enable the proxy protocol:\r\nBad Message 400\r\nreason: Illegal character SPACE=&#39; &#39; \r\n\r\nDoes anyone know, how to do this for Javalin?\r\nThanks alot!","title":"How to enable proxy protocol in javalin?","body":"<p>I bought a load balancer at hetzner and for my backend (written in Java, Web-Server is Javalin) I want to use the Proxy Protocol, that the IP-Adresses will be redirected to my web-services.</p>\n<p><a href=\"https://i.stack.imgur.com/h9buW.png\" rel=\"nofollow noreferrer\">Hetzner Load Balancer enable Proxy Protocol</a>\nHetzner says, that my service must support this. They also linked an how-to for nginx: <a href=\"https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/\" rel=\"nofollow noreferrer\">https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/</a></p>\n<p>At the moment, my services aren't reachable through the load balancer if I enable the proxy protocol:\nBad Message 400\nreason: Illegal character SPACE=' '</p>\n<p>Does anyone know, how to do this for Javalin?\nThanks alot!</p>\n"},{"tags":["java","spring-boot","junit","spring-jdbc","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691694615,"creation_date":1691694615,"answer_id":76878700,"question_id":76876324,"body_markdown":"It seems you haven&#39;t maintained separete configurations for dev and test setup of your application. This is basically maintaining dedicated spring profiles.\r\n\r\nIn spring-boot, you can create an `application.properties` containing db config of your actual database, lets say postgre sql\r\n```\r\nspring.datasource.url= jdbc:postgresql://localhost:5432/testdb\r\nspring.datasource.username= postgres\r\nspring.datasource.password= dummypwd\r\n# some more postgres specific properties\r\n```\r\nand `application-test.properties` containing your H2 database config.\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:file:./testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n \r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto= update\r\n# some more H2 specific properties\r\n```\r\n\r\nAnd then in your Test class, you can use `@ActiveProfiles(value = &quot;test&quot;)` annotation to activate the corresponding profile, and load the configurations associated with it.\r\n\r\nSee [ActiveProfiles][1] for further details\r\n\r\nEg\r\n```\r\n@SpringBootTest(classes={H2Test.class})\r\n@ContectConfiguration(classes ={H2Test.class})\r\n@ActiveProfiles(value = &quot;test&quot;)\r\npublic class mainTest{\r\n\r\n\r\n@Test\r\npublic void testMain() throws Exception{\r\n\r\nA a=new A();\r\nAssertions.assertDoesNotThrow(()-&gt; a.main());\r\n//call the main method of the application here\r\n}\r\n}\r\n\r\n```\r\n\r\nPlease note:\r\nYou&#39;ll may need to refactor your first line in `mainTest` class to `@SpringBootTest(classes = YourApplication.class) ` where `YourApplication.class` is your Spring-Boot Application&#39;s main class\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html","title":"How to use the bean created in the test to run an application?","body":"<p>It seems you haven't maintained separete configurations for dev and test setup of your application. This is basically maintaining dedicated spring profiles.</p>\n<p>In spring-boot, you can create an <code>application.properties</code> containing db config of your actual database, lets say postgre sql</p>\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/testdb\nspring.datasource.username= postgres\nspring.datasource.password= dummypwd\n# some more postgres specific properties\n</code></pre>\n<p>and <code>application-test.properties</code> containing your H2 database config.</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:./testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n \nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto= update\n# some more H2 specific properties\n</code></pre>\n<p>And then in your Test class, you can use <code>@ActiveProfiles(value = &quot;test&quot;)</code> annotation to activate the corresponding profile, and load the configurations associated with it.</p>\n<p>See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"nofollow noreferrer\">ActiveProfiles</a> for further details</p>\n<p>Eg</p>\n<pre><code>@SpringBootTest(classes={H2Test.class})\n@ContectConfiguration(classes ={H2Test.class})\n@ActiveProfiles(value = &quot;test&quot;)\npublic class mainTest{\n\n\n@Test\npublic void testMain() throws Exception{\n\nA a=new A();\nAssertions.assertDoesNotThrow(()-&gt; a.main());\n//call the main method of the application here\n}\n}\n\n</code></pre>\n<p>Please note:\nYou'll may need to refactor your first line in <code>mainTest</code> class to <code>@SpringBootTest(classes = YourApplication.class) </code> where <code>YourApplication.class</code> is your Spring-Boot Application's main class</p>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691694615,"creation_date":1691675059,"question_id":76876324,"body_markdown":"I am writing test for an application where DataSource is created as a Bean when connecting to the DB2 Database. For the test I would like to use an in-memory H2 Database and call the main method to run the application. I have created a bean for the Datasource with H2 Database in the test folder. However when I call the main method, the control is always going to the original application and the Bean with the DB2 database is always created. How can I make use of the bean with H2 database in the application? The config class that I have written in the test is never called and so the bean with H2 Database is never created. \r\n\r\nI have the config class in the test folder that is imported later in the test file.\r\n\r\n\r\n```\r\n@TestConfiguration\r\n@AutoConfiguration\r\npublic class H2Test {\r\n\r\n\r\n@Primary\r\n@Bean\r\n@ConditionalOnMissingBean\r\n\r\npublic Datasource getH2bean() {\r\nJdbcDataSource jdbcDataSource=new JdbcDataSource();\r\njdbcDataSource.setURL(&lt;&lt;Url to the H2 in-memory Database&gt;&gt;);\r\n//further code\r\nreturn jdbcDataSource;\r\n}\r\n}\r\n```\r\n\r\nI want the bean of datasource above (`getH2bean`) to be used while running the complete application as I want to call the main method of the application.\r\n\r\nThe test file from where I call the main method is as below-\r\n\r\n\r\n```\r\n@SpringBootTest(classes={H2Test.class})\r\n@ContectConfiguration(classes ={H2Test.class})\r\npublic class mainTest{\r\n\r\n\r\n@Test\r\npublic void testMain() throws Exception{\r\n\r\nA a=new A();\r\nAssertions.assertDoesNotThrow(()-&gt; a.main());\r\n//call the main method of the application here\r\n}\r\n}\r\n\r\n```\r\n\r\nHow to use the `getH2bean()` in the original application in this context?","title":"How to use the bean created in the test to run an application?","body":"<p>I am writing test for an application where DataSource is created as a Bean when connecting to the DB2 Database. For the test I would like to use an in-memory H2 Database and call the main method to run the application. I have created a bean for the Datasource with H2 Database in the test folder. However when I call the main method, the control is always going to the original application and the Bean with the DB2 database is always created. How can I make use of the bean with H2 database in the application? The config class that I have written in the test is never called and so the bean with H2 Database is never created.</p>\n<p>I have the config class in the test folder that is imported later in the test file.</p>\n<pre><code>@TestConfiguration\n@AutoConfiguration\npublic class H2Test {\n\n\n@Primary\n@Bean\n@ConditionalOnMissingBean\n\npublic Datasource getH2bean() {\nJdbcDataSource jdbcDataSource=new JdbcDataSource();\njdbcDataSource.setURL(&lt;&lt;Url to the H2 in-memory Database&gt;&gt;);\n//further code\nreturn jdbcDataSource;\n}\n}\n</code></pre>\n<p>I want the bean of datasource above (<code>getH2bean</code>) to be used while running the complete application as I want to call the main method of the application.</p>\n<p>The test file from where I call the main method is as below-</p>\n<pre><code>@SpringBootTest(classes={H2Test.class})\n@ContectConfiguration(classes ={H2Test.class})\npublic class mainTest{\n\n\n@Test\npublic void testMain() throws Exception{\n\nA a=new A();\nAssertions.assertDoesNotThrow(()-&gt; a.main());\n//call the main method of the application here\n}\n}\n\n</code></pre>\n<p>How to use the <code>getH2bean()</code> in the original application in this context?</p>\n"},{"tags":["java","stream","heap","space-complexity","peek"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691693317,"post_id":76878399,"comment_id":135529670,"body_markdown":"You&#39;re trying to do paging and get the max count at the same time. But you&#39;re trying to do it in a real silly way (especially if you&#39;re retrieving all data just to get the max count). Where does the stream originate from? Why don&#39;t you do the limit/offset in the original datasource, so it&#39;ll be more efficient.","body":"You&#39;re trying to do paging and get the max count at the same time. But you&#39;re trying to do it in a real silly way (especially if you&#39;re retrieving all data just to get the max count). Where does the stream originate from? Why don&#39;t you do the limit/offset in the original datasource, so it&#39;ll be more efficient."},{"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"score":0,"creation_date":1691696549,"post_id":76878399,"comment_id":135530245,"body_markdown":"I understand your concerns. However, the solution I&#39;ve presented is due to the requirements of a legacy code structure I have to work with. I&#39;m trying to find the most efficient way to operate within these constraints. Thank you for the feedback.","body":"I understand your concerns. However, the solution I&#39;ve presented is due to the requirements of a legacy code structure I have to work with. I&#39;m trying to find the most efficient way to operate within these constraints. Thank you for the feedback."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691694395,"creation_date":1691692235,"answer_id":76878451,"question_id":76878399,"body_markdown":"The only viable solution that deals with the case you&#39;ve described looks like\r\n\r\n```\r\nstreamData.forEachOrdered(elem -&gt; {\r\n  int i = totalCount.getAndIncrement();\r\n  if (i &gt;= startPosition &amp;&amp; i &lt; startPosition + itemsPerPage) {\r\n    itemHandler.accept(i);\r\n  }\r\n})\r\n```\r\n\r\nI don&#39;t believe a better solution exists; streams are really not designed to do what you&#39;re trying to do with them.","title":"Java: How to count and process elements in a Stream without auxiliary structures or peek()?","body":"<p>The only viable solution that deals with the case you've described looks like</p>\n<pre><code>streamData.forEachOrdered(elem -&gt; {\n  int i = totalCount.getAndIncrement();\n  if (i &gt;= startPosition &amp;&amp; i &lt; startPosition + itemsPerPage) {\n    itemHandler.accept(i);\n  }\n})\n</code></pre>\n<p>I don't believe a better solution exists; streams are really not designed to do what you're trying to do with them.</p>\n"}],"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76878451,"answer_count":1,"score":0,"last_activity_date":1691694395,"creation_date":1691691763,"question_id":76878399,"body_markdown":"I&#39;m working with Java streams and I need a method to both count all elements in the stream and, at the same time, perform operations on a subset of them using skip() and limit().\r\nI&#39;m aiming to do this without using any auxiliary structures to reduce heap space usage, because the data entered can be very large.\r\n\r\nI&#39;d also prefer to steer clear of the peek() method due to its potential side effects in specific scenarios, as detailed in this [article](https://4comprehension.com/idiomatic-peeking/)\r\n\r\n    public static &lt;T&gt; long extractAndProcess(Stream&lt;T&gt; streamData, int pageIndex, int itemsPerPage,   Consumer&lt;T&gt; itemHandler) {\r\n\r\n        long startPosition = (long) pageIndex * itemsPerPage;\r\n        AtomicLong totalCount = new AtomicLong();\r\n\r\n        streamData.peek(item -&gt; totalCount.incrementAndGet())\r\n                  .skip(startPosition)\r\n                  .limit(itemsPerPage)\r\n                  .forEachOrdered(itemHandler);\r\n\r\n        return totalCount.get();\r\n    }\r\n\r\nI tried to use peek() here, but in combination with .limit() it doesn&#39;t work as I assumed in the specific cases.","title":"Java: How to count and process elements in a Stream without auxiliary structures or peek()?","body":"<p>I'm working with Java streams and I need a method to both count all elements in the stream and, at the same time, perform operations on a subset of them using skip() and limit().\nI'm aiming to do this without using any auxiliary structures to reduce heap space usage, because the data entered can be very large.</p>\n<p>I'd also prefer to steer clear of the peek() method due to its potential side effects in specific scenarios, as detailed in this <a href=\"https://4comprehension.com/idiomatic-peeking/\" rel=\"nofollow noreferrer\">article</a></p>\n<pre><code>public static &lt;T&gt; long extractAndProcess(Stream&lt;T&gt; streamData, int pageIndex, int itemsPerPage,   Consumer&lt;T&gt; itemHandler) {\n\n    long startPosition = (long) pageIndex * itemsPerPage;\n    AtomicLong totalCount = new AtomicLong();\n\n    streamData.peek(item -&gt; totalCount.incrementAndGet())\n              .skip(startPosition)\n              .limit(itemsPerPage)\n              .forEachOrdered(itemHandler);\n\n    return totalCount.get();\n}\n</code></pre>\n<p>I tried to use peek() here, but in combination with .limit() it doesn't work as I assumed in the specific cases.</p>\n"},{"tags":["java","webclient","helidon","helidon-webclient"],"answers":[{"tags":[],"owner":{"account_id":1824964,"reputation":468,"user_id":1658022,"display_name":"Romain Grecourt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691694209,"creation_date":1691694209,"answer_id":76878663,"question_id":76865400,"body_markdown":"[302][1] is used for redirects.\r\n\r\nPostman probably follows redirects by default, however Helidon WebClient does not. You need to use `.followRedirects(true)` on either WebClient.Builder or request instance.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302","title":"Helidon : Caused by: io.helidon.webclient.WebClientException: Request failed with code 302","body":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302\" rel=\"nofollow noreferrer\">302</a> is used for redirects.</p>\n<p>Postman probably follows redirects by default, however Helidon WebClient does not. You need to use <code>.followRedirects(true)</code> on either WebClient.Builder or request instance.</p>\n"}],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691694209,"creation_date":1691565060,"question_id":76865400,"body_markdown":"I&#39;m writing a helidon web-client, I&#39;m getting \r\n\r\n```\r\nCaused by: io.helidon.webclient.WebClientException: Request failed with code 302\r\n```\r\n\r\n```\r\nimport java.util.concurrent.ExecutionException;\r\nimport io.helidon.media.jsonp.JsonpSupport;\r\nimport io.helidon.webclient.WebClient;\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.json.JsonArray;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\n@Path(&quot;/consumer&quot;)\r\n@RequestScoped\r\npublic class ConsumerController {\r\n\t\r\n\tprivate String producerUrl=&quot;http://localhost:8080/books-db/&quot;;\r\n\t\r\n\t@GET\r\n\tpublic JsonArray getBookData(){\r\n\t\tSystem.out.println(&quot;producerUrl :: &quot;+producerUrl);\r\n\t\ttry {\r\n\t\tWebClient client = WebClient.builder().baseUri(producerUrl)\r\n\t\t\t\t.addMediaSupport(JsonpSupport.create()).addHeader(&quot;Accept&quot;, &quot;application/json&quot;).build();\r\n\t\t\t\treturn client.method(&quot;GET&quot;).request(JsonArray.class).get();\r\n\t\t}\r\n\t\tcatch(InterruptedException | ExecutionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe entire stack trace is:\r\n```\r\n2023.08.09 12:17:27 INFO io.helidon.common.LogConfig Thread[main,5,main]: Logging at initialization configured using classpath: /logging.properties\r\n2023.08.09 12:17:27 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Registering JAX-RS Application: HelidonMP\r\n2023.08.09 12:17:28 INFO io.helidon.webserver.NettyWebServer Thread[nioEventLoopGroup-2-1,10,main]: Channel &#39;@default&#39; started: [id: 0xeba066a3, L:/[0:0:0:0:0:0:0:0]:9090]\r\n2023.08.09 12:17:28 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Server started on http://localhost:9090 (and all other host addresses) in 1019 milliseconds (since JVM startup).\r\n2023.08.09 12:17:28 INFO io.helidon.common.HelidonFeatures Thread[features-thread,5,main]: Helidon MP 3.2.2 features: [CDI, Config, Health, JAX-RS, Metrics, Open API, Server]\r\nproducerUrl :: http://localhost:8080/books-db/\r\njava.util.concurrent.ExecutionException: io.helidon.webclient.WebClientException: Request failed with code 302\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\r\n\tat io.helidon.common.reactive.Single.get(Single.java:730)\r\n\tat com.oracle.controller.ConsumerController.getBookData(ConsumerController.java:25)\r\n\tat com.oracle.controller.ConsumerController$Proxy$_$$_WeldClientProxy.getBookData(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:256)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:235)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n\tat io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$6(JerseySupport.java:339)\r\n\tat io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\r\n\tat io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: io.helidon.webclient.WebClientException: Request failed with code 302\r\n\tat io.helidon.webclient.WebClientRequestBuilderImpl.getContentFromClientResponse(WebClientRequestBuilderImpl.java:682)\r\n\tat io.helidon.common.reactive.MultiMapperPublisher$MapperSubscriber.onNext(MultiMapperPublisher.java:73)\r\n\tat io.helidon.common.reactive.SingleFromPublisher$SingleSubscriber.onComplete(SingleFromPublisher.java:86)\r\n\tat io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\r\n\tat io.helidon.webclient.WebClientRequestBuilderImpl.runInContext(WebClientRequestBuilderImpl.java:641)\r\n\tat io.helidon.webclient.WebClientRequestBuilderImpl$1.onComplete(WebClientRequestBuilderImpl.java:674)\r\n\tat io.helidon.common.reactive.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:92)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:72)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:52)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:95)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:88)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat io.helidon.webclient.NettyClientHandler.lambda$channelRead0$7(NettyClientHandler.java:190)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:819)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:803)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2195)\r\n\tat io.helidon.webclient.NettyClientHandler.lambda$channelRead0$9(NettyClientHandler.java:183)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2325)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144)\r\n\tat io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:176)\r\n\tat io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:61)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:280)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t... 5 more\r\n\r\n```\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lxj9S.png","title":"Helidon : Caused by: io.helidon.webclient.WebClientException: Request failed with code 302","body":"<p>I'm writing a helidon web-client, I'm getting</p>\n<pre><code>Caused by: io.helidon.webclient.WebClientException: Request failed with code 302\n</code></pre>\n<pre><code>import java.util.concurrent.ExecutionException;\nimport io.helidon.media.jsonp.JsonpSupport;\nimport io.helidon.webclient.WebClient;\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.json.JsonArray;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n@Path(&quot;/consumer&quot;)\n@RequestScoped\npublic class ConsumerController {\n    \n    private String producerUrl=&quot;http://localhost:8080/books-db/&quot;;\n    \n    @GET\n    public JsonArray getBookData(){\n        System.out.println(&quot;producerUrl :: &quot;+producerUrl);\n        try {\n        WebClient client = WebClient.builder().baseUri(producerUrl)\n                .addMediaSupport(JsonpSupport.create()).addHeader(&quot;Accept&quot;, &quot;application/json&quot;).build();\n                return client.method(&quot;GET&quot;).request(JsonArray.class).get();\n        }\n        catch(InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n            return null;\n        }\n    \n    }\n}\n\n</code></pre>\n<p>The entire stack trace is:</p>\n<pre><code>2023.08.09 12:17:27 INFO io.helidon.common.LogConfig Thread[main,5,main]: Logging at initialization configured using classpath: /logging.properties\n2023.08.09 12:17:27 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Registering JAX-RS Application: HelidonMP\n2023.08.09 12:17:28 INFO io.helidon.webserver.NettyWebServer Thread[nioEventLoopGroup-2-1,10,main]: Channel '@default' started: [id: 0xeba066a3, L:/[0:0:0:0:0:0:0:0]:9090]\n2023.08.09 12:17:28 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Server started on http://localhost:9090 (and all other host addresses) in 1019 milliseconds (since JVM startup).\n2023.08.09 12:17:28 INFO io.helidon.common.HelidonFeatures Thread[features-thread,5,main]: Helidon MP 3.2.2 features: [CDI, Config, Health, JAX-RS, Metrics, Open API, Server]\nproducerUrl :: http://localhost:8080/books-db/\njava.util.concurrent.ExecutionException: io.helidon.webclient.WebClientException: Request failed with code 302\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\n    at io.helidon.common.reactive.Single.get(Single.java:730)\n    at com.oracle.controller.ConsumerController.getBookData(ConsumerController.java:25)\n    at com.oracle.controller.ConsumerController$Proxy$_$$_WeldClientProxy.getBookData(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:256)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:235)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n    at io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$6(JerseySupport.java:339)\n    at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\n    at io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: io.helidon.webclient.WebClientException: Request failed with code 302\n    at io.helidon.webclient.WebClientRequestBuilderImpl.getContentFromClientResponse(WebClientRequestBuilderImpl.java:682)\n    at io.helidon.common.reactive.MultiMapperPublisher$MapperSubscriber.onNext(MultiMapperPublisher.java:73)\n    at io.helidon.common.reactive.SingleFromPublisher$SingleSubscriber.onComplete(SingleFromPublisher.java:86)\n    at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\n    at io.helidon.webclient.WebClientRequestBuilderImpl.runInContext(WebClientRequestBuilderImpl.java:641)\n    at io.helidon.webclient.WebClientRequestBuilderImpl$1.onComplete(WebClientRequestBuilderImpl.java:674)\n    at io.helidon.common.reactive.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:92)\n    at io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:72)\n    at io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:52)\n    at io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:95)\n    at io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:88)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at io.helidon.webclient.NettyClientHandler.lambda$channelRead0$7(NettyClientHandler.java:190)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:819)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:803)\n    at java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2195)\n    at io.helidon.webclient.NettyClientHandler.lambda$channelRead0$9(NettyClientHandler.java:183)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2325)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144)\n    at io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:176)\n    at io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:61)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:280)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    ... 5 more\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lxj9S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lxj9S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":46,"creation_date":1399968504,"post_id":13604703,"comment_id":36275149,"body_markdown":"Good question. And you are right: None of the tutorials contain that part.","body":"Good question. And you are right: None of the tutorials contain that part."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":4,"up_vote_count":326,"is_accepted":true,"score":322,"last_activity_date":1648226455,"creation_date":1354104543,"answer_id":13604748,"question_id":13604703,"body_markdown":"Lambdas are purely a call-site construct: the recipient of the lambda does not need to know that a Lambda is involved, instead it accepts an Interface with the appropriate method.\r\n\r\nIn other words, you define or use a functional interface (i.e. an interface with a single method) that accepts and returns exactly what you want.\r\n\r\nSince Java 8 there is a set of commonly-used interface types in [`java.util.function`][1].\r\n\r\nFor this specific use case there&#39;s [`java.util.function.IntBinaryOperator`][2] with [a single `int applyAsInt(int left, int right)` method][3], so you could write your `method` like this:\r\n\r\n    static int method(IntBinaryOperator op){\r\n        return op.applyAsInt(5, 10);\r\n    }\r\n\r\nBut you can just as well define your own interface and use it like this:\r\n\r\n    public interface TwoArgIntOperator {\r\n        public int op(int a, int b);\r\n    }\r\n\r\n    //elsewhere:\r\n    static int method(TwoArgIntOperator operator) {\r\n        return operator.op(5, 10);\r\n    }\r\n\r\nThen call the method with a lambda as parameter:\r\n\r\n    public static void main(String[] args) {\r\n        TwoArgIntOperator addTwoInts = (a, b) -&gt; a + b;\r\n        int result = method(addTwoInts);\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n\r\nUsing your own interface has the advantage that you can have names that more clearly indicate the intent.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html#applyAsInt(int,int)","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Lambdas are purely a call-site construct: the recipient of the lambda does not need to know that a Lambda is involved, instead it accepts an Interface with the appropriate method.</p>\n<p>In other words, you define or use a functional interface (i.e. an interface with a single method) that accepts and returns exactly what you want.</p>\n<p>Since Java 8 there is a set of commonly-used interface types in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html\" rel=\"noreferrer\"><code>java.util.function</code></a>.</p>\n<p>For this specific use case there's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html\" rel=\"noreferrer\"><code>java.util.function.IntBinaryOperator</code></a> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html#applyAsInt(int,int)\" rel=\"noreferrer\">a single <code>int applyAsInt(int left, int right)</code> method</a>, so you could write your <code>method</code> like this:</p>\n<pre><code>static int method(IntBinaryOperator op){\n    return op.applyAsInt(5, 10);\n}\n</code></pre>\n<p>But you can just as well define your own interface and use it like this:</p>\n<pre><code>public interface TwoArgIntOperator {\n    public int op(int a, int b);\n}\n\n//elsewhere:\nstatic int method(TwoArgIntOperator operator) {\n    return operator.op(5, 10);\n}\n</code></pre>\n<p>Then call the method with a lambda as parameter:</p>\n<pre><code>public static void main(String[] args) {\n    TwoArgIntOperator addTwoInts = (a, b) -&gt; a + b;\n    int result = method(addTwoInts);\n    System.out.println(&quot;Result: &quot; + result);\n}\n</code></pre>\n<p>Using your own interface has the advantage that you can have names that more clearly indicate the intent.</p>\n"},{"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528968472,"creation_date":1354107564,"answer_id":13605634,"question_id":13604703,"body_markdown":"There&#39;s a public Web-accessible version of the Lambda-enabled Java 8 JavaDocs, linked from http://lambdafaq.org/lambda-resources.  (This should obviously be a comment on Joachim Sauer&#39;s answer, but I can&#39;t get into my SO account with the reputation points I need to add a comment.)  The lambdafaq site (I maintain it) answers this and a lot of other Java-lambda questions.\r\n\r\nNB This answer was written before the Java 8 GA documentation became [publicly available][1]. I&#39;ve left in place, though, because the [Lambda FAQ][2] might still be useful to people learning about features introduced in Java 8.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/\r\n  [2]: http://lambdafaq.org","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>There's a public Web-accessible version of the Lambda-enabled Java 8 JavaDocs, linked from <a href=\"http://lambdafaq.org/lambda-resources\" rel=\"nofollow noreferrer\">http://lambdafaq.org/lambda-resources</a>.  (This should obviously be a comment on Joachim Sauer's answer, but I can't get into my SO account with the reputation points I need to add a comment.)  The lambdafaq site (I maintain it) answers this and a lot of other Java-lambda questions.</p>\n\n<p>NB This answer was written before the Java 8 GA documentation became <a href=\"https://docs.oracle.com/javase/8/docs/api/\" rel=\"nofollow noreferrer\">publicly available</a>. I've left in place, though, because the <a href=\"http://lambdafaq.org\" rel=\"nofollow noreferrer\">Lambda FAQ</a> might still be useful to people learning about features introduced in Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3037387,"reputation":5468,"user_id":2575134,"display_name":"pardeep131085"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1604154006,"creation_date":1395242926,"answer_id":22510656,"question_id":13604703,"body_markdown":"To use Lambda expression you need to either create your own functional interface or use Java functional interface for operation that require two integer and return as value. [IntBinaryOperator][1]\r\n\r\n\r\n**Using user defined functional interface**\r\n\r\n    interface TwoArgInterface {\r\n    \r\n        public int operation(int a, int b);\r\n    }\r\n\r\n    public class MyClass {\r\n    \r\n        public static void main(String javalatte[]) {\r\n            // this is lambda expression\r\n            TwoArgInterface plusOperation = (a, b) -&gt; a + b;\r\n            System.out.println(&quot;Sum of 10,34 : &quot; + plusOperation.operation(10, 34));\r\n    \r\n        }\r\n    }\r\n\r\n**Using Java functional interface**\r\n\r\n    import java.util.function.IntBinaryOperator;\r\n    \r\n    public class MyClass1 {\r\n    \r\n        static void main(String javalatte[]) {\r\n            // this is lambda expression\r\n            IntBinaryOperator plusOperation = (a, b) -&gt; a + b;\r\n            System.out.println(&quot;Sum of 10,34 : &quot; + plusOperation.applyAsInt(10, 34));\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/IntBinaryOperator.html\r\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>To use Lambda expression you need to either create your own functional interface or use Java functional interface for operation that require two integer and return as value. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/IntBinaryOperator.html\" rel=\"noreferrer\">IntBinaryOperator</a></p>\n<p><strong>Using user defined functional interface</strong></p>\n<pre><code>interface TwoArgInterface {\n\n    public int operation(int a, int b);\n}\n\npublic class MyClass {\n\n    public static void main(String javalatte[]) {\n        // this is lambda expression\n        TwoArgInterface plusOperation = (a, b) -&gt; a + b;\n        System.out.println(&quot;Sum of 10,34 : &quot; + plusOperation.operation(10, 34));\n\n    }\n}\n</code></pre>\n<p><strong>Using Java functional interface</strong></p>\n<pre><code>import java.util.function.IntBinaryOperator;\n\npublic class MyClass1 {\n\n    static void main(String javalatte[]) {\n        // this is lambda expression\n        IntBinaryOperator plusOperation = (a, b) -&gt; a + b;\n        System.out.println(&quot;Sum of 10,34 : &quot; + plusOperation.applyAsInt(10, 34));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6304904,"reputation":590,"user_id":4898269,"display_name":"David Wu"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1432696772,"creation_date":1432696772,"answer_id":30472555,"question_id":13604703,"body_markdown":"**For functions that do not have more than 2 parameters, you can pass them without defining your own interface. For example,**\r\n\r\n    class Klass {\r\n      static List&lt;String&gt; foo(Integer a, String b) { ... }\r\n    }\r\n\r\n    class MyClass{\r\n  \r\n      static List&lt;String&gt; method(BiFunction&lt;Integer, String, List&lt;String&gt;&gt; fn){\r\n        return fn.apply(5, &quot;FooBar&quot;);\r\n      }\r\n    }\r\n\r\n    List&lt;String&gt; lStr = MyClass.method((a, b) -&gt; Klass.foo((Integer) a, (String) b));\r\n\r\nIn **`BiFunction&lt;Integer, String, List&lt;String&gt;&gt;`**, `Integer` and `String` are its parameters, and `List&lt;String&gt;` is its return type. \r\n\r\nFor a function with only one parameter, you can use **`Function&lt;T, R&gt;`**, where **`T`** is its parameter type, and **`R`** is its return value type.  Refer to this [page](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html) for all the interfaces that are already made available by Java.   ","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p><strong>For functions that do not have more than 2 parameters, you can pass them without defining your own interface. For example,</strong></p>\n\n<pre><code>class Klass {\n  static List&lt;String&gt; foo(Integer a, String b) { ... }\n}\n\nclass MyClass{\n\n  static List&lt;String&gt; method(BiFunction&lt;Integer, String, List&lt;String&gt;&gt; fn){\n    return fn.apply(5, \"FooBar\");\n  }\n}\n\nList&lt;String&gt; lStr = MyClass.method((a, b) -&gt; Klass.foo((Integer) a, (String) b));\n</code></pre>\n\n<p>In <strong><code>BiFunction&lt;Integer, String, List&lt;String&gt;&gt;</code></strong>, <code>Integer</code> and <code>String</code> are its parameters, and <code>List&lt;String&gt;</code> is its return type. </p>\n\n<p>For a function with only one parameter, you can use <strong><code>Function&lt;T, R&gt;</code></strong>, where <strong><code>T</code></strong> is its parameter type, and <strong><code>R</code></strong> is its return value type.  Refer to this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\">page</a> for all the interfaces that are already made available by Java.   </p>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1485703329,"creation_date":1439312971,"answer_id":31947904,"question_id":13604703,"body_markdown":"Lambda expression can be passed as a argument.To pass a lambda expression as an argument the type of the parameter (which receives the lambda expression as an argument) must be of functional interface type.\r\n\r\nIf there is a functional interface - \r\n\r\n    interface IMyFunc {\r\n       boolean test(int num);\r\n    }\r\nAnd there is a filter method which adds the int in the list only if it is greater than 5. Note here that filter method has funtional interface IMyFunc as one of the parameter. In that case lambda expression can be passed as an argument for the method parameter.\r\n\r\n    public class LambdaDemo {\r\n        public static List&lt;Integer&gt; filter(IMyFunc testNum, List&lt;Integer&gt; listItems) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n            for(Integer item: listItems) {\r\n                if(testNum.test(item)) {\r\n                    result.add(item);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;();\r\n            myList.add(1);\r\n            myList.add(4);\r\n            myList.add(6);\r\n            myList.add(7);\r\n            // calling filter method with a lambda expression\r\n            // as one of the param\r\n            Collection&lt;Integer&gt; values = filter(n -&gt; n &gt; 5, myList);\r\n                    \r\n            System.out.println(&quot;Filtered values &quot; + values);\r\n        }\r\n    }\r\n\r\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Lambda expression can be passed as a argument.To pass a lambda expression as an argument the type of the parameter (which receives the lambda expression as an argument) must be of functional interface type.</p>\n\n<p>If there is a functional interface - </p>\n\n<pre><code>interface IMyFunc {\n   boolean test(int num);\n}\n</code></pre>\n\n<p>And there is a filter method which adds the int in the list only if it is greater than 5. Note here that filter method has funtional interface IMyFunc as one of the parameter. In that case lambda expression can be passed as an argument for the method parameter.</p>\n\n<pre><code>public class LambdaDemo {\n    public static List&lt;Integer&gt; filter(IMyFunc testNum, List&lt;Integer&gt; listItems) {\n        List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        for(Integer item: listItems) {\n            if(testNum.test(item)) {\n                result.add(item);\n            }\n        }\n        return result;\n    }\n    public static void main(String[] args) {\n        List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;();\n        myList.add(1);\n        myList.add(4);\n        myList.add(6);\n        myList.add(7);\n        // calling filter method with a lambda expression\n        // as one of the param\n        Collection&lt;Integer&gt; values = filter(n -&gt; n &gt; 5, myList);\n\n        System.out.println(\"Filtered values \" + values);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3836319,"reputation":2792,"user_id":5620851,"display_name":"hi.nitish"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1499405461,"creation_date":1489448115,"answer_id":42775316,"question_id":13604703,"body_markdown":"There is flexibility in using lambda as parameter. It enables functional programming in java. The basic syntax is \n\n&gt; param -&gt; method_body\n\nFollowing is a way, you can define a method taking functional interface (lambda is used) as parameter.\na. if you wish to define a method declared inside a functional interface, \nsay, the **functional interface** is given as an argument/parameter to a method called from `main()`\n   \n\n    @FunctionalInterface\n    interface FInterface{\n        int callMeLambda(String temp);\n    }\n    \n\n    class ConcreteClass{\n            \n        void funcUsesAnonymousOrLambda(FInterface fi){\n            System.out.println(&quot;===Executing method arg instantiated with Lambda===&quot;));\n        }\n            \n        public static void main(){\n            // calls a method having FInterface as an argument.\n            funcUsesAnonymousOrLambda(new FInterface() {\n            \n                int callMeLambda(String temp){ //define callMeLambda(){} here..\n                    return 0;\n                }\n            }\n        }\n            \n    /***********Can be replaced by Lambda below*********/\n            funcUsesAnonymousOrLambda( (x) -&gt; {\n                return 0; //(1)\n            }\n           \n        }\n\n&gt; FInterface fi = (x) -&gt; { return 0; };\n&gt; \n&gt; funcUsesAnonymousOrLambda(fi);\n&gt;\n&gt;Here above it can be seen, how a lambda expression can be replaced with an interface.\n\nAbove explains a particular usage of lambda expression, there are more.\nref\nhttps://stackoverflow.com/questions/23451579/java-8-lambda-within-a-lambda-cant-modify-variable-from-outer-lambda\n\n  [1]: http://www.oracle.com/technetwork/articles/java/architect-lambdas-part1-2080972.html\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>There is flexibility in using lambda as parameter. It enables functional programming in java. The basic syntax is</p>\n<blockquote>\n<p>param -&gt; method_body</p>\n</blockquote>\n<p>Following is a way, you can define a method taking functional interface (lambda is used) as parameter.\na. if you wish to define a method declared inside a functional interface,\nsay, the <strong>functional interface</strong> is given as an argument/parameter to a method called from <code>main()</code></p>\n<pre><code>@FunctionalInterface\ninterface FInterface{\n    int callMeLambda(String temp);\n}\n\n\nclass ConcreteClass{\n        \n    void funcUsesAnonymousOrLambda(FInterface fi){\n        System.out.println(&quot;===Executing method arg instantiated with Lambda===&quot;));\n    }\n        \n    public static void main(){\n        // calls a method having FInterface as an argument.\n        funcUsesAnonymousOrLambda(new FInterface() {\n        \n            int callMeLambda(String temp){ //define callMeLambda(){} here..\n                return 0;\n            }\n        }\n    }\n        \n/***********Can be replaced by Lambda below*********/\n        funcUsesAnonymousOrLambda( (x) -&gt; {\n            return 0; //(1)\n        }\n       \n    }\n</code></pre>\n<blockquote>\n<p>FInterface fi = (x) -&gt; { return 0; };</p>\n<p>funcUsesAnonymousOrLambda(fi);</p>\n<p>Here above it can be seen, how a lambda expression can be replaced with an interface.</p>\n</blockquote>\n<p>Above explains a particular usage of lambda expression, there are more.\nref\n<a href=\"https://stackoverflow.com/questions/23451579/java-8-lambda-within-a-lambda-cant-modify-variable-from-outer-lambda\">Java 8 lambda within a lambda can&#39;t modify variable from outer lambda</a></p>\n"},{"tags":[],"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524203181,"creation_date":1524203181,"answer_id":49934799,"question_id":13604703,"body_markdown":"Well, that&#39;s easy. The purpose of lambda expression is to implement Functional Interface. It is the interface with only one method. [Here is awesone article about predefined and legacy functional interfaces.][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/java-8-functional-interfaces\r\n\r\n\r\nAnyway, if you want to implement your own functional interface, make it. Just for simple example:\r\n\r\n    public interface MyFunctionalInterface {\r\n        String makeIt(String s);\r\n    }\r\n\r\nSo let&#39;s make a class, where we will create a method, which accepts the type of *MyFunctionalInterface* :\r\n\r\n    public class Main {\r\n    \r\n        static void printIt(String s, MyFunctionalInterface f) {\r\n            System.out.println(f.makeIt(s));\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n        }\r\n    }\r\nThe last thing you should do is to pass the implementation of the *MyFunctionalInterface* to the method we&#39;ve defined:\r\n\r\n    public class Main {\r\n    \r\n        static void printIt(String s, MyFunctionalInterface f) {\r\n            System.out.println(f.makeIt(s));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            printIt(&quot;Java&quot;, s -&gt; s + &quot; is Awesome&quot;);\r\n        }\r\n    }\r\nThat&#39;s it!","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Well, that's easy. The purpose of lambda expression is to implement Functional Interface. It is the interface with only one method. <a href=\"http://www.baeldung.com/java-8-functional-interfaces\" rel=\"nofollow noreferrer\">Here is awesone article about predefined and legacy functional interfaces.</a></p>\n\n<p>Anyway, if you want to implement your own functional interface, make it. Just for simple example:</p>\n\n<pre><code>public interface MyFunctionalInterface {\n    String makeIt(String s);\n}\n</code></pre>\n\n<p>So let's make a class, where we will create a method, which accepts the type of <em>MyFunctionalInterface</em> :</p>\n\n<pre><code>public class Main {\n\n    static void printIt(String s, MyFunctionalInterface f) {\n        System.out.println(f.makeIt(s));\n    }\n\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n\n<p>The last thing you should do is to pass the implementation of the <em>MyFunctionalInterface</em> to the method we've defined:</p>\n\n<pre><code>public class Main {\n\n    static void printIt(String s, MyFunctionalInterface f) {\n        System.out.println(f.makeIt(s));\n    }\n\n    public static void main(String[] args) {\n        printIt(\"Java\", s -&gt; s + \" is Awesome\");\n    }\n}\n</code></pre>\n\n<p>That's it!</p>\n"},{"tags":[],"owner":{"account_id":8802416,"reputation":171,"user_id":6578100,"display_name":"raja emani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528106174,"creation_date":1528106174,"answer_id":50677895,"question_id":13604703,"body_markdown":"Lambda is not a object but a Functional Interface.\r\nOne can define as many as Functional Interfaces as they can using the @FuntionalInterface as an annotation\r\n\r\n    @FuntionalInterface\r\n    public interface SumLambdaExpression {\r\n         public int do(int a, int b);\r\n    }\r\n    \r\n    public class MyClass {\r\n         public static void main(String [] args) {\r\n              SumLambdaExpression s = (a,b)-&gt;a+b;\r\n              lambdaArgFunction(s);\r\n         }\r\n\r\n         public static void lambdaArgFunction(SumLambdaExpression s) {\r\n              System.out.println(&quot;Output : &quot;+s.do(2,5));\r\n         }\r\n    }\r\n\r\nThe Output will be as follows\r\n\r\n    Output : 7\r\n\r\nThe Basic concept of a Lambda Expression is to define your own logic but already defined Arguments. So in the above code the you can change the definition of the do function from addition to any other definition, but your arguments are limited to 2.","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Lambda is not a object but a Functional Interface.\nOne can define as many as Functional Interfaces as they can using the @FuntionalInterface as an annotation</p>\n\n<pre><code>@FuntionalInterface\npublic interface SumLambdaExpression {\n     public int do(int a, int b);\n}\n\npublic class MyClass {\n     public static void main(String [] args) {\n          SumLambdaExpression s = (a,b)-&gt;a+b;\n          lambdaArgFunction(s);\n     }\n\n     public static void lambdaArgFunction(SumLambdaExpression s) {\n          System.out.println(\"Output : \"+s.do(2,5));\n     }\n}\n</code></pre>\n\n<p>The Output will be as follows</p>\n\n<pre><code>Output : 7\n</code></pre>\n\n<p>The Basic concept of a Lambda Expression is to define your own logic but already defined Arguments. So in the above code the you can change the definition of the do function from addition to any other definition, but your arguments are limited to 2.</p>\n"},{"tags":[],"owner":{"account_id":11990777,"reputation":957,"user_id":8773964,"display_name":"Big_Bad_E"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539216059,"creation_date":1534705636,"answer_id":51920960,"question_id":13604703,"body_markdown":"For anyone who is googling this, a good method would be to use `java.util.function.BiConsumer`.\r\nex:\r\n\r\n    Import java.util.function.Consumer\r\n    public Class Main {\r\n        public static void runLambda(BiConsumer&lt;Integer, Integer&gt; lambda) {\r\n            lambda.accept(102, 54)\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            runLambda((int1, int2) -&gt; System.out.println(int1 + &quot; + &quot; + int2 + &quot; = &quot; + (int1 + int2)));\r\n        }\r\n\r\nThe outprint would be: 166\r\n\r\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>For anyone who is googling this, a good method would be to use <code>java.util.function.BiConsumer</code>.\nex:</p>\n\n<pre><code>Import java.util.function.Consumer\npublic Class Main {\n    public static void runLambda(BiConsumer&lt;Integer, Integer&gt; lambda) {\n        lambda.accept(102, 54)\n    }\n\n    public static void main(String[] args) {\n        runLambda((int1, int2) -&gt; System.out.println(int1 + \" + \" + int2 + \" = \" + (int1 + int2)));\n    }\n</code></pre>\n\n<p>The outprint would be: 166</p>\n"},{"tags":[],"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1542641525,"creation_date":1542641525,"answer_id":53377897,"question_id":13604703,"body_markdown":"To me, the solution that makes the most sense is to define a `Callback` interface :\r\n\r\n    interface Callback {\r\n        void call();\r\n    }\r\n\r\nand then to use it as parameter in the function you want to call :\r\n\r\n    void somewhereInYourCode() {\r\n        method(() -&gt; {\r\n            // You&#39;ve passed a lambda!\r\n            // method() is done, do whatever you want here.\r\n        });\r\n    }\r\n    \r\n    void method(Callback callback) {\r\n        // Do what you have to do\r\n        // ...\r\n    \r\n        // Don&#39;t forget to notify the caller once you&#39;re done\r\n        callback.call();\r\n    }\r\n\r\n## Just a precision though\r\n\r\nA lambda is not a special interface, class or anything else you could declare by yourself. `Lambda` is just the name given to the `() -&gt; {}` special syntax, which allows better readability when passing single-method interfaces as parameter. It was designed to replace this :\r\n\r\n    method(new Callback() {\r\n        @Override\r\n        public void call() {\r\n            // Classic interface implementation, lot of useless boilerplate code.\r\n            // method() is done, do whatever you want here.\r\n        }\r\n    });\r\n\r\nSo in the example above, `Callback` is **not** a lambda, it&#39;s just a regular interface ; `lambda` is the name of the shortcut syntax you can use to implement it.","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>To me, the solution that makes the most sense is to define a <code>Callback</code> interface :</p>\n\n<pre><code>interface Callback {\n    void call();\n}\n</code></pre>\n\n<p>and then to use it as parameter in the function you want to call :</p>\n\n<pre><code>void somewhereInYourCode() {\n    method(() -&gt; {\n        // You've passed a lambda!\n        // method() is done, do whatever you want here.\n    });\n}\n\nvoid method(Callback callback) {\n    // Do what you have to do\n    // ...\n\n    // Don't forget to notify the caller once you're done\n    callback.call();\n}\n</code></pre>\n\n<h2>Just a precision though</h2>\n\n<p>A lambda is not a special interface, class or anything else you could declare by yourself. <code>Lambda</code> is just the name given to the <code>() -&gt; {}</code> special syntax, which allows better readability when passing single-method interfaces as parameter. It was designed to replace this :</p>\n\n<pre><code>method(new Callback() {\n    @Override\n    public void call() {\n        // Classic interface implementation, lot of useless boilerplate code.\n        // method() is done, do whatever you want here.\n    }\n});\n</code></pre>\n\n<p>So in the example above, <code>Callback</code> is <strong>not</strong> a lambda, it's just a regular interface ; <code>lambda</code> is the name of the shortcut syntax you can use to implement it.</p>\n"},{"tags":[],"owner":{"account_id":12694207,"reputation":148,"user_id":10567048,"display_name":"Arasn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555756244,"creation_date":1555748505,"answer_id":55771659,"question_id":13604703,"body_markdown":"Do the following ..\r\n\r\nYou have declared `method(lambda l)` \r\nAll you want to do is create a Interface with the name `lambda` and declare one abstract method \r\n\r\n    public int add(int a,int b);  \r\n\r\nmethod name does not matter here..\r\n\r\nSo when u call `MyClass.method( (a,b)-&gt;a+b)` \r\nThis implementation  `(a,b)-&gt;a+b` will be injected to your interface add method .So whenever you call `l.add` it is going to take this implementation and perform addition of `a` and `b`  and `return l.add(2,3)` will return `5`.\r\n- Basically this is what lambda does..\r\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Do the following ..</p>\n\n<p>You have declared <code>method(lambda l)</code> \nAll you want to do is create a Interface with the name <code>lambda</code> and declare one abstract method </p>\n\n<pre><code>public int add(int a,int b);  \n</code></pre>\n\n<p>method name does not matter here..</p>\n\n<p>So when u call <code>MyClass.method( (a,b)-&gt;a+b)</code> \nThis implementation  <code>(a,b)-&gt;a+b</code> will be injected to your interface add method .So whenever you call <code>l.add</code> it is going to take this implementation and perform addition of <code>a</code> and <code>b</code>  and <code>return l.add(2,3)</code> will return <code>5</code>.\n- Basically this is what lambda does..</p>\n"},{"tags":[],"owner":{"account_id":13137240,"reputation":33,"user_id":9489816,"display_name":"Vamshi "},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557473545,"creation_date":1557473545,"answer_id":56072805,"question_id":13604703,"body_markdown":"Basically to pass a lamda expression as a parameter, we need a type in which we can hold it. Just as an integer value we hold in primitive **int** or Integer class. Java doesn&#39;t have a separate type for lamda expression instead it uses an interface as the type to hold the argument. But that interface should be a **functional interface**. ","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Basically to pass a lamda expression as a parameter, we need a type in which we can hold it. Just as an integer value we hold in primitive <strong>int</strong> or Integer class. Java doesn't have a separate type for lamda expression instead it uses an interface as the type to hold the argument. But that interface should be a <strong>functional interface</strong>. </p>\n"},{"tags":[],"owner":{"account_id":16870089,"reputation":133,"user_id":12198775,"display_name":"ank"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1571759683,"creation_date":1571759683,"answer_id":58508080,"question_id":13604703,"body_markdown":"You can use functional interfaces as mentioned above.\r\nbelow are some of the examples\r\n\r\n    Function&lt;Integer, Integer&gt; f1 = num-&gt;(num*2+1);\r\n    System.out.println(f1.apply(10));\r\n\r\n    Predicate&lt;Integer&gt; f2= num-&gt;(num &gt; 10);\r\n    System.out.println(f2.test(10));\r\n    System.out.println(f2.test(11));\r\n\r\n    Supplier&lt;Integer&gt; f3= ()-&gt; 100;\r\n    System.out.println(f3.get());\r\n\r\nHope it helps","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>You can use functional interfaces as mentioned above.\nbelow are some of the examples</p>\n\n<pre><code>Function&lt;Integer, Integer&gt; f1 = num-&gt;(num*2+1);\nSystem.out.println(f1.apply(10));\n\nPredicate&lt;Integer&gt; f2= num-&gt;(num &gt; 10);\nSystem.out.println(f2.test(10));\nSystem.out.println(f2.test(11));\n\nSupplier&lt;Integer&gt; f3= ()-&gt; 100;\nSystem.out.println(f3.get());\n</code></pre>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":1413245,"reputation":3058,"user_id":1339436,"accept_rate":82,"display_name":"craigrs84"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1591120039,"creation_date":1580095481,"answer_id":59924830,"question_id":13604703,"body_markdown":"Here&#39;s roughly how C# handles this problem (but expressed as Java code).  Something like this could handle almost all your needs:\r\n\r\n\timport static org.util.function.Functions.*;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tTest.invoke((a, b) -&gt; a + b);\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void invoke(Func2&lt;Integer, Integer, Integer&gt; func)\r\n\t\t{\r\n\t\t\tSystem.out.println(func.apply(5, 6));\r\n\t\t}\r\n\t}\r\n\r\n---\r\n    package org.util.function;\r\n\r\n\tpublic interface Functions {\r\n\r\n\t\t//Actions:\r\n\t\tpublic interface Action {\r\n\t\t\tpublic void apply();\r\n\t\t}\r\n\t\t\r\n\t\tpublic interface Action1&lt;T1&gt; {\r\n\t\t\tpublic void apply(T1 arg1);\r\n\t\t}\r\n\r\n\t\tpublic interface Action2&lt;T1, T2&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2);\r\n\t\t}\r\n\r\n\t\tpublic interface Action3&lt;T1, T2, T3&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3);\r\n\t\t}\r\n\r\n\t\tpublic interface Action4&lt;T1, T2, T3, T4&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4);\r\n\t\t}\r\n\r\n\t\tpublic interface Action5&lt;T1, T2, T3, T4, T5&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\r\n\t\t}\r\n\r\n\t\tpublic interface Action6&lt;T1, T2, T3, T4, T5, T6&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\r\n\t\t}\r\n\r\n\t\tpublic interface Action7&lt;T1, T2, T3, T4, T5, T6, T7&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\r\n\t\t}\r\n\r\n\t\tpublic interface Action8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; {\r\n\t\t\tpublic void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\r\n\t\t}\r\n\t\t\r\n\t\t//Functions:\r\n\t\tpublic interface Func&lt;TResult&gt; {\r\n\t\t\tpublic TResult apply();\r\n\t\t}\r\n\t\t\r\n\t\tpublic interface Func1&lt;T1, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1);\r\n\t\t}\r\n\r\n\t\tpublic interface Func2&lt;T1, T2, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2);\r\n\t\t}\r\n\r\n\t\tpublic interface Func3&lt;T1, T2, T3, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3);\r\n\t\t}\r\n\r\n\t\tpublic interface Func4&lt;T1, T2, T3, T4, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4);\r\n\t\t}\r\n\r\n\t\tpublic interface Func5&lt;T1, T2, T3, T4, T5, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\r\n\t\t}\r\n\r\n\t\tpublic interface Func6&lt;T1, T2, T3, T4, T5, T6, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\r\n\t\t}\r\n\r\n\t\tpublic interface Func7&lt;T1, T2, T3, T4, T5, T6, T7, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\r\n\t\t}\r\n\r\n\t\tpublic interface Func8&lt;T1, T2, T3, T4, T5, T6, T7, T8, TResult&gt; {\r\n\t\t\tpublic TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\r\n\t\t}\r\n\t}","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>Here's roughly how C# handles this problem (but expressed as Java code).  Something like this could handle almost all your needs:</p>\n\n<pre><code>import static org.util.function.Functions.*;\n\npublic class Test {\n\n    public static void main(String[] args)\n    {\n        Test.invoke((a, b) -&gt; a + b);       \n    }\n\n    public static void invoke(Func2&lt;Integer, Integer, Integer&gt; func)\n    {\n        System.out.println(func.apply(5, 6));\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package org.util.function;\n\npublic interface Functions {\n\n    //Actions:\n    public interface Action {\n        public void apply();\n    }\n\n    public interface Action1&lt;T1&gt; {\n        public void apply(T1 arg1);\n    }\n\n    public interface Action2&lt;T1, T2&gt; {\n        public void apply(T1 arg1, T2 arg2);\n    }\n\n    public interface Action3&lt;T1, T2, T3&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3);\n    }\n\n    public interface Action4&lt;T1, T2, T3, T4&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4);\n    }\n\n    public interface Action5&lt;T1, T2, T3, T4, T5&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\n    }\n\n    public interface Action6&lt;T1, T2, T3, T4, T5, T6&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\n    }\n\n    public interface Action7&lt;T1, T2, T3, T4, T5, T6, T7&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\n    }\n\n    public interface Action8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; {\n        public void apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\n    }\n\n    //Functions:\n    public interface Func&lt;TResult&gt; {\n        public TResult apply();\n    }\n\n    public interface Func1&lt;T1, TResult&gt; {\n        public TResult apply(T1 arg1);\n    }\n\n    public interface Func2&lt;T1, T2, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2);\n    }\n\n    public interface Func3&lt;T1, T2, T3, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3);\n    }\n\n    public interface Func4&lt;T1, T2, T3, T4, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4);\n    }\n\n    public interface Func5&lt;T1, T2, T3, T4, T5, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5);\n    }\n\n    public interface Func6&lt;T1, T2, T3, T4, T5, T6, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6);\n    }\n\n    public interface Func7&lt;T1, T2, T3, T4, T5, T6, T7, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7);\n    }\n\n    public interface Func8&lt;T1, T2, T3, T4, T5, T6, T7, T8, TResult&gt; {\n        public TResult apply(T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7572005,"reputation":661,"user_id":5745574,"display_name":"Vipul Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629202080,"creation_date":1629202080,"answer_id":68817100,"question_id":13604703,"body_markdown":"**If you&#39;re using Java along with Kotlin language (As we do in Android Development) you can pass lambda function without defining any additional interface:**\r\n\r\n    import kotlin.jvm.functions.Function0;\r\n    import kotlin.jvm.functions.Function1;\r\n    import kotlin.jvm.functions.Function2;\r\n    \r\n    void foo(Function0&lt;Boolean&gt; param1) //for zero param\r\n    {\r\n        param1.invoke();\r\n    }\r\n\r\n    void foo1(Function1&lt;Integer, Boolean&gt; param1) //for one param\r\n    {\r\n        param1.invoke(1);\r\n    }\r\n\r\n    void foo2(Function2&lt;Integer, Boolean, Boolean&gt; param1) //for two param\r\n    {\r\n        param1.invoke(1, true);\r\n    }\r\n    \r\n    //how to call\r\n    void main() \r\n    {\r\n        foo(() -&gt; {\r\n            return true;\r\n        });\r\n\r\n        foo1((var1) -&gt; {\r\n            return true;\r\n        });\r\n\r\n        foo2((var1, var2) -&gt; {\r\n            return true;\r\n        });\r\n            \r\n    }\r\n\r\n","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p><strong>If you're using Java along with Kotlin language (As we do in Android Development) you can pass lambda function without defining any additional interface:</strong></p>\n<pre><code>import kotlin.jvm.functions.Function0;\nimport kotlin.jvm.functions.Function1;\nimport kotlin.jvm.functions.Function2;\n\nvoid foo(Function0&lt;Boolean&gt; param1) //for zero param\n{\n    param1.invoke();\n}\n\nvoid foo1(Function1&lt;Integer, Boolean&gt; param1) //for one param\n{\n    param1.invoke(1);\n}\n\nvoid foo2(Function2&lt;Integer, Boolean, Boolean&gt; param1) //for two param\n{\n    param1.invoke(1, true);\n}\n\n//how to call\nvoid main() \n{\n    foo(() -&gt; {\n        return true;\n    });\n\n    foo1((var1) -&gt; {\n        return true;\n    });\n\n    foo2((var1, var2) -&gt; {\n        return true;\n    });\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29201720,"reputation":1,"user_id":22371705,"display_name":"dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691694158,"creation_date":1691694158,"answer_id":76878661,"question_id":13604703,"body_markdown":"    ToDoubleFunction&lt;DataSource&gt; getValueOf(String methodName) {\r\n        return (DataSource ds) -&gt; {\r\n            try {\r\n                Method method = DataSource.class.getMethod(methodName);\r\n                Integer i = (Integer) method.invoke(ds);\r\n                return Double.valueOf(i);\r\n            } catch (Exception throwables) {\r\n                throwables.printStackTrace();\r\n            }\r\n            return 0;\r\n        };\r\n    }","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<pre><code>ToDoubleFunction&lt;DataSource&gt; getValueOf(String methodName) {\n    return (DataSource ds) -&gt; {\n        try {\n            Method method = DataSource.class.getMethod(methodName);\n            Integer i = (Integer) method.invoke(ds);\n            return Double.valueOf(i);\n        } catch (Exception throwables) {\n            throwables.printStackTrace();\n        }\n        return 0;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":1191,"reputation":58105,"user_id":1585,"accept_rate":73,"display_name":"Marius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389997,"favorite_count":0,"down_vote_count":0,"up_vote_count":483,"accepted_answer_id":13604748,"answer_count":16,"score":483,"last_activity_date":1691694158,"creation_date":1354104392,"question_id":13604703,"body_markdown":"In Java 8, methods can be created as Lambda expressions and can be passed by reference (with a little work under the hood). There are plenty of examples online with lambdas being created and used with methods, but no examples of how to make a method taking a lambda as a parameter. What is the syntax for that?\r\n\r\n    MyClass.method((a, b) -&gt; a+b);\r\n    \r\n\r\n    class MyClass{\r\n      //How do I define this method?\r\n      static int method(Lambda l){\r\n        return l(5, 10);\r\n      }\r\n    }","title":"How do I define a method which takes a lambda as a parameter in Java 8?","body":"<p>In Java 8, methods can be created as Lambda expressions and can be passed by reference (with a little work under the hood). There are plenty of examples online with lambdas being created and used with methods, but no examples of how to make a method taking a lambda as a parameter. What is the syntax for that?</p>\n\n<pre><code>MyClass.method((a, b) -&gt; a+b);\n\n\nclass MyClass{\n  //How do I define this method?\n  static int method(Lambda l){\n    return l(5, 10);\n  }\n}\n</code></pre>\n"},{"tags":["java","stream","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691693835,"creation_date":1691627964,"answer_id":76872005,"question_id":76871477,"body_markdown":"What you can do is to set `table.exec.state.ttl` to two hours -- see [the docs](https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/config/#table-exec-state-ttl) for the specifics.\r\n\r\nThe effect of this will be to expire all of the state for this job after two hours. There&#39;s (currently) no way to specific the state TTL on a per-table basis.\r\n\r\nUpdate:\r\n\r\nIn many cases it&#39;s not necessary to do this sort of state management yourself. If you construct your queries so that the temporal constraints are part of the query, then Flink SQL will automatically clear state that is no longer useful.\r\n\r\nQueries that can do this include interval and temporal joins, windows, over aggregations, and match_recognize.","title":"Flink - Can statebackend allow purging old data in RocksDB table?","body":"<p>What you can do is to set <code>table.exec.state.ttl</code> to two hours -- see <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/config/#table-exec-state-ttl\" rel=\"nofollow noreferrer\">the docs</a> for the specifics.</p>\n<p>The effect of this will be to expire all of the state for this job after two hours. There's (currently) no way to specific the state TTL on a per-table basis.</p>\n<p>Update:</p>\n<p>In many cases it's not necessary to do this sort of state management yourself. If you construct your queries so that the temporal constraints are part of the query, then Flink SQL will automatically clear state that is no longer useful.</p>\n<p>Queries that can do this include interval and temporal joins, windows, over aggregations, and match_recognize.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76872005,"answer_count":1,"score":0,"last_activity_date":1691693835,"creation_date":1691617687,"question_id":76871477,"body_markdown":"In the below code:\r\n\r\n    class EnrichmentStream {\r\n        private val checkpointsDir  = &quot;file://${System.getProperty(&quot;user.dir&quot;)}/checkpoints/&quot;\r\n        private val rocksDBStateDir = &quot;file://${System.getProperty(&quot;user.dir&quot;)}/state/rocksdb/&quot;\r\n    \r\n        companion object {\r\n            @JvmStatic\r\n            fun main(args: Array&lt;String&gt;) {\r\n                EnrichmentStream().runStream()\r\n            }\r\n        }\r\n    \r\n        fun runStream() {\r\n            val environment = StreamExecutionEnvironment\r\n                .createLocalEnvironmentWithWebUI(Configuration())\r\n    \r\n            environment.parallelism = 3\r\n    \r\n            // Checkpoint Configurations\r\n            environment.enableCheckpointing(5000)\r\n            environment.checkpointConfig.minPauseBetweenCheckpoints = 100\r\n            environment.checkpointConfig.setCheckpointStorage(checkpointsDir)\r\n    \r\n            val stateBackend = EmbeddedRocksDBStateBackend()\r\n            stateBackend.setDbStoragePath(rocksDBStateDir)\r\n            environment.stateBackend = stateBackend\r\n    \r\n            environment.checkpointConfig.externalizedCheckpointCleanup =\r\n                CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION\r\n    \r\n            // Configure Restart Strategy\r\n            environment.restartStrategy = RestartStrategies.fixedDelayRestart(5, Time.seconds(5))\r\n    \r\n            val tableEnvironment = StreamTableEnvironment.create(environment)\r\n    \r\n            // Run some SQL queries to check the existing Catalogs, Databases and Tables\r\n            tableEnvironment\r\n                .executeSql(&quot;SHOW CATALOGS&quot;)\r\n                .print()\r\n    \r\n            tableEnvironment\r\n                .executeSql(&quot;SHOW DATABASES&quot;)\r\n                .print()\r\n    \r\n            tableEnvironment\r\n                .executeSql(&quot;SHOW TABLES&quot;)\r\n                .print()\r\n    \r\n            tableEnvironment\r\n                .executeSql(&quot;CREATE TABLE Orders (`user` BIGINT, product STRING, amount INT) WITH (...)&quot;)\r\n                .print()\r\n    \r\n        }\r\n    }\r\n\r\n-----------------------\r\n\r\nCan Flink statebackend delete old records(more than 2 hours old) in RocksDB table(`Orders`)? so that table(`Orders`) has records whose life is less than 2 hours old, at any point of time. We use this data for comparison.\r\n\r\nif yes, what is the syntax for `CREATE TABLE` to inform that interval?\r\n\r\n\r\n","title":"Flink - Can statebackend allow purging old data in RocksDB table?","body":"<p>In the below code:</p>\n<pre><code>class EnrichmentStream {\n    private val checkpointsDir  = &quot;file://${System.getProperty(&quot;user.dir&quot;)}/checkpoints/&quot;\n    private val rocksDBStateDir = &quot;file://${System.getProperty(&quot;user.dir&quot;)}/state/rocksdb/&quot;\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            EnrichmentStream().runStream()\n        }\n    }\n\n    fun runStream() {\n        val environment = StreamExecutionEnvironment\n            .createLocalEnvironmentWithWebUI(Configuration())\n\n        environment.parallelism = 3\n\n        // Checkpoint Configurations\n        environment.enableCheckpointing(5000)\n        environment.checkpointConfig.minPauseBetweenCheckpoints = 100\n        environment.checkpointConfig.setCheckpointStorage(checkpointsDir)\n\n        val stateBackend = EmbeddedRocksDBStateBackend()\n        stateBackend.setDbStoragePath(rocksDBStateDir)\n        environment.stateBackend = stateBackend\n\n        environment.checkpointConfig.externalizedCheckpointCleanup =\n            CheckpointConfig.ExternalizedCheckpointCleanup.RETAIN_ON_CANCELLATION\n\n        // Configure Restart Strategy\n        environment.restartStrategy = RestartStrategies.fixedDelayRestart(5, Time.seconds(5))\n\n        val tableEnvironment = StreamTableEnvironment.create(environment)\n\n        // Run some SQL queries to check the existing Catalogs, Databases and Tables\n        tableEnvironment\n            .executeSql(&quot;SHOW CATALOGS&quot;)\n            .print()\n\n        tableEnvironment\n            .executeSql(&quot;SHOW DATABASES&quot;)\n            .print()\n\n        tableEnvironment\n            .executeSql(&quot;SHOW TABLES&quot;)\n            .print()\n\n        tableEnvironment\n            .executeSql(&quot;CREATE TABLE Orders (`user` BIGINT, product STRING, amount INT) WITH (...)&quot;)\n            .print()\n\n    }\n}\n</code></pre>\n<hr />\n<p>Can Flink statebackend delete old records(more than 2 hours old) in RocksDB table(<code>Orders</code>)? so that table(<code>Orders</code>) has records whose life is less than 2 hours old, at any point of time. We use this data for comparison.</p>\n<p>if yes, what is the syntax for <code>CREATE TABLE</code> to inform that interval?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7126482,"reputation":2638,"user_id":5449250,"display_name":"Anatoly Shamov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1505904161,"creation_date":1505901340,"answer_id":46318898,"question_id":46310281,"body_markdown":"Why not use inheritance instead of association for DTO&#39;s, just like for entities?\r\nAnd then map these DTO&#39;s to entites and back with some mapper (I prefer [mapstruct][1]).\r\n\r\nI&#39;ve made a complete example [on github][2].\r\n\r\nDTO&#39;s:\r\n\r\n    @Data\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = CarDto.class, name = &quot;car&quot;),\r\n            @JsonSubTypes.Type(value = BikeDto.class, name = &quot;bike&quot;)\r\n    })\r\n    public class VehicleDto {\r\n        private Long id;\r\n        private String type;\r\n        private Integer modelYear;\r\n    }\r\n    \r\n    @Data\r\n    public class BikeDto extends VehicleDto {\r\n        private String frameType;\r\n    }\r\n\r\n    @Data\r\n    public class CarDto extends VehicleDto {\r\n        private Boolean isCabriolet;\r\n    }\r\n\r\n[@JsonTypeInfo][3] and [@JsonSubTypes][4] are needed to automatically resolve DTO type in `Controller`. My sample controller receives `VehicleDto` and tries to store it in database as `Bike` entity with `DtoMapper` and `VehicleService`. Last step - it reads it again from database and responds with `BikeDto`.\r\n\r\n    @Controller\r\n    public class SampleController {\r\n    \r\n    \t@Autowired\r\n    \tprivate VehicleService vehicleService;\r\n    \r\n    \t@Autowired\r\n    \tprivate DtoMapper mapper;\r\n    \r\n    \t@PostMapping(&quot;/testDto&quot;)\r\n    \t@ResponseBody\r\n    \t@Transactional\r\n    \tpublic BikeDto testDto(@RequestBody VehicleDto vehicleDto) {\r\n    \r\n    \t\tif (vehicleDto instanceof BikeDto)\r\n    \t\t\tvehicleService.saveBike(mapper.toBikeEntity((BikeDto) vehicleDto));\r\n    \r\n    \t\treturn mapper.toBikeDto(vehicleService.getBike(vehicleDto.getId()));\r\n    \t}\r\n    }\r\n\r\nFor `DtoMapper` I&#39;ve used Mapstruct, it converts my `Bike` entity to `BikeDto` and back:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    @Component\r\n    public interface DtoMapper {\r\n    \r\n        @Mapping(target = &quot;type&quot;, constant = &quot;bike&quot;)\r\n        BikeDto toBikeDto(Bike entity);\r\n    \r\n        Bike toBikeEntity(BikeDto dto);\r\n    }\r\n\r\nAnd last, test class for this example. It passes `BikeDto` as POST body and expects it to return back.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;scratch&quot;)\r\n    public class SampleDataJpaApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate WebApplicationContext context;\r\n    \tprivate MockMvc mvc;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tthis.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testDto() throws Exception {\r\n    \r\n    \t\tBikeDto bikeDto = new BikeDto();\r\n    \t\tbikeDto.setId(42L);\r\n    \t\tbikeDto.setType(&quot;bike&quot;);\r\n    \t\tbikeDto.setModelYear(2019);\r\n    \t\tbikeDto.setFrameType(&quot;carbon&quot;);\r\n    \r\n    \t\tGson gson = new Gson();\r\n    \t\tString json = gson.toJson(bikeDto);\r\n    \r\n    \t\tthis.mvc.perform(post(&quot;/testDto&quot;).contentType(MediaType.APPLICATION_JSON).content(json))\r\n    \t\t\t\t.andExpect(status().isOk())\r\n    \t\t\t\t.andExpect(content().json(json));\r\n    \t}\r\n    }\r\n\r\nPOST (`BikeDto`) body:\r\n\r\n    {\r\n     &quot;id&quot;:42,\r\n     &quot;type&quot;:&quot;bike&quot;,\r\n     &quot;modelYear&quot;:2019,\r\n     &quot;frameType&quot;:&quot;carbon&quot;\r\n    }\r\n\r\nOther classes (entities, services, repositories) you can watch in complete example [on github][2].\r\n\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: https://github.com/anatoly-shamov/spring-boot-dto-hierarchy\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\r\n  [4]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonSubTypes.html","title":"Design of multiple child dtos into a single request spring boot","body":"<p>Why not use inheritance instead of association for DTO's, just like for entities?\nAnd then map these DTO's to entites and back with some mapper (I prefer <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">mapstruct</a>).</p>\n\n<p>I've made a complete example <a href=\"https://github.com/anatoly-shamov/spring-boot-dto-hierarchy\" rel=\"noreferrer\">on github</a>.</p>\n\n<p>DTO's:</p>\n\n<pre><code>@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type\")\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = CarDto.class, name = \"car\"),\n        @JsonSubTypes.Type(value = BikeDto.class, name = \"bike\")\n})\npublic class VehicleDto {\n    private Long id;\n    private String type;\n    private Integer modelYear;\n}\n\n@Data\npublic class BikeDto extends VehicleDto {\n    private String frameType;\n}\n\n@Data\npublic class CarDto extends VehicleDto {\n    private Boolean isCabriolet;\n}\n</code></pre>\n\n<p><a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"noreferrer\">@JsonTypeInfo</a> and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"noreferrer\">@JsonSubTypes</a> are needed to automatically resolve DTO type in <code>Controller</code>. My sample controller receives <code>VehicleDto</code> and tries to store it in database as <code>Bike</code> entity with <code>DtoMapper</code> and <code>VehicleService</code>. Last step - it reads it again from database and responds with <code>BikeDto</code>.</p>\n\n<pre><code>@Controller\npublic class SampleController {\n\n    @Autowired\n    private VehicleService vehicleService;\n\n    @Autowired\n    private DtoMapper mapper;\n\n    @PostMapping(\"/testDto\")\n    @ResponseBody\n    @Transactional\n    public BikeDto testDto(@RequestBody VehicleDto vehicleDto) {\n\n        if (vehicleDto instanceof BikeDto)\n            vehicleService.saveBike(mapper.toBikeEntity((BikeDto) vehicleDto));\n\n        return mapper.toBikeDto(vehicleService.getBike(vehicleDto.getId()));\n    }\n}\n</code></pre>\n\n<p>For <code>DtoMapper</code> I've used Mapstruct, it converts my <code>Bike</code> entity to <code>BikeDto</code> and back:</p>\n\n<pre><code>@Mapper(componentModel = \"spring\")\n@Component\npublic interface DtoMapper {\n\n    @Mapping(target = \"type\", constant = \"bike\")\n    BikeDto toBikeDto(Bike entity);\n\n    Bike toBikeEntity(BikeDto dto);\n}\n</code></pre>\n\n<p>And last, test class for this example. It passes <code>BikeDto</code> as POST body and expects it to return back.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(\"scratch\")\npublic class SampleDataJpaApplicationTests {\n\n    @Autowired\n    private WebApplicationContext context;\n    private MockMvc mvc;\n\n    @Before\n    public void setUp() {\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\n    }\n\n    @Test\n    public void testDto() throws Exception {\n\n        BikeDto bikeDto = new BikeDto();\n        bikeDto.setId(42L);\n        bikeDto.setType(\"bike\");\n        bikeDto.setModelYear(2019);\n        bikeDto.setFrameType(\"carbon\");\n\n        Gson gson = new Gson();\n        String json = gson.toJson(bikeDto);\n\n        this.mvc.perform(post(\"/testDto\").contentType(MediaType.APPLICATION_JSON).content(json))\n                .andExpect(status().isOk())\n                .andExpect(content().json(json));\n    }\n}\n</code></pre>\n\n<p>POST (<code>BikeDto</code>) body:</p>\n\n<pre><code>{\n \"id\":42,\n \"type\":\"bike\",\n \"modelYear\":2019,\n \"frameType\":\"carbon\"\n}\n</code></pre>\n\n<p>Other classes (entities, services, repositories) you can watch in complete example <a href=\"https://github.com/anatoly-shamov/spring-boot-dto-hierarchy\" rel=\"noreferrer\">on github</a>.</p>\n"}],"owner":{"account_id":5299479,"reputation":4080,"user_id":4229637,"accept_rate":50,"display_name":"nirvair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15123,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46318898,"answer_count":1,"score":7,"last_activity_date":1691693617,"creation_date":1505857969,"question_id":46310281,"body_markdown":"So, I have a VehicleDto:\r\n\r\n    class VehicleDto {\r\n        private String someId\r\n        private String vType;\r\n        private CarDto car;\r\n        private BikeDto bike;\r\n    }\r\n\r\nI need to have either the CarDto or BikeDto in the request payload. \r\n\r\nIn the post request payload there will be multiple fields which are properties of VehicleDto, for example, here someId. Now, this someId is also a part of CarDto and BikeDto, and any other Dto that is a child of VehicleDto. \r\n\r\nSo when I try to save into the db, I have some issues there. \r\n\r\n    if (vehicleDto.getVType().equals(&quot;CAR&quot;)) {\r\n        this.saveCar(vehicleDto);\r\n    }\r\n\r\n    private boolean saveCar(TicketSoldCreateDto ticketSoldCreateDto) {\r\n        CarDto carDto = ticketSoldCreateDto.getCar();\r\n        carDto is mapped to Car model\r\n        // Now how do I map the rest of the fields in vehicleDto to Car model??\r\n    }\r\n\r\nSuper class Vehicle:\r\n\r\n    @MappedSuperclass\r\n    @Data\r\n    public abstract class Vehicle extends AbstractBaseEntity {\r\n    // fields same as vehicleDto\r\n    }\r\n\r\nChild class Car:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Car extends Vehicle {\r\n    // Some fields\r\n    }\r\n\r\nHow should I design such problems?","title":"Design of multiple child dtos into a single request spring boot","body":"<p>So, I have a VehicleDto:</p>\n\n<pre><code>class VehicleDto {\n    private String someId\n    private String vType;\n    private CarDto car;\n    private BikeDto bike;\n}\n</code></pre>\n\n<p>I need to have either the CarDto or BikeDto in the request payload. </p>\n\n<p>In the post request payload there will be multiple fields which are properties of VehicleDto, for example, here someId. Now, this someId is also a part of CarDto and BikeDto, and any other Dto that is a child of VehicleDto. </p>\n\n<p>So when I try to save into the db, I have some issues there. </p>\n\n<pre><code>if (vehicleDto.getVType().equals(\"CAR\")) {\n    this.saveCar(vehicleDto);\n}\n\nprivate boolean saveCar(TicketSoldCreateDto ticketSoldCreateDto) {\n    CarDto carDto = ticketSoldCreateDto.getCar();\n    carDto is mapped to Car model\n    // Now how do I map the rest of the fields in vehicleDto to Car model??\n}\n</code></pre>\n\n<p>Super class Vehicle:</p>\n\n<pre><code>@MappedSuperclass\n@Data\npublic abstract class Vehicle extends AbstractBaseEntity {\n// fields same as vehicleDto\n}\n</code></pre>\n\n<p>Child class Car:</p>\n\n<pre><code>@Entity\n@Data\npublic class Car extends Vehicle {\n// Some fields\n}\n</code></pre>\n\n<p>How should I design such problems?</p>\n"},{"tags":["java","spring","polymorphism","overloading","keyword"],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691693210,"creation_date":1691692348,"answer_id":76878463,"question_id":76878438,"body_markdown":"Your answer is perfectly correct to the question as stated. The interviewer didn&#39;t know what they were talking about.\r\n\r\nI think that they were probably mixing up &quot;overloading&quot; (which, as you indicated, does *not* require a keyword) with &quot;overriding&quot; (which does).","title":"I just got one question that I am confused from an interview. &quot;What is the keyword that uses with overloading?&quot;","body":"<p>Your answer is perfectly correct to the question as stated. The interviewer didn't know what they were talking about.</p>\n<p>I think that they were probably mixing up &quot;overloading&quot; (which, as you indicated, does <em>not</em> require a keyword) with &quot;overriding&quot; (which does).</p>\n"}],"owner":{"account_id":5353778,"reputation":11,"user_id":19088425,"display_name":"ConeaGG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691693210,"creation_date":1691692163,"question_id":76878438,"body_markdown":"I was in an interview for Java SEDT. The interviewer asked me this question: &quot;What is the keyword that uses with overloading?&quot;\r\n\r\nI answered that overloading doesn&#39;t need keyword, we can do overloading by creating methods with the same name but different parameters, for example different arguments.\r\nBut the interviewer kept asking for the keyword.\r\n\r\nIs that any keyword that uses with overloading?","title":"I just got one question that I am confused from an interview. &quot;What is the keyword that uses with overloading?&quot;","body":"<p>I was in an interview for Java SEDT. The interviewer asked me this question: &quot;What is the keyword that uses with overloading?&quot;</p>\n<p>I answered that overloading doesn't need keyword, we can do overloading by creating methods with the same name but different parameters, for example different arguments.\nBut the interviewer kept asking for the keyword.</p>\n<p>Is that any keyword that uses with overloading?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1686334557,"post_id":76441297,"comment_id":134789773,"body_markdown":"have you tried to set it as an attribute ? `oAuth2AutorizeRequest.getAttributes().put(&quot;userId&quot;, request.getHeader(&quot;UserId&quot;))`.","body":"have you tried to set it as an attribute ? <code>oAuth2AutorizeRequest.getAttributes().put(&quot;userId&quot;, request.getHeader(&quot;UserId&quot;))</code>."},{"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"score":0,"creation_date":1686658810,"post_id":76441297,"comment_id":134826666,"body_markdown":"It&#39;s nod add header","body":"It&#39;s nod add header"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686682090,"creation_date":1686438082,"answer_id":76448469,"question_id":76441297,"body_markdown":"You could try with a `@Service` like that (provided that you have an OAuth2 client registration labeled &quot;machin&quot; in your Spring Boot properties):\r\n```java\r\n@Service\r\npublic class ClientCredentialsService {\r\n    \r\n    private final WebClient tokenEndpoint;\r\n    private final String spaceDelimitedScopes;\r\n    \r\n    private Map&lt;String, AccessToken&gt; cachedTokens = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    public ClientCredentialsService(ClientRegistrationRepository clientRegistrationRepo) {\r\n        final var clientRegistration = clientRegistrationRepo.findByRegistrationId(&quot;machin&quot;);\r\n        \r\n        // According to your question, this should contain at least message.read\r\n        this.spaceDelimitedScopes = clientRegistration.getScopes().stream().collect(Collectors.joining(&quot; &quot;));\r\n        \r\n        // In client_credentials flow, according to the spec,\r\n        // the access token should be fetched by calling the token endpoint \r\n        // with client_id and client_secret passed as Basic Authorization header\r\n        // See https://www.rfc-editor.org/rfc/rfc6749#section-4.4\r\n        tokenEndpoint= WebClient.builder()\r\n            .baseUrl(clientRegistration.getProviderDetails().getTokenUri())\r\n            .filter(ExchangeFilterFunctions.basicAuthentication(clientRegistration.getClientId(), clientRegistration.getClientSecret()))\r\n            .build();\r\n    }\r\n\r\n    public Mono&lt;String&gt; getAccessToken(String userId) {\r\n        final var now = Instant.now();\r\n\r\n        // cache cleanup\r\n        this.cachedTokens = cachedTokens.entrySet().stream().filter(at -&gt; at.getValue().expiryTime().isAfter(now)).collect(Collectors.toConcurrentMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        \r\n        final var cached = cachedTokens.get(userId);\r\n        if(cached != null) {\r\n            return Mono.just(cached.value);\r\n        }\r\n        \r\n        // This is a call to an OAuth2 token endpoint,\r\n        // using client_credentials flow and a custom header\r\n        // See the spec linked above for the request body (content of the application/x-www-form-urlencoded body)\r\n        return tokenEndpoint.post()\r\n                .header(&quot;userId&quot;, userId)\r\n                .body(BodyInserters\r\n                        .fromFormData(&quot;grant_type&quot;, &quot;client_credentials&quot;)\r\n                        .with(&quot;scope&quot;, spaceDelimitedScopes))\r\n                .retrieve()\r\n                .bodyToMono(Map.class)\r\n                .map(resp -&gt; {\r\n                    final var token = (String) resp.get(&quot;access_token&quot;);\r\n                    final var expiry = now.plusSeconds((Long) resp.get(&quot;expires_in&quot;) - 2);\r\n                    this.cachedTokens.put(userId, new AccessToken(token, expiry));\r\n                    return token;\r\n                });\r\n    }\r\n    \r\n    public Mono&lt;WebClient&gt; getAuthorizedClient(String userId) {\r\n        return getAccessToken(userId).map(accessToken -&gt;  WebClient\r\n                .builder()\r\n                .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer %s&quot;.formatted(accessToken))\r\n                .build());\r\n    }\r\n    \r\n    static private record AccessToken(String value, Instant expiryTime) {}\r\n}\r\n```\r\nUsage as follow:\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class MyController {\r\n    private static final String OAUTH2_RESOURCE_URI = &quot;https://other.service/some-resource&quot;;\r\n\r\n    private final ClientCredentialsService clientCredentialsService;\r\n\r\n    @GetMapping(&quot;/something-from-an-oauth2-resource-server&quot;)\r\n    public String getSomething(HttpServletRequest request) {\r\n        return clientCredentialsService\r\n                .getAuthorizedClient(request.getHeader(&quot;UserId&quot;))\r\n                .flatMap(client -&gt; client\r\n                        .get()\r\n                        .uri(OAUTH2_RESOURCE_URI)\r\n                        .retrieve()\r\n                        // This should be changed with the type of DTO returned by the OAuth2 delegate\r\n                        .bodyToMono(String.class))\r\n                .block();\r\n    }\r\n}\r\n```","title":"Custom header in spring-security-oauth2-client by RestController","body":"<p>You could try with a <code>@Service</code> like that (provided that you have an OAuth2 client registration labeled &quot;machin&quot; in your Spring Boot properties):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ClientCredentialsService {\n    \n    private final WebClient tokenEndpoint;\n    private final String spaceDelimitedScopes;\n    \n    private Map&lt;String, AccessToken&gt; cachedTokens = new ConcurrentHashMap&lt;&gt;();\n    \n    public ClientCredentialsService(ClientRegistrationRepository clientRegistrationRepo) {\n        final var clientRegistration = clientRegistrationRepo.findByRegistrationId(&quot;machin&quot;);\n        \n        // According to your question, this should contain at least message.read\n        this.spaceDelimitedScopes = clientRegistration.getScopes().stream().collect(Collectors.joining(&quot; &quot;));\n        \n        // In client_credentials flow, according to the spec,\n        // the access token should be fetched by calling the token endpoint \n        // with client_id and client_secret passed as Basic Authorization header\n        // See https://www.rfc-editor.org/rfc/rfc6749#section-4.4\n        tokenEndpoint= WebClient.builder()\n            .baseUrl(clientRegistration.getProviderDetails().getTokenUri())\n            .filter(ExchangeFilterFunctions.basicAuthentication(clientRegistration.getClientId(), clientRegistration.getClientSecret()))\n            .build();\n    }\n\n    public Mono&lt;String&gt; getAccessToken(String userId) {\n        final var now = Instant.now();\n\n        // cache cleanup\n        this.cachedTokens = cachedTokens.entrySet().stream().filter(at -&gt; at.getValue().expiryTime().isAfter(now)).collect(Collectors.toConcurrentMap(Map.Entry::getKey, Map.Entry::getValue));\n        \n        final var cached = cachedTokens.get(userId);\n        if(cached != null) {\n            return Mono.just(cached.value);\n        }\n        \n        // This is a call to an OAuth2 token endpoint,\n        // using client_credentials flow and a custom header\n        // See the spec linked above for the request body (content of the application/x-www-form-urlencoded body)\n        return tokenEndpoint.post()\n                .header(&quot;userId&quot;, userId)\n                .body(BodyInserters\n                        .fromFormData(&quot;grant_type&quot;, &quot;client_credentials&quot;)\n                        .with(&quot;scope&quot;, spaceDelimitedScopes))\n                .retrieve()\n                .bodyToMono(Map.class)\n                .map(resp -&gt; {\n                    final var token = (String) resp.get(&quot;access_token&quot;);\n                    final var expiry = now.plusSeconds((Long) resp.get(&quot;expires_in&quot;) - 2);\n                    this.cachedTokens.put(userId, new AccessToken(token, expiry));\n                    return token;\n                });\n    }\n    \n    public Mono&lt;WebClient&gt; getAuthorizedClient(String userId) {\n        return getAccessToken(userId).map(accessToken -&gt;  WebClient\n                .builder()\n                .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer %s&quot;.formatted(accessToken))\n                .build());\n    }\n    \n    static private record AccessToken(String value, Instant expiryTime) {}\n}\n</code></pre>\n<p>Usage as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\npublic class MyController {\n    private static final String OAUTH2_RESOURCE_URI = &quot;https://other.service/some-resource&quot;;\n\n    private final ClientCredentialsService clientCredentialsService;\n\n    @GetMapping(&quot;/something-from-an-oauth2-resource-server&quot;)\n    public String getSomething(HttpServletRequest request) {\n        return clientCredentialsService\n                .getAuthorizedClient(request.getHeader(&quot;UserId&quot;))\n                .flatMap(client -&gt; client\n                        .get()\n                        .uri(OAUTH2_RESOURCE_URI)\n                        .retrieve()\n                        // This should be changed with the type of DTO returned by the OAuth2 delegate\n                        .bodyToMono(String.class))\n                .block();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691693093,"creation_date":1686321702,"question_id":76441297,"body_markdown":"I made a rest-application that receives a request from the Client and goes to the resource server, simultaneously authorizing via OAuth2 using client_Credentials\r\nBut the authorization server, instead of the default request, also waits for the UserId in header, which must be filled with data from the Client&#39;s request\r\n\r\nI use this bean implementation:\r\n```\r\n\t@Configuration\r\n\tpublic class WebClientConfig {\r\n\t\t@Bean\r\n\t\tOAuth2AuthorizedClientManager authorizedClientManager(\r\n\t\t\t\tClientRegistrationRepository clientRegistrationRepository,\r\n\t\t\t\tOAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n\t\t\tOAuth2AuthorizedClientProvider authorizedClientProvider =\r\n\t\t\t\t\tOAuth2AuthorizedClientProviderBuilder.builder()\r\n\t\t\t\t\t\t\t.clientCredentials()\r\n\t\t\t\t\t\t\t.build();\r\n\t\t\tDefaultOAuth2AuthorizedClientManager authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\r\n\t\t\t\t\tclientRegistrationRepository, authorizedClientRepository);\r\n\t\t\tauthorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\t\t\treturn authorizedClientManager;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI request an access token via OAuth2AutorizeRequest:\r\n```\r\n\tOAuth2AutorizeRequest oAuth2AutorizeRequest = OAuth2AutorizeRequest.withClientRegistrationId(&quot;test&quot;).principal(&quot;test&quot;).build();\r\n\tOAuth2AccessToken token = authorizedClientManager.authorize(oAuth2AutorizeRequest).getAccessToken;\r\n```\r\n\t\r\nHow can I add a UserId headers to the Authorization header when sending a POST request, which will be filled from the Client request?\r\n\r\nExample:\r\n\r\n    POST /oauth2/token HTTP/1.1\r\n    Host: auth-server:1111\r\n    Content-Type: application/x-www-form-urlencoded\r\n    Authorization: Basic bWVzc2FnaW5nLWNsaWVudDpzZWNyZXQ=\r\n    UserId : naW5nLbWVzcVudDpzZ\r\n    grant_type=client_credentials&amp;scope=message.read\r\n\r\n","title":"Custom header in spring-security-oauth2-client by RestController","body":"<p>I made a rest-application that receives a request from the Client and goes to the resource server, simultaneously authorizing via OAuth2 using client_Credentials\nBut the authorization server, instead of the default request, also waits for the UserId in header, which must be filled with data from the Client's request</p>\n<p>I use this bean implementation:</p>\n<pre><code>    @Configuration\n    public class WebClientConfig {\n        @Bean\n        OAuth2AuthorizedClientManager authorizedClientManager(\n                ClientRegistrationRepository clientRegistrationRepository,\n                OAuth2AuthorizedClientRepository authorizedClientRepository) {\n            OAuth2AuthorizedClientProvider authorizedClientProvider =\n                    OAuth2AuthorizedClientProviderBuilder.builder()\n                            .clientCredentials()\n                            .build();\n            DefaultOAuth2AuthorizedClientManager authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\n                    clientRegistrationRepository, authorizedClientRepository);\n            authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n            return authorizedClientManager;\n        }\n    }\n</code></pre>\n<p>I request an access token via OAuth2AutorizeRequest:</p>\n<pre><code>    OAuth2AutorizeRequest oAuth2AutorizeRequest = OAuth2AutorizeRequest.withClientRegistrationId(&quot;test&quot;).principal(&quot;test&quot;).build();\n    OAuth2AccessToken token = authorizedClientManager.authorize(oAuth2AutorizeRequest).getAccessToken;\n</code></pre>\n<p>How can I add a UserId headers to the Authorization header when sending a POST request, which will be filled from the Client request?</p>\n<p>Example:</p>\n<pre><code>POST /oauth2/token HTTP/1.1\nHost: auth-server:1111\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic bWVzc2FnaW5nLWNsaWVudDpzZWNyZXQ=\nUserId : naW5nLbWVzcVudDpzZ\ngrant_type=client_credentials&amp;scope=message.read\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691696715,"post_id":76878535,"comment_id":135530275,"body_markdown":"How do you start the browser? How does your test code looks like ? I recommend to upgrade to most recent version of the plugin ans also follow naming conventions because ui tests are typcially integration tests (maven-failsafe-plugin)...","body":"How do you start the browser? How does your test code looks like ? I recommend to upgrade to most recent version of the plugin ans also follow naming conventions because ui tests are typcially integration tests (maven-failsafe-plugin)..."}],"owner":{"account_id":14382262,"reputation":53,"user_id":10389122,"display_name":"HELENDOUDOU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691692944,"creation_date":1691692944,"question_id":76878535,"body_markdown":"I am trying to run the selenium UI tests in parallel with maven and Junit 4 but it&#39;s not working, only see one browser running the test.\r\n\r\nMy test suite class to run 2 test classes\r\n\r\n    @RunWith(Categories.class)\r\n    @SuiteClasses({testClass1.class, testClass2.class})\r\n    public class MySmokeTestSuite {\r\n    }\r\n\r\nMaven settings\r\n\r\n     &lt;profile&gt;\r\n                &lt;id&gt;MyUISmoke&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                                &lt;threadCount&gt;5&lt;/threadCount&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;**/runner/maven/MySmokeTestSuite.java&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n\r\nWhen I run `mvn clean test -PMyUISmoke -Dtarget.env=qa_int -Ddriver-type=chrome` locally\r\nI was expecting there are multiple browser opening and running tests in parallel but it didn&#39;t.\r\nDid I miss something in the config? \r\n","title":"Parallel tests with Junit 4 and Maven are not working","body":"<p>I am trying to run the selenium UI tests in parallel with maven and Junit 4 but it's not working, only see one browser running the test.</p>\n<p>My test suite class to run 2 test classes</p>\n<pre><code>@RunWith(Categories.class)\n@SuiteClasses({testClass1.class, testClass2.class})\npublic class MySmokeTestSuite {\n}\n</code></pre>\n<p>Maven settings</p>\n<pre><code> &lt;profile&gt;\n            &lt;id&gt;MyUISmoke&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;parallel&gt;methods&lt;/parallel&gt;\n                            &lt;threadCount&gt;5&lt;/threadCount&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/runner/maven/MySmokeTestSuite.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>When I run <code>mvn clean test -PMyUISmoke -Dtarget.env=qa_int -Ddriver-type=chrome</code> locally\nI was expecting there are multiple browser opening and running tests in parallel but it didn't.\nDid I miss something in the config?</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":482174,"reputation":2664,"user_id":1321399,"accept_rate":71,"display_name":"khan"},"score":1,"creation_date":1339859211,"post_id":11064409,"comment_id":14479286,"body_markdown":"I think he wants to know Is there any Difference Between flm.fly() and j.fly()? If yes? than What?","body":"I think he wants to know Is there any Difference Between flm.fly() and j.fly()? If yes? than What?"},{"owner":{"account_id":1857516,"reputation":941,"user_id":1682790,"accept_rate":64,"display_name":"Jack_Hu"},"score":0,"creation_date":1574213158,"post_id":11064409,"comment_id":104148872,"body_markdown":"There&#39;s a distinction to be made here between *compile-time* and *run-time*... The Java Compiler will see `flm.fly();` evaluate to: `System.out.println(&quot;No implementation&quot;);`... The Java Virtual Machine, at run-time will see `flm.fly();` evaluate to: `System.out.println(&quot;Start, Taxi, Fly&quot;);`... If you changed line 20 from `flm.fly();` to, `flm.bombardment();`, you would get a compilation error, as the `bombardment()` message is not part of `FlyingMachines` protocol.","body":"There&#39;s a distinction to be made here between <i>compile-time</i> and <i>run-time</i>... The Java Compiler will see <code>flm.fly();</code> evaluate to: <code>System.out.println(&quot;No implementation&quot;);</code>... The Java Virtual Machine, at run-time will see <code>flm.fly();</code> evaluate to: <code>System.out.println(&quot;Start, Taxi, Fly&quot;);</code>... If you changed line 20 from <code>flm.fly();</code> to, <code>flm.bombardment();</code>, you would get a compilation error, as the <code>bombardment()</code> message is not part of <code>FlyingMachines</code> protocol."}],"answers":[{"tags":[],"owner":{"account_id":444729,"reputation":27331,"user_id":836738,"display_name":"Tim Pote"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1339859226,"creation_date":1339858164,"answer_id":11064425,"question_id":11064409,"body_markdown":"In your example, the use of polymorphism isn&#39;t incredibly helpful since you only have one subclass of `FlyingMachine`.  Polymorphism becomes helpful if you have multiple kinds of `FlyingMachine`.  Then you could have a method that accepts any kind of `FlyingMachine` and uses its `fly()` method.  An example might be `testMaxAltitude(FlyingMachine)`.\r\n\r\nAnother feature that is only available with polymorphism is the ability to have a `List&lt;FlyingMachine&gt;` and use it to store `Jet`, `Kite`, or `VerySmallPebbles`.\r\n\r\nOne of the best cases one can make for using polymorphism is the ability to refer to interfaces rather than implementations.\r\n\r\nFor example, it&#39;s better to have a method that returns as `List&lt;FlyingMachine&gt;` rather than an `ArrayList&lt;FlyingMachine&gt;`.  That way, I can change my implementation within the method to a `LinkedList` or a `Stack` without breaking any code that uses my method.","title":"Why to use Polymorphism?","body":"<p>In your example, the use of polymorphism isn't incredibly helpful since you only have one subclass of <code>FlyingMachine</code>.  Polymorphism becomes helpful if you have multiple kinds of <code>FlyingMachine</code>.  Then you could have a method that accepts any kind of <code>FlyingMachine</code> and uses its <code>fly()</code> method.  An example might be <code>testMaxAltitude(FlyingMachine)</code>.</p>\n\n<p>Another feature that is only available with polymorphism is the ability to have a <code>List&lt;FlyingMachine&gt;</code> and use it to store <code>Jet</code>, <code>Kite</code>, or <code>VerySmallPebbles</code>.</p>\n\n<p>One of the best cases one can make for using polymorphism is the ability to refer to interfaces rather than implementations.</p>\n\n<p>For example, it's better to have a method that returns as <code>List&lt;FlyingMachine&gt;</code> rather than an <code>ArrayList&lt;FlyingMachine&gt;</code>.  That way, I can change my implementation within the method to a <code>LinkedList</code> or a <code>Stack</code> without breaking any code that uses my method.</p>\n"},{"tags":[],"owner":{"account_id":1344409,"reputation":9495,"user_id":1285418,"display_name":"Pau Kiat Wee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339858666,"creation_date":1339858296,"answer_id":11064446,"question_id":11064409,"body_markdown":"Both `flm.fly()` and `j.fly()` give you the same answer because of the type of the instance is actually the same, which is `Jet`, so they are behave the same.\r\n\r\nYou can see the difference when you:\r\n\r\n    FlyingMachines flm = new FlyingMachines();\r\n    flm.fly();\r\n    \r\n    Jet j = new Jet();\r\n    j.bombarment();\r\n    j.fly();\r\n\r\nPolymorphism is define as same method signature with difference behaviour. As you can see, both `FlyingMachines` and `Jet` have method `fly()` defined, but the method is implemented differently, which consider as behave differently.\r\n\r\nSee\r\naa\r\n\r\n - [Polymorphism][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29","title":"Why to use Polymorphism?","body":"<p>Both <code>flm.fly()</code> and <code>j.fly()</code> give you the same answer because of the type of the instance is actually the same, which is <code>Jet</code>, so they are behave the same.</p>\n\n<p>You can see the difference when you:</p>\n\n<pre><code>FlyingMachines flm = new FlyingMachines();\nflm.fly();\n\nJet j = new Jet();\nj.bombarment();\nj.fly();\n</code></pre>\n\n<p>Polymorphism is define as same method signature with difference behaviour. As you can see, both <code>FlyingMachines</code> and <code>Jet</code> have method <code>fly()</code> defined, but the method is implemented differently, which consider as behave differently.</p>\n\n<p>See\naa</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29\" rel=\"nofollow\">Polymorphism</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":221654,"reputation":7898,"user_id":479760,"accept_rate":86,"display_name":"Sebastian Piu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339859215,"creation_date":1339858348,"answer_id":11064455,"question_id":11064409,"body_markdown":"It doesn&#39;t add much if you are going to have just Jets, the advantage will come when you have different FlyingMachines, e.g. Aeroplane \r\n\r\nNow that you&#39;ve modified to include more classes, the advantage of polymorphism is that abstraction from what the specific type (and business concept) of the instance you receive, you just care that it can fly","title":"Why to use Polymorphism?","body":"<p>It doesn't add much if you are going to have just Jets, the advantage will come when you have different FlyingMachines, e.g. Aeroplane </p>\n\n<p>Now that you've modified to include more classes, the advantage of polymorphism is that abstraction from what the specific type (and business concept) of the instance you receive, you just care that it can fly</p>\n"},{"tags":[],"owner":{"account_id":438835,"reputation":1820,"user_id":827371,"accept_rate":83,"display_name":"steve8918"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1339859041,"creation_date":1339859041,"answer_id":11064551,"question_id":11064409,"body_markdown":"The reason why you use polymorphism is when you build generic frameworks that take a whole bunch of different objects **with the same interface**.  When you create a new type of object, you don&#39;t need to change the framework to accommodate the new object type, as long as it follows the &quot;rules&quot; of the object.\r\n\r\nSo in your case, a more useful example is creating an object type &quot;Airport&quot; that accepts different types of FlyingMachines.  The Airport will define a &quot;AllowPlaneToLand&quot; function, similar to:\r\n\r\n    //pseudocode\r\n    void AllowPlaneToLand(FlyingMachine fm)\r\n    {\r\n        fm.LandPlane();\r\n    }\r\n\r\nAs long as each type of FlyingMachine defines a proper LandPlane method, it can land itself properly.  The Airport doesn&#39;t need to know anything about the FlyingMachine, except that to land the plane, it needs to invoke LandPlane on the FlyingMachine.  So the Airport no longer needs to change, and can continue to accept new types of FlyingMachines, be it a handglider, a UFO, a parachute, etc.\r\n\r\nSo polymorphism is useful for the frameworks that are built around these objects, that can generically access these methods without having to change.","title":"Why to use Polymorphism?","body":"<p>The reason why you use polymorphism is when you build generic frameworks that take a whole bunch of different objects <strong>with the same interface</strong>.  When you create a new type of object, you don't need to change the framework to accommodate the new object type, as long as it follows the \"rules\" of the object.</p>\n\n<p>So in your case, a more useful example is creating an object type \"Airport\" that accepts different types of FlyingMachines.  The Airport will define a \"AllowPlaneToLand\" function, similar to:</p>\n\n<pre><code>//pseudocode\nvoid AllowPlaneToLand(FlyingMachine fm)\n{\n    fm.LandPlane();\n}\n</code></pre>\n\n<p>As long as each type of FlyingMachine defines a proper LandPlane method, it can land itself properly.  The Airport doesn't need to know anything about the FlyingMachine, except that to land the plane, it needs to invoke LandPlane on the FlyingMachine.  So the Airport no longer needs to change, and can continue to accept new types of FlyingMachines, be it a handglider, a UFO, a parachute, etc.</p>\n\n<p>So polymorphism is useful for the frameworks that are built around these objects, that can generically access these methods without having to change.</p>\n"},{"tags":[],"owner":{"account_id":1093119,"reputation":367,"user_id":1087294,"display_name":"Cruis"},"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1339860608,"creation_date":1339860608,"answer_id":11064767,"question_id":11064409,"body_markdown":"let&#39;s look at OO design first, inheritance represents a IS-A relationship, generally we can say something like &quot;let our `FlyingMachines` fly&quot;. every specific `FlyingMachines` (sub class) IS-A `FlyingMachines` (parent class), let say `Jet`, fits this &quot;let our `FlyingMachines` fly&quot;, while we want this flying actually be the fly function of the specific one (sub class), that&#39;s polymorphism take over.\r\n\r\nso we do things in abstract way, oriented interfaces and base class, do not actually depend on detail implementation, polymorphism will do the right thing!  ","title":"Why to use Polymorphism?","body":"<p>let's look at OO design first, inheritance represents a IS-A relationship, generally we can say something like \"let our <code>FlyingMachines</code> fly\". every specific <code>FlyingMachines</code> (sub class) IS-A <code>FlyingMachines</code> (parent class), let say <code>Jet</code>, fits this \"let our <code>FlyingMachines</code> fly\", while we want this flying actually be the fly function of the specific one (sub class), that's polymorphism take over.</p>\n\n<p>so we do things in abstract way, oriented interfaces and base class, do not actually depend on detail implementation, polymorphism will do the right thing!  </p>\n"},{"tags":[],"owner":{"account_id":1363065,"reputation":1271,"user_id":1300056,"accept_rate":33,"display_name":"RTA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410976051,"creation_date":1389251494,"answer_id":21013806,"question_id":11064409,"body_markdown":"**polymorphism as stated clear by itself, a one which mapped for many.**\r\n\r\njava is a oops language so it have implementation for it by abstract, overloading and overriding\r\n\r\nremember java would not have specification for run time polymorphism.\r\n\r\nit have some best of example for it too.\r\n\r\n    public abstract class Human {\r\n    \r\n    \tpublic abstract String getGender();\r\n    \r\n    }\r\n    \r\n    class Male extends Human\r\n    {\r\n    \t@Override\r\n    \tpublic String getGender() {\r\n    \t\treturn &quot;male&quot;;\r\n    \t}\r\n    }\r\n    \r\n    class Female extends Human\r\n    {\r\n    \t@Override\r\n    \tpublic String getGender() {\r\n    \t\treturn &quot;female&quot;;\r\n    \t}\r\n    }\r\n\r\n**Overriding**\r\n\r\nredefine the behavior of base class.\r\nfor example i want to add a speed count int the existing functionality of move in my base Car.\r\n\r\n**Overloading**\r\n\r\ncan have behavior with same name with different signature.\r\nfor example a particular president speaks clear an loud but another one speaks only loud. ","title":"Why to use Polymorphism?","body":"<p><strong>polymorphism as stated clear by itself, a one which mapped for many.</strong></p>\n\n<p>java is a oops language so it have implementation for it by abstract, overloading and overriding</p>\n\n<p>remember java would not have specification for run time polymorphism.</p>\n\n<p>it have some best of example for it too.</p>\n\n<pre><code>public abstract class Human {\n\n    public abstract String getGender();\n\n}\n\nclass Male extends Human\n{\n    @Override\n    public String getGender() {\n        return \"male\";\n    }\n}\n\nclass Female extends Human\n{\n    @Override\n    public String getGender() {\n        return \"female\";\n    }\n}\n</code></pre>\n\n<p><strong>Overriding</strong></p>\n\n<p>redefine the behavior of base class.\nfor example i want to add a speed count int the existing functionality of move in my base Car.</p>\n\n<p><strong>Overloading</strong></p>\n\n<p>can have behavior with same name with different signature.\nfor example a particular president speaks clear an loud but another one speaks only loud. </p>\n"},{"tags":[],"owner":{"account_id":4319750,"reputation":1,"user_id":3528370,"display_name":"Harkaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397368195,"creation_date":1397368195,"answer_id":23039613,"question_id":11064409,"body_markdown":"The good reason for why Polymorphism is need in java is because the concept is extensively used in implementing inheritance.It plays an important role in allowing objects having different internal structures to share the same external interface.","title":"Why to use Polymorphism?","body":"<p>The good reason for why Polymorphism is need in java is because the concept is extensively used in implementing inheritance.It plays an important role in allowing objects having different internal structures to share the same external interface.</p>\n"},{"tags":[],"owner":{"account_id":15662,"reputation":20442,"user_id":33311,"accept_rate":92,"display_name":"Lernkurve"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1443796155,"creation_date":1443794804,"answer_id":32909025,"question_id":11064409,"body_markdown":"&gt; What is the advantage of polymorphism when both `flm.fly()` and `j.fly()`\r\n&gt; give me the same answer?\r\n\r\nThe advantage is that\r\n\r\n    FlyingMachines flm = new Jet();\r\n    flm.fly();\r\n\r\nreturns\r\n\r\n    &quot;Start, Taxi, Fly&quot;\r\n\r\ninstead of\r\n\r\n    &quot;No implementation&quot;\r\n\r\nThat&#39;s polymorphism. You call `fly()` on an object of type `FlyingMachine` and it still knows that it is in fact a `Jet` and calls the appropriate `fly()` method instead of the wrong one which outputs `&quot;No implementation&quot;`.\r\n\r\nThat means you can write methods that work with objects of type `FlyingMachine` and feed it with all kinds of subtypes like `Jet` or `Helicopter` and those methods will always do the right thing, i.e. calling the `fly()` method of the appropriate type instead of always doing the same thing, i.e. outputting `&quot;No implementation&quot;.`\r\n\r\n###Polymorphism\r\n\r\nPolymorphism is not useful in your example.\r\n\r\n - a) It gets useful when you have different types of objects and can write classes that can work with all those different types because they all adhere to the same API.\r\n\r\n - b) It also gets useful when you can add new `FlyingMachine`s to your application without changing any of the existing logic.\r\n\r\na) and b) are two sides of the same coin.\r\n\r\nLet me show how.\r\n\r\n###Code example\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static java.lang.System.out;\r\n    \r\n    public class PolymorphismDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;FlyingMachine&gt; machines = new ArrayList&lt;FlyingMachine&gt;();\r\n    \t\tmachines.add(new FlyingMachine());\r\n    \t\tmachines.add(new Jet());\r\n    \t\tmachines.add(new Helicopter());\r\n    \t\tmachines.add(new Jet());\r\n\r\n    \t\tnew MakeThingsFly().letTheMachinesFly(machines);\r\n    \t}\r\n    }\r\n    \r\n    class MakeThingsFly {\r\n    \tpublic void letTheMachinesFly(List&lt;FlyingMachine&gt; flyingMachines) {\r\n    \t\tfor (FlyingMachine flyingMachine : flyingMachines) {\r\n    \t\t\tflyingMachine.fly();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class FlyingMachine {\r\n        public void fly() {\r\n            out.println(&quot;No implementation&quot;);\r\n        }\r\n    }\r\n    \r\n    class Jet extends FlyingMachine {\r\n        @Override\r\n    \tpublic void fly() {\r\n            out.println(&quot;Start, taxi, fly&quot;);\r\n        }\r\n    \r\n        public void bombardment() {\r\n            out.println(&quot;Fire missile&quot;);\r\n        }\r\n    }\r\n    \r\n    class Helicopter extends FlyingMachine {\r\n    \t@Override\r\n    \tpublic void fly() {\r\n            out.println(&quot;Start vertically, hover, fly&quot;);\r\n        }\r\n    }\r\n\r\n###Explanation\r\n\r\na) The `MakeThingsFly` class can work with everything that is of type `FlyingMachine`.\r\n\r\nb) The method `letTheMachinesFly` also works without any change (!) when you add a new class, for example `PropellerPlane`:\r\n\r\n    public void letTheMachinesFly(List&lt;FlyingMachine&gt; flyingMachines) {\r\n    \t\tfor (FlyingMachine flyingMachine : flyingMachines) {\r\n    \t\t\tflyingMachine.fly();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThat&#39;s the power of polymorphism. You can implement the [open-closed-principle][1] with it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Open/closed_principle#Polymorphic_open.2Fclosed_principle","title":"Why to use Polymorphism?","body":"<blockquote>\n  <p>What is the advantage of polymorphism when both <code>flm.fly()</code> and <code>j.fly()</code>\n  give me the same answer?</p>\n</blockquote>\n\n<p>The advantage is that</p>\n\n<pre><code>FlyingMachines flm = new Jet();\nflm.fly();\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>\"Start, Taxi, Fly\"\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>\"No implementation\"\n</code></pre>\n\n<p>That's polymorphism. You call <code>fly()</code> on an object of type <code>FlyingMachine</code> and it still knows that it is in fact a <code>Jet</code> and calls the appropriate <code>fly()</code> method instead of the wrong one which outputs <code>\"No implementation\"</code>.</p>\n\n<p>That means you can write methods that work with objects of type <code>FlyingMachine</code> and feed it with all kinds of subtypes like <code>Jet</code> or <code>Helicopter</code> and those methods will always do the right thing, i.e. calling the <code>fly()</code> method of the appropriate type instead of always doing the same thing, i.e. outputting <code>\"No implementation\".</code></p>\n\n<h3>Polymorphism</h3>\n\n<p>Polymorphism is not useful in your example.</p>\n\n<ul>\n<li><p>a) It gets useful when you have different types of objects and can write classes that can work with all those different types because they all adhere to the same API.</p></li>\n<li><p>b) It also gets useful when you can add new <code>FlyingMachine</code>s to your application without changing any of the existing logic.</p></li>\n</ul>\n\n<p>a) and b) are two sides of the same coin.</p>\n\n<p>Let me show how.</p>\n\n<h3>Code example</h3>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport static java.lang.System.out;\n\npublic class PolymorphismDemo {\n\n    public static void main(String[] args) {\n        List&lt;FlyingMachine&gt; machines = new ArrayList&lt;FlyingMachine&gt;();\n        machines.add(new FlyingMachine());\n        machines.add(new Jet());\n        machines.add(new Helicopter());\n        machines.add(new Jet());\n\n        new MakeThingsFly().letTheMachinesFly(machines);\n    }\n}\n\nclass MakeThingsFly {\n    public void letTheMachinesFly(List&lt;FlyingMachine&gt; flyingMachines) {\n        for (FlyingMachine flyingMachine : flyingMachines) {\n            flyingMachine.fly();\n        }\n    }\n}\n\nclass FlyingMachine {\n    public void fly() {\n        out.println(\"No implementation\");\n    }\n}\n\nclass Jet extends FlyingMachine {\n    @Override\n    public void fly() {\n        out.println(\"Start, taxi, fly\");\n    }\n\n    public void bombardment() {\n        out.println(\"Fire missile\");\n    }\n}\n\nclass Helicopter extends FlyingMachine {\n    @Override\n    public void fly() {\n        out.println(\"Start vertically, hover, fly\");\n    }\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>a) The <code>MakeThingsFly</code> class can work with everything that is of type <code>FlyingMachine</code>.</p>\n\n<p>b) The method <code>letTheMachinesFly</code> also works without any change (!) when you add a new class, for example <code>PropellerPlane</code>:</p>\n\n<pre><code>public void letTheMachinesFly(List&lt;FlyingMachine&gt; flyingMachines) {\n        for (FlyingMachine flyingMachine : flyingMachines) {\n            flyingMachine.fly();\n        }\n    }\n}\n</code></pre>\n\n<p>That's the power of polymorphism. You can implement the <a href=\"https://en.wikipedia.org/wiki/Open/closed_principle#Polymorphic_open.2Fclosed_principle\" rel=\"noreferrer\">open-closed-principle</a> with it.</p>\n"},{"tags":[],"owner":{"account_id":1675111,"reputation":786,"user_id":1540840,"accept_rate":55,"display_name":"Luca Marzi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443795640,"creation_date":1443795640,"answer_id":32909318,"question_id":11064409,"body_markdown":"Polymorphism gives you benefits only if you need Polymorphism. \nIt&#39;s used when an entity of your conceptual project can be seen as the specialization of another entity. \nThe main idea is &quot;specialization&quot;. \nA great example stands in the so called Taxonomy,for example applied to living beings. \nDogs and Humans are both Mammals. \nThis means that, the class Mammals group all the entities that have some properties and behaviors in common. \n\nAlso, an ElectricCar and a DieselCar are a specialization of a Car. \nSo both have a isThereFuel() because when you drive a car you expect to know if there&#39;s fuel enough for driving it. \nAnother great concept is &quot;expectation&quot;. \n\nIt&#39;s always a great idea to draw an ER (entity relationship)  diagram of the domain of your software before starting it. \nThat&#39;s because your are forced to picture which kind of entities are gonna be created and, if you&#39;re able enough, you can save lot of code finding common behaviors between entities. \nBut saving code isn&#39;t the only benefit of a good project. \n\nYou might be interested in finding out the so called &quot;software engineering&quot;  that it&#39;s a collection of techniques and concepts that allows you to write &quot;clean code&quot;  (there&#39;s also a great book called &quot;Clean code&quot; that&#39;s widely suggested by pro-grammes). \n\n","title":"Why to use Polymorphism?","body":"<p>Polymorphism gives you benefits only if you need Polymorphism. \nIt's used when an entity of your conceptual project can be seen as the specialization of another entity. \nThe main idea is \"specialization\". \nA great example stands in the so called Taxonomy,for example applied to living beings. \nDogs and Humans are both Mammals. \nThis means that, the class Mammals group all the entities that have some properties and behaviors in common. </p>\n\n<p>Also, an ElectricCar and a DieselCar are a specialization of a Car. \nSo both have a isThereFuel() because when you drive a car you expect to know if there's fuel enough for driving it. \nAnother great concept is \"expectation\". </p>\n\n<p>It's always a great idea to draw an ER (entity relationship)  diagram of the domain of your software before starting it. \nThat's because your are forced to picture which kind of entities are gonna be created and, if you're able enough, you can save lot of code finding common behaviors between entities. \nBut saving code isn't the only benefit of a good project. </p>\n\n<p>You might be interested in finding out the so called \"software engineering\"  that it's a collection of techniques and concepts that allows you to write \"clean code\"  (there's also a great book called \"Clean code\" that's widely suggested by pro-grammes). </p>\n"},{"tags":[],"owner":{"account_id":3985733,"reputation":1506,"user_id":3286353,"accept_rate":67,"display_name":"murali kurapati"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682850680,"creation_date":1480772370,"answer_id":40948395,"question_id":11064409,"body_markdown":"Polymorphism can also help our code to remove the &quot;if&quot; conditionals which is intended to produce production level code because removing conditionals will increase the code readability and helps us to write better unit test cases, we know for &quot;n&quot; if cases there comes n!(n factorial) possibilities.\r\n\r\nLet us see how. If you have class FlyingMachine which takes a string in the constructor defining the type of FlyMachine as below:\r\n\r\n    class FlyingMachine{\r\n    \r\n        private type;\r\n\r\n        public FlyingMachine(String type){\r\n                 this.type = type;\r\n        }\r\n\r\n        public int getFlyingSpeedInMph {\r\n             if(type.equals(&quot;Jet&quot;))\r\n                  return 600;\r\n             if(type.equals(&quot;AirPlane&quot;))\r\n                  return 300;\r\n        }\r\n\r\n     }\r\n\r\nWe can create two instances of FlyingMachine as:\r\n\r\n     FlyingMachine jet = new FlyingMachine(&quot;Jet&quot;);\r\n     FlyingMachine airPlane = new FlyingMachine(&quot;AirPlane&quot;);\r\nand get the speeds using\r\n\r\n     jet.fylingSpeedInMph();\r\n     airPlane.flyingSpeedInMph();\r\n\r\n\r\nBut if you use polymorphism you are going to remove the if conditions by extending the generic FlyMachine class and overriding the getFlyingSpeedInMph as below:\r\n\r\n    class interface FlyingMachine {\r\n         \r\n         public int abstract getFlyingSpeedInMph;\r\n    }\r\n\r\n     \r\n    class Jet extends FlyingMachine {\r\n        @Override\r\n        public int getFlyingSpeedInMph(){\r\n              return 600;\r\n        }\r\n    }\r\n                                       \r\n    class Airplane extends FlyingMachine {\r\n        @Override\r\n        public int getFlyingSpeedInMph(){\r\n              return 300;\r\n        }\r\n    }\r\n\r\nNow you can get the flying speeds as below:\r\n\r\n     FlyingMachine jet = new Jet();\r\n     jet.flyingSpeed();\r\n\r\n     FlyingMachine airPlane = new AirPlane();\r\n     airPlane.flyingSpeed();\r\n \r\n","title":"Why to use Polymorphism?","body":"<p>Polymorphism can also help our code to remove the &quot;if&quot; conditionals which is intended to produce production level code because removing conditionals will increase the code readability and helps us to write better unit test cases, we know for &quot;n&quot; if cases there comes n!(n factorial) possibilities.</p>\n<p>Let us see how. If you have class FlyingMachine which takes a string in the constructor defining the type of FlyMachine as below:</p>\n<pre><code>class FlyingMachine{\n\n    private type;\n\n    public FlyingMachine(String type){\n             this.type = type;\n    }\n\n    public int getFlyingSpeedInMph {\n         if(type.equals(&quot;Jet&quot;))\n              return 600;\n         if(type.equals(&quot;AirPlane&quot;))\n              return 300;\n    }\n\n }\n</code></pre>\n<p>We can create two instances of FlyingMachine as:</p>\n<pre><code> FlyingMachine jet = new FlyingMachine(&quot;Jet&quot;);\n FlyingMachine airPlane = new FlyingMachine(&quot;AirPlane&quot;);\n</code></pre>\n<p>and get the speeds using</p>\n<pre><code> jet.fylingSpeedInMph();\n airPlane.flyingSpeedInMph();\n</code></pre>\n<p>But if you use polymorphism you are going to remove the if conditions by extending the generic FlyMachine class and overriding the getFlyingSpeedInMph as below:</p>\n<pre><code>class interface FlyingMachine {\n     \n     public int abstract getFlyingSpeedInMph;\n}\n\n \nclass Jet extends FlyingMachine {\n    @Override\n    public int getFlyingSpeedInMph(){\n          return 600;\n    }\n}\n                                   \nclass Airplane extends FlyingMachine {\n    @Override\n    public int getFlyingSpeedInMph(){\n          return 300;\n    }\n}\n</code></pre>\n<p>Now you can get the flying speeds as below:</p>\n<pre><code> FlyingMachine jet = new Jet();\n jet.flyingSpeed();\n\n FlyingMachine airPlane = new AirPlane();\n airPlane.flyingSpeed();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6701697,"reputation":197,"user_id":5167964,"accept_rate":100,"display_name":"Vivek Buddhadev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490778006,"creation_date":1490778006,"answer_id":43088923,"question_id":11064409,"body_markdown":"Let&#39;s add one more class in this, It help&#39;s you to understand use of polymorphism..\r\n\r\n    class FlyingMachines {\r\n        public void fly() {\r\n            System.out.println(&quot;No implementation&quot;);\r\n        }\r\n    }\r\n    \r\n    class Jet extends FlyingMachines {\r\n        public void fly() {\r\n            System.out.println(&quot;Start, Jet, Fly&quot;);\r\n        }\r\n    }\r\n    \r\n    class FighterPlan extends FlyingMachines {\r\n        public void fly() {\r\n            System.out.println(&quot;Start, Fighter, Fight&quot;);\r\n        }\r\n    }\r\n    \r\n    public class PolymorphicTest {\r\n        public static void main(String[] args) {\r\n            FlyingMachines flm = new Jet();\r\n            flm.fly();\r\n    \r\n            FlyingMachines flm2 = new FighterPlan();\r\n            flm2.fly();\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Start, Jet, Fly\r\n    Start, Fighter, Fight","title":"Why to use Polymorphism?","body":"<p>Let's add one more class in this, It help's you to understand use of polymorphism..</p>\n\n<pre><code>class FlyingMachines {\n    public void fly() {\n        System.out.println(\"No implementation\");\n    }\n}\n\nclass Jet extends FlyingMachines {\n    public void fly() {\n        System.out.println(\"Start, Jet, Fly\");\n    }\n}\n\nclass FighterPlan extends FlyingMachines {\n    public void fly() {\n        System.out.println(\"Start, Fighter, Fight\");\n    }\n}\n\npublic class PolymorphicTest {\n    public static void main(String[] args) {\n        FlyingMachines flm = new Jet();\n        flm.fly();\n\n        FlyingMachines flm2 = new FighterPlan();\n        flm2.fly();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Start, Jet, Fly\nStart, Fighter, Fight\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1497857222,"creation_date":1496774233,"answer_id":44397479,"question_id":11064409,"body_markdown":"[Polymorphism][1] (both runtime and compile time) is necessary in Java for quite a few reasons.\r\n\r\nMethod overriding is a *run time polymorphism* and overloading is *compile time polymorphism.*\r\n\r\nFew of them are(some of them are already discussed):\r\n\r\n 1. **Collections**: Suppose you have multiple type of flying machines and you want to have them all in a single collection. You can just define a list of type `FlyingMachines` and add them all.\r\n   \r\n        List&lt;FlyingMachine&gt; fmList = new ArrayList&lt;&gt;();\r\n        fmList.add(new new JetPlaneExtendingFlyingMachine());\r\n        fmList.add(new PassengerPlanePlaneExtendingFlyingMachine());\r\n   The above can be done only by polymorphism. Otherwise you would have to maintain two separate lists.\r\n 2. **Caste one type to another** : Declare the objects like :\r\n\r\n        FlyingMachine fm1 = new JetPlaneExtendingFlyingMachine();\r\n        FlyingMachine fm2 = new PassengerPlanePlaneExtendingFlyingMachine();\r\n        fm1 = fm2; //can be done\r\n\r\n 3. **Overloading**: Not related with the code you gave, But overloading is also another type of polymorphism called **compile time polymorphism**.\r\n\r\n 4. Can have a single method which accepts type `FlyingMachine` handle all types i.e. subclasses of FlyingMachine. Can only be achieved with `Polymorphism`.\r\n\r\n    \r\n\r\n\r\n  [1]: http://prinavtech.blogspot.com/2017/06/why-is-polymorphism-needed-in-java.html","title":"Why to use Polymorphism?","body":"<p><a href=\"http://prinavtech.blogspot.com/2017/06/why-is-polymorphism-needed-in-java.html\" rel=\"noreferrer\">Polymorphism</a> (both runtime and compile time) is necessary in Java for quite a few reasons.</p>\n\n<p>Method overriding is a <em>run time polymorphism</em> and overloading is <em>compile time polymorphism.</em></p>\n\n<p>Few of them are(some of them are already discussed):</p>\n\n<ol>\n<li><p><strong>Collections</strong>: Suppose you have multiple type of flying machines and you want to have them all in a single collection. You can just define a list of type <code>FlyingMachines</code> and add them all.</p>\n\n<pre><code>List&lt;FlyingMachine&gt; fmList = new ArrayList&lt;&gt;();\nfmList.add(new new JetPlaneExtendingFlyingMachine());\nfmList.add(new PassengerPlanePlaneExtendingFlyingMachine());\n</code></pre>\n\n<p>The above can be done only by polymorphism. Otherwise you would have to maintain two separate lists.</p></li>\n<li><p><strong>Caste one type to another</strong> : Declare the objects like :</p>\n\n<pre><code>FlyingMachine fm1 = new JetPlaneExtendingFlyingMachine();\nFlyingMachine fm2 = new PassengerPlanePlaneExtendingFlyingMachine();\nfm1 = fm2; //can be done\n</code></pre></li>\n<li><p><strong>Overloading</strong>: Not related with the code you gave, But overloading is also another type of polymorphism called <strong>compile time polymorphism</strong>.</p></li>\n<li><p>Can have a single method which accepts type <code>FlyingMachine</code> handle all types i.e. subclasses of FlyingMachine. Can only be achieved with <code>Polymorphism</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13562132,"reputation":251,"user_id":9783461,"display_name":"Jayshree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526572524,"creation_date":1526566888,"answer_id":50393867,"question_id":11064409,"body_markdown":"Here, for this particular code, there is no need of polymorphism. \r\n\r\nLet&#39;s understand why and when we need polymorphism.\r\n\r\nSuppose there are different kinds of machines (like car, scooter, washing machine, electric motor, etc.) and we know that every machine starts and stops. But the logic to start and stop a machine is different for each machine. Here, every machine will have different implementations to start and stop. So, to provide different implementations we need polymorphism. \r\n\r\nHere we can have a base class machine with `start()` and `stop()` as its methods and each machine type can extend this functionality and `@Override` these methods.","title":"Why to use Polymorphism?","body":"<p>Here, for this particular code, there is no need of polymorphism. </p>\n\n<p>Let's understand why and when we need polymorphism.</p>\n\n<p>Suppose there are different kinds of machines (like car, scooter, washing machine, electric motor, etc.) and we know that every machine starts and stops. But the logic to start and stop a machine is different for each machine. Here, every machine will have different implementations to start and stop. So, to provide different implementations we need polymorphism. </p>\n\n<p>Here we can have a base class machine with <code>start()</code> and <code>stop()</code> as its methods and each machine type can extend this functionality and <code>@Override</code> these methods.</p>\n"}],"owner":{"account_id":999370,"reputation":3418,"user_id":1014576,"accept_rate":59,"display_name":"baig772"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97923,"favorite_count":0,"down_vote_count":2,"up_vote_count":43,"accepted_answer_id":11064767,"answer_count":13,"score":41,"last_activity_date":1691692895,"creation_date":1339858058,"question_id":11064409,"body_markdown":"I have the following code in which I have a parent class and its child. I am trying to determine how the code benefits from using polymorphism. \r\n\r\n\tclass FlyingMachines {\r\n\t\tpublic void fly() {\r\n\t\t\tSystem.out.println(&quot;No implementation&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Jet extends FlyingMachines {\r\n\t\tpublic void fly() {\r\n\t\t\tSystem.out.println(&quot;Start, Taxi, Fly&quot;);\r\n\t\t}\r\n\t\r\n\t\tpublic void bombardment() {\r\n\t\t\tSystem.out.println(&quot;Throw Missile&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class PolymorphicTest {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tFlyingMachines flm = new Jet();\r\n\t\t\tflm.fly();\r\n\t\r\n\t\t\tJet j = new Jet();\r\n\t\t\tj.bombardment();\r\n\t\t\tj.fly();\r\n\t\t}\r\n\t}\r\n\r\nWhat is the advantage of polymorphism when both `flm.fly()` and `j.fly()` give me the same answer?\r\n","title":"Why to use Polymorphism?","body":"<p>I have the following code in which I have a parent class and its child. I am trying to determine how the code benefits from using polymorphism. </p>\n\n<pre><code>class FlyingMachines {\n    public void fly() {\n        System.out.println(\"No implementation\");\n    }\n}\n\nclass Jet extends FlyingMachines {\n    public void fly() {\n        System.out.println(\"Start, Taxi, Fly\");\n    }\n\n    public void bombardment() {\n        System.out.println(\"Throw Missile\");\n    }\n}\n\npublic class PolymorphicTest {\n    public static void main(String[] args) {\n        FlyingMachines flm = new Jet();\n        flm.fly();\n\n        Jet j = new Jet();\n        j.bombardment();\n        j.fly();\n    }\n}\n</code></pre>\n\n<p>What is the advantage of polymorphism when both <code>flm.fly()</code> and <code>j.fly()</code> give me the same answer?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","jenkins","selenium-chromedriver"],"owner":{"account_id":16321984,"reputation":1,"user_id":11787563,"display_name":"Gabriel Mart&#237;n Quiroga Golini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691692443,"creation_date":1691685584,"question_id":76877729,"body_markdown":"Found this error\r\n\r\n    net.thucydides.core.webdriver.DriverConfigurationError: \r\n    WebDriver was unable to create a new instance of type class org.openqa.selenium.chrome.ChromeDriver\r\n    WebDriver reported the following message: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\n\r\n \r\n\r\nAfter try a lot of things like\r\n- Install chromedriver and google-chrome\r\n- Set credentials\r\n- Change file path\r\n- Change google chrome capabilities...\r\n\r\nAdding this capability worked for me :) \r\n\r\n&quot;--crash-dumps-dir=/tmp&quot;","title":"Automation error - serenity bdd - selenium - java - chrome - jenkins","body":"<p>Found this error</p>\n<pre><code>net.thucydides.core.webdriver.DriverConfigurationError: \nWebDriver was unable to create a new instance of type class org.openqa.selenium.chrome.ChromeDriver\nWebDriver reported the following message: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\n</code></pre>\n<p>After try a lot of things like</p>\n<ul>\n<li>Install chromedriver and google-chrome</li>\n<li>Set credentials</li>\n<li>Change file path</li>\n<li>Change google chrome capabilities...</li>\n</ul>\n<p>Adding this capability worked for me :)</p>\n<p>&quot;--crash-dumps-dir=/tmp&quot;</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688896947,"post_id":76645385,"comment_id":135133297,"body_markdown":"`I just cant use the annotation to pull the information I want` is a very bad way of describing what it is you want. JWTs dont use principals they use `JwtAuthenticationToken` this will solve what you are doing https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1","body":"<code>I just cant use the annotation to pull the information I want</code> is a very bad way of describing what it is you want. JWTs dont use principals they use <code>JwtAuthenticationToken</code> this will solve what you are doing <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14218206,"reputation":11,"user_id":10271432,"display_name":"Caledrith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688972249,"creation_date":1688972249,"answer_id":76651333,"question_id":76645385,"body_markdown":"`@AuthenticationPrincipal` is an annotation that should be usable with almost any Spring Security authentication schema. Using [this tutorial][1], I realized that the issue was that I wasn&#39;t in a `@RequestMapping` annotation, but rather a `@GET` and `@PATH` annotation as my original project was off a very old version of Spring. Once I adjusted the Controller to the below code, `@AuthenticationPrincipal` got the JWT properly.\r\n```\r\n@RestController\r\npublic class ConnectionController {\r\n    private final ConnectionService connectionService;\r\n\r\n    @Inject\r\n    public ConnectionController(final ConnectionService connectionService)\r\n    {\r\n        this.connectionService = connectionService;\r\n    }\r\n    @GetMapping(&quot;/user/{userId}&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Operation(description = &quot;Retrieve connections by userId&quot;)\r\n    //@PreAuthorize(&quot;authentication.principal.userId.equals(#userId)&quot;)\r\n    public List&lt;ConnectionDto&gt; getConnectionsByUserId(@PathVariable(&quot;userId&quot;) final String userId, @Parameter(hidden = true) @AuthenticationPrincipal Jwt authentication)\r\n    {\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        Authentication authentication1 = context.getAuthentication();\r\n        Object jwt = context.getAuthentication().getPrincipal();\r\n        Assert.hasText(userId, &quot;User id must be provided&quot;);\r\n        return this.connectionService.getConnectionsByUserId(userId);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://curity.io/resources/learn/spring-boot-api/","title":"@AuthenticationPrincipal (and Authentication/Principal) return null in method","body":"<p><code>@AuthenticationPrincipal</code> is an annotation that should be usable with almost any Spring Security authentication schema. Using <a href=\"https://curity.io/resources/learn/spring-boot-api/\" rel=\"nofollow noreferrer\">this tutorial</a>, I realized that the issue was that I wasn't in a <code>@RequestMapping</code> annotation, but rather a <code>@GET</code> and <code>@PATH</code> annotation as my original project was off a very old version of Spring. Once I adjusted the Controller to the below code, <code>@AuthenticationPrincipal</code> got the JWT properly.</p>\n<pre><code>@RestController\npublic class ConnectionController {\n    private final ConnectionService connectionService;\n\n    @Inject\n    public ConnectionController(final ConnectionService connectionService)\n    {\n        this.connectionService = connectionService;\n    }\n    @GetMapping(&quot;/user/{userId}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Operation(description = &quot;Retrieve connections by userId&quot;)\n    //@PreAuthorize(&quot;authentication.principal.userId.equals(#userId)&quot;)\n    public List&lt;ConnectionDto&gt; getConnectionsByUserId(@PathVariable(&quot;userId&quot;) final String userId, @Parameter(hidden = true) @AuthenticationPrincipal Jwt authentication)\n    {\n        SecurityContext context = SecurityContextHolder.getContext();\n        Authentication authentication1 = context.getAuthentication();\n        Object jwt = context.getAuthentication().getPrincipal();\n        Assert.hasText(userId, &quot;User id must be provided&quot;);\n        return this.connectionService.getConnectionsByUserId(userId);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14218206,"reputation":11,"user_id":10271432,"display_name":"Caledrith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76651333,"answer_count":1,"score":-1,"last_activity_date":1691692350,"creation_date":1688860738,"question_id":76645385,"body_markdown":"I am trying to figure out how to implement endpoint user security via https://spring.io/guides/topicals/spring-security-architecture/#_working_with_threads and https://stackoverflow.com/questions/51712724/how-to-allow-a-user-only-access-their-own-data-in-spring-boot-spring-security However, `@AuthenticationPrincipal`, `Authentication`, and `Principal` when used in this manner. What am I missing? I am certain I have the right secrets/Jwt set up because the authentication itself works, I just cant use the annotation to pull the information I want\r\n\r\n**SecurityConfig.class**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfig {\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n            // -- Swagger UI v2\r\n            &quot;/v2/api-docs&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            // -- Swagger UI v3 (OpenAPI)\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n            // other public endpoints of your API may be appended to this array\r\n    };\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                // Our public endpoints\r\n                .antMatchers(&quot;/**/openapi.json&quot;).permitAll()\r\n                .antMatchers(&quot;/api/ims/auth/**&quot;).permitAll()\r\n                .antMatchers(AUTH_WHITELIST).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n        return http.build();\r\n    }\r\n\r\n    // Used by JwtAuthenticationProvider to decode and validate JWT tokens\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        SecretKey secretKey = new SecretKeySpec(&quot;INSERTSECRETHERE&quot;.getBytes(), &quot;HMACSHA256&quot;);\r\n        return NimbusJwtDecoder.withSecretKey(secretKey).macAlgorithm(MacAlgorithm.HS256).build();\r\n    }\r\n}\r\n```\r\n\r\n**ConnectionController.class**\r\n```\r\n@Path(&quot;connection/v1&quot;)\r\n@SecurityScheme(name = SWAGGER_AUTH_NAME, type = HTTP, scheme = SWAGGER_AUTH_SCHEME, in = HEADER)\r\n@Tag(name = &quot;Connection Controller&quot;, description = &quot;Manage connection resources&quot;)\r\n@RestController\r\npublic class ConnectionController {\r\n    private final ConnectionService connectionService;\r\n    @Inject\r\n    public ConnectionController(final ConnectionService connectionService)\r\n    {\r\n        this.connectionService = connectionService;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/user/{userId}&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Operation(description = &quot;Retrieve connections by userId&quot;)\r\n    //@PreAuthorize(&quot;authentication.principal.claims.userId.equals(#userId)&quot;)\r\n    public List&lt;ConnectionDto&gt; getConnectionsByUserId(@PathParam(&quot;userId&quot;) final String userId, @Parameter(hidden = true) @AuthenticationPrincipal Jwt authentication)\r\n    {\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        Authentication authentication1 = context.getAuthentication();\r\n        Object jwt = context.getAuthentication().getPrincipal();\r\n        Assert.hasText(userId, &quot;User id must be provided&quot;);\r\n        return this.connectionService.getConnectionsByUserId(userId);\r\n    }\r\n}\r\n```\r\n\r\nVariables `context`, `authentication`, and `jwt` all return what I anticipate, the last being a `Jwt` object, which is exactly what I&#39;d want `@AuthenticationPrincipal` to return. However, `@AuthenticationPrincipal`, `Authentication`, and `Principal` all return null from that method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51712724/how-to-allow-a-user-only-access-their-own-data-in-spring-boot-spring-security","title":"@AuthenticationPrincipal (and Authentication/Principal) return null in method","body":"<p>I am trying to figure out how to implement endpoint user security via <a href=\"https://spring.io/guides/topicals/spring-security-architecture/#_working_with_threads\" rel=\"nofollow noreferrer\">https://spring.io/guides/topicals/spring-security-architecture/#_working_with_threads</a> and <a href=\"https://stackoverflow.com/questions/51712724/how-to-allow-a-user-only-access-their-own-data-in-spring-boot-spring-security\">How to allow a User only access their own data in Spring Boot / Spring Security?</a> However, <code>@AuthenticationPrincipal</code>, <code>Authentication</code>, and <code>Principal</code> when used in this manner. What am I missing? I am certain I have the right secrets/Jwt set up because the authentication itself works, I just cant use the annotation to pull the information I want</p>\n<p><strong>SecurityConfig.class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n\n    private static final String[] AUTH_WHITELIST = {\n            // -- Swagger UI v2\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/webjars/**&quot;,\n            // -- Swagger UI v3 (OpenAPI)\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;\n            // other public endpoints of your API may be appended to this array\n    };\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                // Our public endpoints\n                .antMatchers(&quot;/**/openapi.json&quot;).permitAll()\n                .antMatchers(&quot;/api/ims/auth/**&quot;).permitAll()\n                .antMatchers(AUTH_WHITELIST).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n        return http.build();\n    }\n\n    // Used by JwtAuthenticationProvider to decode and validate JWT tokens\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        SecretKey secretKey = new SecretKeySpec(&quot;INSERTSECRETHERE&quot;.getBytes(), &quot;HMACSHA256&quot;);\n        return NimbusJwtDecoder.withSecretKey(secretKey).macAlgorithm(MacAlgorithm.HS256).build();\n    }\n}\n</code></pre>\n<p><strong>ConnectionController.class</strong></p>\n<pre><code>@Path(&quot;connection/v1&quot;)\n@SecurityScheme(name = SWAGGER_AUTH_NAME, type = HTTP, scheme = SWAGGER_AUTH_SCHEME, in = HEADER)\n@Tag(name = &quot;Connection Controller&quot;, description = &quot;Manage connection resources&quot;)\n@RestController\npublic class ConnectionController {\n    private final ConnectionService connectionService;\n    @Inject\n    public ConnectionController(final ConnectionService connectionService)\n    {\n        this.connectionService = connectionService;\n    }\n\n    @GET\n    @Path(&quot;/user/{userId}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Operation(description = &quot;Retrieve connections by userId&quot;)\n    //@PreAuthorize(&quot;authentication.principal.claims.userId.equals(#userId)&quot;)\n    public List&lt;ConnectionDto&gt; getConnectionsByUserId(@PathParam(&quot;userId&quot;) final String userId, @Parameter(hidden = true) @AuthenticationPrincipal Jwt authentication)\n    {\n        SecurityContext context = SecurityContextHolder.getContext();\n        Authentication authentication1 = context.getAuthentication();\n        Object jwt = context.getAuthentication().getPrincipal();\n        Assert.hasText(userId, &quot;User id must be provided&quot;);\n        return this.connectionService.getConnectionsByUserId(userId);\n    }\n}\n</code></pre>\n<p>Variables <code>context</code>, <code>authentication</code>, and <code>jwt</code> all return what I anticipate, the last being a <code>Jwt</code> object, which is exactly what I'd want <code>@AuthenticationPrincipal</code> to return. However, <code>@AuthenticationPrincipal</code>, <code>Authentication</code>, and <code>Principal</code> all return null from that method.</p>\n"},{"tags":["java","maven","osgi","apache-servicemix"],"comments":[{"owner":{"account_id":2755966,"reputation":140,"user_id":2374033,"display_name":"wagnermarques"},"score":0,"creation_date":1691693921,"post_id":76876712,"comment_id":135529765,"body_markdown":"I&#39;m not sure if I understand your question, but this is a simple camel osgi blueprint that generate a jar that is deployed in karaf deploy directory and works ok for me... https://github.com/wagnermarques/camel-routes-with-karaf/tree/main/bundles/blueprint-osgi-camel-bundles/processadordearquivos","body":"I&#39;m not sure if I understand your question, but this is a simple camel osgi blueprint that generate a jar that is deployed in karaf deploy directory and works ok for me... <a href=\"https://github.com/wagnermarques/camel-routes-with-karaf/tree/main/bundles/blueprint-osgi-camel-bundles/processadordearquivos\" rel=\"nofollow noreferrer\">github.com/wagnermarques/camel-routes-with-karaf/tree/main/&hellip;</a>"}],"owner":{"account_id":18991244,"reputation":15,"user_id":13860472,"display_name":"Maciej Kajetan Chrzanowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691692310,"creation_date":1691677773,"question_id":76876712,"body_markdown":"I&#39;ve got maven project (non Spring one), what should I change inside my pom.xml to build jar to be executable by SMX/OSGI container. I&#39;ve used felix plugin for spring projects like this:\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.9&lt;/version&gt;\r\n    &lt;extensions&gt;true&lt;/extensions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;instructions&gt;\r\n        &lt;Bundle-SymbolicName&gt;\r\n          ${project.groupId}.${project.artifactId}\r\n        &lt;/Bundle-SymbolicName&gt;\r\n        &lt;Bundle-Name&gt;${project.artifactId}&lt;/Bundle-Name&gt;\r\n        &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\r\n        &lt;Bundle-Activator&gt;\r\n          com.project.SpringBootBundleActivator\r\n        &lt;/Bundle-Activator&gt;\r\n        &lt;Export-Package&gt;\r\n          com.project\r\n        &lt;/Export-Package&gt;\r\n        &lt;Import-Package&gt;\r\n          com.project\r\n          !org.springframework.*,\r\n          !sun.*,\r\n          !org.apache.tools.*,\r\n          *;resolution:=optional\r\n        &lt;/Import-Package&gt;\r\n        &lt;Embed-Dependency&gt;*;scope=compile&lt;/Embed-Dependency&gt;\r\n        &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\r\n      &lt;/instructions&gt;\r\n      &lt;buildDirectory&gt;target/deploy&lt;/buildDirectory&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n\r\nIt&#39;s working fine, but I cannot figure it out for non spring classes, cause what it does right now. It&#39;s trigger activation class with annotation @SpringBootApplication and allows me to deploy my app inside SMX. \r\nWhat I would like to achieve is, instead of using Spring classes, use some camelContext.xml, that&#39;s got &lt;blueprint&gt; and &lt;camelContext&gt; inside and just define some beans from my custom classes inside it. For example, &lt;bean id=&quot;someClass&quot; class=&quot;com.project.SomeClass&quot;/&gt; and use method of this class in routes, but when I&#39;m trying installing this classes there is problem with installing bundle inside of the contener. Error is related with OSGI R3 not supported.","title":"Create OSGI bundle from plain java maven project","body":"<p>I've got maven project (non Spring one), what should I change inside my pom.xml to build jar to be executable by SMX/OSGI container. I've used felix plugin for spring projects like this:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.1.9&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;configuration&gt;\n      &lt;instructions&gt;\n        &lt;Bundle-SymbolicName&gt;\n          ${project.groupId}.${project.artifactId}\n        &lt;/Bundle-SymbolicName&gt;\n        &lt;Bundle-Name&gt;${project.artifactId}&lt;/Bundle-Name&gt;\n        &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\n        &lt;Bundle-Activator&gt;\n          com.project.SpringBootBundleActivator\n        &lt;/Bundle-Activator&gt;\n        &lt;Export-Package&gt;\n          com.project\n        &lt;/Export-Package&gt;\n        &lt;Import-Package&gt;\n          com.project\n          !org.springframework.*,\n          !sun.*,\n          !org.apache.tools.*,\n          *;resolution:=optional\n        &lt;/Import-Package&gt;\n        &lt;Embed-Dependency&gt;*;scope=compile&lt;/Embed-Dependency&gt;\n        &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\n      &lt;/instructions&gt;\n      &lt;buildDirectory&gt;target/deploy&lt;/buildDirectory&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>It's working fine, but I cannot figure it out for non spring classes, cause what it does right now. It's trigger activation class with annotation @SpringBootApplication and allows me to deploy my app inside SMX.\nWhat I would like to achieve is, instead of using Spring classes, use some camelContext.xml, that's got  and  inside and just define some beans from my custom classes inside it. For example,  and use method of this class in routes, but when I'm trying installing this classes there is problem with installing bundle inside of the contener. Error is related with OSGI R3 not supported.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9738,"page":254,"page_size":100}
