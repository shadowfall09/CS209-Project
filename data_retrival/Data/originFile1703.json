{"items":[{"tags":["java","mysql","regex","string"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":3,"creation_date":1453039040,"post_id":34839139,"comment_id":57418967,"body_markdown":"This is _a lot_ more complicated than it sounds. I&#39;m not even sure a regex can be used to parse a SQL query (think about subquery, `with` clause, `group by`...)","body":"This is <i>a lot</i> more complicated than it sounds. I&#39;m not even sure a regex can be used to parse a SQL query (think about subquery, <code>with</code> clause, <code>group by</code>...)"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1453039049,"post_id":34839139,"comment_id":57418972,"body_markdown":"You need a tempered greedy token based regex.","body":"You need a tempered greedy token based regex."},{"owner":{"account_id":6559132,"reputation":166052,"user_id":5070879,"accept_rate":72,"display_name":"Lukasz Szozda"},"score":1,"creation_date":1453039115,"post_id":34839139,"comment_id":57418995,"body_markdown":"Similiar to http://stackoverflow.com/a/1732454/5070879/. Regex is not proper tool for that.","body":"Similiar to <a href=\"http://stackoverflow.com/a/1732454/5070879/\">stackoverflow.com/a/1732454/5070879</a>. Regex is not proper tool for that."}],"answers":[{"tags":[],"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641574976,"creation_date":1453039217,"answer_id":34839179,"question_id":34839139,"body_markdown":"SQL allows arbitrary naming of columns, so simple string searches are not going to be sufficient. Although not recommended, you can write a query such as this:\r\n\r\n    select 1 as `order`, 2 as `select`, 3 as `limit`\r\n\r\nThat is, simple string searches are not sufficient.\r\n\r\nAnd, even worse, SQL supports subqueries.  The following is a reasonable example:\r\n\r\n    select (select col\r\n            from t\r\n            where . . .\r\n            group by x\r\n            order by count(*) desc\r\n            limit 1\r\n           ) col, . . .\r\n    from tt\r\n    order by 2;\r\n\r\nIn other words, it is a recursive grammar.","title":"How to check the proper order of the clauses in a given sql query using regexp in java?","body":"<p>SQL allows arbitrary naming of columns, so simple string searches are not going to be sufficient. Although not recommended, you can write a query such as this:</p>\n<pre><code>select 1 as `order`, 2 as `select`, 3 as `limit`\n</code></pre>\n<p>That is, simple string searches are not sufficient.</p>\n<p>And, even worse, SQL supports subqueries.  The following is a reasonable example:</p>\n<pre><code>select (select col\n        from t\n        where . . .\n        group by x\n        order by count(*) desc\n        limit 1\n       ) col, . . .\nfrom tt\norder by 2;\n</code></pre>\n<p>In other words, it is a recursive grammar.</p>\n"}],"owner":{"account_id":6728718,"reputation":31,"user_id":5185844,"accept_rate":0,"display_name":"Avinash S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641574976,"creation_date":1453038967,"question_id":34839139,"body_markdown":"As of now i just want to check whether the order of the clauses - select, from, where, order by. are correct in a query.\r\nI tried this:\r\n\r\n    String pattern1 = &quot;select&quot;;\r\n    String pattern2 =  &quot;from&quot;;\r\n    String pattern3 = &quot;(where\\\\s*(.*?)|order by\\\\s*(.*?)|where\\\\s*(.*?)order by\\\\s*(.*?))&quot;;\r\n\tString pattern4 = &quot;(;|$)&quot;;\r\n\tPattern p = Pattern.compile(pattern1 + &quot;(.*?)&quot; + pattern2 + &quot;(.*?)&quot; + pattern3 + pattern4);\r\n\r\nBut still this matches an incorrect query like this:\r\n\r\n    select * from student order by marks where id&lt;8;\r\n\r\n \r\nI need to do it manually without using any external libraries.","title":"How to check the proper order of the clauses in a given sql query using regexp in java?","body":"<p>As of now i just want to check whether the order of the clauses - select, from, where, order by. are correct in a query.\nI tried this:</p>\n\n<pre><code>String pattern1 = \"select\";\nString pattern2 =  \"from\";\nString pattern3 = \"(where\\\\s*(.*?)|order by\\\\s*(.*?)|where\\\\s*(.*?)order by\\\\s*(.*?))\";\nString pattern4 = \"(;|$)\";\nPattern p = Pattern.compile(pattern1 + \"(.*?)\" + pattern2 + \"(.*?)\" + pattern3 + pattern4);\n</code></pre>\n\n<p>But still this matches an incorrect query like this:</p>\n\n<pre><code>select * from student order by marks where id&lt;8;\n</code></pre>\n\n<p>I need to do it manually without using any external libraries.</p>\n"},{"tags":["java","android","android-external-storage"],"answers":[{"tags":[],"owner":{"account_id":4276072,"reputation":591,"user_id":3496623,"display_name":"PangoSea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641522883,"creation_date":1641522883,"answer_id":70615966,"question_id":70615832,"body_markdown":"use `equals` to check the equality of string instead of &quot;!=&quot; or &quot;==&quot;.  \r\n`equals`  checks the value, and &quot;!=&quot; or &quot;==&quot; checks the reference.","title":"Read/Write and compare android external storage","body":"<p>use <code>equals</code> to check the equality of string instead of &quot;!=&quot; or &quot;==&quot;.<br />\n<code>equals</code>  checks the value, and &quot;!=&quot; or &quot;==&quot; checks the reference.</p>\n"}],"owner":{"account_id":23107643,"reputation":55,"user_id":17215983,"display_name":"Arc Official"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641574795,"creation_date":1641521552,"question_id":70615832,"body_markdown":"```\r\npublic class PaymentActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_payment);\r\n\r\n        String FILENAME = &quot;paid&quot;;\r\n       String data = &quot;yes&quot;;\r\n\r\n        File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n\r\n\r\n        try {\r\n            File myFile = new File(folder, FILENAME);\r\n            FileOutputStream fstream = new FileOutputStream(myFile);\r\n            fstream.write(data.getBytes());\r\n            fstream.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        try {\r\n            File myFile = new File(folder, FILENAME);\r\n            FileInputStream fstream = new FileInputStream(myFile);\r\n            StringBuilder sbuffer = new StringBuilder();\r\n            int i;\r\n            while ((i = fstream.read())!= -1){\r\n                sbuffer.append((char)i);\r\n            }\r\n\r\n            String haspaid = sbuffer.toString();\r\n            System.out.println(&quot;Help!&quot;+haspaid.equals(&quot;yes&quot;));\r\n            if (haspaid.equals(&quot;yes&quot;)) {\r\n\r\n                Intent intent = new Intent(this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n            fstream.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have a file write that inputs &quot;yes&quot; and a file read the reads that &quot;yes&quot; on external storage. I have System.out.println printed it out, and the file read/write seems to work. And yet somehow, when I compare the string resulted, it cannot be checked if it is a value.\r\n\r\nWhat am I doing wrong?\r\n","title":"Read/Write and compare android external storage","body":"<pre><code>public class PaymentActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_payment);\n\n        String FILENAME = &quot;paid&quot;;\n       String data = &quot;yes&quot;;\n\n        File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n\n        try {\n            File myFile = new File(folder, FILENAME);\n            FileOutputStream fstream = new FileOutputStream(myFile);\n            fstream.write(data.getBytes());\n            fstream.close();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n        try {\n            File myFile = new File(folder, FILENAME);\n            FileInputStream fstream = new FileInputStream(myFile);\n            StringBuilder sbuffer = new StringBuilder();\n            int i;\n            while ((i = fstream.read())!= -1){\n                sbuffer.append((char)i);\n            }\n\n            String haspaid = sbuffer.toString();\n            System.out.println(&quot;Help!&quot;+haspaid.equals(&quot;yes&quot;));\n            if (haspaid.equals(&quot;yes&quot;)) {\n\n                Intent intent = new Intent(this, MainActivity.class);\n                startActivity(intent);\n            }\n            fstream.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n}\n</code></pre>\n<p>I have a file write that inputs &quot;yes&quot; and a file read the reads that &quot;yes&quot; on external storage. I have System.out.println printed it out, and the file read/write seems to work. And yet somehow, when I compare the string resulted, it cannot be checked if it is a value.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","generics","queue"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1480459451,"post_id":40877146,"comment_id":68969386,"body_markdown":"`Collections.max(queue)` seems easier.","body":"<code>Collections.max(queue)</code> seems easier."},{"owner":{"account_id":7162105,"reputation":67,"user_id":5472537,"display_name":"Michael Andr&#233; Slimz"},"score":0,"creation_date":1480459497,"post_id":40877146,"comment_id":68969413,"body_markdown":"Nay I&#39;m talking about like another algorithm","body":"Nay I&#39;m talking about like another algorithm"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1480459576,"post_id":40877146,"comment_id":68969448,"body_markdown":"Well you can write a parallel algorithm (http://cs.stackexchange.com/questions/21910/parallel-algorithm-for-finding-the-maximum-in-log-n-time-using-n-log-n-p) but that&#39;s a lot of overhead in Java unless your list is huuuuuuuge.","body":"Well you can write a parallel algorithm (<a href=\"http://cs.stackexchange.com/questions/21910/parallel-algorithm-for-finding-the-maximum-in-log-n-time-using-n-log-n-p\" title=\"parallel algorithm for finding the maximum in log n time using n log n p\">cs.stackexchange.com/questions/21910/&hellip;</a>) but that&#39;s a lot of overhead in Java unless your list is huuuuuuuge."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1480459674,"post_id":40877146,"comment_id":68969493,"body_markdown":"A common rule I see broken in software engineering is KISS: Keep It Short &amp; Simple.  Your solution works.  Why needlessly complicate things?","body":"A common rule I see broken in software engineering is KISS: Keep It Short &amp; Simple.  Your solution works.  Why needlessly complicate things?"},{"owner":{"account_id":7162105,"reputation":67,"user_id":5472537,"display_name":"Michael Andr&#233; Slimz"},"score":0,"creation_date":1480459730,"post_id":40877146,"comment_id":68969523,"body_markdown":"Basically If that question comes out In a Computer Science exam , I want to know if the code that I have provided is sufficient .","body":"Basically If that question comes out In a Computer Science exam , I want to know if the code that I have provided is sufficient ."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1480459753,"post_id":40877146,"comment_id":68969535,"body_markdown":"@JoeC This is probably an exam/quiz question.","body":"@JoeC This is probably an exam/quiz question."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1480459826,"post_id":40877146,"comment_id":68969560,"body_markdown":"Looks fine to me.","body":"Looks fine to me."},{"owner":{"account_id":7162105,"reputation":67,"user_id":5472537,"display_name":"Michael Andr&#233; Slimz"},"score":0,"creation_date":1480459941,"post_id":40877146,"comment_id":68969610,"body_markdown":"@JoeC the thing is I&#39;m not sure how my lecturer is gonna mark , so that&#39;s why I&#39;m just a bit concerned .","body":"@JoeC the thing is I&#39;m not sure how my lecturer is gonna mark , so that&#39;s why I&#39;m just a bit concerned ."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1480459987,"post_id":40877146,"comment_id":68969623,"body_markdown":"Well, neither are we.  Best thing to do is to ask your lecturer.","body":"Well, neither are we.  Best thing to do is to ask your lecturer."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1480461265,"post_id":40877146,"comment_id":68970120,"body_markdown":"Is there an alternative way of doing? Yes, there are an infinite number of alternatives. Is there a better way? Depends on your definition of better (e.g. the code could be more generic). But this approach has the optimal big-oh complexity.","body":"Is there an alternative way of doing? Yes, there are an infinite number of alternatives. Is there a better way? Depends on your definition of better (e.g. the code could be more generic). But this approach has the optimal big-oh complexity."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480460237,"creation_date":1480459864,"answer_id":40877245,"question_id":40877146,"body_markdown":"The only way to access all elements in a [`Queue`](https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html) is to use the `iterator()` method - you can&#39;t (generally) access the elements by index (as in, some implementations might, but `Queue` doesn&#39;t inherently).\r\n\r\nAs such, all you can do is to iterate the elements one at a time, storing the current maximum element. This is exactly what you&#39;re doing here. \r\n\r\nThere is nothing wrong with your algorithm - but the way you&#39;ve implemented it could be improved:\r\n\r\n* Don&#39;t do this in the constructor of a class - you don&#39;t need to construct a new instance of anything, as the maximum value already exists. Do it in a (static) method.\r\n* Don&#39;t print out the result - that&#39;s of no use to man or beast. Return it to the caller.\r\n* Handle the cases where the queue is empty and may contain nulls. (Look at the Javadoc of [`Collections.max`](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection)) for ideas)","title":"Get max element in a Queue | Java","body":"<p>The only way to access all elements in a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\"><code>Queue</code></a> is to use the <code>iterator()</code> method - you can't (generally) access the elements by index (as in, some implementations might, but <code>Queue</code> doesn't inherently).</p>\n\n<p>As such, all you can do is to iterate the elements one at a time, storing the current maximum element. This is exactly what you're doing here. </p>\n\n<p>There is nothing wrong with your algorithm - but the way you've implemented it could be improved:</p>\n\n<ul>\n<li>Don't do this in the constructor of a class - you don't need to construct a new instance of anything, as the maximum value already exists. Do it in a (static) method.</li>\n<li>Don't print out the result - that's of no use to man or beast. Return it to the caller.</li>\n<li>Handle the cases where the queue is empty and may contain nulls. (Look at the Javadoc of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.max</code></a> for ideas)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480460464,"creation_date":1480460464,"answer_id":40877364,"question_id":40877146,"body_markdown":"You can use Java 8&#39;s stream to sort the Queue, it internally uses the same algorithm but will result in less noisy code, e.g.:\r\n\r\n    public void MaxQueueElement(Queue&lt;E&gt; queue){\r\n        Optional&lt;E&gt; max = queue.stream()\r\n        \t.max(Comparable::compareTo);\r\n        \r\n        if(max.isPresent()){\r\n        \tSystem.out.println(max.get());\r\n        }\r\n    }\r\n\r\nAnother approach would be to use `PriorityQueue` with comparator and get the first element from it. e.g.:\r\n\r\n    public void MaxQueueElement2(Queue&lt;E&gt; queue){\r\n    \tPriorityQueue&lt;E&gt; pQueue = new PriorityQueue&lt;&gt;((E e1, E e2)-&gt;e1.compareTo(e2));\r\n    \tpQueue.addAll(queue);\r\n    \tSystem.out.println(pQueue.peek());\r\n    \t\r\n    }","title":"Get max element in a Queue | Java","body":"<p>You can use Java 8's stream to sort the Queue, it internally uses the same algorithm but will result in less noisy code, e.g.:</p>\n\n<pre><code>public void MaxQueueElement(Queue&lt;E&gt; queue){\n    Optional&lt;E&gt; max = queue.stream()\n        .max(Comparable::compareTo);\n\n    if(max.isPresent()){\n        System.out.println(max.get());\n    }\n}\n</code></pre>\n\n<p>Another approach would be to use <code>PriorityQueue</code> with comparator and get the first element from it. e.g.:</p>\n\n<pre><code>public void MaxQueueElement2(Queue&lt;E&gt; queue){\n    PriorityQueue&lt;E&gt; pQueue = new PriorityQueue&lt;&gt;((E e1, E e2)-&gt;e1.compareTo(e2));\n    pQueue.addAll(queue);\n    System.out.println(pQueue.peek());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480460689,"creation_date":1480460689,"answer_id":40877414,"question_id":40877146,"body_markdown":"Unless the queue is not some special sorted queue like `PriorityQueue`, from the algorithmic point of view there is no better way. Since the queue does not have any intrinsic sorting properties, you have to check all the elements of the queue before you find one.\r\n\r\nThe code is more or less OK. It will fail if the queue contains `null`. This is normally not the case, but may happen.  \r\nThe `MaxQueueElement` construct is somewhat strange.","title":"Get max element in a Queue | Java","body":"<p>Unless the queue is not some special sorted queue like <code>PriorityQueue</code>, from the algorithmic point of view there is no better way. Since the queue does not have any intrinsic sorting properties, you have to check all the elements of the queue before you find one.</p>\n\n<p>The code is more or less OK. It will fail if the queue contains <code>null</code>. This is normally not the case, but may happen.<br>\nThe <code>MaxQueueElement</code> construct is somewhat strange.</p>\n"},{"tags":[],"owner":{"account_id":10669087,"reputation":368,"user_id":7854661,"accept_rate":100,"display_name":"Meepo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492061810,"creation_date":1492061810,"answer_id":43384296,"question_id":40877146,"body_markdown":"I&#39;m taking a computer science class, and we aren&#39;t allowed to use the for each loop. I&#39;m not sure if it&#39;s the same with you. Note that the for each loop kind of defeats the purpose of a Queue since you want to only be handling the front and end of a queue. In my class specifically, we also want to have the queue be at it&#39;s original state before it was passed into the method without using an extra auxiliary data structure. Here&#39;s how I would go about it on a test:\r\n \r\n    public E findMaxQueueElement(Queue&lt;e&gt; queue) { //my test would ask me to return the max value\r\n        E max = queue.remove();\r\n        queue.add(max); //add it back to the end\r\n        for(int i=0; i&lt;queue.size()-1; i++) {\r\n            E current = queue.remove();\r\n            if (current.compareTo(max) &gt; 0) {\r\n                max = current;\r\n            }\r\n            queue.add(current);\r\n        }\r\n        return max;\r\n    }\r\nWith the limitations I provided, this should work. I hope this helps.","title":"Get max element in a Queue | Java","body":"<p>I'm taking a computer science class, and we aren't allowed to use the for each loop. I'm not sure if it's the same with you. Note that the for each loop kind of defeats the purpose of a Queue since you want to only be handling the front and end of a queue. In my class specifically, we also want to have the queue be at it's original state before it was passed into the method without using an extra auxiliary data structure. Here's how I would go about it on a test:</p>\n\n<pre><code>public E findMaxQueueElement(Queue&lt;e&gt; queue) { //my test would ask me to return the max value\n    E max = queue.remove();\n    queue.add(max); //add it back to the end\n    for(int i=0; i&lt;queue.size()-1; i++) {\n        E current = queue.remove();\n        if (current.compareTo(max) &gt; 0) {\n            max = current;\n        }\n        queue.add(current);\n    }\n    return max;\n}\n</code></pre>\n\n<p>With the limitations I provided, this should work. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606552774,"creation_date":1606552774,"answer_id":65047840,"question_id":40877146,"body_markdown":"I think you can also make use of\r\n`Collections.max(queue)` in case of queue","title":"Get max element in a Queue | Java","body":"<p>I think you can also make use of\n<code>Collections.max(queue)</code> in case of queue</p>\n"},{"tags":[],"owner":{"account_id":6948309,"reputation":79,"user_id":8819319,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641574705,"creation_date":1641574705,"answer_id":70624675,"question_id":40877146,"body_markdown":"The get-max operation on a queue can be implemented in amortized O(1) time by maintaining the candidates for the max value in a separate double-ended queue (`Deque`).\r\n\r\n - On enqueue (or `offer`) operation, we check whether there are any elements at the back of the `Deque` which are lesser in value than the element being enqueued. These values can simply be removed ‚Äì&#160;for these can never be the maximum value going forward. \r\n - On dequeue (or `poll`) operation, we check whether the first element in the `Deque` is equal to the first element in the regular queue and if yes, remove it too.\r\n - The max element is simply the first element of the `Deque`.\r\n\r\nAll operations have amortized O(1) time complexity.\r\n\r\nHere&#39;s an implementation in Java:\r\n```java\r\npublic class QueueWithMax&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    Queue&lt;T&gt; queue;\r\n    Deque&lt;T&gt; cMax; // candidates for Max value\r\n\r\n    public QueueWithMax() {\r\n        queue = new LinkedList&lt;&gt;();\r\n        cMax = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n    public void offer(T element) {\r\n        queue.offer(element);\r\n        while (!cMax.isEmpty() &amp;&amp; element.compareTo(cMax.peekLast()) &gt; 0) {\r\n            cMax.pollLast();\r\n        }\r\n        cMax.offerLast(element);\r\n    }\r\n\r\n    public T poll() {\r\n        if (cMax.peekFirst().equals(queue.peek()))\r\n            cMax.pollFirst();\r\n        return queue.poll();\r\n    }\r\n\r\n    public T getMax() {\r\n        return cMax.peekFirst();\r\n    }\r\n}\r\n```","title":"Get max element in a Queue | Java","body":"<p>The get-max operation on a queue can be implemented in amortized O(1) time by maintaining the candidates for the max value in a separate double-ended queue (<code>Deque</code>).</p>\n<ul>\n<li>On enqueue (or <code>offer</code>) operation, we check whether there are any elements at the back of the <code>Deque</code> which are lesser in value than the element being enqueued. These values can simply be removed ‚Äì¬†for these can never be the maximum value going forward.</li>\n<li>On dequeue (or <code>poll</code>) operation, we check whether the first element in the <code>Deque</code> is equal to the first element in the regular queue and if yes, remove it too.</li>\n<li>The max element is simply the first element of the <code>Deque</code>.</li>\n</ul>\n<p>All operations have amortized O(1) time complexity.</p>\n<p>Here's an implementation in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QueueWithMax&lt;T extends Comparable&lt;T&gt;&gt; {\n    Queue&lt;T&gt; queue;\n    Deque&lt;T&gt; cMax; // candidates for Max value\n\n    public QueueWithMax() {\n        queue = new LinkedList&lt;&gt;();\n        cMax = new LinkedList&lt;&gt;();\n    }\n\n    public void offer(T element) {\n        queue.offer(element);\n        while (!cMax.isEmpty() &amp;&amp; element.compareTo(cMax.peekLast()) &gt; 0) {\n            cMax.pollLast();\n        }\n        cMax.offerLast(element);\n    }\n\n    public T poll() {\n        if (cMax.peekFirst().equals(queue.peek()))\n            cMax.pollFirst();\n        return queue.poll();\n    }\n\n    public T getMax() {\n        return cMax.peekFirst();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7162105,"reputation":67,"user_id":5472537,"display_name":"Michael Andr&#233; Slimz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11657,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":6,"score":1,"last_activity_date":1641574705,"creation_date":1480459385,"question_id":40877146,"body_markdown":"Is there an alternative way to get the max element in a Queue (Java)? \r\n(Please provide alternative approaches )    \r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class MaxQueueElement&lt;E extends Comparable&lt;E&gt;&gt; {\r\n\t\r\n\t    public MaxQueueElement(Queue&lt;E&gt; queue){\r\n\t\t    E max= queue.peek();   // initialize max with head of queue\r\n\t\t\r\n\t\t    for(E e : queue){\r\n\t\t\t    if(e.compareTo(max) &gt; 0){\r\n\t\t\t\t    max = e;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t   \tSystem.out.println(max);\r\n\t\t\r\n\t }\r\n    }","title":"Get max element in a Queue | Java","body":"<p>Is there an alternative way to get the max element in a Queue (Java)? \n(Please provide alternative approaches )    </p>\n\n<pre><code>import java.util.*;\n\npublic class MaxQueueElement&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    public MaxQueueElement(Queue&lt;E&gt; queue){\n        E max= queue.peek();   // initialize max with head of queue\n\n        for(E e : queue){\n            if(e.compareTo(max) &gt; 0){\n                max = e;\n            }\n        }\n\n    System.out.println(max);\n\n }\n}\n</code></pre>\n"},{"tags":["java","logging","java-8","log4j","log4j2"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1641567397,"post_id":70622847,"comment_id":124844592,"body_markdown":"Hi Please have a look of this thread\nhttps://stackoverflow.com/questions/2288876/how-to-configure-log4j-with-a-properties-file","body":"Hi Please have a look of this thread <a href=\"https://stackoverflow.com/questions/2288876/how-to-configure-log4j-with-a-properties-file\" title=\"how to configure log4j with a properties file\">stackoverflow.com/questions/2288876/&hellip;</a>"},{"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"score":0,"creation_date":1641568577,"post_id":70622847,"comment_id":124845121,"body_markdown":"Hi, that is for log4j 1.x, the code I have is for that and it works fine. What I need is a solution for the same problem on log4j 2.x.","body":"Hi, that is for log4j 1.x, the code I have is for that and it works fine. What I need is a solution for the same problem on log4j 2.x."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641574684,"creation_date":1641574684,"answer_id":70624667,"question_id":70622847,"body_markdown":"To configure Log4j 2.x you need to obtain a [`Configuration`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configuration.html) from a [`ConfigurationFactory`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/ConfigurationFactory.html):\r\n\r\n```lang-java\r\nfinal InputStream is = new ByteArrayInputStream(configString);\r\nfinal LoggerContext context = LoggerContext.getContext(false);\r\nfinal ConfigurationSource source = new ConfigurationSource(is);\r\nfinal Configuration config = new PropertiesConfigurationFactory().getConfiguration(context, source);\r\nConfigurator.reconfigure(config);\r\n```\r\n\r\nThere are two factories named `PropertiesConfigurationFactory`:\r\n\r\n - one that supports the Log4j 2.x configuration syntax:\r\n\r\n   ```lang-java\r\n   import org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory;\r\n   ```\r\n - one that supports (a subset of) the Log4j 1.x configuration syntax:\r\n\r\n   ```lang-java\r\n   import org.apache.log4j.config.PropertiesConfigurationFactory;\r\n   ```\r\n   and requires the [`log4j-1.2-api`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api) dependency.\r\n","title":"How to reconfigure logger (log4j2) with a java.util.Properties object created from a string?","body":"<p>To configure Log4j 2.x you need to obtain a <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configuration.html\" rel=\"nofollow noreferrer\"><code>Configuration</code></a> from a <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/ConfigurationFactory.html\" rel=\"nofollow noreferrer\"><code>ConfigurationFactory</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final InputStream is = new ByteArrayInputStream(configString);\nfinal LoggerContext context = LoggerContext.getContext(false);\nfinal ConfigurationSource source = new ConfigurationSource(is);\nfinal Configuration config = new PropertiesConfigurationFactory().getConfiguration(context, source);\nConfigurator.reconfigure(config);\n</code></pre>\n<p>There are two factories named <code>PropertiesConfigurationFactory</code>:</p>\n<ul>\n<li><p>one that supports the Log4j 2.x configuration syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory;\n</code></pre>\n</li>\n<li><p>one that supports (a subset of) the Log4j 1.x configuration syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.log4j.config.PropertiesConfigurationFactory;\n</code></pre>\n<p>and requires the <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api\" rel=\"nofollow noreferrer\"><code>log4j-1.2-api</code></a> dependency.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641574684,"creation_date":1641566416,"question_id":70622847,"body_markdown":"Migrating from log4j to log4j2. Previously, the following function is called, after creating the Logger object.\r\n```\r\npublic static void getLog4JSettingsFromString(String configString) throws IOException {\r\n\tProperties log4j = new java.util.Properties();\r\n\tlog4j.load(new ByteArrayInputStream(configString.getBytes()));\r\n\tPropertyConfigurator.configure(log4j);\r\n}\r\n```","title":"How to reconfigure logger (log4j2) with a java.util.Properties object created from a string?","body":"<p>Migrating from log4j to log4j2. Previously, the following function is called, after creating the Logger object.</p>\n<pre><code>public static void getLog4JSettingsFromString(String configString) throws IOException {\n    Properties log4j = new java.util.Properties();\n    log4j.load(new ByteArrayInputStream(configString.getBytes()));\n    PropertyConfigurator.configure(log4j);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","junit5"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":1,"creation_date":1641468465,"post_id":70606376,"comment_id":124814224,"body_markdown":"Please include the entire stack trace of a failing test that reports `Fail to load ApplicationContext`.","body":"Please include the entire stack trace of a failing test that reports <code>Fail to load ApplicationContext</code>."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1641473686,"post_id":70606376,"comment_id":124816087,"body_markdown":"For starters stop mixing Spring Boot versions. Your plugin is 2.6 while your starters are 2.5. Never mix versions of a framework. Finally your test simply doesn&#39;t make sense, do you want to use Spring Boot for testing or Mockito? As you now have a test that attempts to use Mockito with Sring Boot (sort of) which won&#39;t work.","body":"For starters stop mixing Spring Boot versions. Your plugin is 2.6 while your starters are 2.5. Never mix versions of a framework. Finally your test simply doesn&#39;t make sense, do you want to use Spring Boot for testing or Mockito? As you now have a test that attempts to use Mockito with Sring Boot (sort of) which won&#39;t work."},{"owner":{"account_id":18559437,"reputation":44,"user_id":13523752,"display_name":"Macdrien"},"score":0,"creation_date":1641543593,"post_id":70606376,"comment_id":124835901,"body_markdown":"Thank you for your help @rieckpil. As you can see on the bottom, I found the solution :-)","body":"Thank you for your help @rieckpil. As you can see on the bottom, I found the solution :-)"},{"owner":{"account_id":18559437,"reputation":44,"user_id":13523752,"display_name":"Macdrien"},"score":0,"creation_date":1641543611,"post_id":70606376,"comment_id":124835905,"body_markdown":"Thank you @M.Deinum for your comments. I didn&#39;t see I had different Spring Boot versions. I&#39;ll fix that in my next commit.","body":"Thank you @M.Deinum for your comments. I didn&#39;t see I had different Spring Boot versions. I&#39;ll fix that in my next commit."}],"answers":[{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641574676,"creation_date":1641492624,"answer_id":70611651,"question_id":70606376,"body_markdown":"For a `@SpringBootTest` you should use `@MockBean` annotation, because the Spring context will load in order to run the tests. The loaded context will create mocked beans from the dependencies being annotated by `@MockBean` and it will inject them into that service, which is being tested.\r\n\r\nFor pure unit tests the `@SpringBootTest` annotation should be skipped and Mockito (`@Mock` annotation) can be used. Spring context will not load in this case, the test will focus on that specific class you are testing. With the created Mocks, you can control the behaviour of dependencies, you can arrange different scenarios for your test.","title":"Fail to load ApplicationContext SpringBoot with SpringSecurity and JUnit Jupiter","body":"<p>For a <code>@SpringBootTest</code> you should use <code>@MockBean</code> annotation, because the Spring context will load in order to run the tests. The loaded context will create mocked beans from the dependencies being annotated by <code>@MockBean</code> and it will inject them into that service, which is being tested.</p>\n<p>For pure unit tests the <code>@SpringBootTest</code> annotation should be skipped and Mockito (<code>@Mock</code> annotation) can be used. Spring context will not load in this case, the test will focus on that specific class you are testing. With the created Mocks, you can control the behaviour of dependencies, you can arrange different scenarios for your test.</p>\n"},{"tags":[],"owner":{"account_id":18559437,"reputation":44,"user_id":13523752,"display_name":"Macdrien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641543169,"creation_date":1641543169,"answer_id":70618339,"question_id":70606376,"body_markdown":"After some other basic researches (how to write tests with junit5 and mockito), I solved my problem myself.\r\n\r\nHere is the answer which helped me: https://stackoverflow.com/a/40962941/13523752\r\n\r\nWhat I wanted is a class test only for the controller I specified. So I didn&#39;t need the `ApplicationContext`. That oriented my research.  \r\n*Note*: I&#39;ll do other test classes to test all the process. In this tests I&#39;ll need the `ApplicationContext`.\r\n\r\nOn my test class, I removed the annotation `@SpringBootTest` to replace it by `@ExtendWith(MockitoExtension.class)`.\r\n\r\nThe next thing I did is in the `@BeforeAll` method I have. I had `MockitoAnnotations.initMocks(MockedUserControllerTests.class)` to load the mocks I annotated.\r\n\r\nNow my test work. I only have to extend this solution on all other mocked test classes.\r\n\r\nA sample of the test class I have now:\r\n\r\n```java\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MockedUserControllerTest {\r\n    @Mock\r\n    UserService service;\r\n\r\n    @InjectMocks\r\n    UserController controller;\r\n\r\n    // ...\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        MockitoAnnotations.initMocks(MockedUserControllerTest.class);\r\n\r\n        // ...\r\n    }\r\n\r\n    // ...\r\n}\r\n```","title":"Fail to load ApplicationContext SpringBoot with SpringSecurity and JUnit Jupiter","body":"<p>After some other basic researches (how to write tests with junit5 and mockito), I solved my problem myself.</p>\n<p>Here is the answer which helped me: <a href=\"https://stackoverflow.com/a/40962941/13523752\">https://stackoverflow.com/a/40962941/13523752</a></p>\n<p>What I wanted is a class test only for the controller I specified. So I didn't need the <code>ApplicationContext</code>. That oriented my research.<br />\n<em>Note</em>: I'll do other test classes to test all the process. In this tests I'll need the <code>ApplicationContext</code>.</p>\n<p>On my test class, I removed the annotation <code>@SpringBootTest</code> to replace it by <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<p>The next thing I did is in the <code>@BeforeAll</code> method I have. I had <code>MockitoAnnotations.initMocks(MockedUserControllerTests.class)</code> to load the mocks I annotated.</p>\n<p>Now my test work. I only have to extend this solution on all other mocked test classes.</p>\n<p>A sample of the test class I have now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\npublic class MockedUserControllerTest {\n    @Mock\n    UserService service;\n\n    @InjectMocks\n    UserController controller;\n\n    // ...\n\n    @BeforeAll\n    public static void beforeAll() {\n        MockitoAnnotations.initMocks(MockedUserControllerTest.class);\n\n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":18559437,"reputation":44,"user_id":13523752,"display_name":"Macdrien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1641574676,"creation_date":1641468220,"question_id":70606376,"body_markdown":"I&#39;m working on a REST API using Spring Boot. Currently, the V1 of the API is complete. So, I&#39;m implementing Spring Security to manage authentication and authorization.  \r\nSince I&#39;ve implemented Spring Security, my JUnit Jupiter tests does not work (no one works).\r\n\r\nI searched a lot a solution on internet, but all answers I found are for JUnit4 and not JUnit5 (so I don&#39;t have all required classes).  \r\nI got the classical &quot;Fail to load ApplicationContext&quot; error, but I don&#39;t know how to solve it.\r\n\r\nCan you help me?\r\n\r\nHere is my code for one class (UserController):\r\n\r\ngradle.build:\r\n```groovy\r\nplugins {\r\n    id &#39;jacoco&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:2.5.6&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools:2.5.6&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.6&#39;\r\n    implementation &#39;com.h2database:h2&#39;\r\n    runtimeOnly &#39;com.h2database:h2&#39;\r\n}\r\n\r\ntest {\r\n    systemProperty &#39;spring.profiles.active&#39;, &#39;test&#39;\r\n    useJUnitPlatform()\r\n    finalizedBy jacocoTestReport\r\n}\r\n```\r\n\r\nApplication:\r\n```java\r\n@SpringBootApplication\r\npublic class BackendApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BackendApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nUserController sample:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/users&quot;)\r\npublic class UserController extends AbstractCrudController&lt;User, Long&gt; {\r\n\r\n    @Autowired\r\n    public UserController(CrudService&lt;User, Long&gt; service) { super(service); }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    @Override\r\n    @Secured({ &quot;ROLE_XXXXX&quot; })\r\n    public ResponseEntity&lt;ResponseListDto&lt;User, Long&gt;&gt; findAll() {\r\n        return super.findAll();\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nMockedUserControllerTest sample:\r\n```java\r\n@SpringBootTest\r\npublic class MockedUserControllerTest {\r\n\r\n    @Mock\r\n    private UserService service;\r\n\r\n    @InjectMocks\r\n    private UserController controller;\r\n\r\n    private static User user;\r\n    private static List&lt;User&gt; users;\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        user = new User();\r\n        user.setId(1L);\r\n        user.setUsername(&quot;A user name&quot;);\r\n        user.setFirstname(&quot;First-Name&quot;);\r\n        user.setLastname(&quot;Last-Name&quot;);\r\n        user.setPassword(&quot;A Gre4t P4ssw0rd!&quot;);\r\n        user.setMail(&quot;first-name.last-name@mail.com&quot;);\r\n        user.setBirthDate(Date.valueOf(&quot;1980-01-15&quot;));\r\n        user.setKey(&quot;A-key&quot;);\r\n        user.setNewsletter(Boolean.TRUE);\r\n\r\n        users = List.of(user);\r\n    }\r\n\r\n    @Test\r\n    public void testFindAll() {\r\n        when(service.findAll()).thenReturn(users);\r\n        assertEquals(new ResponseEntity&lt;&gt;(new ResponseListDto&lt;&gt;(users, null, null), HttpStatus.OK),\r\n                controller.findAll());\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n\r\nThank you in advance for looking my problem.","title":"Fail to load ApplicationContext SpringBoot with SpringSecurity and JUnit Jupiter","body":"<p>I'm working on a REST API using Spring Boot. Currently, the V1 of the API is complete. So, I'm implementing Spring Security to manage authentication and authorization.<br />\nSince I've implemented Spring Security, my JUnit Jupiter tests does not work (no one works).</p>\n<p>I searched a lot a solution on internet, but all answers I found are for JUnit4 and not JUnit5 (so I don't have all required classes).<br />\nI got the classical &quot;Fail to load ApplicationContext&quot; error, but I don't know how to solve it.</p>\n<p>Can you help me?</p>\n<p>Here is my code for one class (UserController):</p>\n<p>gradle.build:</p>\n<pre><code>plugins {\n    id 'jacoco'\n    id 'org.springframework.boot' version '2.6.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.6'\n    implementation 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools:2.5.6'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.6'\n    implementation 'com.h2database:h2'\n    runtimeOnly 'com.h2database:h2'\n}\n\ntest {\n    systemProperty 'spring.profiles.active', 'test'\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n}\n</code></pre>\n<p>Application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class BackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n}\n</code></pre>\n<p>UserController sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1/users&quot;)\npublic class UserController extends AbstractCrudController&lt;User, Long&gt; {\n\n    @Autowired\n    public UserController(CrudService&lt;User, Long&gt; service) { super(service); }\n\n    @GetMapping(&quot;&quot;)\n    @Override\n    @Secured({ &quot;ROLE_XXXXX&quot; })\n    public ResponseEntity&lt;ResponseListDto&lt;User, Long&gt;&gt; findAll() {\n        return super.findAll();\n    }\n\n    // ...\n}\n</code></pre>\n<p>MockedUserControllerTest sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class MockedUserControllerTest {\n\n    @Mock\n    private UserService service;\n\n    @InjectMocks\n    private UserController controller;\n\n    private static User user;\n    private static List&lt;User&gt; users;\n\n    @BeforeAll\n    public static void beforeAll() {\n        user = new User();\n        user.setId(1L);\n        user.setUsername(&quot;A user name&quot;);\n        user.setFirstname(&quot;First-Name&quot;);\n        user.setLastname(&quot;Last-Name&quot;);\n        user.setPassword(&quot;A Gre4t P4ssw0rd!&quot;);\n        user.setMail(&quot;first-name.last-name@mail.com&quot;);\n        user.setBirthDate(Date.valueOf(&quot;1980-01-15&quot;));\n        user.setKey(&quot;A-key&quot;);\n        user.setNewsletter(Boolean.TRUE);\n\n        users = List.of(user);\n    }\n\n    @Test\n    public void testFindAll() {\n        when(service.findAll()).thenReturn(users);\n        assertEquals(new ResponseEntity&lt;&gt;(new ResponseListDto&lt;&gt;(users, null, null), HttpStatus.OK),\n                controller.findAll());\n    }\n\n    //...\n}\n</code></pre>\n<p>Thank you in advance for looking my problem.</p>\n"},{"tags":["java","days","elapsed"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1641573936,"post_id":70624156,"comment_id":124847550,"body_markdown":"But you&#39;re already using methods from the java.time class.","body":"But you&#39;re already using methods from the java.time class."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641574073,"creation_date":1641574073,"answer_id":70624541,"question_id":70624156,"body_markdown":"    public static int daysElapsed(Calendar date) {\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.set(Calendar.YEAR, date.get(Calendar.YEAR));\r\n\t\tcalendar.set(Calendar.DAY_OF_MONTH, 1);\r\n\t\tcalendar.set(Calendar.MONTH, 0);\r\n\t\tcalendar.set(Calendar.HOUR, 0);\r\n\t\tcalendar.set(Calendar.MINUTE, 0);\r\n\t\tcalendar.set(Calendar.SECOND, 0);\r\n\t\t\r\n\t\t\r\n\t\tlong diff = Math.abs(date.getTimeInMillis() - calendar.getTimeInMillis());\r\n\t    \r\n\t\treturn (int) TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\r\n\t}","title":"Java Days elapsed counter from beginning of user specified year","body":"<pre><code>public static int daysElapsed(Calendar date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(Calendar.YEAR, date.get(Calendar.YEAR));\n    calendar.set(Calendar.DAY_OF_MONTH, 1);\n    calendar.set(Calendar.MONTH, 0);\n    calendar.set(Calendar.HOUR, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    \n    \n    long diff = Math.abs(date.getTimeInMillis() - calendar.getTimeInMillis());\n    \n    return (int) TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641574199,"creation_date":1641574199,"answer_id":70624564,"question_id":70624156,"body_markdown":"You&#39;re already  using classses from `java.time`.  So just do the following:\r\n```\r\nString date = &quot;13/01/2008&quot;;\r\nLocalDate ld = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n\r\nSystem.out.println((ld.getDayOfYear()-1) + &quot; days have passed.&quot;);\r\n```\r\nprints\r\n```\r\n12 days have passed.","title":"Java Days elapsed counter from beginning of user specified year","body":"<p>You're already  using classses from <code>java.time</code>.  So just do the following:</p>\n<pre><code>String date = &quot;13/01/2008&quot;;\nLocalDate ld = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n\nSystem.out.println((ld.getDayOfYear()-1) + &quot; days have passed.&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>12 days have passed.\n</code></pre>\n"}],"owner":{"account_id":23683254,"reputation":21,"user_id":17708531,"display_name":"Username3451254"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641574199,"creation_date":1641572102,"question_id":70624156,"body_markdown":"\r\nI am trying to calculate the no. of days elapsed in a year with the year matching the inputted date example:\r\n\r\nIf the user enters 13/01/2008\r\nit will say 12 days have passed since the beginning of the year\r\n\r\n This is my school assignment, Thanks.\r\n\r\nso far I have Taken in the input of date and I want to use that to calculate the no. days elapsed in that year.\r\n\r\n```\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tfinal Locale defaultFormattingLocale\r\n\t\t= Locale.getDefault(Locale.Category.FORMAT);\r\n\t\tfinal String defaultDateFormat = DateTimeFormatterBuilder\r\n\t\t\t\t.getLocalizedDateTimePattern(FormatStyle.SHORT, null, \r\n\t\t\t\t\t\tIsoChronology.INSTANCE, defaultFormattingLocale);\r\n\t\tfinal DateTimeFormatter dateFormatter\r\n\t\t= DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\r\n\r\n\t\tScanner inputScanner = new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;Enter a date in the DD/MM/YYYY Format&quot;);\r\n\t\t\r\n\t\tString dateString = inputScanner.nextLine();\r\n\t\ttry \r\n\t\t{\r\n\t\t\tLocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\r\n\t\t\tSystem.out.println(&quot;Date entered was &quot; + inputDate);\r\n\t\t\r\n\t\t} catch (DateTimeParseException dtpe) \r\n\t\t {\r\n\t\t\tSystem.out.println(&quot;Invalid date - Enter a date in the format DD/MM/YYYY&quot;);\r\n\t\t }\r\n\t}\r\n}\r\n\r\n```\r\n\r\n","title":"Java Days elapsed counter from beginning of user specified year","body":"<p>I am trying to calculate the no. of days elapsed in a year with the year matching the inputted date example:</p>\n<p>If the user enters 13/01/2008\nit will say 12 days have passed since the beginning of the year</p>\n<p>This is my school assignment, Thanks.</p>\n<p>so far I have Taken in the input of date and I want to use that to calculate the no. days elapsed in that year.</p>\n<pre><code>    public static void main(String[] args) \n    {\n        final Locale defaultFormattingLocale\n        = Locale.getDefault(Locale.Category.FORMAT);\n        final String defaultDateFormat = DateTimeFormatterBuilder\n                .getLocalizedDateTimePattern(FormatStyle.SHORT, null, \n                        IsoChronology.INSTANCE, defaultFormattingLocale);\n        final DateTimeFormatter dateFormatter\n        = DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\n\n        Scanner inputScanner = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a date in the DD/MM/YYYY Format&quot;);\n        \n        String dateString = inputScanner.nextLine();\n        try \n        {\n            LocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\n            System.out.println(&quot;Date entered was &quot; + inputDate);\n        \n        } catch (DateTimeParseException dtpe) \n         {\n            System.out.println(&quot;Invalid date - Enter a date in the format DD/MM/YYYY&quot;);\n         }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","scala","akka-persistence"],"comments":[{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":4,"creation_date":1641579389,"post_id":70624546,"comment_id":124849649,"body_markdown":"Scala 2.11 and 2.13 aren&#39;t serialization-compatible. The collections implementations are very different.","body":"Scala 2.11 and 2.13 aren&#39;t serialization-compatible. The collections implementations are very different."},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":1,"creation_date":1641641316,"post_id":70624546,"comment_id":124860611,"body_markdown":"Did you use java serialization? If yes, there is nothing you can do but read our old data with scala 2.11, convert it into &quot;common&quot; format (proto, json, ...), migrate to 2.13 and read the new format of your data. Also, java serialization must not be used. It has security problems, not performant as well as these incompatibility issues","body":"Did you use java serialization? If yes, there is nothing you can do but read our old data with scala 2.11, convert it into &quot;common&quot; format (proto, json, ...), migrate to 2.13 and read the new format of your data. Also, java serialization must not be used. It has security problems, not performant as well as these incompatibility issues"},{"owner":{"account_id":8758549,"reputation":29,"user_id":6549251,"display_name":"Vinny Jones"},"score":0,"creation_date":1641728026,"post_id":70624546,"comment_id":124876550,"body_markdown":"Thank you both SethTisue Ivan Stanislavciuc. Ivan, I am using Akka serialization and deserialization, using akka.serialization.SerializationExtension. Seems like SerializationExtension picks the serializer that have been defined for Custom objects and the custom objects use JavaSerializer. Can say its using Java Serialization","body":"Thank you both SethTisue Ivan Stanislavciuc. Ivan, I am using Akka serialization and deserialization, using akka.serialization.SerializationExtension. Seems like SerializationExtension picks the serializer that have been defined for Custom objects and the custom objects use JavaSerializer. Can say its using Java Serialization"},{"owner":{"account_id":8758549,"reputation":29,"user_id":6549251,"display_name":"Vinny Jones"},"score":0,"creation_date":1641821276,"post_id":70624546,"comment_id":124899142,"body_markdown":"@IvanStanislavciuc Could you please suggest the best way to convert the existing 2.11 persisted data into common format i.e. json and migrate to 2.13?Would be a great help","body":"@IvanStanislavciuc Could you please suggest the best way to convert the existing 2.11 persisted data into common format i.e. json and migrate to 2.13?Would be a great help"},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":1,"creation_date":1641823268,"post_id":70624546,"comment_id":124899979,"body_markdown":"This is basically a migration - pick 2.11 app, use its code to fetch data in deserialized form, serialize it using a new format (that you have to implement because you apparently didn&#39;t have before) and store it somewhere - send it to a new implementation via gRPC, store in DB, post on Kafka or whatever. No shortcuts here. I spend several weeks doing migration between services (writing protobufs, setting up infra, validating results, etc), so sorry but no magic snippet to do this for you.","body":"This is basically a migration - pick 2.11 app, use its code to fetch data in deserialized form, serialize it using a new format (that you have to implement because you apparently didn&#39;t have before) and store it somewhere - send it to a new implementation via gRPC, store in DB, post on Kafka or whatever. No shortcuts here. I spend several weeks doing migration between services (writing protobufs, setting up infra, validating results, etc), so sorry but no magic snippet to do this for you."},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1641823437,"post_id":70624546,"comment_id":124900055,"body_markdown":"totally agree with @MateuszKubuszok. Vinny, also please note that json might be having similiar issues in the future when there are breaking changes introduced into json format. You should consider using format that supports schema evolution, like protocol buffers or avro","body":"totally agree with @MateuszKubuszok. Vinny, also please note that json might be having similiar issues in the future when there are breaking changes introduced into json format. You should consider using format that supports schema evolution, like protocol buffers or avro"}],"owner":{"account_id":8758549,"reputation":29,"user_id":6549251,"display_name":"Vinny Jones"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641574087,"creation_date":1641574087,"question_id":70624546,"body_markdown":"I am working on a akka/scala application and migrating from scala 2.11 to 2.13. There are some persisted objects (persisted using Scala 2.11) that have scala.collection.immutable.List type (defined as target: List[&lt;ClassA&gt;]). \r\nAfter migration to Scala 2.13, at the time of replaying the states and during deserialization its failing with below error \r\n\r\njava.lang.ClassNotFoundException: scala.collection.immutable.List$SerializationProxy\r\n\r\nCould you please help?","title":"Akka persistence deserialization issues for scala List during migration to Scala 2.13 from Scala 2.11","body":"<p>I am working on a akka/scala application and migrating from scala 2.11 to 2.13. There are some persisted objects (persisted using Scala 2.11) that have scala.collection.immutable.List type (defined as target: List[]).\nAfter migration to Scala 2.13, at the time of replaying the states and during deserialization its failing with below error</p>\n<p>java.lang.ClassNotFoundException: scala.collection.immutable.List$SerializationProxy</p>\n<p>Could you please help?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641574061,"creation_date":1641574061,"answer_id":70624539,"question_id":70622825,"body_markdown":"You are using the Scala version of the SparkContext, you can get the Java version like this :\r\n\r\n```\r\nJavaSparkContext.fromSparkContext(sc).broadcast(new HashMap&lt;String, String&gt;());\r\n```\r\n\r\nNo need for a class tag !","title":"how to put HashMap in BroadCast variable?","body":"<p>You are using the Scala version of the SparkContext, you can get the Java version like this :</p>\n<pre><code>JavaSparkContext.fromSparkContext(sc).broadcast(new HashMap&lt;String, String&gt;());\n</code></pre>\n<p>No need for a class tag !</p>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641574061,"creation_date":1641566325,"question_id":70622825,"body_markdown":"I&#39;m trying to put `HashMap` in `BroadCast` Variable, but getting below error\r\n\r\n    The method broadcast(T, ClassTag&lt;T&gt;) in the type SparkContext is not applicable for the arguments (Map&lt;String,String&gt;, ClassTag&lt;HashMap&gt;)\r\n\r\non below code snippet\r\n\r\n    Broadcast&lt;HashMap&lt;String, String&gt;&gt; br = ss.sparkContext().broadcast(mp, classTag(HashMap.class));\r\n\r\n\r\ncomplete code\r\n\r\n            private static &lt;T&gt; ClassTag&lt;T&gt; classTag(Class&lt;T&gt; clazz) {\r\n    \t            return scala.reflect.ClassManifestFactory.fromClass(clazz);\r\n    \t}\r\n    \r\n            Dataset&lt;Row&gt; schema = ss.read().format(&quot;csv&quot;).option(&quot;delimeter&quot;, &quot;,&quot;).option(&quot;header&quot;, &quot;true&quot;)\r\n    \t\t\t\t.option(&quot;quote&quot;, &quot;&quot;).load(&quot;D:\\\\Data\\\\schema.csv&quot;);\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; mp = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \t\tschema.foreach((ForeachFunction&lt;Row&gt;) row -&gt; {\r\n    \t\t\tString[] names = row.schema().fieldNames();\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i&lt; names.length; i++) {\r\n    \t\t\t\tmp.put(names[i], row.getAs(names[i]));\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tBroadcast&lt;HashMap&lt;String, String&gt;&gt; br = ss.sparkContext().broadcast(mp, classTag(HashMap.class));\r\n\r\nAm literally stuck on this. Can anyone suggest what am doing wrong ?\r\n\r\n","title":"how to put HashMap in BroadCast variable?","body":"<p>I'm trying to put <code>HashMap</code> in <code>BroadCast</code> Variable, but getting below error</p>\n<pre><code>The method broadcast(T, ClassTag&lt;T&gt;) in the type SparkContext is not applicable for the arguments (Map&lt;String,String&gt;, ClassTag&lt;HashMap&gt;)\n</code></pre>\n<p>on below code snippet</p>\n<pre><code>Broadcast&lt;HashMap&lt;String, String&gt;&gt; br = ss.sparkContext().broadcast(mp, classTag(HashMap.class));\n</code></pre>\n<p>complete code</p>\n<pre><code>        private static &lt;T&gt; ClassTag&lt;T&gt; classTag(Class&lt;T&gt; clazz) {\n                return scala.reflect.ClassManifestFactory.fromClass(clazz);\n    }\n\n        Dataset&lt;Row&gt; schema = ss.read().format(&quot;csv&quot;).option(&quot;delimeter&quot;, &quot;,&quot;).option(&quot;header&quot;, &quot;true&quot;)\n                .option(&quot;quote&quot;, &quot;&quot;).load(&quot;D:\\\\Data\\\\schema.csv&quot;);\n        \n        Map&lt;String, String&gt; mp = new HashMap&lt;String, String&gt;();\n        \n        schema.foreach((ForeachFunction&lt;Row&gt;) row -&gt; {\n            String[] names = row.schema().fieldNames();\n            \n            for (int i = 0; i&lt; names.length; i++) {\n                mp.put(names[i], row.getAs(names[i]));\n            }\n                \n        });\n        \n        Broadcast&lt;HashMap&lt;String, String&gt;&gt; br = ss.sparkContext().broadcast(mp, classTag(HashMap.class));\n</code></pre>\n<p>Am literally stuck on this. Can anyone suggest what am doing wrong ?</p>\n"},{"tags":["java","android","android-studio","android-layout","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":17523719,"reputation":15,"user_id":12709206,"display_name":"Mr. Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641458439,"creation_date":1641458439,"answer_id":70604474,"question_id":70604128,"body_markdown":"The hint will not show when there is text inside a text field. You can clear text like below:\r\n\r\n    clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                name.setHint(&quot;Enter name&quot;);\r\n                name.setText(&quot;&quot;);\r\n\r\n                mail.setHint(&quot;Enter mail&quot;);\r\n                mail.setText(&quot;&quot;);\r\n\r\n                num.setHint(&quot;Enter num&quot;);\r\n                num.setText(&quot;&quot;);\r\n            }\r\n        });","title":"EditText.setHint doesn&#39;t work when it has content in it","body":"<p>The hint will not show when there is text inside a text field. You can clear text like below:</p>\n<pre><code>clear.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            name.setHint(&quot;Enter name&quot;);\n            name.setText(&quot;&quot;);\n\n            mail.setHint(&quot;Enter mail&quot;);\n            mail.setText(&quot;&quot;);\n\n            num.setHint(&quot;Enter num&quot;);\n            num.setText(&quot;&quot;);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8986264,"reputation":238,"user_id":6699749,"display_name":"ruby6221"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641459392,"creation_date":1641459392,"answer_id":70604642,"question_id":70604128,"body_markdown":"The hint will only show when the content is empty. So you may clear your content  and set hint at the same time.","title":"EditText.setHint doesn&#39;t work when it has content in it","body":"<p>The hint will only show when the content is empty. So you may clear your content  and set hint at the same time.</p>\n"}],"owner":{"account_id":23843487,"reputation":3,"user_id":17848258,"display_name":"Ebinazar Rapalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70604642,"answer_count":2,"score":0,"last_activity_date":1641574052,"creation_date":1641456361,"question_id":70604128,"body_markdown":"I want to add a clear function to a button.\r\nI have written this code:\r\n\r\n    clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                name.setHint(&quot;Enter name&quot;);\r\n                mail.setHint(&quot;Enter mail&quot;);\r\n                num.setHint(&quot;Enter num&quot;);\r\n            }\r\n        });\r\n\r\nIt works when the field is empty but does not if the field has content in it.\r\n\r\nThank you for your time.\r\nIt&#39;s not a TextInputLayout. Works well with EditText.setText .","title":"EditText.setHint doesn&#39;t work when it has content in it","body":"<p>I want to add a clear function to a button.\nI have written this code:</p>\n<pre><code>clear.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            name.setHint(&quot;Enter name&quot;);\n            mail.setHint(&quot;Enter mail&quot;);\n            num.setHint(&quot;Enter num&quot;);\n        }\n    });\n</code></pre>\n<p>It works when the field is empty but does not if the field has content in it.</p>\n<p>Thank you for your time.\nIt's not a TextInputLayout. Works well with EditText.setText .</p>\n"},{"tags":["java","arrays","loops","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":9628867,"reputation":99,"user_id":7147570,"display_name":"Tigin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478914936,"creation_date":1478914936,"answer_id":40558715,"question_id":40558580,"body_markdown":"It looks like your terminating string is `quit`, not `end`. In addition, the reason why it finds erroneous words is because you accept a targetWord even if only one character matches.\r\n\r\n    public void checkRight()\r\n    {\r\n        for(int i = 1; i &lt; (targetWord.length()); i++)\r\n        {\r\n            if(colLocation + i &gt; array.length - 1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            else if(array[rowLocation][colLocation + i] == targetWord.charAt(i))\r\n            {\r\n                System.out.println(targetWord + &quot; found horizontally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThat is, if `array[rowLocation][colLocation+i] == targetWord.charAt(i)`, then you automatically accept this word. This is not correct, because you have to check that all letters match at every position.\r\n","title":"Java: 2D char array search","body":"<p>It looks like your terminating string is <code>quit</code>, not <code>end</code>. In addition, the reason why it finds erroneous words is because you accept a targetWord even if only one character matches.</p>\n\n<pre><code>public void checkRight()\n{\n    for(int i = 1; i &lt; (targetWord.length()); i++)\n    {\n        if(colLocation + i &gt; array.length - 1)\n        {\n            return;\n        }\n\n        else if(array[rowLocation][colLocation + i] == targetWord.charAt(i))\n        {\n            System.out.println(targetWord + \" found horizontally at row \" + rowLocation + \" and column \" + colLocation);\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n\n<p>That is, if <code>array[rowLocation][colLocation+i] == targetWord.charAt(i)</code>, then you automatically accept this word. This is not correct, because you have to check that all letters match at every position.</p>\n"},{"tags":[],"owner":{"account_id":5304121,"reputation":1,"user_id":4232696,"display_name":"SRD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641573750,"creation_date":1641573750,"answer_id":70624468,"question_id":40558580,"body_markdown":"Modified it little bit to handle all conditions.\r\n```\r\npublic class WordSearch\r\n{\r\n\r\n\r\n    public static void compareFirst(char array[][], String targetWord)\r\n    {\r\n        for (int row = 0; row &lt; array.length; row++)\r\n        {\r\n            for (int col = 0; col &lt; array[row].length; col++)\r\n            {\r\n                if(array[row][col] == targetWord.charAt(0))\r\n                {\r\n\r\n                    suspectAnalysis(array, row, col, targetWord);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void suspectAnalysis(char array[][], int rowLocation, int colLocation, String targetWord)\r\n    {\r\n        checkRight(array, rowLocation, colLocation, targetWord);\r\n        checkDown(array, rowLocation,  colLocation,  targetWord);\r\n        checkDiagonal(array, rowLocation,  colLocation, targetWord);\r\n    }\r\n\r\n\r\n    public static void checkRight(char array[][], int rowLocation, int colLocation, String targetWord)\r\n    {\r\n        for(int i = 1; i &lt; (targetWord.length()); i++)\r\n        {\r\n            if(colLocation + i &gt; array[0].length - 1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            else if(array[rowLocation][colLocation + i] != targetWord.charAt(i))\r\n            {\r\n               return;\r\n            }\r\n            \r\n        }\r\n        System.out.println(targetWord + &quot; found horizontally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n        System.out.println();\r\n\r\n        return;\r\n\r\n    }\r\n\r\n\r\n    public static void checkDown(char array[][],int rowLocation, int colLocation, String targetWord)\r\n    {\r\n        for(int i = 1; i &lt; (targetWord.length()); i++)\r\n        {\r\n            if(rowLocation + i &gt;= array.length - 1)\r\n            {\r\n                return;\r\n            }\r\n            else if(array[rowLocation + i][colLocation] != targetWord.charAt(i))\r\n            {\r\n                return;\r\n            }\r\n        }\r\n        System.out.println(targetWord + &quot; found vertically at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n        System.out.println();          \r\n    }\r\n\r\n    public static void checkDiagonal(char array[][], int rowLocation, int colLocation, String targetWord)\r\n    {\r\n        for(int i = 1; i &lt; (targetWord.length()); i++)\r\n        {\r\n            if(colLocation + i &gt; array[0].length - 1 || rowLocation + i &gt; array.length - 1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            else if(array[rowLocation + i][colLocation + i] != targetWord.charAt(i))\r\n            {\r\n                return;\r\n            }\r\n        }\r\n        System.out.println(targetWord + &quot; found diagonally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n        System.out.println();\r\n    }\r\n    \r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\r\n\t\tchar array [][] = {\r\n\t\t\t\t{&#39;D&#39;,\t&#39;D&#39;\t,   &#39;D&#39;,\t&#39;O&#39;\t,   &#39;G&#39;},\r\n\t\t\t\t{&#39;C&#39;,\t&#39;O&#39;,\t&#39;G&#39;,\t&#39;O&#39;,\t&#39;D&#39;},\r\n\t\t\t\t{&#39;C&#39;,\t&#39;A&#39;,\t&#39;G&#39;,\t&#39;K&#39;,\t&#39;M&#39;},\r\n\t\t\t\t{&#39;Z&#39;,\t&#39;A&#39;,\t&#39;T&#39;,\t&#39;Y&#39;,\t&#39;L&#39;},\r\n\t\t\t\t{&#39;X&#39;,\t&#39;C&#39;,\t&#39;T&#39;,\t&#39;N&#39;,\t&#39;N&#39;}\r\n\t\t\t};\r\n\t\t \r\n\t\t \r\n\r\n\t\t  compareFirst(array, &quot;DDOG&quot;);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\n```","title":"Java: 2D char array search","body":"<p>Modified it little bit to handle all conditions.</p>\n<pre><code>public class WordSearch\n{\n\n\n    public static void compareFirst(char array[][], String targetWord)\n    {\n        for (int row = 0; row &lt; array.length; row++)\n        {\n            for (int col = 0; col &lt; array[row].length; col++)\n            {\n                if(array[row][col] == targetWord.charAt(0))\n                {\n\n                    suspectAnalysis(array, row, col, targetWord);\n                }\n            }\n        }\n    }\n\n    public static void suspectAnalysis(char array[][], int rowLocation, int colLocation, String targetWord)\n    {\n        checkRight(array, rowLocation, colLocation, targetWord);\n        checkDown(array, rowLocation,  colLocation,  targetWord);\n        checkDiagonal(array, rowLocation,  colLocation, targetWord);\n    }\n\n\n    public static void checkRight(char array[][], int rowLocation, int colLocation, String targetWord)\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(colLocation + i &gt; array[0].length - 1)\n            {\n                return;\n            }\n\n            else if(array[rowLocation][colLocation + i] != targetWord.charAt(i))\n            {\n               return;\n            }\n            \n        }\n        System.out.println(targetWord + &quot; found horizontally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\n        System.out.println();\n\n        return;\n\n    }\n\n\n    public static void checkDown(char array[][],int rowLocation, int colLocation, String targetWord)\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(rowLocation + i &gt;= array.length - 1)\n            {\n                return;\n            }\n            else if(array[rowLocation + i][colLocation] != targetWord.charAt(i))\n            {\n                return;\n            }\n        }\n        System.out.println(targetWord + &quot; found vertically at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\n        System.out.println();          \n    }\n\n    public static void checkDiagonal(char array[][], int rowLocation, int colLocation, String targetWord)\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(colLocation + i &gt; array[0].length - 1 || rowLocation + i &gt; array.length - 1)\n            {\n                return;\n            }\n\n            else if(array[rowLocation + i][colLocation + i] != targetWord.charAt(i))\n            {\n                return;\n            }\n        }\n        System.out.println(targetWord + &quot; found diagonally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\n        System.out.println();\n    }\n    \n\n\n    public static void main(String[] args) {\n        \n\n        char array [][] = {\n                {'D',   'D' ,   'D',    'O' ,   'G'},\n                {'C',   'O',    'G',    'O',    'D'},\n                {'C',   'A',    'G',    'K',    'M'},\n                {'Z',   'A',    'T',    'Y',    'L'},\n                {'X',   'C',    'T',    'N',    'N'}\n            };\n         \n         \n\n          compareFirst(array, &quot;DDOG&quot;);\n        \n        \n        \n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":5482644,"reputation":325,"user_id":6023879,"accept_rate":52,"display_name":"Bluasul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641573750,"creation_date":1478913510,"question_id":40558580,"body_markdown":"I&#39;m doing a word search program and I think I&#39;m close to figuring it out, but I still have a few problems. My program reads in a text file made up of rows and columns of letters and turns it into a 2d char array into a separate class. This is my actual word search class:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class WordSearch\r\n    {\r\n        private char[][] array;\r\n        private String targetWord;\r\n        private int rowLocation;\r\n        private int colLocation;\r\n\r\n        public WordSearch(char[][] inArray)\r\n        {\r\n            array = inArray;\r\n        }\r\n\r\n        public void play()\r\n        {\r\n            do{\r\n                for (int row = 0; row &lt; array.length; row++)\r\n                {\r\n                    for (int col = 0; col &lt; array[row].length; col++)\r\n                    {\r\n                        System.out.print(array[row][col]);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n\r\n                System.out.println();\r\n                Scanner input = new Scanner(System.in); \r\n                System.out.println(&quot;What word would you like to search for? Type end to quit: &quot;);\r\n                targetWord = input.nextLine();\r\n                System.out.println(&quot;Typed in: &quot; + targetWord);\r\n                System.out.println();\r\n\r\n                compareFirst(targetWord);\r\n            } while (!targetWord.equals(&quot;end&quot;));\r\n\r\n        }\r\n\r\n        public void compareFirst(String inWord)\r\n        {\r\n            for (int row = 0; row &lt; array.length; row++)\r\n            {\r\n                for (int col = 0; col &lt; array[row].length; col++)\r\n                {\r\n                    if(array[row][col] == inWord.charAt(0))\r\n                    {\r\n                    \r\n                        rowLocation = row;\r\n                        colLocation = col;\r\n\r\n                        suspectAnalysis();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void suspectAnalysis()\r\n        {\r\n            checkRight();\r\n            checkDown();\r\n            checkDiagonal();\r\n        }\r\n    \r\n    \r\n        public void checkRight()\r\n        {\r\n            for(int i = 1; i &lt; (targetWord.length()); i++)\r\n            {\r\n                if(colLocation + i &gt; array[0].length - 1)\r\n                {\r\n                    return;\r\n                }\r\n\r\n                else if(array[rowLocation][colLocation + i] != targetWord.charAt(i))\r\n                {\r\n                   return;\r\n                }\r\n            }\r\n            System.out.println(targetWord + &quot; found horizontally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n            System.out.println();\r\n        \r\n            return;\r\n\r\n        }\r\n    \r\n    \r\n        public void checkDown()\r\n        {\r\n            for(int i = 1; i &lt; (targetWord.length()); i++)\r\n            {\r\n                if(rowLocation + i &gt; array.length - 1 &amp;&amp; colLocation + i &gt; array[0].length - 1)\r\n                {\r\n                    return;\r\n                }\r\n                else if(array[rowLocation + i][colLocation] != targetWord.charAt(i))\r\n                {\r\n                    return;\r\n                }\r\n            }\r\n            System.out.println(targetWord + &quot; found vertically at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n            System.out.println();          \r\n        }\r\n    \r\n        public void checkDiagonal()\r\n        {\r\n            for(int i = 1; i &lt; (targetWord.length()); i++)\r\n            {\r\n                if(colLocation + i &gt; array[0].length - 1 || rowLocation + i &gt; array.length - 1)\r\n                {\r\n                    return;\r\n                }\r\n\r\n                else if(array[rowLocation + i][colLocation + i] != targetWord.charAt(i))\r\n                {\r\n                    return;\r\n                }\r\n            }\r\n            System.out.println(targetWord + &quot; found diagonally at row &quot; + rowLocation + &quot; and column &quot; + colLocation);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nSo, it usually manages to find words in all three directions, but also &quot;finds&quot; words when it finds the first letter and any other letter after it. It also finds the word &quot;end&quot;, which is supposed to terminate the do-while loop, so it just ends up being an infinite loop. Sometimes even if a word can be found both horizontally and vertically, the program only says it&#39;s found horizontally. Also, in some cases it prints out where the word was found two times.\r\n\r\nAny help figuring out what&#39;s wrong would be greatly appreciated. Thanks!\r\n","title":"Java: 2D char array search","body":"<p>I'm doing a word search program and I think I'm close to figuring it out, but I still have a few problems. My program reads in a text file made up of rows and columns of letters and turns it into a 2d char array into a separate class. This is my actual word search class:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class WordSearch\n{\n    private char[][] array;\n    private String targetWord;\n    private int rowLocation;\n    private int colLocation;\n\n    public WordSearch(char[][] inArray)\n    {\n        array = inArray;\n    }\n\n    public void play()\n    {\n        do{\n            for (int row = 0; row &lt; array.length; row++)\n            {\n                for (int col = 0; col &lt; array[row].length; col++)\n                {\n                    System.out.print(array[row][col]);\n                }\n                System.out.println();\n            }\n\n            System.out.println();\n            Scanner input = new Scanner(System.in); \n            System.out.println(\"What word would you like to search for? Type end to quit: \");\n            targetWord = input.nextLine();\n            System.out.println(\"Typed in: \" + targetWord);\n            System.out.println();\n\n            compareFirst(targetWord);\n        } while (!targetWord.equals(\"end\"));\n\n    }\n\n    public void compareFirst(String inWord)\n    {\n        for (int row = 0; row &lt; array.length; row++)\n        {\n            for (int col = 0; col &lt; array[row].length; col++)\n            {\n                if(array[row][col] == inWord.charAt(0))\n                {\n\n                    rowLocation = row;\n                    colLocation = col;\n\n                    suspectAnalysis();\n                }\n            }\n        }\n    }\n\n    public void suspectAnalysis()\n    {\n        checkRight();\n        checkDown();\n        checkDiagonal();\n    }\n\n\n    public void checkRight()\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(colLocation + i &gt; array[0].length - 1)\n            {\n                return;\n            }\n\n            else if(array[rowLocation][colLocation + i] != targetWord.charAt(i))\n            {\n               return;\n            }\n        }\n        System.out.println(targetWord + \" found horizontally at row \" + rowLocation + \" and column \" + colLocation);\n        System.out.println();\n\n        return;\n\n    }\n\n\n    public void checkDown()\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(rowLocation + i &gt; array.length - 1 &amp;&amp; colLocation + i &gt; array[0].length - 1)\n            {\n                return;\n            }\n            else if(array[rowLocation + i][colLocation] != targetWord.charAt(i))\n            {\n                return;\n            }\n        }\n        System.out.println(targetWord + \" found vertically at row \" + rowLocation + \" and column \" + colLocation);\n        System.out.println();          \n    }\n\n    public void checkDiagonal()\n    {\n        for(int i = 1; i &lt; (targetWord.length()); i++)\n        {\n            if(colLocation + i &gt; array[0].length - 1 || rowLocation + i &gt; array.length - 1)\n            {\n                return;\n            }\n\n            else if(array[rowLocation + i][colLocation + i] != targetWord.charAt(i))\n            {\n                return;\n            }\n        }\n        System.out.println(targetWord + \" found diagonally at row \" + rowLocation + \" and column \" + colLocation);\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>So, it usually manages to find words in all three directions, but also \"finds\" words when it finds the first letter and any other letter after it. It also finds the word \"end\", which is supposed to terminate the do-while loop, so it just ends up being an infinite loop. Sometimes even if a word can be found both horizontally and vertically, the program only says it's found horizontally. Also, in some cases it prints out where the word was found two times.</p>\n\n<p>Any help figuring out what's wrong would be greatly appreciated. Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1348480809,"post_id":12562680,"comment_id":16922328,"body_markdown":"Whats the error facing you are please update it here?","body":"Whats the error facing you are please update it here?"},{"owner":{"account_id":100506,"reputation":2104,"user_id":270899,"accept_rate":0,"display_name":"Dilip Godhani"},"score":0,"creation_date":1348480828,"post_id":12562680,"comment_id":16922339,"body_markdown":"http://webmuch.com/image-flip-using-jquery/","body":"<a href=\"http://webmuch.com/image-flip-using-jquery/\" rel=\"nofollow noreferrer\">webmuch.com/image-flip-using-jquery</a>"},{"owner":{"account_id":1540097,"reputation":41,"user_id":1434973,"display_name":"Judy Tran"},"score":0,"creation_date":1348480933,"post_id":12562680,"comment_id":16922375,"body_markdown":"the error I am facing is&quot; unreported exception java.io.IException; must be caught or declared to be thrown&quot; @Stranger","body":"the error I am facing is&quot; unreported exception java.io.IException; must be caught or declared to be thrown&quot; @Stranger"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1348483442,"post_id":12562680,"comment_id":16923370,"body_markdown":"If you want a simple solution take a look at http://stackoverflow.com/questions/11911610/affinetransform-rotate-how-do-i-xlate-rotate-and-scale-at-the-same-time/11911758#11911758, basically it uses a method of negative scaling which results in the image been flipped","body":"If you want a simple solution take a look at <a href=\"http://stackoverflow.com/questions/11911610/affinetransform-rotate-how-do-i-xlate-rotate-and-scale-at-the-same-time/11911758#11911758\" title=\"affinetransform rotate how do i xlate rotate and scale at the same time\">stackoverflow.com/questions/11911610/&hellip;</a>, basically it uses a method of negative scaling which results in the image been flipped"}],"answers":[{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348481710,"creation_date":1348481710,"answer_id":12562953,"question_id":12562680,"body_markdown":"The function mirrorUpDown() , add a throws IOException there.\r\n\r\nAlso the function from which you are calling these methods, does that handle exception, does that code enclosed in a try catch block or the function is also set to throw IOException (one of either should be there)","title":"How to flip an image horizontally","body":"<p>The function mirrorUpDown() , add a throws IOException there.</p>\n\n<p>Also the function from which you are calling these methods, does that handle exception, does that code enclosed in a try catch block or the function is also set to throw IOException (one of either should be there)</p>\n"},{"tags":[],"owner":{"account_id":1820264,"reputation":332,"user_id":1654483,"display_name":"Alix Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348483195,"creation_date":1348483195,"answer_id":12563346,"question_id":12562680,"body_markdown":"How is your image supposed to know it should get it&#39;s data from imageArray ?\r\n\r\ninstead, you should access the raster of your image and modify the data in it.\r\n\r\n    void flip(BufferedImage image) {\r\n\t    \t WritableRaster raster = image.getRaster();\r\n\t    \t int h = raster.getHeight();\r\n\t    \t int w = raster.getWidth();\r\n\t    \t int x0 = raster.getMinX();\r\n\t    \t int y0 = raster.getMinY();\r\n\t    \t for (int x = x0; x &lt; x0 + w; x++){\r\n\t    \t\t for (int y = y0; y &lt; y0 + h / 2; y++){\r\n\t    \t\t\t int[] pix1 = new int[3];\r\n\t    \t\t\t pix1 = raster.getPixel(x, y, pix1);\r\n\t    \t\t\t int[] pix2 = new int[3];\r\n\t    \t\t\t pix2 = raster.getPixel(x, y0 + h - 1 - (y - y0), pix2);\r\n\t    \t\t\t raster.setPixel(x, y, pix2);\r\n\t    \t\t\t raster.setPixel(x, y0 + h - 1 - (y - y0), pix1);\r\n\t    \t\t }\r\n\t    \t }\r\n\t    \t return;\r\n\t\t}","title":"How to flip an image horizontally","body":"<p>How is your image supposed to know it should get it's data from imageArray ?</p>\n\n<p>instead, you should access the raster of your image and modify the data in it.</p>\n\n<pre><code>void flip(BufferedImage image) {\n         WritableRaster raster = image.getRaster();\n         int h = raster.getHeight();\n         int w = raster.getWidth();\n         int x0 = raster.getMinX();\n         int y0 = raster.getMinY();\n         for (int x = x0; x &lt; x0 + w; x++){\n             for (int y = y0; y &lt; y0 + h / 2; y++){\n                 int[] pix1 = new int[3];\n                 pix1 = raster.getPixel(x, y, pix1);\n                 int[] pix2 = new int[3];\n                 pix2 = raster.getPixel(x, y0 + h - 1 - (y - y0), pix2);\n                 raster.setPixel(x, y, pix2);\n                 raster.setPixel(x, y0 + h - 1 - (y - y0), pix1);\n             }\n         }\n         return;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691630,"reputation":1824,"user_id":2324832,"display_name":"Richard Kenneth Niescior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398039567,"creation_date":1387372224,"answer_id":20659147,"question_id":12562680,"body_markdown":"Sorry about posting this here over a year later but it should aid someone at a stage\r\n     \r\n       try{\r\n       java.awt.image.BufferedImage bi = javax.imageio.ImageIO.read(getClass().getResource(&quot;Your image bro.jpg&quot;)) ;\r\n     int[] h = bi.getRGB(0, 0, bi.getWidth(), bi.getHeight(), null, 0, bi.getWidth());\r\n     int [] h1 = new int[h.length];\r\n     System.out.println(&quot;&quot;+h.length);\r\n      for(int j = 0;500&gt;j;j++){\r\n       for(int i = 500;i&gt;0;i--){\r\n             h1[j*500+(500-i)] = h[(j*500)+(i-1)];\r\n       }\r\n      }\r\n     bi.setRGB(0, 0, bi.getWidth(), bi.getHeight(), h1, 0, bi.getWidth());\r\n          }\r\n          catch(Exception e){e.printStackTrace();}\r\n\r\n\r\nLets break the code down\r\n\r\n\r\n    java.awt.image.BufferedImage bi =javax.imageio.ImageIO.read(getClass().getResource(&quot;Your image bro.jpg&quot;));\r\n\r\nTries to read the image and stores the read image into the BufferedImage variable bi\r\n\r\n      int[] h = bi.getRGB(0, 0, bi.getWidth(), bi.getHeight(), null, 0, bi.getWidth());\r\n      int [] h1 = new int[h.length];\r\n instantiate two arrays, h is the original RGB Array and h1 will be the horizontally flipped RGB array.\r\n\r\n    for(int j = 0;500&gt;j;j++){\r\n     for(int i = 500;i&gt;0;i--){\r\n      h1[j*500+(500-i)] = h[(j*500)+(i-1)];\r\n     }\r\n    }\r\nLets look at something in particular more closely\r\n\r\n      h1[j*500+(500-i)] = h[(j*500)+(i-1)];\r\n\r\n[the axis]: http://imgur.com/pxHRg3J.png &quot;The two axis&quot;\r\n\r\nImages are scanned from position 0;0 to x.length;y.length\r\nbut it is scanned in a coninual array. Thus we use a psuedo-array to manipulate the flipping of the image. j*500 references the Y values and (500-i) references the x values.\r\n\r\n     bi.setRGB(0, 0, bi.getWidth(), bi.getHeight(), h1, 0, bi.getWidth());\r\nFinally, the image gets stored back into the BufferedImage variable.\r\n\r\nNote that the 500 constant is referencing your x resolution of the image. For example, 1920 x 1080 sized image uses a max value of 1920. The logic is yours to decide.","title":"How to flip an image horizontally","body":"<p>Sorry about posting this here over a year later but it should aid someone at a stage</p>\n\n<pre><code>   try{\n   java.awt.image.BufferedImage bi = javax.imageio.ImageIO.read(getClass().getResource(\"Your image bro.jpg\")) ;\n int[] h = bi.getRGB(0, 0, bi.getWidth(), bi.getHeight(), null, 0, bi.getWidth());\n int [] h1 = new int[h.length];\n System.out.println(\"\"+h.length);\n  for(int j = 0;500&gt;j;j++){\n   for(int i = 500;i&gt;0;i--){\n         h1[j*500+(500-i)] = h[(j*500)+(i-1)];\n   }\n  }\n bi.setRGB(0, 0, bi.getWidth(), bi.getHeight(), h1, 0, bi.getWidth());\n      }\n      catch(Exception e){e.printStackTrace();}\n</code></pre>\n\n<p>Lets break the code down</p>\n\n<pre><code>java.awt.image.BufferedImage bi =javax.imageio.ImageIO.read(getClass().getResource(\"Your image bro.jpg\"));\n</code></pre>\n\n<p>Tries to read the image and stores the read image into the BufferedImage variable bi</p>\n\n<pre><code>  int[] h = bi.getRGB(0, 0, bi.getWidth(), bi.getHeight(), null, 0, bi.getWidth());\n  int [] h1 = new int[h.length];\n</code></pre>\n\n<p>instantiate two arrays, h is the original RGB Array and h1 will be the horizontally flipped RGB array.</p>\n\n<pre><code>for(int j = 0;500&gt;j;j++){\n for(int i = 500;i&gt;0;i--){\n  h1[j*500+(500-i)] = h[(j*500)+(i-1)];\n }\n}\n</code></pre>\n\n<p>Lets look at something in particular more closely</p>\n\n<pre><code>  h1[j*500+(500-i)] = h[(j*500)+(i-1)];\n</code></pre>\n\n<p>Images are scanned from position 0;0 to x.length;y.length\nbut it is scanned in a coninual array. Thus we use a psuedo-array to manipulate the flipping of the image. j*500 references the Y values and (500-i) references the x values.</p>\n\n<pre><code> bi.setRGB(0, 0, bi.getWidth(), bi.getHeight(), h1, 0, bi.getWidth());\n</code></pre>\n\n<p>Finally, the image gets stored back into the BufferedImage variable.</p>\n\n<p>Note that the 500 constant is referencing your x resolution of the image. For example, 1920 x 1080 sized image uses a max value of 1920. The logic is yours to decide.</p>\n"},{"tags":[],"owner":{"account_id":8530920,"reputation":31,"user_id":6394637,"display_name":"eProw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590619341,"creation_date":1504550280,"answer_id":46042551,"question_id":12562680,"body_markdown":"I&#39;d actually do it by this way...\r\n\r\n        BufferedImage flip(BufferedImage sprite){\r\n            BufferedImage img = new BufferedImage(sprite.getWidth(),sprite.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n            for(int xx = sprite.getWidth()-1;xx&gt;0;xx--){\r\n                for(int yy = 0;yy &lt; sprite.getHeight();yy++){\r\n                    img.setRGB(sprite.getWidth()-xx, yy, sprite.getRGB(xx, yy));\r\n                }\r\n            }\r\n        return img;\r\n    }\r\n\r\nJust a loop whose x starts at the end of the first image and places its rgba value on the flipped position of the second image. Clean, easy code :)\r\n","title":"How to flip an image horizontally","body":"<p>I'd actually do it by this way...</p>\n\n<pre><code>    BufferedImage flip(BufferedImage sprite){\n        BufferedImage img = new BufferedImage(sprite.getWidth(),sprite.getHeight(),BufferedImage.TYPE_INT_ARGB);\n        for(int xx = sprite.getWidth()-1;xx&gt;0;xx--){\n            for(int yy = 0;yy &lt; sprite.getHeight();yy++){\n                img.setRGB(sprite.getWidth()-xx, yy, sprite.getRGB(xx, yy));\n            }\n        }\n    return img;\n}\n</code></pre>\n\n<p>Just a loop whose x starts at the end of the first image and places its rgba value on the flipped position of the second image. Clean, easy code :)</p>\n"}],"owner":{"account_id":1540097,"reputation":41,"user_id":1434973,"display_name":"Judy Tran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18902,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1641573577,"creation_date":1348480707,"question_id":12562680,"body_markdown":"HiI was wondering how to flip and image horizontally, for a practce task I was given a code that reads an image, inverting it to an image indicating it&#39;s brightness from 0-5, I had to flip an image.\r\n\r\nThis is my code of my reading an image and drawing it \r\n\r\n    public int[][] readImage(String url) throws IOException\r\n    {\r\n        // fetch the image\r\n        BufferedImage img = ImageIO.read(new URL(url));\r\n\r\n        // create the array to match the dimensions of the image\r\n        int width = img.getWidth();\r\n        int height = img.getHeight();\r\n        int[][] imageArray = new int[width][height];\r\n\r\n        // convert the pixels of the image into brightness values\r\n        for (int x = 0; x &lt; width; x++)\r\n        {\r\n            for (int y = 0; y &lt; height; y++)\r\n            {\r\n                // get the pixel at (x,y) \r\n\r\n                int rgb = img.getRGB(x,y);\r\n                Color c = new Color(rgb);\r\n                int red = c.getRed();\r\n                int green = c.getGreen();\r\n                int blue = c.getBlue();\r\n\r\n                // convert to greyscale\r\n                float[] hsb = Color.RGBtoHSB(red, green, blue, null);                \r\n                int brightness = (int)Math.round(hsb[2] * (PIXEL_CHARS.length - 1));\r\n\r\n                imageArray[x][y] = brightness;\r\n            }\r\n        }\r\n        return imageArray;\r\n    }\r\n\r\n    public void draw() throws IOException\r\n    {\r\n        int[][] array = readImage(&quot;http://sfpl.org/images/graphics/chicklets/google-small.png&quot;);\r\n        for(int i=0; i&lt;array.length; i++)\r\n        {\r\n            for(int pic=0; pic&lt;array[i].length; pic++)\r\n            {\r\n                if(array[pic][i] == 0)\r\n                {\r\n                    System.out.print(&quot;X&quot;);\r\n                }\r\n                else if(array[pic][i] == 1)\r\n                {\r\n                    System.out.print(&quot;8&quot;);\r\n                }\r\n\r\n                else if(array[pic][i] == 2)\r\n                {\r\n                    System.out.print(&quot;0&quot;);\r\n                }       \r\n\r\n                else if(array[pic][i] == 3)\r\n                {\r\n                    System.out.print(&quot;:&quot;);\r\n                }\r\n\r\n                else if(array[pic][i] == 4)\r\n                {\r\n                    System.out.print(&quot;.&quot;);\r\n                }\r\n\r\n                else if (array[pic][i] == 5)\r\n                {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n\r\n                else \r\n                {\r\n                    System.out.print(&quot;error&quot;);\r\n                    break;\r\n                }   \r\n\r\n            }\r\n            System.out.println();\r\n        }\r\n    }    \r\n\r\nand this is the code I tried to create to horizontally flip it,\r\n\r\n    void mirrorUpDown()\r\n    {\r\n        int[][] array = readImage(&quot;http://sfpl.org/images/graphics/chicklets/google-small.png&quot;);\r\n        int i = 0;\r\n\r\n        for (int x = 0; x &lt; array.length; x++)\r\n        {\r\n            for (int y = 0; y &lt; array[i].length; y++)\r\n            {{\r\n                    int temp = array[x][y]; \r\n                    array[x][y]= array[-x][y]; \r\n                    array[array[i].length-x][y]=temp;\r\n                }\r\n            }\r\n        }\r\n\r\n    }    \r\n\r\nI get an error\r\n\r\n     unreported exception java.io.IException;\r\n     must be caught or declared to be thrown\r\n","title":"How to flip an image horizontally","body":"<p>HiI was wondering how to flip and image horizontally, for a practce task I was given a code that reads an image, inverting it to an image indicating it's brightness from 0-5, I had to flip an image.</p>\n<p>This is my code of my reading an image and drawing it</p>\n<pre><code>public int[][] readImage(String url) throws IOException\n{\n    // fetch the image\n    BufferedImage img = ImageIO.read(new URL(url));\n\n    // create the array to match the dimensions of the image\n    int width = img.getWidth();\n    int height = img.getHeight();\n    int[][] imageArray = new int[width][height];\n\n    // convert the pixels of the image into brightness values\n    for (int x = 0; x &lt; width; x++)\n    {\n        for (int y = 0; y &lt; height; y++)\n        {\n            // get the pixel at (x,y) \n\n            int rgb = img.getRGB(x,y);\n            Color c = new Color(rgb);\n            int red = c.getRed();\n            int green = c.getGreen();\n            int blue = c.getBlue();\n\n            // convert to greyscale\n            float[] hsb = Color.RGBtoHSB(red, green, blue, null);                \n            int brightness = (int)Math.round(hsb[2] * (PIXEL_CHARS.length - 1));\n\n            imageArray[x][y] = brightness;\n        }\n    }\n    return imageArray;\n}\n\npublic void draw() throws IOException\n{\n    int[][] array = readImage(&quot;http://sfpl.org/images/graphics/chicklets/google-small.png&quot;);\n    for(int i=0; i&lt;array.length; i++)\n    {\n        for(int pic=0; pic&lt;array[i].length; pic++)\n        {\n            if(array[pic][i] == 0)\n            {\n                System.out.print(&quot;X&quot;);\n            }\n            else if(array[pic][i] == 1)\n            {\n                System.out.print(&quot;8&quot;);\n            }\n\n            else if(array[pic][i] == 2)\n            {\n                System.out.print(&quot;0&quot;);\n            }       \n\n            else if(array[pic][i] == 3)\n            {\n                System.out.print(&quot;:&quot;);\n            }\n\n            else if(array[pic][i] == 4)\n            {\n                System.out.print(&quot;.&quot;);\n            }\n\n            else if (array[pic][i] == 5)\n            {\n                System.out.print(&quot; &quot;);\n            }\n\n            else \n            {\n                System.out.print(&quot;error&quot;);\n                break;\n            }   \n\n        }\n        System.out.println();\n    }\n}    \n</code></pre>\n<p>and this is the code I tried to create to horizontally flip it,</p>\n<pre><code>void mirrorUpDown()\n{\n    int[][] array = readImage(&quot;http://sfpl.org/images/graphics/chicklets/google-small.png&quot;);\n    int i = 0;\n\n    for (int x = 0; x &lt; array.length; x++)\n    {\n        for (int y = 0; y &lt; array[i].length; y++)\n        {{\n                int temp = array[x][y]; \n                array[x][y]= array[-x][y]; \n                array[array[i].length-x][y]=temp;\n            }\n        }\n    }\n\n}    \n</code></pre>\n<p>I get an error</p>\n<pre><code> unreported exception java.io.IException;\n must be caught or declared to be thrown\n</code></pre>\n"},{"tags":["java","android-studio"],"owner":{"account_id":19842426,"reputation":41,"user_id":14534762,"display_name":"ProgrammerJibon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641573416,"creation_date":1641573416,"question_id":70624417,"body_markdown":"Is there any way to stream **pre-recorded** video as a **virtual webcam** and then, if we open the camera, it&#39;ll show the video we set as virtual camera as hardware front camera in Java of Android Studio?","title":"Stream Video to android camera like virtual webcam - Android Studio","body":"<p>Is there any way to stream <strong>pre-recorded</strong> video as a <strong>virtual webcam</strong> and then, if we open the camera, it'll show the video we set as virtual camera as hardware front camera in Java of Android Studio?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1641494127,"post_id":70611959,"comment_id":124824478,"body_markdown":"Because `&#39;o&#39;` is a `char`. `&quot;o&quot;` would be a string.","body":"Because <code>&#39;o&#39;</code> is a <code>char</code>. <code>&quot;o&quot;</code> would be a string."},{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":2,"creation_date":1641494133,"post_id":70611959,"comment_id":124824480,"body_markdown":"`&#39;o&#39;` is a `char` - a primitive type. It cannot be converted directly to the string `&quot;o&quot;` (notice the double quotes) - you&#39;d need to explicitly do `String.valueOf(&#39;o&#39;)`.","body":"<code>&#39;o&#39;</code> is a <code>char</code> - a primitive type. It cannot be converted directly to the string <code>&quot;o&quot;</code> (notice the double quotes) - you&#39;d need to explicitly do <code>String.valueOf(&#39;o&#39;)</code>."},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":1,"creation_date":1641494711,"post_id":70611959,"comment_id":124824694,"body_markdown":"just change the type of quotes from &#39;&#39; to &quot;&quot; for all return excpression","body":"just change the type of quotes from &#39;&#39; to &quot;&quot; for all return excpression"}],"answers":[{"tags":[],"owner":{"account_id":22960237,"reputation":118,"user_id":17090226,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641495086,"creation_date":1641495086,"answer_id":70612157,"question_id":70611959,"body_markdown":"When you type a string in single quotation marks, it tells the compiler to consider whatever follows as a single character. Double quotation marks indicate a string. The function cannot return a char when it is expecting a String.\r\n\r\n```\r\npublic String startOz(String str) {\r\n  if (str.length()==1 &amp;&amp; str.charAt(0)==&#39;o&#39;){\r\n    return &quot;o&quot;;\r\n  }\r\n  if (str.length()&lt;1){\r\n    return &quot;&quot;;\r\n  }\r\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) ==&#39;o&#39; &amp;&amp; str.charAt(1) !=&#39;z&#39;){\r\n    return &quot;o&quot;;\r\n  }\r\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) !=&#39;o&#39; &amp;&amp; str.charAt(1) ==&#39;z&#39;){\r\n    return &quot;z&quot;;\r\n  }\r\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) ==&#39;o&#39; &amp;&amp; str.charAt(1) ==&#39;z&#39;){\r\n    return &quot;oz&quot;;\r\n  } else {\r\n    return &quot;&quot;;\r\n  }\r\n}\r\n```","title":"A question about char cannot be converted to java.lang.String","body":"<p>When you type a string in single quotation marks, it tells the compiler to consider whatever follows as a single character. Double quotation marks indicate a string. The function cannot return a char when it is expecting a String.</p>\n<pre><code>public String startOz(String str) {\n  if (str.length()==1 &amp;&amp; str.charAt(0)=='o'){\n    return &quot;o&quot;;\n  }\n  if (str.length()&lt;1){\n    return &quot;&quot;;\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) =='o' &amp;&amp; str.charAt(1) !='z'){\n    return &quot;o&quot;;\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) !='o' &amp;&amp; str.charAt(1) =='z'){\n    return &quot;z&quot;;\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) =='o' &amp;&amp; str.charAt(1) =='z'){\n    return &quot;oz&quot;;\n  } else {\n    return &quot;&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641498127,"creation_date":1641495103,"answer_id":70612163,"question_id":70611959,"body_markdown":"You cannot retreive a `char` instead of `Stirng`. Do use `String.valueOf(ch)` instead.\r\n\r\nBy the way, just be a simple man! You can do the same with much less code.\r\n\r\n```java\r\npublic static String startOz(String str) {\r\n    String res = &quot;&quot;;\r\n\r\n    if (str != null) {\r\n        if (str.length() &gt; 0 &amp;&amp; str.charAt(0) == &#39;o&#39;)\r\n            res += &#39;o&#39;;\r\n        if (str.length() &gt; 1 &amp;&amp; str.charAt(1) == &#39;z&#39;)\r\n            res += &#39;z&#39;;\r\n    }\r\n\r\n    return res;\r\n}\r\n```\r\n---\r\n**Answer to comment.**\r\n\r\n 1. `StringBuilder` is a correct way to build a `String`, because `String` is immutable in `Java`. In case you are a beginner, I removed it.\r\n 1. `&lt;condition&gt; ? &lt;true&gt; : &lt;false&gt;` is called a **ternary operand**. if is similar like `if(&lt;condition&gt;) &lt;true&gt; else &lt;false&gt;;`\r\n 1. And finally I used `trim()` to remove `\\0` from the beginning and the end of the string. A also removed it.\r\n\r\nYou can see my updated result.","title":"A question about char cannot be converted to java.lang.String","body":"<p>You cannot retreive a <code>char</code> instead of <code>Stirng</code>. Do use <code>String.valueOf(ch)</code> instead.</p>\n<p>By the way, just be a simple man! You can do the same with much less code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String startOz(String str) {\n    String res = &quot;&quot;;\n\n    if (str != null) {\n        if (str.length() &gt; 0 &amp;&amp; str.charAt(0) == 'o')\n            res += 'o';\n        if (str.length() &gt; 1 &amp;&amp; str.charAt(1) == 'z')\n            res += 'z';\n    }\n\n    return res;\n}\n</code></pre>\n<hr />\n<p><strong>Answer to comment.</strong></p>\n<ol>\n<li><code>StringBuilder</code> is a correct way to build a <code>String</code>, because <code>String</code> is immutable in <code>Java</code>. In case you are a beginner, I removed it.</li>\n<li><code>&lt;condition&gt; ? &lt;true&gt; : &lt;false&gt;</code> is called a <strong>ternary operand</strong>. if is similar like <code>if(&lt;condition&gt;) &lt;true&gt; else &lt;false&gt;;</code></li>\n<li>And finally I used <code>trim()</code> to remove <code>\\0</code> from the beginning and the end of the string. A also removed it.</li>\n</ol>\n<p>You can see my updated result.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641573176,"creation_date":1641495792,"answer_id":70612321,"question_id":70611959,"body_markdown":"Rainmaker et al are correct: the problem is that your method should return a String (a Java object), not a char (a Java primitive).  One good solution to the compile error is to return &quot;o&quot; (double quotes).\r\n\r\nBut perhaps you might find this a simpler solution:\r\n\r\n    public static boolean isNullOrEmpty(String s) {\r\n      return s == null || s.isEmpty();\r\n    }\r\n\r\n    public String startOz(String str) {\r\n      if (isNullOrEmpty(str)) {\r\n        return &quot;&quot;;\r\n      } else if (str.startsWith(&quot;oz&quot;)) {\r\n        return &quot;oz&quot;;\r\n      } else if (str.charAt(0) == &#39;o&#39;) {\r\n        return &quot;o&quot;;\r\n      } else if (str.length() &gt; 1 &amp;&amp; str.charAt(1) == &#39;z&#39;) {\r\n        return &quot;z&quot;;\r\n      } else {\r\n        return &quot;&quot;;\r\n      }\r\n","title":"A question about char cannot be converted to java.lang.String","body":"<p>Rainmaker et al are correct: the problem is that your method should return a String (a Java object), not a char (a Java primitive).  One good solution to the compile error is to return &quot;o&quot; (double quotes).</p>\n<p>But perhaps you might find this a simpler solution:</p>\n<pre><code>public static boolean isNullOrEmpty(String s) {\n  return s == null || s.isEmpty();\n}\n\npublic String startOz(String str) {\n  if (isNullOrEmpty(str)) {\n    return &quot;&quot;;\n  } else if (str.startsWith(&quot;oz&quot;)) {\n    return &quot;oz&quot;;\n  } else if (str.charAt(0) == 'o') {\n    return &quot;o&quot;;\n  } else if (str.length() &gt; 1 &amp;&amp; str.charAt(1) == 'z') {\n    return &quot;z&quot;;\n  } else {\n    return &quot;&quot;;\n  }\n</code></pre>\n"}],"owner":{"account_id":19123413,"reputation":55,"user_id":13966876,"display_name":"user13966876"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70612157,"answer_count":3,"score":0,"last_activity_date":1641573176,"creation_date":1641494056,"question_id":70611959,"body_markdown":"I am working on a practice question: \r\n\r\nGiven a string, return a string made of the first 2 chars (if present), however, include the first char only if it is &#39;o&#39; and include the second only if it is &#39;z&#39;, so &quot;ozymandias&quot; yields &quot;oz&quot;.\r\n\r\n```\r\nstartOz(&quot;ozymandias&quot;) ‚Üí &quot;oz&quot;\r\nstartOz(&quot;bzoo&quot;) ‚Üí &quot;z&quot;\r\nstartOz(&quot;oxx&quot;) ‚Üí &quot;o&quot;\r\n```\r\n\r\nBelow is my solution, but I don&#39;t know why it shows &quot;incompatible types: char cannot be converted to java.lang.String&quot;. I was wondering if anyone can help me with my code. Thank you so much!  \r\n\r\n    public String startOz(String str) {\r\n      if (str.length()==1 &amp;&amp; str.charAt(0)==&#39;o&#39;){\r\n        return &#39;o&#39;;\r\n      }\r\n      if (str.length()&lt;1){\r\n        return &quot;&quot;;\r\n      }\r\n      if (str.length()&gt;=2 &amp;&amp; str.charAt(0) ==&#39;o&#39; &amp;&amp; str.charAt(1) !=&#39;z&#39;){\r\n        return &#39;o&#39;;\r\n      }\r\n      if (str.length()&gt;=2 &amp;&amp; str.charAt(0) !=&#39;o&#39; &amp;&amp; str.charAt(1) ==&#39;z&#39;){\r\n        return &#39;z&#39;;\r\n      }\r\n      if (str.length()&gt;=2 &amp;&amp; str.charAt(0) ==&#39;o&#39; &amp;&amp; str.charAt(1) ==&#39;z&#39;){\r\n        return &quot;oz&quot;;\r\n      } else {\r\n        return &quot;&quot;;\r\n      }\r\n    }\r\n\r\n","title":"A question about char cannot be converted to java.lang.String","body":"<p>I am working on a practice question:</p>\n<p>Given a string, return a string made of the first 2 chars (if present), however, include the first char only if it is 'o' and include the second only if it is 'z', so &quot;ozymandias&quot; yields &quot;oz&quot;.</p>\n<pre><code>startOz(&quot;ozymandias&quot;) ‚Üí &quot;oz&quot;\nstartOz(&quot;bzoo&quot;) ‚Üí &quot;z&quot;\nstartOz(&quot;oxx&quot;) ‚Üí &quot;o&quot;\n</code></pre>\n<p>Below is my solution, but I don't know why it shows &quot;incompatible types: char cannot be converted to java.lang.String&quot;. I was wondering if anyone can help me with my code. Thank you so much!</p>\n<pre><code>public String startOz(String str) {\n  if (str.length()==1 &amp;&amp; str.charAt(0)=='o'){\n    return 'o';\n  }\n  if (str.length()&lt;1){\n    return &quot;&quot;;\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) =='o' &amp;&amp; str.charAt(1) !='z'){\n    return 'o';\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) !='o' &amp;&amp; str.charAt(1) =='z'){\n    return 'z';\n  }\n  if (str.length()&gt;=2 &amp;&amp; str.charAt(0) =='o' &amp;&amp; str.charAt(1) =='z'){\n    return &quot;oz&quot;;\n  } else {\n    return &quot;&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","strictfp"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1641570661,"post_id":70623674,"comment_id":124846015,"body_markdown":"Hmm, `isStrict()` just does bitmasking, but `getModifiers()` is a native method / hotspot intrinsic. Maybe it worked at one point, then stopped working and nobody noticed or cared (or it never worked).","body":"Hmm, <code>isStrict()</code> just does bitmasking, but <code>getModifiers()</code> is a native method / hotspot intrinsic. Maybe it worked at one point, then stopped working and nobody noticed or cared (or it never worked)."},{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":1,"creation_date":1641570895,"post_id":70623674,"comment_id":124846118,"body_markdown":"It&#39;s not only rare in the wild, it&#39;s functionality was also removed in Java 17, so it should be avoided all together.","body":"It&#39;s not only rare in the wild, it&#39;s functionality was also removed in Java 17, so it should be avoided all together."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1641572714,"post_id":70623674,"comment_id":124846951,"body_markdown":"I doubt either that it never worked, or that it stopped working at one point; rather, the spec for what it does is subtly different to what one might think it should do. Specifically, it refers to the modifiers in *the class*, not in *the source code*, and the `strictfp` modifier ceases to be attached to the class during compilation. Per `javap -c`, it seems as if the compiler outputs bytecode in which the `strictfp` modifier applies to every constructor and method in the class, but not the class itself.","body":"I doubt either that it never worked, or that it stopped working at one point; rather, the spec for what it does is subtly different to what one might think it should do. Specifically, it refers to the modifiers in <i>the class</i>, not in <i>the source code</i>, and the <code>strictfp</code> modifier ceases to be attached to the class during compilation. Per <code>javap -c</code>, it seems as if the compiler outputs bytecode in which the <code>strictfp</code> modifier applies to every constructor and method in the class, but not the class itself."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1641573052,"post_id":70623674,"comment_id":124847108,"body_markdown":"Well I don&#39;t *actually* think it was broken from the beginning, but since we&#39;re putting this much effort into `strictfp`, why not offer some wild theories.","body":"Well I don&#39;t <i>actually</i> think it was broken from the beginning, but since we&#39;re putting this much effort into <code>strictfp</code>, why not offer some wild theories."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641573090,"creation_date":1641571489,"answer_id":70624025,"question_id":70623674,"body_markdown":"It&#39;s probably because the [class modifiers](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1) in the class file do not include the `strictfp` (don&#39;t know why, must ask Java developers). This is what the `getModifiers()` method looks into, [its documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getModifiers--) states: *&quot;The modifiers consist of the Java Virtual Machine&#39;s constants for `public`, `protected`, `private`, `final`, `static`, `abstract` and `interface`&quot;.* (so no mentioning of `strictfp`)\r\n\r\nYou can still get the modifiers of the method `f`. The method modifiers do include `strictfp`:\r\n\r\n    Modifier.isStrict(PublicStrictfpClass.class.getMethod(&quot;f&quot;).getModifiers())","title":"Java class declared with strictfp modifier fails test with Modifier.isStrict(int)","body":"<p>It's probably because the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1\" rel=\"nofollow noreferrer\">class modifiers</a> in the class file do not include the <code>strictfp</code> (don't know why, must ask Java developers). This is what the <code>getModifiers()</code> method looks into, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getModifiers--\" rel=\"nofollow noreferrer\">its documentation</a> states: <em>&quot;The modifiers consist of the Java Virtual Machine's constants for <code>public</code>, <code>protected</code>, <code>private</code>, <code>final</code>, <code>static</code>, <code>abstract</code> and <code>interface</code>&quot;.</em> (so no mentioning of <code>strictfp</code>)</p>\n<p>You can still get the modifiers of the method <code>f</code>. The method modifiers do include <code>strictfp</code>:</p>\n<pre><code>Modifier.isStrict(PublicStrictfpClass.class.getMethod(&quot;f&quot;).getModifiers())\n</code></pre>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70624025,"answer_count":1,"score":2,"last_activity_date":1641573090,"creation_date":1641570004,"question_id":70623674,"body_markdown":"To be clear, this question is strictly hypothetical.  Personally, I have no Real World need for this behaviour; I discovered it accidentally.\r\n\r\nInspired by: https://stackoverflow.com/questions/12145114/how-to-make-a-static-initializer-block-strictfp\r\n\r\nIf I declare a Java class with `strictfp` modifier:\r\n\r\n    public strictfp class PublicStrictfpClass\r\n    {\r\n        public double f() { return 2d / 3d; }\r\n    }\r\n\r\n... then I test using `Modifier.isStrict(int)`:\r\n\r\n    public static void main(String[] argArr)\r\n    {\r\n        if (! Modifier.isStrict(PublicStrictfpClass.class.getModifiers()))\r\n        {\r\n            throw new IllegalStateException(&quot;Unreachable code&quot;);\r\n        }\r\n    }\r\n\r\nThe above code fails: Method `main()` throws `IllegalStateException`.  I tried a class declaration with *and* without method `PublicStrictfpClass.f()` -- both fail.\r\n\r\nDo I misunderstand ... ?\r\n\r\n* The `strictfp` modifier when used in class declarations?\r\n* The method `Modifier.isStrict(int)`?\r\n\r\nI am running this code from Linux using the latest patch for OpenJDK 8.\r\n\r\nFinally, I did a bunch of Googling before asking this question.  The keyword `strictfp` is very rare in the wild!","title":"Java class declared with strictfp modifier fails test with Modifier.isStrict(int)","body":"<p>To be clear, this question is strictly hypothetical.  Personally, I have no Real World need for this behaviour; I discovered it accidentally.</p>\n<p>Inspired by: <a href=\"https://stackoverflow.com/questions/12145114/how-to-make-a-static-initializer-block-strictfp\">How to make a (static) initializer block strictfp?</a></p>\n<p>If I declare a Java class with <code>strictfp</code> modifier:</p>\n<pre><code>public strictfp class PublicStrictfpClass\n{\n    public double f() { return 2d / 3d; }\n}\n</code></pre>\n<p>... then I test using <code>Modifier.isStrict(int)</code>:</p>\n<pre><code>public static void main(String[] argArr)\n{\n    if (! Modifier.isStrict(PublicStrictfpClass.class.getModifiers()))\n    {\n        throw new IllegalStateException(&quot;Unreachable code&quot;);\n    }\n}\n</code></pre>\n<p>The above code fails: Method <code>main()</code> throws <code>IllegalStateException</code>.  I tried a class declaration with <em>and</em> without method <code>PublicStrictfpClass.f()</code> -- both fail.</p>\n<p>Do I misunderstand ... ?</p>\n<ul>\n<li>The <code>strictfp</code> modifier when used in class declarations?</li>\n<li>The method <code>Modifier.isStrict(int)</code>?</li>\n</ul>\n<p>I am running this code from Linux using the latest patch for OpenJDK 8.</p>\n<p>Finally, I did a bunch of Googling before asking this question.  The keyword <code>strictfp</code> is very rare in the wild!</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3792169,"reputation":375,"user_id":12767234,"display_name":"Yeshwanth V Shenoy"},"score":0,"creation_date":1641487375,"post_id":70610384,"comment_id":124821745,"body_markdown":"Did you try adding this `spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl` in application.properties??","body":"Did you try adding this <code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.&zwnj;&#8203;boot.model.naming.Ph&zwnj;&#8203;ysicalNamingStrategy&zwnj;&#8203;StandardImpl</code> in application.properties??"},{"owner":{"account_id":16867197,"reputation":21,"user_id":12196624,"display_name":"Marcelo Domingues"},"score":0,"creation_date":1641487479,"post_id":70610384,"comment_id":124821792,"body_markdown":"@YeshwanthVShenoy I just did that. Didn&#39;t solve the problem","body":"@YeshwanthVShenoy I just did that. Didn&#39;t solve the problem"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641487981,"post_id":70610384,"comment_id":124822029,"body_markdown":"have you tried using @column annotation to map them?","body":"have you tried using @column annotation to map them?"},{"owner":{"account_id":16867197,"reputation":21,"user_id":12196624,"display_name":"Marcelo Domingues"},"score":0,"creation_date":1641488516,"post_id":70610384,"comment_id":124822258,"body_markdown":"@GauravJeswani yep","body":"@GauravJeswani yep"},{"owner":{"account_id":16867197,"reputation":21,"user_id":12196624,"display_name":"Marcelo Domingues"},"score":0,"creation_date":1641488802,"post_id":70610384,"comment_id":124822384,"body_markdown":"@Alien the name of my schema is confidential, that&#39;s why is called schema.\nI created a new Database and a Schema just for this project, and it&#39;s no the public schema","body":"@Alien the name of my schema is confidential, that&#39;s why is called schema. I created a new Database and a Schema just for this project, and it&#39;s no the public schema"}],"answers":[{"tags":[],"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Micha≈Ç Zaborowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641495597,"creation_date":1641495597,"answer_id":70612278,"question_id":70610384,"body_markdown":"I would say `&quot;PK&quot;` and `&quot;pk&quot;` are two different things... At least from PostgreSQL&#39;s point of view. If you have upper-case at DB it should be called that way. If you have lowercase there - it can be called by lower/upper case. Except explicit call with `&quot;` quotes. Put columns in your DB in lowercase, and it should work. [Here][1] you can see some solutions, you can play with - just in case that DB change is not possible.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52328876/wrap-column-names-in-double-quotes-in-hibernate/52333007","title":"org.postgresql.util.PSQLException: ERROR: column column0_.pk does not exist Position: 8","body":"<p>I would say <code>&quot;PK&quot;</code> and <code>&quot;pk&quot;</code> are two different things... At least from PostgreSQL's point of view. If you have upper-case at DB it should be called that way. If you have lowercase there - it can be called by lower/upper case. Except explicit call with <code>&quot;</code> quotes. Put columns in your DB in lowercase, and it should work. <a href=\"https://stackoverflow.com/questions/52328876/wrap-column-names-in-double-quotes-in-hibernate/52333007\">Here</a> you can see some solutions, you can play with - just in case that DB change is not possible.</p>\n"}],"owner":{"account_id":16867197,"reputation":21,"user_id":12196624,"display_name":"Marcelo Domingues"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641573046,"creation_date":1641486742,"question_id":70610384,"body_markdown":"I have been looking for hours for a solution to this problem, but I can&#39;t find it or solve it.\r\n\r\nI&#39;m using Hibernate to run several queries on tables that already exist, but I&#39;m always getting the same error: \r\n\r\n```\r\norg.postgresql.util.PSQLException: ERROR: column config0_.pk does not exist\r\n  Position: 8\r\n```\r\n\r\nMy DB:\r\n\r\n[![db][1]][1]\r\n\r\nThis is the Entity Class:\r\n\r\n``` \r\npackage org.package;\r\n// default package\r\n// Generated 16/12/2021, 14:24:34 by Hibernate Tools 4.3.5.Final\r\n\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport javax.persistence.*;\r\n\r\n/**\r\n * Config generated by hbm2java\r\n */\r\n\r\n@Entity\r\n@Table(name = &quot;config&quot;, schema = &quot;schema&quot;)\r\npublic class Config implements java.io.Serializable {\r\n\r\n\tprivate long pk;\r\n\tprivate Request request;\r\n\tprivate String key;\r\n\tprivate String value;\r\n\tprivate String description;\r\n\tprivate String createdBy;\r\n\tprivate Date createdDate;\r\n\tprivate String modifiedBy;\r\n\tprivate Date modifiedDate;\r\n\tprivate Set&lt;ConfigInf&gt; configInfs = new HashSet&lt;ConfigInf&gt;(0);\r\n\r\n\tpublic Config() {\r\n\t}\r\n\r\n\tpublic Config(long pk, String key, String value, String createdBy, Date createdDate) {\r\n\t\tthis.pk = pk;\r\n\t\tthis.key = key;\r\n\t\tthis.value = value;\r\n\t\tthis.createdBy = createdBy;\r\n\t\tthis.createdDate = createdDate;\r\n\t}\r\n\r\n\tpublic Config(long pk, Request request, String key, String value, String description, String createdBy,\r\n\t\t\tDate createdDate, String modifiedBy, Date modifiedDate, Set&lt;ConfigInf&gt; configInfs) {\r\n\t\tthis.pk = pk;\r\n\t\tthis.request = request;\r\n\t\tthis.key = key;\r\n\t\tthis.value = value;\r\n\t\tthis.description = description;\r\n\t\tthis.createdBy = createdBy;\r\n\t\tthis.createdDate = createdDate;\r\n\t\tthis.modifiedBy = modifiedBy;\r\n\t\tthis.modifiedDate = modifiedDate;\r\n\t\tthis.configInfs = configInfs;\r\n\t}\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;PK&quot;, unique = true, nullable = false)\r\n\tpublic long getPk() {\r\n\t\treturn this.pk;\r\n\t}\r\n\r\n\tpublic void setPk(long pk) {\r\n\t\tthis.pk = pk;\r\n\t}\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;REQUEST_PK&quot;)\r\n\tpublic Request getRequest() {\r\n\t\treturn this.request;\r\n\t}\r\n\r\n\tpublic void setRequest(Request request) {\r\n\t\tthis.request = request;\r\n\t}\r\n\r\n\t@Column(name = &quot;KEY&quot;, nullable = false, length = 256)\r\n\tpublic String getKey() {\r\n\t\treturn this.key;\r\n\t}\r\n\r\n\tpublic void setKey(String key) {\r\n\t\tthis.key = key;\r\n\t}\r\n\r\n\t@Column(name = &quot;VALUE&quot;, nullable = false, length = 1024)\r\n\tpublic String getValue() {\r\n\t\treturn this.value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t@Column(name = &quot;DESCRIPTION&quot;, length = 1024)\r\n\tpublic String getDescription() {\r\n\t\treturn this.description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\t@Column(name = &quot;CREATED_BY&quot;, nullable = false, length = 256)\r\n\tpublic String getCreatedBy() {\r\n\t\treturn this.createdBy;\r\n\t}\r\n\r\n\tpublic void setCreatedBy(String createdBy) {\r\n\t\tthis.createdBy = createdBy;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@Column(name = &quot;CREATED_DATE&quot;, nullable = false, length = 29)\r\n\tpublic Date getCreatedDate() {\r\n\t\treturn this.createdDate;\r\n\t}\r\n\r\n\tpublic void setCreatedDate(Date createdDate) {\r\n\t\tthis.createdDate = createdDate;\r\n\t}\r\n\r\n\t@Column(name = &quot;MODIFIED_BY&quot;, length = 256)\r\n\tpublic String getModifiedBy() {\r\n\t\treturn this.modifiedBy;\r\n\t}\r\n\r\n\tpublic void setModifiedBy(String modifiedBy) {\r\n\t\tthis.modifiedBy = modifiedBy;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@Column(name = &quot;MODIFIED_DATE&quot;, length = 29)\r\n\tpublic Date getModifiedDate() {\r\n\t\treturn this.modifiedDate;\r\n\t}\r\n\r\n\tpublic void setModifiedDate(Date modifiedDate) {\r\n\t\tthis.modifiedDate = modifiedDate;\r\n\t}\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;config&quot;)\r\n\tpublic Set&lt;ConfigInf&gt; getConfigInfs() {\r\n\t\treturn this.configInfs;\r\n\t}\r\n\r\n\tpublic void setConfigInfs(Set&lt;ConfigInf&gt; configInfs) {\r\n\t\tthis.configInfs = configInfs;\r\n\t}\r\n\r\n}\r\n ```\r\n\r\nMy Repository:\r\n\r\nI wanted to avoid using Native Queries, so use it like this, as represented.\r\nI also know that I can use the findAll or just ```&quot; FROM Config&quot;```, but nothing works and goes all to the same initial problem.\r\n\r\n\r\nI would like to point out that ```Config ``` is an Object, that is the Entity.\r\n\r\n```\r\npackage org.package;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\nimport pt.link.synchronizer.shared.domain.Config;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface ConfigRepository extends JpaRepository&lt;Config, Long&gt; {\r\n\r\n    @Query(&quot;SELECT c FROM Config c&quot;)\r\n    List&lt;Config&gt; getAllConfigs();\r\n\r\n}\r\n```\r\n\r\nThe repository is then called through Autowired, and used in service, as shown below.\r\n\r\n```\r\n  //element -&gt; convertConfigToDto(element)\r\n            List&lt;ConfigDTO&gt; configs = configRepository.getAllConfigs().stream().map(element -&gt; convertConfigToDto(element)).collect(Collectors.toList());\r\n```\r\n\r\nThis is my application.properties:\r\n\r\nMaybe I have too much in application.properties, but when trying to solve the problem, I saw that some important things were missing.\r\n\r\n```\r\n## Spring DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\r\nspring.jpa.database=POSTGRESQL\r\nspring.datasource.platform= postgres\r\n\r\nspring.datasource.url=jdbc:postgresql://server:port/schema\r\nspring.datasource.username=user\r\nspring.datasource.password=pass\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.default_schema:schema\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jmx.default-domain: umsspring.jpa.show-sql=true\r\n\r\nspring.h2.console.enabled=true\r\n\r\n```\r\n\r\nWhen debugging, I can see and identify that the problem comes from the query call, in the repository.\r\n\r\nI would like to point out that using Native Query = true, this problem disappears and everything works. (Ex: Using ```SELECT * FROM Config```\r\n\r\nIs it a problem in the database? Or is it some configuration I&#39;m missing?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M8ypD.png\r\n\r\n**RESOLVED 07/01/2021**\r\n\r\n***Solution:***\r\n*Change the columns name to Lower Case and removing the &quot;&quot;.*","title":"org.postgresql.util.PSQLException: ERROR: column column0_.pk does not exist Position: 8","body":"<p>I have been looking for hours for a solution to this problem, but I can't find it or solve it.</p>\n<p>I'm using Hibernate to run several queries on tables that already exist, but I'm always getting the same error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column config0_.pk does not exist\n  Position: 8\n</code></pre>\n<p>My DB:</p>\n<p><a href=\"https://i.stack.imgur.com/M8ypD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8ypD.png\" alt=\"db\" /></a></p>\n<p>This is the Entity Class:</p>\n<pre><code>package org.package;\n// default package\n// Generated 16/12/2021, 14:24:34 by Hibernate Tools 4.3.5.Final\n\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * Config generated by hbm2java\n */\n\n@Entity\n@Table(name = &quot;config&quot;, schema = &quot;schema&quot;)\npublic class Config implements java.io.Serializable {\n\n    private long pk;\n    private Request request;\n    private String key;\n    private String value;\n    private String description;\n    private String createdBy;\n    private Date createdDate;\n    private String modifiedBy;\n    private Date modifiedDate;\n    private Set&lt;ConfigInf&gt; configInfs = new HashSet&lt;ConfigInf&gt;(0);\n\n    public Config() {\n    }\n\n    public Config(long pk, String key, String value, String createdBy, Date createdDate) {\n        this.pk = pk;\n        this.key = key;\n        this.value = value;\n        this.createdBy = createdBy;\n        this.createdDate = createdDate;\n    }\n\n    public Config(long pk, Request request, String key, String value, String description, String createdBy,\n            Date createdDate, String modifiedBy, Date modifiedDate, Set&lt;ConfigInf&gt; configInfs) {\n        this.pk = pk;\n        this.request = request;\n        this.key = key;\n        this.value = value;\n        this.description = description;\n        this.createdBy = createdBy;\n        this.createdDate = createdDate;\n        this.modifiedBy = modifiedBy;\n        this.modifiedDate = modifiedDate;\n        this.configInfs = configInfs;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;PK&quot;, unique = true, nullable = false)\n    public long getPk() {\n        return this.pk;\n    }\n\n    public void setPk(long pk) {\n        this.pk = pk;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;REQUEST_PK&quot;)\n    public Request getRequest() {\n        return this.request;\n    }\n\n    public void setRequest(Request request) {\n        this.request = request;\n    }\n\n    @Column(name = &quot;KEY&quot;, nullable = false, length = 256)\n    public String getKey() {\n        return this.key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    @Column(name = &quot;VALUE&quot;, nullable = false, length = 1024)\n    public String getValue() {\n        return this.value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    @Column(name = &quot;DESCRIPTION&quot;, length = 1024)\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    @Column(name = &quot;CREATED_BY&quot;, nullable = false, length = 256)\n    public String getCreatedBy() {\n        return this.createdBy;\n    }\n\n    public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;CREATED_DATE&quot;, nullable = false, length = 29)\n    public Date getCreatedDate() {\n        return this.createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    @Column(name = &quot;MODIFIED_BY&quot;, length = 256)\n    public String getModifiedBy() {\n        return this.modifiedBy;\n    }\n\n    public void setModifiedBy(String modifiedBy) {\n        this.modifiedBy = modifiedBy;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;MODIFIED_DATE&quot;, length = 29)\n    public Date getModifiedDate() {\n        return this.modifiedDate;\n    }\n\n    public void setModifiedDate(Date modifiedDate) {\n        this.modifiedDate = modifiedDate;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;config&quot;)\n    public Set&lt;ConfigInf&gt; getConfigInfs() {\n        return this.configInfs;\n    }\n\n    public void setConfigInfs(Set&lt;ConfigInf&gt; configInfs) {\n        this.configInfs = configInfs;\n    }\n\n}\n</code></pre>\n<p>My Repository:</p>\n<p>I wanted to avoid using Native Queries, so use it like this, as represented.\nI also know that I can use the findAll or just <code>&quot; FROM Config&quot;</code>, but nothing works and goes all to the same initial problem.</p>\n<p>I would like to point out that <code>Config </code> is an Object, that is the Entity.</p>\n<pre><code>package org.package;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport pt.link.synchronizer.shared.domain.Config;\n\nimport java.util.List;\n\n@Repository\npublic interface ConfigRepository extends JpaRepository&lt;Config, Long&gt; {\n\n    @Query(&quot;SELECT c FROM Config c&quot;)\n    List&lt;Config&gt; getAllConfigs();\n\n}\n</code></pre>\n<p>The repository is then called through Autowired, and used in service, as shown below.</p>\n<pre><code>  //element -&gt; convertConfigToDto(element)\n            List&lt;ConfigDTO&gt; configs = configRepository.getAllConfigs().stream().map(element -&gt; convertConfigToDto(element)).collect(Collectors.toList());\n</code></pre>\n<p>This is my application.properties:</p>\n<p>Maybe I have too much in application.properties, but when trying to solve the problem, I saw that some important things were missing.</p>\n<pre><code>## Spring DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\nspring.jpa.database=POSTGRESQL\nspring.datasource.platform= postgres\n\nspring.datasource.url=jdbc:postgresql://server:port/schema\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=org.postgresql.Driver\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.default_schema:schema\n\nspring.jpa.show-sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jmx.default-domain: umsspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n\n</code></pre>\n<p>When debugging, I can see and identify that the problem comes from the query call, in the repository.</p>\n<p>I would like to point out that using Native Query = true, this problem disappears and everything works. (Ex: Using <code>SELECT * FROM Config</code></p>\n<p>Is it a problem in the database? Or is it some configuration I'm missing?</p>\n<p>Thanks!</p>\n<p><strong>RESOLVED 07/01/2021</strong></p>\n<p><em><strong>Solution:</strong></em>\n<em>Change the columns name to Lower Case and removing the &quot;&quot;.</em></p>\n"},{"tags":["java","winapi","jna","advapi32"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641572817,"creation_date":1641572817,"answer_id":70624304,"question_id":70622738,"body_markdown":"The WINAPI call you need is [ReportEvent][1].  \r\n\r\nThis is mapped in the user-contributed platform mappings in JNA in [Advapi32][2].\r\n\r\nThe Advapi32Test class contains [code demonstrating writing an event][3].  I&#39;ve excerpted portions of this test code below:\r\n\r\n```java\r\npublic void testReportEvent() {\r\n    String applicationEventLog = &quot;SYSTEM\\\\CurrentControlSet\\\\Services\\\\EventLog\\\\Application&quot;;\r\n    String jnaEventSource = &quot;JNADevEventSource&quot;;\r\n    String jnaEventSourceRegistryPath = applicationEventLog + &quot;\\\\&quot; + jnaEventSource;\r\n    // ignore test if not able to create key (need to be administrator to do this).\r\n    try {\r\n        final boolean keyCreated = Advapi32Util.registryCreateKey(WinReg.HKEY_LOCAL_MACHINE, jnaEventSourceRegistryPath);\r\n        if (!keyCreated) {\r\n            return;\r\n        }\r\n    } catch (Win32Exception e) {\r\n        return;\r\n    }\r\n\r\n    HANDLE h = Advapi32.INSTANCE.RegisterEventSource(null, jnaEventSource);\r\n    String s[] = {&quot;JNA&quot;, &quot;Event&quot;};\r\n    Memory m = new Memory(4);\r\n    m.setByte(0, (byte) 1);\r\n    m.setByte(1, (byte) 2);\r\n    m.setByte(2, (byte) 3);\r\n    m.setByte(3, (byte) 4);\r\n    int eventId = 123 + 0x40000000;\r\n    Advapi32.INSTANCE.ReportEvent(h, WinNT.EVENTLOG_ERROR_TYPE, 0, eventId, null, 2, 4, s, m);\r\n    Advapi32Util.registryDeleteKey(WinReg.HKEY_LOCAL_MACHINE, jnaEventSourceRegistryPath);\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-reporteventw\r\n  [2]: https://github.com/java-native-access/jna/blob/030411b909d5dfd249b1df09a7f24c44babcae64/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L1650\r\n  [3]: https://github.com/java-native-access/jna/blob/cb98ab22196855933eb6315f2663d1b4a03ff261/contrib/platform/test/com/sun/jna/platform/win32/Advapi32Test.java#L956-L1003","title":"How to write to windows eventlog using Java and JNA","body":"<p>The WINAPI call you need is <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-reporteventw\" rel=\"nofollow noreferrer\">ReportEvent</a>.</p>\n<p>This is mapped in the user-contributed platform mappings in JNA in <a href=\"https://github.com/java-native-access/jna/blob/030411b909d5dfd249b1df09a7f24c44babcae64/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L1650\" rel=\"nofollow noreferrer\">Advapi32</a>.</p>\n<p>The Advapi32Test class contains <a href=\"https://github.com/java-native-access/jna/blob/cb98ab22196855933eb6315f2663d1b4a03ff261/contrib/platform/test/com/sun/jna/platform/win32/Advapi32Test.java#L956-L1003\" rel=\"nofollow noreferrer\">code demonstrating writing an event</a>.  I've excerpted portions of this test code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void testReportEvent() {\n    String applicationEventLog = &quot;SYSTEM\\\\CurrentControlSet\\\\Services\\\\EventLog\\\\Application&quot;;\n    String jnaEventSource = &quot;JNADevEventSource&quot;;\n    String jnaEventSourceRegistryPath = applicationEventLog + &quot;\\\\&quot; + jnaEventSource;\n    // ignore test if not able to create key (need to be administrator to do this).\n    try {\n        final boolean keyCreated = Advapi32Util.registryCreateKey(WinReg.HKEY_LOCAL_MACHINE, jnaEventSourceRegistryPath);\n        if (!keyCreated) {\n            return;\n        }\n    } catch (Win32Exception e) {\n        return;\n    }\n\n    HANDLE h = Advapi32.INSTANCE.RegisterEventSource(null, jnaEventSource);\n    String s[] = {&quot;JNA&quot;, &quot;Event&quot;};\n    Memory m = new Memory(4);\n    m.setByte(0, (byte) 1);\n    m.setByte(1, (byte) 2);\n    m.setByte(2, (byte) 3);\n    m.setByte(3, (byte) 4);\n    int eventId = 123 + 0x40000000;\n    Advapi32.INSTANCE.ReportEvent(h, WinNT.EVENTLOG_ERROR_TYPE, 0, eventId, null, 2, 4, s, m);\n    Advapi32Util.registryDeleteKey(WinReg.HKEY_LOCAL_MACHINE, jnaEventSourceRegistryPath);\n}\n\n</code></pre>\n"}],"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70624304,"answer_count":1,"score":2,"last_activity_date":1641572874,"creation_date":1641565912,"question_id":70622738,"body_markdown":"I was looking at a way to write to windows event log using JNA. I am able to write to windows event log using log4J2 and Log4JNA libraries.\r\n\r\nHowever, I would like to write directly using JNA and I am not comfortable having to add a dll file, which is required by Log4JNA.\r\n\r\nI am currently Looking at Advapi32 and Advapi32Util but couldn&#39;t find any methods to write to event log.\r\n\r\nHow can this be done?","title":"How to write to windows eventlog using Java and JNA","body":"<p>I was looking at a way to write to windows event log using JNA. I am able to write to windows event log using log4J2 and Log4JNA libraries.</p>\n<p>However, I would like to write directly using JNA and I am not comfortable having to add a dll file, which is required by Log4JNA.</p>\n<p>I am currently Looking at Advapi32 and Advapi32Util but couldn't find any methods to write to event log.</p>\n<p>How can this be done?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1641577880,"post_id":70624061,"comment_id":124849105,"body_markdown":"Check your DB if the record exists or not, you should use getSingleResult() only in case you are 100% sure that a particular record exists in the database (uniquely). The exception thrown is a runtime exception.","body":"Check your DB if the record exists or not, you should use getSingleResult() only in case you are 100% sure that a particular record exists in the database (uniquely). The exception thrown is a runtime exception."}],"answers":[{"tags":[],"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641572370,"creation_date":1641571981,"answer_id":70624139,"question_id":70624061,"body_markdown":"It looks like your call to `persoanaDao.get(username);` is out of the try catch block that catches the NoResultException. Refactor your code so that call is in the correct try-catch.","title":"getSingleResult did not retrieve any entites - should be fixed (I think so) but it isn&#39;t","body":"<p>It looks like your call to <code>persoanaDao.get(username);</code> is out of the try catch block that catches the NoResultException. Refactor your code so that call is in the correct try-catch.</p>\n"}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70624139,"answer_count":1,"score":0,"last_activity_date":1641572370,"creation_date":1641571652,"question_id":70624061,"body_markdown":"So I have this code in\r\n\r\nPersoanaDao\r\n````\r\npublic Optional&lt;PersoanaEntity&gt; get(String username) throws NoResultException {\r\n        return Optional.ofNullable(connection\r\n                .getEntityManager()\r\n                .createQuery(&quot;SELECT a FROM PersoanaEntity as a WHERE a.username = :username&quot;, PersoanaEntity.class)\r\n                .setParameter(&quot;username&quot;, username).getSingleResult()\r\n        );\r\n    }\r\n````\r\n\r\nand this code in ProcessInput\r\n\r\n````\r\npackage socket;\r\n\r\nimport database.daos.PersoanaDao;\r\nimport database.models.PersoanaEntity;\r\nimport jakarta.persistence.NoResultException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.ObjectOutputStream;\r\nimport java.util.Optional;\r\n\r\npublic class ProcessInput {\r\n    void processInput(JSONObject data, ObjectOutputStream out) {\r\n        switch (data.get(&quot;type&quot;).toString())\r\n        {\r\n            case &quot;LOGIN_USER&quot;:\r\n                PersoanaDao persoanaDao = new PersoanaDao();\r\n                String username = data.get(&quot;username&quot;).toString();\r\n                Optional&lt;PersoanaEntity&gt; persoanaEntity = persoanaDao.get(username);\r\n                JSONObject json = new JSONObject();\r\n                if(persoanaEntity.isEmpty()) {\r\n                    try {\r\n                        json.put(&quot;status_code&quot;, &quot;404&quot;);\r\n                        out.writeObject(json.toString());\r\n                        return;\r\n                    }\r\n                    catch(NoResultException noResultException) {\r\n                        try {\r\n                        json.put(&quot;status_code&quot;, &quot;200&quot;);\r\n                        out.writeObject(json.toString());\r\n                        }\r\n                        catch (IOException exception) {\r\n                            System.out.println(exception);\r\n                        }\r\n                    }\r\n                    catch(IOException exception) {\r\n                        System.out.println(exception);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nLong story short, the method from PersoanaDao will be called in ProcessInput - but I get this exception:\r\n\r\n````\r\nException in thread &quot;Thread-2&quot; jakarta.persistence.NoResultException: getSingleResult() did not retrieve any entities.\r\n````\r\n\r\nand I don&#39;t understand why. I specified in the method that it throws NoResultException, and I caught it in my ProcessInput.\r\n\r\nI think that this might happen because .getSingleResult is wrapped in that Optional clause - but I&#39;m not really sure. If so, how can I fix my code?\r\n\r\nThanks.","title":"getSingleResult did not retrieve any entites - should be fixed (I think so) but it isn&#39;t","body":"<p>So I have this code in</p>\n<p>PersoanaDao</p>\n<pre><code>public Optional&lt;PersoanaEntity&gt; get(String username) throws NoResultException {\n        return Optional.ofNullable(connection\n                .getEntityManager()\n                .createQuery(&quot;SELECT a FROM PersoanaEntity as a WHERE a.username = :username&quot;, PersoanaEntity.class)\n                .setParameter(&quot;username&quot;, username).getSingleResult()\n        );\n    }\n</code></pre>\n<p>and this code in ProcessInput</p>\n<pre><code>package socket;\n\nimport database.daos.PersoanaDao;\nimport database.models.PersoanaEntity;\nimport jakarta.persistence.NoResultException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.ObjectOutputStream;\nimport java.util.Optional;\n\npublic class ProcessInput {\n    void processInput(JSONObject data, ObjectOutputStream out) {\n        switch (data.get(&quot;type&quot;).toString())\n        {\n            case &quot;LOGIN_USER&quot;:\n                PersoanaDao persoanaDao = new PersoanaDao();\n                String username = data.get(&quot;username&quot;).toString();\n                Optional&lt;PersoanaEntity&gt; persoanaEntity = persoanaDao.get(username);\n                JSONObject json = new JSONObject();\n                if(persoanaEntity.isEmpty()) {\n                    try {\n                        json.put(&quot;status_code&quot;, &quot;404&quot;);\n                        out.writeObject(json.toString());\n                        return;\n                    }\n                    catch(NoResultException noResultException) {\n                        try {\n                        json.put(&quot;status_code&quot;, &quot;200&quot;);\n                        out.writeObject(json.toString());\n                        }\n                        catch (IOException exception) {\n                            System.out.println(exception);\n                        }\n                    }\n                    catch(IOException exception) {\n                        System.out.println(exception);\n                    }\n                }\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Long story short, the method from PersoanaDao will be called in ProcessInput - but I get this exception:</p>\n<pre><code>Exception in thread &quot;Thread-2&quot; jakarta.persistence.NoResultException: getSingleResult() did not retrieve any entities.\n</code></pre>\n<p>and I don't understand why. I specified in the method that it throws NoResultException, and I caught it in my ProcessInput.</p>\n<p>I think that this might happen because .getSingleResult is wrapped in that Optional clause - but I'm not really sure. If so, how can I fix my code?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1641551569,"post_id":70619421,"comment_id":124838628,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":15956298,"reputation":21,"user_id":11514399,"display_name":"yatso1"},"score":1,"creation_date":1642340217,"post_id":70619421,"comment_id":125039611,"body_markdown":"I managed to solve the problem , Thanks","body":"I managed to solve the problem , Thanks"}],"owner":{"account_id":15956298,"reputation":21,"user_id":11514399,"display_name":"yatso1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641572048,"creation_date":1641549124,"question_id":70619421,"body_markdown":"I am uploading text and images on the firebase database, however, only the images get uploaded and the texts fail to upload. Following that the app crashes. I am using the onSuccess(UploadTask.TaskSnapshot taskSnapshot) method.\r\n\r\nI will be using Edittexts to get user input\r\n\r\n**Below is the code for my MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //declarations\r\n        Button btnbrowse, btnupload;\r\n        EditText txtdata, txtdata1, txtdata2;\r\n        ImageView imgview;\r\n        Uri FilePathUri;\r\n        StorageReference storageReference;\r\n        DatabaseReference databaseReference;\r\n        int Image_Request_Code = 7;\r\n        ProgressDialog progressDialog;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            storageReference = FirebaseStorage.getInstance().getReference(&quot;Images&quot;);\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Images&quot;);\r\n            btnbrowse = (Button) findViewById(R.id.btnbrowse);\r\n            btnupload = (Button) findViewById(R.id.btnupload);\r\n            txtdata = (EditText) findViewById(R.id.txtdata);\r\n            txtdata1 = (EditText) findViewById(R.id.txtdata1);\r\n            txtdata2 = (EditText) findViewById(R.id.txtdata2);\r\n            imgview = (ImageView) findViewById(R.id.image_view);\r\n            progressDialog = new ProgressDialog(MainActivity.this);// context name as per your project name\r\n    \r\n            btnbrowse.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent();\r\n                    intent.setType(&quot;image/*&quot;);\r\n                    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                    startActivityForResult(Intent.createChooser(intent, &quot;Select Image&quot;), Image_Request_Code);\r\n                }\r\n            });\r\n    \r\n            btnupload.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    //call the upload method\r\n                    UploadImage();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == Image_Request_Code &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n    \r\n                FilePathUri = data.getData();\r\n    \r\n                try {\r\n                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), FilePathUri);\r\n                    imgview.setImageBitmap(bitmap);\r\n                } catch (IOException e) {\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        public String GetFileExtension(Uri uri) {\r\n    \r\n            ContentResolver contentResolver = getContentResolver();\r\n            MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n            return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\r\n    \r\n        }\r\n    \r\n        public void UploadImage() {\r\n    \r\n            if (FilePathUri != null) {\r\n    \r\n                progressDialog.setTitle(&quot;Image is uploading&quot;);\r\n                progressDialog.show();\r\n                StorageReference storageReference2 = storageReference.child(System.currentTimeMillis() + &quot;.&quot; +\r\n                        GetFileExtension(FilePathUri));\r\n    \r\n                storageReference2.putFile(FilePathUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n    \r\n                        String TempImageName = txtdata.getText().toString().trim();\r\n                        String TempImageName1 = txtdata1.getText().toString().trim();\r\n                        String TempImageName2 = txtdata2.getText().toString().trim();\r\n    \r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(getApplicationContext(), &quot;Stuff Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        @SuppressWarnings(&quot;VisibleForTests&quot;)\r\n                        Uploadinfo imageUploadInfo = new Uploadinfo(TempImageName, TempImageName1, TempImageName2, taskSnapshot.getUploadSessionUri().toString());\r\n                        String ImageUploadId = databaseReference.push().getKey();\r\n    \r\n                        databaseReference.push().getKey();\r\n                        databaseReference.child(ImageUploadId).setValue(imageUploadInfo);\r\n                    }\r\n                });\r\n            } else {\r\n    \r\n                Toast.makeText(MainActivity.this, &quot;Please Select Image or Add Image Name&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Below is the java model code**\r\n\r\n    public class Uploadinfo {\r\n    \r\n        public String TempImageName;\r\n        public String TempImageName1;\r\n        public String TempImageName2;\r\n        public String imageURL;\r\n    \r\n        public Uploadinfo(){\r\n    \r\n        }\r\n    \r\n        public Uploadinfo(String name, String name1, String name2, String url){\r\n    \r\n            this.TempImageName = name;\r\n            this.TempImageName1 = name1;\r\n            this.TempImageName2 = name2;\r\n            this.imageURL = url;\r\n        }\r\n    \r\n        public String getTempImageName() {\r\n            return TempImageName;\r\n        }\r\n    \r\n        public String getTempImageName1() {\r\n            return TempImageName1;\r\n        }\r\n    \r\n        public String getTempImageName2() {\r\n            return TempImageName2;\r\n        }\r\n    \r\n        public String getImageURL() {\r\n            return imageURL;\r\n        }\r\n    }\r\n\r\n","title":"Uploading Text on firebase realtime database android","body":"<p>I am uploading text and images on the firebase database, however, only the images get uploaded and the texts fail to upload. Following that the app crashes. I am using the onSuccess(UploadTask.TaskSnapshot taskSnapshot) method.</p>\n<p>I will be using Edittexts to get user input</p>\n<p><strong>Below is the code for my MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //declarations\n    Button btnbrowse, btnupload;\n    EditText txtdata, txtdata1, txtdata2;\n    ImageView imgview;\n    Uri FilePathUri;\n    StorageReference storageReference;\n    DatabaseReference databaseReference;\n    int Image_Request_Code = 7;\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;Images&quot;);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Images&quot;);\n        btnbrowse = (Button) findViewById(R.id.btnbrowse);\n        btnupload = (Button) findViewById(R.id.btnupload);\n        txtdata = (EditText) findViewById(R.id.txtdata);\n        txtdata1 = (EditText) findViewById(R.id.txtdata1);\n        txtdata2 = (EditText) findViewById(R.id.txtdata2);\n        imgview = (ImageView) findViewById(R.id.image_view);\n        progressDialog = new ProgressDialog(MainActivity.this);// context name as per your project name\n\n        btnbrowse.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setType(&quot;image/*&quot;);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Image&quot;), Image_Request_Code);\n            }\n        });\n\n        btnupload.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //call the upload method\n                UploadImage();\n\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == Image_Request_Code &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n            FilePathUri = data.getData();\n\n            try {\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), FilePathUri);\n                imgview.setImageBitmap(bitmap);\n            } catch (IOException e) {\n\n            }\n        }\n    }\n\n    public String GetFileExtension(Uri uri) {\n\n        ContentResolver contentResolver = getContentResolver();\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\n\n    }\n\n    public void UploadImage() {\n\n        if (FilePathUri != null) {\n\n            progressDialog.setTitle(&quot;Image is uploading&quot;);\n            progressDialog.show();\n            StorageReference storageReference2 = storageReference.child(System.currentTimeMillis() + &quot;.&quot; +\n                    GetFileExtension(FilePathUri));\n\n            storageReference2.putFile(FilePathUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                    String TempImageName = txtdata.getText().toString().trim();\n                    String TempImageName1 = txtdata1.getText().toString().trim();\n                    String TempImageName2 = txtdata2.getText().toString().trim();\n\n                    progressDialog.dismiss();\n                    Toast.makeText(getApplicationContext(), &quot;Stuff Uploaded&quot;, Toast.LENGTH_SHORT).show();\n\n                    @SuppressWarnings(&quot;VisibleForTests&quot;)\n                    Uploadinfo imageUploadInfo = new Uploadinfo(TempImageName, TempImageName1, TempImageName2, taskSnapshot.getUploadSessionUri().toString());\n                    String ImageUploadId = databaseReference.push().getKey();\n\n                    databaseReference.push().getKey();\n                    databaseReference.child(ImageUploadId).setValue(imageUploadInfo);\n                }\n            });\n        } else {\n\n            Toast.makeText(MainActivity.this, &quot;Please Select Image or Add Image Name&quot;, Toast.LENGTH_LONG).show();\n\n        }\n    }\n}\n</code></pre>\n<p><strong>Below is the java model code</strong></p>\n<pre><code>public class Uploadinfo {\n\n    public String TempImageName;\n    public String TempImageName1;\n    public String TempImageName2;\n    public String imageURL;\n\n    public Uploadinfo(){\n\n    }\n\n    public Uploadinfo(String name, String name1, String name2, String url){\n\n        this.TempImageName = name;\n        this.TempImageName1 = name1;\n        this.TempImageName2 = name2;\n        this.imageURL = url;\n    }\n\n    public String getTempImageName() {\n        return TempImageName;\n    }\n\n    public String getTempImageName1() {\n        return TempImageName1;\n    }\n\n    public String getTempImageName2() {\n        return TempImageName2;\n    }\n\n    public String getImageURL() {\n        return imageURL;\n    }\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":84884,"reputation":12163,"user_id":237033,"display_name":"Sahil Muthoo"},"score":3,"creation_date":1314608069,"post_id":7227965,"comment_id":8690110,"body_markdown":"Can you confirm that the jasperreports jars are packaged in your WAR? It appears as if the the report compiler cannot locate the right packages since they&#39;re not in the classpath.","body":"Can you confirm that the jasperreports jars are packaged in your WAR? It appears as if the the report compiler cannot locate the right packages since they&#39;re not in the classpath."}],"answers":[{"tags":[],"owner":{"account_id":1205069,"reputation":2479,"user_id":1174910,"accept_rate":100,"display_name":"Tony Rad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329275663,"creation_date":1329275663,"answer_id":9287389,"question_id":7227965,"body_markdown":"Try adding jasperreports*.jar and any other jar containing classes referenced in the report under glassfish3/glassfish/domains/domain1/lib/ext.\r\nRestart the app server.\r\n\r\nRegards\r\n","title":"Error combine jasper report with java servlet","body":"<p>Try adding jasperreports*.jar and any other jar containing classes referenced in the report under glassfish3/glassfish/domains/domain1/lib/ext.\nRestart the app server.</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":1248262,"reputation":2068,"user_id":1209256,"display_name":"JohanB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329388602,"creation_date":1329388602,"answer_id":9309750,"question_id":7227965,"body_markdown":"It seems that the JasperReport library is missing. The latest version of JasperReports can be downloaded here http://sourceforge.net/projects/jasperreports/files/jasperreports/JasperReports%204.5.0/\r\n\r\nAdd the jar file to your project and redeploy.\r\n\r\nMake sure you have the required dependencies as well: http://www.installationwiki.org/JasperReports","title":"Error combine jasper report with java servlet","body":"<p>It seems that the JasperReport library is missing. The latest version of JasperReports can be downloaded here <a href=\"http://sourceforge.net/projects/jasperreports/files/jasperreports/JasperReports%204.5.0/\" rel=\"nofollow\">http://sourceforge.net/projects/jasperreports/files/jasperreports/JasperReports%204.5.0/</a></p>\n\n<p>Add the jar file to your project and redeploy.</p>\n\n<p>Make sure you have the required dependencies as well: <a href=\"http://www.installationwiki.org/JasperReports\" rel=\"nofollow\">http://www.installationwiki.org/JasperReports</a></p>\n"},{"tags":[],"owner":{"account_id":1148882,"reputation":1905,"user_id":1131027,"display_name":"Rogel Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348088727,"creation_date":1348088727,"answer_id":12502873,"question_id":7227965,"body_markdown":"You will need to add JDT libraries in the classpath of your application. (WEB-INF/lib)\r\n\r\n`jdtcore and jdt-compiler`\r\n\r\nAt the time of this writing versions 3.1.0 and 3.1.1 respectively will work for jasperreports 4.7.0.\r\n\r\nThis error happens only in glassfish as far as I now. In tomcat this problem does not occur.\r\n\r\n[Jasper FAQ: When should I compile my report templates and how?][1]\r\n\r\n\r\n  [1]: http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/faq.html?group_id=252#FAQ22","title":"Error combine jasper report with java servlet","body":"<p>You will need to add JDT libraries in the classpath of your application. (WEB-INF/lib)</p>\n\n<p><code>jdtcore and jdt-compiler</code></p>\n\n<p>At the time of this writing versions 3.1.0 and 3.1.1 respectively will work for jasperreports 4.7.0.</p>\n\n<p>This error happens only in glassfish as far as I now. In tomcat this problem does not occur.</p>\n\n<p><a href=\"http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/faq.html?group_id=252#FAQ22\" rel=\"nofollow\">Jasper FAQ: When should I compile my report templates and how?</a></p>\n"},{"tags":[],"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641571816,"creation_date":1641571816,"answer_id":70624095,"question_id":7227965,"body_markdown":"I have also the same errors, but when using with Groovy and Jasperreports.\r\nI get these errors:\r\n\r\n    net.sf.jasperreports.engine.JRException: Errors were encountered when compiling report expressions class file:\r\n    /home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:18: error: cannot find symbol\r\n    public class page1_1641570877927_139275 extends JREvaluator\r\n                                                    ^\r\n      symbol: class JREvaluator\r\n    /home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:25: error: cannot find symbol\r\n        private JRFillVariable variable_PAGE_NUMBER = null;\r\n                ^\r\n      symbol:   class JRFillVariable\r\n      location: class page1_1641570877927_139275\r\n    /home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:4: error: package net.sf.jasperreports.engine does not exist\r\n    import net.sf.jasperreports.engine.*;\r\n    ^\r\n    /home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:5: error: package net.sf.jasperreports.engine.fill does not exist\r\n    import net.sf.jasperreports.engine.fill.*;\r\n    ^\r\n    /home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:64: error: cannot find symbol\r\n            variable_PAGE_NUMBER = (JRFillVariable)vm.get(&quot;PAGE_NUMBER&quot;);\r\n                                    ^\r\n      symbol:   class JRFillVariable\r\n      location: class page1_1641570877927_139275\r\n    5 errors\r\n\r\n\r\nAfter adding this dependency to the project the errors are fixed:\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n      &lt;version&gt;4.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Error combine jasper report with java servlet","body":"<p>I have also the same errors, but when using with Groovy and Jasperreports.\nI get these errors:</p>\n<pre><code>net.sf.jasperreports.engine.JRException: Errors were encountered when compiling report expressions class file:\n/home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:18: error: cannot find symbol\npublic class page1_1641570877927_139275 extends JREvaluator\n                                                ^\n  symbol: class JREvaluator\n/home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:25: error: cannot find symbol\n    private JRFillVariable variable_PAGE_NUMBER = null;\n            ^\n  symbol:   class JRFillVariable\n  location: class page1_1641570877927_139275\n/home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:4: error: package net.sf.jasperreports.engine does not exist\nimport net.sf.jasperreports.engine.*;\n^\n/home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:5: error: package net.sf.jasperreports.engine.fill does not exist\nimport net.sf.jasperreports.engine.fill.*;\n^\n/home/avorsterman/dev/prj/groovy/page1_1641570877927_139275.java:64: error: cannot find symbol\n        variable_PAGE_NUMBER = (JRFillVariable)vm.get(&quot;PAGE_NUMBER&quot;);\n                                ^\n  symbol:   class JRFillVariable\n  location: class page1_1641570877927_139275\n5 errors\n</code></pre>\n<p>After adding this dependency to the project the errors are fixed:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n  &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n  &lt;version&gt;4.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":800822,"reputation":41,"user_id":917006,"display_name":"LePhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1641571816,"creation_date":1314607467,"question_id":7227965,"body_markdown":"I am generating reports using jasperReports in dwr.i am getting these errors\r\n\r\n&lt;pre&gt;\r\nINFO: Errors were encountered when compiling report expressions class file:\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:4: package net.sf.jasperreports.engine does not exist\r\nimport net.sf.jasperreports.engine.*;\r\n^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:5: package net.sf.jasperreports.engine.fill does not exist\r\nimport net.sf.jasperreports.engine.fill.*;\r\n^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:13: package net.sf.jasperreports.engine does not exist\r\nimport net.sf.jasperreports.engine.*;\r\n^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:15: package net.sf.jasperreports.engine.data does not exist\r\nimport net.sf.jasperreports.engine.data.*;\r\n^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:21: cannot find symbol\r\nsymbol: class JREvaluator\r\npublic class classic_1314606689888_793831 extends JREvaluator\r\n                                                  ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:28: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_LOCALE = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:29: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_JASPER_REPORT = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:30: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_VIRTUALIZER = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:31: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_TIME_ZONE = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:32: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_SORT_FIELDS = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:33: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_FILE_RESOLVER = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:34: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_SCRIPTLET = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:35: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_PARAMETERS_MAP = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:36: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_CONNECTION = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:37: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_CLASS_LOADER = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:38: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_DATA_SOURCE = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:39: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_URL_HANDLER_FACTORY = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:40: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_IS_IGNORE_PAGINATION = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:41: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_FORMAT_FACTORY = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:42: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_MAX_COUNT = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:43: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_TEMPLATES = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:44: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillParameter parameter_REPORT_RESOURCE_BUNDLE = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:45: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_MaSach = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:46: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_TenSach = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:47: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_MaNhaXuatBan = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:48: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_GiaBan = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:49: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_SoLuongTon = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:50: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillField field_sach_MaTheLoai = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:51: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillVariable variable_PAGE_NUMBER = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:52: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillVariable variable_COLUMN_NUMBER = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:53: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillVariable variable_REPORT_COUNT = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_13146\r\nINFO: 06689888_793831.java:54: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillVariable variable_PAGE_COUNT = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:55: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n    private JRFillVariable variable_COLUMN_COUNT = null;\r\n            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:78: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_LOCALE = (JRFillParameter)pm.get(&quot;REPORT_LOCALE&quot;);\r\n                                   ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:79: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_JASPER_REPORT = (JRFillParameter)pm.get(&quot;JASPER_REPORT&quot;);\r\n                                   ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:80: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_VIRTUALIZER = (JRFillParameter)pm.get(&quot;REPORT_VIRTUALIZER&quot;);\r\n                                        ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:81: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_TIME_ZONE = (JRFillParameter)pm.get(&quot;REPORT_TIME_ZONE&quot;);\r\n                                      ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:82: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_SORT_FIELDS = (JRFillParameter)pm.get(&quot;SORT_FIELDS&quot;);\r\n                                 ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:83: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_FILE_RESOLVER = (JRFillParameter)pm.get(&quot;REPORT_FILE_RESOLVER&quot;);\r\n                                          ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:84: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_SCRIPTLET = (JRFillParameter)pm.get(&quot;REPORT_SCRIPTLET&quot;);\r\n                                      ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:85: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_PARAMETERS_MAP = (JRFillParameter)pm.get(&quot;REPORT_PARAMETERS_MAP&quot;);\r\n                                           ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:86: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_CONNECTION = (JRFillParameter)pm.get(&quot;REPORT_CONNECTION&quot;);\r\n                                       ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:87: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_CLASS_LOADER = (JRFillParameter)pm.get(&quot;REPORT_CLASS_LOADER&quot;);\r\n                                         ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:88: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_DATA_SOURCE = (JRFillParameter)pm.get(&quot;REPORT_DATA_SOURCE&quot;);\r\n                                        ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:89: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_URL_HANDLER_FACTORY = (JRFillParameter)pm.get(&quot;REPORT_URL_HANDLER_FACTORY&quot;);\r\n                                                ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:90: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_IS_IGNORE_PAGINATION = (JRFillParameter)pm.get(&quot;IS_IGNORE_PAGINATION&quot;);\r\n                                          ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:91: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_FORMAT_FACTORY = (JRFillParameter)pm.get(&quot;REPORT_FORMAT_FACTORY&quot;);\r\n                                           ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:92: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_MAX_COUNT = (JRFillParameter)pm.get(&quot;REPORT_MAX_COUNT&quot;);\r\n                                      ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:93: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_TEMPLATES = (JRFillParameter)pm.get(&quot;REPORT_TEMPLATES&quot;);\r\n                                      ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:94: cannot find symbol\r\nsymbol  : class JRFillParameter\r\nlocation: class classic_1314606689888_793831\r\n        parameter_REPORT_RESOURCE_BUNDLE = (JRFillParameter)pm.get(&quot;REPORT_RESOURCE_BUNDLE&quot;);\r\n                                            ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:103: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_MaSach = (JRFillField)fm.get(&quot;sach_MaSach&quot;);\r\n                             ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:104: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_TenSach = (JRFillField)fm.get(&quot;sach_TenSach&quot;);\r\n                              ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:105: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_MaNhaXuatBan = (JRFillField)fm.get(&quot;sach_MaNhaXuatBan&quot;);\r\n                                   ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:106: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_GiaBan = (JRFillField)fm.get(&quot;sach_GiaBan&quot;);\r\n                             ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:107: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_SoLuongTon = (JRFillField)fm.get(&quot;sach_SoLuongTon&quot;);\r\n                                 ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:108: cannot find symbol\r\nsymbol  : class JRFillField\r\nlocation: class classic_1314606689888_793831\r\n        field_sach_MaTheLoai = (JRFillField)fm.get(&quot;sach_MaTheLoai&quot;);\r\n                                ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:117: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n        variable_PAGE_NUMBER = (JRFillVariable)vm.get(&quot;PAGE_NUMBER&quot;);\r\n                                ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:118: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class\r\nINFO:  classic_1314606689888_793831\r\n        variable_COLUMN_NUMBER = (JRFillVariable)vm.get(&quot;COLUMN_NUMBER&quot;);\r\n                                  ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:119: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n        variable_REPORT_COUNT = (JRFillVariable)vm.get(&quot;REPORT_COUNT&quot;);\r\n                                 ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:120: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n        variable_PAGE_COUNT = (JRFillVariable)vm.get(&quot;PAGE_COUNT&quot;);\r\n                               ^\r\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:121: cannot find symbol\r\nsymbol  : class JRFillVariable\r\nlocation: class classic_1314606689888_793831\r\n        variable_COLUMN_COUNT = (JRFillVariable)vm.get(&quot;COLUMN_COUNT&quot;);\r\n                                 ^\r\n61 errors\r\n&lt;/pre&gt;\r\n\r\nplease help me this regard to generate report","title":"Error combine jasper report with java servlet","body":"<p>I am generating reports using jasperReports in dwr.i am getting these errors</p>\n\n<pre>\nINFO: Errors were encountered when compiling report expressions class file:\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:4: package net.sf.jasperreports.engine does not exist\nimport net.sf.jasperreports.engine.*;\n^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:5: package net.sf.jasperreports.engine.fill does not exist\nimport net.sf.jasperreports.engine.fill.*;\n^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:13: package net.sf.jasperreports.engine does not exist\nimport net.sf.jasperreports.engine.*;\n^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:15: package net.sf.jasperreports.engine.data does not exist\nimport net.sf.jasperreports.engine.data.*;\n^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:21: cannot find symbol\nsymbol: class JREvaluator\npublic class classic_1314606689888_793831 extends JREvaluator\n                                                  ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:28: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_LOCALE = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:29: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_JASPER_REPORT = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:30: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_VIRTUALIZER = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:31: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_TIME_ZONE = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:32: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_SORT_FIELDS = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:33: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_FILE_RESOLVER = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:34: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_SCRIPTLET = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:35: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_PARAMETERS_MAP = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:36: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_CONNECTION = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:37: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_CLASS_LOADER = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:38: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_DATA_SOURCE = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:39: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_URL_HANDLER_FACTORY = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:40: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_IS_IGNORE_PAGINATION = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:41: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_FORMAT_FACTORY = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:42: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_MAX_COUNT = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:43: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_TEMPLATES = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:44: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n    private JRFillParameter parameter_REPORT_RESOURCE_BUNDLE = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:45: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_MaSach = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:46: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_TenSach = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:47: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_MaNhaXuatBan = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:48: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_GiaBan = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:49: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_SoLuongTon = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:50: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n    private JRFillField field_sach_MaTheLoai = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:51: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n    private JRFillVariable variable_PAGE_NUMBER = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:52: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n    private JRFillVariable variable_COLUMN_NUMBER = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:53: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n    private JRFillVariable variable_REPORT_COUNT = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_13146\nINFO: 06689888_793831.java:54: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n    private JRFillVariable variable_PAGE_COUNT = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:55: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n    private JRFillVariable variable_COLUMN_COUNT = null;\n            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:78: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_LOCALE = (JRFillParameter)pm.get(\"REPORT_LOCALE\");\n                                   ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:79: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_JASPER_REPORT = (JRFillParameter)pm.get(\"JASPER_REPORT\");\n                                   ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:80: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_VIRTUALIZER = (JRFillParameter)pm.get(\"REPORT_VIRTUALIZER\");\n                                        ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:81: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_TIME_ZONE = (JRFillParameter)pm.get(\"REPORT_TIME_ZONE\");\n                                      ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:82: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_SORT_FIELDS = (JRFillParameter)pm.get(\"SORT_FIELDS\");\n                                 ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:83: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_FILE_RESOLVER = (JRFillParameter)pm.get(\"REPORT_FILE_RESOLVER\");\n                                          ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:84: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_SCRIPTLET = (JRFillParameter)pm.get(\"REPORT_SCRIPTLET\");\n                                      ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:85: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_PARAMETERS_MAP = (JRFillParameter)pm.get(\"REPORT_PARAMETERS_MAP\");\n                                           ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:86: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_CONNECTION = (JRFillParameter)pm.get(\"REPORT_CONNECTION\");\n                                       ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:87: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_CLASS_LOADER = (JRFillParameter)pm.get(\"REPORT_CLASS_LOADER\");\n                                         ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:88: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_DATA_SOURCE = (JRFillParameter)pm.get(\"REPORT_DATA_SOURCE\");\n                                        ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:89: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_URL_HANDLER_FACTORY = (JRFillParameter)pm.get(\"REPORT_URL_HANDLER_FACTORY\");\n                                                ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:90: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_IS_IGNORE_PAGINATION = (JRFillParameter)pm.get(\"IS_IGNORE_PAGINATION\");\n                                          ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:91: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_FORMAT_FACTORY = (JRFillParameter)pm.get(\"REPORT_FORMAT_FACTORY\");\n                                           ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:92: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_MAX_COUNT = (JRFillParameter)pm.get(\"REPORT_MAX_COUNT\");\n                                      ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:93: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_TEMPLATES = (JRFillParameter)pm.get(\"REPORT_TEMPLATES\");\n                                      ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:94: cannot find symbol\nsymbol  : class JRFillParameter\nlocation: class classic_1314606689888_793831\n        parameter_REPORT_RESOURCE_BUNDLE = (JRFillParameter)pm.get(\"REPORT_RESOURCE_BUNDLE\");\n                                            ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:103: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_MaSach = (JRFillField)fm.get(\"sach_MaSach\");\n                             ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:104: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_TenSach = (JRFillField)fm.get(\"sach_TenSach\");\n                              ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:105: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_MaNhaXuatBan = (JRFillField)fm.get(\"sach_MaNhaXuatBan\");\n                                   ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:106: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_GiaBan = (JRFillField)fm.get(\"sach_GiaBan\");\n                             ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:107: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_SoLuongTon = (JRFillField)fm.get(\"sach_SoLuongTon\");\n                                 ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:108: cannot find symbol\nsymbol  : class JRFillField\nlocation: class classic_1314606689888_793831\n        field_sach_MaTheLoai = (JRFillField)fm.get(\"sach_MaTheLoai\");\n                                ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:117: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n        variable_PAGE_NUMBER = (JRFillVariable)vm.get(\"PAGE_NUMBER\");\n                                ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:118: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class\nINFO:  classic_1314606689888_793831\n        variable_COLUMN_NUMBER = (JRFillVariable)vm.get(\"COLUMN_NUMBER\");\n                                  ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:119: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n        variable_REPORT_COUNT = (JRFillVariable)vm.get(\"REPORT_COUNT\");\n                                 ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:120: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n        variable_PAGE_COUNT = (JRFillVariable)vm.get(\"PAGE_COUNT\");\n                               ^\nC:\\Program Files\\glassfish-3.1\\glassfish\\domains\\domain1\\classic_1314606689888_793831.java:121: cannot find symbol\nsymbol  : class JRFillVariable\nlocation: class classic_1314606689888_793831\n        variable_COLUMN_COUNT = (JRFillVariable)vm.get(\"COLUMN_COUNT\");\n                                 ^\n61 errors\n</pre>\n\n<p>please help me this regard to generate report</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1641603731,"post_id":70623951,"comment_id":124855659,"body_markdown":"Why not just read the documentation for [`BigInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html)?","body":"Why not just read the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a>?"}],"answers":[{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1641571534,"creation_date":1641571534,"answer_id":70624040,"question_id":70623951,"body_markdown":"Java has [BigInteger.getLowestSetBit()][1] which does what you want:\r\n\r\n&gt; Returns the index of the rightmost (lowest-order) one bit in this BigInteger (the number of zero bits to the right of the rightmost one bit).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html#getLowestSetBit()","title":"Is there a standard function like Integer.numberOfTrailingZeros(n), but for BigIntegers?","body":"<p>Java has <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html#getLowestSetBit()\" rel=\"nofollow noreferrer\">BigInteger.getLowestSetBit()</a> which does what you want:</p>\n<blockquote>\n<p>Returns the index of the rightmost (lowest-order) one bit in this BigInteger (the number of zero bits to the right of the rightmost one bit).</p>\n</blockquote>\n"}],"owner":{"account_id":11867069,"reputation":143,"user_id":8684323,"display_name":"Frax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70624040,"answer_count":1,"score":0,"last_activity_date":1641571534,"creation_date":1641571202,"question_id":70623951,"body_markdown":"I&#39;m working with huge numbers (Millions of digits), and that function would be very useful, instead of doing BigInteger.shiftright(n) in a while loop.\r\n\r\nCan someone help me? Thanks! ","title":"Is there a standard function like Integer.numberOfTrailingZeros(n), but for BigIntegers?","body":"<p>I'm working with huge numbers (Millions of digits), and that function would be very useful, instead of doing BigInteger.shiftright(n) in a while loop.</p>\n<p>Can someone help me? Thanks!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1641552060,"post_id":70619912,"comment_id":124838780,"body_markdown":"Your code was formatted as html, I [removed the html formatting](https://stackoverflow.com/posts/70619912/revisions).","body":"Your code was formatted as html, I <a href=\"https://stackoverflow.com/posts/70619912/revisions\">removed the html formatting</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1641552361,"post_id":70619912,"comment_id":124838880,"body_markdown":"Don&#39;t use nodes like `ImageView` as cell values, instead, just return a property which is a path to the image as a string (or an Image if you want) as the cell value and provide a separate [cell factory](https://edencoding.com/tableview-customization-cellfactory/).","body":"Don&#39;t use nodes like <code>ImageView</code> as cell values, instead, just return a property which is a path to the image as a string (or an Image if you want) as the cell value and provide a separate <a href=\"https://edencoding.com/tableview-customization-cellfactory/\" rel=\"nofollow noreferrer\">cell factory</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641552491,"post_id":70619912,"comment_id":124838930,"body_markdown":"Also, a node can only appear once in a scene.  So, trying to use exactly the same ImageView for different rows will not work.","body":"Also, a node can only appear once in a scene.  So, trying to use exactly the same ImageView for different rows will not work."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641552602,"post_id":70619912,"comment_id":124838967,"body_markdown":"A [lambda is better than a PropertyValueFactory](https://stackoverflow.com/questions/38049734/java-setcellvaluefactory-lambda-vs-propertyvaluefactory-advantages-disadvant#:~:text=In%20the%20lambda%20expression%20the%20compiler%20can%20do,is%20not%20done.%20Does%20not%20work%20with%20records.), though, in this case, there is no issue with your property value factories.","body":"A <a href=\"https://stackoverflow.com/questions/38049734/java-setcellvaluefactory-lambda-vs-propertyvaluefactory-advantages-disadvant#:~:text=In%20the%20lambda%20expression%20the%20compiler%20can%20do,is%20not%20done.%20Does%20not%20work%20with%20records.\">lambda is better than a PropertyValueFactory</a>, though, in this case, there is no issue with your property value factories."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641571515,"creation_date":1641571515,"answer_id":70624035,"question_id":70619912,"body_markdown":"As stated in the comments by @jewelsea, your model class (`Apple`) should contain only data; it should not contain UI fields such as `ImageView`. Any `Node` can only appear once in the scene graph, which is why you only see the `ImageView` in a single row in the table.\r\n\r\nYou should instead store either the path to the image, or the `Image` (which is only data) itself in the model class. The trade-off between these two choices is a compute-time versus memory consumption trade-off. If you store the path to the image, the image will need to be loaded each time a cell updates (e.g. during scrolling), which takes time. On the other hand, if you store the `Image`, then all images needed for the entire table will need to be stored in memory, whether or not they are displayed.\r\n\r\nI would recommend storing the `Image` in the model class if your table only needs a small number of images. This may happen if the table only has a few rows, or if there are a small number of images and multiple rows show the same image. Note that `Image`s *can* be shared by multiple `ImageView`s, so there is no need to load any single `Image` more than once.\r\n\r\nUsing `Image` in the model class would look like this:\r\n\r\n    public class Apple {\r\n    \r\n        private String name;\r\n        private Image image;\r\n    \r\n        public Apple(String name, Image image) {\r\n            this.name = name;\r\n            this.image = image;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Image getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(Image image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\nYou will need a cell implementation to display the image:\r\n\r\n    public class ImageCell extends TableCell&lt;Apple, Image&gt; {\r\n    \r\n        private static final IMAGE_SIZE = 20 ;\r\n        private final ImageView imageView ;\r\n    \r\n        public TableCell() {\r\n            imageView = new ImageView();\r\n            imageView.setFitWidth(IMAGE_SIZE);\r\n            imageView.setFitHeight(IMAGE_SIZE);\r\n            imageView.setPreserveRatio(true);\r\n        }\r\n    \r\n       @Override\r\n       protected void updateItem(Image image, boolean empty) {\r\n            if (empty || item == null) {\r\n                setGraphic(null);\r\n            } else {\r\n                imageView.setImage(image);\r\n                setGraphic(imageView);\r\n            }\r\n       }\r\n    }\r\n\r\nAnd your application code looks like:\r\n\r\n    public class MainController implements Initializable {\r\n    \r\n        public TableView&lt;Apple&gt; table;\r\n        public TableColumn&lt;Apple, String&gt; nameColumn;\r\n        public TableColumn&lt;Apple, Image&gt; imageColumn;\r\n    \r\n        Image downloadImage = new Image(&quot;download.jpg&quot;);\r\n        Apple apple = new Apple(&quot;Bob&quot;,downloadImage);\r\n        Apple apple2 = new Apple(&quot;John&quot;,downloadImage);\r\n        \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            imageColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue().getImage()));\r\n    \r\n            imageColumn.setCellFactory(column -&gt; new ImageCell());\r\n    \r\n            nameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\r\n            table.setItems(FXCollections.observableArrayList(apple2, apple));\r\n        }\r\n    }\r\n\r\n--- \r\n\r\nIf you have a large number of distinct images in the table, which is probably unlikely, you should represent the path to the image in the model class instead:\r\n\r\n    public class Apple {\r\n    \r\n        private String name;\r\n        private String imagePath;\r\n    \r\n        public Apple(String name, String imagePath) {\r\n            this.name = name;\r\n            this.imagePath = imagePath;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getImagePath() {\r\n            return imagePath;\r\n        }\r\n    \r\n        public void setImage(String imagePath) {\r\n            this.imagePath = imagePath;\r\n        }\r\n    }\r\n\r\nThen your cell class needs to load the image:\r\n\r\n    public class ImageCell extends TableCell&lt;Apple, String&gt; {\r\n    \r\n        private static final IMAGE_SIZE = 20 ;\r\n        private final ImageView imageView ;\r\n    \r\n        public TableCell() {\r\n            imageView = new ImageView();\r\n            imageView.setFitWidth(IMAGE_SIZE);\r\n            imageView.setFitHeight(IMAGE_SIZE);\r\n            imageView.setPreserveRatio(true);\r\n        }\r\n    \r\n       @Override\r\n       protected void updateItem(String imagePath, boolean empty) {\r\n            if (empty || item == null) {\r\n                setGraphic(null);\r\n            } else {\r\n                imageView.setImage(new Image(imagePath));\r\n                setGraphic(imageView);\r\n            }\r\n       }\r\n    }\r\n\r\nand your application code has the obvious modifications:\r\n\r\n    public class MainController implements Initializable {\r\n    \r\n        public TableView&lt;Apple&gt; table;\r\n        public TableColumn&lt;Apple, String&gt; nameColumn;\r\n        public TableColumn&lt;Apple, String&gt; imageColumn;\r\n    \r\n        Apple apple = new Apple(&quot;Bob&quot;, &quot;download.jpg&quot;);\r\n        Apple apple2 = new Apple(&quot;John&quot;, &quot;download.jpg&quot;);\r\n        \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            imageColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getImagePath()));\r\n    \r\n            imageColumn.setCellFactory(column -&gt; new ImageCell());\r\n    \r\n            nameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\r\n            table.setItems(FXCollections.observableArrayList(apple2, apple));\r\n        }\r\n    }","title":"How to correctly set images inside TableView","body":"<p>As stated in the comments by @jewelsea, your model class (<code>Apple</code>) should contain only data; it should not contain UI fields such as <code>ImageView</code>. Any <code>Node</code> can only appear once in the scene graph, which is why you only see the <code>ImageView</code> in a single row in the table.</p>\n<p>You should instead store either the path to the image, or the <code>Image</code> (which is only data) itself in the model class. The trade-off between these two choices is a compute-time versus memory consumption trade-off. If you store the path to the image, the image will need to be loaded each time a cell updates (e.g. during scrolling), which takes time. On the other hand, if you store the <code>Image</code>, then all images needed for the entire table will need to be stored in memory, whether or not they are displayed.</p>\n<p>I would recommend storing the <code>Image</code> in the model class if your table only needs a small number of images. This may happen if the table only has a few rows, or if there are a small number of images and multiple rows show the same image. Note that <code>Image</code>s <em>can</em> be shared by multiple <code>ImageView</code>s, so there is no need to load any single <code>Image</code> more than once.</p>\n<p>Using <code>Image</code> in the model class would look like this:</p>\n<pre><code>public class Apple {\n\n    private String name;\n    private Image image;\n\n    public Apple(String name, Image image) {\n        this.name = name;\n        this.image = image;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Image getImage() {\n        return image;\n    }\n\n    public void setImage(Image image) {\n        this.image = image;\n    }\n}\n</code></pre>\n<p>You will need a cell implementation to display the image:</p>\n<pre><code>public class ImageCell extends TableCell&lt;Apple, Image&gt; {\n\n    private static final IMAGE_SIZE = 20 ;\n    private final ImageView imageView ;\n\n    public TableCell() {\n        imageView = new ImageView();\n        imageView.setFitWidth(IMAGE_SIZE);\n        imageView.setFitHeight(IMAGE_SIZE);\n        imageView.setPreserveRatio(true);\n    }\n\n   @Override\n   protected void updateItem(Image image, boolean empty) {\n        if (empty || item == null) {\n            setGraphic(null);\n        } else {\n            imageView.setImage(image);\n            setGraphic(imageView);\n        }\n   }\n}\n</code></pre>\n<p>And your application code looks like:</p>\n<pre><code>public class MainController implements Initializable {\n\n    public TableView&lt;Apple&gt; table;\n    public TableColumn&lt;Apple, String&gt; nameColumn;\n    public TableColumn&lt;Apple, Image&gt; imageColumn;\n\n    Image downloadImage = new Image(&quot;download.jpg&quot;);\n    Apple apple = new Apple(&quot;Bob&quot;,downloadImage);\n    Apple apple2 = new Apple(&quot;John&quot;,downloadImage);\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        imageColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue().getImage()));\n\n        imageColumn.setCellFactory(column -&gt; new ImageCell());\n\n        nameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\n        table.setItems(FXCollections.observableArrayList(apple2, apple));\n    }\n}\n</code></pre>\n<hr />\n<p>If you have a large number of distinct images in the table, which is probably unlikely, you should represent the path to the image in the model class instead:</p>\n<pre><code>public class Apple {\n\n    private String name;\n    private String imagePath;\n\n    public Apple(String name, String imagePath) {\n        this.name = name;\n        this.imagePath = imagePath;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getImagePath() {\n        return imagePath;\n    }\n\n    public void setImage(String imagePath) {\n        this.imagePath = imagePath;\n    }\n}\n</code></pre>\n<p>Then your cell class needs to load the image:</p>\n<pre><code>public class ImageCell extends TableCell&lt;Apple, String&gt; {\n\n    private static final IMAGE_SIZE = 20 ;\n    private final ImageView imageView ;\n\n    public TableCell() {\n        imageView = new ImageView();\n        imageView.setFitWidth(IMAGE_SIZE);\n        imageView.setFitHeight(IMAGE_SIZE);\n        imageView.setPreserveRatio(true);\n    }\n\n   @Override\n   protected void updateItem(String imagePath, boolean empty) {\n        if (empty || item == null) {\n            setGraphic(null);\n        } else {\n            imageView.setImage(new Image(imagePath));\n            setGraphic(imageView);\n        }\n   }\n}\n</code></pre>\n<p>and your application code has the obvious modifications:</p>\n<pre><code>public class MainController implements Initializable {\n\n    public TableView&lt;Apple&gt; table;\n    public TableColumn&lt;Apple, String&gt; nameColumn;\n    public TableColumn&lt;Apple, String&gt; imageColumn;\n\n    Apple apple = new Apple(&quot;Bob&quot;, &quot;download.jpg&quot;);\n    Apple apple2 = new Apple(&quot;John&quot;, &quot;download.jpg&quot;);\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        imageColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getImagePath()));\n\n        imageColumn.setCellFactory(column -&gt; new ImageCell());\n\n        nameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\n        table.setItems(FXCollections.observableArrayList(apple2, apple));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23826058,"reputation":13,"user_id":17833082,"display_name":"Renaldinho69"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70624035,"answer_count":1,"score":1,"last_activity_date":1641571515,"creation_date":1641551674,"question_id":70619912,"body_markdown":"Im trying to populata a tableview with objects thats have ImageView as one of their values, but only the last item in the tableview is displaying the image, none of the rest do\r\n\r\n    public class MainController implements Initializable {\r\n\r\n        public TableView&lt;Apple&gt; table;\r\n        public TableColumn nameColumn;\r\n        public TableColumn imageColumn;\r\n\r\n        ImageView imageView = new ImageView(new Image(&quot;download.jpg&quot;));\r\n        Apple apple = new Apple(&quot;Bob&quot;,imageView);\r\n        Apple apple2 = new Apple(&quot;John&quot;,imageView);\r\n        Apple[] apples = {apple2,apple};\r\n        List&lt;Apple&gt; appleList = Arrays.asList(apples);\r\n        \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            imageColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;image&quot;));\r\n            nameColumn.setCellValueFactory((new PropertyValueFactory&lt;&gt;(&quot;name&quot;)));\r\n            table.setItems(FXCollections.observableArrayList(appleList));\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    public class Apple {\r\n\r\n        private final int SIZE = 20;\r\n\r\n        String name;\r\n        ImageView image;\r\n\r\n        public Apple(String name, ImageView image) {\r\n            this.name = name;\r\n            this.image = image;\r\n            image.setFitHeight(SIZE);\r\n            image.setFitWidth(SIZE);\r\n\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public ImageView getImage() {\r\n            return image;\r\n        }\r\n\r\n        public void setImage(ImageView image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\nIm not sure why this is happening, i&#39;ve seen people online setting the images 1 by 1 using loops though.","title":"How to correctly set images inside TableView","body":"<p>Im trying to populata a tableview with objects thats have ImageView as one of their values, but only the last item in the tableview is displaying the image, none of the rest do</p>\n<pre><code>public class MainController implements Initializable {\n\n    public TableView&lt;Apple&gt; table;\n    public TableColumn nameColumn;\n    public TableColumn imageColumn;\n\n    ImageView imageView = new ImageView(new Image(&quot;download.jpg&quot;));\n    Apple apple = new Apple(&quot;Bob&quot;,imageView);\n    Apple apple2 = new Apple(&quot;John&quot;,imageView);\n    Apple[] apples = {apple2,apple};\n    List&lt;Apple&gt; appleList = Arrays.asList(apples);\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        imageColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;image&quot;));\n        nameColumn.setCellValueFactory((new PropertyValueFactory&lt;&gt;(&quot;name&quot;)));\n        table.setItems(FXCollections.observableArrayList(appleList));\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Apple {\n\n    private final int SIZE = 20;\n\n    String name;\n    ImageView image;\n\n    public Apple(String name, ImageView image) {\n        this.name = name;\n        this.image = image;\n        image.setFitHeight(SIZE);\n        image.setFitWidth(SIZE);\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public ImageView getImage() {\n        return image;\n    }\n\n    public void setImage(ImageView image) {\n        this.image = image;\n    }\n}\n</code></pre>\n<p>Im not sure why this is happening, i've seen people online setting the images 1 by 1 using loops though.</p>\n"},{"tags":["java","multithreading","asynchronous","java-8","completable-future"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1641569548,"post_id":70623480,"comment_id":124845485,"body_markdown":"Do those service calls really need to be wrapped in a `CompletableFuture`?","body":"Do those service calls really need to be wrapped in a <code>CompletableFuture</code>?"},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1641569798,"post_id":70623480,"comment_id":124845585,"body_markdown":"@andrew-s No, originally those methods are returning `List&lt;DTO&gt;`. I have wrapped them `CompletableFuture` and combined them to make async calls, not sure if that&#39;s the correct way","body":"@andrew-s No, originally those methods are returning <code>List&lt;DTO&gt;</code>. I have wrapped them <code>CompletableFuture</code> and combined them to make async calls, not sure if that&#39;s the correct way"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1641570795,"post_id":70623480,"comment_id":124846069,"body_markdown":"To clarify: why not just `service1.callMethod1()` ? Why wrap in a `CompletableFuture`?  Maybe [this](https://stackoverflow.com/questions/27940704/how-to-load-cache-on-startup-in-spring) will help too.","body":"To clarify: why not just <code>service1.callMethod1()</code> ? Why wrap in a <code>CompletableFuture</code>?  Maybe <a href=\"https://stackoverflow.com/questions/27940704/how-to-load-cache-on-startup-in-spring\">this</a> will help too."},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1641574020,"post_id":70623480,"comment_id":124847585,"body_markdown":"@andrew-s As I said, as per my limited knowledge I have wrapped them in `CompletableFuture` to call them on different thread and If I do `service1.callMethod1()` then it will be called on same thread.","body":"@andrew-s As I said, as per my limited knowledge I have wrapped them in <code>CompletableFuture</code> to call them on different thread and If I do <code>service1.callMethod1()</code> then it will be called on same thread."}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641571241,"creation_date":1641571241,"answer_id":70623959,"question_id":70623480,"body_markdown":"```\r\nCompletableFuture&lt;List&lt;DTO1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; service1.callMethod1());\r\nCompletableFuture&lt;List&lt;DTO2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; service2.callMethod2());\r\nCompletableFuture&lt;List&lt;DTO3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; service3.callMethod3());\r\n```\r\n\r\nThis code is already instructing all three futures to run on different threads (assuming that there are at least 3 threads in the [common pool][1]). Calling `join()` on one of them simply instructs the calling thread to block on completion of that task, and doesn&#39;t change the fact that the 3 calls are proceeding in parallel. All of your solutions that compile are reasonable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()","title":"How to run combined CompletableFutures asynchronously","body":"<pre><code>CompletableFuture&lt;List&lt;DTO1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; service1.callMethod1());\nCompletableFuture&lt;List&lt;DTO2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; service2.callMethod2());\nCompletableFuture&lt;List&lt;DTO3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; service3.callMethod3());\n</code></pre>\n<p>This code is already instructing all three futures to run on different threads (assuming that there are at least 3 threads in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">common pool</a>). Calling <code>join()</code> on one of them simply instructs the calling thread to block on completion of that task, and doesn't change the fact that the 3 calls are proceeding in parallel. All of your solutions that compile are reasonable.</p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641571241,"creation_date":1641569142,"question_id":70623480,"body_markdown":"I want to load data on the application startup by calling different services which returns lists of different object types. Each service calls DAO class to read some data. So I have created individual `CompletableFuture` like:\r\n\r\n    CompletableFuture&lt;List&lt;DTO1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; service1.callMethod1());\r\n    CompletableFuture&lt;List&lt;DTO2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; service2.callMethod2());\r\n    CompletableFuture&lt;List&lt;DTO3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; service3.callMethod3());\r\n\r\n \r\nand combined them like:\r\n \r\n\r\n    CompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(future1, future2, future3);\r\n\r\n \r\nIf I do something like:\r\n\r\n    combinedFuture.thenRunAsync(()-&gt;future1.join(), future2.join(), future3.join())\r\n\r\nThen I am getting the compile time error. I am new to the Java 8 concurrency features such as `CompletableFuture`, I thought calling `thenRunAsync` will run each `future1,future2,future3` in different threads. Is it correct way to do it by calling `thenRunAsync`? If Yes, then how to remove that compile time error?\r\n\r\nBut if I do something like:\r\n\r\n    Stream.of(future1, future2, future3)\r\n    \t\t.map(CompletableFuture::join)\r\n    \t\t.collect(Collectors.toList());\r\n\r\nIt is returning `List&lt;? extends List&lt;?&gt;&gt;` then It seems to work but should I call `.collect(Collectors.toList())` ? I am not concerned about this combined result as each of the individual method calls are already annotated with `@Cacheable` for caching purposes.\r\nAlso, If I do something like:\r\n\r\n    Stream.of(future1, future2, future3)\r\n    \t\t.foreach(CompletableFuture::join);\r\n\r\nwill it run each `future1,future2,future3` in different threads? How can I run `future1,future2,future3` in 3 different threads?\r\nIs there any correct way to run these three database calls asynchronously?\r\n","title":"How to run combined CompletableFutures asynchronously","body":"<p>I want to load data on the application startup by calling different services which returns lists of different object types. Each service calls DAO class to read some data. So I have created individual <code>CompletableFuture</code> like:</p>\n<pre><code>CompletableFuture&lt;List&lt;DTO1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; service1.callMethod1());\nCompletableFuture&lt;List&lt;DTO2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; service2.callMethod2());\nCompletableFuture&lt;List&lt;DTO3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; service3.callMethod3());\n</code></pre>\n<p>and combined them like:</p>\n<pre><code>CompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(future1, future2, future3);\n</code></pre>\n<p>If I do something like:</p>\n<pre><code>combinedFuture.thenRunAsync(()-&gt;future1.join(), future2.join(), future3.join())\n</code></pre>\n<p>Then I am getting the compile time error. I am new to the Java 8 concurrency features such as <code>CompletableFuture</code>, I thought calling <code>thenRunAsync</code> will run each <code>future1,future2,future3</code> in different threads. Is it correct way to do it by calling <code>thenRunAsync</code>? If Yes, then how to remove that compile time error?</p>\n<p>But if I do something like:</p>\n<pre><code>Stream.of(future1, future2, future3)\n        .map(CompletableFuture::join)\n        .collect(Collectors.toList());\n</code></pre>\n<p>It is returning <code>List&lt;? extends List&lt;?&gt;&gt;</code> then It seems to work but should I call <code>.collect(Collectors.toList())</code> ? I am not concerned about this combined result as each of the individual method calls are already annotated with <code>@Cacheable</code> for caching purposes.\nAlso, If I do something like:</p>\n<pre><code>Stream.of(future1, future2, future3)\n        .foreach(CompletableFuture::join);\n</code></pre>\n<p>will it run each <code>future1,future2,future3</code> in different threads? How can I run <code>future1,future2,future3</code> in 3 different threads?\nIs there any correct way to run these three database calls asynchronously?</p>\n"},{"tags":["java","typeerror","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":20011551,"reputation":1338,"user_id":14668475,"display_name":"Jean-Christophe Gueriaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641571138,"creation_date":1641571138,"answer_id":70623934,"question_id":70623730,"body_markdown":"The function is defined is specific to this recipe and is defined here: \r\n```\r\nprivate void initScrollWhenReady() {\r\n            runBeforeClientResponse(\r\n                ui -&gt;\r\n                    getElement()\r\n                        .executeJs(\r\n                            &quot;this.scrollWhenReady = function(index, firstCall){&quot; +\r\n                            &quot;if(this.loading || firstCall) {var that = this; setTimeout(function(){that.scrollWhenReady(index, false);}, 200);}&quot; +\r\n                            &quot;        else {this.scrollToIndex(index);}&quot; +\r\n                            &quot;};&quot;\r\n                        )\r\n            );\r\n        }\r\n```\r\n\r\nDid you copy this code and is it executed? It should be executed when the view is attached.","title":"(TypeError): this.scrollWhenReady is not a function (Vaadin 14.6.4 + java backend)","body":"<p>The function is defined is specific to this recipe and is defined here:</p>\n<pre><code>private void initScrollWhenReady() {\n            runBeforeClientResponse(\n                ui -&gt;\n                    getElement()\n                        .executeJs(\n                            &quot;this.scrollWhenReady = function(index, firstCall){&quot; +\n                            &quot;if(this.loading || firstCall) {var that = this; setTimeout(function(){that.scrollWhenReady(index, false);}, 200);}&quot; +\n                            &quot;        else {this.scrollToIndex(index);}&quot; +\n                            &quot;};&quot;\n                        )\n            );\n        }\n</code></pre>\n<p>Did you copy this code and is it executed? It should be executed when the view is attached.</p>\n"}],"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641571138,"creation_date":1641570242,"question_id":70623730,"body_markdown":"My problem is to scrollToItem in an in-memory TreeGrid doesn&#39;t work.\r\n\r\nI tried to use the solution of coockbook (https://cookbook.vaadin.com/scroll-to-item-in-tree-grid), but the scrollToItem doesn&#39;t work, and I get a red error with &quot;(TypeError): this.scrollWhenReady is not a function&quot; message.\r\n\r\nMy question is that &quot;scrollWhenReady&quot; function is available on different name or the coockbook is not useful for Vaadin 14.6.4 version? ","title":"(TypeError): this.scrollWhenReady is not a function (Vaadin 14.6.4 + java backend)","body":"<p>My problem is to scrollToItem in an in-memory TreeGrid doesn't work.</p>\n<p>I tried to use the solution of coockbook (<a href=\"https://cookbook.vaadin.com/scroll-to-item-in-tree-grid\" rel=\"nofollow noreferrer\">https://cookbook.vaadin.com/scroll-to-item-in-tree-grid</a>), but the scrollToItem doesn't work, and I get a red error with &quot;(TypeError): this.scrollWhenReady is not a function&quot; message.</p>\n<p>My question is that &quot;scrollWhenReady&quot; function is available on different name or the coockbook is not useful for Vaadin 14.6.4 version?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641565850,"post_id":70622297,"comment_id":124843926,"body_markdown":"I don&#39;t understand your question. What is not working?","body":"I don&#39;t understand your question. What is not working?"},{"owner":{"account_id":8425100,"reputation":7,"user_id":6322654,"display_name":"langton"},"score":0,"creation_date":1641566360,"post_id":70622297,"comment_id":124844143,"body_markdown":"@Simon Martinelli - So i implemented User details service for which it has loadByUsername method and i overrode it in UserDetailsServiceImpl and when i autowire UserDetailsServiceImpl in my AuthTokenFilter when i try to call loadByUsername on UserDetailsServiceImpl instance it says &#39;undefined type of user details service impl","body":"@Simon Martinelli - So i implemented User details service for which it has loadByUsername method and i overrode it in UserDetailsServiceImpl and when i autowire UserDetailsServiceImpl in my AuthTokenFilter when i try to call loadByUsername on UserDetailsServiceImpl instance it says &#39;undefined type of user details service impl"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1641567258,"post_id":70622297,"comment_id":124844536,"body_markdown":"Please add the whole trace of the error. Incidentaly, you could run your project in debug and check if `userDetailsService` is null.","body":"Please add the whole trace of the error. Incidentaly, you could run your project in debug and check if <code>userDetailsService</code> is null."},{"owner":{"account_id":8425100,"reputation":7,"user_id":6322654,"display_name":"langton"},"score":0,"creation_date":1641568794,"post_id":70622297,"comment_id":124845211,"body_markdown":"@Jetto Martinez - it was not on stack trace it was when i hover my mouse over the red underline but i know eclipse has a habbit of showing errors where there is none, i had to allow it to create another method inthe user details service impl and delete the former for it to work","body":"@Jetto Martinez - it was not on stack trace it was when i hover my mouse over the red underline but i know eclipse has a habbit of showing errors where there is none, i had to allow it to create another method inthe user details service impl and delete the former for it to work"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641569648,"post_id":70622297,"comment_id":124845529,"body_markdown":"I can&#39;t see how you inject userDetailsService","body":"I can&#39;t see how you inject userDetailsService"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1641573428,"post_id":70622297,"comment_id":124847297,"body_markdown":"I don&#39;t know what version of Eclipse you are using or what versions you&#39;ve used, but I&#39;ve never seen the behavior you mention. Please, add your whole class. If the IDE is prompting an error, we need to check if there is a syntax error/misspell.","body":"I don&#39;t know what version of Eclipse you are using or what versions you&#39;ve used, but I&#39;ve never seen the behavior you mention. Please, add your whole class. If the IDE is prompting an error, we need to check if there is a syntax error/misspell."}],"answers":[{"tags":[],"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641570890,"creation_date":1641570890,"answer_id":70623875,"question_id":70622297,"body_markdown":"\r\nUse \r\n\r\n**&#39;@Autowired&#39;**\r\n\r\nUserDetailService userDetailsService;","title":"Method not defined for UserDetaildsServiceImpl","body":"<p>Use</p>\n<p><strong>'@Autowired'</strong></p>\n<p>UserDetailService userDetailsService;</p>\n"}],"owner":{"account_id":8425100,"reputation":7,"user_id":6322654,"display_name":"langton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641570890,"creation_date":1641563937,"question_id":70622297,"body_markdown":"Good day am not sure what is going i suspect eclipse but in a UserDetailsServiceImpl it \r\n   is defined since i implemented the spring`s UserDetailsService below is is my code\r\n\r\n    \r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\ttry {\r\n\t\t\tString jwt = parseJwt(request);\r\n\t\t\tif (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n\t\t\t\tString username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n\r\n\t\t\t\tUserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\t\t\t\tUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\tuserDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tauthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n\t\t}\r\n\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate String parseJwt(HttpServletRequest request) {\r\n\t\tString headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n\r\n\t\tif (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn headerAuth.substring(7, headerAuth.length());\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\nthis is the line giving headache &quot;UserDetails userDetails = userDetailsService.loadUserByUsername(username)&quot;\r\nThank you in advance\r\n    ","title":"Method not defined for UserDetaildsServiceImpl","body":"<p>Good day am not sure what is going i suspect eclipse but in a UserDetailsServiceImpl it\nis defined since i implemented the spring`s UserDetailsService below is is my code</p>\n<pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n    try {\n        String jwt = parseJwt(request);\n        if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n            String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities());\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n    } catch (Exception e) {\n        logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n    }\n\n    filterChain.doFilter(request, response);\n}\n\nprivate String parseJwt(HttpServletRequest request) {\n    String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n    if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n        return headerAuth.substring(7, headerAuth.length());\n    }\n\n    return null;\n}\n</code></pre>\n<p>this is the line giving headache &quot;UserDetails userDetails = userDetailsService.loadUserByUsername(username)&quot;\nThank you in advance</p>\n"},{"tags":["java","firebase-realtime-database","discord-jda"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641559089,"post_id":70621313,"comment_id":124841233,"body_markdown":"Is that an Android project? If yes, have you tried to use an async approach as explained in this [answer](https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774)?","body":"Is that an Android project? If yes, have you tried to use an async approach as explained in this <a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">answer</a>?"},{"owner":{"account_id":11064716,"reputation":81,"user_id":8124870,"display_name":"JustAnotherPatrick"},"score":0,"creation_date":1641559117,"post_id":70621313,"comment_id":124841243,"body_markdown":"This is not an Android project, it&#39;s a Discord bot @AlexMamo","body":"This is not an Android project, it&#39;s a Discord bot @AlexMamo"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1641560972,"post_id":70621313,"comment_id":124841941,"body_markdown":"You need to put all your code inside the thread if you want it to execute in sequence.","body":"You need to put all your code inside the thread if you want it to execute in sequence."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1641570818,"post_id":70621313,"comment_id":124846079,"body_markdown":"This is the expected behavior: data is loaded from Firebase (and most modern cloud APIs) asynchronously (on a different thread already, you don&#39;t need to spawn a `Thread` for that in your code), and your main code continues while the data is being loaded. Then when the data is available, your `onDataChange` gets called with it and you can use it. This means that: **any code that needs the data from Firebase has to be inside `onDataChange`**, be called from there, or otherwise synchronized. See the answers I linked for the options.","body":"This is the expected behavior: data is loaded from Firebase (and most modern cloud APIs) asynchronously (on a different thread already, you don&#39;t need to spawn a <code>Thread</code> for that in your code), and your main code continues while the data is being loaded. Then when the data is available, your <code>onDataChange</code> gets called with it and you can use it. This means that: <b>any code that needs the data from Firebase has to be inside <code>onDataChange</code></b>, be called from there, or otherwise synchronized. See the answers I linked for the options."}],"owner":{"account_id":11064716,"reputation":81,"user_id":8124870,"display_name":"JustAnotherPatrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641570825,"answer_count":0,"score":0,"last_activity_date":1641570834,"creation_date":1641558671,"question_id":70621313,"body_markdown":"I&#39;m currently working with Firebase Realtime Database. I&#39;m trying to read the data once when a certain method in my program gets called.\r\n\r\nThis is a project for a Discord bot. (https://github.com/DV8FromTheWorld/JDA)\r\n\r\nThe data _is_ being read, however the execution order is wrong. I make the call to get the data but the program continues even-though the methods haven&#39;t been called yet properly. \r\n\r\nTo showcase my error I will include the code. Within the code I do printlines to illustrate what happens (or the order everything gets executed in).\r\n\r\nI have attempted to work with Threads to fix this but I haven&#39;t managed to get it to work.\r\n\r\nThe code:\r\n\r\n    public class userLogs extends ListenerAdapter {\r\n\r\n    private FirebaseDatabase db;\r\n    private JDA jda;\r\n    private Stack&lt;offense&gt; allOffenses = new Stack&lt;&gt;();\r\n    public userLogs(FirebaseDatabase db, JDA jda){\r\n        this.db = db;\r\n        this.jda = jda;\r\n    }\r\n\r\n    @Override\r\n    public  void onSlashCommand(SlashCommandEvent event)\r\n    {\r\n\r\n        if (!event.getName().equals(&quot;logs&quot;)) return; // make sure we handle the right command\r\n\r\n        this.allOffenses = new Stack&lt;&gt;();\r\n        // Selected user you want the logs from\r\n        String userID = event.getOption(&quot;user&quot;).getAsUser().getId();\r\n\r\n\r\n        new Thread(() -&gt; {\r\n            /** GET ALL MUTES*/\r\n            db.getReference(&quot;Mutes&quot;).addListenerForSingleValueEvent(\r\n                    new ValueEventListener() {\r\n\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                            System.out.println(&quot;I am now getting all logs from the database.&quot;);\r\n\r\n                            for(DataSnapshot ds : dataSnapshot.getChildren()){\r\n                                String offenderID = ds.child(&quot;offenderID&quot;).getValue(String.class);\r\n\r\n                                if(offenderID.equals(userID)) {\r\n                                    // Get moderator\r\n                                    String modID = ds.child(&quot;moderatorID&quot;).getValue(String.class);\r\n                                    User moderator = jda.getUserById(modID);\r\n\r\n                                    // Get reason\r\n                                    String reason = ds.child(&quot;reason&quot;).getValue(String.class);\r\n\r\n                                    Duration duration = Duration.ofSeconds(ds.child(&quot;duration&quot;).getValue(Long.class));\r\n\r\n                                    saveOffense(new offense(&quot;Mute&quot;, moderator.getAsTag(), reason, duration));\r\n                                }\r\n\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n\r\n                        }\r\n                    });\r\n        }).start();\r\n\r\n        System.out.println(&quot;I just got out of the Thread. The stack size is: &quot; + allOffenses.size());\r\n\r\n        // Create embed\r\n        EmbedBuilder eb = new EmbedBuilder();\r\n        eb.setTitle(&quot;Logs for user: &quot; + jda.getUserById(userID).getAsTag());\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for(int i = 0; i &lt; allOffenses.size(); i++){\r\n\r\n            sb.append(&quot;Type: \\n&quot;).append(allOffenses.get(i).getOffenseName());\r\n            sb.append(&quot;Moderator: \\n&quot; + allOffenses.get(i).getModerator());\r\n            sb.append(&quot;Reason: \\n&quot; + allOffenses.get(i).getReason());\r\n\r\n            Duration dur = allOffenses.get(i).getDuration();\r\n            if(dur != Duration.ZERO){\r\n                sb.append(&quot;Duration: \\n&quot; + dur);\r\n            }\r\n\r\n        }\r\n\r\n        eb.setDescription(sb.toString());\r\n\r\n        event.getChannel().sendMessageEmbeds(eb.build()).queue();\r\n\r\n    }\r\n\r\n    void saveOffense(offense off){\r\n        System.out.println(&quot;I just got in the method where I put a found offense into the stack.&quot;);\r\n        this.allOffenses.push(off);\r\n    }\r\n\r\n}\r\n\r\nThis outputs the following whenever the method gets called: (There are 3 offenses logged so that is correct)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FHGXL.png\r\n\r\nAs you can see it exists the thread before it executes the code within it. I&#39;m very confused about this and have spent the past 5+ hours trying to fix this. \r\n\r\nI hope that I&#39;ve explained the issue correctly. Thank you all very much for your help!\r\n","title":"Firebase Realtime Database Code doesn&#39;t wait for database read to complete","body":"<p>I'm currently working with Firebase Realtime Database. I'm trying to read the data once when a certain method in my program gets called.</p>\n<p>This is a project for a Discord bot. (<a href=\"https://github.com/DV8FromTheWorld/JDA\" rel=\"nofollow noreferrer\">https://github.com/DV8FromTheWorld/JDA</a>)</p>\n<p>The data <em>is</em> being read, however the execution order is wrong. I make the call to get the data but the program continues even-though the methods haven't been called yet properly.</p>\n<p>To showcase my error I will include the code. Within the code I do printlines to illustrate what happens (or the order everything gets executed in).</p>\n<p>I have attempted to work with Threads to fix this but I haven't managed to get it to work.</p>\n<p>The code:</p>\n<pre><code>public class userLogs extends ListenerAdapter {\n\nprivate FirebaseDatabase db;\nprivate JDA jda;\nprivate Stack&lt;offense&gt; allOffenses = new Stack&lt;&gt;();\npublic userLogs(FirebaseDatabase db, JDA jda){\n    this.db = db;\n    this.jda = jda;\n}\n\n@Override\npublic  void onSlashCommand(SlashCommandEvent event)\n{\n\n    if (!event.getName().equals(&quot;logs&quot;)) return; // make sure we handle the right command\n\n    this.allOffenses = new Stack&lt;&gt;();\n    // Selected user you want the logs from\n    String userID = event.getOption(&quot;user&quot;).getAsUser().getId();\n\n\n    new Thread(() -&gt; {\n        /** GET ALL MUTES*/\n        db.getReference(&quot;Mutes&quot;).addListenerForSingleValueEvent(\n                new ValueEventListener() {\n\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n\n                        System.out.println(&quot;I am now getting all logs from the database.&quot;);\n\n                        for(DataSnapshot ds : dataSnapshot.getChildren()){\n                            String offenderID = ds.child(&quot;offenderID&quot;).getValue(String.class);\n\n                            if(offenderID.equals(userID)) {\n                                // Get moderator\n                                String modID = ds.child(&quot;moderatorID&quot;).getValue(String.class);\n                                User moderator = jda.getUserById(modID);\n\n                                // Get reason\n                                String reason = ds.child(&quot;reason&quot;).getValue(String.class);\n\n                                Duration duration = Duration.ofSeconds(ds.child(&quot;duration&quot;).getValue(Long.class));\n\n                                saveOffense(new offense(&quot;Mute&quot;, moderator.getAsTag(), reason, duration));\n                            }\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n    }).start();\n\n    System.out.println(&quot;I just got out of the Thread. The stack size is: &quot; + allOffenses.size());\n\n    // Create embed\n    EmbedBuilder eb = new EmbedBuilder();\n    eb.setTitle(&quot;Logs for user: &quot; + jda.getUserById(userID).getAsTag());\n    StringBuilder sb = new StringBuilder();\n\n    for(int i = 0; i &lt; allOffenses.size(); i++){\n\n        sb.append(&quot;Type: \\n&quot;).append(allOffenses.get(i).getOffenseName());\n        sb.append(&quot;Moderator: \\n&quot; + allOffenses.get(i).getModerator());\n        sb.append(&quot;Reason: \\n&quot; + allOffenses.get(i).getReason());\n\n        Duration dur = allOffenses.get(i).getDuration();\n        if(dur != Duration.ZERO){\n            sb.append(&quot;Duration: \\n&quot; + dur);\n        }\n\n    }\n\n    eb.setDescription(sb.toString());\n\n    event.getChannel().sendMessageEmbeds(eb.build()).queue();\n\n}\n\nvoid saveOffense(offense off){\n    System.out.println(&quot;I just got in the method where I put a found offense into the stack.&quot;);\n    this.allOffenses.push(off);\n}\n</code></pre>\n<p>}</p>\n<p>This outputs the following whenever the method gets called: (There are 3 offenses logged so that is correct)</p>\n<p><a href=\"https://i.stack.imgur.com/FHGXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FHGXL.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see it exists the thread before it executes the code within it. I'm very confused about this and have spent the past 5+ hours trying to fix this.</p>\n<p>I hope that I've explained the issue correctly. Thank you all very much for your help!</p>\n"},{"tags":["java","eclipse","maven","javafx"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1618640474,"post_id":67130764,"comment_id":118667940,"body_markdown":"I think this is talking about an entry in the &#39;module-info.java&#39; for the [Java Module System](https://www.oracle.com/corporate/features/understanding-java-9-modules.html)","body":"I think this is talking about an entry in the &#39;module-info.java&#39; for the <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Java Module System</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1618643735,"post_id":67130764,"comment_id":118668555,"body_markdown":"Regarding the JAR file not launching properly, try launching it from the console in order to see the error.","body":"Regarding the JAR file not launching properly, try launching it from the console in order to see the error."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641570601,"creation_date":1622477773,"answer_id":67777227,"question_id":67130764,"body_markdown":"If you are set up as a modular project, you should have a `module-info.java` file directly in your **/src** folder.\r\n\r\nHere is an example of contents of a module-info.java file, from the [openjfx.io Getting Started documentation][1]:\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, the word &quot;transitive&quot; was added to the line for javafx.graphics.\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-Eclipse\r\n  [2]: https://i.stack.imgur.com/0ZAPp.png","title":"why do I get &quot;The type GraphicsContext from module javafx.graphics may not be accessible to clients due to missing &#39;requires transitive&#39;&quot; warning?","body":"<p>If you are set up as a modular project, you should have a <code>module-info.java</code> file directly in your <strong>/src</strong> folder.</p>\n<p>Here is an example of contents of a module-info.java file, from the <a href=\"https://openjfx.io/openjfx-docs/#IDE-Eclipse\" rel=\"noreferrer\">openjfx.io Getting Started documentation</a>:\n<a href=\"https://i.stack.imgur.com/0ZAPp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0ZAPp.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the word &quot;transitive&quot; was added to the line for javafx.graphics.</p>\n"}],"owner":{"account_id":15085298,"reputation":45,"user_id":10886750,"display_name":"Lucas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641570601,"creation_date":1618599400,"question_id":67130764,"body_markdown":"Whenever I create a GraphicsContext object in my JavaFX application, it creates an error that reads:\r\n&gt;The type GraphicsContext from module javafx.graphics may not be accessible to clients due to missing &#39;requires transitive&#39;\r\n\r\nHere&#39;s a small example of code which causes the warning/ error:\r\n```\r\nimport javafx.scene.canvas.GraphicsContext;\r\n\r\n\tpublic Factory(GraphicsContext gc) {\r\n\t\tsuper();\r\n\t\tthis.gc = gc;\r\n\t}\r\n```\r\n\r\nThe GraphicsContext is underlined in the warning colour, and has 3 quick fixes suggested by eclipse. 2 of them include adding @SuppressWarnings which does not fix the problem at all and the other &quot;Configure Problem Serverity&quot; which I think just tells eclipse to not worry about the issue.\r\n\r\nThis code works perfectly when ran in eclipse but when I export as a runnable JAR file, the file closes immediately. I would like the classes to be accessible to clients as GraphicsContexts are funsamental to my application.\r\n\r\nI also get the same error when I use the JavaFX class stage.\r\n&gt;The type Stage from module javafx.graphics may not be accessible to clients due to missing &#39;requires transitive&#39;\r\n\r\nI am using eclipse and jdk-16\r\n\r\nHow/where in my program do I include &#39;requires transitive&#39;? Or is there a differnt problem hidden by this warning?","title":"why do I get &quot;The type GraphicsContext from module javafx.graphics may not be accessible to clients due to missing &#39;requires transitive&#39;&quot; warning?","body":"<p>Whenever I create a GraphicsContext object in my JavaFX application, it creates an error that reads:</p>\n<blockquote>\n<p>The type GraphicsContext from module javafx.graphics may not be accessible to clients due to missing 'requires transitive'</p>\n</blockquote>\n<p>Here's a small example of code which causes the warning/ error:</p>\n<pre><code>import javafx.scene.canvas.GraphicsContext;\n\n    public Factory(GraphicsContext gc) {\n        super();\n        this.gc = gc;\n    }\n</code></pre>\n<p>The GraphicsContext is underlined in the warning colour, and has 3 quick fixes suggested by eclipse. 2 of them include adding @SuppressWarnings which does not fix the problem at all and the other &quot;Configure Problem Serverity&quot; which I think just tells eclipse to not worry about the issue.</p>\n<p>This code works perfectly when ran in eclipse but when I export as a runnable JAR file, the file closes immediately. I would like the classes to be accessible to clients as GraphicsContexts are funsamental to my application.</p>\n<p>I also get the same error when I use the JavaFX class stage.</p>\n<blockquote>\n<p>The type Stage from module javafx.graphics may not be accessible to clients due to missing 'requires transitive'</p>\n</blockquote>\n<p>I am using eclipse and jdk-16</p>\n<p>How/where in my program do I include 'requires transitive'? Or is there a differnt problem hidden by this warning?</p>\n"},{"tags":["java","eclipse","maven","quarkus"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1641571434,"post_id":70623738,"comment_id":124846325,"body_markdown":"Which version of Eclipse: Eclipse 20.03 ? I would really suggest to upgrade your Eclipse version.  https://www.eclipse.org/downloads/packages/","body":"Which version of Eclipse: Eclipse 20.03 ? I would really suggest to upgrade your Eclipse version.  <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a>"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641579091,"post_id":70623738,"comment_id":124849560,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message.","body":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message."},{"owner":{"account_id":2772045,"reputation":962,"user_id":2386451,"accept_rate":58,"display_name":"KFleischer"},"score":0,"creation_date":1641655550,"post_id":70623738,"comment_id":124863886,"body_markdown":"@khmarbaise was correct. I updated Eclipse and this sorted the maven problem out. Now the project can be updated and it builds also in the IDE.","body":"@khmarbaise was correct. I updated Eclipse and this sorted the maven problem out. Now the project can be updated and it builds also in the IDE."}],"owner":{"account_id":2772045,"reputation":962,"user_id":2386451,"accept_rate":58,"display_name":"KFleischer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641570268,"creation_date":1641570268,"question_id":70623738,"body_markdown":"I follow this &quot;getting started guide&quot; from quarkus:\r\nhttps://quarkus.io/guides/getting-started\r\n\r\nAfter step 4 the project is created.\r\n\r\nI switched to my IDE (Eclipse 20.03) and imported the project as &quot;existing maven project&quot;.\r\n\r\nThe import throws a NPE (without any further information where or what the stack trace was)\r\n\r\nI tried to use Maven &gt; Update Project but this also creates the NPE.\r\n\r\nI made sure that the Maven implementation inside eclipse is the the same as outside (3.8.4) and also the JRE is set to the system JRE (JDK11)\r\n\r\nHow can I get Eclipse to import the created Maven project?","title":"maven update project throws Nullpointer for Quarkus getting-started","body":"<p>I follow this &quot;getting started guide&quot; from quarkus:\n<a href=\"https://quarkus.io/guides/getting-started\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started</a></p>\n<p>After step 4 the project is created.</p>\n<p>I switched to my IDE (Eclipse 20.03) and imported the project as &quot;existing maven project&quot;.</p>\n<p>The import throws a NPE (without any further information where or what the stack trace was)</p>\n<p>I tried to use Maven &gt; Update Project but this also creates the NPE.</p>\n<p>I made sure that the Maven implementation inside eclipse is the the same as outside (3.8.4) and also the JRE is set to the system JRE (JDK11)</p>\n<p>How can I get Eclipse to import the created Maven project?</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":6089597,"reputation":748,"user_id":4752381,"display_name":"Airy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1524854421,"creation_date":1524854421,"answer_id":50068478,"question_id":50058861,"body_markdown":"For the first point, I finally achieve doing what I wanted :\r\n\r\n    public Mono&lt;User&gt; getUser(String login) {\r\n       return userRepository.findByLogin(login)\r\n             .flatMap( user -&gt;\r\n                  Mono.just(user)\r\n                  .zipWith(profileRepository.findAllById(user.getProfileObjectIds())\r\n                      .collectionList(),\r\n                      (u, p) -&gt; {\r\n                           u.setProfiles(p);\r\n                           return u;\r\n                       })\r\n                );\r\n    }\r\n\r\n","title":"How to use db references with reactive Spring Data MongoDB?","body":"<p>For the first point, I finally achieve doing what I wanted :</p>\n\n<pre><code>public Mono&lt;User&gt; getUser(String login) {\n   return userRepository.findByLogin(login)\n         .flatMap( user -&gt;\n              Mono.just(user)\n              .zipWith(profileRepository.findAllById(user.getProfileObjectIds())\n                  .collectionList(),\n                  (u, p) -&gt; {\n                       u.setProfiles(p);\n                       return u;\n                   })\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1560416002,"creation_date":1524931308,"answer_id":50078429,"question_id":50058861,"body_markdown":"# TL;DR\r\n\r\nThere&#39;s no `DBRef` support in reactive Spring Data MongoDB and I&#39;m not sure there will be.\r\n\r\n# Explanation\r\n\r\nSpring Data projects are organized into Template API, Converter and Mapping Metadata components. The imperative (blocking) implementation of the Template API uses an imperative approach to fetch `Document`s and convert these into domain objects. `MappingMongoConverter` in particular handles all the conversion and `DBRef` resolution. This API works in a synchronous/imperative API and is used for both Template API implementations (imperative and the reactive one).\r\n\r\nReuse of `MappingMongoConverter` was the logical decision while adding reactive support as we don&#39;t have a need to duplicate code. The only limitation is `DBRef` resolution that does not fit the reactive execution model.\r\n\r\nTo support reactive `DBRef`s, the converter needs to be split up into several bits and the whole association handling requires an overhaul.\r\n\r\nReference : https://jira.spring.io/browse/DATAMONGO-2146 \r\n\r\n# Recommendation\r\n\r\nKeep references as keys/Id&#39;s in your domain model and look up these as needed. `zipWith` and `flatMap` are the appropriate operators, depending on what you want to archive (enhance model with references, lookup references only).\r\n\r\nOn a related note: Reactive Spring Data MongoDB comes partially with a reduced feature set. Contextual SpEL extension is a feature that is not supported as these components assume an imperative programming model and thus synchronous execution.","title":"How to use db references with reactive Spring Data MongoDB?","body":"<h1>TL;DR</h1>\n\n<p>There's no <code>DBRef</code> support in reactive Spring Data MongoDB and I'm not sure there will be.</p>\n\n<h1>Explanation</h1>\n\n<p>Spring Data projects are organized into Template API, Converter and Mapping Metadata components. The imperative (blocking) implementation of the Template API uses an imperative approach to fetch <code>Document</code>s and convert these into domain objects. <code>MappingMongoConverter</code> in particular handles all the conversion and <code>DBRef</code> resolution. This API works in a synchronous/imperative API and is used for both Template API implementations (imperative and the reactive one).</p>\n\n<p>Reuse of <code>MappingMongoConverter</code> was the logical decision while adding reactive support as we don't have a need to duplicate code. The only limitation is <code>DBRef</code> resolution that does not fit the reactive execution model.</p>\n\n<p>To support reactive <code>DBRef</code>s, the converter needs to be split up into several bits and the whole association handling requires an overhaul.</p>\n\n<p>Reference : <a href=\"https://jira.spring.io/browse/DATAMONGO-2146\" rel=\"noreferrer\">https://jira.spring.io/browse/DATAMONGO-2146</a> </p>\n\n<h1>Recommendation</h1>\n\n<p>Keep references as keys/Id's in your domain model and look up these as needed. <code>zipWith</code> and <code>flatMap</code> are the appropriate operators, depending on what you want to archive (enhance model with references, lookup references only).</p>\n\n<p>On a related note: Reactive Spring Data MongoDB comes partially with a reduced feature set. Contextual SpEL extension is a feature that is not supported as these components assume an imperative programming model and thus synchronous execution.</p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609642167,"creation_date":1609642167,"answer_id":65546210,"question_id":50058861,"body_markdown":"In my case, I have managed this problem using the follow approuch:\r\n\r\n1) My Entity is:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;post&quot;)\r\npublic class Post implements Serializable {\r\n\r\n    private static final long serialVersionUID = -6281811500337260230L;\r\n\r\n    @EqualsAndHashCode.Include\r\n    @Id\r\n    private String id;\r\n    private Date date;\r\n    private String title;\r\n    private String body;\r\n    private AuthorDto author;\r\n    private Comment comment;\r\n    private List&lt;Comment&gt; listComments = new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; idComments = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n2) My controller is:\r\n```\r\n    @GetMapping(FIND_POST_BY_ID_SHOW_COMMENTS)\r\n    @ResponseStatus(OK)\r\n    public Mono&lt;Post&gt; findPostByIdShowComments(@PathVariable String id) {\r\n        return postService.findPostByIdShowComments(id);\r\n    }\r\n```\r\n\r\n3) Last, but not, least, my Service (here is the solution):\r\n```\r\n    public Mono&lt;Post&gt; findPostByIdShowComments(String id) {\r\n        return postRepo\r\n                .findById(id)\r\n                .switchIfEmpty(postNotFoundException())\r\n                .flatMap(postFound -&gt; commentService\r\n                                 .findCommentsByPostId(postFound.getId())\r\n                                 .collectList()\r\n                                 .flatMap(comments -&gt; {\r\n                                     postFound.setListComments(comments);\r\n                                     return Mono.just(postFound);\r\n                                 })\r\n                        );\r\n    }\r\n\r\n    public Flux&lt;Comment&gt; findCommentsByPostId(String id) {\r\n        return postRepo\r\n                .findById(id)\r\n                .switchIfEmpty(postNotFoundException())\r\n                .thenMany(commentRepo.findAll())\r\n                .filter(comment1 -&gt; comment1.getIdPost()\r\n                                            .equals(id));\r\n\r\n    }\r\n```\r\n\r\n","title":"How to use db references with reactive Spring Data MongoDB?","body":"<p>In my case, I have managed this problem using the follow approuch:</p>\n<ol>\n<li>My Entity is:</li>\n</ol>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;post&quot;)\npublic class Post implements Serializable {\n\n    private static final long serialVersionUID = -6281811500337260230L;\n\n    @EqualsAndHashCode.Include\n    @Id\n    private String id;\n    private Date date;\n    private String title;\n    private String body;\n    private AuthorDto author;\n    private Comment comment;\n    private List&lt;Comment&gt; listComments = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; idComments = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<ol start=\"2\">\n<li>My controller is:</li>\n</ol>\n<pre><code>    @GetMapping(FIND_POST_BY_ID_SHOW_COMMENTS)\n    @ResponseStatus(OK)\n    public Mono&lt;Post&gt; findPostByIdShowComments(@PathVariable String id) {\n        return postService.findPostByIdShowComments(id);\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Last, but not, least, my Service (here is the solution):</li>\n</ol>\n<pre><code>    public Mono&lt;Post&gt; findPostByIdShowComments(String id) {\n        return postRepo\n                .findById(id)\n                .switchIfEmpty(postNotFoundException())\n                .flatMap(postFound -&gt; commentService\n                                 .findCommentsByPostId(postFound.getId())\n                                 .collectList()\n                                 .flatMap(comments -&gt; {\n                                     postFound.setListComments(comments);\n                                     return Mono.just(postFound);\n                                 })\n                        );\n    }\n\n    public Flux&lt;Comment&gt; findCommentsByPostId(String id) {\n        return postRepo\n                .findById(id)\n                .switchIfEmpty(postNotFoundException())\n                .thenMany(commentRepo.findAll())\n                .filter(comment1 -&gt; comment1.getIdPost()\n                                            .equals(id));\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641570221,"creation_date":1641570221,"answer_id":70623727,"question_id":50058861,"body_markdown":"Thanks, this helped a lot.\r\nHere is my solution:\r\n\r\n    public MappingMongoConverter mappingMongoConverter(MongoMappingContext mongoMappingContext) {\r\n    \tMappingMongoConverter converter = new MappingMongoConverter(NoOpDbRefResolver.INSTANCE, mongoMappingContext);\r\n    \tconverter.setTypeMapper(new DefaultMongoTypeMapper(null));\r\n    \tconverter.setCustomConversions(mongoCustomConversions());\r\n    \treturn converter;\r\n    }\r\n\r\nThe trick was to use the NoOpDbRefResolver.INSTANCE","title":"How to use db references with reactive Spring Data MongoDB?","body":"<p>Thanks, this helped a lot.\nHere is my solution:</p>\n<pre><code>public MappingMongoConverter mappingMongoConverter(MongoMappingContext mongoMappingContext) {\n    MappingMongoConverter converter = new MappingMongoConverter(NoOpDbRefResolver.INSTANCE, mongoMappingContext);\n    converter.setTypeMapper(new DefaultMongoTypeMapper(null));\n    converter.setCustomConversions(mongoCustomConversions());\n    return converter;\n}\n</code></pre>\n<p>The trick was to use the NoOpDbRefResolver.INSTANCE</p>\n"}],"owner":{"account_id":6089597,"reputation":748,"user_id":4752381,"display_name":"Airy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5169,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":50078429,"answer_count":4,"score":10,"last_activity_date":1641570221,"creation_date":1524819617,"question_id":50058861,"body_markdown":"I&#39;m new to MongoDB and Reactor and I&#39;m trying to retrieve a User with its Profiles associated\r\nHere&#39;s the POJO :\r\n\r\n    public class User {\r\n\r\n        private @Id String id;\r\n        private String login;\r\n        private String hashPassword;\r\n        @Field(&quot;profiles&quot;) private List&lt;String&gt; profileObjectIds;\r\n        @Transient private List&lt;Profile&gt; profiles; }\r\n\r\n    public class Profile {\r\n\r\n        private @Id String id;\r\n        private @Indexed(unique = true) String name;\r\n        private List&lt;String&gt; roles; }\r\n\r\nThe problem is, how do I inject the profiles in the User POJO ?\r\n\r\nI&#39;m aware I can put a @DBRef and solve the problem but in it&#39;s documentation, MongoDB specify manual Ref should be preferred over DB ref.\r\n\r\nI&#39;m seeing two solutions :\r\n\r\n 1. Fill the pojo when I get it :\r\n\r\n        public Mono&lt;User&gt; getUser(String login) {\r\n            return userRepository.findByLogin(login)\r\n            .flatMap(user -&gt; ??? );\r\n        }\r\n\r\nI should do something with **profileRepository.findAllById()** but I don&#39;t know or to concatene both Publishers given that profiles result depends on user result.\r\n\r\n 2. Declare an AbstractMongoEventListener&lt;User&gt; and override onAfterConvert method :\r\n\r\nBut here I am mistaken since the method end before the result is Published\r\n\r\n\r\n    public void onAfterConvert(AfterConvertEvent&lt;User&gt; event) {\r\n        final User source = event.getSource();\r\n        source.setProfiles(new ArrayList&lt;&gt;());\r\n        profileRepository.findAllById(source.getProfileObjectIds())\r\n        .doOnNext(e -&gt; source.getProfiles().add(e))\r\n        subscribe();\r\n    }\r\n\r\n\r\n","title":"How to use db references with reactive Spring Data MongoDB?","body":"<p>I'm new to MongoDB and Reactor and I'm trying to retrieve a User with its Profiles associated\nHere's the POJO :</p>\n\n<pre><code>public class User {\n\n    private @Id String id;\n    private String login;\n    private String hashPassword;\n    @Field(\"profiles\") private List&lt;String&gt; profileObjectIds;\n    @Transient private List&lt;Profile&gt; profiles; }\n\npublic class Profile {\n\n    private @Id String id;\n    private @Indexed(unique = true) String name;\n    private List&lt;String&gt; roles; }\n</code></pre>\n\n<p>The problem is, how do I inject the profiles in the User POJO ?</p>\n\n<p>I'm aware I can put a @DBRef and solve the problem but in it's documentation, MongoDB specify manual Ref should be preferred over DB ref.</p>\n\n<p>I'm seeing two solutions :</p>\n\n<ol>\n<li><p>Fill the pojo when I get it :</p>\n\n<pre><code>public Mono&lt;User&gt; getUser(String login) {\n    return userRepository.findByLogin(login)\n    .flatMap(user -&gt; ??? );\n}\n</code></pre></li>\n</ol>\n\n<p>I should do something with <strong>profileRepository.findAllById()</strong> but I don't know or to concatene both Publishers given that profiles result depends on user result.</p>\n\n<ol start=\"2\">\n<li>Declare an AbstractMongoEventListener and override onAfterConvert method :</li>\n</ol>\n\n<p>But here I am mistaken since the method end before the result is Published</p>\n\n<pre><code>public void onAfterConvert(AfterConvertEvent&lt;User&gt; event) {\n    final User source = event.getSource();\n    source.setProfiles(new ArrayList&lt;&gt;());\n    profileRepository.findAllById(source.getProfileObjectIds())\n    .doOnNext(e -&gt; source.getProfiles().add(e))\n    subscribe();\n}\n</code></pre>\n"},{"tags":["java","daml"],"answers":[{"tags":[],"owner":{"account_id":4801465,"reputation":801,"user_id":3877993,"display_name":"cocreature"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641558276,"creation_date":1641558276,"answer_id":70621233,"question_id":70620083,"body_markdown":"It looks like you set `JAVA_HOME` but you set it to multiple paths separate by `;`. Instead `JAVA_HOME` should only contain a single path to the JDK installation you want to use. So in your example, assuming you want to use JDK 11, set it to `C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot`.\r\n\r\n You can take a look at https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html for example to see how you can change it.","title":"Facing issue while running Daml scenarios","body":"<p>It looks like you set <code>JAVA_HOME</code> but you set it to multiple paths separate by <code>;</code>. Instead <code>JAVA_HOME</code> should only contain a single path to the JDK installation you want to use. So in your example, assuming you want to use JDK 11, set it to <code>C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot</code>.</p>\n<p>You can take a look at <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html</a> for example to see how you can change it.</p>\n"}],"owner":{"account_id":8835045,"reputation":631,"user_id":6599674,"accept_rate":40,"display_name":"Shalabh Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70621233,"answer_count":1,"score":0,"last_activity_date":1641570170,"creation_date":1641552529,"question_id":70620083,"body_markdown":"Recently installed Daml SDK v: 1.18.0 for Windows following all the steps given on [https://docs.daml.com/getting-started/installation.html][1]\r\nI have even set the environment variables as required. \r\nWhen I run `daml build` I&#39;m able to create `.dar` successfully but while running the scenario in VS Code&#39;s output section getting an error: \r\n\r\n&gt; 2022-01-07 05:22:59.01 [INFO]  [LanguageServer] \r\nFlushed 0 logs\r\ndamlc: ScenarioServiceException &quot;Failed to run java: C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.13.8-hotspot\\\\bin;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.13.8-hotspot;C:\\\\Program Files\\\\Java\\\\jre1.8.0_311\\\\bin;C:\\\\Program Files\\\\Java\\\\jre1.8.0_311;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.13.8-hotspot\\\\bin\\\\;C:\\\\Program Files\\\\AdoptOpenJDK\\\\jdk-11.0.13.8-hotspot\\\\;C:\\\\Program Files\\\\Java\\\\jre1.8.0_311\\\\bin\\\\;C:\\\\Program Files\\\\Java\\\\jre1.8.0_311\\\\;\\\\bin\\\\java: readCreateProcessWithExitCode: does not exist (No such file or directory)&quot;\r\n[Error - 10:52:59 am] Connection to server got closed. Server will not be restarted.\r\n\r\nI have checked the environment variables and the path, both are correct but still unable to get the scenarios running and getting this error. ","title":"Facing issue while running Daml scenarios","body":"<p>Recently installed Daml SDK v: 1.18.0 for Windows following all the steps given on [https://docs.daml.com/getting-started/installation.html][1]\nI have even set the environment variables as required.\nWhen I run <code>daml build</code> I'm able to create <code>.dar</code> successfully but while running the scenario in VS Code's output section getting an error:</p>\n<blockquote>\n<p>2022-01-07 05:22:59.01 [INFO]  [LanguageServer]\nFlushed 0 logs\ndamlc: ScenarioServiceException &quot;Failed to run java: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot\\bin;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot;C:\\Program Files\\Java\\jre1.8.0_311\\bin;C:\\Program Files\\Java\\jre1.8.0_311;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot\\bin\\;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.13.8-hotspot\\;C:\\Program Files\\Java\\jre1.8.0_311\\bin\\;C:\\Program Files\\Java\\jre1.8.0_311\\;\\bin\\java: readCreateProcessWithExitCode: does not exist (No such file or directory)&quot;\n[Error - 10:52:59 am] Connection to server got closed. Server will not be restarted.</p>\n</blockquote>\n<p>I have checked the environment variables and the path, both are correct but still unable to get the scenarios running and getting this error.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641568750,"creation_date":1641568750,"answer_id":70623396,"question_id":70622779,"body_markdown":"You are very close to the solution; you have to delete the `@JsonProperty(&quot;map&quot;)` from your `Data` class (the *dataseries* property name is equal to the *dataseries* fieldname in your class, so *map* property name is wrong):\r\n\r\n\r\n~~~\r\npublic class Data {\r\n\r\n    private String id;\r\n    private String eventId;\r\n    private int aggrInterval;\r\n    private Map&lt;String, Double[]&gt; dataseries;\r\n\r\n}\r\n~~~\r\n\r\nThe conversion is pretty similar to yours except that the `TypeReference` now refers to the `List&lt;Data&gt;` type:\r\n\r\n~~~\r\nList&lt;Data&gt; data = objectMapper.readValue(json, new TypeReference&lt;List&lt;Data&gt;&gt;(){});\r\n~~~","title":"Convert a json file (json array) to a list of complex objects with a map as one of the properties","body":"<p>You are very close to the solution; you have to delete the <code>@JsonProperty(&quot;map&quot;)</code> from your <code>Data</code> class (the <em>dataseries</em> property name is equal to the <em>dataseries</em> fieldname in your class, so <em>map</em> property name is wrong):</p>\n<pre><code>public class Data {\n\n    private String id;\n    private String eventId;\n    private int aggrInterval;\n    private Map&lt;String, Double[]&gt; dataseries;\n\n}\n</code></pre>\n<p>The conversion is pretty similar to yours except that the <code>TypeReference</code> now refers to the <code>List&lt;Data&gt;</code> type:</p>\n<pre><code>List&lt;Data&gt; data = objectMapper.readValue(json, new TypeReference&lt;List&lt;Data&gt;&gt;(){});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14601847,"reputation":19,"user_id":10545921,"display_name":"Math"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641570055,"creation_date":1641569233,"answer_id":70623498,"question_id":70622779,"body_markdown":"You can try using the [Jackson][1] Object Mapper like so :\r\n\r\n    static ObjectMapper mapper = new ObjectMapper()\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n            .registerModule(new JavaTimeModule());\r\n\r\n    JsonNode node = mapper.readTree(new File(&quot;path to file&quot;));\r\n\r\n    List&lt;Data&gt; list = Arrays.asList(mapper.treeToValue(node, Data[].class));\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core","title":"Convert a json file (json array) to a list of complex objects with a map as one of the properties","body":"<p>You can try using the <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">Jackson</a> Object Mapper like so :</p>\n<pre><code>static ObjectMapper mapper = new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .registerModule(new JavaTimeModule());\n\nJsonNode node = mapper.readTree(new File(&quot;path to file&quot;));\n\nList&lt;Data&gt; list = Arrays.asList(mapper.treeToValue(node, Data[].class));\n</code></pre>\n"}],"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641570055,"creation_date":1641566133,"question_id":70622779,"body_markdown":"I have a class (let&#39;s call it Data) which is defined as follows:\r\n\r\n    private String id;\r\n    private String eventId;\r\n    private int aggrInterval;\r\n    @JsonProperty(&quot;map&quot;)\r\n    private Map&lt;String, Double[]&gt; dataseries;\r\n\r\nI also have a json file that looks like this:\r\n\r\n    [{&quot;eventId&quot;:&quot;a&quot;,&quot;id&quot;:&quot;ce6&quot;,&quot;aggrInterval&quot;:5,&quot;dataseries&quot;:{&quot;vol&quot;:[252.0,243.0],&quot;speed&quot;:[50.0,51.0]}},{...}, {...}]\r\n\r\nNow, I&#39;d like to extract all objects from the file and save them in a list that contains `Data` objects. I did the following but it doesn&#39;t work:\r\n\r\n    List&lt;Data&gt; dataFromFile = new ObjectMapper()\r\n                    .readValue(inputStream, new TypeReference&lt;&gt;() {});\r\n\r\n","title":"Convert a json file (json array) to a list of complex objects with a map as one of the properties","body":"<p>I have a class (let's call it Data) which is defined as follows:</p>\n<pre><code>private String id;\nprivate String eventId;\nprivate int aggrInterval;\n@JsonProperty(&quot;map&quot;)\nprivate Map&lt;String, Double[]&gt; dataseries;\n</code></pre>\n<p>I also have a json file that looks like this:</p>\n<pre><code>[{&quot;eventId&quot;:&quot;a&quot;,&quot;id&quot;:&quot;ce6&quot;,&quot;aggrInterval&quot;:5,&quot;dataseries&quot;:{&quot;vol&quot;:[252.0,243.0],&quot;speed&quot;:[50.0,51.0]}},{...}, {...}]\n</code></pre>\n<p>Now, I'd like to extract all objects from the file and save them in a list that contains <code>Data</code> objects. I did the following but it doesn't work:</p>\n<pre><code>List&lt;Data&gt; dataFromFile = new ObjectMapper()\n                .readValue(inputStream, new TypeReference&lt;&gt;() {});\n</code></pre>\n"},{"tags":["java","arrays","java-8","equals","deepequals"],"comments":[{"owner":{"account_id":439639,"reputation":1363,"user_id":828709,"accept_rate":57,"display_name":"Brandon"},"score":1,"creation_date":1641525567,"post_id":70615477,"comment_id":124832501,"body_markdown":"Do you have specific performance requirements? How large do you expect the arrays to be?","body":"Do you have specific performance requirements? How large do you expect the arrays to be?"},{"owner":{"account_id":439639,"reputation":1363,"user_id":828709,"accept_rate":57,"display_name":"Brandon"},"score":1,"creation_date":1641525848,"post_id":70615477,"comment_id":124832546,"body_markdown":"For example, if the arrays are typically very small, the simplest and fastest solution is probably a nested loop that loops over each subarray A in the first array, and then for each subarray B in the second array, checks whether A deepequals B, and if that is the case for each A, return true, otherwise return false","body":"For example, if the arrays are typically very small, the simplest and fastest solution is probably a nested loop that loops over each subarray A in the first array, and then for each subarray B in the second array, checks whether A deepequals B, and if that is the case for each A, return true, otherwise return false"},{"owner":{"account_id":23551626,"reputation":23,"user_id":17594234,"display_name":"tnrodrigues"},"score":0,"creation_date":1641550392,"post_id":70615477,"comment_id":124838222,"body_markdown":"No, I do not have any performance requirements.","body":"No, I do not have any performance requirements."},{"owner":{"account_id":23551626,"reputation":23,"user_id":17594234,"display_name":"tnrodrigues"},"score":0,"creation_date":1641551465,"post_id":70615477,"comment_id":124838591,"body_markdown":"Int[ ] arrays would always be a pair. :)","body":"Int[ ] arrays would always be a pair. :)"},{"owner":{"account_id":23551626,"reputation":23,"user_id":17594234,"display_name":"tnrodrigues"},"score":0,"creation_date":1641551651,"post_id":70615477,"comment_id":124838661,"body_markdown":"I&#39;m expecting the int[ ] [ ] arrays to do not have a bigger length than 15, for example.","body":"I&#39;m expecting the int[ ] [ ] arrays to do not have a bigger length than 15, for example."}],"answers":[{"tags":[],"owner":{"account_id":439639,"reputation":1363,"user_id":828709,"accept_rate":57,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641569077,"creation_date":1641526638,"answer_id":70616326,"question_id":70615477,"body_markdown":"This solution should work. If the arrays are relatively small (for example, 2 by 4), it will likely be faster than other solutions:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n  public static boolean isSubarrayUnordered(int[][] child, int[][] parent) {\r\n    for (int[] childSubarray : child) {\r\n      boolean found = false;\r\n      for (int[] parentSubarray : parent) {\r\n        if (Arrays.equals(childSubarray, parentSubarray)) {\r\n          found = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!found) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    int[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3, 4}};\r\n    int[][] array2 = {{0, 1}, {2, 2}, {3, 4}, {1, 2}};\r\n    int[][] array3 = {{1, 2}, {2, 2}, {0, 999}, {3, 4}};\r\n\r\n    System.out.println(&quot;array1 in array2? &quot; + isSubarrayUnordered(array1, array2));\r\n    System.out.println(&quot;array1 in array3? &quot; + isSubarrayUnordered(array1, array3));\r\n  }\r\n}\r\n```\r\n\r\nFor medium-sized arrays (maybe hundreds to thousands of total elements), it might be faster to create sorted copies of both arrays, and have two iterators over both arrays `itChild, itParent`. For each element of `itChild`, if the current element of `itParent` is equal (using `Arrays.equals`, then advance both `itChild` and `itParent`. Otherwise, advance only `itParent`. Repeat until there are either no more elements in `itChild` (return `true`) or no more elements in `itParent` (return `false`).\r\n\r\nFor extremely large arrays (millions to billions of elements), the costs of creating a copy may be prohibitively expensive. You will probably want to create a compressed representation of the array using something like a `sha256` hash, and then compare only the hashes of the elements. This has a small probability of returning the wrong answer though, if the array is extremely large.","title":"How do I check if two simple 2D arrays have the same 1D arrays? (order and repetitions doesn&#39;t matter)","body":"<p>This solution should work. If the arrays are relatively small (for example, 2 by 4), it will likely be faster than other solutions:</p>\n<pre><code>import java.util.Arrays;\n\nclass Main {\n  public static boolean isSubarrayUnordered(int[][] child, int[][] parent) {\n    for (int[] childSubarray : child) {\n      boolean found = false;\n      for (int[] parentSubarray : parent) {\n        if (Arrays.equals(childSubarray, parentSubarray)) {\n          found = true;\n          break;\n        }\n      }\n      if (!found) return false;\n    }\n    return true;\n  }\n\n  public static void main(String[] args) {\n    int[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3, 4}};\n    int[][] array2 = {{0, 1}, {2, 2}, {3, 4}, {1, 2}};\n    int[][] array3 = {{1, 2}, {2, 2}, {0, 999}, {3, 4}};\n\n    System.out.println(&quot;array1 in array2? &quot; + isSubarrayUnordered(array1, array2));\n    System.out.println(&quot;array1 in array3? &quot; + isSubarrayUnordered(array1, array3));\n  }\n}\n</code></pre>\n<p>For medium-sized arrays (maybe hundreds to thousands of total elements), it might be faster to create sorted copies of both arrays, and have two iterators over both arrays <code>itChild, itParent</code>. For each element of <code>itChild</code>, if the current element of <code>itParent</code> is equal (using <code>Arrays.equals</code>, then advance both <code>itChild</code> and <code>itParent</code>. Otherwise, advance only <code>itParent</code>. Repeat until there are either no more elements in <code>itChild</code> (return <code>true</code>) or no more elements in <code>itParent</code> (return <code>false</code>).</p>\n<p>For extremely large arrays (millions to billions of elements), the costs of creating a copy may be prohibitively expensive. You will probably want to create a compressed representation of the array using something like a <code>sha256</code> hash, and then compare only the hashes of the elements. This has a small probability of returning the wrong answer though, if the array is extremely large.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641543440,"creation_date":1641543440,"answer_id":70618387,"question_id":70615477,"body_markdown":"You can use [`IntBuffer`] which can wrap an `int[]` array and provide the `equals` and `hashCode` implementations reflecting the array‚Äôs content.\r\n\r\n```java\r\npublic static boolean sameSubArrays(int[][] array1, int[][] array2) {\r\n    if(array1 == array2) return true;\r\n    HashSet&lt;IntBuffer&gt; set = new HashSet&lt;&gt;();\r\n    for(int[] a: array1) set.add(IntBuffer.wrap(a));\r\n    for(int[] a: array2) if(!set.contains(IntBuffer.wrap(a))) return false;\r\n    return true;\r\n}\r\n```\r\n\r\nThis is simple and runs in linear time, hence, can cope with large arrays. It has the expected result for your test case.\r\n\r\n```java\r\nint[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3,4}};\r\nint[][] array2 = {{0, 1}, {2, 2}, {3, 4}, {1, 2}};\r\nSystem.out.println(sameSubArrays(array1, array2)); // true\r\n```\r\n\r\nBut it does not consider duplicates. If the number of occurrences must match for sub arrays with the same contents, you have to expand the solution to use a map to count the occurrences.\r\n\r\n```java\r\npublic static boolean sameSubArrays(int[][] array1, int[][] array2) {\r\n    if(array1 == array2) return true;\r\n    if(array1.length != array2.length) return false;\r\n    HashMap&lt;IntBuffer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for(int[] a: array1) map.merge(IntBuffer.wrap(a), 1, Integer::sum);\r\n    for(int[] a: array2)\r\n        if(map.merge(IntBuffer.wrap(a), -1, Integer::sum) &lt; 0) return false;\r\n    return true;\r\n}\r\n```\r\n\r\nSince your example has no duplicates, it still has the same result.\r\n\r\n[`IntBuffer`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/IntBuffer.html","title":"How do I check if two simple 2D arrays have the same 1D arrays? (order and repetitions doesn&#39;t matter)","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/IntBuffer.html\" rel=\"nofollow noreferrer\"><code>IntBuffer</code></a> which can wrap an <code>int[]</code> array and provide the <code>equals</code> and <code>hashCode</code> implementations reflecting the array‚Äôs content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean sameSubArrays(int[][] array1, int[][] array2) {\n    if(array1 == array2) return true;\n    HashSet&lt;IntBuffer&gt; set = new HashSet&lt;&gt;();\n    for(int[] a: array1) set.add(IntBuffer.wrap(a));\n    for(int[] a: array2) if(!set.contains(IntBuffer.wrap(a))) return false;\n    return true;\n}\n</code></pre>\n<p>This is simple and runs in linear time, hence, can cope with large arrays. It has the expected result for your test case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3,4}};\nint[][] array2 = {{0, 1}, {2, 2}, {3, 4}, {1, 2}};\nSystem.out.println(sameSubArrays(array1, array2)); // true\n</code></pre>\n<p>But it does not consider duplicates. If the number of occurrences must match for sub arrays with the same contents, you have to expand the solution to use a map to count the occurrences.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean sameSubArrays(int[][] array1, int[][] array2) {\n    if(array1 == array2) return true;\n    if(array1.length != array2.length) return false;\n    HashMap&lt;IntBuffer, Integer&gt; map = new HashMap&lt;&gt;();\n    for(int[] a: array1) map.merge(IntBuffer.wrap(a), 1, Integer::sum);\n    for(int[] a: array2)\n        if(map.merge(IntBuffer.wrap(a), -1, Integer::sum) &lt; 0) return false;\n    return true;\n}\n</code></pre>\n<p>Since your example has no duplicates, it still has the same result.</p>\n"},{"tags":[],"owner":{"account_id":23551626,"reputation":23,"user_id":17594234,"display_name":"tnrodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641568966,"creation_date":1641568966,"answer_id":70623447,"question_id":70615477,"body_markdown":"**Instead of verifying if ALL int[] are present in the int[][], I can just verify if ONE int[] isn&#39;t present.**\r\n\r\n    public boolean allBelongs() {\r\n\r\n      for (int i = 0; i &lt; array1.length; i++) {\r\n     \r\n        if (!inVector(array1, array2()[i])) {\r\n           return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }","title":"How do I check if two simple 2D arrays have the same 1D arrays? (order and repetitions doesn&#39;t matter)","body":"<p><strong>Instead of verifying if ALL int[] are present in the int[][], I can just verify if ONE int[] isn't present.</strong></p>\n<pre><code>public boolean allBelongs() {\n\n  for (int i = 0; i &lt; array1.length; i++) {\n \n    if (!inVector(array1, array2()[i])) {\n       return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n"}],"owner":{"account_id":23551626,"reputation":23,"user_id":17594234,"display_name":"tnrodrigues"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70618387,"answer_count":3,"score":2,"last_activity_date":1641569680,"creation_date":1641517933,"question_id":70615477,"body_markdown":"**My main objective is to return if all elements, int[ ], of a 2D Array ,int[ ][ ], are present in another 2D Array.**\r\n\r\nI already tried to use `Arrays.deepEquals()` but in this case, the order of the elements would matter and that&#39;s not the purpose.\r\n\r\n - Int[ ][ ] arrays wouldn&#39;t be longer than 15, for example.\r\n - Int[ ][ ] arrays have always the same length.\r\n - Int[ ][ ] arrays order doesn&#39;t matter, but Int[ ] arrays does.\r\n - Int[ ] arrays would always be a pair.\r\n\r\n**Expected:**\r\n    \r\n    int[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3,4}} // Main Array\r\n\r\n    int[][] array2 = {{0, 1}, {2, 2}, {3,4} {1, 2}}} // Expected: true\r\n\r\n    int[][] array3 = {{6, 3}, {1, 2}, {7,4} {0, 1}}} // Expected: false\r\n      \r\n\r\n**This is my solution/try:**\r\n  \r\n    // Check if an int[] array (element) belongs to an int[][] array.\r\n\r\n    public static boolean inVector(int[][] 2dArray, int[] 1dArray) {\r\n\r\n        for (int i = 0; i &lt; 2dArray.length; i++) {\r\n            for (int j = 0; j &lt; 2dArray[i].length; j++) {\r\n\r\n                if (1dArray[0] == 2dArray[i][0] &amp;&amp; 1dArray[1] == 2dArray[i][1]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    // Check if all int[] arrays of an int[][] belong to another int[][] array.\r\n\r\n    // This is not working properly\r\n    \r\n    public boolean allBelongs() {\r\n\r\n      boolean belongs = false;\r\n\r\n      for (int i = 0; i &lt; array1.length; i++) {\r\n         \r\n         if (inVector(array1, array2()[i])) {\r\n            belongs = true;\r\n         }\r\n         \r\n         else {\r\n            belongs = false;\r\n         }\r\n      }\r\n\r\n\t\treturn belongs;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n**EDIT:** I solved the problem reversing the logic of the solution. Posted own answer.","title":"How do I check if two simple 2D arrays have the same 1D arrays? (order and repetitions doesn&#39;t matter)","body":"<p><strong>My main objective is to return if all elements, int[ ], of a 2D Array ,int[ ][ ], are present in another 2D Array.</strong></p>\n<p>I already tried to use <code>Arrays.deepEquals()</code> but in this case, the order of the elements would matter and that's not the purpose.</p>\n<ul>\n<li>Int[ ][ ] arrays wouldn't be longer than 15, for example.</li>\n<li>Int[ ][ ] arrays have always the same length.</li>\n<li>Int[ ][ ] arrays order doesn't matter, but Int[ ] arrays does.</li>\n<li>Int[ ] arrays would always be a pair.</li>\n</ul>\n<p><strong>Expected:</strong></p>\n<pre><code>int[][] array1 = {{1, 2}, {2, 2}, {0, 1}, {3,4}} // Main Array\n\nint[][] array2 = {{0, 1}, {2, 2}, {3,4} {1, 2}}} // Expected: true\n\nint[][] array3 = {{6, 3}, {1, 2}, {7,4} {0, 1}}} // Expected: false\n  \n</code></pre>\n<p><strong>This is my solution/try:</strong></p>\n<pre><code>// Check if an int[] array (element) belongs to an int[][] array.\n\npublic static boolean inVector(int[][] 2dArray, int[] 1dArray) {\n\n    for (int i = 0; i &lt; 2dArray.length; i++) {\n        for (int j = 0; j &lt; 2dArray[i].length; j++) {\n\n            if (1dArray[0] == 2dArray[i][0] &amp;&amp; 1dArray[1] == 2dArray[i][1]) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\n\n// Check if all int[] arrays of an int[][] belong to another int[][] array.\n\n// This is not working properly\n\npublic boolean allBelongs() {\n\n  boolean belongs = false;\n\n  for (int i = 0; i &lt; array1.length; i++) {\n     \n     if (inVector(array1, array2()[i])) {\n        belongs = true;\n     }\n     \n     else {\n        belongs = false;\n     }\n  }\n\n    return belongs;\n}\n</code></pre>\n<p><strong>EDIT:</strong> I solved the problem reversing the logic of the solution. Posted own answer.</p>\n"},{"tags":["javascript","java","html","angularjs","file-manager"],"comments":[{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1641557263,"post_id":70620783,"comment_id":124840508,"body_markdown":"Intersting, looking at the API here https://github.com/joni2back/angular-filemanager/blob/master/API.md  it seems that the javascript front end should create a POST request for the &quot;list&quot; action.   Any tips why my servlet is only getting GET requests and not POST from the initial page request to the demo file index.html, plain vanilla configuration....","body":"Intersting, looking at the API here <a href=\"https://github.com/joni2back/angular-filemanager/blob/master/API.md\" rel=\"nofollow noreferrer\">github.com/joni2back/angular-filemanager/blob/master/API.md</a>  it seems that the javascript front end should create a POST request for the &quot;list&quot; action.   Any tips why my servlet is only getting GET requests and not POST from the initial page request to the demo file index.html, plain vanilla configuration...."}],"answers":[{"tags":[],"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641569556,"creation_date":1641569556,"answer_id":70623588,"question_id":70620783,"body_markdown":"Working now.   So JS lib does make posts, just that the java bridge had errors.  E.g. if you are on windows, you want to change all the Posix FS permissions java classes to their DOS equivenlents.   Or in my case, I am doing all authorization outside of the file system, so just update set and get Permissions, to simplz return &quot;rw-rw-rw-&quot;.   In short, get the Bridge (a.k.a. back end) installed as is, mazbe with spring security (in the case of java) turned off (do that be commenting out the same in web.xml) and get the basic index.html example working, then integrate in your app.  I am doing it with an iframe and deploying angular-filemanager in its own war on the same web server....","title":"Angular-Filemanager Java Bridge Missing GET implementation","body":"<p>Working now.   So JS lib does make posts, just that the java bridge had errors.  E.g. if you are on windows, you want to change all the Posix FS permissions java classes to their DOS equivenlents.   Or in my case, I am doing all authorization outside of the file system, so just update set and get Permissions, to simplz return &quot;rw-rw-rw-&quot;.   In short, get the Bridge (a.k.a. back end) installed as is, mazbe with spring security (in the case of java) turned off (do that be commenting out the same in web.xml) and get the basic index.html example working, then integrate in your app.  I am doing it with an iframe and deploying angular-filemanager in its own war on the same web server....</p>\n"}],"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641569556,"creation_date":1641555993,"question_id":70620783,"body_markdown":"About the angular-filemanager (https://github.com/joni2back/angular-filemanager), java bridge implemented in a servlet...  is the GET missing its handling of the action string?   It would seem that the initial listing of the root directory will ceom from a GET request.  But the only call to actuall list thej files and folders in the root folder comes from the servlet POST.\r\n\r\nThanks!\r\n\r\n     @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        \r\n        //action is &quot;list&quot; is only handled in the POST of the servlet....\r\n        String action = request.getParameter(&quot;action&quot;);\r\n        if (&quot;download&quot;.equals(action)) {\r\n           ...\r\n        } else if (&quot;downloadMultiple&quot;.equals(action)) {\r\n    }\r\n\r\n...and here is my init routine from index.html (that &quot;php&quot; URL is mapped to my Java Servlet in web.xml, if angular-filemanager supports changing that main URL, please let me know):\r\n\r\n     &lt;script type=&quot;text/javascript&quot;&gt;\r\n    //example to override angular-filemanager default config\r\n    angular.module(&#39;FileManagerApp&#39;).config([&#39;fileManagerConfigProvider&#39;, function (config) {\r\n      var defaults = config.$get();\r\n      config.set({\r\n        appName: &#39;ews-filemanager&#39;,\r\n        listUrl: &#39;/ews-filemanager/bridges/php/handler.php&#39;,\r\n        pickCallback: function(item) {\r\n          var msg = &#39;Picked %s &quot;%s&quot; for external use&#39;\r\n            .replace(&#39;%s&#39;, item.type)\r\n            .replace(&#39;%s&#39;, item.fullPath());\r\n          window.alert(msg);\r\n        },\r\n\r\n        allowedActions: angular.extend(defaults.allowedActions, {\r\n          pickFiles: false,\r\n          pickFolders: false,\r\n        }),\r\n      });\r\n    }]);\r\n  &lt;/script&gt;","title":"Angular-Filemanager Java Bridge Missing GET implementation","body":"<p>About the angular-filemanager (<a href=\"https://github.com/joni2back/angular-filemanager\" rel=\"nofollow noreferrer\">https://github.com/joni2back/angular-filemanager</a>), java bridge implemented in a servlet...  is the GET missing its handling of the action string?   It would seem that the initial listing of the root directory will ceom from a GET request.  But the only call to actuall list thej files and folders in the root folder comes from the servlet POST.</p>\n<p>Thanks!</p>\n<pre><code> @Override\npublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n    //action is &quot;list&quot; is only handled in the POST of the servlet....\n    String action = request.getParameter(&quot;action&quot;);\n    if (&quot;download&quot;.equals(action)) {\n       ...\n    } else if (&quot;downloadMultiple&quot;.equals(action)) {\n}\n</code></pre>\n<p>...and here is my init routine from index.html (that &quot;php&quot; URL is mapped to my Java Servlet in web.xml, if angular-filemanager supports changing that main URL, please let me know):</p>\n<pre><code> &lt;script type=&quot;text/javascript&quot;&gt;\n//example to override angular-filemanager default config\nangular.module('FileManagerApp').config(['fileManagerConfigProvider', function (config) {\n  var defaults = config.$get();\n  config.set({\n    appName: 'ews-filemanager',\n    listUrl: '/ews-filemanager/bridges/php/handler.php',\n    pickCallback: function(item) {\n      var msg = 'Picked %s &quot;%s&quot; for external use'\n        .replace('%s', item.type)\n        .replace('%s', item.fullPath());\n      window.alert(msg);\n    },\n\n    allowedActions: angular.extend(defaults.allowedActions, {\n      pickFiles: false,\n      pickFolders: false,\n    }),\n  });\n}]);\n</code></pre>\n  \n"},{"tags":["java","android","view"],"comments":[{"owner":{"account_id":1642008,"reputation":875,"user_id":1514265,"display_name":"Sats"},"score":0,"creation_date":1412158955,"post_id":26139115,"comment_id":40971568,"body_markdown":"post your error log ..","body":"post your error log .."},{"owner":{"account_id":1427063,"reputation":1993,"user_id":1350288,"accept_rate":80,"display_name":"wendigo"},"score":0,"creation_date":1412159083,"post_id":26139115,"comment_id":40971635,"body_markdown":"getVisibilityState reach the line `return 0;`? please, post your error log.","body":"getVisibilityState reach the line <code>return 0;</code>? please, post your error log."},{"owner":{"account_id":238317,"reputation":9199,"user_id":507136,"accept_rate":49,"display_name":"jsbisht"},"score":0,"creation_date":1412159242,"post_id":26139115,"comment_id":40971723,"body_markdown":"Sorry i didnt mention this. I am getting this during compile time in Android studio.","body":"Sorry i didnt mention this. I am getting this during compile time in Android studio."},{"owner":{"account_id":1427063,"reputation":1993,"user_id":1350288,"accept_rate":80,"display_name":"wendigo"},"score":0,"creation_date":1412159388,"post_id":26139115,"comment_id":40971787,"body_markdown":"Change `return 0` by `return View.VISIBLE`","body":"Change <code>return 0</code> by <code>return View.VISIBLE</code>"},{"owner":{"account_id":238317,"reputation":9199,"user_id":507136,"accept_rate":49,"display_name":"jsbisht"},"score":0,"creation_date":1412159487,"post_id":26139115,"comment_id":40971835,"body_markdown":"I did that. Its still giving the same error.","body":"I did that. Its still giving the same error."},{"owner":{"account_id":238317,"reputation":9199,"user_id":507136,"accept_rate":49,"display_name":"jsbisht"},"score":0,"creation_date":1412159906,"post_id":26139115,"comment_id":40972028,"body_markdown":"@selvin Oops. Completely ignored that part.","body":"@selvin Oops. Completely ignored that part."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1412159745,"creation_date":1412159745,"answer_id":26139403,"question_id":26139115,"body_markdown":"When you know what you&#39;re doing, you can suppress this Android Studio inspection locally with\r\n\r\n    //noinspection ResourceType\r\n\r\nFor example,\r\n\r\n    //noinspection ResourceType\r\n    startBtn.setVisibility(bundle.getInt(PersistanceConstants.START_BTN_STATE));","title":"Not able to dynamically set the setVisibility() parameter","body":"<p>When you know what you're doing, you can suppress this Android Studio inspection locally with</p>\n\n<pre><code>//noinspection ResourceType\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>//noinspection ResourceType\nstartBtn.setVisibility(bundle.getInt(PersistanceConstants.START_BTN_STATE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4861854,"reputation":2024,"user_id":3921243,"accept_rate":50,"display_name":"FrankMonza"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1488362078,"creation_date":1455272310,"answer_id":35360013,"question_id":26139115,"body_markdown":"A bit late to the party but another solution if you are using this a lot in your code and you have a method returning that int is to define your own Visibility annotation, so something like this:\r\n\r\n    public class MyStuff {\r\n\r\n        @IntDef({View.VISIBLE, View.INVISIBLE, View.GONE})\r\n        @Retention(RetentionPolicy.SOURCE)\r\n        public @interface Visibility {\r\n        }\r\n\t\r\n\t    public @Visibility int getVisibility() {\r\n\t        return View.GONE;\r\n\t    }\r\n    }\r\n\r\nIf you do so then AS won&#39;t complain anymore because you are returning a proper int def.","title":"Not able to dynamically set the setVisibility() parameter","body":"<p>A bit late to the party but another solution if you are using this a lot in your code and you have a method returning that int is to define your own Visibility annotation, so something like this:</p>\n\n<pre><code>public class MyStuff {\n\n    @IntDef({View.VISIBLE, View.INVISIBLE, View.GONE})\n    @Retention(RetentionPolicy.SOURCE)\n    public @interface Visibility {\n    }\n\n    public @Visibility int getVisibility() {\n        return View.GONE;\n    }\n}\n</code></pre>\n\n<p>If you do so then AS won't complain anymore because you are returning a proper int def.</p>\n"},{"tags":[],"owner":{"account_id":8251969,"reputation":83,"user_id":6206292,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641569428,"creation_date":1641569428,"answer_id":70623554,"question_id":26139115,"body_markdown":"  Kotlin code: \r\n\r\n    @Target(AnnotationTarget.TYPE)\r\n    @IntDef(View.VISIBLE, View.INVISIBLE, View.GONE)\r\n    @Retention(AnnotationRetention.SOURCE)\r\n    annotation class Visibility","title":"Not able to dynamically set the setVisibility() parameter","body":"<p>Kotlin code:</p>\n<pre><code>@Target(AnnotationTarget.TYPE)\n@IntDef(View.VISIBLE, View.INVISIBLE, View.GONE)\n@Retention(AnnotationRetention.SOURCE)\nannotation class Visibility\n</code></pre>\n"}],"owner":{"account_id":238317,"reputation":9199,"user_id":507136,"accept_rate":49,"display_name":"jsbisht"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3639,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26139403,"answer_count":3,"score":10,"last_activity_date":1641569428,"creation_date":1412158722,"question_id":26139115,"body_markdown":"I am trying to set the visibility for a button as follows:\r\n\r\n    public Bundle setActivityState(Bundle bundle){\r\n\t\tstartBtn = (Button) findViewById(R.id.startSensorsBtn);\r\n\r\n\t\tstartBtn.setVisibility(\r\n\t\t\t\tgetVisibilityState(bundle, PersistanceConstants.START_BTN_STATE)\r\n\t\t);\t\t\t\r\n\r\n\t\treturn bundle;\r\n\t}\r\n\r\n\tpublic int getVisibilityState(Bundle bundle, String keyName){\r\n\t\tif (bundle.getInt(keyName) == View.VISIBLE){\r\n\t\t\treturn View.VISIBLE;\r\n\t\t} else if (bundle.getInt(keyName) == View.INVISIBLE){\r\n\t\t\treturn View.INVISIBLE;\r\n\t\t} else if (bundle.getInt(keyName) == View.GONE){\r\n\t\t\treturn View.GONE;\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\nBut I am getting the error:\r\n\r\n    Must be one of: View.VISIBLE, View.INVISIBLE, View.GONE less... (Ctrl+F1) \r\n\tReports two types of problems:\r\n\t- Supplying the wrong type of resource identifier. For example, when calling Resources.getString(int id), you should be passing R.string.something, not R.drawable.something.\r\n\t- Passing the wrong constant to a method which expects one of a specific set of constants. For example, when calling View#setLayoutDirection, the parameter must be android.view.View.LAYOUT_DIRECTION_LTR or android.view.View.LAYOUT_DIRECTION_RTL.\r\n\r\nwhile calling\r\n\r\n    getVisibilityState(bundle, PersistanceConstants.START_BTN_STATE)\r\n\r\nI don&#39;t know how to get around this. I understand that it&#39;s expecting a given set of values but all I know is to pass an `int` to it. What can be done here?","title":"Not able to dynamically set the setVisibility() parameter","body":"<p>I am trying to set the visibility for a button as follows:</p>\n\n<pre><code>public Bundle setActivityState(Bundle bundle){\n    startBtn = (Button) findViewById(R.id.startSensorsBtn);\n\n    startBtn.setVisibility(\n            getVisibilityState(bundle, PersistanceConstants.START_BTN_STATE)\n    );          \n\n    return bundle;\n}\n\npublic int getVisibilityState(Bundle bundle, String keyName){\n    if (bundle.getInt(keyName) == View.VISIBLE){\n        return View.VISIBLE;\n    } else if (bundle.getInt(keyName) == View.INVISIBLE){\n        return View.INVISIBLE;\n    } else if (bundle.getInt(keyName) == View.GONE){\n        return View.GONE;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>But I am getting the error:</p>\n\n<pre><code>Must be one of: View.VISIBLE, View.INVISIBLE, View.GONE less... (Ctrl+F1) \nReports two types of problems:\n- Supplying the wrong type of resource identifier. For example, when calling Resources.getString(int id), you should be passing R.string.something, not R.drawable.something.\n- Passing the wrong constant to a method which expects one of a specific set of constants. For example, when calling View#setLayoutDirection, the parameter must be android.view.View.LAYOUT_DIRECTION_LTR or android.view.View.LAYOUT_DIRECTION_RTL.\n</code></pre>\n\n<p>while calling</p>\n\n<pre><code>getVisibilityState(bundle, PersistanceConstants.START_BTN_STATE)\n</code></pre>\n\n<p>I don't know how to get around this. I understand that it's expecting a given set of values but all I know is to pass an <code>int</code> to it. What can be done here?</p>\n"},{"tags":["java","android","kotlin","android-glide"],"comments":[{"owner":{"account_id":19344647,"reputation":323,"user_id":14143465,"display_name":"Hubby Tiwari"},"score":0,"creation_date":1641391691,"post_id":70593417,"comment_id":124792579,"body_markdown":"Print the value of imageUri  and check here , val imageUri=imgUrl.toUri().buildUpon().scheme(&quot;https&quot;).build()","body":"Print the value of imageUri  and check here , val imageUri=imgUrl.toUri().buildUpon().scheme(&quot;https&quot;).build()"},{"owner":{"account_id":23798462,"reputation":45,"user_id":17809006,"display_name":"LoveCing"},"score":0,"creation_date":1641458073,"post_id":70593417,"comment_id":124810745,"body_markdown":"Hubby Tiwari thanks you.","body":"Hubby Tiwari thanks you."},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641463965,"post_id":70593417,"comment_id":124812697,"body_markdown":"`call GlideException#logRootCauses(String) for more detail` have you tried doing this ?","body":"<code>call GlideException#logRootCauses(String) for more detail</code> have you tried doing this ?"},{"owner":{"account_id":23798462,"reputation":45,"user_id":17809006,"display_name":"LoveCing"},"score":0,"creation_date":1641485097,"post_id":70593417,"comment_id":124820759,"body_markdown":"a_local_nobody\nI don‚Äôt know where to add this sentence and the correct way to write it... but I used the method introduced by my friend above to find the problem. Thank you","body":"a_local_nobody I don‚Äôt know where to add this sentence and the correct way to write it... but I used the method introduced by my friend above to find the problem. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641569323,"creation_date":1641569323,"answer_id":70623526,"question_id":70593417,"body_markdown":"It is because you are turning the image url to `Uri` which does not exist on your device! If you give glide to load a `Uri`, it will check the files. And it does not exist for obvious reasons. So you do not need to convert it to uri. Instead you just pass it the `imageUrl`.\r\nSo, replace\r\n\r\n    Glide.with(imageView.context)\r\n            .load(imageUri)\r\n            .centerCrop()\r\n            .apply(RequestOptions()\r\n                .placeholder(R.drawable.loading_animation)\r\n                .error(R.drawable.ic_broken_image))\r\n            .listener(object :RequestListener&lt;Drawable&gt;{\r\n                override fun onLoadFailed(\r\n                    e: GlideException?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\r\n                    return false\r\n                }\r\n\r\n                override fun onResourceReady(\r\n                    resource: Drawable?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    dataSource: DataSource?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    return false\r\n                }\r\n            })\r\n            .into(imageView)\r\n\r\nwith\r\n\r\n    Glide.with(imageView.context)\r\n            .load(imageUrl)\r\n            .centerCrop()\r\n            .apply(RequestOptions()\r\n                .placeholder(R.drawable.loading_animation)\r\n                .error(R.drawable.ic_broken_image))\r\n            .listener(object :RequestListener&lt;Drawable&gt;{\r\n                override fun onLoadFailed(\r\n                    e: GlideException?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\r\n                    return false\r\n                }\r\n\r\n                override fun onResourceReady(\r\n                    resource: Drawable?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    dataSource: DataSource?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    return false\r\n                }\r\n            })\r\n            .into(imageView)","title":"com.bumptech.glide.load.engine.GlideException: Failed to load resource in kotlin?","body":"<p>It is because you are turning the image url to <code>Uri</code> which does not exist on your device! If you give glide to load a <code>Uri</code>, it will check the files. And it does not exist for obvious reasons. So you do not need to convert it to uri. Instead you just pass it the <code>imageUrl</code>.\nSo, replace</p>\n<pre><code>Glide.with(imageView.context)\n        .load(imageUri)\n        .centerCrop()\n        .apply(RequestOptions()\n            .placeholder(R.drawable.loading_animation)\n            .error(R.drawable.ic_broken_image))\n        .listener(object :RequestListener&lt;Drawable&gt;{\n            override fun onLoadFailed(\n                e: GlideException?,\n                model: Any?,\n                target: Target&lt;Drawable&gt;?,\n                isFirstResource: Boolean\n            ): Boolean {\n                Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\n                return false\n            }\n\n            override fun onResourceReady(\n                resource: Drawable?,\n                model: Any?,\n                target: Target&lt;Drawable&gt;?,\n                dataSource: DataSource?,\n                isFirstResource: Boolean\n            ): Boolean {\n                return false\n            }\n        })\n        .into(imageView)\n</code></pre>\n<p>with</p>\n<pre><code>Glide.with(imageView.context)\n        .load(imageUrl)\n        .centerCrop()\n        .apply(RequestOptions()\n            .placeholder(R.drawable.loading_animation)\n            .error(R.drawable.ic_broken_image))\n        .listener(object :RequestListener&lt;Drawable&gt;{\n            override fun onLoadFailed(\n                e: GlideException?,\n                model: Any?,\n                target: Target&lt;Drawable&gt;?,\n                isFirstResource: Boolean\n            ): Boolean {\n                Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\n                return false\n            }\n\n            override fun onResourceReady(\n                resource: Drawable?,\n                model: Any?,\n                target: Target&lt;Drawable&gt;?,\n                dataSource: DataSource?,\n                isFirstResource: Boolean\n            ): Boolean {\n                return false\n            }\n        })\n        .into(imageView)\n</code></pre>\n"}],"owner":{"account_id":23798462,"reputation":45,"user_id":17809006,"display_name":"LoveCing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70623526,"answer_count":1,"score":1,"last_activity_date":1641569323,"creation_date":1641388179,"question_id":70593417,"body_markdown":"https://stackoverflow.com/questions/55473076/class-com-bumptech-glide-load-engine-glideexception-failed-to-load-resource\r\n\r\nhttps://stackoverflow.com/questions/60926132/class-com-bumptech-glide-load-engine-glideexception-failed-to-load-resource-in\r\n\r\n[enter image description here][1]\r\nI got the error from logcat. I have read the above two articles. I also used the method they introduced. It still hasn&#39;t been solved. I think there is a different solution to my problem??\r\n\r\n    com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n        There were 4 root causes:\r\n        java.lang.RuntimeException(setDataSourceCallback failed: status = 0x80000000)\r\n        java.lang.RuntimeException(setDataSourceCallback failed: status = 0x80000000)\r\n        java.lang.RuntimeException(setDataSource failed: status = 0x80000000)\r\n        java.lang.RuntimeException(setDataSource failed: status = 0x80000000)\r\n         call GlideException#logRootCauses(String) for more detail\r\n\r\ndependencies\r\n\r\n    implementation &quot;com.github.bumptech.glide:glide:4.12.0&quot;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n\r\nmarifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\ncode\r\n\r\n    @BindingAdapter(&quot;imageUrl&quot;)\r\n    fun bindImage(imageView: ImageView,imgUrl:String?){\r\n        imgUrl?.let {\r\n            val imageUri=imgUrl.toUri().buildUpon().scheme(&quot;https&quot;).build()\r\n            Glide.with(imageView.context)\r\n                .load(imageUri)\r\n                .centerCrop()\r\n                .apply(RequestOptions()\r\n                    .placeholder(R.drawable.loading_animation)\r\n                    .error(R.drawable.ic_broken_image))\r\n                .listener(object :RequestListener&lt;Drawable&gt;{\r\n                    override fun onLoadFailed(\r\n                        e: GlideException?,\r\n                        model: Any?,\r\n                        target: Target&lt;Drawable&gt;?,\r\n                        isFirstResource: Boolean\r\n                    ): Boolean {\r\n                        Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\r\n                        return false\r\n                    }\r\n    \r\n                    override fun onResourceReady(\r\n                        resource: Drawable?,\r\n                        model: Any?,\r\n                        target: Target&lt;Drawable&gt;?,\r\n                        dataSource: DataSource?,\r\n                        isFirstResource: Boolean\r\n                    ): Boolean {\r\n                        return false\r\n                    }\r\n                })\r\n                .into(imageView)\r\n        }\r\n    }\r\n\r\nlayout\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;data&gt;\r\n            &lt;variable\r\n                name=&quot;sport&quot;\r\n                type=&quot;com.example.retrofit2test.net.Sport&quot; /&gt;\r\n        &lt;/data&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:adjustViewBounds=&quot;true&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    app:imageUrl=&quot;@{sport.photo1}&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6zK5V.png\r\n\r\n","title":"com.bumptech.glide.load.engine.GlideException: Failed to load resource in kotlin?","body":"<p><a href=\"https://stackoverflow.com/questions/55473076/class-com-bumptech-glide-load-engine-glideexception-failed-to-load-resource\">class com.bumptech.glide.load.engine.GlideException: Failed to load resource</a></p>\n<p><a href=\"https://stackoverflow.com/questions/60926132/class-com-bumptech-glide-load-engine-glideexception-failed-to-load-resource-in\">class com.bumptech.glide.load.engine.GlideException: Failed to load resource in Android 10 only</a></p>\n<p><a href=\"https://i.stack.imgur.com/6zK5V.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI got the error from logcat. I have read the above two articles. I also used the method they introduced. It still hasn't been solved. I think there is a different solution to my problem??</p>\n<pre><code>com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There were 4 root causes:\n    java.lang.RuntimeException(setDataSourceCallback failed: status = 0x80000000)\n    java.lang.RuntimeException(setDataSourceCallback failed: status = 0x80000000)\n    java.lang.RuntimeException(setDataSource failed: status = 0x80000000)\n    java.lang.RuntimeException(setDataSource failed: status = 0x80000000)\n     call GlideException#logRootCauses(String) for more detail\n</code></pre>\n<p>dependencies</p>\n<pre><code>implementation &quot;com.github.bumptech.glide:glide:4.12.0&quot;\nannotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n</code></pre>\n<p>marifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\nandroid:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>code</p>\n<pre><code>@BindingAdapter(&quot;imageUrl&quot;)\nfun bindImage(imageView: ImageView,imgUrl:String?){\n    imgUrl?.let {\n        val imageUri=imgUrl.toUri().buildUpon().scheme(&quot;https&quot;).build()\n        Glide.with(imageView.context)\n            .load(imageUri)\n            .centerCrop()\n            .apply(RequestOptions()\n                .placeholder(R.drawable.loading_animation)\n                .error(R.drawable.ic_broken_image))\n            .listener(object :RequestListener&lt;Drawable&gt;{\n                override fun onLoadFailed(\n                    e: GlideException?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    Log.d(&quot;aa&quot;,&quot;===${e}&quot;)\n                    return false\n                }\n\n                override fun onResourceReady(\n                    resource: Drawable?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    dataSource: DataSource?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    return false\n                }\n            })\n            .into(imageView)\n    }\n}\n</code></pre>\n<p>layout</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;sport&quot;\n            type=&quot;com.example.retrofit2test.net.Sport&quot; /&gt;\n    &lt;/data&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:adjustViewBounds=&quot;true&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                app:imageUrl=&quot;@{sport.photo1}&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/layout&gt;\n</code></pre>\n"},{"tags":["java","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":19968278,"reputation":196,"user_id":14634363,"display_name":"Kyle Millar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641566654,"creation_date":1641565185,"answer_id":70622570,"question_id":70622384,"body_markdown":"Using solution 1 as a reference because the answer applies to both solutions. When you find a duplicate at the current node (`head`), you set the previous node‚Äôs (`prev`) `next` node to the current node‚Äôs `next` node (which removes the duplicate). On the next iteration, you will go to the next node in the list which is already being pointed at by the previous node. So, there is no need to overwrite `prev`. Another way to think about it is that the `head` you would be setting `prev` to is the node that you just removed. You wouldn‚Äôt want to do that.\n\nBefore removal:\nnode1 (prev) -&gt; node2(head) -&gt; node3\n\nAfter removal:\nnode1 (prev) -&gt; node3 (head)\n\nAs you can see, `prev` stays the same. No need to update it.\n","title":"Removing Duplicates from linked list. Why are the position of &quot;prev = head&quot; and &quot;p2 = p2.next&quot; not outside the else statement?","body":"<p>Using solution 1 as a reference because the answer applies to both solutions. When you find a duplicate at the current node (<code>head</code>), you set the previous node‚Äôs (<code>prev</code>) <code>next</code> node to the current node‚Äôs <code>next</code> node (which removes the duplicate). On the next iteration, you will go to the next node in the list which is already being pointed at by the previous node. So, there is no need to overwrite <code>prev</code>. Another way to think about it is that the <code>head</code> you would be setting <code>prev</code> to is the node that you just removed. You wouldn‚Äôt want to do that.</p>\n<p>Before removal:\nnode1 (prev) -&gt; node2(head) -&gt; node3</p>\n<p>After removal:\nnode1 (prev) -&gt; node3 (head)</p>\n<p>As you can see, <code>prev</code> stays the same. No need to update it.</p>\n"},{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641567385,"creation_date":1641565694,"answer_id":70622683,"question_id":70622384,"body_markdown":"&gt; Shouldn&#39;t &quot;p2 = p2.next&quot; be outside of else because we want to go next every time\r\n\r\nI think it would be more accurate to say that we want to **have a different next available every time**, instead of saying that we want to &quot;go next&quot; every time.\r\n\r\nWe don&#39;t always want to &quot;go next&quot;. When `prev.next` has changed due to another operation (in this case removal of a duplicate) we want to stay where we are, because `prev.next` has already changed and is now pointing to a node further ahead (because a duplicate node has just been removed).\r\n\r\nIn other words, we don&#39;t want to have a different `prev` every time, we just want to have a different `prev.next` every time. So as long as `prev.next` advances every time, we don&#39;t care if `prev` stays the same sometimes.\r\n\r\nThat&#39;s why in both methods `prev` (or `p2`) only advances in the `else` branch, while `prev.next` (or `p2.next`) is updated (advances) only in the `if` branch.\r\n\r\nThink of these two as different operations, the `else` branch being &quot;go next&quot; and the `if` branch being &quot;drop next&quot;. When you drop a node ahead of you, you did not move (true!), but since you did drop one node ahead of you, now there is a new node ahead of you, so did not have to move. So you can just continue with `if/else` checks and sooner or later you will reach the end or you will drop the last node ahead of you.\r\n\r\nOne input example to illustrate this point is\r\n```\r\nhead(1) -&gt; 1 -&gt; 1 -&gt; 1 -&gt; null\r\n```\r\nWith such an input, the algorithm would only do\r\n - drop next\r\n - drop next\r\n - drop next\r\n\r\nand it would be done.\r\n\r\nNo &quot;go next&quot; happened at all.\r\n\r\nResult\r\n```\r\nhead(1) -&gt; null\r\n```","title":"Removing Duplicates from linked list. Why are the position of &quot;prev = head&quot; and &quot;p2 = p2.next&quot; not outside the else statement?","body":"<blockquote>\n<p>Shouldn't &quot;p2 = p2.next&quot; be outside of else because we want to go next every time</p>\n</blockquote>\n<p>I think it would be more accurate to say that we want to <strong>have a different next available every time</strong>, instead of saying that we want to &quot;go next&quot; every time.</p>\n<p>We don't always want to &quot;go next&quot;. When <code>prev.next</code> has changed due to another operation (in this case removal of a duplicate) we want to stay where we are, because <code>prev.next</code> has already changed and is now pointing to a node further ahead (because a duplicate node has just been removed).</p>\n<p>In other words, we don't want to have a different <code>prev</code> every time, we just want to have a different <code>prev.next</code> every time. So as long as <code>prev.next</code> advances every time, we don't care if <code>prev</code> stays the same sometimes.</p>\n<p>That's why in both methods <code>prev</code> (or <code>p2</code>) only advances in the <code>else</code> branch, while <code>prev.next</code> (or <code>p2.next</code>) is updated (advances) only in the <code>if</code> branch.</p>\n<p>Think of these two as different operations, the <code>else</code> branch being &quot;go next&quot; and the <code>if</code> branch being &quot;drop next&quot;. When you drop a node ahead of you, you did not move (true!), but since you did drop one node ahead of you, now there is a new node ahead of you, so did not have to move. So you can just continue with <code>if/else</code> checks and sooner or later you will reach the end or you will drop the last node ahead of you.</p>\n<p>One input example to illustrate this point is</p>\n<pre><code>head(1) -&gt; 1 -&gt; 1 -&gt; 1 -&gt; null\n</code></pre>\n<p>With such an input, the algorithm would only do</p>\n<ul>\n<li>drop next</li>\n<li>drop next</li>\n<li>drop next</li>\n</ul>\n<p>and it would be done.</p>\n<p>No &quot;go next&quot; happened at all.</p>\n<p>Result</p>\n<pre><code>head(1) -&gt; null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641569166,"creation_date":1641568595,"answer_id":70623367,"question_id":70622384,"body_markdown":"***`removeDuplicates`:***\r\n\r\nIf we remove a duplicate, the current removed node should _not_ be assigned to `prev`. In fact `prev` is the previous node in the remaining kept list of uniques.\r\n\r\nAs is entirely evident, when there are more than 2 repeated values.\r\n\r\n    ... -&gt; prev: [42] -&gt; [42] -&gt; [42] -&gt; [51] -&gt; ...\r\n\r\nshould become\r\n\r\n    ... -&gt; prev: [42] -&gt; [51] -&gt; ...\r\n\r\n***removeDuplicatesTradeOff:***\r\n\r\nThe same case. `p2` (the previous node) may only advance when no duplicate was found.\r\n\r\n***Then there is a tiny bug:***\r\n\r\n`removeDuplicates` should return the new `head` normally - in case the head node is removed:\r\n\r\n    head = remove...(head); // Must assign, should the head node itself be removed.\r\n\r\nNow it returns `null`. However for duplicates, the head node is never deleted. So either make it a `void` function or return the old `head`.\r\n\r\n    public static Node removeDuplicates(Node head){\r\n        Node prev = null;\r\n        Set&lt;Integer&gt; hs = new HashSet&lt;&gt;();\r\n\r\n        Node current = head;\r\n        // Loop-invariant: hs.isEmpty() || prev != null\r\n        while (current != null) {\r\n            if (hs.contains(current.data)) {\r\n                prev.next = current.next;\r\n            } else {\r\n                hs.add(current.data);\r\n                prev = current;\r\n            }\r\n            current = current.next;\r\n        }\r\n        return head;\r\n    }\r\n\r\nAlso notice that it is bad style using the name `head` for a running pointer.","title":"Removing Duplicates from linked list. Why are the position of &quot;prev = head&quot; and &quot;p2 = p2.next&quot; not outside the else statement?","body":"<p><em><strong><code>removeDuplicates</code>:</strong></em></p>\n<p>If we remove a duplicate, the current removed node should <em>not</em> be assigned to <code>prev</code>. In fact <code>prev</code> is the previous node in the remaining kept list of uniques.</p>\n<p>As is entirely evident, when there are more than 2 repeated values.</p>\n<pre><code>... -&gt; prev: [42] -&gt; [42] -&gt; [42] -&gt; [51] -&gt; ...\n</code></pre>\n<p>should become</p>\n<pre><code>... -&gt; prev: [42] -&gt; [51] -&gt; ...\n</code></pre>\n<p><em><strong>removeDuplicatesTradeOff:</strong></em></p>\n<p>The same case. <code>p2</code> (the previous node) may only advance when no duplicate was found.</p>\n<p><em><strong>Then there is a tiny bug:</strong></em></p>\n<p><code>removeDuplicates</code> should return the new <code>head</code> normally - in case the head node is removed:</p>\n<pre><code>head = remove...(head); // Must assign, should the head node itself be removed.\n</code></pre>\n<p>Now it returns <code>null</code>. However for duplicates, the head node is never deleted. So either make it a <code>void</code> function or return the old <code>head</code>.</p>\n<pre><code>public static Node removeDuplicates(Node head){\n    Node prev = null;\n    Set&lt;Integer&gt; hs = new HashSet&lt;&gt;();\n\n    Node current = head;\n    // Loop-invariant: hs.isEmpty() || prev != null\n    while (current != null) {\n        if (hs.contains(current.data)) {\n            prev.next = current.next;\n        } else {\n            hs.add(current.data);\n            prev = current;\n        }\n        current = current.next;\n    }\n    return head;\n}\n</code></pre>\n<p>Also notice that it is bad style using the name <code>head</code> for a running pointer.</p>\n"}],"owner":{"account_id":17662633,"reputation":91,"user_id":12820757,"display_name":"Alex Oh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70622683,"answer_count":3,"score":3,"last_activity_date":1641569166,"creation_date":1641564303,"question_id":70622384,"body_markdown":"For the first function, shouldn&#39;t &quot;prev = head&quot; be outside of else because we want to set the previous every time before we change the head value?\r\n\r\nFor the second function, shouldn&#39;t &quot;p2 = p2.next&quot; be outside of else because we want to go next every time?\r\n\r\nThank you guys.\r\n\r\n\r\n```\r\n\r\n    //This would take O(n) but would require extra space O(n)\r\n    public static Node removeDuplicates(Node head){\r\n        Node prev = null;\r\n        Set&lt;Integer&gt; hs = new HashSet&lt;Integer&gt;();\r\n        \r\n        while(head!= null){\r\n            if(hs.contains(head.data)){\r\n                prev.next = head.next;\r\n            }\r\n            else{\r\n                hs.add(head.data);\r\n                //why is prev = head here instead of out of the else statement? \r\n                prev = head;\r\n            }\r\n            head = head.next;\r\n        }\r\n        return head;\r\n    }\r\n\r\n    //This would take O(n^2) but no extra space is required.\r\n    public static Node removeDuplicatesTradeOff(Node head){\r\n        //pointer 1 and pointer 2.\r\n        Node p1 = head;\r\n\r\n        while(p1.next != null){\r\n            Node p2 = p1;\r\n            while(p2.next != null){\r\n                if(p1.data == p2.next.data){\r\n                    p2.next = p2.next.next;\r\n                }\r\n                else{\r\n                    //why is p2 = p2.next here instead of out of the else statement? \r\n                    p2 = p2.next;\r\n                }  \r\n            }\r\n            p1 = p1.next;\r\n        }\r\n\r\n        return head;\r\n    }\r\n```","title":"Removing Duplicates from linked list. Why are the position of &quot;prev = head&quot; and &quot;p2 = p2.next&quot; not outside the else statement?","body":"<p>For the first function, shouldn't &quot;prev = head&quot; be outside of else because we want to set the previous every time before we change the head value?</p>\n<p>For the second function, shouldn't &quot;p2 = p2.next&quot; be outside of else because we want to go next every time?</p>\n<p>Thank you guys.</p>\n<pre><code>\n    //This would take O(n) but would require extra space O(n)\n    public static Node removeDuplicates(Node head){\n        Node prev = null;\n        Set&lt;Integer&gt; hs = new HashSet&lt;Integer&gt;();\n        \n        while(head!= null){\n            if(hs.contains(head.data)){\n                prev.next = head.next;\n            }\n            else{\n                hs.add(head.data);\n                //why is prev = head here instead of out of the else statement? \n                prev = head;\n            }\n            head = head.next;\n        }\n        return head;\n    }\n\n    //This would take O(n^2) but no extra space is required.\n    public static Node removeDuplicatesTradeOff(Node head){\n        //pointer 1 and pointer 2.\n        Node p1 = head;\n\n        while(p1.next != null){\n            Node p2 = p1;\n            while(p2.next != null){\n                if(p1.data == p2.next.data){\n                    p2.next = p2.next.next;\n                }\n                else{\n                    //why is p2 = p2.next here instead of out of the else statement? \n                    p2 = p2.next;\n                }  \n            }\n            p1 = p1.next;\n        }\n\n        return head;\n    }\n</code></pre>\n"},{"tags":["java","input","arraylist"],"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":1,"creation_date":1345556776,"post_id":12056220,"comment_id":16099364,"body_markdown":"As soon as you&#39;re populating a list from scanner you whould probably iterate over scanner and just add to a list.","body":"As soon as you&#39;re populating a list from scanner you whould probably iterate over scanner and just add to a list."},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":2,"creation_date":1345557423,"post_id":12056220,"comment_id":16099756,"body_markdown":"Please make sure you read this when asking homework questions (as most of your questions seem to be)\n\nhttp://meta.stackexchange.com/questions/10811/how-to-ask-and-answer-homework-questions","body":"Please make sure you read this when asking homework questions (as most of your questions seem to be)  <a href=\"http://meta.stackexchange.com/questions/10811/how-to-ask-and-answer-homework-questions\" title=\"how to ask and answer homework questions\">meta.stackexchange.com/questions/10811/&hellip;</a>"},{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1345559916,"post_id":12056220,"comment_id":16101100,"body_markdown":"@Dave: the line: `List numbers = new ArrayList();` will give rise to warnings based on raw types. Since you know (or assume) that the numbers will be integers you should define the list with type information, see my answer (or Piotr&#39;s).","body":"@Dave: the line: <code>List numbers = new ArrayList();</code> will give rise to warnings based on raw types. Since you know (or assume) that the numbers will be integers you should define the list with type information, see my answer (or Piotr&#39;s)."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345557051,"creation_date":1345556663,"answer_id":12056241,"question_id":12056220,"body_markdown":"You need to use [ArrayList add][1] method\r\n\r\nExample:  \r\n\r\n    arraylist.add(nextVale);\r\n\r\nYou don&#39;t need to do `for` loop while using arraylist. As you add content, list size will increase automatically. \r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29","title":"ArrayList input java","body":"<p>You need to use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29\" rel=\"nofollow\">ArrayList add</a> method</p>\n\n<p>Example:  </p>\n\n<pre><code>arraylist.add(nextVale);\n</code></pre>\n\n<p>You don't need to do <code>for</code> loop while using arraylist. As you add content, list size will increase automatically. </p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528215759,"creation_date":1345556835,"answer_id":12056291,"question_id":12056220,"body_markdown":"First if you have an `ArrayList`, you would not use `[]` to access/set the elements.  That&#39;s for arrays, which is different from an `ArrayList`.  You would use the `add` method,\r\n\r\nSecond, you need to sort the ArrayList.  Check out `Collections.sort` [in the API.][1]\r\n\r\nFinally, to iterate over a List, there are many constructs available.  One of the most common is..\r\n\r\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Number&gt;();\r\n\r\n    numbers.add(1);\r\n    numbers.add(2);\r\n    ...\r\n    \r\n    for (Integer number : numbers) {\r\n       System.out.println(number);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29\r\n","title":"ArrayList input java","body":"<p>First if you have an <code>ArrayList</code>, you would not use <code>[]</code> to access/set the elements.  That's for arrays, which is different from an <code>ArrayList</code>.  You would use the <code>add</code> method,</p>\n\n<p>Second, you need to sort the ArrayList.  Check out <code>Collections.sort</code> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow noreferrer\">in the API.</a></p>\n\n<p>Finally, to iterate over a List, there are many constructs available.  One of the most common is..</p>\n\n<pre><code>List&lt;Integer&gt; numbers = new ArrayList&lt;Number&gt;();\n\nnumbers.add(1);\nnumbers.add(2);\n...\n\nfor (Integer number : numbers) {\n   System.out.println(number);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1345556877,"creation_date":1345556877,"answer_id":12056304,"question_id":12056220,"body_markdown":"I&#39;d rather iterate over scanner and just add to a list:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    while(scanner.hasNextInt())\r\n          list.add(scanner.nextInt());\r\n    }\r\n\r\nthen sort it.","title":"ArrayList input java","body":"<p>I'd rather iterate over scanner and just add to a list:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nwhile(scanner.hasNextInt())\n      list.add(scanner.nextInt());\n}\n</code></pre>\n\n<p>then sort it.</p>\n"},{"tags":[],"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1345556889,"creation_date":1345556889,"answer_id":12056307,"question_id":12056220,"body_markdown":"The idea with using ArrayList is to avoid the deterministic iteration counts. Try something like this:\r\n\r\n    ArrayList&lt;Integer&gt; mylist = new ArrayList&lt;Integer&gt;();\r\n    while (sc.hasNextInt()) {\r\n        int i = sc.nextInt();\r\n        mylist.add(i);\r\n    }","title":"ArrayList input java","body":"<p>The idea with using ArrayList is to avoid the deterministic iteration counts. Try something like this:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; mylist = new ArrayList&lt;Integer&gt;();\nwhile (sc.hasNextInt()) {\n    int i = sc.nextInt();\n    mylist.add(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689597,"reputation":11,"user_id":1552238,"display_name":"Bon Cyrus Macalindong"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1345558112,"creation_date":1345557429,"answer_id":12056488,"question_id":12056220,"body_markdown":"&lt;!-- language: lang-java --&gt;   \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class sortArrayList {\r\n    \r\n        public static void main(string args[]) {\r\n            List&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\r\n            while (scanner.hasNextIint()) {\r\n                arrList.add(scanner.nextInt());\r\n            }\r\n            Collections.sort(arrList);\r\n        }\r\n    }","title":"ArrayList input java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class sortArrayList {\n\n    public static void main(string args[]) {\n        List&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\n        while (scanner.hasNextIint()) {\n            arrList.add(scanner.nextInt());\n        }\n        Collections.sort(arrList);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23689583,"reputation":3,"user_id":17714078,"display_name":"The Photon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639897698,"creation_date":1639897698,"answer_id":70409536,"question_id":12056220,"body_markdown":"It is not that hard.\r\nSince you are using Array List, it is very easy!\r\n\r\n    import java.util.*;\r\n    class Arr{\r\n    public static void main(String args[]){\r\n    Scanner sc=new Scanner(System.in);//initializing scanner class\r\n    String cont=&quot;&quot;;//String to check whether the user wants to input anymore numbers or not\r\n    List&lt;Double&gt; n=new ArrayList&lt;Double&gt;();//List that will store our numbers\r\n    while(!(cont.equals(&quot;no&quot;))){//taking continuous input\r\n    \r\n            System.out.println(&quot;Enter number:&quot;);\r\n            n.add(sc.nextDouble());\r\n    \r\n            System.out.println(&quot;Do you want to continue?(type &#39;yes&#39;/&#39;no&#39;)&quot;);\r\n            cont=sc.next();\r\n        }\r\n    Collections.sort(n);//sorts your ArrayList\r\n    System.out.println(&quot;Sorted list:&quot;);\r\n    for (Double value : n) {//displaying sorted list\r\n            System.out.println( value);\r\n    }\r\n    }\r\n    }","title":"ArrayList input java","body":"<p>It is not that hard.\nSince you are using Array List, it is very easy!</p>\n<pre><code>import java.util.*;\nclass Arr{\npublic static void main(String args[]){\nScanner sc=new Scanner(System.in);//initializing scanner class\nString cont=&quot;&quot;;//String to check whether the user wants to input anymore numbers or not\nList&lt;Double&gt; n=new ArrayList&lt;Double&gt;();//List that will store our numbers\nwhile(!(cont.equals(&quot;no&quot;))){//taking continuous input\n\n        System.out.println(&quot;Enter number:&quot;);\n        n.add(sc.nextDouble());\n\n        System.out.println(&quot;Do you want to continue?(type 'yes'/'no')&quot;);\n        cont=sc.next();\n    }\nCollections.sort(n);//sorts your ArrayList\nSystem.out.println(&quot;Sorted list:&quot;);\nfor (Double value : n) {//displaying sorted list\n        System.out.println( value);\n}\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22379921,"reputation":111,"user_id":16593670,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641569031,"creation_date":1641537534,"answer_id":70617447,"question_id":12056220,"body_markdown":"You can also use a for loop:\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        list.add(sc.nextInt());\r\n    }\r\n\r\n","title":"ArrayList input java","body":"<p>You can also use a for loop:</p>\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; 5; i++) {\n    list.add(sc.nextInt());\n}\n</code></pre>\n"}],"owner":{"account_id":1156945,"reputation":931,"user_id":1564741,"accept_rate":80,"display_name":"BLL27"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92788,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12056307,"answer_count":7,"score":7,"last_activity_date":1641569031,"creation_date":1345556584,"question_id":12056220,"body_markdown":"Im looking at the problem:\r\n&gt;Write a program which reads a sequence of integers and displays them in ascending order.\r\n\r\nIm creating an ArrayList (which I am new to) and I want to populate with integers input from the command line. With an array I could use a for loop with\r\n\r\n     for (int i =0; i &lt; array.length; i++) {\r\n          array[i] = scanner.nextInt();\r\n\r\nbut with an ArrayList of unbounded size Im not sure how to process the input?\r\n\r\nEDIT:\r\n\r\n    class SortNumbers {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\tList numbers = new ArrayList();\r\n\tScanner scanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter some numbers.&quot;);\r\n\t\r\n\twhile (scanner.hasNextInt()) {\r\n\tint i = scanner.nextInt();\r\n\tnumbers.add(i);\r\n        }\r\n      }\r\n    }","title":"ArrayList input java","body":"<p>Im looking at the problem:</p>\n\n<blockquote>\n  <p>Write a program which reads a sequence of integers and displays them in ascending order.</p>\n</blockquote>\n\n<p>Im creating an ArrayList (which I am new to) and I want to populate with integers input from the command line. With an array I could use a for loop with</p>\n\n<pre><code> for (int i =0; i &lt; array.length; i++) {\n      array[i] = scanner.nextInt();\n</code></pre>\n\n<p>but with an ArrayList of unbounded size Im not sure how to process the input?</p>\n\n<p>EDIT:</p>\n\n<pre><code>class SortNumbers {\n\npublic static void main(String[] args) {\n\nList numbers = new ArrayList();\nScanner scanner = new Scanner(System.in);\nSystem.out.println(\"Enter some numbers.\");\n\nwhile (scanner.hasNextInt()) {\nint i = scanner.nextInt();\nnumbers.add(i);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","jakarta-ee","soap"],"owner":{"account_id":23846844,"reputation":11,"user_id":17851242,"display_name":"Guntyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641568628,"creation_date":1641481426,"question_id":70609148,"body_markdown":"A little bit of context :\r\nMy Java project used to write data in a local database, but now we are moving to a SAAS solution. Sadly, the API we are going to use can only be called via SOAP. That means I am changing all of my writers so they can create and send appropriate SOAP envelopes.&lt;br&gt;\r\nSince I had no knowledge of how SOAP worked, I made a little side project as a POC to test out how the libraries worked. I used Maven to import the dependencies, and started using **javax.xml.soap**, but then I read that this library is very deprecated, so instead I switched to **jakarta**&lt;br&gt;\r\nAnd it worked ! My POC send the right envelopes and got a response. So I started adapting my big project, and I added that to my pom.xml :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I adapted the code from my POC to the main project :\r\n\r\n    try {\r\n            // Create SOAP Connection\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n\r\n            MessageFactory messageFactory = MessageFactory.newInstance();\r\n            SOAPMessage soapMessage = messageFactory.createMessage();\r\n\r\n            //Abstract method that needs to be overridden by each writer\r\n            createSoapEnvelope(soapMessage, itemProcessorResult);\r\n\r\n            MimeHeaders headers = soapMessage.getMimeHeaders();\r\n            headers.addHeader(&quot;SOAPAction&quot;, soapAction);\r\n\r\n            soapMessage.saveChanges();\r\n\r\n            SOAPMessage soapResponse = soapConnection.call(\r\n                    soapMessage,\r\n                    ENDPOINT_URL\r\n            );\r\n\r\nI don&#39;t post the whole createSoapEnvelope, because it&#39;s big, but it looks like this :\r\n\r\n     @Override\r\n    protected void createSoapEnveloppe(SOAPMessage soapMessage, ItemProcessorResult itemProcessorResult) throws SOAPException {\r\n\r\n        SOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n        // SOAP Envelope\r\n        SOAPEnvelope envelope = soapPart.getEnvelope();\r\n        envelope.addNamespaceDeclaration(namespaceShort, namespaceURI);\r\n\r\n        // SOAP Body\r\n        SOAPBody soapBody = envelope.getBody();\r\n    [A whole bunch of SOAPElements with addChildElement()]\r\n\r\nAfter a **mvn clean install**, I could run my code, but I got errors at the execution\r\n\r\n&gt; javax.xml.soap                           : Using deprecated META-INF/services mechanism with non-standard property: javax.xml.soap.MetaFactory. Property javax.xml.soap.SAAJMetaFactory should be used instead.\r\ncom.sun.xml.messaging.saaj.soap.impl     : SAAJ0101 : le parent dun &#233;l&#233;ment SOAPBodyElement doit &#234;tre un &#233;l&#233;ment SOAPBody\r\n\r\nIt&#39;s strange that the error is in my system&#39;s language, and it means **&quot;The parent of a SOAPBodyElement must be a SOAPBody element&quot;**\r\n\r\nI tried to fix that, but couldn&#39;t find anything. Then I noticed that the library used for the **SOAPConnectionFactory** was not the same in my POC and in the final project, by highlighting the class in IntelliJ\r\n\r\nIn my POC :\r\n[POC library][1]\r\n\r\nIn my project :\r\n[Project library][2]\r\n\r\nSo my POC is using **jakarta**, but my project is still using **javax**. I tried to delete javax from my project by removing the dependency from my pom.xml (both of them, the main one and the module&#39;s one), but somehow the library is still there and used, even after reloading the project dependencies and doing some mvn clean install several times.\r\n\r\nI am assuming my problem comes from the fact that I&#39;m using the wrong library, but maybe I&#39;m wrong ? And if I&#39;m not, how can I set the library right ? I&#39;m using the latest version of **IntelliJ** and have been fiddling with the projet properties, but I don&#39;t know much about it.\r\n\r\nOh, and both the POC and the project have \r\n\r\n    import javax.xml.soap.*;\r\n\r\non top. I tried to replace it with **jakarta.xml.soap.*** but it&#39;s just not compiling\r\n\r\nThank you (and sorry if I made any errors, english is not my native language and my brain is fried)\r\n\r\nUPDATE : I changed my pom.xml to exclude javax.xml.soap, and now my SOAPConnectionFactory uses jakarta ! I still got my french error though.\r\n\r\n  [1]: https://i.stack.imgur.com/LXW3k.png\r\n  [2]: https://i.stack.imgur.com/b8MuQ.png","title":"Unable to use Jakarta instead of Javax when creating a SOAPConnectionFactory","body":"<p>A little bit of context :\nMy Java project used to write data in a local database, but now we are moving to a SAAS solution. Sadly, the API we are going to use can only be called via SOAP. That means I am changing all of my writers so they can create and send appropriate SOAP envelopes.<br>\nSince I had no knowledge of how SOAP worked, I made a little side project as a POC to test out how the libraries worked. I used Maven to import the dependencies, and started using <strong>javax.xml.soap</strong>, but then I read that this library is very deprecated, so instead I switched to <strong>jakarta</strong><br>\nAnd it worked ! My POC send the right envelopes and got a response. So I started adapting my big project, and I added that to my pom.xml :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I adapted the code from my POC to the main project :</p>\n<pre><code>try {\n        // Create SOAP Connection\n        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n        SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n        MessageFactory messageFactory = MessageFactory.newInstance();\n        SOAPMessage soapMessage = messageFactory.createMessage();\n\n        //Abstract method that needs to be overridden by each writer\n        createSoapEnvelope(soapMessage, itemProcessorResult);\n\n        MimeHeaders headers = soapMessage.getMimeHeaders();\n        headers.addHeader(&quot;SOAPAction&quot;, soapAction);\n\n        soapMessage.saveChanges();\n\n        SOAPMessage soapResponse = soapConnection.call(\n                soapMessage,\n                ENDPOINT_URL\n        );\n</code></pre>\n<p>I don't post the whole createSoapEnvelope, because it's big, but it looks like this :</p>\n<pre><code> @Override\nprotected void createSoapEnveloppe(SOAPMessage soapMessage, ItemProcessorResult itemProcessorResult) throws SOAPException {\n\n    SOAPPart soapPart = soapMessage.getSOAPPart();\n\n    // SOAP Envelope\n    SOAPEnvelope envelope = soapPart.getEnvelope();\n    envelope.addNamespaceDeclaration(namespaceShort, namespaceURI);\n\n    // SOAP Body\n    SOAPBody soapBody = envelope.getBody();\n[A whole bunch of SOAPElements with addChildElement()]\n</code></pre>\n<p>After a <strong>mvn clean install</strong>, I could run my code, but I got errors at the execution</p>\n<blockquote>\n<p>javax.xml.soap                           : Using deprecated META-INF/services mechanism with non-standard property: javax.xml.soap.MetaFactory. Property javax.xml.soap.SAAJMetaFactory should be used instead.\ncom.sun.xml.messaging.saaj.soap.impl     : SAAJ0101 : le parent dun √©l√©ment SOAPBodyElement doit √™tre un √©l√©ment SOAPBody</p>\n</blockquote>\n<p>It's strange that the error is in my system's language, and it means <strong>&quot;The parent of a SOAPBodyElement must be a SOAPBody element&quot;</strong></p>\n<p>I tried to fix that, but couldn't find anything. Then I noticed that the library used for the <strong>SOAPConnectionFactory</strong> was not the same in my POC and in the final project, by highlighting the class in IntelliJ</p>\n<p>In my POC :\n<a href=\"https://i.stack.imgur.com/LXW3k.png\" rel=\"nofollow noreferrer\">POC library</a></p>\n<p>In my project :\n<a href=\"https://i.stack.imgur.com/b8MuQ.png\" rel=\"nofollow noreferrer\">Project library</a></p>\n<p>So my POC is using <strong>jakarta</strong>, but my project is still using <strong>javax</strong>. I tried to delete javax from my project by removing the dependency from my pom.xml (both of them, the main one and the module's one), but somehow the library is still there and used, even after reloading the project dependencies and doing some mvn clean install several times.</p>\n<p>I am assuming my problem comes from the fact that I'm using the wrong library, but maybe I'm wrong ? And if I'm not, how can I set the library right ? I'm using the latest version of <strong>IntelliJ</strong> and have been fiddling with the projet properties, but I don't know much about it.</p>\n<p>Oh, and both the POC and the project have</p>\n<pre><code>import javax.xml.soap.*;\n</code></pre>\n<p>on top. I tried to replace it with <strong>jakarta.xml.soap.</strong>* but it's just not compiling</p>\n<p>Thank you (and sorry if I made any errors, english is not my native language and my brain is fried)</p>\n<p>UPDATE : I changed my pom.xml to exclude javax.xml.soap, and now my SOAPConnectionFactory uses jakarta ! I still got my french error though.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1465283567,"creation_date":1465279030,"answer_id":37671556,"question_id":37671467,"body_markdown":"According to [Documentation][1],\r\nRequired arguments are final fields and fields with constraints such as @NonNull.\r\n\r\nYou need to make username as  @NonNull\r\n\r\n    @NonNull private String username;\r\n\r\nAnd you need to make them final too. \r\n\r\n\r\n  [1]: https://projectlombok.org/api/lombok/RequiredArgsConstructor.html","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>According to <a href=\"https://projectlombok.org/api/lombok/RequiredArgsConstructor.html\" rel=\"noreferrer\">Documentation</a>,\nRequired arguments are final fields and fields with constraints such as @NonNull.</p>\n\n<p>You need to make username as  @NonNull</p>\n\n<pre><code>@NonNull private String username;\n</code></pre>\n\n<p>And you need to make them final too. </p>\n"},{"tags":[],"owner":{"account_id":14034729,"reputation":159,"user_id":10137712,"display_name":"adrianostgard"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1532593945,"creation_date":1532591976,"answer_id":51533809,"question_id":37671467,"body_markdown":"It&#39;s also worth noting for future readers that [@Data][1] also provides [@RequiredArgsConstructor][2], so using both annotations isn&#39;t necessary :)\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data\r\n  [2]: https://projectlombok.org/features/constructor","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>It's also worth noting for future readers that <a href=\"https://projectlombok.org/features/Data\" rel=\"noreferrer\">@Data</a> also provides <a href=\"https://projectlombok.org/features/constructor\" rel=\"noreferrer\">@RequiredArgsConstructor</a>, so using both annotations isn't necessary :)</p>\n"},{"tags":[],"owner":{"account_id":12504363,"reputation":1139,"user_id":9101688,"display_name":"HA S"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611654290,"creation_date":1571277065,"answer_id":58423812,"question_id":37671467,"body_markdown":"Did you installed Lombok plugin in IntelliJ? \r\n\r\nIf not then \r\n\r\n`File -&gt; Settings -&gt; Plugins: Search for Lombok (CodeStream) version. `\r\n\r\nRestart the IDE and it should be fixed.\r\n\r\n**Double Check:**\r\n\r\n - You have Lombok library installed using Maven or Gradle.\r\n -  Enabled `Annotation Processors` from IntelliJ IDE from `File -&gt; Settings: Search for Annotation Processors`\r\n","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>Did you installed Lombok plugin in IntelliJ?</p>\n<p>If not then</p>\n<p><code>File -&gt; Settings -&gt; Plugins: Search for Lombok (CodeStream) version. </code></p>\n<p>Restart the IDE and it should be fixed.</p>\n<p><strong>Double Check:</strong></p>\n<ul>\n<li>You have Lombok library installed using Maven or Gradle.</li>\n<li>Enabled <code>Annotation Processors</code> from IntelliJ IDE from <code>File -&gt; Settings: Search for Annotation Processors</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2271742,"reputation":3871,"user_id":1998950,"display_name":"Harinath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581990643,"creation_date":1581990643,"answer_id":60272676,"question_id":37671467,"body_markdown":"Try changing project/module JDK to 1.8.\r\n\r\nProject Structure -&gt; Project Settings-&gt;Project SDK and Project Language Level\r\n\r\n","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>Try changing project/module JDK to 1.8.</p>\n\n<p>Project Structure -> Project Settings->Project SDK and Project Language Level</p>\n"},{"tags":[],"owner":{"account_id":5295877,"reputation":1405,"user_id":4227069,"display_name":"Eric Tan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608176681,"creation_date":1608176681,"answer_id":65334448,"question_id":37671467,"body_markdown":"The argument fields for @RequiredArgsConstructor annotation has to be `final`. So this fix will work:\r\n\r\n    private final String username;\r\n\r\nThe IDE IntelliJ makes the variable grey (inactive status) when `final` keyword missed, which is very helpful to detect this kind of mistake. ","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>The argument fields for @RequiredArgsConstructor annotation has to be <code>final</code>. So this fix will work:</p>\n<pre><code>private final String username;\n</code></pre>\n<p>The IDE IntelliJ makes the variable grey (inactive status) when <code>final</code> keyword missed, which is very helpful to detect this kind of mistake.</p>\n"},{"tags":[],"owner":{"account_id":9618872,"reputation":579,"user_id":7140730,"display_name":"Manimaran Samuthirapandi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620730168,"creation_date":1620730168,"answer_id":67485259,"question_id":37671467,"body_markdown":"&gt; @RequiredArgsConstructor\r\n\r\n    &gt; Generates a constructor with required arguments. Required arguments\r\n     are final fields and fields with constraints such as @NonNull.\r\n    &gt; Complete documentation is found at the project lombok features page\r\n    for @Constructor.\r\n    &gt; Even though it is not listed, this annotation also has the\r\n     *`onConstructor`* parameter. See the full documentation for more details.\r\n\r\n\r\nLombok library\r\n\r\nTo use the `@RequiredArgsConstructor`, the variable has to be `final` and it will create the values in constructor automatically\r\n\r\n    private final String username;\r\n\r\n\r\n","title":"Lombok: RequiredArgsConstructor is not working","body":"<blockquote>\n<p>@RequiredArgsConstructor</p>\n</blockquote>\n<pre><code>&gt; Generates a constructor with required arguments. Required arguments\n are final fields and fields with constraints such as @NonNull.\n&gt; Complete documentation is found at the project lombok features page\nfor @Constructor.\n&gt; Even though it is not listed, this annotation also has the\n *`onConstructor`* parameter. See the full documentation for more details.\n</code></pre>\n<p>Lombok library</p>\n<p>To use the <code>@RequiredArgsConstructor</code>, the variable has to be <code>final</code> and it will create the values in constructor automatically</p>\n<pre><code>private final String username;\n</code></pre>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68507,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":37671556,"answer_count":6,"score":31,"last_activity_date":1641568558,"creation_date":1465278635,"question_id":37671467,"body_markdown":"It seems that `@RequiredArgsConstructor` not working in the code below. Why is it?\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import lombok.Data;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Data\r\n    @RequiredArgsConstructor\r\n    public class User implements Serializable {\r\n    \t\r\n        private String username;\r\n    \r\n        /*public User(String username) {\r\n            this.username = username;\r\n        }*/\r\n        \r\n        private static final long serialVersionUID = 8043545738660721361L;\r\n    }\r\n\r\nI get the error:\r\n\r\n    javax.faces.el.EvaluationException: java.lang.Error: Unresolved compilation problem: \r\n    \tThe constructor User(String) is undefined\r\n\r\nFor some reason seems it does work for other domain class in which no constructor defined but instead used the `@RequiredArgsConstructor` annotation.","title":"Lombok: RequiredArgsConstructor is not working","body":"<p>It seems that <code>@RequiredArgsConstructor</code> not working in the code below. Why is it?</p>\n\n<pre><code>import java.io.Serializable;\n\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\n\n@Data\n@RequiredArgsConstructor\npublic class User implements Serializable {\n\n    private String username;\n\n    /*public User(String username) {\n        this.username = username;\n    }*/\n\n    private static final long serialVersionUID = 8043545738660721361L;\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>javax.faces.el.EvaluationException: java.lang.Error: Unresolved compilation problem: \n    The constructor User(String) is undefined\n</code></pre>\n\n<p>For some reason seems it does work for other domain class in which no constructor defined but instead used the <code>@RequiredArgsConstructor</code> annotation.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":2,"creation_date":1641568672,"post_id":70623231,"comment_id":124845161,"body_markdown":"Is this just a class with no main method? That might be the issue.","body":"Is this just a class with no main method? That might be the issue."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641578702,"post_id":70623231,"comment_id":124849424,"body_markdown":"Looks like that class doesn&#39;t have a `main` method, and you have never run anything with a main. Your Run Configuration must specify a Main class that contains a main method.","body":"Looks like that class doesn&#39;t have a <code>main</code> method, and you have never run anything with a main. Your Run Configuration must specify a Main class that contains a main method."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641631174,"post_id":70623231,"comment_id":124858743,"body_markdown":"You have a general project instead of a Java project (project folder is not decorated with a _j_), so the .java files will not be compiled (the Java editor icon is an outline _J_ instead of a regular _J_). Use _File &gt; Open Projects from File System..._ and choose the _Practice Assingment Template_ directory (_Assingment_ seems to be misspelled and should probably be _Assignment_).","body":"You have a general project instead of a Java project (project folder is not decorated with a <i>j</i>), so the .java files will not be compiled (the Java editor icon is an outline <i>J</i> instead of a regular <i>J</i>). Use <i>File &gt; Open Projects from File System...</i> and choose the <i>Practice Assingment Template</i> directory (<i>Assingment</i> seems to be misspelled and should probably be <i>Assignment</i>)."}],"owner":{"account_id":23861061,"reputation":1,"user_id":17864002,"display_name":"Panagiotis Paspalas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641568076,"creation_date":1641568076,"question_id":70623231,"body_markdown":"I&#39;m new to programming and face a problem: An assignment requires from students to open some files .java in eclipse. Trying to run these files, an error pops up: Unable to launch. I tried to change run configuration but I&#39;m unable to change it. I appreciate any help, thank you [1]\r\n\r\n[1]: https://i.stack.imgur.com/9Dqjh.png","title":"Unable to launch","body":"<p>I'm new to programming and face a problem: An assignment requires from students to open some files .java in eclipse. Trying to run these files, an error pops up: Unable to launch. I tried to change run configuration but I'm unable to change it. I appreciate any help, thank you <a href=\"https://i.stack.imgur.com/9Dqjh.png\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":953250,"reputation":2033,"user_id":979000,"accept_rate":42,"display_name":"Hrishikesh"},"score":1,"creation_date":1330624640,"post_id":9504824,"comment_id":12060028,"body_markdown":"The problem was because i had the module added as a dependency to my parent project since it is completely seperated. Hence it would be placed in my WEB-INF/lib folder. After debugging the JPA code where it loads the entities, i realised that the classpath where it starts scanning for @Entity annotations was from the WEB-INF/classes. which makes sense, since lib is read only. now, i have to think of adding the module in the classes folder or use the &lt;jar-file&gt; tag in the persistence.xml some way to enable the jar entity to be scanned and loaded","body":"The problem was because i had the module added as a dependency to my parent project since it is completely seperated. Hence it would be placed in my WEB-INF/lib folder. After debugging the JPA code where it loads the entities, i realised that the classpath where it starts scanning for @Entity annotations was from the WEB-INF/classes. which makes sense, since lib is read only. now, i have to think of adding the module in the classes folder or use the &lt;jar-file&gt; tag in the persistence.xml some way to enable the jar entity to be scanned and loaded"}],"answers":[{"tags":[],"owner":{"account_id":152431,"reputation":11484,"user_id":366964,"accept_rate":70,"display_name":"Nayan Wadekar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1330543078,"creation_date":1330543078,"answer_id":9505235,"question_id":9504824,"body_markdown":"To scan entities residing in jar, you have to include it in persistence.xml.\r\n `&lt;jar-file&gt;packedEntity.jar&lt;/jar-file&gt;`.\r\n\r\n\r\nIf you want to load unit from the package, then you can try directly injecting it from jar.\r\n`@PersistenceContext(unitName = &quot;../packedEntity.jar#main&quot;)`\r\n\r\nHaven&#39;t tried but you can enable hibernate auto detection for entities\r\n`&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;`","title":"Loading JPA Entity from external Jar file","body":"<p>To scan entities residing in jar, you have to include it in persistence.xml.\n <code>&lt;jar-file&gt;packedEntity.jar&lt;/jar-file&gt;</code>.</p>\n\n<p>If you want to load unit from the package, then you can try directly injecting it from jar.\n<code>@PersistenceContext(unitName = \"../packedEntity.jar#main\")</code></p>\n\n<p>Haven't tried but you can enable hibernate auto detection for entities\n<code>&lt;property name=\"hibernate.archive.autodetection\" value=\"class, hbm\"/&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330640330,"creation_date":1330557175,"answer_id":9508171,"question_id":9504824,"body_markdown":"At work we don&#39;t use JPA but Hibernate, and our project is totally modularized.\r\nWe handle about 30 countries which do not use the same modules, and we are able to load all these module&#39;s entities in a session factory by simply changing the maven dependencies (no orm file to modify)\r\n\r\nThe solution used is to use the Java SPI.\r\nThe ServiceLoader will lookup for classes that implement a core interface EntityProvider. \r\nEach EntityProvider of every module will hardcode the entities it brings and return a list of entities when calling ServiceLoader.load(EntityProvider.class).\r\nThus in the platform core we just need to create a spring based session factory in which we provide the entities list by a factory bean which will call the SPI.\r\n\r\n\r\nI don&#39;t know if it will be easy with JPA but i&#39;m pretty sure it&#39;s possible but you may need to create manually the EMF from a spring context, and also the PersistenceUnit i guess... What you may want is a persistence unit that is a &quot;merge&quot; of the persistence units of all your modules (at least for your entities)\r\nTake a look at SPI and also the javax.persistence.spi package.\r\n\r\n\r\nCheck also how to create an EMF with Spring:\r\nAbstractEntityManagerFactoryBean\r\n\r\n\r\nEdit: you can check this: https://stackoverflow.com/questions/9522172/using-the-mergingpersistenceunitmanager-to-load-entity","title":"Loading JPA Entity from external Jar file","body":"<p>At work we don't use JPA but Hibernate, and our project is totally modularized.\nWe handle about 30 countries which do not use the same modules, and we are able to load all these module's entities in a session factory by simply changing the maven dependencies (no orm file to modify)</p>\n\n<p>The solution used is to use the Java SPI.\nThe ServiceLoader will lookup for classes that implement a core interface EntityProvider. \nEach EntityProvider of every module will hardcode the entities it brings and return a list of entities when calling ServiceLoader.load(EntityProvider.class).\nThus in the platform core we just need to create a spring based session factory in which we provide the entities list by a factory bean which will call the SPI.</p>\n\n<p>I don't know if it will be easy with JPA but i'm pretty sure it's possible but you may need to create manually the EMF from a spring context, and also the PersistenceUnit i guess... What you may want is a persistence unit that is a \"merge\" of the persistence units of all your modules (at least for your entities)\nTake a look at SPI and also the javax.persistence.spi package.</p>\n\n<p>Check also how to create an EMF with Spring:\nAbstractEntityManagerFactoryBean</p>\n\n<p>Edit: you can check this: <a href=\"https://stackoverflow.com/questions/9522172/using-the-mergingpersistenceunitmanager-to-load-entity\">using the MergingPersistenceUnitManager to load entity</a></p>\n"},{"tags":[],"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1507799880,"creation_date":1507799880,"answer_id":46705820,"question_id":9504824,"body_markdown":"if you are using spring boot use the entity scan annotation in your main springboot class\r\n\r\n    @EntityScan(\r\n            basePackageClasses = {externalpackage.classname.class}\r\n    )","title":"Loading JPA Entity from external Jar file","body":"<p>if you are using spring boot use the entity scan annotation in your main springboot class</p>\n\n<pre><code>@EntityScan(\n        basePackageClasses = {externalpackage.classname.class}\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589562878,"creation_date":1589555100,"answer_id":61822343,"question_id":9504824,"body_markdown":"Simply use  \r\n\r\n    @EntityScan(&quot;com...pakage-which-contains-entities...&quot;)\r\n\r\n\r\n\r\nOr if you have multiple entities packages, use  \r\n\r\n    @EntityScan(basePackages = {&quot;...pkg1...&quot;, &quot;...pkg2...&quot;} )","title":"Loading JPA Entity from external Jar file","body":"<p>Simply use  </p>\n\n<pre><code>@EntityScan(\"com...pakage-which-contains-entities...\")\n</code></pre>\n\n<p>Or if you have multiple entities packages, use  </p>\n\n<pre><code>@EntityScan(basePackages = {\"...pkg1...\", \"...pkg2...\"} )\n</code></pre>\n"}],"owner":{"account_id":953250,"reputation":2033,"user_id":979000,"accept_rate":42,"display_name":"Hrishikesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14974,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1641567990,"creation_date":1330541181,"question_id":9504824,"body_markdown":"i have a project setup where i have modularized a project, and packaged a module into a jar file which gets included in the main project when we create a war and deploy it. \r\nThe problem that i am facing is that, i have an Entity present in the module which does not load when the JPA Container EntityManagerFactory for the unitName is built during startup. \r\n\r\nThe basic question that i have is doesnt the EntityManager lookup at the persistence.xml and then load the properties that are specified, and then scan all the packages for @Entity annotation? \r\n\r\nAny insight on how this works and how can i resolve this would be great. \r\n\r\nI found this link and it mentions about creating seperate persistenceUnits, but here i dont need a seperate persistence unit. i just need the module to piggy back on the parent project and load the entity and any other @Resource, @Component classes, which it does due to the context:component scan and the annotation config. \r\n\r\nhttp://javathoughts.capesugarbird.com/2009/02/jpa-and-multiple-persistence-units.html\r\n\r\n\r\nHere is my code/configuration\r\n\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;  class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;LineManagement&quot; /&gt;\r\n\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;databasePlatform&quot; ref=&quot;cpsHibernateDialectClassName&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;beanName&quot; value=&quot;entityManager&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\ndefinition of the EnitityManagerFactory to startup the Entity Manager. \r\n\r\n\t&lt;persistence-unit name=&quot;LineManagement&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.current_session_context_class&quot; value=&quot;thread&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.default_batch_fetch_size&quot; value=&quot;200&quot; /&gt;\r\n\r\n ....\r\n\r\nPersistence.xml which defines the second level cache and other hibernate properties. \r\n\r\nThen, the module which has an entity.\r\n\r\n    import javax.persistence.Entity;\r\n\r\n\r\n    @Entity\r\n    @Table(name = IntegrationEvent.TABLE_NAME, uniqueConstraints =    @UniqueConstraint(columnNames = &quot;INTGRTN_EVNT_QUEUE_SK&quot;))\r\n    @GenericGenerator(name = &quot;UUID_GEN&quot;, strategy = &quot;org.hibernate.id.UUIDHexGenerator&quot;,     parameters = { @Parameter(name = &quot;separator&quot;, value = &quot;-&quot;) })\r\n    public class IntegrationEvent implements Serializable {\r\n ....\r\n    }\r\n\r\nNote: the entity is in a different package than the parent, since it is a seperate module on its own. \r\n\r\nThe entity which loads fine in the main project. \r\n\r\n    package com.parent.line.entity;\r\n\r\n    import javax.persistence.Entity;\r\n\r\n    @Entity\r\n    @Table(name = &quot;ACCOUNT&quot;)\r\n    @Cacheable(true)\r\n    public class Account\r\n      implements LMLookupTypeEntityByDivision, Serializable, Comparable&lt;Account&gt; {\r\n\r\n","title":"Loading JPA Entity from external Jar file","body":"<p>i have a project setup where i have modularized a project, and packaged a module into a jar file which gets included in the main project when we create a war and deploy it. \nThe problem that i am facing is that, i have an Entity present in the module which does not load when the JPA Container EntityManagerFactory for the unitName is built during startup. </p>\n\n<p>The basic question that i have is doesnt the EntityManager lookup at the persistence.xml and then load the properties that are specified, and then scan all the packages for @Entity annotation? </p>\n\n<p>Any insight on how this works and how can i resolve this would be great. </p>\n\n<p>I found this link and it mentions about creating seperate persistenceUnits, but here i dont need a seperate persistence unit. i just need the module to piggy back on the parent project and load the entity and any other @Resource, @Component classes, which it does due to the context:component scan and the annotation config. </p>\n\n<p><a href=\"http://javathoughts.capesugarbird.com/2009/02/jpa-and-multiple-persistence-units.html\">http://javathoughts.capesugarbird.com/2009/02/jpa-and-multiple-persistence-units.html</a></p>\n\n<p>Here is my code/configuration</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactory\"  class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"LineManagement\" /&gt;\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n            &lt;property name=\"generateDdl\" value=\"false\" /&gt;\n            &lt;property name=\"showSql\" value=\"false\" /&gt;\n            &lt;property name=\"databasePlatform\" ref=\"cpsHibernateDialectClassName\" /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=\"beanName\" value=\"entityManager\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>definition of the EnitityManagerFactory to startup the Entity Manager. </p>\n\n<pre><code>&lt;persistence-unit name=\"LineManagement\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;properties&gt;\n        &lt;property name=\"hibernate.id.new_generator_mappings\" value=\"true\" /&gt;\n        &lt;property name=\"hibernate.current_session_context_class\" value=\"thread\" /&gt;\n        &lt;property name=\"hibernate.default_batch_fetch_size\" value=\"200\" /&gt;\n</code></pre>\n\n<p>....</p>\n\n<p>Persistence.xml which defines the second level cache and other hibernate properties. </p>\n\n<p>Then, the module which has an entity.</p>\n\n<pre><code>import javax.persistence.Entity;\n\n\n@Entity\n@Table(name = IntegrationEvent.TABLE_NAME, uniqueConstraints =    @UniqueConstraint(columnNames = \"INTGRTN_EVNT_QUEUE_SK\"))\n@GenericGenerator(name = \"UUID_GEN\", strategy = \"org.hibernate.id.UUIDHexGenerator\",     parameters = { @Parameter(name = \"separator\", value = \"-\") })\npublic class IntegrationEvent implements Serializable {\n</code></pre>\n\n<p>....\n    }</p>\n\n<p>Note: the entity is in a different package than the parent, since it is a seperate module on its own. </p>\n\n<p>The entity which loads fine in the main project. </p>\n\n<pre><code>package com.parent.line.entity;\n\nimport javax.persistence.Entity;\n\n@Entity\n@Table(name = \"ACCOUNT\")\n@Cacheable(true)\npublic class Account\n  implements LMLookupTypeEntityByDivision, Serializable, Comparable&lt;Account&gt; {\n</code></pre>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1641561237,"post_id":70621792,"comment_id":124842037,"body_markdown":"Which part is not working?","body":"Which part is not working?"},{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1641568050,"post_id":70621792,"comment_id":124844889,"body_markdown":"Yeah, though to know when we don&#39;t know what&#39;s wrong.","body":"Yeah, though to know when we don&#39;t know what&#39;s wrong."},{"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"score":0,"creation_date":1641570544,"post_id":70621792,"comment_id":124845958,"body_markdown":"Actually, in Fragment, i don&#39;t know how to display the data in fragments in text view.","body":"Actually, in Fragment, i don&#39;t know how to display the data in fragments in text view."}],"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641567968,"creation_date":1641561180,"question_id":70621792,"body_markdown":"I am learning Android. I want to retrieve a specific row of data using the Room database and display it in a text view after clicking the button in Fragment. Here is some source code. Please help me to sort it out.\r\n\r\n      @Entity(tableName = &quot;Engine_List&quot;)\r\n\r\n      public class Engin_Entity\r\n       {\r\n        @PrimaryKey(autoGenerate = true)\r\n        private int engn_id;\r\n\r\n    private String str_DUE_AGMTNO;\r\n    private String str_CustomerName;\r\n    private int POS_NO;\r\n    private String str_REG_NUM;\r\n    private String str_ChassisNo;\r\n    private String str_ENG_NO;\r\n    private String str_Model_No;\r\n    private int first_ContactNo;\r\n    private String first_ContactName;\r\n    private int second_ContactNo;\r\n    private String second_ContactName;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nin Dao class\r\n\r\n    //View specific row details\r\n    @Query(&quot;SELECT * FROM Engine_List WHERE CHASSIS_NO = :CHASSIS_NO&quot; )\r\n           Engin_Entity findSpecific_ChassisNo(String CHASSIS_NO);\r\n\r\nIn Fragment Class\r\n         \r\n\r\n      public class Fragment_RegistrationDetail extends Fragment\r\n     {\r\n\r\n    private Engin_Entity engin_entity;\r\n    private Database_ENGN database_Engine;\r\n    private EnginList_Dao enginListDao;\r\n\r\n    @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState)\r\n    {\r\n\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment__search_page, container, false);\r\n\r\n        database_Engine = Database_ENGN.getEngnDatabase(getContext());\r\n\r\n        List&lt;Engin_Entity&gt; engin_entity = database_Engine.engineList_Dao().\r\n                   findSpecific_ChassisNo(engin_entity.getStr_ChassisNo());\r\n\r\n    }\r\n\r\n\r\n    }\r\n","title":"how to retrieve single data from Room database in android and display it in TextView","body":"<p>I am learning Android. I want to retrieve a specific row of data using the Room database and display it in a text view after clicking the button in Fragment. Here is some source code. Please help me to sort it out.</p>\n<pre><code>  @Entity(tableName = &quot;Engine_List&quot;)\n\n  public class Engin_Entity\n   {\n    @PrimaryKey(autoGenerate = true)\n    private int engn_id;\n\nprivate String str_DUE_AGMTNO;\nprivate String str_CustomerName;\nprivate int POS_NO;\nprivate String str_REG_NUM;\nprivate String str_ChassisNo;\nprivate String str_ENG_NO;\nprivate String str_Model_No;\nprivate int first_ContactNo;\nprivate String first_ContactName;\nprivate int second_ContactNo;\nprivate String second_ContactName;\n\n}\n</code></pre>\n<p>in Dao class</p>\n<pre><code>//View specific row details\n@Query(&quot;SELECT * FROM Engine_List WHERE CHASSIS_NO = :CHASSIS_NO&quot; )\n       Engin_Entity findSpecific_ChassisNo(String CHASSIS_NO);\n</code></pre>\n<p>In Fragment Class</p>\n<pre><code>  public class Fragment_RegistrationDetail extends Fragment\n {\n\nprivate Engin_Entity engin_entity;\nprivate Database_ENGN database_Engine;\nprivate EnginList_Dao enginListDao;\n\n@Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    if (getArguments() != null) {\n        mParam1 = getArguments().getString(ARG_PARAM1);\n        mParam2 = getArguments().getString(ARG_PARAM2);\n    }\n\n\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState)\n{\n\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment__search_page, container, false);\n\n    database_Engine = Database_ENGN.getEngnDatabase(getContext());\n\n    List&lt;Engin_Entity&gt; engin_entity = database_Engine.engineList_Dao().\n               findSpecific_ChassisNo(engin_entity.getStr_ChassisNo());\n\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","libgdx","textures","tiled"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1596894309,"post_id":63314823,"comment_id":111960353,"body_markdown":"How do you create your texture atlas of tiles? You don&#39;t want to have gaps between them, but rather bleed copies of their border pixels out from them. The LibGDX TexturePacker has a setting for this. But it also looks like your game uses pixel art, so you should probably be using Nearest filtering, which isn&#39;t susceptible to the edge bleeding issue in the first place.","body":"How do you create your texture atlas of tiles? You don&#39;t want to have gaps between them, but rather bleed copies of their border pixels out from them. The LibGDX TexturePacker has a setting for this. But it also looks like your game uses pixel art, so you should probably be using Nearest filtering, which isn&#39;t susceptible to the edge bleeding issue in the first place."},{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1596896592,"post_id":63314823,"comment_id":111961025,"body_markdown":"I didn&#39;t create any atlas, but just tried to use a texture, that I found on itch.io. I think I now understand what the problem is. Thank you very much.","body":"I didn&#39;t create any atlas, but just tried to use a texture, that I found on itch.io. I think I now understand what the problem is. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596895463,"creation_date":1596895463,"answer_id":63316281,"question_id":63314823,"body_markdown":"You need to pad the edges of your tiles in you tilesheet.\r\nIt looks like you&#39;ve tried to do this but the padding is transparent, it needs to be of the color of the pixel it is padding.\r\n\r\nSo if you have an image like this (where each letter is a pixel and the tile size is one):\r\n\r\n    AB\r\n    CB\r\n\r\nthen padding it should look something like this\r\n\r\n     A  B \r\n    AAABBB\r\n     A  B\r\n     C  C\r\n    CCCCCC\r\n     C  C\r\n\r\nThe pixel being padded must be padded with a pixel of the same color.\r\n\r\n(I&#39;ll try try create a pull request with a fix for your git-repo as well.)","title":"How to prevent texture bleeding in a tilemap in LibGDX","body":"<p>You need to pad the edges of your tiles in you tilesheet.\nIt looks like you've tried to do this but the padding is transparent, it needs to be of the color of the pixel it is padding.</p>\n<p>So if you have an image like this (where each letter is a pixel and the tile size is one):</p>\n<pre><code>AB\nCB\n</code></pre>\n<p>then padding it should look something like this</p>\n<pre><code> A  B \nAAABBB\n A  B\n C  C\nCCCCCC\n C  C\n</code></pre>\n<p>The pixel being padded must be padded with a pixel of the same color.</p>\n<p>(I'll try try create a pull request with a fix for your git-repo as well.)</p>\n"},{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596907952,"creation_date":1596907952,"answer_id":63318366,"question_id":63314823,"body_markdown":"As a little addition to bornander&#39;s answer, I created some python scripts, that do all the work to generate a tileset texture, that has the correct edge padding (that bornander explained in his answer) from a texture, that has no padding yet.\r\n\r\nJust in case anyone can make use of it, it can be found on GitHub:\r\n[https://github.com/tfassbender/libGdxImageTools](https://github.com/tfassbender/libGdxImageTools)","title":"How to prevent texture bleeding in a tilemap in LibGDX","body":"<p>As a little addition to bornander's answer, I created some python scripts, that do all the work to generate a tileset texture, that has the correct edge padding (that bornander explained in his answer) from a texture, that has no padding yet.</p>\n<p>Just in case anyone can make use of it, it can be found on GitHub:\n<a href=\"https://github.com/tfassbender/libGdxImageTools\" rel=\"nofollow noreferrer\">https://github.com/tfassbender/libGdxImageTools</a></p>\n"},{"tags":[],"owner":{"account_id":2548917,"reputation":54,"user_id":2213117,"display_name":"user2213117"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641567949,"creation_date":1641567949,"answer_id":70623202,"question_id":63314823,"body_markdown":"There is also a npm package that can extrude the tiles. It was built for the Phaser JS game library, but you could still use it. https://github.com/sporadic-labs/tile-extruder","title":"How to prevent texture bleeding in a tilemap in LibGDX","body":"<p>There is also a npm package that can extrude the tiles. It was built for the Phaser JS game library, but you could still use it. <a href=\"https://github.com/sporadic-labs/tile-extruder\" rel=\"nofollow noreferrer\">https://github.com/sporadic-labs/tile-extruder</a></p>\n"}],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63316281,"answer_count":3,"score":1,"last_activity_date":1641567949,"creation_date":1596885909,"question_id":63314823,"body_markdown":"I know there are quite some questions (and answers) on this topic, but they all have different solutions, and none of them seems to be working in my case.\r\n\r\nI&#39;m developing a small test project with [libGDX](https://libgdx.badlogicgames.com/), in which I tried to add a simple tilemap. I created the tilemap using [Tiled](https://www.mapeditor.org/), which seems to be working quite good, except for the texture bleeding, that causes black lines (the background color) to appear between the tiles sometimes.\r\n\r\n&lt;hr&gt;\r\n\r\n**What I&#39;ve tried so far:**\r\n\r\nI read several SO-questions, tutorials and forum posts, and tried almost all of the solutions, but I just don&#39;t seem to get this working. Most of the answers said that I would need a padding between the tiles, but this doesn&#39;t seem to fix it. I also tried loading the tilemap with different parameters (e.g. to use the *Nearest* filter when loading them) or rounding the camera&#39;s position to prevent rounding problems, but this did even make it worse.\r\n\r\n&lt;hr&gt;\r\n\r\n**My current setup:**\r\n\r\n*You can find the whole project on [GitHub](https://github.com/tfassbender/DwarfScrollerGDX). The branch is called &#39;tile_map_scaling&#39;*\r\n\r\nAt the moment I&#39;m using a tileset that is made of this tile-picture:\r\n[![tile_map_texture][1]][1]\r\n\r\nIt has two pixels of space between every tile, to use as padding and margin.\r\n\r\nMy Tiled tileset settings look like this:\r\n\r\n[![tileset_config][2]][2]\r\n\r\nI use two pixels of margin and spacing, to (try to) prevent the bleeding here.\r\n\r\nMost of the time it is rendered just fine, but still sometimes there are these lines between the tiles like in this picture (sometimes they seem to appear only on a part of the map):\r\n\r\n[![texture_bleeding_example][3]][3]\r\n\r\nI&#39;m currently loading the tile map into the asset manager without any parameters:\r\n\r\n\tpublic void load() {\r\n\t\tAssetManager manager = new AssetManager();\r\n        manager.setLoader(TiledMap.class, new TmxMapLoader(new InternalFileHandleResolver()));\r\n        manager.setErrorListener(this);\r\n    \tmanager.load(&quot;map/map.tmx&quot;, TiledMap.class, new AssetLoaderParameters());\r\n\t}\r\n\r\n... and use it like this:\r\n\r\n    public class GameScreen {\r\n\r\n\t    public static final float WORLD_TO_SCREEN = 4.0f;\r\n    \tpublic static final float SCENE_WIDTH = 1280f;\r\n    \tpublic static final float SCENE_HEIGHT = 720f;\r\n\r\n        //...\r\n\r\n    \tprivate Viewport viewport;\r\n        private OrthographicCamera camera;\r\n        \r\n    \tprivate TiledMap map;\r\n\t    private OrthogonalTiledMapRenderer renderer;\r\n        \r\n\t    public GameScreen() {\r\n            camera = new OrthographicCamera();\r\n    \t\tviewport = new FitViewport(SCENE_WIDTH, SCENE_HEIGHT, camera);\r\n \r\n    \t\tmap = assetManager.get(&quot;map/map.tmx&quot;);\r\n\t    \trenderer = new OrthogonalTiledMapRenderer(map);\r\n        }\r\n\r\n\t\t@Override\r\n\t\tpublic void render(float delta) {\r\n\t\t\t//clear the screen (with a black screen)\r\n\t\t\tGdx.gl.glClearColor(0, 0, 0, 1);\r\n\t\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\t\r\n\t\t\tmoveCamera(delta);\r\n\t\t\trenderer.setView(camera);\r\n\t\t\trenderer.render();\r\n\t\t\t//... draw the player, some debug graphics, a hud, ...\r\n\t\t\tmoveCameraToPlayer();\r\n\t\t}\r\n\r\n\t\tprivate void moveCamera(float delta) {\r\n\t\t\tif (Gdx.input.isKeyPressed(Keys.LEFT)) {\r\n\t\t\t\tcamera.position.x -= CAMERA_SPEED * delta;\r\n\t\t\t}\r\n\t\t\telse if (Gdx.input.isKeyPressed(Keys.RIGHT)) {\r\n\t\t\t\tcamera.position.x += CAMERA_SPEED * delta;\r\n\t\t\t}\r\n\t\t\t\r\n            // ...\r\n\r\n\t\t\t//update the camera to re-calculate the matrices\r\n\t\t\tcamera.update();\r\n\t\t}\r\n\r\n\r\n\t\tprivate void moveCameraToPlayer() {\r\n\t\t\tVector2 dwarfPosition = dwarf.getPosition();\r\n\t\t\t\r\n\t\t\t//movement in positive X and Y direction\r\n\t\t\tfloat deltaX = camera.position.x - dwarfPosition.x;\r\n\t\t\tfloat deltaY = camera.position.y - dwarfPosition.y;\r\n\t\t\tfloat movementXPos = deltaX - MOVEMENT_RANGE_X;\r\n\t\t\tfloat movementYPos = deltaY - MOVEMENT_RANGE_Y;\r\n\t\t\t\r\n\t\t\t//movement in negative X and Y direction\r\n\t\t\tdeltaX = dwarfPosition.x - camera.position.x;\r\n\t\t\tdeltaY = dwarfPosition.y - camera.position.y;\r\n\t\t\tfloat movementXNeg = deltaX - MOVEMENT_RANGE_X;\r\n\t\t\tfloat movementYNeg = deltaY - MOVEMENT_RANGE_Y;\r\n\t\t\t\t\r\n\t\t\tcamera.position.x -= Math.max(movementXPos, 0);\r\n\t\t\tcamera.position.y -= Math.max(movementYPos, 0);\r\n\t\t\t\r\n\t\t\tcamera.position.x += Math.max(movementXNeg, 0);\r\n\t\t\tcamera.position.y += Math.max(movementYNeg, 0);\r\n\t\t\t\r\n\t\t\tcamera.update();\r\n\t\t}\r\n        \r\n        // ... some other methods ...\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n**The question:** \r\n\r\nI am using padding on the tilemap and also tried different loading parameters and rounding the camera position, but still I have this texture bleeding problem in my tilemap.  \r\nWhat am I missing? Or what am I doing wrong?\r\n\r\nAny help on this would be great.\r\n\r\n  [1]: https://i.stack.imgur.com/wwGyh.png\r\n  [2]: https://i.stack.imgur.com/iRQ69.png\r\n  [3]: https://i.stack.imgur.com/2HV4o.png","title":"How to prevent texture bleeding in a tilemap in LibGDX","body":"<p>I know there are quite some questions (and answers) on this topic, but they all have different solutions, and none of them seems to be working in my case.</p>\n<p>I'm developing a small test project with <a href=\"https://libgdx.badlogicgames.com/\" rel=\"nofollow noreferrer\">libGDX</a>, in which I tried to add a simple tilemap. I created the tilemap using <a href=\"https://www.mapeditor.org/\" rel=\"nofollow noreferrer\">Tiled</a>, which seems to be working quite good, except for the texture bleeding, that causes black lines (the background color) to appear between the tiles sometimes.</p>\n<hr>\n<p><strong>What I've tried so far:</strong></p>\n<p>I read several SO-questions, tutorials and forum posts, and tried almost all of the solutions, but I just don't seem to get this working. Most of the answers said that I would need a padding between the tiles, but this doesn't seem to fix it. I also tried loading the tilemap with different parameters (e.g. to use the <em>Nearest</em> filter when loading them) or rounding the camera's position to prevent rounding problems, but this did even make it worse.</p>\n<hr>\n<p><strong>My current setup:</strong></p>\n<p><em>You can find the whole project on <a href=\"https://github.com/tfassbender/DwarfScrollerGDX\" rel=\"nofollow noreferrer\">GitHub</a>. The branch is called 'tile_map_scaling'</em></p>\n<p>At the moment I'm using a tileset that is made of this tile-picture:\n<a href=\"https://i.stack.imgur.com/wwGyh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwGyh.png\" alt=\"tile_map_texture\" /></a></p>\n<p>It has two pixels of space between every tile, to use as padding and margin.</p>\n<p>My Tiled tileset settings look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/iRQ69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRQ69.png\" alt=\"tileset_config\" /></a></p>\n<p>I use two pixels of margin and spacing, to (try to) prevent the bleeding here.</p>\n<p>Most of the time it is rendered just fine, but still sometimes there are these lines between the tiles like in this picture (sometimes they seem to appear only on a part of the map):</p>\n<p><a href=\"https://i.stack.imgur.com/2HV4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2HV4o.png\" alt=\"texture_bleeding_example\" /></a></p>\n<p>I'm currently loading the tile map into the asset manager without any parameters:</p>\n<pre><code>public void load() {\n    AssetManager manager = new AssetManager();\n    manager.setLoader(TiledMap.class, new TmxMapLoader(new InternalFileHandleResolver()));\n    manager.setErrorListener(this);\n    manager.load(&quot;map/map.tmx&quot;, TiledMap.class, new AssetLoaderParameters());\n}\n</code></pre>\n<p>... and use it like this:</p>\n<pre><code>public class GameScreen {\n\n    public static final float WORLD_TO_SCREEN = 4.0f;\n    public static final float SCENE_WIDTH = 1280f;\n    public static final float SCENE_HEIGHT = 720f;\n\n    //...\n\n    private Viewport viewport;\n    private OrthographicCamera camera;\n    \n    private TiledMap map;\n    private OrthogonalTiledMapRenderer renderer;\n    \n    public GameScreen() {\n        camera = new OrthographicCamera();\n        viewport = new FitViewport(SCENE_WIDTH, SCENE_HEIGHT, camera);\n\n        map = assetManager.get(&quot;map/map.tmx&quot;);\n        renderer = new OrthogonalTiledMapRenderer(map);\n    }\n\n    @Override\n    public void render(float delta) {\n        //clear the screen (with a black screen)\n        Gdx.gl.glClearColor(0, 0, 0, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n    \n        moveCamera(delta);\n        renderer.setView(camera);\n        renderer.render();\n        //... draw the player, some debug graphics, a hud, ...\n        moveCameraToPlayer();\n    }\n\n    private void moveCamera(float delta) {\n        if (Gdx.input.isKeyPressed(Keys.LEFT)) {\n            camera.position.x -= CAMERA_SPEED * delta;\n        }\n        else if (Gdx.input.isKeyPressed(Keys.RIGHT)) {\n            camera.position.x += CAMERA_SPEED * delta;\n        }\n        \n        // ...\n\n        //update the camera to re-calculate the matrices\n        camera.update();\n    }\n\n\n    private void moveCameraToPlayer() {\n        Vector2 dwarfPosition = dwarf.getPosition();\n        \n        //movement in positive X and Y direction\n        float deltaX = camera.position.x - dwarfPosition.x;\n        float deltaY = camera.position.y - dwarfPosition.y;\n        float movementXPos = deltaX - MOVEMENT_RANGE_X;\n        float movementYPos = deltaY - MOVEMENT_RANGE_Y;\n        \n        //movement in negative X and Y direction\n        deltaX = dwarfPosition.x - camera.position.x;\n        deltaY = dwarfPosition.y - camera.position.y;\n        float movementXNeg = deltaX - MOVEMENT_RANGE_X;\n        float movementYNeg = deltaY - MOVEMENT_RANGE_Y;\n            \n        camera.position.x -= Math.max(movementXPos, 0);\n        camera.position.y -= Math.max(movementYPos, 0);\n        \n        camera.position.x += Math.max(movementXNeg, 0);\n        camera.position.y += Math.max(movementYNeg, 0);\n        \n        camera.update();\n    }\n    \n    // ... some other methods ...\n}\n</code></pre>\n<hr>\n<p><strong>The question:</strong></p>\n<p>I am using padding on the tilemap and also tried different loading parameters and rounding the camera position, but still I have this texture bleeding problem in my tilemap.<br />\nWhat am I missing? Or what am I doing wrong?</p>\n<p>Any help on this would be great.</p>\n"},{"tags":["java","encoding","rsa","bouncycastle","private-key"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1641574208,"post_id":70623098,"comment_id":124847672,"body_markdown":"Bouncy Castle is been able to read these kind of keys","body":"Bouncy Castle is been able to read these kind of keys"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1641575031,"post_id":70623098,"comment_id":124848018,"body_markdown":"@MichaelFehr+ but using its own API `PEMParser` + `JcaPEMKeyConverter` + if encrypted `Jce{PEM|PKCSPBEInput}DecryptorProviderBuilder` (!) not standard-JCA `KeyFactory`. See e.g. https://stackoverflow.com/questions/22920131/ https://stackoverflow.com/questions/14919048/ https://stackoverflow.com/questions/44681737/ and list at https://stackoverflow.com/questions/58753399/","body":"@MichaelFehr+ but using its own API <code>PEMParser</code> + <code>JcaPEMKeyConverter</code> + if encrypted <code>Jce{PEM|PKCSPBEInput}DecryptorProviderBuilder</code> (!) not standard-JCA <code>KeyFactory</code>. See e.g. <a href=\"https://stackoverflow.com/questions/22920131/\">stackoverflow.com/questions/22920131</a> <a href=\"https://stackoverflow.com/questions/14919048/\">stackoverflow.com/questions/14919048</a> <a href=\"https://stackoverflow.com/questions/44681737/\">stackoverflow.com/questions/44681737</a> and list at <a href=\"https://stackoverflow.com/questions/58753399/\">stackoverflow.com/questions/58753399</a>"}],"owner":{"account_id":21716977,"reputation":1,"user_id":16027873,"display_name":"Matthew Spahr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641611487,"answer_count":0,"score":0,"last_activity_date":1641567796,"creation_date":1641567467,"question_id":70623098,"body_markdown":"I have a String containing the key in the format: \r\n```\r\n&quot;-----BEGIN RSA PRIVATE KEY-----\r\n...\r\n-----END RSA PRIVATE KEY-----&quot;\r\n```\r\nI am looking to get a PrivateKey from this but I am currently getting a ```java.security.InvalidKeyException: Missing key encoding```. My code is the following: \r\n```\r\n       java.security.Security.addProvider(new BouncyCastleProvider());\r\n\r\n       String privateKey = this.privateKey\r\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                .replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n        byte[] derPrivateKey = Base64.decode(privateKey);\r\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(derPrivateKey);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return keyFactory.generatePrivate(spec);\r\n```\r\n\r\nFrom what I just read I see this key is in the encoding PKCS1 rather than PKCS8. Im not sure what to do from here to if anyone is able to point me in the right direction it would be much appreciated, thanks.","title":"String to Generate Private Key","body":"<p>I have a String containing the key in the format:</p>\n<pre><code>&quot;-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----&quot;\n</code></pre>\n<p>I am looking to get a PrivateKey from this but I am currently getting a <code>java.security.InvalidKeyException: Missing key encoding</code>. My code is the following:</p>\n<pre><code>       java.security.Security.addProvider(new BouncyCastleProvider());\n\n       String privateKey = this.privateKey\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        byte[] derPrivateKey = Base64.decode(privateKey);\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(derPrivateKey);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return keyFactory.generatePrivate(spec);\n</code></pre>\n<p>From what I just read I see this key is in the encoding PKCS1 rather than PKCS8. Im not sure what to do from here to if anyone is able to point me in the right direction it would be much appreciated, thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641567512,"creation_date":1641521510,"answer_id":70615826,"question_id":70615666,"body_markdown":"According to  your diagram, it should be:\r\n```lang-java\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;launches_id&quot;)\r\n    private Launches launches;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;events_id&quot;)\r\n    private  Events events;\r\n```\r\n...and not `@OneToMany` ;) (Can there be an &quot;Article&quot; (with id=x) having launchers_id=y AND launchers_id=z? No, vice versa!:)\r\n\r\n\r\n...for the `@OneToMany`, you should find the join columns &quot;on the other side&quot; (of relationship(s)).\r\n\r\n\r\n----------\r\n\r\nAccording to your JSON, it *is* `OneToMany`. But then, we have to draw/expect: \r\n\r\n\r\n```lang-java\r\n@Entity\r\nclass Article {\r\n    //... id, columns, blah\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;article_id&quot;)  // Launches &quot;owns the relationship&quot;/column \r\n    private List&lt;Launches&gt; launches;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;article_id&quot;)  // Events...!\r\n    private  List&lt;Events&gt; events;\r\n}\r\n```\r\n\r\nGenerally, (when you expose your db model via json,) ensure:\r\n\r\n- no &quot;circles&quot; (in bi-directional associations). (`@JsonManagedReference, @JsonBackReference, @JsonIgnoreProperties`, ... )\r\n\r\n- not to expose data, that you don&#39;t want to expose. (`@JsonIgnoreProperties`, ...)\r\n\r\nRegarding Hibernate-ManyToOne, please refer to https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n\r\nRegarding [tag:spring-data-jpa], best to: \r\n- [gs-data-jpa](https://spring.io/guides/gs/accessing-data-jpa/)\r\n- [gs-data-rest](https://spring.io/guides/gs/accessing-data-rest/)\r\n- [spring-boot-ref, data-jpa](https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data)\r\n- [reference-doc, data-jpa](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)\r\n- [reference-doc, data-rest](https://docs.spring.io/spring-data/rest/docs/current/reference/html/#reference)","title":"Hibernate Entity Mapping","body":"<p>According to  your diagram, it should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne\n    @JoinColumn(name = &quot;launches_id&quot;)\n    private Launches launches;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;events_id&quot;)\n    private  Events events;\n</code></pre>\n<p>...and not <code>@OneToMany</code> ;) (Can there be an &quot;Article&quot; (with id=x) having launchers_id=y AND launchers_id=z? No, vice versa!:)</p>\n<p>...for the <code>@OneToMany</code>, you should find the join columns &quot;on the other side&quot; (of relationship(s)).</p>\n<hr />\n<p>According to your JSON, it <em>is</em> <code>OneToMany</code>. But then, we have to draw/expect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Article {\n    //... id, columns, blah\n    @OneToMany\n    @JoinColumn(name = &quot;article_id&quot;)  // Launches &quot;owns the relationship&quot;/column \n    private List&lt;Launches&gt; launches;\n\n    @OneToMany\n    @JoinColumn(name = &quot;article_id&quot;)  // Events...!\n    private  List&lt;Events&gt; events;\n}\n</code></pre>\n<p>Generally, (when you expose your db model via json,) ensure:</p>\n<ul>\n<li><p>no &quot;circles&quot; (in bi-directional associations). (<code>@JsonManagedReference, @JsonBackReference, @JsonIgnoreProperties</code>, ... )</p>\n</li>\n<li><p>not to expose data, that you don't want to expose. (<code>@JsonIgnoreProperties</code>, ...)</p>\n</li>\n</ul>\n<p>Regarding Hibernate-ManyToOne, please refer to <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></p>\n<p>Regarding <a href=\"/questions/tagged/spring-data-jpa\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data-jpa&#39;\" rel=\"tag\">spring-data-jpa</a>, best to:</p>\n<ul>\n<li><a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">gs-data-jpa</a></li>\n<li><a href=\"https://spring.io/guides/gs/accessing-data-rest/\" rel=\"nofollow noreferrer\">gs-data-rest</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data\" rel=\"nofollow noreferrer\">spring-boot-ref, data-jpa</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">reference-doc, data-jpa</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">reference-doc, data-rest</a></li>\n</ul>\n"}],"owner":{"account_id":23547262,"reputation":75,"user_id":17590500,"display_name":"Leonardo Manzini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70615826,"answer_count":1,"score":2,"last_activity_date":1641567512,"creation_date":1641519758,"question_id":70615666,"body_markdown":"Good night everyone,\r\n\r\nI want to model a database that has the following entities and their perspective relationships:\r\n\r\n[![uml-relationship][3]][3]\r\n\r\n\r\nBut everytime I run the Java project to create the model at database, what I create is something like this:\r\n\r\n[![database-articles-table][2]][2]\r\n\r\nThere is another way to map this relationship? I&#39;m mapping like that:\r\n\r\nArticle entity:\r\n\r\n    @Entity\r\n    public class Article {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private Boolean featured;\r\n    \r\n        @Column(nullable = false)\r\n        private String title;\r\n    \r\n        @Column(nullable = false)\r\n        private String url;\r\n    \r\n        @Column(name = &quot;image_url&quot;, nullable = false)\r\n        private String imageUrl;\r\n    \r\n        @Column(name = &quot;news_site&quot;, nullable = false)\r\n        private String newsSite;\r\n    \r\n        @Column(nullable = false)\r\n        private String summary;\r\n    \r\n        @Column(name = &quot;published_at&quot;, nullable = false)\r\n        private String publishedAt;\r\n    \r\n        @OneToMany\r\n        @JoinColumn(name = &quot;launches_id&quot;)\r\n        private List&lt;Launches&gt; launches;\r\n\r\n        @OneToMany\r\n        @JoinColumn(name = &quot;events_id&quot;)\r\n        private  List&lt;Events&gt; events;\r\n    }\r\n\r\nLaunches entity\r\n\r\n    @Entity\r\n    public class Launches {\r\n        @Id\r\n        private String id;\r\n    \r\n        private String provider;\r\n    }\r\n\r\nEvents entity:\r\n\r\n    @Entity\r\n    public class Events {\r\n        @Id\r\n        private Long id;\r\n    \r\n        private String provider;\r\n    }\r\n\r\nAnd I want to map this JSON, with this same launcher and events appearing in other articles:\r\n\r\n    {\r\n        &quot;id&quot;: 4278,\r\n        &quot;title&quot;: &quot;GAO warns of more JWST delays&quot;,\r\n        &quot;url&quot;: &quot;https://spacenews.com/gao-warns-of-more-jwst-delays/&quot;,\r\n        &quot;imageUrl&quot;: &quot;https://spacenews.com/wp-content/uploads/2019/08/jwst-assembled.jpg&quot;,\r\n        &quot;newsSite&quot;: &quot;SpaceNews&quot;,\r\n        &quot;summary&quot;: &quot;&quot;,\r\n        &quot;publishedAt&quot;: &quot;2020-01-28T23:25:02.000Z&quot;,\r\n        &quot;updatedAt&quot;: &quot;2021-05-18T13:46:00.284Z&quot;,\r\n        &quot;featured&quot;: false,\r\n        &quot;launches&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;d0fa4bb2-80ea-4808-af08-7785dde53bf6&quot;,\r\n                &quot;provider&quot;: &quot;Launch Library 2&quot;\r\n            }\r\n        ],\r\n        &quot;events&quot;: []\r\n    },\r\n    {\r\n        &quot;id&quot;: 4304,\r\n        &quot;title&quot;: &quot;Government watchdog warns of another JWST launch delay&quot;,\r\n        &quot;url&quot;: &quot;https://spaceflightnow.com/2020/01/30/government-watchdog-warns-of-another-jwst-launch-delay/&quot;,\r\n        &quot;imageUrl&quot;: &quot;https://mk0spaceflightnoa02a.kinstacdn.com/wp-content/uploads/2020/01/48936479373_2d8a120c8e_k.jpg&quot;,\r\n        &quot;newsSite&quot;: &quot;Spaceflight Now&quot;,\r\n        &quot;summary&quot;: &quot;&quot;,\r\n        &quot;publishedAt&quot;: &quot;2020-01-30T04:08:00.000Z&quot;,\r\n        &quot;updatedAt&quot;: &quot;2021-05-18T13:46:01.640Z&quot;,\r\n        &quot;featured&quot;: false,\r\n        &quot;launches&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;d0fa4bb2-80ea-4808-af08-7785dde53bf6&quot;,\r\n                &quot;provider&quot;: &quot;Launch Library 2&quot;\r\n            }\r\n        ],\r\n        &quot;events&quot;: []\r\n    }\r\n\r\n  [2]: https://i.stack.imgur.com/uMW0u.png\r\n  [3]: https://i.stack.imgur.com/LAbZb.png","title":"Hibernate Entity Mapping","body":"<p>Good night everyone,</p>\n<p>I want to model a database that has the following entities and their perspective relationships:</p>\n<p><a href=\"https://i.stack.imgur.com/LAbZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAbZb.png\" alt=\"uml-relationship\" /></a></p>\n<p>But everytime I run the Java project to create the model at database, what I create is something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/uMW0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMW0u.png\" alt=\"database-articles-table\" /></a></p>\n<p>There is another way to map this relationship? I'm mapping like that:</p>\n<p>Article entity:</p>\n<pre><code>@Entity\npublic class Article {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private Boolean featured;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(nullable = false)\n    private String url;\n\n    @Column(name = &quot;image_url&quot;, nullable = false)\n    private String imageUrl;\n\n    @Column(name = &quot;news_site&quot;, nullable = false)\n    private String newsSite;\n\n    @Column(nullable = false)\n    private String summary;\n\n    @Column(name = &quot;published_at&quot;, nullable = false)\n    private String publishedAt;\n\n    @OneToMany\n    @JoinColumn(name = &quot;launches_id&quot;)\n    private List&lt;Launches&gt; launches;\n\n    @OneToMany\n    @JoinColumn(name = &quot;events_id&quot;)\n    private  List&lt;Events&gt; events;\n}\n</code></pre>\n<p>Launches entity</p>\n<pre><code>@Entity\npublic class Launches {\n    @Id\n    private String id;\n\n    private String provider;\n}\n</code></pre>\n<p>Events entity:</p>\n<pre><code>@Entity\npublic class Events {\n    @Id\n    private Long id;\n\n    private String provider;\n}\n</code></pre>\n<p>And I want to map this JSON, with this same launcher and events appearing in other articles:</p>\n<pre><code>{\n    &quot;id&quot;: 4278,\n    &quot;title&quot;: &quot;GAO warns of more JWST delays&quot;,\n    &quot;url&quot;: &quot;https://spacenews.com/gao-warns-of-more-jwst-delays/&quot;,\n    &quot;imageUrl&quot;: &quot;https://spacenews.com/wp-content/uploads/2019/08/jwst-assembled.jpg&quot;,\n    &quot;newsSite&quot;: &quot;SpaceNews&quot;,\n    &quot;summary&quot;: &quot;&quot;,\n    &quot;publishedAt&quot;: &quot;2020-01-28T23:25:02.000Z&quot;,\n    &quot;updatedAt&quot;: &quot;2021-05-18T13:46:00.284Z&quot;,\n    &quot;featured&quot;: false,\n    &quot;launches&quot;: [\n        {\n            &quot;id&quot;: &quot;d0fa4bb2-80ea-4808-af08-7785dde53bf6&quot;,\n            &quot;provider&quot;: &quot;Launch Library 2&quot;\n        }\n    ],\n    &quot;events&quot;: []\n},\n{\n    &quot;id&quot;: 4304,\n    &quot;title&quot;: &quot;Government watchdog warns of another JWST launch delay&quot;,\n    &quot;url&quot;: &quot;https://spaceflightnow.com/2020/01/30/government-watchdog-warns-of-another-jwst-launch-delay/&quot;,\n    &quot;imageUrl&quot;: &quot;https://mk0spaceflightnoa02a.kinstacdn.com/wp-content/uploads/2020/01/48936479373_2d8a120c8e_k.jpg&quot;,\n    &quot;newsSite&quot;: &quot;Spaceflight Now&quot;,\n    &quot;summary&quot;: &quot;&quot;,\n    &quot;publishedAt&quot;: &quot;2020-01-30T04:08:00.000Z&quot;,\n    &quot;updatedAt&quot;: &quot;2021-05-18T13:46:01.640Z&quot;,\n    &quot;featured&quot;: false,\n    &quot;launches&quot;: [\n        {\n            &quot;id&quot;: &quot;d0fa4bb2-80ea-4808-af08-7785dde53bf6&quot;,\n            &quot;provider&quot;: &quot;Launch Library 2&quot;\n        }\n    ],\n    &quot;events&quot;: []\n}\n</code></pre>\n"},{"tags":["java","android-studio","toast","android-toast"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1641573206,"post_id":70623100,"comment_id":124847191,"body_markdown":"Which Android version are you testing on? They put some restrictions on `Toast`s starting in 11: https://developer.android.com/about/versions/11/behavior-changes-11#text-toast-api-changes.","body":"Which Android version are you testing on? They put some restrictions on <code>Toast</code>s starting in 11: <a href=\"https://developer.android.com/about/versions/11/behavior-changes-11#text-toast-api-changes\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/&hellip;</a>."},{"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"score":0,"creation_date":1641629569,"post_id":70623100,"comment_id":124858491,"body_markdown":"i am testing on Android 10.","body":"i am testing on Android 10."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642273879,"post_id":70623100,"comment_id":125029199,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641567473,"creation_date":1641567473,"question_id":70623100,"body_markdown":"i add the toast like this\r\n\r\n         Toast t = Toast.makeText(getApplicationContext(),&quot;hello&quot;,Toast.LENGTH_LONG);\r\n         t.setGravity(Gravity.CENTER,0,0);\r\n         t.show();\r\n\r\nit is not working it shows normal default toast.","title":"toast setGravity is not working it show normal default toast","body":"<p>i add the toast like this</p>\n<pre><code>     Toast t = Toast.makeText(getApplicationContext(),&quot;hello&quot;,Toast.LENGTH_LONG);\n     t.setGravity(Gravity.CENTER,0,0);\n     t.show();\n</code></pre>\n<p>it is not working it shows normal default toast.</p>\n"},{"tags":["java","excel","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641567241,"creation_date":1641567241,"answer_id":70623047,"question_id":70622651,"body_markdown":"Solving found: to work with .xlsx files you have to change mimeType: \r\n\r\n    File fileMetadata = new File();\r\n        fileMetadata.setName(&quot;My&quot;);\r\n        String mimeType = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\r\n        fileMetadata.setMimeType(mimeType);\r\n\r\n\r\n        java.io.File filePath = new java.io.File(&quot;src/main/sheets/wb5.xlsx&quot;);\r\n        FileContent mediaContent = new FileContent(mimeType, filePath);\r\n        File file = driveManager.utils().getDriveService().files().create(fileMetadata, mediaContent)\r\n                .setFields(&quot;id&quot;)\r\n                .execute();","title":"Google Drive Api crashes Excel file","body":"<p>Solving found: to work with .xlsx files you have to change mimeType:</p>\n<pre><code>File fileMetadata = new File();\n    fileMetadata.setName(&quot;My&quot;);\n    String mimeType = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\n    fileMetadata.setMimeType(mimeType);\n\n\n    java.io.File filePath = new java.io.File(&quot;src/main/sheets/wb5.xlsx&quot;);\n    FileContent mediaContent = new FileContent(mimeType, filePath);\n    File file = driveManager.utils().getDriveService().files().create(fileMetadata, mediaContent)\n            .setFields(&quot;id&quot;)\n            .execute();\n</code></pre>\n"}],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70623047,"answer_count":1,"score":0,"last_activity_date":1641567241,"creation_date":1641565536,"question_id":70622651,"body_markdown":"I am trying to write simple java app which uses Google Drive Api to upload Excel files. I created file with .xlsx extension and create test empty sheet. So I use Google Drive Api and upload this file into my drive. The problem is that after opening this file directly on drive I see some strange chars (as if it crashed) \r\nCode and photo of file:\r\n\r\n    File fileMetadata = new File();\r\n    fileMetadata.setName(&quot;My&quot;);\r\n    fileMetadata.setMimeType(&quot;application/vnd.google-apps.spreadsheet&quot;);\r\n\r\n    java.io.File filePath = new java.io.File(&quot;src/main/sheets/wb5.xlsx&quot;);\r\n    FileContent mediaContent = new FileContent(&quot;text/csv&quot;, filePath);\r\n    File file = driveService.files().create(fileMetadata, mediaContent)\r\n    .setFields(&quot;id&quot;)\r\n    .execute();\r\n    System.out.println(&quot;File ID: &quot; + file.getId());\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yfOT2.png","title":"Google Drive Api crashes Excel file","body":"<p>I am trying to write simple java app which uses Google Drive Api to upload Excel files. I created file with .xlsx extension and create test empty sheet. So I use Google Drive Api and upload this file into my drive. The problem is that after opening this file directly on drive I see some strange chars (as if it crashed)\nCode and photo of file:</p>\n<pre><code>File fileMetadata = new File();\nfileMetadata.setName(&quot;My&quot;);\nfileMetadata.setMimeType(&quot;application/vnd.google-apps.spreadsheet&quot;);\n\njava.io.File filePath = new java.io.File(&quot;src/main/sheets/wb5.xlsx&quot;);\nFileContent mediaContent = new FileContent(&quot;text/csv&quot;, filePath);\nFile file = driveService.files().create(fileMetadata, mediaContent)\n.setFields(&quot;id&quot;)\n.execute();\nSystem.out.println(&quot;File ID: &quot; + file.getId());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yfOT2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfOT2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","django","api","localhost"],"comments":[{"owner":{"account_id":3073630,"reputation":184,"user_id":2603596,"accept_rate":75,"display_name":"Ali Radman"},"score":1,"creation_date":1534488651,"post_id":51889837,"comment_id":90730526,"body_markdown":"are you sure your device network connected with to pc? or turn off your firewall","body":"are you sure your device network connected with to pc? or turn off your firewall"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":2,"creation_date":1534489276,"post_id":51889837,"comment_id":90730811,"body_markdown":"127.0.0.1 is the ip address of the device/pc itself. Not that of any other computer or device. Use the ip of your pc instead.","body":"127.0.0.1 is the ip address of the device/pc itself. Not that of any other computer or device. Use the ip of your pc instead."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1534489377,"post_id":51889837,"comment_id":90730864,"body_markdown":"`and it works okay in the browser `. In the browser on that pc. Not in a browser on your device.","body":"<code>and it works okay in the browser </code>. In the browser on that pc. Not in a browser on your device."},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":2,"creation_date":1534490182,"post_id":51889837,"comment_id":90731254,"body_markdown":"127.0.0.1 is ip address of the same device you are making request from. so requesting 127.0.0.1 from the phone will connect to the phone","body":"127.0.0.1 is ip address of the same device you are making request from. so requesting 127.0.0.1 from the phone will connect to the phone"},{"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"score":1,"creation_date":1534497599,"post_id":51889837,"comment_id":90735226,"body_markdown":"Possible duplicate of [How to connect to my http://localhost web server from Android Emulator in Eclipse](https://stackoverflow.com/questions/5806220/how-to-connect-to-my-http-localhost-web-server-from-android-emulator-in-eclips)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5806220/how-to-connect-to-my-http-localhost-web-server-from-android-emulator-in-eclips\">How to connect to my http://localhost web server from Android Emulator in Eclipse</a>"},{"owner":{"account_id":9411222,"reputation":1555,"user_id":6995566,"display_name":"Saddan"},"score":0,"creation_date":1567177313,"post_id":51889837,"comment_id":101898608,"body_markdown":"You may check this https://stackoverflow.com/questions/50294513/accessing-localhost-laravel-app-routes-to-android-studio-failed/57728814#57728814","body":"You may check this <a href=\"https://stackoverflow.com/questions/50294513/accessing-localhost-laravel-app-routes-to-android-studio-failed/57728814#57728814\" title=\"accessing localhost laravel app routes to android studio failed\">stackoverflow.com/questions/50294513/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534488931,"creation_date":1534488931,"answer_id":51889913,"question_id":51889837,"body_markdown":"The API isn&#39;t working in POSTMAN I tried http://127.0.0.1:8000/api/update/1/ shows an error because it requires some params to be inputted.\r\n\r\nin this case, http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66   the required params have been provided to the API, ie source, sortBy &amp; apiKey","title":"Cannot connect to localhost API from Android app","body":"<p>The API isn't working in POSTMAN I tried <a href=\"http://127.0.0.1:8000/api/update/1/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/api/update/1/</a> shows an error because it requires some params to be inputted.</p>\n\n<p>in this case, <a href=\"http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66\" rel=\"nofollow noreferrer\">http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66</a>   the required params have been provided to the API, ie source, sortBy &amp; apiKey</p>\n"},{"tags":[],"owner":{"account_id":1629122,"reputation":4457,"user_id":1676700,"accept_rate":76,"display_name":"Faizan Mubasher"},"down_vote_count":11,"up_vote_count":0,"is_accepted":false,"score":-11,"last_activity_date":1534490527,"creation_date":1534490527,"answer_id":51890277,"question_id":51889837,"body_markdown":"There is no way of calling local APIs from android. Leave it.","title":"Cannot connect to localhost API from Android app","body":"<p>There is no way of calling local APIs from android. Leave it.</p>\n"},{"tags":[],"owner":{"account_id":13373904,"reputation":35,"user_id":9651315,"display_name":"Prudhvi Bsecure"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534491050,"creation_date":1534491050,"answer_id":51890408,"question_id":51889837,"body_markdown":"In local host You must start the server and  also do app development in same system then only it works for you..","title":"Cannot connect to localhost API from Android app","body":"<p>In local host You must start the server and  also do app development in same system then only it works for you..</p>\n"},{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1534497182,"creation_date":1534497182,"answer_id":51892067,"question_id":51889837,"body_markdown":"If you are testing your application from a real android device then you need to put the IP address of your PC while you are trying to connect to your Django server through APIs. And yes, you need to be in the same network as well. So you need to check the following things. \r\n\r\n 1. Make sure that the PC (where you are running the server) and the Android device (where you are testing your application) are in the same network (connected with same Wifi network maybe). \r\n 2. Make sure you are connecting to the IP address of your PC where the server is running. For example, right now, the IP address of your PC is `192.168.0.100`. Then, you need to connect to this IP address and call your API like the following. \r\n\r\n        http://192.168.0.100:8000/api/update/1/\r\n 3. Make sure you are accepting requests to the port `8000` in your PC. Check your Firewall configuration if it is blocking any incoming requests to the `8000` port. If it is found blocking, then please allow an incoming request to the `8000` port using the following. \r\n\r\n        sudo ufw allow 8000/tcp\r\n\r\nIf there is nothing which is helping you, then please check your Android code to check if the API calling is okay. I would strongly recommend using Volley for API calls [suggested in developers][1] documentation. \r\n\r\nLast, but not the least, please check if you have necessary permission in your `AndroidManifest.xml` file. You need to add the following permission to grant your application to use the internet. \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n  [1]: https://developer.android.com/training/volley/simple","title":"Cannot connect to localhost API from Android app","body":"<p>If you are testing your application from a real android device then you need to put the IP address of your PC while you are trying to connect to your Django server through APIs. And yes, you need to be in the same network as well. So you need to check the following things. </p>\n\n<ol>\n<li>Make sure that the PC (where you are running the server) and the Android device (where you are testing your application) are in the same network (connected with same Wifi network maybe). </li>\n<li><p>Make sure you are connecting to the IP address of your PC where the server is running. For example, right now, the IP address of your PC is <code>192.168.0.100</code>. Then, you need to connect to this IP address and call your API like the following. </p>\n\n<pre><code>http://192.168.0.100:8000/api/update/1/\n</code></pre></li>\n<li><p>Make sure you are accepting requests to the port <code>8000</code> in your PC. Check your Firewall configuration if it is blocking any incoming requests to the <code>8000</code> port. If it is found blocking, then please allow an incoming request to the <code>8000</code> port using the following. </p>\n\n<pre><code>sudo ufw allow 8000/tcp\n</code></pre></li>\n</ol>\n\n<p>If there is nothing which is helping you, then please check your Android code to check if the API calling is okay. I would strongly recommend using Volley for API calls <a href=\"https://developer.android.com/training/volley/simple\" rel=\"noreferrer\">suggested in developers</a> documentation. </p>\n\n<p>Last, but not the least, please check if you have necessary permission in your <code>AndroidManifest.xml</code> file. You need to add the following permission to grant your application to use the internet. </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11492945,"reputation":387,"user_id":8423221,"display_name":"trigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534497652,"creation_date":1534497652,"answer_id":51892218,"question_id":51889837,"body_markdown":"It is possible to call local api with some minor changes.These were the steps I did to hit the local django api from my android app. \r\n\r\n - You need to be connected to same network. Better create a hotspot from your pc or laptop and connect android with it\r\n - Create static IP from your system. If you are on VM you may require additional network adapter. Please google it as there are plenty of videos and blogs on the same.\r\n - Host django on the created local IP.\r\n\r\nYou are then good to go with your android app. ","title":"Cannot connect to localhost API from Android app","body":"<p>It is possible to call local api with some minor changes.These were the steps I did to hit the local django api from my android app. </p>\n\n<ul>\n<li>You need to be connected to same network. Better create a hotspot from your pc or laptop and connect android with it</li>\n<li>Create static IP from your system. If you are on VM you may require additional network adapter. Please google it as there are plenty of videos and blogs on the same.</li>\n<li>Host django on the created local IP.</li>\n</ul>\n\n<p>You are then good to go with your android app. </p>\n"},{"tags":[],"owner":{"account_id":13215794,"reputation":1529,"user_id":9544403,"display_name":"Arun T"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534507791,"creation_date":1534507791,"answer_id":51895153,"question_id":51889837,"body_markdown":"Please run your django development server using the following command. \n\n    python manage.py runserver 0.0.0.0:8000\n\nOnce you get it running, in a new terminal window find out the ip address of your computer in your wifi/network subnet using the following command\n\n    Ipconfig or ifconfig (depends on your OS)\n\nThen change the base url of your api from 127.0.0.1 to the ip you found in the above step. Now connect the android phone in which your app is being tested to your same wifi or network to which the computer running django is connected. \nNow you can request and receive response. \n\n127.0.0.1 is the home of your system, your android app will not be able to access that. You need to do it like this. ","title":"Cannot connect to localhost API from Android app","body":"<p>Please run your django development server using the following command. </p>\n\n<pre><code>python manage.py runserver 0.0.0.0:8000\n</code></pre>\n\n<p>Once you get it running, in a new terminal window find out the ip address of your computer in your wifi/network subnet using the following command</p>\n\n<pre><code>Ipconfig or ifconfig (depends on your OS)\n</code></pre>\n\n<p>Then change the base url of your api from 127.0.0.1 to the ip you found in the above step. Now connect the android phone in which your app is being tested to your same wifi or network to which the computer running django is connected. \nNow you can request and receive response. </p>\n\n<p>127.0.0.1 is the home of your system, your android app will not be able to access that. You need to do it like this. </p>\n"},{"tags":[],"owner":{"account_id":3262879,"reputation":116,"user_id":2748063,"display_name":"mahfuz195"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534509849,"creation_date":1534509644,"answer_id":51895674,"question_id":51889837,"body_markdown":"You can not access a local api outside from that local device. 127.0.0.1 is the local address of its own. If you want to access the api outside from local device, replace the ip with the ip that is open to outside. For example, 192.168.43.2 is a ip that is accessible from outside. Update your api with the accessible ip(use ifconfig or ipconfig in terminal to obtain the ip and use that ip to access from outsid?). Also, please make sure if you have proper permission in `AndroidManifest.xml` file. \r\n        ","title":"Cannot connect to localhost API from Android app","body":"<p>You can not access a local api outside from that local device. 127.0.0.1 is the local address of its own. If you want to access the api outside from local device, replace the ip with the ip that is open to outside. For example, 192.168.43.2 is a ip that is accessible from outside. Update your api with the accessible ip(use ifconfig or ipconfig in terminal to obtain the ip and use that ip to access from outsid?). Also, please make sure if you have proper permission in <code>AndroidManifest.xml</code> file. </p>\n"},{"tags":[],"owner":{"account_id":10933231,"reputation":2522,"user_id":8035711,"display_name":"keser"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1534520919,"creation_date":1534520919,"answer_id":51898944,"question_id":51889837,"body_markdown":" To be able to connect your localhost (I assume you are using emulator, I can edit the answer if not) \r\n\r\n  \r\n\r\nYou need to use the following url:\r\n\r\n \r\n\r\n    http://10.0.2.2:8000/","title":"Cannot connect to localhost API from Android app","body":"<p>To be able to connect your localhost (I assume you are using emulator, I can edit the answer if not) </p>\n\n<p>You need to use the following url:</p>\n\n<pre><code>http://10.0.2.2:8000/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611298939,"creation_date":1611298939,"answer_id":65840662,"question_id":51889837,"body_markdown":"1)Andoird manifest to put internet permission and network acceess\r\n2) if using Android simulator on local machine. Use 10.0.2.2. alias created by default for 127.0.0.1 i.e losthoast.\r\n\r\nIts works for me ","title":"Cannot connect to localhost API from Android app","body":"<p>1)Andoird manifest to put internet permission and network acceess\n2) if using Android simulator on local machine. Use 10.0.2.2. alias created by default for 127.0.0.1 i.e losthoast.</p>\n<p>Its works for me</p>\n"},{"tags":[],"owner":{"account_id":3967945,"reputation":9,"user_id":3273295,"display_name":"MoxJet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641567230,"creation_date":1641567230,"answer_id":70623043,"question_id":51889837,"body_markdown":"For me, the problem was that my server was running on HTTP, not HTTPS. Once I set up my SSL certificate, everything worked fine. I&#39;m using Expo and strangely the API works when in development mode through the Expo app, but after I build an APK it fails to connect to any non-HTTPS server.","title":"Cannot connect to localhost API from Android app","body":"<p>For me, the problem was that my server was running on HTTP, not HTTPS. Once I set up my SSL certificate, everything worked fine. I'm using Expo and strangely the API works when in development mode through the Expo app, but after I build an APK it fails to connect to any non-HTTPS server.</p>\n"}],"owner":{"account_id":4928561,"reputation":197,"user_id":3969108,"display_name":"Mazharul  Islam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62149,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":51892067,"answer_count":10,"score":17,"last_activity_date":1641567230,"creation_date":1534488552,"question_id":51889837,"body_markdown":"I am new to Django. I have created an API named `http://127.0.0.1:8000/api/update/1/` and it works perfectly in the browser and on the Postman app. \r\n\r\nHowever, when I am trying to access the API from the Android app it is returning NULL. \r\n\r\nThe android code works when the API is the following.\r\n\r\n    http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66\r\n\r\nHowever, it does not work when the API is the following, even if the following API works just fine from my browser running in the same PC and from the Postman application. \r\n\r\n    http://127.0.0.1:8000/api/update/1/\r\n\r\nI am attaching the code where API call is made.\r\n\r\n    protected String doInBackground(String... args) {\r\n        String xml = &quot;&quot;;\r\n        String api = &quot;http://127.0.0.1:8000/api/update/1/&quot;; // returns NULL works in Postman app and in the browser\r\n        // String api = &quot;http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66&quot;; // works in all places\r\n        String urlParameters = &quot;&quot;;\r\n        xml = Function.excuteGet(api, urlParameters);\r\n        return  xml;\r\n    }\r\n\r\nCan anyone help me with this? Thanks in advance. ","title":"Cannot connect to localhost API from Android app","body":"<p>I am new to Django. I have created an API named <code>http://127.0.0.1:8000/api/update/1/</code> and it works perfectly in the browser and on the Postman app. </p>\n\n<p>However, when I am trying to access the API from the Android app it is returning NULL. </p>\n\n<p>The android code works when the API is the following.</p>\n\n<pre><code>http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66\n</code></pre>\n\n<p>However, it does not work when the API is the following, even if the following API works just fine from my browser running in the same PC and from the Postman application. </p>\n\n<pre><code>http://127.0.0.1:8000/api/update/1/\n</code></pre>\n\n<p>I am attaching the code where API call is made.</p>\n\n<pre><code>protected String doInBackground(String... args) {\n    String xml = \"\";\n    String api = \"http://127.0.0.1:8000/api/update/1/\"; // returns NULL works in Postman app and in the browser\n    // String api = \"http://newsapi.org/v1/articles?source=bbc-news&amp;sortBy=top&amp;apiKey=8190df9eb51445228e397e4185311a66\"; // works in all places\n    String urlParameters = \"\";\n    xml = Function.excuteGet(api, urlParameters);\n    return  xml;\n}\n</code></pre>\n\n<p>Can anyone help me with this? Thanks in advance. </p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":456563,"reputation":4395,"user_id":855395,"accept_rate":75,"display_name":"Eran Zimmerman Gonen"},"score":1,"creation_date":1314013754,"post_id":7146990,"comment_id":8572088,"body_markdown":"Could you give an example of how you wish to deal with duplicate values, such as {1-&gt;3, 2-&gt;3}?","body":"Could you give an example of how you wish to deal with duplicate values, such as {1-&gt;3, 2-&gt;3}?"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314013760,"creation_date":1314013760,"answer_id":7147027,"question_id":7146990,"body_markdown":"&gt; ***Seems that only way is to iterate all key/value pairs, because entrySet returns set of so value not unique?***\r\n\r\nIt&#39;s one way at least. Here&#39;s an example:\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\r\n    \r\n    map.put(1, &quot;one&quot;);\r\n    map.put(2, &quot;two&quot;);\r\n    \r\n    Map&lt;String, Integer&gt; inverted = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    for (Integer i : map.keySet())\r\n        inverted.put(map.get(i), i);\r\n\r\nIn case of non-unique values, this algorithm will map the last value found to it&#39;s key. (Since the iteration order is undefined for most maps, this should be as good as any solution.)\r\n\r\nIf you really do want to keep the first value found for each key, you could change it to \r\n\r\n    if (!inverted.containsKey(map.get(i)))\r\n        inverted.put(map.get(i), i);","title":"Java invert map","body":"<blockquote>\n  <p><em><strong>Seems that only way is to iterate all key/value pairs, because entrySet returns set of so value not unique?</em></strong></p>\n</blockquote>\n\n<p>It's one way at least. Here's an example:</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\n\nmap.put(1, \"one\");\nmap.put(2, \"two\");\n\nMap&lt;String, Integer&gt; inverted = new HashMap&lt;String, Integer&gt;();\n\nfor (Integer i : map.keySet())\n    inverted.put(map.get(i), i);\n</code></pre>\n\n<p>In case of non-unique values, this algorithm will map the last value found to it's key. (Since the iteration order is undefined for most maps, this should be as good as any solution.)</p>\n\n<p>If you really do want to keep the first value found for each key, you could change it to </p>\n\n<pre><code>if (!inverted.containsKey(map.get(i)))\n    inverted.put(map.get(i), i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1543858764,"creation_date":1314013883,"answer_id":7147052,"question_id":7146990,"body_markdown":"The values in a map may not be unique. But if they are (in your case) you can do as you wrote in your question and create a generic method to convert it:\r\n\r\n    private static &lt;V, K&gt; Map&lt;V, K&gt; invert(Map&lt;K, V&gt; map) {\r\n\r\n        Map&lt;V, K&gt; inv = new HashMap&lt;V, K&gt;();\r\n\r\n        for (Entry&lt;K, V&gt; entry : map.entrySet())\r\n            inv.put(entry.getValue(), entry.getKey());\r\n\r\n        return inv;\r\n    }\r\n\r\nJava 8:\r\n\r\n    public static &lt;V, K&gt; Map&lt;V, K&gt; invert(Map&lt;K, V&gt; map) {\r\n        return map.entrySet()\r\n                  .stream()\r\n                  .collect(Collectors.toMap(Entry::getValue, Entry::getKey));\r\n    }\r\n\r\nExample of usage:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        \r\n        map.put(&quot;Hello&quot;, 0);\r\n        map.put(&quot;World!&quot;, 1);\r\n        \r\n        Map&lt;Integer, String&gt; inv = invert(map);\r\n        \r\n        System.out.println(inv); // outputs something like &quot;{0=Hello, 1=World!}&quot;\r\n    }\r\n\r\n-----\r\n\r\nSide note: the `put(.., ..)` method will return the the &quot;old&quot; value for a key. If it is not null you may throw a `new IllegalArgumentException(&quot;Map values must be unique&quot;)` or something like that. ","title":"Java invert map","body":"<p>The values in a map may not be unique. But if they are (in your case) you can do as you wrote in your question and create a generic method to convert it:</p>\n\n<pre><code>private static &lt;V, K&gt; Map&lt;V, K&gt; invert(Map&lt;K, V&gt; map) {\n\n    Map&lt;V, K&gt; inv = new HashMap&lt;V, K&gt;();\n\n    for (Entry&lt;K, V&gt; entry : map.entrySet())\n        inv.put(entry.getValue(), entry.getKey());\n\n    return inv;\n}\n</code></pre>\n\n<p>Java 8:</p>\n\n<pre><code>public static &lt;V, K&gt; Map&lt;V, K&gt; invert(Map&lt;K, V&gt; map) {\n    return map.entrySet()\n              .stream()\n              .collect(Collectors.toMap(Entry::getValue, Entry::getKey));\n}\n</code></pre>\n\n<p>Example of usage:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n    map.put(\"Hello\", 0);\n    map.put(\"World!\", 1);\n\n    Map&lt;Integer, String&gt; inv = invert(map);\n\n    System.out.println(inv); // outputs something like \"{0=Hello, 1=World!}\"\n}\n</code></pre>\n\n<hr>\n\n<p>Side note: the <code>put(.., ..)</code> method will return the the \"old\" value for a key. If it is not null you may throw a <code>new IllegalArgumentException(\"Map values must be unique\")</code> or something like that. </p>\n"},{"tags":[],"owner":{"account_id":473425,"reputation":99,"user_id":882532,"display_name":"toto220"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314024817,"creation_date":1314024817,"answer_id":7149318,"question_id":7146990,"body_markdown":"You have to assume that values may be identical, since the Map contract allows it.\r\n\r\nIn my opinion the best solution lies in using a wrapper. It will contain the original value, and add an id. Its hashCode() function will rely on the id, and you provide a Getter for the original value.\r\nCode would be something like this:\r\n\r\n    public class MapKey\r\n    {\r\n        /**\r\n         * A new ID to differentiate equal values \r\n         */\r\n        private int _id;\r\n        /**\r\n         * The original value now used as key\r\n         */\r\n        private String _originalValue;\r\n        \r\n        public MapKey(String originalValue)\r\n        {\r\n            _originalValue = originalValue;\r\n           //assuming some method for generating ids...\r\n            _id = getNextId();\r\n        }\r\n        \r\n        public String getOriginalValue()\r\n        {\r\n            return _originalValue;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode()\r\n        {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + _id;\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj)\r\n        {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null)\r\n                return false;\r\n            if (getClass() != obj.getClass())\r\n                return false;\r\n            MapKey other = (MapKey) obj;\r\n            if (_id != other._id)\r\n                return false;\r\n            return true;\r\n        }\r\n        \r\n        @Override\r\n        public String toString()\r\n        {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;MapKey value is &quot;);\r\n            sb.append(_originalValue);\r\n            sb.append(&quot; with ID number &quot;);\r\n            sb.append(_id);\r\n            return sb.toString();\r\n        }\r\n    \r\n    \r\nInverting the map would be something like this:\r\n\r\n \r\n\r\n    public Map &lt;MapKey, Integer&gt; invertMap(Map &lt;Integer, String&gt; map)\r\n    {\r\n      \r\n         Map &lt;MapKey, Integer&gt; invertedMap = new HashMap &lt;MapKey, Integer&gt;();\r\n        \r\n       Iterator&lt;Entry&lt;Integer, String&gt;&gt; it = map.entrySet().iterator();\r\n       \r\n       while(it.hasNext())\r\n       {\r\n           //getting the old values (to be reversed)\r\n           Entry&lt;Integer, String&gt; entry = it.next();\r\n           Integer oldKey = entry.getKey();\r\n           String oldValue = entry.getValue();\r\n           \r\n           //creating the new MapKey\r\n           MapKey newMapKey = new MapKey(oldValue);\r\n           invertedMap.put(newMapKey, oldKey);\r\n       }\r\n     \r\n       return invertedMap;\r\n    }\r\n\r\nPrinting the values something like this:\r\n\r\n    for(MapKey key : invertedMap.keySet())\r\n           {\r\n               System.out.println(key.toString() + &quot; has a new value of &quot; +  invertedMap.get(key));\r\n               \r\n           }\r\n\r\nNone of this code is tested, but I believe it&#39;s the best solution since it makes use of OO inheritance design instead of &quot;c&quot; style checks and allows you to display all the original keys and values.\r\n\r\n","title":"Java invert map","body":"<p>You have to assume that values may be identical, since the Map contract allows it.</p>\n\n<p>In my opinion the best solution lies in using a wrapper. It will contain the original value, and add an id. Its hashCode() function will rely on the id, and you provide a Getter for the original value.\nCode would be something like this:</p>\n\n<pre><code>public class MapKey\n{\n    /**\n     * A new ID to differentiate equal values \n     */\n    private int _id;\n    /**\n     * The original value now used as key\n     */\n    private String _originalValue;\n\n    public MapKey(String originalValue)\n    {\n        _originalValue = originalValue;\n       //assuming some method for generating ids...\n        _id = getNextId();\n    }\n\n    public String getOriginalValue()\n    {\n        return _originalValue;\n    }\n\n    @Override\n    public int hashCode()\n    {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + _id;\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj)\n    {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        MapKey other = (MapKey) obj;\n        if (_id != other._id)\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString()\n    {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"MapKey value is \");\n        sb.append(_originalValue);\n        sb.append(\" with ID number \");\n        sb.append(_id);\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Inverting the map would be something like this:</p>\n\n<pre><code>public Map &lt;MapKey, Integer&gt; invertMap(Map &lt;Integer, String&gt; map)\n{\n\n     Map &lt;MapKey, Integer&gt; invertedMap = new HashMap &lt;MapKey, Integer&gt;();\n\n   Iterator&lt;Entry&lt;Integer, String&gt;&gt; it = map.entrySet().iterator();\n\n   while(it.hasNext())\n   {\n       //getting the old values (to be reversed)\n       Entry&lt;Integer, String&gt; entry = it.next();\n       Integer oldKey = entry.getKey();\n       String oldValue = entry.getValue();\n\n       //creating the new MapKey\n       MapKey newMapKey = new MapKey(oldValue);\n       invertedMap.put(newMapKey, oldKey);\n   }\n\n   return invertedMap;\n}\n</code></pre>\n\n<p>Printing the values something like this:</p>\n\n<pre><code>for(MapKey key : invertedMap.keySet())\n       {\n           System.out.println(key.toString() + \" has a new value of \" +  invertedMap.get(key));\n\n       }\n</code></pre>\n\n<p>None of this code is tested, but I believe it's the best solution since it makes use of OO inheritance design instead of \"c\" style checks and allows you to display all the original keys and values.</p>\n"},{"tags":[],"owner":{"account_id":64052,"reputation":1440,"user_id":189293,"accept_rate":78,"display_name":"Rhangaun"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1533924205,"creation_date":1314028412,"answer_id":7150120,"question_id":7146990,"body_markdown":"Take a look at [Google Guava BiMap][1].\r\n\r\nExample usage\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(1, &quot;one&quot;);\r\n    map.put(2, &quot;two&quot;);\r\n\r\n    Map&lt;String, Integer&gt; inverted = HashBiMap.create(map).inverse();\r\n\r\n  [1]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/BiMap.html","title":"Java invert map","body":"<p>Take a look at <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/BiMap.html\" rel=\"noreferrer\">Google Guava BiMap</a>.</p>\n\n<p>Example usage</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nmap.put(1, \"one\");\nmap.put(2, \"two\");\n\nMap&lt;String, Integer&gt; inverted = HashBiMap.create(map).inverse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395717,"reputation":6603,"user_id":758816,"display_name":"mikeyreilly"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468310107,"creation_date":1431510964,"answer_id":30211392,"question_id":7146990,"body_markdown":"To get an inverted form of a given map in java 8:\r\n\r\n    public static &lt;K, V&gt; Map&lt;V, K&gt; inverseMap(Map&lt;K, V&gt; sourceMap) {\r\n        return sourceMap.entrySet().stream().collect(\r\n            Collectors.toMap(Entry::getValue, Entry::getKey,\r\n               (a, b) -&gt; a) //if sourceMap has duplicate values, keep only first\r\n            );\r\n    }\r\n\r\nExample usage\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\r\n\r\n    map.put(1, &quot;one&quot;);\r\n    map.put(2, &quot;two&quot;);\r\n\r\n    Map&lt;String, Integer&gt; inverted = inverseMap(map);","title":"Java invert map","body":"<p>To get an inverted form of a given map in java 8:</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;V, K&gt; inverseMap(Map&lt;K, V&gt; sourceMap) {\n    return sourceMap.entrySet().stream().collect(\n        Collectors.toMap(Entry::getValue, Entry::getKey,\n           (a, b) -&gt; a) //if sourceMap has duplicate values, keep only first\n        );\n}\n</code></pre>\n\n<p>Example usage</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\n\nmap.put(1, \"one\");\nmap.put(2, \"two\");\n\nMap&lt;String, Integer&gt; inverted = inverseMap(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455719052,"creation_date":1455719052,"answer_id":35459328,"question_id":7146990,"body_markdown":"Apache Commons Collections also provides a [`BidiMap`][1] interface for bi-directional maps, along with several implementations.\r\n\r\n[BidiMap JavaDoc][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/BidiMap.html","title":"Java invert map","body":"<p>Apache Commons Collections also provides a <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/BidiMap.html\" rel=\"nofollow\"><code>BidiMap</code></a> interface for bi-directional maps, along with several implementations.</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/BidiMap.html\" rel=\"nofollow\">BidiMap JavaDoc</a></p>\n"},{"tags":[],"owner":{"account_id":3632008,"reputation":21,"user_id":3027874,"display_name":"Oriol Biosca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499951218,"creation_date":1499950103,"answer_id":45081088,"question_id":7146990,"body_markdown":"I would give another approach to this problem giving an extra dimension:\r\n**duplicate values** in EntrySet.\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tHashMap&lt;Integer, String&gt; s = new HashMap&lt;Integer, String&gt;();\r\n        s.put(1, &quot;Value1&quot;);\r\n        s.put(2, &quot;Value2&quot;);\r\n        s.put(3, &quot;Value2&quot;);\r\n        s.put(4, &quot;Value1&quot;);\r\n\r\n        /*\r\n         * swap goes here\r\n         */\r\n        HashMap&lt;String,List&lt;Integer&gt;&gt; newMap = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\r\n        for (Map.Entry&lt;Integer, String&gt; en : s.entrySet()) {\r\n            System.out.println(en.getKey() + &quot; &quot; + en.getValue());\r\n            \r\n            if(newMap.containsKey(en.getValue())){\r\n            \tnewMap.get(en.getValue()).add(en.getKey());\r\n            } else {\r\n            \tList&lt;Integer&gt; tmpList = new ArrayList&lt;Integer&gt;();\r\n            \ttmpList.add(en.getKey());\r\n            \tnewMap.put(en.getValue(), tmpList);\r\n            }\r\n        }\r\n\r\n        for(Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry: newMap.entrySet()){\r\n            System.out.println(entry.getKey() + &quot; &quot; + entry.getValue());\r\n        }\r\n\t}\r\n\r\nT result will be that:\r\n\r\n&gt; 1 Value1 &lt;br&gt;2 Value2 &lt;br&gt;3 Value2 &lt;br&gt;4 Value1 &lt;br&gt;Value1 [1, 4] &lt;br&gt;Value2 [2, 3]\r\n\r\n","title":"Java invert map","body":"<p>I would give another approach to this problem giving an extra dimension:\n<strong>duplicate values</strong> in EntrySet.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    HashMap&lt;Integer, String&gt; s = new HashMap&lt;Integer, String&gt;();\n    s.put(1, \"Value1\");\n    s.put(2, \"Value2\");\n    s.put(3, \"Value2\");\n    s.put(4, \"Value1\");\n\n    /*\n     * swap goes here\n     */\n    HashMap&lt;String,List&lt;Integer&gt;&gt; newMap = new HashMap&lt;String, List&lt;Integer&gt;&gt;();\n    for (Map.Entry&lt;Integer, String&gt; en : s.entrySet()) {\n        System.out.println(en.getKey() + \" \" + en.getValue());\n\n        if(newMap.containsKey(en.getValue())){\n            newMap.get(en.getValue()).add(en.getKey());\n        } else {\n            List&lt;Integer&gt; tmpList = new ArrayList&lt;Integer&gt;();\n            tmpList.add(en.getKey());\n            newMap.put(en.getValue(), tmpList);\n        }\n    }\n\n    for(Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry: newMap.entrySet()){\n        System.out.println(entry.getKey() + \" \" + entry.getValue());\n    }\n}\n</code></pre>\n\n<p>T result will be that:</p>\n\n<blockquote>\n  <p>1 Value1 <br>2 Value2 <br>3 Value2 <br>4 Value1 <br>Value1 [1, 4] <br>Value2 [2, 3]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7215,"reputation":1633,"user_id":12428,"display_name":"Kaerber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534523085,"creation_date":1534523085,"answer_id":51899530,"question_id":7146990,"body_markdown":"With Guava\r\n\r\n    Multimaps.transformValues(Multimaps.index(map.entrySet(), Map.Entry::getValue),\r\n            Map.Entry::getKey)\r\n\r\nYou&#39;ll get a multimap (basically a map of lists) in return.","title":"Java invert map","body":"<p>With Guava</p>\n\n<pre><code>Multimaps.transformValues(Multimaps.index(map.entrySet(), Map.Entry::getValue),\n        Map.Entry::getKey)\n</code></pre>\n\n<p>You'll get a multimap (basically a map of lists) in return.</p>\n"},{"tags":[],"owner":{"account_id":1158979,"reputation":578,"user_id":1138891,"accept_rate":67,"display_name":"Somal Somalski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620311712,"creation_date":1620311712,"answer_id":67420299,"question_id":7146990,"body_markdown":"If your values duplicate and you need to store keys in list you can go with\r\n\r\n   \r\n    val invertedMap = originalMap.entrySet().stream()\r\n            .collect(Collectors.groupingBy(\r\n                    Map.Entry::getValue, \r\n                    Collectors.mapping(Map.Entry::getKey, Collectors.toList()))\r\n            );","title":"Java invert map","body":"<p>If your values duplicate and you need to store keys in list you can go with</p>\n<pre><code>val invertedMap = originalMap.entrySet().stream()\n        .collect(Collectors.groupingBy(\n                Map.Entry::getValue, \n                Collectors.mapping(Map.Entry::getKey, Collectors.toList()))\n        );\n</code></pre>\n"}],"owner":{"account_id":365724,"reputation":23428,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41361,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7147052,"answer_count":9,"score":32,"last_activity_date":1641567126,"creation_date":1314013576,"question_id":7146990,"body_markdown":"I need create inverse map - select unique values and for them find keys.\r\nSeems that only way is to iterate all key/value pairs, because entrySet returns set of &lt;key,value&gt; so value not unique?","title":"Java invert map","body":"<p>I need create inverse map - select unique values and for them find keys.\nSeems that only way is to iterate all key/value pairs, because entrySet returns set of &lt;key,value&gt; so value not unique?</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641567005,"creation_date":1641555905,"answer_id":70620758,"question_id":70620525,"body_markdown":"If I got the question right, I assume that this may answer it:\r\n\r\n    try\r\n    {\r\n        ‚Ä¶ // do something that causes an exception\r\n    }\r\n    catch( final OneException | TwoException e )\r\n    {\r\n        if( e instanceof OneException e1 )\r\n        {\r\n            ‚Ä¶ // Handle OneException e1\r\n        }\r\n        else if( e instanceof TwoException e2 )\r\n        {\r\n            ‚Ä¶ // Handle TwoException e2\r\n        }\r\n        else throw new Error( &quot;None of the expected exceptions caught&quot; );\r\n    }\r\n\r\nThat `instanceof` syntax requires a later version of Java (14, I guess).\r\n\r\nWith the version 17 of Java (and the preview features enabled) it should be possible to use a `switch` statement, like this:\r\n\r\n    try\r\n    {\r\n        ‚Ä¶ // do something that causes an exception\r\n    }\r\n    catch( final OneException | TwoException e )\r\n    {\r\n        switch( e )\r\n        {\r\n            case OneException e1 -&gt; e1.printStackTrace(); // Handle OneException e1\r\n            case TwoException e2 -&gt; System.out.println( e2.getMessage() ); // Handle TwoException e2\r\n            default -&gt; { throw new Error( &quot;None of the expected exceptions caught&quot; ); }\r\n        }\r\n    }\r\n\r\nConfessed, the in the second sample, the handling of the exceptions is lame ‚Ä¶ but it works!","title":"How to find out the static and dynamic types of customized Exceptions","body":"<p>If I got the question right, I assume that this may answer it:</p>\n<pre><code>try\n{\n    ‚Ä¶ // do something that causes an exception\n}\ncatch( final OneException | TwoException e )\n{\n    if( e instanceof OneException e1 )\n    {\n        ‚Ä¶ // Handle OneException e1\n    }\n    else if( e instanceof TwoException e2 )\n    {\n        ‚Ä¶ // Handle TwoException e2\n    }\n    else throw new Error( &quot;None of the expected exceptions caught&quot; );\n}\n</code></pre>\n<p>That <code>instanceof</code> syntax requires a later version of Java (14, I guess).</p>\n<p>With the version 17 of Java (and the preview features enabled) it should be possible to use a <code>switch</code> statement, like this:</p>\n<pre><code>try\n{\n    ‚Ä¶ // do something that causes an exception\n}\ncatch( final OneException | TwoException e )\n{\n    switch( e )\n    {\n        case OneException e1 -&gt; e1.printStackTrace(); // Handle OneException e1\n        case TwoException e2 -&gt; System.out.println( e2.getMessage() ); // Handle TwoException e2\n        default -&gt; { throw new Error( &quot;None of the expected exceptions caught&quot; ); }\n    }\n}\n</code></pre>\n<p>Confessed, the in the second sample, the handling of the exceptions is lame ‚Ä¶ but it works!</p>\n"},{"tags":[],"owner":{"account_id":23846524,"reputation":1,"user_id":17850943,"display_name":"47rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641559610,"creation_date":1641559610,"answer_id":70621485,"question_id":70620525,"body_markdown":"You can use multi-catch statments. And in the catch block, you can call `getClass().getName()` on the exception object. Now, you will have a fully qualified name of the exception class. If you just want the class name, not the fully qualified name, you can use `String#split()` and pass in a dot as a regular expression (`\\Q.\\E`, if you don&#39;t enclose dot with `\\Q` and `\\E`, it means that we are saying to match any character, not the dot) and get the last element from the returned array.\r\n\r\nHere is how you do it:\r\nI am just rewriting your `testCatch2()`\r\n\r\n    public void testCatch2(TimeStamp ts, Calendar cal, int test) throws Exception {\r\n        String s1 = &quot;2 : &quot;;\r\n        String s2 = &quot;Exception : &quot;;\r\n        try {\r\n            outsourced(ts, cal, 2);\r\n        } catch(UpdateTimeBeforeLastUpdateException | UpdateTimeInTheFutureException exc) {\r\n            System.out.println(s1 + s2 + exc.getClass().getName());\r\n    \r\n            // If you don&#39;t want the fully qualified name, use the below statements.\r\n            // String[] parts = exc.getClass().getName().split(&quot;\\\\Q.\\\\E&quot;);\r\n            // System.out.println(s1 + s2 + parts[parts.length - 1]);\r\n        }\r\n    }","title":"How to find out the static and dynamic types of customized Exceptions","body":"<p>You can use multi-catch statments. And in the catch block, you can call <code>getClass().getName()</code> on the exception object. Now, you will have a fully qualified name of the exception class. If you just want the class name, not the fully qualified name, you can use <code>String#split()</code> and pass in a dot as a regular expression (<code>\\Q.\\E</code>, if you don't enclose dot with <code>\\Q</code> and <code>\\E</code>, it means that we are saying to match any character, not the dot) and get the last element from the returned array.</p>\n<p>Here is how you do it:\nI am just rewriting your <code>testCatch2()</code></p>\n<pre><code>public void testCatch2(TimeStamp ts, Calendar cal, int test) throws Exception {\n    String s1 = &quot;2 : &quot;;\n    String s2 = &quot;Exception : &quot;;\n    try {\n        outsourced(ts, cal, 2);\n    } catch(UpdateTimeBeforeLastUpdateException | UpdateTimeInTheFutureException exc) {\n        System.out.println(s1 + s2 + exc.getClass().getName());\n\n        // If you don't want the fully qualified name, use the below statements.\n        // String[] parts = exc.getClass().getName().split(&quot;\\\\Q.\\\\E&quot;);\n        // System.out.println(s1 + s2 + parts[parts.length - 1]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23834497,"reputation":9,"user_id":17840383,"display_name":"Serkan Besim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641567005,"creation_date":1641554689,"question_id":70620525,"body_markdown":"First to the task: I got to print out a certain String which includes the dynamic and the static type of my customized Exceptions.\r\nIn a ```try and catch```, I have to do the same thing with different ways of expressing the ```catch``` part.\r\n\r\nI am a little confused about how to print out the static types and the dynamic types.\r\nCan I also just work with ```getClass()```\r\n\r\nso just for a more precise explaination, here is my code so far:\r\n```public void testCatch1(TimeStamp ts, Calendar cal, int test) throws Exception {\r\n\tString s1 = &quot;1 : &quot;;\r\n\tString s2 = &quot;Exception : &quot;;\r\n\tString s3 = &quot;UpdateTimeBeforeLastUpdateException &quot;;\r\n\tString s4 = &quot;UpdateTimeInTheFutureException &quot;;\r\n\ttry {\r\n\t\toutsourced(ts, cal, 1);\r\n\t}\r\n\tcatch(UpdateTimeBeforeLastUpdateException exc1) {\r\n\t\tSystem.out.println(s1 + s2 + s3 + exc1);\r\n\t}\r\n\tcatch(UpdateTimeInTheFutureException exc2) {\r\n\t\tSystem.out.println(s1 + s2 + s4 + exc2);\r\n\t}\r\n}\r\n\r\npublic void testCatch2(TimeStamp ts, Calendar cal, int test) throws Exception {\r\n\tString s1 = &quot;2 : &quot;;\r\n\tString s2 = &quot;Exception : &quot;;\r\n\tString s3 = &quot;UpdateTimeBeforeLastUpdateException &quot;;\r\n\tString s4 = &quot;UpdateTimeInTheFutureException &quot;;\r\n\ttry {\r\n\t\toutsourced(ts, cal, 2);\r\n\t}\r\n\tcatch(UpdateTimeBeforeLastUpdateException | UpdateTimeInTheFutureException exc) {\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n\r\nprivate void outsourced(TimeStamp ts, Calendar cal, int n) throws Exception {\r\n\tswitch (n) {\r\n\tcase 1:\r\n\t\tts.updateWithExc1(cal);\r\n\t\tbreak;\r\n\tcase 2:\r\n\t\tts.updateWithExc2(cal);\r\n\t\tbreak;\r\n\tcase 3:\r\n\t\tts.updateWithExc3(cal);\r\n\t\tbreak;\r\n\tcase 4:\r\n\t\tts.updateWithExc4(cal);\r\n\t\tbreak;\r\n\tcase 5:\r\n\t\tts.updateWithExc5(cal);\r\n\t\tbreak;\r\n\t} \r\n```\r\nthere are 3 more methods to come but my main problem is just the ```catch``` and ```outprint``` part\r\n","title":"How to find out the static and dynamic types of customized Exceptions","body":"<p>First to the task: I got to print out a certain String which includes the dynamic and the static type of my customized Exceptions.\nIn a <code>try and catch</code>, I have to do the same thing with different ways of expressing the <code>catch</code> part.</p>\n<p>I am a little confused about how to print out the static types and the dynamic types.\nCan I also just work with <code>getClass()</code></p>\n<p>so just for a more precise explaination, here is my code so far:</p>\n<pre><code>    String s1 = &quot;1 : &quot;;\n    String s2 = &quot;Exception : &quot;;\n    String s3 = &quot;UpdateTimeBeforeLastUpdateException &quot;;\n    String s4 = &quot;UpdateTimeInTheFutureException &quot;;\n    try {\n        outsourced(ts, cal, 1);\n    }\n    catch(UpdateTimeBeforeLastUpdateException exc1) {\n        System.out.println(s1 + s2 + s3 + exc1);\n    }\n    catch(UpdateTimeInTheFutureException exc2) {\n        System.out.println(s1 + s2 + s4 + exc2);\n    }\n}\n\npublic void testCatch2(TimeStamp ts, Calendar cal, int test) throws Exception {\n    String s1 = &quot;2 : &quot;;\n    String s2 = &quot;Exception : &quot;;\n    String s3 = &quot;UpdateTimeBeforeLastUpdateException &quot;;\n    String s4 = &quot;UpdateTimeInTheFutureException &quot;;\n    try {\n        outsourced(ts, cal, 2);\n    }\n    catch(UpdateTimeBeforeLastUpdateException | UpdateTimeInTheFutureException exc) {\n        System.out.println();\n    }\n}\n\nprivate void outsourced(TimeStamp ts, Calendar cal, int n) throws Exception {\n    switch (n) {\n    case 1:\n        ts.updateWithExc1(cal);\n        break;\n    case 2:\n        ts.updateWithExc2(cal);\n        break;\n    case 3:\n        ts.updateWithExc3(cal);\n        break;\n    case 4:\n        ts.updateWithExc4(cal);\n        break;\n    case 5:\n        ts.updateWithExc5(cal);\n        break;\n    } \n</code></pre>\n<p>there are 3 more methods to come but my main problem is just the <code>catch</code> and <code>outprint</code> part</p>\n"},{"tags":["java","mysql","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641566460,"post_id":70621569,"comment_id":124844193,"body_markdown":"`e.getMessage();` does nothing that is useful. It gets an abbreviated `String` from the stack trace then .. does absolutely *nothing* with it. Better to put `e.printStackTrace();` - which will provide an helpful stack trace to the `System.err` stream.","body":"<code>e.getMessage();</code> does nothing that is useful. It gets an abbreviated <code>String</code> from the stack trace then .. does absolutely <i>nothing</i> with it. Better to put <code>e.printStackTrace();</code> - which will provide an helpful stack trace to the <code>System.err</code> stream."}],"answers":[{"tags":[],"owner":{"account_id":10684494,"reputation":615,"user_id":7865428,"display_name":"David G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641561035,"creation_date":1641561035,"answer_id":70621763,"question_id":70621569,"body_markdown":"The problem here is the `group by` clause.  You&#39;ve grouped on one field, and failed to ensure all the other fields are either uniquely determined by that field, or grouped functions.  Remove the `group by productCode` and everything should work.\r\n\r\nI think the reason it &quot;worked&quot; in MySQL workbench is probably that there is an option you can set (but probably should not) that allows improper grouped fields to &quot;work&quot; (I think by just picking one of many values).  \r\n\r\nAs an example of a query that might work, the following should report the commission each employee has earned by product sold.  Since the customer is irrelevant to that information, that table wasn&#39;t queried.\r\n\r\n    select d.productCode, e.employeeNumber, e.lastName, \r\n           sum((d.quantityOrdered * d.priceEach)*0.01) as commission\r\n    from orders as o\r\n    inner join orderdetails as d on o.orderNumber=d.orderNumber\r\n    inner join employees as e on c.salesRepEmployeeNumber=e.employeeNumber\r\n    group by productCode, employeeNumber;\r\n","title":"Fetching query from MySQL onto Java","body":"<p>The problem here is the <code>group by</code> clause.  You've grouped on one field, and failed to ensure all the other fields are either uniquely determined by that field, or grouped functions.  Remove the <code>group by productCode</code> and everything should work.</p>\n<p>I think the reason it &quot;worked&quot; in MySQL workbench is probably that there is an option you can set (but probably should not) that allows improper grouped fields to &quot;work&quot; (I think by just picking one of many values).</p>\n<p>As an example of a query that might work, the following should report the commission each employee has earned by product sold.  Since the customer is irrelevant to that information, that table wasn't queried.</p>\n<pre><code>select d.productCode, e.employeeNumber, e.lastName, \n       sum((d.quantityOrdered * d.priceEach)*0.01) as commission\nfrom orders as o\ninner join orderdetails as d on o.orderNumber=d.orderNumber\ninner join employees as e on c.salesRepEmployeeNumber=e.employeeNumber\ngroup by productCode, employeeNumber;\n</code></pre>\n"}],"owner":{"account_id":23859688,"reputation":1,"user_id":17862807,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641566328,"creation_date":1641559999,"question_id":70621569,"body_markdown":"I created a query on MySQL workbench, it worked fine, but when I tried to show that query on Java it does not work.  I&#39;m new to this, and using classicmodels Db. The following query that worked on workbench:\r\n\r\n    select c.customerNumber, c.customerName,\r\n    o.orderNumber,\r\n    d.productCode, d.quantityOrdered, d.priceEach, (d.quantityOrdered * d.priceEach) as totalPrice,\r\n    e.employeeNumber, e.lastName, ((d.quantityOrdered * d.priceEach)*0.01) as commission\r\n    from customers as c inner join orders as o on c.customerNumber=o.customerNumber inner join \r\n    orderdetails as d on o.orderNumber=d.orderNumber\r\n    inner join employees as e on c.salesRepEmployeeNumber=e.employeeNumber group by productCode;\r\n    \r\n    &#39;486&#39;, &#39;Motor Mint Distributors Inc.&#39;, &#39;10109&#39;, &#39;S18_1129&#39;, &#39;26&#39;, &#39;117.48&#39;, &#39;3054.48&#39;, &#39;1323&#39;, &#39;Vanauf&#39;, &#39;30.5448&#39;\r\n\r\n**Here is my Java code:**\r\n\r\n    public void query() {\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n            conn = DriverManager.getConnection(urlConn, user, passWord);\r\n            pdState = conn.prepareStatement(&quot;SELECT c.customerNumber, c.customerName,o.orderNumber,&quot;\r\n                    + &quot; d.productCode, d.quantityOrdered, d.priceEach,(d.quantityOrdered * d.priceEach) as totalPrice,&quot;\r\n                    + &quot; e.employeeNumber, e.lastName,((d.quantityOrdered * d.priceEach)*0.01) as commission&quot;\r\n                    + &quot; FROM customers as c inner join orders as o on c.customerNumber=o.customerNumber&quot;\r\n                    + &quot; inner join orderdetails as d on o.orderNumber=d.orderNumber&quot;\r\n                    + &quot; inner join employees as e on c.salesRepEmployeeNumber=e.employeeNumbergroup by productCode&quot;);\r\n\r\n            rSet = pdState.executeQuery();\r\n\r\n            ResultSetMetaData rsmd = rSet.getMetaData();\r\n            c = rsmd.getColumnCount();\r\n\r\n            DefaultTableModel dtModel = (DefaultTableModel) tblQuery.getModel();\r\n            dtModel.setRowCount(0);\r\n\r\n            while (rSet.next()) {\r\n                @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n                Vector vector = new Vector();\r\n                for (int i = 1; i &lt;= c; i++) {\r\n                    vector.add(rSet.getString(&quot;customerNumber&quot;));\r\n                    vector.add(rSet.getString(&quot;customerName&quot;));\r\n                    vector.add(rSet.getString(&quot;orderNumber&quot;));\r\n                    vector.add(rSet.getString(&quot;productCode&quot;));\r\n                    vector.add(rSet.getString(&quot;quantityOrdered&quot;));\r\n                    vector.add(rSet.getString(&quot;priceEach&quot;));\r\n                    vector.add(rSet.getString(&quot;totalPrice&quot;));\r\n                    vector.add(rSet.getString(&quot;employeeNumber&quot;));\r\n                    vector.add(rSet.getString(&quot;lastName&quot;));\r\n                    vector.add(rSet.getString(&quot;commission&quot;));\r\n                }//end of for loop\r\n\r\n                dtModel.addRow(vector);\r\n\r\n            }//end of while loop\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.getMessage();\r\n        }//end of try and catch block\r\n    }//end of query","title":"Fetching query from MySQL onto Java","body":"<p>I created a query on MySQL workbench, it worked fine, but when I tried to show that query on Java it does not work.  I'm new to this, and using classicmodels Db. The following query that worked on workbench:</p>\n<pre><code>select c.customerNumber, c.customerName,\no.orderNumber,\nd.productCode, d.quantityOrdered, d.priceEach, (d.quantityOrdered * d.priceEach) as totalPrice,\ne.employeeNumber, e.lastName, ((d.quantityOrdered * d.priceEach)*0.01) as commission\nfrom customers as c inner join orders as o on c.customerNumber=o.customerNumber inner join \norderdetails as d on o.orderNumber=d.orderNumber\ninner join employees as e on c.salesRepEmployeeNumber=e.employeeNumber group by productCode;\n\n'486', 'Motor Mint Distributors Inc.', '10109', 'S18_1129', '26', '117.48', '3054.48', '1323', 'Vanauf', '30.5448'\n</code></pre>\n<p><strong>Here is my Java code:</strong></p>\n<pre><code>public void query() {\n\n    try {\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n\n        conn = DriverManager.getConnection(urlConn, user, passWord);\n        pdState = conn.prepareStatement(&quot;SELECT c.customerNumber, c.customerName,o.orderNumber,&quot;\n                + &quot; d.productCode, d.quantityOrdered, d.priceEach,(d.quantityOrdered * d.priceEach) as totalPrice,&quot;\n                + &quot; e.employeeNumber, e.lastName,((d.quantityOrdered * d.priceEach)*0.01) as commission&quot;\n                + &quot; FROM customers as c inner join orders as o on c.customerNumber=o.customerNumber&quot;\n                + &quot; inner join orderdetails as d on o.orderNumber=d.orderNumber&quot;\n                + &quot; inner join employees as e on c.salesRepEmployeeNumber=e.employeeNumbergroup by productCode&quot;);\n\n        rSet = pdState.executeQuery();\n\n        ResultSetMetaData rsmd = rSet.getMetaData();\n        c = rsmd.getColumnCount();\n\n        DefaultTableModel dtModel = (DefaultTableModel) tblQuery.getModel();\n        dtModel.setRowCount(0);\n\n        while (rSet.next()) {\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            Vector vector = new Vector();\n            for (int i = 1; i &lt;= c; i++) {\n                vector.add(rSet.getString(&quot;customerNumber&quot;));\n                vector.add(rSet.getString(&quot;customerName&quot;));\n                vector.add(rSet.getString(&quot;orderNumber&quot;));\n                vector.add(rSet.getString(&quot;productCode&quot;));\n                vector.add(rSet.getString(&quot;quantityOrdered&quot;));\n                vector.add(rSet.getString(&quot;priceEach&quot;));\n                vector.add(rSet.getString(&quot;totalPrice&quot;));\n                vector.add(rSet.getString(&quot;employeeNumber&quot;));\n                vector.add(rSet.getString(&quot;lastName&quot;));\n                vector.add(rSet.getString(&quot;commission&quot;));\n            }//end of for loop\n\n            dtModel.addRow(vector);\n\n        }//end of while loop\n    } catch (ClassNotFoundException | SQLException e) {\n        e.getMessage();\n    }//end of try and catch block\n}//end of query\n</code></pre>\n"},{"tags":["java","android","android-studio","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":5457239,"reputation":462,"user_id":4340273,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641566169,"creation_date":1641566169,"answer_id":70622788,"question_id":70622061,"body_markdown":"As per my understanding you added wrong time in this line of code\r\n\r\n   \r\n\r\n scheduleNotification(notificationEntities.get(i).getId(), notification, (long) timer);\r\n\r\ninstead of `(long)timer` \r\nyou have to add `System.currentTimeinMillis()+timer`\r\nit will solve your problem\r\n\r\n","title":"How to set multiple notifications with AlarmManager apear on different time?","body":"<p>As per my understanding you added wrong time in this line of code</p>\n<p>scheduleNotification(notificationEntities.get(i).getId(), notification, (long) timer);</p>\n<p>instead of <code>(long)timer</code>\nyou have to add <code>System.currentTimeinMillis()+timer</code>\nit will solve your problem</p>\n"}],"owner":{"account_id":18087169,"reputation":3,"user_id":13147786,"display_name":"Konstantin Pernikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641566169,"creation_date":1641562635,"question_id":70622061,"body_markdown":"Here is my problem: I have list of notifications and want to show them in diffeent time but they appear awlays together at the same time.\r\n\r\nFirst call updateLabel function:\r\n\r\nprivate void updateLabel(ArrayList&lt;NotificationEntity&gt; notificationEntities){\r\n\r\n        int timer = 5000;\r\n\r\n        for (int i = 0; i &lt; notificationEntities.size(); i++) {\r\n\r\n            Notification notification = addNotification(notificationEntities.get(i));\r\n            scheduleNotification(notificationEntities.get(i).getId(), notification, (long) timer);\r\n\r\n            timer += 10000;\r\n        }\r\n\r\n    }\r\n--------------------------------------------------------------------------------------------------\r\nThen create the notification:\r\n\r\nprivate Notification addNotification(NotificationEntity notificationEntity) {\r\n\r\n        NotificationCompat.Builder notification = new NotificationCompat.Builder(this, default_notification_channel_id)\r\n                .setSmallIcon(R.drawable.ic_baseline_android_24)\r\n                .setContentTitle(&quot;Notifications Example&quot;)\r\n                .setContentText(&quot;This is a test notification for &quot; + notificationEntity.getType() + &quot; with id &quot; + notificationEntity.getId())\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setCategory(NotificationCompat.CATEGORY_REMINDER)\r\n                .setVibrate(new long[]{0, 1000, 1000})\r\n                .setChannelId(NOTIFICATION_CHANNEL_ID);\r\n\r\n        return notification.build();\r\n    }\r\n----------------------------------------------------------------------------------------------\r\nAnd then scheduleNotification:\r\n\r\nprivate void scheduleNotification(int notificationId, Notification notification, long delay){\r\n\r\n        int requestID = (int) System.currentTimeMillis();\r\n\r\n        Intent notificationIntent = new Intent(this, NotificationPublisher.class);\r\n\r\n        notificationIntent.putExtra(NotificationPublisher.NOTIFICATION_ID, notificationId);\r\n        notificationIntent.putExtra(NotificationPublisher.NOTIFICATION, notification);\r\n\r\n        PendingIntent pendingIntent = PendingIntent\r\n                .getBroadcast(this, requestID, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.set(AlarmManager.ELAPSED_REALTIME_WAKEUP, delay, pendingIntent);\r\n\r\n    }\r\n----------------------------------------------------------------------------------------------\r\nHere is my NotificationPublisher class:\r\n\r\npublic class NotificationPublisher  extends BroadcastReceiver {\r\n\r\n    public static final String NOTIFICATION = &quot;myNotification&quot;;\r\n    public static final String NOTIFICATION_ID = &quot;myNotification-id&quot;;\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n\r\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        Notification notification = intent.getParcelableExtra(NOTIFICATION);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n\r\n            NotificationChannel channel = new NotificationChannel(ClientHomepage.NOTIFICATION_CHANNEL_ID, &quot;Channel&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n            channel.setDescription(&quot;This is just notification&quot;);\r\n            notificationManager.createNotificationChannel(channel);\r\n\r\n        }\r\n        int id = intent.getIntExtra(NOTIFICATION_ID, 0);\r\n        notificationManager.notify(id, notification);\r\n    }\r\n}\r\n-------------------------------------------------------------------------------------------------\r\nMy problem is that all the notifications apper at the same time, not one after one.\r\nI&#39;ve tried changing requestID, but it doesn&#39;t help, I&#39;ve also tries changing PendingIntent flag and this also doesn&#39;t help. Hope you have any suggestions.","title":"How to set multiple notifications with AlarmManager apear on different time?","body":"<p>Here is my problem: I have list of notifications and want to show them in diffeent time but they appear awlays together at the same time.</p>\n<p>First call updateLabel function:</p>\n<p>private void updateLabel(ArrayList notificationEntities){</p>\n<pre><code>    int timer = 5000;\n\n    for (int i = 0; i &lt; notificationEntities.size(); i++) {\n\n        Notification notification = addNotification(notificationEntities.get(i));\n        scheduleNotification(notificationEntities.get(i).getId(), notification, (long) timer);\n\n        timer += 10000;\n    }\n\n}\n</code></pre>\n<hr />\n<p>Then create the notification:</p>\n<p>private Notification addNotification(NotificationEntity notificationEntity) {</p>\n<pre><code>    NotificationCompat.Builder notification = new NotificationCompat.Builder(this, default_notification_channel_id)\n            .setSmallIcon(R.drawable.ic_baseline_android_24)\n            .setContentTitle(&quot;Notifications Example&quot;)\n            .setContentText(&quot;This is a test notification for &quot; + notificationEntity.getType() + &quot; with id &quot; + notificationEntity.getId())\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setCategory(NotificationCompat.CATEGORY_REMINDER)\n            .setVibrate(new long[]{0, 1000, 1000})\n            .setChannelId(NOTIFICATION_CHANNEL_ID);\n\n    return notification.build();\n}\n</code></pre>\n<hr />\n<p>And then scheduleNotification:</p>\n<p>private void scheduleNotification(int notificationId, Notification notification, long delay){</p>\n<pre><code>    int requestID = (int) System.currentTimeMillis();\n\n    Intent notificationIntent = new Intent(this, NotificationPublisher.class);\n\n    notificationIntent.putExtra(NotificationPublisher.NOTIFICATION_ID, notificationId);\n    notificationIntent.putExtra(NotificationPublisher.NOTIFICATION, notification);\n\n    PendingIntent pendingIntent = PendingIntent\n            .getBroadcast(this, requestID, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\n\n    AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n    alarmManager.set(AlarmManager.ELAPSED_REALTIME_WAKEUP, delay, pendingIntent);\n\n}\n</code></pre>\n<hr />\n<p>Here is my NotificationPublisher class:</p>\n<p>public class NotificationPublisher  extends BroadcastReceiver {</p>\n<pre><code>public static final String NOTIFICATION = &quot;myNotification&quot;;\npublic static final String NOTIFICATION_ID = &quot;myNotification-id&quot;;\n@Override\npublic void onReceive(Context context, Intent intent) {\n\n\n    NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n    Notification notification = intent.getParcelableExtra(NOTIFICATION);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n\n        NotificationChannel channel = new NotificationChannel(ClientHomepage.NOTIFICATION_CHANNEL_ID, &quot;Channel&quot;, NotificationManager.IMPORTANCE_HIGH);\n        channel.setDescription(&quot;This is just notification&quot;);\n        notificationManager.createNotificationChannel(channel);\n\n    }\n    int id = intent.getIntExtra(NOTIFICATION_ID, 0);\n    notificationManager.notify(id, notification);\n}\n</code></pre>\n<h2>}</h2>\n<p>My problem is that all the notifications apper at the same time, not one after one.\nI've tried changing requestID, but it doesn't help, I've also tries changing PendingIntent flag and this also doesn't help. Hope you have any suggestions.</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641565936,"post_id":70622689,"comment_id":124843963,"body_markdown":"ArgumentCaptor is used to capture an argument used to call a stubbed method and verify/check the captured argument.","body":"ArgumentCaptor is used to capture an argument used to call a stubbed method and verify/check the captured argument."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641565982,"post_id":70622689,"comment_id":124843986,"body_markdown":"What is your test scenario and what are you trying to test?","body":"What is your test scenario and what are you trying to test?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641589196,"post_id":70622689,"comment_id":124852569,"body_markdown":"@Barracuda Yes, I know. But for this scenario, maybe `ArgumentCaptor` is a proper option to test `delete` method. By the way, I want to test `delete` method. Any help pls?","body":"@Barracuda Yes, I know. But for this scenario, maybe <code>ArgumentCaptor</code> is a proper option to test <code>delete</code> method. By the way, I want to test <code>delete</code> method. Any help pls?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641796074,"post_id":70622689,"comment_id":124890772,"body_markdown":"@Barracuda Amigo? Any reply pls?","body":"@Barracuda Amigo? Any reply pls?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641800232,"post_id":70622689,"comment_id":124891722,"body_markdown":"if I don&#39;t know the scenario you are testing, I can&#39;t help you. Read this https://stackoverflow.com/questions/36615330/mockito-doanswer-vs-thenreturn to understand why doAnswer might be helpful. If you want to test that your delete method was called with a specific argument, then you might want to use ArgumentCaptor to get the argument and that a proper one was used. DoAnsweri s used for stubbing, not for verification.","body":"if I don&#39;t know the scenario you are testing, I can&#39;t help you. Read this <a href=\"https://stackoverflow.com/questions/36615330/mockito-doanswer-vs-thenreturn\" title=\"mockito doanswer vs thenreturn\">stackoverflow.com/questions/36615330/&hellip;</a> to understand why doAnswer might be helpful. If you want to test that your delete method was called with a specific argument, then you might want to use ArgumentCaptor to get the argument and that a proper one was used. DoAnsweri s used for stubbing, not for verification."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641803451,"post_id":70622689,"comment_id":124892636,"body_markdown":"I said the scenario many times, but I think you did not read my last comments. Then as far as I see, you suggest to use `ArgumentCaptor`, right?","body":"I said the scenario many times, but I think you did not read my last comments. Then as far as I see, you suggest to use <code>ArgumentCaptor</code>, right?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641804452,"post_id":70622689,"comment_id":124892946,"body_markdown":"I am not suggesting anything because I am still missing your testing scenario. &quot;Testing method A&quot; is not a scenario. One example might be testing that method A throws exception B when called with input X. You should understand when to use which and decide based on what you are trying to achieve. If you want to test that  employeeRepository.delete(employee) is called with proper argument and you have stubbed employeeRepository.delete and findByUuid, then there should be verification methods available for your librariy(mockito has documentation on verification on their site).","body":"I am not suggesting anything because I am still missing your testing scenario. &quot;Testing method A&quot; is not a scenario. One example might be testing that method A throws exception B when called with input X. You should understand when to use which and decide based on what you are trying to achieve. If you want to test that  employeeRepository.delete(employee) is called with proper argument and you have stubbed employeeRepository.delete and findByUuid, then there should be verification methods available for your librariy(mockito has documentation on verification on their site)."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641808857,"post_id":70622689,"comment_id":124894422,"body_markdown":"I use the following scenario: When a valid employee is found, then delete it.","body":"I use the following scenario: When a valid employee is found, then delete it."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641809257,"post_id":70622689,"comment_id":124894574,"body_markdown":"Is employeeRepository a mock?","body":"Is employeeRepository a mock?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641814279,"post_id":70622689,"comment_id":124896544,"body_markdown":"Yes, of course.","body":"Yes, of course."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641814415,"post_id":70622689,"comment_id":124896596,"body_markdown":"if I understood correctly, you want to test that the stubbed value returned from employeeRepository.findByUUID(...) is passed into employeeRepository.delete(...). Then you can use mockito&#39;s verification capability. Read the documentation about verification.","body":"if I understood correctly, you want to test that the stubbed value returned from employeeRepository.findByUUID(...) is passed into employeeRepository.delete(...). Then you can use mockito&#39;s verification capability. Read the documentation about verification."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641817338,"post_id":70622689,"comment_id":124897643,"body_markdown":"Then I use verify method. Thanks a lot.","body":"Then I use verify method. Thanks a lot."}],"owner":{"display_name":"user17862362"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641566166,"creation_date":1641565714,"question_id":70622689,"body_markdown":"I am trying to create a unit test for this delete method:\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void delete(UUID uuid) {\r\n\t\tfinal Employee employee = employeeRepository.findByUuid(uuid)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new EntityNotFoundException(EMPLOYEE));\r\n\t\temployeeRepository.delete(employee);\r\n}\r\n```\r\n\r\nI have confused about using a proper way for testing (`employeeRepository.delete(employee)`) this method. I can use `doAnswer(AdditionalAnswers.returnsFirstArg())` or `ArgumentCaptor`, or maybe none of them is a proper method. So, how should I test this delete method (`employeeRepository.delete(employee)`)?","title":"Should I use doAnswer(AdditionalAnswers.returnsFirstArg()) or ArgumentCaptor for testing a delete method?","body":"<p>I am trying to create a unit test for this delete method:</p>\n<pre><code>@Override\n@Transactional\npublic void delete(UUID uuid) {\n        final Employee employee = employeeRepository.findByUuid(uuid)\n                        .orElseThrow(() -&gt; new EntityNotFoundException(EMPLOYEE));\n        employeeRepository.delete(employee);\n}\n</code></pre>\n<p>I have confused about using a proper way for testing (<code>employeeRepository.delete(employee)</code>) this method. I can use <code>doAnswer(AdditionalAnswers.returnsFirstArg())</code> or <code>ArgumentCaptor</code>, or maybe none of them is a proper method. So, how should I test this delete method (<code>employeeRepository.delete(employee)</code>)?</p>\n"},{"tags":["java","encryption","encoding","cryptography","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1640848214,"post_id":70528357,"comment_id":124673195,"body_markdown":"Is it ensured that encryption and decryption use the same IV? While the IV for encryption and decryption must be identical, different encryptions must use different (random) IVs for security reasons (the code doesn&#39;t look like this). Apart from that, the code should work. However, in `decryptText()` the encoding should be specified when decoding (`new String(decrypted, CHARSET)`). Post test data: Sample key, IV, ciphertext, plaintext.","body":"Is it ensured that encryption and decryption use the same IV? While the IV for encryption and decryption must be identical, different encryptions must use different (random) IVs for security reasons (the code doesn&#39;t look like this). Apart from that, the code should work. However, in <code>decryptText()</code> the encoding should be specified when decoding (<code>new String(decrypted, CHARSET)</code>). Post test data: Sample key, IV, ciphertext, plaintext."},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1640848462,"post_id":70528357,"comment_id":124673248,"body_markdown":"Yes IV and encryption key are same for both encryption and decryption.","body":"Yes IV and encryption key are same for both encryption and decryption."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1640848701,"post_id":70528357,"comment_id":124673301,"body_markdown":"As said, currently not reproducible. Does the issue occur reproducibly for the **same** data (same key, same IV, same plaintext)? If yes, post example data. If no, the posted code is more likely not the problem, are there specifics of the environment?","body":"As said, currently not reproducible. Does the issue occur reproducibly for the <b>same</b> data (same key, same IV, same plaintext)? If yes, post example data. If no, the posted code is more likely not the problem, are there specifics of the environment?"},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1640849151,"post_id":70528357,"comment_id":124673372,"body_markdown":"The examples where the decryption is adding weird characters, I won&#39;t be able to post the sample data because we don&#39;t have it as we store it in encrypted form. I just want to get an idea where it might go wrong, I have looked at a few blogs, it can be related to encoding but not sure. And yeah it is same key, same IV. And when I try to reproduce it locally using Unit Test, it is not reproducible.","body":"The examples where the decryption is adding weird characters, I won&#39;t be able to post the sample data because we don&#39;t have it as we store it in encrypted form. I just want to get an idea where it might go wrong, I have looked at a few blogs, it can be related to encoding but not sure. And yeah it is same key, same IV. And when I try to reproduce it locally using Unit Test, it is not reproducible."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1640849572,"post_id":70528357,"comment_id":124673460,"body_markdown":"Fix the encoding issues in your code (also in `encryptText()`: `new String(Base64.getEncoder().encode(cipherText), CHARSET)`). The fact that the problem is not reproducible locally and is only intermittent suggests an environment-specific problem (something like multithreading etc.), so it&#39;s hard to tell from the information what the problem is.","body":"Fix the encoding issues in your code (also in <code>encryptText()</code>: <code>new String(Base64.getEncoder().encode(cipherText), CHARSET)</code>). The fact that the problem is not reproducible locally and is only intermittent suggests an environment-specific problem (something like multithreading etc.), so it&#39;s hard to tell from the information what the problem is."},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1640849876,"post_id":70528357,"comment_id":124673536,"body_markdown":"OK thanks, will try that.","body":"OK thanks, will try that."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1640949531,"post_id":70528357,"comment_id":124696803,"body_markdown":"First check that the expected character encoding is the same before encryption and after decryption.  Then compare input and output byte by byte, rather than as characters. That should help you get an idea where the problem is.","body":"First check that the expected character encoding is the same before encryption and after decryption.  Then compare input and output byte by byte, rather than as characters. That should help you get an idea where the problem is."},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1641564547,"post_id":70528357,"comment_id":124843374,"body_markdown":"@Topaco I updated my question. Please check once if you have any clue.","body":"@Topaco I updated my question. Please check once if you have any clue."}],"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641564874,"creation_date":1640847314,"question_id":70528357,"body_markdown":"I am trying to encrypt a json string using the below code:\r\n\r\n```\r\n\r\npublic static final Charset CHARSET = StandardCharsets.UTF_8;\r\n\r\npublic static Cipher getDefaultCipherInstance(int mode)\r\n            throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n            InvalidAlgorithmParameterException, InvalidKeyException {\r\n        byte[] key = Base64.getDecoder().decode(&quot;encryptionKey&quot;.getBytes(CHARSET));\r\n\r\n        IvParameterSpec iv = new IvParameterSpec(&quot;RandomVector&quot;.getBytes(CHARSET));\r\n        SecretKeySpec skeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n        cipher.init(mode, skeySpec, iv);\r\n\r\n        return cipher;\r\n    }\r\n\r\npublic static String encryptText(String plainText) {\r\n\t\ttry {\r\n\t\t\tCipher cipher = getDefaultCipherInstance(Cipher.ENCRYPT_MODE);\r\n\t\t\tbyte[] cipherText = cipher.doFinal(plainText.getBytes(CHARSET));\r\n\t\t\treturn new String(Base64.getEncoder().encode(cipherText));\r\n\t\t} catch (Exception ex) {\r\n\t\t\tLOG.error(&quot;Problem encryptingText&quot;,ex);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\npublic static String decryptText(String cipherText) {\r\n\t\ttry {\r\n\t\t\tCipher cipher = getDefaultCipherInstance(Cipher.DECRYPT_MODE);\r\n\t\t\tbyte[] decrypted = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n\t\t\treturn new String(decrypted);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tLOG.debug(&quot;Problem during decrypt text: &quot; + cipherText, ex);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\nIt works fine most of the times but sometimes I see weird characters in the decrypted string like &quot;\\u001A=`ÔøΩ[\\&quot;QÔøΩ\\u001D)ÔøΩÔøΩ€âÔøΩd\\&quot;:\\ , this is corrupting the json and we are not able to deserialize json to object.\r\n\r\nAny idea what could be the problem here?\r\n\r\n**Update::**\r\n\r\nI added the following code to test encryption/decryption in a concurrent(multi-threaded) environment:\r\n\r\n```\r\npublic class EncryptionTest {\r\n    @Test\r\n    public void test() throws InterruptedException {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(25);\r\n\r\n        String text = &quot;Hi there Ithanks for cimngng&quot;;\r\n\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            System.out.println(&quot;Iteration: &quot; + i);\r\n            executorService.submit(new EncryptionRunnable(text));\r\n        }\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n\r\n    static class EncryptionRunnable implements Runnable {\r\n        private String text;\r\n\r\n        public EncryptionRunnable(String text) {\r\n            this.text = text;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            int i = 0;\r\n            while(i &lt; 10) {\r\n                String encrypted = encryptText(text);\r\n                String prefix = Thread.currentThread().getName() + &quot;::&quot; + i + &quot;:: &quot;;\r\n                System.out.println(prefix + &quot;encrypted:: &quot; + encrypted);\r\n                try {\r\n                    System.out.println(prefix + &quot;decrypted:: &quot; + decryptText(encrypted));\r\n                } catch (Exception e) {\r\n                    System.out.println(prefix + &quot;decrypted:: &quot;);\r\n                    e.printStackTrace();\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI see that all of the outputs were correct but for one of the output, it produced strange characters like this: \r\n\r\npool-1-thread-5::0:: decrypted:: »ºÔøΩÔøΩÔøΩÔøΩS}ÔøΩqÔøΩÔøΩjÔøΩ for cimngng\r\n\r\nEven the encrypted string is same for every encryption. Can anybody help now? Note: I am using the same cipher instance for encryption and same for decryption.\r\n\r\nHere is a snapshot of the output of the above code. \r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7zqBX.png","title":"AES Decryption - original characters replaced by weird characters","body":"<p>I am trying to encrypt a json string using the below code:</p>\n<pre><code>\npublic static final Charset CHARSET = StandardCharsets.UTF_8;\n\npublic static Cipher getDefaultCipherInstance(int mode)\n            throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException {\n        byte[] key = Base64.getDecoder().decode(&quot;encryptionKey&quot;.getBytes(CHARSET));\n\n        IvParameterSpec iv = new IvParameterSpec(&quot;RandomVector&quot;.getBytes(CHARSET));\n        SecretKeySpec skeySpec = new SecretKeySpec(key, &quot;AES&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n        cipher.init(mode, skeySpec, iv);\n\n        return cipher;\n    }\n\npublic static String encryptText(String plainText) {\n        try {\n            Cipher cipher = getDefaultCipherInstance(Cipher.ENCRYPT_MODE);\n            byte[] cipherText = cipher.doFinal(plainText.getBytes(CHARSET));\n            return new String(Base64.getEncoder().encode(cipherText));\n        } catch (Exception ex) {\n            LOG.error(&quot;Problem encryptingText&quot;,ex);\n            return null;\n        }\n    }\n\npublic static String decryptText(String cipherText) {\n        try {\n            Cipher cipher = getDefaultCipherInstance(Cipher.DECRYPT_MODE);\n            byte[] decrypted = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n            return new String(decrypted);\n        } catch (Exception ex) {\n            LOG.debug(&quot;Problem during decrypt text: &quot; + cipherText, ex);\n            return null;\n        }\n    }\n\n</code></pre>\n<p>It works fine most of the times but sometimes I see weird characters in the decrypted string like &quot;\\u001A=`ÔøΩ[&quot;QÔøΩ\\u001D)ÔøΩÔøΩ€âÔøΩd&quot;:\\ , this is corrupting the json and we are not able to deserialize json to object.</p>\n<p>Any idea what could be the problem here?</p>\n<p><strong>Update::</strong></p>\n<p>I added the following code to test encryption/decryption in a concurrent(multi-threaded) environment:</p>\n<pre><code>public class EncryptionTest {\n    @Test\n    public void test() throws InterruptedException {\n        ExecutorService executorService = Executors.newFixedThreadPool(25);\n\n        String text = &quot;Hi there Ithanks for cimngng&quot;;\n\n        for(int i = 0; i &lt; 5; i++) {\n            System.out.println(&quot;Iteration: &quot; + i);\n            executorService.submit(new EncryptionRunnable(text));\n        }\n\n        Thread.currentThread().join();\n    }\n\n    static class EncryptionRunnable implements Runnable {\n        private String text;\n\n        public EncryptionRunnable(String text) {\n            this.text = text;\n        }\n\n        @Override\n        public void run() {\n            int i = 0;\n            while(i &lt; 10) {\n                String encrypted = encryptText(text);\n                String prefix = Thread.currentThread().getName() + &quot;::&quot; + i + &quot;:: &quot;;\n                System.out.println(prefix + &quot;encrypted:: &quot; + encrypted);\n                try {\n                    System.out.println(prefix + &quot;decrypted:: &quot; + decryptText(encrypted));\n                } catch (Exception e) {\n                    System.out.println(prefix + &quot;decrypted:: &quot;);\n                    e.printStackTrace();\n                }\n                i++;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I see that all of the outputs were correct but for one of the output, it produced strange characters like this:</p>\n<p>pool-1-thread-5::0:: decrypted:: »ºÔøΩÔøΩÔøΩÔøΩS}ÔøΩqÔøΩÔøΩjÔøΩ for cimngng</p>\n<p>Even the encrypted string is same for every encryption. Can anybody help now? Note: I am using the same cipher instance for encryption and same for decryption.</p>\n<p>Here is a snapshot of the output of the above code.</p>\n<p><a href=\"https://i.stack.imgur.com/7zqBX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zqBX.png\" alt=\"Output\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1641561074,"post_id":70621648,"comment_id":124841973,"body_markdown":"A) Please specify the line in the code where your error occurs, B) Please paste the complete stacktrace, C) Look into the hibernate logs (Enable debug) if necessary, and paste the SQL Query for this specific request that is causing you problems.","body":"A) Please specify the line in the code where your error occurs, B) Please paste the complete stacktrace, C) Look into the hibernate logs (Enable debug) if necessary, and paste the SQL Query for this specific request that is causing you problems."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1641561239,"post_id":70621648,"comment_id":124842038,"body_markdown":"For A, I wrote the line where error occurs. But here does not support line number :(.\n`customerPersonRepository.saveAndFlush(cpSaved)`; //Error occurs here","body":"For A, I wrote the line where error occurs. But here does not support line number :(. <code>customerPersonRepository.saveAndFlush(cpSaved)</code>; //Error occurs here"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1641561737,"post_id":70621648,"comment_id":124842226,"body_markdown":"I updated the post.","body":"I updated the post."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1641562619,"post_id":70621648,"comment_id":124842577,"body_markdown":"Are you creating the tables yourself, or JPA? If yourself, please show the SQL Code, we need to see what determines a PK for your CustomerPerson table, vs Customer.","body":"Are you creating the tables yourself, or JPA? If yourself, please show the SQL Code, we need to see what determines a PK for your CustomerPerson table, vs Customer."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1641562759,"post_id":70621648,"comment_id":124842640,"body_markdown":"It is actually a view and I didn&#39;t create it.","body":"It is actually a view and I didn&#39;t create it."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1641563168,"post_id":70621648,"comment_id":124842810,"body_markdown":"Yes, Alexey Veleshko","body":"Yes, Alexey Veleshko"}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641561182,"creation_date":1641561182,"answer_id":70621793,"question_id":70621648,"body_markdown":"`DataIntegrityViolationException` means that your code tries to modify the database in a way that the database scheme forbids. The abbreviation &quot;PK&quot; usually means &quot;Primary Key&quot;, therefore your code probably tried to insert a row with a duplicate ID.","title":"I want update entity but dataintegrityviolationexception: could not execute statement SQL [n/a]; constraint SGB.C_PR_PK] occurs","body":"<p><code>DataIntegrityViolationException</code> means that your code tries to modify the database in a way that the database scheme forbids. The abbreviation &quot;PK&quot; usually means &quot;Primary Key&quot;, therefore your code probably tried to insert a row with a duplicate ID.</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641562096,"creation_date":1641561767,"answer_id":70621909,"question_id":70621648,"body_markdown":"Just a guess here, but what could be happening is the following:\r\n\r\n    CustomerPerson cpSaved = customerPersonRepository.findCustomerPersonByNewlabChrono(customerPerson.getNewlabChrono()); \r\n\r\nRetrieves specific CustomPerson with ID=XX\r\n\r\n    BeanUtils.copyProperties(customerPerson, cpSaved); \r\n\r\ncpSaved (ID) is being replaced by this method to maybe ID=YY\r\n\r\n`customerPersonRepository.saveAndFlush(cpSaved);` //Error occurs here, (ID) is now YY but that already exists and it is actually trying to create a new OBJECT, rather than updating the entity.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"I want update entity but dataintegrityviolationexception: could not execute statement SQL [n/a]; constraint SGB.C_PR_PK] occurs","body":"<p>Just a guess here, but what could be happening is the following:</p>\n<pre><code>CustomerPerson cpSaved = customerPersonRepository.findCustomerPersonByNewlabChrono(customerPerson.getNewlabChrono()); \n</code></pre>\n<p>Retrieves specific CustomPerson with ID=XX</p>\n<pre><code>BeanUtils.copyProperties(customerPerson, cpSaved); \n</code></pre>\n<p>cpSaved (ID) is being replaced by this method to maybe ID=YY</p>\n<p><code>customerPersonRepository.saveAndFlush(cpSaved);</code> //Error occurs here, (ID) is now YY but that already exists and it is actually trying to create a new OBJECT, rather than updating the entity.</p>\n"}],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641564662,"creation_date":1641560393,"question_id":70621648,"body_markdown":"**Entities**\r\n\r\n``` java\r\n@Entity\r\n@Table(name = &quot;v_CUSTOMER&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;accno&quot;, &quot;row&quot;})})\r\n@SequenceGenerator(\r\n        name = &quot;sgb.CUSTOMER_SEQ&quot;,\r\n        sequenceName = &quot;sgb.CUSTOMER_SEQ&quot;,\r\n        allocationSize = 1\r\n)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@FieldNameConstants\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sgb.CUSTOMER_SEQ&quot;)\r\n    @Column(name = &quot;NEWLAB_CHRONO&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\r\n    @CobolType(numeric = true,nullable = true)\r\n    private Integer newlabChrono;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ACCNO&quot;, nullable = false, insertable = true, updatable = true, length = 10)\r\n    @CobolType(numeric = true)\r\n    private String accno;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ROW&quot;, nullable = false, insertable = true, updatable = true, length = 2)\r\n    @CobolType(numeric = true)\r\n    private String row;\r\n\r\n    @Basic\r\n    @Column(name = &quot;SHAKHS&quot;, nullable = true, insertable = true, updatable = true, length = 1)\r\n    @CobolType(numeric = true)\r\n    private String shakhs;\r\n\r\n    @Basic\r\n    @Column(name = &quot;TAR_GAR&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true)\r\n    private String tarGar;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ID_ALT1&quot;, nullable = true, insertable = true, updatable = true, length = 12)\r\n    @CobolType(numeric = true)\r\n    private String idAlt1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ID_ALT2&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true)\r\n    private String idAlt2;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ID_ALT3&quot;, nullable = true, insertable = true, updatable = true, length = 3)\r\n    @CobolType(numeric = true)\r\n    private String idAlt3;\r\n\r\n    @Basic\r\n    @Column(name = &quot;MELLI_ALT&quot;, nullable = true, insertable = true, updatable = true, length = 12)\r\n    @CobolType(numeric = true)\r\n    private String melliAlt;\r\n\r\n    @Basic\r\n    @Column(name = &quot;BRANCH_ID&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true, nullable = true)\r\n    private String branchId;\r\n\r\n    @Basic\r\n    @Column(name = &quot;BRANCH&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true, nullable = true)\r\n    private String branch;\r\n\r\n    @Basic\r\n    @Column(name = &quot;REGION&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true, nullable = true)\r\n    private String region;\r\n\r\n    @Basic\r\n    @Column(name = &quot;SITE&quot;, nullable = true, insertable = true, updatable = true, length = 2)\r\n    @CobolType(numeric = true, nullable = true)\r\n    private String site;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Customer that = (Customer) o;\r\n        return Objects.equals(accno, that.accno) &amp;&amp;\r\n                Objects.equals(row, that.row);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(accno, row);\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\n\r\n@Entity\r\n@Table(name = &quot;v_CUSTOMER_PERSON&quot;)\r\n@SequenceGenerator(\r\n        name = &quot;CUSTOMER_PERSON_SEQ&quot;,\r\n        sequenceName = &quot;CUSTOMER_PERSON_SEQ&quot;,\r\n        allocationSize = 1\r\n)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@FieldNameConstants\r\npublic class CustomerPerson {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;CUSTOMER_PERSON_SEQ&quot;)\r\n    @Column(name = &quot;NEWLAB_CHRONO&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\r\n    @CobolType(numeric = true, nullable = true)\r\n    private Integer newlabChrono;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ACCNO&quot;, nullable = false, insertable = true, updatable = true, length = 10)\r\n    @CobolType(numeric = true)\r\n    private String accno;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ROW&quot;, nullable = false, insertable = true, updatable = true, length = 2)\r\n    @CobolType(numeric = true)\r\n    private String row;\r\n\r\n    @Basic\r\n    @Column(name = &quot;SHAKHS&quot;, nullable = true, insertable = true, updatable = true, length = 1)\r\n    @CobolType(numeric = true)\r\n    private String shakhs;\r\n\r\n    @Basic\r\n    @Column(name = &quot;TAR_GAR&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true)\r\n    private String tarGar;\r\n\r\n    @Basic\r\n    @Column(name = &quot;SH_NO&quot;, nullable = true, insertable = true, updatable = true, length = 12)\r\n    @CobolType(numeric = true)\r\n    private String shNo;\r\n\r\n    @Basic\r\n    @Column(name = &quot;BIRTH_DATE&quot;, nullable = true, insertable = true, updatable = true, length = 6)\r\n    @CobolType(numeric = true)\r\n    private String birthDate;\r\n\r\n    @Basic\r\n    @Column(name = &quot;MAH_COD&quot;, nullable = true, insertable = true, updatable = true, length = 3)\r\n    @CobolType(numeric = true)\r\n    private String mahCod;\r\n\r\n    @Basic\r\n    @Column(name = &quot;COD_ME&quot;, nullable = true, insertable = true, updatable = true, length = 12)\r\n    @CobolType(numeric = true)\r\n    private String codMe;\r\n\r\n    @Basic\r\n    @Column(name = &quot;GRP1&quot;, nullable = true, insertable = true, updatable = true, length = 3)\r\n    @CobolType(numeric = true)\r\n    private String grp1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;BIL1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\r\n    @CobolType(numeric = true)\r\n    private String bil1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;DUP1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\r\n    @CobolType(numeric = true)\r\n    private String dup1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;NAME1&quot;, nullable = true, insertable = true, updatable = true, length = 60)\r\n    @CobolType(numeric = false)\r\n    private String name1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;FAMILI1&quot;, nullable = true, insertable = true, updatable = true, length = 80)\r\n    @CobolType(numeric = false)\r\n    private String famili1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;PERSON1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\r\n    @CobolType(numeric = true)\r\n    private String person1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;FATHER&quot;, nullable = true, insertable = true, updatable = true, length = 60)\r\n    @CobolType(numeric = false)\r\n    private String father;\r\n\r\n    @Basic\r\n    @Column(name = &quot;HOZE&quot;, nullable = true, insertable = true, updatable = true, length = 2)\r\n    @CobolType(numeric = true)\r\n    private String hoze;\r\n\r\n    @Basic\r\n    @Column(name = &quot;CITY1&quot;, nullable = true, insertable = true, updatable = true, length = 40)\r\n    @CobolType(numeric = false)\r\n    private String city1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;TEL1&quot;, nullable = true, insertable = true, updatable = true, length = 13)\r\n    @CobolType(numeric = true)\r\n    private String tel1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;POST1&quot;, nullable = true, insertable = true, updatable = true, length = 10)\r\n    @CobolType(numeric = true)\r\n    private String post1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;ADDRS1&quot;, nullable = true, insertable = true, updatable = true, length = 160)\r\n    @CobolType(numeric = false)\r\n    private String addrs1;\r\n\r\n    @Basic\r\n    @Column(name = &quot;E_MAIL&quot;, nullable = true, insertable = true, updatable = true, length = 40)\r\n    @CobolType(numeric = false)\r\n    private String eMail;\r\n\r\n    @Basic\r\n    @Column(name = &quot;FAX1&quot;, nullable = true, insertable = true, updatable = true, length = 13)\r\n    @CobolType(numeric = true)\r\n    private String fax1;\r\n\r\n    //other fields...\r\n    \r\n    @Transient\r\n    private Integer isForeign;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        CustomerPerson that = (CustomerPerson) o;\r\n        return Objects.equals(accno, that.accno) &amp;&amp;\r\n                Objects.equals(row, that.row);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(accno, row);\r\n    }\r\n}\r\n```\r\n\r\n**This service has been called in outer service that is @Transactional**  \r\n\r\n``` java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CustomerService {\r\n\r\n    @Value(&quot;${range.trackingCodeThreadLocalKey}&quot;)\r\n    private String trackingCodeKey;\r\n    @Value(&quot;${customer.sync.isNewRecord}&quot;)\r\n    private String isNewRecordKey;\r\n    private static final Logger log = LoggerFactory.getLogger(CustomerService.class);\r\n\r\n    private final CustomerRepository customerRepository;\r\n    private final CustomerPersonRepository customerPersonRepository;\r\n    private final CustomerCompanyRepository customerCompanyRepository;\r\n    private final AccountMapRepository accountMapRepository;\r\n    private final AccountTypeMapRepository accountTypeMapRepository;\r\n    private final CustomerMapper customerMapper;\r\n    private final CompositeCustomerMapper compositeCustomerMapper;\r\n    private final RangeService rangeService;\r\n    private final ThreadLocalUtil threadLocalUtil;\r\n\r\n    public String syncAccount(Long newAccountNumber, CustomerAccountResponseDto galaxyData) {\r\n        Optional&lt;AccountMapEntity&gt; optAccountMapEntity = accountMapRepository.findByNewAccountNo(newAccountNumber);\r\n        CustomerDto customerData = new CustomerDto();\r\n        List&lt;CustomerPerson&gt; customerPersonList = null;\r\n        List&lt;Customer&gt; customers = null;\r\n        CustomerCompany customerCompany = null;\r\n        CustomerDto mappedCompositeCustomerPersons;\r\n        boolean updateRecord = false;\r\n\r\n        if (optAccountMapEntity.isPresent()) {\r\n            customerData = getCustomerData(optAccountMapEntity.get());\r\n        }\r\n\r\n        String legacyAccountNumber = getLegacyAccountNumber(customerData, galaxyData);\r\n        legacyAccountNumber = StringUtil.addLeftLeadingZero(legacyAccountNumber, Constants.Legacy_ACCOUNTNO_MAX);\r\n        log.info(&quot;######legacyAccountNumber. {}&quot;, legacyAccountNumber);\r\n\r\n        if (CustomerUtil.isCompositePerson(galaxyData)) {\r\n            Customer zeroRowCustomer = null;\r\n            CustomerPerson zeroRowCustomerPerson = null;\r\n\r\n\r\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\r\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList()) &amp;&amp;\r\n                    customerData.getCustomerList().stream().findFirst().isPresent() &amp;&amp;\r\n                    customerData.getCustomerPersonList().stream().findFirst().isPresent()) {\r\n                updateRecord = true;\r\n                mappedCompositeCustomerPersons = compositeCustomerMapper.compositeInquiryToCustomerDto(galaxyData, customerData);\r\n\r\n                if (mappedCompositeCustomerPersons.getCustomerList().stream().findFirst().isPresent())\r\n                    zeroRowCustomer = compositeCustomerMapper.toZeroRowCustomer(galaxyData, mappedCompositeCustomerPersons.getCustomerList().stream().findFirst().get());\r\n\r\n                if (mappedCompositeCustomerPersons.getCustomerPersonList().stream().findFirst().isPresent())\r\n                    zeroRowCustomerPerson = compositeCustomerMapper.toZeroRowCustomerPeson(galaxyData, mappedCompositeCustomerPersons.getCustomerPersonList().stream().findFirst().get(), mappedCompositeCustomerPersons.getCustomerPersonList());\r\n\r\n                mappedCompositeCustomerPersons.getCustomerList().set(0, zeroRowCustomer);\r\n                mappedCompositeCustomerPersons.getCustomerPersonList().set(0, zeroRowCustomerPerson);\r\n\r\n            } else {\r\n                zeroRowCustomer = compositeCustomerMapper.toZeroRowCustomer(galaxyData, new Customer());\r\n                mappedCompositeCustomerPersons = compositeCustomerMapper.compositeInquiryToCustomerDto(galaxyData, null);\r\n                zeroRowCustomerPerson = compositeCustomerMapper.toZeroRowCustomerPeson(galaxyData, new CustomerPerson(), mappedCompositeCustomerPersons.getCustomerPersonList());\r\n                mappedCompositeCustomerPersons.getCustomerList().add(0, zeroRowCustomer);\r\n                mappedCompositeCustomerPersons.getCustomerPersonList().add(0, zeroRowCustomerPerson);\r\n            }\r\n\r\n            customers = mappedCompositeCustomerPersons.getCustomerList();\r\n            customerPersonList = mappedCompositeCustomerPersons.getCustomerPersonList();\r\n\r\n\r\n            if (!ObjectUtils.isEmpty(customers)) {\r\n                for (Customer customer : customers) {\r\n                    customer.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\r\n                for (CustomerPerson customerPerson : customerPersonList) {\r\n                    customerPerson.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n\r\n\r\n        } else if (CustomerUtil.isLegalPerson(galaxyData)) {\r\n\r\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\r\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList()) &amp;&amp;\r\n                    !ObjectUtils.isEmpty(customerData.getCustomerCompany())) {\r\n                updateRecord = true;\r\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, customerData.getCustomerPersonList());\r\n                customerCompany = customerMapper.legalPersonToCustomerCompany(galaxyData, customerData.getCustomerCompany());\r\n                customers = customerMapper.accountToCustomer(galaxyData, customerData.getCustomerList(), customerData.getCustomerPersonList(), customerCompany);\r\n\r\n            } else {\r\n                customers = customerMapper.accountToCustomer(galaxyData, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), new CustomerCompany());\r\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, new ArrayList&lt;&gt;());\r\n                customerCompany = customerMapper.legalPersonToCustomerCompany(galaxyData, new CustomerCompany());\r\n            }\r\n\r\n\r\n            if (!ObjectUtils.isEmpty(customers)) {\r\n                for (Customer customer : customers) {\r\n                    customer.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\r\n                for (CustomerPerson customerPerson : customerPersonList) {\r\n                    customerPerson.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n            if (!ObjectUtils.isEmpty(customerCompany)) {\r\n                customerCompany.setAccno(legacyAccountNumber);\r\n            }\r\n\r\n\r\n        } else if (CustomerUtil.isRealPerson(galaxyData)) {\r\n\r\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\r\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList())) {\r\n                updateRecord = true;\r\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, customerData.getCustomerPersonList());\r\n                customers = customerMapper.accountToCustomer(galaxyData, customerData.getCustomerList(), customerData.getCustomerPersonList(), null);\r\n\r\n            } else {\r\n                customers = customerMapper.accountToCustomer(galaxyData, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), null);\r\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, new ArrayList&lt;&gt;());\r\n            }\r\n\r\n            if (!ObjectUtils.isEmpty(customers)) {\r\n                for (Customer customer : customers) {\r\n                    customer.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\r\n                for (CustomerPerson customerPerson : customerPersonList) {\r\n                    customerPerson.setAccno(legacyAccountNumber);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!ObjectUtils.isEmpty(threadLocalUtil.getKey(isNewRecordKey)) &amp;&amp; (Boolean) threadLocalUtil.getKey(isNewRecordKey))// todo it seems shoule be !isEmpty\r\n            saveAccountMap(newAccountNumber.toString(), legacyAccountNumber);\r\n\r\n        saveCustomers(updateRecord, customers, customerPersonList, customerCompany);\r\n        return legacyAccountNumber;\r\n    }\r\n\r\n    public void saveAccountMap(String newAccountNumber, String legacyAccountNumber) {\r\n        AccountMapEntity accountMapEntity = new AccountMapEntity();\r\n        accountMapEntity.setNewAccountNo(Long.valueOf(newAccountNumber));\r\n        accountMapEntity.setLegacyAccountNo(Long.valueOf(legacyAccountNumber));\r\n        boolean ifExist = accountMapRepository.existsByNewAccountNoOrLegacyAccountNo(Long.valueOf(newAccountNumber), Long.valueOf(legacyAccountNumber));\r\n        if (!ifExist) accountMapRepository.saveAndFlush(accountMapEntity);\r\n    }\r\n\r\n\r\n    //todo check below for save and flush of list\r\n    public void saveCustomers(Boolean updateRecord, List&lt;Customer&gt; customers, List&lt;CustomerPerson&gt; customerPersonList, CustomerCompany customerCompany) {\r\n        if (!ObjectUtils.isEmpty(updateRecord) &amp;&amp; !ObjectUtils.isEmpty(customers) &amp;&amp; !ObjectUtils.isEmpty(customerPersonList)) {\r\n\r\n            if (!updateRecord) {\r\n                customerRepository.saveAll(customers);\r\n                customerRepository.flush();\r\n                customerPersonRepository.saveAll(customerPersonList);\r\n                customerPersonRepository.flush();\r\n            } else {\r\n                for (Customer customer : customers) {\r\n                    Optional&lt;Customer&gt; optCustomerById = customerRepository.findById(customer.getNewlabChrono());\r\n                    if (optCustomerById.isPresent()) {\r\n                        Customer customer1 = optCustomerById.get();\r\n                        BeanUtils.copyProperties(customer, customer1);\r\n                        boolean equals = customer1.equals(customer);\r\n                        System.out.println(equals);\r\n                        String s = customer1.toString();\r\n                        customerRepository.saveAndFlush(customer1);\r\n                        log.info(&quot;customer updated&quot;);\r\n                    }\r\n                }\r\n\r\n                 for (CustomerPerson customerPerson : customerPersonList) {\r\n                    CustomerPerson cpSaved = customerPersonRepository.findCustomerPersonByNewlabChrono(customerPerson.getNewlabChrono());\r\n                    BeanUtils.copyProperties(customerPerson, cpSaved);\r\n                    boolean equals = cpSaved.equals(customerPerson);\r\n                    System.out.println(equals);\r\n// ###################\r\n                    customerPersonRepository.saveAndFlush(cpSaved); //Error occurs here\r\n// ###################\r\n                    log.info(&quot;customer person updated&quot;);\r\n                } \r\n\r\n            }\r\n            if (customerCompany != null)\r\n                customerCompanyRepository.saveAndFlush(customerCompany);\r\n\r\n        }\r\n    }\r\n\r\n    public CustomerDto getCustomerData(AccountMapEntity accountMapEntity) {\r\n        List&lt;Customer&gt; customerByAccno = customerRepository.findAllByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\r\n        List&lt;CustomerPerson&gt; customerPersonByAccno = customerPersonRepository.findAllByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\r\n        CustomerCompany customerCompanyByAccno = customerCompanyRepository.findByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\r\n\r\n        CustomerDto customerDto = new CustomerDto();\r\n        customerDto.setCustomerList(customerByAccno);\r\n        customerDto.setCustomerPersonList(customerPersonByAccno);\r\n        customerDto.setCustomerCompany(customerCompanyByAccno);\r\n        return customerDto;\r\n    }\r\n\r\n\r\n    private String getLegacyAccountNumber(CustomerDto customerData, CustomerAccountResponseDto galaxyData) {\r\n        String legacyAccountNumber = null;\r\n        if (!ObjectUtils.isEmpty(customerData) &amp;&amp; !ObjectUtils.isEmpty(customerData.getCustomerList())) {\r\n            Optional&lt;Customer&gt; optCustomer = customerData.getCustomerList().stream().findFirst();\r\n            if (optCustomer.isPresent()) {\r\n                Customer customer = optCustomer.get();\r\n                legacyAccountNumber = customer.getAccno();\r\n            }\r\n        } else {\r\n\r\n            Optional&lt;AccountTypeMap&gt; optAccountTypeMap = accountTypeMapRepository.findByAccountTypeCodeAndAccountSubTypeCode(galaxyData.getAccount().getAccountTypeCode(), galaxyData.getAccount().getAccountSubTypeCode());\r\n            if (optAccountTypeMap.isPresent()) {\r\n                AccountTypeMap accountTypeMap = optAccountTypeMap.get();\r\n                String accountGroup = accountTypeMap.getAccountGroup();\r\n                String branchCode = galaxyData.getAccount().getAccountTypeCode();\r\n                String cbiDb = accountTypeMap.getCbiDb();\r\n                String cbiCr = accountTypeMap.getCbiCr();\r\n                String cbkDb = accountTypeMap.getCbkDb();\r\n                String cbkCr = accountTypeMap.getCbkCr();\r\n                GenerateAccountNumberResponse response = rangeService.generateAccountNumber(branchCode, accountGroup, cbiDb, cbiCr, &quot;  25E&quot;, &quot;  60A&quot;);\r\n                legacyAccountNumber = response.getResponse().getAccountNo().toString();\r\n                threadLocalUtil.addKey(trackingCodeKey, response.getResponse().getTrackingCode());\r\n                threadLocalUtil.addKey(isNewRecordKey, true);\r\n            }\r\n\r\n        }\r\n        log.warn(&quot;#########  legacyAccountNumber {}&quot;, legacyAccountNumber);\r\n\r\n        return legacyAccountNumber;\r\n    }\r\n}\r\n```  \r\n\r\nWhen I debug OR run the application, `Customer` can update, but when I want to update the `CustomerPerson`, it throws `ConstraintViolationException` on PK for updating entity. Any suggestion? I thought it has something with `equals and hashCodes` but I wrote `equals and hashCodes` the same as the `Customer`.\r\n\r\nThe outer service is SyncLegacyAccountServiceImpl\r\n\r\n``` java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Transactional(readOnly = true)\r\npublic class SyncLegacyAccountServiceImpl implements ISyncLegacyAccountService {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(GalaxyService.class);\r\n\r\n    @Value(&quot;${range.trackingCodeThreadLocalKey}&quot;)\r\n    private String trackingCodeKey;\r\n    @Value(&quot;${customer.sync.isNewRecord}&quot;)\r\n    private String isNewRecordKey;\r\n\r\n    private final IMQService iMQService;\r\n    private final IAccountRequestService iAccountRequestService;\r\n    private final CustomerService customerService;\r\n    private final GalaxyService galaxyService;\r\n    private final RangeService rangeService;\r\n    private final ThreadLocalUtil threadLocalUtil;\r\n\r\n    @Override\r\n    @Transactional\r\n    public void handleSyncRequest(Event event) {\r\n        try {\r\n            rangeCompensation();\r\n            Long newAccountNumber = Long.valueOf(event.getArgument().get(Constants.KEY_ACCOUNT_NO_MQ).toString());\r\n            CustomerAccountResponseDto galaxyData = galaxyService.getGalaxyData(String.valueOf(newAccountNumber));\r\n            String legacyAccountNumber = customerService.syncAccount(newAccountNumber, galaxyData);\r\n            log.info(&quot;legacy no {}&quot;,legacyAccountNumber);\r\n            iMQService.send(MQUtil.buildAccountChangeResponse(null, legacyAccountNumber, event.getMessageId()));\r\n            iAccountRequestService.saveSuccessfulAccountRequest(event);\r\n            log.info(&quot;saved succed&quot;);\r\n            updateRangeToFinal();\r\n            log.info(&quot;updateRangeToFinal&quot;);\r\n        } catch (Exception exception) {\r\n            log.error(exception.toString());\r\n            updateRangeToRevoke();\r\n        }\r\n    }\r\n\r\n    private void updateRangeToFinal() {\r\n        Boolean isNewRecord = (Boolean) threadLocalUtil.getKey(isNewRecordKey);\r\n        if (!ObjectUtils.isEmpty(isNewRecord)) {\r\n            if (isNewRecord) {\r\n                rangeService.updateToFinal(String.valueOf(threadLocalUtil.getKey(trackingCodeKey)));\r\n                removeFromThreadLocal(trackingCodeKey);\r\n                removeFromThreadLocal(isNewRecordKey);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void updateRangeToRevoke() {\r\n        Boolean isNewRecord = (Boolean) threadLocalUtil.getKey(isNewRecordKey);\r\n        if (!ObjectUtils.isEmpty(isNewRecord)) {\r\n            if (isNewRecord) {\r\n                rangeService.updateToRevoke(String.valueOf(threadLocalUtil.getKey(trackingCodeKey)));\r\n                removeFromThreadLocal(trackingCodeKey);\r\n                removeFromThreadLocal(isNewRecordKey);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void rangeCompensation() {\r\n        if (!ObjectUtils.isEmpty(threadLocalUtil.getKey(trackingCodeKey)) &amp;&amp; !ObjectUtils.isEmpty(threadLocalUtil.getKey(isNewRecordKey))) {\r\n            updateRangeToRevoke();\r\n        }\r\n    }\r\n\r\n    private void removeFromThreadLocal(String key) {\r\n        threadLocalUtil.removeKey(key);\r\n    }\r\n```\r\n\r\n\r\n**Log**\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [SGB.C_PR_PK]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\norg.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n```\r\nI know what the ViolationException is in this scenario. But it&#39;s very odd, because, in the same manner, the `Customer` entity updates properly. But when it wants to update the CustomerPerson, it throws this exception. And I checked with the  `equals` method to insure the updated object is the same as the Db one (ID--&gt;newlabChrono).","title":"I want update entity but dataintegrityviolationexception: could not execute statement SQL [n/a]; constraint SGB.C_PR_PK] occurs","body":"<p><strong>Entities</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;v_CUSTOMER&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;accno&quot;, &quot;row&quot;})})\n@SequenceGenerator(\n        name = &quot;sgb.CUSTOMER_SEQ&quot;,\n        sequenceName = &quot;sgb.CUSTOMER_SEQ&quot;,\n        allocationSize = 1\n)\n@Getter\n@Setter\n@ToString\n@FieldNameConstants\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sgb.CUSTOMER_SEQ&quot;)\n    @Column(name = &quot;NEWLAB_CHRONO&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\n    @CobolType(numeric = true,nullable = true)\n    private Integer newlabChrono;\n\n    @Basic\n    @Column(name = &quot;ACCNO&quot;, nullable = false, insertable = true, updatable = true, length = 10)\n    @CobolType(numeric = true)\n    private String accno;\n\n    @Basic\n    @Column(name = &quot;ROW&quot;, nullable = false, insertable = true, updatable = true, length = 2)\n    @CobolType(numeric = true)\n    private String row;\n\n    @Basic\n    @Column(name = &quot;SHAKHS&quot;, nullable = true, insertable = true, updatable = true, length = 1)\n    @CobolType(numeric = true)\n    private String shakhs;\n\n    @Basic\n    @Column(name = &quot;TAR_GAR&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true)\n    private String tarGar;\n\n    @Basic\n    @Column(name = &quot;ID_ALT1&quot;, nullable = true, insertable = true, updatable = true, length = 12)\n    @CobolType(numeric = true)\n    private String idAlt1;\n\n    @Basic\n    @Column(name = &quot;ID_ALT2&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true)\n    private String idAlt2;\n\n    @Basic\n    @Column(name = &quot;ID_ALT3&quot;, nullable = true, insertable = true, updatable = true, length = 3)\n    @CobolType(numeric = true)\n    private String idAlt3;\n\n    @Basic\n    @Column(name = &quot;MELLI_ALT&quot;, nullable = true, insertable = true, updatable = true, length = 12)\n    @CobolType(numeric = true)\n    private String melliAlt;\n\n    @Basic\n    @Column(name = &quot;BRANCH_ID&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true, nullable = true)\n    private String branchId;\n\n    @Basic\n    @Column(name = &quot;BRANCH&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true, nullable = true)\n    private String branch;\n\n    @Basic\n    @Column(name = &quot;REGION&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true, nullable = true)\n    private String region;\n\n    @Basic\n    @Column(name = &quot;SITE&quot;, nullable = true, insertable = true, updatable = true, length = 2)\n    @CobolType(numeric = true, nullable = true)\n    private String site;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Customer that = (Customer) o;\n        return Objects.equals(accno, that.accno) &amp;&amp;\n                Objects.equals(row, that.row);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(accno, row);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;v_CUSTOMER_PERSON&quot;)\n@SequenceGenerator(\n        name = &quot;CUSTOMER_PERSON_SEQ&quot;,\n        sequenceName = &quot;CUSTOMER_PERSON_SEQ&quot;,\n        allocationSize = 1\n)\n@Getter\n@Setter\n@ToString\n@FieldNameConstants\npublic class CustomerPerson {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;CUSTOMER_PERSON_SEQ&quot;)\n    @Column(name = &quot;NEWLAB_CHRONO&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\n    @CobolType(numeric = true, nullable = true)\n    private Integer newlabChrono;\n\n    @Basic\n    @Column(name = &quot;ACCNO&quot;, nullable = false, insertable = true, updatable = true, length = 10)\n    @CobolType(numeric = true)\n    private String accno;\n\n    @Basic\n    @Column(name = &quot;ROW&quot;, nullable = false, insertable = true, updatable = true, length = 2)\n    @CobolType(numeric = true)\n    private String row;\n\n    @Basic\n    @Column(name = &quot;SHAKHS&quot;, nullable = true, insertable = true, updatable = true, length = 1)\n    @CobolType(numeric = true)\n    private String shakhs;\n\n    @Basic\n    @Column(name = &quot;TAR_GAR&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true)\n    private String tarGar;\n\n    @Basic\n    @Column(name = &quot;SH_NO&quot;, nullable = true, insertable = true, updatable = true, length = 12)\n    @CobolType(numeric = true)\n    private String shNo;\n\n    @Basic\n    @Column(name = &quot;BIRTH_DATE&quot;, nullable = true, insertable = true, updatable = true, length = 6)\n    @CobolType(numeric = true)\n    private String birthDate;\n\n    @Basic\n    @Column(name = &quot;MAH_COD&quot;, nullable = true, insertable = true, updatable = true, length = 3)\n    @CobolType(numeric = true)\n    private String mahCod;\n\n    @Basic\n    @Column(name = &quot;COD_ME&quot;, nullable = true, insertable = true, updatable = true, length = 12)\n    @CobolType(numeric = true)\n    private String codMe;\n\n    @Basic\n    @Column(name = &quot;GRP1&quot;, nullable = true, insertable = true, updatable = true, length = 3)\n    @CobolType(numeric = true)\n    private String grp1;\n\n    @Basic\n    @Column(name = &quot;BIL1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\n    @CobolType(numeric = true)\n    private String bil1;\n\n    @Basic\n    @Column(name = &quot;DUP1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\n    @CobolType(numeric = true)\n    private String dup1;\n\n    @Basic\n    @Column(name = &quot;NAME1&quot;, nullable = true, insertable = true, updatable = true, length = 60)\n    @CobolType(numeric = false)\n    private String name1;\n\n    @Basic\n    @Column(name = &quot;FAMILI1&quot;, nullable = true, insertable = true, updatable = true, length = 80)\n    @CobolType(numeric = false)\n    private String famili1;\n\n    @Basic\n    @Column(name = &quot;PERSON1&quot;, nullable = true, insertable = true, updatable = true, length = 1)\n    @CobolType(numeric = true)\n    private String person1;\n\n    @Basic\n    @Column(name = &quot;FATHER&quot;, nullable = true, insertable = true, updatable = true, length = 60)\n    @CobolType(numeric = false)\n    private String father;\n\n    @Basic\n    @Column(name = &quot;HOZE&quot;, nullable = true, insertable = true, updatable = true, length = 2)\n    @CobolType(numeric = true)\n    private String hoze;\n\n    @Basic\n    @Column(name = &quot;CITY1&quot;, nullable = true, insertable = true, updatable = true, length = 40)\n    @CobolType(numeric = false)\n    private String city1;\n\n    @Basic\n    @Column(name = &quot;TEL1&quot;, nullable = true, insertable = true, updatable = true, length = 13)\n    @CobolType(numeric = true)\n    private String tel1;\n\n    @Basic\n    @Column(name = &quot;POST1&quot;, nullable = true, insertable = true, updatable = true, length = 10)\n    @CobolType(numeric = true)\n    private String post1;\n\n    @Basic\n    @Column(name = &quot;ADDRS1&quot;, nullable = true, insertable = true, updatable = true, length = 160)\n    @CobolType(numeric = false)\n    private String addrs1;\n\n    @Basic\n    @Column(name = &quot;E_MAIL&quot;, nullable = true, insertable = true, updatable = true, length = 40)\n    @CobolType(numeric = false)\n    private String eMail;\n\n    @Basic\n    @Column(name = &quot;FAX1&quot;, nullable = true, insertable = true, updatable = true, length = 13)\n    @CobolType(numeric = true)\n    private String fax1;\n\n    //other fields...\n    \n    @Transient\n    private Integer isForeign;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CustomerPerson that = (CustomerPerson) o;\n        return Objects.equals(accno, that.accno) &amp;&amp;\n                Objects.equals(row, that.row);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(accno, row);\n    }\n}\n</code></pre>\n<p><strong>This service has been called in outer service that is @Transactional</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class CustomerService {\n\n    @Value(&quot;${range.trackingCodeThreadLocalKey}&quot;)\n    private String trackingCodeKey;\n    @Value(&quot;${customer.sync.isNewRecord}&quot;)\n    private String isNewRecordKey;\n    private static final Logger log = LoggerFactory.getLogger(CustomerService.class);\n\n    private final CustomerRepository customerRepository;\n    private final CustomerPersonRepository customerPersonRepository;\n    private final CustomerCompanyRepository customerCompanyRepository;\n    private final AccountMapRepository accountMapRepository;\n    private final AccountTypeMapRepository accountTypeMapRepository;\n    private final CustomerMapper customerMapper;\n    private final CompositeCustomerMapper compositeCustomerMapper;\n    private final RangeService rangeService;\n    private final ThreadLocalUtil threadLocalUtil;\n\n    public String syncAccount(Long newAccountNumber, CustomerAccountResponseDto galaxyData) {\n        Optional&lt;AccountMapEntity&gt; optAccountMapEntity = accountMapRepository.findByNewAccountNo(newAccountNumber);\n        CustomerDto customerData = new CustomerDto();\n        List&lt;CustomerPerson&gt; customerPersonList = null;\n        List&lt;Customer&gt; customers = null;\n        CustomerCompany customerCompany = null;\n        CustomerDto mappedCompositeCustomerPersons;\n        boolean updateRecord = false;\n\n        if (optAccountMapEntity.isPresent()) {\n            customerData = getCustomerData(optAccountMapEntity.get());\n        }\n\n        String legacyAccountNumber = getLegacyAccountNumber(customerData, galaxyData);\n        legacyAccountNumber = StringUtil.addLeftLeadingZero(legacyAccountNumber, Constants.Legacy_ACCOUNTNO_MAX);\n        log.info(&quot;######legacyAccountNumber. {}&quot;, legacyAccountNumber);\n\n        if (CustomerUtil.isCompositePerson(galaxyData)) {\n            Customer zeroRowCustomer = null;\n            CustomerPerson zeroRowCustomerPerson = null;\n\n\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList()) &amp;&amp;\n                    customerData.getCustomerList().stream().findFirst().isPresent() &amp;&amp;\n                    customerData.getCustomerPersonList().stream().findFirst().isPresent()) {\n                updateRecord = true;\n                mappedCompositeCustomerPersons = compositeCustomerMapper.compositeInquiryToCustomerDto(galaxyData, customerData);\n\n                if (mappedCompositeCustomerPersons.getCustomerList().stream().findFirst().isPresent())\n                    zeroRowCustomer = compositeCustomerMapper.toZeroRowCustomer(galaxyData, mappedCompositeCustomerPersons.getCustomerList().stream().findFirst().get());\n\n                if (mappedCompositeCustomerPersons.getCustomerPersonList().stream().findFirst().isPresent())\n                    zeroRowCustomerPerson = compositeCustomerMapper.toZeroRowCustomerPeson(galaxyData, mappedCompositeCustomerPersons.getCustomerPersonList().stream().findFirst().get(), mappedCompositeCustomerPersons.getCustomerPersonList());\n\n                mappedCompositeCustomerPersons.getCustomerList().set(0, zeroRowCustomer);\n                mappedCompositeCustomerPersons.getCustomerPersonList().set(0, zeroRowCustomerPerson);\n\n            } else {\n                zeroRowCustomer = compositeCustomerMapper.toZeroRowCustomer(galaxyData, new Customer());\n                mappedCompositeCustomerPersons = compositeCustomerMapper.compositeInquiryToCustomerDto(galaxyData, null);\n                zeroRowCustomerPerson = compositeCustomerMapper.toZeroRowCustomerPeson(galaxyData, new CustomerPerson(), mappedCompositeCustomerPersons.getCustomerPersonList());\n                mappedCompositeCustomerPersons.getCustomerList().add(0, zeroRowCustomer);\n                mappedCompositeCustomerPersons.getCustomerPersonList().add(0, zeroRowCustomerPerson);\n            }\n\n            customers = mappedCompositeCustomerPersons.getCustomerList();\n            customerPersonList = mappedCompositeCustomerPersons.getCustomerPersonList();\n\n\n            if (!ObjectUtils.isEmpty(customers)) {\n                for (Customer customer : customers) {\n                    customer.setAccno(legacyAccountNumber);\n                }\n            }\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\n                for (CustomerPerson customerPerson : customerPersonList) {\n                    customerPerson.setAccno(legacyAccountNumber);\n                }\n            }\n\n\n        } else if (CustomerUtil.isLegalPerson(galaxyData)) {\n\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList()) &amp;&amp;\n                    !ObjectUtils.isEmpty(customerData.getCustomerCompany())) {\n                updateRecord = true;\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, customerData.getCustomerPersonList());\n                customerCompany = customerMapper.legalPersonToCustomerCompany(galaxyData, customerData.getCustomerCompany());\n                customers = customerMapper.accountToCustomer(galaxyData, customerData.getCustomerList(), customerData.getCustomerPersonList(), customerCompany);\n\n            } else {\n                customers = customerMapper.accountToCustomer(galaxyData, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), new CustomerCompany());\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, new ArrayList&lt;&gt;());\n                customerCompany = customerMapper.legalPersonToCustomerCompany(galaxyData, new CustomerCompany());\n            }\n\n\n            if (!ObjectUtils.isEmpty(customers)) {\n                for (Customer customer : customers) {\n                    customer.setAccno(legacyAccountNumber);\n                }\n            }\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\n                for (CustomerPerson customerPerson : customerPersonList) {\n                    customerPerson.setAccno(legacyAccountNumber);\n                }\n            }\n            if (!ObjectUtils.isEmpty(customerCompany)) {\n                customerCompany.setAccno(legacyAccountNumber);\n            }\n\n\n        } else if (CustomerUtil.isRealPerson(galaxyData)) {\n\n            if (!ObjectUtils.isEmpty(customerData.getCustomerList()) &amp;&amp;\n                    !ObjectUtils.isEmpty(customerData.getCustomerPersonList())) {\n                updateRecord = true;\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, customerData.getCustomerPersonList());\n                customers = customerMapper.accountToCustomer(galaxyData, customerData.getCustomerList(), customerData.getCustomerPersonList(), null);\n\n            } else {\n                customers = customerMapper.accountToCustomer(galaxyData, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), null);\n                customerPersonList = customerMapper.realPersonToCustomerPersonList(galaxyData, new ArrayList&lt;&gt;());\n            }\n\n            if (!ObjectUtils.isEmpty(customers)) {\n                for (Customer customer : customers) {\n                    customer.setAccno(legacyAccountNumber);\n                }\n            }\n            if (!ObjectUtils.isEmpty(customerPersonList)) {\n                for (CustomerPerson customerPerson : customerPersonList) {\n                    customerPerson.setAccno(legacyAccountNumber);\n                }\n            }\n        }\n\n        if (!ObjectUtils.isEmpty(threadLocalUtil.getKey(isNewRecordKey)) &amp;&amp; (Boolean) threadLocalUtil.getKey(isNewRecordKey))// todo it seems shoule be !isEmpty\n            saveAccountMap(newAccountNumber.toString(), legacyAccountNumber);\n\n        saveCustomers(updateRecord, customers, customerPersonList, customerCompany);\n        return legacyAccountNumber;\n    }\n\n    public void saveAccountMap(String newAccountNumber, String legacyAccountNumber) {\n        AccountMapEntity accountMapEntity = new AccountMapEntity();\n        accountMapEntity.setNewAccountNo(Long.valueOf(newAccountNumber));\n        accountMapEntity.setLegacyAccountNo(Long.valueOf(legacyAccountNumber));\n        boolean ifExist = accountMapRepository.existsByNewAccountNoOrLegacyAccountNo(Long.valueOf(newAccountNumber), Long.valueOf(legacyAccountNumber));\n        if (!ifExist) accountMapRepository.saveAndFlush(accountMapEntity);\n    }\n\n\n    //todo check below for save and flush of list\n    public void saveCustomers(Boolean updateRecord, List&lt;Customer&gt; customers, List&lt;CustomerPerson&gt; customerPersonList, CustomerCompany customerCompany) {\n        if (!ObjectUtils.isEmpty(updateRecord) &amp;&amp; !ObjectUtils.isEmpty(customers) &amp;&amp; !ObjectUtils.isEmpty(customerPersonList)) {\n\n            if (!updateRecord) {\n                customerRepository.saveAll(customers);\n                customerRepository.flush();\n                customerPersonRepository.saveAll(customerPersonList);\n                customerPersonRepository.flush();\n            } else {\n                for (Customer customer : customers) {\n                    Optional&lt;Customer&gt; optCustomerById = customerRepository.findById(customer.getNewlabChrono());\n                    if (optCustomerById.isPresent()) {\n                        Customer customer1 = optCustomerById.get();\n                        BeanUtils.copyProperties(customer, customer1);\n                        boolean equals = customer1.equals(customer);\n                        System.out.println(equals);\n                        String s = customer1.toString();\n                        customerRepository.saveAndFlush(customer1);\n                        log.info(&quot;customer updated&quot;);\n                    }\n                }\n\n                 for (CustomerPerson customerPerson : customerPersonList) {\n                    CustomerPerson cpSaved = customerPersonRepository.findCustomerPersonByNewlabChrono(customerPerson.getNewlabChrono());\n                    BeanUtils.copyProperties(customerPerson, cpSaved);\n                    boolean equals = cpSaved.equals(customerPerson);\n                    System.out.println(equals);\n// ###################\n                    customerPersonRepository.saveAndFlush(cpSaved); //Error occurs here\n// ###################\n                    log.info(&quot;customer person updated&quot;);\n                } \n\n            }\n            if (customerCompany != null)\n                customerCompanyRepository.saveAndFlush(customerCompany);\n\n        }\n    }\n\n    public CustomerDto getCustomerData(AccountMapEntity accountMapEntity) {\n        List&lt;Customer&gt; customerByAccno = customerRepository.findAllByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\n        List&lt;CustomerPerson&gt; customerPersonByAccno = customerPersonRepository.findAllByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\n        CustomerCompany customerCompanyByAccno = customerCompanyRepository.findByAccountNumber(String.valueOf(accountMapEntity.getLegacyAccountNo()));\n\n        CustomerDto customerDto = new CustomerDto();\n        customerDto.setCustomerList(customerByAccno);\n        customerDto.setCustomerPersonList(customerPersonByAccno);\n        customerDto.setCustomerCompany(customerCompanyByAccno);\n        return customerDto;\n    }\n\n\n    private String getLegacyAccountNumber(CustomerDto customerData, CustomerAccountResponseDto galaxyData) {\n        String legacyAccountNumber = null;\n        if (!ObjectUtils.isEmpty(customerData) &amp;&amp; !ObjectUtils.isEmpty(customerData.getCustomerList())) {\n            Optional&lt;Customer&gt; optCustomer = customerData.getCustomerList().stream().findFirst();\n            if (optCustomer.isPresent()) {\n                Customer customer = optCustomer.get();\n                legacyAccountNumber = customer.getAccno();\n            }\n        } else {\n\n            Optional&lt;AccountTypeMap&gt; optAccountTypeMap = accountTypeMapRepository.findByAccountTypeCodeAndAccountSubTypeCode(galaxyData.getAccount().getAccountTypeCode(), galaxyData.getAccount().getAccountSubTypeCode());\n            if (optAccountTypeMap.isPresent()) {\n                AccountTypeMap accountTypeMap = optAccountTypeMap.get();\n                String accountGroup = accountTypeMap.getAccountGroup();\n                String branchCode = galaxyData.getAccount().getAccountTypeCode();\n                String cbiDb = accountTypeMap.getCbiDb();\n                String cbiCr = accountTypeMap.getCbiCr();\n                String cbkDb = accountTypeMap.getCbkDb();\n                String cbkCr = accountTypeMap.getCbkCr();\n                GenerateAccountNumberResponse response = rangeService.generateAccountNumber(branchCode, accountGroup, cbiDb, cbiCr, &quot;  25E&quot;, &quot;  60A&quot;);\n                legacyAccountNumber = response.getResponse().getAccountNo().toString();\n                threadLocalUtil.addKey(trackingCodeKey, response.getResponse().getTrackingCode());\n                threadLocalUtil.addKey(isNewRecordKey, true);\n            }\n\n        }\n        log.warn(&quot;#########  legacyAccountNumber {}&quot;, legacyAccountNumber);\n\n        return legacyAccountNumber;\n    }\n}\n</code></pre>\n<p>When I debug OR run the application, <code>Customer</code> can update, but when I want to update the <code>CustomerPerson</code>, it throws <code>ConstraintViolationException</code> on PK for updating entity. Any suggestion? I thought it has something with <code>equals and hashCodes</code> but I wrote <code>equals and hashCodes</code> the same as the <code>Customer</code>.</p>\n<p>The outer service is SyncLegacyAccountServiceImpl</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true)\npublic class SyncLegacyAccountServiceImpl implements ISyncLegacyAccountService {\n\n    private static final Logger log = LoggerFactory.getLogger(GalaxyService.class);\n\n    @Value(&quot;${range.trackingCodeThreadLocalKey}&quot;)\n    private String trackingCodeKey;\n    @Value(&quot;${customer.sync.isNewRecord}&quot;)\n    private String isNewRecordKey;\n\n    private final IMQService iMQService;\n    private final IAccountRequestService iAccountRequestService;\n    private final CustomerService customerService;\n    private final GalaxyService galaxyService;\n    private final RangeService rangeService;\n    private final ThreadLocalUtil threadLocalUtil;\n\n    @Override\n    @Transactional\n    public void handleSyncRequest(Event event) {\n        try {\n            rangeCompensation();\n            Long newAccountNumber = Long.valueOf(event.getArgument().get(Constants.KEY_ACCOUNT_NO_MQ).toString());\n            CustomerAccountResponseDto galaxyData = galaxyService.getGalaxyData(String.valueOf(newAccountNumber));\n            String legacyAccountNumber = customerService.syncAccount(newAccountNumber, galaxyData);\n            log.info(&quot;legacy no {}&quot;,legacyAccountNumber);\n            iMQService.send(MQUtil.buildAccountChangeResponse(null, legacyAccountNumber, event.getMessageId()));\n            iAccountRequestService.saveSuccessfulAccountRequest(event);\n            log.info(&quot;saved succed&quot;);\n            updateRangeToFinal();\n            log.info(&quot;updateRangeToFinal&quot;);\n        } catch (Exception exception) {\n            log.error(exception.toString());\n            updateRangeToRevoke();\n        }\n    }\n\n    private void updateRangeToFinal() {\n        Boolean isNewRecord = (Boolean) threadLocalUtil.getKey(isNewRecordKey);\n        if (!ObjectUtils.isEmpty(isNewRecord)) {\n            if (isNewRecord) {\n                rangeService.updateToFinal(String.valueOf(threadLocalUtil.getKey(trackingCodeKey)));\n                removeFromThreadLocal(trackingCodeKey);\n                removeFromThreadLocal(isNewRecordKey);\n            }\n        }\n    }\n\n    private void updateRangeToRevoke() {\n        Boolean isNewRecord = (Boolean) threadLocalUtil.getKey(isNewRecordKey);\n        if (!ObjectUtils.isEmpty(isNewRecord)) {\n            if (isNewRecord) {\n                rangeService.updateToRevoke(String.valueOf(threadLocalUtil.getKey(trackingCodeKey)));\n                removeFromThreadLocal(trackingCodeKey);\n                removeFromThreadLocal(isNewRecordKey);\n            }\n        }\n    }\n\n    private void rangeCompensation() {\n        if (!ObjectUtils.isEmpty(threadLocalUtil.getKey(trackingCodeKey)) &amp;&amp; !ObjectUtils.isEmpty(threadLocalUtil.getKey(isNewRecordKey))) {\n            updateRangeToRevoke();\n        }\n    }\n\n    private void removeFromThreadLocal(String key) {\n        threadLocalUtil.removeKey(key);\n    }\n</code></pre>\n<p><strong>Log</strong></p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [SGB.C_PR_PK]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n</code></pre>\n<p>I know what the ViolationException is in this scenario. But it's very odd, because, in the same manner, the <code>Customer</code> entity updates properly. But when it wants to update the CustomerPerson, it throws this exception. And I checked with the  <code>equals</code> method to insure the updated object is the same as the Db one (ID--&gt;newlabChrono).</p>\n"},{"tags":["java","spring","service","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":5961902,"reputation":53,"user_id":4686823,"display_name":"kayos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641564286,"creation_date":1641564286,"answer_id":70622378,"question_id":70579832,"body_markdown":"So I found the best way to solve this problem is it to have the services providing information extraction as a  configuration. This way I can implement a loop in my Collect service and loop through each extraction service. The configuration is handles by a configuration service. This is the clostest I can come to adding services withou performing any change to the Collect service. ","title":"Automatic Service Discovery with Eureka","body":"<p>So I found the best way to solve this problem is it to have the services providing information extraction as a  configuration. This way I can implement a loop in my Collect service and loop through each extraction service. The configuration is handles by a configuration service. This is the clostest I can come to adding services withou performing any change to the Collect service.</p>\n"}],"owner":{"account_id":5961902,"reputation":53,"user_id":4686823,"display_name":"kayos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641564286,"creation_date":1641304323,"question_id":70579832,"body_markdown":"is there a possibility to automatically discover services with Eureka? What I want to do is to have a service &quot;Collect&quot; which accepts a document. Additionally to this service there should be several other services which extract document data from the document. This could be a &quot;TF-IDF&quot; or a &quot;MLT&quot; service. \r\n\r\nAs of now I would have to change the &quot;Collect&quot; service each time a new data extraction service is added. This is what I would like to automate so that after adding a data extraction service it is called automatically without changing the &quot;Collect&quot; service. \r\n\r\nIs there a way of achieving such an automatic service discovery or will I always have to modify the &quot;Collect&quot; service?\r\n\r\nKind regards","title":"Automatic Service Discovery with Eureka","body":"<p>is there a possibility to automatically discover services with Eureka? What I want to do is to have a service &quot;Collect&quot; which accepts a document. Additionally to this service there should be several other services which extract document data from the document. This could be a &quot;TF-IDF&quot; or a &quot;MLT&quot; service.</p>\n<p>As of now I would have to change the &quot;Collect&quot; service each time a new data extraction service is added. This is what I would like to automate so that after adding a data extraction service it is called automatically without changing the &quot;Collect&quot; service.</p>\n<p>Is there a way of achieving such an automatic service discovery or will I always have to modify the &quot;Collect&quot; service?</p>\n<p>Kind regards</p>\n"},{"tags":["java","android","uri","mediastore","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":1759832,"reputation":2022,"user_id":1607249,"accept_rate":10,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641563921,"creation_date":1641554192,"answer_id":70620419,"question_id":70609975,"body_markdown":"A cursor is in effect a dataset that was returned. Imagine it like a spreadsheet with rows(each track) and columns. Columns contain the separate pieces of data, a row represents one record.\r\n\r\neach column is accessed by getting it&#39;s index ie position to the right in the spreadsheet table\r\n\r\n    private final String track_id = MediaStore.Audio.Media._ID;\r\n    private final String bucket_displayname = MediaStore.Audio.Media.BUCKET_DISPLAY_NAME;\r\n    private final String track_no = MediaStore.Audio.Media.TRACK;\r\n    private final String track_name = MediaStore.Audio.Media.TITLE;\r\n    private final String artist = MediaStore.Audio.Media.ARTIST;\r\n    private final String artist_id = MediaStore.Audio.Media.ARTIST_ID;\r\n    private final String duration = MediaStore.Audio.Media.DURATION;\r\n    private final String album = MediaStore.Audio.Media.ALBUM;\r\n    private final String composer = MediaStore.Audio.Media.COMPOSER;\r\n    private final String year = MediaStore.Audio.Media.YEAR;\r\n    private final String path = MediaStore.Audio.Media.DATA;\r\n    private final String date_added = MediaStore.Audio.Media.DATE_ADDED;\r\n    private final String genre = MediaStore.Audio.Media.GENRE;\r\n    private final String genre_id = MediaStore.Audio.Media.GENRE_ID;\r\nand so on. Note there is a column called MediaStore.Audio.Media.DATA (apart from android10 when google decided to do away with this only to bring it back in 11)\r\nSo when you loop around your cursor, you effectively read each row of your spreadsheet.\r\n","title":"get path of uri from a cursor on MediaStore","body":"<p>A cursor is in effect a dataset that was returned. Imagine it like a spreadsheet with rows(each track) and columns. Columns contain the separate pieces of data, a row represents one record.</p>\n<p>each column is accessed by getting it's index ie position to the right in the spreadsheet table</p>\n<pre><code>private final String track_id = MediaStore.Audio.Media._ID;\nprivate final String bucket_displayname = MediaStore.Audio.Media.BUCKET_DISPLAY_NAME;\nprivate final String track_no = MediaStore.Audio.Media.TRACK;\nprivate final String track_name = MediaStore.Audio.Media.TITLE;\nprivate final String artist = MediaStore.Audio.Media.ARTIST;\nprivate final String artist_id = MediaStore.Audio.Media.ARTIST_ID;\nprivate final String duration = MediaStore.Audio.Media.DURATION;\nprivate final String album = MediaStore.Audio.Media.ALBUM;\nprivate final String composer = MediaStore.Audio.Media.COMPOSER;\nprivate final String year = MediaStore.Audio.Media.YEAR;\nprivate final String path = MediaStore.Audio.Media.DATA;\nprivate final String date_added = MediaStore.Audio.Media.DATE_ADDED;\nprivate final String genre = MediaStore.Audio.Media.GENRE;\nprivate final String genre_id = MediaStore.Audio.Media.GENRE_ID;\n</code></pre>\n<p>and so on. Note there is a column called MediaStore.Audio.Media.DATA (apart from android10 when google decided to do away with this only to bring it back in 11)\nSo when you loop around your cursor, you effectively read each row of your spreadsheet.</p>\n"}],"owner":{"account_id":23653020,"reputation":450,"user_id":17681687,"display_name":"JAg&#252;ero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70620419,"answer_count":1,"score":0,"last_activity_date":1641563921,"creation_date":1641485072,"question_id":70609975,"body_markdown":"I am trying to do a Media Player and the first step for that is to scan all the songs available in the external storage of the device. After that I will store them on a list, but I got stuck in this first point. (I am not familiar with Uri or Cursor so I don&#39;t really know how they work even after researching on google and Stackoverflow for a while, and maybe that is the problem)\r\n\r\nI want to be able to store every song that the cursor gets in a list of a class Song, which will have artist, album, title, duration and path. I want to use the path later to reproduce the song with `mediaPlayer.setDataSource(path);` but I do not know how to get it.\r\n\r\n    protected void getSongs() {\r\n    \r\n            ContentResolver contentResolver = this.getContentResolver();\r\n            Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n            Cursor cursor = contentResolver.query(uri,null,MediaStore.Audio.Media.IS_MUSIC + &quot; = 1&quot;,null,null);\r\n    \r\n            if (cursor!=null&amp;&amp;cursor.moveToFirst()){\r\n                //retrieve index of columns\r\n                int artistColumn=cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST);\r\n                int albumColumn=cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM);\r\n                int titleColumn=cursor.getColumnIndex(MediaStore.Audio.Media.TITLE);\r\n                int durationColumn=cursor.getColumnIndex(MediaStore.Audio.Media.DURATION);\r\n                //get path somehow\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;Query failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\nThe method is not finished. I know I am missing a couple stuff but the only doubt that I cannot find is the path of the current cursor element.\r\n\r\nThanks in advance.","title":"get path of uri from a cursor on MediaStore","body":"<p>I am trying to do a Media Player and the first step for that is to scan all the songs available in the external storage of the device. After that I will store them on a list, but I got stuck in this first point. (I am not familiar with Uri or Cursor so I don't really know how they work even after researching on google and Stackoverflow for a while, and maybe that is the problem)</p>\n<p>I want to be able to store every song that the cursor gets in a list of a class Song, which will have artist, album, title, duration and path. I want to use the path later to reproduce the song with <code>mediaPlayer.setDataSource(path);</code> but I do not know how to get it.</p>\n<pre><code>protected void getSongs() {\n\n        ContentResolver contentResolver = this.getContentResolver();\n        Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        Cursor cursor = contentResolver.query(uri,null,MediaStore.Audio.Media.IS_MUSIC + &quot; = 1&quot;,null,null);\n\n        if (cursor!=null&amp;&amp;cursor.moveToFirst()){\n            //retrieve index of columns\n            int artistColumn=cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST);\n            int albumColumn=cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM);\n            int titleColumn=cursor.getColumnIndex(MediaStore.Audio.Media.TITLE);\n            int durationColumn=cursor.getColumnIndex(MediaStore.Audio.Media.DURATION);\n            //get path somehow\n        }\n        else {\n            Toast.makeText(this, &quot;Query failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n<p>The method is not finished. I know I am missing a couple stuff but the only doubt that I cannot find is the path of the current cursor element.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641563692,"creation_date":1641563692,"answer_id":70622244,"question_id":70611050,"body_markdown":"Can you please look into what is in the `&lt;security&gt;` section of your member config? Is `management-permission` enabled for the client? https://docs.hazelcast.com/imdg/4.2/security/native-client-security#permissions","title":"Server request error: Failed to get metadata of cluster dev","body":"<p>Can you please look into what is in the <code>&lt;security&gt;</code> section of your member config? Is <code>management-permission</code> enabled for the client? <a href=\"https://docs.hazelcast.com/imdg/4.2/security/native-client-security#permissions\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/imdg/4.2/security/native-client-security#permissions</a></p>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641563692,"creation_date":1641489792,"question_id":70611050,"body_markdown":"I am using Hazelcast in our product but Hazelcast Management Center always throw the error \r\n\r\n    Server request error: Failed to get metadata of cluster dev\r\n\r\nI started the Hazelcast Management Center like this\r\n\r\n     java - jar hazelcast-management-center-4.2021.12.jar\r\nIts starting with the following error \r\n\r\n    2022-01-06 23:03:53,076 [ INFO] [main] [c.h.w.c.BuildInfo]: Hazelcast Management Center 4.2021.12 (20211213 - 0c3d4fe), Jet client version: 4.5, Hazelcast client version: 4.2, embedded Jetty version: 9.4.43.v20210629\r\n    2022-01-06 23:03:55,973 [ INFO] [main] [c.h.w.c.SqlDbConfig]: Checking DB for required migrations.\r\n    2022-01-06 23:03:56,461 [ INFO] [main] [c.h.w.c.SqlDbConfig]: Number of applied DB migrations: 0.\r\n    2022-01-06 23:03:56,606 [ INFO] [main] [c.h.w.s.s.i.DisableLoginStrategy]: Login will be disabled for 5 seconds after 3 failed login attempts. For every 3 consecutive failed login attempts, disable period will be multiplied by 10.\r\n    2022-01-06 23:03:56,671 [ INFO] [main] [c.h.w.c.MetricsStorageConfig]: Initializing embedded metrics storage.\r\n    2022-01-06 23:03:59,140 [ INFO] [main] [c.h.w.s.ClusterManager]: Connecting to 1 enabled cluster(s) on startup.\r\n    2022-01-06 23:03:59,749 [ INFO] [MC-Client-dev.lifecycle-1] [c.h.w.s.MCClientManager]: MC Client connected to cluster dev.\r\n    2022-01-06 23:03:59,771 [ INFO] [MC-Client-dev.event-3] [c.h.w.s.MCClientManager]: Started communication with member: Member [127.0.0.1]:5701 - fabc704e-b8a1-4ea7-a236-cfb90706f843\r\n    2022-01-06 23:03:59,818 [ INFO] [AsyncExecutor-1] [c.h.w.s.ClusterMetadataStore]: Determined type of cluster dev as IMDG.\r\n    2022-01-06 23:03:59,817 [ERROR] [AsyncExecutor-2] [c.h.w.s.m.MemberConfigService]: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\r\n    com.google.common.util.concurrent.UncheckedExecutionException: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\r\n            at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache.get(LocalCache.java:3951) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4935) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService.getMemberConfig(MemberConfigService.java:83) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:1.8.0_222]\r\n            at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_222]\r\n            at java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556) ~[?:1.8.0_222]\r\n            at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_222]\r\n            at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_222]\r\n            at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:1.8.0_222]\r\n            at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:1.8.0_222]\r\n            at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_222]\r\n            at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485) ~[?:1.8.0_222]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService.memberStateAdded(MemberConfigService.java:78) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$$FastClassBySpringCGLIB$$8c8e9d94.invoke(&lt;generated&gt;) ~[?:?]\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_222]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_222]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_222]\r\n            at java.lang.Thread.run(Thread.java:748) [?:1.8.0_222]\r\n    Caused by: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:36) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            ... 24 more\r\n    Caused by: java.util.concurrent.ExecutionException: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\r\n            at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:121) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:645) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.spi.impl.DelegatingCompletableFuture.get(DelegatingCompletableFuture.java:118) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.lambda$executeOnMember$1(OperationDispatcher.java:56) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:34) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            ... 24 more\r\n    Caused by: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\r\n            at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:112) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_222]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_222]\r\n            at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_222]\r\n            at com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at ------ submitted from ------.() ~[?:?]\r\n            at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:645) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.spi.impl.DelegatingCompletableFuture.get(DelegatingCompletableFuture.java:118) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.lambda$executeOnMember$1(OperationDispatcher.java:56) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:34) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\r\n            ... 24 more\r\n    2022-01-06 23:04:00,535 [ INFO] [main] [c.h.w.Launcher]:\r\n    \r\n    Hazelcast Management Center successfully started at http://localhost:8080/\r\n\r\nAnd i am able to login into Hazelcast Management Center GUI and created a Cluster as well .\r\nBut that cluster will give always give error\r\n[![enter image description here][1]][1]\r\n\r\nI used Springboot 2.5.7,HazelCast 4.2.2\r\n\r\nHazelcast server started properly \r\n\r\n    2022-01-06 22:07:08,627 DEBUG | Running with Spring Boot v2.5.7, Spring v5.3.13\r\n    2022-01-06 22:07:08,628  INFO | No active profile set, falling back to default profiles: default\r\n    2022-01-06 22:07:13,252  INFO | [AciveMQ] Listener at tcp://0.0.0.0:32016\r\n    2022-01-06 22:07:13,611  WARN | Store limit is 102400 mb (current store usage is 0 mb). The data directory: /home/catalog20/POC_testing/installmp3dev/catalog/activemq-data/broker-nokia-60/KahaDB only has 4070 mb of usable space. - resetting to maximum available disk space: 4070 mb\r\n    2022-01-06 22:07:13,613  WARN | Temporary Store limit is 51200 mb (current store usage is 0 mb). The data directory: /home/catalog20/POC_testing/installmp3dev/catalog/activemq-data/broker-nokia-60 only has 4070 mb of usable space. - resetting to maximum available disk space: 4070 mb\r\n    2022-01-06 22:07:13,754  INFO | Cache members 127.0.0.1\r\n    2022-01-06 22:07:13,839  INFO | [LOCAL] [dev] [4.2.2] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [127.0.0.1]\r\n    2022-01-06 22:07:13,877  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Hazelcast 4.2.2 (20210811 - c38011e) starting at [127.0.0.1]:5701\r\n    2022-01-06 22:07:14,579  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Using TCP/IP discovery\r\n    2022-01-06 22:07:14,581  WARN | [127.0.0.1]:5701 [dev] [4.2.2] CP Subsystem is not enabled. CP data structures will operate in UNSAFE mode! Please note that UNSAFE mode will not provide strong consistency guarantees.\r\n    2022-01-06 22:07:14,980  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n    2022-01-06 22:07:14,988  INFO | [127.0.0.1]:5701 [dev] [4.2.2] [127.0.0.1]:5701 is STARTING\r\n    2022-01-06 22:07:15,020  INFO | [127.0.0.1]:5701 [dev] [4.2.2]\r\n    \r\n    Members {size:1, ver:1} [\r\n            Member [127.0.0.1]:5701 - fabc704e-b8a1-4ea7-a236-cfb90706f843 this\r\n    ]\r\n    \r\n    2022-01-06 22:07:15,036  INFO | [127.0.0.1]:5701 [dev] [4.2.2] [127.0.0.1]:5701 is STARTED\r\n    2022-01-06 22:07:16,244  INFO | Successfully acquired change log lock\r\n    2022-01-06 22:07:17,154  INFO | Reading from catpodmp3.databasechangelog\r\n    2022-01-06 22:07:17,393  INFO | Successfully released change log lock\r\n    2022-01-06 22:07:17,400  INFO | Successfully acquired change log lock\r\n    2022-01-06 22:07:17,401  WARN | Skipping auto-registration\r\n    2022-01-06 22:07:17,521  INFO | Successfully released change log lock\r\n    2022-01-06 22:07:17,654  INFO | HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-01-06 22:07:17,796  INFO | HHH000412: Hibernate ORM core version 5.4.32.Final\r\n    2022-01-06 22:07:18,116  INFO | HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-01-06 22:07:18,844  INFO | HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2022-01-06 22:07:21,757  INFO | HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-01-06 22:07:23,124  INFO | Starting service [Tomcat]\r\n    2022-01-06 22:07:23,125  INFO | Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n    2022-01-06 22:07:23,902  INFO | At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    2022-01-06 22:07:24,153  INFO | Initializing Spring embedded WebApplicationContext\r\n    2022-01-06 22:07:25,123  INFO | Updating Version.\r\n    2022-01-06 22:07:25,140 DEBUG | Delete from catpodmp3.VERSION\r\n    2022-01-06 22:07:25,147 DEBUG | Insert into catpodmp3.VERSION (MAJOR_VERSION_NUMBER,MINOR_VERSION_NUMBER,MAINTENANCE_VERSION_NUMBER,RELEASE_NUMBER,LAST_UPDATE) values (19,0,0,0,current_date)\r\n    2022-01-06 22:07:25,149  INFO | classpath:db/upgrade/update-version.sql: 2 sql(s) executed.\r\n    2022-01-06 22:07:25,149  INFO | Updating System parameter &#39;MINIMUM SPECIAL CHARACTERS&#39;.\r\n    2022-01-06 22:07:25,159  INFO | classpath:db/upgrade/check_sysparam_min-special-char_exists.sql: 1 sql(s) executed.\r\n    2022-01-06 22:07:25,159  INFO | System parameter &#39;MINIMUM SPECIAL CHARACTERS&#39; already exists.\r\n    2022-01-06 22:07:28,036  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Date\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Catalog\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: CatalogEndpoint\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: UserGroup\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ItemInformation\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: TransactionParameter\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: TransactionParameterValue\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Events\r\n    2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Information\r\n    2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: YesNo\r\n    2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterParentToEmbeddedInput\r\n    2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterEmbeddedToEmbeddedInput\r\n    2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterEmbeddedToParentInput\r\n    2022-01-06 22:07:28,596  INFO | Retrying the connection!!\r\n    2022-01-06 22:07:28,597  INFO | Using existing Hazelcast instance with name [catalog] for session replication\r\n    2022-01-06 22:07:28,630  INFO | Successfully Connected!\r\n    2022-01-06 22:07:28,669  WARN | Translator Plugin Folder does not exist, no plugin loaded! dir=[]\r\n    2022-01-06 22:07:29,482  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Initializing cluster partition table arrangement...\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ka0SA.png\r\n  [2]: https://i.stack.imgur.com/kzy6E.png","title":"Server request error: Failed to get metadata of cluster dev","body":"<p>I am using Hazelcast in our product but Hazelcast Management Center always throw the error</p>\n<pre><code>Server request error: Failed to get metadata of cluster dev\n</code></pre>\n<p>I started the Hazelcast Management Center like this</p>\n<pre><code> java - jar hazelcast-management-center-4.2021.12.jar\n</code></pre>\n<p>Its starting with the following error</p>\n<pre><code>2022-01-06 23:03:53,076 [ INFO] [main] [c.h.w.c.BuildInfo]: Hazelcast Management Center 4.2021.12 (20211213 - 0c3d4fe), Jet client version: 4.5, Hazelcast client version: 4.2, embedded Jetty version: 9.4.43.v20210629\n2022-01-06 23:03:55,973 [ INFO] [main] [c.h.w.c.SqlDbConfig]: Checking DB for required migrations.\n2022-01-06 23:03:56,461 [ INFO] [main] [c.h.w.c.SqlDbConfig]: Number of applied DB migrations: 0.\n2022-01-06 23:03:56,606 [ INFO] [main] [c.h.w.s.s.i.DisableLoginStrategy]: Login will be disabled for 5 seconds after 3 failed login attempts. For every 3 consecutive failed login attempts, disable period will be multiplied by 10.\n2022-01-06 23:03:56,671 [ INFO] [main] [c.h.w.c.MetricsStorageConfig]: Initializing embedded metrics storage.\n2022-01-06 23:03:59,140 [ INFO] [main] [c.h.w.s.ClusterManager]: Connecting to 1 enabled cluster(s) on startup.\n2022-01-06 23:03:59,749 [ INFO] [MC-Client-dev.lifecycle-1] [c.h.w.s.MCClientManager]: MC Client connected to cluster dev.\n2022-01-06 23:03:59,771 [ INFO] [MC-Client-dev.event-3] [c.h.w.s.MCClientManager]: Started communication with member: Member [127.0.0.1]:5701 - fabc704e-b8a1-4ea7-a236-cfb90706f843\n2022-01-06 23:03:59,818 [ INFO] [AsyncExecutor-1] [c.h.w.s.ClusterMetadataStore]: Determined type of cluster dev as IMDG.\n2022-01-06 23:03:59,817 [ERROR] [AsyncExecutor-2] [c.h.w.s.m.MemberConfigService]: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\ncom.google.common.util.concurrent.UncheckedExecutionException: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache.get(LocalCache.java:3951) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4935) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService.getMemberConfig(MemberConfigService.java:83) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:1.8.0_222]\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_222]\n        at java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556) ~[?:1.8.0_222]\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_222]\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_222]\n        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:1.8.0_222]\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:1.8.0_222]\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_222]\n        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485) ~[?:1.8.0_222]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService.memberStateAdded(MemberConfigService.java:78) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$$FastClassBySpringCGLIB$$8c8e9d94.invoke(&lt;generated&gt;) ~[?:?]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_222]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_222]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_222]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_222]\nCaused by: com.hazelcast.webmonitor.controller.exception.OperationFailedApiException: failed to get remote config: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\n        at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:36) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\n        ... 24 more\nCaused by: java.util.concurrent.ExecutionException: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\n        at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:121) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:645) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.spi.impl.DelegatingCompletableFuture.get(DelegatingCompletableFuture.java:118) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.lambda$executeOnMember$1(OperationDispatcher.java:56) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:34) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\n        ... 24 more\nCaused by: java.security.AccessControlException: The client address [127.0.0.1]:21600 is not allowed for management task com.hazelcast.client.impl.protocol.task.management.GetMemberConfigMessageTask\n        at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:112) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_222]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_222]\n        at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_222]\n        at com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at ------ submitted from ------.() ~[?:?]\n        at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:645) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.spi.impl.DelegatingCompletableFuture.get(DelegatingCompletableFuture.java:118) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.lambda$executeOnMember$1(OperationDispatcher.java:56) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.wrapException(OperationDispatcher.java:34) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.OperationDispatcher.executeOnMember(OperationDispatcher.java:51) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:63) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.hazelcast.webmonitor.service.memberconfig.MemberConfigService$1.load(MemberConfigService.java:60) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155) ~[hazelcast-management-center-4.2021.12.jar:?]\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045) ~[hazelcast-management-center-4.2021.12.jar:?]\n        ... 24 more\n2022-01-06 23:04:00,535 [ INFO] [main] [c.h.w.Launcher]:\n\nHazelcast Management Center successfully started at http://localhost:8080/\n</code></pre>\n<p>And i am able to login into Hazelcast Management Center GUI and created a Cluster as well .\nBut that cluster will give always give error\n<a href=\"https://i.stack.imgur.com/ka0SA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ka0SA.png\" alt=\"enter image description here\" /></a></p>\n<p>I used Springboot 2.5.7,HazelCast 4.2.2</p>\n<p>Hazelcast server started properly</p>\n<pre><code>2022-01-06 22:07:08,627 DEBUG | Running with Spring Boot v2.5.7, Spring v5.3.13\n2022-01-06 22:07:08,628  INFO | No active profile set, falling back to default profiles: default\n2022-01-06 22:07:13,252  INFO | [AciveMQ] Listener at tcp://0.0.0.0:32016\n2022-01-06 22:07:13,611  WARN | Store limit is 102400 mb (current store usage is 0 mb). The data directory: /home/catalog20/POC_testing/installmp3dev/catalog/activemq-data/broker-nokia-60/KahaDB only has 4070 mb of usable space. - resetting to maximum available disk space: 4070 mb\n2022-01-06 22:07:13,613  WARN | Temporary Store limit is 51200 mb (current store usage is 0 mb). The data directory: /home/catalog20/POC_testing/installmp3dev/catalog/activemq-data/broker-nokia-60 only has 4070 mb of usable space. - resetting to maximum available disk space: 4070 mb\n2022-01-06 22:07:13,754  INFO | Cache members 127.0.0.1\n2022-01-06 22:07:13,839  INFO | [LOCAL] [dev] [4.2.2] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [127.0.0.1]\n2022-01-06 22:07:13,877  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Hazelcast 4.2.2 (20210811 - c38011e) starting at [127.0.0.1]:5701\n2022-01-06 22:07:14,579  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Using TCP/IP discovery\n2022-01-06 22:07:14,581  WARN | [127.0.0.1]:5701 [dev] [4.2.2] CP Subsystem is not enabled. CP data structures will operate in UNSAFE mode! Please note that UNSAFE mode will not provide strong consistency guarantees.\n2022-01-06 22:07:14,980  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\n2022-01-06 22:07:14,988  INFO | [127.0.0.1]:5701 [dev] [4.2.2] [127.0.0.1]:5701 is STARTING\n2022-01-06 22:07:15,020  INFO | [127.0.0.1]:5701 [dev] [4.2.2]\n\nMembers {size:1, ver:1} [\n        Member [127.0.0.1]:5701 - fabc704e-b8a1-4ea7-a236-cfb90706f843 this\n]\n\n2022-01-06 22:07:15,036  INFO | [127.0.0.1]:5701 [dev] [4.2.2] [127.0.0.1]:5701 is STARTED\n2022-01-06 22:07:16,244  INFO | Successfully acquired change log lock\n2022-01-06 22:07:17,154  INFO | Reading from catpodmp3.databasechangelog\n2022-01-06 22:07:17,393  INFO | Successfully released change log lock\n2022-01-06 22:07:17,400  INFO | Successfully acquired change log lock\n2022-01-06 22:07:17,401  WARN | Skipping auto-registration\n2022-01-06 22:07:17,521  INFO | Successfully released change log lock\n2022-01-06 22:07:17,654  INFO | HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-01-06 22:07:17,796  INFO | HHH000412: Hibernate ORM core version 5.4.32.Final\n2022-01-06 22:07:18,116  INFO | HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-01-06 22:07:18,844  INFO | HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2022-01-06 22:07:21,757  INFO | HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-01-06 22:07:23,124  INFO | Starting service [Tomcat]\n2022-01-06 22:07:23,125  INFO | Starting Servlet engine: [Apache Tomcat/9.0.55]\n2022-01-06 22:07:23,902  INFO | At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2022-01-06 22:07:24,153  INFO | Initializing Spring embedded WebApplicationContext\n2022-01-06 22:07:25,123  INFO | Updating Version.\n2022-01-06 22:07:25,140 DEBUG | Delete from catpodmp3.VERSION\n2022-01-06 22:07:25,147 DEBUG | Insert into catpodmp3.VERSION (MAJOR_VERSION_NUMBER,MINOR_VERSION_NUMBER,MAINTENANCE_VERSION_NUMBER,RELEASE_NUMBER,LAST_UPDATE) values (19,0,0,0,current_date)\n2022-01-06 22:07:25,149  INFO | classpath:db/upgrade/update-version.sql: 2 sql(s) executed.\n2022-01-06 22:07:25,149  INFO | Updating System parameter 'MINIMUM SPECIAL CHARACTERS'.\n2022-01-06 22:07:25,159  INFO | classpath:db/upgrade/check_sysparam_min-special-char_exists.sql: 1 sql(s) executed.\n2022-01-06 22:07:25,159  INFO | System parameter 'MINIMUM SPECIAL CHARACTERS' already exists.\n2022-01-06 22:07:28,036  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Date\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Catalog\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: CatalogEndpoint\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: UserGroup\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ItemInformation\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: TransactionParameter\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: TransactionParameterValue\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Events\n2022-01-06 22:07:28,037  WARN | Schema type was defined but can never be accessed, and can be safely deleted: Information\n2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: YesNo\n2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterParentToEmbeddedInput\n2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterEmbeddedToEmbeddedInput\n2022-01-06 22:07:28,038  WARN | Schema type was defined but can never be accessed, and can be safely deleted: ParameterEmbeddedToParentInput\n2022-01-06 22:07:28,596  INFO | Retrying the connection!!\n2022-01-06 22:07:28,597  INFO | Using existing Hazelcast instance with name [catalog] for session replication\n2022-01-06 22:07:28,630  INFO | Successfully Connected!\n2022-01-06 22:07:28,669  WARN | Translator Plugin Folder does not exist, no plugin loaded! dir=[]\n2022-01-06 22:07:29,482  INFO | [127.0.0.1]:5701 [dev] [4.2.2] Initializing cluster partition table arrangement...\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kzy6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzy6E.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1525318153,"post_id":49980485,"comment_id":87311129,"body_markdown":"Does the answer solving your question? If so, why you don&#39;t accept the answer? If not, why you don&#39;t comment this somehow?","body":"Does the answer solving your question? If so, why you don&#39;t accept the answer? If not, why you don&#39;t comment this somehow?"}],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524488653,"creation_date":1524488653,"answer_id":49981834,"question_id":49980485,"body_markdown":"Try to perfrom following code on your date column:\r\n\r\n\r\n\r\n\tpivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).setAxis(STAxis.AXIS_COL)\r\n\tpivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).addNewItems();\r\n\tpivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).getItems().addNewItem()\r\n\t\t\t\t.setT(STItemType.DEFAULT);\r\n\r\n\r\nReplace the `5` with the number you need (I assume `2`). This code turns the axis of the column\r\n","title":"Apache POI pivot table with horizontal columns","body":"<p>Try to perfrom following code on your date column:</p>\n\n<pre><code>pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).setAxis(STAxis.AXIS_COL)\npivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).addNewItems();\npivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(5).getItems().addNewItem()\n            .setT(STItemType.DEFAULT);\n</code></pre>\n\n<p>Replace the <code>5</code> with the number you need (I assume <code>2</code>). This code turns the axis of the column</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1527497989,"creation_date":1527325020,"answer_id":50541043,"question_id":49980485,"body_markdown":"As it&#39;s name tells `addRowLabel` adds a row label. But you wants column `C` (2) of your `data` sheet to be a column label. Up to `apache poi` version 3.17, the only way to achieve this is using the underlaying  low level objects. But this needs knowledge about the internals of pivot tables.\r\n\r\nBest way to investigate the internals is creating a `*.xlsx` file having a pivot table using `Excel`&#39;s GUI. This `*.xlsx` file is nothing else than a `ZIP` archive. So we can unzip it and taking a look into. There we will find `XML` files for the worksheets in `/xl/worksheets`, the pivot table definitions in `/xl/pivotTables` and the pivot caches in `/xl/pivotCache`. According to this `XML` we then can programming using the low level objects of package `org.openxmlformats.schemas.spreadsheetml.x2006.main.*`.\r\n\r\nExample:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    class PivotTableCreating {\r\n    \r\n     public static void main(String[] args) throws Exception{\r\n     \r\n      XSSFWorkbook wb = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;PivotExample.xlsx&quot;));\r\n    \r\n      XSSFSheet pivotSheet = wb.createSheet(&quot;pivot&quot;);\r\n    \r\n      XSSFSheet dataSheet = wb.getSheet(&quot;data&quot;);\r\n      int lastRowNum = dataSheet.getLastRowNum();\r\n    \r\n      XSSFPivotTable pivotTable = pivotSheet.createPivotTable(\r\n       new AreaReference(new CellReference(&quot;data!A1&quot;), new CellReference(&quot;data!D&quot; + (lastRowNum+1)), \r\n       SpreadsheetVersion.EXCEL2007),\r\n       new CellReference(&quot;A5&quot;));\r\n    \r\n      pivotTable.addRowLabel(1);\r\n    \r\n      pivotTable.addRowLabel(2); //column C as a row label = RowField and AXIS_ROW\r\n    \r\n      //do changing column C as a col label\r\n      pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(2)\r\n       .setAxis(org.openxmlformats.schemas.spreadsheetml.x2006.main.STAxis.AXIS_COL); //AXIS_COL\r\n    \r\n      //remove column C from RowFields\r\n      pivotTable.getCTPivotTableDefinition().getRowFields().removeField(1); \r\n      pivotTable.getCTPivotTableDefinition().getRowFields().setCount(1);\r\n    \r\n      //create ColFields for column C\r\n      pivotTable.getCTPivotTableDefinition().addNewColFields().addNewField().setX(2); \r\n      pivotTable.getCTPivotTableDefinition().getColFields().setCount(1);\r\n    \r\n      pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3);\r\n    \r\n      wb.write(new FileOutputStream(&quot;PivotExampleNew.xlsx&quot;));\r\n      wb.close();\r\n    \r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs shown in the `API` -  [XSSFPivotTable](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFPivotTable.html) there is further development (`addColLabel`). But the current (May 2018) latest stable version `apache poi` version 3.17 does not providing this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WcjSV.png\r\n  [2]: https://i.stack.imgur.com/QoRVm.png","title":"Apache POI pivot table with horizontal columns","body":"<p>As it's name tells <code>addRowLabel</code> adds a row label. But you wants column <code>C</code> (2) of your <code>data</code> sheet to be a column label. Up to <code>apache poi</code> version 3.17, the only way to achieve this is using the underlaying  low level objects. But this needs knowledge about the internals of pivot tables.</p>\n\n<p>Best way to investigate the internals is creating a <code>*.xlsx</code> file having a pivot table using <code>Excel</code>'s GUI. This <code>*.xlsx</code> file is nothing else than a <code>ZIP</code> archive. So we can unzip it and taking a look into. There we will find <code>XML</code> files for the worksheets in <code>/xl/worksheets</code>, the pivot table definitions in <code>/xl/pivotTables</code> and the pivot caches in <code>/xl/pivotCache</code>. According to this <code>XML</code> we then can programming using the low level objects of package <code>org.openxmlformats.schemas.spreadsheetml.x2006.main.*</code>.</p>\n\n<p>Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WcjSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcjSV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>import org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.ss.SpreadsheetVersion;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nclass PivotTableCreating {\n\n public static void main(String[] args) throws Exception{\n\n  XSSFWorkbook wb = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(\"PivotExample.xlsx\"));\n\n  XSSFSheet pivotSheet = wb.createSheet(\"pivot\");\n\n  XSSFSheet dataSheet = wb.getSheet(\"data\");\n  int lastRowNum = dataSheet.getLastRowNum();\n\n  XSSFPivotTable pivotTable = pivotSheet.createPivotTable(\n   new AreaReference(new CellReference(\"data!A1\"), new CellReference(\"data!D\" + (lastRowNum+1)), \n   SpreadsheetVersion.EXCEL2007),\n   new CellReference(\"A5\"));\n\n  pivotTable.addRowLabel(1);\n\n  pivotTable.addRowLabel(2); //column C as a row label = RowField and AXIS_ROW\n\n  //do changing column C as a col label\n  pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldArray(2)\n   .setAxis(org.openxmlformats.schemas.spreadsheetml.x2006.main.STAxis.AXIS_COL); //AXIS_COL\n\n  //remove column C from RowFields\n  pivotTable.getCTPivotTableDefinition().getRowFields().removeField(1); \n  pivotTable.getCTPivotTableDefinition().getRowFields().setCount(1);\n\n  //create ColFields for column C\n  pivotTable.getCTPivotTableDefinition().addNewColFields().addNewField().setX(2); \n  pivotTable.getCTPivotTableDefinition().getColFields().setCount(1);\n\n  pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3);\n\n  wb.write(new FileOutputStream(\"PivotExampleNew.xlsx\"));\n  wb.close();\n\n }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QoRVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QoRVm.png\" alt=\"enter image description here\"></a></p>\n\n<p>As shown in the <code>API</code> -  <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFPivotTable.html\" rel=\"nofollow noreferrer\">XSSFPivotTable</a> there is further development (<code>addColLabel</code>). But the current (May 2018) latest stable version <code>apache poi</code> version 3.17 does not providing this.</p>\n"}],"owner":{"account_id":1543619,"reputation":98,"user_id":1437694,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50541043,"answer_count":2,"score":0,"last_activity_date":1641563450,"creation_date":1524484481,"question_id":49980485,"body_markdown":"I hava data for excel like this \r\n[![enter image description here][1]][1]\r\nWhen I want to generate pivot table with code below\r\n\r\n  \r\n\r\n    XSSFSheet pivot = wb.createSheet(&quot;pivot&quot;);\r\n    AreaReference areaReference = new AreaReference(&quot;A2:D&quot; + i, SpreadsheetVersion.EXCEL2007);\r\n    CellReference cellReference = new CellReference(&quot;A1&quot;);\r\n    \r\n    XSSFPivotTable pivotTable = pivot.createPivotTable(areaReference, cellReference, sheet);\r\n    \r\n    pivotTable.addRowLabel(1);\r\n    pivotTable.addRowLabel(2);\r\n    \r\n    pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3);\r\n\r\nI got next result \r\n[![enter image description here][2]][2]\r\nBut want something like this\r\n[![enter image description here][3]][3]\r\n\r\nWhat I do wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTaSG.png\r\n  [2]: https://i.stack.imgur.com/p4GMP.png\r\n  [3]: https://i.stack.imgur.com/3BTGn.png\r\n","title":"Apache POI pivot table with horizontal columns","body":"<p>I hava data for excel like this \n<a href=\"https://i.stack.imgur.com/iTaSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTaSG.png\" alt=\"enter image description here\"></a>\nWhen I want to generate pivot table with code below</p>\n\n<pre><code>XSSFSheet pivot = wb.createSheet(\"pivot\");\nAreaReference areaReference = new AreaReference(\"A2:D\" + i, SpreadsheetVersion.EXCEL2007);\nCellReference cellReference = new CellReference(\"A1\");\n\nXSSFPivotTable pivotTable = pivot.createPivotTable(areaReference, cellReference, sheet);\n\npivotTable.addRowLabel(1);\npivotTable.addRowLabel(2);\n\npivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3);\n</code></pre>\n\n<p>I got next result \n<a href=\"https://i.stack.imgur.com/p4GMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4GMP.png\" alt=\"enter image description here\"></a>\nBut want something like this\n<a href=\"https://i.stack.imgur.com/3BTGn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BTGn.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I do wrong?</p>\n"},{"tags":["java","chat","bots","chatbot","aiml"],"answers":[{"tags":[],"owner":{"account_id":7783764,"reputation":20,"user_id":5889363,"display_name":"Hydrox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454695020,"creation_date":1454695020,"answer_id":35230553,"question_id":35230338,"body_markdown":"If you want to make this with a window you can use a jtextfield and add a actionlistener to it and if you want to make this with the console then use a input \r\n\r\nthen get the message aka store it in a variable and then do this in your respond method \r\n\r\n`if(STRINGVARIABLENAME.contains(&quot;Your word that you want it to check if it contains&quot;)) {\r\nthen make the bot respond by Console or just do JTEXTFIELDNAME.setText(&quot;ANSWER HERE&quot;)\r\n}`\r\n\r\nand add as many response possibilities by doing a else if after the if like this\r\n\r\n`if(){\r\n} else if(STRINGVARIABLENAME.contains(&quot;&quot;)){\r\n}`\r\n\r\nyou can do this as many times as you want and there you have your chat bot :D","title":"how to make an virtual chat bot in java?","body":"<p>If you want to make this with a window you can use a jtextfield and add a actionlistener to it and if you want to make this with the console then use a input </p>\n\n<p>then get the message aka store it in a variable and then do this in your respond method </p>\n\n<p><code>if(STRINGVARIABLENAME.contains(\"Your word that you want it to check if it contains\")) {\nthen make the bot respond by Console or just do JTEXTFIELDNAME.setText(\"ANSWER HERE\")\n}</code></p>\n\n<p>and add as many response possibilities by doing a else if after the if like this</p>\n\n<p><code>if(){\n} else if(STRINGVARIABLENAME.contains(\"\")){\n}</code></p>\n\n<p>you can do this as many times as you want and there you have your chat bot :D</p>\n"}],"owner":{"account_id":7782605,"reputation":7,"user_id":5888560,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":941,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1641629857,"accepted_answer_id":35230553,"answer_count":1,"score":-4,"last_activity_date":1641563302,"creation_date":1454694242,"question_id":35230338,"body_markdown":"I want to make an chat bot in Java but I don&#39;t know how to start?\r\nI&#39;ve tried the following code but not get what I exactly need.\r\nin this program I had to write every possibilities of questions.\r\nif any one have solution please help me.\r\n\r\n\r\n\r\n    import java.io.*;\r\n    \r\n    public class Chatbot \r\n    {\r\n\tpublic static void main(String[]args) throws IOException\r\n\t{\r\n\t\tString hel = new String(&quot;Hello&quot;);\r\n\t\tString hel1 = new String(&quot;HELLO&quot;);\r\n\t\tString hel2 = new String(&quot;hello&quot;);\r\n\t\tString hel3 = new String(&quot;Hii&quot;);\r\n\t\tString hel4 = new String(&quot;Hiii&quot;);\r\n\t\tString hel5 = new String(&quot;hii&quot;);\r\n\t\tString hel6 = new String(&quot;hiii&quot;);\r\n\t\t\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tSystem.out.println(&quot;What is Your Name?&quot;);\r\n\t\t\tString name = br.readLine();\r\n\t\t\tSystem.out.println(&quot;Hello &quot;+name+&quot;..&quot;);\r\n\t\t\tString hellorep = br.readLine();\r\n\t\t\tif(hellorep .equals(hel))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hello there...&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel1))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hello there...&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel2))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hello there...&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel3))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hii&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel4))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hiii&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel5))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hii&quot;);\r\n\t\t\t}\r\n\t\t\telse if(hellorep .equals(hel6))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Hiii&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Please type Again I Didn&#39;t get you..&quot;);\r\n\t\t\t}\r\n\t    }\r\n    }\r\n","title":"how to make an virtual chat bot in java?","body":"<p>I want to make an chat bot in Java but I don't know how to start?\nI've tried the following code but not get what I exactly need.\nin this program I had to write every possibilities of questions.\nif any one have solution please help me.</p>\n\n<pre><code>import java.io.*;\n\npublic class Chatbot \n{\npublic static void main(String[]args) throws IOException\n{\n    String hel = new String(\"Hello\");\n    String hel1 = new String(\"HELLO\");\n    String hel2 = new String(\"hello\");\n    String hel3 = new String(\"Hii\");\n    String hel4 = new String(\"Hiii\");\n    String hel5 = new String(\"hii\");\n    String hel6 = new String(\"hiii\");\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"What is Your Name?\");\n        String name = br.readLine();\n        System.out.println(\"Hello \"+name+\"..\");\n        String hellorep = br.readLine();\n        if(hellorep .equals(hel))\n        {\n            System.out.println(\"Hello there...\");\n        }\n        else if(hellorep .equals(hel1))\n        {\n            System.out.println(\"Hello there...\");\n        }\n        else if(hellorep .equals(hel2))\n        {\n            System.out.println(\"Hello there...\");\n        }\n        else if(hellorep .equals(hel3))\n        {\n            System.out.println(\"Hii\");\n        }\n        else if(hellorep .equals(hel4))\n        {\n            System.out.println(\"Hiii\");\n        }\n        else if(hellorep .equals(hel5))\n        {\n            System.out.println(\"Hii\");\n        }\n        else if(hellorep .equals(hel6))\n        {\n            System.out.println(\"Hiii\");\n        }\n        else\n        {\n            System.out.println(\"Please type Again I Didn't get you..\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","pdf","selenium-webdriver"],"comments":[{"owner":{"account_id":6118319,"reputation":719,"user_id":4772631,"display_name":"Johnny C"},"score":0,"creation_date":1452796800,"post_id":34797042,"comment_id":57337606,"body_markdown":"is the expected result to open a new tab with the PDF in all major browsers? what if you get the download pdf dialog: Save/Open?","body":"is the expected result to open a new tab with the PDF in all major browsers? what if you get the download pdf dialog: Save/Open?"},{"owner":{"account_id":2431623,"reputation":475,"user_id":2122388,"accept_rate":26,"display_name":"zeal"},"score":0,"creation_date":1452840210,"post_id":34797042,"comment_id":57353647,"body_markdown":"No, the expected result is to open PDF containing page in a new window - not in tab. There won&#39;t be any download dialog with save/open...","body":"No, the expected result is to open PDF containing page in a new window - not in tab. There won&#39;t be any download dialog with save/open..."}],"answers":[{"tags":[],"owner":{"account_id":3562578,"reputation":159,"user_id":2975083,"display_name":"misterjake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452806655,"creation_date":1452806655,"answer_id":34800015,"question_id":34797042,"body_markdown":"So if you only need to check that a new window is open:\r\n\r\n    int oldWindowCount = driver.getWindowHandles().size();\r\n    driver.findElement(&lt;By locator for hyperlink here&gt;).click();\r\n    int newWindowCount = driver.getWindowHandles().size();\r\n    Assert.assertEquals(1, newWindowCount - oldWindowCount);\r\n\r\nAssuming you have no more than two windows open, if you want to switch between your current window and the new one:\r\n\r\n    String oldWindow = driver.getWindowHandle();\r\n    driver.findElement(&lt;By locator for hyperlink here&gt;).click();\r\n    for (String handle : driver.getWindowHandles()) {\r\n        if (!handle.equals(oldWindow)) {\r\n            driver.switchTo().window(handle);\r\n        }\r\n    }","title":"Switching to PDF Containing Window - Selenium","body":"<p>So if you only need to check that a new window is open:</p>\n\n<pre><code>int oldWindowCount = driver.getWindowHandles().size();\ndriver.findElement(&lt;By locator for hyperlink here&gt;).click();\nint newWindowCount = driver.getWindowHandles().size();\nAssert.assertEquals(1, newWindowCount - oldWindowCount);\n</code></pre>\n\n<p>Assuming you have no more than two windows open, if you want to switch between your current window and the new one:</p>\n\n<pre><code>String oldWindow = driver.getWindowHandle();\ndriver.findElement(&lt;By locator for hyperlink here&gt;).click();\nfor (String handle : driver.getWindowHandles()) {\n    if (!handle.equals(oldWindow)) {\n        driver.switchTo().window(handle);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8795958,"reputation":111,"user_id":6573853,"accept_rate":75,"display_name":"Prakash.AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468822044,"creation_date":1468822044,"answer_id":38429589,"question_id":34797042,"body_markdown":"When you click on Generate PDF Link, there are two ways it can happen,\r\n\r\n1. new browser window opens up\r\n2. new OS based (desktop based) window opens up.\r\n\r\nif it is a browser based window, you should be able to debug with timers or getWindowHandles\r\n\r\nif it is a desktop based window, use ROBOT framework \r\n\r\n[http://robotframework.googlecode.com/hg/doc/quickstart/quickstart.html][1]\r\n\r\n\r\n\r\n\r\nor AutoIT is good alternative  \r\n\r\n[AUTO IT reference to handle windows pop up][2]\r\n\r\n\r\n  [1]: http://robotframework.googlecode.com/hg/doc/quickstart/quickstart.html\r\n  [2]: https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiM89yVrPzNAhWJMo8KHROTDRoQFggmMAE&amp;url=http%3A%2F%2Fwww.softwaretestinghelp.com%2Fautoit-tutorial-to-download-write-autoit-script%2F&amp;usg=AFQjCNHLEIBOsbmMbr4j8MGW0A9_6JMemA&amp;sig2=0NjQuH1yjUHnitSW9J4U4w","title":"Switching to PDF Containing Window - Selenium","body":"<p>When you click on Generate PDF Link, there are two ways it can happen,</p>\n\n<ol>\n<li>new browser window opens up</li>\n<li>new OS based (desktop based) window opens up.</li>\n</ol>\n\n<p>if it is a browser based window, you should be able to debug with timers or getWindowHandles</p>\n\n<p>if it is a desktop based window, use ROBOT framework </p>\n\n<p><a href=\"http://robotframework.googlecode.com/hg/doc/quickstart/quickstart.html\" rel=\"nofollow\">http://robotframework.googlecode.com/hg/doc/quickstart/quickstart.html</a></p>\n\n<p>or AutoIT is good alternative  </p>\n\n<p><a href=\"https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiM89yVrPzNAhWJMo8KHROTDRoQFggmMAE&amp;url=http%3A%2F%2Fwww.softwaretestinghelp.com%2Fautoit-tutorial-to-download-write-autoit-script%2F&amp;usg=AFQjCNHLEIBOsbmMbr4j8MGW0A9_6JMemA&amp;sig2=0NjQuH1yjUHnitSW9J4U4w\" rel=\"nofollow\">AUTO IT reference to handle windows pop up</a></p>\n"},{"tags":[],"owner":{"account_id":10508216,"reputation":1,"user_id":7744747,"display_name":"Faruk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641563243,"creation_date":1641562735,"answer_id":70622084,"question_id":34797042,"body_markdown":"You can write like this:\r\n\r\n    String currentWindowHandle = driver.getWindowHandle();\r\n\r\n    Set&lt;String&gt; windowHandles = driver.getWindowHandles(); //gives the handles of all opened windows\r\n    for (String windowHandle : windowHandles) {\r\n        if (!windowHandle.contains(currentWindowHandle)) {\r\n            driver.switchTo().window(windowHandle); //Switching to the new tab\r\n\r\n            driver.switchTo().window(currentWindowHandle); //Returning to the previous page\r\n        }\r\n    }","title":"Switching to PDF Containing Window - Selenium","body":"<p>You can write like this:</p>\n<pre><code>String currentWindowHandle = driver.getWindowHandle();\n\nSet&lt;String&gt; windowHandles = driver.getWindowHandles(); //gives the handles of all opened windows\nfor (String windowHandle : windowHandles) {\n    if (!windowHandle.contains(currentWindowHandle)) {\n        driver.switchTo().window(windowHandle); //Switching to the new tab\n\n        driver.switchTo().window(currentWindowHandle); //Returning to the previous page\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2431623,"reputation":475,"user_id":2122388,"accept_rate":26,"display_name":"zeal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641563243,"creation_date":1452796022,"question_id":34797042,"body_markdown":"I&#39;m trying to verify whether a new windows is opened while clicking on &#39;Generate PDF&#39; hyperlink. I don&#39;t need to validate the PDF contents, just looking to ensure that a new window is opened while clicking the test link.\r\n\r\nI have already tried with window handles code below, but it didn&#39;t work...!!!\r\n\r\n    String strCurrWind = driver.getWindowHandle();\r\n    \t\tfor(String strTempWind:driver.getWindowHandles()) {\r\n    \t\t\tdriver.switchTo().window(strTempWind);\r\n    \t\t}\r\n    \t\t\r\n    \t\tString strPDFUrl = driver.getCurrentUrl();\r\n    \t\tdriver.close();\r\n    \t\tdriver.switchTo().window(strCurrWind);\r\n\r\nPlease help me with some suggestions.... Thanks!","title":"Switching to PDF Containing Window - Selenium","body":"<p>I'm trying to verify whether a new windows is opened while clicking on 'Generate PDF' hyperlink. I don't need to validate the PDF contents, just looking to ensure that a new window is opened while clicking the test link.</p>\n\n<p>I have already tried with window handles code below, but it didn't work...!!!</p>\n\n<pre><code>String strCurrWind = driver.getWindowHandle();\n        for(String strTempWind:driver.getWindowHandles()) {\n            driver.switchTo().window(strTempWind);\n        }\n\n        String strPDFUrl = driver.getCurrentUrl();\n        driver.close();\n        driver.switchTo().window(strCurrWind);\n</code></pre>\n\n<p>Please help me with some suggestions.... Thanks!</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641563236,"creation_date":1641563236,"answer_id":70622174,"question_id":70620452,"body_markdown":"From the description in the [migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html) you reference, option one does pretty much what you think it does - it lets you keep using the Log4j 1.x API in your code, while using the Log4j 2.x implementation to do the actual logging. Feels more like an _adapter_ pattern to me.\r\n\r\nThe migration guide discusses some limitations, but if you use the logging API in the most common way, it should not make any difference.\r\n\r\nOption two requires code changes, so it depends on the size of your code base and willingness to do the migration all at once (instead of, say, migrating the files gradually when you make changes to them).","title":"What is log4j bridge for migration?","body":"<p>From the description in the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration guide</a> you reference, option one does pretty much what you think it does - it lets you keep using the Log4j 1.x API in your code, while using the Log4j 2.x implementation to do the actual logging. Feels more like an <em>adapter</em> pattern to me.</p>\n<p>The migration guide discusses some limitations, but if you use the logging API in the most common way, it should not make any difference.</p>\n<p>Option two requires code changes, so it depends on the size of your code base and willingness to do the migration all at once (instead of, say, migrating the files gradually when you make changes to them).</p>\n"}],"owner":{"account_id":14034180,"reputation":523,"user_id":10137268,"display_name":"Paul Erlenmeyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641563236,"creation_date":1641554351,"question_id":70620452,"body_markdown":"I&#39;m planning to migrate an application from Log4j 1.x to Log4j 2.y. I&#39;m reading up on the [migration strategies][1] and the frist option that is provided is the use of a bridge. I don&#39;t understand what is meant by a bridge and how the whole thing is supposed to work. If they are referring to the [brdige pattern][2], then I don&#39;t see how it applies in that case.\r\n\r\nAs far as I understood is that I keep my code untouched and my Log4j Jars untouched and add the Log4j 2 jars and the Log4j bridge jar file. This sounds like a very simple solution but I&#39;m automatically drawn to the second option (chaning some code snippets and the imports for each class that uses Log4j and switching the Jar from v1 to v2). Yet I feel like I haven&#39;t understood the option 1 and not considered the pros and cons of it. Does anybody have some insight on this?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n  [2]: https://refactoring.guru/design-patterns/bridge","title":"What is log4j bridge for migration?","body":"<p>I'm planning to migrate an application from Log4j 1.x to Log4j 2.y. I'm reading up on the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration strategies</a> and the frist option that is provided is the use of a bridge. I don't understand what is meant by a bridge and how the whole thing is supposed to work. If they are referring to the <a href=\"https://refactoring.guru/design-patterns/bridge\" rel=\"nofollow noreferrer\">brdige pattern</a>, then I don't see how it applies in that case.</p>\n<p>As far as I understood is that I keep my code untouched and my Log4j Jars untouched and add the Log4j 2 jars and the Log4j bridge jar file. This sounds like a very simple solution but I'm automatically drawn to the second option (chaning some code snippets and the imports for each class that uses Log4j and switching the Jar from v1 to v2). Yet I feel like I haven't understood the option 1 and not considered the pros and cons of it. Does anybody have some insight on this?</p>\n"},{"tags":["java","endianness"],"comments":[{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":6,"creation_date":1592688634,"post_id":362384,"comment_id":110516556,"body_markdown":"Here is my mnemonics for this so I won&#39;t forget: Java being no hardware but instead virtual, is the language of the internet. The **network byte order** is **big endian**. Therefore, Java is **big endian**.","body":"Here is my mnemonics for this so I won&#39;t forget: Java being no hardware but instead virtual, is the language of the internet. The <b>network byte order</b> is <b>big endian</b>. Therefore, Java is <b>big endian</b>."}],"answers":[{"tags":[],"owner":{"account_id":19148,"reputation":30992,"user_id":44620,"accept_rate":83,"display_name":"Jonas Elfstr&#246;m"},"down_vote_count":4,"up_vote_count":26,"is_accepted":false,"score":22,"last_activity_date":1518313706,"creation_date":1229077386,"answer_id":362390,"question_id":362384,"body_markdown":"There are no unsigned integers in Java. All integers are signed and in big endian.\r\n\r\n&gt; On the C side the each byte has tne LSB at the start is on the left and the MSB at the end.\r\n\r\nIt sounds like you are using LSB as Least significant bit, are you? LSB usually stands for least significant byte.\r\n[Endianness][1] is not bit based but byte based.\r\n\r\nTo convert from unsigned byte to a Java integer:\r\n\r\n    int i = (int) b &amp; 0xFF;\r\n\r\nTo convert from unsigned 32-bit little-endian in byte[] to Java long (from the top of my head, not tested):\r\n\r\n    long l = (long)b[0] &amp; 0xFF;\r\n    l += ((long)b[1] &amp; 0xFF) &lt;&lt; 8;\r\n    l += ((long)b[2] &amp; 0xFF) &lt;&lt; 16;\r\n    l += ((long)b[3] &amp; 0xFF) &lt;&lt; 24;\r\n\r\n [1]: http://en.wikipedia.org/wiki/Endianness#Big-endian\r\n","title":"Does Java read integers in little endian or big endian?","body":"<p>There are no unsigned integers in Java. All integers are signed and in big endian.</p>\n\n<blockquote>\n  <p>On the C side the each byte has tne LSB at the start is on the left and the MSB at the end.</p>\n</blockquote>\n\n<p>It sounds like you are using LSB as Least significant bit, are you? LSB usually stands for least significant byte.\n<a href=\"http://en.wikipedia.org/wiki/Endianness#Big-endian\" rel=\"noreferrer\">Endianness</a> is not bit based but byte based.</p>\n\n<p>To convert from unsigned byte to a Java integer:</p>\n\n<pre><code>int i = (int) b &amp; 0xFF;\n</code></pre>\n\n<p>To convert from unsigned 32-bit little-endian in byte[] to Java long (from the top of my head, not tested):</p>\n\n<pre><code>long l = (long)b[0] &amp; 0xFF;\nl += ((long)b[1] &amp; 0xFF) &lt;&lt; 8;\nl += ((long)b[2] &amp; 0xFF) &lt;&lt; 16;\nl += ((long)b[3] &amp; 0xFF) &lt;&lt; 24;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5056,"reputation":4017,"user_id":7927,"accept_rate":84,"display_name":"Wouter Lievens"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1229077627,"creation_date":1229077627,"answer_id":362406,"question_id":362384,"body_markdown":"I would read the bytes one by one, and combine them into a **long** value. That way you control the endianness, and the communication process is transparent.","title":"Does Java read integers in little endian or big endian?","body":"<p>I would read the bytes one by one, and combine them into a <strong>long</strong> value. That way you control the endianness, and the communication process is transparent.</p>\n"},{"tags":[],"owner":{"account_id":19145,"reputation":5660,"user_id":44606,"display_name":"Egil"},"down_vote_count":3,"up_vote_count":75,"is_accepted":true,"score":72,"last_activity_date":1229078190,"creation_date":1229078190,"answer_id":362430,"question_id":362384,"body_markdown":"Use the network byte order (big endian), which is the same as Java uses anyway. See man htons for the different translators in C.","title":"Does Java read integers in little endian or big endian?","body":"<p>Use the network byte order (big endian), which is the same as Java uses anyway. See man htons for the different translators in C.</p>\n"},{"tags":[],"owner":{"account_id":6903,"reputation":2421,"user_id":11765,"display_name":"Ilja Preu&#223;"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1510526176,"creation_date":1229080008,"answer_id":362477,"question_id":362384,"body_markdown":"If it fits the protocol you use, consider using a DataInputStream, where the behavior is [very well defined][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/DataInput.html#readInt()","title":"Does Java read integers in little endian or big endian?","body":"<p>If it fits the protocol you use, consider using a DataInputStream, where the behavior is <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/DataInput.html#readInt()\" rel=\"nofollow noreferrer\">very well defined</a>.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1229117839,"creation_date":1229117839,"answer_id":364225,"question_id":362384,"body_markdown":"There&#39;s no way this could influence anything in Java, since there&#39;s no (direct non-API) way to map some bytes directly into an int in Java.\r\n\r\nEvery API that does this or something similar defines the behaviour pretty precisely, so you should look up the documentation of that API.","title":"Does Java read integers in little endian or big endian?","body":"<p>There's no way this could influence anything in Java, since there's no (direct non-API) way to map some bytes directly into an int in Java.</p>\n\n<p>Every API that does this or something similar defines the behaviour pretty precisely, so you should look up the documentation of that API.</p>\n"},{"tags":[],"owner":{"account_id":1093825,"reputation":619,"user_id":1087865,"display_name":"WB Greene"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1595859464,"creation_date":1323352370,"answer_id":8432010,"question_id":362384,"body_markdown":"I stumbled here via Google and got my answer that Java is **big endian**.\r\n\r\nReading through the responses I&#39;d like to point out that bytes do indeed have an endian order, although mercifully, if you&#39;ve only dealt with ‚Äúmainstream‚Äù microprocessors you are unlikely to have ever encountered it as Intel, Motorola, and Zilog all agreed on the shift direction of their UART chips and that MSB of a byte would be `2**7` and LSB would be `2**0` in their CPUs (I used the FORTRAN power notation to emphasize how old this stuff is :) ).\r\n\r\nI ran into this issue with some Space Shuttle bit serial downlink data 20+ years ago when we replaced a $10K interface hardware with a Mac computer.  There is a NASA Tech brief published about it long ago.  I simply used a 256 element look up table with the bits reversed (`table[0x01]=0x80` etc.) after each byte was shifted in from the bit stream.\r\n","title":"Does Java read integers in little endian or big endian?","body":"<p>I stumbled here via Google and got my answer that Java is <strong>big endian</strong>.</p>\n<p>Reading through the responses I'd like to point out that bytes do indeed have an endian order, although mercifully, if you've only dealt with ‚Äúmainstream‚Äù microprocessors you are unlikely to have ever encountered it as Intel, Motorola, and Zilog all agreed on the shift direction of their UART chips and that MSB of a byte would be <code>2**7</code> and LSB would be <code>2**0</code> in their CPUs (I used the FORTRAN power notation to emphasize how old this stuff is :) ).</p>\n<p>I ran into this issue with some Space Shuttle bit serial downlink data 20+ years ago when we replaced a $10K interface hardware with a Mac computer.  There is a NASA Tech brief published about it long ago.  I simply used a 256 element look up table with the bits reversed (<code>table[0x01]=0x80</code> etc.) after each byte was shifted in from the bit stream.</p>\n"},{"tags":[],"owner":{"account_id":3763750,"reputation":101,"user_id":3127865,"display_name":"Donald W. Smith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550475393,"creation_date":1550475393,"answer_id":54742400,"question_id":362384,"body_markdown":"Java is &#39;Big-endian&#39; as noted above.  That means that the MSB of an int is on the left if you examine memory (on an Intel CPU at least).  The sign bit is also in the MSB for all Java integer types. &lt;br&gt;\r\nReading a 4 byte unsigned integer from a binary file stored by a &#39;Little-endian&#39; system takes a bit of adaptation in Java.  DataInputStream&#39;s readInt() expects Big-endian format.  \r\nHere&#39;s an example that reads a four byte unsigned value (as displayed by HexEdit as 01 00 00 00) into an integer with a value of 1:\r\n\r\n     // Declare an array of 4 shorts to hold the four unsigned bytes\r\n     short[] tempShort = new short[4];\r\n     for (int b = 0; b &lt; 4; b++) {\r\n        tempShort[b] = (short)dIStream.readUnsignedByte();           \r\n     }\r\n     int curVal = convToInt(tempShort);\r\n\r\n     // Pass an array of four shorts which convert from LSB first \r\n     public int convToInt(short[] sb)\r\n     {\r\n       int answer = sb[0];\r\n       answer += sb[1] &lt;&lt; 8;\r\n       answer += sb[2] &lt;&lt; 16;\r\n       answer += sb[3] &lt;&lt; 24;\r\n       return answer;        \r\n     }\r\n\r\n \r\n","title":"Does Java read integers in little endian or big endian?","body":"<p>Java is 'Big-endian' as noted above.  That means that the MSB of an int is on the left if you examine memory (on an Intel CPU at least).  The sign bit is also in the MSB for all Java integer types. <br>\nReading a 4 byte unsigned integer from a binary file stored by a 'Little-endian' system takes a bit of adaptation in Java.  DataInputStream's readInt() expects Big-endian format.<br>\nHere's an example that reads a four byte unsigned value (as displayed by HexEdit as 01 00 00 00) into an integer with a value of 1:</p>\n\n<pre><code> // Declare an array of 4 shorts to hold the four unsigned bytes\n short[] tempShort = new short[4];\n for (int b = 0; b &lt; 4; b++) {\n    tempShort[b] = (short)dIStream.readUnsignedByte();           \n }\n int curVal = convToInt(tempShort);\n\n // Pass an array of four shorts which convert from LSB first \n public int convToInt(short[] sb)\n {\n   int answer = sb[0];\n   answer += sb[1] &lt;&lt; 8;\n   answer += sb[2] &lt;&lt; 16;\n   answer += sb[3] &lt;&lt; 24;\n   return answer;        \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17240036,"reputation":9,"user_id":12482548,"display_name":"user12482548"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1575497785,"creation_date":1575497785,"answer_id":59185413,"question_id":362384,"body_markdown":"java force indeed big endian : https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.11","title":"Does Java read integers in little endian or big endian?","body":"<p>java force indeed big endian : <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.11\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.11</a></p>\n"},{"tags":[],"owner":{"account_id":7829535,"reputation":479,"user_id":5920099,"display_name":"Javaddict"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1641563226,"creation_date":1641563226,"answer_id":70622171,"question_id":362384,"body_markdown":"Imho there is no endianness defined for java. The endianness is the one of the hardware but java is highlevel and hides the hardware so you don&#39;t have to wory about that.\r\n\r\nThe only endianess related feature is how the java lib maps int and long to byte[] (and inversely). It does it Big-Endian which is the most readable and natural: \r\n\r\n    int i=0xAABBCCDD\r\n\r\nmaps to\r\n\r\n    byte[] b={0xAA,0xBB,0xCC,0xDD}","title":"Does Java read integers in little endian or big endian?","body":"<p>Imho there is no endianness defined for java. The endianness is the one of the hardware but java is highlevel and hides the hardware so you don't have to wory about that.</p>\n<p>The only endianess related feature is how the java lib maps int and long to byte[] (and inversely). It does it Big-Endian which is the most readable and natural:</p>\n<pre><code>int i=0xAABBCCDD\n</code></pre>\n<p>maps to</p>\n<pre><code>byte[] b={0xAA,0xBB,0xCC,0xDD}\n</code></pre>\n"}],"owner":{"account_id":18461,"reputation":39097,"user_id":42303,"accept_rate":98,"display_name":"hhafez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134855,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":362430,"answer_count":9,"score":110,"last_activity_date":1641563226,"creation_date":1229077277,"question_id":362384,"body_markdown":"I ask because I am sending a byte stream from a C process to Java. On the C side the 32 bit integer has the LSB is the first byte and MSB is the 4th byte.\r\n\r\nSo my question is: On the Java side when we read the byte as it was sent from the C process, what is [endian][1] on the Java side?\r\n\r\nA follow-up question: If the endian on the Java side is not the same as the one sent, how can I convert between them?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Endianness","title":"Does Java read integers in little endian or big endian?","body":"<p>I ask because I am sending a byte stream from a C process to Java. On the C side the 32 bit integer has the LSB is the first byte and MSB is the 4th byte.</p>\n\n<p>So my question is: On the Java side when we read the byte as it was sent from the C process, what is <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"noreferrer\">endian</a> on the Java side?</p>\n\n<p>A follow-up question: If the endian on the Java side is not the same as the one sent, how can I convert between them?</p>\n"},{"tags":["java","junit","gwt","rpc","gwtmockito"],"answers":[{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641563014,"creation_date":1641491082,"answer_id":70611345,"question_id":70589292,"body_markdown":"&gt;     if (exampleService == null) {\r\n&gt;        exampleService = ExampleService.Util.getInstance(); // Problem arises here.\r\n&gt;        // I suppose GwtMockito is reusing the old one even though GwtMockito.tearDown() is called.\r\n&gt;        // That&#39;s why the second fails with the comment &quot;There were zero interactions with this mock&quot;.\r\n&gt;        // It is actually using the first still. Why is that so and how can I make it use the second?\r\n&gt;      } \r\n\r\n\r\n&gt;     public static class Util {\r\n&gt;       private static ExampleServiceAsync instance = null;\r\n&gt;       public static ExampleServiceAsync getInstance(){\r\n&gt;         if (instance == null) {\r\n&gt;           instance = (ExampleServiceAsync) GWT.create(ExampleService.class);\r\n&gt;         }\r\n&gt;      \r\n&gt;         return instance;\r\n&gt;       }\r\n&gt;     }\r\n  \r\n\r\nYour guess is correct - this is your problem. Since this Util.instance field is static, and nothing ever nulls it out when the test is done, the next call to Util.getInstance() must always return the same value, so the mock is never created.\r\n\r\nSome possible options to consider:\r\n\r\nFirst, creation of a service in this way is very cheap, it is possible that all of the service calls will be remade into static methods anyway, so there is nearly no actual cost to creating the service or keeping the instance around. This means you could go so far as to create a new service instance every time that the method is called, perhaps every time that _any_ service method is called. Singletons should be used where state is important to be shared, or where the cost of creation is high - at least from the code shared here, neither of those is true.\r\n\r\nExtending from that, you could also just directly GWT.create(...) the services as you need them, instead of a Util type that holds the instance.\r\n\r\nAlternatively, and assuming you do want to control access to the instance (perhaps to allow for custom configuration of the service as it is created, etc), instead of a static field in a class to hold this, consider a regular field, so that a new holder can be instantiated as part of each test. If you don&#39;t want full-on DI tooling of some kind, you can still make a single instance to provide these objects. Have a test-only method that nulls out the instance during tearDown(), etc.\r\n\r\n---\r\n\r\nQuick summary of GWT options for dependency injection (&quot;DI&quot;) tools:\r\n\r\n * [Gin][1]: In GWT2, &quot;gin+[guice][2]&quot; is quite popular, but isn&#39;t maintained any more, and will not be compatible with J2CL (another compiler which can handle much of GWT2 inputs), but is very flexible. Gin is a subset of Guice&#39;s features that can work in GWT. \r\n * [Dagger2][3] is another option, but not really purpose-built to work in GWT. There are many examples that demonstrate GWT2+Dagger2, here&#39;s one that mirrors their docs https://github.com/ibaca/gwt-dagger2-coffee\r\n * [Errai][4], among its other features, can act as a CDI container, but also adds many other features - almost certainly overkill for you. I would not consider it for a new project started today.\r\n * [Crysknife][5] is another option, specifically built to work in j2cl, but is still in progress (though artifacts are published to maven central as v0.1). This was designed as if it were only Errai&#39;s CDI features, and is much more lightweight.\r\n\r\n\r\n  [1]: https://github.com/gwtplus/google-gin\r\n  [2]: https://github.com/google/guice\r\n  [3]: https://dagger.dev/\r\n  [4]: http://erraiframework.org/getting-started/index.html#ErraiCDIPage\r\n  [5]: https://github.com/crysknife-io/crysknife","title":"GwtMockito: Single tests pass and multiple fails when using Async-service within tested class. (GwtMock- and GWT.create-related)","body":"<blockquote>\n<pre><code>if (exampleService == null) {\n   exampleService = ExampleService.Util.getInstance(); // Problem arises here.\n   // I suppose GwtMockito is reusing the old one even though GwtMockito.tearDown() is called.\n   // That's why the second fails with the comment &quot;There were zero interactions with this mock&quot;.\n   // It is actually using the first still. Why is that so and how can I make it use the second?\n } \n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>public static class Util {\n  private static ExampleServiceAsync instance = null;\n  public static ExampleServiceAsync getInstance(){\n    if (instance == null) {\n      instance = (ExampleServiceAsync) GWT.create(ExampleService.class);\n    }\n \n    return instance;\n  }\n}\n</code></pre>\n</blockquote>\n<p>Your guess is correct - this is your problem. Since this Util.instance field is static, and nothing ever nulls it out when the test is done, the next call to Util.getInstance() must always return the same value, so the mock is never created.</p>\n<p>Some possible options to consider:</p>\n<p>First, creation of a service in this way is very cheap, it is possible that all of the service calls will be remade into static methods anyway, so there is nearly no actual cost to creating the service or keeping the instance around. This means you could go so far as to create a new service instance every time that the method is called, perhaps every time that <em>any</em> service method is called. Singletons should be used where state is important to be shared, or where the cost of creation is high - at least from the code shared here, neither of those is true.</p>\n<p>Extending from that, you could also just directly GWT.create(...) the services as you need them, instead of a Util type that holds the instance.</p>\n<p>Alternatively, and assuming you do want to control access to the instance (perhaps to allow for custom configuration of the service as it is created, etc), instead of a static field in a class to hold this, consider a regular field, so that a new holder can be instantiated as part of each test. If you don't want full-on DI tooling of some kind, you can still make a single instance to provide these objects. Have a test-only method that nulls out the instance during tearDown(), etc.</p>\n<hr />\n<p>Quick summary of GWT options for dependency injection (&quot;DI&quot;) tools:</p>\n<ul>\n<li><a href=\"https://github.com/gwtplus/google-gin\" rel=\"nofollow noreferrer\">Gin</a>: In GWT2, &quot;gin+<a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">guice</a>&quot; is quite popular, but isn't maintained any more, and will not be compatible with J2CL (another compiler which can handle much of GWT2 inputs), but is very flexible. Gin is a subset of Guice's features that can work in GWT.</li>\n<li><a href=\"https://dagger.dev/\" rel=\"nofollow noreferrer\">Dagger2</a> is another option, but not really purpose-built to work in GWT. There are many examples that demonstrate GWT2+Dagger2, here's one that mirrors their docs <a href=\"https://github.com/ibaca/gwt-dagger2-coffee\" rel=\"nofollow noreferrer\">https://github.com/ibaca/gwt-dagger2-coffee</a></li>\n<li><a href=\"http://erraiframework.org/getting-started/index.html#ErraiCDIPage\" rel=\"nofollow noreferrer\">Errai</a>, among its other features, can act as a CDI container, but also adds many other features - almost certainly overkill for you. I would not consider it for a new project started today.</li>\n<li><a href=\"https://github.com/crysknife-io/crysknife\" rel=\"nofollow noreferrer\">Crysknife</a> is another option, specifically built to work in j2cl, but is still in progress (though artifacts are published to maven central as v0.1). This was designed as if it were only Errai's CDI features, and is much more lightweight.</li>\n</ul>\n"}],"owner":{"account_id":20850061,"reputation":13,"user_id":15314793,"display_name":"lemoncactus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70611345,"answer_count":1,"score":0,"last_activity_date":1641563014,"creation_date":1641368284,"question_id":70589292,"body_markdown":"I have the following:\r\n\r\n - ExampleLogic.java (Class that uses an Async-service to do a server call)\r\n - ExampleServiceAsync.java (Interface &#225; la GWT)\r\n - ExampleService.java (Interface &#225; la GWT to create the async-instance)\r\n - ExampleLogicTest (**This is where the error is seen**)\r\n\r\nI have two simple tests and when run separately they both pass. But when running them after each other (in Eclipse) the second one always fails with the following error:\r\n&gt;Wanted but not invoked: exService.exampleServiceMethod(). Actually there were zero interactions with this mock.\r\n\r\nI&#39;ve annotated the service like this: ```@GwtMock exService;```  \r\nImportant to note is that the ExampleLogic-class which calls the async-service creates the service in its own class. And I can make it work, as you can see in the examples, by setting the async-service from the test-class. But then I only need the ```@Mock``` from Mockito instead.  \r\n\r\nIt works and therefore this question is more out of curiousity and just a little bit of utility (because it feels unnecessary to have a setter for the async-service only for the sake of testing). \r\n\r\nSo the question is:  \r\n*Why is it like this?*  \r\nOther questions:  \r\n*Is there anything to do about it? Do you recommend another way of testing?*  \r\n\r\nHope there are any GWT-experts out there that can help me!\r\n\r\nUsing:  \r\nJUnit 4.13  \r\nGwtMockito 1.1.9 (And the Mockito that follows: 0.9.2)\r\n\r\n**ExampleLogic.java (Class that uses an Async-service to do a server call)**\r\n\r\n    import com.google.gwt.user.client.rpc.AsyncCallback;\r\n    \r\n    public class ExampleLogic {\r\n      public boolean callFailed; // public to simplify example\r\n      public boolean returnVal; // public to simplify example\r\n      private ExampleServiceAsync exampleService;\r\n      \r\n      public void setExampleService(ExampleServiceAsync exampleService) {\r\n        this.exampleService = exampleService;\r\n      }\r\n    \r\n      public void exampleCallToService() {\r\n        if (exampleService == null) {\r\n          exampleService = ExampleService.Util.getInstance(); // Problem arises here.\r\n          // I suppose GwtMockito is reusing the old one even though GwtMockito.tearDown() is called.\r\n          // That&#39;s why the second fails with the comment &quot;There were zero interactions with this mock&quot;.\r\n          // It is actually using the first still. Why is that so and how can I make it use the second?\r\n        }\r\n        \r\n        exampleService.exampleServiceMethod(new AsyncCallback&lt;Boolean&gt;() {\r\n          \r\n          @Override\r\n          public void onSuccess(Boolean result) {\r\n            callFailed = false;\r\n            returnVal = result;\r\n          }\r\n          \r\n          @Override\r\n          public void onFailure(Throwable caught) {\r\n            callFailed = true;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n**ExampleServiceAsync.java (Interface &#225; la GWT)**\r\n\r\n    import com.google.gwt.http.client.Request;\r\n    import com.google.gwt.user.client.rpc.AsyncCallback;\r\n    \r\n    public interface ExampleServiceAsync {\r\n      public Request exampleServiceMethod(AsyncCallback&lt;Boolean&gt; callback);\r\n    }\r\n\r\n**ExampleService.java (Interface &#225; la GWT to create the async-instance)**\r\n\r\n    import com.google.gwt.core.client.GWT;\r\n    import com.google.gwt.user.client.rpc.RemoteService;\r\n    \r\n    public interface ExampleService extends RemoteService {\r\n      public static class Util {\r\n        private static ExampleServiceAsync instance = null;\r\n        public static ExampleServiceAsync getInstance(){\r\n          if (instance == null) {\r\n            instance = (ExampleServiceAsync) GWT.create(ExampleService.class);\r\n          }\r\n          \r\n          return instance;\r\n        }\r\n      }\r\n      \r\n      boolean exampleServiceMethod();\r\n    }\r\n\r\n**ExampleLogicTest (*This is where the error is seen*)**\r\n\r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.ArgumentCaptor;\r\n    import org.mockito.Captor;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import com.google.gwt.user.client.rpc.AsyncCallback;\r\n    import com.google.gwtmockito.GwtMock;\r\n    import com.google.gwtmockito.GwtMockito;\r\n    import com.google.gwtmockito.GwtMockitoTestRunner;\r\n    \r\n    @RunWith(GwtMockitoTestRunner.class)\r\n    public class ExampleLogicTest {\r\n    \r\n      @GwtMock ExampleServiceAsync exService;\r\n      // @Mock ExampleServiceAsync exService; // Can be used if the service is set manually\r\n      @Captor ArgumentCaptor&lt;AsyncCallback&lt;Boolean&gt;&gt; callbackCaptor;\r\n      ExampleLogic exLogic;\r\n    \r\n      @Before\r\n      public void init() {\r\n        GwtMockito.initMocks(this); // Doesn&#39;t make any difference to comment/uncomment.\r\n        exLogic = new ExampleLogic();\r\n    //    exLogic.setExampleService(exService); // Uncommenting this will make both tests pass in a single run. Otherwise the second to run will always fail. Or running separately they&#39;ll pass.\r\n      }\r\n    \r\n      @After\r\n      public void tearDown() {\r\n        GwtMockito.tearDown(); // Doesn&#39;t make any difference to comment/uncomment.\r\n      }\r\n    \r\n      @Test\r\n      public void test1_SuccessfulCall() {\r\n        exLogic.exampleCallToService();\r\n        Mockito.verify(exService).exampleServiceMethod(callbackCaptor.capture());\r\n        AsyncCallback&lt;Boolean&gt; callback = callbackCaptor.getValue();\r\n        callback.onSuccess(true);\r\n        assertFalse(exLogic.callFailed);\r\n        assertTrue(exLogic.returnVal);\r\n      }\r\n    \r\n      @Test\r\n      public void test2_FailedCall() {\r\n        exLogic.exampleCallToService();\r\n        Mockito.verify(exService).exampleServiceMethod(callbackCaptor.capture());\r\n        AsyncCallback&lt;Boolean&gt; callback = callbackCaptor.getValue();\r\n        callback.onFailure(new Throwable());\r\n        assertTrue(exLogic.callFailed);\r\n        assertFalse(exLogic.returnVal);\r\n      }\r\n    \r\n    }","title":"GwtMockito: Single tests pass and multiple fails when using Async-service within tested class. (GwtMock- and GWT.create-related)","body":"<p>I have the following:</p>\n<ul>\n<li>ExampleLogic.java (Class that uses an Async-service to do a server call)</li>\n<li>ExampleServiceAsync.java (Interface √° la GWT)</li>\n<li>ExampleService.java (Interface √° la GWT to create the async-instance)</li>\n<li>ExampleLogicTest (<strong>This is where the error is seen</strong>)</li>\n</ul>\n<p>I have two simple tests and when run separately they both pass. But when running them after each other (in Eclipse) the second one always fails with the following error:</p>\n<blockquote>\n<p>Wanted but not invoked: exService.exampleServiceMethod(). Actually there were zero interactions with this mock.</p>\n</blockquote>\n<p>I've annotated the service like this: <code>@GwtMock exService;</code><br />\nImportant to note is that the ExampleLogic-class which calls the async-service creates the service in its own class. And I can make it work, as you can see in the examples, by setting the async-service from the test-class. But then I only need the <code>@Mock</code> from Mockito instead.</p>\n<p>It works and therefore this question is more out of curiousity and just a little bit of utility (because it feels unnecessary to have a setter for the async-service only for the sake of testing).</p>\n<p>So the question is:<br />\n<em>Why is it like this?</em><br />\nOther questions:<br />\n<em>Is there anything to do about it? Do you recommend another way of testing?</em></p>\n<p>Hope there are any GWT-experts out there that can help me!</p>\n<p>Using:<br />\nJUnit 4.13<br />\nGwtMockito 1.1.9 (And the Mockito that follows: 0.9.2)</p>\n<p><strong>ExampleLogic.java (Class that uses an Async-service to do a server call)</strong></p>\n<pre><code>import com.google.gwt.user.client.rpc.AsyncCallback;\n\npublic class ExampleLogic {\n  public boolean callFailed; // public to simplify example\n  public boolean returnVal; // public to simplify example\n  private ExampleServiceAsync exampleService;\n  \n  public void setExampleService(ExampleServiceAsync exampleService) {\n    this.exampleService = exampleService;\n  }\n\n  public void exampleCallToService() {\n    if (exampleService == null) {\n      exampleService = ExampleService.Util.getInstance(); // Problem arises here.\n      // I suppose GwtMockito is reusing the old one even though GwtMockito.tearDown() is called.\n      // That's why the second fails with the comment &quot;There were zero interactions with this mock&quot;.\n      // It is actually using the first still. Why is that so and how can I make it use the second?\n    }\n    \n    exampleService.exampleServiceMethod(new AsyncCallback&lt;Boolean&gt;() {\n      \n      @Override\n      public void onSuccess(Boolean result) {\n        callFailed = false;\n        returnVal = result;\n      }\n      \n      @Override\n      public void onFailure(Throwable caught) {\n        callFailed = true;\n      }\n    });\n  }\n}\n</code></pre>\n<p><strong>ExampleServiceAsync.java (Interface √° la GWT)</strong></p>\n<pre><code>import com.google.gwt.http.client.Request;\nimport com.google.gwt.user.client.rpc.AsyncCallback;\n\npublic interface ExampleServiceAsync {\n  public Request exampleServiceMethod(AsyncCallback&lt;Boolean&gt; callback);\n}\n</code></pre>\n<p><strong>ExampleService.java (Interface √° la GWT to create the async-instance)</strong></p>\n<pre><code>import com.google.gwt.core.client.GWT;\nimport com.google.gwt.user.client.rpc.RemoteService;\n\npublic interface ExampleService extends RemoteService {\n  public static class Util {\n    private static ExampleServiceAsync instance = null;\n    public static ExampleServiceAsync getInstance(){\n      if (instance == null) {\n        instance = (ExampleServiceAsync) GWT.create(ExampleService.class);\n      }\n      \n      return instance;\n    }\n  }\n  \n  boolean exampleServiceMethod();\n}\n</code></pre>\n<p><strong>ExampleLogicTest (<em>This is where the error is seen</em>)</strong></p>\n<pre><code>import static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Captor;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport com.google.gwt.user.client.rpc.AsyncCallback;\nimport com.google.gwtmockito.GwtMock;\nimport com.google.gwtmockito.GwtMockito;\nimport com.google.gwtmockito.GwtMockitoTestRunner;\n\n@RunWith(GwtMockitoTestRunner.class)\npublic class ExampleLogicTest {\n\n  @GwtMock ExampleServiceAsync exService;\n  // @Mock ExampleServiceAsync exService; // Can be used if the service is set manually\n  @Captor ArgumentCaptor&lt;AsyncCallback&lt;Boolean&gt;&gt; callbackCaptor;\n  ExampleLogic exLogic;\n\n  @Before\n  public void init() {\n    GwtMockito.initMocks(this); // Doesn't make any difference to comment/uncomment.\n    exLogic = new ExampleLogic();\n//    exLogic.setExampleService(exService); // Uncommenting this will make both tests pass in a single run. Otherwise the second to run will always fail. Or running separately they'll pass.\n  }\n\n  @After\n  public void tearDown() {\n    GwtMockito.tearDown(); // Doesn't make any difference to comment/uncomment.\n  }\n\n  @Test\n  public void test1_SuccessfulCall() {\n    exLogic.exampleCallToService();\n    Mockito.verify(exService).exampleServiceMethod(callbackCaptor.capture());\n    AsyncCallback&lt;Boolean&gt; callback = callbackCaptor.getValue();\n    callback.onSuccess(true);\n    assertFalse(exLogic.callFailed);\n    assertTrue(exLogic.returnVal);\n  }\n\n  @Test\n  public void test2_FailedCall() {\n    exLogic.exampleCallToService();\n    Mockito.verify(exService).exampleServiceMethod(callbackCaptor.capture());\n    AsyncCallback&lt;Boolean&gt; callback = callbackCaptor.getValue();\n    callback.onFailure(new Throwable());\n    assertTrue(exLogic.callFailed);\n    assertFalse(exLogic.returnVal);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtextarea","border-layout","flowlayout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1641542782,"post_id":70618009,"comment_id":124835647,"body_markdown":"1) For better help sooner, [edit] to add a [mre]. 2) Add ASCII art or a simple drawing of the way you expect the GUI to appear, and how it should appear when resized. 3) Avoid using `setPreferredSize` 4) **`frame.setVisible(true);` should be last, right after `frame.pack();`.**","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/70618009/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2) Add ASCII art or a simple drawing of the way you expect the GUI to appear, and how it should appear when resized. 3) Avoid using <code>setPreferredSize</code> 4) <b><code>frame.setVisible(true);</code> should be last, right after <code>frame.pack();</code>.</b>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1641542857,"post_id":70618009,"comment_id":124835670,"body_markdown":".. 5) `frame.add(panel3, BorderLayout.CENTER);` Since `panel3` has a `FlowLayout`, that will not work.","body":".. 5) <code>frame.add(panel3, BorderLayout.CENTER);</code> Since <code>panel3</code> has a <code>FlowLayout</code>, that will not work."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1641544007,"post_id":70618009,"comment_id":124836010,"body_markdown":"adding a component to an already visible container requires it to be validated (point 4 above), see[doc](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#add(java.awt.Component)): *&quot;This method changes layout-related information, and therefore, invalidates the component hierarchy. If the container has already been displayed, the hierarchy must be validated thereafter in order to display the added component.&quot;*  - doing that, all is being displayed as coded (since using `FlowLayout` and a preferred size, the text component is not using the whole space)","body":"adding a component to an already visible container requires it to be validated (point 4 above), see<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#add(java.awt.Component)\" rel=\"nofollow noreferrer\">doc</a>: <i>&quot;This method changes layout-related information, and therefore, invalidates the component hierarchy. If the container has already been displayed, the hierarchy must be validated thereafter in order to display the added component.&quot;</i>  - doing that, all is being displayed as coded (since using <code>FlowLayout</code> and a preferred size, the text component is not using the whole space)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1641544216,"post_id":70618009,"comment_id":124836082,"body_markdown":"((test for invalid layout (at least for Windows OS) - run and minimize and restore the window, it should be repainted, after validating the layouts))","body":"((test for invalid layout (at least for Windows OS) - run and minimize and restore the window, it should be repainted, after validating the layouts))"}],"answers":[{"tags":[],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641562829,"creation_date":1641562829,"answer_id":70622102,"question_id":70618009,"body_markdown":"Hi Andrew Thompson and user16320675, Thanks for the quick help, this solved my issue. How can I further improve the quality the code? I had to put only one `setPrefferedSize()` at the `JTextArea`, all other places I removed (without this the window shrinks to zero)\r\n\r\n1) I reduced my code\r\n2) image: https://ibb.co/Xj7tYKf\r\n3) I have removed `allsetPrefferedSize()`\r\n4) I put `frame.setVisible(true)` at the end, and also `frame.pack()` at the end\r\n\r\nHere is my code:\r\n\r\n\r\n\r\n    package bloggui;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    \r\n    public class Start {\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tblogGUI();\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \tpublic static void blogGUI() {\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.setLayout(new BorderLayout());\r\n    \t\t\r\n    \t\tJPanel panel1 = new JPanel(); \r\n            panel1.setBackground(new java.awt.Color(255,255,255)); \r\n    \t\t\r\n    \t\tJPanel panel2 = new JPanel();  \r\n            panel2.setBackground(new java.awt.Color(255,255,255)); \r\n    \t\t\t\t\r\n    \t\tJButton btNewEntry = new JButton(&quot;New Post&quot;);\r\n    \t\tJButton btModifyEntry = new JButton(&quot;Modify&quot;);\r\n    \t\tJButton btDeleteEntry = new JButton(&quot;Delete&quot;);\r\n    \t\tJButton btShowEntries = new JButton(&quot;List&quot;);\r\n    \t\tJButton btExit = new JButton(&quot;Exit&quot;);\r\n    \t\t\r\n    \t\tJLabel lbFile = new JLabel(&quot;Open Blog:&quot;);\r\n    \t\tJLabel lbFilePath = new JLabel(&quot;Nothing selected...&quot;);\r\n    \t\tJButton btFileOpen = new JButton(&quot;Open&quot;);\r\n    \t\t\r\n    \t\tpanel1.add(btNewEntry);\r\n    \t\tpanel1.add(btModifyEntry);\r\n    \t\tpanel1.add(btDeleteEntry);\r\n    \t\tpanel1.add(btShowEntries);\r\n    \t\tpanel1.add(btExit);\r\n    \t\t\r\n    \t\tpanel2.add(lbFile);\r\n    \t\tpanel2.add(btFileOpen);\r\n    \t\tpanel2.add(lbFilePath);\r\n    \t\t\r\n    \t\tJPanel cpanelNorth = new JPanel();\r\n    \t\tcpanelNorth.setBackground(new java.awt.Color(135,206,250));\r\n    \t\tcpanelNorth.setLayout(new FlowLayout());\r\n    \t\t\r\n    \t\tcpanelNorth.add(panel1);\r\n            cpanelNorth.add(panel2);\r\n            \r\n            frame.add(cpanelNorth, BorderLayout.NORTH);\r\n            frame.pack();\r\n            \r\n            JPanel panel3 = new JPanel();\r\n    \t\tpanel3.setLayout(new FlowLayout());   \r\n    \t\tpanel3.setBackground(new java.awt.Color(135,206,250));\r\n    \t\t\r\n    \t\tJTextArea textArea = new JTextArea(&quot;Welcome to...!&quot;);\r\n    \t\ttextArea.setBackground(new java.awt.Color(255,255,255));\r\n    \t\ttextArea.setPreferredSize(new Dimension(620, 400));\t\t//Must not use setPreferredSize() [I must use it only once here!]\r\n    \t\t\r\n    \t\tpanel3.add(textArea);\r\n    \t\tframe.add(panel3, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\t\r\n    \t\tframe.pack();\t\t\t//Must be at the end\r\n    \t\tframe.setVisible(true); //Must be at the end\r\n    \t\t\r\n         }\r\n    \r\n    \r\n    }\r\n\r\n","title":"BorderLayout combined with FlowLayout: JTextArea ruins GUI (Java Swing)","body":"<p>Hi Andrew Thompson and user16320675, Thanks for the quick help, this solved my issue. How can I further improve the quality the code? I had to put only one <code>setPrefferedSize()</code> at the <code>JTextArea</code>, all other places I removed (without this the window shrinks to zero)</p>\n<ol>\n<li>I reduced my code</li>\n<li>image: <a href=\"https://ibb.co/Xj7tYKf\" rel=\"nofollow noreferrer\">https://ibb.co/Xj7tYKf</a></li>\n<li>I have removed <code>allsetPrefferedSize()</code></li>\n<li>I put <code>frame.setVisible(true)</code> at the end, and also <code>frame.pack()</code> at the end</li>\n</ol>\n<p>Here is my code:</p>\n<pre><code>package bloggui;\n\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\n\npublic class Start {\n\n\npublic static void main(String[] args) {\n        \n        blogGUI();\n        \n    }\n        \n    public static void blogGUI() {\n        \n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.setLayout(new BorderLayout());\n        \n        JPanel panel1 = new JPanel(); \n        panel1.setBackground(new java.awt.Color(255,255,255)); \n        \n        JPanel panel2 = new JPanel();  \n        panel2.setBackground(new java.awt.Color(255,255,255)); \n                \n        JButton btNewEntry = new JButton(&quot;New Post&quot;);\n        JButton btModifyEntry = new JButton(&quot;Modify&quot;);\n        JButton btDeleteEntry = new JButton(&quot;Delete&quot;);\n        JButton btShowEntries = new JButton(&quot;List&quot;);\n        JButton btExit = new JButton(&quot;Exit&quot;);\n        \n        JLabel lbFile = new JLabel(&quot;Open Blog:&quot;);\n        JLabel lbFilePath = new JLabel(&quot;Nothing selected...&quot;);\n        JButton btFileOpen = new JButton(&quot;Open&quot;);\n        \n        panel1.add(btNewEntry);\n        panel1.add(btModifyEntry);\n        panel1.add(btDeleteEntry);\n        panel1.add(btShowEntries);\n        panel1.add(btExit);\n        \n        panel2.add(lbFile);\n        panel2.add(btFileOpen);\n        panel2.add(lbFilePath);\n        \n        JPanel cpanelNorth = new JPanel();\n        cpanelNorth.setBackground(new java.awt.Color(135,206,250));\n        cpanelNorth.setLayout(new FlowLayout());\n        \n        cpanelNorth.add(panel1);\n        cpanelNorth.add(panel2);\n        \n        frame.add(cpanelNorth, BorderLayout.NORTH);\n        frame.pack();\n        \n        JPanel panel3 = new JPanel();\n        panel3.setLayout(new FlowLayout());   \n        panel3.setBackground(new java.awt.Color(135,206,250));\n        \n        JTextArea textArea = new JTextArea(&quot;Welcome to...!&quot;);\n        textArea.setBackground(new java.awt.Color(255,255,255));\n        textArea.setPreferredSize(new Dimension(620, 400));     //Must not use setPreferredSize() [I must use it only once here!]\n        \n        panel3.add(textArea);\n        frame.add(panel3, BorderLayout.CENTER);\n        \n        \n        frame.pack();           //Must be at the end\n        frame.setVisible(true); //Must be at the end\n        \n     }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70622102,"answer_count":1,"score":0,"last_activity_date":1641562829,"creation_date":1641541226,"question_id":70618009,"body_markdown":"I use a BorderLayout combined with a FlowLayout, which works perfectly when I set up the BorderLayout.NORTH. However, in the CENTER area I would like to add a JTextArea (to print out console), but when I create a panel, add JTextArea, after adding a panel to BorderLayout.CENTER nothing appears and became grey. I have tried several combinations and tricks, also I have checked several forum posts without luck. Here is my very simplified code (should run flawlessly, I have commented the problematic part if you remove the comment the bug present):\r\n\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tblogGUI();\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \tpublic static void blogGUI() {\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(&quot;test&quot;);\r\n    \t\tframe.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setSize(700, 500);\r\n    \t\t\r\n    \t\tframe.setLayout(new BorderLayout()); //a frame BorderLayout elrendez&#233;s&#252;\r\n    \t\t\r\n    \t\tJPanel panel1 = new JPanel();\r\n    \t\t//panel.setBounds(0,0,700,500);    \r\n            panel1.setBackground(new java.awt.Color(255,255,255)); \r\n    \t\tpanel1.setVisible(true);\r\n    \t\tpanel1.setSize(new Dimension(140, 30));\r\n    \t\t\r\n    \t\tJPanel panel2 = new JPanel();\r\n    \t\t//panel.setBounds(0,0,700,500);    \r\n            panel2.setBackground(new java.awt.Color(255,255,255)); \r\n    \t\tpanel2.setVisible(true);\r\n    \t\tpanel2.setSize(new Dimension(140, 30));\r\n    \t\t\t\t\r\n    \t\tJButton btNewEntry = new JButton(&quot;New Post&quot;);\r\n    \t\tJButton btModifyEntry = new JButton(&quot;Modify&quot;);\r\n    \t\tJButton btDeleteEntry = new JButton(&quot;Delete&quot;);\r\n    \t\tJButton btShowEntries = new JButton(&quot;List&quot;);\r\n    \t\tJButton btExit = new JButton(&quot;Exit&quot;);\r\n    \t\t\r\n    \t\tJLabel lbFile = new JLabel(&quot;Open Blog:&quot;);\r\n    \t\tJLabel lbFilePath = new JLabel(&quot;Nothing selected...&quot;);\r\n    \t\tJButton btFileOpen = new JButton(&quot;Open&quot;);\r\n    \t\t\r\n    \t\tbtNewEntry.setPreferredSize(new Dimension(100,30));\r\n    \t\tbtModifyEntry.setPreferredSize(new Dimension(100,30));\r\n    \t\tbtDeleteEntry.setPreferredSize(new Dimension(100,30));\r\n    \t\tbtShowEntries.setPreferredSize(new Dimension(100,30));\r\n    \t\tbtExit.setPreferredSize(new Dimension(100,30));\r\n    \t\t\r\n    \t\tlbFile.setPreferredSize(new Dimension(100,30));\r\n    \t\tlbFilePath.setPreferredSize(new Dimension(310,30));\r\n    \t\tbtFileOpen.setPreferredSize(new Dimension(100,30));\r\n    \t\t\r\n    \t\tpanel1.add(btNewEntry);\r\n    \t\tpanel1.add(btModifyEntry);\r\n    \t\tpanel1.add(btDeleteEntry);\r\n    \t\tpanel1.add(btShowEntries);\r\n    \t\tpanel1.add(btExit);\r\n    \t\t\r\n    \t\tpanel2.add(lbFile);\r\n    \t\tpanel2.add(btFileOpen);\r\n    \t\tpanel2.add(lbFilePath);\r\n    \t\t\r\n    \t\tJPanel cpanelNorth = new JPanel();\r\n    \t\tcpanelNorth.setBackground(new java.awt.Color(135,206,250));\r\n    \t\tcpanelNorth.setLayout(new FlowLayout());\r\n    \t\tcpanelNorth.setPreferredSize(new Dimension(500, 95));\r\n    \t\t\r\n    \t\tcpanelNorth.add(panel1);\r\n            cpanelNorth.add(panel2);\r\n            \r\n            frame.add(cpanelNorth, BorderLayout.NORTH);\r\n            \r\n            /*Something wrong here! From this point, if this uncommented ruins the gui.*/\r\n            \r\n    \t\tJPanel panel3 = new JPanel();\r\n    \t\tpanel3.setLayout(new FlowLayout());\r\n    \t\t//panel.setBounds(0,0,700,500);    \r\n    \t\tpanel3.setBackground(new java.awt.Color(255,255,255)); \r\n    \t\t//panel3.setVisible(true);\r\n    \t\t//panel3.setPreferredSize(new Dimension(30, 30));\r\n    \t\t\r\n    \t\tJTextArea textArea = new JTextArea(&quot;Welcome to...!&quot;);\r\n    \t\t//textArea.setPreferredSize(new Dimension(50,50));\r\n    \t\ttextArea.setBackground(new java.awt.Color(255,0,0));\r\n    \t\t\r\n    \t\tpanel3.add(textArea);\r\n    \t\tframe.add(panel3, BorderLayout.CENTER);","title":"BorderLayout combined with FlowLayout: JTextArea ruins GUI (Java Swing)","body":"<p>I use a BorderLayout combined with a FlowLayout, which works perfectly when I set up the BorderLayout.NORTH. However, in the CENTER area I would like to add a JTextArea (to print out console), but when I create a panel, add JTextArea, after adding a panel to BorderLayout.CENTER nothing appears and became grey. I have tried several combinations and tricks, also I have checked several forum posts without luck. Here is my very simplified code (should run flawlessly, I have commented the problematic part if you remove the comment the bug present):</p>\n<pre><code>public static void main(String[] args) {\n        \n        blogGUI();\n        \n    }\n        \n    public static void blogGUI() {\n        \n        JFrame frame = new JFrame(&quot;test&quot;);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setSize(700, 500);\n        \n        frame.setLayout(new BorderLayout()); //a frame BorderLayout elrendez√©s√º\n        \n        JPanel panel1 = new JPanel();\n        //panel.setBounds(0,0,700,500);    \n        panel1.setBackground(new java.awt.Color(255,255,255)); \n        panel1.setVisible(true);\n        panel1.setSize(new Dimension(140, 30));\n        \n        JPanel panel2 = new JPanel();\n        //panel.setBounds(0,0,700,500);    \n        panel2.setBackground(new java.awt.Color(255,255,255)); \n        panel2.setVisible(true);\n        panel2.setSize(new Dimension(140, 30));\n                \n        JButton btNewEntry = new JButton(&quot;New Post&quot;);\n        JButton btModifyEntry = new JButton(&quot;Modify&quot;);\n        JButton btDeleteEntry = new JButton(&quot;Delete&quot;);\n        JButton btShowEntries = new JButton(&quot;List&quot;);\n        JButton btExit = new JButton(&quot;Exit&quot;);\n        \n        JLabel lbFile = new JLabel(&quot;Open Blog:&quot;);\n        JLabel lbFilePath = new JLabel(&quot;Nothing selected...&quot;);\n        JButton btFileOpen = new JButton(&quot;Open&quot;);\n        \n        btNewEntry.setPreferredSize(new Dimension(100,30));\n        btModifyEntry.setPreferredSize(new Dimension(100,30));\n        btDeleteEntry.setPreferredSize(new Dimension(100,30));\n        btShowEntries.setPreferredSize(new Dimension(100,30));\n        btExit.setPreferredSize(new Dimension(100,30));\n        \n        lbFile.setPreferredSize(new Dimension(100,30));\n        lbFilePath.setPreferredSize(new Dimension(310,30));\n        btFileOpen.setPreferredSize(new Dimension(100,30));\n        \n        panel1.add(btNewEntry);\n        panel1.add(btModifyEntry);\n        panel1.add(btDeleteEntry);\n        panel1.add(btShowEntries);\n        panel1.add(btExit);\n        \n        panel2.add(lbFile);\n        panel2.add(btFileOpen);\n        panel2.add(lbFilePath);\n        \n        JPanel cpanelNorth = new JPanel();\n        cpanelNorth.setBackground(new java.awt.Color(135,206,250));\n        cpanelNorth.setLayout(new FlowLayout());\n        cpanelNorth.setPreferredSize(new Dimension(500, 95));\n        \n        cpanelNorth.add(panel1);\n        cpanelNorth.add(panel2);\n        \n        frame.add(cpanelNorth, BorderLayout.NORTH);\n        \n        /*Something wrong here! From this point, if this uncommented ruins the gui.*/\n        \n        JPanel panel3 = new JPanel();\n        panel3.setLayout(new FlowLayout());\n        //panel.setBounds(0,0,700,500);    \n        panel3.setBackground(new java.awt.Color(255,255,255)); \n        //panel3.setVisible(true);\n        //panel3.setPreferredSize(new Dimension(30, 30));\n        \n        JTextArea textArea = new JTextArea(&quot;Welcome to...!&quot;);\n        //textArea.setPreferredSize(new Dimension(50,50));\n        textArea.setBackground(new java.awt.Color(255,0,0));\n        \n        panel3.add(textArea);\n        frame.add(panel3, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":["java","symlink","rhel"],"answers":[{"tags":[],"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1493646775,"creation_date":1493646438,"answer_id":43720165,"question_id":43720118,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#toRealPath-java.nio.file.LinkOption...-\r\n\r\n&gt; Path toRealPath(LinkOption... options)\r\n&gt;          throws IOException Returns the real path of an existing file. The precise definition of this method is implementation dependent but\r\n&gt; in general it derives from this path, an absolute path that locates\r\n&gt; the same file as this path, but with name elements that represent the\r\n&gt; actual name of the directories and the file. For example, where\r\n&gt; filename comparisons on a file system are case insensitive then the\r\n&gt; name elements represent the names in their actual case. Additionally,\r\n&gt; the resulting path has redundant name elements removed.\r\n&gt; \r\n&gt; If this path is relative then its absolute path is first obtained, as\r\n&gt; if by invoking the toAbsolutePath method.\r\n&gt; \r\n&gt; The options array may be used to indicate how symbolic links are\r\n&gt; handled. By default, symbolic links are resolved to their final\r\n&gt; target. If the option NOFOLLOW_LINKS is present then this method does\r\n&gt; not resolve symbolic links. Some implementations allow special names\r\n&gt; such as &quot;..&quot; to refer to the parent directory. When deriving the real\r\n&gt; path, and a &quot;..&quot; (or equivalent) is preceded by a non-&quot;..&quot; name then\r\n&gt; an implementation will typically cause both names to be removed. When\r\n&gt; not resolving symbolic links and the preceding name is a symbolic link\r\n&gt; then the names are only removed if it guaranteed that the resulting\r\n&gt; path will locate the same file as this path.\r\n&gt; \r\n&gt; Parameters: options - options indicating how symbolic links are\r\n&gt; handled Returns: an absolute path represent the real path of the file\r\n&gt; located by this object Throws: IOException - if the file does not\r\n&gt; exist or an I/O error occurs SecurityException - In the case of the\r\n&gt; default provider, and a security manager is installed, its checkRead\r\n&gt; method is invoked to check read access to the file, and where this\r\n&gt; path is not absolute, its checkPropertyAccess method is invoked to\r\n&gt; check access to the system property user.dir\r\n\r\nUse the toRealPath() method from nio. The NO_FOLLOW_LINKS LinkOption does the opposite of what you are trying to do, so don&#39;t use it.\r\n\r\n    Path realPath = aFile.toPath().toRealPath()\r\n\r\n    Path realPath = aPath().toRealPath()\r\n\r\nOne gotcha with this, is that, unlike `toAbsolutePath`, `toRealPath` throws an `IOException` since it actually has to interact with the file system to find the real path.\r\n\r\n","title":"JAVA how to find the target file path that a symbolic link points to?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#toRealPath-java.nio.file.LinkOption...-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#toRealPath-java.nio.file.LinkOption...-</a></p>\n\n<blockquote>\n  <p>Path toRealPath(LinkOption... options)\n           throws IOException Returns the real path of an existing file. The precise definition of this method is implementation dependent but\n  in general it derives from this path, an absolute path that locates\n  the same file as this path, but with name elements that represent the\n  actual name of the directories and the file. For example, where\n  filename comparisons on a file system are case insensitive then the\n  name elements represent the names in their actual case. Additionally,\n  the resulting path has redundant name elements removed.</p>\n  \n  <p>If this path is relative then its absolute path is first obtained, as\n  if by invoking the toAbsolutePath method.</p>\n  \n  <p>The options array may be used to indicate how symbolic links are\n  handled. By default, symbolic links are resolved to their final\n  target. If the option NOFOLLOW_LINKS is present then this method does\n  not resolve symbolic links. Some implementations allow special names\n  such as \"..\" to refer to the parent directory. When deriving the real\n  path, and a \"..\" (or equivalent) is preceded by a non-\"..\" name then\n  an implementation will typically cause both names to be removed. When\n  not resolving symbolic links and the preceding name is a symbolic link\n  then the names are only removed if it guaranteed that the resulting\n  path will locate the same file as this path.</p>\n  \n  <p>Parameters: options - options indicating how symbolic links are\n  handled Returns: an absolute path represent the real path of the file\n  located by this object Throws: IOException - if the file does not\n  exist or an I/O error occurs SecurityException - In the case of the\n  default provider, and a security manager is installed, its checkRead\n  method is invoked to check read access to the file, and where this\n  path is not absolute, its checkPropertyAccess method is invoked to\n  check access to the system property user.dir</p>\n</blockquote>\n\n<p>Use the toRealPath() method from nio. The NO_FOLLOW_LINKS LinkOption does the opposite of what you are trying to do, so don't use it.</p>\n\n<pre><code>Path realPath = aFile.toPath().toRealPath()\n\nPath realPath = aPath().toRealPath()\n</code></pre>\n\n<p>One gotcha with this, is that, unlike <code>toAbsolutePath</code>, <code>toRealPath</code> throws an <code>IOException</code> since it actually has to interact with the file system to find the real path.</p>\n"},{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493646873,"creation_date":1493646873,"answer_id":43720268,"question_id":43720118,"body_markdown":"`java.nio.file.Files.readSymbolicLink` might be what you need.","title":"JAVA how to find the target file path that a symbolic link points to?","body":"<p><code>java.nio.file.Files.readSymbolicLink</code> might be what you need.</p>\n"}],"owner":{"account_id":288211,"reputation":5020,"user_id":588492,"accept_rate":67,"display_name":"edjm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15774,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":43720165,"answer_count":2,"score":8,"last_activity_date":1641562820,"creation_date":1493646215,"question_id":43720118,"body_markdown":"I&#39;m trying to find a way in Java to figure out the file path that a symbolic link is pointing to.\r\nWe have a system that monitors a symbolic link folder, does some stuff based on the file name, deletes that symbolic link file.\r\nWhat I need to do is figure out where each symbolic link file is pointing to so I can delete that file as well when the symbolic link.\r\nThis is using Java on a RHEL system.\r\n\r\nAny guidance to API topics would be greatly appreciated. I&#39;m hitting a wall on my searches.","title":"JAVA how to find the target file path that a symbolic link points to?","body":"<p>I'm trying to find a way in Java to figure out the file path that a symbolic link is pointing to.\nWe have a system that monitors a symbolic link folder, does some stuff based on the file name, deletes that symbolic link file.\nWhat I need to do is figure out where each symbolic link file is pointing to so I can delete that file as well when the symbolic link.\nThis is using Java on a RHEL system.</p>\n<p>Any guidance to API topics would be greatly appreciated. I'm hitting a wall on my searches.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1641376205,"post_id":70590778,"comment_id":124786350,"body_markdown":"Please provide sample input and output, esp. the test case which fails.","body":"Please provide sample input and output, esp. the test case which fails."},{"owner":{"account_id":19594580,"reputation":1380,"user_id":14340917,"display_name":"Monu Rohilla"},"score":0,"creation_date":1641376411,"post_id":70590778,"comment_id":124786434,"body_markdown":"can you please provide problem link","body":"can you please provide problem link"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641376438,"creation_date":1641376438,"answer_id":70590861,"question_id":70590778,"body_markdown":"Change\r\n\r\n            if(map.containsKey(sortAlphabetically(s))==false)\r\n            {\r\n                map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\r\n            }\r\n            else\r\n            {\r\n                map.get(sortAlphabetically(s)).add(s);\r\n            }\r\n\r\nto\r\n\r\n            if (!map.containsKey(sortAlphabetically(s))) {\r\n                map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\r\n            }\r\n            map.get(sortAlphabetically(s)).add(s);\r\n\r\nYou forgot to add the `String` to the `List` of a new key in your `Map`.\r\n\r\nP.S., perhaps you should call `sortAlphabetically(s)` just one time, and store the result in a variable. It will improve performance.\r\n\r\n        String sorted = sortAlphabetically(s);\r\n        if (!map.containsKey(sorted)) {\r\n            map.put(sorted, new ArrayList&lt;&gt;());\r\n        }\r\n        map.get(sorted).add(s);\r\n\r\nAlso note that this solution is case sensitive. i.e. &quot;Sad&quot; is not an anagram of &quot;ads&quot;.\r\n","title":"LeetCode 49 Group Anagrams","body":"<p>Change</p>\n<pre><code>        if(map.containsKey(sortAlphabetically(s))==false)\n        {\n            map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\n        }\n        else\n        {\n            map.get(sortAlphabetically(s)).add(s);\n        }\n</code></pre>\n<p>to</p>\n<pre><code>        if (!map.containsKey(sortAlphabetically(s))) {\n            map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\n        }\n        map.get(sortAlphabetically(s)).add(s);\n</code></pre>\n<p>You forgot to add the <code>String</code> to the <code>List</code> of a new key in your <code>Map</code>.</p>\n<p>P.S., perhaps you should call <code>sortAlphabetically(s)</code> just one time, and store the result in a variable. It will improve performance.</p>\n<pre><code>    String sorted = sortAlphabetically(s);\n    if (!map.containsKey(sorted)) {\n        map.put(sorted, new ArrayList&lt;&gt;());\n    }\n    map.get(sorted).add(s);\n</code></pre>\n<p>Also note that this solution is case sensitive. i.e. &quot;Sad&quot; is not an anagram of &quot;ads&quot;.</p>\n"}],"owner":{"account_id":20028455,"reputation":17,"user_id":14681780,"display_name":"MrGerwant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641562507,"creation_date":1641376097,"question_id":70590778,"body_markdown":"I&#39;ve been trying to solve this problem from leetcode that says:\r\n\r\nGiven an array of strings strs, group the anagrams together. You can return the answer in any order. An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.\r\n\r\nHere&#39;s a solution I came up with:\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) \r\n    {\r\n        List&lt;List&lt;String&gt;&gt; result=new ArrayList&lt;&gt;();\r\n        Map&lt;String, ArrayList&lt;String&gt;&gt; map=new HashMap&lt;&gt;();\r\n        for(String s: strs)\r\n        {\r\n            if(map.containsKey(sortAlphabetically(s))==false)\r\n            {\r\n                map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\r\n            }\r\n            else\r\n            {\r\n                map.get(sortAlphabetically(s)).add(s);\r\n            }\r\n        }\r\n        for(String key:map.keySet())\r\n        {\r\n            result.add(map.get(key));\r\n        }\r\n        return result;\r\n    }\r\n    public String sortAlphabetically(String s)\r\n    {\r\n        char[] s2=s.toCharArray();\r\n        Arrays.sort(s2);\r\n        return new String(s2);\r\n    }\r\n}\r\n```\r\n\r\nBut when I try to run it it says that the output is wrong. What can I improve?","title":"LeetCode 49 Group Anagrams","body":"<p>I've been trying to solve this problem from leetcode that says:</p>\n<p>Given an array of strings strs, group the anagrams together. You can return the answer in any order. An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.</p>\n<p>Here's a solution I came up with:</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) \n    {\n        List&lt;List&lt;String&gt;&gt; result=new ArrayList&lt;&gt;();\n        Map&lt;String, ArrayList&lt;String&gt;&gt; map=new HashMap&lt;&gt;();\n        for(String s: strs)\n        {\n            if(map.containsKey(sortAlphabetically(s))==false)\n            {\n                map.put(sortAlphabetically(s), new ArrayList&lt;&gt;());\n            }\n            else\n            {\n                map.get(sortAlphabetically(s)).add(s);\n            }\n        }\n        for(String key:map.keySet())\n        {\n            result.add(map.get(key));\n        }\n        return result;\n    }\n    public String sortAlphabetically(String s)\n    {\n        char[] s2=s.toCharArray();\n        Arrays.sort(s2);\n        return new String(s2);\n    }\n}\n</code></pre>\n<p>But when I try to run it it says that the output is wrong. What can I improve?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1483457694,"post_id":41446884,"comment_id":70100192,"body_markdown":"Set trim = false on `&lt;simple&gt;`","body":"Set trim = false on <code>&lt;simple&gt;</code>"},{"owner":{"account_id":8886899,"reputation":360,"user_id":6634886,"accept_rate":80,"display_name":"Jsmith"},"score":1,"creation_date":1483458472,"post_id":41446884,"comment_id":70100664,"body_markdown":"I&#39;m sorry, but I&#39;m trying to convert my Spring into Java, so how would I set the &quot;trim = false&quot; on the `.simple` component in the Java DSL?","body":"I&#39;m sorry, but I&#39;m trying to convert my Spring into Java, so how would I set the &quot;trim = false&quot; on the <code>.simple</code> component in the Java DSL?"}],"answers":[{"tags":[],"owner":{"account_id":8886899,"reputation":360,"user_id":6634886,"accept_rate":80,"display_name":"Jsmith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1483470765,"creation_date":1483470765,"answer_id":41450736,"question_id":41446884,"body_markdown":"I found a solution, I&#39;m never sure what can be translated almost word from word from Spring to Java.  Apparently the transform/simple combination has some issue where it will not work for me in Java DSL. \r\n\r\nSo a possible solution (there may be more solutions) is to do this:\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        String dailyDataUri = &quot;{{SOCKET.daily.file}}&quot; + &quot;&amp;fileName=SocketData-${date:now:yyyyMMdd}.txt&quot;;\r\n        from(socketLocation).routeId(&quot;thisRoute&quot;)\r\n        .transform(body().append(&quot;\\n&quot;))\r\n        .wireTap(dailyDataUri)\r\n        .to(destination)\r\n    ;\r\n\r\nWhere instead of using the Simple language to manipulate the body, I just call on the body and append a String of `\\n` to it.  And that solves my issue.","title":"Apache Camel Java DSL add newline to body","body":"<p>I found a solution, I'm never sure what can be translated almost word from word from Spring to Java.  Apparently the transform/simple combination has some issue where it will not work for me in Java DSL. </p>\n\n<p>So a possible solution (there may be more solutions) is to do this:</p>\n\n<pre><code>@Override\npublic void configure() throws Exception {\n    String dailyDataUri = \"{{SOCKET.daily.file}}\" + \"&amp;fileName=SocketData-${date:now:yyyyMMdd}.txt\";\n    from(socketLocation).routeId(\"thisRoute\")\n    .transform(body().append(\"\\n\"))\n    .wireTap(dailyDataUri)\n    .to(destination)\n;\n</code></pre>\n\n<p>Where instead of using the Simple language to manipulate the body, I just call on the body and append a String of <code>\\n</code> to it.  And that solves my issue.</p>\n"},{"tags":[],"owner":{"account_id":1990462,"reputation":3726,"user_id":1784585,"accept_rate":75,"display_name":"Alpesh Gediya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641561913,"creation_date":1641561913,"answer_id":70621930,"question_id":41446884,"body_markdown":"Update : Camel version 3.x and above File component provides features to append your desired character.\r\n\r\nAs you are writing file using file component (producer) \r\n\r\n**appendChars (producer)**\r\n\r\nUsed to append characters (text) after writing files. This can for example be used to add new lines or other separators when writing and appending new files or existing files. &lt;p/&gt; To specify new-line (slash-n or slash-r) or tab (slash-t) characters then escape with an extra slash, eg slash-slash-n.","title":"Apache Camel Java DSL add newline to body","body":"<p>Update : Camel version 3.x and above File component provides features to append your desired character.</p>\n<p>As you are writing file using file component (producer)</p>\n<p><strong>appendChars (producer)</strong></p>\n<p>Used to append characters (text) after writing files. This can for example be used to add new lines or other separators when writing and appending new files or existing files.  To specify new-line (slash-n or slash-r) or tab (slash-t) characters then escape with an extra slash, eg slash-slash-n.</p>\n"}],"owner":{"account_id":8886899,"reputation":360,"user_id":6634886,"accept_rate":80,"display_name":"Jsmith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41450736,"answer_count":2,"score":3,"last_activity_date":1641561913,"creation_date":1483457404,"question_id":41446884,"body_markdown":"So I have a netty4 socket route set up in Java DSL that looks like the following:\r\n\r\n    @Override\r\n\tpublic void configure() throws Exception {\r\n\t\tString dailyDataUri = &quot;{{SOCKET.daily.file}}&quot; + &quot;&amp;fileName=SocketData-${date:now:yyyyMMdd}.txt&quot;;\r\n\t\tfrom(socketLocation).routeId(&quot;thisRoute&quot;)\r\n\t\t.transform()\r\n\t\t\t.simple(&quot;${in.body}\\n&quot;)\r\n\t\t.wireTap(dailyDataUri)\r\n\t\t.to(destination)\r\n\t;\r\n\r\nWhere both the wireTap and the destination are sending their data to two separate files.  And the data collection in the destination file is separated by a `\\n` (line break)... or at least it should be.\r\n\r\nWhen viewing the files created, the `\\n` is never added.\r\n\r\nThe equivalent idea in the Spring DSL worked before I switched to Java:\r\n\r\n    &lt;transform&gt;\r\n\t\t&lt;simple&gt;${in.body}\\n&lt;/simple&gt;\r\n\t&lt;/transform&gt;\r\n\r\nAfter using that and opening the files created during the route, the lines of data that came in through the socket would be separated by a newline. \r\n\r\n**What am I doing wrong in the Java DSL that doesn&#39;t allow the newline to be appended to the socket data as it comes in?**\r\n\r\nI feel like it&#39;s something obvious that I just don&#39;t see. \r\n\r\nThe data that is coming in is just a CSV-like line of text.","title":"Apache Camel Java DSL add newline to body","body":"<p>So I have a netty4 socket route set up in Java DSL that looks like the following:</p>\n\n<pre><code>@Override\npublic void configure() throws Exception {\n    String dailyDataUri = \"{{SOCKET.daily.file}}\" + \"&amp;fileName=SocketData-${date:now:yyyyMMdd}.txt\";\n    from(socketLocation).routeId(\"thisRoute\")\n    .transform()\n        .simple(\"${in.body}\\n\")\n    .wireTap(dailyDataUri)\n    .to(destination)\n;\n</code></pre>\n\n<p>Where both the wireTap and the destination are sending their data to two separate files.  And the data collection in the destination file is separated by a <code>\\n</code> (line break)... or at least it should be.</p>\n\n<p>When viewing the files created, the <code>\\n</code> is never added.</p>\n\n<p>The equivalent idea in the Spring DSL worked before I switched to Java:</p>\n\n<pre><code>&lt;transform&gt;\n    &lt;simple&gt;${in.body}\\n&lt;/simple&gt;\n&lt;/transform&gt;\n</code></pre>\n\n<p>After using that and opening the files created during the route, the lines of data that came in through the socket would be separated by a newline. </p>\n\n<p><strong>What am I doing wrong in the Java DSL that doesn't allow the newline to be appended to the socket data as it comes in?</strong></p>\n\n<p>I feel like it's something obvious that I just don't see. </p>\n\n<p>The data that is coming in is just a CSV-like line of text.</p>\n"},{"tags":["java","server","raspberry-pi3","minecraft"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1586713561,"post_id":61175441,"comment_id":108223935,"body_markdown":"Which Java package did you install? And what OS does your Pi have?","body":"Which Java package did you install? And what OS does your Pi have?"},{"owner":{"account_id":17201686,"reputation":11,"user_id":12453272,"display_name":"Matthew James"},"score":0,"creation_date":1586713805,"post_id":61175441,"comment_id":108224048,"body_markdown":"Open jpk 11 and raspbian","body":"Open jpk 11 and raspbian"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1586714013,"post_id":61175441,"comment_id":108224122,"body_markdown":"If you uninstall 11 and install 8 instead, does it work any better?","body":"If you uninstall 11 and install 8 instead, does it work any better?"},{"owner":{"account_id":17201686,"reputation":11,"user_id":12453272,"display_name":"Matthew James"},"score":0,"creation_date":1586730711,"post_id":61175441,"comment_id":108229841,"body_markdown":"I will try that tomorrow thank you.","body":"I will try that tomorrow thank you."}],"answers":[{"tags":[],"owner":{"account_id":929101,"reputation":21,"user_id":959314,"display_name":"Raid Zaghloul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641561590,"creation_date":1641470063,"answer_id":70606719,"question_id":61175441,"body_markdown":"Per the instructions posted by pi4j https://pi4j.com/documentation/java-installation/\r\n\r\n&gt; Luckily there are different suppliers providing ready-made packages of\r\n&gt; the JDK for multiple platforms. But only Azul seems to have one which\r\n&gt; is a perfect fit for Raspberry Pi‚Äôs with an ARMv6\r\n\r\n\r\nSo you&#39;d need first to check your board version:\r\n```none\r\n$ cat /proc/cpuinfo\r\n```\r\n\r\nIf it has ARMv6 then you need to substitute your Java\r\n\r\n```none\r\n$ cd /usr/lib/jvm\r\n\r\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n\r\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n\r\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n````\r\n\r\nNow update alternatives\r\n```none\r\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\r\n\r\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\r\n```\r\n\r\nThen select the newly installed one\r\n\r\n```none\r\n$ sudo update-alternatives --config java\r\n\r\n$ sudo update-alternatives --config javac\r\n```\r\n\r\nAnd here you go, check your new version\r\n```none\r\n$ java -version\r\n```","title":"Error occurred during initialization of VM Server VM is only supported on ARMv7+ VFP","body":"<p>Per the instructions posted by pi4j <a href=\"https://pi4j.com/documentation/java-installation/\" rel=\"nofollow noreferrer\">https://pi4j.com/documentation/java-installation/</a></p>\n<blockquote>\n<p>Luckily there are different suppliers providing ready-made packages of\nthe JDK for multiple platforms. But only Azul seems to have one which\nis a perfect fit for Raspberry Pi‚Äôs with an ARMv6</p>\n</blockquote>\n<p>So you'd need first to check your board version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ cat /proc/cpuinfo\n</code></pre>\n<p>If it has ARMv6 then you need to substitute your Java</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ cd /usr/lib/jvm\n\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n</code></pre>\n<p>Now update alternatives</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\n\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\n</code></pre>\n<p>Then select the newly installed one</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ sudo update-alternatives --config java\n\n$ sudo update-alternatives --config javac\n</code></pre>\n<p>And here you go, check your new version</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java -version\n</code></pre>\n"}],"owner":{"account_id":17201686,"reputation":11,"user_id":12453272,"display_name":"Matthew James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641561590,"creation_date":1586712397,"question_id":61175441,"body_markdown":"Attempting to make a Minecraft server with my Rasberry pi and I the error above when running the command  ` java -version`. I have reinstalled java and the same occurs. I have a raspberry pie 3 B+.\r\nAny help would be appreciated thanks","title":"Error occurred during initialization of VM Server VM is only supported on ARMv7+ VFP","body":"<p>Attempting to make a Minecraft server with my Rasberry pi and I the error above when running the command  <code>java -version</code>. I have reinstalled java and the same occurs. I have a raspberry pie 3 B+.\nAny help would be appreciated thanks</p>\n"},{"tags":["java","json","xml","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1484639513,"creation_date":1484639513,"answer_id":41691649,"question_id":41664943,"body_markdown":"I have a partial solution for you.  With [Jackson mixin feature][1], it is possible to have different custom deserializers/serializers for XML and JSON \r\n\r\nFirst, you create another POJO class that has properties **with the same name** as the ones of `Data` class, with the different annotations for custom deserializers/serializers\r\n\r\n    @JacksonXmlRootElement\r\n    public static class XmlData\r\n    {\r\n    \t@JsonProperty(&quot;attributes&quot;)\r\n    \t@JsonDeserialize(using = XmlAttributesDeserializer.class)  // specify different serializer\r\n    \t@JsonSerialize(using = XmlAttributesSerializer.class)  // specify different deserializer\r\n    \t@JacksonXmlElementWrapper\r\n    \tpublic Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes;\r\n    }\r\n\r\nNext, you create a [Jackson Module][2] that associates the `Data` class with the mixin `XmlData` class, \r\n\r\n\t@SuppressWarnings(&quot;serial&quot;)\r\n\tpublic static class XmlModule extends SimpleModule\r\n\t{\r\n\t\tpublic XmlModule()\r\n\t\t{\r\n\t\t\tsuper(&quot;XmlModule&quot;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void setupModule(SetupContext context)\r\n\t\t{\r\n\t\t\tcontext.setMixInAnnotations(Data.class, XmlData.class);\r\n\t\t}\r\n\t}\r\n\r\nHere is a test method that shows how to register the module to the mapper and dynamically serialize to different format:\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tAttribute a1 = new Attribute();\r\n\t\ta1.id = 1;\r\n\t\ta1.value = 100;\r\n\t\ta1.name = &quot;numericAttribute&quot;;\r\n\t\tAttribute a2 = new Attribute();\r\n\t\ta2.id = 2;\r\n\t\ta2.value = 200;\r\n\t\ta2.name = &quot;textAttribute&quot;;\r\n\t\tMap&lt;String, Attribute&gt; atts = new HashMap&lt;&gt;();\r\n\t\tatts.put(&quot;numeric&quot;, a1);\r\n\t\tatts.put(&quot;text&quot;, a2);\r\n\t\tKey k1 = new Key();\r\n\t\tk1.id = 10;\r\n\t\tk1.name = &quot;key1&quot;;\r\n\t\tKey k2 = new Key();\r\n\t\tk2.id = 20;\r\n\t\tk2.name = &quot;key2&quot;;\r\n\t\tData data = new Data();\r\n\t\tdata.attributes = new HashMap&lt;&gt;();\r\n\t\tdata.attributes.put(k1, atts);\r\n\t\tdata.attributes.put(k2, atts);\r\n\r\n\t\tObjectMapper mapper;\r\n\t\tif (&quot;xml&quot;.equals(args[0])) {\r\n\t\t\tmapper = new XmlMapper();\r\n\t\t\tmapper.registerModule(new XmlModule());\r\n\t\t} else {\r\n\t\t\tmapper = new ObjectMapper();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tmapper.writeValue(System.out, data);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonMixInAnnotations\r\n  [2]: http://wiki.fasterxml.com/JacksonFeatureModules","title":"Jackson Serialization: Different formats for XML and JSON","body":"<p>I have a partial solution for you.  With <a href=\"http://wiki.fasterxml.com/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">Jackson mixin feature</a>, it is possible to have different custom deserializers/serializers for XML and JSON </p>\n\n<p>First, you create another POJO class that has properties <strong>with the same name</strong> as the ones of <code>Data</code> class, with the different annotations for custom deserializers/serializers</p>\n\n<pre><code>@JacksonXmlRootElement\npublic static class XmlData\n{\n    @JsonProperty(\"attributes\")\n    @JsonDeserialize(using = XmlAttributesDeserializer.class)  // specify different serializer\n    @JsonSerialize(using = XmlAttributesSerializer.class)  // specify different deserializer\n    @JacksonXmlElementWrapper\n    public Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes;\n}\n</code></pre>\n\n<p>Next, you create a <a href=\"http://wiki.fasterxml.com/JacksonFeatureModules\" rel=\"nofollow noreferrer\">Jackson Module</a> that associates the <code>Data</code> class with the mixin <code>XmlData</code> class, </p>\n\n<pre><code>@SuppressWarnings(\"serial\")\npublic static class XmlModule extends SimpleModule\n{\n    public XmlModule()\n    {\n        super(\"XmlModule\");\n    }\n\n    @Override\n    public void setupModule(SetupContext context)\n    {\n        context.setMixInAnnotations(Data.class, XmlData.class);\n    }\n}\n</code></pre>\n\n<p>Here is a test method that shows how to register the module to the mapper and dynamically serialize to different format:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Attribute a1 = new Attribute();\n    a1.id = 1;\n    a1.value = 100;\n    a1.name = \"numericAttribute\";\n    Attribute a2 = new Attribute();\n    a2.id = 2;\n    a2.value = 200;\n    a2.name = \"textAttribute\";\n    Map&lt;String, Attribute&gt; atts = new HashMap&lt;&gt;();\n    atts.put(\"numeric\", a1);\n    atts.put(\"text\", a2);\n    Key k1 = new Key();\n    k1.id = 10;\n    k1.name = \"key1\";\n    Key k2 = new Key();\n    k2.id = 20;\n    k2.name = \"key2\";\n    Data data = new Data();\n    data.attributes = new HashMap&lt;&gt;();\n    data.attributes.put(k1, atts);\n    data.attributes.put(k2, atts);\n\n    ObjectMapper mapper;\n    if (\"xml\".equals(args[0])) {\n        mapper = new XmlMapper();\n        mapper.registerModule(new XmlModule());\n    } else {\n        mapper = new ObjectMapper();\n    }\n    try {\n        mapper.writeValue(System.out, data);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603055,"reputation":303,"user_id":2254901,"display_name":"alexsvecencu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484824093,"creation_date":1484786126,"answer_id":41731879,"question_id":41664943,"body_markdown":"Besides the solution offered by [sharonbn][1], I&#39;ve found that if you can encapsulate your field into a different class you can then register a different serializer via a module for either Json (ObjectMapper) or Xml (XmlMapper).\r\n\r\nHere&#39;s an example in action:\r\n\r\n    \r\n    public class CustomSerializers {\r\n    \r\n        public static class PojoField {\r\n    \r\n            PojoField() {\r\n                value = &quot;PojoField&quot;;\r\n            }\r\n    \r\n            public String value;\r\n        }\r\n    \r\n        @JacksonXmlRootElement\r\n        public static class Pojo {\r\n    \r\n            Pojo() {\r\n                field = new PojoField();\r\n            }\r\n    \r\n            @JsonProperty(&quot;field&quot;)\r\n            public PojoField field;\r\n        }\r\n    \r\n        public static class PojoFieldJSonSerializer extends JsonSerializer&lt;PojoField&gt; {\r\n    \r\n            @Override\r\n            public void serialize(PojoField pojoField, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n                jsonGenerator.writeObject(pojoField.value + &quot; in JSON&quot;);\r\n            }\r\n        }\r\n    \r\n        public static class PojoFieldXmlSerializer extends JsonSerializer&lt;PojoField&gt; {\r\n    \r\n            @Override\r\n            public void serialize(PojoField pojoField, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n                jsonGenerator.writeObject(pojoField.value + &quot; in XMl&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String []args) throws IOException {\r\n            Pojo pojo = new Pojo();\r\n    \r\n            SimpleModule objectMapperModule = new SimpleModule();\r\n            objectMapperModule.addSerializer(PojoField.class, new PojoFieldJSonSerializer());\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(objectMapperModule);\r\n    \r\n            objectMapper.writeValue(new File(&quot;pojo.json&quot;), pojo);\r\n    \r\n            SimpleModule xmlMapperModule = new SimpleModule();\r\n            xmlMapperModule.addSerializer(PojoField.class, new PojoFieldXmlSerializer());\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            xmlMapper.registerModule(xmlMapperModule);\r\n    \r\n            xmlMapper.writeValue(new File(&quot;pojo.xml&quot;), pojo);\r\n    \r\n        }\r\n    }\r\n\r\nThe output for JSON will be:\r\n\r\n    {&quot;field&quot;: &quot;PojoField in JSON&quot;}\r\n\r\nThe output for XML:\r\n\r\n    &lt;Pojo&gt;\r\n        &lt;field&gt;PojoField in XMl&lt;/field&gt;\r\n    &lt;/Pojo&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41691649/2254901","title":"Jackson Serialization: Different formats for XML and JSON","body":"<p>Besides the solution offered by <a href=\"https://stackoverflow.com/a/41691649/2254901\">sharonbn</a>, I've found that if you can encapsulate your field into a different class you can then register a different serializer via a module for either Json (ObjectMapper) or Xml (XmlMapper).</p>\n\n<p>Here's an example in action:</p>\n\n<pre><code>public class CustomSerializers {\n\n    public static class PojoField {\n\n        PojoField() {\n            value = \"PojoField\";\n        }\n\n        public String value;\n    }\n\n    @JacksonXmlRootElement\n    public static class Pojo {\n\n        Pojo() {\n            field = new PojoField();\n        }\n\n        @JsonProperty(\"field\")\n        public PojoField field;\n    }\n\n    public static class PojoFieldJSonSerializer extends JsonSerializer&lt;PojoField&gt; {\n\n        @Override\n        public void serialize(PojoField pojoField, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n            jsonGenerator.writeObject(pojoField.value + \" in JSON\");\n        }\n    }\n\n    public static class PojoFieldXmlSerializer extends JsonSerializer&lt;PojoField&gt; {\n\n        @Override\n        public void serialize(PojoField pojoField, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n            jsonGenerator.writeObject(pojoField.value + \" in XMl\");\n        }\n    }\n\n    public static void main(String []args) throws IOException {\n        Pojo pojo = new Pojo();\n\n        SimpleModule objectMapperModule = new SimpleModule();\n        objectMapperModule.addSerializer(PojoField.class, new PojoFieldJSonSerializer());\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(objectMapperModule);\n\n        objectMapper.writeValue(new File(\"pojo.json\"), pojo);\n\n        SimpleModule xmlMapperModule = new SimpleModule();\n        xmlMapperModule.addSerializer(PojoField.class, new PojoFieldXmlSerializer());\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.registerModule(xmlMapperModule);\n\n        xmlMapper.writeValue(new File(\"pojo.xml\"), pojo);\n\n    }\n}\n</code></pre>\n\n<p>The output for JSON will be:</p>\n\n<pre><code>{\"field\": \"PojoField in JSON\"}\n</code></pre>\n\n<p>The output for XML:</p>\n\n<pre><code>&lt;Pojo&gt;\n    &lt;field&gt;PojoField in XMl&lt;/field&gt;\n&lt;/Pojo&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10315601,"reputation":1,"user_id":7610019,"display_name":"Olga Kulykova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641561254,"creation_date":1641561254,"answer_id":70621801,"question_id":41664943,"body_markdown":"Could it be the solution to use the only Serializer/Derializer for both Json and Xml, and inside of them check the type of JsonGenerator (json or xml) and apply the logic related to the specific format?\r\nLike that\r\n\r\n        public class AttributeSerializer extends JsonSerializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Map&lt;Key, Map&lt;String, Attribute&gt;&gt; value, JsonGenerator gen, SerializerProvider serializers)\r\n            throws IOException, JsonProcessingException {\r\n                if (gen instanceof ToXmlGenerator) {\r\n                    //apply logic to format xml structure\r\n                } else {\r\n                    //apply logic to format json or else \r\n                }\r\n        }\r\n    }\r\n\r\nI understand that using `instaceOf` is not a good architecture, but this way we avoid duplication of dto for xml.","title":"Jackson Serialization: Different formats for XML and JSON","body":"<p>Could it be the solution to use the only Serializer/Derializer for both Json and Xml, and inside of them check the type of JsonGenerator (json or xml) and apply the logic related to the specific format?\nLike that</p>\n<pre><code>    public class AttributeSerializer extends JsonSerializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\n\n    @Override\n    public void serialize(Map&lt;Key, Map&lt;String, Attribute&gt;&gt; value, JsonGenerator gen, SerializerProvider serializers)\n        throws IOException, JsonProcessingException {\n            if (gen instanceof ToXmlGenerator) {\n                //apply logic to format xml structure\n            } else {\n                //apply logic to format json or else \n            }\n    }\n}\n</code></pre>\n<p>I understand that using <code>instaceOf</code> is not a good architecture, but this way we avoid duplication of dto for xml.</p>\n"}],"owner":{"account_id":2603055,"reputation":303,"user_id":2254901,"display_name":"alexsvecencu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5454,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41691649,"answer_count":3,"score":6,"last_activity_date":1641561254,"creation_date":1484506159,"question_id":41664943,"body_markdown":"I use Jackson to serialize/deserialize my application&#39;s model into both JSON and XML (need them both). \r\n\r\nModel classes:\r\n\r\n   \r\n\r\n    @JacksonXmlRootElement\r\n    public class Data { \r\n        @JsonProperty(&quot;attributes&quot;)\r\n        @JsonDeserialize(using = AttributesDeserializer.class)\r\n        @JsonSerialize(using = AttributesSerializer.class)\r\n        @JacksonXmlElementWrapper\r\n        private Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes;\r\n....\r\n \r\n    public class Key {\r\n            private Integer id;\r\n            private String name;\r\n....\r\n\r\n    public class Attribute {\r\n        private Integer id;\r\n        private Integer value;\r\n        private String name;\r\n\r\nI need my JSON to look like this:\r\n\r\n     {\r\n      &quot;attributes&quot;: [\r\n        {\r\n          &quot;key&quot;: {\r\n            &quot;id&quot;: 10,\r\n            &quot;name&quot;: &quot;key1&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;numeric&quot;: {\r\n              &quot;id&quot;: 1,\r\n              &quot;value&quot;: 100,\r\n              &quot;name&quot;: &quot;numericAttribute&quot;\r\n            },\r\n            &quot;text&quot;: {\r\n              &quot;id&quot;: 2,\r\n              &quot;value&quot;: 200,\r\n              &quot;name&quot;: &quot;textAttribute&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;key&quot;: {\r\n            &quot;id&quot;: 20,\r\n            &quot;name&quot;: &quot;key2&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;numeric&quot;: {\r\n              &quot;id&quot;: 1,\r\n              &quot;value&quot;: 100,\r\n              &quot;name&quot;: &quot;numericAttribute&quot;\r\n            },\r\n            &quot;text&quot;: {\r\n              &quot;id&quot;: 2,\r\n              &quot;value&quot;: 200,\r\n              &quot;name&quot;: &quot;textAttribute&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nAnd my XML something like this:\r\n\r\n    &lt;Data&gt;\r\n        &lt;attributes&gt;\r\n            &lt;key&gt;\r\n                &lt;id&gt;10&lt;/id&gt;\r\n                &lt;name&gt;key1&lt;/name&gt;\r\n            &lt;/key&gt;\r\n            &lt;value&gt;\r\n                &lt;numeric&gt;\r\n                    &lt;id&gt;1&lt;/id&gt;\r\n                    &lt;value&gt;100&lt;/value&gt;\r\n                    &lt;name&gt;numericAttribute&lt;/name&gt;\r\n                &lt;/numeric&gt;\r\n                &lt;text&gt;\r\n                    &lt;id&gt;2&lt;/id&gt;\r\n                    &lt;value&gt;200&lt;/value&gt;\r\n                    &lt;name&gt;textAttribute&lt;/name&gt;\r\n                &lt;/text&gt;\r\n            &lt;/value&gt;\r\n            &lt;key&gt;\r\n                &lt;id&gt;20&lt;/id&gt;\r\n                &lt;name&gt;key2&lt;/name&gt;\r\n            &lt;/key&gt;\r\n            &lt;value&gt;\r\n                &lt;numeric&gt;\r\n                    &lt;id&gt;1&lt;/id&gt;\r\n                    &lt;value&gt;100&lt;/value&gt;\r\n                    &lt;name&gt;numericAttribute&lt;/name&gt;\r\n                &lt;/numeric&gt;\r\n                &lt;text&gt;\r\n                    &lt;id&gt;2&lt;/id&gt;\r\n                    &lt;value&gt;200&lt;/value&gt;\r\n                    &lt;name&gt;textAttribute&lt;/name&gt;\r\n                &lt;/text&gt;\r\n            &lt;/value&gt;\r\n        &lt;/attributes&gt;\r\n    &lt;/Data&gt;\r\n\r\nI am obtaining both the required JSON and XML with the custom serializer:\r\n\r\n    public class AttributesSerializer extends JsonSerializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Map&lt;Key, Map&lt;String, Attribute&gt;&gt; map, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n            jsonGenerator.writeStartArray();\r\n            for (Map.Entry&lt;Key, Map&lt;String, Attribute&gt;&gt; entry : map.entrySet()) {\r\n                jsonGenerator.writeStartObject();\r\n                jsonGenerator.writeObjectField(&quot;key&quot;, entry.getKey());\r\n                jsonGenerator.writeObjectFieldStart(&quot;value&quot;);\r\n                for (Map.Entry&lt;String, Attribute&gt; attributesEntry : entry.getValue().entrySet()) {\r\n                    jsonGenerator.writeObjectField(attributesEntry.getKey(), attributesEntry.getValue());\r\n                }\r\n                jsonGenerator.writeEndObject();\r\n                jsonGenerator.writeEndObject();\r\n            }\r\n            jsonGenerator.writeEndArray();\r\n        }\r\n    }\r\n\r\nAnd the deserialization works fine for the JSON with the custom deserializer:\r\n\r\n    public class AttributesDeserializer extends JsonDeserializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\r\n        @Override\r\n        public Map&lt;Key, Map&lt;String, Attribute&gt;&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n            JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n            if (node.size() == 0) {\r\n                return null;\r\n            }\r\n            ObjectMapper om = new ObjectMapper();\r\n            Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes = new HashMap&lt;&gt;();\r\n            node.forEach(jsonNode -&gt; {\r\n                Map&lt;String, Attribute&gt; attributesMap = new HashMap&lt;&gt;();\r\n                JsonNode keyNode = jsonNode.get(&quot;key&quot;);\r\n                Key key = om.convertValue(keyNode, Key.class);\r\n                JsonNode valueNode = jsonNode.get(&quot;value&quot;);\r\n                Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; attributesIterator = valueNode.fields();\r\n                while(attributesIterator.hasNext()) {\r\n                    Map.Entry&lt;String, JsonNode&gt; field = attributesIterator.next();\r\n                    Attribute attribute = om.convertValue(field.getValue(), Attribute.class);\r\n                    attributesMap.put(field.getKey(), attribute);\r\n                }\r\n                attributes.put(key, attributesMap);\r\n            });\r\n    \r\n    \r\n            return attributes;\r\n        }\r\n    }\r\n\r\nWhile everything is fine for the JSON, for the XML the application crashes in the deserialization:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: ro.alexsvecencu.jackson.Data[&quot;attributes&quot;])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1599)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:278)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:140)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3798)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2740)\r\n    \tat ro.alexsvecencu.jackson.Main.main(Main.java:27)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat ro.alexsvecencu.jackson.AttributesDeserializer.lambda$deserialize$0(AttributesDeserializer.java:29)\r\n    \tat ro.alexsvecencu.jackson.AttributesDeserializer$$Lambda$1/1709366259.accept(Unknown Source)\r\n    \tat java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat ro.alexsvecencu.jackson.AttributesDeserializer.deserialize(AttributesDeserializer.java:24)\r\n    \tat ro.alexsvecencu.jackson.AttributesDeserializer.deserialize(AttributesDeserializer.java:15)\r\n    \tat com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:499)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:101)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276)\r\n    \t... 9 more\r\n\r\nWhat&#39;s happening is that my custom deserializer crashes for the XML, because obviously it&#39;s not interpreting all the attributes as an &#39;array&#39; and when I&#39;m going through the jsonNode&#39;s children it will iterate through the keys/values. Also, through debugging I notice that the deserializer is just called for the LAST tag of attributes from XML.\r\n\r\n**Is there any way to tell Jackson to use specific custom deserializers/serializers that are different for XML and JSON?** That&#39;s one way in which I think this could be solved.\r\n\r\nMy XML could be formatted a bit different (I&#39;m not really constrained in it&#39;s form, but the JSON has to keep that format). With this flexibility, do you see any alternative to solving my issue? I could just use something different for XML, like JAXB, but I&#39;m pretty much constrained to use Jackson for both.\r\n\r\n","title":"Jackson Serialization: Different formats for XML and JSON","body":"<p>I use Jackson to serialize/deserialize my application's model into both JSON and XML (need them both). </p>\n\n<p>Model classes:</p>\n\n<pre><code>@JacksonXmlRootElement\npublic class Data { \n    @JsonProperty(\"attributes\")\n    @JsonDeserialize(using = AttributesDeserializer.class)\n    @JsonSerialize(using = AttributesSerializer.class)\n    @JacksonXmlElementWrapper\n    private Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes;\n</code></pre>\n\n<p>....</p>\n\n<pre><code>public class Key {\n        private Integer id;\n        private String name;\n</code></pre>\n\n<p>....</p>\n\n<pre><code>public class Attribute {\n    private Integer id;\n    private Integer value;\n    private String name;\n</code></pre>\n\n<p>I need my JSON to look like this:</p>\n\n<pre><code> {\n  \"attributes\": [\n    {\n      \"key\": {\n        \"id\": 10,\n        \"name\": \"key1\"\n      },\n      \"value\": {\n        \"numeric\": {\n          \"id\": 1,\n          \"value\": 100,\n          \"name\": \"numericAttribute\"\n        },\n        \"text\": {\n          \"id\": 2,\n          \"value\": 200,\n          \"name\": \"textAttribute\"\n        }\n      }\n    },\n    {\n      \"key\": {\n        \"id\": 20,\n        \"name\": \"key2\"\n      },\n      \"value\": {\n        \"numeric\": {\n          \"id\": 1,\n          \"value\": 100,\n          \"name\": \"numericAttribute\"\n        },\n        \"text\": {\n          \"id\": 2,\n          \"value\": 200,\n          \"name\": \"textAttribute\"\n        }\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>And my XML something like this:</p>\n\n<pre><code>&lt;Data&gt;\n    &lt;attributes&gt;\n        &lt;key&gt;\n            &lt;id&gt;10&lt;/id&gt;\n            &lt;name&gt;key1&lt;/name&gt;\n        &lt;/key&gt;\n        &lt;value&gt;\n            &lt;numeric&gt;\n                &lt;id&gt;1&lt;/id&gt;\n                &lt;value&gt;100&lt;/value&gt;\n                &lt;name&gt;numericAttribute&lt;/name&gt;\n            &lt;/numeric&gt;\n            &lt;text&gt;\n                &lt;id&gt;2&lt;/id&gt;\n                &lt;value&gt;200&lt;/value&gt;\n                &lt;name&gt;textAttribute&lt;/name&gt;\n            &lt;/text&gt;\n        &lt;/value&gt;\n        &lt;key&gt;\n            &lt;id&gt;20&lt;/id&gt;\n            &lt;name&gt;key2&lt;/name&gt;\n        &lt;/key&gt;\n        &lt;value&gt;\n            &lt;numeric&gt;\n                &lt;id&gt;1&lt;/id&gt;\n                &lt;value&gt;100&lt;/value&gt;\n                &lt;name&gt;numericAttribute&lt;/name&gt;\n            &lt;/numeric&gt;\n            &lt;text&gt;\n                &lt;id&gt;2&lt;/id&gt;\n                &lt;value&gt;200&lt;/value&gt;\n                &lt;name&gt;textAttribute&lt;/name&gt;\n            &lt;/text&gt;\n        &lt;/value&gt;\n    &lt;/attributes&gt;\n&lt;/Data&gt;\n</code></pre>\n\n<p>I am obtaining both the required JSON and XML with the custom serializer:</p>\n\n<pre><code>public class AttributesSerializer extends JsonSerializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\n\n    @Override\n    public void serialize(Map&lt;Key, Map&lt;String, Attribute&gt;&gt; map, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n        jsonGenerator.writeStartArray();\n        for (Map.Entry&lt;Key, Map&lt;String, Attribute&gt;&gt; entry : map.entrySet()) {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeObjectField(\"key\", entry.getKey());\n            jsonGenerator.writeObjectFieldStart(\"value\");\n            for (Map.Entry&lt;String, Attribute&gt; attributesEntry : entry.getValue().entrySet()) {\n                jsonGenerator.writeObjectField(attributesEntry.getKey(), attributesEntry.getValue());\n            }\n            jsonGenerator.writeEndObject();\n            jsonGenerator.writeEndObject();\n        }\n        jsonGenerator.writeEndArray();\n    }\n}\n</code></pre>\n\n<p>And the deserialization works fine for the JSON with the custom deserializer:</p>\n\n<pre><code>public class AttributesDeserializer extends JsonDeserializer&lt;Map&lt;Key, Map&lt;String, Attribute&gt;&gt;&gt; {\n    @Override\n    public Map&lt;Key, Map&lt;String, Attribute&gt;&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        if (node.size() == 0) {\n            return null;\n        }\n        ObjectMapper om = new ObjectMapper();\n        Map&lt;Key, Map&lt;String, Attribute&gt;&gt; attributes = new HashMap&lt;&gt;();\n        node.forEach(jsonNode -&gt; {\n            Map&lt;String, Attribute&gt; attributesMap = new HashMap&lt;&gt;();\n            JsonNode keyNode = jsonNode.get(\"key\");\n            Key key = om.convertValue(keyNode, Key.class);\n            JsonNode valueNode = jsonNode.get(\"value\");\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; attributesIterator = valueNode.fields();\n            while(attributesIterator.hasNext()) {\n                Map.Entry&lt;String, JsonNode&gt; field = attributesIterator.next();\n                Attribute attribute = om.convertValue(field.getValue(), Attribute.class);\n                attributesMap.put(field.getKey(), attribute);\n            }\n            attributes.put(key, attributesMap);\n        });\n\n\n        return attributes;\n    }\n}\n</code></pre>\n\n<p>While everything is fine for the JSON, for the XML the application crashes in the deserialization:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: ro.alexsvecencu.jackson.Data[\"attributes\"])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1599)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:278)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:140)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3798)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2740)\n    at ro.alexsvecencu.jackson.Main.main(Main.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: java.lang.NullPointerException\n    at ro.alexsvecencu.jackson.AttributesDeserializer.lambda$deserialize$0(AttributesDeserializer.java:29)\n    at ro.alexsvecencu.jackson.AttributesDeserializer$$Lambda$1/1709366259.accept(Unknown Source)\n    at java.lang.Iterable.forEach(Iterable.java:75)\n    at ro.alexsvecencu.jackson.AttributesDeserializer.deserialize(AttributesDeserializer.java:24)\n    at ro.alexsvecencu.jackson.AttributesDeserializer.deserialize(AttributesDeserializer.java:15)\n    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:499)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:101)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276)\n    ... 9 more\n</code></pre>\n\n<p>What's happening is that my custom deserializer crashes for the XML, because obviously it's not interpreting all the attributes as an 'array' and when I'm going through the jsonNode's children it will iterate through the keys/values. Also, through debugging I notice that the deserializer is just called for the LAST tag of attributes from XML.</p>\n\n<p><strong>Is there any way to tell Jackson to use specific custom deserializers/serializers that are different for XML and JSON?</strong> That's one way in which I think this could be solved.</p>\n\n<p>My XML could be formatted a bit different (I'm not really constrained in it's form, but the JSON has to keep that format). With this flexibility, do you see any alternative to solving my issue? I could just use something different for XML, like JAXB, but I'm pretty much constrained to use Jackson for both.</p>\n"},{"tags":["java","android","arrays","android-bitmap"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641560761,"post_id":70620686,"comment_id":124841869,"body_markdown":"I see no byte array. And why do you think that we would know if it is outputting the right values? We dont even know what you wanna output. And also not what you get as output. You could post some log lines to show. Further as you are manupulating the four bytes of an integer you should output all values in hexadecimal notation as then you see what happens.","body":"I see no byte array. And why do you think that we would know if it is outputting the right values? We dont even know what you wanna output. And also not what you get as output. You could post some log lines to show. Further as you are manupulating the four bytes of an integer you should output all values in hexadecimal notation as then you see what happens."},{"owner":{"account_id":20539083,"reputation":1,"user_id":15074370,"display_name":"ThatMG393"},"score":0,"creation_date":1641561169,"post_id":70620686,"comment_id":124842009,"body_markdown":"I updated it and the some of the byte returns negative.","body":"I updated it and the some of the byte returns negative."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641561216,"post_id":70620686,"comment_id":124842029,"body_markdown":"Output all in hexadecimal notation to begin with. Otherwise you are blind. And there is no negative with hexadecimal notation.","body":"Output all in hexadecimal notation to begin with. Otherwise you are blind. And there is no negative with hexadecimal notation."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641561370,"post_id":70620686,"comment_id":124842088,"body_markdown":"And before you start shifting print `bitmap.getPixel(x, y)` in hexadecimal notation. Then you see what you handle.","body":"And before you start shifting print <code>bitmap.getPixel(x, y)</code> in hexadecimal notation. Then you see what you handle."}],"owner":{"account_id":20539083,"reputation":1,"user_id":15074370,"display_name":"ThatMG393"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641561106,"creation_date":1641555527,"question_id":70620686,"body_markdown":"So i&#39;m trying to get a byte array of compressed data in an image, the maker told me that I need to read every color channel.\r\n\r\nHere&#39;s my code so far:\r\n```\r\nbyte[] RGBAb = null;\r\nfor (int x = 0; x &lt; bitmap.getWidth(); x++) \r\n\t\t\t{\r\n\t\t\t\tfor (int y = 0; y &lt; bitmap.getHeight(); y++) \r\n\t\t\t\t{\r\n\t\t\t\t\tint mask = 0xFF;\r\n\t\t\t\t\t\r\n\t\t\t\t\tInteger R = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 16 &amp; mask);\r\n\t\t\t\t\tInteger G = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 8 &amp; mask);\r\n\t\t\t\t\tInteger B = Math.abs(bitmap.getPixel(x, y) &amp; mask);\r\n\t\t\t\t\tInteger A = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 24 &amp; mask);\r\n\t\t\t\t\t\r\n\t\t\t\t\tbyte Rb = R.byteValue();\r\n\t\t\t\t\tbyte Gb = G.byteValue();\r\n\t\t\t\t\tbyte Bb = B.byteValue();\r\n\t\t\t\t\tbyte Ab = A.byteValue();\r\n\t\t\t\t\t\r\n\t\t\t\t\tRGBAb = new byte[] { Rb, Gb, Bb, Ab};\r\n\t\t\t\t\t\r\n\t\t\t\t\t//System.out.println(&quot;Red&quot; + R + &quot;\\n Red to bytes: &quot; + Rb);\r\n\t\t\t\t\t//System.out.println(&quot;Green&quot; + G + &quot;\\n Green to bytes: &quot; + Gb);\r\n\t\t\t\t\t//System.out.println(&quot;Blue&quot; + B + &quot;\\n Blue to bytes: &quot; + Bb);\r\n\t\t\t\t\t//System.out.println(&quot;Alpha&quot; + A + &quot;\\n Alpha to bytes: &quot; + Ab);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;RGBA Bytes COMBINED \\n&quot; + RGBAb);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\nI dont know if it&#39;s outputting the right value.\r\n\r\nThis is the photo im reading:\r\n[Click Me][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y7mVr.jpg","title":"How read every pixel of image and take couple of last bits from every color channel(RGBA)","body":"<p>So i'm trying to get a byte array of compressed data in an image, the maker told me that I need to read every color channel.</p>\n<p>Here's my code so far:</p>\n<pre><code>byte[] RGBAb = null;\nfor (int x = 0; x &lt; bitmap.getWidth(); x++) \n            {\n                for (int y = 0; y &lt; bitmap.getHeight(); y++) \n                {\n                    int mask = 0xFF;\n                    \n                    Integer R = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 16 &amp; mask);\n                    Integer G = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 8 &amp; mask);\n                    Integer B = Math.abs(bitmap.getPixel(x, y) &amp; mask);\n                    Integer A = Math.abs(bitmap.getPixel(x, y) &gt;&gt; 24 &amp; mask);\n                    \n                    byte Rb = R.byteValue();\n                    byte Gb = G.byteValue();\n                    byte Bb = B.byteValue();\n                    byte Ab = A.byteValue();\n                    \n                    RGBAb = new byte[] { Rb, Gb, Bb, Ab};\n                    \n                    //System.out.println(&quot;Red&quot; + R + &quot;\\n Red to bytes: &quot; + Rb);\n                    //System.out.println(&quot;Green&quot; + G + &quot;\\n Green to bytes: &quot; + Gb);\n                    //System.out.println(&quot;Blue&quot; + B + &quot;\\n Blue to bytes: &quot; + Bb);\n                    //System.out.println(&quot;Alpha&quot; + A + &quot;\\n Alpha to bytes: &quot; + Ab);\n                    \n                    System.out.println(&quot;RGBA Bytes COMBINED \\n&quot; + RGBAb);\n                    \n                }\n            }\n</code></pre>\n<p>I dont know if it's outputting the right value.</p>\n<p>This is the photo im reading:\n<a href=\"https://i.stack.imgur.com/y7mVr.jpg\" rel=\"nofollow noreferrer\">Click Me</a></p>\n"},{"tags":["java","replace"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1641560296,"post_id":70621563,"comment_id":124841689,"body_markdown":"Like `.replaceAll(&quot;(&amp;nbsp;)+&quot;, &quot;&amp;nbsp;&quot;)`?","body":"Like <code>.replaceAll(&quot;(&amp;nbsp;)+&quot;, &quot;&amp;nbsp;&quot;)</code>?"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1641560796,"post_id":70621563,"comment_id":124841886,"body_markdown":"@OHGODSPIDERS Thank you, just realized how silly my question was. If you post it as answer I would be happy to accept it.","body":"@OHGODSPIDERS Thank you, just realized how silly my question was. If you post it as answer I would be happy to accept it."}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641561089,"creation_date":1641561089,"answer_id":70621772,"question_id":70621563,"body_markdown":"String has a second method to replace substrings besides the standard `replace` that takes a regular expression as an argument called `replaceAll`. (*) \r\n\r\nWith that method you can easily do it with a simply\r\n\r\n     .replaceAll(&quot;(&amp;nbsp;)+&quot;, &quot;&amp;nbsp;&quot;)\r\n\r\n\r\n(*) That those 2 method are really badly named and often confuse beginners is a very well known weakness of java/the String class.","title":"Replace multiple occurrencies of a substring with a single occurrence of it","body":"<p>String has a second method to replace substrings besides the standard <code>replace</code> that takes a regular expression as an argument called <code>replaceAll</code>. (*)</p>\n<p>With that method you can easily do it with a simply</p>\n<pre><code> .replaceAll(&quot;(&amp;nbsp;)+&quot;, &quot;&amp;nbsp;&quot;)\n</code></pre>\n<p>(*) That those 2 method are really badly named and often confuse beginners is a very well known weakness of java/the String class.</p>\n"}],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70621772,"answer_count":1,"score":0,"last_activity_date":1641561089,"creation_date":1641559985,"question_id":70621563,"body_markdown":"I am trying to perform a cleaning of a HTML text, and I want to replace multiple occurrencies of `&amp;nbsp;` with a single occurrence of it.\r\n\r\nSo, for example:\r\n\r\n    &lt;o:p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/o:p&gt;&lt;/b&gt;&lt;/p&gt; \r\n\r\nshould become\r\n\r\n    &lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/b&gt;&lt;/p&gt;\r\n\r\ndespite the number of `&amp;nbsp;`s, that could vary.\r\n\r\nI could use a `replace()` in a loop, repeating until the result varies. But I think there could exist a one-linear or at least a smarter method.","title":"Replace multiple occurrencies of a substring with a single occurrence of it","body":"<p>I am trying to perform a cleaning of a HTML text, and I want to replace multiple occurrencies of <code>&amp;nbsp;</code> with a single occurrence of it.</p>\n<p>So, for example:</p>\n<pre><code>&lt;o:p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/o:p&gt;&lt;/b&gt;&lt;/p&gt; \n</code></pre>\n<p>should become</p>\n<pre><code>&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/b&gt;&lt;/p&gt;\n</code></pre>\n<p>despite the number of <code>&amp;nbsp;</code>s, that could vary.</p>\n<p>I could use a <code>replace()</code> in a loop, repeating until the result varies. But I think there could exist a one-linear or at least a smarter method.</p>\n"},{"tags":["java","linked-list","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641560239,"creation_date":1641560239,"answer_id":70621614,"question_id":70621573,"body_markdown":"You forgot to set `node.value = num` in `insertIntoCircularDoublyLinkedList`.","title":"Insertion method in circular doubly linked list in java","body":"<p>You forgot to set <code>node.value = num</code> in <code>insertIntoCircularDoublyLinkedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641560963,"creation_date":1641560963,"answer_id":70621752,"question_id":70621573,"body_markdown":"You should assign a value to your node. If you designed the `Node` class well, its constructor can take this value as argument.\r\n\r\nSome other issues:\r\n\r\n* When the given location is 0, the new node should become the head of the list, otherwise your new node will be seen as the *last* node in the list.\r\n\r\n* When the list is empty, you should avoid errors and just create the head node that references itself and return\r\n\r\n* I would not use the term &quot;CircularLinkedList&quot; in the method name, as your class already bears that name, and it is clear what this method deals with.\r\n\r\nSo:\r\n\r\n```\r\npublic void insert(int location, int num) {\r\n    Node node = new Node(num); // &lt;-- pass num to the constructor\r\n    if (head == null) { // Boundary case\r\n        head = node;\r\n        head.next = head.prev = head;\r\n        return;\r\n    }\r\n    Node tempNode = head;\r\n    int index = 0;\r\n    while (index &lt; location) {\r\n        tempNode = tempNode.next;\r\n        index++;\r\n    }\r\n    node.prev = tempNode.prev;\r\n    node.next = tempNode;\r\n    tempNode.prev.next = node;\r\n    tempNode.prev = node;\r\n    if (location == 0) { // Make new node the head\r\n        head = node;\r\n    }\r\n    size++;\r\n}\r\n```","title":"Insertion method in circular doubly linked list in java","body":"<p>You should assign a value to your node. If you designed the <code>Node</code> class well, its constructor can take this value as argument.</p>\n<p>Some other issues:</p>\n<ul>\n<li><p>When the given location is 0, the new node should become the head of the list, otherwise your new node will be seen as the <em>last</em> node in the list.</p>\n</li>\n<li><p>When the list is empty, you should avoid errors and just create the head node that references itself and return</p>\n</li>\n<li><p>I would not use the term &quot;CircularLinkedList&quot; in the method name, as your class already bears that name, and it is clear what this method deals with.</p>\n</li>\n</ul>\n<p>So:</p>\n<pre><code>public void insert(int location, int num) {\n    Node node = new Node(num); // &lt;-- pass num to the constructor\n    if (head == null) { // Boundary case\n        head = node;\n        head.next = head.prev = head;\n        return;\n    }\n    Node tempNode = head;\n    int index = 0;\n    while (index &lt; location) {\n        tempNode = tempNode.next;\n        index++;\n    }\n    node.prev = tempNode.prev;\n    node.next = tempNode;\n    tempNode.prev.next = node;\n    tempNode.prev = node;\n    if (location == 0) { // Make new node the head\n        head = node;\n    }\n    size++;\n}\n</code></pre>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1641568285,"accepted_answer_id":70621752,"answer_count":2,"score":0,"last_activity_date":1641560963,"creation_date":1641560033,"question_id":70621573,"body_markdown":"I am a **beginner in java**. I am trying to write a program that inserts a node at a given position and displays the entire linked list. However, my nodes seem to be not getting inserted and when I display the linked list only the first node value is getting displayed. Could someone please explain where I am going wrong?\r\n\r\n//Here,location is index location. Index starts from 0 and ends with size-1 just like an array. \r\n\r\n//Code for insertion\r\n```\r\npublic void insertIntoCircularDoublyLinkedList(int location,int num){\r\n    Node node=new Node();\r\n      Node tempNode=head;\r\n      int index=0;\r\n\r\n      while(index&lt;location){\r\n        tempNode=tempNode.next;\r\n        index++;\r\n      }\r\n      node.prev=tempNode.prev;\r\n      node.next=tempNode;\r\n      tempNode.prev.next=node;\r\n      tempNode.prev=node;\r\n    }\r\n    size++;\r\n  }\r\n```\r\n//Code for traversal\r\n```\r\n void traverseCDLL() {\r\n    if (head != null) {\r\n      Node tempNode = head;\r\n      for (int i=0; i &lt; size; i++) {\r\n        System.out.print(tempNode.value);\r\n        if (i != size - 1) {\r\n          System.out.print(&quot; -&gt; &quot;);\r\n        }\r\n        tempNode = tempNode.next;\r\n      }\r\n    } else {\r\n      System.out.println(&quot;The CDLL does not exist.&quot;);\r\n    }\r\n    System.out.println();\r\n  }\r\n```\r\n//Main method\r\n``` \r\npublic static void main(String[] args) {    \r\nCircularDoublyLinkedList CDLL=new CircularDoublyLinkedList();   \r\nCDLL.createCircularDoublyLinkedList(8);   \r\nCDLL.insertIntoCircularDoublyLinkedList(1, 1);\r\nCDLL.insertIntoCircularDoublyLinkedList(2, 2);\r\nCDLL.insertIntoCircularDoublyLinkedList(3, 3);\r\nCDLL.insertIntoCircularDoublyLinkedList(4, 4);\r\n\r\nCDLL.traverseCDLL();\r\n}\r\n```  \r\nOutput:\r\n```\r\n8 -&gt; 0 -&gt; 0 -&gt; 0 -&gt; 0\r\n```","title":"Insertion method in circular doubly linked list in java","body":"<p>I am a <strong>beginner in java</strong>. I am trying to write a program that inserts a node at a given position and displays the entire linked list. However, my nodes seem to be not getting inserted and when I display the linked list only the first node value is getting displayed. Could someone please explain where I am going wrong?</p>\n<p>//Here,location is index location. Index starts from 0 and ends with size-1 just like an array.</p>\n<p>//Code for insertion</p>\n<pre><code>public void insertIntoCircularDoublyLinkedList(int location,int num){\n    Node node=new Node();\n      Node tempNode=head;\n      int index=0;\n\n      while(index&lt;location){\n        tempNode=tempNode.next;\n        index++;\n      }\n      node.prev=tempNode.prev;\n      node.next=tempNode;\n      tempNode.prev.next=node;\n      tempNode.prev=node;\n    }\n    size++;\n  }\n</code></pre>\n<p>//Code for traversal</p>\n<pre><code> void traverseCDLL() {\n    if (head != null) {\n      Node tempNode = head;\n      for (int i=0; i &lt; size; i++) {\n        System.out.print(tempNode.value);\n        if (i != size - 1) {\n          System.out.print(&quot; -&gt; &quot;);\n        }\n        tempNode = tempNode.next;\n      }\n    } else {\n      System.out.println(&quot;The CDLL does not exist.&quot;);\n    }\n    System.out.println();\n  }\n</code></pre>\n<p>//Main method</p>\n<pre><code>public static void main(String[] args) {    \nCircularDoublyLinkedList CDLL=new CircularDoublyLinkedList();   \nCDLL.createCircularDoublyLinkedList(8);   \nCDLL.insertIntoCircularDoublyLinkedList(1, 1);\nCDLL.insertIntoCircularDoublyLinkedList(2, 2);\nCDLL.insertIntoCircularDoublyLinkedList(3, 3);\nCDLL.insertIntoCircularDoublyLinkedList(4, 4);\n\nCDLL.traverseCDLL();\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>8 -&gt; 0 -&gt; 0 -&gt; 0 -&gt; 0\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1641558988,"post_id":70621271,"comment_id":124841196,"body_markdown":"Compiled .class files do not need their original compiler/library producer (scalac, other vendor&#39;s javac, python).","body":"Compiled .class files do not need their original compiler/library producer (scalac, other vendor&#39;s javac, python)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641558733,"creation_date":1641558733,"answer_id":70621329,"question_id":70621271,"body_markdown":"Dependencies ship in class file form. That `JavaConverters` class must indeed be compiled by `scalac`. However, the maintainers of janino have done this on their hardware, shipped the compiled result to mavencentral&#39;s servers, which distributed it to all mirrors, which is how it ended up on your system&#39;s disk, which is why you _do not_ need `scalac` to use it.\r\n","title":"how come scala code gets compiled with Java?","body":"<p>Dependencies ship in class file form. That <code>JavaConverters</code> class must indeed be compiled by <code>scalac</code>. However, the maintainers of janino have done this on their hardware, shipped the compiled result to mavencentral's servers, which distributed it to all mirrors, which is how it ended up on your system's disk, which is why you <em>do not</em> need <code>scalac</code> to use it.</p>\n"},{"tags":[],"owner":{"account_id":23846524,"reputation":1,"user_id":17850943,"display_name":"47rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641560792,"creation_date":1641560365,"answer_id":70621643,"question_id":70621271,"body_markdown":"The jars, they have compiled files only. They will not have the source files. If you are using any dependency, it is not the source, it is compiled output. So, in your case, `JavaConverters`, is compiled too. And it is from the package `scala.collection` which is a built-in package.\r\n\r\nMay I know you have Scala installed on your system?","title":"how come scala code gets compiled with Java?","body":"<p>The jars, they have compiled files only. They will not have the source files. If you are using any dependency, it is not the source, it is compiled output. So, in your case, <code>JavaConverters</code>, is compiled too. And it is from the package <code>scala.collection</code> which is a built-in package.</p>\n<p>May I know you have Scala installed on your system?</p>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70621329,"answer_count":2,"score":-1,"last_activity_date":1641560792,"creation_date":1641558465,"question_id":70621271,"body_markdown":"I&#39;m trying to understand how Scala code works with Java in Java&#39;s IDE. I got this doubt while working with Spark Java where I saw Scala packages too in code and using respective classes and methods.\r\n\r\nMy understanding says, Scala code need Scala&#39;s compiler to convert into Java.class files and then from their onwards JDK do its part in JVM to convert into binaries and do actions. Please correct me if am wrong.\r\n\r\nAfter that, In my spark Java project in eclipse, I couldnt see anywhere where scala compiler is being pointed.\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Project&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;!-- &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; \r\n    \t\t\t\t&lt;/exclusion&gt; &lt;/exclusions&gt; --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-sql-kafka-0-10_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Avro Messages --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-avro_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Spark MLLIB --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-mllib_2.12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/janino --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;!--Spark java.lang.NoClassDefFoundError: org/codehaus/janino/InternalCompilerException --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.16&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.16&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;  \r\n    &lt;/project&gt;\r\n\r\n  \r\nAnd for example am using below import of scala in my Java class file. But literally not getting Idea from which Jars its picking and where its getting compiled to Java.class for further processing.\r\n\r\n    import scala.collection.JavaConverters;\r\n\r\nCan anyone please help me to understand this unknown magic to me ?","title":"how come scala code gets compiled with Java?","body":"<p>I'm trying to understand how Scala code works with Java in Java's IDE. I got this doubt while working with Spark Java where I saw Scala packages too in code and using respective classes and methods.</p>\n<p>My understanding says, Scala code need Scala's compiler to convert into Java.class files and then from their onwards JDK do its part in JVM to convert into binaries and do actions. Please correct me if am wrong.</p>\n<p>After that, In my spark Java project in eclipse, I couldnt see anywhere where scala compiler is being pointed.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;spark&lt;/groupId&gt;\n  &lt;artifactId&gt;Project&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; \n                &lt;/exclusion&gt; &lt;/exclusions&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql-kafka-0-10_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Avro Messages --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-avro_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spark MLLIB --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-mllib_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/janino --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!--Spark java.lang.NoClassDefFoundError: org/codehaus/janino/InternalCompilerException --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;version&gt;3.0.16&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                &lt;artifactId&gt;janino&lt;/artifactId&gt;\n                &lt;version&gt;3.0.16&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;  \n&lt;/project&gt;\n</code></pre>\n<p>And for example am using below import of scala in my Java class file. But literally not getting Idea from which Jars its picking and where its getting compiled to Java.class for further processing.</p>\n<pre><code>import scala.collection.JavaConverters;\n</code></pre>\n<p>Can anyone please help me to understand this unknown magic to me ?</p>\n"},{"tags":["java","android","menu","navigation-drawer"],"comments":[{"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"score":0,"creation_date":1641157009,"post_id":70544289,"comment_id":124730140,"body_markdown":"You could just toggle the visibility of the bottom bar when you get into a fragment you don&#39;t want to show it, unless I&#39;m misunderstanding the requirement?","body":"You could just toggle the visibility of the bottom bar when you get into a fragment you don&#39;t want to show it, unless I&#39;m misunderstanding the requirement?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641158905,"post_id":70544289,"comment_id":124730566,"body_markdown":"@jakelee even if I toggle the visibility of the bottom bar, my activity&#39;s contents are still showing. I need to hide the activity&#39;s content too","body":"@jakelee even if I toggle the visibility of the bottom bar, my activity&#39;s contents are still showing. I need to hide the activity&#39;s content too"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641159142,"post_id":70544289,"comment_id":124730610,"body_markdown":"I just want it to be viewed on a fresh space","body":"I just want it to be viewed on a fresh space"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1641218717,"post_id":70544289,"comment_id":124742870,"body_markdown":"You are using naviagation architecture components, so the navController is the one that should control fragment transactions in the navHostFragment; but in the navDrawer you are do the transaction through `getSupportFragmentManager().beginTransaction()` which should be done through the navController instead","body":"You are using naviagation architecture components, so the navController is the one that should control fragment transactions in the navHostFragment; but in the navDrawer you are do the transaction through <code>getSupportFragmentManager().beginTransaction()</code> which should be done through the navController instead"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641220268,"post_id":70544289,"comment_id":124743448,"body_markdown":"@zain Okay, I can see. I knew the way I set it up was totally wrong because I fully built it following a youtube tutorial which was a basic sample of a different kind of app https://youtu.be/fGcMLu1GJEc but regardless, I&#39;m open to your further suggestions. Thanks for showing up","body":"@zain Okay, I can see. I knew the way I set it up was totally wrong because I fully built it following a youtube tutorial which was a basic sample of a different kind of app <a href=\"https://youtu.be/fGcMLu1GJEc\" rel=\"nofollow noreferrer\">youtu.be/fGcMLu1GJEc</a> but regardless, I&#39;m open to your further suggestions. Thanks for showing up"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641330036,"post_id":70544289,"comment_id":124776477,"body_markdown":"@zain got a clue yet?","body":"@zain got a clue yet?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1641331610,"post_id":70544289,"comment_id":124776929,"body_markdown":"It&#39;s a bit tricky , but almost got what you want check [this](https://drive.google.com/file/d/1Ve6HSyb-g1ctnBWW0jNb8Pa-oHGEvaIr/view) out","body":"It&#39;s a bit tricky , but almost got what you want check <a href=\"https://drive.google.com/file/d/1Ve6HSyb-g1ctnBWW0jNb8Pa-oHGEvaIr/view\" rel=\"nofollow noreferrer\">this</a> out"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641398388,"post_id":70544289,"comment_id":124795695,"body_markdown":"@zain I&#39;m really sorry for showing up late, tried to use my pc since 4 hours ago\nbut my mouse started acting up so had to spend over 2hrs30mins before I could\nget it right. So I&#39;ve looked over the sample/preview you shared and I must \nadmit that it is a good one.","body":"@zain I&#39;m really sorry for showing up late, tried to use my pc since 4 hours ago but my mouse started acting up so had to spend over 2hrs30mins before I could get it right. So I&#39;ve looked over the sample/preview you shared and I must  admit that it is a good one."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641398404,"post_id":70544289,"comment_id":124795709,"body_markdown":"The settings type is exactly how I want it, except\nthat those 3 left horizontal small buttons there isn&#39;t needed, then I noticed \nthat the slideshow type doesn&#39;t have its top back button and can only be\nnavigated from down, I&#39;d have preferred the same to settings but if you have no\nother way on it, I&#39;ll have to use it only that users may not find it easy.\nIt also has the 3 left horizontal small buttons too which isn&#39;t needed.\nBut thanks a lot for your help, I&#39;m ready to work on it whenever you send the \nanswer.","body":"The settings type is exactly how I want it, except that those 3 left horizontal small buttons there isn&#39;t needed, then I noticed  that the slideshow type doesn&#39;t have its top back button and can only be navigated from down, I&#39;d have preferred the same to settings but if you have no other way on it, I&#39;ll have to use it only that users may not find it easy. It also has the 3 left horizontal small buttons too which isn&#39;t needed. But thanks a lot for your help, I&#39;m ready to work on it whenever you send the  answer."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641398422,"post_id":70544289,"comment_id":124795715,"body_markdown":"I also saw your answer to my previous question https://stackoverflow.com/a/70585466/16020235\nthanks a lot, I would accept it when we&#39;re done with this question because they\nwork together as there is no way I can implement the back button without \nfixing this current issue.","body":"I also saw your answer to my previous question <a href=\"https://stackoverflow.com/a/70585466/16020235\">stackoverflow.com/a/70585466/16020235</a> thanks a lot, I would accept it when we&#39;re done with this question because they work together as there is no way I can implement the back button without  fixing this current issue."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1641400711,"post_id":70544289,"comment_id":124796683,"body_markdown":"@RichardWilson I&#39;ll customize it to yours. it was for testing, Do all drawer items `ads_upgrade_id`, `privacy_policy_id` have the same back button behaviour?","body":"@RichardWilson I&#39;ll customize it to yours. it was for testing, Do all drawer items <code>ads_upgrade_id</code>, <code>privacy_policy_id</code> have the same back button behaviour?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641401275,"post_id":70544289,"comment_id":124796949,"body_markdown":"@zain Okay, is see. All the drawer items currently look like this https://i.stack.imgur.com/gxj5n.jpg so all I need is to implement them to be exactly like the settings sample you sent and yes they currently exit the app when clicking back","body":"@zain Okay, is see. All the drawer items currently look like this <a href=\"https://i.stack.imgur.com/gxj5n.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gxj5n.jpg</a> so all I need is to implement them to be exactly like the settings sample you sent and yes they currently exit the app when clicking back"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1641414985,"post_id":70544289,"comment_id":124801985,"body_markdown":"@RichardWilson Can you share your navigation graphs; I think you have a single graph right?","body":"@RichardWilson Can you share your navigation graphs; I think you have a single graph right?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641467779,"post_id":70544289,"comment_id":124814021,"body_markdown":"@zain I&#39;ve shared my nav graph, yeah I currently have a single nav graph. The firstFragment represents the today, 2nd - hourly and 3rd - daily. Are you saying I should change this graph to the one you&#39;re currently suggesting?","body":"@zain I&#39;ve shared my nav graph, yeah I currently have a single nav graph. The firstFragment represents the today, 2nd - hourly and 3rd - daily. Are you saying I should change this graph to the one you&#39;re currently suggesting?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1641467955,"post_id":70544289,"comment_id":124814074,"body_markdown":"@zain you know the nav graph I&#39;m using is for my other weather tabs but the one you&#39;re suggesting is for the navbar menu, should I replace yours with mine or just create a new one for your suggestion?","body":"@zain you know the nav graph I&#39;m using is for my other weather tabs but the one you&#39;re suggesting is for the navbar menu, should I replace yours with mine or just create a new one for your suggestion?"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641560702,"creation_date":1641417333,"answer_id":70599671,"question_id":70544289,"body_markdown":"You are using navigation architecture components, so the `navController` is the one that should control fragment transactions, you are doing that right with `BottomNavigationView`.\r\n\r\nBut within the `navDrawer` you are doing the transaction through the `supportFragmentManager` which should be done through the `navController` instead as both handle the navigation differently. \r\n\r\n\r\n&gt; whenever I select an option on the menu(say settings), it displays the contents of the option along with the bottom navigation view \r\n\r\nThat is because the BottomNavView is a part of the activity, and you need to move it to a fragment; this requires to change the navigation design of your app; to do that change your app navigation like the below:\r\n\r\nMain navigation:\r\n\r\n```\r\n&lt;navigation\r\n ..... &gt;\r\n\r\n    &lt;fragment\r\n        android:name=&quot;......HomeFragment&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:name=&quot;......SettingFragment&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:name=&quot;......AdsUpgradeFragment&quot;/&gt;\r\n\t\t\r\n    &lt;fragment\r\n        android:name=&quot;......PrivacyPolicyFragment&quot;/&gt;\t\t\r\n\t\t\r\n\t\t\r\n&lt;/navigation&gt;\r\n```\r\n\r\nThe `HomeFragment` is the fragment that should hold the `BottomNaviagtionView` instead of the activity; and when you navigate to the SettingFragment, the navConroller will replace the entire fragment in the navHostFragment, and therefore the `BottomNaviagtionView` won&#39;t be shown.\r\n\r\n\r\n&gt; my Activity&#39;s Toolbar contents which comprises of the nav hamburger\r\n&gt; icon, the edittext and the search button(the activity hosting my 3\r\n&gt; fragments) which spoils the app and makes it look very ugly\r\n\r\nUnlike the `BottomNaviagtionView`, you can&#39;t do that with your toolBar that is used as the supportActionBar, because setting `supportActionBar` more than once in order to change its look; will duplicates it; so you have to accept a single toolbar; but instead you can hide/show the layout that holds the search button &amp; the EditText whenever the destination changes:\r\n\r\n\tnavController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; {\r\n\t\tLinearLayout searchBar = findViewById(R.id.searchbar); // change searchbar according to the layout id that holds the search button and the EditText\r\n\t\tif (destination.getId() == R.id.nav_home) {\r\n\t\t\tsearchBar.setVisibility(View.VISIBLE);\r\n\r\n\t\t} else {\r\n\t\t\tsearchBar.setVisibility(View.GONE);\r\n\t\t}\r\n\r\n\t});\r\n\r\n&gt; and yes they currently exit the app when clicking back \r\n\r\nTo exit the app whenever, the bottom back button is pressed in any fragment use `OnBackPressedDispatcher()` within `onCreateView()` of those fragment (in your case SettingFragment, PrivacyPolicyFragment, &amp; AdsUpgradeFragment):\r\n\r\nAnd make sure that `appBarConfiguration` doesn&#39;t reference those fragments so, that the UP button can be shown instead of the burger.\r\n```\r\nrequireActivity().getOnBackPressedDispatcher().addCallback(getViewLifecycleOwner(), new OnBackPressedCallback(true) {\r\n        @Override\r\n        public void handleOnBackPressed() {\r\n            // Exit the app when back is pressed\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                requireActivity().finishAndRemoveTask();\r\n            else requireActivity().finish();\r\n        }\r\n    });\r\n```\r\n\r\nAlso, make sure that your setup the `DrawerLayout` &amp; its `navView` in the `navController` with:\r\n\r\n    NavigationView navView = findViewById(....);\r\n\r\n    appBarConfiguration = new AppBarConfiguration.Builder(\r\n            R.id.nav_home) // remove up button from all these fragments &gt;&gt; Keep the up/back button in R.id.settings_id, R.id.settings_id, ads_upgrade_id, privacy_policy_id\r\n            .setOpenableLayout(drawer)\r\n            .build();\r\n\r\n    NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n    NavigationUI.setupWithNavController(navView, navController);\r\n\r\n\r\nAnd to make the Home fragment hidden by default in the navDrawer:\r\n\r\n    navView.getMenu().findItem(R.id.nav_home).setVisible(false); // adjust R.id.nav_home to yours\r\n\r\n## UPDATE\r\n&gt; I currently have a single nav graph. The firstFragment represents the\r\n&gt; today, 2nd - hourly and 3rd\r\n&gt;  I&#39;m using is for my other weather tabs but the one you&#39;re suggesting\r\n&gt; is for the navbar menu, should I replace yours with mine or just\r\n&gt; create a new one for your suggestion?\r\n\r\nYou should use two navGraphs, the first is for the main navigation which I&#39;d suggested; and the second is for the `BottomNavigationView` navigation which you already use; that is because we transferred the `BottomNavigationView` from the activity layout to the main/home fragment layout; and [it&#39; recommended the `BottomNavigationView` should have a separate navGraph][1]; \r\n\r\nSo, you now need two `FragmentContainerView`; the first is in the activity layout which reference the navGraph provided in this answer, and the second is in the home fragment layout that references your original navGraph of the `BottomNavigationView`.\r\n\r\nSample:\r\n\r\n![](https://media.giphy.com/media/y5SRhKO30CKERmXgw5/giphy.gif)\r\n\r\n  [1]: https://stackoverflow.com/questions/58900349/how-to-handle-nested-bottomnavigationview-with-android-navigation-component","title":"How to display my Navigation bar contents without interruption?","body":"<p>You are using navigation architecture components, so the <code>navController</code> is the one that should control fragment transactions, you are doing that right with <code>BottomNavigationView</code>.</p>\n<p>But within the <code>navDrawer</code> you are doing the transaction through the <code>supportFragmentManager</code> which should be done through the <code>navController</code> instead as both handle the navigation differently.</p>\n<blockquote>\n<p>whenever I select an option on the menu(say settings), it displays the contents of the option along with the bottom navigation view</p>\n</blockquote>\n<p>That is because the BottomNavView is a part of the activity, and you need to move it to a fragment; this requires to change the navigation design of your app; to do that change your app navigation like the below:</p>\n<p>Main navigation:</p>\n<pre><code>&lt;navigation\n ..... &gt;\n\n    &lt;fragment\n        android:name=&quot;......HomeFragment&quot;/&gt;\n\n    &lt;fragment\n        android:name=&quot;......SettingFragment&quot;/&gt;\n\n    &lt;fragment\n        android:name=&quot;......AdsUpgradeFragment&quot;/&gt;\n        \n    &lt;fragment\n        android:name=&quot;......PrivacyPolicyFragment&quot;/&gt;        \n        \n        \n&lt;/navigation&gt;\n</code></pre>\n<p>The <code>HomeFragment</code> is the fragment that should hold the <code>BottomNaviagtionView</code> instead of the activity; and when you navigate to the SettingFragment, the navConroller will replace the entire fragment in the navHostFragment, and therefore the <code>BottomNaviagtionView</code> won't be shown.</p>\n<blockquote>\n<p>my Activity's Toolbar contents which comprises of the nav hamburger\nicon, the edittext and the search button(the activity hosting my 3\nfragments) which spoils the app and makes it look very ugly</p>\n</blockquote>\n<p>Unlike the <code>BottomNaviagtionView</code>, you can't do that with your toolBar that is used as the supportActionBar, because setting <code>supportActionBar</code> more than once in order to change its look; will duplicates it; so you have to accept a single toolbar; but instead you can hide/show the layout that holds the search button &amp; the EditText whenever the destination changes:</p>\n<pre><code>navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; {\n    LinearLayout searchBar = findViewById(R.id.searchbar); // change searchbar according to the layout id that holds the search button and the EditText\n    if (destination.getId() == R.id.nav_home) {\n        searchBar.setVisibility(View.VISIBLE);\n\n    } else {\n        searchBar.setVisibility(View.GONE);\n    }\n\n});\n</code></pre>\n<blockquote>\n<p>and yes they currently exit the app when clicking back</p>\n</blockquote>\n<p>To exit the app whenever, the bottom back button is pressed in any fragment use <code>OnBackPressedDispatcher()</code> within <code>onCreateView()</code> of those fragment (in your case SettingFragment, PrivacyPolicyFragment, &amp; AdsUpgradeFragment):</p>\n<p>And make sure that <code>appBarConfiguration</code> doesn't reference those fragments so, that the UP button can be shown instead of the burger.</p>\n<pre><code>requireActivity().getOnBackPressedDispatcher().addCallback(getViewLifecycleOwner(), new OnBackPressedCallback(true) {\n        @Override\n        public void handleOnBackPressed() {\n            // Exit the app when back is pressed\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                requireActivity().finishAndRemoveTask();\n            else requireActivity().finish();\n        }\n    });\n</code></pre>\n<p>Also, make sure that your setup the <code>DrawerLayout</code> &amp; its <code>navView</code> in the <code>navController</code> with:</p>\n<pre><code>NavigationView navView = findViewById(....);\n\nappBarConfiguration = new AppBarConfiguration.Builder(\n        R.id.nav_home) // remove up button from all these fragments &gt;&gt; Keep the up/back button in R.id.settings_id, R.id.settings_id, ads_upgrade_id, privacy_policy_id\n        .setOpenableLayout(drawer)\n        .build();\n\nNavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\nNavigationUI.setupWithNavController(navView, navController);\n</code></pre>\n<p>And to make the Home fragment hidden by default in the navDrawer:</p>\n<pre><code>navView.getMenu().findItem(R.id.nav_home).setVisible(false); // adjust R.id.nav_home to yours\n</code></pre>\n<h2>UPDATE</h2>\n<blockquote>\n<p>I currently have a single nav graph. The firstFragment represents the\ntoday, 2nd - hourly and 3rd\nI'm using is for my other weather tabs but the one you're suggesting\nis for the navbar menu, should I replace yours with mine or just\ncreate a new one for your suggestion?</p>\n</blockquote>\n<p>You should use two navGraphs, the first is for the main navigation which I'd suggested; and the second is for the <code>BottomNavigationView</code> navigation which you already use; that is because we transferred the <code>BottomNavigationView</code> from the activity layout to the main/home fragment layout; and <a href=\"https://stackoverflow.com/questions/58900349/how-to-handle-nested-bottomnavigationview-with-android-navigation-component\">it' recommended the <code>BottomNavigationView</code> should have a separate navGraph</a>;</p>\n<p>So, you now need two <code>FragmentContainerView</code>; the first is in the activity layout which reference the navGraph provided in this answer, and the second is in the home fragment layout that references your original navGraph of the <code>BottomNavigationView</code>.</p>\n<p>Sample:</p>\n<p><img src=\"https://media.giphy.com/media/y5SRhKO30CKERmXgw5/giphy.gif\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":2532787,"reputation":2030,"user_id":2200711,"display_name":"A S M Sayem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641490488,"creation_date":1641490488,"answer_id":70611199,"question_id":70544289,"body_markdown":"I think I understood your problem very well (if I am not wrong). Thing is that what behavior you are getting right now is the normal scenario. You are using the same host activity to host both `Navigation Drawer` and `Bottom Navigation` fragments thus when you tried to navigate to another fragment from the same host the presence of the host&#39;s direct child view Bottom `NavBar` is showing. I think you can solve this problem in a few different but **pretty simple logical ways**. \r\n\r\n 1. *(Not recommended)* Using a different **Activity** for the `Settings` page. Just like `startActivity(this, &lt;some intent&gt;)`. But in this way, you will end up creating lots of individual activities.\r\n 2. **(Recommended)** Using a **common Navigation Host** activity for navigating to independent pages/fragments. Like: Settings, Contact Us, etc. You can add different fragments into the `common_nav_graph` and set some actions with or without arguments for navigation. Just add the `common_nav_graph` as a nested graph inside your current one and set a simple argumented action. The arguments will help you to navigate desired pages/fragments without showing the `bottom navigation bar`.\r\n 3. Simply hide Bottom navigation when navigating to some fragments from your drawer.","title":"How to display my Navigation bar contents without interruption?","body":"<p>I think I understood your problem very well (if I am not wrong). Thing is that what behavior you are getting right now is the normal scenario. You are using the same host activity to host both <code>Navigation Drawer</code> and <code>Bottom Navigation</code> fragments thus when you tried to navigate to another fragment from the same host the presence of the host's direct child view Bottom <code>NavBar</code> is showing. I think you can solve this problem in a few different but <strong>pretty simple logical ways</strong>.</p>\n<ol>\n<li><em>(Not recommended)</em> Using a different <strong>Activity</strong> for the <code>Settings</code> page. Just like <code>startActivity(this, &lt;some intent&gt;)</code>. But in this way, you will end up creating lots of individual activities.</li>\n<li><strong>(Recommended)</strong> Using a <strong>common Navigation Host</strong> activity for navigating to independent pages/fragments. Like: Settings, Contact Us, etc. You can add different fragments into the <code>common_nav_graph</code> and set some actions with or without arguments for navigation. Just add the <code>common_nav_graph</code> as a nested graph inside your current one and set a simple argumented action. The arguments will help you to navigate desired pages/fragments without showing the <code>bottom navigation bar</code>.</li>\n<li>Simply hide Bottom navigation when navigating to some fragments from your drawer.</li>\n</ol>\n"}],"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70599671,"answer_count":2,"score":3,"last_activity_date":1641560702,"creation_date":1640970382,"question_id":70544289,"body_markdown":"I built a customizable navigation drawer from scratch(didn&#39;t make use of the default drawer provided by Android Studio). In my weather app&#39;s navigation bar menu https://i.stack.imgur.com/SIjdx.jpg, whenever I select an option on the menu(say settings), it displays the contents of the option along with the bottom navigation view and my Activity&#39;s Toolbar contents which comprises of the nav hamburger icon, the edittext and the search button(the activity hosting my 3 fragments) which spoils the app and makes it look very ugly i.e. https://i.stack.imgur.com/gxj5n.jpg (From that screenshot, the entire content should be empty if implemented well). The case is the same for the other bar menu options. All I want is an empty space to work on, I want the app to only display the navigation bar contents without the rest. Example; https://i.stack.imgur.com/3Jtga.png Please how should I do this?\r\n\r\nThe view of the Navigation Menu is controlled by this code(on line 185):\r\n\r\n    @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.settings_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Settings()).commit();\r\n                    break;\r\n                case R.id.ads_upgrade_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Upgrade()).commit();\r\n                    break;\r\n                case R.id.privacy_policy_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Privacy_Policy()).commit();\r\n                    break;\r\n            }\r\n            drawer.closeDrawer(GravityCompat.START);\r\n    \r\n            return true;\r\n        }\r\n\r\n&quot;fragment&quot; there represents that I&#39;m currently using my fragment&#39;s container view on my activity to display the Nav menu contents which I know is wrong for sure, so what should I use in replace? I lack strong experience as it&#39;s my first time building an app and I&#39;ve tirelessly spent 3 hours on my own trying to figure out the issue which proved abortive. \r\n\r\nHere is my Activity code:\r\n\r\n    public class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n        private DrawerLayout drawer;\r\n        // Last update time, click sound, search button, search panel.\r\n        TextView timeField;\r\n        MediaPlayer player;\r\n        ImageView Search;\r\n        EditText textfield;\r\n        // For scheduling background image change(using constraint layout, start counting from dubai, down to statue of liberty.\r\n        ConstraintLayout constraintLayout;\r\n        public static int count = 0;\r\n        int[] drawable = new int[]{R.drawable.dubai, R.drawable.norway, R.drawable.eiffel_tower, R.drawable.hong_kong, R.drawable.statue_of_liberty,\r\n                R.drawable.beijing, R.drawable.chicago, R.drawable.colombia, R.drawable.vienna,R.drawable.tokyo};\r\n        Timer _t;\r\n    \r\n        private WeatherDataViewModel viewModel;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n            // use home activity layout.\r\n    \r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            // Allow activity to make use of the toolbar\r\n    \r\n            drawer = findViewById(R.id.drawer_layout);\r\n            NavigationView navigationView = findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n    \r\n            viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\r\n    \r\n            // Trigger action to open &amp; close navigation drawer\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar\r\n                    , R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            timeField = findViewById(R.id.textView9);\r\n            Search = findViewById(R.id.imageView4);\r\n            textfield = findViewById(R.id.textfield);\r\n            //  find the id&#39;s of specific variables.\r\n    \r\n            BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n            // host 3 fragments along with bottom navigation.\r\n            final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n            assert navHostFragment != null;\r\n            final NavController navController = navHostFragment.getNavController();\r\n            NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n    \r\n            // Make hourly &amp; daily tab unusable\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n    \r\n                if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\r\n                    getSupportFragmentManager().popBackStack();\r\n                }\r\n                return false;\r\n            });\r\n    \r\n            navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; navController.popBackStack(destination.getId(), false));\r\n    \r\n            // For scheduling background image change\r\n            constraintLayout = findViewById(R.id.layout);\r\n            constraintLayout.setBackgroundResource(R.drawable.dubai);\r\n            _t = new Timer();\r\n            _t.scheduleAtFixedRate(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // run on ui thread\r\n                    runOnUiThread(() -&gt; {\r\n                        if (count &lt; drawable.length) {\r\n    \r\n                            constraintLayout.setBackgroundResource(drawable[count]);\r\n                            count = (count + 1) % drawable.length;\r\n                        }\r\n                    });\r\n                }\r\n            }, 5000, 5000);\r\n    \r\n            Search.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    // make click sound when search button is clicked.\r\n                    player = MediaPlayer.create(HomeActivity.this, R.raw.click);\r\n                    player.start();\r\n    \r\n                    getWeatherData(textfield.getText().toString().trim());\r\n                    // make use of some fragment&#39;s data\r\n    \r\n                    Fragment currentFragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\r\n                    if (currentFragment instanceof FirstFragment) {\r\n                        FirstFragment firstFragment = (FirstFragment) currentFragment;\r\n                        firstFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    } else if (currentFragment instanceof SecondFragment) {\r\n                        SecondFragment secondFragment = (SecondFragment) currentFragment;\r\n                        secondFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    } else if (currentFragment instanceof ThirdFragment) {\r\n                        ThirdFragment thirdFragment = (ThirdFragment) currentFragment;\r\n                        thirdFragment.getWeatherData(textfield.getText().toString().trim());\r\n                    }\r\n                }\r\n    \r\n                private void getWeatherData(String name) {\r\n    \r\n                    ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\r\n    \r\n                    Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\r\n    \r\n                    call.enqueue(new Callback&lt;Example&gt;() {\r\n                        @Override\r\n                        public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\r\n    \r\n                            try {\r\n                                assert response.body() != null;\r\n                                timeField.setVisibility(View.VISIBLE);\r\n                                timeField.setText(&quot;First Updated:&quot; + &quot; &quot; + response.body().getDt());\r\n                            } catch (Exception e) {\r\n                                timeField.setVisibility(View.GONE);\r\n                                timeField.setText(&quot;First Updated: Unknown&quot;);\r\n                                Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\r\n                                Toast.makeText(HomeActivity.this, &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\r\n                            t.printStackTrace();\r\n                        }\r\n    \r\n                    });\r\n                }\r\n    \r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.settings_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Settings()).commit();\r\n                    break;\r\n                case R.id.ads_upgrade_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Upgrade()).commit();\r\n                    break;\r\n                case R.id.privacy_policy_id:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\r\n                            new Privacy_Policy()).commit();\r\n                    break;\r\n            }\r\n            drawer.closeDrawer(GravityCompat.START);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                super.onBackPressed();\r\n                // Open/close drawer animation\r\n            }\r\n        }\r\n    }\r\n\r\nIn case you require any other code to look into the issue, please let me know. I&#39;m just trying to avoid posting too much\r\n\r\n**EDIT**:\r\n\r\nMy old bottomtabs nav graph:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/my_nav&quot;\r\n        app:startDestination=&quot;@id/firstFragment&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/firstFragment&quot;\r\n            android:name=&quot;com.viz.lightweatherforecast.FirstFragment&quot;\r\n            android:label=&quot;fragment_first&quot;\r\n            tools:layout=&quot;@layout/fragment_first&quot; /&gt;\r\n        &lt;fragment\r\n            android:id=&quot;@+id/secondFragment&quot;\r\n            android:name=&quot;com.viz.lightpreciseweatherforecast.SecondFragment&quot;\r\n            android:label=&quot;fragment_second&quot;\r\n            tools:layout=&quot;@layout/fragment_second&quot; /&gt;\r\n        &lt;fragment\r\n            android:id=&quot;@+id/thirdFragment&quot;\r\n            android:name=&quot;com.viz.lightpreciseweatherforecast.ThirdFragment&quot;\r\n            android:label=&quot;fragment_third&quot;\r\n            tools:layout=&quot;@layout/fragment_third&quot; /&gt;\r\n    &lt;/navigation&gt;\r\n\r\nMy new nav bar graph:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/bar_nav&quot;\r\n        app:startDestination=&quot;@id/firstFragment&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/firstFragment&quot;\r\n            android:name=&quot;com.viz.lightweatherforecast.FirstFragment&quot;\r\n            android:label=&quot;fragment_first&quot;\r\n            tools:layout=&quot;@layout/fragment_first&quot; /&gt;\r\n        &lt;fragment\r\n            android:id=&quot;@+id/settings_id&quot;\r\n            android:name=&quot;com.viz.lightweatherforecast.Settings&quot;\r\n            android:label=&quot;@string/settings&quot;\r\n            tools:layout=&quot;@layout/settings&quot; /&gt;\r\n        &lt;fragment\r\n            android:id=&quot;@+id/ads_upgrade_id&quot;\r\n            android:name=&quot;com.viz.lightweatherforecast.Upgrade&quot;\r\n            android:label=&quot;@string/upgrade_to_remove_ads&quot;\r\n            tools:layout=&quot;@layout/upgrade&quot; /&gt;\r\n        &lt;fragment\r\n            android:id=&quot;@+id/privacy_policy_id&quot;\r\n            android:name=&quot;com.viz.lightweatherforecast.Privacy_Policy&quot;\r\n            android:label=&quot;@string/privacy_policy&quot;\r\n            tools:layout=&quot;@layout/privacy_policy&quot;/&gt;\r\n    \r\n    &lt;/navigation&gt;","title":"How to display my Navigation bar contents without interruption?","body":"<p>I built a customizable navigation drawer from scratch(didn't make use of the default drawer provided by Android Studio). In my weather app's navigation bar menu <a href=\"https://i.stack.imgur.com/SIjdx.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SIjdx.jpg</a>, whenever I select an option on the menu(say settings), it displays the contents of the option along with the bottom navigation view and my Activity's Toolbar contents which comprises of the nav hamburger icon, the edittext and the search button(the activity hosting my 3 fragments) which spoils the app and makes it look very ugly i.e. <a href=\"https://i.stack.imgur.com/gxj5n.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gxj5n.jpg</a> (From that screenshot, the entire content should be empty if implemented well). The case is the same for the other bar menu options. All I want is an empty space to work on, I want the app to only display the navigation bar contents without the rest. Example; <a href=\"https://i.stack.imgur.com/3Jtga.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3Jtga.png</a> Please how should I do this?</p>\n<p>The view of the Navigation Menu is controlled by this code(on line 185):</p>\n<pre><code>@Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.settings_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Settings()).commit();\n                break;\n            case R.id.ads_upgrade_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Upgrade()).commit();\n                break;\n            case R.id.privacy_policy_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Privacy_Policy()).commit();\n                break;\n        }\n        drawer.closeDrawer(GravityCompat.START);\n\n        return true;\n    }\n</code></pre>\n<p>&quot;fragment&quot; there represents that I'm currently using my fragment's container view on my activity to display the Nav menu contents which I know is wrong for sure, so what should I use in replace? I lack strong experience as it's my first time building an app and I've tirelessly spent 3 hours on my own trying to figure out the issue which proved abortive.</p>\n<p>Here is my Activity code:</p>\n<pre><code>public class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private DrawerLayout drawer;\n    // Last update time, click sound, search button, search panel.\n    TextView timeField;\n    MediaPlayer player;\n    ImageView Search;\n    EditText textfield;\n    // For scheduling background image change(using constraint layout, start counting from dubai, down to statue of liberty.\n    ConstraintLayout constraintLayout;\n    public static int count = 0;\n    int[] drawable = new int[]{R.drawable.dubai, R.drawable.norway, R.drawable.eiffel_tower, R.drawable.hong_kong, R.drawable.statue_of_liberty,\n            R.drawable.beijing, R.drawable.chicago, R.drawable.colombia, R.drawable.vienna,R.drawable.tokyo};\n    Timer _t;\n\n    private WeatherDataViewModel viewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        // use home activity layout.\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        // Allow activity to make use of the toolbar\n\n        drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\n\n        // Trigger action to open &amp; close navigation drawer\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar\n                , R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        timeField = findViewById(R.id.textView9);\n        Search = findViewById(R.id.imageView4);\n        textfield = findViewById(R.id.textfield);\n        //  find the id's of specific variables.\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        // host 3 fragments along with bottom navigation.\n        final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\n        assert navHostFragment != null;\n        final NavController navController = navHostFragment.getNavController();\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\n\n        // Make hourly &amp; daily tab unusable\n        bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n\n            if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\n                getSupportFragmentManager().popBackStack();\n            }\n            return false;\n        });\n\n        navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; navController.popBackStack(destination.getId(), false));\n\n        // For scheduling background image change\n        constraintLayout = findViewById(R.id.layout);\n        constraintLayout.setBackgroundResource(R.drawable.dubai);\n        _t = new Timer();\n        _t.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                // run on ui thread\n                runOnUiThread(() -&gt; {\n                    if (count &lt; drawable.length) {\n\n                        constraintLayout.setBackgroundResource(drawable[count]);\n                        count = (count + 1) % drawable.length;\n                    }\n                });\n            }\n        }, 5000, 5000);\n\n        Search.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // make click sound when search button is clicked.\n                player = MediaPlayer.create(HomeActivity.this, R.raw.click);\n                player.start();\n\n                getWeatherData(textfield.getText().toString().trim());\n                // make use of some fragment's data\n\n                Fragment currentFragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\n                if (currentFragment instanceof FirstFragment) {\n                    FirstFragment firstFragment = (FirstFragment) currentFragment;\n                    firstFragment.getWeatherData(textfield.getText().toString().trim());\n                } else if (currentFragment instanceof SecondFragment) {\n                    SecondFragment secondFragment = (SecondFragment) currentFragment;\n                    secondFragment.getWeatherData(textfield.getText().toString().trim());\n                } else if (currentFragment instanceof ThirdFragment) {\n                    ThirdFragment thirdFragment = (ThirdFragment) currentFragment;\n                    thirdFragment.getWeatherData(textfield.getText().toString().trim());\n                }\n            }\n\n            private void getWeatherData(String name) {\n\n                ApiInterface apiInterface = ApiClient.getClient().create(ApiInterface.class);\n\n                Call&lt;Example&gt; call = apiInterface.getWeatherData(name);\n\n                call.enqueue(new Callback&lt;Example&gt;() {\n                    @Override\n                    public void onResponse(@NonNull Call&lt;Example&gt; call, @NonNull Response&lt;Example&gt; response) {\n\n                        try {\n                            assert response.body() != null;\n                            timeField.setVisibility(View.VISIBLE);\n                            timeField.setText(&quot;First Updated:&quot; + &quot; &quot; + response.body().getDt());\n                        } catch (Exception e) {\n                            timeField.setVisibility(View.GONE);\n                            timeField.setText(&quot;First Updated: Unknown&quot;);\n                            Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\n                            Toast.makeText(HomeActivity.this, &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(@NotNull Call&lt;Example&gt; call, @NotNull Throwable t) {\n                        t.printStackTrace();\n                    }\n\n                });\n            }\n\n        });\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.settings_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Settings()).commit();\n                break;\n            case R.id.ads_upgrade_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Upgrade()).commit();\n                break;\n            case R.id.privacy_policy_id:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment,\n                        new Privacy_Policy()).commit();\n                break;\n        }\n        drawer.closeDrawer(GravityCompat.START);\n\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n            // Open/close drawer animation\n        }\n    }\n}\n</code></pre>\n<p>In case you require any other code to look into the issue, please let me know. I'm just trying to avoid posting too much</p>\n<p><strong>EDIT</strong>:</p>\n<p>My old bottomtabs nav graph:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/my_nav&quot;\n    app:startDestination=&quot;@id/firstFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/firstFragment&quot;\n        android:name=&quot;com.viz.lightweatherforecast.FirstFragment&quot;\n        android:label=&quot;fragment_first&quot;\n        tools:layout=&quot;@layout/fragment_first&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/secondFragment&quot;\n        android:name=&quot;com.viz.lightpreciseweatherforecast.SecondFragment&quot;\n        android:label=&quot;fragment_second&quot;\n        tools:layout=&quot;@layout/fragment_second&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/thirdFragment&quot;\n        android:name=&quot;com.viz.lightpreciseweatherforecast.ThirdFragment&quot;\n        android:label=&quot;fragment_third&quot;\n        tools:layout=&quot;@layout/fragment_third&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>My new nav bar graph:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/bar_nav&quot;\n    app:startDestination=&quot;@id/firstFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/firstFragment&quot;\n        android:name=&quot;com.viz.lightweatherforecast.FirstFragment&quot;\n        android:label=&quot;fragment_first&quot;\n        tools:layout=&quot;@layout/fragment_first&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/settings_id&quot;\n        android:name=&quot;com.viz.lightweatherforecast.Settings&quot;\n        android:label=&quot;@string/settings&quot;\n        tools:layout=&quot;@layout/settings&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/ads_upgrade_id&quot;\n        android:name=&quot;com.viz.lightweatherforecast.Upgrade&quot;\n        android:label=&quot;@string/upgrade_to_remove_ads&quot;\n        tools:layout=&quot;@layout/upgrade&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/privacy_policy_id&quot;\n        android:name=&quot;com.viz.lightweatherforecast.Privacy_Policy&quot;\n        android:label=&quot;@string/privacy_policy&quot;\n        tools:layout=&quot;@layout/privacy_policy&quot;/&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"},{"tags":["java","swing","jeditorpane","mouse-position"],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1248473145,"creation_date":1248473145,"answer_id":1180419,"question_id":1180390,"body_markdown":"Invoking `viewToModel()` is the correct way to do this:    \r\n\r\n    public void mouseClicked(MouseEvent e) {\r\n        JEditorPane editor = (JEditorPane) e.getSource();\r\n        Point pt = new Point(e.getX(), e.getY());\r\n        int pos = editor.viewToModel(pt);\r\n        // whatever you need to do here\r\n    }","title":"How to convert from a mouse position to a character position in a JEditorPane in Java Swing","body":"<p>Invoking <code>viewToModel()</code> is the correct way to do this:    </p>\n\n<pre><code>public void mouseClicked(MouseEvent e) {\n    JEditorPane editor = (JEditorPane) e.getSource();\n    Point pt = new Point(e.getX(), e.getY());\n    int pos = editor.viewToModel(pt);\n    // whatever you need to do here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11442,"reputation":7044,"user_id":22061,"accept_rate":65,"display_name":"Scottm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248473209,"creation_date":1248473209,"answer_id":1180422,"question_id":1180390,"body_markdown":"I&#39;ve solved this problem on my own. It turns out viewToModel() is exactly what I should be using here, the problem was that I was passing in the wrong Point to it.\r\n\r\nFrom the MouseEvent, I was using the getLocationOnScreen() method to work out the point when in fact I should have been using the getPoint() method. \r\n\r\nThanks to anyone who read this question.","title":"How to convert from a mouse position to a character position in a JEditorPane in Java Swing","body":"<p>I've solved this problem on my own. It turns out viewToModel() is exactly what I should be using here, the problem was that I was passing in the wrong Point to it.</p>\n\n<p>From the MouseEvent, I was using the getLocationOnScreen() method to work out the point when in fact I should have been using the getPoint() method. </p>\n\n<p>Thanks to anyone who read this question.</p>\n"}],"owner":{"reputation":7044,"user_id":22061,"accept_rate":65,"display_name":"Scottm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3760,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1180419,"answer_count":2,"score":7,"last_activity_date":1641560465,"creation_date":1248472691,"question_id":1180390,"body_markdown":"I&#39;m currently trying to solve a problem where I need to find the position in a piece of text in a JEditorPane based on where the mouse was clicked. \r\n\r\nBasically, when the user right-clicks over a word I need to find out what the word is. To do this I need to find out which position in the text the user has clicked on. I know I can easily get the mouse position from the MouseEvent which is passed into the mousePressed method, and I am told that you can convert this to get the character index in the piece of text - however I can&#39;t figure out how to do this.\r\n\r\nI have tried the viewToModel() method on JEditorPane however this is giving me back the wrong position in the text so either I&#39;m using it wrong or it doesn&#39;t work in this way. \r\n\r\nAny ideas? ","title":"How to convert from a mouse position to a character position in a JEditorPane in Java Swing","body":"<p>I'm currently trying to solve a problem where I need to find the position in a piece of text in a JEditorPane based on where the mouse was clicked. </p>\n\n<p>Basically, when the user right-clicks over a word I need to find out what the word is. To do this I need to find out which position in the text the user has clicked on. I know I can easily get the mouse position from the MouseEvent which is passed into the mousePressed method, and I am told that you can convert this to get the character index in the piece of text - however I can't figure out how to do this.</p>\n\n<p>I have tried the viewToModel() method on JEditorPane however this is giving me back the wrong position in the text so either I'm using it wrong or it doesn't work in this way. </p>\n\n<p>Any ideas? </p>\n"},{"tags":["java","generics","java-stream","unbounded-wildcard"],"comments":[{"owner":{"account_id":4039390,"reputation":458,"user_id":3322695,"display_name":"Leo G."},"score":1,"creation_date":1640081255,"post_id":70433519,"comment_id":124505077,"body_markdown":"Stream&lt;? extends Optional&lt;? extends Number&gt;&gt; seems to do the trick, but I wonder why","body":"Stream&lt;? extends Optional&lt;? extends Number&gt;&gt; seems to do the trick, but I wonder why"}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1640096068,"creation_date":1640082162,"answer_id":70433906,"question_id":70433519,"body_markdown":"Compatibility with the return type `Stream&lt;Optional&lt;? extends Number&gt;&gt;` in the first case is not obtained by virtue of `numbers.map(Optional::of)` returning a `Stream&lt;Optional&lt;? extends Number&gt;&gt;` on its own; it&#39;s the compiler inferring the return type of `numbers.map(...)` due to  it being a generic method: \r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\r\n\r\nwhile `Stream.filter()` is not:\r\n\r\n    Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);\r\n\r\nTherefore, in the first case the compiler can take into account the return statement&#39;s context (`getNumbers`&#39;s type) when inferring type of `numbers.map(...)`.  \r\nCompiler cannot do the same for `numbers.map(...)` in the second case,  as there are subsequent chained calls, that may further change the type, so it would be very hard to guess what the right inferring should be at this stage. As a result, the most specific possible type is assumed for `numbers.map(...)` (`Stream&lt;Optional&lt;Number&gt;&gt;`) and further carried on by `filter(...)`.\r\n\r\nAs a different example to illustrate that, please figure out why both of these compile (`List.of()` is the same code, after all):\r\n\r\n\tstatic List&lt;String&gt; stringList() {\r\n\t\treturn List.of();\r\n\t}\r\n\tstatic List&lt;Integer&gt; intList() {\r\n\t\treturn List.of();\r\n\t}\r\n\r\nNow, why does this fail:\r\n\r\n\tstatic List&lt;String&gt; stringList() {\r\n\t\treturn List.of().subList(0, 0);\r\n\t}\r\n\r\nThat&#39;s because `List.subList(...)` does not infer the returned list&#39;s `E` type in context (i.e., the method is not generic), it carries the `List` instance&#39;s `E` type, which, with `List.of()` in that case gets defaulted to `Object` (yes, when you have `return List.of();`, return type inference kicks in, forcing the compiler to figure out that the intent is to make `E` match `String`, the type argument in the method&#39;s return type). &lt;i&gt;Please note that this gets more complex than that, there are corners where inference doesn&#39;t work as wished/expected.&lt;/i&gt;\r\n\r\n---\r\n\r\n**Short answer**: `return numbers.map(Optional::of)` takes advantage of type inference as `map()` is generic, and `filter()` does not, expecting the `E` of `Stream&lt;E&gt;` to be carried. And with `numbers.map(Optional::of)`, `E` is `Optional&lt;Number&gt;`, not `Optional&lt;? extends Number&gt;`, and `filter` carries that.","title":"filtering a stream changes its wildcard bounds?","body":"<p>Compatibility with the return type <code>Stream&lt;Optional&lt;? extends Number&gt;&gt;</code> in the first case is not obtained by virtue of <code>numbers.map(Optional::of)</code> returning a <code>Stream&lt;Optional&lt;? extends Number&gt;&gt;</code> on its own; it's the compiler inferring the return type of <code>numbers.map(...)</code> due to  it being a generic method:</p>\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\n</code></pre>\n<p>while <code>Stream.filter()</code> is not:</p>\n<pre><code>Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);\n</code></pre>\n<p>Therefore, in the first case the compiler can take into account the return statement's context (<code>getNumbers</code>'s type) when inferring type of <code>numbers.map(...)</code>.<br />\nCompiler cannot do the same for <code>numbers.map(...)</code> in the second case,  as there are subsequent chained calls, that may further change the type, so it would be very hard to guess what the right inferring should be at this stage. As a result, the most specific possible type is assumed for <code>numbers.map(...)</code> (<code>Stream&lt;Optional&lt;Number&gt;&gt;</code>) and further carried on by <code>filter(...)</code>.</p>\n<p>As a different example to illustrate that, please figure out why both of these compile (<code>List.of()</code> is the same code, after all):</p>\n<pre><code>static List&lt;String&gt; stringList() {\n    return List.of();\n}\nstatic List&lt;Integer&gt; intList() {\n    return List.of();\n}\n</code></pre>\n<p>Now, why does this fail:</p>\n<pre><code>static List&lt;String&gt; stringList() {\n    return List.of().subList(0, 0);\n}\n</code></pre>\n<p>That's because <code>List.subList(...)</code> does not infer the returned list's <code>E</code> type in context (i.e., the method is not generic), it carries the <code>List</code> instance's <code>E</code> type, which, with <code>List.of()</code> in that case gets defaulted to <code>Object</code> (yes, when you have <code>return List.of();</code>, return type inference kicks in, forcing the compiler to figure out that the intent is to make <code>E</code> match <code>String</code>, the type argument in the method's return type). <i>Please note that this gets more complex than that, there are corners where inference doesn't work as wished/expected.</i></p>\n<hr />\n<p><strong>Short answer</strong>: <code>return numbers.map(Optional::of)</code> takes advantage of type inference as <code>map()</code> is generic, and <code>filter()</code> does not, expecting the <code>E</code> of <code>Stream&lt;E&gt;</code> to be carried. And with <code>numbers.map(Optional::of)</code>, <code>E</code> is <code>Optional&lt;Number&gt;</code>, not <code>Optional&lt;? extends Number&gt;</code>, and <code>filter</code> carries that.</p>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70433906,"answer_count":1,"score":8,"last_activity_date":1641560322,"creation_date":1640080550,"question_id":70433519,"body_markdown":"the below method compiles without problems:\r\n```java\r\nstatic Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers(Stream&lt;Number&gt; numbers) {\r\n\treturn numbers.map(Optional::of);\r\n}\r\n```\r\nyet if I add a simple filtering to it like this:\r\n```java\r\nstatic Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers2(Stream&lt;Number&gt; numbers) {\r\n\treturn numbers.map(Optional::of).filter(number -&gt; true);\r\n}\r\n```\r\nit generates the following error:\r\n&gt; incompatible types:  \r\njava.util.stream.Stream&lt;java.util.Optional&lt;java.lang.Number&gt;&gt; cannot be converted to  \r\njava.util.stream.Stream&lt;java.util.Optional&lt;? extends java.lang.Number&gt;&gt;\r\n\r\ntested on openJdk-11 and openJdk-17.\r\n\r\nI&#39;d expect them both to do the same (either both compile ok or both generate the same compilation error), so I&#39;m really puzzled by this: what is the general rule here that explains why the 1st method compiles ok yet the 2nd does not?\r\nThanks!","title":"filtering a stream changes its wildcard bounds?","body":"<p>the below method compiles without problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers(Stream&lt;Number&gt; numbers) {\n    return numbers.map(Optional::of);\n}\n</code></pre>\n<p>yet if I add a simple filtering to it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers2(Stream&lt;Number&gt; numbers) {\n    return numbers.map(Optional::of).filter(number -&gt; true);\n}\n</code></pre>\n<p>it generates the following error:</p>\n<blockquote>\n<p>incompatible types:<br />\njava.util.stream.Stream&lt;java.util.Optional&lt;java.lang.Number&gt;&gt; cannot be converted to<br />\njava.util.stream.Stream&lt;java.util.Optional&lt;? extends java.lang.Number&gt;&gt;</p>\n</blockquote>\n<p>tested on openJdk-11 and openJdk-17.</p>\n<p>I'd expect them both to do the same (either both compile ok or both generate the same compilation error), so I'm really puzzled by this: what is the general rule here that explains why the 1st method compiles ok yet the 2nd does not?\nThanks!</p>\n"},{"tags":["java","file-io","checkmarx"],"comments":[{"owner":{"account_id":446457,"reputation":5228,"user_id":839513,"accept_rate":57,"display_name":"baruchiro"},"score":0,"creation_date":1589727897,"post_id":61849794,"comment_id":109402234,"body_markdown":"Does this answer your question? [Checkmarx Improper Resource Access Authorization](https://stackoverflow.com/questions/57824178/checkmarx-improper-resource-access-authorization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57824178/checkmarx-improper-resource-access-authorization\">Checkmarx Improper Resource Access Authorization</a>"}],"answers":[{"tags":[],"owner":{"account_id":446457,"reputation":5228,"user_id":839513,"accept_rate":57,"display_name":"baruchiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589877518,"creation_date":1589727819,"answer_id":61853925,"question_id":61849794,"body_markdown":"You expect the **user** can read a file from the **file system**, by `path`, and convert it to `ByteStream`. Fine.\r\n\r\nBut what if the user giving you an absolute file path? Or relative one (`../../.ssh/id_rsa`, for example)?\r\n\r\nNo matter who is sending the request, the access permissions of the request is actually the **server** access permissions (because this code runs on the server, of course).\r\n\r\nSo you need to validate the **user** access permissions, for avoiding **Improper Access Control Authorization**.\r\n\r\nExample from [this answer](https://stackoverflow.com/a/57863422/839513):\r\n```java\r\nif (user.equals(&quot;admin&quot;)){\r\n   try (InputStream is = Files.newInputStream(Paths.get(fileName))) {\r\n      ...\r\n   }\r\n}\r\n```\r\n\r\nAlso, my suggestion is to remove any **relative path** from the `filename` input path.","title":"Improper Access Control Authorization -Checkmarx - File Read/Write Operation","body":"<p>You expect the <strong>user</strong> can read a file from the <strong>file system</strong>, by <code>path</code>, and convert it to <code>ByteStream</code>. Fine.</p>\n\n<p>But what if the user giving you an absolute file path? Or relative one (<code>../../.ssh/id_rsa</code>, for example)?</p>\n\n<p>No matter who is sending the request, the access permissions of the request is actually the <strong>server</strong> access permissions (because this code runs on the server, of course).</p>\n\n<p>So you need to validate the <strong>user</strong> access permissions, for avoiding <strong>Improper Access Control Authorization</strong>.</p>\n\n<p>Example from <a href=\"https://stackoverflow.com/a/57863422/839513\">this answer</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (user.equals(\"admin\")){\n   try (InputStream is = Files.newInputStream(Paths.get(fileName))) {\n      ...\n   }\n}\n</code></pre>\n\n<p>Also, my suggestion is to remove any <strong>relative path</strong> from the <code>filename</code> input path.</p>\n"},{"tags":[],"owner":{"account_id":14301436,"reputation":338,"user_id":10330658,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641559981,"creation_date":1641559981,"answer_id":70621562,"question_id":61849794,"body_markdown":"If anyone is getting low severity at below specific part in checkmarx.\r\n\r\n&gt; Paths.get(fileName)\r\n\r\nthen try using resolve() method like \r\n\r\n&gt; `Paths.get(fileName).resolve(&quot;&quot;)`\r\n\r\nresolve () -&gt; this method is used to resolve the given path against this path.\r\n\r\nfor more info on resolve(), refer [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50551920/where-to-use-resolve-and-relativize-method-of-java-nio-file-path-class","title":"Improper Access Control Authorization -Checkmarx - File Read/Write Operation","body":"<p>If anyone is getting low severity at below specific part in checkmarx.</p>\n<blockquote>\n<p>Paths.get(fileName)</p>\n</blockquote>\n<p>then try using resolve() method like</p>\n<blockquote>\n<p><code>Paths.get(fileName).resolve(&quot;&quot;)</code></p>\n</blockquote>\n<p>resolve () -&gt; this method is used to resolve the given path against this path.</p>\n<p>for more info on resolve(), refer <a href=\"https://stackoverflow.com/questions/50551920/where-to-use-resolve-and-relativize-method-of-java-nio-file-path-class\">this</a></p>\n"}],"owner":{"account_id":18586762,"reputation":1,"user_id":13544947,"display_name":"Rishabh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641559981,"creation_date":1589708644,"question_id":61849794,"body_markdown":"I am using the Checkmarx security tool to scan my code. I am getting:\r\n&gt;Improper Access Control Authorization\r\n\r\non read/write method while writing data to output stream from file.\r\n\r\n    private ByteArrayOutputStream createToByteArray(String fileName) throws IOException {\r\n            byte[] buf = new byte[1024];\r\n            try (InputStream is = Files.newInputStream(Paths.get(fileName))) {\r\n                int len = is.read(buf);\r\n                ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                while (len != -1) {\r\n                    os.write(buf, 0, len);\r\n                    len = is.read(buf);\r\n                }\r\n                return os;\r\n            }\r\n        }","title":"Improper Access Control Authorization -Checkmarx - File Read/Write Operation","body":"<p>I am using the Checkmarx security tool to scan my code. I am getting:</p>\n\n<blockquote>\n  <p>Improper Access Control Authorization</p>\n</blockquote>\n\n<p>on read/write method while writing data to output stream from file.</p>\n\n<pre><code>private ByteArrayOutputStream createToByteArray(String fileName) throws IOException {\n        byte[] buf = new byte[1024];\n        try (InputStream is = Files.newInputStream(Paths.get(fileName))) {\n            int len = is.read(buf);\n            ByteArrayOutputStream os = new ByteArrayOutputStream();\n            while (len != -1) {\n                os.write(buf, 0, len);\n                len = is.read(buf);\n            }\n            return os;\n        }\n    }\n</code></pre>\n"},{"tags":["java","node.js","encryption","rsa","public-key"],"comments":[{"owner":{"account_id":14319803,"reputation":2349,"user_id":10957755,"display_name":"Ayzrian"},"score":0,"creation_date":1620728289,"post_id":67484688,"comment_id":119280190,"body_markdown":"Please show what is `Crypto` class is in your Node.js code.","body":"Please show what is <code>Crypto</code> class is in your Node.js code."},{"owner":{"account_id":21560570,"reputation":65,"user_id":15895177,"display_name":"karsur"},"score":0,"creation_date":1620728496,"post_id":67484688,"comment_id":119280275,"body_markdown":"it is from built in crypto library in NodeJS, i used v11.10.0","body":"it is from built in crypto library in NodeJS, i used v11.10.0"}],"owner":{"account_id":21560570,"reputation":65,"user_id":15895177,"display_name":"karsur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641559973,"creation_date":1620727971,"question_id":67484688,"body_markdown":"I need to implement encrpytion in NodeJS using public key RSA from java language to encrypt HttpPost params.\r\n\r\n    public class RSAUtil {\r\n        public static PublicKey getPublicKey(String key) throws Exception {\r\n            byte[] keyBytes = Base64.decodeBase64(key.getBytes());\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n            return publicKey;\r\n        }        \r\n        public static String encrypt(String publicKeyFrom, byte[] waitEncrypt) throws Exception {\r\n            String publicK = publicKeyFrom.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);\r\n            PublicKey publicKey = getPublicKey(publicK);\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher.init(1, publicKey);\r\n            int inputLen = waitEncrypt.length;\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int offSet = 0;        \r\n            for (int i = 0; inputLen - offSet &gt; 0; offSet = i * 117) {\r\n                byte[] cache;\r\n                if (inputLen - offSet &gt; 117) {\r\n                    cache = cipher.doFinal(waitEncrypt, offSet, 117);\r\n                } else {\r\n                    cache = cipher.doFinal(waitEncrypt, offSet, inputLen - offSet);\r\n                }        \r\n                out.write(cache, 0, cache.length);\r\n                ++i;\r\n            }        \r\n            byte[] encryptedData = out.toByteArray();\r\n            out.close();\r\n            return Base64.encodeBase64String(encryptedData);\r\n        }\r\n    }\r\n\r\nAnd here is how to use it in Java.\r\n\r\n    String PUBLIC_KEY = &quot;MIIBIjANxxxxxxxxlGqQIDAQAB&quot;;\r\n    String reqParams = &quot;{\\&quot;code\\&quot;:\\&quot;A12345\\&quot;}&quot;;\r\n    String encryptedParams = RSAUtil.encrypt(PUBLIC_KEY, reqParams.getBytes());\r\n\r\nAnd I already tried to translate the code into NodeJS as follow.\r\n\r\n    const Crypto = require(&#39;crypto&#39;);\r\n    const encryptParams = function (params, publicKey) {\r\n        const buffer = Buffer.from(params)\r\n        const encrypted = Crypto.publicEncrypt(publicKey, buffer)\r\n        const ecryptedParams = encrypted.toString(&#39;base64&#39;);\r\n        return ecryptedParams;\r\n    }\r\n    \r\n    const PUBLIC_KEY = `-----BEGIN PUBLIC KEY-----\r\n    MIIBIjANxxxxxxxxlGqQIDAQAB\r\n    -----END PUBLIC KEY-----`;\r\n    const reqParams = { code: &#39;A12345&#39; };\r\n    const encryptedParams = encryptParams(JSON.stringify(reqParams), PUBLIC_KEY);\r\n\r\nBut as long as I used the encrptedParams from NodeJS code to existing Java code HttpPost, it does not work. And if I used encrptedParams from Java to NodeJS Axios it works.\r\n\r\nCould you please help pointing me out what is wrong with my NodeJS code? or show me the correct way to have encryption from above Java code into NodeJS code?\r\n\r\nThank you.","title":"Encrypt Cipher RSA Public Key NodeJS From Java","body":"<p>I need to implement encrpytion in NodeJS using public key RSA from java language to encrypt HttpPost params.</p>\n<pre><code>public class RSAUtil {\n    public static PublicKey getPublicKey(String key) throws Exception {\n        byte[] keyBytes = Base64.decodeBase64(key.getBytes());\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\n        return publicKey;\n    }        \n    public static String encrypt(String publicKeyFrom, byte[] waitEncrypt) throws Exception {\n        String publicK = publicKeyFrom.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);\n        PublicKey publicKey = getPublicKey(publicK);\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(1, publicKey);\n        int inputLen = waitEncrypt.length;\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int offSet = 0;        \n        for (int i = 0; inputLen - offSet &gt; 0; offSet = i * 117) {\n            byte[] cache;\n            if (inputLen - offSet &gt; 117) {\n                cache = cipher.doFinal(waitEncrypt, offSet, 117);\n            } else {\n                cache = cipher.doFinal(waitEncrypt, offSet, inputLen - offSet);\n            }        \n            out.write(cache, 0, cache.length);\n            ++i;\n        }        \n        byte[] encryptedData = out.toByteArray();\n        out.close();\n        return Base64.encodeBase64String(encryptedData);\n    }\n}\n</code></pre>\n<p>And here is how to use it in Java.</p>\n<pre><code>String PUBLIC_KEY = &quot;MIIBIjANxxxxxxxxlGqQIDAQAB&quot;;\nString reqParams = &quot;{\\&quot;code\\&quot;:\\&quot;A12345\\&quot;}&quot;;\nString encryptedParams = RSAUtil.encrypt(PUBLIC_KEY, reqParams.getBytes());\n</code></pre>\n<p>And I already tried to translate the code into NodeJS as follow.</p>\n<pre><code>const Crypto = require('crypto');\nconst encryptParams = function (params, publicKey) {\n    const buffer = Buffer.from(params)\n    const encrypted = Crypto.publicEncrypt(publicKey, buffer)\n    const ecryptedParams = encrypted.toString('base64');\n    return ecryptedParams;\n}\n\nconst PUBLIC_KEY = `-----BEGIN PUBLIC KEY-----\nMIIBIjANxxxxxxxxlGqQIDAQAB\n-----END PUBLIC KEY-----`;\nconst reqParams = { code: 'A12345' };\nconst encryptedParams = encryptParams(JSON.stringify(reqParams), PUBLIC_KEY);\n</code></pre>\n<p>But as long as I used the encrptedParams from NodeJS code to existing Java code HttpPost, it does not work. And if I used encrptedParams from Java to NodeJS Axios it works.</p>\n<p>Could you please help pointing me out what is wrong with my NodeJS code? or show me the correct way to have encryption from above Java code into NodeJS code?</p>\n<p>Thank you.</p>\n"},{"tags":["java","docker","maven","docker-compose","gitlab-ci-runner"],"comments":[{"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"score":0,"creation_date":1641552815,"post_id":70619950,"comment_id":124839036,"body_markdown":"Funny : `docker run --rm --env JAVA_HOME=&quot;/usr/local/openjdk-11&quot; runner:1.0 echo $JAVA_HOME` gives nothing :(","body":"Funny : <code>docker run --rm --env JAVA_HOME=&quot;&#47;usr&#47;local&#47;openjdk-11&quot; runner:1.0 echo $JAVA_HOME</code> gives nothing :("}],"answers":[{"tags":[],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641559362,"creation_date":1641559362,"answer_id":70621438,"question_id":70619950,"body_markdown":"Thanks to https://stackoverflow.com/questions/45147371/docker-alpine-oracle-java-cannot-find-java/45147882 I found why java was not found ... The `FROM docker/compose` instruction in the Dockerfile is about an image built on musl lib (alpine) =&gt; no java is possible with it (easily).\r\nI changed it with `docker/compose:debian-1.29.2` and then it finds java :) ","title":"Dockerfile combining MAVEN, JAVA and COMPOSE","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/45147371/docker-alpine-oracle-java-cannot-find-java/45147882\">Docker alpine + oracle java: cannot find java</a> I found why java was not found ... The <code>FROM docker/compose</code> instruction in the Dockerfile is about an image built on musl lib (alpine) =&gt; no java is possible with it (easily).\nI changed it with <code>docker/compose:debian-1.29.2</code> and then it finds java :)</p>\n"}],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641559362,"creation_date":1641551829,"question_id":70619950,"body_markdown":"I want to create a DOCKER container to be used by my gitlab-runner in order to compile/deploy my Quarkus microservices.\r\nHere is what I&#39;ve done :\r\n\r\n    FROM openjdk:11-jdk as JDK\r\n    \r\n    FROM maven:3.8.4-jdk-11 as MAVEN\r\n    \r\n    FROM docker/compose\r\n    \r\n    ENV LANG=&#39;fr_FR.UTF-8&#39; LANGUAGE=&#39;fr_FR:fr&#39;\r\n    \r\n    LABEL description=&quot;Runner for compiling/deploying my QUARKUS services &quot; \\\r\n          version=&quot;${VERSION}&quot;\r\n    \r\n    COPY --from=JDK /usr/local/openjdk-11 /usr/local/openjdk-11\r\n    ENV JAVA_HOME=/usr/local/openjdk-11\r\n    RUN { echo &#39;#/bin/sh&#39;; echo &#39;echo &quot;$JAVA_HOME&quot;&#39;; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home &amp;&amp; [ &quot;$JAVA_HOME&quot; = &quot;$(docker-java-home)&quot; ] # backwards compatibility\r\n    ENV PATH=$JAVA_HOME/bin:$PATH\r\n    \r\n    ARG USER_HOME_DIR=&quot;/root&quot;\r\n    \r\n    COPY --from=MAVEN /usr/local/bin/mvn-entrypoint.sh /usr/local/bin/mvn-entrypoint.sh\r\n    COPY --from=MAVEN /usr/share/maven /usr/share/maven\r\n    RUN ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    ENV MAVEN_HOME=/usr/share/maven\r\n    ENV MAVEN_CONFIG=&quot;$USER_HOME_DIR/.m2&quot;\r\n    \r\n    RUN echo &#39;JAVA_HOME=/usr/local/openjdk-11&#39;&gt;/root/env \\\r\n        &amp;&amp; echo &#39;MAVEN_HOME=/usr/share/maven&#39;&gt;&gt;/root/env \\\r\n        &amp;&amp; echo &#39;MAVEN_CONFIG=&quot;$USER_HOME_DIR/.m2&quot;&#39;&gt;&gt; /root/env \\\r\n        &amp;&amp; chmod +x /root/env\\\r\n        &amp;&amp; source /root/env\r\n    \r\n    ENTRYPOINT [&quot;/usr/local/bin/mvn-entrypoint.sh&quot;]\r\n    CMD [&quot;mvn&quot;]\r\n\r\nIt&#39;s inspired by Dockerfiles in docker hub ...\r\nIt doesn&#39;t work : in gitlab pipeline it says :[![enter image description here][1]][1]\r\nSo I tried some commands :\r\n`docker run --rm runner4geo3d:1.0 echo $JAVA_HOME` it says nothing =&gt; it explains why runner fails ...\r\nBut I did set these variables !\r\nand more, when I inspect :\r\n\r\n    docker inspect runnerxxx:1.0\r\n    [\r\n        {\r\n    (...)\r\n                &quot;Env&quot;: [\r\n                    &quot;PATH=/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\r\n                    &quot;LANG=fr_FR.UTF-8&quot;,\r\n                    &quot;LANGUAGE=fr_FR:fr&quot;,\r\n                    &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,\r\n                    &quot;MAVEN_HOME=/usr/share/maven&quot;,\r\n                    &quot;MAVEN_CONFIG=/root/.m2&quot;\r\n                ],\r\n                &quot;Cmd&quot;: [\r\n                    &quot;/bin/sh&quot;,\r\n                    &quot;-c&quot;,\r\n                    &quot;#(nop) &quot;,\r\n                    &quot;CMD [\\&quot;mvn\\&quot;]&quot;\r\n                ],\r\n                &quot;Image&quot;: &quot;sha256:7ab7026055a9a6af295a884f9eee926bbb4cdb6a5102f0c07756e69e4bf95126&quot;,\r\n                &quot;Volumes&quot;: null,\r\n                &quot;WorkingDir&quot;: &quot;&quot;,\r\n                &quot;Entrypoint&quot;: [\r\n                    &quot;/usr/local/bin/mvn-entrypoint.sh&quot;\r\n                ],\r\n                &quot;OnBuild&quot;: null,\r\n                &quot;Labels&quot;: {\r\n                    &quot;description&quot;: &quot;Runner for compiling/deploying QUARKUS services &quot;,\r\n                    &quot;version&quot;: &quot;&quot;\r\n                }\r\n            },\r\n            &quot;DockerVersion&quot;: &quot;20.10.12&quot;,\r\n            &quot;Author&quot;: &quot;&quot;,\r\n            &quot;Config&quot;: {\r\n                &quot;Hostname&quot;: &quot;&quot;,\r\n                &quot;Domainname&quot;: &quot;&quot;,\r\n                &quot;User&quot;: &quot;&quot;,\r\n                &quot;AttachStdin&quot;: false,\r\n                &quot;AttachStdout&quot;: false,\r\n                &quot;AttachStderr&quot;: false,\r\n                &quot;Tty&quot;: false,\r\n                &quot;OpenStdin&quot;: false,\r\n                &quot;StdinOnce&quot;: false,\r\n                &quot;Env&quot;: [\r\n                    &quot;PATH=/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\r\n                    &quot;LANG=fr_FR.UTF-8&quot;,\r\n                    &quot;LANGUAGE=fr_FR:fr&quot;,\r\n                    &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,\r\n                    &quot;MAVEN_HOME=/usr/share/maven&quot;,\r\n                    &quot;MAVEN_CONFIG=/root/.m2&quot;\r\n                ],\r\n                &quot;Cmd&quot;: [\r\n                    &quot;mvn&quot;\r\n                ],\r\n                &quot;Image&quot;: &quot;sha256:7ab7026055a9a6af295a884f9eee926bbb4cdb6a5102f0c07756e69e4bf95126&quot;,\r\n                &quot;Volumes&quot;: null,\r\n                &quot;WorkingDir&quot;: &quot;&quot;,\r\n                &quot;Entrypoint&quot;: [\r\n                    &quot;/usr/local/bin/mvn-entrypoint.sh&quot;\r\n                ],\r\n                &quot;OnBuild&quot;: null,\r\n                &quot;Labels&quot;: {\r\n                    &quot;description&quot;: &quot;Runner for compiling/deploying QUARKUS services &quot;,\r\n                    &quot;version&quot;: &quot;&quot;\r\n                }\r\n            },\r\n            &quot;Architecture&quot;: &quot;amd64&quot;,\r\n            &quot;Os&quot;: &quot;linux&quot;,\r\n            &quot;Size&quot;: 434176309,\r\n            &quot;VirtualSize&quot;: 434176309,\r\n            (..)\r\n\r\nAny idea why these variables aren&#39;t set ? What did I do wrong ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gUiVX.png\r\n","title":"Dockerfile combining MAVEN, JAVA and COMPOSE","body":"<p>I want to create a DOCKER container to be used by my gitlab-runner in order to compile/deploy my Quarkus microservices.\nHere is what I've done :</p>\n<pre><code>FROM openjdk:11-jdk as JDK\n\nFROM maven:3.8.4-jdk-11 as MAVEN\n\nFROM docker/compose\n\nENV LANG='fr_FR.UTF-8' LANGUAGE='fr_FR:fr'\n\nLABEL description=&quot;Runner for compiling/deploying my QUARKUS services &quot; \\\n      version=&quot;${VERSION}&quot;\n\nCOPY --from=JDK /usr/local/openjdk-11 /usr/local/openjdk-11\nENV JAVA_HOME=/usr/local/openjdk-11\nRUN { echo '#/bin/sh'; echo 'echo &quot;$JAVA_HOME&quot;'; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home &amp;&amp; [ &quot;$JAVA_HOME&quot; = &quot;$(docker-java-home)&quot; ] # backwards compatibility\nENV PATH=$JAVA_HOME/bin:$PATH\n\nARG USER_HOME_DIR=&quot;/root&quot;\n\nCOPY --from=MAVEN /usr/local/bin/mvn-entrypoint.sh /usr/local/bin/mvn-entrypoint.sh\nCOPY --from=MAVEN /usr/share/maven /usr/share/maven\nRUN ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\nENV MAVEN_HOME=/usr/share/maven\nENV MAVEN_CONFIG=&quot;$USER_HOME_DIR/.m2&quot;\n\nRUN echo 'JAVA_HOME=/usr/local/openjdk-11'&gt;/root/env \\\n    &amp;&amp; echo 'MAVEN_HOME=/usr/share/maven'&gt;&gt;/root/env \\\n    &amp;&amp; echo 'MAVEN_CONFIG=&quot;$USER_HOME_DIR/.m2&quot;'&gt;&gt; /root/env \\\n    &amp;&amp; chmod +x /root/env\\\n    &amp;&amp; source /root/env\n\nENTRYPOINT [&quot;/usr/local/bin/mvn-entrypoint.sh&quot;]\nCMD [&quot;mvn&quot;]\n</code></pre>\n<p>It's inspired by Dockerfiles in docker hub ...\nIt doesn't work : in gitlab pipeline it says :<a href=\"https://i.stack.imgur.com/gUiVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gUiVX.png\" alt=\"enter image description here\" /></a>\nSo I tried some commands :\n<code>docker run --rm runner4geo3d:1.0 echo $JAVA_HOME</code> it says nothing =&gt; it explains why runner fails ...\nBut I did set these variables !\nand more, when I inspect :</p>\n<pre><code>docker inspect runnerxxx:1.0\n[\n    {\n(...)\n            &quot;Env&quot;: [\n                &quot;PATH=/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\n                &quot;LANG=fr_FR.UTF-8&quot;,\n                &quot;LANGUAGE=fr_FR:fr&quot;,\n                &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,\n                &quot;MAVEN_HOME=/usr/share/maven&quot;,\n                &quot;MAVEN_CONFIG=/root/.m2&quot;\n            ],\n            &quot;Cmd&quot;: [\n                &quot;/bin/sh&quot;,\n                &quot;-c&quot;,\n                &quot;#(nop) &quot;,\n                &quot;CMD [\\&quot;mvn\\&quot;]&quot;\n            ],\n            &quot;Image&quot;: &quot;sha256:7ab7026055a9a6af295a884f9eee926bbb4cdb6a5102f0c07756e69e4bf95126&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;&quot;,\n            &quot;Entrypoint&quot;: [\n                &quot;/usr/local/bin/mvn-entrypoint.sh&quot;\n            ],\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: {\n                &quot;description&quot;: &quot;Runner for compiling/deploying QUARKUS services &quot;,\n                &quot;version&quot;: &quot;&quot;\n            }\n        },\n        &quot;DockerVersion&quot;: &quot;20.10.12&quot;,\n        &quot;Author&quot;: &quot;&quot;,\n        &quot;Config&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: [\n                &quot;PATH=/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\n                &quot;LANG=fr_FR.UTF-8&quot;,\n                &quot;LANGUAGE=fr_FR:fr&quot;,\n                &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,\n                &quot;MAVEN_HOME=/usr/share/maven&quot;,\n                &quot;MAVEN_CONFIG=/root/.m2&quot;\n            ],\n            &quot;Cmd&quot;: [\n                &quot;mvn&quot;\n            ],\n            &quot;Image&quot;: &quot;sha256:7ab7026055a9a6af295a884f9eee926bbb4cdb6a5102f0c07756e69e4bf95126&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;&quot;,\n            &quot;Entrypoint&quot;: [\n                &quot;/usr/local/bin/mvn-entrypoint.sh&quot;\n            ],\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: {\n                &quot;description&quot;: &quot;Runner for compiling/deploying QUARKUS services &quot;,\n                &quot;version&quot;: &quot;&quot;\n            }\n        },\n        &quot;Architecture&quot;: &quot;amd64&quot;,\n        &quot;Os&quot;: &quot;linux&quot;,\n        &quot;Size&quot;: 434176309,\n        &quot;VirtualSize&quot;: 434176309,\n        (..)\n</code></pre>\n<p>Any idea why these variables aren't set ? What did I do wrong ?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1641559147,"post_id":70621374,"comment_id":124841263,"body_markdown":"The CSV file you have isn&#39;t encoded with UTF_8.","body":"The CSV file you have isn&#39;t encoded with UTF_8."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1641559647,"post_id":70621374,"comment_id":124841452,"body_markdown":"Or the terminal that prints the output has a different encoding.","body":"Or the terminal that prints the output has a different encoding."},{"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"score":1,"creation_date":1641560566,"post_id":70621374,"comment_id":124841793,"body_markdown":"After re-saving the csv as to be utf-8 encoded , then the special character appeared correctly !","body":"After re-saving the csv as to be utf-8 encoded , then the special character appeared correctly !"}],"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641559149,"creation_date":1641558973,"question_id":70621374,"body_markdown":"There is a csv file containing special characters such as `&#178;`. When displaying the csv lines through my code then I get `?` :\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    ...\r\n    List&lt;String&gt; lines = FileUtils.readLines(csv, StandardCharsets.UTF_8);\r\n    for(String line : lines) {\r\n        String[] champs = line.split(&quot;;&quot;);\r\n        String designation = champs[1];\r\n        System.out.println(&quot;========================== designation = &quot;+designation);\r\n    }\r\n\r\nAlthough when I display a variable containing the `&#178;` character typed from keyboard then everything is ok. So what is wrong ?","title":"Character from csv file is unknown although the same typed from keyboard is recognized","body":"<p>There is a csv file containing special characters such as <code>¬≤</code>. When displaying the csv lines through my code then I get <code>?</code> :</p>\n<pre><code>import org.apache.commons.io.FileUtils;\n...\nList&lt;String&gt; lines = FileUtils.readLines(csv, StandardCharsets.UTF_8);\nfor(String line : lines) {\n    String[] champs = line.split(&quot;;&quot;);\n    String designation = champs[1];\n    System.out.println(&quot;========================== designation = &quot;+designation);\n}\n</code></pre>\n<p>Although when I display a variable containing the <code>¬≤</code> character typed from keyboard then everything is ok. So what is wrong ?</p>\n"},{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1513321620,"post_id":47827333,"comment_id":82617035,"body_markdown":"It appears this code is working, so may be better suited to http://codereview.stackexchange.com","body":"It appears this code is working, so may be better suited to <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1513321679,"post_id":47827333,"comment_id":82617069,"body_markdown":"*&quot;Can it be reduced?&quot;* **Yes.** Was that all you wanted to know?","body":"<i>&quot;Can it be reduced?&quot;</i> <b>Yes.</b> Was that all you wanted to know?"},{"owner":{"account_id":5521774,"reputation":1353,"user_id":4384490,"accept_rate":53,"display_name":"kumarmo2"},"score":0,"creation_date":1513321806,"post_id":47827333,"comment_id":82617123,"body_markdown":"@Andreas, I have edited the question. If it can be reduced, then can you provide an algorithm for that?","body":"@Andreas, I have edited the question. If it can be reduced, then can you provide an algorithm for that?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1513322052,"post_id":47827333,"comment_id":82617215,"body_markdown":"Did you try Google, e.g. using the title of your question? [`Count number of Divisors for all the numbers till N`](https://www.google.com/search?q=Count+number+of+Divisors+for+all+the+numbers+till+N) --- Top link for me is [Count Divisors of n in O(n^1/3) - GeeksforGeeks](http://www.geeksforgeeks.org/count-divisors-n-on13/)","body":"Did you try Google, e.g. using the title of your question? <a href=\"https://www.google.com/search?q=Count+number+of+Divisors+for+all+the+numbers+till+N\" rel=\"nofollow noreferrer\"><code>Count number of Divisors for all the numbers till N</code></a> --- Top link for me is <a href=\"http://www.geeksforgeeks.org/count-divisors-n-on13/\" rel=\"nofollow noreferrer\">Count Divisors of n in O(n^1/3) - GeeksforGeeks</a>"},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1513326407,"post_id":47827333,"comment_id":82619075,"body_markdown":"@Andreas you should take the link in geeksforgeeks with a large grain of salt. Try to read it in detail and you will notice the complexity is in fact O(n^2) for a single test case.","body":"@Andreas you should take the link in geeksforgeeks with a large grain of salt. Try to read it in detail and you will notice the complexity is in fact O(n^2) for a single test case."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1513331441,"post_id":47827333,"comment_id":82621894,"body_markdown":"@IvayloStrandjev But this question is not about a single test case, so what does that have to do with anything?","body":"@IvayloStrandjev But this question is not about a single test case, so what does that have to do with anything?"},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":1,"creation_date":1513346559,"post_id":47827333,"comment_id":82630840,"body_markdown":"@Andreas it is a single test case - you have to count all the divisors of the numbers up to n **once**","body":"@Andreas it is a single test case - you have to count all the divisors of the numbers up to n <b>once</b>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1513352933,"post_id":47827333,"comment_id":82634815,"body_markdown":"@IvayloStrandjev But you have to call `countDivisors` n times.","body":"@IvayloStrandjev But you have to call <code>countDivisors</code> n times."},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1513353129,"post_id":47827333,"comment_id":82634923,"body_markdown":"@Andreas please read the whole post in geeskforgeeks. You call the count divisors function n times, but before doing so you need to do n*n precomputation. Thus if you only do a single iteration, this is useless.","body":"@Andreas please read the whole post in geeskforgeeks. You call the count divisors function n times, but before doing so you need to do n*n precomputation. Thus if you only do a single iteration, this is useless."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1513385353,"post_id":47827333,"comment_id":82647297,"body_markdown":"@IvayloStrandjev I did look, and I see no `n * n` precomputation in the `SieveOfEratosthenes` method. I am of course ignoring the unnecessary `primesquare[i] = false;` statement, since that is the default value of booleans in a new array. And a simplistic view of the `prime[i] = false;` statement, is that it executes `sqrt(n) * n` times, but it&#39;s actually much less than that when you factor in the prime check and the `i += p` increment.","body":"@IvayloStrandjev I did look, and I see no <code>n * n</code> precomputation in the <code>SieveOfEratosthenes</code> method. I am of course ignoring the unnecessary <code>primesquare[i] = false;</code> statement, since that is the default value of booleans in a new array. And a simplistic view of the <code>prime[i] = false;</code> statement, is that it executes <code>sqrt(n) * n</code> times, but it&#39;s actually much less than that when you factor in the prime check and the <code>i += p</code> increment."},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1513942794,"post_id":47827333,"comment_id":82850988,"body_markdown":"@Andreas this line `bool prime[n+1], primesquare[n*n+1];` is already of square complexity.","body":"@Andreas this line <code>bool prime[n+1], primesquare[n*n+1];</code> is already of square complexity."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1513963350,"post_id":47827333,"comment_id":82860061,"body_markdown":"@IvayloStrandjev If you are referring to the zero-ing out of memory for the new array, then that very likely happens in the background when memory is allocated from OS and during/after GC, and is not part of the operation in question, i.e. it doesn&#39;t affect performance of the code, and is hence not affecting Big-O. The JVM is not execuing a loop initializing the array elements to `false` during the `new` operator call.","body":"@IvayloStrandjev If you are referring to the zero-ing out of memory for the new array, then that very likely happens in the background when memory is allocated from OS and during/after GC, and is not part of the operation in question, i.e. it doesn&#39;t affect performance of the code, and is hence not affecting Big-O. The JVM is not execuing a loop initializing the array elements to <code>false</code> during the <code>new</code> operator call."},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1513964099,"post_id":47827333,"comment_id":82860300,"body_markdown":"I am talking about the allocation of the memory. You can&#39;t ignore that when computing the complexity","body":"I am talking about the allocation of the memory. You can&#39;t ignore that when computing the complexity"}],"answers":[{"tags":[],"owner":{"account_id":4304918,"reputation":662,"user_id":4610796,"display_name":"abdullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513323753,"creation_date":1513323753,"answer_id":47827841,"question_id":47827333,"body_markdown":"You can do much better than `O(n.sqrt(n))` by using simple iteration. The code is in C++, but you can easily get the idea. \r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;vector&gt;\r\n    using namespace std;\r\n    \r\n    void CountDivisors(int n) {\r\n        vector&lt;int&gt; cnts(n + 1, 1);\r\n        for (int i = 2; i &lt;= n; ++i) {\r\n            for (int j = i; j &lt;= n; j += i) {\r\n                cnts[j]++;\r\n            }\r\n        }\r\n        for (int i = 1; i &lt;= n; ++i) {\r\n            cout &lt;&lt; cnts[i] &lt;&lt; &quot; \\n&quot;[i == n];\r\n        }\r\n    }\r\n    \r\n    int main() {\r\n        CountDivisors(100);\r\n        return 0;\r\n    }\r\n\r\nRunning time is `n/1 + n/2 + n/3 + n/4 + ... + n/n` which can be approximated by `O(nH(n))`, where `H(n)` is the [harmonic series](https://en.wikipedia.org/wiki/Harmonic_series_(mathematics)). I think the value is not bigger than `O(nlog(n))`. ","title":"Count number of Divisors for all the numbers till N","body":"<p>You can do much better than <code>O(n.sqrt(n))</code> by using simple iteration. The code is in C++, but you can easily get the idea. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nvoid CountDivisors(int n) {\n    vector&lt;int&gt; cnts(n + 1, 1);\n    for (int i = 2; i &lt;= n; ++i) {\n        for (int j = i; j &lt;= n; j += i) {\n            cnts[j]++;\n        }\n    }\n    for (int i = 1; i &lt;= n; ++i) {\n        cout &lt;&lt; cnts[i] &lt;&lt; \" \\n\"[i == n];\n    }\n}\n\nint main() {\n    CountDivisors(100);\n    return 0;\n}\n</code></pre>\n\n<p>Running time is <code>n/1 + n/2 + n/3 + n/4 + ... + n/n</code> which can be approximated by <code>O(nH(n))</code>, where <code>H(n)</code> is the <a href=\"https://en.wikipedia.org/wiki/Harmonic_series_(mathematics)\" rel=\"nofollow noreferrer\">harmonic series</a>. I think the value is not bigger than <code>O(nlog(n))</code>. </p>\n"},{"tags":[],"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513325332,"creation_date":1513325332,"answer_id":47828170,"question_id":47827333,"body_markdown":"You can improve upon the naive approach using kind of a generalized [Sieve of Eratosthenes][1]. Instead of just marking the number as composite also store its first divisor that you found (I do this in the function computeDivs below). \r\n\r\n    class Main\r\n    {\r\n    \t// using Sieve of Eratosthenes to factorize all numbers\r\n    \tpublic static int[] computeDivs(int size) {\r\n    \t  int[] divs = new int[size + 1];\r\n    \t  for (int i = 0; i &lt;  size + 1; ++i) {\r\n    \t    divs[i] = 1;\r\n    \t  }\r\n    \t  int o = (int)Math.sqrt((double)size);\r\n    \t  for (int i = 2; i &lt;= size; i += 2) {\r\n    \t    divs[i] = 2;\r\n    \t  }\r\n    \t\r\n    \t  for (int i = 3; i &lt;= size; i += 2) {\r\n    \t    if (divs[i] != 1) {\r\n    \t      continue;\r\n    \t    }\r\n    \t    divs[i] = i;\r\n    \t    if (i &lt;= o) {\r\n    \t      for (int j = i * i; j &lt; size; j += 2 * i) {\r\n    \t        divs[j] = i;\r\n    \t      }\r\n    \t    }\r\n    \t  }\r\n    \t  return divs;\r\n    \t}\r\n    \t\r\n    \t// Counting the divisors using the standard fomula\r\n    \tpublic static int countDivisors(int x, int[] divs) {\r\n    \t  int result = 1;\r\n    \t  int currentDivisor = divs[x];\r\n    \t  int currentCount = 1;\r\n    \t  while (currentDivisor != 1) {\r\n    \t    x /= currentDivisor;\r\n    \t    int newDivisor = divs[x];\r\n    \t    if (newDivisor != currentDivisor) {\r\n    \t      result *= currentCount + 1;\r\n    \t      currentDivisor = newDivisor;\r\n    \t      currentCount = 1;\r\n    \t    } else {\r\n    \t      currentCount++;\r\n    \t    }\r\n    \t  }\r\n    \t  if (x != 1) {\r\n    \t    result *= currentCount + 1;\r\n    \t  }\r\n    \t\r\n    \t  return result;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static int countAllDivisors(int upTo) {\r\n    \t  int[] divs = computeDivs(upTo + 1);\r\n    \t  int result = 0;\r\n    \t  for (int i = 1; i &lt;= upTo; ++i) {\r\n    \t    result += countDivisors(i, divs);\r\n    \t  }\r\n    \t  return result;\r\n    \t  \r\n    \t}\r\n    \r\n    \tpublic static void main (String[] args) throws java.lang.Exception {\r\n    \t  System.out.println(countAllDivisors(15));\r\n    \t}\r\n    }\r\n\r\nYou can also see the code executed on ideone [here][2].\r\n\r\nIn short I use the sieve to compute the biggest prime factor for each number. Using this I can compute the factor decomposition of every number very efficiently (and I use this in countDivisors).\r\n\r\nIt is hard to compute the complexity of the sieve but a standard estimate is `O(n * log(n))`. Also I am pretty confident it is not possible to improve on that complexity. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\r\n  [2]: https://ideone.com/i1Wp47","title":"Count number of Divisors for all the numbers till N","body":"<p>You can improve upon the naive approach using kind of a generalized <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a>. Instead of just marking the number as composite also store its first divisor that you found (I do this in the function computeDivs below). </p>\n\n<pre><code>class Main\n{\n    // using Sieve of Eratosthenes to factorize all numbers\n    public static int[] computeDivs(int size) {\n      int[] divs = new int[size + 1];\n      for (int i = 0; i &lt;  size + 1; ++i) {\n        divs[i] = 1;\n      }\n      int o = (int)Math.sqrt((double)size);\n      for (int i = 2; i &lt;= size; i += 2) {\n        divs[i] = 2;\n      }\n\n      for (int i = 3; i &lt;= size; i += 2) {\n        if (divs[i] != 1) {\n          continue;\n        }\n        divs[i] = i;\n        if (i &lt;= o) {\n          for (int j = i * i; j &lt; size; j += 2 * i) {\n            divs[j] = i;\n          }\n        }\n      }\n      return divs;\n    }\n\n    // Counting the divisors using the standard fomula\n    public static int countDivisors(int x, int[] divs) {\n      int result = 1;\n      int currentDivisor = divs[x];\n      int currentCount = 1;\n      while (currentDivisor != 1) {\n        x /= currentDivisor;\n        int newDivisor = divs[x];\n        if (newDivisor != currentDivisor) {\n          result *= currentCount + 1;\n          currentDivisor = newDivisor;\n          currentCount = 1;\n        } else {\n          currentCount++;\n        }\n      }\n      if (x != 1) {\n        result *= currentCount + 1;\n      }\n\n      return result;\n    }\n\n\n    public static int countAllDivisors(int upTo) {\n      int[] divs = computeDivs(upTo + 1);\n      int result = 0;\n      for (int i = 1; i &lt;= upTo; ++i) {\n        result += countDivisors(i, divs);\n      }\n      return result;\n\n    }\n\n    public static void main (String[] args) throws java.lang.Exception {\n      System.out.println(countAllDivisors(15));\n    }\n}\n</code></pre>\n\n<p>You can also see the code executed on ideone <a href=\"https://ideone.com/i1Wp47\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In short I use the sieve to compute the biggest prime factor for each number. Using this I can compute the factor decomposition of every number very efficiently (and I use this in countDivisors).</p>\n\n<p>It is hard to compute the complexity of the sieve but a standard estimate is <code>O(n * log(n))</code>. Also I am pretty confident it is not possible to improve on that complexity. </p>\n"},{"tags":[],"owner":{"account_id":4875268,"reputation":742,"user_id":6934058,"accept_rate":56,"display_name":"Vitali Plagov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641558897,"creation_date":1641558897,"answer_id":70621352,"question_id":47827333,"body_markdown":"Using iteration is OK for relatively small numbers. As soon as the number of divisors is getting bigger (over 100-200), the iteration is going to take a significant amount of time.\r\n\r\nA better approach would be to count the number of divisors with help of [prime factorization](https://www.cuemath.com/numbers/prime-factorization/) of the number.\r\n\r\nSo, express the number with prime factorization like this:\r\n```java\r\n  public static List&lt;Integer&gt; primeFactorizationOfTheNumber(long number) {\r\n    List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n    var remainder = number;\r\n    var prime = 2;\r\n\r\n    while (remainder != 1) {\r\n      if (remainder % prime == 0) {\r\n        primes.add(prime);\r\n        remainder = remainder / prime;\r\n      } else {\r\n        prime++;\r\n      }\r\n    }\r\n    return primes;\r\n  }\r\n```\r\n\r\nNext, given the prime factorization, express it in the exponent form, get exponents and add `1` to each of them. Next, multiply resulting numbers. The result will be the count of divisors of a number. More on this [here](https://www2.math.upenn.edu/~deturck/m170/wk2/numdivisors.html).\r\n\r\n```java\r\n  private long numberOfDivisorsForNumber(long number) {\r\n    var exponentsOfPrimeFactorization = primeFactorizationOfTheNumber(number)\r\n      .stream()\r\n      .collect(Collectors.groupingBy(Integer::intValue, Collectors.counting()))\r\n      .values();\r\n    return exponentsOfPrimeFactorization.stream().map(n -&gt; n + 1).reduce(1L, Math::multiplyExact);\r\n  }\r\n```\r\n\r\nThis algorithm works very fast. For me, it finds a number with 500 divisors within less than a second.","title":"Count number of Divisors for all the numbers till N","body":"<p>Using iteration is OK for relatively small numbers. As soon as the number of divisors is getting bigger (over 100-200), the iteration is going to take a significant amount of time.</p>\n<p>A better approach would be to count the number of divisors with help of <a href=\"https://www.cuemath.com/numbers/prime-factorization/\" rel=\"nofollow noreferrer\">prime factorization</a> of the number.</p>\n<p>So, express the number with prime factorization like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static List&lt;Integer&gt; primeFactorizationOfTheNumber(long number) {\n    List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n    var remainder = number;\n    var prime = 2;\n\n    while (remainder != 1) {\n      if (remainder % prime == 0) {\n        primes.add(prime);\n        remainder = remainder / prime;\n      } else {\n        prime++;\n      }\n    }\n    return primes;\n  }\n</code></pre>\n<p>Next, given the prime factorization, express it in the exponent form, get exponents and add <code>1</code> to each of them. Next, multiply resulting numbers. The result will be the count of divisors of a number. More on this <a href=\"https://www2.math.upenn.edu/%7Edeturck/m170/wk2/numdivisors.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private long numberOfDivisorsForNumber(long number) {\n    var exponentsOfPrimeFactorization = primeFactorizationOfTheNumber(number)\n      .stream()\n      .collect(Collectors.groupingBy(Integer::intValue, Collectors.counting()))\n      .values();\n    return exponentsOfPrimeFactorization.stream().map(n -&gt; n + 1).reduce(1L, Math::multiplyExact);\n  }\n</code></pre>\n<p>This algorithm works very fast. For me, it finds a number with 500 divisors within less than a second.</p>\n"}],"owner":{"account_id":5521774,"reputation":1353,"user_id":4384490,"accept_rate":53,"display_name":"kumarmo2"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1585,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47828170,"answer_count":3,"score":-1,"last_activity_date":1641558897,"creation_date":1513321261,"question_id":47827333,"body_markdown":"&gt;I need to count all the divisors for every number in the range ``1 to n``. I have written down below an implementation for, given an integer ``num``, it counts the number of divisors of ``num``. Its complexity is ``O(sqrt(n))``. So over all complexity comes out to be ``O(n * sqrt(n))``. Can it be reduced? If YES, then can you give an algorithm for that?\r\n\r\n**CODE** : \r\n\r\n     public static int countDivisors(int num)\r\n        {\r\n            int limit = (int)Math.sqrt(num);\r\n            int count = 2;\r\n            for(int i = 2 ; i &lt;= limit ; i++)\r\n            {\r\n                if(num % i == 0)\r\n                {\r\n                    count++;\r\n                    if(num / i != i)\r\n                    {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\n**PS:**  \r\nThis function will be called ``n`` times.","title":"Count number of Divisors for all the numbers till N","body":"<blockquote>\n  <p>I need to count all the divisors for every number in the range <code>1 to n</code>. I have written down below an implementation for, given an integer <code>num</code>, it counts the number of divisors of <code>num</code>. Its complexity is <code>O(sqrt(n))</code>. So over all complexity comes out to be <code>O(n * sqrt(n))</code>. Can it be reduced? If YES, then can you give an algorithm for that?</p>\n</blockquote>\n\n<p><strong>CODE</strong> : </p>\n\n<pre><code> public static int countDivisors(int num)\n    {\n        int limit = (int)Math.sqrt(num);\n        int count = 2;\n        for(int i = 2 ; i &lt;= limit ; i++)\n        {\n            if(num % i == 0)\n            {\n                count++;\n                if(num / i != i)\n                {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n</code></pre>\n\n<p><strong>PS:</strong><br>\nThis function will be called <code>n</code> times.</p>\n"},{"tags":["java","security","spring-security","ldap","spring-ldap"],"answers":[{"tags":[],"owner":{"account_id":279652,"reputation":1706,"user_id":574932,"display_name":"Neil Wilson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1382031080,"creation_date":1382031080,"answer_id":19433410,"question_id":19431275,"body_markdown":"Although I&#39;m not familiar with Spring LDAP, it doesn&#39;t sound like there&#39;s necessarily a reason to be concerned.  LDAP filters aren&#39;t transmitted as clear text, but rather in a binary encoding, and there is no need for escaping in this mechanism (nor would it be correct to do so).\r\n\r\nLet&#39;s take &quot;(sAMAccountName=boi*)&quot; as an example.  As written, this filter is a substring filter with a subInitial component of &quot;boi&quot;.  As you point out, if you want it to be an equality filter rather than a substring filter, then the string representation would have to be &quot;(sAMAccountName=boi\\2a)&quot;.  However, the binary encodings for these filters don&#39;t use any escaping, but instead use an ASN.1 BER type to differentiate between substring and equality filters.\r\n\r\nIf you want &quot;(sAMAccountName=boi*)&quot; as a substring filter, then the encoded representation would be:\r\n\r\n     a417040e73414d4163636f756e744e616d6530058003626f69\r\n\r\nOn the other hand, if you want &quot;(sAMAccountName=boi\\2a)&quot; as an equality filter, the encoding would be:\r\n\r\n     a316040e73414d4163636f756e744e616d650404626f692a\r\n\r\nThe full explanation of the encoding isn&#39;t something I want to get into, but the &quot;a4&quot; at the beginning of the first one indicates that it&#39;s a substring filter, whereas the &quot;a3&quot; at the beginning of the second indicates that it&#39;s an equality filter.\r\n\r\nYou should be able to verify the actual bytes sent in WireShark.  It may well be that WireShark doesn&#39;t properly escape the filter when generating the string representation, but that would be an issue with WireShark itself.  The directory server only gets the binary representation, and it&#39;s hard to believe that an LDAP server would misinterpret that.","title":"Java decoding encoded LDAP filters before transmitting? Preventing LDAP injections","body":"<p>Although I'm not familiar with Spring LDAP, it doesn't sound like there's necessarily a reason to be concerned.  LDAP filters aren't transmitted as clear text, but rather in a binary encoding, and there is no need for escaping in this mechanism (nor would it be correct to do so).</p>\n\n<p>Let's take \"(sAMAccountName=boi*)\" as an example.  As written, this filter is a substring filter with a subInitial component of \"boi\".  As you point out, if you want it to be an equality filter rather than a substring filter, then the string representation would have to be \"(sAMAccountName=boi\\2a)\".  However, the binary encodings for these filters don't use any escaping, but instead use an ASN.1 BER type to differentiate between substring and equality filters.</p>\n\n<p>If you want \"(sAMAccountName=boi*)\" as a substring filter, then the encoded representation would be:</p>\n\n<pre><code> a417040e73414d4163636f756e744e616d6530058003626f69\n</code></pre>\n\n<p>On the other hand, if you want \"(sAMAccountName=boi\\2a)\" as an equality filter, the encoding would be:</p>\n\n<pre><code> a316040e73414d4163636f756e744e616d650404626f692a\n</code></pre>\n\n<p>The full explanation of the encoding isn't something I want to get into, but the \"a4\" at the beginning of the first one indicates that it's a substring filter, whereas the \"a3\" at the beginning of the second indicates that it's an equality filter.</p>\n\n<p>You should be able to verify the actual bytes sent in WireShark.  It may well be that WireShark doesn't properly escape the filter when generating the string representation, but that would be an issue with WireShark itself.  The directory server only gets the binary representation, and it's hard to believe that an LDAP server would misinterpret that.</p>\n"},{"tags":[],"owner":{"account_id":2153873,"reputation":13196,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415800241,"creation_date":1415800241,"answer_id":26888577,"question_id":19431275,"body_markdown":"OWASP suggest to encode strings for searches:\r\n\r\n    public static final String escapeLDAPSearchFilter(String filter) {\r\n       StringBuffer sb = new StringBuffer(); // If using JDK &gt;= 1.5 consider using StringBuilder\r\n       for (int i = 0; i &lt; filter.length(); i++) {\r\n           char curChar = filter.charAt(i);\r\n           switch (curChar) {\r\n               case &#39;\\\\&#39;:\r\n                   sb.append(&quot;\\\\5c&quot;);\r\n                   break;\r\n               case &#39;*&#39;:\r\n                   sb.append(&quot;\\\\2a&quot;);\r\n                   break;\r\n               case &#39;(&#39;:\r\n                   sb.append(&quot;\\\\28&quot;);\r\n                   break;\r\n               case &#39;)&#39;:\r\n                   sb.append(&quot;\\\\29&quot;);\r\n                   break;\r\n               case &#39;\\u0000&#39;: \r\n                   sb.append(&quot;\\\\00&quot;); \r\n                   break;\r\n               default:\r\n                   sb.append(curChar);\r\n           }\r\n       }\r\n       return sb.toString();\r\n   }\r\n\r\n\r\nDN strings are escaped different. See the link below.\r\n\r\nhttps://www.owasp.org/index.php/Preventing_LDAP_Injection_in_Java","title":"Java decoding encoded LDAP filters before transmitting? Preventing LDAP injections","body":"<p>OWASP suggest to encode strings for searches:</p>\n\n<pre><code>public static final String escapeLDAPSearchFilter(String filter) {\n   StringBuffer sb = new StringBuffer(); // If using JDK &gt;= 1.5 consider using StringBuilder\n   for (int i = 0; i &lt; filter.length(); i++) {\n       char curChar = filter.charAt(i);\n       switch (curChar) {\n           case '\\\\':\n               sb.append(\"\\\\5c\");\n               break;\n           case '*':\n               sb.append(\"\\\\2a\");\n               break;\n           case '(':\n               sb.append(\"\\\\28\");\n               break;\n           case ')':\n               sb.append(\"\\\\29\");\n               break;\n           case '\\u0000': \n               sb.append(\"\\\\00\"); \n               break;\n           default:\n               sb.append(curChar);\n       }\n   }\n   return sb.toString();\n</code></pre>\n\n<p>}</p>\n\n<p>DN strings are escaped different. See the link below.</p>\n\n<p><a href=\"https://www.owasp.org/index.php/Preventing_LDAP_Injection_in_Java\" rel=\"nofollow\">https://www.owasp.org/index.php/Preventing_LDAP_Injection_in_Java</a></p>\n"},{"tags":[],"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641558890,"creation_date":1641558890,"answer_id":70621350,"question_id":19431275,"body_markdown":"The best way is to use parameterized filter search method, thus the parameter will be properly encoded.\r\n\r\nSee https://docs.oracle.com/javase/jndi/tutorial/ldap/search/search.html\r\n```\r\n// Perform the search\r\nNamingEnumeration answer = ctx.search(&quot;ou=NewHires&quot;, \r\n    &quot;(&amp;(mySpecialKey={0}) (cn=*{1}))&quot;,      // Filter expression\r\n    new Object[]{key, name},                // Filter arguments\r\n    null);\t\t\t\t    // Default search controls\r\n```","title":"Java decoding encoded LDAP filters before transmitting? Preventing LDAP injections","body":"<p>The best way is to use parameterized filter search method, thus the parameter will be properly encoded.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/jndi/tutorial/ldap/search/search.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/jndi/tutorial/ldap/search/search.html</a></p>\n<pre><code>// Perform the search\nNamingEnumeration answer = ctx.search(&quot;ou=NewHires&quot;, \n    &quot;(&amp;(mySpecialKey={0}) (cn=*{1}))&quot;,      // Filter expression\n    new Object[]{key, name},                // Filter arguments\n    null);                  // Default search controls\n</code></pre>\n"}],"owner":{"account_id":222375,"reputation":659,"user_id":480917,"display_name":"bug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3018,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19433410,"answer_count":3,"score":2,"last_activity_date":1641558890,"creation_date":1382024574,"question_id":19431275,"body_markdown":"I am currently properly escaping my filters, either using Spring LDAP Filter clases, or by going through LdapEncoder.filterEncode().\r\n\r\nAt the same time, I am using WireShark to capture packets being exchanged between my local machine and the LDAP server.\r\n\r\nAnd I seem to have a problem. Even if I properly escape values (which I have confirmed through debugging), they come out unescaped through the network. I have also confirmed (through debugging) that the value stays encoded all the way until it enters javax.naming.InitialContext.\r\n\r\nHere is an example (note that I am using Spring LDAP 1.3.0, and that these happen on both Oracle JDK 6u45 and Oracle JDK 7u45).\r\n\r\nIn my own code, on the service layer, the call being made is:\r\n\r\n         String lMailAddress = (String) ldapTemplate.searchForObject(&quot;&quot;, new EqualsFilter(ldapUserSearchFilterAttribute, principal).encode(), new ContextMapper() {\r\n                    @Override\r\n                    public Object mapFromContext(Object ctx) {\r\n                        DirContextAdapter lContext = (DirContextAdapter) ctx;\r\n                        return lContext.getStringAttribute(&quot;mail&quot;);\r\n                    }});\r\n\r\nAt this point, I can confirm that the String returned by the encode() method on the filter is &quot;(sAMAccountName=boi\\\\2a)&quot;\r\n\r\nThe last point I can debug the code is the following one (starts at line 229 of org.springframework.ldap.core.LdapTemplate):\r\n\r\n    SearchExecutor se = new SearchExecutor() {\r\n                public NamingEnumeration executeSearch(DirContext ctx) throws javax.naming.NamingException {\r\n                    return ctx.search(base, filter, controls);\r\n                }\r\n            };\r\n\r\nWhen executeSearch() is later invoked, I can also verify that the filter String contains &quot;(sAMAccountName=boi\\\\2a)&quot;.\r\n\r\nI cannot debug any further, since I do not have the source code to javax,naming.* or com.sun.jndi.ldap.* (since com.sun.jndi.ldap.LdapCtx is being invoked).\r\n\r\nHowever, as soon as the call returns from executeSearch(), WireShark informs me that an LDAP packet containing a searchRequest with the filter &quot;(sAMAccountName=boi*)&quot; has been transmitted (the * is no longer escaped).\r\n\r\nI have used similar encoding and used different methods of LdapTemplate that yielded the result I was expecting (I saw the encoded filter being transmitted in WireShark), but I cannot explain why, in the case I just exposed, the value gets decoded before being transmitted.\r\n\r\nPlease help me understanding the situation. Hpoefully, I am the one who does not properly understand the LDAP protocol here.\r\n\r\nThanks.\r\n\r\n*Disclaimer:* I have posted the same question to Spring LDAP forums.\r\n\r\n*TL/DR:* Why is com.sun.jndi.ldap.LdapCtx decoding LDAP encoded filters (like \\2a to *) before transmitting them to the LDAP server?\r\n\r\n*Update:* Tried and observed the same behavior with IBM&#39;s J9 JDK7.","title":"Java decoding encoded LDAP filters before transmitting? Preventing LDAP injections","body":"<p>I am currently properly escaping my filters, either using Spring LDAP Filter clases, or by going through LdapEncoder.filterEncode().</p>\n\n<p>At the same time, I am using WireShark to capture packets being exchanged between my local machine and the LDAP server.</p>\n\n<p>And I seem to have a problem. Even if I properly escape values (which I have confirmed through debugging), they come out unescaped through the network. I have also confirmed (through debugging) that the value stays encoded all the way until it enters javax.naming.InitialContext.</p>\n\n<p>Here is an example (note that I am using Spring LDAP 1.3.0, and that these happen on both Oracle JDK 6u45 and Oracle JDK 7u45).</p>\n\n<p>In my own code, on the service layer, the call being made is:</p>\n\n<pre><code>     String lMailAddress = (String) ldapTemplate.searchForObject(\"\", new EqualsFilter(ldapUserSearchFilterAttribute, principal).encode(), new ContextMapper() {\n                @Override\n                public Object mapFromContext(Object ctx) {\n                    DirContextAdapter lContext = (DirContextAdapter) ctx;\n                    return lContext.getStringAttribute(\"mail\");\n                }});\n</code></pre>\n\n<p>At this point, I can confirm that the String returned by the encode() method on the filter is \"(sAMAccountName=boi\\2a)\"</p>\n\n<p>The last point I can debug the code is the following one (starts at line 229 of org.springframework.ldap.core.LdapTemplate):</p>\n\n<pre><code>SearchExecutor se = new SearchExecutor() {\n            public NamingEnumeration executeSearch(DirContext ctx) throws javax.naming.NamingException {\n                return ctx.search(base, filter, controls);\n            }\n        };\n</code></pre>\n\n<p>When executeSearch() is later invoked, I can also verify that the filter String contains \"(sAMAccountName=boi\\2a)\".</p>\n\n<p>I cannot debug any further, since I do not have the source code to javax,naming.* or com.sun.jndi.ldap.* (since com.sun.jndi.ldap.LdapCtx is being invoked).</p>\n\n<p>However, as soon as the call returns from executeSearch(), WireShark informs me that an LDAP packet containing a searchRequest with the filter \"(sAMAccountName=boi*)\" has been transmitted (the * is no longer escaped).</p>\n\n<p>I have used similar encoding and used different methods of LdapTemplate that yielded the result I was expecting (I saw the encoded filter being transmitted in WireShark), but I cannot explain why, in the case I just exposed, the value gets decoded before being transmitted.</p>\n\n<p>Please help me understanding the situation. Hpoefully, I am the one who does not properly understand the LDAP protocol here.</p>\n\n<p>Thanks.</p>\n\n<p><em>Disclaimer:</em> I have posted the same question to Spring LDAP forums.</p>\n\n<p><em>TL/DR:</em> Why is com.sun.jndi.ldap.LdapCtx decoding LDAP encoded filters (like \\2a to *) before transmitting them to the LDAP server?</p>\n\n<p><em>Update:</em> Tried and observed the same behavior with IBM's J9 JDK7.</p>\n"},{"tags":["java","spring","tomcat","log4j","resteasy"],"comments":[{"owner":{"account_id":18242696,"reputation":25,"user_id":13279441,"display_name":"Syed ibrahim"},"score":0,"creation_date":1641559226,"post_id":70621289,"comment_id":124841288,"body_markdown":"I&#39;am using 2.2.1GA resteasy version","body":"I&#39;am using 2.2.1GA resteasy version"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1641575557,"post_id":70621289,"comment_id":124848208,"body_markdown":"That is a very old version of RESTEasy and predates log4j2. You likely won&#39;t see logs from that version of RESTEasy because it can&#39;t find the log manager to bind to.","body":"That is a very old version of RESTEasy and predates log4j2. You likely won&#39;t see logs from that version of RESTEasy because it can&#39;t find the log manager to bind to."},{"owner":{"account_id":18242696,"reputation":25,"user_id":13279441,"display_name":"Syed ibrahim"},"score":0,"creation_date":1641648078,"post_id":70621289,"comment_id":124862046,"body_markdown":"@JamesR.Perkins after updating the RestEasy version many methods like PreProcessInterceptor is breaking up also","body":"@JamesR.Perkins after updating the RestEasy version many methods like PreProcessInterceptor is breaking up also"},{"owner":{"account_id":18242696,"reputation":25,"user_id":13279441,"display_name":"Syed ibrahim"},"score":0,"creation_date":1641655794,"post_id":70621289,"comment_id":124863935,"body_markdown":"@JamesR.Perkins I want to migrate from log4j to log4j2 without updating resteasy version","body":"@JamesR.Perkins I want to migrate from log4j to log4j2 without updating resteasy version"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1641679783,"post_id":70621289,"comment_id":124869468,"body_markdown":"If you use the log4j2/JUL integration that might work.","body":"If you use the log4j2/JUL integration that might work."},{"owner":{"account_id":18242696,"reputation":25,"user_id":13279441,"display_name":"Syed ibrahim"},"score":0,"creation_date":1641826477,"post_id":70621289,"comment_id":124901417,"body_markdown":"Nope still no luck","body":"Nope still no luck"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1641831490,"post_id":70621289,"comment_id":124903772,"body_markdown":"I&#39;m not really too sure then. I don&#39;t know a lot about RESTEasy 2.2.x. I just know it uses it&#39;s own logging facade and that logging facade does not bind to log4j2.","body":"I&#39;m not really too sure then. I don&#39;t know a lot about RESTEasy 2.2.x. I just know it uses it&#39;s own logging facade and that logging facade does not bind to log4j2."}],"owner":{"account_id":18242696,"reputation":25,"user_id":13279441,"display_name":"Syed ibrahim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641558562,"creation_date":1641558562,"question_id":70621289,"body_markdown":"problem:   \r\n **Hello folks after migrating from log4j 1.x version to log4j2.17.1 directly, my RestEasy scanners in web.xml file then they are breaking the tomcat application, Here are the logs attached, if I set them to false in web.xml application gets started but api&#39;s are not responding, getting 404 error.\r\n    I&#39;am stuck on it for a week, please any help would be appreciated,**\r\n\r\nLOGS:\r\n\r\n    07-Jan-2022 17:20:32.387 INFO [RMI TCP Connection(3)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceSimpleMessage] :: Loggerm\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\r\n    [DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\r\n    [DATETIME = 2022-01-07 17:20:34] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\r\n    07-Jan-2022 17:20:34.117 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    07-Jan-2022 17:20:34.118 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/] startup failed due to previous errors\r\n    07-Jan-2022 17:20:34.126 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [] registered the JDBC driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    07-Jan-2022 17:20:34.127 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.misc.Unsafe.park(Native Method)\r\n     java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n     java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)\r\n     java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)\r\n     java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)\r\n     java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    [2022-01-07 05:20:34,143] Artifact war exploded: Error during artifact deployment. See server log for details.\r\n    07-Jan-2022 17:20:39.439 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Program Files\\Apache Software Foundation\\apache-tomcat-9.0.43\\webapps\\manager]\r\n    07-Jan-2022 17:20:39.597 INFO [Catalina-utility-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    07-Jan-2022 17:20:39.627 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\apache-tomcat-9.0.43\\webapps\\manager] has finished in [188] ms\r\n\r\n","title":"RestEasy Scanners stopping Tomcat Application","body":"<p>problem:<br />\n<strong>Hello folks after migrating from log4j 1.x version to log4j2.17.1 directly, my RestEasy scanners in web.xml file then they are breaking the tomcat application, Here are the logs attached, if I set them to false in web.xml application gets started but api's are not responding, getting 404 error.\nI'am stuck on it for a week, please any help would be appreciated,</strong></p>\n<p>LOGS:</p>\n<pre><code>07-Jan-2022 17:20:32.387 INFO [RMI TCP Connection(3)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n[DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceSimpleMessage] :: Loggerm\n[DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\n[DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\n[DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\n[DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\n[DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\n[DATETIME = 2022-01-07 17:20:33] [CLASS = Logger]  [METHOD = traceOut] :: Loggerm\n[DATETIME = 2022-01-07 17:20:33] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\n[DATETIME = 2022-01-07 17:20:34] [CLASS = com.zaxxer.hikari.HikariDataSource]  [METHOD = &lt;init&gt;] :: com.zaxxer.hikari.HikariDataSourcem\n07-Jan-2022 17:20:34.117 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n07-Jan-2022 17:20:34.118 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/] startup failed due to previous errors\n07-Jan-2022 17:20:34.126 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [] registered the JDBC driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n07-Jan-2022 17:20:34.127 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [] appears to have started a thread named [mssql-jdbc-TimeoutTimer-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)\n java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)\n java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)\n java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n java.lang.Thread.run(Thread.java:748)\n[2022-01-07 05:20:34,143] Artifact war exploded: Error during artifact deployment. See server log for details.\n07-Jan-2022 17:20:39.439 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [C:\\Program Files\\Apache Software Foundation\\apache-tomcat-9.0.43\\webapps\\manager]\n07-Jan-2022 17:20:39.597 INFO [Catalina-utility-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n07-Jan-2022 17:20:39.627 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\apache-tomcat-9.0.43\\webapps\\manager] has finished in [188] ms\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1591273998,"post_id":62194538,"comment_id":109997340,"body_markdown":"You should start by creating a new project, then adding the source as a source folder or copying the source to the projects source folder.","body":"You should start by creating a new project, then adding the source as a source folder or copying the source to the projects source folder."},{"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"score":0,"creation_date":1591274209,"post_id":62194538,"comment_id":109997486,"body_markdown":"https://stackoverflow.com/questions/18852425/intellij-does-not-show-class-when-we-right-click-and-select-new try this answer","body":"<a href=\"https://stackoverflow.com/questions/18852425/intellij-does-not-show-class-when-we-right-click-and-select-new\" title=\"intellij does not show class when we right click and select new\">stackoverflow.com/questions/18852425/&hellip;</a> try this answer"},{"owner":{"account_id":2337597,"reputation":91,"user_id":2049558,"display_name":"buencamino"},"score":0,"creation_date":1591276787,"post_id":62194538,"comment_id":109999105,"body_markdown":"Thanks copying it to the src directory seemed to work. I don&#39;t understand though why they would put an option to import/open f youi have to do this.","body":"Thanks copying it to the src directory seemed to work. I don&#39;t understand though why they would put an option to import/open f youi have to do this."}],"answers":[{"tags":[],"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591273907,"creation_date":1591273907,"answer_id":62194674,"question_id":62194538,"body_markdown":"You cannot simply open a file using Java. IntelliJ IDEA needs several configuration like Java SDK and other configuration files in order to run it. You have to create a simple Java project and copy your already created Java file into that project&#39;s `src` directory. Then you will be fine.","title":"How to import/open existing .java files in IntelliJ?","body":"<p>You cannot simply open a file using Java. IntelliJ IDEA needs several configuration like Java SDK and other configuration files in order to run it. You have to create a simple Java project and copy your already created Java file into that project's <code>src</code> directory. Then you will be fine.</p>\n"},{"tags":[],"owner":{"account_id":1731725,"reputation":863,"user_id":1585204,"accept_rate":25,"display_name":"user1585204"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641558259,"creation_date":1641558259,"answer_id":70621228,"question_id":62194538,"body_markdown":"I just opened the first folder with &#39;...web&#39; as part of its name :)  Not sure how scientific that was.\r\n\r\nI am using Jet Brains Itellij Idea version with this info:\r\nIntelliJ IDEA 2021.2.3 (Community Edition)\r\nBuild #IC-212.5457.46, built on October 12, 2021\r\nRuntime version: 11.0.12+7-b1504.40 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nWindows 10 10.0\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 1972M\r\nCores: 4\r\n\r\nKotlin: 212-1.5.10-release-IJ5457.46\r\n\r\nI drilled to a folder called detourweb. The app found what it needed.\r\n\r\nAgain, not sure how scientific or repeatable this method is.  Assuming all developers will have some &#39;web&#39; file in their project, try rolling the dice and drill to the first such file.\r\n\r\nI don&#39;t expect a lot of up votes here, LOL.  Here&#39;s an answer from a .Net Visual Studio dude. ","title":"How to import/open existing .java files in IntelliJ?","body":"<p>I just opened the first folder with '...web' as part of its name :)  Not sure how scientific that was.</p>\n<p>I am using Jet Brains Itellij Idea version with this info:\nIntelliJ IDEA 2021.2.3 (Community Edition)\nBuild #IC-212.5457.46, built on October 12, 2021\nRuntime version: 11.0.12+7-b1504.40 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 10 10.0\nGC: G1 Young Generation, G1 Old Generation\nMemory: 1972M\nCores: 4</p>\n<p>Kotlin: 212-1.5.10-release-IJ5457.46</p>\n<p>I drilled to a folder called detourweb. The app found what it needed.</p>\n<p>Again, not sure how scientific or repeatable this method is.  Assuming all developers will have some 'web' file in their project, try rolling the dice and drill to the first such file.</p>\n<p>I don't expect a lot of up votes here, LOL.  Here's an answer from a .Net Visual Studio dude.</p>\n"}],"owner":{"account_id":2337597,"reputation":91,"user_id":2049558,"display_name":"buencamino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1989,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641558259,"creation_date":1591273529,"question_id":62194538,"body_markdown":"I&#39;m still new to IntelliJ and still learning how to use it. Basically I have created a program already before and I just want to use my existing .java files in IntelliJ. I tried import/open option on the intro screen of IntelliJ but when I opened the .java files there weren&#39;t any menus, no functions, and you can&#39;t run the program at all, it just seemed to open a tabbed text editor of my .java files. So I tried creating a new project, and then opening the .java files afterwards, but no dice too, the run button is blacked out and I can&#39;t run my program. I used the command prompt before and used java (filename.java) to run my program and now just migrating to use an IDE. Can somebody help? I seem to have stuck at the beginning of my IDE journey.","title":"How to import/open existing .java files in IntelliJ?","body":"<p>I'm still new to IntelliJ and still learning how to use it. Basically I have created a program already before and I just want to use my existing .java files in IntelliJ. I tried import/open option on the intro screen of IntelliJ but when I opened the .java files there weren't any menus, no functions, and you can't run the program at all, it just seemed to open a tabbed text editor of my .java files. So I tried creating a new project, and then opening the .java files afterwards, but no dice too, the run button is blacked out and I can't run my program. I used the command prompt before and used java (filename.java) to run my program and now just migrating to use an IDE. Can somebody help? I seem to have stuck at the beginning of my IDE journey.</p>\n"},{"tags":["java","arrays","class","object","arraylist"],"answers":[{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1339956259,"creation_date":1339955758,"answer_id":11073546,"question_id":11073539,"body_markdown":"You could create a list of Object like `List&lt;Object&gt; list = new ArrayList&lt;Object&gt;()`. As all classes implementation extends implicit or explicit from `java.lang.Object` class, this list can hold any object, including instances of `Employee`, `Integer`, `String` etc.\r\n\r\nWhen you retrieve an element from this list, you will be retrieving an `Object` and no longer an `Employee`, meaning you need to perform a explicit cast in this case as follows:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    list.add(&quot;String&quot;);\r\n    list.add(Integer.valueOf(1));\r\n    list.add(new Employee());\r\n    \r\n    Object retrievedObject = list.get(2);\r\n    Employee employee = (Employee)list.get(2); // explicit cast","title":"Creating instance list of different objects","body":"<p>You could create a list of Object like <code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;()</code>. As all classes implementation extends implicit or explicit from <code>java.lang.Object</code> class, this list can hold any object, including instances of <code>Employee</code>, <code>Integer</code>, <code>String</code> etc.</p>\n\n<p>When you retrieve an element from this list, you will be retrieving an <code>Object</code> and no longer an <code>Employee</code>, meaning you need to perform a explicit cast in this case as follows:</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nlist.add(\"String\");\nlist.add(Integer.valueOf(1));\nlist.add(new Employee());\n\nObject retrievedObject = list.get(2);\nEmployee employee = (Employee)list.get(2); // explicit cast\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1339957850,"creation_date":1339955782,"answer_id":11073549,"question_id":11073539,"body_markdown":"    List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();\r\n\r\n`objects` list will accept any of the `Object`\r\n\r\n\r\nYou could design like as follows\r\n\r\n    public class BaseEmployee{/* stuffs */}\r\n    \r\n    public class RegularEmployee extends BaseEmployee{/* stuffs */}\r\n    \r\n    public class Contractors extends BaseEmployee{/* stuffs */}\r\n\r\nand in list\r\n\r\n    List&lt;? extends BaseEmployee&gt; employeeList = new ArrayList&lt;? extends BaseEmployee&gt;();\r\n\r\n","title":"Creating instance list of different objects","body":"<pre><code>List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p><code>objects</code> list will accept any of the <code>Object</code></p>\n\n<p>You could design like as follows</p>\n\n<pre><code>public class BaseEmployee{/* stuffs */}\n\npublic class RegularEmployee extends BaseEmployee{/* stuffs */}\n\npublic class Contractors extends BaseEmployee{/* stuffs */}\n</code></pre>\n\n<p>and in list</p>\n\n<pre><code>List&lt;? extends BaseEmployee&gt; employeeList = new ArrayList&lt;? extends BaseEmployee&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339956928,"creation_date":1339955788,"answer_id":11073551,"question_id":11073539,"body_markdown":"If you can&#39;t be more specific than `Object` with your instances, then use:\r\n\r\n    List&lt;Object&gt; employees = new ArrayList&lt;Object&gt;();\r\n\r\nOtherwise be as specific as you can:\r\n\r\n    List&lt;? extends SpecificType&gt; employees = new ArrayList&lt;? extends SpecificType&gt;();","title":"Creating instance list of different objects","body":"<p>If you can't be more specific than <code>Object</code> with your instances, then use:</p>\n\n<pre><code>List&lt;Object&gt; employees = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>Otherwise be as specific as you can:</p>\n\n<pre><code>List&lt;? extends SpecificType&gt; employees = new ArrayList&lt;? extends SpecificType&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339956102,"creation_date":1339956102,"answer_id":11073581,"question_id":11073539,"body_markdown":"`List anyObject = new ArrayList();`\r\n\r\n        \r\n\r\n   `or`\r\n\r\n`List&lt;Object&gt; anyObject = new ArrayList&lt;Object&gt;();`\r\n \r\nnow `anyObject` can hold `objects of any type`.\r\n\r\nuse **instanceof** to know `what kind of object it is`.","title":"Creating instance list of different objects","body":"<p><code>List anyObject = new ArrayList();</code></p>\n\n<p><code>or</code></p>\n\n<p><code>List&lt;Object&gt; anyObject = new ArrayList&lt;Object&gt;();</code></p>\n\n<p>now <code>anyObject</code> can hold <code>objects of any type</code>.</p>\n\n<p>use <strong>instanceof</strong> to know <code>what kind of object it is</code>.</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339956208,"creation_date":1339956208,"answer_id":11073591,"question_id":11073539,"body_markdown":"I believe your best shot is to declare the list as a list of objects:\r\n\r\n    List&lt;Object&gt; anything = new ArrayList&lt;Object&gt;();\r\n\r\nThen you can put whatever you want in it, like:\r\n\r\n    anything.add(new Employee(..))\r\n\r\nEvidently, you will not be able to read anything out of the list without a proper casting:\r\n\r\n    Employee mike = (Employee) anything.get(0);\r\n\r\nI would discourage the use of raw types like:\r\n\r\n    List anything = new ArrayList()\r\n\r\nSince the whole purpose of generics is precisely to avoid them, in the future Java may no longer suport raw types, the raw types are considered legacy and once you use a raw type you are not allowed to use generics at all in a given reference. For instance, take a look a this another question: [Combining Raw Types and Generic Methods][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/11007723/697630","title":"Creating instance list of different objects","body":"<p>I believe your best shot is to declare the list as a list of objects:</p>\n\n<pre><code>List&lt;Object&gt; anything = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>Then you can put whatever you want in it, like:</p>\n\n<pre><code>anything.add(new Employee(..))\n</code></pre>\n\n<p>Evidently, you will not be able to read anything out of the list without a proper casting:</p>\n\n<pre><code>Employee mike = (Employee) anything.get(0);\n</code></pre>\n\n<p>I would discourage the use of raw types like:</p>\n\n<pre><code>List anything = new ArrayList()\n</code></pre>\n\n<p>Since the whole purpose of generics is precisely to avoid them, in the future Java may no longer suport raw types, the raw types are considered legacy and once you use a raw type you are not allowed to use generics at all in a given reference. For instance, take a look a this another question: <a href=\"https://stackoverflow.com/q/11007723/697630\">Combining Raw Types and Generic Methods</a></p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339956704,"creation_date":1339956704,"answer_id":11073640,"question_id":11073539,"body_markdown":"&gt;  How can I create a list without defining a class type? (`&lt;Employee&gt;`)\r\n\r\nIf I&#39;m reading this correctly, you just want to avoid having to specify the type, correct?\r\n\r\nIn Java 7, you can do \r\n\r\n    List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n\r\nbut any of the other alternatives being discussed are just going to sacrifice type safety.","title":"Creating instance list of different objects","body":"<blockquote>\n  <p>How can I create a list without defining a class type? (<code>&lt;Employee&gt;</code>)</p>\n</blockquote>\n\n<p>If I'm reading this correctly, you just want to avoid having to specify the type, correct?</p>\n\n<p>In Java 7, you can do </p>\n\n<pre><code>List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>but any of the other alternatives being discussed are just going to sacrifice type safety.</p>\n"},{"tags":[],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591361026,"creation_date":1591361026,"answer_id":62215648,"question_id":11073539,"body_markdown":"I see that all of the answers suggest using a list filled with Object classes and then explicitly casting the desired class, and I personally don&#39;t like that kind of approach.\r\n\r\nWhat works better for me is to create an interface which contains methods for retrieving or storing data from/to certain classes I want to put in a list. Have those classes implement that new interface, add the methods from the interface into them and then you can fill the list with interface objects - `List&lt;NewInterface&gt; newInterfaceList = new ArrayList&lt;&gt;()` thus being able to extract the desired data from the objects in a list without having the need to explicitly cast anything. \r\n\r\nYou can also put a comparator in the interface if you need to sort the list.","title":"Creating instance list of different objects","body":"<p>I see that all of the answers suggest using a list filled with Object classes and then explicitly casting the desired class, and I personally don't like that kind of approach.</p>\n\n<p>What works better for me is to create an interface which contains methods for retrieving or storing data from/to certain classes I want to put in a list. Have those classes implement that new interface, add the methods from the interface into them and then you can fill the list with interface objects - <code>List&lt;NewInterface&gt; newInterfaceList = new ArrayList&lt;&gt;()</code> thus being able to extract the desired data from the objects in a list without having the need to explicitly cast anything. </p>\n\n<p>You can also put a comparator in the interface if you need to sort the list.</p>\n"},{"tags":[],"owner":{"account_id":14888928,"reputation":9,"user_id":10751267,"display_name":"Cibele Watt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641558239,"creation_date":1641558239,"answer_id":70621219,"question_id":11073539,"body_markdown":"I know this is an old question, but there&#39;s a nice and easy way to do this (it works with the mostly recent versions of ElasticSearch Rest API).\r\n\r\nThe search object goes like:\r\n\r\n     SearchResponse&lt;JsonData&gt; search = client.search(s -&gt; s\r\n      .index(index)\r\n      .query(query),\r\n      JsonData.class);\r\n\r\nAnd then I iterate over the response like this:\r\n\r\n     for (Hit&lt;JsonData&gt; hit: search.hits().hits()) {\r\n      String stringSource = hit.source().toString();\r\n      MySavedRegister mySavedRegister = mapper.readValue(stringSource, mySavedRegister .class);\r\n      mylist.add(esGenericEvent);\r\n     }\r\n\r\nWhere mySavedRegister stands for the class that has the hits&#39; sources parameters. ","title":"Creating instance list of different objects","body":"<p>I know this is an old question, but there's a nice and easy way to do this (it works with the mostly recent versions of ElasticSearch Rest API).</p>\n<p>The search object goes like:</p>\n<pre><code> SearchResponse&lt;JsonData&gt; search = client.search(s -&gt; s\n  .index(index)\n  .query(query),\n  JsonData.class);\n</code></pre>\n<p>And then I iterate over the response like this:</p>\n<pre><code> for (Hit&lt;JsonData&gt; hit: search.hits().hits()) {\n  String stringSource = hit.source().toString();\n  MySavedRegister mySavedRegister = mapper.readValue(stringSource, mySavedRegister .class);\n  mylist.add(esGenericEvent);\n }\n</code></pre>\n<p>Where mySavedRegister stands for the class that has the hits' sources parameters.</p>\n"}],"owner":{"account_id":1575620,"reputation":217,"user_id":1462166,"accept_rate":0,"display_name":"mypolat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219799,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":8,"score":18,"last_activity_date":1641558239,"creation_date":1339955695,"question_id":11073539,"body_markdown":"I&#39;m tring to create an arraylist of different class instances. How can I create a list without defining a class type? `(&lt;Employee&gt;)`\r\n\r\n    List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n    employees.add(new Employee());\r\n    Employee employee = employees.get(0);","title":"Creating instance list of different objects","body":"<p>I'm tring to create an arraylist of different class instances. How can I create a list without defining a class type? <code>(&lt;Employee&gt;)</code></p>\n\n<pre><code>List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\nemployees.add(new Employee());\nEmployee employee = employees.get(0);\n</code></pre>\n"},{"tags":["java","heroku","websocket"],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1461174849,"creation_date":1461174849,"answer_id":36751552,"question_id":36751071,"body_markdown":"Try using this:\r\n\r\n\r\n    String host = &quot;0.0.0.0&quot;;\r\n    int port = System.getenv(&quot;PORT&quot;);\r\n\r\nOn Heroku, you must bind to `0.0.0.0` and use the port assigned to your app, which is contained in the `$PORT` environment variable.\r\n\r\nFrom the client, you will not need to specify a port, so only `wss://Heroku-Name-39329.herokuapp.com/` should be used (not the one with 5000).","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>Try using this:</p>\n\n<pre><code>String host = \"0.0.0.0\";\nint port = System.getenv(\"PORT\");\n</code></pre>\n\n<p>On Heroku, you must bind to <code>0.0.0.0</code> and use the port assigned to your app, which is contained in the <code>$PORT</code> environment variable.</p>\n\n<p>From the client, you will not need to specify a port, so only <code>wss://Heroku-Name-39329.herokuapp.com/</code> should be used (not the one with 5000).</p>\n"},{"tags":[],"owner":{"account_id":1610807,"reputation":1622,"user_id":1489782,"display_name":"Mark Hetherington"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1473003704,"creation_date":1473003704,"answer_id":39318659,"question_id":36751071,"body_markdown":"Heroku wants you to use a certain port.\r\n\r\nAdd this to your Procfile to get that port:\r\n\r\n    -Dserver.port=$PORT\r\n\r\n\r\nSo yours would look like this:\r\nProcfile\r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -cp target/classes/:target/dependency\r\n\r\n\r\n\r\n","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>Heroku wants you to use a certain port.</p>\n\n<p>Add this to your Procfile to get that port:</p>\n\n<pre><code>-Dserver.port=$PORT\n</code></pre>\n\n<p>So yours would look like this:\nProcfile</p>\n\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -cp target/classes/:target/dependency\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6842236,"reputation":57,"user_id":5262200,"display_name":"whiskey 4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483853710,"creation_date":1483853710,"answer_id":41529818,"question_id":36751071,"body_markdown":"Heroku has its own env variable for its port number.  use this in the server.js file.\r\n\r\n    // included process.env PORT variable for herokus specific port needed to deploy\r\n    const PORT = process.env.PORT || 8000;\r\n\r\nso if not using PORT it will use 8000.  heroku will use the PORT variable.\r\nfull file example: \r\n\r\n    const express = require(&#39;express&#39;);\r\n    const app = express();\r\n    const router = express.Router();\r\n    \r\n    app.use(express.static(&#39;public&#39;));\r\n    router.get(&#39;*&#39;,function(req, res) {\r\n      res.sendFile(path.join(__dirname, &#39;./public/index&#39;));\r\n    });\r\n    \r\n    included process.env PORT variable for herokus specific port needed to deploy\r\n        const PORT = process.env.PORT || 8000;\r\n        app.listen(PORT, function(err) {\r\n          if (err) {\r\n            console.log(err);\r\n            return;\r\n          }\r\n          console.log(&#39;listening on port 8000&#39;);\r\n        });\r\n\r\n","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>Heroku has its own env variable for its port number.  use this in the server.js file.</p>\n\n<pre><code>// included process.env PORT variable for herokus specific port needed to deploy\nconst PORT = process.env.PORT || 8000;\n</code></pre>\n\n<p>so if not using PORT it will use 8000.  heroku will use the PORT variable.\nfull file example: </p>\n\n<pre><code>const express = require('express');\nconst app = express();\nconst router = express.Router();\n\napp.use(express.static('public'));\nrouter.get('*',function(req, res) {\n  res.sendFile(path.join(__dirname, './public/index'));\n});\n\nincluded process.env PORT variable for herokus specific port needed to deploy\n    const PORT = process.env.PORT || 8000;\n    app.listen(PORT, function(err) {\n      if (err) {\n        console.log(err);\n        return;\n      }\n      console.log('listening on port 8000');\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4657129,"reputation":89,"user_id":3772423,"accept_rate":100,"display_name":"Dren79"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641557901,"creation_date":1543949380,"answer_id":53619593,"question_id":36751071,"body_markdown":"I might be late to the party but this helped me solve this problem, change the `application-prod.yml` and bootstrap-prod.yml to reflect the heroku registry location and add `-Dserver.port=$PORT` to the `Procfile` after the `$JAVA_OPTS` , then relaunch! :)","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>I might be late to the party but this helped me solve this problem, change the <code>application-prod.yml</code> and bootstrap-prod.yml to reflect the heroku registry location and add <code>-Dserver.port=$PORT</code> to the <code>Procfile</code> after the <code>$JAVA_OPTS</code> , then relaunch! :)</p>\n"},{"tags":[],"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600726202,"creation_date":1600726202,"answer_id":64000594,"question_id":36751071,"body_markdown":"Into `application.properties` add:\r\n\r\n    server.port=${PORT:8080}\r\n\r\nthen into Procfile:\r\n\r\n    web: java $JAVA_OPTS -jar target/MyApp-0.0.1-SNAPSHOT.jar -Dserver.port=$PORT $JAR_OPTS\r\n\r\nThis should be enought.","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>Into <code>application.properties</code> add:</p>\n<pre><code>server.port=${PORT:8080}\n</code></pre>\n<p>then into Procfile:</p>\n<pre><code>web: java $JAVA_OPTS -jar target/MyApp-0.0.1-SNAPSHOT.jar -Dserver.port=$PORT $JAR_OPTS\n</code></pre>\n<p>This should be enought.</p>\n"}],"owner":{"account_id":8279570,"reputation":215,"user_id":6224686,"display_name":"dyatesdude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15555,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":36751552,"answer_count":5,"score":13,"last_activity_date":1641557901,"creation_date":1461173411,"question_id":36751071,"body_markdown":"I&#39;m using a tootallnate websockets server listening for connections from a website.\r\n\r\n&lt;b&gt;How do I make a connection to my server on heroku?&lt;/b&gt; \r\n\r\nWhen my website tries to connect at\r\n\r\n    wss://Heroku-Name-39329.herokuapp.com/\r\n\r\nor\r\n\r\n    wss://Heroku-Name-39329.herokuapp.com:5000/\r\n\r\nMy heroku logs output.\r\n\r\n    at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=wss://Heroku-Name-39329.herokuapp.com request_id=4afca002-2078-439c-85dc-ad6ef7db50d2 fwd=&quot;207.244.77.23&quot; dyno= connect= service= status=503 bytes=\r\n    \r\nAnd then(Still Heroku Logs)\r\n\r\n    Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n    Stopping process with SIGKILL\r\n    Process exited with status 137\r\n    State changed from starting to crashed\r\n    State changed from crashed to starting\r\n    Starting process with command `java $JAVA_OPTS -cp target/classes/:target/dependency/* v1.a1.server\r\n\r\nMy javascript logs\r\n    \r\n    WebSocket connection to &#39;wss://Heroku-Name-39329.herokuapp.com/:5000/&#39; failed: Establishing a tunnel via proxy server failed.\r\n\r\nMy Apps set within the server are.\r\n    \r\n    String host = &quot;&quot;;\r\n    int port = 5000;\r\n\r\nMy Procfile\r\n\r\n    web: java $JAVA_OPTS -cp target/classes/:target/dependency/* v1.a1.server","title":"Heroku- Web process failed to bind to $PORT within 90 seconds of launch. TooTallNate Websockets","body":"<p>I'm using a tootallnate websockets server listening for connections from a website.</p>\n\n<p><b>How do I make a connection to my server on heroku?</b> </p>\n\n<p>When my website tries to connect at</p>\n\n<pre><code>wss://Heroku-Name-39329.herokuapp.com/\n</code></pre>\n\n<p>or</p>\n\n<pre><code>wss://Heroku-Name-39329.herokuapp.com:5000/\n</code></pre>\n\n<p>My heroku logs output.</p>\n\n<pre><code>at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=wss://Heroku-Name-39329.herokuapp.com request_id=4afca002-2078-439c-85dc-ad6ef7db50d2 fwd=\"207.244.77.23\" dyno= connect= service= status=503 bytes=\n</code></pre>\n\n<p>And then(Still Heroku Logs)</p>\n\n<pre><code>Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\nStopping process with SIGKILL\nProcess exited with status 137\nState changed from starting to crashed\nState changed from crashed to starting\nStarting process with command `java $JAVA_OPTS -cp target/classes/:target/dependency/* v1.a1.server\n</code></pre>\n\n<p>My javascript logs</p>\n\n<pre><code>WebSocket connection to 'wss://Heroku-Name-39329.herokuapp.com/:5000/' failed: Establishing a tunnel via proxy server failed.\n</code></pre>\n\n<p>My Apps set within the server are.</p>\n\n<pre><code>String host = \"\";\nint port = 5000;\n</code></pre>\n\n<p>My Procfile</p>\n\n<pre><code>web: java $JAVA_OPTS -cp target/classes/:target/dependency/* v1.a1.server\n</code></pre>\n"},{"tags":["java","string","binary","radix"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":4,"creation_date":1334598589,"post_id":10178980,"comment_id":13062596,"body_markdown":"Look at [Integer#parseInt(String s, int radix)](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29)","body":"Look at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"nofollow noreferrer\">Integer#parseInt(String s, int radix)</a>"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1334598611,"post_id":10178980,"comment_id":13062601,"body_markdown":"possible duplicate of [converting Binary Numbers in to decimal numbers](http://stackoverflow.com/questions/2115346/converting-binary-numbers-in-to-decimal-numbers)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2115346/converting-binary-numbers-in-to-decimal-numbers\">converting Binary Numbers in to decimal numbers</a>"}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":369,"is_accepted":true,"score":369,"last_activity_date":1334598443,"creation_date":1334598443,"answer_id":10179008,"question_id":10178980,"body_markdown":"You need to [specify the radix][1]. There&#39;s an overload of `Integer#parseInt()` which allows you to.\r\n\r\n    int foo = Integer.parseInt(&quot;1001&quot;, 2);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>You need to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\">specify the radix</a>. There's an overload of <code>Integer#parseInt()</code> which allows you to.</p>\n\n<pre><code>int foo = Integer.parseInt(\"1001\", 2);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user377628"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1442505572,"creation_date":1334598993,"answer_id":10179141,"question_id":10178980,"body_markdown":"This might work:\r\n\r\n\tpublic int binaryToInteger(String binary) {\r\n\t\tchar[] numbers = binary.toCharArray();\r\n\t\tint result = 0;\r\n\t\tfor(int i=numbers.length - 1; i&gt;=0; i--)\r\n\t\t\tif(numbers[i]==&#39;1&#39;)\r\n\t\t\t\tresult += Math.pow(2, (numbers.length-i - 1));\r\n\t\treturn result;\r\n\t}","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>This might work:</p>\n\n<pre><code>public int binaryToInteger(String binary) {\n    char[] numbers = binary.toCharArray();\n    int result = 0;\n    for(int i=numbers.length - 1; i&gt;=0; i--)\n        if(numbers[i]=='1')\n            result += Math.pow(2, (numbers.length-i - 1));\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271462,"reputation":401,"user_id":1998744,"display_name":"ModernIncantations"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381450160,"creation_date":1381450160,"answer_id":19308239,"question_id":10178980,"body_markdown":"    public Integer binaryToInteger(String binary){\r\n    \tchar[] numbers = binary.toCharArray();\r\n    \tInteger result = 0;\r\n    \tint count = 0;\r\n    \tfor(int i=numbers.length-1;i&gt;=0;i--){\r\n    \t     if(numbers[i]==&#39;1&#39;)result+=(int)Math.pow(2, count);\r\n    \t     count++;\r\n    \t}\r\n        return result;\r\n    }\r\n\r\nI guess I&#39;m even more bored! Modified Hassan&#39;s answer to function correctly.","title":"How to convert a Binary String to a base 10 integer in Java","body":"<pre><code>public Integer binaryToInteger(String binary){\n    char[] numbers = binary.toCharArray();\n    Integer result = 0;\n    int count = 0;\n    for(int i=numbers.length-1;i&gt;=0;i--){\n         if(numbers[i]=='1')result+=(int)Math.pow(2, count);\n         count++;\n    }\n    return result;\n}\n</code></pre>\n\n<p>I guess I'm even more bored! Modified Hassan's answer to function correctly.</p>\n"},{"tags":[],"owner":{"account_id":1726514,"reputation":595,"user_id":1581039,"accept_rate":74,"display_name":"txcotrader"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1397577534,"creation_date":1397577534,"answer_id":23088816,"question_id":10178980,"body_markdown":"    int foo = Integer.parseInt(&quot;1001&quot;, 2);\r\nworks just fine if you are dealing with positive numbers but if you need to deal with signed numbers you may need to sign extend your string then convert to an Int\r\n\r\n\r\n    public class bit_fun {\r\n        public static void main(String[] args) {\r\n            int x= (int)Long.parseLong(&quot;FFFFFFFF&quot;, 16);\r\n            System.out.println(&quot;x =&quot; +x);       \r\n           \r\n            System.out.println(signExtend(&quot;1&quot;));\r\n            x= (int)Long.parseLong(signExtend(&quot;1&quot;), 2);\r\n            System.out.println(&quot;x =&quot; +x);\r\n           \r\n            System.out.println(signExtend(&quot;0&quot;));\r\n            x= (int)Long.parseLong(signExtend(&quot;0&quot;), 2);\r\n            System.out.println(&quot;x =&quot; +x);\r\n           \r\n            System.out.println(signExtend(&quot;1000&quot;));\r\n            x= (int)Long.parseLong(signExtend(&quot;1000&quot;), 2);\r\n            System.out.println(&quot;x =&quot; +x);\r\n           \r\n            System.out.println(signExtend(&quot;01000&quot;));\r\n            x= (int)Long.parseLong(signExtend(&quot;01000&quot;), 2);\r\n            System.out.println(&quot;x =&quot; +x);\r\n        }\r\n        \r\n        private static String signExtend(String str){\r\n            //TODO add bounds checking\r\n            int n=32-str.length();\r\n            char[] sign_ext = new char[n];\r\n            Arrays.fill(sign_ext, str.charAt(0));\r\n           \r\n            return new String(sign_ext)+str;\r\n        }\r\n    }\r\n\r\n    output:\r\n    x =-1\r\n    11111111111111111111111111111111\r\n    x =-1\r\n    00000000000000000000000000000000\r\n    x =0\r\n    11111111111111111111111111111000\r\n    x =-8\r\n    00000000000000000000000000001000\r\n    x =8 \r\n\r\nI hope that helps!\r\n","title":"How to convert a Binary String to a base 10 integer in Java","body":"<pre><code>int foo = Integer.parseInt(\"1001\", 2);\n</code></pre>\n\n<p>works just fine if you are dealing with positive numbers but if you need to deal with signed numbers you may need to sign extend your string then convert to an Int</p>\n\n<pre><code>public class bit_fun {\n    public static void main(String[] args) {\n        int x= (int)Long.parseLong(\"FFFFFFFF\", 16);\n        System.out.println(\"x =\" +x);       \n\n        System.out.println(signExtend(\"1\"));\n        x= (int)Long.parseLong(signExtend(\"1\"), 2);\n        System.out.println(\"x =\" +x);\n\n        System.out.println(signExtend(\"0\"));\n        x= (int)Long.parseLong(signExtend(\"0\"), 2);\n        System.out.println(\"x =\" +x);\n\n        System.out.println(signExtend(\"1000\"));\n        x= (int)Long.parseLong(signExtend(\"1000\"), 2);\n        System.out.println(\"x =\" +x);\n\n        System.out.println(signExtend(\"01000\"));\n        x= (int)Long.parseLong(signExtend(\"01000\"), 2);\n        System.out.println(\"x =\" +x);\n    }\n\n    private static String signExtend(String str){\n        //TODO add bounds checking\n        int n=32-str.length();\n        char[] sign_ext = new char[n];\n        Arrays.fill(sign_ext, str.charAt(0));\n\n        return new String(sign_ext)+str;\n    }\n}\n\noutput:\nx =-1\n11111111111111111111111111111111\nx =-1\n00000000000000000000000000000000\nx =0\n11111111111111111111111111111000\nx =-8\n00000000000000000000000000001000\nx =8 \n</code></pre>\n\n<p>I hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":2457268,"reputation":61,"user_id":2142156,"display_name":"Rudy Duran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1427458050,"creation_date":1417600220,"answer_id":27268407,"question_id":10178980,"body_markdown":"\r\n\r\n    static int binaryToInt (String binary){\r\n        char []cA = binary.toCharArray();\r\n        int result = 0;\r\n        for (int i = cA.length-1;i&gt;=0;i--){\r\n            //111 , length = 3, i = 2, 2^(3-3) + 2^(3-2)\r\n            //                    0           1  \r\n            if(cA[i]==&#39;1&#39;) result+=Math.pow(2, cA.length-i-1);\r\n        }\r\n        return result;\r\n    }","title":"How to convert a Binary String to a base 10 integer in Java","body":"<pre><code>static int binaryToInt (String binary){\n    char []cA = binary.toCharArray();\n    int result = 0;\n    for (int i = cA.length-1;i&gt;=0;i--){\n        //111 , length = 3, i = 2, 2^(3-3) + 2^(3-2)\n        //                    0           1  \n        if(cA[i]=='1') result+=Math.pow(2, cA.length-i-1);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2752900,"reputation":11207,"user_id":2371861,"accept_rate":100,"display_name":"bjb568"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1475917282,"creation_date":1447997519,"answer_id":33819663,"question_id":10178980,"body_markdown":"I love loops! Yay!\r\n\r\n    String myString = &quot;1001001&quot;; //73\r\n\r\nWhile loop with accumulator, left to right (`l` doesn&#39;t change):\r\n\r\n    int n = 0,\r\n    \tj = -1,\r\n    \tl = myString.length();\r\n    while (++j &lt; l) n = (n &lt;&lt; 1) + (myString.charAt(j) == &#39;0&#39; ? 0 : 1);\r\n    return n;\r\n\r\nRight to left with 2 loop vars, inspired by https://stackoverflow.com/q/3793650/2371861 (absolutely horrible):\r\n\r\n    int n = 0,\r\n    \tj = myString.length,\r\n    \ti = 1;\r\n    while (j-- != 0) n -= (i = i &lt;&lt; 1) * new Boolean(myString.charAt(j) == &#39;0&#39;).compareTo(true);\r\n    return n &gt;&gt; 1;\r\n\r\nA somewhat more reasonable implementation:\r\n\r\n    int n = 0,\r\n    \tj = myString.length(),\r\n    \ti = 1;\r\n    while (j-- != 0) n += (i = i &lt;&lt; 1) * (myString.charAt(j) == &#39;0&#39; ? 0 : 1);\r\n    return n &gt;&gt; 1;\r\n\r\nA readable version :p\r\n\r\n    int n = 0;\r\n    for (int j = 0; j &lt; myString.length(); j++) {\r\n    \tn *= 2;\r\n    \tn += myString.charAt(j) == &#39;0&#39; ? 0 : 1;\r\n    }\r\n    return n;","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>I love loops! Yay!</p>\n\n<pre><code>String myString = \"1001001\"; //73\n</code></pre>\n\n<p>While loop with accumulator, left to right (<code>l</code> doesn't change):</p>\n\n<pre><code>int n = 0,\n    j = -1,\n    l = myString.length();\nwhile (++j &lt; l) n = (n &lt;&lt; 1) + (myString.charAt(j) == '0' ? 0 : 1);\nreturn n;\n</code></pre>\n\n<p>Right to left with 2 loop vars, inspired by <a href=\"https://stackoverflow.com/q/3793650/2371861\">Convert boolean to int in Java</a> (absolutely horrible):</p>\n\n<pre><code>int n = 0,\n    j = myString.length,\n    i = 1;\nwhile (j-- != 0) n -= (i = i &lt;&lt; 1) * new Boolean(myString.charAt(j) == '0').compareTo(true);\nreturn n &gt;&gt; 1;\n</code></pre>\n\n<p>A somewhat more reasonable implementation:</p>\n\n<pre><code>int n = 0,\n    j = myString.length(),\n    i = 1;\nwhile (j-- != 0) n += (i = i &lt;&lt; 1) * (myString.charAt(j) == '0' ? 0 : 1);\nreturn n &gt;&gt; 1;\n</code></pre>\n\n<p>A readable version :p</p>\n\n<pre><code>int n = 0;\nfor (int j = 0; j &lt; myString.length(); j++) {\n    n *= 2;\n    n += myString.charAt(j) == '0' ? 0 : 1;\n}\nreturn n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2555989,"reputation":66,"user_id":2217965,"display_name":"skyrosbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472403832,"creation_date":1466107425,"answer_id":37868438,"question_id":10178980,"body_markdown":"Fixed version of java&#39;s Integer.parseInt(text) to work with negative numbers:\r\n\r\n    public static int parseInt(String binary) {\r\n        if (binary.length() &lt; Integer.SIZE) return Integer.parseInt(binary, 2);\r\n\r\n        int result = 0;\r\n        byte[] bytes = binary.getBytes();\r\n\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            if (bytes[i] == 49) {\r\n                result = result | (1 &lt;&lt; (bytes.length - 1 - i));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>Fixed version of java's Integer.parseInt(text) to work with negative numbers:</p>\n\n<pre><code>public static int parseInt(String binary) {\n    if (binary.length() &lt; Integer.SIZE) return Integer.parseInt(binary, 2);\n\n    int result = 0;\n    byte[] bytes = binary.getBytes();\n\n    for (int i = 0; i &lt; bytes.length; i++) {\n        if (bytes[i] == 49) {\n            result = result | (1 &lt;&lt; (bytes.length - 1 - i));\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186596,"reputation":353,"user_id":1160428,"display_name":"anask"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518801962,"creation_date":1488300006,"answer_id":42514218,"question_id":10178980,"body_markdown":"If you&#39;re worried about performance, `Integer.parseInt()` and `Math.pow()` are too expensive. You can use bit manipulation to do the same thing twice as fast (based on my experience):\r\n\r\n    final int num = 87;\r\n    String biStr = Integer.toBinaryString(num);\r\n\r\n    System.out.println(&quot; Input Number: &quot; + num + &quot; toBinary &quot;+ biStr);\r\n    int dec = binaryStringToDecimal(biStr);\r\n    System.out.println(&quot;Output Number: &quot; + dec + &quot; toBinary &quot;+Integer.toBinaryString(dec));\r\n\r\nWhere\r\n\r\n    int binaryStringToDecimal(String biString){\r\n      int n = biString.length();      \r\n      int decimal = 0;\r\n      for (int d = 0; d &lt; n; d++){\r\n        // append a bit=0 (i.e. shift left) \r\n        decimal = decimal &lt;&lt; 1;\r\n\r\n        // if biStr[d] is 1, flip last added bit=0 to 1 \r\n        if (biString.charAt(d) == &#39;1&#39;){\r\n          decimal = decimal | 1; // e.g. dec = 110 | (00)1 = 111\r\n        }\r\n      }\r\n      return decimal;\r\n    }\r\n\r\nOutput:\r\n\r\n     Input Number: 87 toBinary 1010111\r\n    Output Number: 87 toBinary 1010111\r\n","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>If you're worried about performance, <code>Integer.parseInt()</code> and <code>Math.pow()</code> are too expensive. You can use bit manipulation to do the same thing twice as fast (based on my experience):</p>\n\n<pre><code>final int num = 87;\nString biStr = Integer.toBinaryString(num);\n\nSystem.out.println(\" Input Number: \" + num + \" toBinary \"+ biStr);\nint dec = binaryStringToDecimal(biStr);\nSystem.out.println(\"Output Number: \" + dec + \" toBinary \"+Integer.toBinaryString(dec));\n</code></pre>\n\n<p>Where</p>\n\n<pre><code>int binaryStringToDecimal(String biString){\n  int n = biString.length();      \n  int decimal = 0;\n  for (int d = 0; d &lt; n; d++){\n    // append a bit=0 (i.e. shift left) \n    decimal = decimal &lt;&lt; 1;\n\n    // if biStr[d] is 1, flip last added bit=0 to 1 \n    if (biString.charAt(d) == '1'){\n      decimal = decimal | 1; // e.g. dec = 110 | (00)1 = 111\n    }\n  }\n  return decimal;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> Input Number: 87 toBinary 1010111\nOutput Number: 87 toBinary 1010111\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566232304,"creation_date":1566231724,"answer_id":57560574,"question_id":10178980,"body_markdown":"For me I got NumberFormatException when trying to deal with the negative numbers. I used the following for the negative and positive numbers. \r\n\r\n    System.out.println(Integer.parseUnsignedInt(&quot;11111111111111111111111111110111&quot;, 2));      \r\n\r\n    Output : -9","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>For me I got NumberFormatException when trying to deal with the negative numbers. I used the following for the negative and positive numbers. </p>\n\n<pre><code>System.out.println(Integer.parseUnsignedInt(\"11111111111111111111111111110111\", 2));      \n\nOutput : -9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20245303,"reputation":26,"user_id":14847970,"display_name":"Kooin-Shin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608688318,"creation_date":1608688318,"answer_id":65418077,"question_id":10178980,"body_markdown":"Now you want to do from binary string to Decimal but Afterword, You might be needed contrary method. It&#39;s down below.\r\n\r\n    public static String decimalToBinaryString(int value) {\r\n    \tString str = &quot;&quot;;\r\n    \twhile(value &gt; 0) {\r\n    \t\tif(value % 2 == 1) {\r\n    \t\t\tstr = &quot;1&quot;+str;\r\n    \t\t} else {\r\n    \t\t\tstr = &quot;0&quot;+str;\r\n    \t\t}\r\n    \t\tvalue /= 2;\r\n    \t}\r\n    \treturn str;\r\n    }","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>Now you want to do from binary string to Decimal but Afterword, You might be needed contrary method. It's down below.</p>\n<pre><code>public static String decimalToBinaryString(int value) {\n    String str = &quot;&quot;;\n    while(value &gt; 0) {\n        if(value % 2 == 1) {\n            str = &quot;1&quot;+str;\n        } else {\n            str = &quot;0&quot;+str;\n        }\n        value /= 2;\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6897173,"reputation":174,"user_id":5298702,"display_name":"impossible-sudoku"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625746327,"creation_date":1625136928,"answer_id":68208890,"question_id":10178980,"body_markdown":"Using bitshift is more elegant and faster than `Math.pow`. Simply bitshift the digits (0 or 1) into position with `val &lt;&lt;= 1`\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // parse an unsigned binary string, valid up to 31 bits\r\n    static int binaryToBase10(String binaryString) {\r\n        int val = 0;\r\n        for (char c : binaryString.toCharArray()) {\r\n            val &lt;&lt;= 1;\r\n            val += c-&#39;0&#39;;\r\n        }\r\n        return val;\r\n    }\r\n\r\n**Example use**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int val = binaryToBase10(&quot;1011&quot;);\r\n    System.out.println(val);\r\n\r\nprints 11\r\n","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>Using bitshift is more elegant and faster than <code>Math.pow</code>. Simply bitshift the digits (0 or 1) into position with <code>val &lt;&lt;= 1</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// parse an unsigned binary string, valid up to 31 bits\nstatic int binaryToBase10(String binaryString) {\n    int val = 0;\n    for (char c : binaryString.toCharArray()) {\n        val &lt;&lt;= 1;\n        val += c-'0';\n    }\n    return val;\n}\n</code></pre>\n<p><strong>Example use</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>int val = binaryToBase10(&quot;1011&quot;);\nSystem.out.println(val);\n</code></pre>\n<p>prints 11</p>\n"},{"tags":[],"owner":{"account_id":21436309,"reputation":1,"user_id":15791740,"display_name":"Richa-Bharti "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641557136,"creation_date":1641557136,"answer_id":70621006,"question_id":10178980,"body_markdown":"You can also use this method to convert the binary to decimal integer if you are given with string.(Java Language)\r\n\r\n    static int binaryTodecimal(String s){\r\n\t    int i= -1;\r\n\t    char[] str = s.toCharArray();\r\n\t    int dec_val= 0;\r\n\t    \r\n\t    for (int j=str.length-1; j&gt;=0 ;j-- ){\r\n\t        int k= Integer.valueOf(str[j]) - &#39;0&#39;;\r\n\t        i = i+1;\r\n\t        dec_val += k*(Math.pow(2, i));\r\n\t        \r\n\t    }\r\n\t    System.out.println(dec_val);\r\n\t}","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>You can also use this method to convert the binary to decimal integer if you are given with string.(Java Language)</p>\n<pre><code>static int binaryTodecimal(String s){\n    int i= -1;\n    char[] str = s.toCharArray();\n    int dec_val= 0;\n    \n    for (int j=str.length-1; j&gt;=0 ;j-- ){\n        int k= Integer.valueOf(str[j]) - '0';\n        i = i+1;\n        dec_val += k*(Math.pow(2, i));\n        \n    }\n    System.out.println(dec_val);\n}\n</code></pre>\n"}],"owner":{"account_id":1321366,"reputation":6906,"user_id":1267125,"accept_rate":88,"display_name":"dwwilson66"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278769,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":10179008,"answer_count":12,"score":152,"last_activity_date":1641557136,"creation_date":1334598339,"question_id":10178980,"body_markdown":"I have an array of Strings that represent Binary numbers (without leading zeroes) that I want to convert to their corresponding base 10 numbers. Consider:\r\n\r\n    binary 1011 becomes integer 11\r\n    binary 1001 becomes integer 9\r\n    binary   11 becomes integer 3   etc. \r\n\r\nWhat&#39;s the best way to proceed? I&#39;ve been exploring java.lang.number.* without finding a direct conversion method. `Integer.parseInt(b)` yields an integer EQUAL to the String...e.g., 1001 becomes 1,001 instead of 9...and does not seem to include a parameter for an output base. `toBinaryString` does the conversion the wrong direction. I suspect I&#39;ll need to do a multistep conversion, but can&#39;t seem to find the right combination of methods or subclasses. I&#39;m also not sure the extent to which leading zeros or lack thereof will be an issue. Anyone have any good directions to point me?\r\n\r\n","title":"How to convert a Binary String to a base 10 integer in Java","body":"<p>I have an array of Strings that represent Binary numbers (without leading zeroes) that I want to convert to their corresponding base 10 numbers. Consider:</p>\n\n<pre><code>binary 1011 becomes integer 11\nbinary 1001 becomes integer 9\nbinary   11 becomes integer 3   etc. \n</code></pre>\n\n<p>What's the best way to proceed? I've been exploring java.lang.number.* without finding a direct conversion method. <code>Integer.parseInt(b)</code> yields an integer EQUAL to the String...e.g., 1001 becomes 1,001 instead of 9...and does not seem to include a parameter for an output base. <code>toBinaryString</code> does the conversion the wrong direction. I suspect I'll need to do a multistep conversion, but can't seem to find the right combination of methods or subclasses. I'm also not sure the extent to which leading zeros or lack thereof will be an issue. Anyone have any good directions to point me?</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1641556653,"post_id":70620891,"comment_id":124840313,"body_markdown":"It depends, your first example is JUnit 5, your second example is JUnit 4, and the rest depends on what mocking framework you&#39;re using at that point. And `@Autowired` is for Spring autowiring, and not directly related to testing.","body":"It depends, your first example is JUnit 5, your second example is JUnit 4, and the rest depends on what mocking framework you&#39;re using at that point. And <code>@Autowired</code> is for Spring autowiring, and not directly related to testing."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641557006,"post_id":70620891,"comment_id":124840422,"body_markdown":"I would generally prefer to use new features or annotations (prefer JUnit 5 to JUnit 4). In this scene, should I use  `@MockBean` instead of `@Mock` ? What about `@Autowired`? Should I use `@Autowired` instead of `@InjectMocks`? Or `@InjectMocks` is still valid for JUnit 5 as JUnit 4?","body":"I would generally prefer to use new features or annotations (prefer JUnit 5 to JUnit 4). In this scene, should I use  <code>@MockBean</code> instead of <code>@Mock</code> ? What about <code>@Autowired</code>? Should I use <code>@Autowired</code> instead of <code>@InjectMocks</code>? Or <code>@InjectMocks</code> is still valid for JUnit 5 as JUnit 4?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641558258,"post_id":70620891,"comment_id":124840914,"body_markdown":"@MarkRotteveel Any reply pls?","body":"@MarkRotteveel Any reply pls?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641558705,"post_id":70620891,"comment_id":124841095,"body_markdown":"They&#39;re not the same thing. `@Mock` and `@InjectMocks` is for when you use Mockito (for JUnit 5 with `@ExtendWith(MockitoExtension.class)`, while `@MockBean` and `@Autowired` is for use with spring-test&#39;s `SpringExtension`. So what you should use depends on what you want or need to use use (Mockito vs spring-test)","body":"They&#39;re not the same thing. <code>@Mock</code> and <code>@InjectMocks</code> is for when you use Mockito (for JUnit 5 with <code>@ExtendWith(MockitoExtension.class)</code>, while <code>@MockBean</code> and <code>@Autowired</code> is for use with spring-test&#39;s <code>SpringExtension</code>. So what you should use depends on what you want or need to use use (Mockito vs spring-test)"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641563075,"post_id":70620891,"comment_id":124842764,"body_markdown":"Thanks a lot, now it is more clearer. I prefer using `Mockito` and JUnit 5. Then I think I should go with `@ExtendWith(MockitoExtension.class)`, `@Mock` and `@InjectMocks`. Is that true?","body":"Thanks a lot, now it is more clearer. I prefer using <code>Mockito</code> and JUnit 5. Then I think I should go with <code>@ExtendWith(MockitoExtension.class)</code>, <code>@Mock</code> and <code>@InjectMocks</code>. Is that true?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641563848,"post_id":70620891,"comment_id":124843088,"body_markdown":"I tried @Mock, InjectMocks and ExtendWith(MockitoExtension.class) annotations, but not worked","body":"I tried @Mock, InjectMocks and ExtendWith(MockitoExtension.class) annotations, but not worked"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641564070,"post_id":70620891,"comment_id":124843176,"body_markdown":"Please define &quot;but not worked&quot;.","body":"Please define &quot;but not worked&quot;."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641566128,"post_id":70620891,"comment_id":124844040,"body_markdown":"`employeeRepository` value is null","body":"<code>employeeRepository</code> value is null"},{"owner":{"account_id":6271996,"reputation":2560,"user_id":4957620,"accept_rate":88,"display_name":"chris"},"score":0,"creation_date":1641570899,"post_id":70620891,"comment_id":124846119,"body_markdown":"Try placing `@InjectMocks` before `@Mock`. But anyways, now that you have decided between Mockito and Spring Test, this should be another post and a different question where you specify the problem with you unit test. This keeps the site organized.","body":"Try placing <code>@InjectMocks</code> before <code>@Mock</code>. But anyways, now that you have decided between Mockito and Spring Test, this should be another post and a different question where you specify the problem with you unit test. This keeps the site organized."},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641796115,"post_id":70620891,"comment_id":124890783,"body_markdown":"@chris Chico, I tried with `@ExtendWith(MockitoExtension.class)`, `@InjectMocks` at the beginning (before `@Mocks`) and `@Mock`, but still nullPointerException. Any idea?","body":"@chris Chico, I tried with <code>@ExtendWith(MockitoExtension.class)</code>, <code>@InjectMocks</code> at the beginning (before <code>@Mocks</code>) and <code>@Mock</code>, but still nullPointerException. Any idea?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641883330,"post_id":70620891,"comment_id":124916880,"body_markdown":"@chris Chico, are you there?","body":"@chris Chico, are you there?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641883356,"post_id":70620891,"comment_id":124916882,"body_markdown":"@chris_chico Any reply please? Thanks.","body":"@chris_chico Any reply please? Thanks."}],"owner":{"display_name":"user17862362"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641556608,"creation_date":1641556523,"question_id":70620891,"body_markdown":"I am writing some unit tests and I am confused due to the different annotations in unit tests:\r\n\r\nOne of them is like:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\nclass EmployeeServiceImplTest {\r\n\r\n    @MockBean\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Autowired\r\n    private EmployeeServiceImpl employeeService;\r\n\r\n    @Test\r\n    void testFindAll() {\r\n      //...\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n\r\nAnd another is using the following annotations:\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class) \r\npublic class EmployeeServiceImplTest {\r\n\r\n    @Mock\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @InjectMocks\r\n    private EmployeeServiceImpl employeeService;\r\n\r\n    @Test\r\n    void testFindAll() {\r\n      //...\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n\r\nSo, I use Java and Spring Boot for language and framework. So, which annotations should I use?  \r\n\r\n`@ExtendWith(SpringExtension.class)` or `@RunWith(MockitoJUnitRunner.class)`,\r\n\r\n`@MockBean` or `@Mock`,\r\n\r\n`@Autowired` or `@InjectMocks`\r\n\r\nAny idea regarding to these annotations? \r\n","title":"Different annotations for unit tests in Spring app","body":"<p>I am writing some unit tests and I am confused due to the different annotations in unit tests:</p>\n<p>One of them is like:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass EmployeeServiceImplTest {\n\n    @MockBean\n    private EmployeeRepository employeeRepository;\n\n    @Autowired\n    private EmployeeServiceImpl employeeService;\n\n    @Test\n    void testFindAll() {\n      //...\n    }\n\n    //...\n}\n</code></pre>\n<p>And another is using the following annotations:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class) \npublic class EmployeeServiceImplTest {\n\n    @Mock\n    private EmployeeRepository employeeRepository;\n\n    @InjectMocks\n    private EmployeeServiceImpl employeeService;\n\n    @Test\n    void testFindAll() {\n      //...\n    }\n\n    //...\n}\n</code></pre>\n<p>So, I use Java and Spring Boot for language and framework. So, which annotations should I use?</p>\n<p><code>@ExtendWith(SpringExtension.class)</code> or <code>@RunWith(MockitoJUnitRunner.class)</code>,</p>\n<p><code>@MockBean</code> or <code>@Mock</code>,</p>\n<p><code>@Autowired</code> or <code>@InjectMocks</code></p>\n<p>Any idea regarding to these annotations?</p>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1641555388,"post_id":70620548,"comment_id":124839851,"body_markdown":"Cannot replicate the problem [db&lt;&gt;fiddle](https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=f200e8a5e9fcd165898fceba026bfe23).","body":"Cannot replicate the problem <a href=\"https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=f200e8a5e9fcd165898fceba026bfe23\" rel=\"nofollow noreferrer\">db&lt;&gt;fiddle</a>."},{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1641555626,"post_id":70620548,"comment_id":124839947,"body_markdown":"Why are you using quoted identifiers? Just name the columns `id` and `double` and use `INSERT INTO SOME_TABLE (id, double) VALUES(TO_BINARY_DOUBLE(&#39;0.0&#39;), TO_BINARY_DOUBLE(&#39;1.2&#39;));` [db&lt;&gt;fiddle](https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=153da6cb3140c6e18c0d780f6ebb0494)","body":"Why are you using quoted identifiers? Just name the columns <code>id</code> and <code>double</code> and use <code>INSERT INTO SOME_TABLE (id, double) VALUES(TO_BINARY_DOUBLE(&#39;0.0&#39;), TO_BINARY_DOUBLE(&#39;1.2&#39;));</code> <a href=\"https://dbfiddle.uk/?rdbms=oracle_11.2&amp;fiddle=153da6cb3140c6e18c0d780f6ebb0494\" rel=\"nofollow noreferrer\">db&lt;&gt;fiddle</a>"}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641556600,"creation_date":1641556285,"answer_id":70620845,"question_id":70620548,"body_markdown":"You appear to have different NLS settings to your colleagues; specifically `NLS_NUMERIC_CHARACTERS`. With that set to `&#39;.,&#39;` the code works; with it set to `&#39;,.&#39;` (i.e. expecting a comma as the decimal separator, rather than a period) it throws the error you see.\r\n\r\nYou can either change your Java environment to match your colleagues&#39;, which will probably involve changing the locale, either of your PC or via JVM flags; or override it in the function call:\r\n\r\n```\r\n    &quot;#value__id&quot; := TO_BINARY_DOUBLE(&#39;0.0&#39;, &#39;999D999&#39;, &#39;nls_numeric_characters=&#39;&#39;.,&#39;&#39;&#39;);\r\n    &quot;#value_double&quot; := TO_BINARY_DOUBLE(&#39;1.2&#39;, &#39;999D999&#39;, &#39;nls_numeric_characters=&#39;&#39;.,&#39;&#39;&#39;);\r\n```\r\n\r\nusing a format mask that covers whatever string values you might have to deal with - I&#39;m guessing that those values would normally come from a user or a procedure argument. Of course, this then assumes that the string values will always have a period as the decimal separator.\r\n\r\n[db&lt;&gt;fiddle](https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=324e72547d25167f6b9c5c4f56901d1f)","title":"ORA-06502: PL/SQL: numeric or value error when using TO_BINARY_DOUBLE with JDBC","body":"<p>You appear to have different NLS settings to your colleagues; specifically <code>NLS_NUMERIC_CHARACTERS</code>. With that set to <code>'.,'</code> the code works; with it set to <code>',.'</code> (i.e. expecting a comma as the decimal separator, rather than a period) it throws the error you see.</p>\n<p>You can either change your Java environment to match your colleagues', which will probably involve changing the locale, either of your PC or via JVM flags; or override it in the function call:</p>\n<pre><code>    &quot;#value__id&quot; := TO_BINARY_DOUBLE('0.0', '999D999', 'nls_numeric_characters=''.,''');\n    &quot;#value_double&quot; := TO_BINARY_DOUBLE('1.2', '999D999', 'nls_numeric_characters=''.,''');\n</code></pre>\n<p>using a format mask that covers whatever string values you might have to deal with - I'm guessing that those values would normally come from a user or a procedure argument. Of course, this then assumes that the string values will always have a period as the decimal separator.</p>\n<p><a href=\"https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=324e72547d25167f6b9c5c4f56901d1f\" rel=\"nofollow noreferrer\">db&lt;&gt;fiddle</a></p>\n"}],"owner":{"account_id":6380571,"reputation":13,"user_id":4950168,"display_name":"Hugo Almeida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70620845,"answer_count":1,"score":0,"last_activity_date":1641556600,"creation_date":1641554790,"question_id":70620548,"body_markdown":"I have a small snippet of code that grabs some data and generates SQL statements to insert them in an Oracle database. These are then executed via a JDBC driver on the Oracle server.\r\n\r\nThe issue I am running into is that if these statements contain a TO_BINARY_DOUBLE call they always fail **for me** and not for anyone else in my team, which supposedly have the exact same driver and environment as I do, which is incredibly strange.\r\n\r\n```\r\nCREATE TABLE &quot;SOME_TABLE&quot; (\r\n    &quot;_id&quot; BINARY_DOUBLE NOT NULL,\r\n    &quot;double&quot; BINARY_DOUBLE,\r\n    PRIMARY KEY (&quot;_id&quot;)\r\n);\r\n\r\nDECLARE\r\n    &quot;#value__id&quot; BINARY_DOUBLE;\r\n    &quot;#value_double&quot; BINARY_DOUBLE;\r\nBEGIN\r\n    &quot;#value__id&quot; := TO_BINARY_DOUBLE(&#39;0.0&#39;);\r\n    &quot;#value_double&quot; := TO_BINARY_DOUBLE(&#39;1.2&#39;);\r\n\r\n    INSERT INTO &quot;SOME_TABLE&quot; (&quot;_id&quot;, &quot;double&quot;)\r\n\tVALUES(\r\n\t\t&quot;#value__id&quot;,\r\n\t\t&quot;#value_double&quot;\r\n);\r\nEND;\r\n```\r\n\r\nAnd the error:\r\n\r\n    Unable to execute SQL statement batch: error occurred during batching: ORA-06502: PL/SQL: numeric or value error\r\n    ORA-06512: at line 5\r\n\r\nHoping someone could shed some light on the source, or point me in the right direction to try find it.","title":"ORA-06502: PL/SQL: numeric or value error when using TO_BINARY_DOUBLE with JDBC","body":"<p>I have a small snippet of code that grabs some data and generates SQL statements to insert them in an Oracle database. These are then executed via a JDBC driver on the Oracle server.</p>\n<p>The issue I am running into is that if these statements contain a TO_BINARY_DOUBLE call they always fail <strong>for me</strong> and not for anyone else in my team, which supposedly have the exact same driver and environment as I do, which is incredibly strange.</p>\n<pre><code>CREATE TABLE &quot;SOME_TABLE&quot; (\n    &quot;_id&quot; BINARY_DOUBLE NOT NULL,\n    &quot;double&quot; BINARY_DOUBLE,\n    PRIMARY KEY (&quot;_id&quot;)\n);\n\nDECLARE\n    &quot;#value__id&quot; BINARY_DOUBLE;\n    &quot;#value_double&quot; BINARY_DOUBLE;\nBEGIN\n    &quot;#value__id&quot; := TO_BINARY_DOUBLE('0.0');\n    &quot;#value_double&quot; := TO_BINARY_DOUBLE('1.2');\n\n    INSERT INTO &quot;SOME_TABLE&quot; (&quot;_id&quot;, &quot;double&quot;)\n    VALUES(\n        &quot;#value__id&quot;,\n        &quot;#value_double&quot;\n);\nEND;\n</code></pre>\n<p>And the error:</p>\n<pre><code>Unable to execute SQL statement batch: error occurred during batching: ORA-06502: PL/SQL: numeric or value error\nORA-06512: at line 5\n</code></pre>\n<p>Hoping someone could shed some light on the source, or point me in the right direction to try find it.</p>\n"},{"tags":["java","session","jakarta-ee","microservices"],"answers":[{"tags":[],"owner":{"account_id":23858103,"reputation":1,"user_id":17861397,"display_name":"sambuca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641556462,"creation_date":1641556462,"answer_id":70620882,"question_id":70065441,"body_markdown":"The reason token based authentication is used for microservices, is to avoid having to share session state between the services.\r\n\r\nIf you specifically refer to an implementation of the javax.servlet.http.HttpSession object, this is normally local to one server (service) and it would take some custom code to reload this based on the session id provided, if at all possible in your particular runtime (don&#39;t know what software you are using).\r\n\r\nI don&#39;t see why your suggestion wouldn&#39;t be possible though, but I would carefully consider if it is an absolute requirement. There might be other, simpler, ways to achieve what you want.\r\n\r\nOne way of doing it would be to issue a token ([JWT comes to mind][1]) when logging in, and having the other services simply verify this token and extract the user data from it. This way no lookup of user data is required for authentication after the first login.\r\n\r\nIf shared state is what you need, I would suggest finding some existing software to handle the session storage. I see that for instance Redis has a solution for session management.\r\n\r\nAlso you may check out the answers to [this question][2]\r\n\r\n\r\n  [1]: https://jwt.io/\r\n  [2]: https://stackoverflow.com/questions/32741333/session-management-in-microservices","title":"HttpSession for microservices","body":"<p>The reason token based authentication is used for microservices, is to avoid having to share session state between the services.</p>\n<p>If you specifically refer to an implementation of the javax.servlet.http.HttpSession object, this is normally local to one server (service) and it would take some custom code to reload this based on the session id provided, if at all possible in your particular runtime (don't know what software you are using).</p>\n<p>I don't see why your suggestion wouldn't be possible though, but I would carefully consider if it is an absolute requirement. There might be other, simpler, ways to achieve what you want.</p>\n<p>One way of doing it would be to issue a token (<a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">JWT comes to mind</a>) when logging in, and having the other services simply verify this token and extract the user data from it. This way no lookup of user data is required for authentication after the first login.</p>\n<p>If shared state is what you need, I would suggest finding some existing software to handle the session storage. I see that for instance Redis has a solution for session management.</p>\n<p>Also you may check out the answers to <a href=\"https://stackoverflow.com/questions/32741333/session-management-in-microservices\">this question</a></p>\n"}],"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641556462,"creation_date":1637582564,"question_id":70065441,"body_markdown":"I understand that token based authentication is widely used for microservices, esp, when there is horizontal scaling. \r\n\r\nFor microservices also, can we use sessions by storing it in database? \r\nThe series of requests would be : \r\n\r\n - First request, HTTPsession is created and session id stored in a database table along with unique \r\n   username.  \r\n - Second request is sent with this session id, and any\r\n   microservice instance can serve this request. Server has to verify\r\n   this session and user with that of the database record. If sesssionid+username combo is present in database and sessionid is a valid one, then serve the request else redirect to login page.\r\n - When logout is clicked, session is invalidated and db record is also removed.\r\n\r\nWill this not be a good session management for microservices? \r\nDo Microservices always have to be stateless? \r\n","title":"HttpSession for microservices","body":"<p>I understand that token based authentication is widely used for microservices, esp, when there is horizontal scaling.</p>\n<p>For microservices also, can we use sessions by storing it in database?\nThe series of requests would be :</p>\n<ul>\n<li>First request, HTTPsession is created and session id stored in a database table along with unique\nusername.</li>\n<li>Second request is sent with this session id, and any\nmicroservice instance can serve this request. Server has to verify\nthis session and user with that of the database record. If sesssionid+username combo is present in database and sessionid is a valid one, then serve the request else redirect to login page.</li>\n<li>When logout is clicked, session is invalidated and db record is also removed.</li>\n</ul>\n<p>Will this not be a good session management for microservices?\nDo Microservices always have to be stateless?</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":18529884,"reputation":206,"user_id":13500934,"display_name":"funferret-com"},"score":1,"creation_date":1615738648,"post_id":66611884,"comment_id":117778632,"body_markdown":"You could draw to a small framebuffer and then draw that to screen, scaled up as required. Just make sure you set the framebuffers texture filtering to nearest pixel so you keep the hard edges.","body":"You could draw to a small framebuffer and then draw that to screen, scaled up as required. Just make sure you set the framebuffers texture filtering to nearest pixel so you keep the hard edges."},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1640521871,"post_id":66611884,"comment_id":124598356,"body_markdown":"Is this the only way to do?","body":"Is this the only way to do?"},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1640527193,"post_id":66611884,"comment_id":124599328,"body_markdown":"I tried and it worked. But it has a big downside that we will past just a framebuffer to the screen, which will overwrite everything draw before. And I don&#39;t know how to draw actors in a framebuffer. I guess there must be an easier solution for this. I mean this is a gamingframework and I hope we can prevent any hacks.","body":"I tried and it worked. But it has a big downside that we will past just a framebuffer to the screen, which will overwrite everything draw before. And I don&#39;t know how to draw actors in a framebuffer. I guess there must be an easier solution for this. I mean this is a gamingframework and I hope we can prevent any hacks."},{"owner":{"account_id":18529884,"reputation":206,"user_id":13500934,"display_name":"funferret-com"},"score":0,"creation_date":1640613039,"post_id":66611884,"comment_id":124615999,"body_markdown":"You can do whatever you want with FrameBuffers, except Libgdx&#39;s support is not exactly great as I remember. When you draw to a framebuffer, you create a texture. This texture can be used like any other texture, ie. like the textures libgdx uses to draw sprites to the screen. I can assure you that you can do what you want with framebuffers, but can&#39;t guarantee that it won&#39;t get much more messy than you want. Perhaps you should post what you&#39;ve done with framebuffers so far, and I can try to help you draw it to screen without overdrawing everything else.","body":"You can do whatever you want with FrameBuffers, except Libgdx&#39;s support is not exactly great as I remember. When you draw to a framebuffer, you create a texture. This texture can be used like any other texture, ie. like the textures libgdx uses to draw sprites to the screen. I can assure you that you can do what you want with framebuffers, but can&#39;t guarantee that it won&#39;t get much more messy than you want. Perhaps you should post what you&#39;ve done with framebuffers so far, and I can try to help you draw it to screen without overdrawing everything else."},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1640801309,"post_id":66611884,"comment_id":124663589,"body_markdown":"Great. Thanks. Will prepare a small project to show ASAP.","body":"Great. Thanks. Will prepare a small project to show ASAP."}],"answers":[{"tags":[],"owner":{"account_id":18529884,"reputation":206,"user_id":13500934,"display_name":"funferret-com"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641556100,"creation_date":1640955943,"answer_id":70542616,"question_id":66611884,"body_markdown":"ok, got bored. Here you go.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNotes: \r\n\r\nGreen box is just to show where the framebuffer texture is being drawn to, just change the fill colour to zero alpha after the fbo.begin() statement to make it clear.\r\n\r\nBINDING_DEPTH_FRAMEBUFFER,BINDING_DEFAULT variables are from my code. You probably won&#39;t need to worry about these unless you mess around with switching textures and using bespoke shaders.\r\n\r\nDrawing the fbo, batch.draw(fbo.getColorBufferTexture(), 20, 20, 200, 200, 0, 0, 1, 1); Hopefully this will be ok for you. If you want to rotate the fbo you should just be able to create a rotated projection matrix from your camera. If you want to use a bespoke shader, you just have to be careful about linking the fbo as a texture to the shader.\r\n\r\n    package com.funferret.pixelshapes;\r\n    \r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.graphics.GL20;\r\n    import com.badlogic.gdx.graphics.OrthographicCamera;\r\n    import com.badlogic.gdx.graphics.Pixmap;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.glutils.FrameBuffer;\r\n    import com.badlogic.gdx.graphics.glutils.ShapeRenderer;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class MyGdxGame extends ApplicationAdapter {\r\n    \tShapeRenderer shapeBatch;\r\n    \tSpriteBatch batch;\r\n    \tTexture img;\r\n    \tFrameBuffer fbo;\r\n    \tpublic OrthographicCamera fboCamera;\r\n    \r\n    \tint fboWidth=40;\r\n    \tint fboHeight=40;\r\n        int BINDING_DEPTH_FRAMEBUFFER=3;\r\n        int BINDING_DEFAULT=0;\r\n    \r\n    \tvoid createFrameBuffer()\r\n    \t{\r\n    \t\tif (fbo!=null)\r\n    \t\t{\r\n    \t\t\tfbo.dispose();\r\n    \t\t}\r\n    \t\tfbo = new FrameBuffer(Pixmap.Format.RGBA8888, fboWidth, fboHeight, false);\r\n    \t\tfbo.getColorBufferTexture().setFilter(Texture.TextureFilter.Nearest, Texture.TextureFilter.Nearest);\r\n    \t\tfbo.getColorBufferTexture().bind(BINDING_DEPTH_FRAMEBUFFER);\r\n    \t\tGdx.graphics.getGL20().glActiveTexture(GL20.GL_TEXTURE0 + BINDING_DEFAULT); //make sure this is set to 0 for batch draws\r\n    \t\tfboCamera=new OrthographicCamera();\r\n    \t\tfboCamera.setToOrtho(false, fboWidth, fboHeight);\r\n    \t\tfboCamera.update();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void create () {\r\n    \t\tbatch = new SpriteBatch();\r\n    \t\tshapeBatch=new ShapeRenderer();\r\n    \t\timg = new Texture(&quot;badlogic.jpg&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void render ()\r\n    \t{\r\n        //I had some initialisation problems with the fbo when trying to create a framebuffer. Need to be absolutely certain\r\n    \t\t//size is correct and opengl context is set up before creating the framebuffer (as far as I remember). This if statement and the\r\n    \t\t//createFrameBuffer function works for me and will allow you to change the size of fboWidth/fboHeight on the fly (though will cause stutters if you do)\r\n    \t\tif ((fbo==null) || (fbo.getWidth()!=fboWidth) || (fbo.getHeight()!=fboHeight))\r\n    \t\t{\r\n    \t\t\tcreateFrameBuffer();\r\n    \t\t}\r\n    \r\n    \t\t//start drawing to a small framebuffer, that we will then scale up to create a pixelated effect\r\n    \t\tfbo.begin();\r\n    \t\tScreenUtils.clear(0, 1, 0, 0.5f);\r\n    \t\tshapeBatch.begin(ShapeRenderer.ShapeType.Line);\r\n    \t\tshapeBatch.setProjectionMatrix(fboCamera.combined);\r\n    \t\tGdx.gl.glDisable(GL20.GL_BLEND);\r\n    \t\tshapeBatch.setColor(1f, 0f, 1f, 1);\r\n    \t\tshapeBatch.circle(20,20,15,10);\r\n    \t\tshapeBatch.end();\r\n    \t\tfbo.end();\r\n    \r\n    \r\n    \t\tScreenUtils.clear(1, 0, 0, 1);\r\n    \t\tbatch.begin();\r\n    \t\tbatch.draw(img, 0, 0);\r\n    \t\tbatch.draw(fbo.getColorBufferTexture(), 20, 20, 200, 200, 0, 0, 1, 1);\r\n      \t    batch.end();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void dispose () {\r\n    \t\tbatch.dispose();\r\n    \t\timg.dispose();\r\n            shapeBatch.dispose();\r\n            fbo.dispose();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jJzLJ.png","title":"How to draw pixelized shapes (LIBGDX conceptional)","body":"<p>ok, got bored. Here you go.</p>\n<p><a href=\"https://i.stack.imgur.com/jJzLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJzLJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Notes:</p>\n<p>Green box is just to show where the framebuffer texture is being drawn to, just change the fill colour to zero alpha after the fbo.begin() statement to make it clear.</p>\n<p>BINDING_DEPTH_FRAMEBUFFER,BINDING_DEFAULT variables are from my code. You probably won't need to worry about these unless you mess around with switching textures and using bespoke shaders.</p>\n<p>Drawing the fbo, batch.draw(fbo.getColorBufferTexture(), 20, 20, 200, 200, 0, 0, 1, 1); Hopefully this will be ok for you. If you want to rotate the fbo you should just be able to create a rotated projection matrix from your camera. If you want to use a bespoke shader, you just have to be careful about linking the fbo as a texture to the shader.</p>\n<pre><code>package com.funferret.pixelshapes;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.GL20;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.glutils.FrameBuffer;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class MyGdxGame extends ApplicationAdapter {\n    ShapeRenderer shapeBatch;\n    SpriteBatch batch;\n    Texture img;\n    FrameBuffer fbo;\n    public OrthographicCamera fboCamera;\n\n    int fboWidth=40;\n    int fboHeight=40;\n    int BINDING_DEPTH_FRAMEBUFFER=3;\n    int BINDING_DEFAULT=0;\n\n    void createFrameBuffer()\n    {\n        if (fbo!=null)\n        {\n            fbo.dispose();\n        }\n        fbo = new FrameBuffer(Pixmap.Format.RGBA8888, fboWidth, fboHeight, false);\n        fbo.getColorBufferTexture().setFilter(Texture.TextureFilter.Nearest, Texture.TextureFilter.Nearest);\n        fbo.getColorBufferTexture().bind(BINDING_DEPTH_FRAMEBUFFER);\n        Gdx.graphics.getGL20().glActiveTexture(GL20.GL_TEXTURE0 + BINDING_DEFAULT); //make sure this is set to 0 for batch draws\n        fboCamera=new OrthographicCamera();\n        fboCamera.setToOrtho(false, fboWidth, fboHeight);\n        fboCamera.update();\n    }\n\n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        shapeBatch=new ShapeRenderer();\n        img = new Texture(&quot;badlogic.jpg&quot;);\n    }\n\n    @Override\n    public void render ()\n    {\n    //I had some initialisation problems with the fbo when trying to create a framebuffer. Need to be absolutely certain\n        //size is correct and opengl context is set up before creating the framebuffer (as far as I remember). This if statement and the\n        //createFrameBuffer function works for me and will allow you to change the size of fboWidth/fboHeight on the fly (though will cause stutters if you do)\n        if ((fbo==null) || (fbo.getWidth()!=fboWidth) || (fbo.getHeight()!=fboHeight))\n        {\n            createFrameBuffer();\n        }\n\n        //start drawing to a small framebuffer, that we will then scale up to create a pixelated effect\n        fbo.begin();\n        ScreenUtils.clear(0, 1, 0, 0.5f);\n        shapeBatch.begin(ShapeRenderer.ShapeType.Line);\n        shapeBatch.setProjectionMatrix(fboCamera.combined);\n        Gdx.gl.glDisable(GL20.GL_BLEND);\n        shapeBatch.setColor(1f, 0f, 1f, 1);\n        shapeBatch.circle(20,20,15,10);\n        shapeBatch.end();\n        fbo.end();\n\n\n        ScreenUtils.clear(1, 0, 0, 1);\n        batch.begin();\n        batch.draw(img, 0, 0);\n        batch.draw(fbo.getColorBufferTexture(), 20, 20, 200, 200, 0, 0, 1, 1);\n        batch.end();\n    }\n    \n    @Override\n    public void dispose () {\n        batch.dispose();\n        img.dispose();\n        shapeBatch.dispose();\n        fbo.dispose();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70542616,"answer_count":1,"score":8,"last_activity_date":1641556100,"creation_date":1615627596,"question_id":66611884,"body_markdown":"I would like to daw shapes in a pixelized style.\r\nMy cirlce currently drawn with shaperenderer renders in real pixels.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut i like it to be more pixelized.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI played around with camera and viewport to get the effect, but not succeeded. I prefer to use FillViewport.\r\n\r\nDo we need create our own drawLine funtion and draw small squares along a line?\r\nOr can this be done with Viewports whith keeping the aspect ratio?\r\n\r\nIs there any small sample project that shows how to create simple shapes that are pixelized.\r\n\r\nI know I can code myself, but I would like to avoid when using a framework.\r\n\r\nIn skretch you can draw a line an just specify the pixelsize, so easy.\r\n\r\nAny hints?\r\n\r\n\r\n    public class SimpleCirleActor extends Actor {\r\n            ShapeRenderer renderer;\r\n            float radius;\r\n            public SimpleCirleActor(int x , int y, float radius) {\r\n                setBounds(0,0, Constants.pixelsPerSector(),Constants.pixelsPerSector());\r\n                this.radius = radius;\r\n                setX(x);setY(y);\r\n                renderer = new ShapeRenderer();\r\n            }\r\n    \r\n            @Override\r\n            public void draw(Batch batch, float parentAlpha) {\r\n                super.draw(batch, parentAlpha);\r\n                renderer.setProjectionMatrix(getStage().getCamera().combined);\r\n                renderer.begin(ShapeRenderer.ShapeType.Line);\r\n                renderer.setColor(Color.CYAN);\r\n                float x = getX();\r\n                renderer.circle(x, getY(), radius);\r\n                renderer.end();\r\n            }\r\n    \r\n        @Override\r\n        public void act(float delta) {\r\n            super.act(delta);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHROE.png\r\n  [2]: https://i.stack.imgur.com/JBpiQ.png\r\n  [3]: https://i.stack.imgur.com/4uNgE.png","title":"How to draw pixelized shapes (LIBGDX conceptional)","body":"<p>I would like to daw shapes in a pixelized style.\nMy cirlce currently drawn with shaperenderer renders in real pixels.</p>\n<p><a href=\"https://i.stack.imgur.com/bHROE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bHROE.png\" alt=\"enter image description here\" /></a></p>\n<p>but i like it to be more pixelized.</p>\n<p><a href=\"https://i.stack.imgur.com/4uNgE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4uNgE.png\" alt=\"enter image description here\" /></a></p>\n<p>I played around with camera and viewport to get the effect, but not succeeded. I prefer to use FillViewport.</p>\n<p>Do we need create our own drawLine funtion and draw small squares along a line?\nOr can this be done with Viewports whith keeping the aspect ratio?</p>\n<p>Is there any small sample project that shows how to create simple shapes that are pixelized.</p>\n<p>I know I can code myself, but I would like to avoid when using a framework.</p>\n<p>In skretch you can draw a line an just specify the pixelsize, so easy.</p>\n<p>Any hints?</p>\n<pre><code>public class SimpleCirleActor extends Actor {\n        ShapeRenderer renderer;\n        float radius;\n        public SimpleCirleActor(int x , int y, float radius) {\n            setBounds(0,0, Constants.pixelsPerSector(),Constants.pixelsPerSector());\n            this.radius = radius;\n            setX(x);setY(y);\n            renderer = new ShapeRenderer();\n        }\n\n        @Override\n        public void draw(Batch batch, float parentAlpha) {\n            super.draw(batch, parentAlpha);\n            renderer.setProjectionMatrix(getStage().getCamera().combined);\n            renderer.begin(ShapeRenderer.ShapeType.Line);\n            renderer.setColor(Color.CYAN);\n            float x = getX();\n            renderer.circle(x, getY(), radius);\n            renderer.end();\n        }\n\n    @Override\n    public void act(float delta) {\n        super.act(delta);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","lambda","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641556085,"creation_date":1641556085,"answer_id":70620799,"question_id":70578526,"body_markdown":" &gt; However, when I test it, it&#39;s giving below output \r\n\r\n That&#39;s because you&#39;re not waiting for the `Mono` to complete before returning, and since the `RequestHandler` provides no special support for reactive types, it won&#39;t wait either.\r\n\r\n &gt; Doesn&#39;t lambda support reactive types as return type in the handler()?\r\n\r\nReactive return types aren&#39;t supported here in the way you&#39;re expecting - but there&#39;s also very little reason to use them in this scenario. The main purpose of a reactive framework is to use few threads for many non-blocking requests - but in this setup, your lambda will be run once per request (when the API endpoint is called through API gateway), so there&#39;s no advantage whatsoever.\r\n\r\nYou can still use `WebClient` of course, but in this scenario, the only sensible thing to do is to call `block()` on the WebClient result.","title":"Returning a Mono/Flux in the lambda","body":"<blockquote>\n<p>However, when I test it, it's giving below output</p>\n</blockquote>\n<p>That's because you're not waiting for the <code>Mono</code> to complete before returning, and since the <code>RequestHandler</code> provides no special support for reactive types, it won't wait either.</p>\n<blockquote>\n<p>Doesn't lambda support reactive types as return type in the handler()?</p>\n</blockquote>\n<p>Reactive return types aren't supported here in the way you're expecting - but there's also very little reason to use them in this scenario. The main purpose of a reactive framework is to use few threads for many non-blocking requests - but in this setup, your lambda will be run once per request (when the API endpoint is called through API gateway), so there's no advantage whatsoever.</p>\n<p>You can still use <code>WebClient</code> of course, but in this scenario, the only sensible thing to do is to call <code>block()</code> on the WebClient result.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70620799,"answer_count":1,"score":0,"last_activity_date":1641556085,"creation_date":1641297930,"question_id":70578526,"body_markdown":"I am trying to create a lambda with the below code. Here I am calling an API (API gateway) which in turn calls _Second Lambda_ that returns `&quot;Second Lambda&quot;` However, when I test it, it&#39;s giving below output\r\nDoesn&#39;t lambda support reactive types as return type in the handler()? Is there any way to return the actual value without using the blocking call `block()`?\r\n\r\n\r\n    public class FirstLambda implements RequestHandler&lt;Object, Mono&lt;String&gt;&gt; {\r\n    \r\n        public Mono&lt;String&gt; handleRequest(final Object input, final Context context) {\r\n            String output=null;\r\n    \r\n            Mono&lt;String&gt; m= WebClient.\r\n                    create()\r\n                    .get()\r\n                    .uri(&quot;https://api.amazonaws.com/dev&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class);\r\n    \r\n            m.subscribe(x-&gt; System.out.println(&quot;inside the mono &quot;+x.toString()));\r\n            System.out.println(&quot;Exiting the block&quot;);\r\n    \r\n          \r\n            return m;\r\n        }\r\n    }\r\n\r\n\r\n**OUTPUT**\r\n\r\n    {\r\n      &quot;scanAvailable&quot;: true\r\n    }\r\n\r\n**Expected OUTPUT**\r\n\r\n    Second Lambda\r\n\r\n**Second Lambda**\r\n\r\n    public class SecondLambda implements RequestHandler&lt;Object, String&gt; {\r\n        public String handleRequest(final Object input, final Context context) {\r\n            return &quot;Second Lambda&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Returning a Mono/Flux in the lambda","body":"<p>I am trying to create a lambda with the below code. Here I am calling an API (API gateway) which in turn calls <em>Second Lambda</em> that returns <code>&quot;Second Lambda&quot;</code> However, when I test it, it's giving below output\nDoesn't lambda support reactive types as return type in the handler()? Is there any way to return the actual value without using the blocking call <code>block()</code>?</p>\n<pre><code>public class FirstLambda implements RequestHandler&lt;Object, Mono&lt;String&gt;&gt; {\n\n    public Mono&lt;String&gt; handleRequest(final Object input, final Context context) {\n        String output=null;\n\n        Mono&lt;String&gt; m= WebClient.\n                create()\n                .get()\n                .uri(&quot;https://api.amazonaws.com/dev&quot;)\n                .retrieve()\n                .bodyToMono(String.class);\n\n        m.subscribe(x-&gt; System.out.println(&quot;inside the mono &quot;+x.toString()));\n        System.out.println(&quot;Exiting the block&quot;);\n\n      \n        return m;\n    }\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>{\n  &quot;scanAvailable&quot;: true\n}\n</code></pre>\n<p><strong>Expected OUTPUT</strong></p>\n<pre><code>Second Lambda\n</code></pre>\n<p><strong>Second Lambda</strong></p>\n<pre><code>public class SecondLambda implements RequestHandler&lt;Object, String&gt; {\n    public String handleRequest(final Object input, final Context context) {\n        return &quot;Second Lambda&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","insert","android-room","primary-key"],"comments":[{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1641556499,"post_id":70620797,"comment_id":124840258,"body_markdown":"Google recommendations are listed here https://developer.android.com/training/data-storage/room/async-queries\nWe are talking about &quot;One-shot writes (with a return value, that would be the ID/primary key being returned). Since you are using Java only (not Kotlin), their recommendations all need an additional library (JavaRx or Guava), which might or might not work for you.","body":"Google recommendations are listed here <a href=\"https://developer.android.com/training/data-storage/room/async-queries\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/async-queri&zwnj;&#8203;es</a> We are talking about &quot;One-shot writes (with a return value, that would be the ID/primary key being returned). Since you are using Java only (not Kotlin), their recommendations all need an additional library (JavaRx or Guava), which might or might not work for you."}],"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641556074,"creation_date":1641556074,"question_id":70620797,"body_markdown":"In my app (MVVM architecture) I am inserting a new row to a table. In the next step I want to use the newly generated Primary Key as identifier for a notification. \r\n\r\nMy initial approach (based on my limited experience) was to insert the row asynchronously as described in many tutorials. In the next step I used a LiveData parameter to get the max rowId from the table (which is a good approach for various queries...). But obviously that does not work in this case, as the timestamp of the onChanged event in my observer is earlier as the asynchronous insert task is finished. Therefore I have the &quot;old&quot; max rowId. So I have to look for other solutions. \r\n\r\nIt seems there are multiple solutions for my problem. \r\n\r\nMainly I have found the follwoing two / three approaches:\r\n\r\n - Adding a callback to the Async-Task for inserting a new row \r\n  (see [SQLite MVVM return &amp; obtain rowId in Activity][1])\r\n - Moving the Async-Task for Insert to the View Model and perform an action onPostExecute\r\n  (see [Getting RowID after inserting in Room Persistence Library][2])\r\n - One user (anser in the first link) reccommends not to use Async-Task for this operation (I did not think more in detail about this solution...)\r\n\r\nFrom what I understand is the worst approach to perform CRUD operations on the main thread.\r\n\r\nI personally like the solution without the callback function, but this requires to move the Async-Task into the View-Model, which I do not really like. With that solution, I cannot reuse the function in any other activity / fragment without duplicating the code. Therefore I would prefer to have this code in the repository.\r\n\r\nCan anybody advice what is the cleanest / best way to solve this issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60056024/sqlite-mvvm-return-obtain-rowid-in-activity\r\n  [2]: https://stackoverflow.com/questions/56354433/getting-rowid-after-inserting-in-room-persistence-library-android-studio","title":"Android Room Java - Right way to insert data when the rowId / Primary Key of the new row is required","body":"<p>In my app (MVVM architecture) I am inserting a new row to a table. In the next step I want to use the newly generated Primary Key as identifier for a notification.</p>\n<p>My initial approach (based on my limited experience) was to insert the row asynchronously as described in many tutorials. In the next step I used a LiveData parameter to get the max rowId from the table (which is a good approach for various queries...). But obviously that does not work in this case, as the timestamp of the onChanged event in my observer is earlier as the asynchronous insert task is finished. Therefore I have the &quot;old&quot; max rowId. So I have to look for other solutions.</p>\n<p>It seems there are multiple solutions for my problem.</p>\n<p>Mainly I have found the follwoing two / three approaches:</p>\n<ul>\n<li>Adding a callback to the Async-Task for inserting a new row\n(see <a href=\"https://stackoverflow.com/questions/60056024/sqlite-mvvm-return-obtain-rowid-in-activity\">SQLite MVVM return &amp; obtain rowId in Activity</a>)</li>\n<li>Moving the Async-Task for Insert to the View Model and perform an action onPostExecute\n(see <a href=\"https://stackoverflow.com/questions/56354433/getting-rowid-after-inserting-in-room-persistence-library-android-studio\">Getting RowID after inserting in Room Persistence Library</a>)</li>\n<li>One user (anser in the first link) reccommends not to use Async-Task for this operation (I did not think more in detail about this solution...)</li>\n</ul>\n<p>From what I understand is the worst approach to perform CRUD operations on the main thread.</p>\n<p>I personally like the solution without the callback function, but this requires to move the Async-Task into the View-Model, which I do not really like. With that solution, I cannot reuse the function in any other activity / fragment without duplicating the code. Therefore I would prefer to have this code in the repository.</p>\n<p>Can anybody advice what is the cleanest / best way to solve this issue?</p>\n"},{"tags":["java","reactjs","spring-boot","spring-websocket","stomp"],"owner":{"account_id":18495440,"reputation":33,"user_id":13473984,"display_name":"markovd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641555826,"creation_date":1641555826,"question_id":70620744,"body_markdown":"I am creating a prototype of social network application with chat and friendship management.\r\n\r\nWhen user logs in, he creates a STOMP ws connection and subscribes to broker for status (online/offline) of his friends. When the connection is created, he is saved into server memory as an online user. What I want to happen is at the moment he subscribes, he receives a list of online friends as a response and at the same time, all his online friends receive message on the same subscription destination that he is online.\r\n\r\nSo far, my code looks like this:\r\n\r\n**WebSocketConfiguration**\r\n```java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\r\n@RequiredArgsConstructor\r\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n\r\n...\r\n\r\n@Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/queue/specific-user&quot;, &quot;/queue/friend-status&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/messaging&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/messaging/chat&quot;)\r\n                .setAllowedOriginPatterns(&quot;http://localhost:3000&quot;, &quot;client:3000&quot;);\r\n        registry.addEndpoint(&quot;/messaging/status-change&quot;)\r\n                .setAllowedOriginPatterns(&quot;http://localhost:3000&quot;, &quot;client:3000&quot;);\r\n    }\r\n```\r\n\r\n**WebSocketController**\r\n```java\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class WebSocketController {\r\n\r\n    private final IUserStatusDispatcher userStatusDispatcher;\r\n\r\n    @SubscribeMapping(&quot;/user/queue/friend-status&quot;)\r\n    public List&lt;FriendStatusChangedMessage&gt; subscribeToFriendStatuses(Principal user) {\r\n        return userStatusDispatcher.distributeOnlineFriendsStatusMessage(user.getName());\r\n    }\r\n}\r\n```\r\n\r\nWhat `UserStatusDispatcher` does is it listens for `CONNECT` and `DISCONNECT` events on which:\r\n- CONNECT - saves user&#39;s name and login into memory\r\n- DISCONNECT - sends message to all online friends that he went offline\r\n\r\nWhen calling `distributeOnlineFriendsStatusMessage(user.getName());` it does basically the same for ONLINE status - sends message to all his friends that he went online, PLUS returns a list of messages for new subscriber about all of his online friends. It all boils down into this piece of code:\r\n\r\n**UserStatusDispatcher**\r\n```java\r\n    private void sendUserStatusChangeMessageToFriends(final FriendStatusChangedMessage message, final List&lt;IUserSearchResultDO&gt; onlineFriends) {\r\n        final List&lt;FriendStatusChangedMessage&gt; newUserOnlineMessageList = List.of(message);\r\n        for (final var onlineFriend : onlineFriends) {\r\n            simpleMessagingTemplate.convertAndSend(&quot;/user/&quot; + onlineFriend.getLogin() +  &quot;/queue/friend-status&quot;, newUserOnlineMessageList);\r\n        }\r\n    }\r\n```\r\n\r\nThis is my code on the client side (REACT with raw STOMP):\r\n\r\n```js\r\n    const [name, login] = useUserData();\r\n    const redirecting = useUnauthRedirect(&#39;/login&#39;);\r\n    const authHeader = useAuthHeader();\r\n\r\n    useEffect(() =&gt; {\r\n        if (redirecting || !authHeader) {\r\n            return () =&gt; {};\r\n        }\r\n\r\n        const onConnect = () =&gt; {\r\n            client.subscribe(&#39;/messaging/user/queue/friend-status&#39;, message =&gt; console.log(&quot;message:&quot;, message), { &#39;Authorization&#39;: authHeader.headers.Authorization});\r\n        }\r\n\r\n        let client = new Client({\r\n            brokerURL: &#39;ws://localhost:8080/messaging/status-change&#39;,\r\n            connectHeaders: { &#39;Authorization&#39;: authHeader.headers.Authorization},\r\n            reconnectDelay: 5000, \r\n            onConnect: onConnect,\r\n            onDisconnect: () =&gt; console.log(&quot;disconnected&quot;),\r\n            beforeConnect: () =&gt; { }\r\n        });\r\n\r\n\r\n        client.activate();\r\n        return () =&gt; client.deactivate();\r\n    }, [redirecting]);\r\n```\r\nBut here comes the issue - the returned message from `@SubscribeMapping` method arrives just fine and I see it&#39;s log in the console. But the other messages, sent to user&#39;s friends never arrive. I&#39;ve tried removing the `/user` prefix on all possible places, tried different combinations but nothing seems to work.\r\n\r\nI also tried switching `convertAndSend` for `convertAndSendToUser` but the behavior is exactly the same.\r\n\r\nThis is the server log I get when connecting and subscribing:\r\n```\r\n2022-01-07 12:34:49.298 DEBUG 119557 --- [nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /messaging/status-change\r\n2022-01-07 12:34:49.301 DEBUG 119557 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS\r\n2022-01-07 12:34:49.303 DEBUG 119557 --- [nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=548bf16b-647c-389f-d81a-522a86f77812, uri=ws://localhost:8080/messaging/status-change]\r\n2022-01-07 12:34:49.340 TRACE 119557 --- [nio-8080-exec-8] o.s.messaging.simp.stomp.StompDecoder    : Decoded CONNECT {Authorization=[Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtYWthcmVrQHBpYS5jeiIsImV4cCI6MTY0MTU1OTUzOCwiaWF0IjoxNjQxNTQxNTM4fQ.iEkhm7esbgxpAaK0eIygT31ikh5cLJtqq88o43m7qer5nEHPFBpk5-fmhHLyBHD-PWVPzjfH5dZIKw8S7yj63A], accept-version=[1.0,1.1,1.2], heart-beat=[10000,10000]} session=null\r\n2022-01-07 12:34:49.342 DEBUG 119557 --- [nio-8080-exec-8] c.m.f.a.s.impl.UserAuthServiceImpl       : Start of loadUserByUsername method (args: makarek@pia.cz).\r\n2022-01-07 12:34:49.344 DEBUG 119557 --- [nio-8080-exec-8] org.hibernate.SQL                        : select userdo0_.id as id1_1_0_, userroledo2_.id as id1_0_1_, userdo0_.login as login2_1_0_, userdo0_.name as name3_1_0_, userdo0_.password as password4_1_0_, userroledo2_.name as name2_0_1_, roles1_.id_user as id_user1_2_0__, roles1_.id_role as id_role2_2_0__ from auth_user userdo0_ inner join auth_user_role roles1_ on userdo0_.id=roles1_.id_user inner join auth_role userroledo2_ on roles1_.id_role=userroledo2_.id where userdo0_.login=?\r\n2022-01-07 12:34:49.347 DEBUG 119557 --- [nio-8080-exec-8] c.m.f.a.s.impl.UserAuthServiceImpl       : End of loadUserByUsername method.\r\n2022-01-07 12:34:49.426 DEBUG 119557 --- [boundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=makarek@pia.cz session=548bf16b-647c-389f-d81a-522a86f77812\r\n2022-01-07 12:34:49.499 DEBUG 119557 --- [tboundChannel-6] org.hibernate.SQL                        : select userdo0_.name as col_0_0_ from auth_user userdo0_ where userdo0_.login=?\r\n2022-01-07 12:34:49.502 TRACE 119557 --- [tboundChannel-6] o.s.messaging.simp.stomp.StompEncoder    : Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[makarek@pia.cz]}\r\n2022-01-07 12:34:49.542 TRACE 119557 --- [nio-8080-exec-9] o.s.messaging.simp.stomp.StompDecoder    : Decoded SUBSCRIBE {Authorization=[Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtYWthcmVrQHBpYS5jeiIsImV4cCI6MTY0MTU1OTUzOCwiaWF0IjoxNjQxNTQxNTM4fQ.iEkhm7esbgxpAaK0eIygT31ikh5cLJtqq88o43m7qer5nEHPFBpk5-fmhHLyBHD-PWVPzjfH5dZIKw8S7yj63A], id=[sub-0], destination=[/messaging/user/queue/friend-status]} session=null\r\n2022-01-07 12:34:49.543 DEBUG 119557 --- [boundChannel-19] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SUBSCRIBE /messaging/user/queue/friend-status id=sub-0 session=548bf16b-647c-389f-d81a-522a86f77812, lookupDestination=&#39;/user/queue/friend-status&#39;\r\n2022-01-07 12:34:49.543 DEBUG 119557 --- [boundChannel-19] .WebSocketAnnotationMethodMessageHandler : Invoking WebSocketController#subscribeToFriendStatuses[1 args]\r\n2022-01-07 12:34:49.848 TRACE 119557 --- [boundChannel-19] o.s.messaging.handler.HandlerMethod      : Arguments: [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=makarek@pia.cz, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]\r\n2022-01-07 12:34:49.850 DEBUG 119557 --- [boundChannel-19] org.hibernate.SQL                        : SELECT au.login as login, au.name as name FROM auth_user au INNER JOIN user_relationship ur on au.id IN (ur.id_sender, ur.id_receiver) AND (SELECT id from auth_user WHERE login = ?) IN (ur.id_sender, ur.id_receiver) AND au.login != ? INNER JOIN relationship_status rs ON rs.id = ur.id_status WHERE rs.name = &#39;FRIENDS&#39; AND au.login IN (?, ?)\r\n2022-01-07 12:34:50.527 TRACE 119557 --- [boundChannel-19] o.s.m.s.u.UserDestinationMessageHandler  : Translated /user/admin@admin.com/queue/friend-status -&gt; [/queue/friend-status-user6b803ac4-14c3-e393-27c4-4e1325d49c78]\r\n2022-01-07 12:34:50.693 DEBUG 119557 --- [boundChannel-19] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/friend-status-user6b803ac4-14c3-e393-27c4-4e1325d49c78 session=null payload=[{&quot;username&quot;:&quot;makarek@pia.cz&quot;,&quot;name&quot;:&quot;Makarek&quot;,&quot;status&quot;:&quot;ONLINE&quot;}]\r\n2022-01-07 12:34:50.876 TRACE 119557 --- [boundChannel-19] HandlerMethodReturnValueHandlerComposite : Processing return value with org.springframework.messaging.simp.annotation.support.SubscriptionMethodReturnValueHandler@5ffec4d5\r\n2022-01-07 12:34:50.876 DEBUG 119557 --- [boundChannel-19] a.s.SubscriptionMethodReturnValueHandler : Reply to @SubscribeMapping: [FriendStatusChangedMessage[username=admin@admin.com, name=Admin, status=ONLINE]]\r\n2022-01-07 12:34:50.877 TRACE 119557 --- [tboundChannel-7] o.s.messaging.simp.stomp.StompEncoder    : Encoding STOMP MESSAGE, headers={destination=[/messaging/user/queue/friend-status], content-type=[application/json], subscription=[sub-0], message-id=[548bf16b-647c-389f-d81a-522a86f77812-2]}\r\n\r\n```\r\n\r\nIt is visible in the log, that response is returned and even the `MESSAGE` type message is parsed and sent onto right url. But on client side the message never arrives. \r\n\r\nI&#39;ve visited many questions about similar problem, where many people suggested solutions but nothing has helped so far. (https://stackoverflow.com/questions/51492686/spring-boot-websocket-doesnt-send-notification-to-the-specified-user, https://stackoverflow.com/questions/29085791/does-spring-subscribemapping-really-subscribe-the-client-to-some-topic, https://stackoverflow.com/questions/22367223/sending-message-to-specific-user-on-spring-websocket) ","title":"Spring Boot raw STOMP WebSocket subscription to friend user&#39;s status","body":"<p>I am creating a prototype of social network application with chat and friendship management.</p>\n<p>When user logs in, he creates a STOMP ws connection and subscribes to broker for status (online/offline) of his friends. When the connection is created, he is saved into server memory as an online user. What I want to happen is at the moment he subscribes, he receives a list of online friends as a response and at the same time, all his online friends receive message on the same subscription destination that he is online.</p>\n<p>So far, my code looks like this:</p>\n<p><strong>WebSocketConfiguration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\n@RequiredArgsConstructor\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n...\n\n@Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/queue/specific-user&quot;, &quot;/queue/friend-status&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/messaging&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/messaging/chat&quot;)\n                .setAllowedOriginPatterns(&quot;http://localhost:3000&quot;, &quot;client:3000&quot;);\n        registry.addEndpoint(&quot;/messaging/status-change&quot;)\n                .setAllowedOriginPatterns(&quot;http://localhost:3000&quot;, &quot;client:3000&quot;);\n    }\n</code></pre>\n<p><strong>WebSocketController</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequiredArgsConstructor\npublic class WebSocketController {\n\n    private final IUserStatusDispatcher userStatusDispatcher;\n\n    @SubscribeMapping(&quot;/user/queue/friend-status&quot;)\n    public List&lt;FriendStatusChangedMessage&gt; subscribeToFriendStatuses(Principal user) {\n        return userStatusDispatcher.distributeOnlineFriendsStatusMessage(user.getName());\n    }\n}\n</code></pre>\n<p>What <code>UserStatusDispatcher</code> does is it listens for <code>CONNECT</code> and <code>DISCONNECT</code> events on which:</p>\n<ul>\n<li>CONNECT - saves user's name and login into memory</li>\n<li>DISCONNECT - sends message to all online friends that he went offline</li>\n</ul>\n<p>When calling <code>distributeOnlineFriendsStatusMessage(user.getName());</code> it does basically the same for ONLINE status - sends message to all his friends that he went online, PLUS returns a list of messages for new subscriber about all of his online friends. It all boils down into this piece of code:</p>\n<p><strong>UserStatusDispatcher</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void sendUserStatusChangeMessageToFriends(final FriendStatusChangedMessage message, final List&lt;IUserSearchResultDO&gt; onlineFriends) {\n        final List&lt;FriendStatusChangedMessage&gt; newUserOnlineMessageList = List.of(message);\n        for (final var onlineFriend : onlineFriends) {\n            simpleMessagingTemplate.convertAndSend(&quot;/user/&quot; + onlineFriend.getLogin() +  &quot;/queue/friend-status&quot;, newUserOnlineMessageList);\n        }\n    }\n</code></pre>\n<p>This is my code on the client side (REACT with raw STOMP):</p>\n<pre class=\"lang-js prettyprint-override\"><code>    const [name, login] = useUserData();\n    const redirecting = useUnauthRedirect('/login');\n    const authHeader = useAuthHeader();\n\n    useEffect(() =&gt; {\n        if (redirecting || !authHeader) {\n            return () =&gt; {};\n        }\n\n        const onConnect = () =&gt; {\n            client.subscribe('/messaging/user/queue/friend-status', message =&gt; console.log(&quot;message:&quot;, message), { 'Authorization': authHeader.headers.Authorization});\n        }\n\n        let client = new Client({\n            brokerURL: 'ws://localhost:8080/messaging/status-change',\n            connectHeaders: { 'Authorization': authHeader.headers.Authorization},\n            reconnectDelay: 5000, \n            onConnect: onConnect,\n            onDisconnect: () =&gt; console.log(&quot;disconnected&quot;),\n            beforeConnect: () =&gt; { }\n        });\n\n\n        client.activate();\n        return () =&gt; client.deactivate();\n    }, [redirecting]);\n</code></pre>\n<p>But here comes the issue - the returned message from <code>@SubscribeMapping</code> method arrives just fine and I see it's log in the console. But the other messages, sent to user's friends never arrive. I've tried removing the <code>/user</code> prefix on all possible places, tried different combinations but nothing seems to work.</p>\n<p>I also tried switching <code>convertAndSend</code> for <code>convertAndSendToUser</code> but the behavior is exactly the same.</p>\n<p>This is the server log I get when connecting and subscribing:</p>\n<pre><code>2022-01-07 12:34:49.298 DEBUG 119557 --- [nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /messaging/status-change\n2022-01-07 12:34:49.301 DEBUG 119557 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS\n2022-01-07 12:34:49.303 DEBUG 119557 --- [nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=548bf16b-647c-389f-d81a-522a86f77812, uri=ws://localhost:8080/messaging/status-change]\n2022-01-07 12:34:49.340 TRACE 119557 --- [nio-8080-exec-8] o.s.messaging.simp.stomp.StompDecoder    : Decoded CONNECT {Authorization=[Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtYWthcmVrQHBpYS5jeiIsImV4cCI6MTY0MTU1OTUzOCwiaWF0IjoxNjQxNTQxNTM4fQ.iEkhm7esbgxpAaK0eIygT31ikh5cLJtqq88o43m7qer5nEHPFBpk5-fmhHLyBHD-PWVPzjfH5dZIKw8S7yj63A], accept-version=[1.0,1.1,1.2], heart-beat=[10000,10000]} session=null\n2022-01-07 12:34:49.342 DEBUG 119557 --- [nio-8080-exec-8] c.m.f.a.s.impl.UserAuthServiceImpl       : Start of loadUserByUsername method (args: makarek@pia.cz).\n2022-01-07 12:34:49.344 DEBUG 119557 --- [nio-8080-exec-8] org.hibernate.SQL                        : select userdo0_.id as id1_1_0_, userroledo2_.id as id1_0_1_, userdo0_.login as login2_1_0_, userdo0_.name as name3_1_0_, userdo0_.password as password4_1_0_, userroledo2_.name as name2_0_1_, roles1_.id_user as id_user1_2_0__, roles1_.id_role as id_role2_2_0__ from auth_user userdo0_ inner join auth_user_role roles1_ on userdo0_.id=roles1_.id_user inner join auth_role userroledo2_ on roles1_.id_role=userroledo2_.id where userdo0_.login=?\n2022-01-07 12:34:49.347 DEBUG 119557 --- [nio-8080-exec-8] c.m.f.a.s.impl.UserAuthServiceImpl       : End of loadUserByUsername method.\n2022-01-07 12:34:49.426 DEBUG 119557 --- [boundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT user=makarek@pia.cz session=548bf16b-647c-389f-d81a-522a86f77812\n2022-01-07 12:34:49.499 DEBUG 119557 --- [tboundChannel-6] org.hibernate.SQL                        : select userdo0_.name as col_0_0_ from auth_user userdo0_ where userdo0_.login=?\n2022-01-07 12:34:49.502 TRACE 119557 --- [tboundChannel-6] o.s.messaging.simp.stomp.StompEncoder    : Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[makarek@pia.cz]}\n2022-01-07 12:34:49.542 TRACE 119557 --- [nio-8080-exec-9] o.s.messaging.simp.stomp.StompDecoder    : Decoded SUBSCRIBE {Authorization=[Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJtYWthcmVrQHBpYS5jeiIsImV4cCI6MTY0MTU1OTUzOCwiaWF0IjoxNjQxNTQxNTM4fQ.iEkhm7esbgxpAaK0eIygT31ikh5cLJtqq88o43m7qer5nEHPFBpk5-fmhHLyBHD-PWVPzjfH5dZIKw8S7yj63A], id=[sub-0], destination=[/messaging/user/queue/friend-status]} session=null\n2022-01-07 12:34:49.543 DEBUG 119557 --- [boundChannel-19] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SUBSCRIBE /messaging/user/queue/friend-status id=sub-0 session=548bf16b-647c-389f-d81a-522a86f77812, lookupDestination='/user/queue/friend-status'\n2022-01-07 12:34:49.543 DEBUG 119557 --- [boundChannel-19] .WebSocketAnnotationMethodMessageHandler : Invoking WebSocketController#subscribeToFriendStatuses[1 args]\n2022-01-07 12:34:49.848 TRACE 119557 --- [boundChannel-19] o.s.messaging.handler.HandlerMethod      : Arguments: [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=makarek@pia.cz, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]\n2022-01-07 12:34:49.850 DEBUG 119557 --- [boundChannel-19] org.hibernate.SQL                        : SELECT au.login as login, au.name as name FROM auth_user au INNER JOIN user_relationship ur on au.id IN (ur.id_sender, ur.id_receiver) AND (SELECT id from auth_user WHERE login = ?) IN (ur.id_sender, ur.id_receiver) AND au.login != ? INNER JOIN relationship_status rs ON rs.id = ur.id_status WHERE rs.name = 'FRIENDS' AND au.login IN (?, ?)\n2022-01-07 12:34:50.527 TRACE 119557 --- [boundChannel-19] o.s.m.s.u.UserDestinationMessageHandler  : Translated /user/admin@admin.com/queue/friend-status -&gt; [/queue/friend-status-user6b803ac4-14c3-e393-27c4-4e1325d49c78]\n2022-01-07 12:34:50.693 DEBUG 119557 --- [boundChannel-19] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/queue/friend-status-user6b803ac4-14c3-e393-27c4-4e1325d49c78 session=null payload=[{&quot;username&quot;:&quot;makarek@pia.cz&quot;,&quot;name&quot;:&quot;Makarek&quot;,&quot;status&quot;:&quot;ONLINE&quot;}]\n2022-01-07 12:34:50.876 TRACE 119557 --- [boundChannel-19] HandlerMethodReturnValueHandlerComposite : Processing return value with org.springframework.messaging.simp.annotation.support.SubscriptionMethodReturnValueHandler@5ffec4d5\n2022-01-07 12:34:50.876 DEBUG 119557 --- [boundChannel-19] a.s.SubscriptionMethodReturnValueHandler : Reply to @SubscribeMapping: [FriendStatusChangedMessage[username=admin@admin.com, name=Admin, status=ONLINE]]\n2022-01-07 12:34:50.877 TRACE 119557 --- [tboundChannel-7] o.s.messaging.simp.stomp.StompEncoder    : Encoding STOMP MESSAGE, headers={destination=[/messaging/user/queue/friend-status], content-type=[application/json], subscription=[sub-0], message-id=[548bf16b-647c-389f-d81a-522a86f77812-2]}\n\n</code></pre>\n<p>It is visible in the log, that response is returned and even the <code>MESSAGE</code> type message is parsed and sent onto right url. But on client side the message never arrives.</p>\n<p>I've visited many questions about similar problem, where many people suggested solutions but nothing has helped so far. (<a href=\"https://stackoverflow.com/questions/51492686/spring-boot-websocket-doesnt-send-notification-to-the-specified-user\">Spring boot, WebSocket doesn&#39;t send notification to the specified user</a>, <a href=\"https://stackoverflow.com/questions/29085791/does-spring-subscribemapping-really-subscribe-the-client-to-some-topic\">Does Spring @SubscribeMapping really subscribe the client to some topic?</a>, <a href=\"https://stackoverflow.com/questions/22367223/sending-message-to-specific-user-on-spring-websocket\">Sending message to specific user on Spring Websocket</a>)</p>\n"},{"tags":["java","android","openstreetmap","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":23708927,"reputation":16,"user_id":17731058,"display_name":"AppDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641555802,"creation_date":1641555802,"answer_id":70620740,"question_id":61349057,"body_markdown":"As mentioned in the [wiki docs on osmdroid&#39;s GitHub page][1], you can use more than one tile source at a time.\r\n\r\nYou can only set one `setTileSource`, so for your code to work you need to set the map as the tile source and add the weather tile layer as an overlay over it.\r\n\r\n         map = (MapView) findViewById(R.id.map);\r\n         map.getTileProvider().getTileCache().getProtectedTileComputers().clear();\r\n         map.getTileProvider().getTileCache().setAutoEnsureCapacity(false);\r\n         map.setTileSource(TileSourceFactory.MAPNIK);\r\n\r\n         MapTileProviderBasic provider = new MapTileProviderBasic(MainActivity.this, new OnlineTileSourceBase(&quot;USGS Topo&quot;, 0, 18, 256, &quot;png?apikey=123&quot;, new String[0]) {\r\n\t\t\t@Override\r\n\t\t\tpublic String getTileURLString(MapTile aTile) {\r\n\t\t\t\t// BoundingBox bbox = tile2boundingBox(aTile.getX(), aTile.getY(), aTile.getZoomLevel());\r\n\t\t\t\t// String baseUrl =&quot;https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/?dpi=96&amp;transparent=true&amp;format=png24&amp;bbox=&quot;+bbox.west+&quot;,&quot;+bbox.south+&quot;,&quot;+bbox.east+&quot;,&quot;+bbox.north+&quot;&amp;size=256,256&amp;f=image&quot;;\r\n                return &quot;https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/&quot; + aTile.getZoomLevel() + &quot;/&quot; + aTile.getY() + &quot;/&quot; + aTile.getX();\r\n\t\t\t\t// return baseUrl;\r\n\t\t\t}\r\n\t\t});\r\n\r\n        TilesOverlay layer = new TilesOverlay(provider, MainActivity.this);\r\n        layer.setLoadingBackgroundColor(Color.TRANSPARENT);\r\n\t\tlayer.setLoadingLineColor(Color.TRANSPARENT);\r\n        map.getOverlays().add(layer);\r\n\r\n        map.setVerticalMapRepetitionEnabled(false);\r\n\r\nIf you are using osmndroid-wms then too you can use a map layer and an overlay layer on it by changing the following line\r\n\r\n      MapTileProviderBasic provider = new MapTileProviderBasic(MainActivity.this, mWMSTileSource)\r\n\r\nover here `mWMSTileSource` will be the response you get from `WMSTileSource.createFrom(WMSEndpoint endpoint, WMSLayer layer)` after you have made a [call to the WMS server as mentioned in the wiki][2].\r\n\r\n\r\n  [1]: https://github.com/osmdroid/osmdroid/wiki/Map-Sources#can-i-use-more-than-one-tile-source-at-a-time\r\n  [2]: https://github.com/osmdroid/osmdroid/wiki/WMS-Support","title":"OSMDroid - how to set two tile source?","body":"<p>As mentioned in the <a href=\"https://github.com/osmdroid/osmdroid/wiki/Map-Sources#can-i-use-more-than-one-tile-source-at-a-time\" rel=\"nofollow noreferrer\">wiki docs on osmdroid's GitHub page</a>, you can use more than one tile source at a time.</p>\n<p>You can only set one <code>setTileSource</code>, so for your code to work you need to set the map as the tile source and add the weather tile layer as an overlay over it.</p>\n<pre><code>     map = (MapView) findViewById(R.id.map);\n     map.getTileProvider().getTileCache().getProtectedTileComputers().clear();\n     map.getTileProvider().getTileCache().setAutoEnsureCapacity(false);\n     map.setTileSource(TileSourceFactory.MAPNIK);\n\n     MapTileProviderBasic provider = new MapTileProviderBasic(MainActivity.this, new OnlineTileSourceBase(&quot;USGS Topo&quot;, 0, 18, 256, &quot;png?apikey=123&quot;, new String[0]) {\n        @Override\n        public String getTileURLString(MapTile aTile) {\n            // BoundingBox bbox = tile2boundingBox(aTile.getX(), aTile.getY(), aTile.getZoomLevel());\n            // String baseUrl =&quot;https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/?dpi=96&amp;transparent=true&amp;format=png24&amp;bbox=&quot;+bbox.west+&quot;,&quot;+bbox.south+&quot;,&quot;+bbox.east+&quot;,&quot;+bbox.north+&quot;&amp;size=256,256&amp;f=image&quot;;\n            return &quot;https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/&quot; + aTile.getZoomLevel() + &quot;/&quot; + aTile.getY() + &quot;/&quot; + aTile.getX();\n            // return baseUrl;\n        }\n    });\n\n    TilesOverlay layer = new TilesOverlay(provider, MainActivity.this);\n    layer.setLoadingBackgroundColor(Color.TRANSPARENT);\n    layer.setLoadingLineColor(Color.TRANSPARENT);\n    map.getOverlays().add(layer);\n\n    map.setVerticalMapRepetitionEnabled(false);\n</code></pre>\n<p>If you are using osmndroid-wms then too you can use a map layer and an overlay layer on it by changing the following line</p>\n<pre><code>  MapTileProviderBasic provider = new MapTileProviderBasic(MainActivity.this, mWMSTileSource)\n</code></pre>\n<p>over here <code>mWMSTileSource</code> will be the response you get from <code>WMSTileSource.createFrom(WMSEndpoint endpoint, WMSLayer layer)</code> after you have made a <a href=\"https://github.com/osmdroid/osmdroid/wiki/WMS-Support\" rel=\"nofollow noreferrer\">call to the WMS server as mentioned in the wiki</a>.</p>\n"}],"owner":{"account_id":10697077,"reputation":1555,"user_id":7873768,"display_name":"MDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641555802,"creation_date":1587488691,"question_id":61349057,"body_markdown":"I trying to implement OSM using osmdroid, so far i am able to do everything correctly. But i would like to know how i can set two tile sources on top of each other.\r\n\r\nBelow is how i am trying to implement :\r\n \r\n\r\n    map = (MapView) findViewById(R.id.map);\r\n            map.getTileProvider().getTileCache().getProtectedTileComputers().clear();\r\n            map.getTileProvider().getTileCache().setAutoEnsureCapacity(false);\r\n            map.setTileSource(TileSourceFactory.MAPNIK);\r\n    \r\n            map.setTileSource(new OnlineTileSourceBase(&quot;USGS Topo&quot;, 0, 18, 256, &quot;.png?apikey=123&quot;,\r\n                    new String[] { &quot;https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/&quot; }) {\r\n                @Override\r\n                public String getTileURLString(long pMapTileIndex) {\r\n                    return getBaseUrl()\r\n                            + MapTileIndex.getZoom(pMapTileIndex)\r\n                            + &quot;/&quot; + MapTileIndex.getY(pMapTileIndex)\r\n                            + &quot;/&quot; + MapTileIndex.getX(pMapTileIndex)\r\n                            + mImageFilenameEnding;\r\n                }\r\n            });\r\n            map.setVerticalMapRepetitionEnabled(false);\r\n\r\nSo far i am getting below output but there is no mapnik source under the satellite tile source.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut i need the output to look like this \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow do i achieve this ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i5frK.jpg\r\n  [2]: https://i.stack.imgur.com/3wNRf.png","title":"OSMDroid - how to set two tile source?","body":"<p>I trying to implement OSM using osmdroid, so far i am able to do everything correctly. But i would like to know how i can set two tile sources on top of each other.</p>\n\n<p>Below is how i am trying to implement :</p>\n\n<pre><code>map = (MapView) findViewById(R.id.map);\n        map.getTileProvider().getTileCache().getProtectedTileComputers().clear();\n        map.getTileProvider().getTileCache().setAutoEnsureCapacity(false);\n        map.setTileSource(TileSourceFactory.MAPNIK);\n\n        map.setTileSource(new OnlineTileSourceBase(\"USGS Topo\", 0, 18, 256, \".png?apikey=123\",\n                new String[] { \"https://api.xyz.com/maps/satellite/zxy/2020-04-21T16:10:00Z/\" }) {\n            @Override\n            public String getTileURLString(long pMapTileIndex) {\n                return getBaseUrl()\n                        + MapTileIndex.getZoom(pMapTileIndex)\n                        + \"/\" + MapTileIndex.getY(pMapTileIndex)\n                        + \"/\" + MapTileIndex.getX(pMapTileIndex)\n                        + mImageFilenameEnding;\n            }\n        });\n        map.setVerticalMapRepetitionEnabled(false);\n</code></pre>\n\n<p>So far i am getting below output but there is no mapnik source under the satellite tile source.</p>\n\n<p><a href=\"https://i.stack.imgur.com/i5frK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5frK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>but i need the output to look like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/3wNRf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wNRf.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do i achieve this ?</p>\n"},{"tags":["java","android","json","retrofit"],"comments":[{"owner":{"account_id":6679162,"reputation":2901,"user_id":5152910,"display_name":"insa_c"},"score":1,"creation_date":1517423673,"post_id":48548972,"comment_id":84094234,"body_markdown":"second options returns that text because you are trying to print out an object for which the system does not know how to use the `toString()` method. So for non-primitive objects if you want to use `toString()` you need to override `toString()` method in the object class, in your case in `Login` class. \n\nFor the first approach you need to share the new `APIResponse().getResponse2()` function code as well. Probably there is an issue with that","body":"second options returns that text because you are trying to print out an object for which the system does not know how to use the <code>toString()</code> method. So for non-primitive objects if you want to use <code>toString()</code> you need to override <code>toString()</code> method in the object class, in your case in <code>Login</code> class.   For the first approach you need to share the new <code>APIResponse().getResponse2()</code> function code as well. Probably there is an issue with that"},{"owner":{"account_id":10627600,"reputation":1020,"user_id":7826803,"accept_rate":80,"display_name":"Vishal Yadav"},"score":0,"creation_date":1517423892,"post_id":48548972,"comment_id":84094349,"body_markdown":"`JSONObject object=new JSONObject(new Gson().toJson(response.body()));\n                Log.e(&quot;TAG&quot;, &quot;onResponse: &quot;+object );` to read the response","body":"<code>JSONObject object=new JSONObject(new Gson().toJson(response.body()));                 Log.e(&quot;TAG&quot;, &quot;onResponse: &quot;+object );</code> to read the response"},{"owner":{"account_id":12850520,"reputation":13,"user_id":9295567,"display_name":"Data k"},"score":0,"creation_date":1517424136,"post_id":48548972,"comment_id":84094499,"body_markdown":"@insa_c apologize I missed to add getResponse2(). Now I have edited question, please check.","body":"@insa_c apologize I missed to add getResponse2(). Now I have edited question, please check."},{"owner":{"account_id":12850520,"reputation":13,"user_id":9295567,"display_name":"Data k"},"score":0,"creation_date":1517424605,"post_id":48548972,"comment_id":84094746,"body_markdown":"@VishalYadav I have tried your solution. Still getting empty response. \n\nLogcat Result:\nonResponse: {}","body":"@VishalYadav I have tried your solution. Still getting empty response.   Logcat Result: onResponse: {}"},{"owner":{"account_id":10627600,"reputation":1020,"user_id":7826803,"accept_rate":80,"display_name":"Vishal Yadav"},"score":0,"creation_date":1517452110,"post_id":48548972,"comment_id":84105279,"body_markdown":"Try to debug you LOC","body":"Try to debug you LOC"},{"owner":{"account_id":10627600,"reputation":1020,"user_id":7826803,"accept_rate":80,"display_name":"Vishal Yadav"},"score":0,"creation_date":1517460891,"post_id":48548972,"comment_id":84107260,"body_markdown":"what was inside your login class `Login` post the response","body":"what was inside your login class <code>Login</code> post the response"},{"owner":{"account_id":12850520,"reputation":13,"user_id":9295567,"display_name":"Data k"},"score":0,"creation_date":1517472075,"post_id":48548972,"comment_id":84111490,"body_markdown":"@VishalYadav Response is already posted at top of Question.\nLogin class has String email_address, String password.\nBut response from API has attributes type, statusCode, statusMessage &amp; resource_Id. To handle API response I have class LoginResponseMessage which has fields: type, statusCode, statusMessage &amp; resource_Id.","body":"@VishalYadav Response is already posted at top of Question. Login class has String email_address, String password. But response from API has attributes type, statusCode, statusMessage &amp; resource_Id. To handle API response I have class LoginResponseMessage which has fields: type, statusCode, statusMessage &amp; resource_Id."}],"answers":[{"tags":[],"owner":{"account_id":3742344,"reputation":4049,"user_id":3111877,"accept_rate":50,"display_name":"D_Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517477200,"creation_date":1517424250,"answer_id":48549342,"question_id":48548972,"body_markdown":"In your **Second approach** you are printing the `instance of Login class`. it&#39;s not an error or issue. If you want to see the response then override the **toString()** method inside your **Login** class or you can also check the properties inside your **Login** class one by one.\r\n\r\n**Edit-**\r\nAs I understand you are using Login(for request) class here instead of a Response(to get the response) class. So use your Login class to send a request and LoginResponse class to get the login response.\r\n\r\nMake a separate class name **LoginResponse** and use it instead of **Login** in your network call.\r\n\r\n**LoginResponse.java**\r\n\r\n    public class LoginResponse\r\n    {\r\n       private String statusCode;\r\n\r\n       private String resource_id;\r\n\r\n       private String type;\r\n\r\n        private String statusMessage;\r\n        // getter and setters.\r\n        .\r\n        .\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;LoginResponse [statusCode = &quot;+statusCode+&quot;, resource_id = &quot;+resource_id+&quot;, type = &quot;+type+&quot;, statusMessage = &quot;+statusMessage+&quot;]&quot;;\r\n        }\r\n    }\r\n\r\n**Now do it like-**\r\n\r\n    @Override\r\n     public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\r\n         Toast.makeText(context, LoginResponse.toString(), Toast.LENGTH_LONG).show();\r\n     }\r\n\r\n**Or**\r\n\r\n    @Override\r\n     public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\r\n         LoginResponse loginResponse = response.body();\r\n         Toast.makeText(context, loginResponse.getStatusMessage (), Toast.LENGTH_LONG).show();\r\n         Toast.makeText(context, loginResponse.getType (), Toast.LENGTH_LONG).show();\r\n     }\r\n    \r\n\r\n   \r\n\r\n","title":"How to Read response if &quot;response.isSuccessful()&quot; is true in Retrofit","body":"<p>In your <strong>Second approach</strong> you are printing the <code>instance of Login class</code>. it's not an error or issue. If you want to see the response then override the <strong>toString()</strong> method inside your <strong>Login</strong> class or you can also check the properties inside your <strong>Login</strong> class one by one.</p>\n\n<p><strong>Edit-</strong>\nAs I understand you are using Login(for request) class here instead of a Response(to get the response) class. So use your Login class to send a request and LoginResponse class to get the login response.</p>\n\n<p>Make a separate class name <strong>LoginResponse</strong> and use it instead of <strong>Login</strong> in your network call.</p>\n\n<p><strong>LoginResponse.java</strong></p>\n\n<pre><code>public class LoginResponse\n{\n   private String statusCode;\n\n   private String resource_id;\n\n   private String type;\n\n    private String statusMessage;\n    // getter and setters.\n    .\n    .\n    @Override\n    public String toString()\n    {\n        return \"LoginResponse [statusCode = \"+statusCode+\", resource_id = \"+resource_id+\", type = \"+type+\", statusMessage = \"+statusMessage+\"]\";\n    }\n}\n</code></pre>\n\n<p><strong>Now do it like-</strong></p>\n\n<pre><code>@Override\n public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\n     Toast.makeText(context, LoginResponse.toString(), Toast.LENGTH_LONG).show();\n }\n</code></pre>\n\n<p><strong>Or</strong></p>\n\n<pre><code>@Override\n public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\n     LoginResponse loginResponse = response.body();\n     Toast.makeText(context, loginResponse.getStatusMessage (), Toast.LENGTH_LONG).show();\n     Toast.makeText(context, loginResponse.getType (), Toast.LENGTH_LONG).show();\n }\n</code></pre>\n"}],"owner":{"account_id":12850520,"reputation":13,"user_id":9295567,"display_name":"Data k"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48549342,"answer_count":1,"score":0,"last_activity_date":1641555558,"creation_date":1517422879,"question_id":48548972,"body_markdown":"JSON Response from API:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;loginResponseMessage&quot;,\r\n        &quot;statusCode&quot;: 200,\r\n        &quot;statusMessage&quot;: &quot;Login Successful&quot;,\r\n        &quot;resource_id&quot;: 3\r\n    }\r\n\r\nI want to read JSON response. When &#39;if(response.isSuccessful())&#39; is executing I am getting null pointer exception. In case of execution of &#39;else&#39; block I am getting correct response. Following is the code:\r\n\r\n    @Override\r\n                public void onResponse(Call&lt;Login&gt; call, Response&lt;Login&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    LoginResponseMessage loginResponseMessage;\r\n\r\n                    loginResponseMessage = new APIResponse().getResponse2(retrofit,response);\r\n\r\n                    String toastMessage = &quot;StatusMessage: &quot;+loginResponseMessage.getStatusMessage()\r\n                            +&quot;Status Code: &quot;+loginResponseMessage.getStatusCode()\r\n                            +&quot;ResourceId: &quot;+loginResponseMessage.getResource_id();\r\n                    Toast.makeText(LoginActivity.this,toastMessage, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n\r\n                    switch(response.code()){\r\n                        case 401:\r\n                            LoginResponseMessage loginResponseMessage;\r\n\r\n                            loginResponseMessage = new APIResponse().getResponse2(retrofit,response);\r\n\r\n                            String toastMessage = &quot;StatusMessage: &quot;+loginResponseMessage.getStatusMessage()\r\n                                    +&quot;Status Code: &quot;+loginResponseMessage.getStatusCode()\r\n                                    +&quot;ResourceId: &quot;+loginResponseMessage.getResource_id();\r\n                            Toast.makeText(LoginActivity.this,toastMessage, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n\r\nClass APIResponse:\r\n\r\n    public class APIResponse {\r\n        private String statusMessage;\r\n    \r\n        public LoginResponseMessage getResponse2(Retrofit retrofit, Response response){         //This will only be called in LoginActivity\r\n            LoginResponseMessage responseMessage = new LoginResponseMessage();\r\n    \r\n            Converter&lt;ResponseBody, LoginResponseMessage&gt; converter\r\n                    = retrofit.responseBodyConverter(LoginResponseMessage.class, new Annotation[0]);\r\n            try {\r\n                responseMessage = converter.convert(response.errorBody());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return responseMessage;\r\n        }\r\n    }\r\n\r\nSame logic is applied in &#39;if&#39; &amp; &#39;else&#39; block. But getting null pointer exception in &#39;if (response.isSuccessful())&#39; block\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.Reader okhttp3.ResponseBody.charStream()&#39; on a null object reference\r\n                                                                          at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:35)\r\n                                                                          at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:25)\r\n                                                                          at pk.qareeb.qareeb.LoginActivity$5.onResponse(LoginActivity.java:206)\r\n                                                                          at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:70)\r\n                                                                          at android.os.Handler.handleCallback(Handler.java:761)\r\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:98)\r\n                                                                          at android.os.Looper.loop(Looper.java:156)\r\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:6523)\r\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:941)\r\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:831)\r\n    t\r\n\r\n**2nd Approach:**\r\nI have also tried following code.\r\n\r\n    @Override\r\n         public void onResponse(Call&lt;Login&gt; call, Response&lt;Login&gt; response) {\r\n             Toast.makeText(LoginActivity.this,response.body().toString(),Toast.LENGTH_LONG).show();\r\n    }\r\nBy adding 2nd approach code, instead of toasting JSON response, it is toasting &quot;com.qareeb.qareeb.modal.Login@119c611&quot;. Why ?\r\n","title":"How to Read response if &quot;response.isSuccessful()&quot; is true in Retrofit","body":"<p>JSON Response from API:</p>\n\n<pre><code>{\n    \"type\": \"loginResponseMessage\",\n    \"statusCode\": 200,\n    \"statusMessage\": \"Login Successful\",\n    \"resource_id\": 3\n}\n</code></pre>\n\n<p>I want to read JSON response. When 'if(response.isSuccessful())' is executing I am getting null pointer exception. In case of execution of 'else' block I am getting correct response. Following is the code:</p>\n\n<pre><code>@Override\n            public void onResponse(Call&lt;Login&gt; call, Response&lt;Login&gt; response) {\n            if (response.isSuccessful()) {\n                LoginResponseMessage loginResponseMessage;\n\n                loginResponseMessage = new APIResponse().getResponse2(retrofit,response);\n\n                String toastMessage = \"StatusMessage: \"+loginResponseMessage.getStatusMessage()\n                        +\"Status Code: \"+loginResponseMessage.getStatusCode()\n                        +\"ResourceId: \"+loginResponseMessage.getResource_id();\n                Toast.makeText(LoginActivity.this,toastMessage, Toast.LENGTH_SHORT).show();\n            } else {\n\n                switch(response.code()){\n                    case 401:\n                        LoginResponseMessage loginResponseMessage;\n\n                        loginResponseMessage = new APIResponse().getResponse2(retrofit,response);\n\n                        String toastMessage = \"StatusMessage: \"+loginResponseMessage.getStatusMessage()\n                                +\"Status Code: \"+loginResponseMessage.getStatusCode()\n                                +\"ResourceId: \"+loginResponseMessage.getResource_id();\n                        Toast.makeText(LoginActivity.this,toastMessage, Toast.LENGTH_SHORT).show();\n                        break;\n                }\n            }\n        }\n</code></pre>\n\n<p>Class APIResponse:</p>\n\n<pre><code>public class APIResponse {\n    private String statusMessage;\n\n    public LoginResponseMessage getResponse2(Retrofit retrofit, Response response){         //This will only be called in LoginActivity\n        LoginResponseMessage responseMessage = new LoginResponseMessage();\n\n        Converter&lt;ResponseBody, LoginResponseMessage&gt; converter\n                = retrofit.responseBodyConverter(LoginResponseMessage.class, new Annotation[0]);\n        try {\n            responseMessage = converter.convert(response.errorBody());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return responseMessage;\n    }\n}\n</code></pre>\n\n<p>Same logic is applied in 'if' &amp; 'else' block. But getting null pointer exception in 'if (response.isSuccessful())' block</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.Reader okhttp3.ResponseBody.charStream()' on a null object reference\n                                                                      at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:35)\n                                                                      at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:25)\n                                                                      at pk.qareeb.qareeb.LoginActivity$5.onResponse(LoginActivity.java:206)\n                                                                      at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:70)\n                                                                      at android.os.Handler.handleCallback(Handler.java:761)\n                                                                      at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                      at android.os.Looper.loop(Looper.java:156)\n                                                                      at android.app.ActivityThread.main(ActivityThread.java:6523)\n                                                                      at java.lang.reflect.Method.invoke(Native Method)\n                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:941)\n                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:831)\nt\n</code></pre>\n\n<p><strong>2nd Approach:</strong>\nI have also tried following code.</p>\n\n<pre><code>@Override\n     public void onResponse(Call&lt;Login&gt; call, Response&lt;Login&gt; response) {\n         Toast.makeText(LoginActivity.this,response.body().toString(),Toast.LENGTH_LONG).show();\n}\n</code></pre>\n\n<p>By adding 2nd approach code, instead of toasting JSON response, it is toasting \"com.qareeb.qareeb.modal.Login@119c611\". Why ?</p>\n"},{"tags":["java","concurrency","executorservice"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641545646,"post_id":70611985,"comment_id":124836599,"body_markdown":"You should not omit relevant parts of your code. Since `println` can‚Äôt throw an `InterruptedException`, the exception has been caused by the very code within the inner `try { }` block you have omitted, at least when the posted `catch` clause caught it. There seems to be another `catch` clause, as you also have a second `try`, but you forgot to post it‚Ä¶","body":"You should not omit relevant parts of your code. Since <code>println</code> can‚Äôt throw an <code>InterruptedException</code>, the exception has been caused by the very code within the inner <code>try { }</code> block you have omitted, at least when the posted <code>catch</code> clause caught it. There seems to be another <code>catch</code> clause, as you also have a second <code>try</code>, but you forgot to post it‚Ä¶"},{"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"score":0,"creation_date":1641553355,"post_id":70611985,"comment_id":124839206,"body_markdown":"Yes, there is an internal catch, but where the exception is thrown is the same catch block that I wrote here.","body":"Yes, there is an internal catch, but where the exception is thrown is the same catch block that I wrote here."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641554226,"post_id":70611985,"comment_id":124839476,"body_markdown":"It‚Äôs impossible for the code you‚Äôve posted that an exception thrown before the `try` is caught by the posted exception handler. That was the point of my comment. Either, the exception has been thrown by a statement you didn‚Äôt include or the exception has been caught by a `catch` clause you didn‚Äôt include. Or your overall code structure is totally different to what you‚Äôve posted. In either case, what you‚Äôve posted is not helpful for analyzing your problem.","body":"It‚Äôs impossible for the code you‚Äôve posted that an exception thrown before the <code>try</code> is caught by the posted exception handler. That was the point of my comment. Either, the exception has been thrown by a statement you didn‚Äôt include or the exception has been caught by a <code>catch</code> clause you didn‚Äôt include. Or your overall code structure is totally different to what you‚Äôve posted. In either case, what you‚Äôve posted is not helpful for analyzing your problem."},{"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"score":0,"creation_date":1641555279,"post_id":70611985,"comment_id":124839824,"body_markdown":"I put the full code,(MyProducer class).","body":"I put the full code,(MyProducer class)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641555787,"post_id":70611985,"comment_id":124839994,"body_markdown":"I think, you‚Äôve been misguided by the console output due to buffered I/O of two channels (`System.out` and `System.err`). `tryLock` never returned `false`. The remaining output doesn‚Äôt fit to your assumption. Replace `e.printStackTrace();` with `e.printStackTrace(System.out);` so it will be serialized with the other output.","body":"I think, you‚Äôve been misguided by the console output due to buffered I/O of two channels (<code>System.out</code> and <code>System.err</code>). <code>tryLock</code> never returned <code>false</code>. The remaining output doesn‚Äôt fit to your assumption. Replace <code>e.printStackTrace();</code> with <code>e.printStackTrace(System.out);</code> so it will be serialized with the other output."},{"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"score":0,"creation_date":1641556773,"post_id":70611985,"comment_id":124840345,"body_markdown":"this is the result:  https://pasteboard.co/IaQev1S1kDzb.png.     I think shutDownNow is causing the problem","body":"this is the result:  <a href=\"https://pasteboard.co/IaQev1S1kDzb.png\" rel=\"nofollow noreferrer\">pasteboard.co/IaQev1S1kDzb.png</a>.     I think shutDownNow is causing the problem"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641557317,"post_id":70611985,"comment_id":124840536,"body_markdown":"What problem? The behavior is exactly like expected. You‚Äôre calling `shutDownNow` which interrupts the job, the job‚Äôs first call to `tryLock` responds to the interrupt by throwing `InterruptedException`, skipping the entire `if` statement, you catch the `InterruptedException` and proceed with the second item.","body":"What problem? The behavior is exactly like expected. You‚Äôre calling <code>shutDownNow</code> which interrupts the job, the job‚Äôs first call to <code>tryLock</code> responds to the interrupt by throwing <code>InterruptedException</code>, skipping the entire <code>if</code> statement, you catch the <code>InterruptedException</code> and proceed with the second item."},{"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"score":0,"creation_date":1641557526,"post_id":70611985,"comment_id":124840613,"body_markdown":"I got it, thank you","body":"I got it, thank you"}],"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641555130,"creation_date":1641494171,"question_id":70611985,"body_markdown":"In the following code, I wrote producer-consumer with executor but I do not understand why when I call **shutDownNow()** the **System.out.println(item)** statement is executed twice. in fact, tryLock () returns the wrong value first, and then for the second time the item is printed and then it acquires the lock, and then the interrupt occurs.\r\n\r\n     public class Main {\r\n        public static void main(String[] args) {\r\n            Deque&lt;String&gt; queue = new ArrayDeque&lt;&gt;();\r\n            ReentrantLock bufferLock = new ReentrantLock();\r\n            Condition fullBuffer = bufferLock.newCondition();\r\n    \r\n            MyProducer p = new MyProducer(queue, ThreadColor.ANSI_YELLOW, bufferLock, fullBuffer);\r\n            MyConsumer c1 = new MyConsumer(queue, ThreadColor.ANSI_BLUE, bufferLock, fullBuffer);\r\n            MyConsumer c2 = new MyConsumer(queue, ThreadColor.ANSI_BLUE, bufferLock, fullBuffer);\r\n    \r\n            ExecutorService executorService = Executors.newFixedThreadPool(3);\r\n            executorService.execute(p);\r\n            executorService.shutdownNow();\r\n            try {\r\n                executorService.execute(c1);\r\n                executorService.execute(c2);\r\n            } catch (RejectedExecutionException e) {\r\n                System.out.println(&quot;no new task has not accepted&quot;);\r\n            }\r\n         }\r\n    }\r\n\r\npart of producer code:\r\n  \r\n\r\n    public class MyProducer implements Runnable {\r\n    private final Deque&lt;String&gt; buffer;\r\n    private final String color;\r\n    private final ReentrantLock bufferLock;\r\n    private final Condition fullBuffer;\r\n\r\n    public MyProducer(Deque&lt;String&gt; buffer, String color, ReentrantLock bufferLock, Condition fullBuffer) {\r\n        this.buffer = buffer;\r\n        this.color = color;\r\n        this.bufferLock = bufferLock;\r\n        this.fullBuffer = fullBuffer;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        String[] items = {&quot;apple&quot;, &quot;ball&quot;, &quot;laptop&quot;, &quot;mouse&quot;, &quot;cup&quot;, &quot;pc&quot;, &quot;pencil&quot;, &quot;pen&quot;};\r\n        long start = System.currentTimeMillis();\r\n        for (String item : items) {\r\n            System.out.println(item);\r\n            try {\r\n                if (bufferLock.tryLock(1, TimeUnit.SECONDS)) {\r\n                    try {\r\n                        while (items.length == buffer.size()) {\r\n                            try {\r\n                                fullBuffer.await();\r\n                            } catch (InterruptedException e) {\r\n                                System.out.println(color + &quot;Producer was interrupted&quot;);\r\n                            }\r\n                        }\r\n\r\n                        System.out.println(color + &quot;Adding:&quot; + item);\r\n                        try {\r\n                            Thread.sleep(250);\r\n                        } catch (InterruptedException e) {\r\n                            System.out.println(color + &quot;failed to add&quot;);\r\n                        }\r\n                        buffer.add(item);\r\n                        fullBuffer.signalAll();\r\n                    } finally {\r\n                        bufferLock.unlock();\r\n                    }\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        bufferLock.lock();\r\n        try {\r\n            buffer.add(&quot;EOF&quot;);\r\n        } finally {\r\n            bufferLock.unlock();\r\n        }\r\n        System.out.println(Thread.currentThread().getName() + &quot;:&quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n    }\r\n}\r\n[output image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LcWNx.png","title":"shutdownNow method in ExecutorService","body":"<p>In the following code, I wrote producer-consumer with executor but I do not understand why when I call <strong>shutDownNow()</strong> the <strong>System.out.println(item)</strong> statement is executed twice. in fact, tryLock () returns the wrong value first, and then for the second time the item is printed and then it acquires the lock, and then the interrupt occurs.</p>\n<pre><code> public class Main {\n    public static void main(String[] args) {\n        Deque&lt;String&gt; queue = new ArrayDeque&lt;&gt;();\n        ReentrantLock bufferLock = new ReentrantLock();\n        Condition fullBuffer = bufferLock.newCondition();\n\n        MyProducer p = new MyProducer(queue, ThreadColor.ANSI_YELLOW, bufferLock, fullBuffer);\n        MyConsumer c1 = new MyConsumer(queue, ThreadColor.ANSI_BLUE, bufferLock, fullBuffer);\n        MyConsumer c2 = new MyConsumer(queue, ThreadColor.ANSI_BLUE, bufferLock, fullBuffer);\n\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\n        executorService.execute(p);\n        executorService.shutdownNow();\n        try {\n            executorService.execute(c1);\n            executorService.execute(c2);\n        } catch (RejectedExecutionException e) {\n            System.out.println(&quot;no new task has not accepted&quot;);\n        }\n     }\n}\n</code></pre>\n<p>part of producer code:</p>\n<pre><code>public class MyProducer implements Runnable {\nprivate final Deque&lt;String&gt; buffer;\nprivate final String color;\nprivate final ReentrantLock bufferLock;\nprivate final Condition fullBuffer;\n\npublic MyProducer(Deque&lt;String&gt; buffer, String color, ReentrantLock bufferLock, Condition fullBuffer) {\n    this.buffer = buffer;\n    this.color = color;\n    this.bufferLock = bufferLock;\n    this.fullBuffer = fullBuffer;\n}\n\n@Override\npublic void run() {\n    String[] items = {&quot;apple&quot;, &quot;ball&quot;, &quot;laptop&quot;, &quot;mouse&quot;, &quot;cup&quot;, &quot;pc&quot;, &quot;pencil&quot;, &quot;pen&quot;};\n    long start = System.currentTimeMillis();\n    for (String item : items) {\n        System.out.println(item);\n        try {\n            if (bufferLock.tryLock(1, TimeUnit.SECONDS)) {\n                try {\n                    while (items.length == buffer.size()) {\n                        try {\n                            fullBuffer.await();\n                        } catch (InterruptedException e) {\n                            System.out.println(color + &quot;Producer was interrupted&quot;);\n                        }\n                    }\n\n                    System.out.println(color + &quot;Adding:&quot; + item);\n                    try {\n                        Thread.sleep(250);\n                    } catch (InterruptedException e) {\n                        System.out.println(color + &quot;failed to add&quot;);\n                    }\n                    buffer.add(item);\n                    fullBuffer.signalAll();\n                } finally {\n                    bufferLock.unlock();\n                }\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    bufferLock.lock();\n    try {\n        buffer.add(&quot;EOF&quot;);\n    } finally {\n        bufferLock.unlock();\n    }\n    System.out.println(Thread.currentThread().getName() + &quot;:&quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\n}\n</code></pre>\n<p>}\n<a href=\"https://i.stack.imgur.com/LcWNx.png\" rel=\"nofollow noreferrer\">output image</a></p>\n"},{"tags":["java","spring","database","testing","jdbc"],"comments":[{"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"score":0,"creation_date":1641551023,"post_id":70619445,"comment_id":124838450,"body_markdown":"Mock the connection pool and write two tests: The first one test&#39;s, that a connection is successfully returned, the second test&#39;s that a connection is not available.","body":"Mock the connection pool and write two tests: The first one test&#39;s, that a connection is successfully returned, the second test&#39;s that a connection is not available."}],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641550024,"creation_date":1641550024,"answer_id":70619586,"question_id":70619445,"body_markdown":" - Mockito or other alternative, so you have to throw exceptions manually\r\n - Use docker (testcontainers dependency) and you can stop it\r\n   - https://www.testcontainers.org/ (manual configuration)\r\n   - https://github.com/Playtika/testcontainers-spring-boot (it‚Äôs relatively automatic and may not be exactly what you need right now)","title":"How to simulate lost database connection locally?","body":"<ul>\n<li>Mockito or other alternative, so you have to throw exceptions manually</li>\n<li>Use docker (testcontainers dependency) and you can stop it\n<ul>\n<li><a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/</a> (manual configuration)</li>\n<li><a href=\"https://github.com/Playtika/testcontainers-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/Playtika/testcontainers-spring-boot</a> (it‚Äôs relatively automatic and may not be exactly what you need right now)</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641554596,"creation_date":1641554596,"answer_id":70620514,"question_id":70619445,"body_markdown":"Found an easy and seemingly good-enough solution:\r\n\r\nFirst I created a class whose `getConnection` method throws an exception in every second call:\r\n\r\n```\r\npublic class ShakyDataSource implements DataSource {\r\n\tprivate final DataSource ds;\r\n\tprivate AtomicLong getConnectionCallsCount = new AtomicLong(1);\r\n\t\r\n\tpublic ShakyDataSource(final DataSource ds) {\r\n\t\tthis.ds = ds;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Connection getConnection() throws SQLException {\r\n\t\tfinal long newGetConnectionCallCount = getConnectionCallsCount.incrementAndGet();\r\n\t\t\r\n\t\tif ((newGetConnectionCallCount % 2) == 0) {\r\n\t\t\tthrow new SQLException(&quot;Simulated connection failure&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn ds.getConnection();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// All other methods of DataSource call corresponding methods of ds\r\n}\r\n```\r\n\r\nThen I modified the configuration like this:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport javax.sql.DataSource;\r\n\r\n[...]\r\n\r\n@Configuration\r\n@EnableConfigurationProperties\r\npublic class DbConfigClass {\r\n\r\n\t[...]\r\n\r\n\t@Bean(name = &quot;myDataSource&quot;)\r\n\t@ConfigurationProperties(prefix = &quot;com.mycompany.somedatabase&quot;)\r\n\tpublic DataSource dsSomeDataSource() {\r\n\t\tif (SIMULATE_SHAKY_CONNECTION) {\r\n\t\t\tLOGGER.error(&quot;Don&#39;t do this in production!&quot;);\r\n\t\t\treturn new ShakyDataSource(DataSourceBuilder.create().build());\r\n\t\t}\r\n\t\treturn DataSourceBuilder.create().build();\r\n\t}\r\n\t\r\n\t[...]\r\n}\r\n```","title":"How to simulate lost database connection locally?","body":"<p>Found an easy and seemingly good-enough solution:</p>\n<p>First I created a class whose <code>getConnection</code> method throws an exception in every second call:</p>\n<pre><code>public class ShakyDataSource implements DataSource {\n    private final DataSource ds;\n    private AtomicLong getConnectionCallsCount = new AtomicLong(1);\n    \n    public ShakyDataSource(final DataSource ds) {\n        this.ds = ds;\n    }\n    \n    @Override\n    public Connection getConnection() throws SQLException {\n        final long newGetConnectionCallCount = getConnectionCallsCount.incrementAndGet();\n        \n        if ((newGetConnectionCallCount % 2) == 0) {\n            throw new SQLException(&quot;Simulated connection failure&quot;);\n        }\n        else {\n            return ds.getConnection();\n        }\n    }\n    \n    // All other methods of DataSource call corresponding methods of ds\n}\n</code></pre>\n<p>Then I modified the configuration like this:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport javax.sql.DataSource;\n\n[...]\n\n@Configuration\n@EnableConfigurationProperties\npublic class DbConfigClass {\n\n    [...]\n\n    @Bean(name = &quot;myDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;com.mycompany.somedatabase&quot;)\n    public DataSource dsSomeDataSource() {\n        if (SIMULATE_SHAKY_CONNECTION) {\n            LOGGER.error(&quot;Don't do this in production!&quot;);\n            return new ShakyDataSource(DataSourceBuilder.create().build());\n        }\n        return DataSourceBuilder.create().build();\n    }\n    \n    [...]\n}\n</code></pre>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70620514,"answer_count":2,"score":3,"last_activity_date":1641554596,"creation_date":1641549264,"question_id":70619445,"body_markdown":"There is a SpringBoot-based application running on a server which regularly inserts/updates records in a relational database.\r\n\r\nThe database connection is set up like this:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport javax.sql.DataSource;\r\n\r\n[...]\r\n\r\n@Configuration\r\n@EnableConfigurationProperties\r\npublic class DbConfigClass {\r\n\r\n\t[...]\r\n\r\n\t@Bean(name = &quot;myDataSource&quot;)\r\n\t@ConfigurationProperties(prefix = &quot;com.mycompany.somedatabase&quot;)\r\n\tpublic DataSource dsSomeDataSource() {\r\n\t\treturn DataSourceBuilder.create().build();\r\n\t}\r\n\t\r\n\t[...]\r\n}\r\n```\r\n\r\nSometimes the connection is interrupted in irregular, unpredictable intervals. Then, I get errors like this:\r\n\r\n```\r\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available,\r\nrequest timed out after 30001ms.\r\n\r\nat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:694)\r\n```\r\n\r\nI need to make sure that my application can deal with such interruptions. To do so, I need to be able to reproduce this behavior locally.\r\n\r\n**How can I do it?**\r\n\r\nI looked at [ToxyProxy](https://github.com/Shopify/toxiproxy) which seems to do what I want.\r\n\r\nHowever, I am wondering whether or not I can simulate such conditions with less effort, e. g. by using Mockito.spy to modify the data source so that it sometimes throws the exception above.","title":"How to simulate lost database connection locally?","body":"<p>There is a SpringBoot-based application running on a server which regularly inserts/updates records in a relational database.</p>\n<p>The database connection is set up like this:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport javax.sql.DataSource;\n\n[...]\n\n@Configuration\n@EnableConfigurationProperties\npublic class DbConfigClass {\n\n    [...]\n\n    @Bean(name = &quot;myDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;com.mycompany.somedatabase&quot;)\n    public DataSource dsSomeDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n    \n    [...]\n}\n</code></pre>\n<p>Sometimes the connection is interrupted in irregular, unpredictable intervals. Then, I get errors like this:</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available,\nrequest timed out after 30001ms.\n\nat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:694)\n</code></pre>\n<p>I need to make sure that my application can deal with such interruptions. To do so, I need to be able to reproduce this behavior locally.</p>\n<p><strong>How can I do it?</strong></p>\n<p>I looked at <a href=\"https://github.com/Shopify/toxiproxy\" rel=\"nofollow noreferrer\">ToxyProxy</a> which seems to do what I want.</p>\n<p>However, I am wondering whether or not I can simulate such conditions with less effort, e. g. by using Mockito.spy to modify the data source so that it sometimes throws the exception above.</p>\n"},{"tags":["java","c++","cryptography","digital-signature","secp256k1"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1641649405,"post_id":70620505,"comment_id":124862332,"body_markdown":"The Java code works (signature cross-checked with another tool). On the other hand, I can&#39;t believe that the `secp256k1_X()` methods in the C++ code don&#39;t work. Have you checked if `signature`, `public_key` and `hash` in the C++ code contain the correct data? Also, why is `signature3` 72 bytes when the signature is only 71 bytes (although this is probably not critical)?","body":"The Java code works (signature cross-checked with another tool). On the other hand, I can&#39;t believe that the <code>secp256k1_X()</code> methods in the C++ code don&#39;t work. Have you checked if <code>signature</code>, <code>public_key</code> and <code>hash</code> in the C++ code contain the correct data? Also, why is <code>signature3</code> 72 bytes when the signature is only 71 bytes (although this is probably not critical)?"},{"owner":{"account_id":17563859,"reputation":35,"user_id":12741187,"display_name":"Wolfiwolf"},"score":0,"creation_date":1641743035,"post_id":70620505,"comment_id":124880202,"body_markdown":"I have checked that the same private key generates the same public key in both java and c++. But when u sign in java and c++ the signatures are different.  There is probably some difference in the signature format. In c++ library i saw that it is in lower s form. The size of array is 72 because the length of signature varies from 70 - 72. I have basicly given up on making this thing work because the lack of time.  I am now signing in c++ in a seperate application.","body":"I have checked that the same private key generates the same public key in both java and c++. But when u sign in java and c++ the signatures are different.  There is probably some difference in the signature format. In c++ library i saw that it is in lower s form. The size of array is 72 because the length of signature varies from 70 - 72. I have basicly given up on making this thing work because the lack of time.  I am now signing in c++ in a seperate application."}],"owner":{"account_id":17563859,"reputation":35,"user_id":12741187,"display_name":"Wolfiwolf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641554548,"creation_date":1641554548,"question_id":70620505,"body_markdown":"I want to sign data in Java and then veify it in c++. When I sign the data in c++ with bitcoin-core/secp256k1 library and then verify it in c++ it works flawlessly. But when I sign it in Java and then transfer it to c++ it does not work anymore.\r\n```\r\n        secp256k1_context *ctx = secp256k1_context_create(SECP256K1_CONTEXT_SIGN | SECP256K1_CONTEXT_VERIFY);\r\n\r\n        secp256k1_pubkey pubkey;\r\n        secp256k1_ecdsa_signature sig;\r\n\r\n        signature_len = 71;\r\n        // I paste in the generated signature from java\r\n        const char* signature2 = &quot;3045022100C5C52074B7F86130D52FC6286D20E95D974D2A9457B8F39223FA571CA1419B5602203B5DA5922770EE472A2A6235B2FC07C1125763DC4C896A6561D4FD959FAA4C7D&quot;;\r\n        char signature3[72];\r\n        hex2bin(signature2, signature3);\r\n        memcpy(signature, signature3, signature_len);\r\n        \r\n        // I paste in the generated public key from java\r\n        const char* pub_key2 = &quot;0300F447B363996717EB807D950BC8C35C648F1AD27E98AD9E23487F4A4E7EEA2F&quot;;\r\n        char pub_key3[33];\r\n        hex2bin(pub_key2, pub_key3);\r\n        memcpy(public_key, pub_key3, 33);\r\n        \r\n        std::string data = Vendor::sha256(&quot;BANANA&quot;);\r\n        memcpy(hash, data.c_str(), 32);\r\n\r\n        if (secp256k1_ec_pubkey_parse(ctx, &amp;pubkey, public_key, 33) == 0) {\r\n            LOG_WNL(&quot;Error parsing public key!&quot;);\r\n        }\r\n\r\n        if (secp256k1_ecdsa_signature_parse_der(ctx, &amp;sig, signature, signature_len) == 0) {\r\n            LOG_WNL(&quot;Error parsing signature!&quot;);\r\n        }\r\n\r\n        int res = secp256k1_ecdsa_verify(ctx, &amp;sig, hash, &amp;pubkey);\r\n\r\n\r\n        return res == 1;\r\n```\r\nJava code:\r\n```\r\n            Signature dsa = Signature.getInstance(&quot;SHA256withECDSA&quot;);\r\n\r\n            dsa.initSign(privateKey);\r\n\r\n            String str = &quot;BANANA&quot;;\r\n\r\n            Signature ecdsaSign = Signature.getInstance(&quot;SHA256withECDSA&quot;);\r\n            ecdsaSign.initSign(privateKey);\r\n            ecdsaSign.update(str.getBytes(&quot;ASCII&quot;));\r\n\r\n            byte[] signature = ecdsaSign.sign();\r\n            String sig = getHex(signature);\r\n\r\n            return sig;\r\n```\r\n\r\nI would greatly appriciate an answer!","title":"Signing data in JAVA with secp256k1 and verifying in c++","body":"<p>I want to sign data in Java and then veify it in c++. When I sign the data in c++ with bitcoin-core/secp256k1 library and then verify it in c++ it works flawlessly. But when I sign it in Java and then transfer it to c++ it does not work anymore.</p>\n<pre><code>        secp256k1_context *ctx = secp256k1_context_create(SECP256K1_CONTEXT_SIGN | SECP256K1_CONTEXT_VERIFY);\n\n        secp256k1_pubkey pubkey;\n        secp256k1_ecdsa_signature sig;\n\n        signature_len = 71;\n        // I paste in the generated signature from java\n        const char* signature2 = &quot;3045022100C5C52074B7F86130D52FC6286D20E95D974D2A9457B8F39223FA571CA1419B5602203B5DA5922770EE472A2A6235B2FC07C1125763DC4C896A6561D4FD959FAA4C7D&quot;;\n        char signature3[72];\n        hex2bin(signature2, signature3);\n        memcpy(signature, signature3, signature_len);\n        \n        // I paste in the generated public key from java\n        const char* pub_key2 = &quot;0300F447B363996717EB807D950BC8C35C648F1AD27E98AD9E23487F4A4E7EEA2F&quot;;\n        char pub_key3[33];\n        hex2bin(pub_key2, pub_key3);\n        memcpy(public_key, pub_key3, 33);\n        \n        std::string data = Vendor::sha256(&quot;BANANA&quot;);\n        memcpy(hash, data.c_str(), 32);\n\n        if (secp256k1_ec_pubkey_parse(ctx, &amp;pubkey, public_key, 33) == 0) {\n            LOG_WNL(&quot;Error parsing public key!&quot;);\n        }\n\n        if (secp256k1_ecdsa_signature_parse_der(ctx, &amp;sig, signature, signature_len) == 0) {\n            LOG_WNL(&quot;Error parsing signature!&quot;);\n        }\n\n        int res = secp256k1_ecdsa_verify(ctx, &amp;sig, hash, &amp;pubkey);\n\n\n        return res == 1;\n</code></pre>\n<p>Java code:</p>\n<pre><code>            Signature dsa = Signature.getInstance(&quot;SHA256withECDSA&quot;);\n\n            dsa.initSign(privateKey);\n\n            String str = &quot;BANANA&quot;;\n\n            Signature ecdsaSign = Signature.getInstance(&quot;SHA256withECDSA&quot;);\n            ecdsaSign.initSign(privateKey);\n            ecdsaSign.update(str.getBytes(&quot;ASCII&quot;));\n\n            byte[] signature = ecdsaSign.sign();\n            String sig = getHex(signature);\n\n            return sig;\n</code></pre>\n<p>I would greatly appriciate an answer!</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"display_name":"user17835087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641537298,"creation_date":1641536296,"answer_id":70617286,"question_id":70617141,"body_markdown":"The solution may not be so good, but I decided to just add an if else to the function and here is the function before:\r\n\r\n    @Override\r\n            public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\r\n                List&lt;Driver&gt; drivers;\r\n                Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\r\n                CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n                CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\r\n                Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\r\n                int page = (request.getCurrentPage() - 1) * request.getPageSize();\r\n                int size = page + request.getPageSize();\r\n        \r\n                if(request.getSort().equals(&quot;carCount&quot;)){\r\n                    Query query;\r\n                    if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                        query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\r\n                                .setFirstResult(page)\r\n                                .setMaxResults(size);\r\n                    } else {\r\n                        query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\r\n                                .setFirstResult(page)\r\n                                .setMaxResults(size);\r\n                    }\r\n                    drivers = query.getResultList();\r\n                }else {\r\n                    try{\r\n                        if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                            criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\r\n                        } else {\r\n                            criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\r\n                        }\r\n                    }catch (Exception e){\r\n                        e.printStackTrace();;\r\n                    }\r\n        \r\n                    drivers = entityManager.createQuery(criteriaQuery)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size)\r\n                            .getResultList();\r\n                }\r\n        \r\n                for (int i = 0; i &lt; drivers.size(); i++) {\r\n                    otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\r\n                }\r\n                DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\r\n        \r\n                response.setSort(request.getSort());\r\n                response.setOrder(request.getOrder());\r\n                response.setCurrentPage(request.getCurrentPage());\r\n                response.setCurrentSize(request.getPageSize());\r\n                response.setItems(drivers);\r\n                response.setOtherParamMap(otherParamMap);\r\n        \r\n                return response;\r\n            }\r\n        \r\n            private int countNumOfCars(Long id) {\r\n                return findById(id).getCars().size();\r\n            }\r\n\r\nafter:\r\n\r\n    @Override\r\n        public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\r\n            List&lt;Driver&gt; drivers;\r\n            Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\r\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\r\n            Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\r\n            int page = (request.getCurrentPage() - 1) * request.getPageSize();\r\n            int size = page + request.getPageSize();\r\n    \r\n            if (request.getSort().equals(&quot;carCount&quot;)) {\r\n                Query query;\r\n                if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size);\r\n                } else {\r\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size);\r\n                }\r\n                drivers = query.getResultList();\r\n            } else if (request.getSort().equals(&quot;first_name&quot;) || request.getSort().equals(&quot;last_name&quot;)) {\r\n                Query query;\r\n                if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by &quot; + request.getSort() + &quot; desc&quot;)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size);\r\n                } else {\r\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by &quot; + request.getSort() + &quot; asc&quot;)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size);\r\n                }\r\n                drivers = query.getResultList();\r\n            } else {\r\n                try {\r\n                    if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                        criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\r\n                    } else {\r\n                        criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    ;\r\n                }\r\n    \r\n                drivers = entityManager.createQuery(criteriaQuery)\r\n                        .setFirstResult(page)\r\n                        .setMaxResults(size)\r\n                        .getResultList();\r\n            }\r\n    \r\n            for (int i = 0; i &lt; drivers.size(); i++) {\r\n                otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\r\n            }\r\n            DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\r\n    \r\n            response.setSort(request.getSort());\r\n            response.setOrder(request.getOrder());\r\n            response.setCurrentPage(request.getCurrentPage());\r\n            response.setCurrentSize(request.getPageSize());\r\n            response.setItems(drivers);\r\n            response.setOtherParamMap(otherParamMap);\r\n    \r\n            return response;\r\n        }\r\n    \r\n        private int countNumOfCars(Long id) {\r\n            return findById(id).getCars().size();\r\n        }","title":"Why is Hibernate looking in the wrong place","body":"<p>The solution may not be so good, but I decided to just add an if else to the function and here is the function before:</p>\n<pre><code>@Override\n        public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\n            List&lt;Driver&gt; drivers;\n            Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\n            Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\n            int page = (request.getCurrentPage() - 1) * request.getPageSize();\n            int size = page + request.getPageSize();\n    \n            if(request.getSort().equals(&quot;carCount&quot;)){\n                Query query;\n                if (request.getOrder().equals(&quot;desc&quot;)) {\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\n                            .setFirstResult(page)\n                            .setMaxResults(size);\n                } else {\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\n                            .setFirstResult(page)\n                            .setMaxResults(size);\n                }\n                drivers = query.getResultList();\n            }else {\n                try{\n                    if (request.getOrder().equals(&quot;desc&quot;)) {\n                        criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\n                    } else {\n                        criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\n                    }\n                }catch (Exception e){\n                    e.printStackTrace();;\n                }\n    \n                drivers = entityManager.createQuery(criteriaQuery)\n                        .setFirstResult(page)\n                        .setMaxResults(size)\n                        .getResultList();\n            }\n    \n            for (int i = 0; i &lt; drivers.size(); i++) {\n                otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\n            }\n            DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\n    \n            response.setSort(request.getSort());\n            response.setOrder(request.getOrder());\n            response.setCurrentPage(request.getCurrentPage());\n            response.setCurrentSize(request.getPageSize());\n            response.setItems(drivers);\n            response.setOtherParamMap(otherParamMap);\n    \n            return response;\n        }\n    \n        private int countNumOfCars(Long id) {\n            return findById(id).getCars().size();\n        }\n</code></pre>\n<p>after:</p>\n<pre><code>@Override\n    public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\n        List&lt;Driver&gt; drivers;\n        Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\n        Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\n        int page = (request.getCurrentPage() - 1) * request.getPageSize();\n        int size = page + request.getPageSize();\n\n        if (request.getSort().equals(&quot;carCount&quot;)) {\n            Query query;\n            if (request.getOrder().equals(&quot;desc&quot;)) {\n                query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\n                        .setFirstResult(page)\n                        .setMaxResults(size);\n            } else {\n                query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\n                        .setFirstResult(page)\n                        .setMaxResults(size);\n            }\n            drivers = query.getResultList();\n        } else if (request.getSort().equals(&quot;first_name&quot;) || request.getSort().equals(&quot;last_name&quot;)) {\n            Query query;\n            if (request.getOrder().equals(&quot;desc&quot;)) {\n                query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by &quot; + request.getSort() + &quot; desc&quot;)\n                        .setFirstResult(page)\n                        .setMaxResults(size);\n            } else {\n                query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by &quot; + request.getSort() + &quot; asc&quot;)\n                        .setFirstResult(page)\n                        .setMaxResults(size);\n            }\n            drivers = query.getResultList();\n        } else {\n            try {\n                if (request.getOrder().equals(&quot;desc&quot;)) {\n                    criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\n                } else {\n                    criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                ;\n            }\n\n            drivers = entityManager.createQuery(criteriaQuery)\n                    .setFirstResult(page)\n                    .setMaxResults(size)\n                    .getResultList();\n        }\n\n        for (int i = 0; i &lt; drivers.size(); i++) {\n            otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\n        }\n        DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\n\n        response.setSort(request.getSort());\n        response.setOrder(request.getOrder());\n        response.setCurrentPage(request.getCurrentPage());\n        response.setCurrentSize(request.getPageSize());\n        response.setItems(drivers);\n        response.setOtherParamMap(otherParamMap);\n\n        return response;\n    }\n\n    private int countNumOfCars(Long id) {\n        return findById(id).getCars().size();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641554460,"creation_date":1641554460,"answer_id":70620480,"question_id":70617141,"body_markdown":"The problem is here:\r\n\r\n    criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\r\n    // and here\r\n    criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\r\n\r\nMore specifically this part:\r\n\r\n    from.get(request.getSort())\r\n\r\nBecause in the request you are sending the column name as `last_name` instead of the property name `lastName`. You have to use the java property names in JPQL and Criteria Queries (which get translated to JPQL), not the native database column names.","title":"Why is Hibernate looking in the wrong place","body":"<p>The problem is here:</p>\n<pre><code>criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\n// and here\ncriteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\n</code></pre>\n<p>More specifically this part:</p>\n<pre><code>from.get(request.getSort())\n</code></pre>\n<p>Because in the request you are sending the column name as <code>last_name</code> instead of the property name <code>lastName</code>. You have to use the java property names in JPQL and Criteria Queries (which get translated to JPQL), not the native database column names.</p>\n"}],"owner":{"display_name":"user17835087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70620480,"answer_count":2,"score":0,"last_activity_date":1641554460,"creation_date":1641535127,"question_id":70617141,"body_markdown":"\r\nHello I&#39;m new to Java and Spring itself. Now I&#39;m studying JPA, in general, the question is this: Why does Hibernate look for the last_name column in BaseEntity when I have this column in my drivers?\r\n\r\nAll this happens when I try to call findAll and create a query with the concept of dateTable\r\n\r\nProgect in Git Hub: https://github.com/Slizzardd/nix_10/tree/master/hw_9_web_jpa\r\n\r\n**Error:**\r\n\r\n    java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [last_name] on this ManagedType [ua.com.alevel.persistence.entity.BaseEntity]\r\n    \tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.checkNotNull(AbstractManagedType.java:148)\r\n    \tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:119)\r\n    \tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:117)\r\n    \tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:44)\r\n    \tat org.hibernate.query.criteria.internal.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:111)\r\n    \tat org.hibernate.query.criteria.internal.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:204)\r\n    \tat org.hibernate.query.criteria.internal.path.AbstractPathImpl.get(AbstractPathImpl.java:177)\r\n    \tat ua.com.alevel.persistence.dao.impl.DriverDaoImpl.findAll(DriverDaoImpl.java:90)\r\n    \tat ua.com.alevel.persistence.dao.impl.DriverDaoImpl$$FastClassBySpringCGLIB$$70e9ea23.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat ua.com.alevel.persistence.dao.impl.DriverDaoImpl$$EnhancerBySpringCGLIB$$3de59a25.findAll(&lt;generated&gt;)\r\n    \tat ua.com.alevel.service.impl.DriverServiceImpl.findAll(DriverServiceImpl.java:60)\r\n    \tat ua.com.alevel.facade.impl.DriverFacadeImpl.findAll(DriverFacadeImpl.java:64)\r\n    \tat ua.com.alevel.view.controller.DriverController.findAll(DriverController.java:41)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n**My BaseEntity:**\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date created;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date updated;\r\n    \r\n    \r\n        private Boolean visible;\r\n    \r\n        @Column(name = &quot;image_url&quot;)\r\n        private String imageUrl;\r\n    \r\n        public BaseEntity() {\r\n            this.created = new Date();\r\n            this.updated = new Date();\r\n            this.visible = true;\r\n        }\r\n    \r\n        @PreUpdate\r\n        public void preUpdate() {\r\n            this.updated = new Date();\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getCreated() {\r\n            return created;\r\n        }\r\n    \r\n        public void setCreated(Date created) {\r\n            this.created = created;\r\n        }\r\n    \r\n        public Date getUpdated() {\r\n            return updated;\r\n        }\r\n    \r\n        public void setUpdated(Date updated) {\r\n            this.updated = updated;\r\n        }\r\n    \r\n        public Boolean getVisible() {\r\n            return visible;\r\n        }\r\n    \r\n        public void setVisible(Boolean visible) {\r\n            this.visible = visible;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    }\r\n\r\n**My Driver:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;drivers&quot;)\r\n    public class Driver extends BaseEntity {\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        private String notes;\r\n        private double balance;\r\n    \r\n        @ManyToMany(cascade = CascadeType.ALL)\r\n        @JoinTable(\r\n                name = &quot;driver_car&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;driver_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;car_id&quot;))\r\n        private Set&lt;Car&gt; cars;\r\n    \r\n        public Driver() {\r\n            super();\r\n            this.cars = new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        public Set&lt;Car&gt; getCars() {\r\n            return cars;\r\n        }\r\n    \r\n        public void setCars(Set&lt;Car&gt; cars) {\r\n            this.cars = cars;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getNotes() {\r\n            return notes;\r\n        }\r\n    \r\n        public void setNotes(String notes) {\r\n            this.notes = notes;\r\n        }\r\n    \r\n        public double getBalance() {\r\n            return balance;\r\n        }\r\n    \r\n        public void setBalance(double balance) {\r\n            this.balance = balance;\r\n        }\r\n    }\r\n    \r\n    \r\n**methodFindAll in DriverDaoImpl:**\r\n    \r\n        @Override\r\n            public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\r\n                List&lt;Driver&gt; drivers;\r\n                Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\r\n                CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n                CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\r\n                Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\r\n                int page = (request.getCurrentPage() - 1) * request.getPageSize();\r\n                int size = page + request.getPageSize();\r\n        \r\n                if(request.getSort().equals(&quot;carCount&quot;)){\r\n                    Query query;\r\n                    if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                        query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\r\n                                .setFirstResult(page)\r\n                                .setMaxResults(size);\r\n                    } else {\r\n                        query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\r\n                                .setFirstResult(page)\r\n                                .setMaxResults(size);\r\n                    }\r\n                    drivers = query.getResultList();\r\n                }else {\r\n                    try{\r\n                        if (request.getOrder().equals(&quot;desc&quot;)) {\r\n                            criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\r\n                        } else {\r\n                            criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\r\n                        }\r\n                    }catch (Exception e){\r\n                        e.printStackTrace();;\r\n                    }\r\n        \r\n                    drivers = entityManager.createQuery(criteriaQuery)\r\n                            .setFirstResult(page)\r\n                            .setMaxResults(size)\r\n                            .getResultList();\r\n                }\r\n        \r\n                for (int i = 0; i &lt; drivers.size(); i++) {\r\n                    otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\r\n                }\r\n                DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\r\n        \r\n                response.setSort(request.getSort());\r\n                response.setOrder(request.getOrder());\r\n                response.setCurrentPage(request.getCurrentPage());\r\n                response.setCurrentSize(request.getPageSize());\r\n                response.setItems(drivers);\r\n                response.setOtherParamMap(otherParamMap);\r\n        \r\n                return response;\r\n            }\r\n        \r\n            private int countNumOfCars(Long id) {\r\n                return findById(id).getCars().size();\r\n            }\r\n\r\n**My Hibernate Config:**\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class HibernateConfig {\r\n    \r\n        @Value(&quot;${spring.datasource.url}&quot;)\r\n        private String jdbcUrl;\r\n    \r\n        @Value(&quot;${spring.datasource.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${spring.datasource.password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n        private String driver;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\r\n        private String dialect;\r\n    \r\n        @Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\r\n        private String hbm2ddl;\r\n    \r\n        @Value(&quot;${spring.jpa.show-sql}&quot;)\r\n        private Boolean showSql;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.max_size}&quot;)\r\n        private String maxSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.min_size}&quot;)\r\n        private String minSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size}&quot;)\r\n        private String batchSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.jdbc.fetch_size}&quot;)\r\n        private String fetchSize;\r\n    \r\n        @Value(&quot;${spring.jpa.properties.hibernate.enable_lazy_load_no_trans}&quot;)\r\n        private String lazyLoad;\r\n    \r\n        private static final String HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String HIBERNATE_HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;\r\n        private static final String HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS = &quot;hibernate.enable_lazy_load_no_trans&quot;;\r\n        private static final String MAX_SIZE = &quot;hibernate.c3p0.max_size&quot;;\r\n        private static final String MIN_SIZE = &quot;hibernate.c3p0.min_size&quot;;\r\n        private static final String BATCH_SIZE = &quot;hibernate.jdbc.batch_size&quot;;\r\n        private static final String FETCH_SIZE = &quot;hibernate.jdbc.fetch_size&quot;;\r\n        private static final String ENTITY_MANAGER_PACKAGES_TO_SCAN = &quot;ua.com.alevel.persistence.entity&quot;;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(driver);\r\n            dataSource.setUrl(jdbcUrl);\r\n            dataSource.setUsername(username);\r\n            dataSource.setPassword(password);\r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean\r\n        public HibernateTransactionManager transactionManager() {\r\n            HibernateTransactionManager manager = new HibernateTransactionManager();\r\n            manager.setSessionFactory(sessionFactoryBean().getObject());\r\n            return manager;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactoryBean() {\r\n            LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n            sessionFactoryBean.setDataSource(dataSource());\r\n            sessionFactoryBean.setPackagesToScan(ENTITY_MANAGER_PACKAGES_TO_SCAN);\r\n            sessionFactoryBean.setHibernateProperties(hibernateProperties());\r\n            try {\r\n                sessionFactoryBean.afterPropertiesSet();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return sessionFactoryBean;\r\n        }\r\n    \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(HIBERNATE_DIALECT, dialect);\r\n            properties.put(HIBERNATE_HBM2DDL_AUTO, hbm2ddl);\r\n            properties.put(HIBERNATE_SHOW_SQL, showSql);\r\n            properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, lazyLoad);\r\n            properties.put(MAX_SIZE, maxSize);\r\n            properties.put(MIN_SIZE, minSize);\r\n            properties.put(BATCH_SIZE, batchSize);\r\n            properties.put(FETCH_SIZE, fetchSize);\r\n            return properties;\r\n        }\r\n    }\r\n\r\n**My application.properties:**\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/taxi_bd?useSSL=false&amp;serverTimezone=UTC&amp;createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.platform=mysql\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=50\r\n    spring.jpa.properties.hibernate.jdbc.fetch_size=50\r\n    spring.jpa.properties.hibernate.jdbc.max_size=25\r\n    spring.jpa.properties.hibernate.jdbc.min_size=10\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n**My MainApplication:**\r\n\r\n    @SpringBootApplication(exclude = {\r\n            DataSourceAutoConfiguration.class,\r\n            DataSourceTransactionManagerAutoConfiguration.class,\r\n            HibernateJpaAutoConfiguration.class })\r\n    public class WebJpaApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(WebJpaApplication.class, args);\r\n        }\r\n    }\r\n","title":"Why is Hibernate looking in the wrong place","body":"<p>Hello I'm new to Java and Spring itself. Now I'm studying JPA, in general, the question is this: Why does Hibernate look for the last_name column in BaseEntity when I have this column in my drivers?</p>\n<p>All this happens when I try to call findAll and create a query with the concept of dateTable</p>\n<p>Progect in Git Hub: <a href=\"https://github.com/Slizzardd/nix_10/tree/master/hw_9_web_jpa\" rel=\"nofollow noreferrer\">https://github.com/Slizzardd/nix_10/tree/master/hw_9_web_jpa</a></p>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [last_name] on this ManagedType [ua.com.alevel.persistence.entity.BaseEntity]\n    at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.checkNotNull(AbstractManagedType.java:148)\n    at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:119)\n    at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:117)\n    at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:44)\n    at org.hibernate.query.criteria.internal.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:111)\n    at org.hibernate.query.criteria.internal.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:204)\n    at org.hibernate.query.criteria.internal.path.AbstractPathImpl.get(AbstractPathImpl.java:177)\n    at ua.com.alevel.persistence.dao.impl.DriverDaoImpl.findAll(DriverDaoImpl.java:90)\n    at ua.com.alevel.persistence.dao.impl.DriverDaoImpl$$FastClassBySpringCGLIB$$70e9ea23.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at ua.com.alevel.persistence.dao.impl.DriverDaoImpl$$EnhancerBySpringCGLIB$$3de59a25.findAll(&lt;generated&gt;)\n    at ua.com.alevel.service.impl.DriverServiceImpl.findAll(DriverServiceImpl.java:60)\n    at ua.com.alevel.facade.impl.DriverFacadeImpl.findAll(DriverFacadeImpl.java:64)\n    at ua.com.alevel.view.controller.DriverController.findAll(DriverController.java:41)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><strong>My BaseEntity:</strong></p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date created;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updated;\n\n\n    private Boolean visible;\n\n    @Column(name = &quot;image_url&quot;)\n    private String imageUrl;\n\n    public BaseEntity() {\n        this.created = new Date();\n        this.updated = new Date();\n        this.visible = true;\n    }\n\n    @PreUpdate\n    public void preUpdate() {\n        this.updated = new Date();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Date getCreated() {\n        return created;\n    }\n\n    public void setCreated(Date created) {\n        this.created = created;\n    }\n\n    public Date getUpdated() {\n        return updated;\n    }\n\n    public void setUpdated(Date updated) {\n        this.updated = updated;\n    }\n\n    public Boolean getVisible() {\n        return visible;\n    }\n\n    public void setVisible(Boolean visible) {\n        this.visible = visible;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n}\n</code></pre>\n<p><strong>My Driver:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;drivers&quot;)\npublic class Driver extends BaseEntity {\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    private String notes;\n    private double balance;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;driver_car&quot;,\n            joinColumns = @JoinColumn(name = &quot;driver_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;car_id&quot;))\n    private Set&lt;Car&gt; cars;\n\n    public Driver() {\n        super();\n        this.cars = new HashSet&lt;&gt;();\n    }\n\n    public Set&lt;Car&gt; getCars() {\n        return cars;\n    }\n\n    public void setCars(Set&lt;Car&gt; cars) {\n        this.cars = cars;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getNotes() {\n        return notes;\n    }\n\n    public void setNotes(String notes) {\n        this.notes = notes;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n}\n</code></pre>\n<p><strong>methodFindAll in DriverDaoImpl:</strong></p>\n<pre><code>    @Override\n        public DataTableResponse&lt;Driver&gt; findAll(DataTableRequest request) throws Exception {\n            List&lt;Driver&gt; drivers;\n            Map&lt;Object, Object&gt; otherParamMap = new HashMap&lt;&gt;();\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;Driver&gt; criteriaQuery = criteriaBuilder.createQuery(Driver.class);\n            Root&lt;Driver&gt; from = criteriaQuery.from(Driver.class);\n            int page = (request.getCurrentPage() - 1) * request.getPageSize();\n            int size = page + request.getPageSize();\n    \n            if(request.getSort().equals(&quot;carCount&quot;)){\n                Query query;\n                if (request.getOrder().equals(&quot;desc&quot;)) {\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size desc&quot;)\n                            .setFirstResult(page)\n                            .setMaxResults(size);\n                } else {\n                    query = entityManager.createQuery(&quot;select d from Driver d where d.visible = true order by d.cars.size asc&quot;)\n                            .setFirstResult(page)\n                            .setMaxResults(size);\n                }\n                drivers = query.getResultList();\n            }else {\n                try{\n                    if (request.getOrder().equals(&quot;desc&quot;)) {\n                        criteriaQuery.orderBy(criteriaBuilder.desc(from.get(request.getSort())));\n                    } else {\n                        criteriaQuery.orderBy(criteriaBuilder.asc(from.get(request.getSort())));\n                    }\n                }catch (Exception e){\n                    e.printStackTrace();;\n                }\n    \n                drivers = entityManager.createQuery(criteriaQuery)\n                        .setFirstResult(page)\n                        .setMaxResults(size)\n                        .getResultList();\n            }\n    \n            for (int i = 0; i &lt; drivers.size(); i++) {\n                otherParamMap.put(drivers.get(i).getId(), countNumOfCars(drivers.get(i).getId()));\n            }\n            DataTableResponse&lt;Driver&gt; response = new DataTableResponse&lt;&gt;();\n    \n            response.setSort(request.getSort());\n            response.setOrder(request.getOrder());\n            response.setCurrentPage(request.getCurrentPage());\n            response.setCurrentSize(request.getPageSize());\n            response.setItems(drivers);\n            response.setOtherParamMap(otherParamMap);\n    \n            return response;\n        }\n    \n        private int countNumOfCars(Long id) {\n            return findById(id).getCars().size();\n        }\n</code></pre>\n<p><strong>My Hibernate Config:</strong></p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class HibernateConfig {\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String jdbcUrl;\n\n    @Value(&quot;${spring.datasource.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driver;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\n    private String dialect;\n\n    @Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\n    private String hbm2ddl;\n\n    @Value(&quot;${spring.jpa.show-sql}&quot;)\n    private Boolean showSql;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.max_size}&quot;)\n    private String maxSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.min_size}&quot;)\n    private String minSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size}&quot;)\n    private String batchSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.fetch_size}&quot;)\n    private String fetchSize;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.enable_lazy_load_no_trans}&quot;)\n    private String lazyLoad;\n\n    private static final String HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\n    private static final String HIBERNATE_HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;\n    private static final String HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\n    private static final String HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS = &quot;hibernate.enable_lazy_load_no_trans&quot;;\n    private static final String MAX_SIZE = &quot;hibernate.c3p0.max_size&quot;;\n    private static final String MIN_SIZE = &quot;hibernate.c3p0.min_size&quot;;\n    private static final String BATCH_SIZE = &quot;hibernate.jdbc.batch_size&quot;;\n    private static final String FETCH_SIZE = &quot;hibernate.jdbc.fetch_size&quot;;\n    private static final String ENTITY_MANAGER_PACKAGES_TO_SCAN = &quot;ua.com.alevel.persistence.entity&quot;;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(driver);\n        dataSource.setUrl(jdbcUrl);\n        dataSource.setUsername(username);\n        dataSource.setPassword(password);\n        return dataSource;\n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager manager = new HibernateTransactionManager();\n        manager.setSessionFactory(sessionFactoryBean().getObject());\n        return manager;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactoryBean() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(ENTITY_MANAGER_PACKAGES_TO_SCAN);\n        sessionFactoryBean.setHibernateProperties(hibernateProperties());\n        try {\n            sessionFactoryBean.afterPropertiesSet();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return sessionFactoryBean;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(HIBERNATE_DIALECT, dialect);\n        properties.put(HIBERNATE_HBM2DDL_AUTO, hbm2ddl);\n        properties.put(HIBERNATE_SHOW_SQL, showSql);\n        properties.put(HIBERNATE_ENABLE_LAZY_LOAD_NO_TRANS, lazyLoad);\n        properties.put(MAX_SIZE, maxSize);\n        properties.put(MIN_SIZE, minSize);\n        properties.put(BATCH_SIZE, batchSize);\n        properties.put(FETCH_SIZE, fetchSize);\n        return properties;\n    }\n}\n</code></pre>\n<p><strong>My application.properties:</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/taxi_bd?useSSL=false&amp;serverTimezone=UTC&amp;createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.platform=mysql\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\nspring.jpa.properties.hibernate.jdbc.batch_size=50\nspring.jpa.properties.hibernate.jdbc.fetch_size=50\nspring.jpa.properties.hibernate.jdbc.max_size=25\nspring.jpa.properties.hibernate.jdbc.min_size=10\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p><strong>My MainApplication:</strong></p>\n<pre><code>@SpringBootApplication(exclude = {\n        DataSourceAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class,\n        HibernateJpaAutoConfiguration.class })\npublic class WebJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebJpaApplication.class, args);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8289,"page":1703,"page_size":100}
