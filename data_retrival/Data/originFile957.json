{"items":[{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1665943511,"post_id":74088611,"comment_id":130812430,"body_markdown":"Hi, I am assuming that your query does not work, but could you explain what is failing explicitly.","body":"Hi, I am assuming that your query does not work, but could you explain what is failing explicitly."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1665980386,"post_id":74088611,"comment_id":130818023,"body_markdown":"what is data type of `variables` field ? is it nested or object? can you please post your index mapping ?","body":"what is data type of <code>variables</code> field ? is it nested or object? can you please post your index mapping ?"}],"owner":{"account_id":1605331,"reputation":23,"user_id":3147473,"display_name":"user3147473"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665938976,"creation_date":1665936029,"question_id":74088611,"body_markdown":"I am using Java to perform queries on Elasticsearch, via the ElasticSearchClient. As there are big variables returned, I would like to only retrieve the ones that are relevant but the variables in _source are nested.\r\n\r\nBelow is a sample index response (multiple indexes can be returned with same _source structure)\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;_index&quot;: &quot;kn-tas-20200630&quot;,\r\n        &quot;_type&quot;: &quot;_doc&quot;,\r\n        &quot;_id&quot;: &quot;1122334455&quot;,\r\n        &quot;_score&quot;: null,\r\n        &quot;_source&quot;: {\r\n            &quot;variables&quot;: [\r\n                {\r\n                    &quot;rawValue&quot;: &quot;DEFH&quot;,\r\n                    &quot;name&quot;: &quot;MANAGER&quot;\r\n                },\r\n                {\r\n                    &quot;rawValue&quot;: &quot;ABCD&quot;,\r\n                    &quot;name&quot;: &quot;EMPLOYEE&quot;\r\n                },\r\n                {\r\n                    &quot;rawValue&quot;: &quot;[{\\&quot;rowId\\&quot;:102030,\\&quot;rowType\\&quot;:\\&quot;SIM\\&quot;}]&quot;,\r\n                    &quot;name&quot;: &quot;extData&quot;\r\n                }\r\n            ]\r\n        },\r\n        &quot;sort&quot;: [\r\n            1665735632119\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nI would like to create a query using SearchSourceBuilder to query ES and only retrieve the following:\r\n\r\n - Get the rawValue by name (I provide Manager, I get &quot;DFEH&quot;)\r\n - Get the rowType value (I provide extData + row Type, I get &quot;SIM&quot;)\r\n\r\nBelow is my query:\r\n\r\n```json\r\n{\r\n    &quot;from&quot;: 0,\r\n    &quot;size&quot;: 100,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;terms&quot;: {\r\n                        &quot;prcKey&quot;: [\r\n                            &quot;K-112&quot;\r\n                        ],\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                }\r\n            ],\r\n            &quot;must_not&quot;: [\r\n                {\r\n                    &quot;exists&quot;: {\r\n                        &quot;field&quot;: &quot;endDate&quot;,\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;term&quot;: {\r\n                        &quot;personInCharge&quot;: {\r\n                            &quot;value&quot;: &quot;ABC&quot;,\r\n                            &quot;boost&quot;: 1.0\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            &quot;adjust_pure_negative&quot;: true,\r\n            &quot;boost&quot;: 1.0\r\n        }\r\n    },\r\n    &quot;_source&quot;: {\r\n        &quot;includes&quot;: [\r\n            &quot;variables.name&quot;,\r\n            &quot;variables.rawValue&quot;\r\n        ],\r\n        &quot;excludes&quot;: []\r\n    },\r\n    &quot;sort&quot;: [\r\n        {\r\n            &quot;createTime&quot;: {\r\n                &quot;order&quot;: &quot;desc&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHow can I fix my query? I tried using nested queries but without any luck.\r\n","title":"Searching _source and returning only needed fields using Java","body":"<p>I am using Java to perform queries on Elasticsearch, via the ElasticSearchClient. As there are big variables returned, I would like to only retrieve the ones that are relevant but the variables in _source are nested.</p>\n<p>Below is a sample index response (multiple indexes can be returned with same _source structure)</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;_index&quot;: &quot;kn-tas-20200630&quot;,\n        &quot;_type&quot;: &quot;_doc&quot;,\n        &quot;_id&quot;: &quot;1122334455&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n            &quot;variables&quot;: [\n                {\n                    &quot;rawValue&quot;: &quot;DEFH&quot;,\n                    &quot;name&quot;: &quot;MANAGER&quot;\n                },\n                {\n                    &quot;rawValue&quot;: &quot;ABCD&quot;,\n                    &quot;name&quot;: &quot;EMPLOYEE&quot;\n                },\n                {\n                    &quot;rawValue&quot;: &quot;[{\\&quot;rowId\\&quot;:102030,\\&quot;rowType\\&quot;:\\&quot;SIM\\&quot;}]&quot;,\n                    &quot;name&quot;: &quot;extData&quot;\n                }\n            ]\n        },\n        &quot;sort&quot;: [\n            1665735632119\n        ]\n    }\n]\n</code></pre>\n<p>I would like to create a query using SearchSourceBuilder to query ES and only retrieve the following:</p>\n<ul>\n<li>Get the rawValue by name (I provide Manager, I get &quot;DFEH&quot;)</li>\n<li>Get the rowType value (I provide extData + row Type, I get &quot;SIM&quot;)</li>\n</ul>\n<p>Below is my query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 100,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;terms&quot;: {\n                        &quot;prcKey&quot;: [\n                            &quot;K-112&quot;\n                        ],\n                        &quot;boost&quot;: 1.0\n                    }\n                }\n            ],\n            &quot;must_not&quot;: [\n                {\n                    &quot;exists&quot;: {\n                        &quot;field&quot;: &quot;endDate&quot;,\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;term&quot;: {\n                        &quot;personInCharge&quot;: {\n                            &quot;value&quot;: &quot;ABC&quot;,\n                            &quot;boost&quot;: 1.0\n                        }\n                    }\n                }\n            ],\n            &quot;adjust_pure_negative&quot;: true,\n            &quot;boost&quot;: 1.0\n        }\n    },\n    &quot;_source&quot;: {\n        &quot;includes&quot;: [\n            &quot;variables.name&quot;,\n            &quot;variables.rawValue&quot;\n        ],\n        &quot;excludes&quot;: []\n    },\n    &quot;sort&quot;: [\n        {\n            &quot;createTime&quot;: {\n                &quot;order&quot;: &quot;desc&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>How can I fix my query? I tried using nested queries but without any luck.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1665810828,"post_id":74074851,"comment_id":130790418,"body_markdown":"what version of Elasticsearch is your cluster running on? Could it be that it&#39;s version 8? Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17","body":"what version of Elasticsearch is your cluster running on? Could it be that it&#39;s version 8? Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17"},{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1665831190,"post_id":74074851,"comment_id":130793552,"body_markdown":"@P.J.Meisch just one word, you are &quot;hero&quot;. I also checked some of your answers and was hoping answer from you, you did, and you saved my life. I used spring-boot-starter-data-elasticsearch 2.7.3 and downgraded es to 7.17.6 and it worked. Thanks again. If you do this comment as an answer than I can check as the correct answer","body":"@P.J.Meisch just one word, you are &quot;hero&quot;. I also checked some of your answers and was hoping answer from you, you did, and you saved my life. I used spring-boot-starter-data-elasticsearch 2.7.3 and downgraded es to 7.17.6 and it worked. Thanks again. If you do this comment as an answer than I can check as the correct answer"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665938735,"creation_date":1665938735,"answer_id":74088980,"question_id":74074851,"body_markdown":"Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17, this is problematic when running against an Elasticsearch cluster in version 8. Youhave basically two options:\r\n\r\n1. Downgrade your cluster to version 7.17.6 (the latest 7.17 currently available) i f this is possible.\r\n\r\n2. You can try and see if setting the compatibility headers (see the [Spring Data Elasticsearch documentation section 5.3.1](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration) for more info). This **should** work, but I encountered cases where the response from the cluster still wasn&#39;t readable with a 7.17 client. - I had issues opened with Elasticsearch and they were resolved, but there still might be hidden traps.","title":"How to use stable RestHighLevelClient with Elasticsearch?","body":"<p>Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17, this is problematic when running against an Elasticsearch cluster in version 8. Youhave basically two options:</p>\n<ol>\n<li><p>Downgrade your cluster to version 7.17.6 (the latest 7.17 currently available) i f this is possible.</p>\n</li>\n<li><p>You can try and see if setting the compatibility headers (see the <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration\" rel=\"nofollow noreferrer\">Spring Data Elasticsearch documentation section 5.3.1</a> for more info). This <strong>should</strong> work, but I encountered cases where the response from the cluster still wasn't readable with a 7.17 client. - I had issues opened with Elasticsearch and they were resolved, but there still might be hidden traps.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74088980,"answer_count":1,"score":0,"last_activity_date":1665938735,"creation_date":1665781457,"question_id":74074851,"body_markdown":"I have searched for so many posts but I couldn&#39;t find a proper way to use Elastic Search with spring boot application because I am totally new to elastic search.\r\n\r\nMy only dependency is:\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nMy config class is:\r\n\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\r\n    import org.springframework.data.elasticsearch.client.RestClients;\r\n    import org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\r\n    import org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.backend.repository.elasticsearchrepository&quot;)\r\n    @ComponentScan(basePackages = {&quot;com.backend.model.elasticsearchmodel&quot;})\r\n    public class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\r\n    \r\n        @Value(&quot;${spring.elasticsearch.url}&quot;)\r\n        public String elasticsearchUrl;\r\n    \r\n        @Value(&quot;${spring.elasticsearch.username}&quot;)\r\n        public String username;\r\n    \r\n        @Value(&quot;${spring.elasticsearch.password}&quot;)\r\n        public String password;\r\n    \r\n    \r\n        @Bean\r\n        @Override\r\n        public RestHighLevelClient elasticsearchClient() {\r\n            final ClientConfiguration config = ClientConfiguration.builder()\r\n                    .connectedTo(elasticsearchUrl)\r\n                    .withBasicAuth(username, password)\r\n                    .build();\r\n    \r\n            return RestClients.create(config).rest();\r\n        }\r\n    }\r\nHere RestHighLevelClient is shown as deprecated. And my repository class is:\r\n\r\n    package com.backend.repository.elasticsearchrepository;\r\n    \r\n    import com.backend.model.elasticsearchmodel.EsOffice;\r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    public interface ESOfficeRepository extends ElasticsearchRepository&lt;EsOffice, UUID&gt; {\r\n    }\r\n\r\nWhen I call the methods of this repository then it works fine but while storing the data it is returning error message even if it adds the data successfully.\r\n\r\n    2022-10-15 00:00:15.608 ERROR 51607 --- [nio-8080-exec-2] c.a.a.exception.GlobalExceptionHandler   : Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}\r\n\r\nWhich POM dependency + what kind of repository should I use and How can I configure it in my config file ? I need these 3 that compatible with each other ?","title":"How to use stable RestHighLevelClient with Elasticsearch?","body":"<p>I have searched for so many posts but I couldn't find a proper way to use Elastic Search with spring boot application because I am totally new to elastic search.</p>\n<p>My only dependency is:\n\norg.springframework.boot\nspring-boot-starter-data-elasticsearch\n2.7.3\n</p>\n<p>My config class is:</p>\n<pre><code>import org.elasticsearch.client.RestHighLevelClient;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.RestClients;\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n\n@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.backend.repository.elasticsearchrepository&quot;)\n@ComponentScan(basePackages = {&quot;com.backend.model.elasticsearchmodel&quot;})\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\n\n    @Value(&quot;${spring.elasticsearch.url}&quot;)\n    public String elasticsearchUrl;\n\n    @Value(&quot;${spring.elasticsearch.username}&quot;)\n    public String username;\n\n    @Value(&quot;${spring.elasticsearch.password}&quot;)\n    public String password;\n\n\n    @Bean\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n        final ClientConfiguration config = ClientConfiguration.builder()\n                .connectedTo(elasticsearchUrl)\n                .withBasicAuth(username, password)\n                .build();\n\n        return RestClients.create(config).rest();\n    }\n}\n</code></pre>\n<p>Here RestHighLevelClient is shown as deprecated. And my repository class is:</p>\n<pre><code>package com.backend.repository.elasticsearchrepository;\n\nimport com.backend.model.elasticsearchmodel.EsOffice;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\nimport java.util.UUID;\n\npublic interface ESOfficeRepository extends ElasticsearchRepository&lt;EsOffice, UUID&gt; {\n}\n</code></pre>\n<p>When I call the methods of this repository then it works fine but while storing the data it is returning error message even if it adds the data successfully.</p>\n<pre><code>2022-10-15 00:00:15.608 ERROR 51607 --- [nio-8080-exec-2] c.a.a.exception.GlobalExceptionHandler   : Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}\n</code></pre>\n<p>Which POM dependency + what kind of repository should I use and How can I configure it in my config file ? I need these 3 that compatible with each other ?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":18331959,"reputation":776,"user_id":13350278,"display_name":"Mohamed Elgazar"},"score":0,"creation_date":1665922533,"post_id":74087022,"comment_id":130807918,"body_markdown":"You could use a for loop to iterate through the second half of the string, and if the character is &#39;h&#39;, change it to &#39;t&#39;, and vice versa.","body":"You could use a for loop to iterate through the second half of the string, and if the character is &#39;h&#39;, change it to &#39;t&#39;, and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":18331959,"reputation":776,"user_id":13350278,"display_name":"Mohamed Elgazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665922720,"creation_date":1665922720,"answer_id":74087040,"question_id":74087022,"body_markdown":"This program splits a string into two halves, then swaps the first and second characters of the second half.\r\npublic class Tollring3 {\r\n\r\n       public static void main(String args[]) \r\n        { \r\n          \r\n           String base = &quot;httthhhtth&quot;;\r\n          int half = base.length()/2;\r\n           // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n           String first = base.substring(0, half);\r\n           String second = base.substring(half);\r\n           System.out.println(&quot;Actual String :- &quot;+base);\r\n           System.out.println(first);\r\n           System.out.println(second);\r\n           char[] c = second.toCharArray();\r\n    \r\n        // Replace with a &quot;swap&quot; function, if desired:\r\n        char temp = c[0];\r\n        c[0] = c[1];\r\n        c[1] = temp;\r\n    \r\n        String swappedString = new String(c);\r\n        System.out.println(swappedString);\r\n        } \r\n    }","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>This program splits a string into two halves, then swaps the first and second characters of the second half.\npublic class Tollring3 {</p>\n<pre><code>   public static void main(String args[]) \n    { \n      \n       String base = &quot;httthhhtth&quot;;\n      int half = base.length()/2;\n       // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n       String first = base.substring(0, half);\n       String second = base.substring(half);\n       System.out.println(&quot;Actual String :- &quot;+base);\n       System.out.println(first);\n       System.out.println(second);\n       char[] c = second.toCharArray();\n\n    // Replace with a &quot;swap&quot; function, if desired:\n    char temp = c[0];\n    c[0] = c[1];\n    c[1] = temp;\n\n    String swappedString = new String(c);\n    System.out.println(swappedString);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938428,"creation_date":1665923085,"answer_id":74087086,"question_id":74087022,"body_markdown":"To do the replacement you need to iterate on the chars and use `if` to test what char it is\r\n\r\n    String base = &quot;httthhhtth&quot;;\r\n    System.out.println(base);\r\n\r\n    char[] c = base.toCharArray();\r\n    for (int i = c.length / 2; i &lt; c.length; ++i) {\r\n        if (c[i] == &#39;h&#39;) {\r\n            c[i] = &#39;t&#39;;\r\n        } else if (c[i] == &#39;t&#39;) {\r\n            c[i] = &#39;h&#39;;\r\n        }\r\n    }\r\n\r\n    String swappedString = new String(c);\r\n    System.out.println(swappedString);\r\n\r\n&lt;!-- --&gt;\r\n\r\n    httthhhtth\r\n    httthtthht\r\n","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>To do the replacement you need to iterate on the chars and use <code>if</code> to test what char it is</p>\n<pre><code>String base = &quot;httthhhtth&quot;;\nSystem.out.println(base);\n\nchar[] c = base.toCharArray();\nfor (int i = c.length / 2; i &lt; c.length; ++i) {\n    if (c[i] == 'h') {\n        c[i] = 't';\n    } else if (c[i] == 't') {\n        c[i] = 'h';\n    }\n}\n\nString swappedString = new String(c);\nSystem.out.println(swappedString);\n</code></pre>\n\n<pre><code>httthhhtth\nhttthtthht\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665925770,"creation_date":1665925770,"answer_id":74087378,"question_id":74087022,"body_markdown":"You can define the `swap` function as follows:\r\n\r\n    String swap(String str) {\r\n        char[] arr = str.toCharArray();\r\n        char[] result = new char[arr.length];\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            result[i] = arr[i] == &#39;h&#39; ? &#39;t&#39; : arr[i] == &#39;t&#39; ? &#39;h&#39; : arr[i];\r\n    \r\n        return new String(result);\r\n    }\r\nIn the function, we have\r\n\r\n 1. split the given string (second half) into a `char` array, `arr`.\r\n 2. created another `char` array, `result` of the same size.\r\n 3. iterates `arr` to store each character from `arr` into `result` while swapping `h` and `t` with each other.\r\n 4. finally returned a new `String` created out of `result`.\r\n\r\n**Full demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String base = &quot;httthhhtth&quot;;\r\n            int half = base.length() / 2;\r\n            // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n            String first = base.substring(0, half);\r\n            String second = base.substring(half);\r\n            System.out.println(&quot;Actual String :- &quot; + base);\r\n            System.out.println(first);\r\n            System.out.println(second);\r\n    \r\n            String swappedString = swap(second);\r\n            System.out.println(swappedString);\r\n        }\r\n    \r\n        static String swap(String str) {\r\n            char[] arr = str.toCharArray();\r\n            char[] result = new char[arr.length];\r\n            for (int i = 0; i &lt; arr.length; i++)\r\n                result[i] = arr[i] == &#39;h&#39; ? &#39;t&#39; : arr[i] == &#39;t&#39; ? &#39;h&#39; : arr[i];\r\n    \r\n            return new String(result);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    Actual String :- httthhhtth\r\n    httth\r\n    hhtth\r\n    tthht\r\n\r\n \r\n\r\n","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>You can define the <code>swap</code> function as follows:</p>\n<pre><code>String swap(String str) {\n    char[] arr = str.toCharArray();\n    char[] result = new char[arr.length];\n    for (int i = 0; i &lt; arr.length; i++)\n        result[i] = arr[i] == 'h' ? 't' : arr[i] == 't' ? 'h' : arr[i];\n\n    return new String(result);\n}\n</code></pre>\n<p>In the function, we have</p>\n<ol>\n<li>split the given string (second half) into a <code>char</code> array, <code>arr</code>.</li>\n<li>created another <code>char</code> array, <code>result</code> of the same size.</li>\n<li>iterates <code>arr</code> to store each character from <code>arr</code> into <code>result</code> while swapping <code>h</code> and <code>t</code> with each other.</li>\n<li>finally returned a new <code>String</code> created out of <code>result</code>.</li>\n</ol>\n<p><strong>Full demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        String base = &quot;httthhhtth&quot;;\n        int half = base.length() / 2;\n        // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n        String first = base.substring(0, half);\n        String second = base.substring(half);\n        System.out.println(&quot;Actual String :- &quot; + base);\n        System.out.println(first);\n        System.out.println(second);\n\n        String swappedString = swap(second);\n        System.out.println(swappedString);\n    }\n\n    static String swap(String str) {\n        char[] arr = str.toCharArray();\n        char[] result = new char[arr.length];\n        for (int i = 0; i &lt; arr.length; i++)\n            result[i] = arr[i] == 'h' ? 't' : arr[i] == 't' ? 'h' : arr[i];\n\n        return new String(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Actual String :- httthhhtth\nhttth\nhhtth\ntthht\n</code></pre>\n"}],"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1665938428,"creation_date":1665922487,"question_id":74087022,"body_markdown":"I managed to split the string but how can I swap h with t and t with h in second half of string ?\r\n\r\n    public class Tollring3 {\r\n    \r\n       public static void main(String args[]) \r\n        { \r\n          \r\n           String base = &quot;httthhhtth&quot;;\r\n          int half = base.length()/2;\r\n           // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n           String first = base.substring(0, half);\r\n           String second = base.substring(half);\r\n           System.out.println(&quot;Actual String :- &quot;+base);\r\n           System.out.println(first);\r\n           System.out.println(second);\r\n           char[] c = second.toCharArray();\r\n    \r\n        // Replace with a &quot;swap&quot; function, if desired:\r\n        char temp = c[0];\r\n        c[0] = c[1];\r\n        c[1] = temp;\r\n    \r\n        String swappedString = new String(c);\r\n        System.out.println(swappedString);\r\n        } \r\n    }\r\n\r\nHow to swap h with t and t with h in second half of string","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>I managed to split the string but how can I swap h with t and t with h in second half of string ?</p>\n<pre><code>public class Tollring3 {\n\n   public static void main(String args[]) \n    { \n      \n       String base = &quot;httthhhtth&quot;;\n      int half = base.length()/2;\n       // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n       String first = base.substring(0, half);\n       String second = base.substring(half);\n       System.out.println(&quot;Actual String :- &quot;+base);\n       System.out.println(first);\n       System.out.println(second);\n       char[] c = second.toCharArray();\n\n    // Replace with a &quot;swap&quot; function, if desired:\n    char temp = c[0];\n    c[0] = c[1];\n    c[1] = temp;\n\n    String swappedString = new String(c);\n    System.out.println(swappedString);\n    } \n}\n</code></pre>\n<p>How to swap h with t and t with h in second half of string</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1417198217,"post_id":27193955,"comment_id":42873436,"body_markdown":"your are abusing a cast here. `(number1 % 2)` is using the ascii code of number1, not its value. For example if `number1` is `&quot;1&quot;`, `(number1 % 2)` is `(49 % 2)` not `(1 % 2)`. But you are lucky, `0` has ascii code 48.","body":"your are abusing a cast here. <code>(number1 % 2)</code> is using the ascii code of number1, not its value. For example if <code>number1</code> is <code>&quot;1&quot;</code>, <code>(number1 % 2)</code> is <code>(49 % 2)</code> not <code>(1 % 2)</code>. But you are lucky, <code>0</code> has ascii code 48."},{"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"score":0,"creation_date":1417198245,"post_id":27193955,"comment_id":42873448,"body_markdown":"What does that mean? :/","body":"What does that mean? :/"},{"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"score":0,"creation_date":1417198482,"post_id":27193955,"comment_id":42873539,"body_markdown":"Ok, thanks, but could you try to answer my question please","body":"Ok, thanks, but could you try to answer my question please"},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1417198517,"post_id":27193955,"comment_id":42873551,"body_markdown":"Wouldn&#39;t it be easier to check if one digit is not odd instead of if all the digits are odd?","body":"Wouldn&#39;t it be easier to check if one digit is not odd instead of if all the digits are odd?"},{"owner":{"account_id":5360530,"reputation":193,"user_id":4271928,"display_name":"Ensar Hatipoglu"},"score":0,"creation_date":1417198592,"post_id":27193955,"comment_id":42873587,"body_markdown":"Check out the code in this other thread: http://stackoverflow.com/questions/19129509/how-can-i-count-the-number-of-odd-evens-and-zeros-in-a-multiple-digit-number-i","body":"Check out the code in this other thread: <a href=\"http://stackoverflow.com/questions/19129509/how-can-i-count-the-number-of-odd-evens-and-zeros-in-a-multiple-digit-number-i\" title=\"how can i count the number of odd evens and zeros in a multiple digit number i\">stackoverflow.com/questions/19129509/&hellip;</a>"},{"owner":{"account_id":1013036,"reputation":20197,"user_id":1025201,"display_name":"mprabhat"},"score":0,"creation_date":1417198608,"post_id":27193955,"comment_id":42873596,"body_markdown":"Instead of getting individual char from String, get the digit itself, see [this](http://stackoverflow.com/questions/2051817/return-first-digit-of-an-integer). It speaks about first char but you can use it for others too","body":"Instead of getting individual char from String, get the digit itself, see <a href=\"http://stackoverflow.com/questions/2051817/return-first-digit-of-an-integer\">this</a>. It speaks about first char but you can use it for others too"}],"answers":[{"tags":[],"owner":{"account_id":2972927,"reputation":1413,"user_id":2524630,"display_name":"David.Jones"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665938398,"creation_date":1417198417,"answer_id":27194042,"question_id":27193955,"body_markdown":"I&#39;ve just rearranged some of your logic, and added a couple continue statements. You were very close, you just needed to rearrange some things.  \r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        boolean yesno = true;\r\n        while (yens == true) {\r\n            System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n            try {\r\n                int number = scan.nextInt();\r\n                int length = String.valueOf(number).length();\r\n\r\n                if (length == 5) {\r\n                    String digits = String.valueOf(number);\r\n                    char number1 = digits.charAt(0);\r\n                    char number2 = digits.charAt(1);\r\n                    char number3 = digits.charAt(2);\r\n                    char number4 = digits.charAt(3);\r\n                    char number5 = digits.charAt(4);\r\n\r\n                    if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\r\n                        System.out.println(&quot;All of the numbers are odd...&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;Not all of the numbers are odd...&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\r\n                    continue;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;That was not a number! Try again...&quot;);\r\n                //A newline might still be stuck in the scanner, so clear it\r\n                scan.nextLine();\r\n                continue;\r\n            }\r\n            try {\r\n                System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\r\n\r\n                char letter = scan.next().charAt(0);\r\n                if (letter == &#39;Y&#39; || letter == &#39;y&#39;) {\r\n                    continue;\r\n                } else if (letter == &#39;N&#39; || letter == &#39;n&#39;) {\r\n                    yesno = false;\r\n                } else {\r\n                    System.out.println(&quot;I will take that as a no!&quot;);\r\n                    yesno = false;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;You did not enter a letter...&quot;);\r\n                scan.nextLine();\r\n            }\r\n        }\r\n        System.out.println(&quot;Goodbye!&quot;);\r\n    }\r\n\r\n\r\nBy the way, you have a lot of other issues in the code that should be addressed, but I simply answered the question that you asked, making the execution return the to top of the loop after an exception is thrown.\r\n","title":"Enter a number, That was not a number, please try again","body":"<p>I've just rearranged some of your logic, and added a couple continue statements. You were very close, you just needed to rearrange some things.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    \n    boolean yesno = true;\n    while (yens == true) {\n        System.out.println(&quot;Enter a 5 digit number...&quot;);\n        try {\n            int number = scan.nextInt();\n            int length = String.valueOf(number).length();\n\n            if (length == 5) {\n                String digits = String.valueOf(number);\n                char number1 = digits.charAt(0);\n                char number2 = digits.charAt(1);\n                char number3 = digits.charAt(2);\n                char number4 = digits.charAt(3);\n                char number5 = digits.charAt(4);\n\n                if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\n                    System.out.println(&quot;All of the numbers are odd...&quot;);\n                } else {\n                    System.out.println(&quot;Not all of the numbers are odd...&quot;);\n                }\n            } else {\n                System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\n                continue;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;That was not a number! Try again...&quot;);\n            //A newline might still be stuck in the scanner, so clear it\n            scan.nextLine();\n            continue;\n        }\n        try {\n            System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\n\n            char letter = scan.next().charAt(0);\n            if (letter == 'Y' || letter == 'y') {\n                continue;\n            } else if (letter == 'N' || letter == 'n') {\n                yesno = false;\n            } else {\n                System.out.println(&quot;I will take that as a no!&quot;);\n                yesno = false;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;You did not enter a letter...&quot;);\n            scan.nextLine();\n        }\n    }\n    System.out.println(&quot;Goodbye!&quot;);\n}\n</code></pre>\n<p>By the way, you have a lot of other issues in the code that should be addressed, but I simply answered the question that you asked, making the execution return the to top of the loop after an exception is thrown.</p>\n"}],"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27194042,"answer_count":1,"score":1,"last_activity_date":1665938398,"creation_date":1417197956,"question_id":27193955,"body_markdown":"basically what I am trying to do is: \r\n\r\n&gt; Get the user to enter a 5 digit number. If all of the digits in the\r\n&gt; number are Odd, it will print out &quot;All of the digits are odd&quot; and if\r\n&gt; all of the digits are not Odd, then it will print out &quot;Not all of the\r\n&gt; digits are odd&quot;, and then it will ask the user if they want to Enter a\r\n&gt; new Number by pressing Y or N and then it will ask them for another 5\r\n&gt; digit number and repeat.\r\n\r\nHere is my problem: \r\n\r\nWhen a user does not enter a 5 digit number, E.G enters a string/character, then I want it to say &quot;That was not a number, please try again&quot;, I tried to do this with try and catch, I can make it so it says try again, but I am unsure on how to make the code return back to the beginning after an error has been thrown. Sorry I am bad at java :-/\r\nI also have this problem when user does not enter Y or N and enter a number.\r\n\r\ncode:\r\n-----\r\n\r\n    package veryoddnumber;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class VeryOddNumber {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n            boolean yesno;\r\n            do {\r\n    \r\n                try {\r\n                    int number = scan.nextInt();\r\n                    int length = String.valueOf(number).length();\r\n    \r\n                    if (length == 5) {\r\n                        String digits = String.valueOf(number);\r\n                        char number1 = digits.charAt(0);\r\n                        char number2 = digits.charAt(1);\r\n                        char number3 = digits.charAt(2);\r\n                        char number4 = digits.charAt(3);\r\n                        char number5 = digits.charAt(4);\r\n    \r\n                        if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\r\n                            System.out.println(&quot;All of the numbers are odd...&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Not all of the numbers are odd...&quot;);\r\n                        }\r\n    \r\n                        System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\r\n    \r\n                    } else {\r\n                        System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\r\n                        System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;That was not a number! Try again...&quot;);\r\n    \r\n                }\r\n                try {\r\n    \r\n                    char letter = scan.next().charAt(0);\r\n                    if (letter == &#39;Y&#39; || letter == &#39;y&#39;) {\r\n                        yesno = true;\r\n                    } else if (letter == &#39;N&#39; || letter == &#39;n&#39;) {\r\n                        break;\r\n                    } else {\r\n                        System.out.println(&quot;I will take that as a no!&quot;);\r\n                        break;\r\n                    }\r\n                    System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;You did not enter a letter...&quot;);\r\n    \r\n                }\r\n            } while (yesno = true);\r\n            System.out.println(&quot;Goodbye!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Enter a number, That was not a number, please try again","body":"<p>basically what I am trying to do is: </p>\n\n<blockquote>\n  <p>Get the user to enter a 5 digit number. If all of the digits in the\n  number are Odd, it will print out \"All of the digits are odd\" and if\n  all of the digits are not Odd, then it will print out \"Not all of the\n  digits are odd\", and then it will ask the user if they want to Enter a\n  new Number by pressing Y or N and then it will ask them for another 5\n  digit number and repeat.</p>\n</blockquote>\n\n<p>Here is my problem: </p>\n\n<p>When a user does not enter a 5 digit number, E.G enters a string/character, then I want it to say \"That was not a number, please try again\", I tried to do this with try and catch, I can make it so it says try again, but I am unsure on how to make the code return back to the beginning after an error has been thrown. Sorry I am bad at java :-/\nI also have this problem when user does not enter Y or N and enter a number.</p>\n\n<h2>code:</h2>\n\n<pre><code>package veryoddnumber;\n\nimport java.util.*;\n\npublic class VeryOddNumber {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(\"Enter a 5 digit number...\");\n        boolean yesno;\n        do {\n\n            try {\n                int number = scan.nextInt();\n                int length = String.valueOf(number).length();\n\n                if (length == 5) {\n                    String digits = String.valueOf(number);\n                    char number1 = digits.charAt(0);\n                    char number2 = digits.charAt(1);\n                    char number3 = digits.charAt(2);\n                    char number4 = digits.charAt(3);\n                    char number5 = digits.charAt(4);\n\n                    if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\n                        System.out.println(\"All of the numbers are odd...\");\n                    } else {\n                        System.out.println(\"Not all of the numbers are odd...\");\n                    }\n\n                    System.out.println(\"Would you like to enter another number? (Y/N)\");\n\n                } else {\n                    System.out.println(\"You did not enter a 5 digit number! Try again...\");\n                    System.out.println(\"Enter a 5 digit number...\");\n                }\n            } catch (Exception e) {\n                System.out.println(\"That was not a number! Try again...\");\n\n            }\n            try {\n\n                char letter = scan.next().charAt(0);\n                if (letter == 'Y' || letter == 'y') {\n                    yesno = true;\n                } else if (letter == 'N' || letter == 'n') {\n                    break;\n                } else {\n                    System.out.println(\"I will take that as a no!\");\n                    break;\n                }\n                System.out.println(\"Enter a 5 digit number...\");\n            } catch (Exception e) {\n                System.out.println(\"You did not enter a letter...\");\n\n            }\n        } while (yesno = true);\n        System.out.println(\"Goodbye!\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","graph","adjacency-matrix"],"comments":[{"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"score":1,"creation_date":1476505741,"post_id":40054451,"comment_id":67385424,"body_markdown":"https://en.wikipedia.org/wiki/Shortest_path_problem","body":"<a href=\"https://en.wikipedia.org/wiki/Shortest_path_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shortest_path_problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":9441766,"reputation":21,"user_id":7021977,"display_name":"Mike Wern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665938300,"creation_date":1476504801,"answer_id":40054871,"question_id":40054451,"body_markdown":"I figured it out.\r\nBasically I made an array to keep track of my Edges: \r\n\r\n    private Edge [] edges;\r\n\r\nThen I populated the array with my graph edges.\r\nNow, in my distance method I just find the edge with the give To and From Nodes, and extract it&#39;s value which is the distance I&#39;m looking for :)\r\n\r\n    public int distance(Node from, Node to) {\r\n\r\n        for(Edge edge: edges){\r\n            if(edge.getFrom().equals(from) &amp;&amp; edge.getTo().equals(to)){\r\n                return edge.getValue();\r\n            }\r\n        }\r\n        return 1;\r\n    }\r\n\r\nI must have thought about this simple solution earlier!","title":"Calculate distance between nodes in AdjacencyMatrix","body":"<p>I figured it out.\nBasically I made an array to keep track of my Edges:</p>\n<pre><code>private Edge [] edges;\n</code></pre>\n<p>Then I populated the array with my graph edges.\nNow, in my distance method I just find the edge with the give To and From Nodes, and extract it's value which is the distance I'm looking for :)</p>\n<pre><code>public int distance(Node from, Node to) {\n\n    for(Edge edge: edges){\n        if(edge.getFrom().equals(from) &amp;&amp; edge.getTo().equals(to)){\n            return edge.getValue();\n        }\n    }\n    return 1;\n}\n</code></pre>\n<p>I must have thought about this simple solution earlier!</p>\n"}],"owner":{"account_id":9441766,"reputation":21,"user_id":7021977,"display_name":"Mike Wern"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40054871,"answer_count":1,"score":0,"last_activity_date":1665938300,"creation_date":1476500039,"question_id":40054451,"body_markdown":"I have implemented AdjacencyMatrix in java, but I am having hard time implementing the distance() method to be able to find the distance between two nodes.\r\nAny idea how I an do that?\r\nI have tried a lot of things but I don&#39;t seem to be able to get right answer.\r\n\r\nHere&#39;s my implementation\r\n\r\n    public class AdjacencyMatrix implements Representation {\r\n    private Node[] nodes;\r\n    private int[][] adjacencyMatrix;\r\n    private int numberOfNodes =0;\r\n\r\n\r\n    public AdjacencyMatrix(File file) {\r\n\r\n        Scanner inFile;\r\n        int numNodes;\r\n        try {\r\n            inFile = new Scanner(file);\r\n            numNodes = Integer.parseInt(inFile.nextLine());\r\n\r\n            adjacencyMatrix = new int[20][20];\r\n\r\n            nodes = new Node[20];\r\n            String[] line;\r\n\r\n            while (inFile.hasNextLine()) {\r\n                line = inFile.nextLine().split(&quot;:&quot;);\r\n                Node from = new Node(Integer.parseInt(line[0]));\r\n                Node to = new Node(Integer.parseInt(line[1]));\r\n                int value = Integer.parseInt(line[2]);\r\n\r\n                if(!Arrays.asList(nodes).contains(from))\r\n                    addNode(from);\r\n                if(!Arrays.asList(nodes).contains(to))\r\n                    addNode(to);\r\n\r\n\r\n                addEdge(new Edge(from, to, value));\r\n\r\n            }\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.print(e.getCause());\r\n        }\r\n    }\r\n    public AdjacencyMatrix() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean adjacent(Node x, Node y) {\r\n        int fromIndex = findIndex(x);\r\n        int toIndex = findIndex(y);\r\n\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 1 || adjacencyMatrix[toIndex][fromIndex] ==1){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Node&gt; neighbors(Node x) {\r\n        ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;&gt;();\r\n        int fromIndex = findIndex(x);\r\n        if(x.getData().toString().equals(&quot;4&quot;)) {\r\n            System.out.println(&quot;FromIndex is: &quot; + fromIndex);\r\n        }\r\n\r\n        if(x.getData().toString().equals(&quot;4&quot;)){\r\n            for(int i =0; i &lt; nodes.length; ++i){\r\n\r\n                System.out.println(nodes[i] + &quot; &quot;);\r\n            }\r\n        }\r\n\r\n         for (int i = 0; i &lt;= numberOfNodes; i++){\r\n            if(adjacencyMatrix[fromIndex][i] == 1){\r\n\r\n                    neighbors.add(nodes[i]);\r\n                    if(x.getData().toString().equals(&quot;4&quot;)) {\r\n                    System.out.println(&quot;Match!: &quot; + i);\r\n                    System.out.println(&quot;Adding NODE: &quot; + nodes[i]);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        int [] nums = new int[neighbors.size()];\r\n        for(int i =0; i &lt; nums.length; ++i){\r\n            nums[i] = Integer.parseInt(neighbors.get(i).getData().toString());\r\n        }\r\n        Arrays.sort(nums);\r\n        ArrayList&lt;Node&gt; newNeighbors = new ArrayList&lt;&gt;();\r\n        for(int i =0; i &lt; nums.length; ++i){\r\n            newNeighbors.add(new Node(nums[i]));\r\n        }\r\n        return newNeighbors;\r\n    }\r\n\r\n    @Override\r\n    public boolean addNode(Node x) {\r\n        if(Arrays.asList(nodes).contains(x)){\r\n            return false;\r\n        }\r\n\r\n\r\n        nodes[numberOfNodes] = x;\r\n\r\n        for (int i = 0; i &lt;= numberOfNodes; i++){\r\n\r\n            adjacencyMatrix[numberOfNodes][i] = 0;\r\n            adjacencyMatrix[i][numberOfNodes] = 0;\r\n        }\r\n        numberOfNodes++;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean removeNode(Node x) {\r\n\r\n        if (!Arrays.asList(nodes).contains(x)) {\r\n            return false;\r\n        }\r\n        for (int k = 0; k &lt; numberOfNodes; k++) {\r\n            if (x.equals(nodes[k])) {\r\n\r\n                //decrement the number of nodes\r\n                numberOfNodes--;\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    nodes[i] = nodes[i + 1];\r\n                }\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    for (int j = 0; j &lt;= numberOfNodes; j++) {\r\n                        adjacencyMatrix[i][j] = adjacencyMatrix[i + 1][j];\r\n                    }\r\n                }\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    for (int j = 0; j &lt; numberOfNodes; j++) {\r\n                        adjacencyMatrix[j][i] = adjacencyMatrix[j][i + 1];\r\n                    }\r\n                }\r\n            }\r\n\r\n            //\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean addEdge(Edge x){\r\n\r\n        int from = Integer.parseInt(x.getFrom().getData().toString());\r\n        int to = Integer.parseInt(x.getTo().getData().toString());\r\n        int fromIndex = findIndex(x.getFrom());\r\n        int toIndex = findIndex(x.getTo());\r\n\r\n        if(from == 4){\r\n            System.out.println(&quot;Adding adjecent to 4 -&gt; &quot; + to);\r\n\r\n        }\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 1 ){\r\n            return false;\r\n        }\r\n\r\n        adjacencyMatrix[fromIndex][toIndex] = 1;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean removeEdge(Edge x) {\r\n        int from = Integer.parseInt(x.getFrom().getData().toString());\r\n        int to = Integer.parseInt(x.getTo().getData().toString());\r\n        int fromIndex = findIndex(x.getFrom());\r\n        int toIndex = findIndex(x.getTo());\r\n\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 0 &amp;&amp; adjacencyMatrix[toIndex][fromIndex] ==0){\r\n            return false;\r\n        }\r\n\r\n        adjacencyMatrix[fromIndex][toIndex] = 0;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public int distance(Node from, Node to) {\r\n        return 0;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Optional&lt;Node&gt; getNode(int index) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;Node&gt; getNodes() {\r\n\r\n        return Arrays.asList(nodes);\r\n    }\r\n\r\n    public int findIndex(Node node)\r\n    {\r\n        for (int i = 0; i &lt; numberOfNodes; ++i)\r\n            if (nodes[i].equals(node))\r\n                return i;\r\n        return -1;\r\n    }}\r\n\r\nAll my methods are working except distance().\r\nI am returning 0 in the distance() method since I don&#39;t know how to implement it correctly.\r\nAny help would be greatly appreciated.\r\n","title":"Calculate distance between nodes in AdjacencyMatrix","body":"<p>I have implemented AdjacencyMatrix in java, but I am having hard time implementing the distance() method to be able to find the distance between two nodes.\nAny idea how I an do that?\nI have tried a lot of things but I don't seem to be able to get right answer.</p>\n\n<p>Here's my implementation</p>\n\n<pre><code>public class AdjacencyMatrix implements Representation {\nprivate Node[] nodes;\nprivate int[][] adjacencyMatrix;\nprivate int numberOfNodes =0;\n\n\npublic AdjacencyMatrix(File file) {\n\n    Scanner inFile;\n    int numNodes;\n    try {\n        inFile = new Scanner(file);\n        numNodes = Integer.parseInt(inFile.nextLine());\n\n        adjacencyMatrix = new int[20][20];\n\n        nodes = new Node[20];\n        String[] line;\n\n        while (inFile.hasNextLine()) {\n            line = inFile.nextLine().split(\":\");\n            Node from = new Node(Integer.parseInt(line[0]));\n            Node to = new Node(Integer.parseInt(line[1]));\n            int value = Integer.parseInt(line[2]);\n\n            if(!Arrays.asList(nodes).contains(from))\n                addNode(from);\n            if(!Arrays.asList(nodes).contains(to))\n                addNode(to);\n\n\n            addEdge(new Edge(from, to, value));\n\n        }\n\n\n    } catch (FileNotFoundException e) {\n        System.out.print(e.getCause());\n    }\n}\npublic AdjacencyMatrix() {\n\n}\n\n@Override\npublic boolean adjacent(Node x, Node y) {\n    int fromIndex = findIndex(x);\n    int toIndex = findIndex(y);\n\n    if(adjacencyMatrix[fromIndex][toIndex] == 1 || adjacencyMatrix[toIndex][fromIndex] ==1){\n        return true;\n    }\n    return false;\n}\n\n@Override\npublic List&lt;Node&gt; neighbors(Node x) {\n    ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;&gt;();\n    int fromIndex = findIndex(x);\n    if(x.getData().toString().equals(\"4\")) {\n        System.out.println(\"FromIndex is: \" + fromIndex);\n    }\n\n    if(x.getData().toString().equals(\"4\")){\n        for(int i =0; i &lt; nodes.length; ++i){\n\n            System.out.println(nodes[i] + \" \");\n        }\n    }\n\n     for (int i = 0; i &lt;= numberOfNodes; i++){\n        if(adjacencyMatrix[fromIndex][i] == 1){\n\n                neighbors.add(nodes[i]);\n                if(x.getData().toString().equals(\"4\")) {\n                System.out.println(\"Match!: \" + i);\n                System.out.println(\"Adding NODE: \" + nodes[i]);\n            }\n        }\n\n    }\n\n    int [] nums = new int[neighbors.size()];\n    for(int i =0; i &lt; nums.length; ++i){\n        nums[i] = Integer.parseInt(neighbors.get(i).getData().toString());\n    }\n    Arrays.sort(nums);\n    ArrayList&lt;Node&gt; newNeighbors = new ArrayList&lt;&gt;();\n    for(int i =0; i &lt; nums.length; ++i){\n        newNeighbors.add(new Node(nums[i]));\n    }\n    return newNeighbors;\n}\n\n@Override\npublic boolean addNode(Node x) {\n    if(Arrays.asList(nodes).contains(x)){\n        return false;\n    }\n\n\n    nodes[numberOfNodes] = x;\n\n    for (int i = 0; i &lt;= numberOfNodes; i++){\n\n        adjacencyMatrix[numberOfNodes][i] = 0;\n        adjacencyMatrix[i][numberOfNodes] = 0;\n    }\n    numberOfNodes++;\n    return true;\n}\n\n@Override\npublic boolean removeNode(Node x) {\n\n    if (!Arrays.asList(nodes).contains(x)) {\n        return false;\n    }\n    for (int k = 0; k &lt; numberOfNodes; k++) {\n        if (x.equals(nodes[k])) {\n\n            //decrement the number of nodes\n            numberOfNodes--;\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                nodes[i] = nodes[i + 1];\n            }\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                for (int j = 0; j &lt;= numberOfNodes; j++) {\n                    adjacencyMatrix[i][j] = adjacencyMatrix[i + 1][j];\n                }\n            }\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                for (int j = 0; j &lt; numberOfNodes; j++) {\n                    adjacencyMatrix[j][i] = adjacencyMatrix[j][i + 1];\n                }\n            }\n        }\n\n        //\n\n    }\n    return true;\n}\n\n\n@Override\npublic boolean addEdge(Edge x){\n\n    int from = Integer.parseInt(x.getFrom().getData().toString());\n    int to = Integer.parseInt(x.getTo().getData().toString());\n    int fromIndex = findIndex(x.getFrom());\n    int toIndex = findIndex(x.getTo());\n\n    if(from == 4){\n        System.out.println(\"Adding adjecent to 4 -&gt; \" + to);\n\n    }\n    if(adjacencyMatrix[fromIndex][toIndex] == 1 ){\n        return false;\n    }\n\n    adjacencyMatrix[fromIndex][toIndex] = 1;\n    return true;\n}\n\n@Override\npublic boolean removeEdge(Edge x) {\n    int from = Integer.parseInt(x.getFrom().getData().toString());\n    int to = Integer.parseInt(x.getTo().getData().toString());\n    int fromIndex = findIndex(x.getFrom());\n    int toIndex = findIndex(x.getTo());\n\n    if(adjacencyMatrix[fromIndex][toIndex] == 0 &amp;&amp; adjacencyMatrix[toIndex][fromIndex] ==0){\n        return false;\n    }\n\n    adjacencyMatrix[fromIndex][toIndex] = 0;\n    return true;\n}\n\n@Override\npublic int distance(Node from, Node to) {\n    return 0;\n}\n\n\n@Override\npublic Optional&lt;Node&gt; getNode(int index) {\n    return null;\n}\n\n@Override\npublic Collection&lt;Node&gt; getNodes() {\n\n    return Arrays.asList(nodes);\n}\n\npublic int findIndex(Node node)\n{\n    for (int i = 0; i &lt; numberOfNodes; ++i)\n        if (nodes[i].equals(node))\n            return i;\n    return -1;\n}}\n</code></pre>\n\n<p>All my methods are working except distance().\nI am returning 0 in the distance() method since I don't know how to implement it correctly.\nAny help would be greatly appreciated.</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1664639319,"post_id":73919599,"comment_id":130519987,"body_markdown":"You are missing vital information here. Start with providing the stacktrace of your application and not a screenshot showing the error at the swagger ui.","body":"You are missing vital information here. Start with providing the stacktrace of your application and not a screenshot showing the error at the swagger ui."}],"answers":[{"tags":[],"owner":{"account_id":26501274,"reputation":11,"user_id":20138177,"display_name":"Ashwini Bedwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938195,"creation_date":1665938195,"answer_id":74088907,"question_id":73919599,"body_markdown":"The swagger version was incompatible with Jackson-databind(2.13.2.1). So, updated the swagger version too.","title":"JAVA -Getting &quot;Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet&quot; while accessing swagger UI","body":"<p>The swagger version was incompatible with Jackson-databind(2.13.2.1). So, updated the swagger version too.</p>\n"}],"owner":{"account_id":26501274,"reputation":11,"user_id":20138177,"display_name":"Ashwini Bedwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665938195,"creation_date":1664638320,"question_id":73919599,"body_markdown":"[refer this screenshot to see error][1]** Java - Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet**\r\n\r\nGetting this error while accessing the swagger UI. Earlier it was working fine but after upgrading Jackson-databind.jar along with its dependencies Jackson core and Jackson annotation jars from 2.10.5 to 2.13.4(also tried with versions 2.13.2.1 and 2.13.2.2)after this change unable to access swagger UI. \r\n(I have installed my build using ocp setup so, there all the pods are up and running)\r\n\r\n\r\nswagger jar version= 1.5.16\r\n\r\nLogs:\r\n\r\n[10/2/22 22:51:25:961 GMT] 00000041 com.ibm.ws.webcontainer.webapp                               E SRVE0315E: An exception occurred: java.lang.Throwable: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\r\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5117)\r\n        at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:316)\r\n        at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\r\n        at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:281)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1184)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:453)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:412)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\r\n        at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.lang.Thread.run(Thread.java:822)\r\nCaused by: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:368)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:601)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\r\n        at com.ibm.cdb.api.rest.config.RespHeaderAddFilter.doFilter(RespHeaderAddFilter.java:48)\r\n        at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\r\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5059)\r\n        ... 18 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.apache.cxf.jaxrs.spring.JAXRSServerFactoryBeanDefinitionParser$SpringJAXRSServerFactoryBean---1032362584&#39;: Invocation of init method failed; nested exception is java.util.ServiceConfigurationError: io.swagger.jaxrs.ext.SwaggerExtension: Provider org.apache.cxf.jaxrs.swagger.JaxRs2Extension could not be instantiated\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n        at org\r\n\r\n  [1]: https://i.stack.imgur.com/IjU5w.png\r\n","title":"JAVA -Getting &quot;Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet&quot; while accessing swagger UI","body":"<p><a href=\"https://i.stack.imgur.com/IjU5w.png\" rel=\"nofollow noreferrer\">refer this screenshot to see error</a>** Java - Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet**</p>\n<p>Getting this error while accessing the swagger UI. Earlier it was working fine but after upgrading Jackson-databind.jar along with its dependencies Jackson core and Jackson annotation jars from 2.10.5 to 2.13.4(also tried with versions 2.13.2.1 and 2.13.2.2)after this change unable to access swagger UI.\n(I have installed my build using ocp setup so, there all the pods are up and running)</p>\n<p>swagger jar version= 1.5.16</p>\n<p>Logs:</p>\n<p>[10/2/22 22:51:25:961 GMT] 00000041 com.ibm.ws.webcontainer.webapp                               E SRVE0315E: An exception occurred: java.lang.Throwable: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\nat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5117)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:316)\nat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:281)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1184)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:453)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:412)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\nat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\nat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.lang.Thread.run(Thread.java:822)\nCaused by: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:368)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:601)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\nat com.ibm.cdb.api.rest.config.RespHeaderAddFilter.doFilter(RespHeaderAddFilter.java:48)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\nat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5059)\n... 18 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.cxf.jaxrs.spring.JAXRSServerFactoryBeanDefinitionParser$SpringJAXRSServerFactoryBean---1032362584': Invocation of init method failed; nested exception is java.util.ServiceConfigurationError: io.swagger.jaxrs.ext.SwaggerExtension: Provider org.apache.cxf.jaxrs.swagger.JaxRs2Extension could not be instantiated\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\nat org</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1437120171,"post_id":31470948,"comment_id":50907628,"body_markdown":"Tags don&#39;t go in titles. I&#39;ve fixed the title for you -- removed the tag, added the `new String[]` bit so people don&#39;t drive-by-downvote for not reading the `String.valueOf` docs. (That said, [the documentation](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-) *does* tell you exactly what the second part of your question asks.)","body":"Tags don&#39;t go in titles. I&#39;ve fixed the title for you -- removed the tag, added the <code>new String[]</code> bit so people don&#39;t drive-by-downvote for not reading the <code>String.valueOf</code> docs. (That said, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-\" rel=\"nofollow noreferrer\">the documentation</a> <i>does</i> tell you exactly what the second part of your question asks.)"},{"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"score":0,"creation_date":1437120312,"post_id":31470948,"comment_id":50907692,"body_markdown":"Thanks, I am new here :)","body":"Thanks, I am new here :)"},{"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"score":0,"creation_date":1437120667,"post_id":31470948,"comment_id":50907865,"body_markdown":"I have no idea why the code is doing what it is doing? String.valueOf(x)  takes the object/int/long etc x and turns it into a string, as the value of x is hardcoded why didn&#39;t they just String[] strArray = new String[] {&quot;1&quot;};","body":"I have no idea why the code is doing what it is doing? String.valueOf(x)  takes the object/int/long etc x and turns it into a string, as the value of x is hardcoded why didn&#39;t they just String[] strArray = new String[] {&quot;1&quot;};"},{"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"score":0,"creation_date":1437120803,"post_id":31470948,"comment_id":50907933,"body_markdown":"I hardcoded it for clearness. In the original code it is a variable.","body":"I hardcoded it for clearness. In the original code it is a variable."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1437120370,"creation_date":1437120370,"answer_id":31471091,"question_id":31470948,"body_markdown":"This:\n\n    String[] strArray = new String[]{\n        // ...\n    };\n\n...creates a `String` array and initializes it with the entries in the `{...}` part. In your case, there&#39;s only one entry.\n\n&gt; Why String is created like an object and what does\n&gt;\n&gt; `valueOf(1);`\n\nAs [the documentation will tell you](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-), `String.valueOf(int)` creates a string representation of the integer value you pass in.\n\nSo what that code does is create an array of `String` with one entry, `&quot;1&quot;`, in it. It&#39;s unclear why the author would have written `String.valueOf(1)` rather than simply `&quot;1&quot;`.","title":"What does this new String[] and String.value() code mean?","body":"<p>This:</p>\n<pre><code>String[] strArray = new String[]{\n    // ...\n};\n</code></pre>\n<p>...creates a <code>String</code> array and initializes it with the entries in the <code>{...}</code> part. In your case, there's only one entry.</p>\n<blockquote>\n<p>Why String is created like an object and what does</p>\n<p><code>valueOf(1);</code></p>\n</blockquote>\n<p>As <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-\" rel=\"nofollow noreferrer\">the documentation will tell you</a>, <code>String.valueOf(int)</code> creates a string representation of the integer value you pass in.</p>\n<p>So what that code does is create an array of <code>String</code> with one entry, <code>&quot;1&quot;</code>, in it. It's unclear why the author would have written <code>String.valueOf(1)</code> rather than simply <code>&quot;1&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":6299828,"reputation":615,"user_id":4894814,"accept_rate":38,"display_name":"Christophe Schutz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437120501,"creation_date":1437120501,"answer_id":31471121,"question_id":31470948,"body_markdown":"    String.valueOf(...)\r\n\r\nis a method that parses an object or a primitive, and creates a String representation of that object. For example the integer 1 will be converted to the string &quot;1&quot; (as in your example).\r\n\r\n---------------------------------\r\n\r\n    String[] strArray = new String[]{\r\n           String.valueOf(1)\r\n      };\r\n\r\n\r\nmeans that we instantiate an array of Strings (basically an array that contains multiple Strings), and we add a String containing &quot;1&quot; in it (see my explanation above).","title":"What does this new String[] and String.value() code mean?","body":"<pre><code>String.valueOf(...)\n</code></pre>\n\n<p>is a method that parses an object or a primitive, and creates a String representation of that object. For example the integer 1 will be converted to the string \"1\" (as in your example).</p>\n\n<hr>\n\n<pre><code>String[] strArray = new String[]{\n       String.valueOf(1)\n  };\n</code></pre>\n\n<p>means that we instantiate an array of Strings (basically an array that contains multiple Strings), and we add a String containing \"1\" in it (see my explanation above).</p>\n"},{"tags":[],"owner":{"account_id":4813898,"reputation":337,"user_id":3886537,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938085,"creation_date":1437120581,"answer_id":31471142,"question_id":31470948,"body_markdown":"The code snippet in the question looks like wrong. and I hope it should be as follows. \r\n\r\n      String[] s= new String[]{\r\n\t\t           String.valueOf(1)\r\n\t\t      };\r\n\r\nString.valueOf(1) &quot;Returns the string representation of the int argument&quot;.\r\n\r\nthe values is returned from  &quot; String.valueOf(1)&quot; is assigned to the string array object. The value &quot;1&quot; will be stored in the 0th index. \r\n","title":"What does this new String[] and String.value() code mean?","body":"<p>The code snippet in the question looks like wrong. and I hope it should be as follows.</p>\n<pre><code>  String[] s= new String[]{\n               String.valueOf(1)\n          };\n</code></pre>\n<p>String.valueOf(1) &quot;Returns the string representation of the int argument&quot;.</p>\n<p>the values is returned from  &quot; String.valueOf(1)&quot; is assigned to the string array object. The value &quot;1&quot; will be stored in the 0th index.</p>\n"}],"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":31471091,"answer_count":3,"score":3,"last_activity_date":1665938085,"creation_date":1437119814,"question_id":31470948,"body_markdown":"I am doing some Android development and I encountered this:\r\n\r\n \r\n\r\n           String[] strArray = new String[]{\r\n               String.valueOf(1)\r\n          };\r\n\r\nWhy String is created like an object and what does \r\n\r\n    valueOf(1)\r\nactually set here ?","title":"What does this new String[] and String.value() code mean?","body":"<p>I am doing some Android development and I encountered this:</p>\n\n<pre><code>       String[] strArray = new String[]{\n           String.valueOf(1)\n      };\n</code></pre>\n\n<p>Why String is created like an object and what does </p>\n\n<pre><code>valueOf(1)\n</code></pre>\n\n<p>actually set here ?</p>\n"},{"tags":["java","java-time","datetime-parsing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1502293986,"post_id":45595169,"comment_id":78150355,"body_markdown":"That&#39;s not a `LocalDateTime`, that&#39;s only a `LocalTime`.","body":"That&#39;s not a <code>LocalDateTime</code>, that&#39;s only a <code>LocalTime</code>."},{"owner":{"account_id":11149481,"reputation":213,"user_id":8183195,"accept_rate":67,"display_name":"SVCS1994"},"score":0,"creation_date":1502295053,"post_id":45595169,"comment_id":78151006,"body_markdown":"I apologize. Let me rephrase that.","body":"I apologize. Let me rephrase that."}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502294187,"creation_date":1502294187,"answer_id":45595483,"question_id":45595169,"body_markdown":"Hope this will help you. I think you could do it using **DateTimeFormatter** and **LocalDateTime** parsing like below example.\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEEE, MMM d, yyyy HH:mm:ss a&quot;);\r\n\r\n        String date = &quot;Tuesday, Aug 13, 2017 12:10:56 PM&quot;;\r\n        LocalDateTime localDateTime = LocalDateTime.parse(date,  formatter);\r\n        System.out.println(localDateTime);\r\n        System.out.println(formatter.format(localDateTime));\r\n\r\n\r\nOutput\r\n======\r\n\r\n2017-08-13T12:10:56\r\n\r\nTuesday, Aug 13, 2017 12:10:56 PM\r\n\r\n\r\nSimilar posts would be https://stackoverflow.com/questions/39637618/java-8-trying-to-convert-string-to-localdatetime","title":"How to convert a given time (String) to a LocalTime?","body":"<p>Hope this will help you. I think you could do it using <strong>DateTimeFormatter</strong> and <strong>LocalDateTime</strong> parsing like below example.</p>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"EEEE, MMM d, yyyy HH:mm:ss a\");\n\n    String date = \"Tuesday, Aug 13, 2017 12:10:56 PM\";\n    LocalDateTime localDateTime = LocalDateTime.parse(date,  formatter);\n    System.out.println(localDateTime);\n    System.out.println(formatter.format(localDateTime));\n</code></pre>\n\n<h1>Output</h1>\n\n<p>2017-08-13T12:10:56</p>\n\n<p>Tuesday, Aug 13, 2017 12:10:56 PM</p>\n\n<p>Similar posts would be <a href=\"https://stackoverflow.com/questions/39637618/java-8-trying-to-convert-string-to-localdatetime\">Java 8 - Trying to convert String to LocalDateTime</a></p>\n"},{"tags":[],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1502344235,"creation_date":1502294433,"answer_id":45595565,"question_id":45595169,"body_markdown":"If you want to parse time only, you should try parsing to `LocalTime`. Following is the code to implement this:\r\n\r\n    DateTimeFormatter parseFormat = new DateTimeFormatterBuilder().appendPattern(&quot;hh[:mm]a&quot;).toFormatter();\r\n\tLocalTime localTime = LocalTime.parse(timeValue, parseFormat);","title":"How to convert a given time (String) to a LocalTime?","body":"<p>If you want to parse time only, you should try parsing to <code>LocalTime</code>. Following is the code to implement this:</p>\n\n<pre><code>DateTimeFormatter parseFormat = new DateTimeFormatterBuilder().appendPattern(\"hh[:mm]a\").toFormatter();\nLocalTime localTime = LocalTime.parse(timeValue, parseFormat);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1502295496,"creation_date":1502295496,"answer_id":45595908,"question_id":45595169,"body_markdown":"Just use a `java.time.format.DateTimeFormatter`:\r\n\r\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;);\r\n    LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, parser);\r\n\r\nExplaining the pattern:\r\n\r\n- `h`: am/pm hour of day (from 1 to 12), with 1 or 2 digits\r\n- `[]`: delimiters for optional section (everything inside it is optional)\r\n- `:mm`: a `:` character followed by minutes with 2 digits\r\n- `a`: designator for AM/PM\r\n\r\nThis works for all your inputs.","title":"How to convert a given time (String) to a LocalTime?","body":"<p>Just use a <code>java.time.format.DateTimeFormatter</code>:</p>\n\n<pre><code>DateTimeFormatter parser = DateTimeFormatter.ofPattern(\"h[:mm]a\");\nLocalTime localTime = LocalTime.parse(\"10AM\", parser);\n</code></pre>\n\n<p>Explaining the pattern:</p>\n\n<ul>\n<li><code>h</code>: am/pm hour of day (from 1 to 12), with 1 or 2 digits</li>\n<li><code>[]</code>: delimiters for optional section (everything inside it is optional)</li>\n<li><code>:mm</code>: a <code>:</code> character followed by minutes with 2 digits</li>\n<li><code>a</code>: designator for AM/PM</li>\n</ul>\n\n<p>This works for all your inputs.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665938078,"creation_date":1665938078,"answer_id":74088892,"question_id":45595169,"body_markdown":"The solution provided in the [accepted answer](https://stackoverflow.com/a/45595908/10819573) works only if you execute it on a machine with `ENGLISH` as the default `Locale`; it will fail otherwise. \r\n\r\n[Never use `SimpleDateFormat` or `DateTimeFormatter` without a Locale](https://stackoverflow.com/a/65544056/10819573) because they are `Locale`-sensitive. Use the following one to avoid failure due to the default `Locale` not matching the input.\r\n\r\n    DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\r\n            Stream.of(\r\n                    &quot;10AM&quot;,\r\n                    &quot;12:30PM&quot;,\r\n                    &quot;2:47PM&quot;,\r\n                    &quot;1:09AM&quot;,\r\n                    &quot;5PM&quot;\r\n            )\r\n            .map(s -&gt; LocalTime.parse(s, parser))\r\n            .forEach(System.out::println);\r\n    \r\n            // See how it can fail with other locales\r\n            // Assuming the default Locale of the system is Locale.CHINA,\r\n            // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;) will automatically be turned into\r\n            // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA) causig the parsing to\r\n            // fail\r\n            DateTimeFormatter errorProneParser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA);\r\n            LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, errorProneParser);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    10:00\r\n    12:30\r\n    14:47\r\n    01:09\r\n    17:00\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;10AM&#39; could not be parsed at index 2\r\n            at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n            at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\r\n            at java.base/java.time.LocalTime.parse(LocalTime.java:465)\r\n            at Main.main(Main.java:24)\r\n\r\n","title":"How to convert a given time (String) to a LocalTime?","body":"<p>The solution provided in the <a href=\"https://stackoverflow.com/a/45595908/10819573\">accepted answer</a> works only if you execute it on a machine with <code>ENGLISH</code> as the default <code>Locale</code>; it will fail otherwise.</p>\n<p><a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a Locale</a> because they are <code>Locale</code>-sensitive. Use the following one to avoid failure due to the default <code>Locale</code> not matching the input.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\n        Stream.of(\n                &quot;10AM&quot;,\n                &quot;12:30PM&quot;,\n                &quot;2:47PM&quot;,\n                &quot;1:09AM&quot;,\n                &quot;5PM&quot;\n        )\n        .map(s -&gt; LocalTime.parse(s, parser))\n        .forEach(System.out::println);\n\n        // See how it can fail with other locales\n        // Assuming the default Locale of the system is Locale.CHINA,\n        // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;) will automatically be turned into\n        // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA) causig the parsing to\n        // fail\n        DateTimeFormatter errorProneParser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA);\n        LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, errorProneParser);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>10:00\n12:30\n14:47\n01:09\n17:00\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '10AM' could not be parsed at index 2\n        at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\n        at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\n        at java.base/java.time.LocalTime.parse(LocalTime.java:465)\n        at Main.main(Main.java:24)\n</code></pre>\n"}],"owner":{"account_id":11149481,"reputation":213,"user_id":8183195,"accept_rate":67,"display_name":"SVCS1994"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6089,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45595908,"answer_count":4,"score":10,"last_activity_date":1665938078,"creation_date":1502293303,"question_id":45595169,"body_markdown":"I will be asking a user to enter a specific time: 10AM, 12:30PM, 2:47PM, 1:09AM, 5PM, etc.\r\nI will be using a `Scanner` to get the user&#39;s input. \r\n\r\nHow can I parse/convert that `String` to a `LocalTime` object? Is there any built-in function in Java that will allow me to do that?\r\n","title":"How to convert a given time (String) to a LocalTime?","body":"<p>I will be asking a user to enter a specific time: 10AM, 12:30PM, 2:47PM, 1:09AM, 5PM, etc.\nI will be using a <code>Scanner</code> to get the user's input. </p>\n\n<p>How can I parse/convert that <code>String</code> to a <code>LocalTime</code> object? Is there any built-in function in Java that will allow me to do that?</p>\n"},{"tags":["java","spring","spring-boot","http-live-streaming"],"answers":[{"tags":[],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665937968,"creation_date":1665937968,"answer_id":74088875,"question_id":74073454,"body_markdown":"Current solution is to have the client buffer streaming A/V until 32K bytes are buffered, and then I defined a `POST` endpoint in Spring Boot that accepts a `MultipartFile` in the request body (the 32K bytes).\r\n\r\nThe Java code in that resource endpoint then invokes an `@Async` service method that uses [ffmpeg-cli-wrapper](https://github.com/bramp/ffmpeg-cli-wrapper) to append the bytes in the `MultipartFile` to the end of an MP4 file I&#39;m storing in S3.\r\n\r\nThis is working but I will continue to tweak the buffer size until I have a size/configuration that is a careful balance of POST requests (the client sending chunks of the livestream as `MultipartFiles`) and video processing efficiency.","title":"Uploading and live video stream to a Spring Boot endpoint, by example","body":"<p>Current solution is to have the client buffer streaming A/V until 32K bytes are buffered, and then I defined a <code>POST</code> endpoint in Spring Boot that accepts a <code>MultipartFile</code> in the request body (the 32K bytes).</p>\n<p>The Java code in that resource endpoint then invokes an <code>@Async</code> service method that uses <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">ffmpeg-cli-wrapper</a> to append the bytes in the <code>MultipartFile</code> to the end of an MP4 file I'm storing in S3.</p>\n<p>This is working but I will continue to tweak the buffer size until I have a size/configuration that is a careful balance of POST requests (the client sending chunks of the livestream as <code>MultipartFiles</code>) and video processing efficiency.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74088875,"answer_count":1,"score":1,"last_activity_date":1665937968,"creation_date":1665772341,"question_id":74073454,"body_markdown":"I am interested in building a Spring Boot (Java 11) web service that has a controller/resource that exposes an API endpoint for accepting **streaming video**. Particularly I am interested in accomplishing this over HTTP/HLS. The idea is that clients could livestream a video feed to this endpoint, and the endpoint would be doing realtime video processing on it.\r\n\r\nWhen you Google &quot;java spring streaming video&quot; you get a bazillion hits for either:\r\n\r\n- Writing a Spring controller/resource (endpoint) that accepts a **single** (already recorded; a.k.a. **not live**) video file upload as a `MultiPartFile`; or\r\n- Writing a Spring controller/resource (endpoint) that downloads and streams a video by range of bytes, as a `MultiPartFile`; a.k.a. a streaming download to a video player on the client-side\r\n\r\n**But this isn&#39;t what I want.** I am curious to see how a client would livestream a video (byte after byte) to a service endpoint so that the video&#39;s `byte[]` is being constantly read and processed server-side. Maybe I want to run AI/ML detections on the video, or do some type of image/graphics processing. The application doesn&#39;t really matter, all I am curious here is how to write a Spring Boot endpoint to handle a livestream video feed from client to server (livestream upload).\r\n\r\nWould the client just send the livestream in &quot;chunks&quot; or batches of `MultiPartFile` payloads? Either way, there don&#39;t appear to be any guides on how to do this in Spring, and I&#39;m sure its definitely something that Spring could handle. **Any ideas?**","title":"Uploading and live video stream to a Spring Boot endpoint, by example","body":"<p>I am interested in building a Spring Boot (Java 11) web service that has a controller/resource that exposes an API endpoint for accepting <strong>streaming video</strong>. Particularly I am interested in accomplishing this over HTTP/HLS. The idea is that clients could livestream a video feed to this endpoint, and the endpoint would be doing realtime video processing on it.</p>\n<p>When you Google &quot;java spring streaming video&quot; you get a bazillion hits for either:</p>\n<ul>\n<li>Writing a Spring controller/resource (endpoint) that accepts a <strong>single</strong> (already recorded; a.k.a. <strong>not live</strong>) video file upload as a <code>MultiPartFile</code>; or</li>\n<li>Writing a Spring controller/resource (endpoint) that downloads and streams a video by range of bytes, as a <code>MultiPartFile</code>; a.k.a. a streaming download to a video player on the client-side</li>\n</ul>\n<p><strong>But this isn't what I want.</strong> I am curious to see how a client would livestream a video (byte after byte) to a service endpoint so that the video's <code>byte[]</code> is being constantly read and processed server-side. Maybe I want to run AI/ML detections on the video, or do some type of image/graphics processing. The application doesn't really matter, all I am curious here is how to write a Spring Boot endpoint to handle a livestream video feed from client to server (livestream upload).</p>\n<p>Would the client just send the livestream in &quot;chunks&quot; or batches of <code>MultiPartFile</code> payloads? Either way, there don't appear to be any guides on how to do this in Spring, and I'm sure its definitely something that Spring could handle. <strong>Any ideas?</strong></p>\n"},{"tags":["java","saxparser"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665928456,"post_id":74087360,"comment_id":130809039,"body_markdown":"No recent experience with xml, but https://www.oracle.com/technical-resources/articles/wang-whitespace.html mentions some `.preserveWhitespace()` method. Coud make `.toString()` method work?","body":"No recent experience with xml, but <a href=\"https://www.oracle.com/technical-resources/articles/wang-whitespace.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/wang-whitespace.html</a> mentions some <code>.preserveWhitespace()</code> method. Coud make <code>.toString()</code> method work?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665929465,"post_id":74087360,"comment_id":130809274,"body_markdown":"*if i trim the final data, tagB fail the expect (&quot;:&quot;)* Why? The colon would remain...","body":"<i>if i trim the final data, tagB fail the expect (&quot;:&quot;)</i> Why? The colon would remain..."},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665929906,"post_id":74087360,"comment_id":130809375,"body_markdown":"@zapl i readed this article, but i don&#39;t have oracle xml, i&#39;m using javax.xml.parsers.SAXParser and not have .preserveWhitespace()","body":"@zapl i readed this article, but i don&#39;t have oracle xml, i&#39;m using javax.xml.parsers.SAXParser and not have .preserveWhitespace()"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665929973,"post_id":74087360,"comment_id":130809385,"body_markdown":"@g00se, because i want &quot;  :  &quot;, ( due spaces before and after colon) if i trim i have &quot;:&quot;","body":"@g00se, because i want &quot;  :  &quot;, ( due spaces before and after colon) if i trim i have &quot;:&quot;"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665930557,"post_id":74087360,"comment_id":130809505,"body_markdown":"oops, didn&#39;t know there was another one, maybe overriding the [ignorableWhitespace](https://docs.oracle.com/javase/7/docs/api/org/xml/sax/helpers/DefaultHandler.html#ignorableWhitespace(char[],%20int,%20int)) method helps instead. Xml and whitespace is kind of tricky :/ There&#39;s also maybe a way via CDATA: https://stackoverflow.com/a/27481570/995891","body":"oops, didn&#39;t know there was another one, maybe overriding the <a href=\"https://docs.oracle.com/javase/7/docs/api/org/xml/sax/helpers/DefaultHandler.html#ignorableWhitespace(char%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">ignorableWhitespace</a> method helps instead. Xml and whitespace is kind of tricky :/ There&#39;s also maybe a way via CDATA: <a href=\"https://stackoverflow.com/a/27481570/995891\">stackoverflow.com/a/27481570/995891</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665931164,"post_id":74087360,"comment_id":130809656,"body_markdown":"I&#39;m confused. You say *fail the expect (&quot;:&quot;)* so if you &quot;expect&quot; it, in what way does it fail? And if you want space surrounding the colon why *would* you trim in the first place and not leave it as is? Also I have to say that it&#39;s not really about xml at this point. &quot;Ignorable whitespace&quot; is to do with metadata and markup. Your whitespace is data (part of the content).","body":"I&#39;m confused. You say <i>fail the expect (&quot;:&quot;)</i> so if you &quot;expect&quot; it, in what way does it fail? And if you want space surrounding the colon why <i>would</i> you trim in the first place and not leave it as is? Also I have to say that it&#39;s not really about xml at this point. &quot;Ignorable whitespace&quot; is to do with metadata and markup. Your whitespace is data (part of the content)."},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932140,"post_id":74087360,"comment_id":130809869,"body_markdown":"@g00se sorry, there is a problem with format of my post... my expect have to be &quot;  :  &quot; ( due spaces before and after colon)","body":"@g00se sorry, there is a problem with format of my post... my expect have to be &quot;  :  &quot; ( due spaces before and after colon)"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932210,"post_id":74087360,"comment_id":130809882,"body_markdown":"@zapl i receive xml file from various external provider, and i cannot ask to put CDATA :\\","body":"@zapl i receive xml file from various external provider, and i cannot ask to put CDATA :\\"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665932334,"post_id":74087360,"comment_id":130809906,"body_markdown":"OK. Still confused. You &quot;expect&quot; `&quot; : &quot; `But that&#39;s precisely what I get out of your basic code, so I still don&#39;t see what the problem is..?","body":"OK. Still confused. You &quot;expect&quot; <code>&quot; : &quot; </code>But that&#39;s precisely what I get out of your basic code, so I still don&#39;t see what the problem is..?"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932720,"post_id":74087360,"comment_id":130810000,"body_markdown":"@g00se, i try to clarify the result of code posted above is `tagA=&quot;\\n    190&quot;, tagB=&quot;\\n      :  &quot;, tagC=&quot;\\n\\t2019-07-02&quot;` - so tagA and tagC not good. If i make a trim() the result is `tagA=&quot;190&quot;, tagB=&quot;:&quot;, tagC=&quot;2019-07-02&quot;` - so tagB not good","body":"@g00se, i try to clarify the result of code posted above is <code>tagA=&quot;\\n    190&quot;, tagB=&quot;\\n      :  &quot;, tagC=&quot;\\n\\t2019-07-02&quot;</code> - so tagA and tagC not good. If i make a trim() the result is <code>tagA=&quot;190&quot;, tagB=&quot;:&quot;, tagC=&quot;2019-07-02&quot;</code> - so tagB not good"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665933349,"post_id":74087360,"comment_id":130810149,"body_markdown":"Please see simplified code posted as answer. Please use the test.xml file you posted, with a different path to it if necessary","body":"Please see simplified code posted as answer. Please use the test.xml file you posted, with a different path to it if necessary"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933470,"creation_date":1665933470,"answer_id":74088268,"question_id":74087360,"body_markdown":"There is really no problem with your requirement to preserve the whitespace in your data:\r\n\r\n    import java.io.*;\r\n    import javax.xml.parsers.*;\r\n    import org.xml.sax.helpers.*;\r\n    import org.xml.sax.*;\r\n    \r\n    public class FurmaxXmlHandler extends DefaultHandler {\r\n    \r\n        private boolean isTextNode = false;\r\n        private boolean collect = false;\r\n        private StringBuilder textNode = new StringBuilder();\r\n    \r\n        @Override\r\n        public void characters(char[] ch, int start, int length) throws SAXException {\r\n            if (collect) {\r\n                textNode.append(ch, start, length);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\r\n            if (&quot;tagB&quot;.equals(qName)) {\r\n                collect = true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String name) throws SAXException {\r\n            // Delegate to active handlers and deletes them if they are finished...\r\n            if (&quot;tagB&quot;.equals(name)) {\r\n                collect = false;\r\n                System.out.printf(&quot;tagB = &#39;%s&#39;%n&quot;, textNode.toString());\r\n                textNode.setLength(0);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                File file = new File(&quot;test.xml&quot;);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser saxParser = factory.newSAXParser();\r\n                XMLReader reader = saxParser.getXMLReader();\r\n                FurmaxXmlHandler handler = new FurmaxXmlHandler();\r\n                reader.setContentHandler(handler);\r\n                InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n                reader.parse(inputSource);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Sax Parser preserve space in content","body":"<p>There is really no problem with your requirement to preserve the whitespace in your data:</p>\n<pre><code>import java.io.*;\nimport javax.xml.parsers.*;\nimport org.xml.sax.helpers.*;\nimport org.xml.sax.*;\n\npublic class FurmaxXmlHandler extends DefaultHandler {\n\n    private boolean isTextNode = false;\n    private boolean collect = false;\n    private StringBuilder textNode = new StringBuilder();\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (collect) {\n            textNode.append(ch, start, length);\n        }\n    }\n\n    @Override\n    public void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\n        if (&quot;tagB&quot;.equals(qName)) {\n            collect = true;\n        }\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String name) throws SAXException {\n        // Delegate to active handlers and deletes them if they are finished...\n        if (&quot;tagB&quot;.equals(name)) {\n            collect = false;\n            System.out.printf(&quot;tagB = '%s'%n&quot;, textNode.toString());\n            textNode.setLength(0);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;test.xml&quot;);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n            XMLReader reader = saxParser.getXMLReader();\n            FurmaxXmlHandler handler = new FurmaxXmlHandler();\n            reader.setContentHandler(handler);\n            InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n            reader.parse(inputSource);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665937881,"creation_date":1665936385,"answer_id":74088666,"question_id":74087360,"body_markdown":"i tested with\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;main&gt;\r\n        &lt;tagA&gt;190&lt;/tagA&gt;\r\n        &lt;tagB&gt;  :  &lt;/tagB&gt;\r\n    \t&lt;tagc&gt;2019-07-02&lt;/tagc&gt;\r\n    \t&lt;tagc&gt;2018-07-02&lt;/tagc&gt;\r\n    \t&lt;fatherA&gt;\r\n    \t&lt;tagd attribute1=&quot; ciao &quot;&gt;2018-07-02&lt;/tagd&gt;\r\n    \t&lt;/fatherA&gt;\r\n        &lt;tagf&gt;&lt;/tagf&gt;\r\n    &lt;/main&gt;\r\n\r\nwith\r\n\r\n    public class FurmaxXmlHandler2 extends DefaultHandler {\r\n\r\n\tprivate StringBuilder textNode = new StringBuilder();\r\n\tprivate String currentElement = &quot;&quot;;\r\n\tprivate String workElement = &quot;&quot;;\r\n\r\n\t@Override\r\n\tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n\t\tif (workElement.equals(currentElement)) {\r\n\t\t\ttextNode.append(ch, start, length);\r\n\t\t} else {\r\n\t\t\tworkElement = currentElement;\r\n\t\t\ttextNode = new StringBuilder();\r\n\t\t\ttextNode.append(ch, start, length);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\r\n\t\tcurrentElement = qName;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void endElement(String uri, String localName, String name) throws SAXException {\r\n\t\t// Delegate to active handlers and deletes them if they are finished...\r\n\t\tString data = &quot;&quot;;\r\n\t\tif (currentElement.equals(workElement)) {\r\n\t\t\tdata = textNode.toString();\r\n\t\t}\r\n\t\tcurrentElement = &quot;&quot;;\r\n\t\tworkElement = &quot;&quot;;\r\n\t\tSystem.out.printf(&quot;%s = &#39;%s&#39;%n&quot;, name, data);\r\n\t\ttextNode.setLength(0);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;test.xml&quot;);\r\n\t\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n\t\t\tSAXParser saxParser = factory.newSAXParser();\r\n\t\t\tXMLReader reader = saxParser.getXMLReader();\r\n\t\t\tFurmaxXmlHandler2 handler = new FurmaxXmlHandler2();\r\n\t\t\treader.setContentHandler(handler);\r\n\t\t\tInputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n\t\t\treader.parse(inputSource);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nresult:\r\n\r\n    tagA = &#39;190&#39;\r\n    tagB = &#39;  :  &#39;\r\n    tagc = &#39;2019-07-02&#39;\r\n    tagc = &#39;2018-07-02&#39;\r\n    tagd = &#39;2018-07-02&#39;\r\n    fatherA = &#39;\r\n    \t&#39;\r\n    tagf = &#39;&#39;\r\n    main = &#39;\r\n    &#39;\r\n\r\nwhat do you think ?\r\n","title":"Sax Parser preserve space in content","body":"<p>i tested with</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;main&gt;\n    &lt;tagA&gt;190&lt;/tagA&gt;\n    &lt;tagB&gt;  :  &lt;/tagB&gt;\n    &lt;tagc&gt;2019-07-02&lt;/tagc&gt;\n    &lt;tagc&gt;2018-07-02&lt;/tagc&gt;\n    &lt;fatherA&gt;\n    &lt;tagd attribute1=&quot; ciao &quot;&gt;2018-07-02&lt;/tagd&gt;\n    &lt;/fatherA&gt;\n    &lt;tagf&gt;&lt;/tagf&gt;\n&lt;/main&gt;\n</code></pre>\n<p>with</p>\n<pre><code>public class FurmaxXmlHandler2 extends DefaultHandler {\n\nprivate StringBuilder textNode = new StringBuilder();\nprivate String currentElement = &quot;&quot;;\nprivate String workElement = &quot;&quot;;\n\n@Override\npublic void characters(char[] ch, int start, int length) throws SAXException {\n    if (workElement.equals(currentElement)) {\n        textNode.append(ch, start, length);\n    } else {\n        workElement = currentElement;\n        textNode = new StringBuilder();\n        textNode.append(ch, start, length);\n    }\n}\n\n@Override\npublic void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\n    currentElement = qName;\n}\n\n@Override\npublic void endElement(String uri, String localName, String name) throws SAXException {\n    // Delegate to active handlers and deletes them if they are finished...\n    String data = &quot;&quot;;\n    if (currentElement.equals(workElement)) {\n        data = textNode.toString();\n    }\n    currentElement = &quot;&quot;;\n    workElement = &quot;&quot;;\n    System.out.printf(&quot;%s = '%s'%n&quot;, name, data);\n    textNode.setLength(0);\n}\n\npublic static void main(String[] args) {\n    try {\n        File file = new File(&quot;test.xml&quot;);\n        SAXParserFactory factory = SAXParserFactory.newInstance();\n        SAXParser saxParser = factory.newSAXParser();\n        XMLReader reader = saxParser.getXMLReader();\n        FurmaxXmlHandler2 handler = new FurmaxXmlHandler2();\n        reader.setContentHandler(handler);\n        InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n        reader.parse(inputSource);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>result:</p>\n<pre><code>tagA = '190'\ntagB = '  :  '\ntagc = '2019-07-02'\ntagc = '2018-07-02'\ntagd = '2018-07-02'\nfatherA = '\n    '\ntagf = ''\nmain = '\n'\n</code></pre>\n<p>what do you think ?</p>\n"}],"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1665937881,"creation_date":1665925595,"question_id":74087360,"body_markdown":"I have a file xml like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;main&gt;\r\n        &lt;tagA&gt;190&lt;/tagA&gt;\r\n        &lt;tagB&gt;  :  &lt;/tagB&gt;\r\n    \t&lt;tagc&gt;2019-07-02&lt;/tagc&gt;\r\n    &lt;/main&gt;\r\n\r\nnote that before tagA and tagB there are four spaces &quot;    &quot;, before tagC there is tab &quot;\\t&quot;\r\n\r\ni want preserve spaces in tagB content, so the expect are\r\n\r\n    tagA &quot;190&quot;\r\n    tagB &quot;  :  &quot;\r\n    tagC &quot;2019-07-02&quot;\r\n\r\nMy code:\r\n\r\n    public class FurmaxXmlHandler extends DefaultHandler {\r\n    \r\n    \tprivate boolean isTextNode = false;\r\n    \tprivate StringBuilder textNode = new StringBuilder();\r\n    \r\n    \t@Override\r\n    \tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n    \r\n    \t\tisTextNode = true;\r\n    \t\ttextNode.append(ch, start, length);\r\n    \t\t// to test only\r\n    \t\tStringBuilder tempBuilder = new StringBuilder();\r\n    \t\ttempBuilder.append(ch, start, length);\r\n    \t\tString temp = tempBuilder.toString();\r\n    \t\tSystem.out.println(&quot;single call characters -&gt; &quot; + temp + &quot;&lt;-&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void endElement(String uri, String localName, String name) throws SAXException {\r\n    \t\t// Delegate to active handlers and deletes them if they are finished...\r\n    \r\n    \t\tif (isTextNode) {\r\n    \t\t\tString data = textNode.toString();\r\n    \t\t\tSystem.out.println(&quot;value of &quot; + name + &quot; -&gt;&quot; + data + &quot;&lt;-&quot;);\r\n    \t\t\ttextNode = new StringBuilder();\r\n    \t\t\tisTextNode = false;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tFile file = new File(\r\n    \t\t\t\t\t&quot;C:\\\\Workspace\\\\Progetti\\\\ProveJavaGradle\\\\src\\\\main\\\\java\\\\it\\\\furmax\\\\xml\\\\test.xml&quot;);\r\n    \t\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n    \t\t\tSAXParser saxParser = factory.newSAXParser();\r\n    \t\t\tXMLReader reader = saxParser.getXMLReader();\r\n    \t\t\tFurmaxXmlHandler handler = new FurmaxXmlHandler();\r\n    \t\t\treader.setContentHandler(handler);\r\n    \t\t\tInputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n    \t\t\treader.parse(inputSource);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    single call characters -&gt;\r\n        &lt;-\r\n    single call characters -&gt;190&lt;-\r\n    value of tagA -&gt;\r\n        190&lt;-\r\n    single call characters -&gt;\r\n        &lt;-\r\n    single call characters -&gt;  :  &lt;-\r\n    value of tagB -&gt;\r\n          :  &lt;-\r\n    single call characters -&gt;\r\n    \t&lt;-\r\n    single call characters -&gt;2019-07-02&lt;-\r\n    value of tagc -&gt;\r\n    \t2019-07-02&lt;-\r\n    single call characters -&gt;\r\n    &lt;-\r\n    value of main -&gt;\r\n    &lt;-\r\n\r\nlike you see, for single tag there are more of one call of method characters, each containing some text ( &quot;\\n&quot; ot ohers ), and the final content of tag is concatenation of all.\r\n\r\n1) if i trim the final data, tagB fail the expect\r\n2) if i don&#39;t trim the final data, tagA and tagB fail the expect\r\n\r\nFurthermore I tried to change textNode with List&lt;String&gt; where add every characters call and on endelement i get the last... BUT... in a more big file i have some case with the content split in more characters call ( view image ), so i can get only the last element\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ZneM.png\r\n\r\n\r\n\r\nlast idea is linearize all file before parse, but i have to work with very big file, i no have idea how make this safe\r\n\r\n","title":"Sax Parser preserve space in content","body":"<p>I have a file xml like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;main&gt;\n    &lt;tagA&gt;190&lt;/tagA&gt;\n    &lt;tagB&gt;  :  &lt;/tagB&gt;\n    &lt;tagc&gt;2019-07-02&lt;/tagc&gt;\n&lt;/main&gt;\n</code></pre>\n<p>note that before tagA and tagB there are four spaces &quot;    &quot;, before tagC there is tab &quot;\\t&quot;</p>\n<p>i want preserve spaces in tagB content, so the expect are</p>\n<pre><code>tagA &quot;190&quot;\ntagB &quot;  :  &quot;\ntagC &quot;2019-07-02&quot;\n</code></pre>\n<p>My code:</p>\n<pre><code>public class FurmaxXmlHandler extends DefaultHandler {\n\n    private boolean isTextNode = false;\n    private StringBuilder textNode = new StringBuilder();\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n\n        isTextNode = true;\n        textNode.append(ch, start, length);\n        // to test only\n        StringBuilder tempBuilder = new StringBuilder();\n        tempBuilder.append(ch, start, length);\n        String temp = tempBuilder.toString();\n        System.out.println(&quot;single call characters -&gt; &quot; + temp + &quot;&lt;-&quot;);\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String name) throws SAXException {\n        // Delegate to active handlers and deletes them if they are finished...\n\n        if (isTextNode) {\n            String data = textNode.toString();\n            System.out.println(&quot;value of &quot; + name + &quot; -&gt;&quot; + data + &quot;&lt;-&quot;);\n            textNode = new StringBuilder();\n            isTextNode = false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        try {\n            File file = new File(\n                    &quot;C:\\\\Workspace\\\\Progetti\\\\ProveJavaGradle\\\\src\\\\main\\\\java\\\\it\\\\furmax\\\\xml\\\\test.xml&quot;);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n            XMLReader reader = saxParser.getXMLReader();\n            FurmaxXmlHandler handler = new FurmaxXmlHandler();\n            reader.setContentHandler(handler);\n            InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n            reader.parse(inputSource);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>single call characters -&gt;\n    &lt;-\nsingle call characters -&gt;190&lt;-\nvalue of tagA -&gt;\n    190&lt;-\nsingle call characters -&gt;\n    &lt;-\nsingle call characters -&gt;  :  &lt;-\nvalue of tagB -&gt;\n      :  &lt;-\nsingle call characters -&gt;\n    &lt;-\nsingle call characters -&gt;2019-07-02&lt;-\nvalue of tagc -&gt;\n    2019-07-02&lt;-\nsingle call characters -&gt;\n&lt;-\nvalue of main -&gt;\n&lt;-\n</code></pre>\n<p>like you see, for single tag there are more of one call of method characters, each containing some text ( &quot;\\n&quot; ot ohers ), and the final content of tag is concatenation of all.</p>\n<ol>\n<li>if i trim the final data, tagB fail the expect</li>\n<li>if i don't trim the final data, tagA and tagB fail the expect</li>\n</ol>\n<p>Furthermore I tried to change textNode with List where add every characters call and on endelement i get the last... BUT... in a more big file i have some case with the content split in more characters call ( view image ), so i can get only the last element</p>\n<p><a href=\"https://i.stack.imgur.com/1ZneM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZneM.png\" alt=\"enter image description here\" /></a></p>\n<p>last idea is linearize all file before parse, but i have to work with very big file, i no have idea how make this safe</p>\n"},{"tags":["java","kotlin","singleton"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665934897,"creation_date":1665934897,"answer_id":74088446,"question_id":74088167,"body_markdown":"`object` declares a singleton. Unlike Kotlin, you cannot use a type name to refer to its instance in Java. Therefore, the Kotlin compiler translates the singleton instance to a field called `INSTANCE` instead, so you can do:\r\n\r\n    MySet.INSTANCE.contains(foo);\r\n\r\nin Java.\r\n\r\nWhile you can probably find `INSTANCE` by chance, just by using the auto-complete in IntelliJ, the only place where I could find this officially documented is in the [Calling Kotlin from Java][1] page at the bottom of [this section][2], which talks about calling static methods.\r\n\r\n&gt;     object Obj {\r\n&gt;         @JvmStatic fun callStatic() {}\r\n&gt;         fun callNonStatic() {}\r\n&gt;     }\r\n&gt; \r\n&gt; In Java:\r\n&gt; \r\n&gt; \r\n&gt;     Obj.callStatic(); // works fine\r\n&gt;     Obj.callNonStatic(); // error\r\n&gt;     Obj.INSTANCE.callNonStatic(); // works, a call through the singleton instance\r\n&gt;     Obj.INSTANCE.callStatic(); // works too\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html\r\n  [2]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods","title":"How to refer to a Kotlin delegating singleton object from Java?","body":"<p><code>object</code> declares a singleton. Unlike Kotlin, you cannot use a type name to refer to its instance in Java. Therefore, the Kotlin compiler translates the singleton instance to a field called <code>INSTANCE</code> instead, so you can do:</p>\n<pre><code>MySet.INSTANCE.contains(foo);\n</code></pre>\n<p>in Java.</p>\n<p>While you can probably find <code>INSTANCE</code> by chance, just by using the auto-complete in IntelliJ, the only place where I could find this officially documented is in the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Calling Kotlin from Java</a> page at the bottom of <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">this section</a>, which talks about calling static methods.</p>\n<blockquote>\n<pre><code>object Obj {\n    @JvmStatic fun callStatic() {}\n    fun callNonStatic() {}\n}\n</code></pre>\n<p>In Java:</p>\n<pre><code>Obj.callStatic(); // works fine\nObj.callNonStatic(); // error\nObj.INSTANCE.callNonStatic(); // works, a call through the singleton instance\nObj.INSTANCE.callStatic(); // works too\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74088446,"answer_count":1,"score":0,"last_activity_date":1665937120,"creation_date":1665932683,"question_id":74088167,"body_markdown":"I have a Kotlin object that delegates it&#39;s implementation, in my case to `MutableSet&lt;String&gt;` like so: \r\n\r\n```kotlin\r\nobject MySet : MutableSet&lt;String&gt; by TreeSet&lt;String&gt;() {\r\n\r\n    init {...}\r\n\r\n}\r\n```\r\n\r\n\r\nIn Java I&#39;d like to say something like `MySet.contains`. How can I do that?","title":"How to refer to a Kotlin delegating singleton object from Java?","body":"<p>I have a Kotlin object that delegates it's implementation, in my case to <code>MutableSet&lt;String&gt;</code> like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object MySet : MutableSet&lt;String&gt; by TreeSet&lt;String&gt;() {\n\n    init {...}\n\n}\n</code></pre>\n<p>In Java I'd like to say something like <code>MySet.contains</code>. How can I do that?</p>\n"},{"tags":["java","frequency","linear-search","frequency-distribution","symbol-table"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665810221,"post_id":74076755,"comment_id":130790362,"body_markdown":"Prints *always* 1 because: *never* `st.containsKey(key)`!","body":"Prints <i>always</i> 1 because: <i>never</i> <code>st.containsKey(key)</code>!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665812485,"post_id":74076755,"comment_id":130790617,"body_markdown":"[Edit] your question and post sample data from file `RandomInt.txt`","body":"<a href=\"https://stackoverflow.com/posts/74076755/edit\">Edit</a> your question and post sample data from file <code>RandomInt.txt</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665814290,"post_id":74076755,"comment_id":130790826,"body_markdown":"The only keys you add to `st` are the descriptions of the ranges, so you are never going to find the numbers you read from the file, even when one appears more than once.","body":"The only keys you add to <code>st</code> are the descriptions of the ranges, so you are never going to find the numbers you read from the file, even when one appears more than once."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665818487,"post_id":74076755,"comment_id":130791404,"body_markdown":"for this specific case I would use an array for the counters: if you divide the number by `10` you almost directly get the index for such an array (some caution needed since the first range starts with `10`)","body":"for this specific case I would use an array for the counters: if you divide the number by <code>10</code> you almost directly get the index for such an array (some caution needed since the first range starts with <code>10</code>)"},{"owner":{"account_id":26628684,"reputation":1,"user_id":20246209,"display_name":"V01D"},"score":0,"creation_date":1665936805,"post_id":74076755,"comment_id":130810914,"body_markdown":"I managed to count the frequency of each integer in the file. But, I can&#39;t seem to get the range part working","body":"I managed to count the frequency of each integer in the file. But, I can&#39;t seem to get the range part working"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665828380,"creation_date":1665828380,"answer_id":74078511,"question_id":74076755,"body_markdown":"As @user16320675 says, you should probably do something numeric with arrays. See the following as a fairly kludgy fix as the use of strings for something essentially numeric is not really appropriate. Instead of just `st.contains(key)` you could call `st.contains(keyInRange(key))` - the following:\r\n\r\n    public static String keyInRange(String key) {\r\n        final String[] RANGES = {\r\n            &quot;&quot;,\r\n            &quot;10 to 19&quot;,\r\n            &quot;20 to 29&quot;,\r\n            &quot;30 to 39&quot;,\r\n            &quot;40 to 49&quot;,\r\n            &quot;50 to 59&quot;\r\n        };\r\n        return RANGES[Integer.parseInt(key) / 10];\r\n    }\r\nbut beware, because you&#39;re currently `put`ting in all ranges irrespective of key for some reason.","title":"How do I count the frequency of an item in a given range?","body":"<p>As @user16320675 says, you should probably do something numeric with arrays. See the following as a fairly kludgy fix as the use of strings for something essentially numeric is not really appropriate. Instead of just <code>st.contains(key)</code> you could call <code>st.contains(keyInRange(key))</code> - the following:</p>\n<pre><code>public static String keyInRange(String key) {\n    final String[] RANGES = {\n        &quot;&quot;,\n        &quot;10 to 19&quot;,\n        &quot;20 to 29&quot;,\n        &quot;30 to 39&quot;,\n        &quot;40 to 49&quot;,\n        &quot;50 to 59&quot;\n    };\n    return RANGES[Integer.parseInt(key) / 10];\n}\n</code></pre>\n<p>but beware, because you're currently <code>put</code>ting in all ranges irrespective of key for some reason.</p>\n"}],"owner":{"account_id":26628684,"reputation":1,"user_id":20246209,"display_name":"V01D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665937113,"creation_date":1665809271,"question_id":74076755,"body_markdown":"I&#39;ve been given a lab where I&#39;m supposed to create a program that reads a file with 1000 random integers between 10 to 59 inclusive and generate a frequency table like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe ranges are 10 to 19, 20 to 29, 30 to 39, 40 to 49, and 50 to 59.\r\nHere is a sample from the RandomInt.txt:\r\n50\r\n11\r\n55\r\n12\r\n20\r\n13\r\n53\r\n34\r\n19\r\n39\r\n58\r\n58\r\n24\r\n59\r\n28\r\n10\r\n52\r\n18\r\n55\r\n59\r\n28\r\n29\r\n54\r\n\r\nI&#39;ve been successful at reading all the integers in a file, but for some reason my result for the frequency part is just 1 for every category. How do I put each integer in a range and count them all together within that range?\r\nSo far, here is my updated code that counts the frequency of each integer:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Demo3 \r\n{\r\n\tpublic static void main(String[] args) throws FileNotFoundException \r\n\t{\r\n\t\tFile file = new File(&quot;RandomInt.txt&quot;);\r\n\t\tScanner sc = new Scanner(file);\t\r\n\t\tSequentialSearchST&lt;String, Integer&gt; st = new SequentialSearchST&lt;String, Integer&gt;();\r\n\t\t\r\n        \r\n        int dataSet = 0;\r\n\t\twhile(sc.hasNext())\r\n\t\t{\r\n\t\t\tString key = sc.next();\r\n\t\t\tdataSet++;\r\n\t\t\t\r\n\t\t\tif(st.contains(key))\r\n\t\t\t{\r\n\t\t\t\tst.put(key, st.get(key) + 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tst.put(key, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (String s : st.keys())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Integer: &quot; + s + &quot; Frequency: &quot; + st.get(s));\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Data Set Size: &quot; + dataSet);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/jrXlW.png","title":"How do I count the frequency of an item in a given range?","body":"<p>I've been given a lab where I'm supposed to create a program that reads a file with 1000 random integers between 10 to 59 inclusive and generate a frequency table like this:</p>\n<p><a href=\"https://i.stack.imgur.com/jrXlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrXlW.png\" alt=\"enter image description here\" /></a></p>\n<p>The ranges are 10 to 19, 20 to 29, 30 to 39, 40 to 49, and 50 to 59.\nHere is a sample from the RandomInt.txt:\n50\n11\n55\n12\n20\n13\n53\n34\n19\n39\n58\n58\n24\n59\n28\n10\n52\n18\n55\n59\n28\n29\n54</p>\n<p>I've been successful at reading all the integers in a file, but for some reason my result for the frequency part is just 1 for every category. How do I put each integer in a range and count them all together within that range?\nSo far, here is my updated code that counts the frequency of each integer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Demo3 \n{\n    public static void main(String[] args) throws FileNotFoundException \n    {\n        File file = new File(&quot;RandomInt.txt&quot;);\n        Scanner sc = new Scanner(file); \n        SequentialSearchST&lt;String, Integer&gt; st = new SequentialSearchST&lt;String, Integer&gt;();\n        \n        \n        int dataSet = 0;\n        while(sc.hasNext())\n        {\n            String key = sc.next();\n            dataSet++;\n            \n            if(st.contains(key))\n            {\n                st.put(key, st.get(key) + 1);\n            }\n            else\n            {\n                st.put(key, 1);\n            }\n        }\n        \n        for (String s : st.keys())\n        {\n            System.out.println(&quot;Integer: &quot; + s + &quot; Frequency: &quot; + st.get(s));\n        }\n        System.out.println(&quot;Data Set Size: &quot; + dataSet);\n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","combinations","permutation"],"answers":[{"tags":[],"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665936046,"creation_date":1665936046,"answer_id":74088612,"question_id":74083841,"body_markdown":"My Coach in Interview Kickstart helped me found out the problem in my code.  His/Her finding is \r\n&quot;In the if condition of for loop, You have written if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1))) but it should be if (i != pos &amp;&amp; (arr.get(i) == arr.get(pos) || (i &gt; 0 &amp;&amp; arr.get(i) == arr.get(i-1)))) to handle the duplicate elements correctly.&quot;\r\n\r\nI have converted the fix to what I can understand better -\r\n\r\nif (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\r\n\r\nEarlier I missed the case arr.get(i) == arr.get(pos).\r\n\r\nThe correct solution is\r\n\r\n        import java.util.*; \r\n        \r\n        public class test {\r\n              static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n                    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n                    Collections.sort(arr);\r\n                    helper(arr, 0, res);\r\n                    return res;\r\n                }\r\n                \r\n            static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n                int n=arr.size();\r\n                if(pos&gt;=n){\r\n                    res.add(new ArrayList&lt;Integer&gt;(arr));\r\n                    return;\r\n                }\r\n                \r\n                for(int i=pos; i&lt;n; i++){\r\n                    if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\r\n                        continue;\r\n                    \r\n                    Collections.swap(arr, pos, i);\r\n                    helper(arr, pos+1, res);\r\n                    Collections.swap(arr, pos, i);\r\n                }\r\n            }\r\n        // Driver code\r\n        public static void main(String args[])\r\n        {\r\n            ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n            for(var v:get_permutations(arr)){\r\n                System.out.println(v);\r\n            }\r\n        }\r\n    }","title":"Comparing neighboring integer does not work in Permute Array of Integers Duplicates Allowed","body":"<p>My Coach in Interview Kickstart helped me found out the problem in my code.  His/Her finding is\n&quot;In the if condition of for loop, You have written if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1))) but it should be if (i != pos &amp;&amp; (arr.get(i) == arr.get(pos) || (i &gt; 0 &amp;&amp; arr.get(i) == arr.get(i-1)))) to handle the duplicate elements correctly.&quot;</p>\n<p>I have converted the fix to what I can understand better -</p>\n<p>if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))</p>\n<p>Earlier I missed the case arr.get(i) == arr.get(pos).</p>\n<p>The correct solution is</p>\n<pre><code>    import java.util.*; \n    \n    public class test {\n          static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n                ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n                Collections.sort(arr);\n                helper(arr, 0, res);\n                return res;\n            }\n            \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            for(int i=pos; i&lt;n; i++){\n                if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74088612,"answer_count":1,"score":1,"last_activity_date":1665936046,"creation_date":1665879152,"question_id":74083841,"body_markdown":"Given an array of numbers with possible duplicates, return all of its permutations in any order.\r\n\r\nIt works when I use a HashSet to skip duplicates.  \r\n\r\n        package test;\r\n    \r\n    import java.util.*; \r\n    \r\n    public class test {\r\n    \t  static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n    \t        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n    \t        //Collections.sort(arr);\r\n    \t        helper(arr, 0, res);\r\n    \t        return res;\r\n    \t    }\r\n    \t    \r\n    \t    static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n    \t        int n=arr.size();\r\n    \t        if(pos&gt;=n){\r\n    \t            res.add(new ArrayList&lt;Integer&gt;(arr));\r\n    \t            return;\r\n    \t        }\r\n    \t        \r\n    \t        Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t        for(int i=pos; i&lt;n; i++){\r\n    \t            //if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \r\n    \t            if(!set.add(arr.get(i)))\r\n    \t                continue;\r\n    \t            \r\n    \t            Collections.swap(arr, pos, i);\r\n    \t            helper(arr, pos+1, res);\r\n    \t            Collections.swap(arr, pos, i);\r\n    \t        }\r\n    \t    }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n    \t\tfor(var v:get_permutations(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHowever, if I sorted the array and skipped the duplicates by comparing neighboring integer, it does not work for some test cases such as [3,3,8,8,9,9,9].\r\n\r\n\r\n        import java.util.*; \r\n        \r\n        public class test {\r\n        \t  static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n        \t        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n        \t        Collections.sort(arr);\r\n        \t        helper(arr, 0, res);\r\n        \t        return res;\r\n        \t    }\r\n        \t    \r\n    \t    static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n    \t        int n=arr.size();\r\n    \t        if(pos&gt;=n){\r\n    \t            res.add(new ArrayList&lt;Integer&gt;(arr));\r\n    \t            return;\r\n    \t        }\r\n    \t        \r\n    \t        //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t        for(int i=pos; i&lt;n; i++){\r\n    \t            if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \r\n    \t            //if(!set.add(arr.get(i)))\r\n    \t                continue;\r\n    \t            \r\n    \t            Collections.swap(arr, pos, i);\r\n    \t            helper(arr, pos+1, res);\r\n    \t            Collections.swap(arr, pos, i);\r\n    \t        }\r\n    \t    }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n    \t\tfor(var v:get_permutations(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is opposite to [subset solution][1].\r\n\r\nThe outputs highlighted in red part are the problem.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat did I miss here? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74083916/using-hashset-to-filter-duplicates-does-not-work-in-subsets-with-duplicate-probl\r\n  [2]: https://i.stack.imgur.com/gt1VL.png","title":"Comparing neighboring integer does not work in Permute Array of Integers Duplicates Allowed","body":"<p>Given an array of numbers with possible duplicates, return all of its permutations in any order.</p>\n<p>It works when I use a HashSet to skip duplicates.</p>\n<pre><code>    package test;\n\nimport java.util.*; \n\npublic class test {\n      static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n            //Collections.sort(arr);\n            helper(arr, 0, res);\n            return res;\n        }\n        \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n            for(int i=pos; i&lt;n; i++){\n                //if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \n                if(!set.add(arr.get(i)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>However, if I sorted the array and skipped the duplicates by comparing neighboring integer, it does not work for some test cases such as [3,3,8,8,9,9,9].</p>\n<pre><code>    import java.util.*; \n    \n    public class test {\n          static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n                ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n                Collections.sort(arr);\n                helper(arr, 0, res);\n                return res;\n            }\n            \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n            for(int i=pos; i&lt;n; i++){\n                if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \n                //if(!set.add(arr.get(i)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>This is opposite to <a href=\"https://stackoverflow.com/questions/74083916/using-hashset-to-filter-duplicates-does-not-work-in-subsets-with-duplicate-probl\">subset solution</a>.</p>\n<p>The outputs highlighted in red part are the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/gt1VL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gt1VL.png\" alt=\"enter image description here\" /></a></p>\n<p>What did I miss here?</p>\n"},{"tags":["java","postgresql","spring-boot","r2dbc"],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665934937,"creation_date":1665934937,"question_id":74088456,"body_markdown":"How to parse `infinity` in R2JDBC?  Getting the following error\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;infinity&#39; could not be parsed at index 0\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]\r\n    \tat io.r2dbc.postgresql.codec.PostgresqlDateTimeFormatter.parse(PostgresqlDateTimeFormatter.java:103","title":"How to parse Postgresql &#39;Infinity&#39; timestamp in R2JDBC?","body":"<p>How to parse <code>infinity</code> in R2JDBC?  Getting the following error</p>\n<pre><code>java.time.format.DateTimeParseException: Text 'infinity' could not be parsed at index 0\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]\n    at io.r2dbc.postgresql.codec.PostgresqlDateTimeFormatter.parse(PostgresqlDateTimeFormatter.java:103\n</code></pre>\n"},{"tags":["java","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1665878327,"post_id":74081050,"comment_id":130802318,"body_markdown":"Please give us more information about your setup, such as what build tool you are using to build and run the tests. Is it Gradle, Maven, Ant. or something else?","body":"Please give us more information about your setup, such as what build tool you are using to build and run the tests. Is it Gradle, Maven, Ant. or something else?"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1665945596,"post_id":74081050,"comment_id":130812836,"body_markdown":"I would suggest to do a `reporTest` task in gradle that depends on the `test` task and does whatever you need, e.g., zip up the results and upload them somewhere or send a slack message, and then just run that task.","body":"I would suggest to do a <code>reporTest</code> task in gradle that depends on the <code>test</code> task and does whatever you need, e.g., zip up the results and upload them somewhere or send a slack message, and then just run that task."}],"owner":{"account_id":4118510,"reputation":223,"user_id":3379502,"accept_rate":22,"display_name":"user3379502"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665934478,"creation_date":1665850097,"question_id":74081050,"body_markdown":"All, I have a test suite developed using spock-groovy framework. The output of this is a set of html files. I have a requirement to run this test as part of a docker container on cloud. After the test execution, I would like to get a summary of the test results and also a link of the html files to view the details of these results.\r\nIs there a library already available for parsing the test results for spock? How can I get this done using Java from the app running in the container?\r\n\r\nBuild tool: `gradle`.\r\n\r\nI created the docker container using the Dockerfile. The entrypoint for this docker container is a shell script which sets required variables and then executes the command `gradle clean test...`. \r\n\r\nFew issues I am trying to resolve:\r\n1. The container is able to execute the tests but I am unable to get the results out of that container. I am trying the approach as mentioned in point 2 below to get the results out of the container.\r\n2. I have added `def cleanupSpec() {....}` method where I am trying to send a notification to slack channel. As I see from inside the container, this step is not getting executed. When I run this app locally, I am able to see the notification being sent. ","title":"Parsing through spock test results","body":"<p>All, I have a test suite developed using spock-groovy framework. The output of this is a set of html files. I have a requirement to run this test as part of a docker container on cloud. After the test execution, I would like to get a summary of the test results and also a link of the html files to view the details of these results.\nIs there a library already available for parsing the test results for spock? How can I get this done using Java from the app running in the container?</p>\n<p>Build tool: <code>gradle</code>.</p>\n<p>I created the docker container using the Dockerfile. The entrypoint for this docker container is a shell script which sets required variables and then executes the command <code>gradle clean test...</code>.</p>\n<p>Few issues I am trying to resolve:</p>\n<ol>\n<li>The container is able to execute the tests but I am unable to get the results out of that container. I am trying the approach as mentioned in point 2 below to get the results out of the container.</li>\n<li>I have added <code>def cleanupSpec() {....}</code> method where I am trying to send a notification to slack channel. As I see from inside the container, this step is not getting executed. When I run this app locally, I am able to see the notification being sent.</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1665813484,"post_id":74077041,"comment_id":130790741,"body_markdown":"Variable `answer` is a `String`. You are trying to compare a `String` to a `char`. You cannot do that in Java. Try: `if (&quot;Y&quot;.equalsIgnoreCase(answer))`","body":"Variable <code>answer</code> is a <code>String</code>. You are trying to compare a <code>String</code> to a <code>char</code>. You cannot do that in Java. Try: <code>if (&quot;Y&quot;.equalsIgnoreCase(answer))</code>"}],"answers":[{"tags":[],"owner":{"account_id":25783273,"reputation":97,"user_id":19528572,"display_name":"Tharindu Lakshan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1665818824,"creation_date":1665814424,"answer_id":74077138,"question_id":74077041,"body_markdown":"Since the answer variable is not stored as a string, change its variable type to char.\r\nAlso, use the following code to get the letter entered by the user.\r\n\r\n    answer = scan.next().charAt(0);\r\n\r\nUse the following\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class FullName {\r\n\t    public static void main(String[]args) {\r\n\t\t    String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\r\n\t    \tString in;  // checks for input\r\n\t\t    char answer;  // checks for condition, YES OR NO\r\n\t\t    boolean ask;    // use as a loop switch\r\n\t\t\r\n\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t\r\n\t    \tdo {\r\n\t\t    \tSystem.out.print(&quot;Please indicate your full name: &quot;);\r\n\t\t    \tin = scan.nextLine();\r\n\t\t    \t//ask = scan.hasNext(in);\r\n\t\t    \tString str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\r\n\t\t        System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\r\n\t\t    \tanswer = scan.next().charAt(0);\r\n\t\t    \tif(answer==&#39;y&#39; || answer==&#39;Y&#39;) {\r\n\t\t\t    \task = true;\r\n\t\t\t    } else {\r\n\t\t\t    \task = false;\r\n\t\t\t    }\r\n\t\t    \tscan.nextLine();\r\n\t    \t} while(ask == true);\r\n\t    }\r\n    }\r\n","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>Since the answer variable is not stored as a string, change its variable type to char.\nAlso, use the following code to get the letter entered by the user.</p>\n<pre><code>answer = scan.next().charAt(0);\n</code></pre>\n<p>Use the following</p>\n<pre><code>import java.util.Scanner;\n\npublic class FullName {\n    public static void main(String[]args) {\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\n        String in;  // checks for input\n        char answer;  // checks for condition, YES OR NO\n        boolean ask;    // use as a loop switch\n    \n        Scanner scan = new Scanner(System.in);\n    \n        do {\n            System.out.print(&quot;Please indicate your full name: &quot;);\n            in = scan.nextLine();\n            //ask = scan.hasNext(in);\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\n            answer = scan.next().charAt(0);\n            if(answer=='y' || answer=='Y') {\n                ask = true;\n            } else {\n                ask = false;\n            }\n            scan.nextLine();\n        } while(ask == true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665819598,"creation_date":1665818847,"answer_id":74077529,"question_id":74077041,"body_markdown":"Let&#39;s just focus on these lines:\r\n\r\n        String answer;\r\n        ...\r\n        answer = scan.next();\r\n        if (answer == &#39;y&#39; || answer == &#39;Y&#39;) {\r\n\r\n1.  You will notice that I have tweaked the the style to make it more readable and consist with common Java style rules.\r\n\r\n2.  You will notice that I have fixed a compilation error by changing `Next()` to `next()`.\r\n\r\nBut now for the interesting part:\r\n\r\n      answer == &#39;y&#39; || answer == &#39;Y&#39;\r\n\r\nWhat you are trying to do here is test if the user is trying to reply in the affirmative or the negative; i.e. a response to your `&quot;(Y/N)&quot; question.\r\n\r\nThere are both technical and logical problems in the way you are doing it.  The technical problem is that `answer == &#39;y&#39;` tries to compare a `String` and a `char` using `==`.  Java doesn&#39;t allow that.  \r\n  \r\n  - This is what the compilation error about &quot;bad operand types for `==`&quot; is saying.\r\n  - `String` and `char` are different types.\r\n  - `&#39;Y&#39;` and `&quot;Y&quot;` are not the same value.\r\n  - Expressions of the form &quot;string == char&quot; or &quot;char == string&quot; are not allowed.\r\n  - You shouldn&#39;t compare strings using `==` anyway; see https://stackoverflow.com/questions/513832.\r\n\r\nSo if you were just going to compare (one character) `String` with a `char`, there are a few ways to do it; e.g.\r\n\r\n    answer.charAt(0) == &#39;y&#39; \r\n\r\nor \r\n\r\n    Character.toString(&#39;y&#39;).equals(answer)\r\n\r\n(In this context `charAt(0)` is safe.  You are using the default `Scanner` delimiter, so `next()` is going to return a `String` with length of at least 1.)\r\n\r\nBut it would be simpler to do a `String` to `String` comparison:\r\n\r\n    answer.equals(&quot;y&quot;) \r\n\r\nor \r\n   \r\n    &quot;y&quot;.equals(answer)\r\n\r\nThe latter has the advantage *in some contexts* that `&quot;y&quot;` can never be `null` so you will avoid possible NPEs.\r\n\r\nNow for the logical problem.  You have asked the user to respond to a `(Y/N)` question.  But you are actually using `Scanner` to read a word (loosely speaking) so you may get one character, or more than one.  Also, you are assuming that if the answer is not `y` or `Y`, then that means &quot;no&quot;.  But what if the user enters `&quot;yes&quot;` ... or `&quot;fish&quot;`?  There are more possible answers to consider than the ones that you are expecting.\r\n\r\nIf I was marking this exercise, I would deduct a mark or two (out of ten) for not properly validating the user&#39;s input.  ","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>Let's just focus on these lines:</p>\n<pre><code>    String answer;\n    ...\n    answer = scan.next();\n    if (answer == 'y' || answer == 'Y') {\n</code></pre>\n<ol>\n<li><p>You will notice that I have tweaked the the style to make it more readable and consist with common Java style rules.</p>\n</li>\n<li><p>You will notice that I have fixed a compilation error by changing <code>Next()</code> to <code>next()</code>.</p>\n</li>\n</ol>\n<p>But now for the interesting part:</p>\n<pre><code>  answer == 'y' || answer == 'Y'\n</code></pre>\n<p>What you are trying to do here is test if the user is trying to reply in the affirmative or the negative; i.e. a response to your `&quot;(Y/N)&quot; question.</p>\n<p>There are both technical and logical problems in the way you are doing it.  The technical problem is that <code>answer == 'y'</code> tries to compare a <code>String</code> and a <code>char</code> using <code>==</code>.  Java doesn't allow that.</p>\n<ul>\n<li>This is what the compilation error about &quot;bad operand types for <code>==</code>&quot; is saying.</li>\n<li><code>String</code> and <code>char</code> are different types.</li>\n<li><code>'Y'</code> and <code>&quot;Y&quot;</code> are not the same value.</li>\n<li>Expressions of the form &quot;string == char&quot; or &quot;char == string&quot; are not allowed.</li>\n<li>You shouldn't compare strings using <code>==</code> anyway; see <a href=\"https://stackoverflow.com/questions/513832\">How do I compare strings in Java?</a>.</li>\n</ul>\n<p>So if you were just going to compare (one character) <code>String</code> with a <code>char</code>, there are a few ways to do it; e.g.</p>\n<pre><code>answer.charAt(0) == 'y' \n</code></pre>\n<p>or</p>\n<pre><code>Character.toString('y').equals(answer)\n</code></pre>\n<p>(In this context <code>charAt(0)</code> is safe.  You are using the default <code>Scanner</code> delimiter, so <code>next()</code> is going to return a <code>String</code> with length of at least 1.)</p>\n<p>But it would be simpler to do a <code>String</code> to <code>String</code> comparison:</p>\n<pre><code>answer.equals(&quot;y&quot;) \n</code></pre>\n<p>or</p>\n<pre><code>&quot;y&quot;.equals(answer)\n</code></pre>\n<p>The latter has the advantage <em>in some contexts</em> that <code>&quot;y&quot;</code> can never be <code>null</code> so you will avoid possible NPEs.</p>\n<p>Now for the logical problem.  You have asked the user to respond to a <code>(Y/N)</code> question.  But you are actually using <code>Scanner</code> to read a word (loosely speaking) so you may get one character, or more than one.  Also, you are assuming that if the answer is not <code>y</code> or <code>Y</code>, then that means &quot;no&quot;.  But what if the user enters <code>&quot;yes&quot;</code> ... or <code>&quot;fish&quot;</code>?  There are more possible answers to consider than the ones that you are expecting.</p>\n<p>If I was marking this exercise, I would deduct a mark or two (out of ten) for not properly validating the user's input.</p>\n"}],"owner":{"account_id":19534879,"reputation":25,"user_id":14293869,"display_name":"Joshua Partido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74077529,"answer_count":2,"score":-1,"last_activity_date":1665933562,"creation_date":1665813253,"question_id":74077041,"body_markdown":"My code looks like this; it get&#39;s an error on line 18 \r\n\r\n&gt; error: bad operand types for binary operator &#39;==&#39; if(answer==&#39;y&#39;||answer==&#39;Y&#39;) {\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FullName {\r\n\r\n    public static void main(String[]args) {\r\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\r\n        String in;  // checks for input\r\n        String answer;  // checks for condition, YES OR NO\r\n        boolean ask;    // use as a loop switch\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        do {\r\n            System.out.println(&quot;Please indicate your full name: &quot;);\r\n            in = scan.nextLine();\r\n            ask = scan.hasNext(in);\r\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\r\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\r\n            answer = scan.Next();\r\n            if(answer==&#39;y&#39; || answer==&#39;Y&#39;) {\r\n                ask = true;\r\n            } else {\r\n                ask = false;\r\n            }\r\n        } while(ask == true);\r\n    }\r\n}\r\n```","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>My code looks like this; it get's an error on line 18</p>\n<blockquote>\n<p>error: bad operand types for binary operator '==' if(answer=='y'||answer=='Y') {</p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class FullName {\n\n    public static void main(String[]args) {\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\n        String in;  // checks for input\n        String answer;  // checks for condition, YES OR NO\n        boolean ask;    // use as a loop switch\n        \n        Scanner scan = new Scanner(System.in);\n        \n        do {\n            System.out.println(&quot;Please indicate your full name: &quot;);\n            in = scan.nextLine();\n            ask = scan.hasNext(in);\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\n            answer = scan.Next();\n            if(answer=='y' || answer=='Y') {\n                ask = true;\n            } else {\n                ask = false;\n            }\n        } while(ask == true);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","intellij-idea","sbt"],"answers":[{"tags":[],"owner":{"account_id":189125,"reputation":771,"user_id":428273,"accept_rate":30,"display_name":"Muton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933528,"creation_date":1665933206,"answer_id":74088227,"question_id":74086869,"body_markdown":"You are defining the `spark-sql` dependency as `provided` so by default it will not be in the classpath when you execute the code locally.\r\n\r\nYou can either remove the provided scope if your intention is to just test things out or alternatively you can setup your IDE to include the provided dependencies also. In IntelliJ, this can be done from the run configuration options.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$ in scala","body":"<p>You are defining the <code>spark-sql</code> dependency as <code>provided</code> so by default it will not be in the classpath when you execute the code locally.</p>\n<p>You can either remove the provided scope if your intention is to just test things out or alternatively you can setup your IDE to include the provided dependencies also. In IntelliJ, this can be done from the run configuration options.</p>\n"}],"owner":{"account_id":26639068,"reputation":11,"user_id":20255044,"display_name":"llD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665933528,"creation_date":1665921066,"question_id":74086869,"body_markdown":"I have built a Spark project with SBT, Scala in intelliJ and written the code:\r\n```\r\nimport org.apache.spark.sql.SparkSession\r\nobject Main {\r\n  def main(args: Array[String]): Unit = {\r\n    val spark =\r\n      SparkSession\r\n        .builder()\r\n      .master(&quot;local[1]&quot;)\r\n      .appName(&quot;SparkByExample&quot;)\r\n      .getOrCreate();\r\n\r\n  }\r\n}\r\n```\r\nand get the error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$\r\n\tat com.bigdata.Main$.main(Main.scala:6)\r\n\tat com.bigdata.Main.main(Main.scala)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession$\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 2 more\r\n```\r\n\r\nmy bulid.stb :\r\n```\r\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\n\r\nThisBuild / scalaVersion := &quot;2.12.15&quot;\r\n\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-sql\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.0&quot; % &quot;provided&quot;\r\n\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.0&quot;\r\n\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;untitled&quot;,\r\n    idePackagePrefix := Some(&quot;com.bigdata&quot;)\r\n  )\r\n\r\n```\r\nI see SPARK_HOME in path and it is fine\r\nI tried to open another project and still has the problem  ","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$ in scala","body":"<p>I have built a Spark project with SBT, Scala in intelliJ and written the code:</p>\n<pre><code>import org.apache.spark.sql.SparkSession\nobject Main {\n  def main(args: Array[String]): Unit = {\n    val spark =\n      SparkSession\n        .builder()\n      .master(&quot;local[1]&quot;)\n      .appName(&quot;SparkByExample&quot;)\n      .getOrCreate();\n\n  }\n}\n</code></pre>\n<p>and get the error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$\n    at com.bigdata.Main$.main(Main.scala:6)\n    at com.bigdata.Main.main(Main.scala)\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession$\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 2 more\n</code></pre>\n<p>my bulid.stb :</p>\n<pre><code>ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\n\nThisBuild / scalaVersion := &quot;2.12.15&quot;\n\n// https://mvnrepository.com/artifact/org.apache.spark/spark-sql\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.0&quot; % &quot;provided&quot;\n\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.0&quot;\n\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;untitled&quot;,\n    idePackagePrefix := Some(&quot;com.bigdata&quot;)\n  )\n\n</code></pre>\n<p>I see SPARK_HOME in path and it is fine\nI tried to open another project and still has the problem</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":19097920,"reputation":89,"user_id":13946806,"display_name":"Nili"},"score":0,"creation_date":1665856395,"post_id":74081667,"comment_id":130798772,"body_markdown":"Can you post the code where you use this class cause it seems fine?","body":"Can you post the code where you use this class cause it seems fine?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665871685,"post_id":74081667,"comment_id":130801610,"body_markdown":"Post an [mre] demonstrating the problem. We should be able to copy/paste/compile/test to see the problem. In addition to the above we need to see how you create the frame and add the LabeledComponent to the frame. Code should be in a single source file.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile/test to see the problem. In addition to the above we need to see how you create the frame and add the LabeledComponent to the frame. Code should be in a single source file."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665873049,"post_id":74081667,"comment_id":130801758,"body_markdown":"*IllegalArgumentException* - and what does the full message say?","body":"<i>IllegalArgumentException</i> - and what does the full message say?"}],"answers":[{"tags":[],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933389,"creation_date":1665933373,"answer_id":74088254,"question_id":74081667,"body_markdown":"new JSlider(1, 10, 21); causes IllegalArgumentException because JSlider Constructor takes minvalue, maxvalue and value. 21 is out of bounds.","title":"Adding JComponent with JLabel to another JPanel causes IllegalArgumentException","body":"<p>new JSlider(1, 10, 21); causes IllegalArgumentException because JSlider Constructor takes minvalue, maxvalue and value. 21 is out of bounds.</p>\n"}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665933389,"creation_date":1665855417,"question_id":74081667,"body_markdown":"I was wondering how to label my buttons, sliders, etc. properly, so I came up with a solution that I found to be quiet good since I&#39;m new to gui development.\r\n\r\nThis class below should allow me to label any JComponent and set the label position to North,East,South or West of the JComponent.\r\n\r\nUnfortunately `new LabeledComponent&lt;&gt;(&quot;Depth&quot;, new JSlider(1, 10, 21), LabeledComponent.LabelPosition.North);` runs into an IllegalArgumentException but why?\r\n\r\nIs there something wrong with the Generics ?\r\n\r\n\r\n        public class LabeledComponent&lt;E extends JComponent&gt; extends JPanel {\r\n    \r\n        public enum LabelPosition {\r\n            North,\r\n            South,\r\n            East,\r\n            West\r\n        }\r\n    \r\n        public LabeledComponent(String label, E component, LabelPosition position) {\r\n            JLabel label1 = new JLabel(label);\r\n            switch (position) {\r\n                case North -&gt; {\r\n                    setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n                    add(label1);\r\n                    add(component);\r\n                }\r\n                case South -&gt; {\r\n                    setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n                    add(component);\r\n                    add(label1);\r\n                }\r\n                case East -&gt; {\r\n                    setLayout(new FlowLayout());\r\n                    add(component);\r\n                    add(label1);\r\n                }\r\n                case West -&gt; {\r\n                    setLayout(new FlowLayout());\r\n                    add(label1);\r\n                    add(component);\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Adding JComponent with JLabel to another JPanel causes IllegalArgumentException","body":"<p>I was wondering how to label my buttons, sliders, etc. properly, so I came up with a solution that I found to be quiet good since I'm new to gui development.</p>\n<p>This class below should allow me to label any JComponent and set the label position to North,East,South or West of the JComponent.</p>\n<p>Unfortunately <code>new LabeledComponent&lt;&gt;(&quot;Depth&quot;, new JSlider(1, 10, 21), LabeledComponent.LabelPosition.North);</code> runs into an IllegalArgumentException but why?</p>\n<p>Is there something wrong with the Generics ?</p>\n<pre><code>    public class LabeledComponent&lt;E extends JComponent&gt; extends JPanel {\n\n    public enum LabelPosition {\n        North,\n        South,\n        East,\n        West\n    }\n\n    public LabeledComponent(String label, E component, LabelPosition position) {\n        JLabel label1 = new JLabel(label);\n        switch (position) {\n            case North -&gt; {\n                setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n                add(label1);\n                add(component);\n            }\n            case South -&gt; {\n                setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n                add(component);\n                add(label1);\n            }\n            case East -&gt; {\n                setLayout(new FlowLayout());\n                add(component);\n                add(label1);\n            }\n            case West -&gt; {\n                setLayout(new FlowLayout());\n                add(label1);\n                add(component);\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-scrollview"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929716,"post_id":74087757,"comment_id":130809325,"body_markdown":"Please provide code as [formatted text](https://meta.stackoverflow.com/a/285557/12567365), not as screenshots. If you have not already done so, take a look at [ask] and try to [edit] your question to provide a [mre].","body":"Please provide code as <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">formatted text</a>, not as screenshots. If you have not already done so, take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to <a href=\"https://stackoverflow.com/posts/74087757/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929814,"post_id":74087757,"comment_id":130809352,"body_markdown":"You can also read the guidance provided in [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions) if this is a school assignment (but even if it isn&#39;t, the guidance is still worth reading).","body":"You can also read the guidance provided in <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a> if this is a school assignment (but even if it isn&#39;t, the guidance is still worth reading)."}],"owner":{"account_id":25997193,"reputation":1,"user_id":19708356,"display_name":"Joshua Musa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665933318,"creation_date":1665928966,"question_id":74087757,"body_markdown":"I have been trying to make an application for a school but I ran into some problems. I am trying to make the User Details page scrollable but the constraint layout stacks up at the top: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/apHXl.png\r\n\r\n```XML\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;ScrollView android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:background=&quot;#9F9F9F&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;250dp&quot;\r\n            android:background=&quot;@drawable/user_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/userprofile&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:background=&quot;@drawable/no_profile_pic&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.27&quot;\r\n            android:contentDescription=&quot;User Profile&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userprofilename&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Loading...&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;17sp&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.45&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/background&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_image&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_profile&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userid&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg2&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.63&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_class&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_baseline_class_24&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userclass&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg3&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.74&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_dob&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_birthday&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userdob&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg4&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.85&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_num&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_mobile&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/usernum&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg5&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.96&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_gender&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_gender&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/usergender&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot;/&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_nav&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#9F9F9F&quot;\r\n            android:paddingLeft=&quot;20dp&quot;\r\n            android:paddingRight=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nI have tried using minHeight but it doesn&#39;t give me my desired result. I have also watch many tutorials on how to create a scrollable view but none have answered my question.","title":"Constraint layout stacks at the top when using scrollview","body":"<p>I have been trying to make an application for a school but I ran into some problems. I am trying to make the User Details page scrollable but the constraint layout stacks up at the top:</p>\n<p><a href=\"https://i.stack.imgur.com/apHXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/apHXl.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;ScrollView android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:background=&quot;#9F9F9F&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;250dp&quot;\n            android:background=&quot;@drawable/user_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/userprofile&quot;\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:background=&quot;@drawable/no_profile_pic&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.27&quot;\n            android:contentDescription=&quot;User Profile&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userprofilename&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Loading...&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;17sp&quot;\n            app:layout_constraintVertical_bias=&quot;0.45&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/background&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_image&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_profile&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userid&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg2&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.63&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_class&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_baseline_class_24&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userclass&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg3&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.74&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_dob&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_birthday&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userdob&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg4&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.85&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_num&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_mobile&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/usernum&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg4&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg5&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.96&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_gender&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_gender&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/usergender&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg5&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot;/&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottom_nav&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;#9F9F9F&quot;\n            android:paddingLeft=&quot;20dp&quot;\n            android:paddingRight=&quot;20dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>I have tried using minHeight but it doesn't give me my desired result. I have also watch many tutorials on how to create a scrollable view but none have answered my question.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver"],"comments":[{"owner":{"account_id":18121436,"reputation":786,"user_id":13177404,"display_name":"mkhurmi"},"score":0,"creation_date":1588191199,"post_id":61510633,"comment_id":108809069,"body_markdown":"did you really want to check the flow or just want to download the pdf? For that you can use DesiredCapabilities.","body":"did you really want to check the flow or just want to download the pdf? For that you can use DesiredCapabilities."},{"owner":{"account_id":2907292,"reputation":2568,"user_id":2492264,"accept_rate":64,"display_name":"Archit Arora"},"score":0,"creation_date":1588191364,"post_id":61510633,"comment_id":108809152,"body_markdown":"I have to check the flow and interact with this window","body":"I have to check the flow and interact with this window"}],"owner":{"account_id":2907292,"reputation":2568,"user_id":2492264,"accept_rate":64,"display_name":"Archit Arora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1951,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1665932402,"creation_date":1588190437,"question_id":61510633,"body_markdown":"I have a print button in my application. This print button opens a PDF in a new window. On top of this window is the Print icon that can be clicked to open a Chrome&#39;s print preview window where one can select &quot;Save as PDF&quot; option to save the PDF file.\r\n\r\nI would like to test this flow in selenium. \r\n\r\n--- I click the Print button on my webpage. This opens a new Chrome window with the PDF\r\n \r\n    driver.findElement(By.cssSelector(&quot;ID&quot;)).click();\r\n\r\n--- I switch to the newly opened Chrome window\r\n\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\r\n\r\nI can see in the Logs that selenium is indeed switching to the new window.\r\n\r\n--- I try to get the element &lt;viewer-pdf-toolbar&gt; of the new Chrome window opened \r\n\r\n    driver.findElement(By.cssSelector(&quot;viewer-pdf-toolbar&quot;))\r\n\r\nThis is where the issue is. Selenium is unable to interact with this newly opened window and cant find this element. When I inspect the newly opened window I see the following DOM structure -\r\n\r\n    &lt;body&gt; \r\n        &lt;viewer-pdf-toolbar id=&quot;toolbar&quot;&gt;&lt;/viewer-pdf-toolbar&gt;\r\n        &lt;div id=&quot;sizer&quot; style=&quot;width: 735px; height: 1092px;&quot;&gt;&lt;/div&gt;\r\n        &lt;viewer-password-screen id=&quot;password-screen&quot;&gt;&lt;/viewer-password-screen&gt;\r\n        ...\r\n        ..\r\n        .\r\n    &lt;/div&gt;\r\n\r\nThe element I&#39;m looking for does exist in the DOM structure and I can access it via Console but I cant access it using Selenium. You can view this DOM by opening any PDF file in Chrome browser and inspecting the window. \r\nAny ideas why this is happening?\r\n\r\nNote : When the new window loads, for a second or two it shows &quot;Printing, Please wait&quot; and then the PDF loaded. Not sure if this information is relevant to the problem here.\r\n\r\nAdditional Information -\r\n\r\nIn debug mode, after the Driver has switched to the new PDF window I evaluated - `driver.getCurrentUrl()` - this URL is the correct URL as displayed in the address bar of the preview window. This means that my driver is on the correct window.\r\n\r\nBut when I execute `driver.getPageSource` - I get the following output\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;height: 100%; width: 100%; overflow: hidden; margin:0px; background-color: rgb(82, 86, 89);&quot;&gt;\r\n    &lt;embed name=&quot;XXXXXXD474B71424EC89403FB4FA75CF&quot; style=&quot;position:absolute; left: 0; top: 0;&quot; width=&quot;100%&quot; height=&quot;100%&quot; src=&quot;about:blank&quot; type=&quot;application/pdf&quot; internalid=&quot;XXXXXXD474B71424EC89403FB4FA75CF&quot;&gt;&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nSo the `driver` sees this as the page source whereas when I do an `inspect` on the same window I see a different DOM. Why is this happening? Is Chrome replacing the `&lt;embed&gt;` tag with the final DOM? How can selenium be made aware of this change?\r\n\r\n\r\nPlease help!","title":"Unable to access Elements of Chrome&#39;s PDF preview window using Selenium","body":"<p>I have a print button in my application. This print button opens a PDF in a new window. On top of this window is the Print icon that can be clicked to open a Chrome's print preview window where one can select \"Save as PDF\" option to save the PDF file.</p>\n\n<p>I would like to test this flow in selenium. </p>\n\n<p>--- I click the Print button on my webpage. This opens a new Chrome window with the PDF</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"ID\")).click();\n</code></pre>\n\n<p>--- I switch to the newly opened Chrome window</p>\n\n<pre><code>driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\n</code></pre>\n\n<p>I can see in the Logs that selenium is indeed switching to the new window.</p>\n\n<p>--- I try to get the element  of the new Chrome window opened </p>\n\n<pre><code>driver.findElement(By.cssSelector(\"viewer-pdf-toolbar\"))\n</code></pre>\n\n<p>This is where the issue is. Selenium is unable to interact with this newly opened window and cant find this element. When I inspect the newly opened window I see the following DOM structure -</p>\n\n<pre><code>&lt;body&gt; \n    &lt;viewer-pdf-toolbar id=\"toolbar\"&gt;&lt;/viewer-pdf-toolbar&gt;\n    &lt;div id=\"sizer\" style=\"width: 735px; height: 1092px;\"&gt;&lt;/div&gt;\n    &lt;viewer-password-screen id=\"password-screen\"&gt;&lt;/viewer-password-screen&gt;\n    ...\n    ..\n    .\n&lt;/div&gt;\n</code></pre>\n\n<p>The element I'm looking for does exist in the DOM structure and I can access it via Console but I cant access it using Selenium. You can view this DOM by opening any PDF file in Chrome browser and inspecting the window. \nAny ideas why this is happening?</p>\n\n<p>Note : When the new window loads, for a second or two it shows \"Printing, Please wait\" and then the PDF loaded. Not sure if this information is relevant to the problem here.</p>\n\n<p>Additional Information -</p>\n\n<p>In debug mode, after the Driver has switched to the new PDF window I evaluated - <code>driver.getCurrentUrl()</code> - this URL is the correct URL as displayed in the address bar of the preview window. This means that my driver is on the correct window.</p>\n\n<p>But when I execute <code>driver.getPageSource</code> - I get the following output</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body style=\"height: 100%; width: 100%; overflow: hidden; margin:0px; background-color: rgb(82, 86, 89);\"&gt;\n&lt;embed name=\"XXXXXXD474B71424EC89403FB4FA75CF\" style=\"position:absolute; left: 0; top: 0;\" width=\"100%\" height=\"100%\" src=\"about:blank\" type=\"application/pdf\" internalid=\"XXXXXXD474B71424EC89403FB4FA75CF\"&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So the <code>driver</code> sees this as the page source whereas when I do an <code>inspect</code> on the same window I see a different DOM. Why is this happening? Is Chrome replacing the <code>&lt;embed&gt;</code> tag with the final DOM? How can selenium be made aware of this change?</p>\n\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":1,"creation_date":1665930815,"post_id":74087719,"comment_id":130809570,"body_markdown":"You should add your curl/postman request to the question.","body":"You should add your curl/postman request to the question."}],"answers":[{"tags":[],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665929851,"creation_date":1665929851,"answer_id":74087862,"question_id":74087719,"body_markdown":"as far as i understand , you since you are passing a path variable you should try the url with a adding an id that exists in your database , else there is a property that specifies the initial base url for your application when it runs in a server server.servlet.context-path=/api for Spring 2.X versions and spring.data.rest.basePath=/api With Spring Boot 1.2+ (&lt;2.0). \r\nso to avoid redundant &quot;api&quot; in your path your request mapping should be @RequestMapping(&quot;/user&quot;). \r\nPlease let me know if this helped \r\n","title":"How to Build a Spring Boot REST API with Java?","body":"<p>as far as i understand , you since you are passing a path variable you should try the url with a adding an id that exists in your database , else there is a property that specifies the initial base url for your application when it runs in a server server.servlet.context-path=/api for Spring 2.X versions and spring.data.rest.basePath=/api With Spring Boot 1.2+ (&lt;2.0).\nso to avoid redundant &quot;api&quot; in your path your request mapping should be @RequestMapping(&quot;/user&quot;).\nPlease let me know if this helped</p>\n"}],"owner":{"account_id":20687710,"reputation":21,"user_id":15189779,"display_name":"Khaled El Attar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74087862,"answer_count":1,"score":-1,"last_activity_date":1665932090,"creation_date":1665928603,"question_id":74087719,"body_markdown":"When I try to send any request with the API of this project by path(for example, http://localhost:8082/api/user), the result is always 404Not Found in postman.\r\n\r\nwhy ???\r\n\r\n**file.propertise**\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/user\r\nspring.datasource.username = user\r\nspring.datasource.password = user\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\nserver.port = 8082\r\n```\r\n\r\n**User Model**\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String name;\r\n}\r\n```\r\n\r\n**Repository Classes**\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\r\n```\r\n\r\n\r\n**Controller**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; findAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable(value = &quot;id&quot;) long id) {\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n\r\n        if(user.isPresent()) {\r\n            return ResponseEntity.ok().body(user.get());\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n    @PostMapping\r\n    public User saveUser(@Validated @RequestBody User user) {\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to Build a Spring Boot REST API with Java?","body":"<p>When I try to send any request with the API of this project by path(for example, http://localhost:8082/api/user), the result is always 404Not Found in postman.</p>\n<p>why ???</p>\n<p><strong>file.propertise</strong></p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/user\nspring.datasource.username = user\nspring.datasource.password = user\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nserver.port = 8082\n</code></pre>\n<p><strong>User Model</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String name;\n}\n</code></pre>\n<p><strong>Repository Classes</strong></p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping\n    public List&lt;User&gt; findAllUsers() {\n        return userRepository.findAll();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable(value = &quot;id&quot;) long id) {\n        Optional&lt;User&gt; user = userRepository.findById(id);\n\n        if(user.isPresent()) {\n            return ResponseEntity.ok().body(user.get());\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n    @PostMapping\n    public User saveUser(@Validated @RequestBody User user) {\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","binary","decimal","converters"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665931317,"post_id":74087991,"comment_id":130809695,"body_markdown":"*doesn&#39;t work* is not an error description. Please explain what it means","body":"<i>doesn&#39;t work</i> is not an error description. Please explain what it means"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1665931341,"post_id":74087991,"comment_id":130809704,"body_markdown":"`System.out.println(Integer.toBinaryString(x) + &quot; or &quot; + Integer.toString(x, 2));`","body":"<code>System.out.println(Integer.toBinaryString(x) + &quot; or &quot; + Integer.toString(x, 2));</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665931909,"post_id":74087991,"comment_id":130809818,"body_markdown":"What you&#39;re doing doesn&#39;t actually make sense. You give your method an ```int```  and return an ```int``` . ```int``` doesn&#39;t have a format (binary, decimal, octal etc.) - that&#39;s a string thing. You should be returning a ```String```","body":"What you&#39;re doing doesn&#39;t actually make sense. You give your method an <code>int</code>  and return an <code>int</code> . <code>int</code> doesn&#39;t have a format (binary, decimal, octal etc.) - that&#39;s a string thing. You should be returning a <code>String</code>"},{"owner":{"account_id":18056451,"reputation":315,"user_id":13124794,"display_name":"odaiwa"},"score":0,"creation_date":1665933245,"post_id":74087991,"comment_id":130810125,"body_markdown":"Does this answer your question? [Converting Decimal to Binary Java](https://stackoverflow.com/questions/14784630/converting-decimal-to-binary-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14784630/converting-decimal-to-binary-java\">Converting Decimal to Binary Java</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665933748,"post_id":74087991,"comment_id":130810220,"body_markdown":"...and actually you&#39;re producing a *different* number. Entering 8 will give you 1000 (one thousand, not binary 8)","body":"...and actually you&#39;re producing a <i>different</i> number. Entering 8 will give you 1000 (one thousand, not binary 8)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665935270,"post_id":74087991,"comment_id":130810572,"body_markdown":"Converting decimal to binary doesn&#39;t convert an int to an int.  It converts a string to a string.","body":"Converting decimal to binary doesn&#39;t convert an int to an int.  It converts a string to a string."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665960923,"post_id":74087991,"comment_id":130815654,"body_markdown":"If your toBinary routine is to work as you expect, you can just collapnse it to `int toBinary(int num) { return num; }` --- because all you&#39;re attempting to do (and getting it wrong) is to split a number into digits, here base 2, and then combining those digits into a number.","body":"If your toBinary routine is to work as you expect, you can just collapnse it to <code>int toBinary(int num) { return num; }</code> --- because all you&#39;re attempting to do (and getting it wrong) is to split a number into digits, here base 2, and then combining those digits into a number."}],"owner":{"account_id":25283554,"reputation":11,"user_id":19111003,"display_name":"Noa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1665931156,"creation_date":1665931156,"question_id":74087991,"body_markdown":"I am trying to convert a decimal number to binary but the code I&#39;ve written doesn&#39;t work in all test cases.\r\nHere&#39;s the code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Converter{\r\n    public static int toBinary(int num) {\r\n        String binary=&quot;&quot;;\r\n        while (num&gt;0){\r\n            binary = (num%2)+binary;\r\n            num /=2;\r\n        }\r\n        int bin = Integer.parseInt(binary);\r\n        return bin;\r\n    }\r\n}\r\n\r\npublic class Program {\r\n    public static void main(String[ ] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int x = sc.nextInt();\r\n        System.out.print(Converter.toBinary(x));\r\n    }\r\n}\r\n```\r\nI would be grateful if somebody could tell me what&#39;s wrong.\r\n\r\n","title":"How to convert Decimal to Binary in Java?","body":"<p>I am trying to convert a decimal number to binary but the code I've written doesn't work in all test cases.\nHere's the code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Converter{\n    public static int toBinary(int num) {\n        String binary=&quot;&quot;;\n        while (num&gt;0){\n            binary = (num%2)+binary;\n            num /=2;\n        }\n        int bin = Integer.parseInt(binary);\n        return bin;\n    }\n}\n\npublic class Program {\n    public static void main(String[ ] args) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        System.out.print(Converter.toBinary(x));\n    }\n}\n</code></pre>\n<p>I would be grateful if somebody could tell me what's wrong.</p>\n"},{"tags":["java","functional-programming","functional-interface"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1665930127,"post_id":74087863,"comment_id":130809422,"body_markdown":"Please be more specific. What is the &quot;correct way&quot;?","body":"Please be more specific. What is the &quot;correct way&quot;?"},{"owner":{"account_id":10536282,"reputation":164,"user_id":7764065,"display_name":"Javid"},"score":0,"creation_date":1665930477,"post_id":74087863,"comment_id":130809486,"body_markdown":"Well for example I am not sure if we can use default methods in java stream API and I am worry about using it in production project in stream API !","body":"Well for example I am not sure if we can use default methods in java stream API and I am worry about using it in production project in stream API !"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1665931085,"post_id":74087863,"comment_id":130809639,"body_markdown":"If your function throws a checked exception it is recommended that you catch and handle it properly. But if you just pass it on in this kind of interface, chances are high that the caller doesn&#39;t know how to handle this exception (otherwise you would use a regular interface and not this style. So my advice would be that you handle checked exceptions properly inside your function and only throw unchecked exceptions (inherit from `RuntimeException`), they should not need this trick.","body":"If your function throws a checked exception it is recommended that you catch and handle it properly. But if you just pass it on in this kind of interface, chances are high that the caller doesn&#39;t know how to handle this exception (otherwise you would use a regular interface and not this style. So my advice would be that you handle checked exceptions properly inside your function and only throw unchecked exceptions (inherit from <code>RuntimeException</code>), they should not need this trick."}],"owner":{"account_id":10536282,"reputation":164,"user_id":7764065,"display_name":"Javid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1665930927,"creation_date":1665929865,"question_id":74087863,"body_markdown":"In our project I wanted to use Function in my method but sins the reference method is throwing exception then I looked to Function interface for creating my ThrowingFunction like this so the question here is did I implemented the interface in correct way inf default methods and can this implementation cause side effects or errors?\r\nIs this interface safe to use instead of java Function interface? because I implemented it from *`java.util.function.Function`* interface that java doesn&#39;t have Function like this so I am not sure abut that!\r\n\r\n    @FunctionalInterface\r\n\tpublic interface ThrowingFunction&lt;T, R, E extends Exception&gt; {\r\n\r\n\t\t/**\r\n\t\t * Applies this function to the given argument.\r\n\t\t * \r\n\t\t * @param t the function argument\r\n\t\t * @return the function result\r\n\t\t * @throws E the function throwing exception\r\n\t\t */\r\n\t\tR apply(T t) throws E;\r\n\r\n\t\tdefault &lt;V&gt; ThrowingFunction&lt;V, R, E&gt; compose(ThrowingFunction&lt;? super V, ? extends T, E&gt; before) {\r\n\t\t\tObjects.requireNonNull(before);\r\n\t\t\treturn (V v) -&gt; apply(before.apply(v));\r\n\t\t}\r\n\r\n\t\tdefault &lt;V&gt; ThrowingFunction&lt;T, V, E&gt; andThen(ThrowingFunction&lt;? super R, ? extends V, E&gt; after) {\r\n\t\t\tObjects.requireNonNull(after);\r\n\t\t\treturn (T t) -&gt; after.apply(apply(t));\r\n\t\t}\r\n\r\n\t\tstatic &lt;T, E extends Exception&gt; ThrowingFunction&lt;T, T, E&gt; identity() {\r\n\t\t\treturn t -&gt; t;\r\n\t\t}\r\n\t}","title":"Implementing ThrowingFunction like Function in java","body":"<p>In our project I wanted to use Function in my method but sins the reference method is throwing exception then I looked to Function interface for creating my ThrowingFunction like this so the question here is did I implemented the interface in correct way inf default methods and can this implementation cause side effects or errors?\nIs this interface safe to use instead of java Function interface? because I implemented it from <em><code>java.util.function.Function</code></em> interface that java doesn't have Function like this so I am not sure abut that!</p>\n<pre><code>@FunctionalInterface\npublic interface ThrowingFunction&lt;T, R, E extends Exception&gt; {\n\n    /**\n     * Applies this function to the given argument.\n     * \n     * @param t the function argument\n     * @return the function result\n     * @throws E the function throwing exception\n     */\n    R apply(T t) throws E;\n\n    default &lt;V&gt; ThrowingFunction&lt;V, R, E&gt; compose(ThrowingFunction&lt;? super V, ? extends T, E&gt; before) {\n        Objects.requireNonNull(before);\n        return (V v) -&gt; apply(before.apply(v));\n    }\n\n    default &lt;V&gt; ThrowingFunction&lt;T, V, E&gt; andThen(ThrowingFunction&lt;? super R, ? extends V, E&gt; after) {\n        Objects.requireNonNull(after);\n        return (T t) -&gt; after.apply(apply(t));\n    }\n\n    static &lt;T, E extends Exception&gt; ThrowingFunction&lt;T, T, E&gt; identity() {\n        return t -&gt; t;\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","iostream"],"comments":[{"owner":{"account_id":3175071,"reputation":20715,"user_id":2683146,"accept_rate":85,"display_name":"Jean-Fran&#231;ois Savard"},"score":0,"creation_date":1426073315,"post_id":28985379,"comment_id":46219397,"body_markdown":"try with `getClassLoader().getResourceAsStream()` instead","body":"try with <code>getClassLoader().getResourceAsStream()</code> instead"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1426075538,"post_id":28985379,"comment_id":46220834,"body_markdown":"From the [documentation for `Files.newDirectoryStream`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newDirectoryStream-java.nio.file.Path-) _When not using the try-with-resources construct, then **directory stream&#39;s close method should be invoked** after iteration is completed so as to free any resources held for the open directory._ (emphasis added) Make sure you read the documentation and do as it says, the current code is a memory leak.","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newDirectoryStream-java.nio.file.Path-\" rel=\"nofollow noreferrer\">documentation for <code>Files.newDirectoryStream</code></a> <i>When not using the try-with-resources construct, then <b>directory stream&#39;s close method should be invoked</b> after iteration is completed so as to free any resources held for the open directory.</i> (emphasis added) Make sure you read the documentation and do as it says, the current code is a memory leak."}],"answers":[{"tags":[],"owner":{"account_id":5920664,"reputation":25,"user_id":4658182,"display_name":"TV Trailers"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1426073634,"creation_date":1426073634,"answer_id":28985566,"question_id":28985379,"body_markdown":"You can read contents of a JAR file with [JARInputStream][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/jar/JarInputStream.html","title":"Java how to read folder and list files in that folder in jar environment instead of IDE","body":"<p>You can read contents of a JAR file with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/jar/JarInputStream.html\" rel=\"nofollow\">JARInputStream</a></p>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1426074705,"creation_date":1426074296,"answer_id":28985785,"question_id":28985379,"body_markdown":"This is actually a very difficult question, as the `ClassLoader` has to take account of the fact that you might have _another_ folder called `IconResources` on the classpath at runtime.\r\n\r\nAs such, there is no &quot;official&quot; way to list an entire folder from the classpath. The solution I give below is **a hack** and currently works with the implementation of `URLClassLoader`. This is subject to change.\r\n\r\nIf you want to robust approach, you will need to use a classpath scanner. There are many of these in library form, my personal favourite is [Reflections][1], but Spring has one built in and there are many other options.\r\n\r\nOnto the hack.\r\n\r\nGenerally, if you [`getResourceAsStream`][2] on a `URLClassLoader` then it will return a stream of the resources in that folder, one on each line.  The `URLClassLoader` is the default used by the JRE so this approach should work out of the box, if you&#39;re not changing that behaviour.\r\n\r\nAssume I have a project with the following classpath structure:\r\n\r\n    /\r\n        text/\r\n            one.txt\r\n            two.txt\r\n\r\nThen running the following code:\r\n\r\n    final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n    try(\r\n            final InputStream is = loader.getResourceAsStream(&quot;text&quot;);\r\n            final InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n            final BufferedReader br = new BufferedReader(isr)) {\r\n        br.lines().forEach(System.out::println);\r\n    }\r\n\r\nWill print:\r\n\r\n&gt; one.txt  \r\n&gt; two.txt\r\n\r\nSo, in order to get a `List&lt;URL&gt;` of the resources in that location you could use a method such as:\r\n\r\n    public static List&lt;URL&gt; getResources(final String path) throws IOException {\r\n        final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n        try (\r\n                final InputStream is = loader.getResourceAsStream(path);\r\n                final InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n                final BufferedReader br = new BufferedReader(isr)) {\r\n            return br.lines()\r\n                    .map(l -&gt; path + &quot;/&quot; + l)\r\n                    .map(r -&gt; loader.getResource(r))\r\n                    .collect(toList());\r\n        }\r\n    }\r\n\r\nNow remember, these `URL` locations are **opaque**. They cannot be treated as files, as they might be inside a `.jar` or they might even be at an internet location.  So in order to read the contents of the resource, use the appropriate methods on `URL`:\r\n\r\n    final URL resource = ...\r\n    try(final InputStream is = resource.openStream()) {\r\n        //do stuff\r\n    }\r\n\r\n[1]: https://code.google.com/p/reflections/\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)","title":"Java how to read folder and list files in that folder in jar environment instead of IDE","body":"<p>This is actually a very difficult question, as the <code>ClassLoader</code> has to take account of the fact that you might have <em>another</em> folder called <code>IconResources</code> on the classpath at runtime.</p>\n\n<p>As such, there is no \"official\" way to list an entire folder from the classpath. The solution I give below is <strong>a hack</strong> and currently works with the implementation of <code>URLClassLoader</code>. This is subject to change.</p>\n\n<p>If you want to robust approach, you will need to use a classpath scanner. There are many of these in library form, my personal favourite is <a href=\"https://code.google.com/p/reflections/\" rel=\"noreferrer\">Reflections</a>, but Spring has one built in and there are many other options.</p>\n\n<p>Onto the hack.</p>\n\n<p>Generally, if you <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>getResourceAsStream</code></a> on a <code>URLClassLoader</code> then it will return a stream of the resources in that folder, one on each line.  The <code>URLClassLoader</code> is the default used by the JRE so this approach should work out of the box, if you're not changing that behaviour.</p>\n\n<p>Assume I have a project with the following classpath structure:</p>\n\n<pre><code>/\n    text/\n        one.txt\n        two.txt\n</code></pre>\n\n<p>Then running the following code:</p>\n\n<pre><code>final ClassLoader loader = Thread.currentThread().getContextClassLoader();\ntry(\n        final InputStream is = loader.getResourceAsStream(\"text\");\n        final InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\n        final BufferedReader br = new BufferedReader(isr)) {\n    br.lines().forEach(System.out::println);\n}\n</code></pre>\n\n<p>Will print:</p>\n\n<blockquote>\n  <p>one.txt<br>\n  two.txt</p>\n</blockquote>\n\n<p>So, in order to get a <code>List&lt;URL&gt;</code> of the resources in that location you could use a method such as:</p>\n\n<pre><code>public static List&lt;URL&gt; getResources(final String path) throws IOException {\n    final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n    try (\n            final InputStream is = loader.getResourceAsStream(path);\n            final InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\n            final BufferedReader br = new BufferedReader(isr)) {\n        return br.lines()\n                .map(l -&gt; path + \"/\" + l)\n                .map(r -&gt; loader.getResource(r))\n                .collect(toList());\n    }\n}\n</code></pre>\n\n<p>Now remember, these <code>URL</code> locations are <strong>opaque</strong>. They cannot be treated as files, as they might be inside a <code>.jar</code> or they might even be at an internet location.  So in order to read the contents of the resource, use the appropriate methods on <code>URL</code>:</p>\n\n<pre><code>final URL resource = ...\ntry(final InputStream is = resource.openStream()) {\n    //do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4850972,"reputation":133,"user_id":3913260,"display_name":"Li Yuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426226095,"creation_date":1426226095,"answer_id":29025738,"question_id":28985379,"body_markdown":"Finally I work it out. I adopt Boris the Spider&#39;s answer, and it works well in IDE but break down in exported Jar. Then I change \r\n\r\nfinal InputStream is = loader.getResourceAsStream(&quot;text&quot;);\r\n \r\nto\r\n\r\nfinal InputStream is = loader.getResourceAsStream(&quot;./text&quot;);\r\n\r\nThen it works both in IDE and JAR. ","title":"Java how to read folder and list files in that folder in jar environment instead of IDE","body":"<p>Finally I work it out. I adopt Boris the Spider's answer, and it works well in IDE but break down in exported Jar. Then I change </p>\n\n<p>final InputStream is = loader.getResourceAsStream(\"text\");</p>\n\n<p>to</p>\n\n<p>final InputStream is = loader.getResourceAsStream(\"./text\");</p>\n\n<p>Then it works both in IDE and JAR. </p>\n"},{"tags":[],"owner":{"account_id":22491546,"reputation":1,"user_id":16689204,"display_name":"Sumit Murmu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665930530,"creation_date":1665657391,"answer_id":74054370,"question_id":28985379,"body_markdown":"I tested that `final InputStream is = loader.getResourceAsStream(&quot;text&quot;);`\r\nis working.","title":"Java how to read folder and list files in that folder in jar environment instead of IDE","body":"<p>I tested that <code>final InputStream is = loader.getResourceAsStream(&quot;text&quot;);</code>\nis working.</p>\n"}],"owner":{"account_id":4850972,"reputation":133,"user_id":3913260,"display_name":"Li Yuan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17323,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28985785,"answer_count":4,"score":10,"last_activity_date":1665930530,"creation_date":1426073123,"question_id":28985379,"body_markdown":" \r\n my problem is that I create a folder(name is IconResources) under src , in IconResources there are many pictures. Directory is like this:\r\n\r\n - ProjectName\r\n   - src\r\n     - package 1\r\n     - package 2\r\n     - IconResources(this is the target folder)\r\n\r\nI want to list all picture files name and do something with those pictures. And I found that File.list() only works in IDE, if I export project to a jar to make a standalone, it cannot work. So I searched and found that I should use inputstream and outputstream. Now I find i/o stream can works well for single file. But I want to use inputstream and outputstream to read folder(IconResource), then list the files in that folder. \r\n\r\nSo my question is how to use i/o put stream to load a folder and iterate the folder to list file names in that folder. These things should work under not only IDE but also exported jar. \r\nMy code are follows:\r\n\r\n    private void initalizeIconFiles(File projectDirectory){\r\n    \t\t\r\n    \tURL a = editor.getClass().getResource(&quot;/IconResources/&quot;);// Get Folder URL\r\n    \tList&lt;String&gt; iconFileNames=new ArrayList&lt;String&gt;();//Create a list to store file names from IconResource Folder\r\n    \tFile iconFolder = new File(a.getFile());\r\n    \tPath path=Paths.get(iconFolder.getPath());\r\n    \tDirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(path) ;\r\n    \tfor (Path entry : stream) {\r\n    \t    if (!Files.isDirectory(entry)) {\r\n    \t        System.out.println(entry.getFileName().toString());\r\n    \t        iconFileNames.add(entry.getFileName().toString());// add file name in to name list\r\n    \t    }\r\n        }\r\n    }\r\nabove code only can run under IDE but break down in exported jar.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UdgED.png","title":"Java how to read folder and list files in that folder in jar environment instead of IDE","body":"<p>my problem is that I create a folder(name is IconResources) under src , in IconResources there are many pictures. Directory is like this:</p>\n\n<ul>\n<li>ProjectName\n\n<ul>\n<li>src\n\n<ul>\n<li>package 1</li>\n<li>package 2</li>\n<li>IconResources(this is the target folder)</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>I want to list all picture files name and do something with those pictures. And I found that File.list() only works in IDE, if I export project to a jar to make a standalone, it cannot work. So I searched and found that I should use inputstream and outputstream. Now I find i/o stream can works well for single file. But I want to use inputstream and outputstream to read folder(IconResource), then list the files in that folder. </p>\n\n<p>So my question is how to use i/o put stream to load a folder and iterate the folder to list file names in that folder. These things should work under not only IDE but also exported jar. \nMy code are follows:</p>\n\n<pre><code>private void initalizeIconFiles(File projectDirectory){\n\n    URL a = editor.getClass().getResource(\"/IconResources/\");// Get Folder URL\n    List&lt;String&gt; iconFileNames=new ArrayList&lt;String&gt;();//Create a list to store file names from IconResource Folder\n    File iconFolder = new File(a.getFile());\n    Path path=Paths.get(iconFolder.getPath());\n    DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(path) ;\n    for (Path entry : stream) {\n        if (!Files.isDirectory(entry)) {\n            System.out.println(entry.getFileName().toString());\n            iconFileNames.add(entry.getFileName().toString());// add file name in to name list\n        }\n    }\n}\n</code></pre>\n\n<p>above code only can run under IDE but break down in exported jar.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1665929424,"post_id":74087752,"comment_id":130809265,"body_markdown":"You don&#39;t have a variable with the name `repository` defined anywhere. Perhaps you wanted to autowire it?","body":"You don&#39;t have a variable with the name <code>repository</code> defined anywhere. Perhaps you wanted to autowire it?"},{"owner":{"account_id":14203544,"reputation":942,"user_id":10260806,"display_name":"RedRum"},"score":0,"creation_date":1665929746,"post_id":74087752,"comment_id":130809331,"body_markdown":"@voidvoid correct, when I hover over the repository, I get a suggestion to create a local repository. Where would I place the ```@Autowired``` annotation though? I&#39;ve tried placing it in the Repository and Controller file but I still get the error.","body":"@voidvoid correct, when I hover over the repository, I get a suggestion to create a local repository. Where would I place the <code>@Autowired</code> annotation though? I&#39;ve tried placing it in the Repository and Controller file but I still get the error."}],"answers":[{"tags":[],"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665930418,"creation_date":1665930418,"answer_id":74087915,"question_id":74087752,"body_markdown":"To me it seems you are trying to do this: \r\n\r\n    @Component\r\n    public class ApplicationRunner implements CommandLineRunner{\r\n    \r\n        @Autowired\r\n        private StudentRepository repository;\r\n        \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            Student mariam = new Student(\r\n                            &quot;Mariam&quot;,\r\n                            &quot;mariam.jamal@gmail.com&quot;,\r\n                            LocalDate.of(2000, Month.JANUARY, 5)\r\n                    );\r\n            \r\n            Student alex = new Student(\r\n                    &quot;Alex&quot;,\r\n                    &quot;alex@gmail.com&quot;,\r\n                    LocalDate.of(2004, Month.JANUARY, 5)\r\n            );\r\n            \r\n            repository.saveAll(\r\n                    List.of(mariam, alex)\r\n            );\r\n        }\r\n    }\r\nNow your `StudentRepository` will get injected/autowired into your component and it will be available inside the run method.","title":"Cannot resolve symbol repository","body":"<p>To me it seems you are trying to do this:</p>\n<pre><code>@Component\npublic class ApplicationRunner implements CommandLineRunner{\n\n    @Autowired\n    private StudentRepository repository;\n    \n    @Override\n    public void run(String... args) throws Exception {\n        Student mariam = new Student(\n                        &quot;Mariam&quot;,\n                        &quot;mariam.jamal@gmail.com&quot;,\n                        LocalDate.of(2000, Month.JANUARY, 5)\n                );\n        \n        Student alex = new Student(\n                &quot;Alex&quot;,\n                &quot;alex@gmail.com&quot;,\n                LocalDate.of(2004, Month.JANUARY, 5)\n        );\n        \n        repository.saveAll(\n                List.of(mariam, alex)\n        );\n    }\n}\n</code></pre>\n<p>Now your <code>StudentRepository</code> will get injected/autowired into your component and it will be available inside the run method.</p>\n"}],"owner":{"account_id":14203544,"reputation":942,"user_id":10260806,"display_name":"RedRum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74087915,"answer_count":1,"score":-1,"last_activity_date":1665930418,"creation_date":1665928915,"question_id":74087752,"body_markdown":"I have a StudentRepository and a Student Config file but when I try to had a ```repository.saveAll``` function in the StudentConfig file, I get an error saying ```Cannot resolve symbol &#39;repository&#39;``` . Am I missing an obvious annotation somewhere?\r\n\r\nI&#39;m following this tutorial which is good but it misses a few things which is annoying https://www.youtube.com/watch?v=9SGDpanrc8U\r\n\r\n# My Student repository file is like so:\r\npackage com.example.demo.student;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n    }\r\n\r\n\r\n# My StudentConfig file is like so which contains the following error causer towards the bottom of the code block\r\n\r\n    repository.saveAll(\r\n                            List.of(mariam, alex)\r\n                    )\r\n\r\n: -&gt;\r\n\r\n\r\n    package com.example.demo.student;\r\n    \r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.util.List;\r\n    \r\n    \r\n    @Configuration\r\n    public class Studentconfig {\r\n    \r\n        // we want this bean\r\n        @Bean\r\n        CommandLineRunner commandLineRunner() {\r\n            return args -&gt; {\r\n                Student mariam = new Student(\r\n                        &quot;Mariam&quot;,\r\n                        &quot;mariam.jamal@gmail.com&quot;,\r\n                        LocalDate.of(2000, Month.JANUARY, 5)\r\n                );\r\n    \r\n                Student alex = new Student(\r\n                        &quot;Alex&quot;,\r\n                        &quot;alex@gmail.com&quot;,\r\n                        LocalDate.of(2004, Month.JANUARY, 5)\r\n                );\r\n    \r\n                // invoke repository where we have the ability to save 1 student or list of all\r\n    \r\n                repository.saveAll(\r\n                        List.of(mariam, alex)\r\n                );\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Cannot resolve symbol repository","body":"<p>I have a StudentRepository and a Student Config file but when I try to had a <code>repository.saveAll</code> function in the StudentConfig file, I get an error saying <code>Cannot resolve symbol 'repository'</code> . Am I missing an obvious annotation somewhere?</p>\n<p>I'm following this tutorial which is good but it misses a few things which is annoying <a href=\"https://www.youtube.com/watch?v=9SGDpanrc8U\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9SGDpanrc8U</a></p>\n<h1>My Student repository file is like so:</h1>\n<p>package com.example.demo.student;</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<h1>My StudentConfig file is like so which contains the following error causer towards the bottom of the code block</h1>\n<pre><code>repository.saveAll(\n                        List.of(mariam, alex)\n                )\n</code></pre>\n<p>: -&gt;</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\n\n@Configuration\npublic class Studentconfig {\n\n    // we want this bean\n    @Bean\n    CommandLineRunner commandLineRunner() {\n        return args -&gt; {\n            Student mariam = new Student(\n                    &quot;Mariam&quot;,\n                    &quot;mariam.jamal@gmail.com&quot;,\n                    LocalDate.of(2000, Month.JANUARY, 5)\n            );\n\n            Student alex = new Student(\n                    &quot;Alex&quot;,\n                    &quot;alex@gmail.com&quot;,\n                    LocalDate.of(2004, Month.JANUARY, 5)\n            );\n\n            // invoke repository where we have the ability to save 1 student or list of all\n\n            repository.saveAll(\n                    List.of(mariam, alex)\n            );\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito","junit4","powermock","powermockito"],"answers":[{"tags":[],"owner":{"account_id":26639547,"reputation":1,"user_id":20255471,"display_name":"Veena"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665930245,"creation_date":1665930245,"answer_id":74087896,"question_id":74086927,"body_markdown":"UnnecessaryStubbingException indicates presence of unused stubbings. Removing unused stubbings will fix the issue.\r\nReference: https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.5/org/mockito/exceptions/misusing/UnnecessaryStubbingException.html","title":"Misusing Unnecessary Stubbing Exception in Junit","body":"<p>UnnecessaryStubbingException indicates presence of unused stubbings. Removing unused stubbings will fix the issue.\nReference: <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.5/org/mockito/exceptions/misusing/UnnecessaryStubbingException.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.5/org/mockito/exceptions/misusing/UnnecessaryStubbingException.html</a></p>\n"}],"owner":{"account_id":6332220,"reputation":224,"user_id":4916829,"accept_rate":75,"display_name":"Raushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665930245,"creation_date":1665921610,"question_id":74086927,"body_markdown":"I am writing a Junit test case using Mockito &amp; PowerMockito in Java. Below are the code snippet:\r\n\r\nApplicationCovrgeCommonRules class has method checkForValidFormIdForCoverageTest() which needs to be tested. This method is calling another method (of same class) getCarirSysID() having return type String.\r\n\r\n    @Test\r\n    public void checkForValidFormIdForCoverageTest() throws Exception{\r\n    \t\t\tString caseId=&quot;caseId&quot;;\r\n    \t\t\tStateVO stateVO = new StateVO(); stateVO.setDeliveryState(&quot;AK&quot;);\r\n    \t\t\tMockito.when(dsBean.getStateInfo(any())).thenReturn(stateVO);\r\n    \t\t\tString carirSysID=&quot;CarirSysID&quot;; \r\n    \t\t    ApplicationCovrgeCommonRules applicationCovrgeCommonRulesMock= \r\n               Mockito.spy(applicationCovrgeCommonRules);\r\n             Mockito.doReturn(carirSysID).when(applicationCovrgeCommonRulesMock).getCarirSysID(caseId);\r\n\r\n\r\napplicationCovrgeCommonRules is defined as:\r\n\r\n    @InjectMocks\r\n    ApplicationCovrgeCommonRules applicationCovrgeCommonRules;\r\n\r\nWhile running this code, I am getting error as \r\n\r\n    &gt; unnecessary Mockito stubbings FAILED\r\n        org.mockito.exceptions.misusing.UnnecessaryStubbingException","title":"Misusing Unnecessary Stubbing Exception in Junit","body":"<p>I am writing a Junit test case using Mockito &amp; PowerMockito in Java. Below are the code snippet:</p>\n<p>ApplicationCovrgeCommonRules class has method checkForValidFormIdForCoverageTest() which needs to be tested. This method is calling another method (of same class) getCarirSysID() having return type String.</p>\n<pre><code>@Test\npublic void checkForValidFormIdForCoverageTest() throws Exception{\n            String caseId=&quot;caseId&quot;;\n            StateVO stateVO = new StateVO(); stateVO.setDeliveryState(&quot;AK&quot;);\n            Mockito.when(dsBean.getStateInfo(any())).thenReturn(stateVO);\n            String carirSysID=&quot;CarirSysID&quot;; \n            ApplicationCovrgeCommonRules applicationCovrgeCommonRulesMock= \n           Mockito.spy(applicationCovrgeCommonRules);\n         Mockito.doReturn(carirSysID).when(applicationCovrgeCommonRulesMock).getCarirSysID(caseId);\n</code></pre>\n<p>applicationCovrgeCommonRules is defined as:</p>\n<pre><code>@InjectMocks\nApplicationCovrgeCommonRules applicationCovrgeCommonRules;\n</code></pre>\n<p>While running this code, I am getting error as</p>\n<pre><code>&gt; unnecessary Mockito stubbings FAILED\n    org.mockito.exceptions.misusing.UnnecessaryStubbingException\n</code></pre>\n"},{"tags":["java","cadence-workflow","uber-cadence"],"answers":[{"tags":[],"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665472202,"creation_date":1665472202,"answer_id":74024265,"question_id":74017038,"body_markdown":"The best way is to use [iWF][1] for your Cadence/Temporal project:\r\n\r\nIt is serving [REST API for workflow operations][2]. You can use [Postman/Curl][3] to reset workflows.\r\n\r\nIt also has a [Java API for reset][4].\r\n\r\n\r\n  [1]: https://github.com/cadence-oss/iwf\r\n  [2]: https://github.com/cadence-oss/iwf-idl/blob/main/iwf.yaml#L13\r\n  [3]: https://github.com/cadence-oss/iwf/blob/f8cb9566a1a43da249335ca600f66042e901428a/script/http/local/home.http#L19\r\n  [4]: https://github.com/cadence-oss/iwf-java-sdk/blob/35604e1b1e432e0879d2c833e1cae536edba017a/src/main/java/io/github/cadenceoss/iwf/core/Client.java#L115","title":"how to reset a cadence workflow with client sdk?","body":"<p>The best way is to use <a href=\"https://github.com/cadence-oss/iwf\" rel=\"nofollow noreferrer\">iWF</a> for your Cadence/Temporal project:</p>\n<p>It is serving <a href=\"https://github.com/cadence-oss/iwf-idl/blob/main/iwf.yaml#L13\" rel=\"nofollow noreferrer\">REST API for workflow operations</a>. You can use <a href=\"https://github.com/cadence-oss/iwf/blob/f8cb9566a1a43da249335ca600f66042e901428a/script/http/local/home.http#L19\" rel=\"nofollow noreferrer\">Postman/Curl</a> to reset workflows.</p>\n<p>It also has a <a href=\"https://github.com/cadence-oss/iwf-java-sdk/blob/35604e1b1e432e0879d2c833e1cae536edba017a/src/main/java/io/github/cadenceoss/iwf/core/Client.java#L115\" rel=\"nofollow noreferrer\">Java API for reset</a>.</p>\n"},{"tags":[],"owner":{"account_id":26577945,"reputation":1,"user_id":20203012,"display_name":"jackxu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665929968,"creation_date":1665929881,"answer_id":74087865,"question_id":74017038,"body_markdown":"inside the WorkflowServiceTChannel class I found a method ResetWorkflowExecution. through it reset can be acheieved. code show as blow:\r\n&lt;br&gt;\r\n&lt;br&gt;\r\npublic void testReset(String workflowid, String runid, String completeid){\r\n&lt;br&gt;\r\n    WorkflowClient workflowClient = WorkflowClient.newInstance(\r\n        new WorkflowServiceTChannel(\r\n            ClientOptions.newBuilder().setHost(&quot;127.0.0.1&quot;).setPort(8080).setFeatureFlags(new FeatureFlags().setWorkflowExecutionAlreadyCompletedErrorEnabled(true)).build()),\r\n        WorkflowClientOptions.newBuilder().setDomain(&quot;domain-test&quot;).build());\r\n&lt;br&gt;\r\n    ResetWorkflowExecutionRequest request = new ResetWorkflowExecutionRequest();&lt;br&gt;\r\n    WorkflowExecution workflowExecution = new WorkflowExecution();&lt;br&gt;\r\n    workflowExecution.setWorkflowId(workflowid);&lt;br&gt;\r\n    workflowExecution.setRunId(runid);&lt;br&gt;\r\n    request.setRequestId(UUID.randomUUID().toString());&lt;br&gt;\r\n    request.setDomain(&quot;domain-test&quot;);&lt;br&gt;\r\n    request.setDecisionFinishEventId(Long.valueOf(completeid));&lt;br&gt;\r\n    request.setWorkflowExecution(workflowExecution);&lt;br&gt;\r\n    try {&lt;br&gt;\r\n        workflowClient.getService().ResetWorkflowExecution(request);&lt;br&gt;\r\n    } catch (TException e) {&lt;br&gt;\r\n        e.printStackTrace();&lt;br&gt;\r\n    }&lt;br&gt;\r\n}","title":"how to reset a cadence workflow with client sdk?","body":"<p>inside the WorkflowServiceTChannel class I found a method ResetWorkflowExecution. through it reset can be acheieved. code show as blow:\n<br>\n<br>\npublic void testReset(String workflowid, String runid, String completeid){\n<br>\nWorkflowClient workflowClient = WorkflowClient.newInstance(\nnew WorkflowServiceTChannel(\nClientOptions.newBuilder().setHost(&quot;127.0.0.1&quot;).setPort(8080).setFeatureFlags(new FeatureFlags().setWorkflowExecutionAlreadyCompletedErrorEnabled(true)).build()),\nWorkflowClientOptions.newBuilder().setDomain(&quot;domain-test&quot;).build());\n<br>\nResetWorkflowExecutionRequest request = new ResetWorkflowExecutionRequest();<br>\nWorkflowExecution workflowExecution = new WorkflowExecution();<br>\nworkflowExecution.setWorkflowId(workflowid);<br>\nworkflowExecution.setRunId(runid);<br>\nrequest.setRequestId(UUID.randomUUID().toString());<br>\nrequest.setDomain(&quot;domain-test&quot;);<br>\nrequest.setDecisionFinishEventId(Long.valueOf(completeid));<br>\nrequest.setWorkflowExecution(workflowExecution);<br>\ntry {<br>\nworkflowClient.getService().ResetWorkflowExecution(request);<br>\n} catch (TException e) {<br>\ne.printStackTrace();<br>\n}<br>\n}</p>\n"}],"owner":{"account_id":26577945,"reputation":1,"user_id":20203012,"display_name":"jackxu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74087865,"answer_count":2,"score":0,"last_activity_date":1665929968,"creation_date":1665414814,"question_id":74017038,"body_markdown":"i have a cadence workflow with 3 activities. Scenario. the first activity is completed while executing second, the workflow failed after retry limit reached. now the problem has been fixed. how can i restart the failed workflow.\r\n&lt;br&gt;&lt;br&gt;\r\ni have read this question &lt;a href=&quot;https://stackoverflow.com/questions/65104070/how-to-restart-a-timeouted-failed-canceled-terminated-cadence-workflow/65104071#65104071&quot;&gt;related question&lt;/a&gt;.\r\n&lt;br&gt;&lt;br&gt;\r\ni want to know that how can i use reset API in java client sdk to implement it.\r\n&lt;br&gt;&lt;br&gt;\r\ncadence-dependence: compile group: &#39;com.uber.cadence&#39;, name: &#39;cadence-client&#39;, version: &#39;3.5.0&#39;\r\n&lt;br&gt;&lt;br&gt;\r\nthanks for any help.","title":"how to reset a cadence workflow with client sdk?","body":"<p>i have a cadence workflow with 3 activities. Scenario. the first activity is completed while executing second, the workflow failed after retry limit reached. now the problem has been fixed. how can i restart the failed workflow.\n<br><br>\ni have read this question <a href=\"https://stackoverflow.com/questions/65104070/how-to-restart-a-timeouted-failed-canceled-terminated-cadence-workflow/65104071#65104071\">related question</a>.\n<br><br>\ni want to know that how can i use reset API in java client sdk to implement it.\n<br><br>\ncadence-dependence: compile group: 'com.uber.cadence', name: 'cadence-client', version: '3.5.0'\n<br><br>\nthanks for any help.</p>\n"},{"tags":["java","oop","arraylist"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1665929981,"post_id":74087787,"comment_id":130809389,"body_markdown":"can you describe in your own words, what is the goal of this assignment?","body":"can you describe in your own words, what is the goal of this assignment?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1665930742,"post_id":74087787,"comment_id":130809558,"body_markdown":"oh, and your problem is that `board.clone()` doesn&#39;t work as you expect. Try to avoid `clone` in general, it causes trouble more often than it really helps. (Yes, there are valid scenarios for using it, but very rare. This is not one of it.)","body":"oh, and your problem is that <code>board.clone()</code> doesn&#39;t work as you expect. Try to avoid <code>clone</code> in general, it causes trouble more often than it really helps. (Yes, there are valid scenarios for using it, but very rare. This is not one of it.)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665931054,"post_id":74087787,"comment_id":130809636,"body_markdown":"`board.clone();` is not cloning the *inner* arrays - remember that `char[][]` actually is an array containing `char[]`, so when it is cloned, a new array is created, but it contains the same (reference to) instances as the original array","body":"<code>board.clone();</code> is not cloning the <i>inner</i> arrays - remember that <code>char[][]</code> actually is an array containing <code>char[]</code>, so when it is cloned, a new array is created, but it contains the same (reference to) instances as the original array"},{"owner":{"account_id":26486560,"reputation":1,"user_id":20125047,"display_name":"maksymilian wojciechowski"},"score":0,"creation_date":1665931550,"post_id":74087787,"comment_id":130809741,"body_markdown":"I&#39;m making tic tac toe game with miniMax. The code I show here is just an example of what I have.","body":"I&#39;m making tic tac toe game with miniMax. The code I show here is just an example of what I have."},{"owner":{"account_id":26486560,"reputation":1,"user_id":20125047,"display_name":"maksymilian wojciechowski"},"score":0,"creation_date":1665931698,"post_id":74087787,"comment_id":130809773,"body_markdown":"I have z class called Position, and one of the parameters is char[3][3] which stores the board&#39;s appearance. I would like to make a func that takes the current Position Object and returns a list of possible &quot;next&quot; Position Objects","body":"I have z class called Position, and one of the parameters is char[3][3] which stores the board&#39;s appearance. I would like to make a func that takes the current Position Object and returns a list of possible &quot;next&quot; Position Objects"},{"owner":{"account_id":26486560,"reputation":1,"user_id":20125047,"display_name":"maksymilian wojciechowski"},"score":0,"creation_date":1665932092,"post_id":74087787,"comment_id":130809859,"body_markdown":"And using clone() doesn&#39;t change anything. I&#39;m almost 100% sure that the problem is something with memory allocation but I don&#39;t know what to do","body":"And using clone() doesn&#39;t change anything. I&#39;m almost 100% sure that the problem is something with memory allocation but I don&#39;t know what to do"},{"owner":{"account_id":26486560,"reputation":1,"user_id":20125047,"display_name":"maksymilian wojciechowski"},"score":0,"creation_date":1666270159,"post_id":74087787,"comment_id":130899875,"body_markdown":"Yes! Thank you very much. I couldn&#39;t have done it without you. It works exactly as I intended.","body":"Yes! Thank you very much. I couldn&#39;t have done it without you. It works exactly as I intended."}],"owner":{"account_id":26486560,"reputation":1,"user_id":20125047,"display_name":"maksymilian wojciechowski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665929792,"creation_date":1665929255,"question_id":74087787,"body_markdown":"I&#39;m trying to make an ArrayList of objects.\r\n\r\nThis is my class.\r\n``` lang-java\r\nclass Student{\r\n    char[][] charArray;\r\n   \r\n    Student(char[][] charArray){\r\n        this.charArray = charArray;\r\n    }\r\n    \r\n    void display(){\r\n        for (int i = 0; i&lt;4; i++){\r\n            System.out.println(this.charArray[i/2][i%2]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd that&#39;s my main.\r\n\r\n``` lang-java\r\npublic class Testy {\r\n\r\n    public static void main(String[] args) {\r\n  \r\n        ArrayList&lt;Student&gt; classrom = new ArrayList&lt;&gt;();\r\n        char[][] board = {{&#39;X&#39;,&#39;-&#39;},{&#39;-&#39;,&#39;O&#39;}};        \r\n        \r\n        for (int i = 0; i&lt;4; i++){\r\n            char[][] temp = board.clone();\r\n            if(temp[i/2][i%2]!=&#39;X&#39;&amp;&amp;temp[i/2][i%2]!=&#39;O&#39;){\r\n                temp[i/2][i%2] =&#39;X&#39;;\r\n                classrom.add(new Student(temp.clone()));\r\n            }\r\n        }\r\n        \r\n        for(Student i: classrom){\r\n            System.out.println(i);\r\n            i.display();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI get this:\r\n``` lang-none\r\ntest.Student@2d98a335\r\nX\r\nX\r\nX\r\nO\r\ntest.Student@16b98e56\r\nX\r\nX\r\nX\r\nO\r\n```\r\nWhen i expect something like:\r\n``` lang-none\r\ntest.Student@2d98a335\r\nX\r\nX\r\n&#39;-&#39;\r\nO\r\ntest.Student@16b98e56\r\nX\r\n&#39;-&#39;\r\nX\r\nO\r\n```\r\nI think it&#39;s something with assigning multiple objects parameter to the same place in memory but i don&#39;t know what to do. Please help.","title":"Making objects in a for loop with 2d char arrays","body":"<p>I'm trying to make an ArrayList of objects.</p>\n<p>This is my class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student{\n    char[][] charArray;\n   \n    Student(char[][] charArray){\n        this.charArray = charArray;\n    }\n    \n    void display(){\n        for (int i = 0; i&lt;4; i++){\n            System.out.println(this.charArray[i/2][i%2]);\n        }\n    }\n}\n</code></pre>\n<p>And that's my main.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Testy {\n\n    public static void main(String[] args) {\n  \n        ArrayList&lt;Student&gt; classrom = new ArrayList&lt;&gt;();\n        char[][] board = {{'X','-'},{'-','O'}};        \n        \n        for (int i = 0; i&lt;4; i++){\n            char[][] temp = board.clone();\n            if(temp[i/2][i%2]!='X'&amp;&amp;temp[i/2][i%2]!='O'){\n                temp[i/2][i%2] ='X';\n                classrom.add(new Student(temp.clone()));\n            }\n        }\n        \n        for(Student i: classrom){\n            System.out.println(i);\n            i.display();\n        }\n    }\n}\n</code></pre>\n<p>I get this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>test.Student@2d98a335\nX\nX\nX\nO\ntest.Student@16b98e56\nX\nX\nX\nO\n</code></pre>\n<p>When i expect something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>test.Student@2d98a335\nX\nX\n'-'\nO\ntest.Student@16b98e56\nX\n'-'\nX\nO\n</code></pre>\n<p>I think it's something with assigning multiple objects parameter to the same place in memory but i don't know what to do. Please help.</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1665929322,"post_id":74087789,"comment_id":130809238,"body_markdown":"the division is NOT using `double`, just the result is being assigned to the  `double` || specified in [JLS 15.17. Multiplicative Operators](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17-320): &quot;* If the promoted type is int or long, then integer arithmetic is performed.*&quot;","body":"the division is NOT using <code>double</code>, just the result is being assigned to the  <code>double</code> || specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17-320\" rel=\"nofollow noreferrer\">JLS 15.17. Multiplicative Operators</a>: &quot;* If the promoted type is int or long, then integer arithmetic is performed.*&quot;"},{"owner":{"account_id":16545524,"reputation":97,"user_id":11955120,"display_name":"Mansour Faouziel"},"score":0,"creation_date":1665929372,"post_id":74087789,"comment_id":130809249,"body_markdown":"Use the float type","body":"Use the float type"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665929806,"post_id":74087789,"comment_id":130809346,"body_markdown":"BTW code is formatted  by using single back-ticks ` around it or, for multi-line code, using 3 (or more) back-ticks on a line before and after the code (or indenting the code by at least 4 spaces)","body":"BTW code is formatted  by using single back-ticks ` around it or, for multi-line code, using 3 (or more) back-ticks on a line before and after the code (or indenting the code by at least 4 spaces)"}],"owner":{"account_id":24172649,"reputation":31,"user_id":18134515,"display_name":"Diwash Mainali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665929753,"answer_count":0,"score":0,"last_activity_date":1665929355,"creation_date":1665929260,"question_id":74087789,"body_markdown":"Why [**double divide_ = 9 / 2;**] gives output of 4.0? while [**double divide = (double) 9 / 2**] gives an output of 4.5?\r\n\r\n","title":"Why does 9/2 gives 4 as an output while using double in java","body":"<p>Why [<strong>double divide_ = 9 / 2;</strong>] gives output of 4.0? while [<strong>double divide = (double) 9 / 2</strong>] gives an output of 4.5?</p>\n"},{"tags":["java","encoding","io","character-encoding","ldap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665838476,"post_id":74079587,"comment_id":130794854,"body_markdown":"Yes you probably need to use an 7/8 bit encoding as that letter takes two bytes in UTF-8. ```String iAcute = new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;);```","body":"Yes you probably need to use an 7/8 bit encoding as that letter takes two bytes in UTF-8. <code>String iAcute = new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;);</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665838935,"post_id":74079587,"comment_id":130794970,"body_markdown":"(Which is of course the same as) ```String iAcute = new String(new byte[] { -19 }, &quot;ISO-8859-1&quot;);``` But it&#39;s probably not such a good idea to guess the encoding like I did or other characters might not be what you expect","body":"(Which is of course the same as) <code>String iAcute = new String(new byte[] { -19 }, &quot;ISO-8859-1&quot;);</code> But it&#39;s probably not such a good idea to guess the encoding like I did or other characters might not be what you expect"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1665839041,"post_id":74079587,"comment_id":130795002,"body_markdown":"&quot;*I am writing a stream of bytes to a text file*&quot; -- well there&#39;s your problem right there.  Or at least *a* problem.  Bytes should go to a binary file.  If you want to write *text* then you need to handle encoding appropriately.  If you want the resulting file to be byte-for-byte identical to the data retrieved from LDAP then avoid converting the bytes to characters and just dump them as received.","body":"&quot;<i>I am writing a stream of bytes to a text file</i>&quot; -- well there&#39;s your problem right there.  Or at least <i>a</i> problem.  Bytes should go to a binary file.  If you want to write <i>text</i> then you need to handle encoding appropriately.  If you want the resulting file to be byte-for-byte identical to the data retrieved from LDAP then avoid converting the bytes to characters and just dump them as received."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1665839417,"post_id":74079587,"comment_id":130795112,"body_markdown":"And it&#39;s possible that your program is already doing that just fine, but whatever you&#39;re using to view the result is assuming the wrong encoding.  That could be interpreted as the resulting binary file not conforming to the text conventions of your system (*i.e.* back to binary *vs.* text).","body":"And it&#39;s possible that your program is already doing that just fine, but whatever you&#39;re using to view the result is assuming the wrong encoding.  That could be interpreted as the resulting binary file not conforming to the text conventions of your system (<i>i.e.</i> back to binary <i>vs.</i> text)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665839708,"post_id":74079587,"comment_id":130795200,"body_markdown":"I missed this: *...to single byte ones like ASCII or UTF-8 ?* UTF-8 is *not* a single-byte encoding. It has a variable number of bytes. &#39;Regular&#39; letters and symbols might be one byte in UTF-8 but not all.","body":"I missed this: <i>...to single byte ones like ASCII or UTF-8 ?</i> UTF-8 is <i>not</i> a single-byte encoding. It has a variable number of bytes. &#39;Regular&#39; letters and symbols might be one byte in UTF-8 but not all."},{"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"score":0,"creation_date":1665840797,"post_id":74079587,"comment_id":130795427,"body_markdown":"@JohnBollinger you are right but this byte conversion is happening inside the library, I can&#39;t do much about it. The library is also not supported any more. Is there any other library to connect to LDAP without JNDI ?","body":"@JohnBollinger you are right but this byte conversion is happening inside the library, I can&#39;t do much about it. The library is also not supported any more. Is there any other library to connect to LDAP without JNDI ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665840885,"post_id":74079587,"comment_id":130795446,"body_markdown":"Which &quot;conversion&quot; are you referring to? There actually *is* no conversion. What is happening is that *you* are *interpreting* it as a character.","body":"Which &quot;conversion&quot; are you referring to? There actually <i>is</i> no conversion. What is happening is that <i>you</i> are <i>interpreting</i> it as a character."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1665841795,"post_id":74079587,"comment_id":130795618,"body_markdown":"@AlokMishra, the code excerpt presented in the question is not itself problematic in any way.  Bytes are being read from an `InputStream` and stored in an array of `byte`s.  The cast reflects some technical details of `InputStream`s, and does not corrupt the data.  In particular, converting the `int` value of 237 to a `byte` value of -19 is the normal and expected behavior in such a case.","body":"@AlokMishra, the code excerpt presented in the question is not itself problematic in any way.  Bytes are being read from an <code>InputStream</code> and stored in an array of <code>byte</code>s.  The cast reflects some technical details of <code>InputStream</code>s, and does not corrupt the data.  In particular, converting the <code>int</code> value of 237 to a <code>byte</code> value of -19 is the normal and expected behavior in such a case."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1665842676,"post_id":74079587,"comment_id":130795810,"body_markdown":"&quot;*do I need to change the source encoding to single byte ones like ASCII or UTF-8*?&quot; - unless you instruct it otherwise, the Netscape LDAP SDK will assume that character data exchanged with the server should be / will be encoded in UTF-8.  It looks like that expectation is not being fulfilled in your case. There is probably a way to configure your LDAP connection to request that specifically, but I am not familiar enough with this 20-year-old API to give you detailed recommendations. I think these are the docs: https://docs.oracle.com/cd/E19957-01/816-5618-10/netscape/ldap/package-summary.html","body":"&quot;<i>do I need to change the source encoding to single byte ones like ASCII or UTF-8</i>?&quot; - unless you instruct it otherwise, the Netscape LDAP SDK will assume that character data exchanged with the server should be / will be encoded in UTF-8.  It looks like that expectation is not being fulfilled in your case. There is probably a way to configure your LDAP connection to request that specifically, but I am not familiar enough with this 20-year-old API to give you detailed recommendations. I think these are the docs: <a href=\"https://docs.oracle.com/cd/E19957-01/816-5618-10/netscape/ldap/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/816-5618-10/netscape/ldap/&hellip;</a>"},{"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"score":0,"creation_date":1665846798,"post_id":74079587,"comment_id":130796726,"body_markdown":"@g00se I was referring to int to byte conversion which is happening inside the library. This byte array is then passed to String,  new String(byte[], Charset) , this is where the overflown byte value -19 (int =237) is not being interpreted by String. Can we restore 237 from -19 ?","body":"@g00se I was referring to int to byte conversion which is happening inside the library. This byte array is then passed to String,  new String(byte[], Charset) , this is where the overflown byte value -19 (int =237) is not being interpreted by String. Can we restore 237 from -19 ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1665850140,"post_id":74079587,"comment_id":130797402,"body_markdown":"The byte value -19 *is* 237.  They are *exactly the same bits.*  Whether a value is considered signed or unsigned is simply a matter of how the raw value is interpreted.  [Hint:  what is 256 + (19)?]  `m_value` is completely correct.  The problem here, as others have said, is that you are viewing your file using the wrong charset.","body":"The byte value -19 <i>is</i> 237.  They are <i>exactly the same bits.</i>  Whether a value is considered signed or unsigned is simply a matter of how the raw value is interpreted.  [Hint:  what is 256 + (19)?]  <code>m_value</code> is completely correct.  The problem here, as others have said, is that you are viewing your file using the wrong charset."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665851575,"post_id":74079587,"comment_id":130797743,"body_markdown":"Yes. I thought I&#39;d already demonstrated that ;)","body":"Yes. I thought I&#39;d already demonstrated that ;)"},{"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"score":0,"creation_date":1665859380,"post_id":74079587,"comment_id":130799344,"body_markdown":"@g00se `new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;)` this is printing  on the console. Tried with UTF-8, UTF-16 ASCII as well, same result.","body":"@g00se <code>new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;)</code> this is printing  on the console. Tried with UTF-8, UTF-16 ASCII as well, same result."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665866458,"post_id":74079587,"comment_id":130800710,"body_markdown":"What OS and what does ```java -version``` give?","body":"What OS and what does <code>java -version</code> give?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665929867,"post_id":74079587,"comment_id":130809365,"body_markdown":"Your &#39;bingo..&#39; is essentially no different from the code I gave, where you responded *this is printing  on the console. Tried with UTF-8, UTF-16 ASCII as well, same result.* The fact that you used Cp1252 where I used ISO-8859-1 is immaterial as the encoding is identical in each","body":"Your &#39;bingo..&#39; is essentially no different from the code I gave, where you responded <i>this is printing  on the console. Tried with UTF-8, UTF-16 ASCII as well, same result.</i> The fact that you used Cp1252 where I used ISO-8859-1 is immaterial as the encoding is identical in each"},{"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"score":0,"creation_date":1665935628,"post_id":74079587,"comment_id":130810650,"body_markdown":"It might have been my mistake, it was late night :-) when I ran your code. `new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;)` prints &#237;.","body":"It might have been my mistake, it was late night :-) when I ran your code. <code>new String(new byte[] { (byte)237 }, &quot;ISO-8859-1&quot;)</code> prints &#237;."}],"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665928771,"creation_date":1665838121,"question_id":74079587,"body_markdown":"I am facing a problem in which when I am writing a stream of bytes to a text file one of the characters is showing as Corrupted like this (the ugly question mark)- Ingeniera. I am getting this byte of stream from an LDAP server. I am using Netscape&#39;s ldapsdk-4.1 library to connect to the LDAP server. While debugging I found out that for the corrupted character BufferedInputStream.read() returns 237 and the ldapsdk library is trying to convert it into a byte, like this\r\n     \r\n    m_value[i] = (byte) stream.read();        //class BEROctetString:152   \r\nand that&#39;s where the byte value overflows to to -19. \r\n\r\nMy question is, How can I fix this so that I get correct character value ? or do I need to change the source encoding to single byte ones like ASCII or UTF-8 ? Please suggest if there is any other way of fixing it.\r\n\r\nThanks in advance.\r\n\r\nEdit:\r\n\r\nI am performing a LDAP search and internally the search results are retrieved in the form of bytes using using SocketInputStream.\r\n\r\nHow can I retrieve the original search results, without any corrupted character, from the array of the bytes I received?\r\n\r\nEdit:\r\n\r\nAs suggested by JohnBollinger in the comments, I dumped the bytes to .txt file as is and opened the file in notepad++ and it displayed all the characters correctly. From notepad++ I checked the file encoding and it was ANSI(aka Cp1252). I wrote a small program to verify it programmatically and it worked. here is the method- \r\n\r\n    private static void bingoWithCpEncoding() throws IOException {\r\n        byte[] byt3 = { 73, 110, 103, 101, 110, 105, 101, 114, -19, 97 };\r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        buffer.write(byt3);\r\n        String text = buffer.toString(&quot;Cp1252&quot;); // UTF-8 was not working\r\n        System.out.print(text);\r\n    }\r\nit prints &quot;Ingenier&#237;a&quot;. I copied the byte array while code debugging.\r\n\r\nnetscape ldapsdk&#39;s LDAPAttribute class was trying to encode these bytes in to UTF-8.\r\n\r\n    //\r\n        public Enumeration getStringValues() {\r\n            Vector v = new Vector();\r\n            synchronized(this) {\r\n                try {\r\n                    for (int i=0; i&lt;values.length; i++) {\r\n                        if ( values[i] != null ) {\r\n                            v.addElement(new String ((byte[])values[i], &quot;UTF8&quot;));\r\n                        } else {\r\n                            v.addElement( new String( &quot;&quot; ) );\r\n                        }\r\n                    }\r\n                } catch ( Exception e ) {\r\n                    return null;\r\n                }\r\n            }\r\n            return v.elements();\r\n        }\r\n","title":"garbage character showing due to encoding mismatch","body":"<p>I am facing a problem in which when I am writing a stream of bytes to a text file one of the characters is showing as Corrupted like this (the ugly question mark)- Ingeniera. I am getting this byte of stream from an LDAP server. I am using Netscape's ldapsdk-4.1 library to connect to the LDAP server. While debugging I found out that for the corrupted character BufferedInputStream.read() returns 237 and the ldapsdk library is trying to convert it into a byte, like this</p>\n<pre><code>m_value[i] = (byte) stream.read();        //class BEROctetString:152   \n</code></pre>\n<p>and that's where the byte value overflows to to -19.</p>\n<p>My question is, How can I fix this so that I get correct character value ? or do I need to change the source encoding to single byte ones like ASCII or UTF-8 ? Please suggest if there is any other way of fixing it.</p>\n<p>Thanks in advance.</p>\n<p>Edit:</p>\n<p>I am performing a LDAP search and internally the search results are retrieved in the form of bytes using using SocketInputStream.</p>\n<p>How can I retrieve the original search results, without any corrupted character, from the array of the bytes I received?</p>\n<p>Edit:</p>\n<p>As suggested by JohnBollinger in the comments, I dumped the bytes to .txt file as is and opened the file in notepad++ and it displayed all the characters correctly. From notepad++ I checked the file encoding and it was ANSI(aka Cp1252). I wrote a small program to verify it programmatically and it worked. here is the method-</p>\n<pre><code>private static void bingoWithCpEncoding() throws IOException {\n    byte[] byt3 = { 73, 110, 103, 101, 110, 105, 101, 114, -19, 97 };\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    buffer.write(byt3);\n    String text = buffer.toString(&quot;Cp1252&quot;); // UTF-8 was not working\n    System.out.print(text);\n}\n</code></pre>\n<p>it prints &quot;Ingeniera&quot;. I copied the byte array while code debugging.</p>\n<p>netscape ldapsdk's LDAPAttribute class was trying to encode these bytes in to UTF-8.</p>\n<pre><code>//\n    public Enumeration getStringValues() {\n        Vector v = new Vector();\n        synchronized(this) {\n            try {\n                for (int i=0; i&lt;values.length; i++) {\n                    if ( values[i] != null ) {\n                        v.addElement(new String ((byte[])values[i], &quot;UTF8&quot;));\n                    } else {\n                        v.addElement( new String( &quot;&quot; ) );\n                    }\n                }\n            } catch ( Exception e ) {\n                return null;\n            }\n        }\n        return v.elements();\n    }\n</code></pre>\n"},{"tags":["java","spring","prototype-scope"],"comments":[{"owner":{"account_id":371004,"reputation":5445,"user_id":719278,"accept_rate":75,"display_name":"Junchen Liu"},"score":1,"creation_date":1447683576,"post_id":9664810,"comment_id":55243376,"body_markdown":"I am surprised this short question with no code in it, has not been marked down as not constructive, too broad.  don&#39;t get me wrong, I think this question is great","body":"I am surprised this short question with no code in it, has not been marked down as not constructive, too broad.  don&#39;t get me wrong, I think this question is great"}],"answers":[{"tags":[],"owner":{"account_id":293433,"reputation":8693,"user_id":596720,"accept_rate":78,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1331548808,"creation_date":1331548808,"answer_id":9665545,"question_id":9664810,"body_markdown":"I have used prototype mostly in conjunction with spring `lookup-method`. My application is a [game server][1] that needs to decode incoming bytes at tcp port. Consider the following bean definition\n\n    &lt;bean id=&quot;channelBufferProtocol&quot; class=&quot;org.menacheri.protocols.impl.ChannelBufferProtocol&quot;&gt;\n        &lt;lookup-method name=&quot;createLengthBasedFrameDecoder&quot; bean=&quot;lengthFieldBasedFrameDecoder&quot;/&gt;\n        &lt;property name=&quot;eventDecoder&quot; ref=&quot;eventDecoder&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lengthFieldPrepender&quot; ref=&quot;lengthFieldPrepender&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;eventEncoder&quot; ref=&quot;eventEncoder&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\nInside the protocol implementation class, I have the following code to create the frame decoder `pipeline.addLast(&quot;lengthDecoder&quot;, createLengthBasedFrameDecoder());` When this method is invoked, spring will create a new frame decoder instance and return it.\n\nThe bean returned by `bean=&quot;lengthFieldBasedFrameDecoder&quot;` needs to be of scope `prototype`, since it is a stateful bean in my app.\n\n**Note:** A protocol is nothing but a specific set of decoders and encoders chained together. &quot;Chain of responsibility&quot; design pattern.\n\n  [1]: https://github.com/menacher/java-game-server","title":"Spring prototype scope - Use Cases?","body":"<p>I have used prototype mostly in conjunction with spring <code>lookup-method</code>. My application is a <a href=\"https://github.com/menacher/java-game-server\" rel=\"nofollow noreferrer\">game server</a> that needs to decode incoming bytes at tcp port. Consider the following bean definition</p>\n<pre><code>&lt;bean id=&quot;channelBufferProtocol&quot; class=&quot;org.menacheri.protocols.impl.ChannelBufferProtocol&quot;&gt;\n    &lt;lookup-method name=&quot;createLengthBasedFrameDecoder&quot; bean=&quot;lengthFieldBasedFrameDecoder&quot;/&gt;\n    &lt;property name=&quot;eventDecoder&quot; ref=&quot;eventDecoder&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;lengthFieldPrepender&quot; ref=&quot;lengthFieldPrepender&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;eventEncoder&quot; ref=&quot;eventEncoder&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Inside the protocol implementation class, I have the following code to create the frame decoder <code>pipeline.addLast(&quot;lengthDecoder&quot;, createLengthBasedFrameDecoder());</code> When this method is invoked, spring will create a new frame decoder instance and return it.</p>\n<p>The bean returned by <code>bean=&quot;lengthFieldBasedFrameDecoder&quot;</code> needs to be of scope <code>prototype</code>, since it is a stateful bean in my app.</p>\n<p><strong>Note:</strong> A protocol is nothing but a specific set of decoders and encoders chained together. &quot;Chain of responsibility&quot; design pattern.</p>\n"},{"tags":[],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1331556407,"creation_date":1331556407,"answer_id":9667267,"question_id":9664810,"body_markdown":"I used prototype beans to declare configured form elements (a textbox configured to validate names, e-mail addresses for example) and get &quot;living&quot; instances of them for every form being created in my webapp. The details are not important, only the principle, that I would summarize this way:\r\n\r\n - There is a class that has many config parameters\r\n - You need to create instances of it with a set of predefined configuration (fancy1, fancy2, stc.)\r\n - Think of the `applicationContext.getBean(&quot;myBeanConfiguredFancy1&quot;)` as a **kind of factory method** that creates the instance as preconfigured in the xml\r\n\r\n\r\n","title":"Spring prototype scope - Use Cases?","body":"<p>I used prototype beans to declare configured form elements (a textbox configured to validate names, e-mail addresses for example) and get \"living\" instances of them for every form being created in my webapp. The details are not important, only the principle, that I would summarize this way:</p>\n\n<ul>\n<li>There is a class that has many config parameters</li>\n<li>You need to create instances of it with a set of predefined configuration (fancy1, fancy2, stc.)</li>\n<li>Think of the <code>applicationContext.getBean(\"myBeanConfiguredFancy1\")</code> as a <strong>kind of factory method</strong> that creates the instance as preconfigured in the xml</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2103434,"reputation":21,"user_id":1870419,"display_name":"Rupesh Deo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444657344,"creation_date":1444657344,"answer_id":33082726,"question_id":9664810,"body_markdown":"We can use prototype scope in case of model classes(also called as Entities in hibernate) as application need different instances of model class for each thread/request.","title":"Spring prototype scope - Use Cases?","body":"<p>We can use prototype scope in case of model classes(also called as Entities in hibernate) as application need different instances of model class for each thread/request.</p>\n"},{"tags":[],"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1665928150,"creation_date":1461174581,"answer_id":36751463,"question_id":9664810,"body_markdown":"As someone who previously worked at SpringSource and have talked to the developers on this topic. Here is my take. Prototype is great for testing things out, hence the name prototype and not create new or something more description of creating a new instance of the bean each and every time you request it from the Spring container. \r\n\r\nI have also found in my use over the years that I cannot think of any other place where prototype makes sense in any real-world production application. If your object holds state, it typically shouldn&#39;t be a Spring bean. I have found in all the applications I have worked on that all beans are Services, Repositories, and Singleton non state holding objects where I need to add features like Transactionality, JPA, JMS and the likes that give us the enterprise features that POJOs don&#39;t have.\r\n\r\nThe objects in my system that hold state are my Entities and View DTOs maybe, or other things that just make no sense to be a Spring Bean. So therefore in my applications in production there hasn&#39;t been a single &quot;prototype&quot; bean. ","title":"Spring prototype scope - Use Cases?","body":"<p>As someone who previously worked at SpringSource and have talked to the developers on this topic. Here is my take. Prototype is great for testing things out, hence the name prototype and not create new or something more description of creating a new instance of the bean each and every time you request it from the Spring container.</p>\n<p>I have also found in my use over the years that I cannot think of any other place where prototype makes sense in any real-world production application. If your object holds state, it typically shouldn't be a Spring bean. I have found in all the applications I have worked on that all beans are Services, Repositories, and Singleton non state holding objects where I need to add features like Transactionality, JPA, JMS and the likes that give us the enterprise features that POJOs don't have.</p>\n<p>The objects in my system that hold state are my Entities and View DTOs maybe, or other things that just make no sense to be a Spring Bean. So therefore in my applications in production there hasn't been a single &quot;prototype&quot; bean.</p>\n"}],"owner":{"account_id":206866,"reputation":1851,"user_id":456423,"accept_rate":58,"display_name":"Tarun Sapra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19273,"favorite_count":0,"down_vote_count":1,"up_vote_count":47,"answer_count":4,"score":46,"last_activity_date":1665928150,"creation_date":1331545784,"question_id":9664810,"body_markdown":"I have clear understanding of the various scopes of Spring beans. But I am looking for some use cases of prototype scope of a bean in enterprise tier projects. It would be great if you can share some real life use cases of the _prototype_ scope (not the _request_ scope).","title":"Spring prototype scope - Use Cases?","body":"<p>I have clear understanding of the various scopes of Spring beans. But I am looking for some use cases of prototype scope of a bean in enterprise tier projects. It would be great if you can share some real life use cases of the <em>prototype</em> scope (not the <em>request</em> scope).</p>\n"},{"tags":["java","spring-boot","socket.io","socket.io-java-client"],"comments":[{"owner":{"account_id":22540249,"reputation":911,"user_id":16730900,"display_name":"jh316"},"score":0,"creation_date":1665584151,"post_id":74037831,"comment_id":130735549,"body_markdown":"Could it be possible that the issue is that the Socket objects&#39; scope are not long enough to live after the for loop? So they&#39;re getting garbage collected and disconnecting?","body":"Could it be possible that the issue is that the Socket objects&#39; scope are not long enough to live after the for loop? So they&#39;re getting garbage collected and disconnecting?"}],"owner":{"account_id":16097021,"reputation":251,"user_id":12176903,"display_name":"Areej Fatimah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665926385,"creation_date":1665558973,"question_id":74037831,"body_markdown":"I have implemented socket.io client side in java spring boot using [https://socketio.github.io/socket.io-client-java/installation.html][1], with thread pool executor. Now my socket connections are build successfully, but after 50s to 1 minute, they start getting disconnected. How to sustain socket connections? My code is as below\r\n\r\n    \r\n        CountDownLatch lock = new CountDownLatch(200);\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(200);\r\n        ScheduledFuture&lt;?&gt; future;\r\n        for(int i=1;i&lt;=200;i++) {\r\n           \r\n            future= executor.scheduleAtFixedRate(() -&gt; {\r\n\r\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n                map.put(&quot;token&quot;, &quot;abc&quot;);\r\n\r\n                IO.Options options = IO.Options.builder()\r\n                        .setPath(&quot;/socket.io&quot;)\r\n                        .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\r\n                        .setAuth(map)\r\n                        .build();\r\n\r\n                Socket socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\r\n\r\n                socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(args[0]);\r\n                    }\r\n                });\r\n\r\n                socket.on(&quot;connect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(&quot;Socket connection &quot;+i+&quot; successfully created&quot;);\r\n                    }\r\n                });\r\n                socket.on(&quot;disconnect&quot;, new Emitter.Listener() {\r\n                    @Override\r\n                    public void call(Object... args) {\r\n                        System.out.println(&quot;Socket connection &quot;+i+&quot; disconnected&quot;);\r\n                    }\r\n                });\r\n\r\n                socket.connect();\r\n                lock.countDown();\r\n            }, 1000, delay, TimeUnit.MILLISECONDS);\r\n\r\n            lock.await(delay, TimeUnit.MILLISECONDS);\r\n            future.cancel(true);\r\n\r\n        }//end of for loop\r\n        executor.shutdown();\r\nMy java `socket.io-client` implementation version is as follow that is compatible with socket.io server v4.x.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.socket&lt;/groupId&gt;\r\n    &lt;artifactId&gt;socket.io-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n**Output**\r\n```\r\nSocket connection 1 successfully created\r\nSocket connection 2 successfully created\r\nSocket connection 3 successfully created\r\nSocket connection 4 successfully created\r\nSocket connection 5 successfully created\r\nSocket connection 6 successfully created\r\nSocket connection 7 successfully created\r\nSocket connection 8 successfully created\r\nSocket connection 9 successfully created\r\nSocket connection 10 successfully created\r\nSocket connection 11 successfully created\r\nSocket connection 12 successfully created\r\nSocket connection 9 disconnected\r\nSocket connection 13 successfully created\r\n....\r\n....\r\n```\r\nHow to prevent these disconnections occuring after few seconds?\r\n\r\nVerifying `socket.id()`\r\n```\r\nsocket.on(&quot;connect&quot;, new Emitter.Listener() {\r\n   @Override\r\n   public void call(Object... args) {\r\n      System.out.println(socket.id()+&quot; &quot;+i+&quot; connected&quot;);\r\n   }\r\n });\r\nsocket.on(&quot;disconnect&quot;, new Emitter.Listener() {\r\n   @Override\r\n   public void call(Object... args) {\r\n      System.out.println(socket.id()+&quot; &quot;+i+&quot; disconnected&quot;);\r\n   }\r\n });\r\n```\r\n**Output** \r\n   \r\n```\r\nnull 1 connected\r\nnull 2 connected\r\nnull 3 connected\r\n....\r\nnull 4 disconnected\r\nG6yGTZp-AU2Mgy_kAAMl 35 connected\r\n....\r\nG01iFSB2Y98jrwNNAASH 78 disconnected\r\n....\r\nv08qy3AzhbB6V8LXAALL 200 connected\r\n```\r\nWhy `socket.id()` is returning a `null` value for some and valid id for some? \r\n\r\n**Edited** : Let&#39;s say if thread in a thread pool finishes its task &amp; terminates after 60 s of inactivity, that&#39;s casuing the disconnections, then which service executor is used to support long lived thread use cases? Or once a thread terminates and now is idle or waiting, the same is scheduled for next task, which cause disconnection behaviour from previous session?\r\nIf socket server &amp; client are not sending data in some time, the connection get closed due to this reason?\r\n\r\n  [1]: https://socketio.github.io/socket.io-client-java/installation.html","title":"Java socket io client connection disconnects","body":"<p>I have implemented socket.io client side in java spring boot using <a href=\"https://socketio.github.io/socket.io-client-java/installation.html\" rel=\"nofollow noreferrer\">https://socketio.github.io/socket.io-client-java/installation.html</a>, with thread pool executor. Now my socket connections are build successfully, but after 50s to 1 minute, they start getting disconnected. How to sustain socket connections? My code is as below</p>\n<pre><code>    CountDownLatch lock = new CountDownLatch(200);\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(200);\n    ScheduledFuture&lt;?&gt; future;\n    for(int i=1;i&lt;=200;i++) {\n       \n        future= executor.scheduleAtFixedRate(() -&gt; {\n\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n            map.put(&quot;token&quot;, &quot;abc&quot;);\n\n            IO.Options options = IO.Options.builder()\n                    .setPath(&quot;/socket.io&quot;)\n                    .setTransports(new String[]{Polling.NAME,WebSocket.NAME})\n                    .setAuth(map)\n                    .build();\n\n            Socket socket = IO.socket(URI.create(&quot;wss://localhost:3000&quot;), options);\n\n            socket.on(&quot;connect_error&quot;, new Emitter.Listener() {\n                @Override\n                public void call(Object... args) {\n                    System.out.println(args[0]);\n                }\n            });\n\n            socket.on(&quot;connect&quot;, new Emitter.Listener() {\n                @Override\n                public void call(Object... args) {\n                    System.out.println(&quot;Socket connection &quot;+i+&quot; successfully created&quot;);\n                }\n            });\n            socket.on(&quot;disconnect&quot;, new Emitter.Listener() {\n                @Override\n                public void call(Object... args) {\n                    System.out.println(&quot;Socket connection &quot;+i+&quot; disconnected&quot;);\n                }\n            });\n\n            socket.connect();\n            lock.countDown();\n        }, 1000, delay, TimeUnit.MILLISECONDS);\n\n        lock.await(delay, TimeUnit.MILLISECONDS);\n        future.cancel(true);\n\n    }//end of for loop\n    executor.shutdown();\n</code></pre>\n<p>My java <code>socket.io-client</code> implementation version is as follow that is compatible with socket.io server v4.x.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.socket&lt;/groupId&gt;\n&lt;artifactId&gt;socket.io-client&lt;/artifactId&gt;\n&lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Socket connection 1 successfully created\nSocket connection 2 successfully created\nSocket connection 3 successfully created\nSocket connection 4 successfully created\nSocket connection 5 successfully created\nSocket connection 6 successfully created\nSocket connection 7 successfully created\nSocket connection 8 successfully created\nSocket connection 9 successfully created\nSocket connection 10 successfully created\nSocket connection 11 successfully created\nSocket connection 12 successfully created\nSocket connection 9 disconnected\nSocket connection 13 successfully created\n....\n....\n</code></pre>\n<p>How to prevent these disconnections occuring after few seconds?</p>\n<p>Verifying <code>socket.id()</code></p>\n<pre><code>socket.on(&quot;connect&quot;, new Emitter.Listener() {\n   @Override\n   public void call(Object... args) {\n      System.out.println(socket.id()+&quot; &quot;+i+&quot; connected&quot;);\n   }\n });\nsocket.on(&quot;disconnect&quot;, new Emitter.Listener() {\n   @Override\n   public void call(Object... args) {\n      System.out.println(socket.id()+&quot; &quot;+i+&quot; disconnected&quot;);\n   }\n });\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>null 1 connected\nnull 2 connected\nnull 3 connected\n....\nnull 4 disconnected\nG6yGTZp-AU2Mgy_kAAMl 35 connected\n....\nG01iFSB2Y98jrwNNAASH 78 disconnected\n....\nv08qy3AzhbB6V8LXAALL 200 connected\n</code></pre>\n<p>Why <code>socket.id()</code> is returning a <code>null</code> value for some and valid id for some?</p>\n<p><strong>Edited</strong> : Let's say if thread in a thread pool finishes its task &amp; terminates after 60 s of inactivity, that's casuing the disconnections, then which service executor is used to support long lived thread use cases? Or once a thread terminates and now is idle or waiting, the same is scheduled for next task, which cause disconnection behaviour from previous session?\nIf socket server &amp; client are not sending data in some time, the connection get closed due to this reason?</p>\n"},{"tags":["java","ipc","processbuilder"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1665927220,"post_id":74087353,"comment_id":130808770,"body_markdown":"Hint: maybe try with `pb.inheritIO();` to see eventual errors (e.g. class not found) || BTW: `String[] args` -&gt; `args[...]` is always an instance of String or null`(you will never get a `null` when this is being started as a (normal) java application)","body":"Hint: maybe try with <code>pb.inheritIO();</code> to see eventual errors (e.g. class not found) || BTW: <code>String[] args</code> -&gt; <code>args[...]</code> is always an instance of String or null<code>(you will never get a </code>null` when this is being started as a (normal) java application)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665928475,"post_id":74087353,"comment_id":130809045,"body_markdown":"[description](https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#exit-status) fo the `java` tool: &quot;*The following exit values are typically returned by the launcher when the launcher is called with the wrong arguments, serious errors, or exceptions thrown by the JVM. However, a Java application may choose to return any value by using the API call System.exit(exitValue). The values are:  - `0`: Successful completion - `&gt;0`: An error occurred*&quot; - it would be better to use negative values in `System.exit()`","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#exit-status\" rel=\"nofollow noreferrer\">description</a> fo the <code>java</code> tool: &quot;<i>The following exit values are typically returned by the launcher when the launcher is called with the wrong arguments, serious errors, or exceptions thrown by the JVM. However, a Java application may choose to return any value by using the API call System.exit(exitValue). The values are:  - <code>0</code>: Successful completion - <code>&gt;0</code>: An error occurred</i>&quot; - it would be better to use negative values in <code>System.exit()</code>"},{"owner":{"account_id":26639542,"reputation":11,"user_id":20255466,"display_name":"modoroot"},"score":0,"creation_date":1665928783,"post_id":74087353,"comment_id":130809108,"body_markdown":"Oh thank you so much friend. I used that method you said ( `inheritIO()` ) and the console said these lines:\n_Class has been compiled by a more recent version of the Java Environment (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 55.0._ So I changed my Java SE version to 11 and everything works now. Really appreciate your help!","body":"Oh thank you so much friend. I used that method you said ( <code>inheritIO()</code> ) and the console said these lines: <i>Class has been compiled by a more recent version of the Java Environment (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 55.0.</i> So I changed my Java SE version to 11 and everything works now. Really appreciate your help!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665928912,"post_id":74087353,"comment_id":130809142,"body_markdown":"class compiled with Java 18, being run with Java 11 - the one that ProcessBuilder is calling (even if it itself is running on Java 18) - that is due to PATH settings of operating system (solutions: change path settings; or use absolute path to `java` in ProcessBuilder)","body":"class compiled with Java 18, being run with Java 11 - the one that ProcessBuilder is calling (even if it itself is running on Java 18) - that is due to PATH settings of operating system (solutions: change path settings; or use absolute path to <code>java</code> in ProcessBuilder)"},{"owner":{"account_id":26639542,"reputation":11,"user_id":20255466,"display_name":"modoroot"},"score":0,"creation_date":1665929079,"post_id":74087353,"comment_id":130809182,"body_markdown":"Yes, that was the issue, now my program looks fine for now. Thanks for the help","body":"Yes, that was the issue, now my program looks fine for now. Thanks for the help"}],"owner":{"account_id":26639542,"reputation":11,"user_id":20255466,"display_name":"modoroot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665925813,"creation_date":1665925545,"question_id":74087353,"body_markdown":"I&#39;m currently learning Java interprocess communication and it&#39;s being pretty tough for me. I need to develop a Java program that supports parameters from the console call line and return the following values with System.exit():\r\n\r\n - If the number of parameters is &lt;1 should return 1\r\n - If it&#39;s a single string type parameter it should return 2\r\n - If the parameter is an integer &lt;0 should return 3\r\n - Other cases should return 0\r\n\r\n\r\n----------\r\nAfter doing that, I need to create a second Java program that runs the previous one, and will show on screen what has happened according to each of the parameters passed.&lt;br&gt;\r\nATM I have this, but don&#39;t know exactly how I should continue. In console always returns 1, regardless of the parameter. &lt;br&gt;\r\nParameter controller class:\r\n\r\n\tpublic class DameParam {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tif(args.length==0)\r\n\t\t\tSystem.exit(1);\r\n\t\telse if(args.length==1 &amp;&amp; args[0] instanceof String)\r\n\t\t\tSystem.exit(2);\t\t\r\n\t\telse\r\n\t\t\tSystem.exit(0);\r\n\t}\r\nConsole output class:\r\n\r\n    public class PasaParam {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tProcessBuilder pb;\r\n\t\tProcess process;\r\n\t\tint exitVal;\r\n\t\ttry {\r\n\t\t\tpb = new ProcessBuilder();\r\n\t\t\tpb.directory(new File(&quot;/home/amna/git/pspjava/PsPJava/bin/&quot;));\r\n\t\t\tpb.command(&quot;java&quot;, &quot;tema1.procesos.DameParam&quot;,&quot;1&quot;);\r\n\t\t\tprocess = pb.start();\r\n\t\t\t\r\n\t\t\texitVal = process.waitFor();\t\t\t\r\n\t\t\tSystem.out.println(&quot;One parameter: &quot; + exitVal);\r\n\t\t\t\r\n\t\t\tpb.command(&quot;java&quot;, &quot;tema1.procesos.DameParam&quot;);\r\n\t\t\tprocess = pb.start();\t\t\t\r\n\t\t\texitVal = process.waitFor();\t\t\t \r\n\t\t\tSystem.out.println(&quot;No parameter &quot; + exitVal);\t\t\t\r\n\t\t} catch (IOException | InterruptedException e) {\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Interprocess communication Java","body":"<p>I'm currently learning Java interprocess communication and it's being pretty tough for me. I need to develop a Java program that supports parameters from the console call line and return the following values with System.exit():</p>\n<ul>\n<li>If the number of parameters is &lt;1 should return 1</li>\n<li>If it's a single string type parameter it should return 2</li>\n<li>If the parameter is an integer &lt;0 should return 3</li>\n<li>Other cases should return 0</li>\n</ul>\n<hr />\n<p>After doing that, I need to create a second Java program that runs the previous one, and will show on screen what has happened according to each of the parameters passed.<br>\nATM I have this, but don't know exactly how I should continue. In console always returns 1, regardless of the parameter. <br>\nParameter controller class:</p>\n<pre><code>public class DameParam {\n\npublic static void main(String[] args) {\n    if(args.length==0)\n        System.exit(1);\n    else if(args.length==1 &amp;&amp; args[0] instanceof String)\n        System.exit(2);     \n    else\n        System.exit(0);\n}\n</code></pre>\n<p>Console output class:</p>\n<pre><code>public class PasaParam {\n\npublic static void main(String[] args) {\n    ProcessBuilder pb;\n    Process process;\n    int exitVal;\n    try {\n        pb = new ProcessBuilder();\n        pb.directory(new File(&quot;/home/amna/git/pspjava/PsPJava/bin/&quot;));\n        pb.command(&quot;java&quot;, &quot;tema1.procesos.DameParam&quot;,&quot;1&quot;);\n        process = pb.start();\n        \n        exitVal = process.waitFor();            \n        System.out.println(&quot;One parameter: &quot; + exitVal);\n        \n        pb.command(&quot;java&quot;, &quot;tema1.procesos.DameParam&quot;);\n        process = pb.start();           \n        exitVal = process.waitFor();             \n        System.out.println(&quot;No parameter &quot; + exitVal);          \n    } catch (IOException | InterruptedException e) {            \n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1664448992,"post_id":73894299,"comment_id":130476681,"body_markdown":"Well, you could try `Arrays.stream(strings, i+1, strings.length)` and use a traditional for loop as the outer loop, i.e. `for (int i = 0; i &lt; strings.length; i++) { String s1 = strings[i]; Arrays.stream(strings, i+1, strings.length)... }`. However, I&#39;d still try to think about other algorithms that aren&#39;t basically O(n^2) - is similiarity just based on the number of equal chars in the same place?","body":"Well, you could try <code>Arrays.stream(strings, i+1, strings.length)</code> and use a traditional for loop as the outer loop, i.e. <code>for (int i = 0; i &lt; strings.length; i++) { String s1 = strings[i]; Arrays.stream(strings, i+1, strings.length)... }</code>. However, I&#39;d still try to think about other algorithms that aren&#39;t basically O(n^2) - is similiarity just based on the number of equal chars in the same place?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664449227,"post_id":73894299,"comment_id":130476775,"body_markdown":"..inside `calculateSimilarity` ..utilizing thread safe data structures .. (!?;)","body":"..inside <code>calculateSimilarity</code> ..utilizing thread safe data structures .. (!?;)"},{"owner":{"account_id":1880361,"reputation":144,"user_id":1700716,"display_name":"Nikolaj Hansen"},"score":0,"creation_date":1664449534,"post_id":73894299,"comment_id":130476876,"body_markdown":"CopyOnWriteArrayList is threadsafe.","body":"CopyOnWriteArrayList is threadsafe."},{"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"score":0,"creation_date":1664449559,"post_id":73894299,"comment_id":130476889,"body_markdown":"What you are asking is really similar to dynamic programming memoization:\nhttps://en.wikipedia.org/wiki/Memoization","body":"What you are asking is really similar to dynamic programming memoization: <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Memoization</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1664514890,"post_id":73894299,"comment_id":130493706,"body_markdown":"I think you can replace `.collect(toList()).stream().forEach(...)` with `.forEachOrdered(...)`.","body":"I think you can replace <code>.collect(toList()).stream().forEach(...)</code> with <code>.forEachOrdered(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664449544,"creation_date":1664449544,"answer_id":73894488,"question_id":73894299,"body_markdown":"if you use an indexed for loop you can look at the indexes above current index only to reduce number of comparisons and skip itself\r\n\r\n    for (int i = 0; i &lt; strings.length; i++) {\r\n      String s1 = strings[i];\r\n      for (int j = i + 1; j &lt; strings.length; j++) { //&lt;--- inner loop only looks at &quot;new comparisons&quot; due to i+1\r\n        String s2 = strings[j];\r\n        if (calculateSimilarity(s1, s2)) {\r\n            matches.add(new Pair(s1, s2));\r\n        }\r\n    }","title":"Using parallel streams for finding similar strings in an array?","body":"<p>if you use an indexed for loop you can look at the indexes above current index only to reduce number of comparisons and skip itself</p>\n<pre><code>for (int i = 0; i &lt; strings.length; i++) {\n  String s1 = strings[i];\n  for (int j = i + 1; j &lt; strings.length; j++) { //&lt;--- inner loop only looks at &quot;new comparisons&quot; due to i+1\n    String s2 = strings[j];\n    if (calculateSimilarity(s1, s2)) {\n        matches.add(new Pair(s1, s2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664457708,"creation_date":1664457708,"answer_id":73896280,"question_id":73894299,"body_markdown":"You can take advantage of knowing that similarity is idempotent, so you only need to compare from the string next position in array onwards. \r\n\r\nAlso, if possible, you can take advantage of stream parallel execution to process large arrays.\r\n\r\nThe following is an example of how you can achieve it.\r\n\r\n    final double ACCEPTED_SIMILARITY_INDEX = 0.75;\r\n    String[] strings = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;AA&quot;, &quot;BB&quot;};\r\n    \r\n    final Set&lt;Set&lt;ImmutablePair&lt;String, String&gt;&gt;&gt; collect = IntStream\r\n        .range(0, strings.length)\r\n        .parallel()\r\n        .mapToObj(index -&gt; new ImmutablePair&lt;&gt;(strings[index], index + 1))\r\n        .map(immutablePair -&gt; Arrays.stream(strings, immutablePair.right, strings.length).parallel()\r\n            .filter(stringToCompare -&gt; new JaccardDistance().apply(stringToCompare, immutablePair.left) &gt; ACCEPTED_SIMILARITY_INDEX)\r\n            .map(similarString -&gt; new ImmutablePair&lt;&gt;(immutablePair.left, similarString)).collect(Collectors.toSet())).filter(workingSet -&gt; !workingSet.isEmpty())\r\n        .collect(Collectors.toSet());","title":"Using parallel streams for finding similar strings in an array?","body":"<p>You can take advantage of knowing that similarity is idempotent, so you only need to compare from the string next position in array onwards.</p>\n<p>Also, if possible, you can take advantage of stream parallel execution to process large arrays.</p>\n<p>The following is an example of how you can achieve it.</p>\n<pre><code>final double ACCEPTED_SIMILARITY_INDEX = 0.75;\nString[] strings = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;AA&quot;, &quot;BB&quot;};\n\nfinal Set&lt;Set&lt;ImmutablePair&lt;String, String&gt;&gt;&gt; collect = IntStream\n    .range(0, strings.length)\n    .parallel()\n    .mapToObj(index -&gt; new ImmutablePair&lt;&gt;(strings[index], index + 1))\n    .map(immutablePair -&gt; Arrays.stream(strings, immutablePair.right, strings.length).parallel()\n        .filter(stringToCompare -&gt; new JaccardDistance().apply(stringToCompare, immutablePair.left) &gt; ACCEPTED_SIMILARITY_INDEX)\n        .map(similarString -&gt; new ImmutablePair&lt;&gt;(immutablePair.left, similarString)).collect(Collectors.toSet())).filter(workingSet -&gt; !workingSet.isEmpty())\n    .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664514423,"creation_date":1664459603,"answer_id":73896717,"question_id":73894299,"body_markdown":"My solution is based on the approach of [this answer][1], but it uses Java 8 streams and adds some parallelism.\r\n\r\n    int len = strings.length;\r\n    List&lt;Pair&lt;String, String&gt;&gt; result = \r\n          LongStream.range(0, (long)(len) * len))\r\n                    .parallel()\r\n                    .filter(l -&gt; (l / len &gt; l % len) &amp;&amp; \r\n                                 calculateSimilarity(strings[l / len], \r\n                                                     strings[l % len]) &gt; 0.5)\r\n                    .map(l -&gt; new Pair&lt;&gt;(strings[l / len], strings[l % len])\r\n                    .collect(toList());\r\n\r\nThe approach used is to use `l` to iterate the positions of an imaginary `len` x `len` matrix flattened into 1-D.  The `(l / len)` and `(l % len)` map the 1-D coordinates to 2-D, and then the `(l / len &gt; l % len)` test checks that we are above the diagonal of the 2-D matrix.\r\n\r\nI try to avoid creating any intermediate structures (e.g. temporary arrays or a de-duping `HashSet`) and any `Pair` objects that would be discarded. \r\n\r\nNotes:\r\n\r\n  1. If we could constrain the length of `strings` to be less than 2^16, we could use an `IntStream` and `int` calculations.\r\n\r\n  2. If there are duplicates in the input `strings` array, there will be duplicates in the list of `Pair` objects.\r\n\r\n  3. This is still going to be `O(N^2)` where `N` is `strings.length`.\r\n\r\n  [1]: https://stackoverflow.com/a/73894488/139985\r\n","title":"Using parallel streams for finding similar strings in an array?","body":"<p>My solution is based on the approach of <a href=\"https://stackoverflow.com/a/73894488/139985\">this answer</a>, but it uses Java 8 streams and adds some parallelism.</p>\n<pre><code>int len = strings.length;\nList&lt;Pair&lt;String, String&gt;&gt; result = \n      LongStream.range(0, (long)(len) * len))\n                .parallel()\n                .filter(l -&gt; (l / len &gt; l % len) &amp;&amp; \n                             calculateSimilarity(strings[l / len], \n                                                 strings[l % len]) &gt; 0.5)\n                .map(l -&gt; new Pair&lt;&gt;(strings[l / len], strings[l % len])\n                .collect(toList());\n</code></pre>\n<p>The approach used is to use <code>l</code> to iterate the positions of an imaginary <code>len</code> x <code>len</code> matrix flattened into 1-D.  The <code>(l / len)</code> and <code>(l % len)</code> map the 1-D coordinates to 2-D, and then the <code>(l / len &gt; l % len)</code> test checks that we are above the diagonal of the 2-D matrix.</p>\n<p>I try to avoid creating any intermediate structures (e.g. temporary arrays or a de-duping <code>HashSet</code>) and any <code>Pair</code> objects that would be discarded.</p>\n<p>Notes:</p>\n<ol>\n<li><p>If we could constrain the length of <code>strings</code> to be less than 2^16, we could use an <code>IntStream</code> and <code>int</code> calculations.</p>\n</li>\n<li><p>If there are duplicates in the input <code>strings</code> array, there will be duplicates in the list of <code>Pair</code> objects.</p>\n</li>\n<li><p>This is still going to be <code>O(N^2)</code> where <code>N</code> is <code>strings.length</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664461033,"creation_date":1664461033,"answer_id":73897079,"question_id":73894299,"body_markdown":"If you store the input strings in a `List` instead of an array, the adjusted version of your implementation that combines a `for` loop with a `Stream` is\r\n\r\n```java\r\nList&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;dsfdsf&quot;, &quot;foo&quot;, &quot;baaa&quot;, ...);\r\n\r\nfor (int index = 0; index &lt; strings.length - 1; index++) {\r\n    final String s1 = strings.get(index);\r\n    strings.subList(index+1, strings.length)\r\n        .stream()\r\n        .parallel()\r\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\r\n        .collect(toList())\r\n        .stream()\r\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\r\n}\r\n```","title":"Using parallel streams for finding similar strings in an array?","body":"<p>If you store the input strings in a <code>List</code> instead of an array, the adjusted version of your implementation that combines a <code>for</code> loop with a <code>Stream</code> is</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;dsfdsf&quot;, &quot;foo&quot;, &quot;baaa&quot;, ...);\n\nfor (int index = 0; index &lt; strings.length - 1; index++) {\n    final String s1 = strings.get(index);\n    strings.subList(index+1, strings.length)\n        .stream()\n        .parallel()\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\n        .collect(toList())\n        .stream()\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665925763,"creation_date":1665925763,"answer_id":74087375,"question_id":73894299,"body_markdown":"Thanks for all the answers, they were very informative!\r\n\r\nIn the end, I went with the following implementation:\r\n\r\n````\r\nfor (int i = 0; i &lt; strings.length; i++) {\r\n    final String s1 = strings[i];\r\n    Arrays.stream(strings)\r\n        .skip(i + 1)\r\n        .parallel()\r\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\r\n        .collect(toList())\r\n        .stream()\r\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\r\n}\r\n````\r\nIt is slightly slower than:\r\n````\r\nfor (int i = 0; i &lt; strings.length; i++) {\r\n    final String s1 = strings[i];\r\n    Arrays.stream(strings, i + 1 /* startInclusive */, strings.length /* endExclusive */)\r\n        .parallel()\r\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\r\n        .collect(toList())\r\n        .stream()\r\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\r\n}\r\n````\r\n...but `skip()` works with any collection, not only with arrays.\r\n\r\n","title":"Using parallel streams for finding similar strings in an array?","body":"<p>Thanks for all the answers, they were very informative!</p>\n<p>In the end, I went with the following implementation:</p>\n<pre><code>for (int i = 0; i &lt; strings.length; i++) {\n    final String s1 = strings[i];\n    Arrays.stream(strings)\n        .skip(i + 1)\n        .parallel()\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\n        .collect(toList())\n        .stream()\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\n}\n</code></pre>\n<p>It is slightly slower than:</p>\n<pre><code>for (int i = 0; i &lt; strings.length; i++) {\n    final String s1 = strings[i];\n    Arrays.stream(strings, i + 1 /* startInclusive */, strings.length /* endExclusive */)\n        .parallel()\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\n        .collect(toList())\n        .stream()\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\n}\n</code></pre>\n<p>...but <code>skip()</code> works with any collection, not only with arrays.</p>\n"}],"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74087375,"answer_count":5,"score":1,"last_activity_date":1665925763,"creation_date":1664448654,"question_id":73894299,"body_markdown":"Let&#39;s say I have a large array of unique strings and I want **to find all pairs which are at least 50% similar**.\r\n\r\nA straightforward implementation:\r\n```\r\nfinal String[] strings = {&quot;abc&quot;, &quot;dsfdsf&quot;, &quot;foo&quot;, &quot;baaa&quot;, ...};\r\n\r\nfinal Collection&lt;Pair&lt;String, String&gt;&gt; matches = new ArrayList&lt;&gt;();\r\n\r\nfor (final String s1 : strings) {\r\n\tfor (final String s2 : strings) {\r\n\t\tif (calculateSimilarity(s1, s2) &gt;= 0.5) {\r\n\t\t\tmatches.add(new Pair(s1, s2));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow, let&#39;s make it multithreaded by using parallel stream:\r\n```\r\nfor (final String s1 : strings) {\r\n\tArrays.stream(strings).parallel()\r\n\t\t.filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\r\n\t\t.collect(toList())\r\n\t\t.stream()\r\n\t\t.forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\r\n}\r\n```\r\nEach subsequent **s1** string is compared (in parallel) with all **s2** strings. All strings matching **s1** are collected into a single list, and then they are added sequentially to **matches** (because **ArrayList** is not thread-safe).\r\n\r\nThis already works much faster than the sequential version. However, I want to introduce an improvement: avoid comparing the same two strings twice, because always **calculateSimilarity(&quot;aaa&quot;, &quot;bbb&quot;) == calculateSimilarity(&quot;bbb&quot;, &quot;aaa&quot;)**. I would also like to avoid comparing each string against itself.\r\n\r\nSo, back to the original algorithm:\r\n```\r\nfor (int i = 0; i &lt; strings.length; i++) {\r\n\tfor (int j = i + 1; j &lt; strings.length; j++) {  // &lt;--- sic! NOT int j = 0\r\n\t\t\tif (calculateSimilarity(strings[i], strings[j]) &gt;= 0.5) {\r\n\t\t\t\tmatches.add(new Pair(strings[i], strings[j]));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow, my question is: **how to introduce this improvement to the parallel stream version?**\r\n\r\nShould I use **.skip()** somehow?","title":"Using parallel streams for finding similar strings in an array?","body":"<p>Let's say I have a large array of unique strings and I want <strong>to find all pairs which are at least 50% similar</strong>.</p>\n<p>A straightforward implementation:</p>\n<pre><code>final String[] strings = {&quot;abc&quot;, &quot;dsfdsf&quot;, &quot;foo&quot;, &quot;baaa&quot;, ...};\n\nfinal Collection&lt;Pair&lt;String, String&gt;&gt; matches = new ArrayList&lt;&gt;();\n\nfor (final String s1 : strings) {\n    for (final String s2 : strings) {\n        if (calculateSimilarity(s1, s2) &gt;= 0.5) {\n            matches.add(new Pair(s1, s2));\n        }\n    }\n}\n</code></pre>\n<p>Now, let's make it multithreaded by using parallel stream:</p>\n<pre><code>for (final String s1 : strings) {\n    Arrays.stream(strings).parallel()\n        .filter(s2 -&gt; calculateSimilarity(s1, s2) &gt;= 0.5)\n        .collect(toList())\n        .stream()\n        .forEach(s2 -&gt; matches.add(new Pair(s1, s2)));\n}\n</code></pre>\n<p>Each subsequent <strong>s1</strong> string is compared (in parallel) with all <strong>s2</strong> strings. All strings matching <strong>s1</strong> are collected into a single list, and then they are added sequentially to <strong>matches</strong> (because <strong>ArrayList</strong> is not thread-safe).</p>\n<p>This already works much faster than the sequential version. However, I want to introduce an improvement: avoid comparing the same two strings twice, because always <strong>calculateSimilarity(&quot;aaa&quot;, &quot;bbb&quot;) == calculateSimilarity(&quot;bbb&quot;, &quot;aaa&quot;)</strong>. I would also like to avoid comparing each string against itself.</p>\n<p>So, back to the original algorithm:</p>\n<pre><code>for (int i = 0; i &lt; strings.length; i++) {\n    for (int j = i + 1; j &lt; strings.length; j++) {  // &lt;--- sic! NOT int j = 0\n            if (calculateSimilarity(strings[i], strings[j]) &gt;= 0.5) {\n                matches.add(new Pair(strings[i], strings[j]));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now, my question is: <strong>how to introduce this improvement to the parallel stream version?</strong></p>\n<p>Should I use <strong>.skip()</strong> somehow?</p>\n"},{"tags":["java","spring","caching"],"answers":[{"tags":[],"owner":{"account_id":1535484,"reputation":4254,"user_id":2365727,"accept_rate":88,"display_name":"michaldo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1383599379,"creation_date":1383599379,"answer_id":19777165,"question_id":17749049,"body_markdown":"Answer is: No.\r\n\r\nAnd it is no easy way to achieve what you want.\r\n\r\n 1. Spring Cache annotations must be simple to be easy to implement by cache provider.\r\n 2. Efficient caching must be simple. There is a key and value. If key is found in cache use the value, otherwise compute value and put to cache. Efficient key must have fast and honest **equals()** and **hashcode()**. Assume you cached many pairs (key,value) from one tenant. For efficiency different keys should have different **hashcode()**. And you decide to evict whole tenant. It is no easy to find tenant elements in cache. You have to iterate all cached pairs and discard pairs belonging to the tenant. It is not efficient. It is rather not atomic, so it is complicated and needs some synchronization. Synchronization is not efficient.\r\n\r\nTherefore no.\r\n\r\nBut, if you find a solution tell me, because feature you want is really useful.\r\n\r\n\r\n","title":"Spring @CacheEvict using wildcards","body":"<p>Answer is: No.</p>\n\n<p>And it is no easy way to achieve what you want.</p>\n\n<ol>\n<li>Spring Cache annotations must be simple to be easy to implement by cache provider.</li>\n<li>Efficient caching must be simple. There is a key and value. If key is found in cache use the value, otherwise compute value and put to cache. Efficient key must have fast and honest <strong>equals()</strong> and <strong>hashcode()</strong>. Assume you cached many pairs (key,value) from one tenant. For efficiency different keys should have different <strong>hashcode()</strong>. And you decide to evict whole tenant. It is no easy to find tenant elements in cache. You have to iterate all cached pairs and discard pairs belonging to the tenant. It is not efficient. It is rather not atomic, so it is complicated and needs some synchronization. Synchronization is not efficient.</li>\n</ol>\n\n<p>Therefore no.</p>\n\n<p>But, if you find a solution tell me, because feature you want is really useful.</p>\n"},{"tags":[],"owner":{"account_id":126958,"reputation":3874,"user_id":323807,"accept_rate":71,"display_name":"Andre"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1479482945,"creation_date":1479482945,"answer_id":40680741,"question_id":17749049,"body_markdown":"As with 99% of every question in the universe, the answer is: it depends. If your cache manager implements something that deals with that, great. But that doesn&#39;t seem to be the case.\r\n\r\nIf you&#39;re using `SimpleCacheManager`, which is a basic in-memory cache manager provided by Spring, you&#39;re probably using `ConcurrentMapCache` that also comes with Spring. Although it&#39;s not possible to extend `ConcurrentMapCache` to deal with wildcards in keys (because the cache store is private and you can&#39;t access it), you could just use it as an inspiration for your own implementation.\r\n\r\nBelow there&#39;s a possible implementation (I didn&#39;t really test it much other than to check if it&#39;s working). This is a plain copy of `ConcurrentMapCache` with a modification on the `evict()` method. The difference is that this version of `evict()` treats the key to see if it&#39;s a regex. In that case, it iterates through all the keys in the store and evict the ones that match the regex.\r\n\r\n    package com.sigraweb.cache;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    \r\n    import org.springframework.cache.Cache;\r\n    import org.springframework.cache.support.SimpleValueWrapper;\r\n    import org.springframework.util.Assert;\r\n    \r\n    public class RegexKeyCache implements Cache {\r\n    \tprivate static final Object NULL_HOLDER = new NullHolder();\r\n    \r\n    \tprivate final String name;\r\n    \r\n    \tprivate final ConcurrentMap&lt;Object, Object&gt; store;\r\n    \r\n    \tprivate final boolean allowNullValues;\r\n    \r\n    \tpublic RegexKeyCache(String name) {\r\n    \t\tthis(name, new ConcurrentHashMap&lt;Object, Object&gt;(256), true);\r\n    \t}\r\n    \r\n    \tpublic RegexKeyCache(String name, boolean allowNullValues) {\r\n    \t\tthis(name, new ConcurrentHashMap&lt;Object, Object&gt;(256), allowNullValues);\r\n    \t}\r\n    \r\n    \tpublic RegexKeyCache(String name, ConcurrentMap&lt;Object, Object&gt; store, boolean allowNullValues) {\r\n    \t\tAssert.notNull(name, &quot;Name must not be null&quot;);\r\n    \t\tAssert.notNull(store, &quot;Store must not be null&quot;);\r\n    \t\tthis.name = name;\r\n    \t\tthis.store = store;\r\n    \t\tthis.allowNullValues = allowNullValues;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic final String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic final ConcurrentMap&lt;Object, Object&gt; getNativeCache() {\r\n    \t\treturn this.store;\r\n    \t}\r\n    \r\n    \tpublic final boolean isAllowNullValues() {\r\n    \t\treturn this.allowNullValues;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ValueWrapper get(Object key) {\r\n    \t\tObject value = this.store.get(key);\r\n    \t\treturn toWrapper(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\r\n    \t\tObject value = fromStoreValue(this.store.get(key));\r\n    \t\tif (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Cached value is not of required type [&quot; + type.getName() + &quot;]: &quot; + value);\r\n    \t\t}\r\n    \t\treturn (T) value;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void put(Object key, Object value) {\r\n    \t\tthis.store.put(key, toStoreValue(value));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ValueWrapper putIfAbsent(Object key, Object value) {\r\n    \t\tObject existing = this.store.putIfAbsent(key, value);\r\n    \t\treturn toWrapper(existing);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void evict(Object key) {\r\n    \t\tthis.store.remove(key);\r\n    \t\tif (key.toString().startsWith(&quot;regex:&quot;)) {\r\n    \t\t\tString r = key.toString().replace(&quot;regex:&quot;, &quot;&quot;);\r\n    \t\t\tfor (Object k : this.store.keySet()) {\r\n    \t\t\t\tif (k.toString().matches(r)) {\r\n    \t\t\t\t\tthis.store.remove(k);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void clear() {\r\n    \t\tthis.store.clear();\r\n    \t}\r\n    \r\n    \tprotected Object fromStoreValue(Object storeValue) {\r\n    \t\tif (this.allowNullValues &amp;&amp; storeValue == NULL_HOLDER) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn storeValue;\r\n    \t}\r\n    \r\n    \tprotected Object toStoreValue(Object userValue) {\r\n    \t\tif (this.allowNullValues &amp;&amp; userValue == null) {\r\n    \t\t\treturn NULL_HOLDER;\r\n    \t\t}\r\n    \t\treturn userValue;\r\n    \t}\r\n    \r\n    \tprivate ValueWrapper toWrapper(Object value) {\r\n    \t\treturn (value != null ? new SimpleValueWrapper(fromStoreValue(value)) : null);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tprivate static class NullHolder implements Serializable {\r\n    \t}\r\n    }\r\n\r\nI trust that readers know how to initialize the cache manager with a custom cache implementation. There&#39;s lots of documentation out there that shows you how to do that. After your project is properly configured, you can use the annotation normally like so:\r\n\r\n    @CacheEvict(value = { &quot;cacheName&quot; }, key = &quot;&#39;regex:#tenant&#39;+&#39;.*&#39;&quot;)\r\n    public myMethod(String tenant){\r\n    ...\r\n    }\r\n\r\nAgain, this is far from being properly tested, but it gives you a way to do what you want. If you&#39;re using another cache manager, you could extends its cache implementation similarly.","title":"Spring @CacheEvict using wildcards","body":"<p>As with 99% of every question in the universe, the answer is: it depends. If your cache manager implements something that deals with that, great. But that doesn't seem to be the case.</p>\n\n<p>If you're using <code>SimpleCacheManager</code>, which is a basic in-memory cache manager provided by Spring, you're probably using <code>ConcurrentMapCache</code> that also comes with Spring. Although it's not possible to extend <code>ConcurrentMapCache</code> to deal with wildcards in keys (because the cache store is private and you can't access it), you could just use it as an inspiration for your own implementation.</p>\n\n<p>Below there's a possible implementation (I didn't really test it much other than to check if it's working). This is a plain copy of <code>ConcurrentMapCache</code> with a modification on the <code>evict()</code> method. The difference is that this version of <code>evict()</code> treats the key to see if it's a regex. In that case, it iterates through all the keys in the store and evict the ones that match the regex.</p>\n\n<pre><code>package com.sigraweb.cache;\n\nimport java.io.Serializable;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\n\nimport org.springframework.cache.Cache;\nimport org.springframework.cache.support.SimpleValueWrapper;\nimport org.springframework.util.Assert;\n\npublic class RegexKeyCache implements Cache {\n    private static final Object NULL_HOLDER = new NullHolder();\n\n    private final String name;\n\n    private final ConcurrentMap&lt;Object, Object&gt; store;\n\n    private final boolean allowNullValues;\n\n    public RegexKeyCache(String name) {\n        this(name, new ConcurrentHashMap&lt;Object, Object&gt;(256), true);\n    }\n\n    public RegexKeyCache(String name, boolean allowNullValues) {\n        this(name, new ConcurrentHashMap&lt;Object, Object&gt;(256), allowNullValues);\n    }\n\n    public RegexKeyCache(String name, ConcurrentMap&lt;Object, Object&gt; store, boolean allowNullValues) {\n        Assert.notNull(name, \"Name must not be null\");\n        Assert.notNull(store, \"Store must not be null\");\n        this.name = name;\n        this.store = store;\n        this.allowNullValues = allowNullValues;\n    }\n\n    @Override\n    public final String getName() {\n        return this.name;\n    }\n\n    @Override\n    public final ConcurrentMap&lt;Object, Object&gt; getNativeCache() {\n        return this.store;\n    }\n\n    public final boolean isAllowNullValues() {\n        return this.allowNullValues;\n    }\n\n    @Override\n    public ValueWrapper get(Object key) {\n        Object value = this.store.get(key);\n        return toWrapper(value);\n    }\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\n        Object value = fromStoreValue(this.store.get(key));\n        if (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\n            throw new IllegalStateException(\"Cached value is not of required type [\" + type.getName() + \"]: \" + value);\n        }\n        return (T) value;\n    }\n\n    @Override\n    public void put(Object key, Object value) {\n        this.store.put(key, toStoreValue(value));\n    }\n\n    @Override\n    public ValueWrapper putIfAbsent(Object key, Object value) {\n        Object existing = this.store.putIfAbsent(key, value);\n        return toWrapper(existing);\n    }\n\n    @Override\n    public void evict(Object key) {\n        this.store.remove(key);\n        if (key.toString().startsWith(\"regex:\")) {\n            String r = key.toString().replace(\"regex:\", \"\");\n            for (Object k : this.store.keySet()) {\n                if (k.toString().matches(r)) {\n                    this.store.remove(k);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void clear() {\n        this.store.clear();\n    }\n\n    protected Object fromStoreValue(Object storeValue) {\n        if (this.allowNullValues &amp;&amp; storeValue == NULL_HOLDER) {\n            return null;\n        }\n        return storeValue;\n    }\n\n    protected Object toStoreValue(Object userValue) {\n        if (this.allowNullValues &amp;&amp; userValue == null) {\n            return NULL_HOLDER;\n        }\n        return userValue;\n    }\n\n    private ValueWrapper toWrapper(Object value) {\n        return (value != null ? new SimpleValueWrapper(fromStoreValue(value)) : null);\n    }\n\n    @SuppressWarnings(\"serial\")\n    private static class NullHolder implements Serializable {\n    }\n}\n</code></pre>\n\n<p>I trust that readers know how to initialize the cache manager with a custom cache implementation. There's lots of documentation out there that shows you how to do that. After your project is properly configured, you can use the annotation normally like so:</p>\n\n<pre><code>@CacheEvict(value = { \"cacheName\" }, key = \"'regex:#tenant'+'.*'\")\npublic myMethod(String tenant){\n...\n}\n</code></pre>\n\n<p>Again, this is far from being properly tested, but it gives you a way to do what you want. If you're using another cache manager, you could extends its cache implementation similarly.</p>\n"},{"tags":[],"owner":{"account_id":2562319,"reputation":834,"user_id":2243384,"accept_rate":41,"display_name":"masT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529936370,"creation_date":1529936370,"answer_id":51025696,"question_id":17749049,"body_markdown":"Below worked for me on Redis Cache.\r\nSuppose you want to delete all Cache entries with key prefix: &#39;cache-name:object-name:parentKey&#39;. Call method with key value `cache-name:object-name:parentKey*`.\r\n\r\n    import org.springframework.data.redis.core.RedisOperations;    \r\n    ...\r\n    private final RedisOperations&lt;Object, Object&gt; redisTemplate;\r\n    ...    \r\n    public void evict(Object key)\r\n    {\r\n        redisTemplate.delete(redisTemplate.keys(key));\r\n    }\r\n\r\nFrom RedisOperations.java\r\n\r\n    /**\r\n     * Delete given {@code keys}.\r\n     *\r\n     * @param keys must not be {@literal null}.\r\n     * @return The number of keys that were removed.\r\n     * @see &lt;a href=&quot;http://redis.io/commands/del&quot;&gt;Redis Documentation: DEL&lt;/a&gt;\r\n     */\r\n    void delete(Collection&lt;K&gt; keys);\r\n    \r\n    /**\r\n\t * Find all keys matching the given {@code pattern}.\r\n\t *\r\n\t * @param pattern must not be {@literal null}.\r\n\t * @return\r\n\t * @see &lt;a href=&quot;http://redis.io/commands/keys&quot;&gt;Redis Documentation: KEYS&lt;/a&gt;\r\n\t */\r\n\tSet&lt;K&gt; keys(K pattern);\r\n\r\n\r\n","title":"Spring @CacheEvict using wildcards","body":"<p>Below worked for me on Redis Cache.\nSuppose you want to delete all Cache entries with key prefix: 'cache-name:object-name:parentKey'. Call method with key value <code>cache-name:object-name:parentKey*</code>.</p>\n\n<pre><code>import org.springframework.data.redis.core.RedisOperations;    \n...\nprivate final RedisOperations&lt;Object, Object&gt; redisTemplate;\n...    \npublic void evict(Object key)\n{\n    redisTemplate.delete(redisTemplate.keys(key));\n}\n</code></pre>\n\n<p>From RedisOperations.java</p>\n\n<pre><code>/**\n * Delete given {@code keys}.\n *\n * @param keys must not be {@literal null}.\n * @return The number of keys that were removed.\n * @see &lt;a href=\"http://redis.io/commands/del\"&gt;Redis Documentation: DEL&lt;/a&gt;\n */\nvoid delete(Collection&lt;K&gt; keys);\n\n/**\n * Find all keys matching the given {@code pattern}.\n *\n * @param pattern must not be {@literal null}.\n * @return\n * @see &lt;a href=\"http://redis.io/commands/keys\"&gt;Redis Documentation: KEYS&lt;/a&gt;\n */\nSet&lt;K&gt; keys(K pattern);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598489161,"creation_date":1598489161,"answer_id":63607599,"question_id":17749049,"body_markdown":"Include the tenant as part of the cache name, by implementing a custom CacheResolver; extending and implementing `SimpleCacheResolver.getCacheName`\r\n\r\nthen do evict all keys\r\n\r\n`@CacheEvict(value = {CacheName.CACHE1, CacheName.CACHE2}, allEntries = true)`\r\n\r\nBut note that if you are using redis as your backing cache, then under the hood spring uses the KEYS command, so the solution will not scale. Once you get few 100K keys in redis, KEYS will take 150ms and the redis server will bottleneck on CPU. Naughty spring.","title":"Spring @CacheEvict using wildcards","body":"<p>Include the tenant as part of the cache name, by implementing a custom CacheResolver; extending and implementing <code>SimpleCacheResolver.getCacheName</code></p>\n<p>then do evict all keys</p>\n<p><code>@CacheEvict(value = {CacheName.CACHE1, CacheName.CACHE2}, allEntries = true)</code></p>\n<p>But note that if you are using redis as your backing cache, then under the hood spring uses the KEYS command, so the solution will not scale. Once you get few 100K keys in redis, KEYS will take 150ms and the redis server will bottleneck on CPU. Naughty spring.</p>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636467203,"creation_date":1636466865,"answer_id":69899617,"question_id":17749049,"body_markdown":"I had a similar issue as well. I solved it that way.\r\n\r\n**My Config Class**\r\n\r\n    @Bean\r\n    RedisTemplate redisTemplate() {\r\n        RedisTemplate template = new RedisTemplate();\r\n        template.setConnectionFactory(lettuceConnectionFactory());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setValueSerializer(new RedisSerializerGzip());\r\n        return template;\r\n    }\r\n\r\n**My Util Class**\r\n\r\n\r\n    public class CacheService {\r\n    \r\n        final RedisTemplate redisTemplate;\r\n    \r\n        public void evictCachesByPrefix(String prefix) {\r\n            Set&lt;String&gt; keys = redisTemplate.keys(prefix + &quot;*&quot;);\r\n            for (String key : keys) {\r\n                redisTemplate.delete(key);\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Warning: consider KEYS as a command that should only be used in\r\n&gt; production environments with extreme care. It may ruin performance\r\n&gt; when it is executed against large databases.\r\n&gt; https://redis.io/commands/keys","title":"Spring @CacheEvict using wildcards","body":"<p>I had a similar issue as well. I solved it that way.</p>\n<p><strong>My Config Class</strong></p>\n<pre><code>@Bean\nRedisTemplate redisTemplate() {\n    RedisTemplate template = new RedisTemplate();\n    template.setConnectionFactory(lettuceConnectionFactory());\n    template.setKeySerializer(new StringRedisSerializer());\n    template.setValueSerializer(new RedisSerializerGzip());\n    return template;\n}\n</code></pre>\n<p><strong>My Util Class</strong></p>\n<pre><code>public class CacheService {\n\n    final RedisTemplate redisTemplate;\n\n    public void evictCachesByPrefix(String prefix) {\n        Set&lt;String&gt; keys = redisTemplate.keys(prefix + &quot;*&quot;);\n        for (String key : keys) {\n            redisTemplate.delete(key);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Warning: consider KEYS as a command that should only be used in\nproduction environments with extreme care. It may ruin performance\nwhen it is executed against large databases.\n<a href=\"https://redis.io/commands/keys\" rel=\"nofollow noreferrer\">https://redis.io/commands/keys</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641399089,"creation_date":1641399089,"answer_id":70596063,"question_id":17749049,"body_markdown":"I wanted to remove all stored orders from cache and i complited it this way.\r\n\r\n    @CacheEvict(value = &quot;List&lt;Order&gt;&quot;, allEntries = true)\r\n\r\nAs i understand this way will be removed all lists stored with this value. So you can create another structure and it also can be a kind of solution.","title":"Spring @CacheEvict using wildcards","body":"<p>I wanted to remove all stored orders from cache and i complited it this way.</p>\n<pre><code>@CacheEvict(value = &quot;List&lt;Order&gt;&quot;, allEntries = true)\n</code></pre>\n<p>As i understand this way will be removed all lists stored with this value. So you can create another structure and it also can be a kind of solution.</p>\n"},{"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665925540,"creation_date":1665925540,"answer_id":74087352,"question_id":17749049,"body_markdown":"I solved this by leaving the AOP-Pattern in this special case.\r\n\r\nread remains annotation-driven:\r\n\r\n    \t@Cacheable(value = &quot;imageCache&quot;, keyGenerator = &quot;imageKeyGenerator&quot;, unless=&quot;#result == null&quot;)\r\n\tpublic byte[] getImageData(int objectId, int imageType, int width, int height, boolean sizeAbsolute) { \r\n    // ... \r\n    }\r\n\r\n\r\n\tpublic boolean deleteImage(int objId, int type) {\r\n\t\tremoveFromCacheByPrefix(&quot;imageCache&quot;, ImageCacheKeyGenerator.generateKey(objId, type));\r\n\t\tint rc = jdbcTemplate.update(SQL_DELETE_IMAGE, new Object[] {objId,type});\r\n\t\treturn rc &gt; 0;\r\n\t}\r\n\r\n\r\nas you can see, the deleteImage(...) has no annotation, but calls removeFromCacheByPrefix(...).\r\nthis is a function in the superclass of the repository which looks like this:\r\n\r\n    \t\r\n\tprotected void removeFromCacheByPrefix(String cacheName, String prefix) {\r\n\t\tvar cache = this.cacheManager.getCache(cacheName);\r\n\t\tSet&lt;String&gt; keys = new HashSet&lt;String&gt;();\r\n\t\tcache.forEach(entry -&gt; {\r\n\t\t\tvar key = String.valueOf(entry.getKey());\r\n\t\t\tif (key.startsWith(prefix)) {\r\n\t\t\t\tkeys.add(String.valueOf(entry.getKey()));\r\n\t\t\t}\r\n\t\t});\r\n\t\tcache.removeAll(keys);\r\n\t}\r\n\t\r\nworks fine for me this way!","title":"Spring @CacheEvict using wildcards","body":"<p>I solved this by leaving the AOP-Pattern in this special case.</p>\n<p>read remains annotation-driven:</p>\n<pre><code>    @Cacheable(value = &quot;imageCache&quot;, keyGenerator = &quot;imageKeyGenerator&quot;, unless=&quot;#result == null&quot;)\npublic byte[] getImageData(int objectId, int imageType, int width, int height, boolean sizeAbsolute) { \n// ... \n}\n\n\npublic boolean deleteImage(int objId, int type) {\n    removeFromCacheByPrefix(&quot;imageCache&quot;, ImageCacheKeyGenerator.generateKey(objId, type));\n    int rc = jdbcTemplate.update(SQL_DELETE_IMAGE, new Object[] {objId,type});\n    return rc &gt; 0;\n}\n</code></pre>\n<p>as you can see, the deleteImage(...) has no annotation, but calls removeFromCacheByPrefix(...).\nthis is a function in the superclass of the repository which looks like this:</p>\n<pre><code>protected void removeFromCacheByPrefix(String cacheName, String prefix) {\n    var cache = this.cacheManager.getCache(cacheName);\n    Set&lt;String&gt; keys = new HashSet&lt;String&gt;();\n    cache.forEach(entry -&gt; {\n        var key = String.valueOf(entry.getKey());\n        if (key.startsWith(prefix)) {\n            keys.add(String.valueOf(entry.getKey()));\n        }\n    });\n    cache.removeAll(keys);\n}\n</code></pre>\n<p>works fine for me this way!</p>\n"}],"owner":{"account_id":1756397,"reputation":363,"user_id":1604339,"display_name":"Daniel Gomes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16050,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":40680741,"answer_count":7,"score":21,"last_activity_date":1665925540,"creation_date":1374245185,"question_id":17749049,"body_markdown":"Is there any way of using wildcards in @CacheEvict?\r\n\r\nI have an application with multi-tenancy that sometimes needs to evict all the data from the cache of the tenant, but not of all tenants in the system.\r\n\r\nConsider the following method:\r\n\r\n    @Cacheable(value=&quot;users&quot;, key=&quot;T(Security).getTenant() + #user.key&quot;)\r\n    public List&lt;User&gt; getUsers(User user) {\r\n        ...\r\n    }\r\n\r\nSo, I would like to do something like:\r\n\r\n    @CacheEvict(value=&quot;users&quot;, key=&quot;T(Security).getTenant() + *&quot;)\r\n    public void deleteOrganization(Organization organization) {\r\n        ...\r\n    }\r\n\r\nIs there anyway to do it?","title":"Spring @CacheEvict using wildcards","body":"<p>Is there any way of using wildcards in @CacheEvict?</p>\n\n<p>I have an application with multi-tenancy that sometimes needs to evict all the data from the cache of the tenant, but not of all tenants in the system.</p>\n\n<p>Consider the following method:</p>\n\n<pre><code>@Cacheable(value=\"users\", key=\"T(Security).getTenant() + #user.key\")\npublic List&lt;User&gt; getUsers(User user) {\n    ...\n}\n</code></pre>\n\n<p>So, I would like to do something like:</p>\n\n<pre><code>@CacheEvict(value=\"users\", key=\"T(Security).getTenant() + *\")\npublic void deleteOrganization(Organization organization) {\n    ...\n}\n</code></pre>\n\n<p>Is there anyway to do it?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":7637322,"reputation":4139,"user_id":5790498,"display_name":"Abhijeet"},"score":0,"creation_date":1650863947,"post_id":71974489,"comment_id":127214721,"body_markdown":"Please share all the logs","body":"Please share all the logs"},{"owner":{"account_id":15901899,"reputation":15,"user_id":11474049,"display_name":"Artcann"},"score":0,"creation_date":1650890931,"post_id":71974489,"comment_id":127223082,"body_markdown":"See updated post","body":"See updated post"}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650706229,"creation_date":1650701569,"answer_id":71977959,"question_id":71974489,"body_markdown":"I see that you specified client_credentials. This means there is no browser involved which makes it simpler to troubleshoot. Please try from the command line to make sure that your Keycloak config supports this grant type:\r\n\r\n       curl -L -X POST &#39;http://localhost:8080/auth/realms/XXXXXXX/protocol/openid-connect/token&#39; \\\r\n        --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n        --data-urlencode &#39;client_id=XXXXX&#39; \\\r\n        --data-urlencode &#39;client_secret=XXXXX&#39; \\\r\n        --data-urlencode &#39;scope=email&#39; \\\r\n        --data-urlencode &#39;grant_type=client_credentials&#39;\r\n\r\nReplace XXX with your values. Spring would need to make the same call but with a keycloak host.\r\n","title":"Cannot make Keycloak work inside docker-compose with Spring Boot application","body":"<p>I see that you specified client_credentials. This means there is no browser involved which makes it simpler to troubleshoot. Please try from the command line to make sure that your Keycloak config supports this grant type:</p>\n<pre><code>   curl -L -X POST 'http://localhost:8080/auth/realms/XXXXXXX/protocol/openid-connect/token' \\\n    --header 'Content-Type: application/x-www-form-urlencoded' \\\n    --data-urlencode 'client_id=XXXXX' \\\n    --data-urlencode 'client_secret=XXXXX' \\\n    --data-urlencode 'scope=email' \\\n    --data-urlencode 'grant_type=client_credentials'\n</code></pre>\n<p>Replace XXX with your values. Spring would need to make the same call but with a keycloak host.</p>\n"},{"tags":[],"owner":{"account_id":7637322,"reputation":4139,"user_id":5790498,"display_name":"Abhijeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650945035,"creation_date":1650945035,"answer_id":72008154,"question_id":71974489,"body_markdown":"According to your dependencies, you are using keycloak 17.0.1. For `17.0.1` version, `keycloak.auth-server-url` should be `http://keycloak:8080`. Try changing it. It should solve your issue.\r\n\r\nAlso, why are using `13.0.1` for keycloak-adapter-bom? It should be consistent with all other depedencies.","title":"Cannot make Keycloak work inside docker-compose with Spring Boot application","body":"<p>According to your dependencies, you are using keycloak 17.0.1. For <code>17.0.1</code> version, <code>keycloak.auth-server-url</code> should be <code>http://keycloak:8080</code>. Try changing it. It should solve your issue.</p>\n<p>Also, why are using <code>13.0.1</code> for keycloak-adapter-bom? It should be consistent with all other depedencies.</p>\n"},{"tags":[],"owner":{"account_id":14650812,"reputation":264,"user_id":10580886,"display_name":"mflorczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665923547,"creation_date":1665923547,"answer_id":74087136,"question_id":71974489,"body_markdown":"Problem is that Spring boot app coudn&#39;t find keycloak service by provided hostname, because you didn&#39;t define it properly. So docker generated own custom hostname. If you will define hostname in correct way everything will be work perfect. You have to define hostname for your keycloak instance and provide this hostname to application.properties. Your code should look like this: \r\n\r\n    ...\r\n        keycloak:\r\n            image:  quay.io/keycloak/keycloak:legacy\r\n            hostname: keycloak\r\n    ...\r\n\r\nIn your application.properties you already used hostname `keycloak` so I belive it should work for you. \r\n\r\napplication.properties for keycloak &gt; 18 version\r\n\r\n    keycloak.auth-server-url=http://keycloak:8080\r\n\r\nsub path `/auth` is not more mandatory","title":"Cannot make Keycloak work inside docker-compose with Spring Boot application","body":"<p>Problem is that Spring boot app coudn't find keycloak service by provided hostname, because you didn't define it properly. So docker generated own custom hostname. If you will define hostname in correct way everything will be work perfect. You have to define hostname for your keycloak instance and provide this hostname to application.properties. Your code should look like this:</p>\n<pre><code>...\n    keycloak:\n        image:  quay.io/keycloak/keycloak:legacy\n        hostname: keycloak\n...\n</code></pre>\n<p>In your application.properties you already used hostname <code>keycloak</code> so I belive it should work for you.</p>\n<p>application.properties for keycloak &gt; 18 version</p>\n<pre><code>keycloak.auth-server-url=http://keycloak:8080\n</code></pre>\n<p>sub path <code>/auth</code> is not more mandatory</p>\n"}],"owner":{"account_id":15901899,"reputation":15,"user_id":11474049,"display_name":"Artcann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665923547,"creation_date":1650660591,"question_id":71974489,"body_markdown":"I&#39;m trying to use Keycloak as an authentication server for my Spring Boot application. It&#39;s working just fine when I lauch keycloak in a standalone docker and just run my application locally, but now I&#39;m trying to make everything work inside a docker-compose.\r\n\r\nWhen I&#39;m running my docker-compose I end up with the following error when trying to call my API :\r\n```\r\no.keycloak.adapters.KeycloakDeployment   : Failed to load URLs from http://localhost:8080/realms/ishelp/.well-known/openid-configuration\r\n```\r\n\r\nishelp is the name of my realm, I can access my keycloak interface on http://localhost:8080.\r\nI believe the error comes from the lack of between localhost and realms on the url Spring is trying to reach. I have a 404 on http://localhost:8080/realms/ishelp/.well-known/openid-configuration but I can reach http://localhost:8080/auth/realms/ishelp/.well-known/openid-configuration.\r\n\r\nI added **127.0.0.1 keycloak** to my *host* file and I have the following configurations files :\r\n\r\ndocker-compose.yml\r\n```\r\nversion: &quot;3&quot;\r\nservices:\r\n  postgres-db:\r\n    image: postgres:latest\r\n    ports:\r\n      - &#39;5432:5432&#39;\r\n    restart: always\r\n    env_file:\r\n      - .env\r\n    container_name: postgres-db\r\n    volumes:\r\n      - pgdata:/var/lib/postgresql/data\r\n    networks:\r\n      - web\r\n\r\n  postgres-keycloak:\r\n    image: postgres:latest\r\n    container_name: postgres-keycloak\r\n    volumes:\r\n      - pgdata-keycloak:/var/lib/postgresql/data\r\n    environment:\r\n      POSTGRES_DB: keycloak\r\n      POSTGRES_USER: keycloak\r\n      POSTGRES_PASSWORD: password\r\n    networks:\r\n      - web\r\n\r\n  user-service:\r\n    build: .\r\n    ports:\r\n      - &quot;3000:3000&quot;\r\n    container_name: user-service\r\n    depends_on:\r\n      - postgres-db\r\n    networks:\r\n      - web\r\n\r\n  keycloak:\r\n    image:  quay.io/keycloak/keycloak:legacy\r\n    container_name: keycloak\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres-keycloak\r\n      DB_DATABASE: keycloak\r\n      DB_USER: keycloak\r\n      DB_SCHEMA: public\r\n      DB_PASSWORD: password\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n    networks:\r\n      - web\r\n\r\nvolumes:\r\n  pgdata:\r\n  pgdata-keycloak:\r\n\r\nnetworks:\r\n  web:\r\n```\r\n\r\napplication.properties :\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres-db:5432/ishelp\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\nkeycloak.auth-server-url=http://keycloak:8080/auth\r\nkeycloak.realm=ishelp\r\nkeycloak.resource=user-service\r\nkeycloak.credentials.secret={{my_secret}}\r\nkeycloak.principal-attribute=preferred_username\r\nkeycloak.ssl-required=external\r\n\r\nserver.port=3000\r\n```\r\n\r\nKeycloakConfig.java\r\n```\r\n@Configuration\r\npublic class KeycloakConfig {\r\n\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    private String SERVER_URL;\r\n\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    private String REALM;\r\n\r\n    @Value(&quot;${keycloak.resource}&quot;)\r\n    private String CLIENT_ID;\r\n\r\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\r\n    private String CLIENT_SECRET;\r\n    \r\n    @Bean\r\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n        return new KeycloakSpringBootConfigResolver();\r\n    }\r\n\r\n    @Bean\r\n    public Keycloak keycloak() {\r\n        return KeycloakBuilder.builder()\r\n                .serverUrl(SERVER_URL)\r\n                .grantType(&quot;client_credentials&quot;)\r\n                .realm(REALM)\r\n                .clientId(CLIENT_ID)\r\n                .clientSecret(CLIENT_SECRET)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nAnd finally KeycloakWebSecurityConfigurer.java :\r\n```\r\n@KeycloakConfiguration\r\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\r\npublic class KeycloakWebSecurityConfigurer extends KeycloakWebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n                .anyRequest()\r\n                .permitAll();\r\n        http.csrf().disable();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\r\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\r\n\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks for you help !\r\n\r\nEdit 1: As requested, here&#39;s my POM.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fr.isep&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;user-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;user-service&lt;/name&gt;\r\n\t&lt;description&gt;Authentication server for the project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;17.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;17.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper.extensions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;13.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEdit 2: The logs of the error. I believe Spring should try to load http://localhost:8080/auth/realms/ishelp/.well-known/openid-configuration but I can&#39;t make it happen.\r\n\r\n```\r\nuser-service         | 2022-04-25 12:46:22.105  INFO 1 --- [nio-3000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\nuser-service         | 2022-04-25 12:46:22.105  INFO 1 --- [nio-3000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\nuser-service         | 2022-04-25 12:46:22.109  INFO 1 --- [nio-3000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms\r\nuser-service         | 2022-04-25 12:46:22.226  WARN 1 --- [nio-3000-exec-2] o.keycloak.adapters.KeycloakDeployment   : Failed to load URLs from http://localhost:8080/realms/ishelp/.well-known/openid-configuration\r\nuser-service         |\r\nuser-service         | java.net.ConnectException: Connection refused\r\nuser-service         |  at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\nuser-service         |  at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\nuser-service         |  at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\r\nuser-service         |  at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\r\nuser-service         |  at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\nuser-service         |  at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\nuser-service         |  at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.getRealmInfoUrl(KeycloakDeployment.java:246) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:107) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticateToken(BearerTokenRequestAuthenticator.java:103) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticate(BearerTokenRequestAuthenticator.java:88) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:67) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.attemptAuthentication(KeycloakAuthenticationProcessingFilter.java:154) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\r\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:96) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:67) ~[spring-boot-container-bundle-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181) ~[spring-boot-container-bundle-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nEDIT 3 : Adding more logs, I think it could be useful but I can&#39;t get how and why\r\n\r\n```\r\nuser-service         | java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\r\nuser-service         |  at java.base/java.net.URI$Parser.parse(URI.java:3165) ~[na:na]\r\nuser-service         |  at java.base/java.net.URI.&lt;init&gt;(URI.java:623) ~[na:na]\r\nuser-service         |  at java.base/java.net.URI.create(URI.java:904) ~[na:na]\r\nuser-service         |  at org.apache.http.client.methods.HttpGet.&lt;init&gt;(HttpGet.java:66) ~[httpclient-4.5.13.jar!/:4.5.13]\r\nuser-service         |  at org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:97) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticateToken(BearerTokenRequestAuthenticator.java:103) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticate(BearerTokenRequestAuthenticator.java:88) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:67) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\r\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.attemptAuthentication(KeycloakAuthenticationProcessingFilter.java:154) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\r\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:96) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar!/:5.6.1]\r\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar!/:5.3.15]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\r\nuser-service         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar!/:5.3.15]\r\n```","title":"Cannot make Keycloak work inside docker-compose with Spring Boot application","body":"<p>I'm trying to use Keycloak as an authentication server for my Spring Boot application. It's working just fine when I lauch keycloak in a standalone docker and just run my application locally, but now I'm trying to make everything work inside a docker-compose.</p>\n<p>When I'm running my docker-compose I end up with the following error when trying to call my API :</p>\n<pre><code>o.keycloak.adapters.KeycloakDeployment   : Failed to load URLs from http://localhost:8080/realms/ishelp/.well-known/openid-configuration\n</code></pre>\n<p>ishelp is the name of my realm, I can access my keycloak interface on http://localhost:8080.\nI believe the error comes from the lack of between localhost and realms on the url Spring is trying to reach. I have a 404 on http://localhost:8080/realms/ishelp/.well-known/openid-configuration but I can reach http://localhost:8080/auth/realms/ishelp/.well-known/openid-configuration.</p>\n<p>I added <strong>127.0.0.1 keycloak</strong> to my <em>host</em> file and I have the following configurations files :</p>\n<p>docker-compose.yml</p>\n<pre><code>version: &quot;3&quot;\nservices:\n  postgres-db:\n    image: postgres:latest\n    ports:\n      - '5432:5432'\n    restart: always\n    env_file:\n      - .env\n    container_name: postgres-db\n    volumes:\n      - pgdata:/var/lib/postgresql/data\n    networks:\n      - web\n\n  postgres-keycloak:\n    image: postgres:latest\n    container_name: postgres-keycloak\n    volumes:\n      - pgdata-keycloak:/var/lib/postgresql/data\n    environment:\n      POSTGRES_DB: keycloak\n      POSTGRES_USER: keycloak\n      POSTGRES_PASSWORD: password\n    networks:\n      - web\n\n  user-service:\n    build: .\n    ports:\n      - &quot;3000:3000&quot;\n    container_name: user-service\n    depends_on:\n      - postgres-db\n    networks:\n      - web\n\n  keycloak:\n    image:  quay.io/keycloak/keycloak:legacy\n    container_name: keycloak\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres-keycloak\n      DB_DATABASE: keycloak\n      DB_USER: keycloak\n      DB_SCHEMA: public\n      DB_PASSWORD: password\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n    networks:\n      - web\n\nvolumes:\n  pgdata:\n  pgdata-keycloak:\n\nnetworks:\n  web:\n</code></pre>\n<p>application.properties :</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres-db:5432/ishelp\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\nkeycloak.auth-server-url=http://keycloak:8080/auth\nkeycloak.realm=ishelp\nkeycloak.resource=user-service\nkeycloak.credentials.secret={{my_secret}}\nkeycloak.principal-attribute=preferred_username\nkeycloak.ssl-required=external\n\nserver.port=3000\n</code></pre>\n<p>KeycloakConfig.java</p>\n<pre><code>@Configuration\npublic class KeycloakConfig {\n\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    private String SERVER_URL;\n\n    @Value(&quot;${keycloak.realm}&quot;)\n    private String REALM;\n\n    @Value(&quot;${keycloak.resource}&quot;)\n    private String CLIENT_ID;\n\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\n    private String CLIENT_SECRET;\n    \n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    @Bean\n    public Keycloak keycloak() {\n        return KeycloakBuilder.builder()\n                .serverUrl(SERVER_URL)\n                .grantType(&quot;client_credentials&quot;)\n                .realm(REALM)\n                .clientId(CLIENT_ID)\n                .clientSecret(CLIENT_SECRET)\n                .build();\n    }\n}\n</code></pre>\n<p>And finally KeycloakWebSecurityConfigurer.java :</p>\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\npublic class KeycloakWebSecurityConfigurer extends KeycloakWebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.authorizeRequests()\n                .anyRequest()\n                .permitAll();\n        http.csrf().disable();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\n\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n}\n</code></pre>\n<p>Thanks for you help !</p>\n<p>Edit 1: As requested, here's my POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fr.isep&lt;/groupId&gt;\n    &lt;artifactId&gt;user-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;user-service&lt;/name&gt;\n    &lt;description&gt;Authentication server for the project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper-spring&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;13.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Edit 2: The logs of the error. I believe Spring should try to load http://localhost:8080/auth/realms/ishelp/.well-known/openid-configuration but I can't make it happen.</p>\n<pre><code>user-service         | 2022-04-25 12:46:22.105  INFO 1 --- [nio-3000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\nuser-service         | 2022-04-25 12:46:22.105  INFO 1 --- [nio-3000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\nuser-service         | 2022-04-25 12:46:22.109  INFO 1 --- [nio-3000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms\nuser-service         | 2022-04-25 12:46:22.226  WARN 1 --- [nio-3000-exec-2] o.keycloak.adapters.KeycloakDeployment   : Failed to load URLs from http://localhost:8080/realms/ishelp/.well-known/openid-configuration\nuser-service         |\nuser-service         | java.net.ConnectException: Connection refused\nuser-service         |  at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\nuser-service         |  at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\nuser-service         |  at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]\nuser-service         |  at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\nuser-service         |  at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\nuser-service         |  at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\nuser-service         |  at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.KeycloakDeployment.getRealmInfoUrl(KeycloakDeployment.java:246) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:107) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticateToken(BearerTokenRequestAuthenticator.java:103) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticate(BearerTokenRequestAuthenticator.java:88) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:67) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.attemptAuthentication(KeycloakAuthenticationProcessingFilter.java:154) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:96) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:67) ~[spring-boot-container-bundle-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181) ~[spring-boot-container-bundle-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>EDIT 3 : Adding more logs, I think it could be useful but I can't get how and why</p>\n<pre><code>user-service         | java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\nuser-service         |  at java.base/java.net.URI$Parser.parse(URI.java:3165) ~[na:na]\nuser-service         |  at java.base/java.net.URI.&lt;init&gt;(URI.java:623) ~[na:na]\nuser-service         |  at java.base/java.net.URI.create(URI.java:904) ~[na:na]\nuser-service         |  at org.apache.http.client.methods.HttpGet.&lt;init&gt;(HttpGet.java:66) ~[httpclient-4.5.13.jar!/:4.5.13]\nuser-service         |  at org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:97) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticateToken(BearerTokenRequestAuthenticator.java:103) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.BearerTokenRequestAuthenticator.authenticate(BearerTokenRequestAuthenticator.java:88) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.RequestAuthenticator.authenticate(RequestAuthenticator.java:67) ~[keycloak-adapter-core-13.0.1.jar!/:13.0.1]\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.attemptAuthentication(KeycloakAuthenticationProcessingFilter.java:154) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:96) ~[keycloak-spring-security-adapter-17.0.1.jar!/:17.0.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar!/:5.6.1]\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar!/:5.3.15]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar!/:na]\nuser-service         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar!/:5.3.15]\n</code></pre>\n"},{"tags":["java","udp","desktop-sharing"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1269012929,"post_id":2478422,"comment_id":2469895,"body_markdown":"Don&#39;t d&#243; this in java. The operating system integration is not suited for this.","body":"Don&#39;t d&#243; this in java. The operating system integration is not suited for this."},{"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1269013173,"post_id":2478422,"comment_id":2469926,"body_markdown":"I have portability in mind, but Windows over Linux. Should i try to look into C++ or C# instead ?","body":"I have portability in mind, but Windows over Linux. Should i try to look into C++ or C# instead ?"},{"owner":{"account_id":13389,"reputation":8289,"user_id":26853,"accept_rate":100,"display_name":"Mat Nadrofsky"},"score":0,"creation_date":1269013345,"post_id":2478422,"comment_id":2469950,"body_markdown":"One of the reasons I mention Ultra VNC is that you&#39;ve got a ton of C++ in the Ultra VNC project to check out as well.","body":"One of the reasons I mention Ultra VNC is that you&#39;ve got a ton of C++ in the Ultra VNC project to check out as well."}],"answers":[{"tags":[],"owner":{"account_id":13389,"reputation":8289,"user_id":26853,"accept_rate":100,"display_name":"Mat Nadrofsky"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1269012377,"creation_date":1269012377,"answer_id":2478460,"question_id":2478422,"body_markdown":"Have a good long look at the [Ultra VNC project][1] on SourceForge. Great place to start.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/ultravnc/develop","title":"How do I write my own desktop sharing application in java?","body":"<p>Have a good long look at the <a href=\"http://sourceforge.net/projects/ultravnc/develop\" rel=\"noreferrer\">Ultra VNC project</a> on SourceForge. Great place to start.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665923491,"creation_date":1665923491,"answer_id":74087128,"question_id":2478422,"body_markdown":"In pure Java you cannot access structured information on system windows, nor monitor all relevant system events, so the performance of the display synchronization will not be optimal. Also there are privileged windows, which do not accept mouse or key events from Robot. Remote video streaming is not an option!\r\n\r\nWith named restrictions your attempt with the &lt;code&gt;Robot&lt;/code&gt; class is valid.\r\n&lt;code&gt;Robot.createScreenCapture(Rectangle)&lt;/code&gt; will put a Desktop section into a &lt;code&gt;BufferedImage&lt;/code&gt;, which you can send to the client window.\r\nOn client side you can capture keyboard and mouse events and send them to a Robot object on the server side.\r\n\r\nWithout knowing the actual extent of system windows, it will makes sense to work on a grid of Desktop tiles:\r\n- captured BufferedImage-s of tiles may fit into the buffer of the transfer protocol.\r\n- capturing period may locally be optimized for tiles with high entropy (-&gt; Capturing Strategy).\r\n\r\nFurther traffic minimization\r\n- Consider differences of subsequent Desktop contents, only\r\n- Compression of tiles by PNG or a PCX-like method\r\n\r\nFor sharing over internet, Peer-to-Peer connection may be established by \r\n - a public proxy server\r\n - UDP hole punching with, for connection establishing, a necessarily public mediator server\r\n\r\nIn any case the protocol needs to be secured and delivery asserted.\r\n\r\n\r\n","title":"How do I write my own desktop sharing application in java?","body":"<p>In pure Java you cannot access structured information on system windows, nor monitor all relevant system events, so the performance of the display synchronization will not be optimal. Also there are privileged windows, which do not accept mouse or key events from Robot. Remote video streaming is not an option!</p>\n<p>With named restrictions your attempt with the <code>Robot</code> class is valid.\n<code>Robot.createScreenCapture(Rectangle)</code> will put a Desktop section into a <code>BufferedImage</code>, which you can send to the client window.\nOn client side you can capture keyboard and mouse events and send them to a Robot object on the server side.</p>\n<p>Without knowing the actual extent of system windows, it will makes sense to work on a grid of Desktop tiles:</p>\n<ul>\n<li>captured BufferedImage-s of tiles may fit into the buffer of the transfer protocol.</li>\n<li>capturing period may locally be optimized for tiles with high entropy (-&gt; Capturing Strategy).</li>\n</ul>\n<p>Further traffic minimization</p>\n<ul>\n<li>Consider differences of subsequent Desktop contents, only</li>\n<li>Compression of tiles by PNG or a PCX-like method</li>\n</ul>\n<p>For sharing over internet, Peer-to-Peer connection may be established by</p>\n<ul>\n<li>a public proxy server</li>\n<li>UDP hole punching with, for connection establishing, a necessarily public mediator server</li>\n</ul>\n<p>In any case the protocol needs to be secured and delivery asserted.</p>\n"}],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2478460,"answer_count":2,"score":5,"last_activity_date":1665923491,"creation_date":1269011996,"question_id":2478422,"body_markdown":"Hello I want write my own desktop sharing application in Java. \r\n\r\nThe application should have some very default features:\r\n\r\n - Capture screen;\r\n\r\n - Allow a remote connected user to click / edit fields.\r\n\r\nI was thinking to use [Java Robot][1] class for mouse movements / key pressing.\r\nThe problem is i don&#39;t know what screen capture strategy to use.\r\n\r\nShould I make sequentially screen captures (on the hosting computer) every second, and send those captures with UDP via network, so that the clients can intercept the data-grams ? Isn&#39;t this a little overkill for the network ?\r\n\r\nWhat other strategies are available ? (Except trying an already existing app).\r\n\r\nPS: If necessary I can even write native code using JNI (still that&#39;s the last thing I planning to do).\r\n\r\nLater edit:\r\nAfter some investigation I&#39;ve come to the conclusion of @Thorbj&#248;rn Ravn Andersen . Java is probably not the best choice for this kind of application. I can try to use JNI, but that code will cover 75%+ of my project. \r\n\r\nI will try to find other alternatives.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Robot.html","title":"How do I write my own desktop sharing application in java?","body":"<p>Hello I want write my own desktop sharing application in Java. </p>\n\n<p>The application should have some very default features:</p>\n\n<ul>\n<li><p>Capture screen;</p></li>\n<li><p>Allow a remote connected user to click / edit fields.</p></li>\n</ul>\n\n<p>I was thinking to use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Java Robot</a> class for mouse movements / key pressing.\nThe problem is i don't know what screen capture strategy to use.</p>\n\n<p>Should I make sequentially screen captures (on the hosting computer) every second, and send those captures with UDP via network, so that the clients can intercept the data-grams ? Isn't this a little overkill for the network ?</p>\n\n<p>What other strategies are available ? (Except trying an already existing app).</p>\n\n<p>PS: If necessary I can even write native code using JNI (still that's the last thing I planning to do).</p>\n\n<p>Later edit:\nAfter some investigation I've come to the conclusion of @Thorbjrn Ravn Andersen . Java is probably not the best choice for this kind of application. I can try to use JNI, but that code will cover 75%+ of my project. </p>\n\n<p>I will try to find other alternatives.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"score":0,"creation_date":1665924781,"post_id":74087126,"comment_id":130808306,"body_markdown":"When I use maven-dependency-tree 2.0+, I can use org.apache.maven.shared.dependency.tree.DependencyNode to get PremanagedVersion. But Maven 3.0+ APIs seem to abandon this class and only reserve org.apache.maven.shared.dependency.graph.DependencyNode. So the question can also be stated as &quot;How can I get a dependencyNode&#39;s premanagedVersion with the class &quot;org.apache.maven.shared.dependency.graph.DependencyNode&quot;?","body":"When I use maven-dependency-tree 2.0+, I can use org.apache.maven.shared.dependency.tree.DependencyNode to get PremanagedVersion. But Maven 3.0+ APIs seem to abandon this class and only reserve org.apache.maven.shared.dependency.graph.DependencyNode. So the question can also be stated as &quot;How can I get a dependencyNode&#39;s premanagedVersion with the class &quot;org.apache.maven.shared.dependency.graph.DependencyNode&quot;?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1665998167,"post_id":74087126,"comment_id":130822277,"body_markdown":"Can you explain why you need that?","body":"Can you explain why you need that?"},{"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"score":0,"creation_date":1666005340,"post_id":74087126,"comment_id":130824772,"body_markdown":"For some research purposes. I just need that for some dependency tree structure&#39;s analysis.","body":"For some research purposes. I just need that for some dependency tree structure&#39;s analysis."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666007275,"post_id":74087126,"comment_id":130825492,"body_markdown":"What about looking into maven dependency plugin https://maven.apache.org/plugins/maven-dependency-plugin/ (https://github.com/apache/maven-dependency-plugin/)","body":"What about looking into maven dependency plugin <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin</a> (<a href=\"https://github.com/apache/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">github.com/apache/maven-dependency-plugin</a>)"}],"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665923470,"creation_date":1665923470,"question_id":74087126,"body_markdown":"I have a pom-packaging project called &quot;testMultiManage&quot;. The following content is in its pom.xml:\r\n```xml\r\n...\r\n    &lt;modules&gt;\r\n        &lt;module&gt;sub1&lt;/module&gt;\r\n        &lt;module&gt;sub1/subsub1&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;groupC&lt;/groupId&gt;\r\n                &lt;artifactId&gt;C&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n...\r\n```\r\nIn its sub project &quot;sub1&quot;, the content in the pom.xml is\r\n```xml\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;groupB&lt;/groupId&gt;\r\n            &lt;artifactId&gt;B&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nAnd what in B-1.0.pom is\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;groupC&lt;/groupId&gt;\r\n        &lt;artifactId&gt;C&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n...\r\n&lt;dependencies&gt;\r\n```\r\n\r\nSo, according to maven&#39;s management control rules, &quot;sub1&quot; will depend on B-1.0, and then transitively depend on C-2.0.\r\n\r\nWhen I use the following code to get the DependencyGraph with Maven 3.0+ API\r\n```java\r\nDefaultProjectBuildingRequest defaultProjectBuildingRequest = new DefaultProjectBuildingRequest();\r\ndefaultProjectBuildingRequest.setRepositorySession(getVerboseRepositorySession(project));\r\ndefaultProjectBuildingRequest.setProject(project);\r\ndefaultProjectBuildingRequest.setRemoteRepositories(remoteRepositories);\r\ndefaultProjectBuildingRequest.setResolveDependencies(true);\r\norg.apache.maven.shared.dependency.graph.DependencyNode dependencyNode = dependencyGraphBuilder.buildDependencyGraph(defaultProjectBuildingRequest, null);\r\n```\r\n\r\n, I get the dependency relationships correctly for project &quot;sub1&quot;. However, **the premanagedVersion of &quot;C-2.0&quot; is null**. \r\n\r\n[![what is shown in debugger][2]][2]\r\nSo how can I use Maven 3.0+ API to get a dependency node&#39;s premanagedVersion? Thanks a lot!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ptViQ.png\r\n  [2]: https://i.stack.imgur.com/5Woqr.png","title":"How can I get a dependencyNode&#39;s premanagedVersion in Maven 3.0+ API?","body":"<p>I have a pom-packaging project called &quot;testMultiManage&quot;. The following content is in its pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;modules&gt;\n        &lt;module&gt;sub1&lt;/module&gt;\n        &lt;module&gt;sub1/subsub1&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;groupC&lt;/groupId&gt;\n                &lt;artifactId&gt;C&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n...\n</code></pre>\n<p>In its sub project &quot;sub1&quot;, the content in the pom.xml is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;groupB&lt;/groupId&gt;\n            &lt;artifactId&gt;B&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And what in B-1.0.pom is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;groupC&lt;/groupId&gt;\n        &lt;artifactId&gt;C&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n...\n&lt;dependencies&gt;\n</code></pre>\n<p>So, according to maven's management control rules, &quot;sub1&quot; will depend on B-1.0, and then transitively depend on C-2.0.</p>\n<p>When I use the following code to get the DependencyGraph with Maven 3.0+ API</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultProjectBuildingRequest defaultProjectBuildingRequest = new DefaultProjectBuildingRequest();\ndefaultProjectBuildingRequest.setRepositorySession(getVerboseRepositorySession(project));\ndefaultProjectBuildingRequest.setProject(project);\ndefaultProjectBuildingRequest.setRemoteRepositories(remoteRepositories);\ndefaultProjectBuildingRequest.setResolveDependencies(true);\norg.apache.maven.shared.dependency.graph.DependencyNode dependencyNode = dependencyGraphBuilder.buildDependencyGraph(defaultProjectBuildingRequest, null);\n</code></pre>\n<p>, I get the dependency relationships correctly for project &quot;sub1&quot;. However, <strong>the premanagedVersion of &quot;C-2.0&quot; is null</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/5Woqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Woqr.png\" alt=\"what is shown in debugger\" /></a>\nSo how can I use Maven 3.0+ API to get a dependency node's premanagedVersion? Thanks a lot!</p>\n"},{"tags":["java","android","android-studio","android-loadermanager","android-loader"],"answers":[{"tags":[],"owner":{"account_id":6467782,"reputation":680,"user_id":5009024,"display_name":"lyncx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621821139,"creation_date":1621821139,"answer_id":67665858,"question_id":67665749,"body_markdown":"`getLoaderManager` has been depreciated, use `getSupportLoaderManager` instead like this:\r\n\r\n    getSupportLoaderManager().initLoader(0, null, this); \r\n\r\nHowever if you still want to use this, it is due to an incorrect import. Import loader call back and it should fix the issue\r\n\r\n    android.app.LoaderCallbacks","title":"getLoaderManager().initLoader error in this callback","body":"<p><code>getLoaderManager</code> has been depreciated, use <code>getSupportLoaderManager</code> instead like this:</p>\n<pre><code>getSupportLoaderManager().initLoader(0, null, this); \n</code></pre>\n<p>However if you still want to use this, it is due to an incorrect import. Import loader call back and it should fix the issue</p>\n<pre><code>android.app.LoaderCallbacks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22079906,"reputation":1,"user_id":16339629,"display_name":"Gautam Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665922798,"creation_date":1665922746,"answer_id":74087044,"question_id":67665749,"body_markdown":"I also face the same problem but it can solve by using\r\nMainActivity.this insted of simple this.","title":"getLoaderManager().initLoader error in this callback","body":"<p>I also face the same problem but it can solve by using\nMainActivity.this insted of simple this.</p>\n"}],"owner":{"account_id":20659786,"reputation":39,"user_id":15168003,"display_name":"user15168003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67665858,"answer_count":2,"score":1,"last_activity_date":1665922798,"creation_date":1621819862,"question_id":67665749,"body_markdown":"it&#39;s the first time I&#39;m using Loader. After calling the method \r\n\r\n`getLoaderManager().initLoader(0, null, this);` I&#39;m getting an error in the argument &quot;this&quot;. \r\n\r\nError after compiling:\r\n\r\n&gt; error: method initLoader in class LoaderManager cannot be applied to given types;\r\n            getLoaderManager().initLoader(0, null, this);\r\n                              ^\r\n  required: int,Bundle,LoaderCallbacks&lt;D&gt;\r\n  found: int,&lt;null&gt;,MainActivity\r\n  reason: cannot infer type-variable(s) D\r\n    (argument mismatch; MainActivity cannot be converted to LoaderCallbacks&lt;D&gt;)\r\n  where D is a type-variable:\r\n    D extends Object declared in method &lt;D&gt;initLoader(int,Bundle,LoaderCallbacks&lt;D&gt;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jlAWd.png\r\n\r\nMy code:\r\n\r\n    package com.example.newsapp;\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.loader.app.LoaderManager;\r\n    import androidx.loader.content.Loader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;List&lt;News&gt;&gt; {\r\n\r\n    private static final String URL = &quot;http://content.guardianapis.com/search&quot;;\r\n    private NewsAdapter newsAdapter;\r\n    private TextView emptyListStateTextView;\r\n    private Intent intent;\r\n    ListView newsListView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.e(&quot;MainActivity&quot;, &quot;RUN onCreate...&quot;);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        newsListView = findViewById(R.id.listView);\r\n        emptyListStateTextView = findViewById(R.id.defautView);\r\n        newsListView.setEmptyView(emptyListStateTextView);\r\n\r\n        newsAdapter = new NewsAdapter(this, new ArrayList&lt;News&gt;());\r\n        newsListView.setAdapter(newsAdapter);\r\n\r\n        newsListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                News currentNews = newsAdapter.getItem(position);\r\n\r\n                Uri uri = Uri.parse(currentNews.getUrl());\r\n\r\n                intent= new Intent(Intent.ACTION_VIEW, uri);\r\n\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        ConnectivityManager connMgr = (ConnectivityManager)\r\n                getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();\r\n\r\n        if (networkInfo == null) {\r\n            View loadingIndicator = findViewById(R.id.loading_bar);\r\n            loadingIndicator.setVisibility(View.GONE);\r\n\r\n            emptyListStateTextView.setText(&quot;No internet connection&quot;);\r\n        }else{\r\n\r\n            getLoaderManager().initLoader(0, null, this);\r\n        }\r\n        Log.e(&quot;MainActivity&quot;, &quot;DONE onCreate...&quot;);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Loader&lt;List&lt;News&gt;&gt; onCreateLoader(int i, Bundle args) {\r\n        Log.e(&quot;MainActivity&quot;, &quot;RUN onCreateLoader...&quot;);\r\n\r\n        //TEST\r\n        Uri baseUri = Uri.parse(URL);\r\n        Uri.Builder uriBuilder = baseUri.buildUpon();\r\n\r\n        uriBuilder.appendQueryParameter(&quot;show-tags&quot;, &quot;contributor&quot;);\r\n        uriBuilder.appendQueryParameter(&quot;section&quot;, &quot;technology&quot;);\r\n        uriBuilder.appendQueryParameter(&quot;order-by&quot;, &quot;newest&quot;);\r\n        uriBuilder.appendQueryParameter(&quot;from-date&quot;, &quot;2018-01-01&quot;);\r\n        uriBuilder.appendQueryParameter(&quot;api-key&quot;, &quot;test&quot;);\r\n\r\n        Log.v(&quot;my_tag&quot;, &quot;url created is: &quot;+uriBuilder.toString());\r\n        //TEST\r\n        Log.e(&quot;MainActivity&quot;, &quot;DONE onCreateLoader...&quot;);\r\n        return new NewsLoader(this, uriBuilder.toString());\r\n    }\r\n\r\n    @Override\r\n    public void onLoadFinished(@NonNull Loader&lt;List&lt;News&gt;&gt; loader, List&lt;News&gt; data) {\r\n        Log.e(&quot;MainActivity&quot;, &quot;RUN onLoadFinished...&quot;);\r\n        View loadingBar = findViewById(R.id.loading_bar);\r\n        loadingBar.setVisibility(View.GONE);\r\n\r\n        newsAdapter.clear();\r\n\r\n        if(data != null &amp;&amp; !data.isEmpty()){\r\n            newsAdapter.addAll(data);\r\n        }\r\n        Log.e(&quot;MainActivity&quot;, &quot;DONE onLoadFinished...&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onLoaderReset(@NonNull Loader&lt;List&lt;News&gt;&gt; loader) {\r\n        Log.e(&quot;MainActivity&quot;, &quot;RUN onLoaderReset...&quot;);\r\n        newsAdapter.clear();\r\n        Log.e(&quot;MainActivity&quot;, &quot;DONE onLoaderReset...&quot;);\r\n       }\r\n    }\r\n\r\nI personally believe, that the problem must be somewhere at the imports. Even though I will really appreciate any kind of help. \r\n\r\nThank you!","title":"getLoaderManager().initLoader error in this callback","body":"<p>it's the first time I'm using Loader. After calling the method</p>\n<p><code>getLoaderManager().initLoader(0, null, this);</code> I'm getting an error in the argument &quot;this&quot;.</p>\n<p>Error after compiling:</p>\n<blockquote>\n<p>error: method initLoader in class LoaderManager cannot be applied to given types;\ngetLoaderManager().initLoader(0, null, this);\n^\nrequired: int,Bundle,LoaderCallbacks\nfound: int,,MainActivity\nreason: cannot infer type-variable(s) D\n(argument mismatch; MainActivity cannot be converted to LoaderCallbacks)\nwhere D is a type-variable:\nD extends Object declared in method initLoader(int,Bundle,LoaderCallbacks)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/jlAWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlAWd.png\" alt=\"enter image description here\" /></a></p>\n<p>My code:</p>\n<pre><code>package com.example.newsapp;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.loader.app.LoaderManager;\nimport androidx.loader.content.Loader;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\n\npublic class MainActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;List&lt;News&gt;&gt; {\n\nprivate static final String URL = &quot;http://content.guardianapis.com/search&quot;;\nprivate NewsAdapter newsAdapter;\nprivate TextView emptyListStateTextView;\nprivate Intent intent;\nListView newsListView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    Log.e(&quot;MainActivity&quot;, &quot;RUN onCreate...&quot;);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    newsListView = findViewById(R.id.listView);\n    emptyListStateTextView = findViewById(R.id.defautView);\n    newsListView.setEmptyView(emptyListStateTextView);\n\n    newsAdapter = new NewsAdapter(this, new ArrayList&lt;News&gt;());\n    newsListView.setAdapter(newsAdapter);\n\n    newsListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            News currentNews = newsAdapter.getItem(position);\n\n            Uri uri = Uri.parse(currentNews.getUrl());\n\n            intent= new Intent(Intent.ACTION_VIEW, uri);\n\n            startActivity(intent);\n        }\n    });\n\n    ConnectivityManager connMgr = (ConnectivityManager)\n            getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();\n\n    if (networkInfo == null) {\n        View loadingIndicator = findViewById(R.id.loading_bar);\n        loadingIndicator.setVisibility(View.GONE);\n\n        emptyListStateTextView.setText(&quot;No internet connection&quot;);\n    }else{\n\n        getLoaderManager().initLoader(0, null, this);\n    }\n    Log.e(&quot;MainActivity&quot;, &quot;DONE onCreate...&quot;);\n}\n\n@NonNull\n@Override\npublic Loader&lt;List&lt;News&gt;&gt; onCreateLoader(int i, Bundle args) {\n    Log.e(&quot;MainActivity&quot;, &quot;RUN onCreateLoader...&quot;);\n\n    //TEST\n    Uri baseUri = Uri.parse(URL);\n    Uri.Builder uriBuilder = baseUri.buildUpon();\n\n    uriBuilder.appendQueryParameter(&quot;show-tags&quot;, &quot;contributor&quot;);\n    uriBuilder.appendQueryParameter(&quot;section&quot;, &quot;technology&quot;);\n    uriBuilder.appendQueryParameter(&quot;order-by&quot;, &quot;newest&quot;);\n    uriBuilder.appendQueryParameter(&quot;from-date&quot;, &quot;2018-01-01&quot;);\n    uriBuilder.appendQueryParameter(&quot;api-key&quot;, &quot;test&quot;);\n\n    Log.v(&quot;my_tag&quot;, &quot;url created is: &quot;+uriBuilder.toString());\n    //TEST\n    Log.e(&quot;MainActivity&quot;, &quot;DONE onCreateLoader...&quot;);\n    return new NewsLoader(this, uriBuilder.toString());\n}\n\n@Override\npublic void onLoadFinished(@NonNull Loader&lt;List&lt;News&gt;&gt; loader, List&lt;News&gt; data) {\n    Log.e(&quot;MainActivity&quot;, &quot;RUN onLoadFinished...&quot;);\n    View loadingBar = findViewById(R.id.loading_bar);\n    loadingBar.setVisibility(View.GONE);\n\n    newsAdapter.clear();\n\n    if(data != null &amp;&amp; !data.isEmpty()){\n        newsAdapter.addAll(data);\n    }\n    Log.e(&quot;MainActivity&quot;, &quot;DONE onLoadFinished...&quot;);\n}\n\n@Override\npublic void onLoaderReset(@NonNull Loader&lt;List&lt;News&gt;&gt; loader) {\n    Log.e(&quot;MainActivity&quot;, &quot;RUN onLoaderReset...&quot;);\n    newsAdapter.clear();\n    Log.e(&quot;MainActivity&quot;, &quot;DONE onLoaderReset...&quot;);\n   }\n}\n</code></pre>\n<p>I personally believe, that the problem must be somewhere at the imports. Even though I will really appreciate any kind of help.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":1892898,"reputation":467,"user_id":1713366,"accept_rate":97,"display_name":"Jcorretjer"},"score":0,"creation_date":1665893922,"post_id":74083714,"comment_id":130803786,"body_markdown":"I suggest you learn to use Room(https://developer.android.com/training/data-storage/room/) as soon as possible. It&#39;s much easier than working with sqlite directly. 1st, plan out how everything is going to work. 2nd, build your database connections. 3rd, start adding crud operations. Create an operation, test with dummy data, and repeat until you&#39;ve got a stable flow. Lastly, replace dummy data with real data and you&#39;re done","body":"I suggest you learn to use Room(<a href=\"https://developer.android.com/training/data-storage/room/\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room</a>) as soon as possible. It&#39;s much easier than working with sqlite directly. 1st, plan out how everything is going to work. 2nd, build your database connections. 3rd, start adding crud operations. Create an operation, test with dummy data, and repeat until you&#39;ve got a stable flow. Lastly, replace dummy data with real data and you&#39;re done"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665922444,"creation_date":1665921759,"answer_id":74086942,"question_id":74083714,"body_markdown":"&gt; Any suggestions would be very helpful.\r\n\r\n***Perhaps consider the following.***\r\n\r\nFirst rather than have an asset (pre-packaged database) the demo creates the database and loads some data (for convenience). \r\n\r\nAs the schama isn&#39;t available this has been made up (this answer is about the principle as opposed to the actual data which is not available).\r\n\r\nThe table is called **pet** it has 5 columns:-\r\n- **_id** (the android standard for the id column that uniquely identifies a row)\r\n- **type** for the type of pet (dog, cat ....)\r\n- **breed** e.g. alsatian\r\n- **lifestage** newborn, old ....\r\n- **cost** \r\n\r\nSome data is loaded (in the onCreate method, ***Note** instead of **SQLiteAssetHelper** the stock **SQliteOpenHelper** has been used as there is no asset to load*)\r\n\r\nSo purely for convenience DBHelper is :-\r\n\r\n    public class DBHelper extends SQLiteOpenHelper /* changed for simulation of asset */ {\r\n    \r\n       public static final String DBNAME = &quot;PetAdoption.db&quot;;\r\n       public static final int DBVERSION = 1;\r\n    \r\n       private static String[] testdata1 = new String[]{&quot;Dog&quot;,&quot;Alsatian&quot;,&quot;old&quot;,&quot;100&quot;};\r\n       private static String[] testdata2 = new String[]{&quot;Dog&quot;,&quot;Golden Retriever&quot;,&quot;newborn&quot;,&quot;200&quot;};\r\n       private static String[] testdata3 = new String[]{&quot;Cat&quot;,&quot;Siamese&quot;,&quot;young&quot;,&quot;150&quot;};\r\n       private static String[] testdata4 = new String[]{&quot;Cat&quot;,&quot;Burmese&quot;,&quot;mature&quot;,&quot;110&quot;};\r\n       private static String[] testdata5 = new String[]{&quot;Cat&quot;,&quot;Persian&quot;,&quot;old&quot;,&quot;75&quot;};\r\n       private static String[] testdata6 = new String[]{&quot;Dog&quot;,&quot;Corgi&quot;,&quot;mature&quot;,&quot;300&quot;};\r\n    \r\n       public DBHelper(Context context) {\r\n          super(context,DBNAME,null,DBVERSION);\r\n       }\r\n    \r\n       /* ADDED to simulate getting data from asset */\r\n       @Override\r\n       public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n          sqLiteDatabase.execSQL(&quot;CREATE TABLE IF NOT EXISTS pet (&quot; +\r\n                  BaseColumns._ID + &quot; INTEGER PRIMARY KEY&quot; +\r\n                  &quot;,&quot; + &quot;type TEXT&quot; +\r\n                  &quot;,&quot; + &quot;breed TEXT&quot; +\r\n                  &quot;,&quot; + &quot;lifestage TEXT&quot; +\r\n                  &quot;,&quot; + &quot;cost REAL&quot; +\r\n                  &quot;)&quot;\r\n          );\r\n          insertTestData(sqLiteDatabase,testdata1);\r\n          insertTestData(sqLiteDatabase,testdata2);\r\n          insertTestData(sqLiteDatabase,testdata3);\r\n          insertTestData(sqLiteDatabase,testdata4);\r\n          insertTestData(sqLiteDatabase,testdata5);\r\n          insertTestData(sqLiteDatabase,testdata6);\r\n    \r\n       }\r\n    \r\n       private void insertTestData(SQLiteDatabase db, String[] data) {\r\n          if (data.length != 4) return;\r\n          ContentValues cv = new ContentValues();\r\n          cv.put(&quot;type&quot;,data[0]);\r\n          cv.put(&quot;breed&quot;,data[1]);\r\n          cv.put(&quot;lifestage&quot;,data[2]);\r\n          cv.put(&quot;cost&quot;,data[3]);\r\n          db.insert(&quot;pet&quot;,null,cv);\r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n       }\r\n    }\r\n\r\n\r\nThe resultant **pet** table will then be:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTo give an idea of what could be done to select data with some flexibility **MainActivity** has been changed to be:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //private Context context;\r\n        //private String query;\r\n    \r\n        private String typeSelection = &quot;dog&quot;;\r\n        private String breedSelection = &quot;alsatian&quot;;\r\n        private String lifeStageSelection = &quot;young&quot;;\r\n        private String lowerCostRangeSelection = &quot;0.0&quot;;\r\n        private String upperCostRangeSelection = &quot;150&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            /*\r\n            DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\r\n            databaseAccess.openDatabase();\r\n            Cursor cursor = databaseAccess.getWritableDatabase().rawQuery(query, null);\r\n             */\r\n            DatabaseUtils.dumpCursor(\r\n                    getSelection(typeSelection,breedSelection,lifeStageSelection,lowerCostRangeSelection,upperCostRangeSelection)\r\n            );\r\n            DatabaseUtils.dumpCursor(\r\n                    getSelection(&quot;Dog&quot;,null,null,null,null)\r\n            );\r\n            DatabaseUtils.dumpCursor(\r\n                    getSelection(&quot;Cat&quot;,null,null,null,null)\r\n            );\r\n            DatabaseUtils.dumpCursor(\r\n                    getSelection(null,null,null,null,null)\r\n            );\r\n        }\r\n    \r\n    \r\n        private Cursor getSelection(String type, String breed, String lifeStage, String lowerCost, String upperCost ) {\r\n            String[] args = null;\r\n            ArrayList&lt;String&gt; argsArrayList = new ArrayList&lt;&gt;();\r\n            StringBuilder whereClause = new StringBuilder();\r\n            if (type != null &amp;&amp; type.length() &gt; 0) {\r\n                if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n                else whereClause.append(&quot; AND &quot;);\r\n                whereClause.append(&quot; type=?&quot;);\r\n                argsArrayList.add(type);\r\n            }\r\n            if (breed != null &amp;&amp; breed.length() &gt; 0) {\r\n                if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n                else whereClause.append(&quot; AND &quot;);\r\n                whereClause.append(&quot; breed=?&quot;);\r\n                argsArrayList.add(breed);\r\n            }\r\n            if (lifeStage != null &amp;&amp; type.length() &gt; 0) {\r\n                if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n                else whereClause.append(&quot; AND &quot;);\r\n                whereClause.append(&quot; lifestage=?&quot;);\r\n                argsArrayList.add(lifeStage);\r\n            }\r\n            if (lowerCost != null &amp;&amp; upperCost != null &amp;&amp; lowerCost.length() &gt; 0 &amp;&amp; upperCost.length() &gt; 0) {\r\n                if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n                else whereClause.append(&quot; AND &quot;);\r\n                whereClause.append(&quot; cost BETWEEN ? AND ?&quot;);\r\n                argsArrayList.add(lowerCost);\r\n                argsArrayList.add(upperCost);\r\n            }\r\n            if (whereClause.length() &gt; 1) {\r\n                args = new String[argsArrayList.size()];\r\n                int i = 0;\r\n                for (String s: argsArrayList) {\r\n                    args[i++] = s;\r\n                }\r\n            }\r\n            return DatabaseAccess.getInstance(this).getWritableDatabase().query(&quot;pet&quot;,null,whereClause.toString(),args,null,null,null);\r\n        }\r\n    }\r\n\r\nthe **getSelection** method being the main addition i.e. the code that allows selection according to, in this case, 5 values:-\r\n\r\n- the type\r\n- the breed\r\n- the lifestage\r\n- the lower cost and and the upper cost (i.e. a range selection)\r\n\r\n- the SQLiteDatabase conveneince **query** method has been used, this is recommended over rawQuery.\r\n\r\nThe method is designed to be flexible and allow selection by none are all values. None would select every row.\r\n\r\n- Note that lower and upper cost must both be provided as they are a range.\r\n\r\n\r\nThe code within the onCreate method simply calls the **getSelection** method to reflect various selections.\r\n\r\nThe first of the 4, will retrieve nothing as no row would match all the given criteria.\r\nThe second will select rows where **type** is **Dog** (3 rows).\r\nThe third will select rows where the **type** is **Cat** (the other 3 rows).\r\nThe fourth returns all rows (as nulls are passed which equates to no selections criteria).\r\n\r\n- Note the method hasn&#39;t undergone comprehensive testing and is meant as a pointer.\r\n\r\n- DatabaseUtils is a class that as it&#39;s name suggests has some useful utilities, like, as demonstrated dumping a Cursor.\r\n\r\n\r\nThe **Result** as output to the log being:-\r\n\r\n    2022-10-16 22:56:51.850 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@9c8df94\r\n    2022-10-16 22:56:51.850 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    \r\n    \r\n    2022-10-16 22:56:51.851 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@f1e7a3d\r\n    2022-10-16 22:56:51.852 I/System.out: 0 {\r\n    2022-10-16 22:56:51.852 I/System.out:    _id=1\r\n    2022-10-16 22:56:51.852 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.852 I/System.out:    breed=Alsatian\r\n    2022-10-16 22:56:51.853 I/System.out:    lifestage=old\r\n    2022-10-16 22:56:51.853 I/System.out:    cost=100\r\n    2022-10-16 22:56:51.853 I/System.out: }\r\n    2022-10-16 22:56:51.853 I/System.out: 1 {\r\n    2022-10-16 22:56:51.853 I/System.out:    _id=2\r\n    2022-10-16 22:56:51.853 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.853 I/System.out:    breed=Golden Retriever\r\n    2022-10-16 22:56:51.853 I/System.out:    lifestage=newborn\r\n    2022-10-16 22:56:51.853 I/System.out:    cost=200\r\n    2022-10-16 22:56:51.854 I/System.out: }\r\n    2022-10-16 22:56:51.854 I/System.out: 2 {\r\n    2022-10-16 22:56:51.854 I/System.out:    _id=6\r\n    2022-10-16 22:56:51.854 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.854 I/System.out:    breed=Corgi\r\n    2022-10-16 22:56:51.854 I/System.out:    lifestage=mature\r\n    2022-10-16 22:56:51.854 I/System.out:    cost=300\r\n    2022-10-16 22:56:51.854 I/System.out: }\r\n    2022-10-16 22:56:51.854 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    \r\n    \r\n    2022-10-16 22:56:51.854 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@166d232\r\n    2022-10-16 22:56:51.855 I/System.out: 0 {\r\n    2022-10-16 22:56:51.855 I/System.out:    _id=3\r\n    2022-10-16 22:56:51.856 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.856 I/System.out:    breed=Siamese\r\n    2022-10-16 22:56:51.856 I/System.out:    lifestage=young\r\n    2022-10-16 22:56:51.856 I/System.out:    cost=150\r\n    2022-10-16 22:56:51.856 I/System.out: }\r\n    2022-10-16 22:56:51.856 I/System.out: 1 {\r\n    2022-10-16 22:56:51.856 I/System.out:    _id=4\r\n    2022-10-16 22:56:51.856 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.856 I/System.out:    breed=Burmese\r\n    2022-10-16 22:56:51.856 I/System.out:    lifestage=mature\r\n    2022-10-16 22:56:51.856 I/System.out:    cost=110\r\n    2022-10-16 22:56:51.856 I/System.out: }\r\n    2022-10-16 22:56:51.856 I/System.out: 2 {\r\n    2022-10-16 22:56:51.856 I/System.out:    _id=5\r\n    2022-10-16 22:56:51.856 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.856 I/System.out:    breed=Persian\r\n    2022-10-16 22:56:51.856 I/System.out:    lifestage=old\r\n    2022-10-16 22:56:51.856 I/System.out:    cost=75\r\n    2022-10-16 22:56:51.856 I/System.out: }\r\n    2022-10-16 22:56:51.856 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    \r\n    \r\n    2022-10-16 22:56:51.857 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@17eeb83\r\n    2022-10-16 22:56:51.857 I/System.out: 0 {\r\n    2022-10-16 22:56:51.857 I/System.out:    _id=1\r\n    2022-10-16 22:56:51.857 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.857 I/System.out:    breed=Alsatian\r\n    2022-10-16 22:56:51.857 I/System.out:    lifestage=old\r\n    2022-10-16 22:56:51.858 I/System.out:    cost=100\r\n    2022-10-16 22:56:51.858 I/System.out: }\r\n    2022-10-16 22:56:51.858 I/System.out: 1 {\r\n    2022-10-16 22:56:51.858 I/System.out:    _id=2\r\n    2022-10-16 22:56:51.858 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.858 I/System.out:    breed=Golden Retriever\r\n    2022-10-16 22:56:51.858 I/System.out:    lifestage=newborn\r\n    2022-10-16 22:56:51.858 I/System.out:    cost=200\r\n    2022-10-16 22:56:51.858 I/System.out: }\r\n    2022-10-16 22:56:51.858 I/System.out: 2 {\r\n    2022-10-16 22:56:51.858 I/System.out:    _id=3\r\n    2022-10-16 22:56:51.858 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.858 I/System.out:    breed=Siamese\r\n    2022-10-16 22:56:51.858 I/System.out:    lifestage=young\r\n    2022-10-16 22:56:51.858 I/System.out:    cost=150\r\n    2022-10-16 22:56:51.858 I/System.out: }\r\n    2022-10-16 22:56:51.858 I/System.out: 3 {\r\n    2022-10-16 22:56:51.858 I/System.out:    _id=4\r\n    2022-10-16 22:56:51.858 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.858 I/System.out:    breed=Burmese\r\n    2022-10-16 22:56:51.858 I/System.out:    lifestage=mature\r\n    2022-10-16 22:56:51.859 I/System.out:    cost=110\r\n    2022-10-16 22:56:51.859 I/System.out: }\r\n    2022-10-16 22:56:51.859 I/System.out: 4 {\r\n    2022-10-16 22:56:51.859 I/System.out:    _id=5\r\n    2022-10-16 22:56:51.859 I/System.out:    type=Cat\r\n    2022-10-16 22:56:51.859 I/System.out:    breed=Persian\r\n    2022-10-16 22:56:51.859 I/System.out:    lifestage=old\r\n    2022-10-16 22:56:51.859 I/System.out:    cost=75\r\n    2022-10-16 22:56:51.859 I/System.out: }\r\n    2022-10-16 22:56:51.859 I/System.out: 5 {\r\n    2022-10-16 22:56:51.859 I/System.out:    _id=6\r\n    2022-10-16 22:56:51.859 I/System.out:    type=Dog\r\n    2022-10-16 22:56:51.859 I/System.out:    breed=Corgi\r\n    2022-10-16 22:56:51.859 I/System.out:    lifestage=mature\r\n    2022-10-16 22:56:51.859 I/System.out:    cost=300\r\n    2022-10-16 22:56:51.859 I/System.out: }\r\n    2022-10-16 22:56:51.859 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\n  [1]: https://i.stack.imgur.com/fYGoZ.png","title":"Android Studio SQLite database asset into Recyclerview but only showing specific data","body":"<blockquote>\n<p>Any suggestions would be very helpful.</p>\n</blockquote>\n<p><em><strong>Perhaps consider the following.</strong></em></p>\n<p>First rather than have an asset (pre-packaged database) the demo creates the database and loads some data (for convenience).</p>\n<p>As the schama isn't available this has been made up (this answer is about the principle as opposed to the actual data which is not available).</p>\n<p>The table is called <strong>pet</strong> it has 5 columns:-</p>\n<ul>\n<li><strong>_id</strong> (the android standard for the id column that uniquely identifies a row)</li>\n<li><strong>type</strong> for the type of pet (dog, cat ....)</li>\n<li><strong>breed</strong> e.g. alsatian</li>\n<li><strong>lifestage</strong> newborn, old ....</li>\n<li><strong>cost</strong></li>\n</ul>\n<p>Some data is loaded (in the onCreate method, <em><strong>Note</strong> instead of <strong>SQLiteAssetHelper</strong> the stock <strong>SQliteOpenHelper</strong> has been used as there is no asset to load</em>)</p>\n<p>So purely for convenience DBHelper is :-</p>\n<pre><code>public class DBHelper extends SQLiteOpenHelper /* changed for simulation of asset */ {\n\n   public static final String DBNAME = &quot;PetAdoption.db&quot;;\n   public static final int DBVERSION = 1;\n\n   private static String[] testdata1 = new String[]{&quot;Dog&quot;,&quot;Alsatian&quot;,&quot;old&quot;,&quot;100&quot;};\n   private static String[] testdata2 = new String[]{&quot;Dog&quot;,&quot;Golden Retriever&quot;,&quot;newborn&quot;,&quot;200&quot;};\n   private static String[] testdata3 = new String[]{&quot;Cat&quot;,&quot;Siamese&quot;,&quot;young&quot;,&quot;150&quot;};\n   private static String[] testdata4 = new String[]{&quot;Cat&quot;,&quot;Burmese&quot;,&quot;mature&quot;,&quot;110&quot;};\n   private static String[] testdata5 = new String[]{&quot;Cat&quot;,&quot;Persian&quot;,&quot;old&quot;,&quot;75&quot;};\n   private static String[] testdata6 = new String[]{&quot;Dog&quot;,&quot;Corgi&quot;,&quot;mature&quot;,&quot;300&quot;};\n\n   public DBHelper(Context context) {\n      super(context,DBNAME,null,DBVERSION);\n   }\n\n   /* ADDED to simulate getting data from asset */\n   @Override\n   public void onCreate(SQLiteDatabase sqLiteDatabase) {\n      sqLiteDatabase.execSQL(&quot;CREATE TABLE IF NOT EXISTS pet (&quot; +\n              BaseColumns._ID + &quot; INTEGER PRIMARY KEY&quot; +\n              &quot;,&quot; + &quot;type TEXT&quot; +\n              &quot;,&quot; + &quot;breed TEXT&quot; +\n              &quot;,&quot; + &quot;lifestage TEXT&quot; +\n              &quot;,&quot; + &quot;cost REAL&quot; +\n              &quot;)&quot;\n      );\n      insertTestData(sqLiteDatabase,testdata1);\n      insertTestData(sqLiteDatabase,testdata2);\n      insertTestData(sqLiteDatabase,testdata3);\n      insertTestData(sqLiteDatabase,testdata4);\n      insertTestData(sqLiteDatabase,testdata5);\n      insertTestData(sqLiteDatabase,testdata6);\n\n   }\n\n   private void insertTestData(SQLiteDatabase db, String[] data) {\n      if (data.length != 4) return;\n      ContentValues cv = new ContentValues();\n      cv.put(&quot;type&quot;,data[0]);\n      cv.put(&quot;breed&quot;,data[1]);\n      cv.put(&quot;lifestage&quot;,data[2]);\n      cv.put(&quot;cost&quot;,data[3]);\n      db.insert(&quot;pet&quot;,null,cv);\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n   }\n}\n</code></pre>\n<p>The resultant <strong>pet</strong> table will then be:-</p>\n<p><a href=\"https://i.stack.imgur.com/fYGoZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fYGoZ.png\" alt=\"enter image description here\" /></a></p>\n<p>To give an idea of what could be done to select data with some flexibility <strong>MainActivity</strong> has been changed to be:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //private Context context;\n    //private String query;\n\n    private String typeSelection = &quot;dog&quot;;\n    private String breedSelection = &quot;alsatian&quot;;\n    private String lifeStageSelection = &quot;young&quot;;\n    private String lowerCostRangeSelection = &quot;0.0&quot;;\n    private String upperCostRangeSelection = &quot;150&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        /*\n        DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\n        databaseAccess.openDatabase();\n        Cursor cursor = databaseAccess.getWritableDatabase().rawQuery(query, null);\n         */\n        DatabaseUtils.dumpCursor(\n                getSelection(typeSelection,breedSelection,lifeStageSelection,lowerCostRangeSelection,upperCostRangeSelection)\n        );\n        DatabaseUtils.dumpCursor(\n                getSelection(&quot;Dog&quot;,null,null,null,null)\n        );\n        DatabaseUtils.dumpCursor(\n                getSelection(&quot;Cat&quot;,null,null,null,null)\n        );\n        DatabaseUtils.dumpCursor(\n                getSelection(null,null,null,null,null)\n        );\n    }\n\n\n    private Cursor getSelection(String type, String breed, String lifeStage, String lowerCost, String upperCost ) {\n        String[] args = null;\n        ArrayList&lt;String&gt; argsArrayList = new ArrayList&lt;&gt;();\n        StringBuilder whereClause = new StringBuilder();\n        if (type != null &amp;&amp; type.length() &gt; 0) {\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n            else whereClause.append(&quot; AND &quot;);\n            whereClause.append(&quot; type=?&quot;);\n            argsArrayList.add(type);\n        }\n        if (breed != null &amp;&amp; breed.length() &gt; 0) {\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n            else whereClause.append(&quot; AND &quot;);\n            whereClause.append(&quot; breed=?&quot;);\n            argsArrayList.add(breed);\n        }\n        if (lifeStage != null &amp;&amp; type.length() &gt; 0) {\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n            else whereClause.append(&quot; AND &quot;);\n            whereClause.append(&quot; lifestage=?&quot;);\n            argsArrayList.add(lifeStage);\n        }\n        if (lowerCost != null &amp;&amp; upperCost != null &amp;&amp; lowerCost.length() &gt; 0 &amp;&amp; upperCost.length() &gt; 0) {\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n            else whereClause.append(&quot; AND &quot;);\n            whereClause.append(&quot; cost BETWEEN ? AND ?&quot;);\n            argsArrayList.add(lowerCost);\n            argsArrayList.add(upperCost);\n        }\n        if (whereClause.length() &gt; 1) {\n            args = new String[argsArrayList.size()];\n            int i = 0;\n            for (String s: argsArrayList) {\n                args[i++] = s;\n            }\n        }\n        return DatabaseAccess.getInstance(this).getWritableDatabase().query(&quot;pet&quot;,null,whereClause.toString(),args,null,null,null);\n    }\n}\n</code></pre>\n<p>the <strong>getSelection</strong> method being the main addition i.e. the code that allows selection according to, in this case, 5 values:-</p>\n<ul>\n<li><p>the type</p>\n</li>\n<li><p>the breed</p>\n</li>\n<li><p>the lifestage</p>\n</li>\n<li><p>the lower cost and and the upper cost (i.e. a range selection)</p>\n</li>\n<li><p>the SQLiteDatabase conveneince <strong>query</strong> method has been used, this is recommended over rawQuery.</p>\n</li>\n</ul>\n<p>The method is designed to be flexible and allow selection by none are all values. None would select every row.</p>\n<ul>\n<li>Note that lower and upper cost must both be provided as they are a range.</li>\n</ul>\n<p>The code within the onCreate method simply calls the <strong>getSelection</strong> method to reflect various selections.</p>\n<p>The first of the 4, will retrieve nothing as no row would match all the given criteria.\nThe second will select rows where <strong>type</strong> is <strong>Dog</strong> (3 rows).\nThe third will select rows where the <strong>type</strong> is <strong>Cat</strong> (the other 3 rows).\nThe fourth returns all rows (as nulls are passed which equates to no selections criteria).</p>\n<ul>\n<li><p>Note the method hasn't undergone comprehensive testing and is meant as a pointer.</p>\n</li>\n<li><p>DatabaseUtils is a class that as it's name suggests has some useful utilities, like, as demonstrated dumping a Cursor.</p>\n</li>\n</ul>\n<p>The <strong>Result</strong> as output to the log being:-</p>\n<pre><code>2022-10-16 22:56:51.850 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@9c8df94\n2022-10-16 22:56:51.850 I/System.out: &lt;&lt;&lt;&lt;&lt;\n\n\n2022-10-16 22:56:51.851 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@f1e7a3d\n2022-10-16 22:56:51.852 I/System.out: 0 {\n2022-10-16 22:56:51.852 I/System.out:    _id=1\n2022-10-16 22:56:51.852 I/System.out:    type=Dog\n2022-10-16 22:56:51.852 I/System.out:    breed=Alsatian\n2022-10-16 22:56:51.853 I/System.out:    lifestage=old\n2022-10-16 22:56:51.853 I/System.out:    cost=100\n2022-10-16 22:56:51.853 I/System.out: }\n2022-10-16 22:56:51.853 I/System.out: 1 {\n2022-10-16 22:56:51.853 I/System.out:    _id=2\n2022-10-16 22:56:51.853 I/System.out:    type=Dog\n2022-10-16 22:56:51.853 I/System.out:    breed=Golden Retriever\n2022-10-16 22:56:51.853 I/System.out:    lifestage=newborn\n2022-10-16 22:56:51.853 I/System.out:    cost=200\n2022-10-16 22:56:51.854 I/System.out: }\n2022-10-16 22:56:51.854 I/System.out: 2 {\n2022-10-16 22:56:51.854 I/System.out:    _id=6\n2022-10-16 22:56:51.854 I/System.out:    type=Dog\n2022-10-16 22:56:51.854 I/System.out:    breed=Corgi\n2022-10-16 22:56:51.854 I/System.out:    lifestage=mature\n2022-10-16 22:56:51.854 I/System.out:    cost=300\n2022-10-16 22:56:51.854 I/System.out: }\n2022-10-16 22:56:51.854 I/System.out: &lt;&lt;&lt;&lt;&lt;\n\n\n2022-10-16 22:56:51.854 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@166d232\n2022-10-16 22:56:51.855 I/System.out: 0 {\n2022-10-16 22:56:51.855 I/System.out:    _id=3\n2022-10-16 22:56:51.856 I/System.out:    type=Cat\n2022-10-16 22:56:51.856 I/System.out:    breed=Siamese\n2022-10-16 22:56:51.856 I/System.out:    lifestage=young\n2022-10-16 22:56:51.856 I/System.out:    cost=150\n2022-10-16 22:56:51.856 I/System.out: }\n2022-10-16 22:56:51.856 I/System.out: 1 {\n2022-10-16 22:56:51.856 I/System.out:    _id=4\n2022-10-16 22:56:51.856 I/System.out:    type=Cat\n2022-10-16 22:56:51.856 I/System.out:    breed=Burmese\n2022-10-16 22:56:51.856 I/System.out:    lifestage=mature\n2022-10-16 22:56:51.856 I/System.out:    cost=110\n2022-10-16 22:56:51.856 I/System.out: }\n2022-10-16 22:56:51.856 I/System.out: 2 {\n2022-10-16 22:56:51.856 I/System.out:    _id=5\n2022-10-16 22:56:51.856 I/System.out:    type=Cat\n2022-10-16 22:56:51.856 I/System.out:    breed=Persian\n2022-10-16 22:56:51.856 I/System.out:    lifestage=old\n2022-10-16 22:56:51.856 I/System.out:    cost=75\n2022-10-16 22:56:51.856 I/System.out: }\n2022-10-16 22:56:51.856 I/System.out: &lt;&lt;&lt;&lt;&lt;\n\n\n2022-10-16 22:56:51.857 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@17eeb83\n2022-10-16 22:56:51.857 I/System.out: 0 {\n2022-10-16 22:56:51.857 I/System.out:    _id=1\n2022-10-16 22:56:51.857 I/System.out:    type=Dog\n2022-10-16 22:56:51.857 I/System.out:    breed=Alsatian\n2022-10-16 22:56:51.857 I/System.out:    lifestage=old\n2022-10-16 22:56:51.858 I/System.out:    cost=100\n2022-10-16 22:56:51.858 I/System.out: }\n2022-10-16 22:56:51.858 I/System.out: 1 {\n2022-10-16 22:56:51.858 I/System.out:    _id=2\n2022-10-16 22:56:51.858 I/System.out:    type=Dog\n2022-10-16 22:56:51.858 I/System.out:    breed=Golden Retriever\n2022-10-16 22:56:51.858 I/System.out:    lifestage=newborn\n2022-10-16 22:56:51.858 I/System.out:    cost=200\n2022-10-16 22:56:51.858 I/System.out: }\n2022-10-16 22:56:51.858 I/System.out: 2 {\n2022-10-16 22:56:51.858 I/System.out:    _id=3\n2022-10-16 22:56:51.858 I/System.out:    type=Cat\n2022-10-16 22:56:51.858 I/System.out:    breed=Siamese\n2022-10-16 22:56:51.858 I/System.out:    lifestage=young\n2022-10-16 22:56:51.858 I/System.out:    cost=150\n2022-10-16 22:56:51.858 I/System.out: }\n2022-10-16 22:56:51.858 I/System.out: 3 {\n2022-10-16 22:56:51.858 I/System.out:    _id=4\n2022-10-16 22:56:51.858 I/System.out:    type=Cat\n2022-10-16 22:56:51.858 I/System.out:    breed=Burmese\n2022-10-16 22:56:51.858 I/System.out:    lifestage=mature\n2022-10-16 22:56:51.859 I/System.out:    cost=110\n2022-10-16 22:56:51.859 I/System.out: }\n2022-10-16 22:56:51.859 I/System.out: 4 {\n2022-10-16 22:56:51.859 I/System.out:    _id=5\n2022-10-16 22:56:51.859 I/System.out:    type=Cat\n2022-10-16 22:56:51.859 I/System.out:    breed=Persian\n2022-10-16 22:56:51.859 I/System.out:    lifestage=old\n2022-10-16 22:56:51.859 I/System.out:    cost=75\n2022-10-16 22:56:51.859 I/System.out: }\n2022-10-16 22:56:51.859 I/System.out: 5 {\n2022-10-16 22:56:51.859 I/System.out:    _id=6\n2022-10-16 22:56:51.859 I/System.out:    type=Dog\n2022-10-16 22:56:51.859 I/System.out:    breed=Corgi\n2022-10-16 22:56:51.859 I/System.out:    lifestage=mature\n2022-10-16 22:56:51.859 I/System.out:    cost=300\n2022-10-16 22:56:51.859 I/System.out: }\n2022-10-16 22:56:51.859 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n"}],"owner":{"account_id":26635501,"reputation":13,"user_id":20251996,"display_name":"Uzume316"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665922444,"creation_date":1665877075,"question_id":74083714,"body_markdown":"I&#39;m new to Android Studio having only worked with it for two months and been coding with Java for a year. \r\n\r\nCurrently I&#39;m working on a pet adoption application where the goal is to have the user answer four questions about the kind of pet they want and based on the checkboxes the application will show a list of pets that match the user&#39;s wants. \r\n\r\nI thought I could use SQLite as the database to add the pets in and then when the user checks the checkbox and submits the application can review the database and send the pet&#39;s name, age, and gender in a Recyclerview. \r\n\r\nI&#39;m finding out it is not as easy as I thought and can use some outside suggestions as I only have two more weeks to work on it. Here is what I have so far:\r\n\r\n[Main Activity][1]\r\n\r\n**DataBaseHelper**\r\n\r\n    import android.content.Context;\r\n    import com.readystatesoftware.sqliteasset.SQLiteAssetHelper;\r\n    \r\n    public class DBHelper extends SQLiteAssetHelper {\r\n    \r\n        public static final String DBNAME = &quot;PetAdoption.db&quot;;\r\n        public static final int DBVERSION = 1;\r\n    \r\n        public DBHelper(Context context) {\r\n    \r\n            super(context,DBNAME,null,DBVERSION);\r\n        }\r\n    }\r\n\r\n \r\n**DatabaseAccess**\r\n\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    public class DatabaseAccess {\r\n    \r\n        private SQLiteOpenHelper openHelper;\r\n        private SQLiteDatabase database;\r\n        private static DatabaseAccess instance;\r\n    \r\n        /**\r\n         * Private constructor to avoid object creation from outside classes.\r\n         *\r\n         * @param context\r\n         */\r\n        private DatabaseAccess(Context context) {\r\n            this.openHelper = new DBHelper(context);\r\n        }\r\n    \r\n        /**\r\n         * Return a singleton instance of DatabaseAccess.\r\n         *\r\n         * @param context the Context\r\n         * @return the instance of DatabaseAccess\r\n         */\r\n        public static DatabaseAccess getInstance(Context context) {\r\n            if (instance == null) {\r\n                instance = new DatabaseAccess(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        /**\r\n         * Open the database connection.\r\n         */\r\n        public void openDatabase() {\r\n    \r\n            this.database = openHelper.getWritableDatabase();\r\n    \r\n    \r\n        }\r\n    \r\n        public SQLiteDatabase getWritableDatabase() {\r\n    \r\n            return openHelper.getWritableDatabase();\r\n    \r\n        }\r\n    \r\n        public SQLiteDatabase getReadableDataBase() {\r\n            return openHelper.getReadableDatabase();\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Close the database connection.\r\n         */\r\n        public void closeDatabase() {\r\n            if (database != null) {\r\n                this.database.close();\r\n            }\r\n        }\r\n    }\r\n\r\n**Main Activity**\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Context context;\r\n        private String query;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\r\n            databaseAccess.openDatabase();\r\n            Cursor cursor = databaseAccess.getWritableDatabase().rawQuery(query, null);\r\n    \r\n        }\r\n    }\r\n\r\nI know I still need a model for the Recylerview and specific code to pull the pets that match the checkboxes, but I&#39;m not sure I&#39;m even going in the right direction. Any suggestions would be very helpful.\r\n\r\n  [1]: https://i.stack.imgur.com/ImSlW.jpg","title":"Android Studio SQLite database asset into Recyclerview but only showing specific data","body":"<p>I'm new to Android Studio having only worked with it for two months and been coding with Java for a year.</p>\n<p>Currently I'm working on a pet adoption application where the goal is to have the user answer four questions about the kind of pet they want and based on the checkboxes the application will show a list of pets that match the user's wants.</p>\n<p>I thought I could use SQLite as the database to add the pets in and then when the user checks the checkbox and submits the application can review the database and send the pet's name, age, and gender in a Recyclerview.</p>\n<p>I'm finding out it is not as easy as I thought and can use some outside suggestions as I only have two more weeks to work on it. Here is what I have so far:</p>\n<p><a href=\"https://i.stack.imgur.com/ImSlW.jpg\" rel=\"nofollow noreferrer\">Main Activity</a></p>\n<p><strong>DataBaseHelper</strong></p>\n<pre><code>import android.content.Context;\nimport com.readystatesoftware.sqliteasset.SQLiteAssetHelper;\n\npublic class DBHelper extends SQLiteAssetHelper {\n\n    public static final String DBNAME = &quot;PetAdoption.db&quot;;\n    public static final int DBVERSION = 1;\n\n    public DBHelper(Context context) {\n\n        super(context,DBNAME,null,DBVERSION);\n    }\n}\n</code></pre>\n<p><strong>DatabaseAccess</strong></p>\n<pre><code>import android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DatabaseAccess {\n\n    private SQLiteOpenHelper openHelper;\n    private SQLiteDatabase database;\n    private static DatabaseAccess instance;\n\n    /**\n     * Private constructor to avoid object creation from outside classes.\n     *\n     * @param context\n     */\n    private DatabaseAccess(Context context) {\n        this.openHelper = new DBHelper(context);\n    }\n\n    /**\n     * Return a singleton instance of DatabaseAccess.\n     *\n     * @param context the Context\n     * @return the instance of DatabaseAccess\n     */\n    public static DatabaseAccess getInstance(Context context) {\n        if (instance == null) {\n            instance = new DatabaseAccess(context);\n        }\n        return instance;\n    }\n\n    /**\n     * Open the database connection.\n     */\n    public void openDatabase() {\n\n        this.database = openHelper.getWritableDatabase();\n\n\n    }\n\n    public SQLiteDatabase getWritableDatabase() {\n\n        return openHelper.getWritableDatabase();\n\n    }\n\n    public SQLiteDatabase getReadableDataBase() {\n        return openHelper.getReadableDatabase();\n    }\n\n\n    /**\n     * Close the database connection.\n     */\n    public void closeDatabase() {\n        if (database != null) {\n            this.database.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>Main Activity</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Context context;\n    private String query;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\n        databaseAccess.openDatabase();\n        Cursor cursor = databaseAccess.getWritableDatabase().rawQuery(query, null);\n\n    }\n}\n</code></pre>\n<p>I know I still need a model for the Recylerview and specific code to pull the pets that match the checkboxes, but I'm not sure I'm even going in the right direction. Any suggestions would be very helpful.</p>\n"},{"tags":["java","android","flutter","exif"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665595594,"post_id":74045508,"comment_id":130739911,"body_markdown":"You set an attrbute on the exifinterface. But after that you have to update the exif header in the image file.","body":"You set an attrbute on the exifinterface. But after that you have to update the exif header in the image file."},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665599853,"post_id":74045508,"comment_id":130741243,"body_markdown":"Thanks for your comment. I don&#39;t know what it means, could you elaborate please or give an example of the &quot;exif header&quot; in the image file ?","body":"Thanks for your comment. I don&#39;t know what it means, could you elaborate please or give an example of the &quot;exif header&quot; in the image file ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665605229,"post_id":74045508,"comment_id":130742771,"body_markdown":"Your image file, probably a jpg file, contains an exif header. The class ExifInterfae reads this exif header. You changed the exif info in memory in the ExifInterface instance. But now you have to update the file with the new info. I see no code for that. Or lets say i think that saveAttributes() is not updating the file. (But maybe i&#39;m mistaken, never done that). What is type of `path` and how does it look like?","body":"Your image file, probably a jpg file, contains an exif header. The class ExifInterfae reads this exif header. You changed the exif info in memory in the ExifInterface instance. But now you have to update the file with the new info. I see no code for that. Or lets say i think that saveAttributes() is not updating the file. (But maybe i&#39;m mistaken, never done that). What is type of <code>path</code> and how does it look like?"},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665657848,"post_id":74045508,"comment_id":130753449,"body_markdown":"`path` is the local path of the image in the `temporary` directory, and indeed a `.jpg`. \nI have access to this file if that&#39;s your question, what do you want me to do ?\nI will give an example later if you really need it but i am not sure why it matters. \nIndeed i have not updated the file with the new info because i don&#39;t know how to do so :/ I thought the `exif.saveAttributes()` was doing this job but i guess i was wrong..","body":"<code>path</code> is the local path of the image in the <code>temporary</code> directory, and indeed a <code>.jpg</code>.  I have access to this file if that&#39;s your question, what do you want me to do ? I will give an example later if you really need it but i am not sure why it matters.  Indeed i have not updated the file with the new info because i don&#39;t know how to do so :/ I thought the <code>exif.saveAttributes()</code> was doing this job but i guess i was wrong.."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1665661436,"post_id":74045508,"comment_id":130754561,"body_markdown":"`I have access to this file` You were able to read it. But have you permission to write it? Check before with File.canWrite(). I also do think now that saveAttributes() should update the file.","body":"<code>I have access to this file</code> You were able to read it. But have you permission to write it? Check before with File.canWrite(). I also do think now that saveAttributes() should update the file."},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665740454,"post_id":74045508,"comment_id":130773752,"body_markdown":"Sorry for the late answer and thanks for your time. Yes i have the permission to write it because i save it myself in the external storage directory if the user chose to do so (in his phone&#39;s gallery) AND inside the app document directory.","body":"Sorry for the late answer and thanks for your time. Yes i have the permission to write it because i save it myself in the external storage directory if the user chose to do so (in his phone&#39;s gallery) AND inside the app document directory."},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665741121,"post_id":74045508,"comment_id":130773975,"body_markdown":"I edit the question with a new test i have made.","body":"I edit the question with a new test i have made."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1665753401,"post_id":74045508,"comment_id":130777860,"body_markdown":"`I have printed the EXIF of the image right after the saveAttributes() :` I think you mean: I have printed the exif tags of exifinfo right after the saveAttributes(). (You did not create a new exifinfo from the saved file and printed then)","body":"<code>I have printed the EXIF of the image right after the saveAttributes() :</code> I think you mean: I have printed the exif tags of exifinfo right after the saveAttributes(). (You did not create a new exifinfo from the saved file and printed then)"},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665753493,"post_id":74045508,"comment_id":130777900,"body_markdown":"yes exactly sorry for my sentences.","body":"yes exactly sorry for my sentences."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665753563,"post_id":74045508,"comment_id":130777928,"body_markdown":"Strange that not all tags are there when you try to read them from the newly created file. Oh no. Not newly created.. you write to the original file!?","body":"Strange that not all tags are there when you try to read them from the newly created file. Oh no. Not newly created.. you write to the original file!?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665753667,"post_id":74045508,"comment_id":130777974,"body_markdown":"`When copying a file to another place, the exif is not kept at all.` Well than i wonder how you copy a file. Using an intermediate bitmap or so? The wrong approach. A normal file copy preserves all bytes","body":"<code>When copying a file to another place, the exif is not kept at all.</code> Well than i wonder how you copy a file. Using an intermediate bitmap or so? The wrong approach. A normal file copy preserves all bytes"},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665753829,"post_id":74045508,"comment_id":130778036,"body_markdown":"I edit the question with the requested information !","body":"I edit the question with the requested information !"},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665845531,"post_id":74045508,"comment_id":130796447,"body_markdown":"I have found the issue for the &quot;copying a file removes some exif params&quot;, this was coming from a compression library i was using. \nThe main/real issue is about custom tags not being saved.","body":"I have found the issue for the &quot;copying a file removes some exif params&quot;, this was coming from a compression library i was using.  The main/real issue is about custom tags not being saved."}],"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665922259,"creation_date":1665593824,"question_id":74045508,"body_markdown":"I am currently facing a real issue while trying to set custom attributes to my image EXIF on android. \r\n\r\nI have the following lines : \r\n\r\n```\r\nExifInterface exifInterface = new ExifInterface(path);\r\nexifInterface.setAttribute(ExifInterface.TAG_FOCAL_PLANE_X_RESOLUTION, &quot;330&quot;);\r\n```\r\n\r\nBut it simply doesn&#39;t work. I have tried with many different tags from the [documentation][1] but none is working.\r\n\r\nAm i not understanding something correctly ? \r\nI have also tried :  \r\n\r\n```\r\nExifInterface exifInterface = new ExifInterface(path);\r\nexifInterface.setAttribute(&quot;FocalPlaneXResolution&quot;, &quot;330&quot;);\r\n```\r\n\r\nI also need to save the values of `Yaw`, `Pitch` and `Roll` in the exif, should the following be working ? \r\n\r\n```\r\nExifInterface exifInterface = new ExifInterface(path);\r\nexifInterface.setAttribute(&quot;Yaw&quot;, &quot;0.3&quot;);\r\n```\r\n\r\nI am saving the attributes using `exifInterface.saveAttributes()`\r\n\r\nEDIT : \r\n\r\nI have printed the `EXIF` of the image right after the `saveAttributes()` : \r\n\r\n```\r\nI/flutter (12318): EXIF FOR FILE : /storage/emulated/0/Android/media/com.example.android/projectName/2022-10-14-11-51-07-810.jpg\r\nI/flutter (12318): Image YResolution: 72\r\nI/flutter (12318): Image XResolution: 72\r\nI/flutter (12318): Image ImageWidth: 1920\r\nI/flutter (12318): Image Model: CPH1931\r\nI/flutter (12318): Image Make: OPPO\r\nI/flutter (12318): Image Software: unknown-user 10 QKQ1.200209.002 unknown release-keys\r\nI/flutter (12318): Image ImageLength: 1080\r\nI/flutter (12318): Image YCbCrPositioning: Centered\r\nI/flutter (12318): Image ExifOffset: 260\r\nI/flutter (12318): Image Orientation: 90\r\nI/flutter (12318): Image ResolutionUnit: Pixels/Inch\r\nI/flutter (12318): Image DateTime: 2022:10:14 11:51:08\r\nI/flutter (12318): EXIF ExifVersion: 0220\r\nI/flutter (12318): EXIF ApertureValue: 169/100\r\nI/flutter (12318): EXIF SceneType: 63\r\nI/flutter (12318): EXIF ExposureProgram: Unidentified\r\nI/flutter (12318): EXIF ColorSpace: sRGB\r\nI/flutter (12318): EXIF ExifImageLength: 1080\r\nI/flutter (12318): EXIF BrightnessValue: -27/25\r\nI/flutter (12318): EXIF DateTimeOriginal: 2022:10:14 11:51:08\r\nI/flutter (12318): EXIF FlashPixVersion: 0100\r\nI/flutter (12318): EXIF SubSecTimeOriginal: 199953\r\nI/flutter (12318): EXIF WhiteBalance: Auto\r\nI/flutter (12318): Interoperability InteroperabilityIndex: R98\r\nI/flutter (12318): EXIF InteroperabilityOffset: 726\r\nI/flutter (12318): EXIF ExposureMode: Auto Exposure\r\nI/flutter (12318): EXIF ExposureTime: 1/25\r\nI/flutter (12318): EXIF Flash: Flash did not fire, compulsory flash mode\r\nI/flutter (12318): EXIF SubSecTime: 341\r\nI/flutter (12318): EXIF FNumber: 9/5\r\nI/flutter (12318): EXIF ExifImageWidth: 1920\r\nI/flutter (12318): EXIF ISOSpeedRatings: 361\r\nI/flutter (12318): EXIF ComponentsConfiguration: 636363\r\nI/flutter (12318): EXIF FocalLengthIn35mmFilm: 0\r\nI/flutter (12318): EXIF SubSecTimeDigitized: 199953\r\nI/flutter (12318): EXIF DateTimeDigitized: 2022:10:14 11:51:08\r\nI/flutter (12318): EXIF ShutterSpeedValue: 4643/1000\r\nI/flutter (12318): EXIF MeteringMode: CenterWeightedAverage\r\nI/flutter (12318): EXIF FocalLength: 4047/1000\r\nI/flutter (12318): EXIF SceneCaptureType: Standard\r\nI/flutter (12318): EXIF LightSource: Unknown\r\nI/flutter (12318): EXIF SensingMethod: 0\r\n```\r\n\r\nThe custom tag `Yaw` didn&#39;t seem to be registered, and i have added another existing tag `TAG_FOCAL_PLANE_X_RESOLUTION` that is also missing while setting correctly. \r\n\r\n\r\nEDIT : I have found that writing custom attributes that do not exists in the documentation will never work and fail silently... So `Yaw` in my issue description will never be written.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface#setAttribute(java.lang.String,java.lang.String)","title":"Set custom attribute to exif android not working","body":"<p>I am currently facing a real issue while trying to set custom attributes to my image EXIF on android.</p>\n<p>I have the following lines :</p>\n<pre><code>ExifInterface exifInterface = new ExifInterface(path);\nexifInterface.setAttribute(ExifInterface.TAG_FOCAL_PLANE_X_RESOLUTION, &quot;330&quot;);\n</code></pre>\n<p>But it simply doesn't work. I have tried with many different tags from the <a href=\"https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface#setAttribute(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> but none is working.</p>\n<p>Am i not understanding something correctly ?\nI have also tried :</p>\n<pre><code>ExifInterface exifInterface = new ExifInterface(path);\nexifInterface.setAttribute(&quot;FocalPlaneXResolution&quot;, &quot;330&quot;);\n</code></pre>\n<p>I also need to save the values of <code>Yaw</code>, <code>Pitch</code> and <code>Roll</code> in the exif, should the following be working ?</p>\n<pre><code>ExifInterface exifInterface = new ExifInterface(path);\nexifInterface.setAttribute(&quot;Yaw&quot;, &quot;0.3&quot;);\n</code></pre>\n<p>I am saving the attributes using <code>exifInterface.saveAttributes()</code></p>\n<p>EDIT :</p>\n<p>I have printed the <code>EXIF</code> of the image right after the <code>saveAttributes()</code> :</p>\n<pre><code>I/flutter (12318): EXIF FOR FILE : /storage/emulated/0/Android/media/com.example.android/projectName/2022-10-14-11-51-07-810.jpg\nI/flutter (12318): Image YResolution: 72\nI/flutter (12318): Image XResolution: 72\nI/flutter (12318): Image ImageWidth: 1920\nI/flutter (12318): Image Model: CPH1931\nI/flutter (12318): Image Make: OPPO\nI/flutter (12318): Image Software: unknown-user 10 QKQ1.200209.002 unknown release-keys\nI/flutter (12318): Image ImageLength: 1080\nI/flutter (12318): Image YCbCrPositioning: Centered\nI/flutter (12318): Image ExifOffset: 260\nI/flutter (12318): Image Orientation: 90\nI/flutter (12318): Image ResolutionUnit: Pixels/Inch\nI/flutter (12318): Image DateTime: 2022:10:14 11:51:08\nI/flutter (12318): EXIF ExifVersion: 0220\nI/flutter (12318): EXIF ApertureValue: 169/100\nI/flutter (12318): EXIF SceneType: 63\nI/flutter (12318): EXIF ExposureProgram: Unidentified\nI/flutter (12318): EXIF ColorSpace: sRGB\nI/flutter (12318): EXIF ExifImageLength: 1080\nI/flutter (12318): EXIF BrightnessValue: -27/25\nI/flutter (12318): EXIF DateTimeOriginal: 2022:10:14 11:51:08\nI/flutter (12318): EXIF FlashPixVersion: 0100\nI/flutter (12318): EXIF SubSecTimeOriginal: 199953\nI/flutter (12318): EXIF WhiteBalance: Auto\nI/flutter (12318): Interoperability InteroperabilityIndex: R98\nI/flutter (12318): EXIF InteroperabilityOffset: 726\nI/flutter (12318): EXIF ExposureMode: Auto Exposure\nI/flutter (12318): EXIF ExposureTime: 1/25\nI/flutter (12318): EXIF Flash: Flash did not fire, compulsory flash mode\nI/flutter (12318): EXIF SubSecTime: 341\nI/flutter (12318): EXIF FNumber: 9/5\nI/flutter (12318): EXIF ExifImageWidth: 1920\nI/flutter (12318): EXIF ISOSpeedRatings: 361\nI/flutter (12318): EXIF ComponentsConfiguration: 636363\nI/flutter (12318): EXIF FocalLengthIn35mmFilm: 0\nI/flutter (12318): EXIF SubSecTimeDigitized: 199953\nI/flutter (12318): EXIF DateTimeDigitized: 2022:10:14 11:51:08\nI/flutter (12318): EXIF ShutterSpeedValue: 4643/1000\nI/flutter (12318): EXIF MeteringMode: CenterWeightedAverage\nI/flutter (12318): EXIF FocalLength: 4047/1000\nI/flutter (12318): EXIF SceneCaptureType: Standard\nI/flutter (12318): EXIF LightSource: Unknown\nI/flutter (12318): EXIF SensingMethod: 0\n</code></pre>\n<p>The custom tag <code>Yaw</code> didn't seem to be registered, and i have added another existing tag <code>TAG_FOCAL_PLANE_X_RESOLUTION</code> that is also missing while setting correctly.</p>\n<p>EDIT : I have found that writing custom attributes that do not exists in the documentation will never work and fail silently... So <code>Yaw</code> in my issue description will never be written.</p>\n"},{"tags":["java","gradle","tomcat","jersey"],"comments":[{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1665904482,"post_id":74083547,"comment_id":130804931,"body_markdown":"Try by creating transaction object then execute your query.","body":"Try by creating transaction object then execute your query."},{"owner":{"account_id":26635285,"reputation":1,"user_id":20251817,"display_name":"Olorono"},"score":0,"creation_date":1665917229,"post_id":74083547,"comment_id":130806905,"body_markdown":"Tried to do the query in transaction. It doesn&#39;t help.","body":"Tried to do the query in transaction. It doesn&#39;t help."},{"owner":{"account_id":26635285,"reputation":1,"user_id":20251817,"display_name":"Olorono"},"score":0,"creation_date":1665917260,"post_id":74083547,"comment_id":130806912,"body_markdown":"Session session = SessionUtil.getSession();\n        Transaction transaction = session.beginTransaction();\n        Query query = session.createQuery(&quot;from Employee&quot;);\n        List&lt;Employee&gt; employees =  query.list();\n        transaction.commit();\n        session.close();\n        return employees;\n\nReturn empty list (","body":"Session session = SessionUtil.getSession();         Transaction transaction = session.beginTransaction();         Query query = session.createQuery(&quot;from Employee&quot;);         List&lt;Employee&gt; employees =  query.list();         transaction.commit();         session.close();         return employees;  Return empty list ("},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1665931574,"post_id":74083547,"comment_id":130809744,"body_markdown":"Can you please post the table name from which you are getting data and hibernate query which generated by hibernate.","body":"Can you please post the table name from which you are getting data and hibernate query which generated by hibernate."}],"owner":{"account_id":26635285,"reputation":1,"user_id":20251817,"display_name":"Olorono"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665922139,"creation_date":1665874230,"question_id":74083547,"body_markdown":"I have REST API which get data from H2 database using Hibernate.  I added some data to database, but Query with select return empty list from database. I don&#39;t understand why the \r\nquery returns empty result in one case, but it returns correct data from main method. How to fix it?\r\n\r\n```\r\n@Path(&quot;/drones&quot;)\r\npublic class DroneResource {\r\n\r\n    @GET\r\n    @Produces(&quot;application/json&quot;)\r\n    public List&lt;Employee&gt; getEmployee() {\r\n        EmployeeDAO dao = new EmployeeDAO();\r\n         **// Return empty list **\r\n        List employees = dao.getEmployees();\r\n        return employees;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EmployeeDAO dao = new EmployeeDAO();\r\n       **// Return correct data from db **\r\n       List employees = dao.getEmployees(); \r\n\r\n    }\r\n}\r\n```\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory name=&quot;hibernateSessionFactory&quot;&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:./h2db;AUTO_SERVER=TRUE&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;admin&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.server_timezone&quot;&gt;UTC&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;com.gitlab.olorini.test.Employee&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nweb.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n    &lt;display-name&gt;Drones manager&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Example API&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.gitlab.olorini.web.services.endpoints&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Example API&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\nClass of db entity\r\n\r\n\r\n```\r\n@Entity\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column\r\n    private String name;\r\n    @Column\r\n    private int age;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n}\r\n```\r\n\r\nDAO\r\n```\r\npublic class EmployeeDAO {\r\n\r\n   public List&lt;Employee&gt; getEmployees(){\r\n        Session session = SessionUtil.getSession();\r\n        Query query = session.createQuery(&quot;from Employee&quot;);\r\n        List&lt;Employee&gt; employees =  query.list();\r\n        session.close();\r\n        return employees;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class SessionUtil {\r\n\r\n    private static SessionUtil instance=new SessionUtil();\r\n    private SessionFactory sessionFactory;\r\n\r\n    public static SessionUtil getInstance(){\r\n        return instance;\r\n    }\r\n\r\n    private SessionUtil(){\r\n        Configuration configuration = new Configuration();\r\n        configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n        sessionFactory = configuration.buildSessionFactory();\r\n    }\r\n\r\n    public static Session getSession(){\r\n        Session session =  getInstance().sessionFactory.openSession();\r\n\r\n        return session;\r\n    }\r\n}\r\n```\r\n\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n}\r\n\r\ngroup &#39;com.github.olorini&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = &#39;1.8&#39;\r\nproject.webAppDirName = &#39;web&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;lib&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;log4j:log4j:1.2.17&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.6.12.Final&#39;\r\n    implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    runtimeOnly &#39;com.h2database:h2:2.1.214&#39;\r\n    implementation &#39;com.sun.jersey:jersey-bundle:1.19.4&#39;\r\n    implementation &#39;com.sun.jersey:jersey-json:1.19.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nProject structure\r\n\r\n\r\n\r\n","title":"H2 database return empty query result in REST api","body":"<p>I have REST API which get data from H2 database using Hibernate.  I added some data to database, but Query with select return empty list from database. I don't understand why the\nquery returns empty result in one case, but it returns correct data from main method. How to fix it?</p>\n<pre><code>@Path(&quot;/drones&quot;)\npublic class DroneResource {\n\n    @GET\n    @Produces(&quot;application/json&quot;)\n    public List&lt;Employee&gt; getEmployee() {\n        EmployeeDAO dao = new EmployeeDAO();\n         **// Return empty list **\n        List employees = dao.getEmployees();\n        return employees;\n    }\n\n    public static void main(String[] args) {\n        EmployeeDAO dao = new EmployeeDAO();\n       **// Return correct data from db **\n       List employees = dao.getEmployees(); \n\n    }\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory name=&quot;hibernateSessionFactory&quot;&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:./h2db;AUTO_SERVER=TRUE&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.server_timezone&quot;&gt;UTC&lt;/property&gt;\n\n        &lt;mapping class=&quot;com.gitlab.olorini.test.Employee&quot;/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n    &lt;display-name&gt;Drones manager&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Example API&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.gitlab.olorini.web.services.endpoints&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Example API&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n\n</code></pre>\n<p>Class of db entity</p>\n<pre><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    @Column\n    private String name;\n    @Column\n    private int age;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getAge() {\n        return age;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n}\n</code></pre>\n<p>DAO</p>\n<pre><code>public class EmployeeDAO {\n\n   public List&lt;Employee&gt; getEmployees(){\n        Session session = SessionUtil.getSession();\n        Query query = session.createQuery(&quot;from Employee&quot;);\n        List&lt;Employee&gt; employees =  query.list();\n        session.close();\n        return employees;\n    }\n}\n</code></pre>\n<pre><code>public class SessionUtil {\n\n    private static SessionUtil instance=new SessionUtil();\n    private SessionFactory sessionFactory;\n\n    public static SessionUtil getInstance(){\n        return instance;\n    }\n\n    private SessionUtil(){\n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;hibernate.cfg.xml&quot;);\n\n        sessionFactory = configuration.buildSessionFactory();\n    }\n\n    public static Session getSession(){\n        Session session =  getInstance().sessionFactory.openSession();\n\n        return session;\n    }\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'war'\n}\n\ngroup 'com.github.olorini'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = '1.8'\nproject.webAppDirName = 'web'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs 'lib'\n    }\n}\n\ndependencies {\n    implementation 'log4j:log4j:1.2.17'\n    implementation 'org.hibernate:hibernate-core:5.6.12.Final'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    runtimeOnly 'com.h2database:h2:2.1.214'\n    implementation 'com.sun.jersey:jersey-bundle:1.19.4'\n    implementation 'com.sun.jersey:jersey-json:1.19.4'\n    testImplementation 'junit:junit:4.13.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Project structure</p>\n"},{"tags":["java","postgresql","spring-data-jpa","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":18331959,"reputation":776,"user_id":13350278,"display_name":"Mohamed Elgazar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665920857,"creation_date":1665920857,"answer_id":74086850,"question_id":74086830,"body_markdown":"The search_path setting in PostgreSQL controls the order in which schemas are searched when resolving names. By default, it is set to &quot;$user&quot;, meaning that names will be resolved in the current user&#39;s schema first, followed by the public schema.\r\n\r\nYou can override the default search_path by setting it in your application.properties file. The example above sets it to &quot;my_schema&quot;. This will cause names to be resolved in the &quot;my_schema&quot;\r\n\r\nYou can try using the search_path setting in PostgreSQL. You can set it in your application.properties file like this:\r\n\r\n    spring.jpa.properties.hibernate.default_schema=my_schema","title":"change postgresql schema on the fly","body":"<p>The search_path setting in PostgreSQL controls the order in which schemas are searched when resolving names. By default, it is set to &quot;$user&quot;, meaning that names will be resolved in the current user's schema first, followed by the public schema.</p>\n<p>You can override the default search_path by setting it in your application.properties file. The example above sets it to &quot;my_schema&quot;. This will cause names to be resolved in the &quot;my_schema&quot;</p>\n<p>You can try using the search_path setting in PostgreSQL. You can set it in your application.properties file like this:</p>\n<pre><code>spring.jpa.properties.hibernate.default_schema=my_schema\n</code></pre>\n"}],"owner":{"account_id":12593681,"reputation":23,"user_id":9159263,"display_name":"&#252;kr&#252; AYDINLIK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665920857,"creation_date":1665920675,"question_id":74086830,"body_markdown":"I am developing a multi-tenancy app with Spring Boot. Recently, I am trying to switch to PostgreSQL over MySQL. I want to use same database but different schema. However, I couldn&#39;t find a way to change schema on Spring Boot. On MySQL, it is possible via jdbc url by replacing the database name. On Postgre, I tried using currentSchema but it doesn&#39;t work. What could be the issue or how else can I solve it? ","title":"change postgresql schema on the fly","body":"<p>I am developing a multi-tenancy app with Spring Boot. Recently, I am trying to switch to PostgreSQL over MySQL. I want to use same database but different schema. However, I couldn't find a way to change schema on Spring Boot. On MySQL, it is possible via jdbc url by replacing the database name. On Postgre, I tried using currentSchema but it doesn't work. What could be the issue or how else can I solve it?</p>\n"},{"tags":["java","garbage-collection","garbage"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1484174401,"post_id":41601705,"comment_id":70406732,"body_markdown":"[`unlinkLast()`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#LinkedList.unlinkLast%28java.util.LinkedList.Node%29) has a similar quirk: `l.prev = null; // help GC`","body":"<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#LinkedList.unlinkLast%28java.util.LinkedList.Node%29\" rel=\"nofollow noreferrer\"><code>unlinkLast()</code></a> has a similar quirk: <code>l.prev = null; &#47;&#47; help GC</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1484176202,"post_id":41601705,"comment_id":70407374,"body_markdown":"Say that more than one element is removed through repeated calls to `unlinkFirst()`. The garbage collector *could*  collect them all, but it does quite an effort (in the so-called train algorithm) to keep track of which objects are eligible for collection in such cases. My guess is its easier and hence less costly to collect them one at a time without caring about references from other eligible objects.","body":"Say that more than one element is removed through repeated calls to <code>unlinkFirst()</code>. The garbage collector <i>could</i>  collect them all, but it does quite an effort (in the so-called train algorithm) to keep track of which objects are eligible for collection in such cases. My guess is its easier and hence less costly to collect them one at a time without caring about references from other eligible objects."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1484176337,"post_id":41601705,"comment_id":70407415,"body_markdown":"This _isn&#39;t_ needed.","body":"This <i>isn&#39;t</i> needed."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1484176543,"post_id":41601705,"comment_id":70407510,"body_markdown":"Possible duplicate of [Why isn&#39;t LinkedList.Clear() O(1)](http://stackoverflow.com/questions/5161031/why-isnt-linkedlist-clear-o1)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/5161031/why-isnt-linkedlist-clear-o1\">Why isn&#39;t LinkedList.Clear() O(1)</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1484176613,"post_id":41601705,"comment_id":70407532,"body_markdown":"See also: http://stackoverflow.com/a/32513361/1553851","body":"See also: <a href=\"http://stackoverflow.com/a/32513361/1553851\">stackoverflow.com/a/32513361/1553851</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1484176970,"post_id":41601705,"comment_id":70407659,"body_markdown":"@LouisWasserman Are you disputing the source, or nitpicking the question?","body":"@LouisWasserman Are you disputing the source, or nitpicking the question?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1484177500,"post_id":41601705,"comment_id":70407836,"body_markdown":"Not only is it not needed, it has no effect. `f` itself can be garbage-collected anyway once there are no reachable references to it, and the former value of `f.next` is still reachable via `next` and subsequently `first`. It *might* make the internal workings of GC slightly more efficient, but it is formally redundant.","body":"Not only is it not needed, it has no effect. <code>f</code> itself can be garbage-collected anyway once there are no reachable references to it, and the former value of <code>f.next</code> is still reachable via <code>next</code> and subsequently <code>first</code>. It <i>might</i> make the internal workings of GC slightly more efficient, but it is formally redundant."}],"answers":[{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665920216,"creation_date":1665919209,"answer_id":74086675,"question_id":41601705,"body_markdown":"The main purpose of setting `null` is to trigger earlier GC.\r\n\r\nSee, some objects could be in an old generation and if they point to objects in a new generation VM cannot reclaim those new object till full GC. VM even might be forced to propagate young objects to a long-lived object storage (eden =&gt; survival, or survival =&gt; tenured).\r\n\r\nMinor GC might occur each second, major GC each 10 minutes. Holding an object for 10 minutes could be a dumb thing to do.\r\n\r\nResetting links via `null` sometimes serves for documentation purposes, like in C we write `(void) printf(...);` to denote we ignore return value.","title":"Is an object not GC&#39;d even if it has references to other object?","body":"<p>The main purpose of setting <code>null</code> is to trigger earlier GC.</p>\n<p>See, some objects could be in an old generation and if they point to objects in a new generation VM cannot reclaim those new object till full GC. VM even might be forced to propagate young objects to a long-lived object storage (eden =&gt; survival, or survival =&gt; tenured).</p>\n<p>Minor GC might occur each second, major GC each 10 minutes. Holding an object for 10 minutes could be a dumb thing to do.</p>\n<p>Resetting links via <code>null</code> sometimes serves for documentation purposes, like in C we write <code>(void) printf(...);</code> to denote we ignore return value.</p>\n"}],"owner":{"account_id":1452830,"reputation":3936,"user_id":1597944,"accept_rate":36,"display_name":"Harish Kayarohanam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665920216,"creation_date":1484172973,"question_id":41601705,"body_markdown":"I thought that an object is eligible for Garbage Collection once it is not referenced by any other thing (object or variable).\nref : https://stackoverflow.com/a/13144938\n\nBut In Java linked list [source code][1] \n\n[![enter image description here][2]][2]\n\n\nHere not only the author removes any references to it, but he also goes on to remove what it refers to .\nWhy is this needed ?\nAm I missing something in my understanding about Garbage Collection ?\n\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#LinkedList.unlinkFirst%28java.util.LinkedList.Node%29\n  [2]: https://i.stack.imgur.com/bnuqE.png","title":"Is an object not GC&#39;d even if it has references to other object?","body":"<p>I thought that an object is eligible for Garbage Collection once it is not referenced by any other thing (object or variable).\nref : <a href=\"https://stackoverflow.com/a/13144938\">https://stackoverflow.com/a/13144938</a></p>\n<p>But In Java linked list <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#LinkedList.unlinkFirst%28java.util.LinkedList.Node%29\" rel=\"nofollow noreferrer\">source code</a></p>\n<p><a href=\"https://i.stack.imgur.com/bnuqE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnuqE.png\" alt=\"enter image description here\" /></a></p>\n<p>Here not only the author removes any references to it, but he also goes on to remove what it refers to .\nWhy is this needed ?\nAm I missing something in my understanding about Garbage Collection ?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":13679211,"reputation":58,"user_id":9869967,"display_name":"Binary Enigma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665920138,"creation_date":1665920138,"answer_id":74086773,"question_id":74086276,"body_markdown":"`XWPFDocument` has the method `removeBodyElement`, but since not every element needs to be a Paragraph, we can filter the body elements and then remove the specific paragraph like so:\r\n```java\r\nList&lt;IBodyElement&gt; elements = doc.getBodyElements();\r\nfor (int i = 0; i &lt; elements.size(); i++) {\r\n    var elem = elements.get(i);\r\n    if(!elem.getElementType().equals(BodyElementType.PARAGRAPH)) continue;\r\n\r\n    String line = ((XWPFParagraph) elem).getText();\r\n    if (line != null &amp;&amp; line.contains(&quot;@@THE_LINE_WILL_BE_DELETED@@&quot;)) {\r\n        doc.removeBodyElement(i);\r\n    }\r\n}\r\n```","title":"How to delete a line in docx with Apache POI?","body":"<p><code>XWPFDocument</code> has the method <code>removeBodyElement</code>, but since not every element needs to be a Paragraph, we can filter the body elements and then remove the specific paragraph like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;IBodyElement&gt; elements = doc.getBodyElements();\nfor (int i = 0; i &lt; elements.size(); i++) {\n    var elem = elements.get(i);\n    if(!elem.getElementType().equals(BodyElementType.PARAGRAPH)) continue;\n\n    String line = ((XWPFParagraph) elem).getText();\n    if (line != null &amp;&amp; line.contains(&quot;@@THE_LINE_WILL_BE_DELETED@@&quot;)) {\n        doc.removeBodyElement(i);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26312513,"reputation":23,"user_id":19975818,"display_name":"sretkaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665920138,"creation_date":1665915984,"question_id":74086276,"body_markdown":"I am trying to delete a line in .docx file with apachi poi but I cannot.&lt;br&gt;\r\nI can change a line and make it &quot;null&quot; but the line is being empty, not deleted.&lt;br&gt;\r\nI have a code like below but it is only making a line empty.\r\n\r\n    XWPFDocument doc = new XWPFDocument(OPCPackage.open(templatesPath + templateName));\r\n    for (XWPFParagraph p : doc.getParagraphs()) {\r\n        List&lt;XWPFRun&gt; runs = p.getRuns();\r\n        if(runs != null){\r\n            for(int i = 0; i &lt; runs.size(); i++){\r\n                String line = p.getText();\r\n\r\n                if(line != null &amp;&amp; line.contains(&quot;@@THE_LINE_WILL_BE_DELETED@@&quot;)){\r\n                    runs.get(i).setText(null,0);\r\n                    // Here I need to delete the instead of setting as a null.\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI you have an idea about how can I delete the lines which I want in docx? I searched a lot among other questions or forums but I cannot find?","title":"How to delete a line in docx with Apache POI?","body":"<p>I am trying to delete a line in .docx file with apachi poi but I cannot.<br>\nI can change a line and make it &quot;null&quot; but the line is being empty, not deleted.<br>\nI have a code like below but it is only making a line empty.</p>\n<pre><code>XWPFDocument doc = new XWPFDocument(OPCPackage.open(templatesPath + templateName));\nfor (XWPFParagraph p : doc.getParagraphs()) {\n    List&lt;XWPFRun&gt; runs = p.getRuns();\n    if(runs != null){\n        for(int i = 0; i &lt; runs.size(); i++){\n            String line = p.getText();\n\n            if(line != null &amp;&amp; line.contains(&quot;@@THE_LINE_WILL_BE_DELETED@@&quot;)){\n                runs.get(i).setText(null,0);\n                // Here I need to delete the instead of setting as a null.\n            }\n        }\n    }\n}\n</code></pre>\n<p>I you have an idea about how can I delete the lines which I want in docx? I searched a lot among other questions or forums but I cannot find?</p>\n"},{"tags":["java","hibernate","schemaexport"],"answers":[{"tags":[],"owner":{"account_id":921911,"reputation":1,"user_id":5753567,"display_name":"Tamer Sezgin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665920115,"creation_date":1665920115,"answer_id":74086768,"question_id":33595094,"body_markdown":"It seems Hibernate looks &quot;**hibernate.cfg.xml**&quot; file in classpath **root folder**. You can try the following:\r\n\r\n 1. copy &quot;`hibernate.cfg.xml`&quot; file to the current folder (where you run `java ...` command)\r\n 2. add current folder (&#39;`.`&#39;) to the classpath. (Note: you need to add classpath delimiter char too. It is &#39;`:`&#39; on Linux, and &#39;`;`&#39; on Windows)\r\n\r\nSo the final command (on Linux) should be: \r\n\r\n    java -cp &quot;.:lib/*&quot; org.hibernate.tool.hbm2ddl.SchemaExport --config=hibernate.cfg.xml --create src/hello/Message.hbm.xml","title":"Hibernate SchemaExport from the Commandline","body":"<p>It seems Hibernate looks &quot;<strong>hibernate.cfg.xml</strong>&quot; file in classpath <strong>root folder</strong>. You can try the following:</p>\n<ol>\n<li>copy &quot;<code>hibernate.cfg.xml</code>&quot; file to the current folder (where you run <code>java ...</code> command)</li>\n<li>add current folder ('<code>.</code>') to the classpath. (Note: you need to add classpath delimiter char too. It is '<code>:</code>' on Linux, and '<code>;</code>' on Windows)</li>\n</ol>\n<p>So the final command (on Linux) should be:</p>\n<pre><code>java -cp &quot;.:lib/*&quot; org.hibernate.tool.hbm2ddl.SchemaExport --config=hibernate.cfg.xml --create src/hello/Message.hbm.xml\n</code></pre>\n"}],"owner":{"account_id":337036,"reputation":184,"user_id":665060,"display_name":"Samih3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665920115,"creation_date":1446993208,"question_id":33595094,"body_markdown":"I&#39;m new to hibernate and have been attempting to run the SchemaExport hdm2ddl tool from the command line (windows) as:\r\n`java -cp &quot;lib/*&quot; org.hibernate.tool.hbm2ddl.SchemaExport --config=src/hibernate.cfg.xml --create src/hello/Message.hbm.xml`\r\n\r\nMy directory structure is as follows:\r\n\r\n    - HelloWorld\r\n        - bin\r\n        - lib (all of the required jars - list omitted for brevity)\r\n        - src\r\n            - hello (HelloWorld.java, Message.java &amp; Message.hbm.xml)\r\n            - persistence (HibernateUtil.java)\r\n            - hibernate.cfg.xml\r\n            - log4j.properties\r\n\r\nAttempting to run the command yields the error below:\r\n\r\n    log4j:WARN No appenders could be found for logger (org.jboss.logging).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    org.hibernate.internal.util.config.ConfigurationException: Could not locate cfg.xml resource [src/hibernate.cfg.xml]\r\n            at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:53)\r\n            at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\r\n            at org.hibernate.tool.hbm2ddl.SchemaExport.buildStandardServiceRegistry(SchemaExport.java:579)\r\n            at org.hibernate.tool.hbm2ddl.SchemaExport.main(SchemaExport.java:546)\r\n\r\nMy research so far:\r\n\r\n1. The command cannot find the hibernate.cfg.xml file. changing the spelling of the file in the command to a wrong spelling yields the same error.\r\n2. Copied the cfg.xml file into both the classpath (lib) and the HelloWorld directories. The error persisted.\r\n\r\nThis is basically the example from &quot;Java Persistence with Hibernate&quot; but running it from the command line instead of using ant.","title":"Hibernate SchemaExport from the Commandline","body":"<p>I'm new to hibernate and have been attempting to run the SchemaExport hdm2ddl tool from the command line (windows) as:\n<code>java -cp \"lib/*\" org.hibernate.tool.hbm2ddl.SchemaExport --config=src/hibernate.cfg.xml --create src/hello/Message.hbm.xml</code></p>\n\n<p>My directory structure is as follows:</p>\n\n<pre><code>- HelloWorld\n    - bin\n    - lib (all of the required jars - list omitted for brevity)\n    - src\n        - hello (HelloWorld.java, Message.java &amp; Message.hbm.xml)\n        - persistence (HibernateUtil.java)\n        - hibernate.cfg.xml\n        - log4j.properties\n</code></pre>\n\n<p>Attempting to run the command yields the error below:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.jboss.logging).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\norg.hibernate.internal.util.config.ConfigurationException: Could not locate cfg.xml resource [src/hibernate.cfg.xml]\n        at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:53)\n        at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\n        at org.hibernate.tool.hbm2ddl.SchemaExport.buildStandardServiceRegistry(SchemaExport.java:579)\n        at org.hibernate.tool.hbm2ddl.SchemaExport.main(SchemaExport.java:546)\n</code></pre>\n\n<p>My research so far:</p>\n\n<ol>\n<li>The command cannot find the hibernate.cfg.xml file. changing the spelling of the file in the command to a wrong spelling yields the same error.</li>\n<li>Copied the cfg.xml file into both the classpath (lib) and the HelloWorld directories. The error persisted.</li>\n</ol>\n\n<p>This is basically the example from \"Java Persistence with Hibernate\" but running it from the command line instead of using ant.</p>\n"},{"tags":["java","android-studio","wear-os","samsung-galaxy-watch-4"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665918938,"creation_date":1665918938,"answer_id":74086636,"question_id":74083594,"body_markdown":"For Compose you can use the onRotaryInputAccumulated modifier from Horologist \r\n\r\nExample for volume control\r\n\r\nhttps://github.com/google/horologist/blob/94552e13ea45613cc9b804ee7080b4aa92311d54/audio-ui/src/main/java/com/google/android/horologist/audio/ui/VolumeScreen.kt#L108-L114\r\n\r\nThe raw events come from onRotaryScrollEvent https://stackoverflow.com/questions/70060650/how-to-implement-positionindicator-for-bezel-galaxy-watch-4-classic-wear-os-3/70062947#70062947\r\n\r\nFor Views use https://developer.android.com/training/wearables/user-input/rotary-input","title":"Samsung Galaxy 4 classic bezel rotation detection in Android Studio (Java)","body":"<p>For Compose you can use the onRotaryInputAccumulated modifier from Horologist</p>\n<p>Example for volume control</p>\n<p><a href=\"https://github.com/google/horologist/blob/94552e13ea45613cc9b804ee7080b4aa92311d54/audio-ui/src/main/java/com/google/android/horologist/audio/ui/VolumeScreen.kt#L108-L114\" rel=\"nofollow noreferrer\">https://github.com/google/horologist/blob/94552e13ea45613cc9b804ee7080b4aa92311d54/audio-ui/src/main/java/com/google/android/horologist/audio/ui/VolumeScreen.kt#L108-L114</a></p>\n<p>The raw events come from onRotaryScrollEvent <a href=\"https://stackoverflow.com/questions/70060650/how-to-implement-positionindicator-for-bezel-galaxy-watch-4-classic-wear-os-3/70062947#70062947\">how to implement positionindicator for bezel (Galaxy watch 4 Classic) wear os 3.0 (jetpack compose)?</a></p>\n<p>For Views use <a href=\"https://developer.android.com/training/wearables/user-input/rotary-input\" rel=\"nofollow noreferrer\">https://developer.android.com/training/wearables/user-input/rotary-input</a></p>\n"}],"owner":{"account_id":26635470,"reputation":11,"user_id":20251974,"display_name":"Aschtr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665918938,"creation_date":1665875155,"question_id":74083594,"body_markdown":"I want to be able to add a value to an integral that I have:\r\n\r\nRotating clockwise would increase the value by one\r\n\r\nRotating counter-clockwise would decrease the value by one\r\n\r\nI tried searching and I found &quot;rotary input&quot;, but I didn&#39;t really manage to put it in practice (I mostly found it all talking about scrollview)\r\n\r\nHow can I achieve it?","title":"Samsung Galaxy 4 classic bezel rotation detection in Android Studio (Java)","body":"<p>I want to be able to add a value to an integral that I have:</p>\n<p>Rotating clockwise would increase the value by one</p>\n<p>Rotating counter-clockwise would decrease the value by one</p>\n<p>I tried searching and I found &quot;rotary input&quot;, but I didn't really manage to put it in practice (I mostly found it all talking about scrollview)</p>\n<p>How can I achieve it?</p>\n"},{"tags":["java","multithreading","spring-boot","executorservice","callable"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665913731,"post_id":74085974,"comment_id":130806341,"body_markdown":"when a new Thread is needed. The Executor will maintain a pool (collection) of threads to run the tasks. These Threads are re-used for new tasks, that is, they do not need to be started for every task&#185;. If the pool has no available Thread and its capacity is not yet fully used, a new Thread will (may be) created and started when `submit` is called. Also consult the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)) of `newFixedThreadPool`, and of related classes. || **&#185;** A Thread can only be started once","body":"when a new Thread is needed. The Executor will maintain a pool (collection) of threads to run the tasks. These Threads are re-used for new tasks, that is, they do not need to be started for every task&#185;. If the pool has no available Thread and its capacity is not yet fully used, a new Thread will (may be) created and started when <code>submit</code> is called. Also consult the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>newFixedThreadPool</code>, and of related classes. || <b>&#185;</b> A Thread can only be started once"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665915023,"post_id":74085974,"comment_id":130806553,"body_markdown":"I think you&#39;re confusing (or conflating) the method `run` of `Runnable` for the method `start` of `Thread`.","body":"I think you&#39;re confusing (or conflating) the method <code>run</code> of <code>Runnable</code> for the method <code>start</code> of <code>Thread</code>."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665918441,"creation_date":1665918441,"answer_id":74086576,"question_id":74085974,"body_markdown":"ExecutorService is another layer on top of Threads.\r\n\r\nYou dont have to manage the threads yourself, the ExecutorService is doing this for you.\r\n\r\n    Future&lt;Accounts&gt; accountFuture = executorService.submit(() -&gt; accountsRepository.findByCustomerId(customer.getCustomerId()));\r\n\r\nthis is already starting a new thread. You get a future returned to tell you the state of the computation (if its finished, the result etc).\r\n\r\nUnder the hood the ExecutorService is doing the new Thread().start() things automatically.","title":"When is start method invoked by ExecutorService in Java?","body":"<p>ExecutorService is another layer on top of Threads.</p>\n<p>You dont have to manage the threads yourself, the ExecutorService is doing this for you.</p>\n<pre><code>Future&lt;Accounts&gt; accountFuture = executorService.submit(() -&gt; accountsRepository.findByCustomerId(customer.getCustomerId()));\n</code></pre>\n<p>this is already starting a new thread. You get a future returned to tell you the state of the computation (if its finished, the result etc).</p>\n<p>Under the hood the ExecutorService is doing the new Thread().start() things automatically.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665918441,"creation_date":1665912588,"question_id":74085974,"body_markdown":"I&#39;m learning about `ExecutorService` in a simple Spring Boot project. And I know that `ExecutorService` uses `submit` method to submit tasks and it will uses different threads for every task. And I don&#39;t understand where exactly are the new threads started. I know that a thread is started using method `start`. Can somebody explain me where is invoked the `start` method? \r\n\r\nFor example, this is my code:\r\n\r\n    try {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\r\n        Future&lt;Accounts&gt; accountFuture =\r\n                executorService.submit(\r\n                        () -&gt; accountsRepository.findByCustomerId(customer.getCustomerId()));\r\n\r\n        Future&lt;List&lt;Loans&gt;&gt; loansFuture =\r\n                executorService.submit(\r\n                        () -&gt; loansFeignClient.getLoansDetails(correlationId, customer));\r\n\r\n        Future&lt;List&lt;Cards&gt;&gt; cardsFuture =\r\n                executorService.submit(\r\n                        () -&gt; cardsFeignClient.getCardDetails(correlationId, customer));\r\n\r\n        executorService.shutdown();\r\n        Accounts account;\r\n\r\n        try {\r\n            executorService.awaitTermination(3, TimeUnit.SECONDS);\r\n            account = accountFuture.get();\r\n        } catch (ExecutionException | InterruptedException ex) {\r\n            logger.warn(&quot;Exception for accountFuture.get() = {}&quot;, ex);\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n\r\n        List&lt;Loans&gt; loansList = new ArrayList&lt;&gt;();\r\n        List&lt;Cards&gt; cardsList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            loansList.addAll(loansFuture.get());\r\n        } catch (ExecutionException | InterruptedException ex) {\r\n            logger.warn(ex.toString());\r\n            logger.warn(&quot;The call to GET loans details failed! Returning empty contactDetails body!&quot;);\r\n        }\r\n\r\n        try {\r\n            cardsList.addAll(cardsFuture.get());\r\n        } catch (ExecutionException | InterruptedException ex) {\r\n            logger.warn(ex.toString());\r\n            logger.warn(&quot;The call to GET cards details failed! Returning empty contactDetails body!&quot;);\r\n        }\r\n\r\n        ...\r\n\r\n \r\nIs the new thread started when the `submit` method is invoked or when the `get` method is invoked? And when is invoked the `start` method?\r\nThank you! Any feedback will be appreciated!","title":"When is start method invoked by ExecutorService in Java?","body":"<p>I'm learning about <code>ExecutorService</code> in a simple Spring Boot project. And I know that <code>ExecutorService</code> uses <code>submit</code> method to submit tasks and it will uses different threads for every task. And I don't understand where exactly are the new threads started. I know that a thread is started using method <code>start</code>. Can somebody explain me where is invoked the <code>start</code> method?</p>\n<p>For example, this is my code:</p>\n<pre><code>try {\n    ExecutorService executorService = Executors.newFixedThreadPool(3);\n    Future&lt;Accounts&gt; accountFuture =\n            executorService.submit(\n                    () -&gt; accountsRepository.findByCustomerId(customer.getCustomerId()));\n\n    Future&lt;List&lt;Loans&gt;&gt; loansFuture =\n            executorService.submit(\n                    () -&gt; loansFeignClient.getLoansDetails(correlationId, customer));\n\n    Future&lt;List&lt;Cards&gt;&gt; cardsFuture =\n            executorService.submit(\n                    () -&gt; cardsFeignClient.getCardDetails(correlationId, customer));\n\n    executorService.shutdown();\n    Accounts account;\n\n    try {\n        executorService.awaitTermination(3, TimeUnit.SECONDS);\n        account = accountFuture.get();\n    } catch (ExecutionException | InterruptedException ex) {\n        logger.warn(&quot;Exception for accountFuture.get() = {}&quot;, ex);\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n\n    List&lt;Loans&gt; loansList = new ArrayList&lt;&gt;();\n    List&lt;Cards&gt; cardsList = new ArrayList&lt;&gt;();\n\n    try {\n        loansList.addAll(loansFuture.get());\n    } catch (ExecutionException | InterruptedException ex) {\n        logger.warn(ex.toString());\n        logger.warn(&quot;The call to GET loans details failed! Returning empty contactDetails body!&quot;);\n    }\n\n    try {\n        cardsList.addAll(cardsFuture.get());\n    } catch (ExecutionException | InterruptedException ex) {\n        logger.warn(ex.toString());\n        logger.warn(&quot;The call to GET cards details failed! Returning empty contactDetails body!&quot;);\n    }\n\n    ...\n</code></pre>\n<p>Is the new thread started when the <code>submit</code> method is invoked or when the <code>get</code> method is invoked? And when is invoked the <code>start</code> method?\nThank you! Any feedback will be appreciated!</p>\n"},{"tags":["java","ubuntu","groovy","java-11"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1640055059,"post_id":70427604,"comment_id":124499259,"body_markdown":"Groovy 2.4.21 has a number of these issues. Groovy 2.5 and 3 and very soon 4 each make strides to use method handles and other proper access mechanisms.","body":"Groovy 2.4.21 has a number of these issues. Groovy 2.5 and 3 and very soon 4 each make strides to use method handles and other proper access mechanisms."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1640056386,"post_id":70427604,"comment_id":124499397,"body_markdown":"to work with java 11 better to use groovy 3.0. java 9 started to be supported in groovy 2.5. groovy 2.4 designed for java 8. https://groovy-lang.org/releasenotes/groovy-2.5.html","body":"to work with java 11 better to use groovy 3.0. java 9 started to be supported in groovy 2.5. groovy 2.4 designed for java 8. <a href=\"https://groovy-lang.org/releasenotes/groovy-2.5.html\" rel=\"nofollow noreferrer\">groovy-lang.org/releasenotes/groovy-2.5.html</a>"},{"owner":{"account_id":2435926,"reputation":21157,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"score":0,"creation_date":1640058177,"post_id":70427604,"comment_id":124499642,"body_markdown":"Thanks @daggett, I think you&#39;ve nailed it. Just that my latest Ubuntu 21.10 is still only providing groovy-2.4.21. And for this particular reason, I think I&#39;ll use the java 8 (provided by openjdk-8-jdk:amd64) instead of installing groovy 3.0 using the external `sdkman` tool, because I just need something to work, no need to be the latest and greatest, and java 8 is fine with me. THX!","body":"Thanks @daggett, I think you&#39;ve nailed it. Just that my latest Ubuntu 21.10 is still only providing groovy-2.4.21. And for this particular reason, I think I&#39;ll use the java 8 (provided by openjdk-8-jdk:amd64) instead of installing groovy 3.0 using the external <code>sdkman</code> tool, because I just need something to work, no need to be the latest and greatest, and java 8 is fine with me. THX!"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640053769,"creation_date":1640052145,"answer_id":70429902,"question_id":70427604,"body_markdown":"It&#39;s clear from the FileNotFound exception that the --add-opens was not used as a JVM flag.\r\nHave you tried setting JAVA_OPTS?  Like so:\r\n```\r\nexport JAVA_OPTS=&quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\ngroovy --version\r\n```\r\n\r\nI don&#39;t get the same error as you.  I actually still get the reflective access warnings, not an error about ```--add-opens``` being unrecognized.\r\nEven with ```--illegal-access=permit``` I still see the warnings. Odd.  I&#39;m sure the JAVA_OPTS value is being used as it does complain if I set it to an invalid flag.\r\n\r\nDo you have JAVA_HOME defined? I noticed groovy also picks up that value to choose the JVM.\r\n\r\nWith Java 17 I get no warnings or errors.\r\n","title":"groovy WARNING: An illegal reflective access operation has occurred under Ubuntu","body":"<p>It's clear from the FileNotFound exception that the --add-opens was not used as a JVM flag.\nHave you tried setting JAVA_OPTS?  Like so:</p>\n<pre><code>export JAVA_OPTS=&quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\ngroovy --version\n</code></pre>\n<p>I don't get the same error as you.  I actually still get the reflective access warnings, not an error about <code>--add-opens</code> being unrecognized.\nEven with <code>--illegal-access=permit</code> I still see the warnings. Odd.  I'm sure the JAVA_OPTS value is being used as it does complain if I set it to an invalid flag.</p>\n<p>Do you have JAVA_HOME defined? I noticed groovy also picks up that value to choose the JVM.</p>\n<p>With Java 17 I get no warnings or errors.</p>\n"},{"tags":[],"owner":{"account_id":26099213,"reputation":11,"user_id":19794910,"display_name":"temecom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660833624,"creation_date":1660833624,"answer_id":73404990,"question_id":70427604,"body_markdown":"Follow the instructions here: https://groovy-lang.org/install.html\r\nThis will: \r\n\r\n - Install sdkman \r\n   - Manages multiple JDKs and extensions\r\n - Install groovy in the current JDK\r\n\r\nWorked for me on:\r\n\r\n - openjdk 11.0.11 2021-04-20\r\n - OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\n - OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)","title":"groovy WARNING: An illegal reflective access operation has occurred under Ubuntu","body":"<p>Follow the instructions here: <a href=\"https://groovy-lang.org/install.html\" rel=\"nofollow noreferrer\">https://groovy-lang.org/install.html</a>\nThis will:</p>\n<ul>\n<li>Install sdkman\n<ul>\n<li>Manages multiple JDKs and extensions</li>\n</ul>\n</li>\n<li>Install groovy in the current JDK</li>\n</ul>\n<p>Worked for me on:</p>\n<ul>\n<li>openjdk 11.0.11 2021-04-20</li>\n<li>OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)</li>\n<li>OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)</li>\n</ul>\n"}],"owner":{"account_id":2435926,"reputation":21157,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70429902,"answer_count":2,"score":0,"last_activity_date":1665917981,"creation_date":1640031806,"question_id":70427604,"body_markdown":"Same issue as \r\nhttps://stackoverflow.com/questions/47935772/groovy-warning-an-illegal-reflective-access-operation-has-occurred, just that\r\n\r\n- This is in Ubuntu 21.10\r\n- And most importantly that solution (of passing `--add-opens` to the JVM), I&#39;m not able to make it working for me.\r\n\r\n```sh\r\n$ groovy -version\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/usr/share/groovy/lib/groovy-2.4.21.jar) to method java.lang.Object.finalize()\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nGroovy Version: 2.4.21 JVM: 11.0.12 Vendor: Ubuntu OS: Linux\r\n\r\n$ java -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\r\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\r\n\r\n$ java --add-opens java.base/java.lang=ALL-UNNAMED -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\r\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\r\n\r\n$ groovy --add-opens java.base/java.lang=ALL-UNNAMED -version\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/usr/share/groovy/lib/groovy-2.4.21.jar) to method java.lang.Object.finalize()\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nCaught: java.io.FileNotFoundException: /export/home/me/--add-opens (/export/home/me/--add-opens)\r\njava.io.FileNotFoundException: /export/home/me/--add-opens (/export/home/me/--add-opens)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n$ apt-cache policy groovy\r\ngroovy:\r\n  Installed: 2.4.21-1\r\n  Candidate: 2.4.21-1\r\n  Version table:\r\n *** 2.4.21-1 500\r\n        500 http://archive.ubuntu.com/ubuntu impish/universe amd64 Packages\r\n        500 http://archive.ubuntu.com/ubuntu impish/universe i386 Packages\r\n        100 /var/lib/dpkg/status\r\n\r\n\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 21.10\r\nRelease:        21.10\r\nCodename:       impish\r\n```\r\n\r\n**Update,** I&#39;ve tried to set `JAVA_OPTS` as well:\r\n\r\n```sh\r\nexport JAVA_OPTS=&quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n$ groovy -version\r\nUnrecognized option: --add-opens\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\n\r\nHow to get rid of that warning message?\r\n","title":"groovy WARNING: An illegal reflective access operation has occurred under Ubuntu","body":"<p>Same issue as\n<a href=\"https://stackoverflow.com/questions/47935772/groovy-warning-an-illegal-reflective-access-operation-has-occurred\">Groovy - WARNING: An illegal reflective access operation has occurred</a>, just that</p>\n<ul>\n<li>This is in Ubuntu 21.10</li>\n<li>And most importantly that solution (of passing <code>--add-opens</code> to the JVM), I'm not able to make it working for me.</li>\n</ul>\n<pre class=\"lang-sh prettyprint-override\"><code>$ groovy -version\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/usr/share/groovy/lib/groovy-2.4.21.jar) to method java.lang.Object.finalize()\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nGroovy Version: 2.4.21 JVM: 11.0.12 Vendor: Ubuntu OS: Linux\n\n$ java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\n\n$ java --add-opens java.base/java.lang=ALL-UNNAMED -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\n\n$ groovy --add-opens java.base/java.lang=ALL-UNNAMED -version\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/usr/share/groovy/lib/groovy-2.4.21.jar) to method java.lang.Object.finalize()\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nCaught: java.io.FileNotFoundException: /export/home/me/--add-opens (/export/home/me/--add-opens)\njava.io.FileNotFoundException: /export/home/me/--add-opens (/export/home/me/--add-opens)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\n$ apt-cache policy groovy\ngroovy:\n  Installed: 2.4.21-1\n  Candidate: 2.4.21-1\n  Version table:\n *** 2.4.21-1 500\n        500 http://archive.ubuntu.com/ubuntu impish/universe amd64 Packages\n        500 http://archive.ubuntu.com/ubuntu impish/universe i386 Packages\n        100 /var/lib/dpkg/status\n\n\n$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 21.10\nRelease:        21.10\nCodename:       impish\n</code></pre>\n<p><strong>Update,</strong> I've tried to set <code>JAVA_OPTS</code> as well:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_OPTS=&quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n\n$ groovy -version\nUnrecognized option: --add-opens\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>How to get rid of that warning message?</p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":9899777,"reputation":1892,"user_id":9255006,"display_name":"Zankrut Parmar"},"score":0,"creation_date":1665915829,"post_id":74086248,"comment_id":130806675,"body_markdown":"Does this answer your question? [Switch between Prod and Dev environment](https://stackoverflow.com/questions/43305246/switch-between-prod-and-dev-environment)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43305246/switch-between-prod-and-dev-environment\">Switch between Prod and Dev environment</a>"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1665916005,"post_id":74086248,"comment_id":130806708,"body_markdown":"This isn&#39;t a Java concept; are you using a framework which supports different settings for development/production/testing, or do you just want to know how to read an environment variable in Java?","body":"This isn&#39;t a Java concept; are you using a framework which supports different settings for development/production/testing, or do you just want to know how to read an environment variable in Java?"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":0,"creation_date":1665916323,"post_id":74086248,"comment_id":130806763,"body_markdown":"Thanks but no, that post is interesting but it doesn&#39;t help me much since the idea is to learn how environments work without having to get into Spring (Spring is too advanced for a junior).\nIsn&#39;t there a native Java way to work with .env files or something?","body":"Thanks but no, that post is interesting but it doesn&#39;t help me much since the idea is to learn how environments work without having to get into Spring (Spring is too advanced for a junior). Isn&#39;t there a native Java way to work with .env files or something?"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":0,"creation_date":1665916436,"post_id":74086248,"comment_id":130806781,"body_markdown":"I know environments are not unique to Java, but I&#39;m looking for a way to implement them in Java. I don&#39;t use any framework apart from JavaFX. It is a simple application to learn programming. And I would like to know how to work with environments without reaching levels as advanced as Spring","body":"I know environments are not unique to Java, but I&#39;m looking for a way to implement them in Java. I don&#39;t use any framework apart from JavaFX. It is a simple application to learn programming. And I would like to know how to work with environments without reaching levels as advanced as Spring"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1665917133,"post_id":74086248,"comment_id":130806883,"body_markdown":"So then you just want to [read an environment variable](https://stackoverflow.com/q/20610080/12299000)?","body":"So then you just want to <a href=\"https://stackoverflow.com/q/20610080/12299000\">read an environment variable</a>?"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":0,"creation_date":1665917449,"post_id":74086248,"comment_id":130806951,"body_markdown":"To better explain myself, I will give an example. In javascript, you can create files like .env , .env.development, etc. And inside them you put key value pairs. You can then retrieve that in your code. It dynamically returns the value depending on whether you are in development or production. I&#39;m looking to do the same thing in Java but in a simple way. Without having to use Spring as it is extremely advanced","body":"To better explain myself, I will give an example. In javascript, you can create files like .env , .env.development, etc. And inside them you put key value pairs. You can then retrieve that in your code. It dynamically returns the value depending on whether you are in development or production. I&#39;m looking to do the same thing in Java but in a simple way. Without having to use Spring as it is extremely advanced"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":0,"creation_date":1665918181,"post_id":74086248,"comment_id":130807094,"body_markdown":"I am not sure, but i think System.getEnvironment is nor what i am looking for since it returns you variables like JAVA_HOME. https://stackoverflow.com/questions/531694/how-can-i-get-system-variable-value-in-java","body":"I am not sure, but i think System.getEnvironment is nor what i am looking for since it returns you variables like JAVA_HOME. <a href=\"https://stackoverflow.com/questions/531694/how-can-i-get-system-variable-value-in-java\" title=\"how can i get system variable value in java\">stackoverflow.com/questions/531694/&hellip;</a>"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":1,"creation_date":1665918223,"post_id":74086248,"comment_id":130807109,"body_markdown":"System.getEnvironment is exactly what you want. You will have to pass different variables depending on which system you are on.","body":"System.getEnvironment is exactly what you want. You will have to pass different variables depending on which system you are on."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1665918295,"post_id":74086248,"comment_id":130807125,"body_markdown":"It returns things like `java_home`...but also things like `my_db_pwd` or (better) `my_app_environment...` ;) ..these you&#39;d *have to set* on the according env./pass as cmd arguments/...(e.g. `java ... MyApp -Dmy_env=prod`;)","body":"It returns things like <code>java_home</code>...but also things like <code>my_db_pwd</code> or (better) <code>my_app_environment...</code> ;) ..these you&#39;d <i>have to set</i> on the according env./pass as cmd arguments/...(e.g. <code>java ... MyApp -Dmy_env=prod</code>;)"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":0,"creation_date":1665918661,"post_id":74086248,"comment_id":130807204,"body_markdown":"Is there any documentation or course that I can consult to learn how to work with the environments? When I search for &quot;java environment variables&quot; the only thing I find is how to install JAVA_HOME in the","body":"Is there any documentation or course that I can consult to learn how to work with the environments? When I search for &quot;java environment variables&quot; the only thing I find is how to install JAVA_HOME in the"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665918805,"post_id":74086248,"comment_id":130807233,"body_markdown":"..without spring or maven (plain (ole) java), you&#39;d (mimic &quot;spring profiles&quot;): introduce (multiple/hirarchical) `my_domain[_env].properties` (google: &quot;java.util.properties&quot;) ..some (custom) piece of code would &quot;load&quot; you these (regarding structure/according to `env`), and make it available to &quot;your app&quot;.","body":"..without spring or maven (plain (ole) java), you&#39;d (mimic &quot;spring profiles&quot;): introduce (multiple/hirarchical) <code>my_domain[_env].properties</code> (google: &quot;java.util.properties&quot;) ..some (custom) piece of code would &quot;load&quot; you these (regarding structure/according to <code>env</code>), and make it available to &quot;your app&quot;."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665918975,"post_id":74086248,"comment_id":130807260,"body_markdown":"Then &quot;your app&quot; could do (environment independently) things like: `myProps.get(&quot;my_domain_custom_config_password_etc&quot;);` (which would refer to some entry(key!) of your *deployed* `my_domain[_env].properties` files..)","body":"Then &quot;your app&quot; could do (environment independently) things like: <code>myProps.get(&quot;my_domain_custom_config_password_etc&quot;);</code> (which would refer to some entry(key!) of your <i>deployed</i> <code>my_domain[_env].properties</code> files..)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665919230,"post_id":74086248,"comment_id":130807293,"body_markdown":"But for &quot;few properties&quot;, just ensure: to set them correctly (on the target environment) and read them correctly. :-)","body":"But for &quot;few properties&quot;, just ensure: to set them correctly (on the target environment) and read them correctly. :-)"},{"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"score":1,"creation_date":1665919302,"post_id":74086248,"comment_id":130807311,"body_markdown":"thanks, i will try to find more info on what you said.","body":"thanks, i will try to find more info on what you said."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665919849,"post_id":74086248,"comment_id":130807400,"body_markdown":"Also note (subtle) difference between `System.getenv()` (these refers to &quot;OS  (env) vars&quot;) and `System.getProperties()` (which is a &quot;JVM Thing&quot;..and can be set via cmd/programmatically)","body":"Also note (subtle) difference between <code>System.getenv()</code> (these refers to &quot;OS  (env) vars&quot;) and <code>System.getProperties()</code> (which is a &quot;JVM Thing&quot;..and can be set via cmd/programmatically)"}],"owner":{"account_id":25709237,"reputation":61,"user_id":19468052,"display_name":"vktop"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665917505,"creation_date":1665915686,"question_id":74086248,"body_markdown":"I can&#39;t find anything on how to work with Java environments (production, development, etc) since every time I search for &quot;java environment variables&quot; I get results of how to install Java on windows and windows environment variables (JAVA_HOME) or similar things.\r\nCould someone explain how Java environments work and where to find official documentation?\r\n\r\nTo put you in context, I&#39;m a junior developer and I want to set a few different paths for my embedded database depending on whether I&#39;m in production or development.\r\nMy project doesn&#39;t have anything from spring or maven.\r\n\r\n\r\nTo better explain myself, I will give an example. In javascript, you can create files like .env , .env.development, etc. And inside them you put key value pairs. You can then retrieve that in your code. It dynamically returns the value depending on whether you are in development or production. I&#39;m looking to do the same thing in Java but in a simple way. Without having to use Spring as it is extremely advanced","title":"How to work with environements in Java (dev,prod,etc)","body":"<p>I can't find anything on how to work with Java environments (production, development, etc) since every time I search for &quot;java environment variables&quot; I get results of how to install Java on windows and windows environment variables (JAVA_HOME) or similar things.\nCould someone explain how Java environments work and where to find official documentation?</p>\n<p>To put you in context, I'm a junior developer and I want to set a few different paths for my embedded database depending on whether I'm in production or development.\nMy project doesn't have anything from spring or maven.</p>\n<p>To better explain myself, I will give an example. In javascript, you can create files like .env , .env.development, etc. And inside them you put key value pairs. You can then retrieve that in your code. It dynamically returns the value depending on whether you are in development or production. I'm looking to do the same thing in Java but in a simple way. Without having to use Spring as it is extremely advanced</p>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":9208740,"reputation":797,"user_id":6842921,"display_name":"Usama Shahid"},"score":0,"creation_date":1665930851,"post_id":74086383,"comment_id":130809581,"body_markdown":"This library is old and was not updated from long time. Try using some one else.","body":"This library is old and was not updated from long time. Try using some one else."},{"owner":{"account_id":9208740,"reputation":797,"user_id":6842921,"display_name":"Usama Shahid"},"score":0,"creation_date":1665930868,"post_id":74086383,"comment_id":130809588,"body_markdown":"This library is old and was not updated from long time. Try using some one else.","body":"This library is old and was not updated from long time. Try using some one else."},{"owner":{"account_id":26638791,"reputation":1,"user_id":20254815,"display_name":"Jack Teng"},"score":0,"creation_date":1665979386,"post_id":74086383,"comment_id":130817909,"body_markdown":"I have found the component library of **react-native-scrollable-tab-view-forked**, but it doesn&#39;t have a ts version, so I can&#39;t use it;","body":"I have found the component library of <b>react-native-scrollable-tab-view-forked</b>, but it doesn&#39;t have a ts version, so I can&#39;t use it;"},{"owner":{"account_id":26638791,"reputation":1,"user_id":20254815,"display_name":"Jack Teng"},"score":0,"creation_date":1669257213,"post_id":74086383,"comment_id":131605360,"body_markdown":"Finally, I used the components provided by React native for secondary packaging. The usage is the same as react-native-scrollable-tab-view, and finally solved this problem.","body":"Finally, I used the components provided by React native for secondary packaging. The usage is the same as react-native-scrollable-tab-view, and finally solved this problem."}],"owner":{"account_id":26638791,"reputation":1,"user_id":20254815,"display_name":"Jack Teng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665916747,"creation_date":1665916747,"question_id":74086383,"body_markdown":"```\r\nException java.lang.NullPointerException:\r\n  at androidx.viewpager2.adapter.FragmentStateAdapter.&lt;init&gt; (FragmentStateAdapter.java:102)\r\n  at com.reactnativecommunity.viewpager.FragmentAdapter.&lt;init&gt; (FragmentAdapter.java:19)\r\n  at com.reactnativecommunity.viewpager.ReactViewPagerManager.createViewInstance (ReactViewPagerManager.java:58)\r\n  at com.reactnativecommunity.viewpager.ReactViewPagerManager.createViewInstance (ReactViewPagerManager.java:40)\r\n  at com.facebook.react.uimanager.ViewManager.createViewInstance (ViewManager.java:140)\r\n  at com.facebook.react.uimanager.ViewManager.createView (ViewManager.java:77)\r\n  at com.facebook.react.uimanager.NativeViewHierarchyManager.createView (NativeViewHierarchyManager.java:282)\r\n  at com.facebook.react.uimanager.UIViewOperationQueue$CreateViewOperation.execute (UIViewOperationQueue.java:194)\r\n  at com.facebook.react.uimanager.UIViewOperationQueue$1.run (UIViewOperationQueue.java:908)\r\n  at com.facebook.react.uimanager.UIViewOperationQueue.flushPendingBatches (UIViewOperationQueue.java:1025)\r\n  at com.facebook.react.uimanager.UIViewOperationQueue.access$2600 (UIViewOperationQueue.java:47)\r\n  at com.facebook.react.uimanager.UIViewOperationQueue$2.runGuarded (UIViewOperationQueue.java:983)\r\n  at com.facebook.react.bridge.GuardedRunnable.run (GuardedRunnable.java:31)\r\n  at android.os.Handler.handleCallback (Handler.java:938)\r\n  at android.os.Handler.dispatchMessage (Handler.java:99)\r\n  at android.os.Looper.loopOnce (Looper.java:233)\r\n  at android.os.Looper.loop (Looper.java:344)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8212)\r\n  at java.lang.reflect.Method.invoke (Method.java)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1034)\r\n```\r\n\r\n\r\n\r\n**My problem should be caused by it, but I don&#39;t know the specific reason. Can anyone please help me and how should I solve this problem;**\r\n\r\npackage.json\r\n ```\r\n&quot;react-native-scrollable-tab-view&quot;: &quot;^1.0.0&quot;\r\n```","title":"React Native com.reactnativecommunity.viewpager.FragmentAdapter.&lt;init&gt; ( android ANR)","body":"<pre><code>Exception java.lang.NullPointerException:\n  at androidx.viewpager2.adapter.FragmentStateAdapter.&lt;init&gt; (FragmentStateAdapter.java:102)\n  at com.reactnativecommunity.viewpager.FragmentAdapter.&lt;init&gt; (FragmentAdapter.java:19)\n  at com.reactnativecommunity.viewpager.ReactViewPagerManager.createViewInstance (ReactViewPagerManager.java:58)\n  at com.reactnativecommunity.viewpager.ReactViewPagerManager.createViewInstance (ReactViewPagerManager.java:40)\n  at com.facebook.react.uimanager.ViewManager.createViewInstance (ViewManager.java:140)\n  at com.facebook.react.uimanager.ViewManager.createView (ViewManager.java:77)\n  at com.facebook.react.uimanager.NativeViewHierarchyManager.createView (NativeViewHierarchyManager.java:282)\n  at com.facebook.react.uimanager.UIViewOperationQueue$CreateViewOperation.execute (UIViewOperationQueue.java:194)\n  at com.facebook.react.uimanager.UIViewOperationQueue$1.run (UIViewOperationQueue.java:908)\n  at com.facebook.react.uimanager.UIViewOperationQueue.flushPendingBatches (UIViewOperationQueue.java:1025)\n  at com.facebook.react.uimanager.UIViewOperationQueue.access$2600 (UIViewOperationQueue.java:47)\n  at com.facebook.react.uimanager.UIViewOperationQueue$2.runGuarded (UIViewOperationQueue.java:983)\n  at com.facebook.react.bridge.GuardedRunnable.run (GuardedRunnable.java:31)\n  at android.os.Handler.handleCallback (Handler.java:938)\n  at android.os.Handler.dispatchMessage (Handler.java:99)\n  at android.os.Looper.loopOnce (Looper.java:233)\n  at android.os.Looper.loop (Looper.java:344)\n  at android.app.ActivityThread.main (ActivityThread.java:8212)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1034)\n</code></pre>\n<p><strong>My problem should be caused by it, but I don't know the specific reason. Can anyone please help me and how should I solve this problem;</strong></p>\n<p>package.json</p>\n<pre><code>&quot;react-native-scrollable-tab-view&quot;: &quot;^1.0.0&quot;\n</code></pre>\n"},{"tags":["java","windowbuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665919128,"post_id":74086327,"comment_id":130807283,"body_markdown":"What Eclipse version are you using? What Java version are you using? What platform are you on?","body":"What Eclipse version are you using? What Java version are you using? What platform are you on?"},{"owner":{"account_id":26606397,"reputation":1,"user_id":20227156,"display_name":"Prakash Irom"},"score":0,"creation_date":1665922793,"post_id":74086327,"comment_id":130807963,"body_markdown":"@Abra Java version is 8 but for eclipse I don&#39;t know which version but it&#39;s released date is 2022/09, Windows 11","body":"@Abra Java version is 8 but for eclipse I don&#39;t know which version but it&#39;s released date is 2022/09, Windows 11"},{"owner":{"account_id":26606397,"reputation":1,"user_id":20227156,"display_name":"Prakash Irom"},"score":0,"creation_date":1665984345,"post_id":74086327,"comment_id":130818525,"body_markdown":"@Abra can u please help me resolve this","body":"@Abra can u please help me resolve this"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665984550,"post_id":74086327,"comment_id":130818555,"body_markdown":"No, I can&#39;t. Try  the _WindowBuilder_ [forum](https://www.eclipse.org/forums/index.php?t=thread&amp;frm_id=214)","body":"No, I can&#39;t. Try  the <i>WindowBuilder</i> <a href=\"https://www.eclipse.org/forums/index.php?t=thread&amp;frm_id=214\" rel=\"nofollow noreferrer\">forum</a>"}],"owner":{"account_id":26606397,"reputation":1,"user_id":20227156,"display_name":"Prakash Irom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665916456,"creation_date":1665916337,"question_id":74086327,"body_markdown":"I have installed window builder on my eclipse and when I tried to use the design tab, the window is not showing properly and I cannot use any of the features present in the palette window. And you can see it from the photo that the minimize,maximize,close is missing in the window.\r\n\r\n\r\n\r\n  [issue photo here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u2S0e.png","title":"How can I solve this window builder issue in eclipse?","body":"<p>I have installed window builder on my eclipse and when I tried to use the design tab, the window is not showing properly and I cannot use any of the features present in the palette window. And you can see it from the photo that the minimize,maximize,close is missing in the window.</p>\n<p><a href=\"https://i.stack.imgur.com/u2S0e.png\" rel=\"nofollow noreferrer\">issue photo here</a></p>\n"},{"tags":["java","eclipse","eclipse-plugin","pydev"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1665824858,"post_id":74077053,"comment_id":130792444,"body_markdown":"What happens? What does the right click &quot;Open With...&quot; menu show?","body":"What happens? What does the right click &quot;Open With...&quot; menu show?"},{"owner":{"display_name":"user18070793"},"score":0,"creation_date":1665829880,"post_id":74077053,"comment_id":130793330,"body_markdown":"It&#39;s set to java editor. Also right click menu and clicking &quot;Open&quot; works","body":"It&#39;s set to java editor. Also right click menu and clicking &quot;Open&quot; works"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1665882409,"post_id":74077053,"comment_id":130802744,"body_markdown":"What happens instead of opening? Does anything get added to the Error Log?","body":"What happens instead of opening? Does anything get added to the Error Log?"},{"owner":{"display_name":"user18070793"},"score":0,"creation_date":1665889578,"post_id":74077053,"comment_id":130803411,"body_markdown":"Nope, Nothing added to error log, Just does nothing.","body":"Nope, Nothing added to error log, Just does nothing."}],"answers":[{"tags":[],"owner":{"account_id":38479,"reputation":24939,"user_id":110451,"accept_rate":75,"display_name":"Fabio Zadrozny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665916450,"creation_date":1665916450,"answer_id":74086344,"question_id":74077053,"body_markdown":"This was some regression en Eclipse itself (as nothing changed in the area in PyDev in many years but Eclipse `2022-03` started misbehaving when the `PyDev Navigator Content` is enabled in the `Project Explorer` -- or maybe they fixed some bug that PyDev relied on \t&#128516;).\r\n\r\nI still need to investigate if this is fixable in the PyDev side...\r\n\r\nRight now the workarounds available are:\r\n\r\n1. Don&#39;t use the `Project Explorer` (i.e.: keep to the `Package Explorer` or `PyDev Package Explorer`).\r\n2. Disable `PyDev Navigator Content` in the `Project Explorer` (see image below).\r\n\r\n[![Disable PyDev Navigator Content in the `Project Explorer`][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bzUwT.png","title":"Unable to open *.java files in eclipse after installing PyDev","body":"<p>This was some regression en Eclipse itself (as nothing changed in the area in PyDev in many years but Eclipse <code>2022-03</code> started misbehaving when the <code>PyDev Navigator Content</code> is enabled in the <code>Project Explorer</code> -- or maybe they fixed some bug that PyDev relied on    ).</p>\n<p>I still need to investigate if this is fixable in the PyDev side...</p>\n<p>Right now the workarounds available are:</p>\n<ol>\n<li>Don't use the <code>Project Explorer</code> (i.e.: keep to the <code>Package Explorer</code> or <code>PyDev Package Explorer</code>).</li>\n<li>Disable <code>PyDev Navigator Content</code> in the <code>Project Explorer</code> (see image below).</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bzUwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bzUwT.png\" alt=\"Disable PyDev Navigator Content in the Project Explorer\" /></a></p>\n"}],"owner":{"display_name":"user18070793"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666009128,"accepted_answer_id":74086344,"answer_count":1,"score":0,"last_activity_date":1665916450,"creation_date":1665813433,"question_id":74077053,"body_markdown":"I installed PyDev in eclipse to add support for python,\r\n\r\nit&#39;s was going great until I found out I cannot open *.java files anymore, but when I uninstall PyDev, I can open *.java files.\r\n\r\nCan anyone explain?","title":"Unable to open *.java files in eclipse after installing PyDev","body":"<p>I installed PyDev in eclipse to add support for python,</p>\n<p>it's was going great until I found out I cannot open *.java files anymore, but when I uninstall PyDev, I can open *.java files.</p>\n<p>Can anyone explain?</p>\n"},{"tags":["java","css","gluon-mobile","javafx-11"],"comments":[{"owner":{"account_id":24388177,"reputation":3,"user_id":18318589,"display_name":"Joseph Sekwa"},"score":0,"creation_date":1665826174,"post_id":74078187,"comment_id":130792680,"body_markdown":"@Jos&#233; Pereda I have searched to gluon documentation without any success, now I need you assist. Thanks","body":"@Jos&#233; Pereda I have searched to gluon documentation without any success, now I need you assist. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665841981,"creation_date":1665841981,"answer_id":74080036,"question_id":74078187,"body_markdown":"To style any JavaFX node with CSS, you mainly need to know its CSS style class, and the ones from its ancestors.\r\n\r\nOne way to know this is by printing out the hierarchy involved in the `NavigationDrawer`, like:\r\n\r\n```\r\n    @Override\r\n    public void init() {\r\n        AppViewManager.registerViewsAndDrawer();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        appManager.start(primaryStage);\r\n\r\n        appManager.getDrawer().getStyleClass()\r\n                .forEach(css -&gt; System.out.println(&quot;drawer css = &quot; + css));\r\n        appManager.getDrawer().getItems()\r\n                .forEach(item -&gt; item.getStyleClass()\r\n                        .forEach(css -&gt; System.out.println(&quot;  - item css = &quot; + css)));\r\n    }\r\n```\r\n\r\nthat will print:\r\n```\r\ndrawer css = navigation-drawer\r\n  - item css = item\r\n  - item css = item\r\n  - item css = item\r\n```\r\n\r\nSo now, for instance, you could add this to your `style.css` file:\r\n\r\n```\r\n.navigation-drawer .item .label {\r\n    -fx-font-size: 18px;\r\n    -fx-text-fill: red;\r\n}\r\n```\r\nand that will give you:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/ET7kL.png&quot; width=&quot;300&quot;&gt;&lt;/img&gt;\r\n\r\nWhile the font color is changed, the font size isn&#39;t. This is because there is a more restrictive rule that comes from Gluon Mobile stylesheets that takes precedence. \r\n\r\nThis means that you need to find out the full chain of ancestors. For this, it comes in handy [Scenic View](https://github.com/JonathanGiles/scenic-view).\r\n\r\nYou can download it for your OS from [here](https://github.com/JonathanGiles/scenic-view#build-status).\r\nIt requires that JavaFX Swing dependency is added to your project (at least while testing).\r\n\r\nThen launch Scenic View, and start your project, you should be able to see the tree of nodes showing up.\r\n\r\n[![scenic view][1]][1]\r\n\r\nIf you check one by one the ancestors of the label, you can come up with this:\r\n\r\n```\r\n.navigation-drawer &gt; BorderPane &gt; .scroll-pane &gt; .viewport .container &gt; .item &gt; .item-content &gt; .text-box &gt; .label {\r\n    -fx-font-size: 18px;\r\n    -fx-text-fill: red;\r\n}\r\n```\r\nthat will give you:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/wlhWi.png&quot; width=&quot;300&quot;&gt;&lt;/img&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H2xyG.jpg\r\n","title":"How to change font size of navigation drawer items title in gluon mobile javafx with css?","body":"<p>To style any JavaFX node with CSS, you mainly need to know its CSS style class, and the ones from its ancestors.</p>\n<p>One way to know this is by printing out the hierarchy involved in the <code>NavigationDrawer</code>, like:</p>\n<pre><code>    @Override\n    public void init() {\n        AppViewManager.registerViewsAndDrawer();\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        appManager.start(primaryStage);\n\n        appManager.getDrawer().getStyleClass()\n                .forEach(css -&gt; System.out.println(&quot;drawer css = &quot; + css));\n        appManager.getDrawer().getItems()\n                .forEach(item -&gt; item.getStyleClass()\n                        .forEach(css -&gt; System.out.println(&quot;  - item css = &quot; + css)));\n    }\n</code></pre>\n<p>that will print:</p>\n<pre><code>drawer css = navigation-drawer\n  - item css = item\n  - item css = item\n  - item css = item\n</code></pre>\n<p>So now, for instance, you could add this to your <code>style.css</code> file:</p>\n<pre><code>.navigation-drawer .item .label {\n    -fx-font-size: 18px;\n    -fx-text-fill: red;\n}\n</code></pre>\n<p>and that will give you:</p>\n<p><img src=\"https://i.stack.imgur.com/ET7kL.png\" width=\"300\"></p>\n<p>While the font color is changed, the font size isn't. This is because there is a more restrictive rule that comes from Gluon Mobile stylesheets that takes precedence.</p>\n<p>This means that you need to find out the full chain of ancestors. For this, it comes in handy <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">Scenic View</a>.</p>\n<p>You can download it for your OS from <a href=\"https://github.com/JonathanGiles/scenic-view#build-status\" rel=\"nofollow noreferrer\">here</a>.\nIt requires that JavaFX Swing dependency is added to your project (at least while testing).</p>\n<p>Then launch Scenic View, and start your project, you should be able to see the tree of nodes showing up.</p>\n<p><a href=\"https://i.stack.imgur.com/H2xyG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H2xyG.jpg\" alt=\"scenic view\" /></a></p>\n<p>If you check one by one the ancestors of the label, you can come up with this:</p>\n<pre><code>.navigation-drawer &gt; BorderPane &gt; .scroll-pane &gt; .viewport .container &gt; .item &gt; .item-content &gt; .text-box &gt; .label {\n    -fx-font-size: 18px;\n    -fx-text-fill: red;\n}\n</code></pre>\n<p>that will give you:</p>\n<p><img src=\"https://i.stack.imgur.com/wlhWi.png\" width=\"300\"></p>\n"}],"owner":{"account_id":24388177,"reputation":3,"user_id":18318589,"display_name":"Joseph Sekwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74080036,"answer_count":1,"score":-2,"last_activity_date":1665915661,"creation_date":1665825693,"question_id":74078187,"body_markdown":"I am developing a simple mobile application with gluon mobile javafx, unfortunately I have came accross to a problem of styling navigation drawer items&#39; title with css. If anyone knows how to do that, he or she may help me. Thanks.","title":"How to change font size of navigation drawer items title in gluon mobile javafx with css?","body":"<p>I am developing a simple mobile application with gluon mobile javafx, unfortunately I have came accross to a problem of styling navigation drawer items' title with css. If anyone knows how to do that, he or she may help me. Thanks.</p>\n"},{"tags":["java","algorithm","matrix","time-complexity"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1665095359,"post_id":73980567,"comment_id":130625743,"body_markdown":"What have you tried so far, even if you regard it as inefficient?","body":"What have you tried so far, even if you regard it as inefficient?"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":3,"creation_date":1665095788,"post_id":73980567,"comment_id":130625818,"body_markdown":"How far can you keep dividing?  Seems to me that answer #1 could continue to divide the 2x2 grid.  And if you can keep dividing, what is the smallest grid that can&#39;t be divided?  1x1, or 1x2 and 2x1, or what?","body":"How far can you keep dividing?  Seems to me that answer #1 could continue to divide the 2x2 grid.  And if you can keep dividing, what is the smallest grid that can&#39;t be divided?  1x1, or 1x2 and 2x1, or what?"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":2,"creation_date":1665096009,"post_id":73980567,"comment_id":130625861,"body_markdown":"Also, when you say &#39;efficiently&#39; do you mean from a programming perspective, or from a runtime perspective?","body":"Also, when you say &#39;efficiently&#39; do you mean from a programming perspective, or from a runtime perspective?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1665096095,"post_id":73980567,"comment_id":130625877,"body_markdown":"@DavidA, I updated the post with required information now","body":"@DavidA, I updated the post with required information now"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665684793,"post_id":73980567,"comment_id":130762797,"body_markdown":"Off topic: I  don&#39;t yet see how converting it to a binary matrix helps. There isn&#39;t going to be much difference in `if (mat [i][j] ==2)`, `if (mat [i][j] == 1)`, or `if (mat [i][j])` where `mat` is `int [][]` in the first two, and `boolean [][]` in the third.","body":"Off topic: I  don&#39;t yet see how converting it to a binary matrix helps. There isn&#39;t going to be much difference in <code>if (mat [i][j] ==2)</code>, <code>if (mat [i][j] == 1)</code>, or <code>if (mat [i][j])</code> where <code>mat</code> is <code>int [][]</code> in the first two, and <code>boolean [][]</code> in the third."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665684868,"post_id":73980567,"comment_id":130762815,"body_markdown":"If a matrix contains no cell with value `2`, what should the result be?  If it contains exactly 1 cell with value `2`?","body":"If a matrix contains no cell with value <code>2</code>, what should the result be?  If it contains exactly 1 cell with value <code>2</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665471137,"creation_date":1665389968,"answer_id":74011984,"question_id":73980567,"body_markdown":"I&#39;m not sur I understand your question fully, but here are my two cents:\r\n\r\nStart by defining a method that checks that a subgrid contains at least one 2:\r\n\r\n\r\n    public static boolean contains2(int[][] grid, int rs, int re, int cs, int ce) {\r\n        for (int i = rs; i &lt; re; i++) {\r\n            for (int j = cs; j &lt; ce; j++) {\r\n                if (grid[i][j] == 2) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nNext, you can define a method returning the number of possible horizontal splits of a subgrid:\r\n\r\n\r\n    public static int splitCountH(int[][] grid, int rs, int re, int cs, int ce) {\r\n        int result = 0;\r\n        for (int i = rs+1; i &lt; re; ++i) {\r\n            if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\r\n                ++result;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nand another one giving the number of possible vertical splits:\r\n\r\n    public static int splitCountV(int[][] grid, int rs, int re, int cs, int ce) {\r\n        int result = 0;\r\n        for (int j = cs+1; j &lt; ce; ++j) {\r\n            if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\r\n                ++result;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nNext method gives the number of possible combinations of a horizontal split followed by a vertical split or a vertical split followed by a horizontal split:\r\n\r\n    public static int process(int[][] grid, int rs, int re, int cs, int ce) {\r\n        int result = 0;\r\n        for (int i = rs+1; i &lt; re; ++i) {\r\n            if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\r\n                result += splitCountV(grid, rs, i, cs, ce)\r\n                        + splitCountV(grid, i, re, cs, ce);\r\n            }\r\n        }\r\n        for (int j = cs+1; j &lt; ce; ++j) {\r\n            if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\r\n                result += splitCountH(grid, rs, re, cs, j)\r\n                        + splitCountH(grid, rs, re, j, ce);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nYour process method becomes:\r\n\r\n    public static int process(int[][] grid) {\r\n        return process(grid, 0, grid.length, 0, grid[0].length);\r\n    }\r\n\r\nUPDATE:\r\n\r\nIf you want to authorize two horizontal splits or two vertical splits, you can add the following method:\r\n\r\n\r\n    public static int splitCount(int[][] grid, int rs, int re, int cs, int ce) {\r\n        return splitCountH(grid, rs, re, cs, ce)\r\n                + splitCountV(grid, rs, re, cs, ce);\r\n    }\r\n\r\nAnd modify the `process` method:\r\n\r\n\r\n    public static int process(int[][] grid, int rs, int re, int cs, int ce) {\r\n        int result = 0;\r\n        for (int i = rs+1; i &lt; re; ++i) {\r\n            if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\r\n                result += splitCount(grid, rs, i, cs, ce)\r\n                        + splitCount(grid, i, re, cs, ce);\r\n            }\r\n        }\r\n        for (int j = cs+1; j &lt; ce; ++j) {\r\n            if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\r\n                result += splitCount(grid, rs, re, cs, j)\r\n                        + splitCount(grid, rs, re, j, ce);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nBut in this case, you would have 6 possibilities for your example.\r\n","title":"Divide a grid into several possibilities","body":"<p>I'm not sur I understand your question fully, but here are my two cents:</p>\n<p>Start by defining a method that checks that a subgrid contains at least one 2:</p>\n<pre><code>public static boolean contains2(int[][] grid, int rs, int re, int cs, int ce) {\n    for (int i = rs; i &lt; re; i++) {\n        for (int j = cs; j &lt; ce; j++) {\n            if (grid[i][j] == 2) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Next, you can define a method returning the number of possible horizontal splits of a subgrid:</p>\n<pre><code>public static int splitCountH(int[][] grid, int rs, int re, int cs, int ce) {\n    int result = 0;\n    for (int i = rs+1; i &lt; re; ++i) {\n        if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\n            ++result;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>and another one giving the number of possible vertical splits:</p>\n<pre><code>public static int splitCountV(int[][] grid, int rs, int re, int cs, int ce) {\n    int result = 0;\n    for (int j = cs+1; j &lt; ce; ++j) {\n        if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\n            ++result;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Next method gives the number of possible combinations of a horizontal split followed by a vertical split or a vertical split followed by a horizontal split:</p>\n<pre><code>public static int process(int[][] grid, int rs, int re, int cs, int ce) {\n    int result = 0;\n    for (int i = rs+1; i &lt; re; ++i) {\n        if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\n            result += splitCountV(grid, rs, i, cs, ce)\n                    + splitCountV(grid, i, re, cs, ce);\n        }\n    }\n    for (int j = cs+1; j &lt; ce; ++j) {\n        if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\n            result += splitCountH(grid, rs, re, cs, j)\n                    + splitCountH(grid, rs, re, j, ce);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Your process method becomes:</p>\n<pre><code>public static int process(int[][] grid) {\n    return process(grid, 0, grid.length, 0, grid[0].length);\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>If you want to authorize two horizontal splits or two vertical splits, you can add the following method:</p>\n<pre><code>public static int splitCount(int[][] grid, int rs, int re, int cs, int ce) {\n    return splitCountH(grid, rs, re, cs, ce)\n            + splitCountV(grid, rs, re, cs, ce);\n}\n</code></pre>\n<p>And modify the <code>process</code> method:</p>\n<pre><code>public static int process(int[][] grid, int rs, int re, int cs, int ce) {\n    int result = 0;\n    for (int i = rs+1; i &lt; re; ++i) {\n        if (contains2(grid, rs, i, cs, ce) &amp;&amp; contains2(grid, i, re, cs, ce)) {\n            result += splitCount(grid, rs, i, cs, ce)\n                    + splitCount(grid, i, re, cs, ce);\n        }\n    }\n    for (int j = cs+1; j &lt; ce; ++j) {\n        if (contains2(grid, rs, re, cs, j) &amp;&amp; contains2(grid, rs, re, j, ce)) {\n            result += splitCount(grid, rs, re, cs, j)\n                    + splitCount(grid, rs, re, j, ce);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>But in this case, you would have 6 possibilities for your example.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665915256,"creation_date":1665480950,"answer_id":74025972,"question_id":73980567,"body_markdown":"&gt; **Below are the 4 possibilities.**\r\n&gt; &lt;pre&gt;\r\n&gt;  (1)    (2)    (3)    (4)\r\n&gt; \r\n&gt; 1 2 3  1 2 3  1|2|3  1|2 3\r\n&gt; -----  -----   | |    |---\r\n&gt; 2|1 2  2 1|2  2|1|2  2|1 2\r\n&gt;  |        |    | |    |\r\n&gt; 3|1 1  3 1|1  3|1|1  3|1 1\r\n&gt; &lt;/pre&gt;\r\n\r\nWhat about\r\n&lt;pre&gt;\r\n (V)\r\n\r\n1 2|3\r\n---| \r\n2 1|2\r\n   | \r\n3 1|1\r\n&lt;/pre&gt;\r\n?\r\n&lt;pre&gt;\r\n (VI)  (VII)  (VIII)\r\n1 2 3  1 2|3  1|2 3\r\n-----     |    |\r\n2 1 2  2 1|2  2|1 2\r\n          |    |\r\n3 1 1  3 1|1  3|1 1\r\n&lt;/pre&gt;\r\n? *each division must contain **at least** one cell with value 2*","title":"Divide a grid into several possibilities","body":"<blockquote>\n<p><strong>Below are the 4 possibilities.</strong></p>\n<pre>\n (1)    (2)    (3)    (4)\n\n1 2 3  1 2 3  1|2|3  1|2 3\n-----  -----   | |    |---\n2|1 2  2 1|2  2|1|2  2|1 2\n |        |    | |    |\n3|1 1  3 1|1  3|1|1  3|1 1\n</pre>\n</blockquote>\n<p>What about</p>\n<pre>\n (V)\n\n1 2|3\n---| \n2 1|2\n   | \n3 1|1\n</pre>\n<p>?</p>\n<pre>\n (VI)  (VII)  (VIII)\n1 2 3  1 2|3  1|2 3\n-----     |    |\n2 1 2  2 1|2  2|1 2\n          |    |\n3 1 1  3 1|1  3|1 1\n</pre>\n<p>? <em>each division must contain <strong>at least</strong> one cell with value 2</em></p>\n"},{"tags":[],"owner":{"account_id":82668,"reputation":174,"user_id":232259,"display_name":"Jason Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665772019,"creation_date":1665771715,"answer_id":74073356,"question_id":73980567,"body_markdown":"Recursion is going to be your friend here.  Sorry I did this in Python instead of Java, but the algorithm will be the same.  Essentially, divide the grid and test to see if there&#39;s a 2 on either side.  If there is, recurse each side until there&#39;s not.\r\n\r\n```python\r\nimport itertools\r\n\r\ngrid = [ 1, 2, 3\r\n       , 2, 1, 2\r\n       , 3, 1, 1 ]\r\n    \r\ndef print_horz( top, trows, bottom, brows, columns, depth ):\r\n    for m in range( trows ):\r\n        print( &#39;    &#39; * depth, top[ m * columns : ( m + 1 ) * columns ] )\r\n    print( &#39;    &#39; * depth, &#39;-&#39; * columns )\r\n    for m in range( brows ):\r\n        print( &#39;    &#39; * depth, bottom[ m * columns : ( m + 1 ) * columns ] )\r\n    print()\r\n    \r\ndef print_vert( left, lcolumns, right, rcolumns, rows, depth ):\r\n    for m in range( rows ):\r\n        print( &#39;    &#39; * depth\r\n            , left[ m * lcolumns : ( m + 1 ) * lcolumns ]\r\n            , &#39;|&#39;\r\n            , right[ m * rcolumns : ( m + 1 ) * rcolumns ] )\r\n    print()\r\n    \r\ndef divide_grid( grid, rows, columns, depth = 0 ):\r\n    if grid.count( 2 ) &lt; 2:\r\n        return\r\n    \r\n    #print( &#39;    &#39; * depth, &#39;grid&#39;, grid, depth )\r\n    for m in range( rows - 1 ):\r\n        top = grid[ : ( m + 1 ) * columns ]\r\n        bottom = grid[ ( m + 1 ) * columns : ]\r\n        #print( &#39;    &#39; * depth, &#39;horz {}/{}/{}&#39;.format( m, rows - 1, depth), top, ( m + 1 ), bottom, rows - ( m + 1 ), columns )\r\n        if 2 in top and 2 in bottom:\r\n            print_horz( top, ( m + 1 ), bottom, rows - ( m + 1 ), columns, depth )\r\n    \r\n            divide_grid( top, ( m + 1 ), columns, depth + 1 )\r\n            divide_grid( bottom, rows - ( m + 1 ), columns, depth + 1 )\r\n    \r\n    for n in range( columns - 1 ):\r\n        left = list( itertools.chain.from_iterable(\r\n            [ grid[ m * columns : ( m + 1 ) * columns ][ : ( n + 1 ) ] for m in range( rows ) ] ) )\r\n        right = list( itertools.chain.from_iterable(\r\n            [ grid[ m * columns : ( m + 1 ) * columns ][ ( n + 1 ) : ] for m in range( rows ) ] ) )\r\n        #print( &#39;    &#39; * depth, &#39;vert {}/{}/{}&#39;.format( n, columns - 1, depth), left, ( n + 1 ), right, columns - ( n + 1 ), rows )\r\n        if 2 in left and 2 in right:\r\n            print_vert( left, ( n + 1 ), right, columns - ( n + 1 ), rows, depth )\r\n    \r\n            divide_grid( left, rows, ( n + 1 ), depth + 1 )\r\n            divide_grid( right, rows, columns - ( n + 1 ), depth + 1 )\r\n    \r\ndivide_grid( grid, 3, 3 )\r\n```\r\n\r\nResults\r\n\r\n     [1, 2, 3]\r\n     ---\r\n     [2, 1, 2]\r\n     [3, 1, 1]\r\n    \r\n         [2] | [1, 2]\r\n         [3] | [1, 1]\r\n    \r\n         [2, 1] | [2]\r\n         [3, 1] | [1]\r\n    \r\n     [1] | [2, 3]\r\n     [2] | [1, 2]\r\n     [3] | [1, 1]\r\n    \r\n         [2, 3]\r\n         --\r\n         [1, 2]\r\n         [1, 1]\r\n    \r\n         [2] | [3]\r\n         [1] | [2]\r\n         [1] | [1]\r\n    \r\n     [1, 2] | [3]\r\n     [2, 1] | [2]\r\n     [3, 1] | [1]\r\n    \r\n         [1, 2]\r\n         --\r\n         [2, 1]\r\n         [3, 1]\r\n    \r\n         [1] | [2]\r\n         [2] | [1]\r\n         [3] | [1]","title":"Divide a grid into several possibilities","body":"<p>Recursion is going to be your friend here.  Sorry I did this in Python instead of Java, but the algorithm will be the same.  Essentially, divide the grid and test to see if there's a 2 on either side.  If there is, recurse each side until there's not.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import itertools\n\ngrid = [ 1, 2, 3\n       , 2, 1, 2\n       , 3, 1, 1 ]\n    \ndef print_horz( top, trows, bottom, brows, columns, depth ):\n    for m in range( trows ):\n        print( '    ' * depth, top[ m * columns : ( m + 1 ) * columns ] )\n    print( '    ' * depth, '-' * columns )\n    for m in range( brows ):\n        print( '    ' * depth, bottom[ m * columns : ( m + 1 ) * columns ] )\n    print()\n    \ndef print_vert( left, lcolumns, right, rcolumns, rows, depth ):\n    for m in range( rows ):\n        print( '    ' * depth\n            , left[ m * lcolumns : ( m + 1 ) * lcolumns ]\n            , '|'\n            , right[ m * rcolumns : ( m + 1 ) * rcolumns ] )\n    print()\n    \ndef divide_grid( grid, rows, columns, depth = 0 ):\n    if grid.count( 2 ) &lt; 2:\n        return\n    \n    #print( '    ' * depth, 'grid', grid, depth )\n    for m in range( rows - 1 ):\n        top = grid[ : ( m + 1 ) * columns ]\n        bottom = grid[ ( m + 1 ) * columns : ]\n        #print( '    ' * depth, 'horz {}/{}/{}'.format( m, rows - 1, depth), top, ( m + 1 ), bottom, rows - ( m + 1 ), columns )\n        if 2 in top and 2 in bottom:\n            print_horz( top, ( m + 1 ), bottom, rows - ( m + 1 ), columns, depth )\n    \n            divide_grid( top, ( m + 1 ), columns, depth + 1 )\n            divide_grid( bottom, rows - ( m + 1 ), columns, depth + 1 )\n    \n    for n in range( columns - 1 ):\n        left = list( itertools.chain.from_iterable(\n            [ grid[ m * columns : ( m + 1 ) * columns ][ : ( n + 1 ) ] for m in range( rows ) ] ) )\n        right = list( itertools.chain.from_iterable(\n            [ grid[ m * columns : ( m + 1 ) * columns ][ ( n + 1 ) : ] for m in range( rows ) ] ) )\n        #print( '    ' * depth, 'vert {}/{}/{}'.format( n, columns - 1, depth), left, ( n + 1 ), right, columns - ( n + 1 ), rows )\n        if 2 in left and 2 in right:\n            print_vert( left, ( n + 1 ), right, columns - ( n + 1 ), rows, depth )\n    \n            divide_grid( left, rows, ( n + 1 ), depth + 1 )\n            divide_grid( right, rows, columns - ( n + 1 ), depth + 1 )\n    \ndivide_grid( grid, 3, 3 )\n</code></pre>\n<p>Results</p>\n<pre><code> [1, 2, 3]\n ---\n [2, 1, 2]\n [3, 1, 1]\n\n     [2] | [1, 2]\n     [3] | [1, 1]\n\n     [2, 1] | [2]\n     [3, 1] | [1]\n\n [1] | [2, 3]\n [2] | [1, 2]\n [3] | [1, 1]\n\n     [2, 3]\n     --\n     [1, 2]\n     [1, 1]\n\n     [2] | [3]\n     [1] | [2]\n     [1] | [1]\n\n [1, 2] | [3]\n [2, 1] | [2]\n [3, 1] | [1]\n\n     [1, 2]\n     --\n     [2, 1]\n     [3, 1]\n\n     [1] | [2]\n     [2] | [1]\n     [3] | [1]\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1665915256,"creation_date":1665094790,"question_id":73980567,"body_markdown":"A grid of size m*n is provided with numbers 1, 2, 3 only, where m is the number of rows and n is the number of columns.\r\n\r\nDivide the grid into two parts either horizontally or vertically such that each division must contain at least one cell with value 2. Once divided we can further divide to get other combinations.\r\nFind how many divisions are possible for given grid values.\r\n\r\nFor example, if the input grid:\r\n\r\n    1,2,3\r\n    2,1,2\r\n    3,1,1\r\n\r\n**Output is** `4`.\r\n\r\n**Below are the 4 possibilities.**\r\n\r\n    Possibility (1)\r\n     1,2,3\r\n    -------\r\n     2,1,2\r\n     3,1,1\r\n     \r\n      |\r\n    2,|1,2\r\n    3,|1,1\r\n      |\r\n      \r\n    Possibility (2)\r\n      \r\n     1,2,3\r\n    -------\r\n     2,1,2\r\n     3,1,1\r\n    \t\r\n    \t|\r\n    2,1,|2\r\n    3,1,|1\r\n    \t|\r\n    Possibility (3)\r\n      |\r\n    1,|2,3\r\n    2,|1,2\r\n    3,|1,1\r\n      |\r\n     \r\n      | \r\n    2,|3\r\n    1,|2\r\n    1,|1  \r\n      |\r\n      \r\n    Possibility (4) \r\n      |\r\n    1,|2,3\r\n    2,|1,2\r\n    3,|1,1\r\n      |\r\n     \r\n     2,3\r\n    -----\r\n     1,2\r\n     1,1 \r\n     \r\n  How to solve this efficiently in terms of runtime complexity.\r\n\r\nAs a first step, I have modified the grid by setting the value to 0 when an element is 1 or 3. Then set the value to 1 when an element is 2. So I have converted it to a binary matrix. But I am not able to find a way to get the possible combinations. \r\n\r\n    public int process(int[][] grid) {\r\n       int m = grid.length, n = grid[0].length;\r\n       int result = 0;\r\n       for(int i=0; i&lt;m; i++) {\r\n          for(int j=0; j&lt;n; j++) {\r\n             int e = grid[i][j];\r\n             if(e == 2) grid[i][j] = 1;\r\n             else grid[i][j] = 0;\r\n          }\r\n       }\r\n       //.....todo...\r\n       return result;\r\n    }","title":"Divide a grid into several possibilities","body":"<p>A grid of size m*n is provided with numbers 1, 2, 3 only, where m is the number of rows and n is the number of columns.</p>\n<p>Divide the grid into two parts either horizontally or vertically such that each division must contain at least one cell with value 2. Once divided we can further divide to get other combinations.\nFind how many divisions are possible for given grid values.</p>\n<p>For example, if the input grid:</p>\n<pre><code>1,2,3\n2,1,2\n3,1,1\n</code></pre>\n<p><strong>Output is</strong> <code>4</code>.</p>\n<p><strong>Below are the 4 possibilities.</strong></p>\n<pre><code>Possibility (1)\n 1,2,3\n-------\n 2,1,2\n 3,1,1\n \n  |\n2,|1,2\n3,|1,1\n  |\n  \nPossibility (2)\n  \n 1,2,3\n-------\n 2,1,2\n 3,1,1\n    \n    |\n2,1,|2\n3,1,|1\n    |\nPossibility (3)\n  |\n1,|2,3\n2,|1,2\n3,|1,1\n  |\n \n  | \n2,|3\n1,|2\n1,|1  \n  |\n  \nPossibility (4) \n  |\n1,|2,3\n2,|1,2\n3,|1,1\n  |\n \n 2,3\n-----\n 1,2\n 1,1 \n \n</code></pre>\n<p>How to solve this efficiently in terms of runtime complexity.</p>\n<p>As a first step, I have modified the grid by setting the value to 0 when an element is 1 or 3. Then set the value to 1 when an element is 2. So I have converted it to a binary matrix. But I am not able to find a way to get the possible combinations.</p>\n<pre><code>public int process(int[][] grid) {\n   int m = grid.length, n = grid[0].length;\n   int result = 0;\n   for(int i=0; i&lt;m; i++) {\n      for(int j=0; j&lt;n; j++) {\n         int e = grid[i][j];\n         if(e == 2) grid[i][j] = 1;\n         else grid[i][j] = 0;\n      }\n   }\n   //.....todo...\n   return result;\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1665916130,"post_id":74086154,"comment_id":130806729,"body_markdown":"[Access Strategies in JPA and Hibernate](https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/)","body":"<a href=\"https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">Access Strategies in JPA and Hibernate</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1665942261,"post_id":74086154,"comment_id":130812137,"body_markdown":"You cannot mix and match annotations - by putting it on your property, it then ignores annotations on the field and so does not see the GeneratedValue annotation, and so requires you to manually assign IDs.","body":"You cannot mix and match annotations - by putting it on your property, it then ignores annotations on the field and so does not see the GeneratedValue annotation, and so requires you to manually assign IDs."}],"owner":{"account_id":20927542,"reputation":16,"user_id":15374651,"display_name":"hamza maimi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665914567,"creation_date":1665914567,"question_id":74086154,"body_markdown":"I want to understand why when I insert an @Id annotation on the getId () method it throws an error on the auto increment ID column, this is the error:\r\n```\r\nType Exception Report\r\n\r\nMessage Converting `org.hibernate.id.IdentifierGenerationException` to JPA `PersistenceException` : ids for this class must be manually assigned before calling save(): models.User\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njakarta.persistence.PersistenceException: Converting `org.hibernate.id.IdentifierGenerationException` to JPA `PersistenceException` : ids for this class must be manually assigned before calling save(): models.User\r\n\torg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\r\n\torg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\r\n\torg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\r\n\torg.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:741)\r\n\torg.hibernate.internal.SessionImpl.persist(SessionImpl.java:719)\r\n\tservlets.Authentication.doGet(Authentication.java:30)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nRoot Cause\r\n\r\norg.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.User\r\n\torg.hibernate.id.Assigned.generate(Assigned.java:33)\r\n\torg.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114)\r\n\torg.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184)\r\n\torg.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129)\r\n\torg.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53)\r\n\torg.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\torg.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735)\r\n\torg.hibernate.internal.SessionImpl.persist(SessionImpl.java:719)\r\n\tservlets.Authentication.doGet(Authentication.java:30)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nthis is my model class:\r\n```\r\n\r\npackage models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.math.BigInteger;\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private int id;\r\n    @Column(name = &quot;nome&quot;, nullable = false)\r\n    private String nome;\r\n    @Column(name = &quot;cognome&quot;, nullable = false)\r\n    private String cognome;\r\n    @Column(name = &quot;mail&quot;, nullable = false)\r\n    private String mail;\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n    @Column(name = &quot;token&quot;, nullable = true)\r\n    private String token;\r\n    @Column(name = &quot;dataCreazioneToken&quot;, nullable = true)\r\n    private Date dataCreazioneToken;\r\n\r\n\r\n\r\n    public User() {}\r\n\r\n    public User(String nome, String cognome, String mail, String password) {\r\n        this.nome = nome;\r\n        this.cognome = cognome;\r\n        this.mail = mail;\r\n        this.password = password;\r\n    }\r\n\r\n    public Date getDataCreazioneToken() {\r\n        return dataCreazioneToken;\r\n    }\r\n\r\n    public void setDataCreazioneToken(Date creazioneToken) {\r\n        this.dataCreazioneToken = creazioneToken;\r\n    }\r\n\r\n    public String getToken() {\r\n        return token;\r\n    }\r\n\r\n    public void setToken(String token) {\r\n        this.token = token;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public String getCognome() {\r\n        return cognome;\r\n    }\r\n\r\n    public void setCognome(String cognome) {\r\n        this.cognome = cognome;\r\n    }\r\n\r\n    public String getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public void setMail(String mail) {\r\n        this.mail = mail;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n\r\n    public void setId (int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Id\r\n    public int getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\nSo if I remove the @Id annotation on the getId () method, the error will not be raised and the id is generated automatically. i can&#39;t understand why","title":"@Id annotation on getId() method catch an Exception on autoincrement column","body":"<p>I want to understand why when I insert an @Id annotation on the getId () method it throws an error on the auto increment ID column, this is the error:</p>\n<pre><code>Type Exception Report\n\nMessage Converting `org.hibernate.id.IdentifierGenerationException` to JPA `PersistenceException` : ids for this class must be manually assigned before calling save(): models.User\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.persistence.PersistenceException: Converting `org.hibernate.id.IdentifierGenerationException` to JPA `PersistenceException` : ids for this class must be manually assigned before calling save(): models.User\n    org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\n    org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\n    org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\n    org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:741)\n    org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719)\n    servlets.Authentication.doGet(Authentication.java:30)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:668)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\norg.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): models.User\n    org.hibernate.id.Assigned.generate(Assigned.java:33)\n    org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114)\n    org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184)\n    org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129)\n    org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53)\n    org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735)\n    org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719)\n    servlets.Authentication.doGet(Authentication.java:30)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:668)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>this is my model class:</p>\n<pre><code>\npackage models;\n\nimport jakarta.persistence.*;\n\nimport java.math.BigInteger;\nimport java.sql.Date;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private int id;\n    @Column(name = &quot;nome&quot;, nullable = false)\n    private String nome;\n    @Column(name = &quot;cognome&quot;, nullable = false)\n    private String cognome;\n    @Column(name = &quot;mail&quot;, nullable = false)\n    private String mail;\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n    @Column(name = &quot;token&quot;, nullable = true)\n    private String token;\n    @Column(name = &quot;dataCreazioneToken&quot;, nullable = true)\n    private Date dataCreazioneToken;\n\n\n\n    public User() {}\n\n    public User(String nome, String cognome, String mail, String password) {\n        this.nome = nome;\n        this.cognome = cognome;\n        this.mail = mail;\n        this.password = password;\n    }\n\n    public Date getDataCreazioneToken() {\n        return dataCreazioneToken;\n    }\n\n    public void setDataCreazioneToken(Date creazioneToken) {\n        this.dataCreazioneToken = creazioneToken;\n    }\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getCognome() {\n        return cognome;\n    }\n\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n\n    public void setId (int id) {\n        this.id = id;\n    }\n\n    @Id\n    public int getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>So if I remove the @Id annotation on the getId () method, the error will not be raised and the id is generated automatically. i can't understand why</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1665914026,"post_id":74086013,"comment_id":130806388,"body_markdown":"Please take a 2 minute tour of the site over [here](https://stackoverflow.com/tour)","body":"Please take a 2 minute tour of the site over <a href=\"https://stackoverflow.com/tour\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665913984,"creation_date":1665913984,"answer_id":74086096,"question_id":74086013,"body_markdown":"### Problem\r\n---\r\n\r\nThe problem is in this line:\r\n```\r\nString weight = edtNumber.getText().toString();\r\n```\r\n\r\nyou care calling that line of code as soon as the activity is created where it has no value. You want to get value only if the button is clicked.\r\n\r\n### Solution\r\n---\r\nYou will have to add this line to your `onClick` method. Finally, the code will look like this:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView txtDate;\r\n    private Button addBtn;\r\n    private EditText edtNumber;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txtDate = findViewById(R.id.txtDate);\r\n        addBtn = findViewById(R.id.addBtn);\r\n        edtNumber = findViewById(R.id.edtNumber);\r\n        String weight = &quot;&quot;;\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n        txtDate.setText(currentDateAndTime);\r\n\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                weight = edtNumber.getText().toString()\r\n                Toast.makeText(MainActivity.this, &quot;Weight:&quot;+ weight + &quot;\\n&quot; + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"how to pass a decimal value using number type Edittext in Android Studio?","body":"<h3>Problem</h3>\n<hr />\n<p>The problem is in this line:</p>\n<pre><code>String weight = edtNumber.getText().toString();\n</code></pre>\n<p>you care calling that line of code as soon as the activity is created where it has no value. You want to get value only if the button is clicked.</p>\n<h3>Solution</h3>\n<hr />\n<p>You will have to add this line to your <code>onClick</code> method. Finally, the code will look like this:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private TextView txtDate;\n    private Button addBtn;\n    private EditText edtNumber;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtDate = findViewById(R.id.txtDate);\n        addBtn = findViewById(R.id.addBtn);\n        edtNumber = findViewById(R.id.edtNumber);\n        String weight = &quot;&quot;;\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n        String currentDateAndTime = sdf.format(new Date());\n        txtDate.setText(currentDateAndTime);\n\n\n        addBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                weight = edtNumber.getText().toString()\n                Toast.makeText(MainActivity.this, &quot;Weight:&quot;+ weight + &quot;\\n&quot; + currentDateAndTime, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23488890,"reputation":23,"user_id":17540139,"display_name":"netti169"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74086096,"answer_count":1,"score":0,"last_activity_date":1665913984,"creation_date":1665913034,"question_id":74086013,"body_markdown":"I&#39;m trying to pass a decimal number (edtNumber) to a Toast but when i running the app the number doesn&#39;t appear in the Toast.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView txtDate;\r\n    private Button addBtn;\r\n    private EditText edtNumber;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txtDate = findViewById(R.id.txtDate);\r\n        addBtn = findViewById(R.id.addBtn);\r\n        edtNumber = findViewById(R.id.edtNumber);\r\n        String weight = edtNumber.getText().toString();\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n        txtDate.setText(currentDateAndTime);\r\n\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;Weight:&quot;+ weight + &quot;\\n&quot; + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n```","title":"how to pass a decimal value using number type Edittext in Android Studio?","body":"<p>I'm trying to pass a decimal number (edtNumber) to a Toast but when i running the app the number doesn't appear in the Toast.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private TextView txtDate;\n    private Button addBtn;\n    private EditText edtNumber;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtDate = findViewById(R.id.txtDate);\n        addBtn = findViewById(R.id.addBtn);\n        edtNumber = findViewById(R.id.edtNumber);\n        String weight = edtNumber.getText().toString();\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n        String currentDateAndTime = sdf.format(new Date());\n        txtDate.setText(currentDateAndTime);\n\n\n        addBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(MainActivity.this, &quot;Weight:&quot;+ weight + &quot;\\n&quot; + currentDateAndTime, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n"},{"tags":["java","redis"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665913059,"creation_date":1665913059,"question_id":74086015,"body_markdown":"When I want to deserilize the ArticleZSet list that fetched from redis, shows error like this:\r\n\r\n\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.62.jar!/:?]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.62.jar!/:?]\r\n    \tat java.lang.Thread.run(Thread.java:836) [?:?]\r\n    Caused by: org.springframework.data.redis.serializer.SerializationException: Could not read JSON: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class misc.model.auth.article.ArticleZSet\r\n     at [Source: (byte[])&quot;3231787&quot;; line: 1, column: 1]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class misc.model.auth.article.ArticleZSet\r\n     at [Source: (byte[])&quot;3231787&quot;; line: 1, column: 1]\r\n    \tat org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:75) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.data.redis.serializer.SerializationUtils.deserializeValues(SerializationUtils.java:54) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.data.redis.serializer.SerializationUtils.deserialize(SerializationUtils.java:62) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.data.redis.core.AbstractOperations.deserializeValues(AbstractOperations.java:224) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.data.redis.core.DefaultZSetOperations.reverseRangeByScore(DefaultZSetOperations.java:346) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\r\n    \tat com.dolphin.soa.post.service.impl.article.ArticleService.getArticleImpl(ArticleService.java:174) ~[classes!/:?]\r\n    \tat com.dolphin.soa.post.service.impl.article.ArticleService.pageByCache(ArticleService.java:112) ~[classes!/:?]\r\n    \tat com.dolphin.soa.post.controller.impl.article.ArticleController.newStories(ArticleController.java:102) ~[classes!/:?]\r\n    \tat com.dolphin.soa.post.controller.impl.article.ArticleController$$FastClassBySpringCGLIB$$660ab6b6.invoke(&lt;generated&gt;) ~[classes!/:?]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.\r\n\r\n\r\n\r\n\r\nthis is the code that defined the deserilize process:\r\n\r\n\r\n\r\n\r\n    @Bean(name = &quot;redisZSetTemplate&quot;)\r\n        RedisTemplate&lt;String, ArticleZSet&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, ArticleZSet&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(redisConnectionFactory);\r\n            template.setEnableTransactionSupport(true);\r\n            Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(ArticleZSet.class);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n            serializer.setObjectMapper(mapper);\r\n            template.setValueSerializer(serializer);\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(serializer);\r\n            template.setHashValueSerializer(serializer);\r\n            template.afterPropertiesSet();\r\n            return template;\r\n        }\r\n\r\n\r\nam I missing something? what should I do to fixed this problem?\r\n","title":"Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class","body":"<p>When I want to deserilize the ArticleZSet list that fetched from redis, shows error like this:</p>\n<pre><code>    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.62.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.62.jar!/:?]\n    at java.lang.Thread.run(Thread.java:836) [?:?]\nCaused by: org.springframework.data.redis.serializer.SerializationException: Could not read JSON: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class misc.model.auth.article.ArticleZSet\n at [Source: (byte[])&quot;3231787&quot;; line: 1, column: 1]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (VALUE_NUMBER_INT), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class misc.model.auth.article.ArticleZSet\n at [Source: (byte[])&quot;3231787&quot;; line: 1, column: 1]\n    at org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:75) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\n    at org.springframework.data.redis.serializer.SerializationUtils.deserializeValues(SerializationUtils.java:54) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\n    at org.springframework.data.redis.serializer.SerializationUtils.deserialize(SerializationUtils.java:62) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\n    at org.springframework.data.redis.core.AbstractOperations.deserializeValues(AbstractOperations.java:224) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\n    at org.springframework.data.redis.core.DefaultZSetOperations.reverseRangeByScore(DefaultZSetOperations.java:346) ~[spring-data-redis-2.7.2.jar!/:2.7.2]\n    at com.dolphin.soa.post.service.impl.article.ArticleService.getArticleImpl(ArticleService.java:174) ~[classes!/:?]\n    at com.dolphin.soa.post.service.impl.article.ArticleService.pageByCache(ArticleService.java:112) ~[classes!/:?]\n    at com.dolphin.soa.post.controller.impl.article.ArticleController.newStories(ArticleController.java:102) ~[classes!/:?]\n    at com.dolphin.soa.post.controller.impl.article.ArticleController$$FastClassBySpringCGLIB$$660ab6b6.invoke(&lt;generated&gt;) ~[classes!/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.19.jar!/:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.19.jar!/:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.19.jar!/:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar!/:5.3.19]\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.\n</code></pre>\n<p>this is the code that defined the deserilize process:</p>\n<pre><code>@Bean(name = &quot;redisZSetTemplate&quot;)\n    RedisTemplate&lt;String, ArticleZSet&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, ArticleZSet&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setEnableTransactionSupport(true);\n        Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(ArticleZSet.class);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        serializer.setObjectMapper(mapper);\n        template.setValueSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n</code></pre>\n<p>am I missing something? what should I do to fixed this problem?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":2,"creation_date":1307035803,"post_id":6217935,"comment_id":7241349,"body_markdown":"wild guess: Look at your import statements and make sure the annotation is `org.junit.Ignore` or whatever it&#39;s supposed to be, and not some other annotation from a totally different package which just happens to have the same name.","body":"wild guess: Look at your import statements and make sure the annotation is <code>org.junit.Ignore</code> or whatever it&#39;s supposed to be, and not some other annotation from a totally different package which just happens to have the same name."},{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":0,"creation_date":1307036126,"post_id":6217935,"comment_id":7241441,"body_markdown":"@Matrix, good thought, but I do have the right import.","body":"@Matrix, good thought, but I do have the right import."},{"owner":{"account_id":385369,"reputation":28737,"user_id":742469,"accept_rate":92,"display_name":"Op De Cirkel"},"score":0,"creation_date":1307036436,"post_id":6217935,"comment_id":7241523,"body_markdown":"Do you run JUnit 3 or Junit 4? JUnit 3 will ignore the annotation. To find out, rename the method to do not start with `test` and remove the @Ignore annotation and try again. If the test is not executed means that you are running Junit 3","body":"Do you run JUnit 3 or Junit 4? JUnit 3 will ignore the annotation. To find out, rename the method to do not start with <code>test</code> and remove the @Ignore annotation and try again. If the test is not executed means that you are running Junit 3"},{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":0,"creation_date":1307036544,"post_id":6217935,"comment_id":7241563,"body_markdown":"As I stated in the initial and edited versions of the post, I am using JUnit 4.","body":"As I stated in the initial and edited versions of the post, I am using JUnit 4."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1307036956,"post_id":6217935,"comment_id":7241672,"body_markdown":"How are you running the tests - in the IDE, from Maven, Ant, etc? How did you verify that the tests are run with a JUnit 4 runner?","body":"How are you running the tests - in the IDE, from Maven, Ant, etc? How did you verify that the tests are run with a JUnit 4 runner?"},{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":0,"creation_date":1307037332,"post_id":6217935,"comment_id":7241765,"body_markdown":"@matt, I moved this comment (my reply to you) to the body of the question.","body":"@matt, I moved this comment (my reply to you) to the body of the question."}],"answers":[{"tags":[],"owner":{"account_id":396294,"reputation":7040,"user_id":759762,"accept_rate":86,"display_name":"RMT"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1307035901,"creation_date":1307035901,"answer_id":6218012,"question_id":6217935,"body_markdown":"I think its just @Ignore that will skip the test\r\n\r\n[JUnit Ignore][1]\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Ignore.html","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>I think its just @Ignore that will skip the test</p>\n\n<p><a href=\"http://junit.sourceforge.net/javadoc/org/junit/Ignore.html\" rel=\"nofollow\">JUnit Ignore</a></p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1324576157,"creation_date":1307036398,"answer_id":6218119,"question_id":6217935,"body_markdown":"1. Make sure you are importing the right `@Ignore`. To be sure use `@org.junit.Ignore` explicitly.\r\n\r\n2. Double check if your test is being executed by JUnit 4, not 3. The easiest way to do this is to either change the test name so it is not prefixed by `test` (now it shouldn&#39;t be executed at all and JUnit 4 does not need this prefix anyway) or examine your test case inheritance hierarchy: it **shouldn&#39;t** extend directly or indirectly from `junit.framework.TestCase` (Junit 3 requirement).","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<ol>\n<li><p>Make sure you are importing the right <code>@Ignore</code>. To be sure use <code>@org.junit.Ignore</code> explicitly.</p></li>\n<li><p>Double check if your test is being executed by JUnit 4, not 3. The easiest way to do this is to either change the test name so it is not prefixed by <code>test</code> (now it shouldn't be executed at all and JUnit 4 does not need this prefix anyway) or examine your test case inheritance hierarchy: it <strong>shouldn't</strong> extend directly or indirectly from <code>junit.framework.TestCase</code> (Junit 3 requirement).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307036865,"creation_date":1307036865,"answer_id":6218207,"question_id":6217935,"body_markdown":"Are you sure the test classes were recompiled?\r\n\r\nIt&#39;s a quite common problem, that the recompilation fails because there was typo somewhere in the sources (like a missing semicolon), and the IDE does not tell you that compiling failed.\r\n\r\nTry deleting the `target/test-classes` folder.","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>Are you sure the test classes were recompiled?</p>\n\n<p>It's a quite common problem, that the recompilation fails because there was typo somewhere in the sources (like a missing semicolon), and the IDE does not tell you that compiling failed.</p>\n\n<p>Try deleting the <code>target/test-classes</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":117526,"reputation":918,"user_id":307743,"accept_rate":75,"display_name":"compiledweird"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331164603,"creation_date":1331164603,"answer_id":9611034,"question_id":6217935,"body_markdown":"I had this problem also even though JUnit 3 was not on my classpath. I believe that compatibility mode on Junit 4 picks up on the &#39;test&#39; prefix in your testname and thus operates as JUnit 3 would rather than picking up the @Ignore. The solution is to rename your test. ","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>I had this problem also even though JUnit 3 was not on my classpath. I believe that compatibility mode on Junit 4 picks up on the 'test' prefix in your testname and thus operates as JUnit 3 would rather than picking up the @Ignore. The solution is to rename your test. </p>\n"},{"tags":[],"owner":{"account_id":7683475,"reputation":11,"user_id":5822047,"display_name":"Mateusz Dyszkiewicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485510435,"creation_date":1485510435,"answer_id":41890986,"question_id":6217935,"body_markdown":"In my case I found my IDE was executing the test disregarding the `@Ignore` annotation. When I ran `mvn install` (or any other maven phase) the test was skipped and that&#39;s what I was actually aiming for (see attached ilustration).\r\n\r\n[Ilustration of ways of execution][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sqp1o.png","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>In my case I found my IDE was executing the test disregarding the <code>@Ignore</code> annotation. When I ran <code>mvn install</code> (or any other maven phase) the test was skipped and that's what I was actually aiming for (see attached ilustration).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sqp1o.png\" rel=\"nofollow noreferrer\">Ilustration of ways of execution</a></p>\n"},{"tags":[],"owner":{"account_id":5908222,"reputation":2527,"user_id":8371844,"display_name":"mtotowamkwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591740674,"creation_date":1591740674,"answer_id":62292712,"question_id":6217935,"body_markdown":"Ensuring the test class is also imported fixed the issue for me i.e. \r\n\r\n````\r\nimport org.junit.Ignore;\r\nimport org.junit.Test;\r\n````","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>Ensuring the test class is also imported fixed the issue for me i.e. </p>\n\n<pre><code>import org.junit.Ignore;\nimport org.junit.Test;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11296599,"reputation":10778,"user_id":8283938,"display_name":"Falke Design"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1665912708,"creation_date":1639557093,"answer_id":70360501,"question_id":6217935,"body_markdown":"In JUnit5 use `@Disabled` or `@Disabled(&quot;Reason text&quot;)`","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>In JUnit5 use <code>@Disabled</code> or <code>@Disabled(&quot;Reason text&quot;)</code></p>\n"}],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33125,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":6218119,"answer_count":7,"score":37,"last_activity_date":1665912708,"creation_date":1307035592,"question_id":6217935,"body_markdown":"I just used MyEclipse to automatically generate some JUnit test cases. One of the generated methods looks like this:\r\n\r\n    @Ignore(&quot;Ignored&quot;) @Test\r\n    public void testCreateRevision()\r\n    {\r\n        fail(&quot;Not yet implemented&quot;); // TODO\r\n    }\r\n\r\nI added the `@Ignore` annotation manually. However, when I run the test, JUnit lists that method, and others like it, under &quot;failures,&quot; rather than ignoring them (related: https://stackoverflow.com/questions/3425995/whats-the-difference-between-failure-and-error-in-junit). And it displays the &quot;Not yet implemented&quot; message instead of the &quot;Ignored&quot; message. Clearly, `fail()` must be getting called, and therefore, the `@Ignore` assertion is not working.\r\n\r\nWhat&#39;s going on here? Is there a setting I need to enable for this to work?\r\n\r\n__EDIT :__  \r\nThings I have considered/tried so far:\r\n\r\n- I am using JUnit 4, so it&#39;s not a version problem.\r\n- I am importing `org.junit.Ignore`, so it&#39;s not a case of the wrong `Ignore` being used.\r\n- I have tried using `@Ignore` alone, `@Ignore @Test` and `@Ignore(&quot;message&quot;) @Test`; all fail.\r\n\r\n__EDIT 2 :__  \r\nI created the tests with MyEclipse, via `New &gt; Other; Java &gt; JUnit &gt; JUnit Test Case; New JUnit 4 test`, and the library in my build path is JUnit 4. I&#39;m building with ant and actually running the case with MyEclipse.","title":"What can cause JUnit to disregard @Ignore annotations?","body":"<p>I just used MyEclipse to automatically generate some JUnit test cases. One of the generated methods looks like this:</p>\n\n<pre><code>@Ignore(\"Ignored\") @Test\npublic void testCreateRevision()\n{\n    fail(\"Not yet implemented\"); // TODO\n}\n</code></pre>\n\n<p>I added the <code>@Ignore</code> annotation manually. However, when I run the test, JUnit lists that method, and others like it, under \"failures,\" rather than ignoring them (related: <a href=\"https://stackoverflow.com/questions/3425995/whats-the-difference-between-failure-and-error-in-junit\">What&#39;s the difference between failure and error in JUnit?</a>). And it displays the \"Not yet implemented\" message instead of the \"Ignored\" message. Clearly, <code>fail()</code> must be getting called, and therefore, the <code>@Ignore</code> assertion is not working.</p>\n\n<p>What's going on here? Is there a setting I need to enable for this to work?</p>\n\n<p><strong>EDIT :</strong><br>\nThings I have considered/tried so far:</p>\n\n<ul>\n<li>I am using JUnit 4, so it's not a version problem.</li>\n<li>I am importing <code>org.junit.Ignore</code>, so it's not a case of the wrong <code>Ignore</code> being used.</li>\n<li>I have tried using <code>@Ignore</code> alone, <code>@Ignore @Test</code> and <code>@Ignore(\"message\") @Test</code>; all fail.</li>\n</ul>\n\n<p><strong>EDIT 2 :</strong><br>\nI created the tests with MyEclipse, via <code>New &gt; Other; Java &gt; JUnit &gt; JUnit Test Case; New JUnit 4 test</code>, and the library in my build path is JUnit 4. I'm building with ant and actually running the case with MyEclipse.</p>\n"},{"tags":["java","spring","spring-data-jpa","derby"],"comments":[{"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"score":0,"creation_date":1665915803,"post_id":74079553,"comment_id":130806672,"body_markdown":"Actually the not creating database tables was pretty simple, just turning &quot;setGenerateDdl&quot; to true.. The only problem now is the racing condition. I wonder if I have any way of triggering database creation/update at startup instead of waiting for first database query...","body":"Actually the not creating database tables was pretty simple, just turning &quot;setGenerateDdl&quot; to true.. The only problem now is the racing condition. I wonder if I have any way of triggering database creation/update at startup instead of waiting for first database query..."}],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665853394,"creation_date":1665853394,"answer_id":74081435,"question_id":74079553,"body_markdown":"Check which version of Java you are using. IllegalClassFormatException generally means that you are using jar files which require a *newer* version of Java than the version you are running.\r\n\r\nIn your pom.xml, it appears you are running Derby 10.15. There are 3 different releases of Derby available right now:\r\n\r\n - Derby 10.14 requires Java 8+\r\n - Derby 10.15 requires Java 9+\r\n - Derby 10.16 requires Java 17+\r\n\r\nSo I&#39;m guessing you&#39;re running Java 8. In that case, you can either\r\n - switch to Derby 10.14,\r\n - or, upgrade to Java 9 or higher.","title":"java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException using Spring JPA","body":"<p>Check which version of Java you are using. IllegalClassFormatException generally means that you are using jar files which require a <em>newer</em> version of Java than the version you are running.</p>\n<p>In your pom.xml, it appears you are running Derby 10.15. There are 3 different releases of Derby available right now:</p>\n<ul>\n<li>Derby 10.14 requires Java 8+</li>\n<li>Derby 10.15 requires Java 9+</li>\n<li>Derby 10.16 requires Java 17+</li>\n</ul>\n<p>So I'm guessing you're running Java 8. In that case, you can either</p>\n<ul>\n<li>switch to Derby 10.14,</li>\n<li>or, upgrade to Java 9 or higher.</li>\n</ul>\n"}],"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665911234,"creation_date":1665837850,"question_id":74079553,"body_markdown":"I&#39;m trying to initialize a derby database on startup using Spring jpa.\r\nI have a couple of basic entities. Relevant code follows:\r\n\r\n**PersistenceConfiguration class**\r\n\r\n    package org.afsilva.etimer.persistence;\r\n    \r\n    import java.io.File;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;org.afsilva.etimer.persistence&quot;)\r\n    @PropertySource(&quot;org/afsilva/etimer/persistence/application.properties&quot;)\r\n    public class PersistenceConfiguration {\r\n\r\n\t    private static final String DRIVER_CLASS_NAME = &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot;;\r\n\t    private static final String DATA_SOURCE_DRIVER_URL = &quot;jdbc:derby:eTimer;create=true&quot;;\r\n\t    private static final String DATA_SOURCE_USER = null;\r\n    \tprivate static final String DATA_SOURCE_PASSWORD = null;\r\n\r\n\t    @Bean(&quot;entityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t\t\r\n\t    \tSystem.setProperty(&quot;derby.system.home&quot;, System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;eTimer&quot;);\r\n\t\t\r\n\t\t    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\t\t    entityManagerFactoryBean.setPackagesToScan(&quot;org.afsilva.etimer.persistence&quot;);\r\n\t\t    entityManagerFactoryBean.setPersistenceUnitName(&quot;system&quot;);\r\n\t\t    entityManagerFactoryBean.setDataSource(systemDataSource());\r\n\r\n    \t\tHibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n\t    \tadapter.setDatabase(Database.DERBY);\r\n\t\t    adapter.setShowSql(true);\r\n    \t\tadapter.setGenerateDdl(false);\r\n\r\n\t    \tentityManagerFactoryBean.setJpaVendorAdapter(adapter);\r\n\r\n\t\t    return entityManagerFactoryBean;\r\n    \t}\r\n\r\n\t    @Bean\r\n\t    DataSource systemDataSource() {\r\n\t\t    DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\t    dataSource.setDriverClassName(DRIVER_CLASS_NAME);\r\n\t\t    dataSource.setUrl(DATA_SOURCE_DRIVER_URL);\r\n\t\t    dataSource.setUsername(DATA_SOURCE_USER);\r\n    \t\tdataSource.setPassword(DATA_SOURCE_PASSWORD);\r\n\r\n\t    \treturn dataSource;\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public PlatformTransactionManager systemTransactionManager() {\r\n\t\t    JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\t \r\n            transactionManager.setEntityManagerFactory((entityManagerFactory().getObject()));\r\n\r\n\t\t    return transactionManager;\r\n\t    }\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;e-timer-persistence&lt;/artifactId&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;e-timer&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;derby.version&gt;10.15.2.0&lt;/derby.version&gt;\r\n    \t\t&lt;hibernate.version&gt;5.6.12.Final&lt;/hibernate.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-data.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derby --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derbytools --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;derbytools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;e-timer-model&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n**parent pom**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;e-timer&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t\r\n    \t\t&lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\r\n    \t\t&lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\r\n    \t\t&lt;log4j.version&gt;2.18.0&lt;/log4j.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;e-timer-model&lt;/module&gt;\r\n    \t\t&lt;module&gt;e-timer-persistence&lt;/module&gt;\r\n    \t\t&lt;module&gt;e-timer-service&lt;/module&gt;\r\n    \t\t&lt;module&gt;e-timer-standalone&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**module-info**\r\n\r\n    module org.afsilva.etimer.persistence {\r\n    \trequires java.persistence;\r\n    \trequires spring.data.commons;\r\n    \trequires spring.context;\r\n    \trequires transitive org.afsilva.etimer.model;\r\n    \trequires spring.data.jpa;\r\n    \trequires spring.orm;\r\n    \trequires spring.beans;\r\n    \trequires java.sql;\r\n    \trequires spring.jdbc;\r\n    \trequires spring.core;\r\n    \trequires spring.tx;\r\n    \trequires spring.instrument;\r\n    \t\r\n    \texports org.afsilva.etimer.persistence.task;\r\n    \texports org.afsilva.etimer.persistence;\r\n    \t\r\n    \topens org.afsilva.etimer.persistence.task;\r\n    \topens org.afsilva.etimer.persistence.project;\r\n    \topens org.afsilva.etimer.persistence.workentry;\r\n    \topens org.afsilva.etimer.persistence;\r\n    }\r\n\r\nSpring application context is being initialized like this\r\n\r\n    appCtx = new AnnotationConfigApplicationContext(ServiceConfig.class);\r\n\r\nServiceConfig class\r\n\r\n    package org.afsilva.etimer.service;\r\n    \r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;org.afsilva.etimer&quot;)\r\n    public class ServiceConfig {\r\n    \r\n    }\r\n\r\nwhen I try to run the application I get\r\n\r\n    13:21:39.466 [JavaFX Application Thread] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n    \tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\r\n    \tat javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n    \tat javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n    \tat javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n    \tat javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n    \tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@18.0.2/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@18.0.2/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n    \tat javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n    \t... 46 more\r\n    Caused by: java.lang.NoClassDefFoundError: java/lang/instrument/IllegalClassFormatException\r\n    \tat spring.data.jpa@2.7.3/org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension.getConfigurationInspectionClassLoader(JpaRepositoryConfigExtension.java:239)\r\n    \tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:97)\r\n    \tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159)\r\n    \tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:106)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n    \tat spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n    \tat spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n    \tat spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n    \tat spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n    \tat spring.context@5.3.23/org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n    \tat org.afsilva.etimer.app/org.afsilva.etimer.ApplicationContext.&lt;clinit&gt;(ApplicationContext.java:12)\r\n    \tat org.afsilva.etimer.app/org.afsilva.etimer.task.TaskListDialog.initializeTaskList(TaskListDialog.java:62)\r\n    \tat org.afsilva.etimer.app/org.afsilva.etimer.task.TaskListDialog.&lt;init&gt;(TaskListDialog.java:53)\r\n    \tat org.afsilva.etimer.app/org.afsilva.etimer.myday.MyDayPane.listTasks(MyDayPane.java:39)\r\n    \t... 57 more\r\n    Caused by: java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 77 more\r\n\r\nThis is a javafx application, I suppose it has no influence on this issue.\r\n\r\nPlease help\r\n\r\n=== Edit ===\r\n\r\nThere is a strange behavior here. If I debug the application and go step by step through the initialization code the error does not occur. I wonder if this is some kind of race condition.. Even then I have another issue, which is a query to the database says that the table does not exist, so it seems that &quot;spring.jpa.hibernate.ddl-auto=update&quot; is not working.. :(","title":"java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException using Spring JPA","body":"<p>I'm trying to initialize a derby database on startup using Spring jpa.\nI have a couple of basic entities. Relevant code follows:</p>\n<p><strong>PersistenceConfiguration class</strong></p>\n<pre><code>package org.afsilva.etimer.persistence;\n\nimport java.io.File;\nimport javax.sql.DataSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\n@Configuration\n@EnableJpaRepositories(&quot;org.afsilva.etimer.persistence&quot;)\n@PropertySource(&quot;org/afsilva/etimer/persistence/application.properties&quot;)\npublic class PersistenceConfiguration {\n\n    private static final String DRIVER_CLASS_NAME = &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot;;\n    private static final String DATA_SOURCE_DRIVER_URL = &quot;jdbc:derby:eTimer;create=true&quot;;\n    private static final String DATA_SOURCE_USER = null;\n    private static final String DATA_SOURCE_PASSWORD = null;\n\n    @Bean(&quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    \n        System.setProperty(&quot;derby.system.home&quot;, System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;eTimer&quot;);\n    \n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPackagesToScan(&quot;org.afsilva.etimer.persistence&quot;);\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;system&quot;);\n        entityManagerFactoryBean.setDataSource(systemDataSource());\n\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n        adapter.setDatabase(Database.DERBY);\n        adapter.setShowSql(true);\n        adapter.setGenerateDdl(false);\n\n        entityManagerFactoryBean.setJpaVendorAdapter(adapter);\n\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    DataSource systemDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(DRIVER_CLASS_NAME);\n        dataSource.setUrl(DATA_SOURCE_DRIVER_URL);\n        dataSource.setUsername(DATA_SOURCE_USER);\n        dataSource.setPassword(DATA_SOURCE_PASSWORD);\n\n        return dataSource;\n    }\n\n    @Bean\n    public PlatformTransactionManager systemTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n     \n        transactionManager.setEntityManagerFactory((entityManagerFactory().getObject()));\n\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;e-timer-persistence&lt;/artifactId&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\n        &lt;artifactId&gt;e-timer&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;derby.version&gt;10.15.2.0&lt;/derby.version&gt;\n        &lt;hibernate.version&gt;5.6.12.Final&lt;/hibernate.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-data.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derby --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;version&gt;${derby.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derbytools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derbytools&lt;/artifactId&gt;\n            &lt;version&gt;${derby.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\n            &lt;artifactId&gt;e-timer-model&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>parent pom</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.afsilva.etimer&lt;/groupId&gt;\n    &lt;artifactId&gt;e-timer&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        \n        &lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\n        &lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\n        &lt;log4j.version&gt;2.18.0&lt;/log4j.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;modules&gt;\n        &lt;module&gt;e-timer-model&lt;/module&gt;\n        &lt;module&gt;e-timer-persistence&lt;/module&gt;\n        &lt;module&gt;e-timer-service&lt;/module&gt;\n        &lt;module&gt;e-timer-standalone&lt;/module&gt;\n    &lt;/modules&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>module-info</strong></p>\n<pre><code>module org.afsilva.etimer.persistence {\n    requires java.persistence;\n    requires spring.data.commons;\n    requires spring.context;\n    requires transitive org.afsilva.etimer.model;\n    requires spring.data.jpa;\n    requires spring.orm;\n    requires spring.beans;\n    requires java.sql;\n    requires spring.jdbc;\n    requires spring.core;\n    requires spring.tx;\n    requires spring.instrument;\n    \n    exports org.afsilva.etimer.persistence.task;\n    exports org.afsilva.etimer.persistence;\n    \n    opens org.afsilva.etimer.persistence.task;\n    opens org.afsilva.etimer.persistence.project;\n    opens org.afsilva.etimer.persistence.workentry;\n    opens org.afsilva.etimer.persistence;\n}\n</code></pre>\n<p>Spring application context is being initialized like this</p>\n<pre><code>appCtx = new AnnotationConfigApplicationContext(ServiceConfig.class);\n</code></pre>\n<p>ServiceConfig class</p>\n<pre><code>package org.afsilva.etimer.service;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;org.afsilva.etimer&quot;)\npublic class ServiceConfig {\n\n}\n</code></pre>\n<p>when I try to run the application I get</p>\n<pre><code>13:21:39.466 [JavaFX Application Thread] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\n    at javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n    at javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NoClassDefFoundError: java/lang/instrument/IllegalClassFormatException\n    at spring.data.jpa@2.7.3/org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension.getConfigurationInspectionClassLoader(JpaRepositoryConfigExtension.java:239)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:97)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:106)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n    at spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n    at spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n    at spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at spring.context@5.3.23/org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    at org.afsilva.etimer.app/org.afsilva.etimer.ApplicationContext.&lt;clinit&gt;(ApplicationContext.java:12)\n    at org.afsilva.etimer.app/org.afsilva.etimer.task.TaskListDialog.initializeTaskList(TaskListDialog.java:62)\n    at org.afsilva.etimer.app/org.afsilva.etimer.task.TaskListDialog.&lt;init&gt;(TaskListDialog.java:53)\n    at org.afsilva.etimer.app/org.afsilva.etimer.myday.MyDayPane.listTasks(MyDayPane.java:39)\n    ... 57 more\nCaused by: java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 77 more\n</code></pre>\n<p>This is a javafx application, I suppose it has no influence on this issue.</p>\n<p>Please help</p>\n<p>=== Edit ===</p>\n<p>There is a strange behavior here. If I debug the application and go step by step through the initialization code the error does not occur. I wonder if this is some kind of race condition.. Even then I have another issue, which is a query to the database says that the table does not exist, so it seems that &quot;spring.jpa.hibernate.ddl-auto=update&quot; is not working.. :(</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"down_vote_count":0,"up_vote_count":187,"is_accepted":true,"score":187,"last_activity_date":1606215007,"creation_date":1363683220,"answer_id":15494996,"question_id":15494926,"body_markdown":"**For the mocks initialization**, using the runner or the `MockitoAnnotations.initMocks` are strictly equivalent solutions. From the javadoc of the [MockitoJUnitRunner](https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.28/org/mockito/junit/MockitoJUnitRunner.html) :\r\n\r\n&gt; JUnit 4.5 runner initializes mocks annotated with Mock, so that explicit usage of MockitoAnnotations.initMocks(Object) is not necessary. Mocks are initialized before each test method.\r\n\r\n----------\r\n\r\nThe first solution (with the `MockitoAnnotations.initMocks`) could be used when you have already configured a specific runner (`SpringJUnit4ClassRunner` for example) on your test case.\r\n\r\nThe second solution (with the `MockitoJUnitRunner`) is the more classic and my favorite. The code is simpler. Using a runner provides the great advantage of **[automatic validation of framework usage](https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.28/org/mockito/Mockito.html#validateMockitoUsage())** (described by [@David Wallace](https://stackoverflow.com/users/1081110/david-wallace) in [this answer][1]).\r\n\r\nBoth solutions allows to share the mocks (and spies) between the test methods. Coupled with the [`@InjectMocks`](http://docs.mockito.googlecode.com/hg/latest/org/mockito/InjectMocks.html), they allow to write unit tests very quickly. The boilerplate mocking code is reduced, the tests are easier to read. For example:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ArticleManagerTest {\r\n\r\n        @Mock private ArticleCalculator calculator;\r\n        @Mock(name = &quot;database&quot;) private ArticleDatabase dbMock;\r\n        @Spy private UserProvider userProvider = new ConsumerUserProvider();\r\n\r\n        @InjectMocks private ArticleManager manager;\r\n\r\n        @Test public void shouldDoSomething() {\r\n            manager.initiateArticle();\r\n            verify(database).addListener(any(ArticleListener.class));\r\n        }\r\n\r\n        @Test public void shouldDoSomethingElse() {\r\n            manager.finishArticle();\r\n            verify(database).removeListener(any(ArticleListener.class));\r\n        }\r\n    }\r\n\r\nPros: The code is minimal \r\n\r\nCons: Black magic. IMO it is mainly due to the @InjectMocks annotation. With this annotation  *&quot;you loose the pain of code&quot;* (see the great comments of [@Brice](https://stackoverflow.com/users/48136/brice))\r\n\r\n----------\r\n\r\nThe third solution is to create your mock on each test method. \r\nIt allow as explained by [@mlk](https://stackoverflow.com/users/157672/mlk) in its answer to have &quot;*self contained test*&quot;.\r\n\r\n    public class ArticleManagerTest {\r\n\r\n        @Test public void shouldDoSomething() {\r\n            // given\r\n            ArticleCalculator calculator = mock(ArticleCalculator.class);\r\n            ArticleDatabase database = mock(ArticleDatabase.class);\r\n            UserProvider userProvider = spy(new ConsumerUserProvider());\r\n            ArticleManager manager = new ArticleManager(calculator, \r\n                                                        userProvider, \r\n                                                        database);\r\n\r\n            // when \r\n            manager.initiateArticle();\r\n\r\n            // then \r\n            verify(database).addListener(any(ArticleListener.class));\r\n        }\r\n\r\n        @Test public void shouldDoSomethingElse() {\r\n            // given\r\n            ArticleCalculator calculator = mock(ArticleCalculator.class);\r\n            ArticleDatabase database = mock(ArticleDatabase.class);\r\n            UserProvider userProvider = spy(new ConsumerUserProvider());\r\n            ArticleManager manager = new ArticleManager(calculator, \r\n                                                        userProvider, \r\n                                                        database);\r\n\r\n            // when \r\n            manager.finishArticle();\r\n\r\n            // then\r\n            verify(database).removeListener(any(ArticleListener.class));\r\n        }\r\n    }\r\n\r\nPros: You clearly demonstrate how your api works (BDD...)\r\n\r\nCons: there is more boilerplate code. (The mocks creation)\r\n\r\n\r\n----------\r\n\r\n**My** recommandation is a compromise. Use the `@Mock` annotation with the `@RunWith(MockitoJUnitRunner.class)`, but do not use the `@InjectMocks` :\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ArticleManagerTest {\r\n\r\n        @Mock private ArticleCalculator calculator;\r\n        @Mock private ArticleDatabase database;\r\n        @Spy private UserProvider userProvider = new ConsumerUserProvider();\r\n\r\n        @Test public void shouldDoSomething() {\r\n            // given\r\n            ArticleManager manager = new ArticleManager(calculator, \r\n                                                        userProvider, \r\n                                                        database);\r\n\r\n            // when \r\n            manager.initiateArticle();\r\n\r\n            // then \r\n            verify(database).addListener(any(ArticleListener.class));\r\n        }\r\n\r\n        @Test public void shouldDoSomethingElse() {\r\n            // given\r\n            ArticleManager manager = new ArticleManager(calculator, \r\n                                                        userProvider, \r\n                                                        database);\r\n\r\n            // when \r\n            manager.finishArticle();\r\n\r\n            // then \r\n            verify(database).removeListener(any(ArticleListener.class));\r\n        }\r\n    }\r\n\r\nPros: You clearly demonstrate how your api works (How my `ArticleManager` is instantiated). No boilerplate code.\r\n\r\nCons: The test is not self contained, less pain of code\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10806345/runwithmockitojunitrunner-class-vs-mockitoannotations-initmocksthis/10812752#10812752","title":"Initialising mock objects - Mockito","body":"<p><strong>For the mocks initialization</strong>, using the runner or the <code>MockitoAnnotations.initMocks</code> are strictly equivalent solutions. From the javadoc of the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.28/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\">MockitoJUnitRunner</a> :</p>\n<blockquote>\n<p>JUnit 4.5 runner initializes mocks annotated with Mock, so that explicit usage of MockitoAnnotations.initMocks(Object) is not necessary. Mocks are initialized before each test method.</p>\n</blockquote>\n<hr />\n<p>The first solution (with the <code>MockitoAnnotations.initMocks</code>) could be used when you have already configured a specific runner (<code>SpringJUnit4ClassRunner</code> for example) on your test case.</p>\n<p>The second solution (with the <code>MockitoJUnitRunner</code>) is the more classic and my favorite. The code is simpler. Using a runner provides the great advantage of <strong><a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.28/org/mockito/Mockito.html#validateMockitoUsage()\" rel=\"noreferrer\">automatic validation of framework usage</a></strong> (described by <a href=\"https://stackoverflow.com/users/1081110/david-wallace\">@David Wallace</a> in <a href=\"https://stackoverflow.com/questions/10806345/runwithmockitojunitrunner-class-vs-mockitoannotations-initmocksthis/10812752#10812752\">this answer</a>).</p>\n<p>Both solutions allows to share the mocks (and spies) between the test methods. Coupled with the <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/InjectMocks.html\" rel=\"noreferrer\"><code>@InjectMocks</code></a>, they allow to write unit tests very quickly. The boilerplate mocking code is reduced, the tests are easier to read. For example:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ArticleManagerTest {\n\n    @Mock private ArticleCalculator calculator;\n    @Mock(name = &quot;database&quot;) private ArticleDatabase dbMock;\n    @Spy private UserProvider userProvider = new ConsumerUserProvider();\n\n    @InjectMocks private ArticleManager manager;\n\n    @Test public void shouldDoSomething() {\n        manager.initiateArticle();\n        verify(database).addListener(any(ArticleListener.class));\n    }\n\n    @Test public void shouldDoSomethingElse() {\n        manager.finishArticle();\n        verify(database).removeListener(any(ArticleListener.class));\n    }\n}\n</code></pre>\n<p>Pros: The code is minimal</p>\n<p>Cons: Black magic. IMO it is mainly due to the @InjectMocks annotation. With this annotation  <em>&quot;you loose the pain of code&quot;</em> (see the great comments of <a href=\"https://stackoverflow.com/users/48136/brice\">@Brice</a>)</p>\n<hr />\n<p>The third solution is to create your mock on each test method.\nIt allow as explained by <a href=\"https://stackoverflow.com/users/157672/mlk\">@mlk</a> in its answer to have &quot;<em>self contained test</em>&quot;.</p>\n<pre><code>public class ArticleManagerTest {\n\n    @Test public void shouldDoSomething() {\n        // given\n        ArticleCalculator calculator = mock(ArticleCalculator.class);\n        ArticleDatabase database = mock(ArticleDatabase.class);\n        UserProvider userProvider = spy(new ConsumerUserProvider());\n        ArticleManager manager = new ArticleManager(calculator, \n                                                    userProvider, \n                                                    database);\n\n        // when \n        manager.initiateArticle();\n\n        // then \n        verify(database).addListener(any(ArticleListener.class));\n    }\n\n    @Test public void shouldDoSomethingElse() {\n        // given\n        ArticleCalculator calculator = mock(ArticleCalculator.class);\n        ArticleDatabase database = mock(ArticleDatabase.class);\n        UserProvider userProvider = spy(new ConsumerUserProvider());\n        ArticleManager manager = new ArticleManager(calculator, \n                                                    userProvider, \n                                                    database);\n\n        // when \n        manager.finishArticle();\n\n        // then\n        verify(database).removeListener(any(ArticleListener.class));\n    }\n}\n</code></pre>\n<p>Pros: You clearly demonstrate how your api works (BDD...)</p>\n<p>Cons: there is more boilerplate code. (The mocks creation)</p>\n<hr />\n<p><strong>My</strong> recommandation is a compromise. Use the <code>@Mock</code> annotation with the <code>@RunWith(MockitoJUnitRunner.class)</code>, but do not use the <code>@InjectMocks</code> :</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ArticleManagerTest {\n\n    @Mock private ArticleCalculator calculator;\n    @Mock private ArticleDatabase database;\n    @Spy private UserProvider userProvider = new ConsumerUserProvider();\n\n    @Test public void shouldDoSomething() {\n        // given\n        ArticleManager manager = new ArticleManager(calculator, \n                                                    userProvider, \n                                                    database);\n\n        // when \n        manager.initiateArticle();\n\n        // then \n        verify(database).addListener(any(ArticleListener.class));\n    }\n\n    @Test public void shouldDoSomethingElse() {\n        // given\n        ArticleManager manager = new ArticleManager(calculator, \n                                                    userProvider, \n                                                    database);\n\n        // when \n        manager.finishArticle();\n\n        // then \n        verify(database).removeListener(any(ArticleListener.class));\n    }\n}\n</code></pre>\n<p>Pros: You clearly demonstrate how your api works (How my <code>ArticleManager</code> is instantiated). No boilerplate code.</p>\n<p>Cons: The test is not self contained, less pain of code</p>\n"},{"tags":[],"owner":{"account_id":2503008,"reputation":740,"user_id":2177580,"display_name":"emd"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1363697417,"creation_date":1363686492,"answer_id":15496064,"question_id":15494926,"body_markdown":"There is a neat way of doing this.\r\n\r\n - If it&#39;s an Unit Test you can do this:\r\n\r\n        @RunWith(MockitoJUnitRunner.class)\r\n        public class MyUnitTest {\r\n\r\n            @Mock\r\n            private MyFirstMock myFirstMock;\r\n\r\n            @Mock\r\n            private MySecondMock mySecondMock;\r\n\r\n            @Spy\r\n            private MySpiedClass mySpiedClass = new MySpiedClass();\r\n\r\n            // It&#39;s gonna inject the 2 mocks and the spied object per reflection to this object\r\n            // The java doc of @InjectMocks explains it really well how and when it does the injection\r\n            @InjectMocks\r\n            private MyClassToTest myClassToTest;\r\n\r\n            @Test\r\n            public void testSomething() {\r\n            }\r\n        }\r\n\r\n - EDIT: If it&#39;s an Integration test you can do this(not intended to be used that way with Spring. Just showcase that you can initialize mocks with diferent Runners):\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(&quot;aplicationContext.xml&quot;)\r\n        public class MyIntegrationTest {\r\n\r\n            @Mock\r\n            private MyFirstMock myFirstMock;\r\n\r\n            @Mock\r\n            private MySecondMock mySecondMock;\r\n\r\n            @Spy\r\n            private MySpiedClass mySpiedClass = new MySpiedClass();\r\n\r\n            // It&#39;s gonna inject the 2 mocks and the spied object per reflection to this object\r\n            // The java doc of @InjectMocks explains it really well how and when it does the injection\r\n            @InjectMocks\r\n            private MyClassToTest myClassToTest;\r\n\r\n            @Before\r\n            public void setUp() throws Exception {\r\n                  MockitoAnnotations.initMocks(this);\r\n            }\r\n\r\n            @Test\r\n            public void testSomething() {\r\n            }\r\n        }","title":"Initialising mock objects - Mockito","body":"<p>There is a neat way of doing this.</p>\n\n<ul>\n<li><p>If it's an Unit Test you can do this:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyUnitTest {\n\n    @Mock\n    private MyFirstMock myFirstMock;\n\n    @Mock\n    private MySecondMock mySecondMock;\n\n    @Spy\n    private MySpiedClass mySpiedClass = new MySpiedClass();\n\n    // It's gonna inject the 2 mocks and the spied object per reflection to this object\n    // The java doc of @InjectMocks explains it really well how and when it does the injection\n    @InjectMocks\n    private MyClassToTest myClassToTest;\n\n    @Test\n    public void testSomething() {\n    }\n}\n</code></pre></li>\n<li><p>EDIT: If it's an Integration test you can do this(not intended to be used that way with Spring. Just showcase that you can initialize mocks with diferent Runners):</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(\"aplicationContext.xml\")\npublic class MyIntegrationTest {\n\n    @Mock\n    private MyFirstMock myFirstMock;\n\n    @Mock\n    private MySecondMock mySecondMock;\n\n    @Spy\n    private MySpiedClass mySpiedClass = new MySpiedClass();\n\n    // It's gonna inject the 2 mocks and the spied object per reflection to this object\n    // The java doc of @InjectMocks explains it really well how and when it does the injection\n    @InjectMocks\n    private MyClassToTest myClassToTest;\n\n    @Before\n    public void setUp() throws Exception {\n          MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testSomething() {\n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1363687616,"creation_date":1363687616,"answer_id":15496489,"question_id":15494926,"body_markdown":"MockitoAnnotations &amp; the runner have been well discussed above, so I&#39;m going to throw in my tuppence for the unloved:\r\n\r\n    XXX mockedXxx = mock(XXX.class);\r\n\r\nI use this because I find it a little bit more descriptive and I prefer (not out right ban) unit tests not to use member variables as I like my tests to be (as much as they can be) self contained.","title":"Initialising mock objects - Mockito","body":"<p>MockitoAnnotations &amp; the runner have been well discussed above, so I'm going to throw in my tuppence for the unloved:</p>\n\n<pre><code>XXX mockedXxx = mock(XXX.class);\n</code></pre>\n\n<p>I use this because I find it a little bit more descriptive and I prefer (not out right ban) unit tests not to use member variables as I like my tests to be (as much as they can be) self contained.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1458402111,"creation_date":1437609397,"answer_id":31575978,"question_id":15494926,"body_markdown":"There is now (as of v1.10.7) a fourth way to instantiate mocks, which is using a JUnit4 _rule_ called [MockitoRule][rule].\r\n\r\n    @RunWith(JUnit4.class)   // or a different runner of your choice\r\n    public class YourTest\r\n      @Rule public MockitoRule rule = MockitoJUnit.rule();\r\n      @Mock public YourMock yourMock;\r\n\r\n      @Test public void yourTestMethod() { /* ... */ }\r\n    }\r\n\r\nJUnit looks for [subclasses of TestRule annotated with @Rule][testrule], and uses them to _wrap the test Statements that the Runner provides_. The upshot of this is that you can extract @Before methods, @After methods, and even try...catch wrappers into rules. You can even interact with these from within your test, the way that [ExpectedException][] does.\r\n\r\nMockitoRule behaves _almost exactly like MockitoJUnitRunner_, except that you can use any other runner, such as [Parameterized][] (which allows your test constructors to take arguments so your tests can be run multiple times), or Robolectric&#39;s test runner (so its classloader can provide Java replacements for Android native classes). This makes it strictly more flexible to use in recent JUnit and Mockito versions.\r\n\r\nIn summary:\r\n\r\n - `Mockito.mock()`: Direct invocation with no annotation support or usage validation.\r\n - `MockitoAnnotations.initMocks(this)`: Annotation support, no usage validation.\r\n - `MockitoJUnitRunner`: Annotation support and usage validation, but you must use that runner.\r\n - `MockitoRule`: Annotation support and usage validation with any JUnit runner.\r\n\r\nSee also: [How JUnit @Rule works?][rule-so]\r\n\r\n[rule]: http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\r\n[testrule]: http://junit.org/apidocs/org/junit/Rule.html\r\n[expectedexception]: http://junit.org/apidocs/org/junit/rules/ExpectedException.html\r\n[parameterized]: http://junit.org/apidocs/org/junit/runners/Parameterized.html\r\n[rule-so]: https://stackoverflow.com/q/13489388/1426891","title":"Initialising mock objects - Mockito","body":"<p>There is now (as of v1.10.7) a fourth way to instantiate mocks, which is using a JUnit4 <em>rule</em> called <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">MockitoRule</a>.</p>\n\n<pre><code>@RunWith(JUnit4.class)   // or a different runner of your choice\npublic class YourTest\n  @Rule public MockitoRule rule = MockitoJUnit.rule();\n  @Mock public YourMock yourMock;\n\n  @Test public void yourTestMethod() { /* ... */ }\n}\n</code></pre>\n\n<p>JUnit looks for <a href=\"http://junit.org/apidocs/org/junit/Rule.html\" rel=\"noreferrer\">subclasses of TestRule annotated with @Rule</a>, and uses them to <em>wrap the test Statements that the Runner provides</em>. The upshot of this is that you can extract @Before methods, @After methods, and even try...catch wrappers into rules. You can even interact with these from within your test, the way that <a href=\"http://junit.org/apidocs/org/junit/rules/ExpectedException.html\" rel=\"noreferrer\">ExpectedException</a> does.</p>\n\n<p>MockitoRule behaves <em>almost exactly like MockitoJUnitRunner</em>, except that you can use any other runner, such as <a href=\"http://junit.org/apidocs/org/junit/runners/Parameterized.html\" rel=\"noreferrer\">Parameterized</a> (which allows your test constructors to take arguments so your tests can be run multiple times), or Robolectric's test runner (so its classloader can provide Java replacements for Android native classes). This makes it strictly more flexible to use in recent JUnit and Mockito versions.</p>\n\n<p>In summary:</p>\n\n<ul>\n<li><code>Mockito.mock()</code>: Direct invocation with no annotation support or usage validation.</li>\n<li><code>MockitoAnnotations.initMocks(this)</code>: Annotation support, no usage validation.</li>\n<li><code>MockitoJUnitRunner</code>: Annotation support and usage validation, but you must use that runner.</li>\n<li><code>MockitoRule</code>: Annotation support and usage validation with any JUnit runner.</li>\n</ul>\n\n<p>See also: <a href=\"https://stackoverflow.com/q/13489388/1426891\">How JUnit @Rule works?</a></p>\n"},{"tags":[],"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542977076,"creation_date":1542977076,"answer_id":53446957,"question_id":15494926,"body_markdown":"The other answers are great and contain more detail if you want/need them.  \r\nIn addition to those, I would like to add a TL;DR:\r\n\r\n 1. Prefer to use\r\n    - `@RunWith(MockitoJUnitRunner.class)`\r\n 2. If you cannot (because you already use a different runner), prefer to use\r\n    - `@Rule public MockitoRule rule = MockitoJUnit.rule();`\r\n 3. Similar to (2), but you should **not** use this anymore:\r\n    - ```@Before public void initMocks() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n      ```\r\n 4. If you want to use a mock in just one of the tests and don&#39;t want to expose it to other tests in the same test class, use\r\n    - `X x = mock(X.class)`\r\n\r\n(1) and (2) and (3) are mutually exclusive.  \r\n(4) can be used in combination with the others.","title":"Initialising mock objects - Mockito","body":"<p>The other answers are great and contain more detail if you want/need them.<br>\nIn addition to those, I would like to add a TL;DR:</p>\n\n<ol>\n<li>Prefer to use\n\n<ul>\n<li><code>@RunWith(MockitoJUnitRunner.class)</code></li>\n</ul></li>\n<li>If you cannot (because you already use a different runner), prefer to use\n\n<ul>\n<li><code>@Rule public MockitoRule rule = MockitoJUnit.rule();</code></li>\n</ul></li>\n<li>Similar to (2), but you should <strong>not</strong> use this anymore:\n\n<ul>\n<li><code>@Before public void initMocks() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></li>\n</ul></li>\n<li>If you want to use a mock in just one of the tests and don't want to expose it to other tests in the same test class, use\n\n<ul>\n<li><code>X x = mock(X.class)</code></li>\n</ul></li>\n</ol>\n\n<p>(1) and (2) and (3) are mutually exclusive.<br>\n(4) can be used in combination with the others.</p>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1585735242,"creation_date":1585735242,"answer_id":60968283,"question_id":15494926,"body_markdown":"A little example for JUnit 5 Jupiter, the &quot;RunWith&quot; was removed you now need to use the Extensions using the &quot;@ExtendWith&quot; Annotation.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class FooTest {\r\n\r\n      @InjectMocks\r\n      ClassUnderTest test = new ClassUnderTest();\r\n\r\n      @Spy\r\n      SomeInject bla = new SomeInject();\r\n    }\r\n","title":"Initialising mock objects - Mockito","body":"<p>A little example for JUnit 5 Jupiter, the \"RunWith\" was removed you now need to use the Extensions using the \"@ExtendWith\" Annotation.</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass FooTest {\n\n  @InjectMocks\n  ClassUnderTest test = new ClassUnderTest();\n\n  @Spy\n  SomeInject bla = new SomeInject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1614722262,"creation_date":1614722262,"answer_id":66447754,"question_id":15494926,"body_markdown":"In te lastest version of `Mockito` the method [`MockitoAnnotations.initMocks`][1] is deprecated\r\n\r\nPreferred way is use\r\n - [`MockitoJUnitRunner`][2] or [`MockitoRule`][3] for `JUnit4`\r\n - [`MockitoExtension`][4] for `JUnit5`\r\n - [`MockitoTestNGListener`][5] for `TestNG`\r\n\r\nIf you can not use dedicated runner/extension you can use [`MockitoSession`][6]\r\n\r\n[1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockitoAnnotations.html\r\n[2]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoJUnitRunner.html\r\n[3]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoRule.html\r\n[4]: https://javadoc.io/doc/org.mockito/mockito-junit-jupiter/latest/org/mockito/junit/jupiter/MockitoExtension.html\r\n[5]: https://javadoc.io/doc/org.mockito/mockito-testng/latest/org/mockito/testng/MockitoTestNGListener.html\r\n[6]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockitoSession.html","title":"Initialising mock objects - Mockito","body":"<p>In te lastest version of <code>Mockito</code> the method <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockitoAnnotations.html\" rel=\"noreferrer\"><code>MockitoAnnotations.initMocks</code></a> is deprecated</p>\n<p>Preferred way is use</p>\n<ul>\n<li><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>MockitoJUnitRunner</code></a> or <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\"><code>MockitoRule</code></a> for <code>JUnit4</code></li>\n<li><a href=\"https://javadoc.io/doc/org.mockito/mockito-junit-jupiter/latest/org/mockito/junit/jupiter/MockitoExtension.html\" rel=\"noreferrer\"><code>MockitoExtension</code></a> for <code>JUnit5</code></li>\n<li><a href=\"https://javadoc.io/doc/org.mockito/mockito-testng/latest/org/mockito/testng/MockitoTestNGListener.html\" rel=\"noreferrer\"><code>MockitoTestNGListener</code></a> for <code>TestNG</code></li>\n</ul>\n<p>If you can not use dedicated runner/extension you can use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockitoSession.html\" rel=\"noreferrer\"><code>MockitoSession</code></a></p>\n"},{"tags":[],"owner":{"account_id":12565201,"reputation":4559,"user_id":9141437,"display_name":"Thanthu"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1628525103,"creation_date":1628431414,"answer_id":68701517,"question_id":15494926,"body_markdown":"**1. Using MockitoAnnotations.openMocks()**:\r\n\r\nThe `MockitoAnnotations.initMock()` method in Mockito 2 is deprecated and replaced with `MockitoAnnotations.openMocks()` in Mockito 3. The `MockitoAnnotations.openMocks()` method returns an instance of `AutoClosable` which can be used to close the resource after the test. Below is an example using `MockitoAnnotations.openMocks()`.\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    \r\n    \r\n    class MyTestClass {\r\n    \r\n    \tAutoCloseable openMocks;\r\n    \r\n    \t@BeforeEach\r\n    \tvoid setUp() {\r\n    \t\topenMocks = MockitoAnnotations.openMocks(this);\r\n    \t\t// my setup code...\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid myTest() {\r\n    \t\t// my test code...\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@AfterEach\r\n    \tvoid tearDown() throws Exception {\r\n            // my tear down code...\r\n    \t\topenMocks.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n**2. Using @ExtendWith(MockitoExtension.class)**:\r\n\r\nAs of JUnit5 `@RunWith` has been removed. Below is an example using `@ExtendWith`:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyTestClass {\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            // my setup code...\r\n        }\r\n    \r\n        @Test\r\n        void myTest() {\r\n            // my test code...\r\n    \r\n        }\r\n    \r\n        @AfterEach\r\n        void tearDown() throws Exception {\r\n            // my tear down code...\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Initialising mock objects - Mockito","body":"<p><strong>1. Using MockitoAnnotations.openMocks()</strong>:</p>\n<p>The <code>MockitoAnnotations.initMock()</code> method in Mockito 2 is deprecated and replaced with <code>MockitoAnnotations.openMocks()</code> in Mockito 3. The <code>MockitoAnnotations.openMocks()</code> method returns an instance of <code>AutoClosable</code> which can be used to close the resource after the test. Below is an example using <code>MockitoAnnotations.openMocks()</code>.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\n\nclass MyTestClass {\n\n    AutoCloseable openMocks;\n\n    @BeforeEach\n    void setUp() {\n        openMocks = MockitoAnnotations.openMocks(this);\n        // my setup code...\n    }\n\n    @Test\n    void myTest() {\n        // my test code...\n        \n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n        // my tear down code...\n        openMocks.close();\n    }\n\n}\n</code></pre>\n<p><strong>2. Using @ExtendWith(MockitoExtension.class)</strong>:</p>\n<p>As of JUnit5 <code>@RunWith</code> has been removed. Below is an example using <code>@ExtendWith</code>:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyTestClass {\n\n    @BeforeEach\n    void setUp() {\n        // my setup code...\n    }\n\n    @Test\n    void myTest() {\n        // my test code...\n\n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n        // my tear down code...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366392,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":15494996,"answer_count":8,"score":174,"last_activity_date":1665910889,"creation_date":1363682962,"question_id":15494926,"body_markdown":"There are many ways to initialize a mock object using MockIto.\r\nWhat is best way among these ?\r\n\r\n1.\r\n\r\n     public class SampleBaseTestCase {\r\n   \r\n       @Before public void initMocks() {\r\n           MockitoAnnotations.initMocks(this);\r\n       }\r\n\r\n2.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n\r\n3.\r\n\r\n    mock(XXX.class);\r\n\r\n \r\nsuggest me if there are any other ways better than these... ","title":"Initialising mock objects - Mockito","body":"<p>There are many ways to initialize a mock object using MockIto.\nWhat is best way among these ?</p>\n<p>1.</p>\n<pre><code> public class SampleBaseTestCase {\n\n   @Before public void initMocks() {\n       MockitoAnnotations.initMocks(this);\n   }\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre><code>mock(XXX.class);\n</code></pre>\n<p>suggest me if there are any other ways better than these...</p>\n"},{"tags":["java","spring","spring-security","spring-test","spring-security-test"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665875386,"creation_date":1665875386,"answer_id":74083610,"question_id":74078683,"body_markdown":"You right. It is because the authentication logic in your production codes are different from the test. In production codes it configure a string type principal to the `Authentication` while `@WithMockUser` / `@WithUserDetails` configure a non-string type principal.\r\n\r\nImplement a custom `@WithMockCustomUser` should work as long as you configure a string type principal to `Authentication`. \r\n\r\nThe following implementation should solve your problem :\r\n\r\n``` java\r\n@Target({ ElementType.METHOD, ElementType.TYPE })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\r\npublic @interface WithMockCustomUser {\r\n\r\n\tString[] authorities() default {};\r\n\r\n\tString principal() default &quot;foo-principal&quot;;\r\n\r\n}\r\n```\r\n\r\n``` java\r\npublic class WithMockCustomUserSecurityContextFactory\r\n\t\timplements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\r\n\r\n\t@Override\r\n\tpublic SecurityContext createSecurityContext(WithMockCustomUser withUser) {\r\n\r\n\t\tList&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n\t\tfor (String authority : withUser.authorities()) {\r\n\t\t\tgrantedAuthorities.add(new SimpleGrantedAuthority(authority));\r\n\t\t}\r\n\r\n\t\tAuthentication authentication = UsernamePasswordAuthenticationToken.authenticated(withUser.principal(),\r\n\t\t\t\t&quot;somePassword&quot;, grantedAuthorities);\r\n\t\tSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\t\tcontext.setAuthentication(authentication);\r\n\t\treturn context;\r\n\t}\r\n}\r\n```\r\n\r\nAnd use it in your test :\r\n\r\n``` java\r\n@Test\r\n@WithMockCustomUser(principal=&quot;janedoe&quot;)\r\npublic void test() {\r\n    // your test code\r\n}\r\n```","title":"Spring Security testing: .getPrincipal() returning different objects in app and tests","body":"<p>You right. It is because the authentication logic in your production codes are different from the test. In production codes it configure a string type principal to the <code>Authentication</code> while <code>@WithMockUser</code> / <code>@WithUserDetails</code> configure a non-string type principal.</p>\n<p>Implement a custom <code>@WithMockCustomUser</code> should work as long as you configure a string type principal to <code>Authentication</code>.</p>\n<p>The following implementation should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\npublic @interface WithMockCustomUser {\n\n    String[] authorities() default {};\n\n    String principal() default &quot;foo-principal&quot;;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class WithMockCustomUserSecurityContextFactory\n        implements WithSecurityContextFactory&lt;WithMockCustomUser&gt; {\n\n    @Override\n    public SecurityContext createSecurityContext(WithMockCustomUser withUser) {\n\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n        for (String authority : withUser.authorities()) {\n            grantedAuthorities.add(new SimpleGrantedAuthority(authority));\n        }\n\n        Authentication authentication = UsernamePasswordAuthenticationToken.authenticated(withUser.principal(),\n                &quot;somePassword&quot;, grantedAuthorities);\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authentication);\n        return context;\n    }\n}\n</code></pre>\n<p>And use it in your test :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockCustomUser(principal=&quot;janedoe&quot;)\npublic void test() {\n    // your test code\n}\n</code></pre>\n"}],"owner":{"account_id":11410663,"reputation":23,"user_id":8364897,"display_name":"odxrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74083610,"answer_count":1,"score":1,"last_activity_date":1665910520,"creation_date":1665830133,"question_id":74078683,"body_markdown":"I&#39;m making a Reddit clone as one of the projects for my portfolio.\r\n\r\nThe problem I&#39;m unable to solve (I&#39;m a beginner) is this:\r\n\r\nI have a CommentController (REST) that&#39;s handling all the api calls regarding comments. There&#39;s an endpoint for creating a comment:\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Comment&gt; createComment(@Valid @RequestBody CommentDto commentDto, BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) throw new DtoValidationException(bindingResult.getAllErrors());\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/comments/&quot;).toUriString());\r\n        Comment comment = commentService.save(commentDto);\r\n        return ResponseEntity.created(uri).body(comment);\r\n    }\r\n\r\nIn my CommentService class, this is the method for saving a comment made by currently logged in user:\r\n\r\n    @Override\r\n    public Comment save(CommentDto commentDto) {\r\n        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        Optional&lt;User&gt; userOptional = userRepository.findUserByUsername((String) principal);\r\n        if (userOptional.isPresent()) {\r\n            User user = userOptional.get();\r\n            Optional&lt;Post&gt; postOptional = postRepository.findById(commentDto.getPostId());\r\n            if (postOptional.isPresent()) {\r\n                Post post = postOptional.get();\r\n                Comment comment = new Comment(user, commentDto.getText(), post);\r\n                user.getComments().add(comment);\r\n                post.getComments().add(comment);\r\n                post.setCommentsCounter(post.getCommentsCounter());\r\n                return comment;\r\n            } else {\r\n                throw new PostNotFoundException(commentDto.getPostId());\r\n            }\r\n        } else {\r\n            throw new UserNotFoundException((String) principal);\r\n        }\r\n    }\r\n\r\nThe app is running normally with no exceptions, and comment is saved to the database.\r\n\r\nI&#39;m writing an integration test for that controller, I used @WithMockUser(username = &quot;janedoe&quot;, password = &quot;password&quot;) on a test class, and I kept getting this exception:\r\n\r\n    ClassCastException: UserDetails can not be converted to String\r\n\r\nI realized that the problem is with this two lines in save method:\r\n\r\n    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    Optional&lt;User&gt; userOptional = userRepository.findUserByUsername((String) principal);\r\n\r\nWhat I don&#39;t get is why are those to lines throwing exception *only* in tests. When the app is running, everything is okay.\r\n\r\nI guess that for some reason in tests the .getPrincipal() method is not returning a String (username), but the whole UserDetails object. I&#39;m not sure how to make it return username in tests.\r\n\r\nWhat have I tried to solve it:\r\n\r\n1. Changing @WithMockUser to @WithUserDetails\r\n2. Using both @WithMockUser and @WithUserDetails on both class- and method-level\r\n3. Creating custom @WithMockCustomUser annotation:\r\n\r\n    ```\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\r\n    public @interface WithMockCustomUser {\r\n\r\n    String username() default &quot;janedoe&quot;;\r\n    String principal() default &quot;janedoe&quot;;\r\n}\r\n  ```\r\n\r\nWhich just gives me the same ClassCastException with different text:\r\nclass com.reddit.controller.CustomUserDetails cannot be cast to class java.lang.String (com.reddit.controller.CustomUserDetails is in unnamed module of loader &#39;app&#39;; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nAny help is appreciated :)","title":"Spring Security testing: .getPrincipal() returning different objects in app and tests","body":"<p>I'm making a Reddit clone as one of the projects for my portfolio.</p>\n<p>The problem I'm unable to solve (I'm a beginner) is this:</p>\n<p>I have a CommentController (REST) that's handling all the api calls regarding comments. There's an endpoint for creating a comment:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;Comment&gt; createComment(@Valid @RequestBody CommentDto commentDto, BindingResult bindingResult) {\n    if (bindingResult.hasErrors()) throw new DtoValidationException(bindingResult.getAllErrors());\n    URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/comments/&quot;).toUriString());\n    Comment comment = commentService.save(commentDto);\n    return ResponseEntity.created(uri).body(comment);\n}\n</code></pre>\n<p>In my CommentService class, this is the method for saving a comment made by currently logged in user:</p>\n<pre><code>@Override\npublic Comment save(CommentDto commentDto) {\n    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    Optional&lt;User&gt; userOptional = userRepository.findUserByUsername((String) principal);\n    if (userOptional.isPresent()) {\n        User user = userOptional.get();\n        Optional&lt;Post&gt; postOptional = postRepository.findById(commentDto.getPostId());\n        if (postOptional.isPresent()) {\n            Post post = postOptional.get();\n            Comment comment = new Comment(user, commentDto.getText(), post);\n            user.getComments().add(comment);\n            post.getComments().add(comment);\n            post.setCommentsCounter(post.getCommentsCounter());\n            return comment;\n        } else {\n            throw new PostNotFoundException(commentDto.getPostId());\n        }\n    } else {\n        throw new UserNotFoundException((String) principal);\n    }\n}\n</code></pre>\n<p>The app is running normally with no exceptions, and comment is saved to the database.</p>\n<p>I'm writing an integration test for that controller, I used @WithMockUser(username = &quot;janedoe&quot;, password = &quot;password&quot;) on a test class, and I kept getting this exception:</p>\n<pre><code>ClassCastException: UserDetails can not be converted to String\n</code></pre>\n<p>I realized that the problem is with this two lines in save method:</p>\n<pre><code>Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\nOptional&lt;User&gt; userOptional = userRepository.findUserByUsername((String) principal);\n</code></pre>\n<p>What I don't get is why are those to lines throwing exception <em>only</em> in tests. When the app is running, everything is okay.</p>\n<p>I guess that for some reason in tests the .getPrincipal() method is not returning a String (username), but the whole UserDetails object. I'm not sure how to make it return username in tests.</p>\n<p>What have I tried to solve it:</p>\n<ol>\n<li><p>Changing @WithMockUser to @WithUserDetails</p>\n</li>\n<li><p>Using both @WithMockUser and @WithUserDetails on both class- and method-level</p>\n</li>\n<li><p>Creating custom @WithMockCustomUser annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@WithSecurityContext(factory = WithMockCustomUserSecurityContextFactory.class)\npublic @interface WithMockCustomUser {\n\nString username() default &quot;janedoe&quot;;\nString principal() default &quot;janedoe&quot;;\n</code></pre>\n</li>\n</ol>\n<p>}</p>\n<pre><code>\nWhich just gives me the same ClassCastException with different text:\nclass com.reddit.controller.CustomUserDetails cannot be cast to class java.lang.String (com.reddit.controller.CustomUserDetails is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')\n\nAny help is appreciated :)\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1665389085,"post_id":74010270,"comment_id":130680102,"body_markdown":"Correct me if I&#39;m wrong, but `ImmutableCollections` is not a part of the public API, so we can&#39;t represent a list in the code as `ImmutableCollections.ListN`. Java doesn&#39;t support read-only or immutable collections in its type system as Kotlin does, in Java read-only/immutability is implementation details.","body":"Correct me if I&#39;m wrong, but <code>ImmutableCollections</code> is not a part of the public API, so we can&#39;t represent a list in the code as <code>ImmutableCollections.ListN</code>. Java doesn&#39;t support read-only or immutable collections in its type system as Kotlin does, in Java read-only/immutability is implementation details."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665389502,"post_id":74010270,"comment_id":130680237,"body_markdown":"@broot While true, I think the OP is more wondering why `listOf(...)` doesn&#39;t compile to `List.of(...)` when targeting the JVM/Android.","body":"@broot While true, I think the OP is more wondering why <code>listOf(...)</code> doesn&#39;t compile to <code>List.of(...)</code> when targeting the JVM/Android."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1665389820,"post_id":74010270,"comment_id":130680334,"body_markdown":"@Slaw My impression is that OP suggested `ImmutableCollections.ListN` is somehow &quot;more immutable&quot; than Kotlin&#39;s implementation (&quot;Kotlin&#39;s listOf method is immutable only in Kotlin&quot;, &quot;ImmutableCollections.ListN, which is actually immutable&quot;). But they&#39;re pretty much the same - they are both represented as just `List` and throw when being modified. &quot;Kotlin&#39;s listOf method is immutable only in Kotlin&quot; - the same can be said about `ImmutableCollections`. They are seen as immutable only in the stdlib internally while initializing them, but anywhere else they are &quot;mutable&quot;.","body":"@Slaw My impression is that OP suggested <code>ImmutableCollections.ListN</code> is somehow &quot;more immutable&quot; than Kotlin&#39;s implementation (&quot;Kotlin&#39;s listOf method is immutable only in Kotlin&quot;, &quot;ImmutableCollections.ListN, which is actually immutable&quot;). But they&#39;re pretty much the same - they are both represented as just <code>List</code> and throw when being modified. &quot;Kotlin&#39;s listOf method is immutable only in Kotlin&quot; - the same can be said about <code>ImmutableCollections</code>. They are seen as immutable only in the stdlib internally while initializing them, but anywhere else they are &quot;mutable&quot;."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665390895,"post_id":74010270,"comment_id":130680720,"body_markdown":"@broot The problem the OP has, from what I understand, comes from passing a Kotlin `List` to a Java API. In Kotlin, the `List` interface has no mutator methods. Pass it to Java, however, and it sees a `java.util.List`, which does have mutator methods. The OP would, if I&#39;m not mistaken, like an `UnsupportedOperationException` to be thrown in the scenario where the Java API attempts to modify the list by calling those mutator methods.","body":"@broot The problem the OP has, from what I understand, comes from passing a Kotlin <code>List</code> to a Java API. In Kotlin, the <code>List</code> interface has no mutator methods. Pass it to Java, however, and it sees a <code>java.util.List</code>, which does have mutator methods. The OP would, if I&#39;m not mistaken, like an <code>UnsupportedOperationException</code> to be thrown in the scenario where the Java API attempts to modify the list by calling those mutator methods."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1665391832,"post_id":74010270,"comment_id":130681044,"body_markdown":"@Slaw And this is exactly what happens right now. Lists created with `listOf()` are immutable, meaning they throw UOE on modification. I think OP&#39;s point is that from the Java code it is not possible to distinguish read-only and mutable list, but this is because Java doesn&#39;t have a concept of read-only lists. And the problem is the same no matter if we use immutable lists created in Kotlin or we don&#39;t at all use any Kotlin code and we create immutable list with e.g. `List.of()`. We just can&#39;t do this from Java. Well, let&#39;s wait for OP ;-)","body":"@Slaw And this is exactly what happens right now. Lists created with <code>listOf()</code> are immutable, meaning they throw UOE on modification. I think OP&#39;s point is that from the Java code it is not possible to distinguish read-only and mutable list, but this is because Java doesn&#39;t have a concept of read-only lists. And the problem is the same no matter if we use immutable lists created in Kotlin or we don&#39;t at all use any Kotlin code and we create immutable list with e.g. <code>List.of()</code>. We just can&#39;t do this from Java. Well, let&#39;s wait for OP ;-)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665392007,"post_id":74010270,"comment_id":130681110,"body_markdown":"@broot Maybe you&#39;re right. I&#39;m not as familiar with all the intricacies of Kotlin. However, the OP said, &quot;_Whenever I use the codebase in Java I get an ArrayList_&quot;. So, if the OP is right and `listOf(arguments...)` is creating a `java.util.ArrayList` under the hood, then I don&#39;t see how UOEs would be thrown upon modification. That implementation is not immutable.","body":"@broot Maybe you&#39;re right. I&#39;m not as familiar with all the intricacies of Kotlin. However, the OP said, &quot;<i>Whenever I use the codebase in Java I get an ArrayList</i>&quot;. So, if the OP is right and <code>listOf(arguments...)</code> is creating a <code>java.util.ArrayList</code> under the hood, then I don&#39;t see how UOEs would be thrown upon modification. That implementation is not immutable."},{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":0,"creation_date":1665395764,"post_id":74010270,"comment_id":130682383,"body_markdown":"There are some mentions on YouTrack, e.g. [this comment](https://youtrack.jetbrains.com/issue/KT-9959/listOf-mapOf-setOf-should-return-collections-with-a-consistent-mutability#focus=Comments-27-2829635.0-0) mentioning support for null elements as a possible blocker","body":"There are some mentions on YouTrack, e.g. <a href=\"https://youtrack.jetbrains.com/issue/KT-9959/listOf-mapOf-setOf-should-return-collections-with-a-consistent-mutability#focus=Comments-27-2829635.0-0\" rel=\"nofollow noreferrer\">this comment</a> mentioning support for null elements as a possible blocker"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1665400106,"post_id":74010270,"comment_id":130683730,"body_markdown":"Ok, I just realized I wasn&#39;t right about `listOf()` being fully immutable. It throws UOE for operations changing its size, so add, insert, remove, but set is still allowed.","body":"Ok, I just realized I wasn&#39;t right about <code>listOf()</code> being fully immutable. It throws UOE for operations changing its size, so add, insert, remove, but set is still allowed."},{"owner":{"account_id":17553238,"reputation":93,"user_id":12733218,"display_name":"funazol"},"score":0,"creation_date":1665504072,"post_id":74010270,"comment_id":130713891,"body_markdown":"@broot @Slaw Ok, yeah I&#39;m getting UOEs when trying to add elements to it. \nI was expecting it would just be a normal ArrayList since\n`println(listOf(1,2,3)::class.qualifiedName)` prints out `java.util.Arrays.ArrayList`","body":"@broot @Slaw Ok, yeah I&#39;m getting UOEs when trying to add elements to it.  I was expecting it would just be a normal ArrayList since <code>println(listOf(1,2,3)::class.qualifiedName)</code> prints out <code>java.util.Arrays.ArrayList</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665516547,"post_id":74010270,"comment_id":130717956,"body_markdown":"@funazol The `java.util.Arrays.ArrayList` and `java.util.ArrayList` classes are different implementations of `List`. The former is what&#39;s returned by the `Arrays.asList(T...)` method, and it is a **fixed-size** list. In other words, you cannot add or remove elements to or from the list, but you can replace elements (with the `set` method). Any method which would result in the size changing will throw a UOE; but still, the list is not truly immutable.","body":"@funazol The <code>java.util.Arrays.ArrayList</code> and <code>java.util.ArrayList</code> classes are different implementations of <code>List</code>. The former is what&#39;s returned by the <code>Arrays.asList(T...)</code> method, and it is a <b>fixed-size</b> list. In other words, you cannot add or remove elements to or from the list, but you can replace elements (with the <code>set</code> method). Any method which would result in the size changing will throw a UOE; but still, the list is not truly immutable."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665910008,"creation_date":1665710994,"answer_id":74063422,"question_id":74010270,"body_markdown":"I have traced it down and indeed the implementation chosen from Kotlin looks strange.\r\n\r\n1) [ListOf(elements)][1] will call `elements.asList()` \r\n2) which will land [here][2] as the varargs input will be an array of objects. \r\n3) Then as you could see [here][3] which is the last part it ends up invoking `Arrays.asList(array)` from `java.util.Arrays`.\r\n\r\nKeep in mind that the `Arrays.asList()` produces an `ArrayList` from the class `java.util.Arrays.class` which is a different class from the normal `ArrayList` which exists in `java.util.ArrayList.class`.\r\n\r\nIndependent of this, still the chosen class from Kotlin from `java.util.Arrays.class -&gt; nested class ArrayList` is not a fully immutable list. It is a list with fixed size as it is directly backed by an array, meaning you could not modify the length of the list by adding more elements but you can modify the existing elements inside.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/JetBrains/kotlin/blob/f3385fbdcb8b9dc29661a8a4973c855cdcf73767/libraries/stdlib/src/kotlin/collections/Collections.kt#L77\r\n  [2]: https://github.com/JetBrains/kotlin/blob/f3385fbdcb8b9dc29661a8a4973c855cdcf73767/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L132\r\n  [3]: https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/jvm/src/kotlin/collections/ArraysUtilJVM.java","title":"Why doesn&#39;t Kotlin compile listOf to ImmutableCollections.ListN?","body":"<p>I have traced it down and indeed the implementation chosen from Kotlin looks strange.</p>\n<ol>\n<li><a href=\"https://github.com/JetBrains/kotlin/blob/f3385fbdcb8b9dc29661a8a4973c855cdcf73767/libraries/stdlib/src/kotlin/collections/Collections.kt#L77\" rel=\"nofollow noreferrer\">ListOf(elements)</a> will call <code>elements.asList()</code></li>\n<li>which will land <a href=\"https://github.com/JetBrains/kotlin/blob/f3385fbdcb8b9dc29661a8a4973c855cdcf73767/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L132\" rel=\"nofollow noreferrer\">here</a> as the varargs input will be an array of objects.</li>\n<li>Then as you could see <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/jvm/src/kotlin/collections/ArraysUtilJVM.java\" rel=\"nofollow noreferrer\">here</a> which is the last part it ends up invoking <code>Arrays.asList(array)</code> from <code>java.util.Arrays</code>.</li>\n</ol>\n<p>Keep in mind that the <code>Arrays.asList()</code> produces an <code>ArrayList</code> from the class <code>java.util.Arrays.class</code> which is a different class from the normal <code>ArrayList</code> which exists in <code>java.util.ArrayList.class</code>.</p>\n<p>Independent of this, still the chosen class from Kotlin from <code>java.util.Arrays.class -&gt; nested class ArrayList</code> is not a fully immutable list. It is a list with fixed size as it is directly backed by an array, meaning you could not modify the length of the list by adding more elements but you can modify the existing elements inside.</p>\n"}],"owner":{"account_id":17553238,"reputation":93,"user_id":12733218,"display_name":"funazol"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1665910008,"creation_date":1665376907,"question_id":74010270,"body_markdown":"I&#39;m trying to use Kotlin alongside Java and but Kotlin&#39;s listOf method is immutable only in Kotlin. Whenever I use the codebase in Java I get an ArrayList instead of Java11&#39;s ImmutableCollections.ListN, which is actually immutable. \r\nSo I was wondering why Kotlin uses ArrayLists internally instead of ImmutableCollections.ListN and is there a way to overwrite this?","title":"Why doesn&#39;t Kotlin compile listOf to ImmutableCollections.ListN?","body":"<p>I'm trying to use Kotlin alongside Java and but Kotlin's listOf method is immutable only in Kotlin. Whenever I use the codebase in Java I get an ArrayList instead of Java11's ImmutableCollections.ListN, which is actually immutable.\nSo I was wondering why Kotlin uses ArrayLists internally instead of ImmutableCollections.ListN and is there a way to overwrite this?</p>\n"},{"tags":["java","jsp","struts","struts-1"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1372247555,"post_id":17318013,"comment_id":25120159,"body_markdown":"Can you please specify what error are you getting exactly in Google Chrome?","body":"Can you please specify what error are you getting exactly in Google Chrome?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1372253759,"post_id":17318013,"comment_id":25124207,"body_markdown":"I don&#39;t understand the point of the JavaScript. What happens if you take out the question mark? It&#39;s not necessary and it all seems rather redundant.","body":"I don&#39;t understand the point of the JavaScript. What happens if you take out the question mark? It&#39;s not necessary and it all seems rather redundant."}],"answers":[{"tags":[],"owner":{"account_id":1784876,"reputation":123,"user_id":2020499,"accept_rate":20,"display_name":"real gadha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394607765,"creation_date":1394607765,"answer_id":22344214,"question_id":17318013,"body_markdown":"I think as you have not mentioned the parameter &#39;method&#39; in the URL, you are getting the error. I am not sure how IE and FF is working, but if you construct the URL something like\r\n&lt;code&gt;UsrAction.do?method=lodable&lt;/code&gt; I believe, it should work in chrome as well. ","title":"Request[/UsrAction] does not contain handler parameter named &#39;method&#39;. This may be caused by whitespace in the label text","body":"<p>I think as you have not mentioned the parameter 'method' in the URL, you are getting the error. I am not sure how IE and FF is working, but if you construct the URL something like\n<code>UsrAction.do?method=lodable</code> I believe, it should work in chrome as well. </p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431925707,"creation_date":1431925707,"answer_id":30295481,"question_id":17318013,"body_markdown":"The reason of the exception is that you have added a param `parameter=&quot;method&quot;`  in your Struts config file and system is now looking for method name in that variable which is not supplied by you in the code.\r\n\r\nYou should use hidden from property to provide the method name to avoid the exception. \r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;method&quot; value=&quot;YourMethodName&quot;/&gt;\r\n\r\nHope this will help someone,\r\n","title":"Request[/UsrAction] does not contain handler parameter named &#39;method&#39;. This may be caused by whitespace in the label text","body":"<p>The reason of the exception is that you have added a param <code>parameter=\"method\"</code>  in your Struts config file and system is now looking for method name in that variable which is not supplied by you in the code.</p>\n\n<p>You should use hidden from property to provide the method name to avoid the exception. </p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"method\" value=\"YourMethodName\"/&gt;\n</code></pre>\n\n<p>Hope this will help someone,</p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665908985,"creation_date":1665908985,"answer_id":74085599,"question_id":17318013,"body_markdown":"I have faced the same issue because of a Javascript error, in my FormBean coming from action class, I put a new variable and have not put that to from, and then I was trying to get it from the form like \r\n\r\n    document.forms[0].VARIABLE_NAME.value\r\n\r\nas this variable was not present in the Form but it was there in the FormBean so JS was unable to find it and was not submitting the form properly. \r\n\r\nSo, to fix the issue I used hidden form fields and put the new variable in the form and then used it from there. fixed my issue. \r\n","title":"Request[/UsrAction] does not contain handler parameter named &#39;method&#39;. This may be caused by whitespace in the label text","body":"<p>I have faced the same issue because of a Javascript error, in my FormBean coming from action class, I put a new variable and have not put that to from, and then I was trying to get it from the form like</p>\n<pre><code>document.forms[0].VARIABLE_NAME.value\n</code></pre>\n<p>as this variable was not present in the Form but it was there in the FormBean so JS was unable to find it and was not submitting the form properly.</p>\n<p>So, to fix the issue I used hidden form fields and put the new variable in the form and then used it from there. fixed my issue.</p>\n"}],"owner":{"account_id":958625,"reputation":3960,"user_id":983436,"accept_rate":65,"display_name":"Code Hungry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665908985,"creation_date":1372243681,"question_id":17318013,"body_markdown":"Below Code is working fine in Mozila Firefox, Internet Explorer but giving above error in google chrome. \r\n\r\n**adminlogin.jsp**\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Admin Role Page&lt;/title&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    function submitForm()\r\n    {\r\n    document.forms[0].action = &quot;UsrAction.do?&quot;;\r\n    document.forms[0].submit();\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;html:form action=&quot;/UsrAction&quot; &gt;\r\n    &lt;html:submit property=&quot;method&quot; value=&quot;lodable&quot; onclick=&quot;submitForm() &quot; /&gt;\r\n    &lt;html:submit property=&quot;method&quot; value=&quot;adduser&quot; onclick=&quot;submitForm()&quot; /&gt; \r\n    &lt;html:submit  property=&quot;method&quot; value=&quot;addprogram&quot; onclick=&quot;submitForm()&quot;/&gt;\r\n    &lt;/html:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**struts-config.xml**\r\n\r\n    &lt;action input=&quot;/adminLogin.jsp&quot; parameter=&quot;method&quot; name=&quot;UsrForm&quot; path=&quot;/UsrAction&quot; scope=&quot;session&quot; type=&quot;com.me.action.UsrAction&quot;&gt;\r\n    &lt;forward name=&quot;lodable&quot; path=&quot;/pages/Lodable.jsp&quot; /&gt;\r\n    &lt;forward name=&quot;adduser&quot; path=&quot;/pages/add.jsp&quot; /&gt;\r\n    &lt;forward name=&quot;addprog&quot; path=&quot;/pages/program.jsp&quot; /&gt;\r\n    &lt;/action&gt;\r\n\r\n**UerAction.java**\r\n\r\n    public class UsrAction extends DispatchAction {\r\n    private final static String lodable = &quot;lodable&quot;;\r\n    private final static String adduser = &quot;adduser&quot;;\r\n    private final static String addprog = &quot;addprog&quot;;\r\n    public ActionForward lodable(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\r\n    UsrForm userForm = (UsrForm) form;\r\n    lgnDTO login = new lgnDTO();\r\n    request.setAttribute(&quot;login&quot;, login.getUsername());  \r\n    return mapping.findForward(lodable);\r\n    }\r\n        \r\n    public ActionForward adduser(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\r\n    UsrForm userForm = (UsrForm) form;\r\n    lgnDTO login = new lgnDTO();\r\n    return mapping.findForward(addprog);\r\n    }\r\n        \r\n    public ActionForward addprogram(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\r\n    UsrForm userForm = (UsrForm) form;\r\n    lgnDTO login = new lgnDTO();\r\n    return mapping.findForward(adduser);\r\n    }\r\n    }\r\n\r\n\r\n**Error Log**\r\n\r\n    type Exception report\r\n    \r\n    message Request[/UsrAction] does not contain handler parameter named &#39;method&#39;. This may be caused by whitespace in the label text.\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    \r\n    javax.servlet.ServletException: Request[/UsrAction] does not contain handler parameter named &#39;method&#39;.  This may be caused by whitespace in the label text.\r\n    \torg.apache.struts.actions.DispatchAction.unspecified(DispatchAction.java:197)\r\n    \torg.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:245)\r\n    \torg.apache.struts.actions.DispatchAction.execute(DispatchAction.java:170)\r\n    \torg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n    \torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n    \torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n    \torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/7.0.39 logs.","title":"Request[/UsrAction] does not contain handler parameter named &#39;method&#39;. This may be caused by whitespace in the label text","body":"<p>Below Code is working fine in Mozila Firefox, Internet Explorer but giving above error in google chrome. </p>\n\n<p><strong>adminlogin.jsp</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;Admin Role Page&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction submitForm()\n{\ndocument.forms[0].action = \"UsrAction.do?\";\ndocument.forms[0].submit();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;html:form action=\"/UsrAction\" &gt;\n&lt;html:submit property=\"method\" value=\"lodable\" onclick=\"submitForm() \" /&gt;\n&lt;html:submit property=\"method\" value=\"adduser\" onclick=\"submitForm()\" /&gt; \n&lt;html:submit  property=\"method\" value=\"addprogram\" onclick=\"submitForm()\"/&gt;\n&lt;/html:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>struts-config.xml</strong></p>\n\n<pre><code>&lt;action input=\"/adminLogin.jsp\" parameter=\"method\" name=\"UsrForm\" path=\"/UsrAction\" scope=\"session\" type=\"com.me.action.UsrAction\"&gt;\n&lt;forward name=\"lodable\" path=\"/pages/Lodable.jsp\" /&gt;\n&lt;forward name=\"adduser\" path=\"/pages/add.jsp\" /&gt;\n&lt;forward name=\"addprog\" path=\"/pages/program.jsp\" /&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p><strong>UerAction.java</strong></p>\n\n<pre><code>public class UsrAction extends DispatchAction {\nprivate final static String lodable = \"lodable\";\nprivate final static String adduser = \"adduser\";\nprivate final static String addprog = \"addprog\";\npublic ActionForward lodable(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\nUsrForm userForm = (UsrForm) form;\nlgnDTO login = new lgnDTO();\nrequest.setAttribute(\"login\", login.getUsername());  \nreturn mapping.findForward(lodable);\n}\n\npublic ActionForward adduser(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\nUsrForm userForm = (UsrForm) form;\nlgnDTO login = new lgnDTO();\nreturn mapping.findForward(addprog);\n}\n\npublic ActionForward addprogram(ActionMapping mapping, ActionForm form,HttpServletRequest request, HttpServletResponse response)throws Exception {\nUsrForm userForm = (UsrForm) form;\nlgnDTO login = new lgnDTO();\nreturn mapping.findForward(adduser);\n}\n}\n</code></pre>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>type Exception report\n\nmessage Request[/UsrAction] does not contain handler parameter named 'method'. This may be caused by whitespace in the label text.\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\n\njavax.servlet.ServletException: Request[/UsrAction] does not contain handler parameter named 'method'.  This may be caused by whitespace in the label text.\n    org.apache.struts.actions.DispatchAction.unspecified(DispatchAction.java:197)\n    org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:245)\n    org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:170)\n    org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.39 logs.\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665909377,"post_id":74085479,"comment_id":130805637,"body_markdown":"Why do you think, it &quot;should throw...&quot;? (If you have more information, please share! If not: i don&#39;t agree!)","body":"Why do you think, it &quot;should throw...&quot;? (If you have more information, please share! If not: i don&#39;t agree!)"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1665909750,"post_id":74085479,"comment_id":130805683,"body_markdown":"You&#39;re most probably experiencing [type erasure](https://stackoverflow.com/q/339699/5515060) and some type inference shenanigans. The `getBean` method returns some type `T` which the compiler resolves as `Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt;` and because `AppleFactory` is a subtype of the former it still works. Also the `getBean` method (probably) does an unchecked cast (i.e. `return (T) someObj;`) which is just ignored at runtime","body":"You&#39;re most probably experiencing <a href=\"https://stackoverflow.com/q/339699/5515060\">type erasure</a> and some type inference shenanigans. The <code>getBean</code> method returns some type <code>T</code> which the compiler resolves as <code>Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt;</code> and because <code>AppleFactory</code> is a subtype of the former it still works. Also the <code>getBean</code> method (probably) does an unchecked cast (i.e. <code>return (T) someObj;</code>) which is just ignored at runtime"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665911983,"post_id":74085479,"comment_id":130806075,"body_markdown":"The code you&#39;ve shown doesn&#39;t contain any casts.","body":"The code you&#39;ve shown doesn&#39;t contain any casts."},{"owner":{"account_id":14948827,"reputation":39,"user_id":10793241,"display_name":"Golu"},"score":0,"creation_date":1665950286,"post_id":74085479,"comment_id":130813844,"body_markdown":"@tgdavies , is it not trying to cast the `appleFactory` object (which is of type OrangeFactory in the xml) to `AppleFactory.class` in the getBean method?","body":"@tgdavies , is it not trying to cast the <code>appleFactory</code> object (which is of type OrangeFactory in the xml) to <code>AppleFactory.class</code> in the getBean method?"},{"owner":{"account_id":14948827,"reputation":39,"user_id":10793241,"display_name":"Golu"},"score":0,"creation_date":1665950371,"post_id":74085479,"comment_id":130813858,"body_markdown":"@xerx593 , what more you need? and why you don&#39;t agree it show throw Classcast for the above code - can you elaborate/explain a bit? Will help me understand.","body":"@xerx593 , what more you need? and why you don&#39;t agree it show throw Classcast for the above code - can you elaborate/explain a bit? Will help me understand."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665952545,"post_id":74085479,"comment_id":130814301,"body_markdown":"i don&#39;t agree, because (with this information): Why should it throw!???","body":"i don&#39;t agree, because (with this information): Why should it throw!???"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665952723,"post_id":74085479,"comment_id":130814339,"body_markdown":"`String` is (obviously) legal as `K` ..and `Map&lt;what, ever&gt;` legal `V`, please elaborate: why not","body":"<code>String</code> is (obviously) legal as <code>K</code> ..and <code>Map&lt;what, ever&gt;</code> legal <code>V</code>, please elaborate: why not"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665952791,"post_id":74085479,"comment_id":130814354,"body_markdown":"`AppleFactory` is just confusing..in OP","body":"<code>AppleFactory</code> is just confusing..in OP"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665953945,"post_id":74085479,"comment_id":130814597,"body_markdown":"Have a look at the source of getBean and see whether there&#39;s a cast.","body":"Have a look at the source of getBean and see whether there&#39;s a cast."},{"owner":{"account_id":14948827,"reputation":39,"user_id":10793241,"display_name":"Golu"},"score":0,"creation_date":1665974371,"post_id":74085479,"comment_id":130817278,"body_markdown":"@tgdavies this is ths source - it is trying to cast  the object from xml into T in this case OrangeFactory object to AppleFactory object? So should throw ClasscastException as both are separate classes (and OrangeFactory is not a child of AppleFactory)? \n\nBelow is the code ------&gt;\n\n\n`public &lt;T&gt; T getBean(String beanId, Class&lt;T&gt; clazz) {\n        try {\n            return (T) springContext.getBean(beanId);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Exception while loading beanId=&quot; + beanId, e);\n        }\n    }`","body":"@tgdavies this is ths source - it is trying to cast  the object from xml into T in this case OrangeFactory object to AppleFactory object? So should throw ClasscastException as both are separate classes (and OrangeFactory is not a child of AppleFactory)?   Below is the code ------&gt;   <code>public &lt;T&gt; T getBean(String beanId, Class&lt;T&gt; clazz) {         try {             return (T) springContext.getBean(beanId);         } catch (Exception e) {             throw new RuntimeException(&quot;Exception while loading beanId=&quot; + beanId, e);         }     }</code>"}],"owner":{"account_id":14948827,"reputation":39,"user_id":10793241,"display_name":"Golu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665907534,"creation_date":1665907534,"question_id":74085479,"body_markdown":"I have a code like below where the Factory interface is implemented by two sub classes, in spring xml the bean defines itself as an object of one of the class(OrangeFactory in below example) while in getBean it tries to cast as AppleFactory, shouldn&#39;t getBean throw Class cast Exception during runtime in this case?\r\n\r\nBut Strangely it doesn&#39;t - what am I missing here?\r\n\r\n```\r\npublic interface Factory&lt;K, V&gt; {\r\n    V get(K key);\r\n}\r\n```\r\n\r\n```\r\npublic class AppleFactory implements Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt; {\r\n   \r\n @Override\r\n    public Map&lt;FCName, Boolean&gt; get(String identifier) {\r\n           //doSomething and\r\n      return &lt;some map&gt;;\r\n }\r\n}\r\n```\r\n```\r\npublic class OrangeFactory&lt;K, V&gt; implements Factory&lt;K, V&gt; {\r\n\r\n @Override\r\n    public V get(K key) {\r\n         //doSomething and\r\n    return &lt;some map&gt;;\r\n }\r\n}\r\n```\r\n\r\nand XML:\r\n\r\n```\r\n&lt;bean id=&quot;appleFactory&quot; class=&quot;OrangeFactory&quot;&gt;  \r\n&lt;/bean&gt;\r\n```\r\n\r\n\r\nBelow method should throw ClassCast Exception during runtime? - But it seem to work fine...\r\n\r\n\r\n```\r\npublic Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt; getAppleFactory() {\r\n        return getBean(&quot;appleFactory&quot;, AppleFactory.class);\r\n}\r\n```\r\n\r\n","title":"Why Spring getBean method NOT Throwing ClassCast Exception?","body":"<p>I have a code like below where the Factory interface is implemented by two sub classes, in spring xml the bean defines itself as an object of one of the class(OrangeFactory in below example) while in getBean it tries to cast as AppleFactory, shouldn't getBean throw Class cast Exception during runtime in this case?</p>\n<p>But Strangely it doesn't - what am I missing here?</p>\n<pre><code>public interface Factory&lt;K, V&gt; {\n    V get(K key);\n}\n</code></pre>\n<pre><code>public class AppleFactory implements Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt; {\n   \n @Override\n    public Map&lt;FCName, Boolean&gt; get(String identifier) {\n           //doSomething and\n      return &lt;some map&gt;;\n }\n}\n</code></pre>\n<pre><code>public class OrangeFactory&lt;K, V&gt; implements Factory&lt;K, V&gt; {\n\n @Override\n    public V get(K key) {\n         //doSomething and\n    return &lt;some map&gt;;\n }\n}\n</code></pre>\n<p>and XML:</p>\n<pre><code>&lt;bean id=&quot;appleFactory&quot; class=&quot;OrangeFactory&quot;&gt;  \n&lt;/bean&gt;\n</code></pre>\n<p>Below method should throw ClassCast Exception during runtime? - But it seem to work fine...</p>\n<pre><code>public Factory&lt;String, Map&lt;FCName, Boolean&gt;&gt; getAppleFactory() {\n        return getBean(&quot;appleFactory&quot;, AppleFactory.class);\n}\n</code></pre>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1665904643,"post_id":74085198,"comment_id":130804961,"body_markdown":"no, I have already read this question and it could not solve this problem. @kaya3","body":"no, I have already read this question and it could not solve this problem. @kaya3"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665904781,"post_id":74085198,"comment_id":130804992,"body_markdown":"Please expand your example to explain why you want to get the type.","body":"Please expand your example to explain why you want to get the type."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1665905155,"post_id":74085198,"comment_id":130805045,"body_markdown":"I have added some content that explained why I want to get the T type, when I deserilized the date fetched from redis zset, I need to deserilized it and using in the next step. @tgdavies","body":"I have added some content that explained why I want to get the T type, when I deserilized the date fetched from redis zset, I need to deserilized it and using in the next step. @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1665905462,"post_id":74085198,"comment_id":130805096,"body_markdown":"Presumably when you call `redisTemplateZSet` you know what T is. Can you just pass the class as a parameter?","body":"Presumably when you call <code>redisTemplateZSet</code> you know what T is. Can you just pass the class as a parameter?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665905753,"post_id":74085198,"comment_id":130805142,"body_markdown":"In fact ... tdavies&#39;s suggestion is the only generic approach that is going to work.  And it is the solution that is suggested by https://stackoverflow.com/a/3437930/139985.  So in fact, the dup link suggested by kaya3 is the correct link ... and ... you haven&#39;t read it properly.","body":"In fact ... tdavies&#39;s suggestion is the only generic approach that is going to work.  And it is the solution that is suggested by <a href=\"https://stackoverflow.com/a/3437930/139985\">stackoverflow.com/a/3437930/139985</a>.  So in fact, the dup link suggested by kaya3 is the correct link ... and ... you haven&#39;t read it properly."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665906028,"post_id":74085198,"comment_id":130805183,"body_markdown":"While it might be difficult to apply the solution in your use-case, it is the only generic solution.  You might be able to do something hacky with a custom deserializer class that tests the serialized data and chooses a class for `T` based on what it finds.","body":"While it might be difficult to apply the solution in your use-case, it is the only generic solution.  You might be able to do something hacky with a custom deserializer class that tests the serialized data and chooses a class for <code>T</code> based on what it finds."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665906215,"post_id":74085198,"comment_id":130805201,"body_markdown":"Or ... you could try to apply https://github.com/spring-projects/spring-data-redis/pull/2375 to a local build of Redis.","body":"Or ... you could try to apply <a href=\"https://github.com/spring-projects/spring-data-redis/pull/2375\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-redis/pull/2375</a> to a local build of Redis."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665907446,"creation_date":1665906640,"answer_id":74085414,"question_id":74085198,"body_markdown":"&gt; Is it possible to get the type from generic type in java.\r\n\r\nThe answer to the general question is No, as explained in \r\n\r\n  - https://stackoverflow.com/questions/3437897,\r\n  - https://stackoverflow.com/questions/14953359, \r\n\r\nand similar questions.  Basically, you can&#39;t get the class of `T` at runtime.  If you need to know the class at runtime, it needs to be either passed as a `java.lang.Class` parameter, or inferred from an actual instance of the `T` type.  (And the latter can only be done reliably if `T` is a leaf class.)\r\n\r\n---------------\r\n\r\nThere is no direct solution in the Redis use-case either, as of the time of writing.  \r\n\r\nHowever, I came across an unmerged Pull Request that claims to support this in the Spring-Data Redis binding; see pull request [#2375](https://github.com/spring-projects/spring-data-redis/pull/2375).  If you want to try it, you will need to figure out how to apply the change to ... whatever version of whatever Redis binding you are actually using.  That will probably involve creating a (temporary) fork.\r\n\r\n  ","title":"is it possible to get the type from generic type in java","body":"<blockquote>\n<p>Is it possible to get the type from generic type in java.</p>\n</blockquote>\n<p>The answer to the general question is No, as explained in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3437897\">How do I get a class instance of generic type T?</a>,</li>\n<li><a href=\"https://stackoverflow.com/questions/14953359\">How to get type arguments class of generic method parameter?</a>,</li>\n</ul>\n<p>and similar questions.  Basically, you can't get the class of <code>T</code> at runtime.  If you need to know the class at runtime, it needs to be either passed as a <code>java.lang.Class</code> parameter, or inferred from an actual instance of the <code>T</code> type.  (And the latter can only be done reliably if <code>T</code> is a leaf class.)</p>\n<hr />\n<p>There is no direct solution in the Redis use-case either, as of the time of writing.</p>\n<p>However, I came across an unmerged Pull Request that claims to support this in the Spring-Data Redis binding; see pull request <a href=\"https://github.com/spring-projects/spring-data-redis/pull/2375\" rel=\"nofollow noreferrer\">#2375</a>.  If you want to try it, you will need to figure out how to apply the change to ... whatever version of whatever Redis binding you are actually using.  That will probably involve creating a (temporary) fork.</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":1,"down_vote_count":0,"up_vote_count":0,"closed_date":1665907564,"accepted_answer_id":74085414,"answer_count":1,"score":0,"last_activity_date":1665907497,"creation_date":1665903937,"question_id":74085198,"body_markdown":"I have a method like this in Java:\r\n\r\n\r\n\r\n    @Bean(name = &quot;redisZSetTemplate&quot;)\r\n        &lt;T&gt; RedisTemplate&lt;String, T&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\r\n    }\r\n\r\n\r\nwhat should I do to get the T type like `T.getClass()` or `T.class`? I have tried this way, add `import com.fasterxml.jackson.core.type.TypeReference;`, then get the T class like this:\r\n\r\n\r\n    Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(new TypeReference&lt;T&gt;(){}.getClass());\r\n\r\n\r\nseems the `new TypeReference&lt;T&gt;(){}.getClass()` get current method class. not the type of T class I want to get the type because I want to parse the data type when fetched from redis. this is the full code looks like:\r\n\r\n\r\n    @Bean(name = &quot;redisZSetTemplate&quot;)\r\n        &lt;T&gt; RedisTemplate&lt;String, T&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, T&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(redisConnectionFactory);\r\n            template.setEnableTransactionSupport(true);\r\n            Class&lt;T&gt; tClass = (Class&lt;T&gt;)((ParameterizedType)getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n            Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(tClass);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n            serializer.setObjectMapper(mapper);\r\n            template.setValueSerializer(serializer);\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(serializer);\r\n            template.setHashValueSerializer(serializer);\r\n            template.afterPropertiesSet();\r\n            return template;\r\n        }\r\n\r\n\r\n\r\nstore the ArticleZSet object into redis zset and deserilized it from redis. Actually I think define the T is more simplicity, what I am doing like this way:\r\n\r\n\r\n\r\n    @Bean(name = &quot;redisObjectTemplate&quot;)\r\n        RedisTemplate&lt;String, Object&gt; redisTemplateObject(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(redisConnectionFactory);\r\n            template.setEnableTransactionSupport(true);\r\n            Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Object.class);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n            serializer.setObjectMapper(mapper);\r\n            template.setValueSerializer(serializer);\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(serializer);\r\n            template.setHashValueSerializer(serializer);\r\n            template.afterPropertiesSet();\r\n            return template;\r\n        }\r\n    \r\n        /**\r\n         * @return\r\n         */\r\n        @Bean(name = &quot;redisIntegerTemplate&quot;)\r\n        RedisTemplate&lt;String, Integer&gt; redisTemplateInt(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, Integer&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(redisConnectionFactory);\r\n            template.setEnableTransactionSupport(true);\r\n            Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Object.class);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n            serializer.setObjectMapper(mapper);\r\n            template.setValueSerializer(serializer);\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(serializer);\r\n            template.setHashValueSerializer(serializer);\r\n            template.afterPropertiesSet();\r\n            return template;\r\n        }\r\n    \r\n        /**\r\n         * @return\r\n         */\r\n        @Bean(name = &quot;redisLongTemplate&quot;)\r\n        RedisTemplate&lt;String, Long&gt; redisTemplateLong(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, Long&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(redisConnectionFactory);\r\n            template.setEnableTransactionSupport(true);\r\n            Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Long.class);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n            serializer.setObjectMapper(mapper);\r\n            template.setValueSerializer(serializer);\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(serializer);\r\n            template.setHashValueSerializer(serializer);\r\n            template.afterPropertiesSet();\r\n            return template;\r\n        }\r\n\r\n\r\n\r\n\r\nI have to define each template for different data type, that make the code ugly. More simple way, I want to just define 1 template and with the generic data type that could make the code more simplicity and reuseable.\r\n\r\n\r\n","title":"is it possible to get the type from generic type in java","body":"<p>I have a method like this in Java:</p>\n<pre><code>@Bean(name = &quot;redisZSetTemplate&quot;)\n    &lt;T&gt; RedisTemplate&lt;String, T&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\n}\n</code></pre>\n<p>what should I do to get the T type like <code>T.getClass()</code> or <code>T.class</code>? I have tried this way, add <code>import com.fasterxml.jackson.core.type.TypeReference;</code>, then get the T class like this:</p>\n<pre><code>Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(new TypeReference&lt;T&gt;(){}.getClass());\n</code></pre>\n<p>seems the <code>new TypeReference&lt;T&gt;(){}.getClass()</code> get current method class. not the type of T class I want to get the type because I want to parse the data type when fetched from redis. this is the full code looks like:</p>\n<pre><code>@Bean(name = &quot;redisZSetTemplate&quot;)\n    &lt;T&gt; RedisTemplate&lt;String, T&gt; redisTemplateZSet(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, T&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setEnableTransactionSupport(true);\n        Class&lt;T&gt; tClass = (Class&lt;T&gt;)((ParameterizedType)getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n        Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(tClass);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        serializer.setObjectMapper(mapper);\n        template.setValueSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n</code></pre>\n<p>store the ArticleZSet object into redis zset and deserilized it from redis. Actually I think define the T is more simplicity, what I am doing like this way:</p>\n<pre><code>@Bean(name = &quot;redisObjectTemplate&quot;)\n    RedisTemplate&lt;String, Object&gt; redisTemplateObject(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setEnableTransactionSupport(true);\n        Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Object.class);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        serializer.setObjectMapper(mapper);\n        template.setValueSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    /**\n     * @return\n     */\n    @Bean(name = &quot;redisIntegerTemplate&quot;)\n    RedisTemplate&lt;String, Integer&gt; redisTemplateInt(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Integer&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setEnableTransactionSupport(true);\n        Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Object.class);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        serializer.setObjectMapper(mapper);\n        template.setValueSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    /**\n     * @return\n     */\n    @Bean(name = &quot;redisLongTemplate&quot;)\n    RedisTemplate&lt;String, Long&gt; redisTemplateLong(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Long&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setEnableTransactionSupport(true);\n        Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Long.class);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        serializer.setObjectMapper(mapper);\n        template.setValueSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n</code></pre>\n<p>I have to define each template for different data type, that make the code ugly. More simple way, I want to just define 1 template and with the generic data type that could make the code more simplicity and reuseable.</p>\n"},{"tags":["java","date","jodatime"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1460347906,"post_id":36539700,"comment_id":60681544,"body_markdown":"Are you saying you want the result to be rounded up, rather than down?","body":"Are you saying you want the result to be rounded up, rather than down?"},{"owner":{"display_name":"user4458270"},"score":0,"creation_date":1460348058,"post_id":36539700,"comment_id":60681573,"body_markdown":"@David Wallace, exactly","body":"@David Wallace, exactly"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1460349029,"post_id":36539700,"comment_id":60681793,"body_markdown":"You could just add one to the result if the end time isn&#39;t the same as the start time.","body":"You could just add one to the result if the end time isn&#39;t the same as the start time."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1460350498,"post_id":36539700,"comment_id":60682228,"body_markdown":"Note that you should not use `LocalDate` if you&#39;re interested in sub-date timespans - `LocalDate` drops the time component of your start and end dates leaving you with an exact number of days. `LocalDateTime` includes times but drops time zones, while `DateTime` also ensures the time zone is persisted. In this case I would probably use `DateTime`.","body":"Note that you should not use <code>LocalDate</code> if you&#39;re interested in sub-date timespans - <code>LocalDate</code> drops the time component of your start and end dates leaving you with an exact number of days. <code>LocalDateTime</code> includes times but drops time zones, while <code>DateTime</code> also ensures the time zone is persisted. In this case I would probably use <code>DateTime</code>."},{"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"score":0,"creation_date":1460350759,"post_id":36539700,"comment_id":60682300,"body_markdown":"Good point, @dimo414 - and why I&#39;m using `LocalDateTime` in the example in my answer instead of `LocalDate`.","body":"Good point, @dimo414 - and why I&#39;m using <code>LocalDateTime</code> in the example in my answer instead of <code>LocalDate</code>."}],"answers":[{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460348497,"creation_date":1460348497,"answer_id":36539804,"question_id":36539700,"body_markdown":"No absolute need to use Joda time, or java.time, here.  A day is (86400 * 1000) milliseconds.  Java `Date`s give you the current time as UTC milliseconds in the Posix epoch. So ...\r\n\r\n    long diffMillis = endDate.getTime() - startDate.getTime();\r\n    int deltaDays = (int) Math.ceil(diffMillis / (86400.0 * 1000.0));","title":"How to get the number of days between two java dates, comparing both the date and also time","body":"<p>No absolute need to use Joda time, or java.time, here.  A day is (86400 * 1000) milliseconds.  Java <code>Date</code>s give you the current time as UTC milliseconds in the Posix epoch. So ...</p>\n\n<pre><code>long diffMillis = endDate.getTime() - startDate.getTime();\nint deltaDays = (int) Math.ceil(diffMillis / (86400.0 * 1000.0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665907271,"creation_date":1460349743,"answer_id":36539981,"question_id":36539700,"body_markdown":"The [JavaDoc][1] for `Days.daysBetween()` says (emphasis mine):\r\n\r\n&gt; Creates a Days representing the **number of whole days** between the two\r\n&gt; specified partial datetimes.\r\n\r\nSo just check whether there are any &quot;left-overs&quot;, and increase if that&#39;s the case:\r\n\r\n    LocalDateTime now = new LocalDateTime();\r\n    LocalDateTime then = now.minusDays(2).minusMinutes(5);\r\n    int numberOfDaysBetween = Days.daysBetween(then, now).getDays();\r\n    LocalDateTime fullDayTime = then.plusDays(numberOfDaysBetween);\r\n    if (fullDayTime.isBefore(now)) {\r\n        numberOfDaysBetween++;\r\n    }\r\n\r\nThis should end up with `numberOfDaysBetween` being 3, since `then` is 2 days *and 5 minutes* before `now`.\n\n [1]: https://joda-time.sourceforge.net/apidocs/org/joda/time/Days.html#daysBetween(org.joda.time.ReadablePartial,org.joda.time.ReadablePartial)","title":"How to get the number of days between two java dates, comparing both the date and also time","body":"<p>The <a href=\"https://joda-time.sourceforge.net/apidocs/org/joda/time/Days.html#daysBetween(org.joda.time.ReadablePartial,org.joda.time.ReadablePartial)\" rel=\"nofollow noreferrer\">JavaDoc</a> for <code>Days.daysBetween()</code> says (emphasis mine):</p>\n<blockquote>\n<p>Creates a Days representing the <strong>number of whole days</strong> between the two\nspecified partial datetimes.</p>\n</blockquote>\n<p>So just check whether there are any &quot;left-overs&quot;, and increase if that's the case:</p>\n<pre><code>LocalDateTime now = new LocalDateTime();\nLocalDateTime then = now.minusDays(2).minusMinutes(5);\nint numberOfDaysBetween = Days.daysBetween(then, now).getDays();\nLocalDateTime fullDayTime = then.plusDays(numberOfDaysBetween);\nif (fullDayTime.isBefore(now)) {\n    numberOfDaysBetween++;\n}\n</code></pre>\n<p>This should end up with <code>numberOfDaysBetween</code> being 3, since <code>then</code> is 2 days <em>and 5 minutes</em> before <code>now</code>.</p>\n"}],"owner":{"display_name":"user4458270"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36539981,"answer_count":2,"score":2,"last_activity_date":1665907271,"creation_date":1460347693,"question_id":36539700,"body_markdown":"I am trying to calculate the number of days between two java `date` objects using the following code:\r\n\r\n    public static int daysBetweenDates(Date startDate, Date endDate)\r\n    \t{\r\n    \t\treturn Days.daysBetween( new LocalDate(startDate.getTime()), new LocalDate(endDate.getTime())).getDays(); \r\n    \t}\r\n\r\nI am using the `Joda` time here. But my problem is that when I compare two dates, example : Mon Apr 11 09:04:00 IST 2016 and Wed Apr 13 11:04:00 IST 2016, the result I get is 2. In fact the result I am expecting is 3 since there is more than 2 days between the given dates. Is there any way to do that.","title":"How to get the number of days between two java dates, comparing both the date and also time","body":"<p>I am trying to calculate the number of days between two java <code>date</code> objects using the following code:</p>\n\n<pre><code>public static int daysBetweenDates(Date startDate, Date endDate)\n    {\n        return Days.daysBetween( new LocalDate(startDate.getTime()), new LocalDate(endDate.getTime())).getDays(); \n    }\n</code></pre>\n\n<p>I am using the <code>Joda</code> time here. But my problem is that when I compare two dates, example : Mon Apr 11 09:04:00 IST 2016 and Wed Apr 13 11:04:00 IST 2016, the result I get is 2. In fact the result I am expecting is 3 since there is more than 2 days between the given dates. Is there any way to do that.</p>\n"},{"tags":["java","thread-safety","atomicinteger"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":4,"creation_date":1623149458,"post_id":67885351,"comment_id":119989797,"body_markdown":"This code should work because `getAndIncrement` is thread-safe, are you sure it prints only 98 or 99 times?","body":"This code should work because <code>getAndIncrement</code> is thread-safe, are you sure it prints only 98 or 99 times?"},{"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"score":0,"creation_date":1623153733,"post_id":67885351,"comment_id":119991244,"body_markdown":"Thanks Karol. Could the IDE or other programs running in the background be affecting the output? I tried to reproduce the problem but was unable to. I had copied the console output in Excel and I am sure that it was once 98 and the other 99 lines.","body":"Thanks Karol. Could the IDE or other programs running in the background be affecting the output? I tried to reproduce the problem but was unable to. I had copied the console output in Excel and I am sure that it was once 98 and the other 99 lines."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1623153802,"post_id":67885351,"comment_id":119991282,"body_markdown":"I couldn&#39;t reproduce your problem and the code looks correct, I don&#39;t know how you could have received 98 or 99 instead of 100.","body":"I couldn&#39;t reproduce your problem and the code looks correct, I don&#39;t know how you could have received 98 or 99 instead of 100."},{"owner":{"account_id":21579655,"reputation":1318,"user_id":15911053,"display_name":"iggy"},"score":4,"creation_date":1623157580,"post_id":67885351,"comment_id":119993049,"body_markdown":"The counting part looks ok to me.  I have a tiny smidgen of doubt about the parallel println calls; the [description](https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println(java.lang.Object)) suggests that printing the value and printing the line terminator are distinct actions, which I suppose *may* result in two values followed by two newlines - but then you&#39;d have obviously-wrong output.","body":"The counting part looks ok to me.  I have a tiny smidgen of doubt about the parallel println calls; the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">description</a> suggests that printing the value and printing the line terminator are distinct actions, which I suppose <i>may</i> result in two values followed by two newlines - but then you&#39;d have obviously-wrong output."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1665831451,"post_id":67885351,"comment_id":130793595,"body_markdown":"I agree with @iggy, this is likely an artefact with `println`. To confirm, try incrementing another `AtomicInteger` in the body of the `if` statement and observe its final value.","body":"I agree with @iggy, this is likely an artefact with <code>println</code>. To confirm, try incrementing another <code>AtomicInteger</code> in the body of the <code>if</code> statement and observe its final value."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665909870,"post_id":67885351,"comment_id":130805708,"body_markdown":"[ExecutorCompletionService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html) ..since java 1.5!;)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a> ..since java 1.5!;)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623191424,"creation_date":1623190500,"answer_id":67895210,"question_id":67885351,"body_markdown":"Unable to replicate your reported experience.\r\n\r\nIn my minds debugger, that seems correct as I cannot see any thread-safety fault in your code.\r\n\r\nTo automate further testing, I altered your code as follows. Rather than call `System.out.println`, I added the thread ID to a `List` of `Long`. I made the list a [`CopyOnWriteArrayList`][1] for thread-safety. I can programmatically detect if the resulting list is not exactly 100 elements in size.\r\n\r\n\r\n```java\r\npackage work.basil.demo;\r\n\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Print implements Runnable\r\n{\r\n    static AtomicInteger atomicInteger = new AtomicInteger( 0 );\r\n    static CopyOnWriteArrayList &lt; Long &gt; list = new CopyOnWriteArrayList &lt;&gt;();\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        while ( atomicInteger.getAndIncrement() &lt; 100 )\r\n            //System.out.println(Thread.currentThread());\r\n            list.add( Thread.currentThread().getId() );\r\n    }\r\n\r\n    public static void main ( String[] args ) throws InterruptedException\r\n    {\r\n        System.out.println( &quot;INFO - demo starting. &quot; + Instant.now() );\r\n        for ( int cycle = 0 ; cycle &lt; 1_000_000 ; cycle++ )\r\n        {\r\n            ArrayList &lt; Thread &gt; threads = new ArrayList &lt;&gt;();\r\n\r\n            for ( int i = 0 ; i &lt; 5 ; i++ )\r\n                threads.add( new Thread( new Print() ) );\r\n\r\n            for ( Thread thread : threads )\r\n                thread.start();\r\n\r\n            for ( Thread thread : threads )\r\n                thread.join();\r\n\r\n//            System.out.println( &quot;list.size() = &quot; + list.size() );\r\n//            if ( list.size() == 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\r\n            if ( list.size() != 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\r\n        }\r\n        System.out.println( &quot;INFO - demo done. &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\nWhen run on a Mac mini (2018) 3 GHz Intel Core i5 with six real cores and no hyper-threading, and 32 GB 2667 MHz DDR4, using Java 16 within IntelliJ. Running `cycle` to a million takes about 5 minutes.\r\n\r\n```none\r\nINFO - demo starting. 2021-06-08T22:11:56.010181Z\r\nINFO - demo done. 2021-06-08T22:16:26.982616Z\r\n```\r\n\r\n## `ExecutorService`\r\n\r\nBy the way, in modern Java we rarely need to address the `Thread` class directly. Instead, use the [Executors][2] framework added to Java 5. \r\n\r\nHere is revised version of the code above, rejiggered to use an executor service.\r\n\r\n```java\r\npublic static void main ( String[] args ) throws InterruptedException\r\n{\r\n    System.out.println( &quot;INFO - demo starting. &quot; + Instant.now() );\r\n    for ( int cycle = 0 ; cycle &lt; 1_000_000 ; cycle++ )\r\n    {\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 5 );\r\n\r\n        int countTasks = 5;\r\n        for ( int i = 0 ; i &lt; countTasks ; i++ )\r\n        {\r\n            executorService.submit( new Print2() );\r\n        }\r\n\r\n        executorService.shutdown();\r\n        executorService.awaitTermination( Duration.ofMinutes( 7 ).toSeconds() , TimeUnit.SECONDS );\r\n\r\n//            System.out.println( &quot;list.size() = &quot; + list.size() );\r\n//            if ( list.size() == 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\r\n        if ( list.size() != 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\r\n    }\r\n    System.out.println( &quot;INFO - demo done. &quot; + Instant.now() );\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html","title":"AtomicInteger thread safety","body":"<p>Unable to replicate your reported experience.</p>\n<p>In my minds debugger, that seems correct as I cannot see any thread-safety fault in your code.</p>\n<p>To automate further testing, I altered your code as follows. Rather than call <code>System.out.println</code>, I added the thread ID to a <code>List</code> of <code>Long</code>. I made the list a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArrayList</code></a> for thread-safety. I can programmatically detect if the resulting list is not exactly 100 elements in size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.demo;\n\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Print implements Runnable\n{\n    static AtomicInteger atomicInteger = new AtomicInteger( 0 );\n    static CopyOnWriteArrayList &lt; Long &gt; list = new CopyOnWriteArrayList &lt;&gt;();\n\n    @Override\n    public void run ( )\n    {\n        while ( atomicInteger.getAndIncrement() &lt; 100 )\n            //System.out.println(Thread.currentThread());\n            list.add( Thread.currentThread().getId() );\n    }\n\n    public static void main ( String[] args ) throws InterruptedException\n    {\n        System.out.println( &quot;INFO - demo starting. &quot; + Instant.now() );\n        for ( int cycle = 0 ; cycle &lt; 1_000_000 ; cycle++ )\n        {\n            ArrayList &lt; Thread &gt; threads = new ArrayList &lt;&gt;();\n\n            for ( int i = 0 ; i &lt; 5 ; i++ )\n                threads.add( new Thread( new Print() ) );\n\n            for ( Thread thread : threads )\n                thread.start();\n\n            for ( Thread thread : threads )\n                thread.join();\n\n//            System.out.println( &quot;list.size() = &quot; + list.size() );\n//            if ( list.size() == 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\n            if ( list.size() != 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\n        }\n        System.out.println( &quot;INFO - demo done. &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<p>When run on a Mac mini (2018) 3 GHz Intel Core i5 with six real cores and no hyper-threading, and 32 GB 2667 MHz DDR4, using Java 16 within IntelliJ. Running <code>cycle</code> to a million takes about 5 minutes.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - demo starting. 2021-06-08T22:11:56.010181Z\nINFO - demo done. 2021-06-08T22:16:26.982616Z\n</code></pre>\n<h2><code>ExecutorService</code></h2>\n<p>By the way, in modern Java we rarely need to address the <code>Thread</code> class directly. Instead, use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Executors</a> framework added to Java 5.</p>\n<p>Here is revised version of the code above, rejiggered to use an executor service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main ( String[] args ) throws InterruptedException\n{\n    System.out.println( &quot;INFO - demo starting. &quot; + Instant.now() );\n    for ( int cycle = 0 ; cycle &lt; 1_000_000 ; cycle++ )\n    {\n        ExecutorService executorService = Executors.newFixedThreadPool( 5 );\n\n        int countTasks = 5;\n        for ( int i = 0 ; i &lt; countTasks ; i++ )\n        {\n            executorService.submit( new Print2() );\n        }\n\n        executorService.shutdown();\n        executorService.awaitTermination( Duration.ofMinutes( 7 ).toSeconds() , TimeUnit.SECONDS );\n\n//            System.out.println( &quot;list.size() = &quot; + list.size() );\n//            if ( list.size() == 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\n        if ( list.size() != 100 ) { System.out.println( &quot;DEBUG list.size() = &quot; + ( list.size() ) ); }\n    }\n    System.out.println( &quot;INFO - demo done. &quot; + Instant.now() );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14463579,"reputation":111,"user_id":13213920,"display_name":"mailtime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665907226,"creation_date":1665734505,"answer_id":74066129,"question_id":67885351,"body_markdown":" ```java\r\n     static AtomicInteger atomicInteger = new AtomicInteger(0); change to\r\n     AtomicInteger atomicInteger = new AtomicInteger(1);// 0-&gt;1 no static\r\n   \r\n     while (atomicInteger.getAndIncrement() &lt; 100) //change to:\r\n     while (atomicInteger.getAndIncrement() != 101)//100-&gt;101\r\n\r\n```\r\nremove &quot;static&quot; for the variable atomicInteger.&lt;/br&gt;\r\nif you need to get exactly 1...100 (not 0...99) set the atomic value to 1 and in the loop set !=101\r\nmy print \r\nhttps://gyazo.com/6762c78ae44c0b06d05e316768114167\r\n\r\nThe comment clarified the question: the key point is the use of statics. use a semaphore\r\n```java\r\nimport java.util.*;\r\nimport java.util.concurrent.*;\r\nimport java.util.concurrent.atomic.*;\r\n\r\npublic class Print implements Runnable {\r\n    static AtomicInteger atomicInteger = new AtomicInteger(1);\r\n\r\n    private final Semaphore semaphore;\r\n\r\n    public Print(final Semaphore semaphore) {\r\n        this.semaphore = semaphore;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        int count = 0;\r\n        try {\r\n            semaphore.acquire();\r\n            while ((count = atomicInteger.getAndIncrement()) != 101) {\r\n            System.out.println(\r\n            &quot;COUNT::&quot; + count + &quot;::&quot; + Thread.currentThread());\r\n        }\r\n           atomicInteger.set(1);\r\n            \r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            semaphore.release();\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        Semaphore semaphore = new Semaphore(1);\r\n        for (int i = 0; i &lt; 5; i++)\r\n            threads.add(new Thread(new Print(semaphore)));\r\n        for (Thread thread : threads)\r\n            thread.start();\r\n        for (Thread thread : threads)\r\n            thread.join();\r\n    }\r\n}\r\n```\r\n","title":"AtomicInteger thread safety","body":"<pre class=\"lang-java prettyprint-override\"><code>    static AtomicInteger atomicInteger = new AtomicInteger(0); change to\n    AtomicInteger atomicInteger = new AtomicInteger(1);// 0-&gt;1 no static\n  \n    while (atomicInteger.getAndIncrement() &lt; 100) //change to:\n    while (atomicInteger.getAndIncrement() != 101)//100-&gt;101\n\n</code></pre>\n<p>remove &quot;static&quot; for the variable atomicInteger.\nif you need to get exactly 1...100 (not 0...99) set the atomic value to 1 and in the loop set !=101\nmy print\n<a href=\"https://gyazo.com/6762c78ae44c0b06d05e316768114167\" rel=\"nofollow noreferrer\">https://gyazo.com/6762c78ae44c0b06d05e316768114167</a></p>\n<p>The comment clarified the question: the key point is the use of statics. use a semaphore</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.*;\n\npublic class Print implements Runnable {\n    static AtomicInteger atomicInteger = new AtomicInteger(1);\n\n    private final Semaphore semaphore;\n\n    public Print(final Semaphore semaphore) {\n        this.semaphore = semaphore;\n    }\n\n    @Override\n    public void run() {\n        int count = 0;\n        try {\n            semaphore.acquire();\n            while ((count = atomicInteger.getAndIncrement()) != 101) {\n            System.out.println(\n            &quot;COUNT::&quot; + count + &quot;::&quot; + Thread.currentThread());\n        }\n           atomicInteger.set(1);\n            \n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        } finally {\n            semaphore.release();\n        }\n\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        Semaphore semaphore = new Semaphore(1);\n        for (int i = 0; i &lt; 5; i++)\n            threads.add(new Thread(new Print(semaphore)));\n        for (Thread thread : threads)\n            thread.start();\n        for (Thread thread : threads)\n            thread.join();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1665907226,"creation_date":1623146182,"question_id":67885351,"body_markdown":"How can I achieve that the while loop here is always executed exactly 100 times. When I execute the code, in rare cases it prints 99 or 98 lines on the console and not always 100, which I do not understand.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Print implements Runnable {\r\n    static AtomicInteger atomicInteger = new AtomicInteger(0);\r\n\r\n    @Override\r\n    public void run() {\r\n        while (atomicInteger.getAndIncrement() &lt; 100)\r\n            System.out.println(Thread.currentThread());\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ArrayList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 5; i++)\r\n            threads.add(new Thread(new Print()));\r\n\r\n        for (Thread thread : threads)\r\n            thread.start();\r\n\r\n        for (Thread thread : threads)\r\n            thread.join();\r\n    }\r\n}\r\n```","title":"AtomicInteger thread safety","body":"<p>How can I achieve that the while loop here is always executed exactly 100 times. When I execute the code, in rare cases it prints 99 or 98 lines on the console and not always 100, which I do not understand.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Print implements Runnable {\n    static AtomicInteger atomicInteger = new AtomicInteger(0);\n\n    @Override\n    public void run() {\n        while (atomicInteger.getAndIncrement() &lt; 100)\n            System.out.println(Thread.currentThread());\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        ArrayList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 5; i++)\n            threads.add(new Thread(new Print()));\n\n        for (Thread thread : threads)\n            thread.start();\n\n        for (Thread thread : threads)\n            thread.join();\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans","glassfish"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665917134,"post_id":74081487,"comment_id":130806884,"body_markdown":"Java 10 went out of support in September 2018. Use a supported version like Java 8, 11, 17 or 19.","body":"Java 10 went out of support in September 2018. Use a supported version like Java 8, 11, 17 or 19."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665907096,"creation_date":1665907096,"answer_id":74085451,"question_id":74081487,"body_markdown":"It is tricky to ensure that you are using an appropriate version combination of  NetBeans, Java and GlassFish. I don&#39;t know of any single piece of documentation that helps, but this is what you can do:\r\n- Refer to the Release Notes for your NetBeans installation (e.g. [Downloading Apache NetBeans 15][1]) to determine which Java versions it supports.\r\n- Refer to the [Eclipse GlassFish documentation][2] to determine which Java versions GlassFish 6.x supports.\r\n\r\nIn your case, although you don&#39;t mention you GlassFish version, since you are using NetBeans 15 you must use a JDK &gt;= 11. [From the Release Notes for NetBeans 15][1]:\r\n\r\n&gt; The Apache NetBeans 15 binary releases require JDK 11+, and officially\r\n&gt; support running on JDK 11 and JDK 17.\r\n\r\nSo your current NetBeans environment which uses JDK 10 is invalid. GlassFish is not your biggest concern; you need to update NetBeans to use a valid JDK first. \r\n\r\n[This answer][3] summarizes GlassFish 6.x &lt;=&gt; JDK compatibility. If you are using a GlassFish release &lt; 6 then you must use JDK 8 which is not supported by any recent release of NetBeans.\r\n\r\nAnd regardless of all that, unless you have a compelling reason for doing so, you should stop using JDK 10. It is unsupported, may present security risks, and is definitely problematic for a working NetBeans/Java/GlassFish environment. Once you have installed a valid JDK, also ensure that you remove all traces of JDK 10 from your environment.\r\n\r\nOne stable combination you might consider is NetBeans 15 + JDK 11 + GlassFish 6.1, but there are plenty of other possibilities.\r\n\r\nUpdate your question if you still have problems after upgrading your JDK. \r\n\r\n\r\n  [1]: https://netbeans.apache.org/download/nb15/\r\n  [2]: https://glassfish.org/download\r\n  [3]: https://stackoverflow.com/a/73299930/2985643","title":"What glassfish version is suitable for jdk 10","body":"<p>It is tricky to ensure that you are using an appropriate version combination of  NetBeans, Java and GlassFish. I don't know of any single piece of documentation that helps, but this is what you can do:</p>\n<ul>\n<li>Refer to the Release Notes for your NetBeans installation (e.g. <a href=\"https://netbeans.apache.org/download/nb15/\" rel=\"nofollow noreferrer\">Downloading Apache NetBeans 15</a>) to determine which Java versions it supports.</li>\n<li>Refer to the <a href=\"https://glassfish.org/download\" rel=\"nofollow noreferrer\">Eclipse GlassFish documentation</a> to determine which Java versions GlassFish 6.x supports.</li>\n</ul>\n<p>In your case, although you don't mention you GlassFish version, since you are using NetBeans 15 you must use a JDK &gt;= 11. <a href=\"https://netbeans.apache.org/download/nb15/\" rel=\"nofollow noreferrer\">From the Release Notes for NetBeans 15</a>:</p>\n<blockquote>\n<p>The Apache NetBeans 15 binary releases require JDK 11+, and officially\nsupport running on JDK 11 and JDK 17.</p>\n</blockquote>\n<p>So your current NetBeans environment which uses JDK 10 is invalid. GlassFish is not your biggest concern; you need to update NetBeans to use a valid JDK first.</p>\n<p><a href=\"https://stackoverflow.com/a/73299930/2985643\">This answer</a> summarizes GlassFish 6.x &lt;=&gt; JDK compatibility. If you are using a GlassFish release &lt; 6 then you must use JDK 8 which is not supported by any recent release of NetBeans.</p>\n<p>And regardless of all that, unless you have a compelling reason for doing so, you should stop using JDK 10. It is unsupported, may present security risks, and is definitely problematic for a working NetBeans/Java/GlassFish environment. Once you have installed a valid JDK, also ensure that you remove all traces of JDK 10 from your environment.</p>\n<p>One stable combination you might consider is NetBeans 15 + JDK 11 + GlassFish 6.1, but there are plenty of other possibilities.</p>\n<p>Update your question if you still have problems after upgrading your JDK.</p>\n"}],"owner":{"account_id":8832558,"reputation":1,"user_id":6598297,"display_name":"user6598297"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665907096,"creation_date":1665853772,"question_id":74081487,"body_markdown":"I am trying to setup netbeans 15 for Java development but the glassfish installed could not be added. The wizard asked me to create domain manually on command prompt but while trying to do that I got the error message: \r\n\r\n&gt;glassfish requires version 6 but your jdk version is 0. \r\n\r\nI have ensured my environment variables are well set ","title":"What glassfish version is suitable for jdk 10","body":"<p>I am trying to setup netbeans 15 for Java development but the glassfish installed could not be added. The wizard asked me to create domain manually on command prompt but while trying to do that I got the error message:</p>\n<blockquote>\n<p>glassfish requires version 6 but your jdk version is 0.</p>\n</blockquote>\n<p>I have ensured my environment variables are well set</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1665908249,"post_id":40900547,"comment_id":130805485,"body_markdown":"can you change your fieldName to camelCase? Like `firstName` instead of `first_name`? And, also change the setter getter method accordingly? You don&#39;t need to change the column definition btw.\nYour setter methods seem not being recognized.","body":"can you change your fieldName to camelCase? Like <code>firstName</code> instead of <code>first_name</code>? And, also change the setter getter method accordingly? You don&#39;t need to change the column definition btw. Your setter methods seem not being recognized."}],"answers":[{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480551993,"creation_date":1480551679,"answer_id":40900599,"question_id":40900547,"body_markdown":"All JPA entity classes should have the empty constructors and **your `User` class is missing empty constructor** which is causing this issue, so change your `User` Entity class as shown below and add `User()` constructor:\r\n\r\n    public class User {\r\n    \r\n        public User() {//empty constructor\r\n        }\r\n    \r\n        //add existing code here\r\n    \r\n    }\r\n\r\n&gt; The entity class must have a no-arg constructor. The entity class may\r\n&gt; have other constructors as well. The no-arg constructor must be public\r\n&gt; or protected. \r\n\r\nYou can look [here][1] for the spec.\r\n\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/persistence-2_1-fr-eval-spec/index.html","title":"Messing around with JPA and getting an Error creating user - could not set field value","body":"<p>All JPA entity classes should have the empty constructors and <strong>your <code>User</code> class is missing empty constructor</strong> which is causing this issue, so change your <code>User</code> Entity class as shown below and add <code>User()</code> constructor:</p>\n\n<pre><code>public class User {\n\n    public User() {//empty constructor\n    }\n\n    //add existing code here\n\n}\n</code></pre>\n\n<blockquote>\n  <p>The entity class must have a no-arg constructor. The entity class may\n  have other constructors as well. The no-arg constructor must be public\n  or protected. </p>\n</blockquote>\n\n<p>You can look <a href=\"http://download.oracle.com/otndocs/jcp/persistence-2_1-fr-eval-spec/index.html\" rel=\"nofollow noreferrer\">here</a> for the spec.</p>\n"},{"tags":[],"owner":{"account_id":15154412,"reputation":21,"user_id":10935755,"display_name":"Andrzej Foltyski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547870452,"creation_date":1547870452,"answer_id":54263943,"question_id":40900547,"body_markdown":"I had the same problem. Your strategy in @GenericGenerator is set incorrectly.\r\n\r\nTry:\r\n\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)","title":"Messing around with JPA and getting an Error creating user - could not set field value","body":"<p>I had the same problem. Your strategy in @GenericGenerator is set incorrectly.</p>\n\n<p>Try:</p>\n\n<pre><code>@GenericGenerator(name = \"system-uuid\", strategy = \"org.hibernate.id.UUIDGenerator\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15567971,"reputation":11,"user_id":11231187,"display_name":"G. Ionut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665906691,"creation_date":1665906691,"answer_id":74085418,"question_id":40900547,"body_markdown":"in dataBase exists UUID type, try to use UUID instead of varchar(36). ","title":"Messing around with JPA and getting an Error creating user - could not set field value","body":"<p>in dataBase exists UUID type, try to use UUID instead of varchar(36).</p>\n"}],"owner":{"account_id":1432958,"reputation":8289,"user_id":1354934,"accept_rate":56,"display_name":"user1354934"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665906691,"creation_date":1480551276,"question_id":40900547,"body_markdown":"I am following the Spring tutorial to get started with JPA, and I have a basic mysql db with a `user` table.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve set up `User.java` as follows:\r\n\r\n    package com.test.models;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.GeneratedValue;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import javax.persistence.Id;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator=&quot;system-uuid&quot;)\r\n    \t@GenericGenerator(name=&quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n    \r\n        @Column(name=&quot;first_name&quot;)\r\n        String first_name;\r\n    \r\n        @Column(name=&quot;last_name&quot;)\r\n        String last_name;\r\n    \r\n        @Column(name=&quot;username&quot;)\r\n        String username;\r\n    \r\n        public User(String first_name, String last_name, String username) {\r\n            this.first_name = first_name;\r\n            this.last_name = last_name;\r\n            this.username = username;\r\n        }\r\n\r\n        public User() { } \r\n    \r\n        public UUID getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(UUID id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getFirst_name() {\r\n            return first_name;\r\n        }\r\n    \r\n        public void setFirst_name(String first_name) {\r\n            this.first_name = first_name;\r\n        }\r\n    \r\n        public String getLast_name() {\r\n            return last_name;\r\n        }\r\n    \r\n        public void setLast_name(String last_name) {\r\n            this.last_name = last_name;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    }\r\n\r\nI&#39;ve set up the `UserRepo.java`:\r\n\r\n    package com.test.models;\r\n    \r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.data.rest.core.annotation.RepositoryRestResource;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    @RepositoryRestResource\r\n    public interface UserRepo extends CrudRepository&lt;User, UUID&gt;{\r\n        User findByUsername(String username);\r\n\r\n}\r\n\r\nAnd finally the `UserController.java`:\r\n\r\n    package com.test.controllers;\r\n    \r\n    import com.test.models.UserRepo;\r\n    import com.test.models.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserRepo userRepo;\r\n    \r\n        @RequestMapping(&quot;/create&quot;)\r\n        @ResponseBody\r\n        public String create(String first_name, String last_name, String username) {\r\n            String userId = &quot;&quot;;\r\n            try {\r\n                User user = new User(first_name, last_name, username);\r\n                userRepo.save(user);\r\n                userId = String.valueOf(user.getId());\r\n            }\r\n            catch (Exception ex) {\r\n                return &quot;Error creating the user: &quot; + ex.toString();\r\n            }\r\n            return &quot;User successfully created with id = &quot; + userId;\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;ve also set up my db connection:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test?autoReconnect=true&amp;useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=fakepass\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nHowever, when I use postman to make a POST to localhost:8080/create with\r\n\r\n    {\r\n    \t&quot;first_name&quot;: &quot;Jim&quot;,\r\n    \t&quot;last_name&quot;: &quot;Smith&quot;,\r\n    \t&quot;username&quot;: &quot;jim.smith&quot;\r\n    }\r\n\r\nI get this error:\r\n\r\n&gt; Error creating the user:\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Could not set field\r\n&gt; value [ff80818158b79f8e0158b7a285b60001] value by reflection : [class\r\n&gt; com.test.models.User.id] setter of com.test.models.User.id; nested\r\n&gt; exception is org.hibernate.PropertyAccessException: Could not set\r\n&gt; field value [ff80818158b79f8e0158b7a285b60001] value by reflection :\r\n&gt; [class com.test.models.User.id] setter of com.test.models.User.id\r\n\r\n  [1]: https://i.stack.imgur.com/jR8Vw.png\r\n\r\n","title":"Messing around with JPA and getting an Error creating user - could not set field value","body":"<p>I am following the Spring tutorial to get started with JPA, and I have a basic mysql db with a <code>user</code> table.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jR8Vw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jR8Vw.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've set up <code>User.java</code> as follows:</p>\n\n<pre><code>package com.test.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.persistence.Column;\nimport javax.persistence.GeneratedValue;\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.Id;\nimport java.util.UUID;\n\n@Entity\n@Table(name=\"user\")\npublic class User {\n\n    @Id\n    @GeneratedValue(generator=\"system-uuid\")\n    @GenericGenerator(name=\"system-uuid\", strategy = \"uuid\")\n    @Column(name=\"id\")\n    private UUID id;\n\n    @Column(name=\"first_name\")\n    String first_name;\n\n    @Column(name=\"last_name\")\n    String last_name;\n\n    @Column(name=\"username\")\n    String username;\n\n    public User(String first_name, String last_name, String username) {\n        this.first_name = first_name;\n        this.last_name = last_name;\n        this.username = username;\n    }\n\n    public User() { } \n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getFirst_name() {\n        return first_name;\n    }\n\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n\n    public String getLast_name() {\n        return last_name;\n    }\n\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n}\n</code></pre>\n\n<p>I've set up the <code>UserRepo.java</code>:</p>\n\n<pre><code>package com.test.models;\n\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\n\nimport java.util.UUID;\n\n@RepositoryRestResource\npublic interface UserRepo extends CrudRepository&lt;User, UUID&gt;{\n    User findByUsername(String username);\n</code></pre>\n\n<p>}</p>\n\n<p>And finally the <code>UserController.java</code>:</p>\n\n<pre><code>package com.test.controllers;\n\nimport com.test.models.UserRepo;\nimport com.test.models.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserRepo userRepo;\n\n    @RequestMapping(\"/create\")\n    @ResponseBody\n    public String create(String first_name, String last_name, String username) {\n        String userId = \"\";\n        try {\n            User user = new User(first_name, last_name, username);\n            userRepo.save(user);\n            userId = String.valueOf(user.getId());\n        }\n        catch (Exception ex) {\n            return \"Error creating the user: \" + ex.toString();\n        }\n        return \"User successfully created with id = \" + userId;\n    }\n\n}\n</code></pre>\n\n<p>I've also set up my db connection:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test?autoReconnect=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=fakepass\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>However, when I use postman to make a POST to localhost:8080/create with</p>\n\n<pre><code>{\n    \"first_name\": \"Jim\",\n    \"last_name\": \"Smith\",\n    \"username\": \"jim.smith\"\n}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>Error creating the user:\n  org.springframework.orm.jpa.JpaSystemException: Could not set field\n  value [ff80818158b79f8e0158b7a285b60001] value by reflection : [class\n  com.test.models.User.id] setter of com.test.models.User.id; nested\n  exception is org.hibernate.PropertyAccessException: Could not set\n  field value [ff80818158b79f8e0158b7a285b60001] value by reflection :\n  [class com.test.models.User.id] setter of com.test.models.User.id</p>\n</blockquote>\n"},{"tags":["java","rest","jersey","http-headers","jersey-client"],"comments":[{"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"score":0,"creation_date":1474639514,"post_id":39661821,"comment_id":66627309,"body_markdown":"&quot;But failed miserably so far.&quot;. What problem/error are you getting?","body":"&quot;But failed miserably so far.&quot;. What problem/error are you getting?"},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474653499,"post_id":39661821,"comment_id":66635264,"body_markdown":"I am trying to add more than one header to the POST call, but while calling one one header (always the last one in map) is attached with the call instead of three.","body":"I am trying to add more than one header to the POST call, but while calling one one header (always the last one in map) is attached with the call instead of three."},{"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"score":0,"creation_date":1474664758,"post_id":39661821,"comment_id":66640650,"body_markdown":"The code looks good. Add some logging statements in the for loop for `headers` to see if the entries added in headers are still maintained.","body":"The code looks good. Add some logging statements in the for loop for <code>headers</code> to see if the entries added in headers are still maintained."},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474704784,"post_id":39661821,"comment_id":66648857,"body_markdown":"only the last entry in the loop is added.","body":"only the last entry in the loop is added."},{"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"score":0,"creation_date":1474706089,"post_id":39661821,"comment_id":66649158,"body_markdown":"What I mean is, in the first code-snippet you&#39;re adding entries to `headers`. Could you add logging statements in the loop in second code-snippet and show us the output to ensure that all the entries added in first snippet are still maintained?","body":"What I mean is, in the first code-snippet you&#39;re adding entries to <code>headers</code>. Could you add logging statements in the loop in second code-snippet and show us the output to ensure that all the entries added in first snippet are still maintained?"},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474734873,"post_id":39661821,"comment_id":66657409,"body_markdown":"Yes they are maintained :) the loop runs three time but only the last header gets persisted once the loop in 2nd snippet finishes. It&#39;s kind of over-riding the header","body":"Yes they are maintained :) the loop runs three time but only the last header gets persisted once the loop in 2nd snippet finishes. It&#39;s kind of over-riding the header"},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474737948,"post_id":39661821,"comment_id":66658373,"body_markdown":"Furthermore, if I remove the loop in second snippet that are setting the headers like below. The call works fine.\n\n{code}\n        builder.header(&quot;authorization&quot;, &quot;Basic 132342sdf&quot;);\n        builder.header(&quot;API-Version&quot;, &quot;5.2&quot;);\n        builder.header(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON);\n{code}","body":"Furthermore, if I remove the loop in second snippet that are setting the headers like below. The call works fine.  {code}         builder.header(&quot;authorization&quot;, &quot;Basic 132342sdf&quot;);         builder.header(&quot;API-Version&quot;, &quot;5.2&quot;);         builder.header(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON); {code}"},{"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"score":0,"creation_date":1474739549,"post_id":39661821,"comment_id":66658888,"body_markdown":"Not sure if this will solve it. But you can try. Instead of `builder = builder.header(entry.getKey(), entry.getValue());` do just `builder.header(entry.getKey(), entry.getValue());`. Remove the `builder = ` part.","body":"Not sure if this will solve it. But you can try. Instead of <code>builder = builder.header(entry.getKey(), entry.getValue());</code> do just <code>builder.header(entry.getKey(), entry.getValue());</code>. Remove the <code>builder = </code> part."},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474740218,"post_id":39661821,"comment_id":66659119,"body_markdown":"did this already, no luck :(","body":"did this already, no luck :("},{"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"score":0,"creation_date":1474742009,"post_id":39661821,"comment_id":66659631,"body_markdown":"If the code is exactly what you have shown here then I don&#39;t see any problem. Perhaps it is somewhere else. Only advice I can give you now is try debugging tools.","body":"If the code is exactly what you have shown here then I don&#39;t see any problem. Perhaps it is somewhere else. Only advice I can give you now is try debugging tools."},{"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"score":0,"creation_date":1474742972,"post_id":39661821,"comment_id":66659919,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/124117/discussion-between-maningreen-and-balkrishna-rawool).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/124117/discussion-between-maningreen-and-balkrishna-rawool\">continue this discussion in chat</a>."},{"owner":{"account_id":5028986,"reputation":1194,"user_id":4039840,"display_name":"TuyenNTA"},"score":1,"creation_date":1493971550,"post_id":39661821,"comment_id":74639096,"body_markdown":"@ManinGreen did you get the right answer for your problem? Please share it!","body":"@ManinGreen did you get the right answer for your problem? Please share it!"},{"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1525844596,"post_id":39661821,"comment_id":87509892,"body_markdown":"https://dzone.com/articles/jersey-webresource-header-dont","body":"<a href=\"https://dzone.com/articles/jersey-webresource-header-dont\" rel=\"nofollow noreferrer\">dzone.com/articles/jersey-webresource-header-dont</a>"}],"answers":[{"tags":[],"owner":{"account_id":957088,"reputation":3922,"user_id":982198,"accept_rate":79,"display_name":"ddarellis"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1474644800,"creation_date":1474644800,"answer_id":39664577,"question_id":39661821,"body_markdown":"Basic auth is like: Authorization  = &quot;Authorization&quot; &quot;:&quot; credentials\r\n\r\nan example\r\n\r\n    byte[] loginBytes = (&quot;1&quot; + &quot;:&quot; + &quot;1&quot;).getBytes();\r\n    StringBuilder authString = new StringBuilder().append(&quot;Basic &quot;)\r\n                    .append(Base64.encodeToString(loginBytes, Base64.NO_WRAP));\r\n\r\n    _headers.put(&quot;Authorization&quot;, authString );","title":"Adding multiple headers while calling REST api via Jersey clients","body":"<p>Basic auth is like: Authorization  = \"Authorization\" \":\" credentials</p>\n\n<p>an example</p>\n\n<pre><code>byte[] loginBytes = (\"1\" + \":\" + \"1\").getBytes();\nStringBuilder authString = new StringBuilder().append(\"Basic \")\n                .append(Base64.encodeToString(loginBytes, Base64.NO_WRAP));\n\n_headers.put(\"Authorization\", authString );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6792992,"reputation":166,"user_id":5229380,"display_name":"Unnati Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640167260,"creation_date":1640166803,"answer_id":70447157,"question_id":39661821,"body_markdown":"I think the issue here is, type of MAP that you are trying to access. \r\n\r\n    Map&lt;String, Object&gt; headers = new HashMap&lt;String, Object&gt;();\r\n\r\nThe WebSource builder accepts header(String,Object). So Try with changing the map type.","title":"Adding multiple headers while calling REST api via Jersey clients","body":"<p>I think the issue here is, type of MAP that you are trying to access.</p>\n<pre><code>Map&lt;String, Object&gt; headers = new HashMap&lt;String, Object&gt;();\n</code></pre>\n<p>The WebSource builder accepts header(String,Object). So Try with changing the map type.</p>\n"},{"tags":[],"owner":{"account_id":21182455,"reputation":19,"user_id":15576568,"display_name":"Yasser Helmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665906382,"creation_date":1665906071,"answer_id":74085375,"question_id":39661821,"body_markdown":"The header method does change the builder object. It creates a new object and the existing builder is not affected.\r\n\r\n    for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\r\n      builder = builder.header(entry.getKey(), entry.getValue());\r\n    }","title":"Adding multiple headers while calling REST api via Jersey clients","body":"<p>The header method does change the builder object. It creates a new object and the existing builder is not affected.</p>\n<pre><code>for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n  builder = builder.header(entry.getKey(), entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":1988551,"reputation":1300,"user_id":1783165,"accept_rate":82,"display_name":"ihaider"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1665906382,"creation_date":1474636734,"question_id":39661821,"body_markdown":"I am trying to add multiple header. But failed miserably so far. I had tried lots of code tweaking but failed. Can someone help me fix the code or at least tell me what&#39;s wrong ?\r\n\r\nHeader mapping code:\r\n\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\r\n        headers.put(&quot;authorization&quot;, authToken);\r\n        headers.put(&quot;API-Version&quot;, apiVersion);\r\n        headers.put(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON);\r\n\r\nactual calling code:\r\n\r\n        String serviceUrl = serviceHostUrl;\r\n        Client client = Client.create();\r\n        WebResource webResource = client.resource(serviceUrl).path(path);\r\n\r\n        WebResource.Builder builder = webResource.getRequestBuilder();\r\n        if(headers != null &amp;&amp; !headers.isEmpty()) {\r\n            for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\r\n                builder.header(entry.getKey(), entry.getValue());\r\n            }\r\n        }\r\n\r\n        ClientResponse response = builder.post(ClientResponse.class, input);\r\n\r\n\r\n**UPDATE**\r\n\r\nif in second snippet I use below code instead of setting headers in loop, it works fine. That&#39;s really weird. \r\n\r\n   \r\n        builder.header(&quot;authorization&quot;, &quot;Basic SDFSFSDFSDFSDFSDFSDFSDF&quot;);\r\n        builder.header(&quot;API-Version&quot;, &quot;5.2&quot;);\r\n        builder.header(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON);","title":"Adding multiple headers while calling REST api via Jersey clients","body":"<p>I am trying to add multiple header. But failed miserably so far. I had tried lots of code tweaking but failed. Can someone help me fix the code or at least tell me what's wrong ?</p>\n\n<p>Header mapping code:</p>\n\n<pre><code>    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n\n    headers.put(\"authorization\", authToken);\n    headers.put(\"API-Version\", apiVersion);\n    headers.put(\"Content-Type\", MediaType.APPLICATION_JSON);\n</code></pre>\n\n<p>actual calling code:</p>\n\n<pre><code>    String serviceUrl = serviceHostUrl;\n    Client client = Client.create();\n    WebResource webResource = client.resource(serviceUrl).path(path);\n\n    WebResource.Builder builder = webResource.getRequestBuilder();\n    if(headers != null &amp;&amp; !headers.isEmpty()) {\n        for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n            builder.header(entry.getKey(), entry.getValue());\n        }\n    }\n\n    ClientResponse response = builder.post(ClientResponse.class, input);\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>if in second snippet I use below code instead of setting headers in loop, it works fine. That's really weird. </p>\n\n<pre><code>    builder.header(\"authorization\", \"Basic SDFSFSDFSDFSDFSDFSDFSDF\");\n    builder.header(\"API-Version\", \"5.2\");\n    builder.header(\"Content-Type\", MediaType.APPLICATION_JSON);\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665904487,"creation_date":1665903957,"answer_id":74085200,"question_id":74085076,"body_markdown":"That is an icon &#39;decorator&#39;. These are added by the view using the Eclipse decoration manager.\r\n\r\nThat specific decorator is added when there are warning markers on resources in the project.\r\n\r\nMarkers are created by plug-ins using the `createMarker` method of `IResource` (usually its derived interfaces `IFile`, `IFolder` or `IProject`).\r\n","title":"What is the warning icon the project in Eclipse and how to create it?","body":"<p>That is an icon 'decorator'. These are added by the view using the Eclipse decoration manager.</p>\n<p>That specific decorator is added when there are warning markers on resources in the project.</p>\n<p>Markers are created by plug-ins using the <code>createMarker</code> method of <code>IResource</code> (usually its derived interfaces <code>IFile</code>, <code>IFolder</code> or <code>IProject</code>).</p>\n"}],"owner":{"account_id":19740683,"reputation":67,"user_id":14454122,"display_name":"Cat Dragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74085200,"answer_count":1,"score":-1,"last_activity_date":1665904487,"creation_date":1665902048,"question_id":74085076,"body_markdown":"I want create Project with icon warning like this but I try create Project but it always create Project without icon warning\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZLjfC.png","title":"What is the warning icon the project in Eclipse and how to create it?","body":"<p>I want create Project with icon warning like this but I try create Project but it always create Project without icon warning</p>\n<p><a href=\"https://i.stack.imgur.com/ZLjfC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZLjfC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","scala","email","mime","mimebodypart"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1665057057,"post_id":73972458,"comment_id":130612738,"body_markdown":"Smells like the short size for GET as opposed to POST, email servers operate different to http but do have some similar request constraint systems. however, such settings may be adjustable in server configuration. Lookup the IETF RFC for SMTP transport.","body":"Smells like the short size for GET as opposed to POST, email servers operate different to http but do have some similar request constraint systems. however, such settings may be adjustable in server configuration. Lookup the IETF RFC for SMTP transport."}],"owner":{"account_id":14506102,"reputation":169,"user_id":10880169,"display_name":"mo_st"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665904314,"creation_date":1665052738,"question_id":73972458,"body_markdown":"I am using ``MimeBodyPart.getInputStream`` to retrieve a file attached to an incoming email. Anytime the attached file is larger than 8192 bytes (8 KiB), the rest of the data is lost. ``fileInput.readAllBytes().length`` seems to always be min(fileSize, 8192). My relevant code looks like this\r\n\r\n```\r\nval part = multiPart.getBodyPart(i).asInstanceOf[MimeBodyPart]\r\nif (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition)) {\r\n    val filePath = fileManager.generateRandomUniqueFilename\r\n    val fileName = part.getFileName\r\n    val fileSize = part.getSize\r\n    val fileContentType = part.getContentType\r\n\r\n    val fileInput = part.getInputStream\r\n\r\n    doSomething(filePath, fileInput.readAllBytes(), fileName, fileSize, fileContentType)\r\n}\r\n```\r\nNote that the variable ``fileSize`` contains the right value (e. g. 63209 for a roughly 64kb file). I&#39;ve tried this with two different mail servers yielding the same result. In the documentation I cannot find anything about a 8KiB limit. What is happening here? \r\n\r\n__Note:__ When I use ``part.getRawInputStream`` I receive the full data!","title":"MimeBodyPart.getInputStream only returns the first 8192 bytes of an email attachment","body":"<p>I am using <code>MimeBodyPart.getInputStream</code> to retrieve a file attached to an incoming email. Anytime the attached file is larger than 8192 bytes (8 KiB), the rest of the data is lost. <code>fileInput.readAllBytes().length</code> seems to always be min(fileSize, 8192). My relevant code looks like this</p>\n<pre><code>val part = multiPart.getBodyPart(i).asInstanceOf[MimeBodyPart]\nif (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition)) {\n    val filePath = fileManager.generateRandomUniqueFilename\n    val fileName = part.getFileName\n    val fileSize = part.getSize\n    val fileContentType = part.getContentType\n\n    val fileInput = part.getInputStream\n\n    doSomething(filePath, fileInput.readAllBytes(), fileName, fileSize, fileContentType)\n}\n</code></pre>\n<p>Note that the variable <code>fileSize</code> contains the right value (e. g. 63209 for a roughly 64kb file). I've tried this with two different mail servers yielding the same result. In the documentation I cannot find anything about a 8KiB limit. What is happening here?</p>\n<p><strong>Note:</strong> When I use <code>part.getRawInputStream</code> I receive the full data!</p>\n"},{"tags":["java","jdbc","aws-sdk","amazon-athena"],"answers":[{"tags":[],"owner":{"account_id":26637595,"reputation":1,"user_id":20253782,"display_name":"Deep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665904199,"creation_date":1665904199,"answer_id":74085218,"question_id":64990001,"body_markdown":"To avoid this error, please download Athena JDBC driver without AWS SDK \r\nfrom https://s3.amazonaws.com/athena-downloads/drivers/JDBC/SimbaAthenaJDBC-2.0.33.1001/SimbaAthenaJDBC42-2.0.33.1001/AthenaJDBC42-2.0.33.jar\r\nand use it.\r\n","title":"Athena JDBC driver version 2.0.15 not compatible with core AWS SDK?","body":"<p>To avoid this error, please download Athena JDBC driver without AWS SDK\nfrom <a href=\"https://s3.amazonaws.com/athena-downloads/drivers/JDBC/SimbaAthenaJDBC-2.0.33.1001/SimbaAthenaJDBC42-2.0.33.1001/AthenaJDBC42-2.0.33.jar\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/athena-downloads/drivers/JDBC/SimbaAthenaJDBC-2.0.33.1001/SimbaAthenaJDBC42-2.0.33.1001/AthenaJDBC42-2.0.33.jar</a>\nand use it.</p>\n"}],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665904199,"creation_date":1606233063,"question_id":64990001,"body_markdown":"We&#39;re using the standard Java AWS SDK for other AWS services, using `BasicAWSCredentials` for authentication. For Athena integration we&#39;re using the standard [AWS Athena JDBC driver][1]. This has been working fine, but when upgrading to the latest Athena JDBC driver version (2.0.15) the usage of `BasicAWSCredentials` elsewhere in the application stopped working\r\n\r\nThe error message we get is:\r\n\r\n    class &quot;com.amazonaws.auth.BasicAWSCredentials&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\r\nAs far as I can figure out this error message is caused by different classes in the same packages being loaded from different jars that are not signed in the same way. Indeed: the core SDK jars from maven are not signed, but the 2.0.15 Athena JDBC driver jar (which - for some obscure reason - includes e.g. `com.amazonaws.auth.AWSCredentials` and `com.amazonaws.auth.AWSCredentialsProvider`) **is** signed by &quot;Amazon.com Services LLC&quot;.\r\n\r\nThis means that the JVM may (perhaps depending on classpath ordering) try to load `com.amazonaws.auth.AWSCredentials` from the JDBC driver jar, but the `com.amazonaws.auth.BasicAWSCredentials` class is defined in the aws-java-sdk-core jar, i.e. the JVM **is** being told to load different classes in the same package from differently signed jars.\r\n\r\nBottom line: it appears to be a bad idea to include the `com.amazonaws.auth` classes in the JDBC driver jar, particularly since this jar is signed in the latest version. The JVM (JDK 11) will not accept loading different classes from this package unless all jars are signed in the same way.\r\n\r\nIdeas/workarounds? I would prefer not tampering with any external jars.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/athena/latest/ug/connect-with-jdbc.html","title":"Athena JDBC driver version 2.0.15 not compatible with core AWS SDK?","body":"<p>We're using the standard Java AWS SDK for other AWS services, using <code>BasicAWSCredentials</code> for authentication. For Athena integration we're using the standard <a href=\"https://docs.aws.amazon.com/athena/latest/ug/connect-with-jdbc.html\" rel=\"nofollow noreferrer\">AWS Athena JDBC driver</a>. This has been working fine, but when upgrading to the latest Athena JDBC driver version (2.0.15) the usage of <code>BasicAWSCredentials</code> elsewhere in the application stopped working</p>\n<p>The error message we get is:</p>\n<pre><code>class &quot;com.amazonaws.auth.BasicAWSCredentials&quot;'s signer information does not match signer information of other classes in the same package\n</code></pre>\n<p>As far as I can figure out this error message is caused by different classes in the same packages being loaded from different jars that are not signed in the same way. Indeed: the core SDK jars from maven are not signed, but the 2.0.15 Athena JDBC driver jar (which - for some obscure reason - includes e.g. <code>com.amazonaws.auth.AWSCredentials</code> and <code>com.amazonaws.auth.AWSCredentialsProvider</code>) <strong>is</strong> signed by &quot;Amazon.com Services LLC&quot;.</p>\n<p>This means that the JVM may (perhaps depending on classpath ordering) try to load <code>com.amazonaws.auth.AWSCredentials</code> from the JDBC driver jar, but the <code>com.amazonaws.auth.BasicAWSCredentials</code> class is defined in the aws-java-sdk-core jar, i.e. the JVM <strong>is</strong> being told to load different classes in the same package from differently signed jars.</p>\n<p>Bottom line: it appears to be a bad idea to include the <code>com.amazonaws.auth</code> classes in the JDBC driver jar, particularly since this jar is signed in the latest version. The JVM (JDK 11) will not accept loading different classes from this package unless all jars are signed in the same way.</p>\n<p>Ideas/workarounds? I would prefer not tampering with any external jars.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665903795,"post_id":74085104,"comment_id":130804814,"body_markdown":"You defined `control` as a **local variable** in method `main`, while to be accessible in instance methods, it should be a **field** in class `Main`. Also, your `main` method currently effectively does nothing.","body":"You defined <code>control</code> as a <b>local variable</b> in method <code>main</code>, while to be accessible in instance methods, it should be a <b>field</b> in class <code>Main</code>. Also, your <code>main</code> method currently effectively does nothing."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665907046,"post_id":74085104,"comment_id":130805319,"body_markdown":"local variables, like `control` in your code, are only *known* in the block (or sub-blocks) where they are declared (same is valid for parameters like `args` or `e`, only *known*  inside the method) - also you need to added the `KeyListener` to an GUI component and it will only get events if that component has the focus (alternative `Toolkit.addAWTEventListener`)","body":"local variables, like <code>control</code> in your code, are only <i>known</i> in the block (or sub-blocks) where they are declared (same is valid for parameters like <code>args</code> or <code>e</code>, only <i>known</i>  inside the method) - also you need to added the <code>KeyListener</code> to an GUI component and it will only get events if that component has the focus (alternative <code>Toolkit.addAWTEventListener</code>)"},{"owner":{"account_id":13223877,"reputation":1,"user_id":9549663,"display_name":"Ty Merriam"},"score":0,"creation_date":1665958317,"post_id":74085104,"comment_id":130815319,"body_markdown":"@user16320675, is there any way to listen for keypresses when a GUI component doesn&#39;t have the focus? (assuming that by focus you mean the component is currently the active window on the computer)","body":"@user16320675, is there any way to listen for keypresses when a GUI component doesn&#39;t have the focus? (assuming that by focus you mean the component is currently the active window on the computer)"}],"owner":{"account_id":13223877,"reputation":1,"user_id":9549663,"display_name":"Ty Merriam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665903812,"answer_count":0,"score":0,"last_activity_date":1665903709,"creation_date":1665902503,"question_id":74085104,"body_markdown":"I am quite new to Java and wanted to write a program that took keyboard inputs on my computer and turned them into exact mouse coordinates and then clicks. After researching for a while, I found the best way to do this was via the KeyListener interface to handle looking for the button presses and then an object of the Robot class to handle moving the mouse and clicking. After some basic tests using a few tutorials online that use JFrame, I tried to first create my Robot object to move the mouse, and then tell KeyTyped to call the mouseMove method each time q and a were pressed, but upon running the program, I only get errors saying that control cannot be resolved. What am I missing here?\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main implements KeyListener{\r\n\r\n\tpublic static void main(String[] args) throws AWTException{\r\n\t\tRobot control = new Robot();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\tswitch(e.getKeyChar()) {\r\n\t\t\tcase &#39;q&#39;: control.mouseMove(20, 20);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;a&#39;: control.mouseMove(60, 60);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"How to use a keylistener to control an object of the Robot class","body":"<p>I am quite new to Java and wanted to write a program that took keyboard inputs on my computer and turned them into exact mouse coordinates and then clicks. After researching for a while, I found the best way to do this was via the KeyListener interface to handle looking for the button presses and then an object of the Robot class to handle moving the mouse and clicking. After some basic tests using a few tutorials online that use JFrame, I tried to first create my Robot object to move the mouse, and then tell KeyTyped to call the mouseMove method each time q and a were pressed, but upon running the program, I only get errors saying that control cannot be resolved. What am I missing here?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.Scanner;\n\npublic class Main implements KeyListener{\n\n    public static void main(String[] args) throws AWTException{\n        Robot control = new Robot();\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        switch(e.getKeyChar()) {\n            case 'q': control.mouseMove(20, 20);\n                break;\n            case 'a': control.mouseMove(60, 60);\n                break;\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-layout","android-drawable"],"answers":[{"tags":[],"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665903703,"creation_date":1665903703,"answer_id":74085184,"question_id":74044236,"body_markdown":"This is happening to conserve memory.\r\n\r\n**The Solution:**\r\n\r\nYou should do `subsampling scaling`, which is to zoom in on stages.\r\n\r\nfor example: After zooming to 300% make a new bitmap from the vector which have the rectangle you are in only then start to zoom in the new image (*see GIF below*)\r\n\r\n[![enter image description here][1]][1]\r\n\r\ncoding this will take some time, but I recommend using \r\n[subsampling-scale-image-view library][2] as an interface to do this. you can with a few changes make it for vector scaling.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gZtHn.gif\r\n  [2]: https://github.com/davemorrissey/subsampling-scale-image-view","title":"Android Vector pixelating on zoom-in","body":"<p>This is happening to conserve memory.</p>\n<p><strong>The Solution:</strong></p>\n<p>You should do <code>subsampling scaling</code>, which is to zoom in on stages.</p>\n<p>for example: After zooming to 300% make a new bitmap from the vector which have the rectangle you are in only then start to zoom in the new image (<em>see GIF below</em>)</p>\n<p><a href=\"https://i.stack.imgur.com/gZtHn.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gZtHn.gif\" alt=\"enter image description here\" /></a></p>\n<p>coding this will take some time, but I recommend using\n<a href=\"https://github.com/davemorrissey/subsampling-scale-image-view\" rel=\"nofollow noreferrer\">subsampling-scale-image-view library</a> as an interface to do this. you can with a few changes make it for vector scaling.</p>\n"}],"owner":{"account_id":7218154,"reputation":73,"user_id":5509776,"display_name":"Alvaro Garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1665903703,"creation_date":1665587659,"question_id":74044236,"body_markdown":"I&#39;m trying to create a zoomable ImageView that can display vector images (SVG converted to Vector Drawable) that doesn&#39;t loose it&#39;s sharpness when zooming in.\r\n\r\nI&#39;ve used multiple Zooming approaches like [this][1] or [this][2] to handle the zooming, pinching and dragging. This resulted in a blurry mess when trying to zoom in, as seen below. \r\n\r\nAs I understand it from [this article][3], these approaches don&#39;t work because the vector is drawn to bitmap , therefore pixelating when zooming in.\r\n\r\nIs there any workaround to redraw the vector for each zoom step? \r\nOr should I try to draw the vector in a bigger size before displaying it? \r\n\r\nAny Help is appreciated.\r\n\r\n[![blurry when zooming in][5]][5]\r\n\r\n\r\n\r\nRedraw on zoom?\r\nDraw bigger Canvas, then zoom?\r\n\r\n\r\n  [1]: https://github.com/brandy-kay/MyCustomZoomDemo/blob/master/app/src/main/java/com/odhiambodevelopers/mycustomzoomdemo/CustomeZoom.kt\r\n  [2]:https://github.com/sunday58/ZoomExample/blob/master/app/src/main/java/com/sundaydavid989/zoomexample/ZoomClass.kt\r\n  [3]: https://medium.com/androiddevelopers/understanding-androids-vector-image-format-vectordrawable-ab09e41d5c68\r\n  [4]: https://stackoverflow.com/a/40285250/5509776\r\n  [5]: https://i.stack.imgur.com/GDSaM.gif","title":"Android Vector pixelating on zoom-in","body":"<p>I'm trying to create a zoomable ImageView that can display vector images (SVG converted to Vector Drawable) that doesn't loose it's sharpness when zooming in.</p>\n<p>I've used multiple Zooming approaches like <a href=\"https://github.com/brandy-kay/MyCustomZoomDemo/blob/master/app/src/main/java/com/odhiambodevelopers/mycustomzoomdemo/CustomeZoom.kt\" rel=\"noreferrer\">this</a> or <a href=\"https://github.com/sunday58/ZoomExample/blob/master/app/src/main/java/com/sundaydavid989/zoomexample/ZoomClass.kt\" rel=\"noreferrer\">this</a> to handle the zooming, pinching and dragging. This resulted in a blurry mess when trying to zoom in, as seen below.</p>\n<p>As I understand it from <a href=\"https://medium.com/androiddevelopers/understanding-androids-vector-image-format-vectordrawable-ab09e41d5c68\" rel=\"noreferrer\">this article</a>, these approaches don't work because the vector is drawn to bitmap , therefore pixelating when zooming in.</p>\n<p>Is there any workaround to redraw the vector for each zoom step?\nOr should I try to draw the vector in a bigger size before displaying it?</p>\n<p>Any Help is appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/GDSaM.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GDSaM.gif\" alt=\"blurry when zooming in\" /></a></p>\n<p>Redraw on zoom?\nDraw bigger Canvas, then zoom?</p>\n"},{"tags":["java","system.in"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665914000,"post_id":74085055,"comment_id":130806385,"body_markdown":"*In all cases, it seems, System.in only makes characters available to the java application after a terminator character has been entered by the user.* You&#39;re right. &#39;Raw&#39; access to a system terminal is not possible in pure Java. Your best route for your use case is probably to make a Java GUI and do it with key listeners/actions","body":"<i>In all cases, it seems, System.in only makes characters available to the java application after a terminator character has been entered by the user.</i> You&#39;re right. &#39;Raw&#39; access to a system terminal is not possible in pure Java. Your best route for your use case is probably to make a Java GUI and do it with key listeners/actions"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1665934070,"post_id":74085055,"comment_id":130810292,"body_markdown":"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it","body":"<a href=\"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\" title=\"how to read a single char from the console in java as the user types it\">stackoverflow.com/questions/1066318/&hellip;</a>"},{"owner":{"account_id":7479017,"reputation":23,"user_id":5684400,"display_name":"Lord Moon"},"score":0,"creation_date":1668446047,"post_id":74085055,"comment_id":131401509,"body_markdown":"Great pointer there.  The technique a little further down that post has what I needed.  A simple (Linux/OS/x/Windows) JNA adapter to call the native functions.  Don&#39;t like the highest recommendation of switching to &quot;raw&quot; mode -- which is highly platform dependent, but the little library works great.\n\n&quot;I have written a Java class RawConsoleInput that uses JNA to call operating system functions of Windows and Unix/Linux.&quot;","body":"Great pointer there.  The technique a little further down that post has what I needed.  A simple (Linux/OS/x/Windows) JNA adapter to call the native functions.  Don&#39;t like the highest recommendation of switching to &quot;raw&quot; mode -- which is highly platform dependent, but the little library works great.  &quot;I have written a Java class RawConsoleInput that uses JNA to call operating system functions of Windows and Unix/Linux.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665903523,"creation_date":1665903523,"answer_id":74085172,"question_id":74085055,"body_markdown":"Below is an example of reading one character at a time until end of stream is reached.  On linux, you type control-d to signal the end input.  I think on Windows, you type control-c to end of input.\r\n\r\n```\r\nimport java.io.*;\r\nclass Test {\r\n  public static void main(String[] args) throws IOException {\r\n    int c = 0;\r\n    while( (c=System.in.read()) != -1){\r\n      System.out.println((char) c);\r\n    }\r\n  }\r\n}\r\n```","title":"Reading System.in character by character without buffering","body":"<p>Below is an example of reading one character at a time until end of stream is reached.  On linux, you type control-d to signal the end input.  I think on Windows, you type control-c to end of input.</p>\n<pre><code>import java.io.*;\nclass Test {\n  public static void main(String[] args) throws IOException {\n    int c = 0;\n    while( (c=System.in.read()) != -1){\n      System.out.println((char) c);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7479017,"reputation":23,"user_id":5684400,"display_name":"Lord Moon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665903523,"creation_date":1665901699,"question_id":74085055,"body_markdown":"I know that similar questions have been asked before, but not exactly what I&#39;m asking.  To begin with, let me explain my purpose.  I&#39;m trying to write a kind of &quot;remote shell&quot; that will take in characters from the console (System.in) on character at a time and then send those to a remote session on another machine, write them to that machine and gather any characters it might output to return to my shell to display back to the user.\r\n\r\nSo, the issue is that System.in, no matter what I do, doesn&#39;t really support a &quot;raw&quot; mode where any type of reader is able to read just one character at a time UNTIL a terminator character is entered, typically new line.\r\n\r\nThings I have tried, Using Scanner, using a buffered reader, creating a FileDescriptor.in and creating a fileInputStream from that, using a FileChannel and reading into a ByteBuffer that is one character long, etc.  In all cases, it seems, System.in only makes characters available to the java application after a terminator character has been entered by the user.  I&#39;m convinced there is not a &quot;java&quot; way to do this, so the question is, does anyone have some native code, wrapped in a java library to do this?  Its hard to find such a thing just searching GitHub.\r\n\r\nBTW, for the remote console, I&#39;m using the pty4J package.  I&#39;ve seen sample projects that connect to that code using other langauages, for example javaScript running in a browser to create a web based shell.  Other languages all you to do a simple &quot;get_char&quot; on standard in.\r\n\r\nSome examples of the code I&#39;ve tried:\r\n\r\n                Scanner scanner = new Scanner(System.in);\r\n                FileDescriptor fd = FileDescriptor.in;\r\n                FileInputStream fis = new FileInputStream(fd);\r\n                FileChannel fc = fis.getChannel();\r\n                while(process.isAlive()) {\r\n                    System.out.println(scanner.next());\r\n    //                ByteBuffer bb = ByteBuffer.allocate(1);\r\n    //                int c = fc.read(bb);\r\n    //                int c = fis.read();\r\n    //                System.err.println(&quot;Read &quot; + c);\r\n    //                if (c == 1) {\r\n    //                    os.write(bb.get());\r\n    //                }\r\n                }\r\n\r\nYou can see that I&#39;ve tried various methods to read the input: scanner.next(), fc.read(byteBuffer), fileInputStream.read(), etc.  All attempts &quot;wait&quot; till a terminator character is entered.\r\n\r\nAdditionally, I have tried using the &quot;useDelimiter&quot; and &quot;next(pattern)&quot; methods on the scanner too.  That&#39;s still not working.\r\n\r\nAny pointer or help is much appreciated.\r\n\r\n\r\n\r\n","title":"Reading System.in character by character without buffering","body":"<p>I know that similar questions have been asked before, but not exactly what I'm asking.  To begin with, let me explain my purpose.  I'm trying to write a kind of &quot;remote shell&quot; that will take in characters from the console (System.in) on character at a time and then send those to a remote session on another machine, write them to that machine and gather any characters it might output to return to my shell to display back to the user.</p>\n<p>So, the issue is that System.in, no matter what I do, doesn't really support a &quot;raw&quot; mode where any type of reader is able to read just one character at a time UNTIL a terminator character is entered, typically new line.</p>\n<p>Things I have tried, Using Scanner, using a buffered reader, creating a FileDescriptor.in and creating a fileInputStream from that, using a FileChannel and reading into a ByteBuffer that is one character long, etc.  In all cases, it seems, System.in only makes characters available to the java application after a terminator character has been entered by the user.  I'm convinced there is not a &quot;java&quot; way to do this, so the question is, does anyone have some native code, wrapped in a java library to do this?  Its hard to find such a thing just searching GitHub.</p>\n<p>BTW, for the remote console, I'm using the pty4J package.  I've seen sample projects that connect to that code using other langauages, for example javaScript running in a browser to create a web based shell.  Other languages all you to do a simple &quot;get_char&quot; on standard in.</p>\n<p>Some examples of the code I've tried:</p>\n<pre><code>            Scanner scanner = new Scanner(System.in);\n            FileDescriptor fd = FileDescriptor.in;\n            FileInputStream fis = new FileInputStream(fd);\n            FileChannel fc = fis.getChannel();\n            while(process.isAlive()) {\n                System.out.println(scanner.next());\n//                ByteBuffer bb = ByteBuffer.allocate(1);\n//                int c = fc.read(bb);\n//                int c = fis.read();\n//                System.err.println(&quot;Read &quot; + c);\n//                if (c == 1) {\n//                    os.write(bb.get());\n//                }\n            }\n</code></pre>\n<p>You can see that I've tried various methods to read the input: scanner.next(), fc.read(byteBuffer), fileInputStream.read(), etc.  All attempts &quot;wait&quot; till a terminator character is entered.</p>\n<p>Additionally, I have tried using the &quot;useDelimiter&quot; and &quot;next(pattern)&quot; methods on the scanner too.  That's still not working.</p>\n<p>Any pointer or help is much appreciated.</p>\n"},{"tags":["java","data-structures","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1665879950,"post_id":74082730,"comment_id":130802478,"body_markdown":"Its because `createBinaryTree` doesnt add nodes to the object it is called on. It creates a new `BinaryTree`, adds data to _that_ and then discards it.","body":"Its because <code>createBinaryTree</code> doesnt add nodes to the object it is called on. It creates a new <code>BinaryTree</code>, adds data to <i>that</i> and then discards it."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665903514,"creation_date":1665903514,"answer_id":74085171,"question_id":74082730,"body_markdown":"There are several issues:\r\n\r\n* In `addrecursive` the variable `n` is a local reference that is unrelated to your `root`. So whatever `n = addrecursive(n, value);` does with the `null` that you pass as argument, it doesn&#39;t do anything with the linked list that starts at `root`.\r\n\r\n    It is actually quite simple... Your `addrecursive` function should only do:\r\n\r\n    ```java\r\n        public void add(int value) {\r\n            root = addrecursive(root, value);\r\n        }\r\n    ```\r\n\r\n    The assignment to `root` is only really needed when `root` was `null`, but it doesn&#39;t hurt to always make that assignment. It is however important to pass `root` as argument, as that is the lead for where to append the new node.\r\n\r\n* `createBinaryTree` creates a new local instance of `BinaryTree` (which is already strange, since `this` already is an instance), adds nodes to it, and then just discards that local instance -- all work done for nothing. There are different ways to solves this, but I would make this method a static method, and have it **return** the `BinaryTree` instance that it populated. The caller in `main` should then take that returned tree and assign it to its own variable:\r\n\r\n    ```\r\n        // Static!\r\n        private static BinaryTree createBinaryTree(){\r\n            BinaryTree bt = new BinaryTree();\r\n            bt.add(6);\r\n            bt.add(4);\r\n            bt.add(8);\r\n            bt.add(3);\r\n            bt.add(5);\r\n            bt.add(7);\r\n            bt.add(9);\r\n            return bt; // return the work that was done\r\n        }\r\n    \r\n        public static void main(String [] args){\r\n            // Call static function to get the reference to the new tree\r\n            BinaryTree bt =  createBinaryTree(); \r\n            Boolean b = bt.containsNode(7); \r\n            System.out.println(b);\r\n            System.out.println(&quot;\\nInorder traversal of binary tree is &quot; );\r\n            bt.printInorder();\r\n        }\r\n    ```\r\n\r\n","title":"Root node always becoming NULL when traversing","body":"<p>There are several issues:</p>\n<ul>\n<li><p>In <code>addrecursive</code> the variable <code>n</code> is a local reference that is unrelated to your <code>root</code>. So whatever <code>n = addrecursive(n, value);</code> does with the <code>null</code> that you pass as argument, it doesn't do anything with the linked list that starts at <code>root</code>.</p>\n<p>It is actually quite simple... Your <code>addrecursive</code> function should only do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void add(int value) {\n        root = addrecursive(root, value);\n    }\n</code></pre>\n<p>The assignment to <code>root</code> is only really needed when <code>root</code> was <code>null</code>, but it doesn't hurt to always make that assignment. It is however important to pass <code>root</code> as argument, as that is the lead for where to append the new node.</p>\n</li>\n<li><p><code>createBinaryTree</code> creates a new local instance of <code>BinaryTree</code> (which is already strange, since <code>this</code> already is an instance), adds nodes to it, and then just discards that local instance -- all work done for nothing. There are different ways to solves this, but I would make this method a static method, and have it <strong>return</strong> the <code>BinaryTree</code> instance that it populated. The caller in <code>main</code> should then take that returned tree and assign it to its own variable:</p>\n<pre><code>    // Static!\n    private static BinaryTree createBinaryTree(){\n        BinaryTree bt = new BinaryTree();\n        bt.add(6);\n        bt.add(4);\n        bt.add(8);\n        bt.add(3);\n        bt.add(5);\n        bt.add(7);\n        bt.add(9);\n        return bt; // return the work that was done\n    }\n\n    public static void main(String [] args){\n        // Call static function to get the reference to the new tree\n        BinaryTree bt =  createBinaryTree(); \n        Boolean b = bt.containsNode(7); \n        System.out.println(b);\n        System.out.println(&quot;\\nInorder traversal of binary tree is &quot; );\n        bt.printInorder();\n    }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":11706840,"reputation":3,"user_id":15541950,"display_name":"KAST"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74085171,"answer_count":1,"score":0,"last_activity_date":1665903514,"creation_date":1665865222,"question_id":74082730,"body_markdown":"In this binary tree implementation\r\nI&#39;ve tried to create an object from the `BinaryTree` class and thus insert elements and access them in order. While debugging it seems it&#39;s always returning root as NULL and thus the traversal fails.\r\n\r\nI don&#39;t understand what I&#39;m missing here. Where is my mistake?\r\n\r\n\r\n    public class BinaryTree{\r\n        public static class Node{\r\n            int value;\r\n            Node left;\r\n            Node right;\r\n            public Node(int data){\r\n                this.value = data;\r\n                left = null;\r\n                right = null;\r\n            }\r\n        }\r\n        \r\n        Node root;\r\n        BinaryTree() { \r\n            root = null; \r\n        }\r\n        \r\n        public Node addrecursive(Node current,int value){\r\n            if(current==null){\r\n                return new Node(value);\r\n            }else\r\n            if(value&lt;current.value){\r\n                int n=current.value;\r\n                current.left=addrecursive(current.left,value);\r\n            }else\r\n            if(value&gt;current.value){\r\n                int n=current.value;\r\n                current.right=addrecursive(current.right,value);\r\n            }else\r\n            {\r\n                return current;\r\n            }\r\n            return current;\r\n        }\r\n    \r\n        public void add(int value) {\r\n            Node n = null; \r\n            if(root==null) \r\n                root = addrecursive(root, value);\r\n            else\r\n                n = addrecursive(n, value);\r\n        }\r\n    \r\n        private void createBinaryTree(){\r\n            BinaryTree bt = new BinaryTree();\r\n            bt.add(6);\r\n            bt.add(4);\r\n            bt.add(8);\r\n            bt.add(3);\r\n            bt.add(5);\r\n            bt.add(7);\r\n            bt.add(9);\r\n            return;\r\n        }\r\n    \r\n        private boolean containsNodeRecursive(Node current, int value) {\r\n            if (current == null) {\r\n                return false;\r\n            } \r\n            if (value == current.value) {\r\n                return true;\r\n            } \r\n            return value &lt; current.value\r\n              ? containsNodeRecursive(current.left, value)\r\n              : containsNodeRecursive(current.right, value);\r\n        }\r\n    \r\n        public boolean containsNode(int value) {\r\n            return containsNodeRecursive(this.root, value);\r\n        }\r\n    \r\n        public void traverseInOrder(Node node) {\r\n            if (node != null) {\r\n                traverseInOrder(node.left);\r\n                System.out.print(&quot; &quot; + node.value);\r\n                traverseInOrder(node.right);\r\n            }\r\n        }\r\n        void printInorder() {              //wrapper class for access without passing node\r\n            traverseInOrder(root); \r\n        }\r\n    \r\n        public static void main(String [] args){\r\n            BinaryTree bt =  new BinaryTree() ;     //object of class\r\n            bt.createBinaryTree();              //creating the binary tree within that object \r\n            Boolean b = bt.containsNode(7); \r\n            System.out.println(b);\r\n            System.out.println(&quot;\\nInorder traversal of binary tree is &quot; );\r\n            bt.printInorder();\r\n        }\r\n    }\r\n","title":"Root node always becoming NULL when traversing","body":"<p>In this binary tree implementation\nI've tried to create an object from the <code>BinaryTree</code> class and thus insert elements and access them in order. While debugging it seems it's always returning root as NULL and thus the traversal fails.</p>\n<p>I don't understand what I'm missing here. Where is my mistake?</p>\n<pre><code>public class BinaryTree{\n    public static class Node{\n        int value;\n        Node left;\n        Node right;\n        public Node(int data){\n            this.value = data;\n            left = null;\n            right = null;\n        }\n    }\n    \n    Node root;\n    BinaryTree() { \n        root = null; \n    }\n    \n    public Node addrecursive(Node current,int value){\n        if(current==null){\n            return new Node(value);\n        }else\n        if(value&lt;current.value){\n            int n=current.value;\n            current.left=addrecursive(current.left,value);\n        }else\n        if(value&gt;current.value){\n            int n=current.value;\n            current.right=addrecursive(current.right,value);\n        }else\n        {\n            return current;\n        }\n        return current;\n    }\n\n    public void add(int value) {\n        Node n = null; \n        if(root==null) \n            root = addrecursive(root, value);\n        else\n            n = addrecursive(n, value);\n    }\n\n    private void createBinaryTree(){\n        BinaryTree bt = new BinaryTree();\n        bt.add(6);\n        bt.add(4);\n        bt.add(8);\n        bt.add(3);\n        bt.add(5);\n        bt.add(7);\n        bt.add(9);\n        return;\n    }\n\n    private boolean containsNodeRecursive(Node current, int value) {\n        if (current == null) {\n            return false;\n        } \n        if (value == current.value) {\n            return true;\n        } \n        return value &lt; current.value\n          ? containsNodeRecursive(current.left, value)\n          : containsNodeRecursive(current.right, value);\n    }\n\n    public boolean containsNode(int value) {\n        return containsNodeRecursive(this.root, value);\n    }\n\n    public void traverseInOrder(Node node) {\n        if (node != null) {\n            traverseInOrder(node.left);\n            System.out.print(&quot; &quot; + node.value);\n            traverseInOrder(node.right);\n        }\n    }\n    void printInorder() {              //wrapper class for access without passing node\n        traverseInOrder(root); \n    }\n\n    public static void main(String [] args){\n        BinaryTree bt =  new BinaryTree() ;     //object of class\n        bt.createBinaryTree();              //creating the binary tree within that object \n        Boolean b = bt.containsNode(7); \n        System.out.println(b);\n        System.out.println(&quot;\\nInorder traversal of binary tree is &quot; );\n        bt.printInorder();\n    }\n}\n</code></pre>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648151761,"creation_date":1648151761,"answer_id":71608666,"question_id":71598945,"body_markdown":"&gt; How to write a Groovy script to truncate a string at 60 characters?\r\n\r\nYou could do something like this:\r\n\r\n    if(!args) {\r\n        System.err.println &#39;A command line argument is required&#39;\r\n        System.exit(-1)\r\n    }\r\n    \r\n    arg = args[0]\r\n    \r\n    if(arg.size() &gt; 60) {\r\n       arg = arg[0..59]\r\n    }\r\n    \r\n    println arg\r\n\r\nOutput:\r\n\r\n\r\n    demo $ groovy truncate.groovy                                                                               \r\n    A command line argument is required\r\n    demo $ \r\n    demo $ groovy truncate.groovy abcdef                                                                        \r\n    abcdef\r\n    demo $ \r\n    demo $ groovy truncate.groovy abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\r\n    abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZabcdefgh","title":"How to write a Groovy script to truncate a string at 60 characters?","body":"<blockquote>\n<p>How to write a Groovy script to truncate a string at 60 characters?</p>\n</blockquote>\n<p>You could do something like this:</p>\n<pre><code>if(!args) {\n    System.err.println 'A command line argument is required'\n    System.exit(-1)\n}\n\narg = args[0]\n\nif(arg.size() &gt; 60) {\n   arg = arg[0..59]\n}\n\nprintln arg\n</code></pre>\n<p>Output:</p>\n<pre><code>demo $ groovy truncate.groovy                                                                               \nA command line argument is required\ndemo $ \ndemo $ groovy truncate.groovy abcdef                                                                        \nabcdef\ndemo $ \ndemo $ groovy truncate.groovy abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\nabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZabcdefgh\n</code></pre>\n"}],"owner":{"account_id":24671024,"reputation":1,"user_id":18566048,"display_name":"swaroop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1665903434,"creation_date":1648109490,"question_id":71598945,"body_markdown":"How do I truncate a string at 60 characters?\r\n ","title":"How to write a Groovy script to truncate a string at 60 characters?","body":"<p>How do I truncate a string at 60 characters?</p>\n"},{"tags":["java","exception","nullpointerexception","queue","priority-queue"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662651634,"post_id":73651751,"comment_id":130060321,"body_markdown":"You never create any `PQ` object, not to speak of storing a `PQ` object in the array.","body":"You never create any <code>PQ</code> object, not to speak of storing a <code>PQ</code> object in the array."}],"answers":[{"tags":[],"owner":{"account_id":26253835,"reputation":151,"user_id":19926199,"display_name":"re_arg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665902755,"creation_date":1662653522,"answer_id":73652174,"question_id":73651751,"body_markdown":"You are modeling your priority queue internally with an array of `PQ` objects, but you are missing the creation of the PQ object itself, so when you try to assign a value and priority to the queue it tries to set it to an object that does not exist yet.\r\n\r\nWhen you do this: `this.priorityqueue = new PQ[size];` on the constructor you are only creating the array, you still need to create the individual objects when you want to add them to the array.\r\n\r\nTo do that change this part on the `enQueue` method to add the `new PQ()`:\r\n```java\r\nelse {\r\n   priorityqueue[count] = new PQ();\r\n   priorityqueue[count].value = element;\r\n   priorityqueue[count].priority = priority;\r\n   count++;\r\n}\r\n```\r\n\r\nIdeally you&#39;d want to create a constructor for that on the `PQ` class instead of setting the properties directly from outside.\r\n\r\nHope that helps.","title":"I am new with working with priority queues and have formatted this code wrong.What is the error in my Priority Queue code?","body":"<p>You are modeling your priority queue internally with an array of <code>PQ</code> objects, but you are missing the creation of the PQ object itself, so when you try to assign a value and priority to the queue it tries to set it to an object that does not exist yet.</p>\n<p>When you do this: <code>this.priorityqueue = new PQ[size];</code> on the constructor you are only creating the array, you still need to create the individual objects when you want to add them to the array.</p>\n<p>To do that change this part on the <code>enQueue</code> method to add the <code>new PQ()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>else {\n   priorityqueue[count] = new PQ();\n   priorityqueue[count].value = element;\n   priorityqueue[count].priority = priority;\n   count++;\n}\n</code></pre>\n<p>Ideally you'd want to create a constructor for that on the <code>PQ</code> class instead of setting the properties directly from outside.</p>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":25654258,"reputation":106,"user_id":19420986,"display_name":"Samik Pandit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73652174,"answer_count":1,"score":-1,"last_activity_date":1665902755,"creation_date":1662651494,"question_id":73651751,"body_markdown":"Error in the output box is :\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;value&quot; because &quot;this.priorityqueue[this.count]&quot; is null\r\n\tat PriorityQueue.enQueue(PriorityQueue.java:16)\r\n\tat Main.main(Main.java:4)\r\n\r\nIt is having operations like enqueue,dequeue,peek of Priority Queue.\r\nMostly showing the error in Enqueue part.\r\n\r\n\r\n```\r\npublic class PQ {\r\n    public int value;\r\n    public int priority;\r\n}\r\n\r\npublic class PriorityQueue {\r\n    public PQ[] priorityqueue;\r\n    public int count;\r\n    \r\n    public PriorityQueue(int size){\r\n        this.count = 0;\r\n        this.priorityqueue = new PQ[size];\r\n        System.out.println(&quot;The Priority Queue is create with the size of :&quot; + size);\r\n    }\r\n\r\n    public void enQueue(int element,int priority){\r\n        if (count == priorityqueue.length){\r\n            System.out.println(&quot;Priority Queue Overflow!&quot;);\r\n        }\r\n        else {\r\n            priorityqueue[count].value = element;\r\n            priorityqueue[count].priority = priority;\r\n            count++;\r\n        }\r\n    }\r\n    \r\n    public int peekprio(){\r\n        int max = Integer.MIN_VALUE;\r\n        int index = -1;\r\n        for (int i = 0;i &lt; count;i++){\r\n            if (priorityqueue[i].priority &gt; max){\r\n                max = priorityqueue[i].priority;\r\n                index = i;\r\n            } else if (priorityqueue[i].priority == max &amp;&amp; index &gt; -1 &amp;&amp; priorityqueue[index].value &lt; priorityqueue[i].value){\r\n                index = i;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n    \r\n    public int peek(){\r\n        if (count == 0){\r\n            System.out.println(&quot;Priority Queue Underflow!&quot;);\r\n            return -1;\r\n        }\r\n        else {\r\n            int index = -1;\r\n            int max = Integer.MIN_VALUE;\r\n            for (int i = 0; i &lt; count; i++) {\r\n                if (priorityqueue[i].priority &gt; max) {\r\n                    max = priorityqueue[i].priority;\r\n                    index = i;\r\n                }\r\n                else if (priorityqueue[i].priority == max &amp;&amp; index &gt; -1 &amp;&amp; priorityqueue[index].value &lt; priorityqueue[i].value){\r\n                    index = i;\r\n                }\r\n            }\r\n            return priorityqueue[index].value;\r\n        }\r\n    }\r\n\r\n    public void deQueue(){\r\n        if (count == 0){\r\n            System.out.println(&quot;Priority Queue Underflow!&quot;);\r\n        }\r\n        else {\r\n            int element = priorityqueue[peekprio()].value;\r\n            int index = peekprio();\r\n            for (int i = index;i &lt; count;i++){\r\n                priorityqueue[i] = priorityqueue[i + 1];\r\n            }\r\n            count--;\r\n            System.out.println(&quot;Value deQueued :&quot; + element);\r\n        }\r\n    }\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        PriorityQueue pq = new PriorityQueue(5);\r\n        pq.enQueue(1,0);\r\n        pq.enQueue(3,3);\r\n        pq.enQueue(5,5);\r\n        pq.enQueue(2,2);\r\n    }\r\n}\r\n```","title":"I am new with working with priority queues and have formatted this code wrong.What is the error in my Priority Queue code?","body":"<p>Error in the output box is :\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;value&quot; because &quot;this.priorityqueue[this.count]&quot; is null\nat PriorityQueue.enQueue(PriorityQueue.java:16)\nat Main.main(Main.java:4)</p>\n<p>It is having operations like enqueue,dequeue,peek of Priority Queue.\nMostly showing the error in Enqueue part.</p>\n<pre><code>public class PQ {\n    public int value;\n    public int priority;\n}\n\npublic class PriorityQueue {\n    public PQ[] priorityqueue;\n    public int count;\n    \n    public PriorityQueue(int size){\n        this.count = 0;\n        this.priorityqueue = new PQ[size];\n        System.out.println(&quot;The Priority Queue is create with the size of :&quot; + size);\n    }\n\n    public void enQueue(int element,int priority){\n        if (count == priorityqueue.length){\n            System.out.println(&quot;Priority Queue Overflow!&quot;);\n        }\n        else {\n            priorityqueue[count].value = element;\n            priorityqueue[count].priority = priority;\n            count++;\n        }\n    }\n    \n    public int peekprio(){\n        int max = Integer.MIN_VALUE;\n        int index = -1;\n        for (int i = 0;i &lt; count;i++){\n            if (priorityqueue[i].priority &gt; max){\n                max = priorityqueue[i].priority;\n                index = i;\n            } else if (priorityqueue[i].priority == max &amp;&amp; index &gt; -1 &amp;&amp; priorityqueue[index].value &lt; priorityqueue[i].value){\n                index = i;\n            }\n        }\n        return index;\n    }\n    \n    public int peek(){\n        if (count == 0){\n            System.out.println(&quot;Priority Queue Underflow!&quot;);\n            return -1;\n        }\n        else {\n            int index = -1;\n            int max = Integer.MIN_VALUE;\n            for (int i = 0; i &lt; count; i++) {\n                if (priorityqueue[i].priority &gt; max) {\n                    max = priorityqueue[i].priority;\n                    index = i;\n                }\n                else if (priorityqueue[i].priority == max &amp;&amp; index &gt; -1 &amp;&amp; priorityqueue[index].value &lt; priorityqueue[i].value){\n                    index = i;\n                }\n            }\n            return priorityqueue[index].value;\n        }\n    }\n\n    public void deQueue(){\n        if (count == 0){\n            System.out.println(&quot;Priority Queue Underflow!&quot;);\n        }\n        else {\n            int element = priorityqueue[peekprio()].value;\n            int index = peekprio();\n            for (int i = index;i &lt; count;i++){\n                priorityqueue[i] = priorityqueue[i + 1];\n            }\n            count--;\n            System.out.println(&quot;Value deQueued :&quot; + element);\n        }\n    }\n}\npublic class Main {\n    public static void main(String[] args) {\n        PriorityQueue pq = new PriorityQueue(5);\n        pq.enQueue(1,0);\n        pq.enQueue(3,3);\n        pq.enQueue(5,5);\n        pq.enQueue(2,2);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1422357435,"post_id":28168520,"comment_id":44707994,"body_markdown":"I noticed `because no transaction manager has been configured` in the log. But I have a `JpaTransactionManager` bean and I have `@EnableTransactionManagement` so I don&#39;t know why that really is. But I don&#39;t think it has anything to do with it.","body":"I noticed <code>because no transaction manager has been configured</code> in the log. But I have a <code>JpaTransactionManager</code> bean and I have <code>@EnableTransactionManagement</code> so I don&#39;t know why that really is. But I don&#39;t think it has anything to do with it."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1422358803,"post_id":28168520,"comment_id":44708685,"body_markdown":"I can confirm that the transaction manager warning has nothing to do with it. That issue is covered in http://stackoverflow.com/questions/3573188/spring-transactional-is-applied-both-as-a-dynamic-jdk-proxy-and-an-aspectj-aspe and I applied the fix and it makes no difference.","body":"I can confirm that the transaction manager warning has nothing to do with it. That issue is covered in <a href=\"http://stackoverflow.com/questions/3573188/spring-transactional-is-applied-both-as-a-dynamic-jdk-proxy-and-an-aspectj-aspe\" title=\"spring transactional is applied both as a dynamic jdk proxy and an aspectj aspe\">stackoverflow.com/questions/3573188/&hellip;</a> and I applied the fix and it makes no difference."}],"answers":[{"tags":[],"owner":{"account_id":5619368,"reputation":1394,"user_id":4449729,"display_name":"Cristian Sevescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422357599,"creation_date":1422357599,"answer_id":28169275,"question_id":28168520,"body_markdown":"This seem to be the other way around than how it should\r\n\r\n&gt; name=&quot;m_lastIntegrationTimeIntegratedData&quot;\r\n&gt; column=&quot;lastIntegrationTimeIntegratedData&quot;\r\n\r\nColumn is the name of the column in the database and name is the property in the entity.","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>This seem to be the other way around than how it should</p>\n\n<blockquote>\n  <p>name=\"m_lastIntegrationTimeIntegratedData\"\n  column=\"lastIntegrationTimeIntegratedData\"</p>\n</blockquote>\n\n<p>Column is the name of the column in the database and name is the property in the entity.</p>\n"},{"tags":[],"owner":{"account_id":4592920,"reputation":578,"user_id":3725760,"accept_rate":10,"display_name":"Pruthviraj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552985024,"creation_date":1552985024,"answer_id":55236685,"question_id":28168520,"body_markdown":"Replacing @Modifying with @Modifying(clearAutomatically = true) should work.","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>Replacing @Modifying with @Modifying(clearAutomatically = true) should work.</p>\n"},{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589471998,"creation_date":1589471998,"answer_id":61801890,"question_id":28168520,"body_markdown":"You can Check this for Spring Data JPA (under Modifying Queries) :&lt;br/&gt;\r\n https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference\r\n\r\nand this:\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-modifying-annotation\r\n\r\nThis is what was working for me:\r\n\r\n\r\n\t@Transactional\r\n\t@Modifying(flushAutomatically = true)\r\n\t@Query(&quot;UPDATE User a SET a.activeStatus=?1 WHERE a.username=?2&quot;)\r\n\tint setUserActiveStatusFlag(int activeStatus,String username);\r\n\r\nfor the @Transactional i used : javax.transaction.Transactional\r\n       \r\n","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>You can Check this for Spring Data JPA (under Modifying Queries) :<br/>\n <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference</a></p>\n\n<p>and this:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-modifying-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-modifying-annotation</a></p>\n\n<p>This is what was working for me:</p>\n\n<pre><code>@Transactional\n@Modifying(flushAutomatically = true)\n@Query(\"UPDATE User a SET a.activeStatus=?1 WHERE a.username=?2\")\nint setUserActiveStatusFlag(int activeStatus,String username);\n</code></pre>\n\n<p>for the @Transactional i used : javax.transaction.Transactional</p>\n"},{"tags":[],"owner":{"account_id":10474244,"reputation":1,"user_id":7721252,"display_name":"Ayomirotoye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644085976,"creation_date":1644067601,"answer_id":70998456,"question_id":28168520,"body_markdown":"Doing this way could fix the problem as it fixed mine\r\n\r\n    @Transactional\r\n    @Modifying(flushAutomatically = true)\r\n    @Query(&quot;update IntegrationPeriodConstraint ipc set ipc.m_lastIntegrationTimeIntegratedData = :time where ipc.m_integrationPeriod = :integrationPeriod&quot;)\r\n    void setLastIntegrationTimeIntegratedData(@Param(&quot;integrationPeriod&quot;) IntegrationPeriod integrationPeriod, @Param(&quot;time&quot;) DateTime lastIntegrationTime );\r\n    \r\n    ","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>Doing this way could fix the problem as it fixed mine</p>\n<pre><code>@Transactional\n@Modifying(flushAutomatically = true)\n@Query(&quot;update IntegrationPeriodConstraint ipc set ipc.m_lastIntegrationTimeIntegratedData = :time where ipc.m_integrationPeriod = :integrationPeriod&quot;)\nvoid setLastIntegrationTimeIntegratedData(@Param(&quot;integrationPeriod&quot;) IntegrationPeriod integrationPeriod, @Param(&quot;time&quot;) DateTime lastIntegrationTime );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16748956,"reputation":70,"user_id":12106481,"display_name":"Reema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665902418,"creation_date":1665902418,"answer_id":74085099,"question_id":28168520,"body_markdown":"to whoever coming for similar issue, for my case the table name was wrong and I was updating another table, so first thing run the query in the db client and check its validity. \r\nanother debugging option is using sql-show command so it will print hibernate queries in the console.","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>to whoever coming for similar issue, for my case the table name was wrong and I was updating another table, so first thing run the query in the db client and check its validity.\nanother debugging option is using sql-show command so it will print hibernate queries in the console.</p>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1665902418,"creation_date":1422355355,"question_id":28168520,"body_markdown":"I have the following repository defined:\r\n\r\n    @Repository\r\n    public interface IntegrationPeriodConstraintsRepository extends CrudRepository&lt;IntegrationPeriodConstraint, IntegrationPeriod&gt;\r\n    {\r\n    \t@Query(&quot;select case when (count(ipc) &gt; 0) then true else false end from IntegrationPeriodConstraint ipc where ipc.m_enabled = true&quot;)\r\n    \tboolean hasEnabledConstraints();\r\n    \r\n    \t@Modifying\r\n    \t@Query(&quot;update IntegrationPeriodConstraint ipc set ipc.m_lastIntegrationTimeIntegratedData = :time where ipc.m_integrationPeriod = :integrationPeriod&quot;)\r\n    \tvoid setLastIntegrationTimeIntegratedData( @Param(&quot;integrationPeriod&quot;) IntegrationPeriod integrationPeriod,\r\n    \t\t\t\t\t\t\t\t\t\t\t   @Param(&quot;time&quot;) DateTime lastIntegrationTime );\r\n    }\r\n\r\nHowever, it seems that this `setLastIntegrationTimeIntegratedData` method is not working. I have a unit/integration test using an embedded H2 database that shows that after the call, there is no update in the database.\r\n\r\nI enabled Hibernate logging and it shows this:\r\n\r\n    2015-01-27 11:49:13 DEBUG [main] AnnotationTransactionAttributeSource - Adding transactional method &#39;IntegrationPeriodConstraintsServiceImpl.setLastIntegrationTime&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; &#39;&#39;\r\n    2015-01-27 11:49:13 DEBUG [main] AnnotationTransactionAspect - Skipping transactional joinpoint [com.company.server.common.service.message.impl.IntegrationPeriodConstraintsServiceImpl.setLastIntegrationTime] because no transaction manager has been configured\r\n    2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Processing flush-time cascades\r\n    2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Dirty checking collections\r\n    2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\r\n    2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\r\n    2015-01-27 11:49:13 DEBUG [main] EntityPrinter - Listing entities:\r\n    2015-01-27 11:49:13 DEBUG [main] EntityPrinter - com.traficon.domain.system.IntegrationPeriodConstraint{m_integrationPeriod=MINUTES_1, m_lastIntegrationTimeIntegratedData=null, m_enabled=true, m_lastIntegrationTimePresenceData=null, m_storageSingleFieldPeriod=PT6M, m_lastIntegrationTimeFlowData=null, m_lastIntegrationTimeBicycleData=null}\r\n    2015-01-27 11:49:13 DEBUG [main] SQL - update IntegrationPeriodConstraint set lastIntegrationTimeIntegratedData=? where integrationPeriod=?\r\n    2015-01-27 11:49:13 TRACE [main] BasicBinder - binding parameter [1] as [TIMESTAMP] - 2015-01-27 11:49:13.81\r\n    2015-01-27 11:49:13 DEBUG [main] JpaTransactionManager - Found thread-bound EntityManager [org.hibernate.ejb.EntityManagerImpl@5f0e6817] for JPA transaction\r\n    2015-01-27 11:49:13 DEBUG [main] JpaTransactionManager - Participating in existing transaction\r\n\r\n\r\n \r\nWhat I find strange is that there is no logging for the 2nd parameter?\r\n\r\nThis is the Hibernate mapping file I use:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n            &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping package=&quot;com.mycompany.domain.system&quot; default-access=&quot;field&quot;&gt;\r\n    \r\n    \r\n        &lt;class name=&quot;IntegrationPeriodConstraint&quot; table=&quot;IntegrationPeriodConstraint&quot;&gt;\r\n    \r\n            &lt;id name=&quot;m_integrationPeriod&quot; column=&quot;integrationPeriod&quot;&gt;\r\n                &lt;type name=&quot;com.mycompany.persistence.impl.hibernate.usertype.EnumUserType&quot;&gt;\r\n                    &lt;param name=&quot;enumClass&quot;&gt;com.mycompany.domain.message.data.IntegrationPeriod&lt;/param&gt;\r\n                &lt;/type&gt;\r\n    \r\n                &lt;generator class=&quot;assigned&quot;/&gt;\r\n            &lt;/id&gt;\r\n    \r\n            &lt;property name=&quot;m_storageSingleFieldPeriod&quot; not-null=&quot;true&quot;\r\n                      type=&quot;com.mycompany.persistence.impl.hibernate.usertype.BaseSingleFieldPeriodUserType&quot;&gt;\r\n                &lt;column name=&quot;storagePeriodType&quot;/&gt;\r\n                &lt;column name=&quot;storagePeriodValue&quot;/&gt;\r\n            &lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;m_enabled&quot; not-null=&quot;true&quot; column=&quot;enabled&quot;/&gt;\r\n    \r\n            &lt;property name=&quot;m_lastIntegrationTimeIntegratedData&quot; column=&quot;lastIntegrationTimeIntegratedData&quot; type=&quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;/&gt;\r\n            &lt;property name=&quot;m_lastIntegrationTimeFlowData&quot; column=&quot;lastIntegrationTimeFlowData&quot; type=&quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;/&gt;\r\n            &lt;property name=&quot;m_lastIntegrationTimePresenceData&quot; column=&quot;lastIntegrationTimePresenceData&quot; type=&quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;/&gt;\r\n            &lt;property name=&quot;m_lastIntegrationTimeBicycleData&quot; column=&quot;lastIntegrationTimeBicycleData&quot; type=&quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;/&gt;\r\n        &lt;/class&gt;\r\n    \r\n    &lt;/hibernate-mapping&gt;","title":"Update via @Modifying @Query in Spring Data not working","body":"<p>I have the following repository defined:</p>\n\n<pre><code>@Repository\npublic interface IntegrationPeriodConstraintsRepository extends CrudRepository&lt;IntegrationPeriodConstraint, IntegrationPeriod&gt;\n{\n    @Query(\"select case when (count(ipc) &gt; 0) then true else false end from IntegrationPeriodConstraint ipc where ipc.m_enabled = true\")\n    boolean hasEnabledConstraints();\n\n    @Modifying\n    @Query(\"update IntegrationPeriodConstraint ipc set ipc.m_lastIntegrationTimeIntegratedData = :time where ipc.m_integrationPeriod = :integrationPeriod\")\n    void setLastIntegrationTimeIntegratedData( @Param(\"integrationPeriod\") IntegrationPeriod integrationPeriod,\n                                               @Param(\"time\") DateTime lastIntegrationTime );\n}\n</code></pre>\n\n<p>However, it seems that this <code>setLastIntegrationTimeIntegratedData</code> method is not working. I have a unit/integration test using an embedded H2 database that shows that after the call, there is no update in the database.</p>\n\n<p>I enabled Hibernate logging and it shows this:</p>\n\n<pre><code>2015-01-27 11:49:13 DEBUG [main] AnnotationTransactionAttributeSource - Adding transactional method 'IntegrationPeriodConstraintsServiceImpl.setLastIntegrationTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''\n2015-01-27 11:49:13 DEBUG [main] AnnotationTransactionAspect - Skipping transactional joinpoint [com.company.server.common.service.message.impl.IntegrationPeriodConstraintsServiceImpl.setLastIntegrationTime] because no transaction manager has been configured\n2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Processing flush-time cascades\n2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Dirty checking collections\n2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\n2015-01-27 11:49:13 DEBUG [main] AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\n2015-01-27 11:49:13 DEBUG [main] EntityPrinter - Listing entities:\n2015-01-27 11:49:13 DEBUG [main] EntityPrinter - com.traficon.domain.system.IntegrationPeriodConstraint{m_integrationPeriod=MINUTES_1, m_lastIntegrationTimeIntegratedData=null, m_enabled=true, m_lastIntegrationTimePresenceData=null, m_storageSingleFieldPeriod=PT6M, m_lastIntegrationTimeFlowData=null, m_lastIntegrationTimeBicycleData=null}\n2015-01-27 11:49:13 DEBUG [main] SQL - update IntegrationPeriodConstraint set lastIntegrationTimeIntegratedData=? where integrationPeriod=?\n2015-01-27 11:49:13 TRACE [main] BasicBinder - binding parameter [1] as [TIMESTAMP] - 2015-01-27 11:49:13.81\n2015-01-27 11:49:13 DEBUG [main] JpaTransactionManager - Found thread-bound EntityManager [org.hibernate.ejb.EntityManagerImpl@5f0e6817] for JPA transaction\n2015-01-27 11:49:13 DEBUG [main] JpaTransactionManager - Participating in existing transaction\n</code></pre>\n\n<p>What I find strange is that there is no logging for the 2nd parameter?</p>\n\n<p>This is the Hibernate mapping file I use:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        \"-//Hibernate/Hibernate Mapping DTD//EN\"\n        \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\"&gt;\n&lt;hibernate-mapping package=\"com.mycompany.domain.system\" default-access=\"field\"&gt;\n\n\n    &lt;class name=\"IntegrationPeriodConstraint\" table=\"IntegrationPeriodConstraint\"&gt;\n\n        &lt;id name=\"m_integrationPeriod\" column=\"integrationPeriod\"&gt;\n            &lt;type name=\"com.mycompany.persistence.impl.hibernate.usertype.EnumUserType\"&gt;\n                &lt;param name=\"enumClass\"&gt;com.mycompany.domain.message.data.IntegrationPeriod&lt;/param&gt;\n            &lt;/type&gt;\n\n            &lt;generator class=\"assigned\"/&gt;\n        &lt;/id&gt;\n\n        &lt;property name=\"m_storageSingleFieldPeriod\" not-null=\"true\"\n                  type=\"com.mycompany.persistence.impl.hibernate.usertype.BaseSingleFieldPeriodUserType\"&gt;\n            &lt;column name=\"storagePeriodType\"/&gt;\n            &lt;column name=\"storagePeriodValue\"/&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"m_enabled\" not-null=\"true\" column=\"enabled\"/&gt;\n\n        &lt;property name=\"m_lastIntegrationTimeIntegratedData\" column=\"lastIntegrationTimeIntegratedData\" type=\"org.jadira.usertype.dateandtime.joda.PersistentDateTime\"/&gt;\n        &lt;property name=\"m_lastIntegrationTimeFlowData\" column=\"lastIntegrationTimeFlowData\" type=\"org.jadira.usertype.dateandtime.joda.PersistentDateTime\"/&gt;\n        &lt;property name=\"m_lastIntegrationTimePresenceData\" column=\"lastIntegrationTimePresenceData\" type=\"org.jadira.usertype.dateandtime.joda.PersistentDateTime\"/&gt;\n        &lt;property name=\"m_lastIntegrationTimeBicycleData\" column=\"lastIntegrationTimeBicycleData\" type=\"org.jadira.usertype.dateandtime.joda.PersistentDateTime\"/&gt;\n    &lt;/class&gt;\n\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"tags":["java","encoding","httpclient","feign"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664802190,"post_id":73935231,"comment_id":130547849,"body_markdown":"I doubt you will find some HTTP library that allows you to send improper requests. You could however use TCP sockets directly, then implement your own version of HTTP that does not escape these characters.","body":"I doubt you will find some HTTP library that allows you to send improper requests. You could however use TCP sockets directly, then implement your own version of HTTP that does not escape these characters."},{"owner":{"account_id":20600828,"reputation":1,"user_id":20149529,"display_name":"avl"},"score":0,"creation_date":1664809319,"post_id":73935231,"comment_id":130550444,"body_markdown":"I&#39;m afraid you&#39;re right :/","body":"I&#39;m afraid you&#39;re right :/"}],"owner":{"account_id":20600828,"reputation":1,"user_id":20149529,"display_name":"avl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665902264,"creation_date":1664798928,"question_id":73935231,"body_markdown":"I&#39;m trying to create a GET call in Java on an API with a path variable containing an illegal character.\r\n\r\n    GET http://api.example.com/key/foo&lt;bar\r\n\r\nThe path contains the character `&lt;`. The HTTP client encodes it as %3C but I need to keep it as `&lt;`, because API server don&#39;t decode it.\r\n\r\nI have to do this call, and the API provider doesn&#39;t want to change anything to be more compliant.\r\n\r\nCalling the GET request with illegal character works with Postman.\r\nI&#39;m trying to do it in Java now.\r\n\r\nI&#39;ve tried with Feign, HttpClient, WebClient and OkHttp, I don&#39;t find a way to do it.\r\n\r\nDo you know a Java Http client that will allow me to do it ? Or the proper encoding option for the clients above ?\r\n\r\nI&#39;ve tried to create a RequestInterceptor with Feign to update uri, but it works only for some characters, as defined in RFC 6570, but not for `&lt;`, which is re-replaced with %3C after my replacement.\r\n\r\nThanks","title":"GET request with illegal character in Java","body":"<p>I'm trying to create a GET call in Java on an API with a path variable containing an illegal character.</p>\n<pre><code>GET http://api.example.com/key/foo&lt;bar\n</code></pre>\n<p>The path contains the character <code>&lt;</code>. The HTTP client encodes it as %3C but I need to keep it as <code>&lt;</code>, because API server don't decode it.</p>\n<p>I have to do this call, and the API provider doesn't want to change anything to be more compliant.</p>\n<p>Calling the GET request with illegal character works with Postman.\nI'm trying to do it in Java now.</p>\n<p>I've tried with Feign, HttpClient, WebClient and OkHttp, I don't find a way to do it.</p>\n<p>Do you know a Java Http client that will allow me to do it ? Or the proper encoding option for the clients above ?</p>\n<p>I've tried to create a RequestInterceptor with Feign to update uri, but it works only for some characters, as defined in RFC 6570, but not for <code>&lt;</code>, which is re-replaced with %3C after my replacement.</p>\n<p>Thanks</p>\n"},{"tags":["java","string","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1665901423,"post_id":74085008,"comment_id":130804525,"body_markdown":"If you go until length-1 you must not then use i+1 in the loop meaning you access index length because that does not exist:","body":"If you go until length-1 you must not then use i+1 in the loop meaning you access index length because that does not exist:"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1665902424,"post_id":74085008,"comment_id":130804641,"body_markdown":"By reaching the last letter of the string, there is no more i+1 therefore it will lead to the error, change it to i only instead.","body":"By reaching the last letter of the string, there is no more i+1 therefore it will lead to the error, change it to i only instead."}],"owner":{"account_id":26637230,"reputation":11,"user_id":20253472,"display_name":"Firefox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665902235,"answer_count":0,"score":0,"last_activity_date":1665902178,"creation_date":1665901008,"question_id":74085008,"body_markdown":"This program is supposed to encrypt a string by injecting a random amount characters, followed by a key between each letter in the user chosen text.  I realize that my code is flawed, as the decrypt method faces an error when given a String of duplicates, for example &quot;aaa&quot;, and the key &quot;a&quot;.  It happens in the decrypt method, as I&#39;m supposed to create a String consisting of any characters one index after the key.  When this occurs I receive an index out of bounds error, because it is attempting to locate a character that does not exist(?).  Is there a better approach to the problem? I&#39;m new to programming and although I recognize what is going wrong, I simply can&#39;t think of a solution.\r\n\r\nCan post the rest of code if necessary, any advice is very appreciated.\r\n\r\n    public static String decrypt(String ciphertext, char key) {\r\n      String decrypted = &quot;&quot;;\r\n      int length = ciphertext.length();\r\n      for(int i = 0; i &lt; length; i ++) {\r\n         if(ciphertext.charAt(i) == key) {\r\n            decrypted += ciphertext.charAt(i+1);\r\n         }\r\n      }\r\n      return decrypted;\r\n    }","title":"How do I fix this index out of bounds error?","body":"<p>This program is supposed to encrypt a string by injecting a random amount characters, followed by a key between each letter in the user chosen text.  I realize that my code is flawed, as the decrypt method faces an error when given a String of duplicates, for example &quot;aaa&quot;, and the key &quot;a&quot;.  It happens in the decrypt method, as I'm supposed to create a String consisting of any characters one index after the key.  When this occurs I receive an index out of bounds error, because it is attempting to locate a character that does not exist(?).  Is there a better approach to the problem? I'm new to programming and although I recognize what is going wrong, I simply can't think of a solution.</p>\n<p>Can post the rest of code if necessary, any advice is very appreciated.</p>\n<pre><code>public static String decrypt(String ciphertext, char key) {\n  String decrypted = &quot;&quot;;\n  int length = ciphertext.length();\n  for(int i = 0; i &lt; length; i ++) {\n     if(ciphertext.charAt(i) == key) {\n        decrypted += ciphertext.charAt(i+1);\n     }\n  }\n  return decrypted;\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8187713,"reputation":1405,"user_id":6163011,"display_name":"powerman23rus"},"score":0,"creation_date":1665899547,"post_id":74084863,"comment_id":130804302,"body_markdown":"Which version of google services do you use?","body":"Which version of google services do you use?"},{"owner":{"account_id":8187713,"reputation":1405,"user_id":6163011,"display_name":"powerman23rus"},"score":0,"creation_date":1665899591,"post_id":74084863,"comment_id":130804313,"body_markdown":"Which gradle and android gradle plugin version do you use?","body":"Which gradle and android gradle plugin version do you use?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1665900363,"post_id":74084863,"comment_id":130804418,"body_markdown":"buildscript{ dependencies{ classpath{com.google.gms.google-service:4.3.10","body":"buildscript{ dependencies{ classpath{com.google.gms.google-service:4.3.10"}],"answers":[{"tags":[],"owner":{"account_id":8187713,"reputation":1405,"user_id":6163011,"display_name":"powerman23rus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665901194,"creation_date":1665901194,"answer_id":74085022,"question_id":74084863,"body_markdown":"If you are using google services version of **4.3.10** then try to update on **4.3.14** under projects `build.gradle` file\r\n\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n    }","title":"error in android studio when launching emulator how to fix?","body":"<p>If you are using google services version of <strong>4.3.10</strong> then try to update on <strong>4.3.14</strong> under projects <code>build.gradle</code> file</p>\n<pre><code>dependencies {\n    classpath 'com.google.gms:google-services:4.3.14'\n}\n</code></pre>\n"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665901194,"creation_date":1665899083,"question_id":74084863,"body_markdown":"error in build:Querying the mapped value of provider(interface java.util.set) before task&#39;:app: processDebugGoogleServices&#39;has completed is not supported","title":"error in android studio when launching emulator how to fix?","body":"<p>error in build:Querying the mapped value of provider(interface java.util.set) before task':app: processDebugGoogleServices'has completed is not supported</p>\n"},{"tags":["java","ffmpeg","javacv","verbosity"],"answers":[{"tags":[],"owner":{"account_id":2705906,"reputation":158,"user_id":2335515,"display_name":"Daniel Mann"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1377616139,"creation_date":1377616139,"answer_id":18469238,"question_id":18295717,"body_markdown":"had the same problem a few minutes ago, and also looked on the net, nothing except your question. Then i started digging in the ffmpeg sources and found a solution, add the import:\r\n\r\n    import com.googlecode.javacv.cpp.avutil;\r\n\r\nand then just call:\r\n\r\n    avutil.av_log_set_level(avutil.AV_LOG_QUIET);\r\n\r\nbefore you create the FFmpegFrameGrabber -&gt; No more messages form ffmpeg.\r\n\r\nRegards  \r\nDaniel","title":"Making ffmpeg/javacv less verbose in java","body":"<p>had the same problem a few minutes ago, and also looked on the net, nothing except your question. Then i started digging in the ffmpeg sources and found a solution, add the import:</p>\n\n<pre><code>import com.googlecode.javacv.cpp.avutil;\n</code></pre>\n\n<p>and then just call:</p>\n\n<pre><code>avutil.av_log_set_level(avutil.AV_LOG_QUIET);\n</code></pre>\n\n<p>before you create the FFmpegFrameGrabber -> No more messages form ffmpeg.</p>\n\n<p>Regards<br>\nDaniel</p>\n"},{"tags":[],"owner":{"account_id":8406098,"reputation":81,"user_id":6309546,"display_name":"gowridev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520407587,"creation_date":1520406275,"answer_id":49146007,"question_id":18295717,"body_markdown":"This is updated solution(w.r.t. javacv from github)\r\n\r\n add the import statement given below \r\n\r\n    import static org.bytedeco.javacpp.avutil.AV_LOG_PANIC;  \r\n    import static org.bytedeco.javacpp.avutil.av_log_set_level;\r\n\r\ncall the below statement before you create the FFmpegFrameGrabber -&gt; No more messages form ffmpeg.  \r\n\r\n    av_log_set_level(AV_LOG_PANIC);\r\n\r\n","title":"Making ffmpeg/javacv less verbose in java","body":"<p>This is updated solution(w.r.t. javacv from github)</p>\n\n<p>add the import statement given below </p>\n\n<pre><code>import static org.bytedeco.javacpp.avutil.AV_LOG_PANIC;  \nimport static org.bytedeco.javacpp.avutil.av_log_set_level;\n</code></pre>\n\n<p>call the below statement before you create the FFmpegFrameGrabber -> No more messages form ffmpeg.  </p>\n\n<pre><code>av_log_set_level(AV_LOG_PANIC);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14191703,"reputation":73,"user_id":10252133,"display_name":"Deaddorks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665900305,"creation_date":1665900305,"answer_id":74084955,"question_id":18295717,"body_markdown":"javacv v1.5.7, the `avutil` package is now located at `org.bytedeco.ffmpeg.global.avutil`. The `av_log_set_level(...)` answer works exactly the same, the package just moved.","title":"Making ffmpeg/javacv less verbose in java","body":"<p>javacv v1.5.7, the <code>avutil</code> package is now located at <code>org.bytedeco.ffmpeg.global.avutil</code>. The <code>av_log_set_level(...)</code> answer works exactly the same, the package just moved.</p>\n"}],"owner":{"account_id":3142953,"reputation":65314,"user_id":2658050,"display_name":"lejlot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2437,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18469238,"answer_count":3,"score":8,"last_activity_date":1665900305,"creation_date":1376800265,"question_id":18295717,"body_markdown":"I have a Java application that uses `ffmpeg` library and `javacv` to load and process video files. \r\n\r\nI am currently using following code, for loading `videofile` to my data container. \r\n\r\n    public boolean add(String videofile) {\r\n            FrameGrabber g = new OpenCVFrameGrabber( videofile );\r\n            try{ \r\n                g.start();\r\n            }\r\n            catch(Exception e){\r\n                g = new FFmpegFrameGrabber( videofile );\r\n                try {\r\n                    g.start();\r\n                }catch(Exception x){\r\n                    return false;\r\n                }\r\n            }\r\n            grabbers.add( new Pair(videofile, g) );\r\n            frames.add( 0 );\r\n            preprocessed=false;\r\n            return true;        \r\n        }\r\n\r\nEach time video is loaded, a library outputs a lot of meta information regarding video itself:\r\n\r\n&gt; Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#39;/home/lejlot/data/test.mp4&#39;: \r\n&gt; Metadata:\r\n&gt;     major_brand     : isom\r\n&gt;     minor_version   : 512\r\n&gt;     compatible_brands: isomiso2mp41\r\n&gt;     encoder         : Lavf53.21.1   Duration: 00:04:36.27, start: 0.000000, bitrate: 305 kb/s\r\n&gt;     Stream #0:0(und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 303 kb/s, 20,85\r\n&gt; fps, 30 tbr, 1k tbn, 1k tbc\r\n&gt;     Metadata:\r\n&gt;       handler_name    : VideoHandler\r\n\r\nwhich obviously I do not want to see. I cannot (do not want) to modify the libraries source codes, but rather modify my own so it can intercept this log and discard it.\r\n\r\nAs far I tried to temporarly block the stdout/stderr streams through\r\n\r\n    private static final devnull = new PrintStream(new OutputStream() {\r\n            @Override\r\n            public void write(int b) {\r\n                //DO NOTHING\r\n            }\r\n            @Override\r\n            public void write(byte[] b,int x,int y){\r\n            }\r\n       });\r\n  \r\n       /**\r\n       * Blocks messages to stdout\r\n       */\r\n       public static void silentStdOut(){\r\n         System.setOut(devnull);\r\n       }\r\n   \r\n       /**\r\n       * Blocks messages to stderr\r\n       */\r\n       public static void silentStdErr(){\r\n         System.setErr(devnull);\r\n       }\r\n   \r\n\r\n but it does not seem to help, log message is still displayed\r\n\r\n\r\n    public boolean add(String videofile) {\r\n        Utils.silentStdErr();\r\n        Utils.silentStdOut();\r\n        FrameGrabber g = new OpenCVFrameGrabber( videofile );\r\n        try{ \r\n            g.start();\r\n        }\r\n        ,,,\r\n\r\n&quot;Raw&quot; ffmpeg can be set to be less verbose using\r\n\r\n    ffmpeg -loglevel panic\r\n\r\nbut neither `OpenCVFrameGrabber` not `FFmpegFrameGrabber` give access to the tool&#39;s parameters.\r\n\r\nTo sum up - how can I discard these log messages without modifing the libraries&#39; source codes?","title":"Making ffmpeg/javacv less verbose in java","body":"<p>I have a Java application that uses <code>ffmpeg</code> library and <code>javacv</code> to load and process video files. </p>\n\n<p>I am currently using following code, for loading <code>videofile</code> to my data container. </p>\n\n<pre><code>public boolean add(String videofile) {\n        FrameGrabber g = new OpenCVFrameGrabber( videofile );\n        try{ \n            g.start();\n        }\n        catch(Exception e){\n            g = new FFmpegFrameGrabber( videofile );\n            try {\n                g.start();\n            }catch(Exception x){\n                return false;\n            }\n        }\n        grabbers.add( new Pair(videofile, g) );\n        frames.add( 0 );\n        preprocessed=false;\n        return true;        \n    }\n</code></pre>\n\n<p>Each time video is loaded, a library outputs a lot of meta information regarding video itself:</p>\n\n<blockquote>\n  <p>Input #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/lejlot/data/test.mp4': \n  Metadata:\n      major_brand     : isom\n      minor_version   : 512\n      compatible_brands: isomiso2mp41\n      encoder         : Lavf53.21.1   Duration: 00:04:36.27, start: 0.000000, bitrate: 305 kb/s\n      Stream #0:0(und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 303 kb/s, 20,85\n  fps, 30 tbr, 1k tbn, 1k tbc\n      Metadata:\n        handler_name    : VideoHandler</p>\n</blockquote>\n\n<p>which obviously I do not want to see. I cannot (do not want) to modify the libraries source codes, but rather modify my own so it can intercept this log and discard it.</p>\n\n<p>As far I tried to temporarly block the stdout/stderr streams through</p>\n\n<pre><code>private static final devnull = new PrintStream(new OutputStream() {\n        @Override\n        public void write(int b) {\n            //DO NOTHING\n        }\n        @Override\n        public void write(byte[] b,int x,int y){\n        }\n   });\n\n   /**\n   * Blocks messages to stdout\n   */\n   public static void silentStdOut(){\n     System.setOut(devnull);\n   }\n\n   /**\n   * Blocks messages to stderr\n   */\n   public static void silentStdErr(){\n     System.setErr(devnull);\n   }\n</code></pre>\n\n<p>but it does not seem to help, log message is still displayed</p>\n\n<pre><code>public boolean add(String videofile) {\n    Utils.silentStdErr();\n    Utils.silentStdOut();\n    FrameGrabber g = new OpenCVFrameGrabber( videofile );\n    try{ \n        g.start();\n    }\n    ,,,\n</code></pre>\n\n<p>\"Raw\" ffmpeg can be set to be less verbose using</p>\n\n<pre><code>ffmpeg -loglevel panic\n</code></pre>\n\n<p>but neither <code>OpenCVFrameGrabber</code> not <code>FFmpegFrameGrabber</code> give access to the tool's parameters.</p>\n\n<p>To sum up - how can I discard these log messages without modifing the libraries' source codes?</p>\n"},{"tags":["java","web-services","jax-rs","jax-ws","spring-resttemplate"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665236762,"post_id":73997456,"comment_id":130655081,"body_markdown":"The short answer is that it is not possible.   (If I understand what you are asking correctly ...)","body":"The short answer is that it is not possible.   (If I understand what you are asking correctly ...)"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1665236811,"post_id":73997456,"comment_id":130655098,"body_markdown":"when the api endpoint does not change, why it is not possible?","body":"when the api endpoint does not change, why it is not possible?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665236943,"post_id":73997456,"comment_id":130655123,"body_markdown":"Because the API &gt;&gt;will&lt;&lt; be different if you change from JAX-WS to JAX-RS.  The format of the messages and replies will be different, as will the URLs.  (Like I said ... this assumes I understand what you have said you intend to do correctly.)","body":"Because the API &gt;&gt;will&lt;&lt; be different if you change from JAX-WS to JAX-RS.  The format of the messages and replies will be different, as will the URLs.  (Like I said ... this assumes I understand what you have said you intend to do correctly.)"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1665237014,"post_id":73997456,"comment_id":130655141,"body_markdown":"So how I solve the technical debt? because the jax-rs is faster than jax-ws","body":"So how I solve the technical debt? because the jax-rs is faster than jax-ws"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665237075,"post_id":73997456,"comment_id":130655153,"body_markdown":"You change the clients as well.","body":"You change the clients as well."},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1665237104,"post_id":73997456,"comment_id":130655159,"body_markdown":"I am not able because of so many clients","body":"I am not able because of so many clients"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665237134,"post_id":73997456,"comment_id":130655167,"body_markdown":"Then you can&#39;t get rid of the technical debt.   Anyway, having lots of clients doesn&#39;t mean it is impossible to change an API.  Folks like Google do it all the time!   They say to all of their clients: *&quot;On date X we will be turning off APV v1.  You need to have migrated to v2 by then ... or else you will lose access to the service.&quot;*","body":"Then you can&#39;t get rid of the technical debt.   Anyway, having lots of clients doesn&#39;t mean it is impossible to change an API.  Folks like Google do it all the time!   They say to all of their clients: <i>&quot;On date X we will be turning off APV v1.  You need to have migrated to v2 by then ... or else you will lose access to the service.&quot;</i>"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1665899846,"post_id":73997456,"comment_id":130804338,"body_markdown":"@StephenC I solved the problem according to answer of this question.","body":"@StephenC I solved the problem according to answer of this question."}],"answers":[{"tags":[],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665899632,"creation_date":1665899632,"answer_id":74084911,"question_id":73997456,"body_markdown":"I solved this problem by separating soap layer from the application because of some reasons, first, used `Jax-rs and Jax-ws` endpoints simultaneously and secondly, is technical debt; due to separating soap from application, it is able to migrate to `JDK-11` without any problems and thirdly, according to separating Soap from application, it is independent from JAX-WS clients except changing JAX-WS endpoints.","title":"How to change jax-ws to jax-rs without client sens of changes","body":"<p>I solved this problem by separating soap layer from the application because of some reasons, first, used <code>Jax-rs and Jax-ws</code> endpoints simultaneously and secondly, is technical debt; due to separating soap from application, it is able to migrate to <code>JDK-11</code> without any problems and thirdly, according to separating Soap from application, it is independent from JAX-WS clients except changing JAX-WS endpoints.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74084911,"answer_count":1,"score":0,"last_activity_date":1665899632,"creation_date":1665236526,"question_id":73997456,"body_markdown":"There is an application that was configured and has developed by JAX-WS; the piece of code like this:\r\n\r\n    @WebService(targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, serviceName = &quot;BulkService&quot;)\r\n    @BindingType(value = SOAPBinding.SOAP12HTTP_BINDING)\r\n    @XmlSeeAlso({\r\n            ObjectFactory.class\r\n    })\r\n    public class Bulk {\r\n    \r\n        @WebMethod\r\n        @RequestWrapper(localName = &quot;getProvinces&quot;, targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, className = &quot;test.GetProvinces&quot;)\r\n        @ResponseWrapper(localName = &quot;getProvincesResponse&quot;, targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, className = &quot;test.GetProvincesResponse&quot;)\r\n        @Action(input = &quot;http://webservice.bulk.test.net/Bulk/getProvincesRequest&quot;, output = &quot;http://webservice.bulk.test.net/Bulk/getProvincesResponse&quot;)\r\n        public void getProvinces(\r\n                @WebParam(name = &quot;username&quot;, targetNamespace = &quot;&quot;) @XmlElement(nillable = false, required = true)\r\n                        String username,\r\n                @WebParam(name = &quot;password&quot;, targetNamespace = &quot;&quot;) @XmlElement(nillable = false, required = true)\r\n                        String password,\r\n    ...) {\r\n    }\r\n\r\nAccording to this webservice, so many clients(jax-ws clients) are using.\r\n\r\nI want to change the jax-ws to jax-rs without changing the client, another hand, the clients have no sens about the changes and do api-call as before.\r\n\r\nIs it possible?\r\n\r\n","title":"How to change jax-ws to jax-rs without client sens of changes","body":"<p>There is an application that was configured and has developed by JAX-WS; the piece of code like this:</p>\n<pre><code>@WebService(targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, serviceName = &quot;BulkService&quot;)\n@BindingType(value = SOAPBinding.SOAP12HTTP_BINDING)\n@XmlSeeAlso({\n        ObjectFactory.class\n})\npublic class Bulk {\n\n    @WebMethod\n    @RequestWrapper(localName = &quot;getProvinces&quot;, targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, className = &quot;test.GetProvinces&quot;)\n    @ResponseWrapper(localName = &quot;getProvincesResponse&quot;, targetNamespace = &quot;http://webservice.bulk.test.net/&quot;, className = &quot;test.GetProvincesResponse&quot;)\n    @Action(input = &quot;http://webservice.bulk.test.net/Bulk/getProvincesRequest&quot;, output = &quot;http://webservice.bulk.test.net/Bulk/getProvincesResponse&quot;)\n    public void getProvinces(\n            @WebParam(name = &quot;username&quot;, targetNamespace = &quot;&quot;) @XmlElement(nillable = false, required = true)\n                    String username,\n            @WebParam(name = &quot;password&quot;, targetNamespace = &quot;&quot;) @XmlElement(nillable = false, required = true)\n                    String password,\n...) {\n}\n</code></pre>\n<p>According to this webservice, so many clients(jax-ws clients) are using.</p>\n<p>I want to change the jax-ws to jax-rs without changing the client, another hand, the clients have no sens about the changes and do api-call as before.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","jpa","compiler-errors"],"comments":[{"owner":{"account_id":3402939,"reputation":6414,"user_id":2854723,"accept_rate":73,"display_name":"thomas.mc.work"},"score":0,"creation_date":1574424065,"post_id":56020334,"comment_id":104238059,"body_markdown":"Are you sure you&#39;ve got only one persistence unit in your `persistence.xml`?","body":"Are you sure you&#39;ve got only one persistence unit in your <code>persistence.xml</code>?"},{"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"score":1,"creation_date":1661887384,"post_id":56020334,"comment_id":129877668,"body_markdown":"clean your build directory https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean","body":"clean your build directory <a href=\"https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean\" title=\"how to clean project cache in intellij idea like eclipses clean\">stackoverflow.com/questions/17561826/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3402939,"reputation":6414,"user_id":2854723,"accept_rate":73,"display_name":"thomas.mc.work"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574425581,"creation_date":1574425581,"answer_id":58994288,"question_id":56020334,"body_markdown":"Try adding `&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;` to the `persistence.xml`. I think the classes are being processed twice due do this missing statement.","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>Try adding <code>&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;</code> to the <code>persistence.xml</code>. I think the classes are being processed twice due do this missing statement.</p>\n"},{"tags":[],"owner":{"account_id":2651121,"reputation":4898,"user_id":2292766,"accept_rate":80,"display_name":"Hannes Schneidermayer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629126286,"creation_date":1605717221,"answer_id":64897294,"question_id":56020334,"body_markdown":"Try to set in your web.xml:\r\n&gt;`&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;`\r\n\r\nThe error could also come from the metamodel generator.\r\n\r\nSolution:\r\n- **Clean your build directory*** before you build again, or\r\n- enable overwriting in the config from your metamodel plugin.\r\n\r\n(* with maven this simply means `mvn clean install` - but only if the generated metamodel files end up in the build folder and not next to your ordinary files)\r\n\r\n*Explanation:*\r\nThis tool generates metamodel files from your Entites. If you have an entity `Car.java` it will generate a file called `Car_.java` (note the underscore). This generated metamodel file contains the fields of the entity for you to reference in the criteria builder, for example.","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>Try to set in your web.xml:</p>\n<blockquote>\n<p><code>&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;</code></p>\n</blockquote>\n<p>The error could also come from the metamodel generator.</p>\n<p>Solution:</p>\n<ul>\n<li><strong>Clean your build directory</strong>* before you build again, or</li>\n<li>enable overwriting in the config from your metamodel plugin.</li>\n</ul>\n<p>(* with maven this simply means <code>mvn clean install</code> - but only if the generated metamodel files end up in the build folder and not next to your ordinary files)</p>\n<p><em>Explanation:</em>\nThis tool generates metamodel files from your Entites. If you have an entity <code>Car.java</code> it will generate a file called <code>Car_.java</code> (note the underscore). This generated metamodel file contains the fields of the entity for you to reference in the criteria builder, for example.</p>\n"},{"tags":[],"owner":{"account_id":9534669,"reputation":91,"user_id":7085208,"display_name":"Rodrigo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638652889,"creation_date":1610999943,"answer_id":65781330,"question_id":56020334,"body_markdown":"I had this error also, and it was because I had the dependency and the metamodel plugin configuration in the *pom.xml*, so they were being generated twice. Try removing one of them.\r\n\r\nMy dependency configuration:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\nMy plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\t\t\t\r\n\t\t&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.5&lt;/version&gt;\r\n\t\t&lt;executions&gt;\t\t\t\r\n\t\t    &lt;execution&gt;\t\t\t\r\n\t\t\t  &lt;id&gt;process&lt;/id&gt;\t\t\t\r\n\t\t\t      &lt;goals&gt;\t\t\t\r\n\t\t\t        &lt;goal&gt;process&lt;/goal&gt;\t\t\t\r\n\t\t\t      &lt;/goals&gt;\t\t\t\r\n\t\t\t      &lt;phase&gt;generate-sources&lt;/phase&gt;\t\t\t\r\n\t\t\t      &lt;configuration&gt;\t\t\t\r\n\t\t\t        &lt;!-- source output directory --&gt;\t\t\t\r\n\t\t\t        &lt;outputDirectory&gt;target/metamodel&lt;/outputDirectory&gt;\t\t\t\r\n\t\t\t      &lt;/configuration&gt;\t\t\t\r\n\t\t\t    &lt;/execution&gt;\t\t\t\r\n\t\t\t&lt;/executions&gt;\t\t\t\r\n\t&lt;/plugin&gt;\t\t\t\r\n\t&lt;plugin&gt;\t\t\t\r\n\t    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\t\t\t\r\n\t    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\t\r\n\t\t&lt;executions&gt;\t\t\t\r\n\t\t  &lt;execution&gt;\t\t\t\r\n\t\t    &lt;id&gt;add-source&lt;/id&gt;\t\t\t\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\t\t\t\r\n\t\t\t&lt;goals&gt;\t\t\t\r\n\t\t\t  &lt;goal&gt;add-source&lt;/goal&gt;\t\t\t\r\n\t\t\t&lt;/goals&gt;\t\t\t\r\n\t\t\t&lt;configuration&gt;\t\t\t\r\n\t\t\t  &lt;sources&gt;\t\t\t\r\n\t\t\t    &lt;source&gt;target/metamodel&lt;/source&gt;\t\t\t\r\n\t\t\t  &lt;/sources&gt;\t\t\t\r\n\t\t\t&lt;/configuration&gt;\r\n\t    &lt;/execution&gt;\t\t\t\r\n\t  &lt;/executions&gt;\t\t\t\r\n\t&lt;/plugin&gt;","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>I had this error also, and it was because I had the dependency and the metamodel plugin configuration in the <em>pom.xml</em>, so they were being generated twice. Try removing one of them.</p>\n<p>My dependency configuration:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;            \n    &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.5&lt;/version&gt;\n    &lt;executions&gt;            \n        &lt;execution&gt;         \n          &lt;id&gt;process&lt;/id&gt;          \n              &lt;goals&gt;           \n                &lt;goal&gt;process&lt;/goal&gt;            \n              &lt;/goals&gt;          \n              &lt;phase&gt;generate-sources&lt;/phase&gt;           \n              &lt;configuration&gt;           \n                &lt;!-- source output directory --&gt;            \n                &lt;outputDirectory&gt;target/metamodel&lt;/outputDirectory&gt;         \n              &lt;/configuration&gt;          \n            &lt;/execution&gt;            \n        &lt;/executions&gt;           \n&lt;/plugin&gt;           \n&lt;plugin&gt;            \n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;            \n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;  \n    &lt;executions&gt;            \n      &lt;execution&gt;           \n        &lt;id&gt;add-source&lt;/id&gt;         \n        &lt;phase&gt;generate-sources&lt;/phase&gt;         \n        &lt;goals&gt;         \n          &lt;goal&gt;add-source&lt;/goal&gt;           \n        &lt;/goals&gt;            \n        &lt;configuration&gt;         \n          &lt;sources&gt;         \n            &lt;source&gt;target/metamodel&lt;/source&gt;           \n          &lt;/sources&gt;            \n        &lt;/configuration&gt;\n    &lt;/execution&gt;            \n  &lt;/executions&gt;         \n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7078904,"reputation":345,"user_id":5417974,"display_name":"Luis Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614184824,"creation_date":1614184824,"answer_id":66355107,"question_id":56020334,"body_markdown":"I recently faced the same issue.\r\nIn my case I was developing a tool(.jar) for executing some imports tasks using CSV as sources and Oracle database as final destiny of data. In others apps that run in the Application Server we use the advantages of it for database interaction.\r\n\r\nI use this dependencies:\r\n- EclipseLink 2.6.2\r\n- ojdbc8-18.3.0.0\r\n\r\nIn my case I have two persistence-unit in the persistence.xml file, and in the process could be used dynamically one or another.\r\n\r\nFirst I tried to follow some suggestions to solve this problem like set in the persistence units the property exclude-unlisted-classes as follow:\r\n\r\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\r\nAnd also I added the entities classes to the first of the persistence units, because one class can be only listed in one of the persistence unit configured.\r\nWith this the compilation works, but at runtime the utility don&#39;t found the entity classes. For the testing using the IDE(not relevant by I used Netbeans) it also works but with the drawback that I had to had some tricky property &quot;jar-file&quot; to the persistence unit also for locating the entity classes.\r\n\r\nFinally I decided deal with the problem in other way because the previous solution did not quite solve all the problems.\r\n\r\nThe following steps works for me. \r\nIn the persistence.xml file I changed the line as follow:\r\n\r\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\nThese are my PU:\r\n\r\n    &lt;persistence-unit name=&quot;source1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jdbc/source1&lt;/jta-data-source&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;shared-cache-mode&gt;NONE&lt;/shared-cache-mode&gt;\r\n        &lt;properties/&gt;\r\n    &lt;/persistence-unit&gt;\r\n    &lt;persistence-unit name=&quot;source2&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jdbc/source2&lt;/jta-data-source&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;shared-cache-mode&gt;NONE&lt;/shared-cache-mode&gt;\r\n        &lt;properties/&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nAt the pom.xml file I use the following plugins:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;compilerArguments&gt;\r\n                    &lt;proc:none/&gt;\r\n                &lt;/compilerArguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nWith this is generated a fat .jar with all dependencies.\r\nAs a final annotation I can say that I don&#39;t use metamodel classes, instead I used the entity classes themselves, and with this I don&#39;t have any problem neither in the compilation fase nor in the runtime fase.","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>I recently faced the same issue.\nIn my case I was developing a tool(.jar) for executing some imports tasks using CSV as sources and Oracle database as final destiny of data. In others apps that run in the Application Server we use the advantages of it for database interaction.</p>\n<p>I use this dependencies:</p>\n<ul>\n<li>EclipseLink 2.6.2</li>\n<li>ojdbc8-18.3.0.0</li>\n</ul>\n<p>In my case I have two persistence-unit in the persistence.xml file, and in the process could be used dynamically one or another.</p>\n<p>First I tried to follow some suggestions to solve this problem like set in the persistence units the property exclude-unlisted-classes as follow:</p>\n<pre><code>&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n</code></pre>\n<p>And also I added the entities classes to the first of the persistence units, because one class can be only listed in one of the persistence unit configured.\nWith this the compilation works, but at runtime the utility don't found the entity classes. For the testing using the IDE(not relevant by I used Netbeans) it also works but with the drawback that I had to had some tricky property &quot;jar-file&quot; to the persistence unit also for locating the entity classes.</p>\n<p>Finally I decided deal with the problem in other way because the previous solution did not quite solve all the problems.</p>\n<p>The following steps works for me.\nIn the persistence.xml file I changed the line as follow:</p>\n<pre><code>&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n</code></pre>\n<p>These are my PU:</p>\n<pre><code>&lt;persistence-unit name=&quot;source1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/source1&lt;/jta-data-source&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;shared-cache-mode&gt;NONE&lt;/shared-cache-mode&gt;\n    &lt;properties/&gt;\n&lt;/persistence-unit&gt;\n&lt;persistence-unit name=&quot;source2&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/source2&lt;/jta-data-source&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;shared-cache-mode&gt;NONE&lt;/shared-cache-mode&gt;\n    &lt;properties/&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>At the pom.xml file I use the following plugins:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n            &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;compilerArguments&gt;\n                &lt;proc:none/&gt;\n            &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>With this is generated a fat .jar with all dependencies.\nAs a final annotation I can say that I don't use metamodel classes, instead I used the entity classes themselves, and with this I don't have any problem neither in the compilation fase nor in the runtime fase.</p>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619257482,"creation_date":1619257482,"answer_id":67241358,"question_id":56020334,"body_markdown":"I faced problem because same classes created inside target-dev folder of the project. Once I deleted all .java files of mappers then I did &quot;Invalidate and cache / restart&quot; then my server started.\r\n","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>I faced problem because same classes created inside target-dev folder of the project. Once I deleted all .java files of mappers then I did &quot;Invalidate and cache / restart&quot; then my server started.</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660836279,"creation_date":1659535938,"answer_id":73223064,"question_id":56020334,"body_markdown":"In my case resetting the SDK for the project in Intellij idea helped only. \r\n\r\nAlso in other case it helped when /src/generated folder was deleted together with /build (with build artifacts). So for some reason src/generated folder wasn&#39;t actually updated or cleaned up  on gradle&#39;s clean command","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>In my case resetting the SDK for the project in Intellij idea helped only.</p>\n<p>Also in other case it helped when /src/generated folder was deleted together with /build (with build artifacts). So for some reason src/generated folder wasn't actually updated or cleaned up  on gradle's clean command</p>\n"},{"tags":[],"owner":{"account_id":1248550,"reputation":2573,"user_id":1209475,"display_name":"Nitin Kamate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665899600,"creation_date":1665899600,"answer_id":74084906,"question_id":56020334,"body_markdown":"Cleaning my build directory (target folder for maven) helped me.","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>Cleaning my build directory (target folder for maven) helped me.</p>\n"}],"owner":{"account_id":12280871,"reputation":557,"user_id":8962522,"display_name":"iCV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27955,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1665899600,"creation_date":1557224016,"question_id":56020334,"body_markdown":"Every time I run my code, I get the following error:\r\n\r\n     java.lang.RuntimeException: javax.annotation.processing.FilerException: Attempt to recreate a file for type domein.ClubLes_\r\n        [javac] \tat org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:407)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:964)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:881)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2100(JavacProcessingEnvironment.java:110)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1202)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1311)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1250)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:928)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:306)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\r\n        [javac] Caused by: javax.annotation.processing.FilerException: Attempt to recreate a file for type domein.ClubLes_\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacFiler.checkNameAndExistence(JavacFiler.java:727)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacFiler.createSourceOrClassFile(JavacFiler.java:489)\r\n        [javac] \tat jdk.compiler/com.sun.tools.javac.processing.JavacFiler.createSourceFile(JavacFiler.java:426)\r\n        [javac] \tat org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.generateCanonicalModelClass(CanonicalModelProcessor.java:98)\r\n        [javac] \tat org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.generateCanonicalModelClasses(CanonicalModelProcessor.java:226)\r\n        [javac] \tat org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:403)\r\n        [javac] \t... 11 more\r\n    \r\n    BUILD FAILED\r\n    E:\\ProjectJava\\java-g11\\Taijitan\\nbproject\\build-impl.xml:1134: The following error occurred while executing this line:\r\n    E:\\ProjectJava\\java-g11\\Taijitan\\nbproject\\build-impl.xml:381: Compile failed; see the compiler error output for details.\r\n\r\nAt first I thought it was because I accidently forgot to add the subclass, but it&#39;s still giving me the same error. ClubLes inherits from Les, which is an interface which contains only getters. Do I need to make the interface serializable aswell? I have no idea what&#39;s going wrong.\r\n\r\n**ClubLes**\r\n\r\n    @Entity\r\n    public class ClubLes implements Serializable, Les {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;LesId&quot;)\r\n        private int id;\r\n        @Column(name = &quot;Naam&quot;)\r\n        String naam;\r\n        @Column(name = &quot;Soort&quot;)\r\n        String soort;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;GraadNumeriek&quot;)\r\n        Graad graad;\r\n        @Column(name = &quot;FotoUrl&quot;)\r\n        private String fotoUrl;\r\n        @Column(name = &quot;Beschrijving&quot;)\r\n        private String beschrijving;\r\n        @Column(name = &quot;VideoUrl&quot;)\r\n        private String videoUrl;\r\n        \r\n        public ClubLes() {\r\n        }\r\n\r\n**Les interface**\r\n\r\n    public interface Les {\r\n    \r\n        int getId();\r\n        String getNaam();\r\n        String getSoort();\r\n        //More getters\r\n    }\r\n\r\n**PU**  \r\nI only have one persistence unit, which looks like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;TaijitanPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;domein.Graad&lt;/class&gt;\r\n        &lt;class&gt;domein.Locatie&lt;/class&gt;\r\n        &lt;class&gt;domein.ClubPersoon&lt;/class&gt;\r\n        &lt;class&gt;domein.ClubActiviteit&lt;/class&gt;\r\n        &lt;class&gt;domein.ClubLes&lt;/class&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlserver://localhost:1433;databaseName=Taijitan&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;sa&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Wachtwoord2019&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nI also noticed that when I remove clublesson from JPA, it throws the same error for ClubPersoon, which follows the same scheme","title":"JPA: Error: Attempt to recreate a file for type &lt;MyClass&gt;","body":"<p>Every time I run my code, I get the following error:</p>\n\n<pre><code> java.lang.RuntimeException: javax.annotation.processing.FilerException: Attempt to recreate a file for type domein.ClubLes_\n    [javac]     at org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:407)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:964)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:881)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2100(JavacProcessingEnvironment.java:110)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1202)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1311)\n    [javac]     at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1250)\n    [javac]     at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:928)\n    [javac]     at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:306)\n    [javac]     at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\n    [javac]     at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\n    [javac]     at jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\n    [javac] Caused by: javax.annotation.processing.FilerException: Attempt to recreate a file for type domein.ClubLes_\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacFiler.checkNameAndExistence(JavacFiler.java:727)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacFiler.createSourceOrClassFile(JavacFiler.java:489)\n    [javac]     at jdk.compiler/com.sun.tools.javac.processing.JavacFiler.createSourceFile(JavacFiler.java:426)\n    [javac]     at org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.generateCanonicalModelClass(CanonicalModelProcessor.java:98)\n    [javac]     at org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.generateCanonicalModelClasses(CanonicalModelProcessor.java:226)\n    [javac]     at org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:403)\n    [javac]     ... 11 more\n\nBUILD FAILED\nE:\\ProjectJava\\java-g11\\Taijitan\\nbproject\\build-impl.xml:1134: The following error occurred while executing this line:\nE:\\ProjectJava\\java-g11\\Taijitan\\nbproject\\build-impl.xml:381: Compile failed; see the compiler error output for details.\n</code></pre>\n\n<p>At first I thought it was because I accidently forgot to add the subclass, but it's still giving me the same error. ClubLes inherits from Les, which is an interface which contains only getters. Do I need to make the interface serializable aswell? I have no idea what's going wrong.</p>\n\n<p><strong>ClubLes</strong></p>\n\n<pre><code>@Entity\npublic class ClubLes implements Serializable, Les {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"LesId\")\n    private int id;\n    @Column(name = \"Naam\")\n    String naam;\n    @Column(name = \"Soort\")\n    String soort;\n    @ManyToOne\n    @JoinColumn(name = \"GraadNumeriek\")\n    Graad graad;\n    @Column(name = \"FotoUrl\")\n    private String fotoUrl;\n    @Column(name = \"Beschrijving\")\n    private String beschrijving;\n    @Column(name = \"VideoUrl\")\n    private String videoUrl;\n\n    public ClubLes() {\n    }\n</code></pre>\n\n<p><strong>Les interface</strong></p>\n\n<pre><code>public interface Les {\n\n    int getId();\n    String getNaam();\n    String getSoort();\n    //More getters\n}\n</code></pre>\n\n<p><strong>PU</strong><br>\nI only have one persistence unit, which looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n  &lt;persistence-unit name=\"TaijitanPU\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;domein.Graad&lt;/class&gt;\n    &lt;class&gt;domein.Locatie&lt;/class&gt;\n    &lt;class&gt;domein.ClubPersoon&lt;/class&gt;\n    &lt;class&gt;domein.ClubActiviteit&lt;/class&gt;\n    &lt;class&gt;domein.ClubLes&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:sqlserver://localhost:1433;databaseName=Taijitan\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.user\" value=\"sa\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.password\" value=\"Wachtwoord2019\"/&gt;\n      &lt;property name=\"javax.persistence.schema-generation.database.action\" value=\"drop-and-create\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I also noticed that when I remove clublesson from JPA, it throws the same error for ClubPersoon, which follows the same scheme</p>\n"},{"tags":["java","doubly-linked-list"],"comments":[{"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"score":2,"creation_date":1665857054,"post_id":74081829,"comment_id":130798905,"body_markdown":"it is a public constructor https://www.w3schools.com/java/java_constructors.asp","body":"it is a public constructor <a href=\"https://www.w3schools.com/java/java_constructors.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_constructors.asp</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1665857566,"post_id":74081829,"comment_id":130798999,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html. Anyway you should probably stop what you are doing. Before reading code and trying to figure it out, you should grab a good Java book to grasp language rules.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/constructors.htm&zwnj;&#8203;l</a>. Anyway you should probably stop what you are doing. Before reading code and trying to figure it out, you should grab a good Java book to grasp language rules."},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1665901878,"post_id":74081829,"comment_id":130804569,"body_markdown":"If you do have not a good concept of classes and constructors, I will suggest learning Object oriented concepts before Learning data structures.","body":"If you do have not a good concept of classes and constructors, I will suggest learning Object oriented concepts before Learning data structures."}],"answers":[{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665899548,"creation_date":1665899548,"answer_id":74084900,"question_id":74081829,"body_markdown":"To understand this setup for Double-Linked-List you need to understand how a constructor works; A constructor is like a method, which is used to initialize properties of a class when the object of this class is initialized in memory for the first time.\r\n\r\nLet&#39;s take your code for an example, I modified it in a proper way to understand why and how constructors used in Java - \r\n\r\n    public class MyDeque {\r\n    \r\n    Node first;\r\n    Node last;    \r\n    int N;\r\n\r\n    public MyDeque(){\r\n      this.first = null;\r\n      this.last = null;\r\n      this.N = 0;\r\n    }\r\n    \r\n    static class Node {\r\n        int item; \r\n        Node next;\r\n        Node prev;\r\n        public Node() {       \r\n           this.next = null;\r\n           this.prev = null;\r\n        }\r\n        public void setItem(int item) {\r\n            this.item = item;\r\n        }\r\n        public int getItem(){\r\n            return this.item;\r\n        }\r\n\r\n        // ... public getters for other items\r\n    } \r\n\r\nAs you can see two constructors `public Node(){}` and `public MyDeque(){}` are used to set values for the properties of those objects when they are initialized in memory for the first time. \r\n\r\nLater, of course, you can set / unchange / change values of properties using the setter method or using the &quot;.&quot; operator but remember constructor will always take place when the objects are initialized or reinitialized in memory for the first time. ","title":"Understanding setup for doubly linked list in Java","body":"<p>To understand this setup for Double-Linked-List you need to understand how a constructor works; A constructor is like a method, which is used to initialize properties of a class when the object of this class is initialized in memory for the first time.</p>\n<p>Let's take your code for an example, I modified it in a proper way to understand why and how constructors used in Java -</p>\n<pre><code>public class MyDeque {\n\nNode first;\nNode last;    \nint N;\n\npublic MyDeque(){\n  this.first = null;\n  this.last = null;\n  this.N = 0;\n}\n\nstatic class Node {\n    int item; \n    Node next;\n    Node prev;\n    public Node() {       \n       this.next = null;\n       this.prev = null;\n    }\n    public void setItem(int item) {\n        this.item = item;\n    }\n    public int getItem(){\n        return this.item;\n    }\n\n    // ... public getters for other items\n} \n</code></pre>\n<p>As you can see two constructors <code>public Node(){}</code> and <code>public MyDeque(){}</code> are used to set values for the properties of those objects when they are initialized in memory for the first time.</p>\n<p>Later, of course, you can set / unchange / change values of properties using the setter method or using the &quot;.&quot; operator but remember constructor will always take place when the objects are initialized or reinitialized in memory for the first time.</p>\n"}],"owner":{"account_id":26413649,"reputation":17,"user_id":20062390,"display_name":"Aima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1665899548,"creation_date":1665856723,"question_id":74081829,"body_markdown":"I am working on a doubly linked list in Java. So that I can create functions, I&#39;m first working to understand the setup. \r\nI have this code. I have started comments with what each line does. Looking at tutorials and I want to make sure I understand this correctly. I still get a little confused on using classes.\r\n\r\n\r\nIf I create a new node by Node x = new Node();  - I am creating a new node of class Node. So that creates an instance using &quot;static class Node {&quot;\r\nEach Node created contains a int item, Node next, and Node prev, that I will set in my functions. The int item I assume is the contents of the Node.\r\nWhat does the line &quot;public Node() {}&quot; do?\r\n\r\n\r\n\r\n    public class MyDeque {\r\n\r\n    Node first = null; //instance variable, first is of type node and is set to null\r\n    Node last = null; //instance variable, last is of type node and is set to null\r\n    int N = 0;  //keeping track of number of nodes\r\n\r\n    static class Node {\r\n        public Node() { }\r\n        public int item; \r\n        public Node next; //next is of type node\r\n        public Node prev; //prev is of type node\r\n    } ","title":"Understanding setup for doubly linked list in Java","body":"<p>I am working on a doubly linked list in Java. So that I can create functions, I'm first working to understand the setup.\nI have this code. I have started comments with what each line does. Looking at tutorials and I want to make sure I understand this correctly. I still get a little confused on using classes.</p>\n<p>If I create a new node by Node x = new Node();  - I am creating a new node of class Node. So that creates an instance using &quot;static class Node {&quot;\nEach Node created contains a int item, Node next, and Node prev, that I will set in my functions. The int item I assume is the contents of the Node.\nWhat does the line &quot;public Node() {}&quot; do?</p>\n<pre><code>public class MyDeque {\n\nNode first = null; //instance variable, first is of type node and is set to null\nNode last = null; //instance variable, last is of type node and is set to null\nint N = 0;  //keeping track of number of nodes\n\nstatic class Node {\n    public Node() { }\n    public int item; \n    public Node next; //next is of type node\n    public Node prev; //prev is of type node\n} \n</code></pre>\n"},{"tags":["java","javac","abstract-syntax-tree","javap"],"comments":[{"owner":{"account_id":249638,"reputation":1858,"user_id":525843,"accept_rate":76,"display_name":"Stephan"},"score":0,"creation_date":1355407412,"post_id":13860523,"comment_id":19085278,"body_markdown":"when you say you have the path, i assume you don&#39;t have the file name, right?","body":"when you say you have the path, i assume you don&#39;t have the file name, right?"},{"owner":{"account_id":257130,"reputation":2815,"user_id":538339,"accept_rate":66,"display_name":"rnunes"},"score":0,"creation_date":1355407796,"post_id":13860523,"comment_id":19085474,"body_markdown":"@Stephan: I have the .java full path. I&#39;m going to edit the question now to make it more clear.","body":"@Stephan: I have the .java full path. I&#39;m going to edit the question now to make it more clear."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1355408637,"post_id":13860523,"comment_id":19085981,"body_markdown":"did you tried my post ?? Because, this is what i got from your previous post. I must say, my post will helpful for your scenario","body":"did you tried my post ?? Because, this is what i got from your previous post. I must say, my post will helpful for your scenario"},{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":1,"creation_date":1355412942,"post_id":13860523,"comment_id":19088358,"body_markdown":"You already have made a wrong assumption: a single .java file can contain *more than one* class (it can contain a maximum of one *public* class, but many more classes in general, like inner classes or package access classes for example). The only reliable way to obtain all these class names is to *parse* the .java file properly and completely.","body":"You already have made a wrong assumption: a single .java file can contain <i>more than one</i> class (it can contain a maximum of one <i>public</i> class, but many more classes in general, like inner classes or package access classes for example). The only reliable way to obtain all these class names is to <i>parse</i> the .java file properly and completely."},{"owner":{"account_id":257130,"reputation":2815,"user_id":538339,"accept_rate":66,"display_name":"rnunes"},"score":0,"creation_date":1355413391,"post_id":13860523,"comment_id":19088607,"body_markdown":"@Durandal I tried to make it clear that I need all of the classes full name, sorry about that. Could you put that as an answer so that I can accept it?","body":"@Durandal I tried to make it clear that I need all of the classes full name, sorry about that. Could you put that as an answer so that I can accept it?"},{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":0,"creation_date":1355414219,"post_id":13860523,"comment_id":19089124,"body_markdown":"@munes Sorry I must somehow missed your edit (with regards to multiple classes in one file). I added an answer outlining the general obstacles to overcome when trying to get the class names from a .java file.","body":"@munes Sorry I must somehow missed your edit (with regards to multiple classes in one file). I added an answer outlining the general obstacles to overcome when trying to get the class names from a .java file."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1355416031,"post_id":13860523,"comment_id":19090104,"body_markdown":"@rnunes i really don&#39;t understand till now, what you exactly wants to do. Nevertheless, i believe, your problem would be resolved now.","body":"@rnunes i really don&#39;t understand till now, what you exactly wants to do. Nevertheless, i believe, your problem would be resolved now."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1355404199,"creation_date":1355404199,"answer_id":13860558,"question_id":13860523,"body_markdown":"The most effective way is `Class.forName().getName()`","title":".java file path to class name","body":"<p>The most effective way is <code>Class.forName().getName()</code></p>\n"},{"tags":[],"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1355405363,"creation_date":1355405363,"answer_id":13860863,"question_id":13860523,"body_markdown":"\r\nTo get the name of the class file Try this\r\n\r\n\r\n          void printClassName(String classname) \r\n\r\n\r\n            {\r\n               \r\n              System.out.println(&quot;The class name &quot; + classname +&quot; is &quot; + classname.getClass().getName());\r\n            \r\n            }","title":".java file path to class name","body":"<p>To get the name of the class file Try this</p>\n\n<pre><code>      void printClassName(String classname) \n\n\n        {\n\n          System.out.println(\"The class name \" + classname +\" is \" + classname.getClass().getName());\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355409799,"creation_date":1355405457,"answer_id":13860888,"question_id":13860523,"body_markdown":"&gt; I have the .java file path and I need to get the class full name.\r\n\r\nWhich means, you know the path of .java file and you want the class name of each class file.\r\n\r\n \r\n    class Filter {\r\n\r\n    public static void main(String[] a) {\r\n        Filter f = new Filter();\r\n        String dirName = &quot;D:\\\\Yourfolder\\\\&quot;;  // assuming your java file are located in D:\\Yourfolder\\\r\n        f.finder(dirName);  // call the method for listing all the class file\r\n    }\r\n\r\n    public File[] finder(String dirName) {\r\n\r\n        File dir = new File(dirName);\r\n\r\n        return dir.listFiles(new FilenameFilter() {\r\n           \r\n            public boolean accept(File dir, String filename) {\r\n                if(filename.endsWith(&quot;.class&quot;))\r\n                {\r\n                System.out.println(filename);\r\n                }\r\n                return filename.endsWith(&quot;.class&quot;);\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\nReplace **dirName** with your `.java` directory path.","title":".java file path to class name","body":"<blockquote>\n  <p>I have the .java file path and I need to get the class full name.</p>\n</blockquote>\n\n<p>Which means, you know the path of .java file and you want the class name of each class file.</p>\n\n<pre><code>class Filter {\n\npublic static void main(String[] a) {\n    Filter f = new Filter();\n    String dirName = \"D:\\\\Yourfolder\\\\\";  // assuming your java file are located in D:\\Yourfolder\\\n    f.finder(dirName);  // call the method for listing all the class file\n}\n\npublic File[] finder(String dirName) {\n\n    File dir = new File(dirName);\n\n    return dir.listFiles(new FilenameFilter() {\n\n        public boolean accept(File dir, String filename) {\n            if(filename.endsWith(\".class\"))\n            {\n            System.out.println(filename);\n            }\n            return filename.endsWith(\".class\");\n\n        }\n    });\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Replace <strong>dirName</strong> with your <code>.java</code> directory path.</p>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355418652,"creation_date":1355414017,"answer_id":13863507,"question_id":13860523,"body_markdown":"The only way to reliably obtain the names of the classes (mind that it may also define interfaces) files a .java file declares would be to really parse the java language contained in that file.\r\n\r\nAnd even *then* you will need to *know* which compiler will be/has been used to compile the .java file, as a java compiler *could* use any naming convention it likes for anonymous classes (the Oracle compiler uses $1, $2..., but there is no strict need to mimic that behavior).\r\n\r\nConsidering these obstacles I believe its very hard to do from the .java files contents and simply impossible with the .java files path alone.","title":".java file path to class name","body":"<p>The only way to reliably obtain the names of the classes (mind that it may also define interfaces) files a .java file declares would be to really parse the java language contained in that file.</p>\n\n<p>And even <em>then</em> you will need to <em>know</em> which compiler will be/has been used to compile the .java file, as a java compiler <em>could</em> use any naming convention it likes for anonymous classes (the Oracle compiler uses $1, $2..., but there is no strict need to mimic that behavior).</p>\n\n<p>Considering these obstacles I believe its very hard to do from the .java files contents and simply impossible with the .java files path alone.</p>\n"},{"tags":[],"owner":{"account_id":506679,"reputation":942,"user_id":1149606,"display_name":"Josef.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378774254,"creation_date":1378774254,"answer_id":18709195,"question_id":13860523,"body_markdown":"One approach is to scan the directory tree where your Java source files are located, and for each file ending in &quot;.java&quot;, you take its full folder path as a String and convert each dir separator to a &#39;.&#39; character.  This will give you the fully qualified class name (FQCN).  For example, if the path is:  com\\foo\\fee\\Foo.java, that becomes com.foo.fee.Foo.\r\n\r\nOf course, this does not give you inner or nested classes and other advanced things, but these are created when you compile.\r\n\r\nI have seen this kind of directory scanning in many frameworks, even Spring.\r\n\r\nI am working on this in Groovy, so far I have:\r\n\r\n    File file = new File(rootSourcePath)\r\n\r\n\tfile.eachFileRecurse(FILES){\r\n\t\tdef path =it.getAbsolutePath()\r\n\t\tprintln path\r\n\r\n\t\tif(path.endsWith(&quot;.java&quot;)){\r\n\t           // to do the conversion here\r\n\t\t}\r\n\t}\r\n\r\n\r\nHope this interpreted your question correctly.\t\r\n","title":".java file path to class name","body":"<p>One approach is to scan the directory tree where your Java source files are located, and for each file ending in \".java\", you take its full folder path as a String and convert each dir separator to a '.' character.  This will give you the fully qualified class name (FQCN).  For example, if the path is:  com\\foo\\fee\\Foo.java, that becomes com.foo.fee.Foo.</p>\n\n<p>Of course, this does not give you inner or nested classes and other advanced things, but these are created when you compile.</p>\n\n<p>I have seen this kind of directory scanning in many frameworks, even Spring.</p>\n\n<p>I am working on this in Groovy, so far I have:</p>\n\n<pre><code>File file = new File(rootSourcePath)\n\nfile.eachFileRecurse(FILES){\n    def path =it.getAbsolutePath()\n    println path\n\n    if(path.endsWith(\".java\")){\n           // to do the conversion here\n    }\n}\n</code></pre>\n\n<p>Hope this interpreted your question correctly.  </p>\n"}],"owner":{"account_id":257130,"reputation":2815,"user_id":538339,"accept_rate":66,"display_name":"rnunes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4506,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":13863507,"answer_count":5,"score":-2,"last_activity_date":1665899509,"creation_date":1355404077,"question_id":13860523,"body_markdown":"What&#39;s the most efficient way of getting the class(es) created on a .java file? I have the .java file path and I need to get the class full name.\r\n\r\nI can only remember:\r\n\r\n 1. Compile it with [JavaCompiler][1]\r\n 2. Using the file text to parse it with Eclipse [ASTParser][2] (or another)\r\n 3. Infer the class name through part of the file path, but I don&#39;t know\r\n    if this works for every cases\r\n 4. Somehow, use a tool like [javap][3] (dind&#39;t really thought about this one)\r\n\r\n**EDIT**\r\n\r\nI have this file, located at `C:\\myfolder\\MyClass.java` (let&#39;s ignore package and folder association conventions):\r\n\r\n    package mypackage.mysubpackage;\r\n    \r\n    public class MyClass \r\n    {\r\n        // my class implementation here\r\n      \r\n        public class MyInnerClass \r\n        {\r\n            // my inner class implementation here\r\n        } \r\n    }\r\n\r\nThe full name of the classes declared in this file are:\r\n\r\n 1. `mypackage.mysubpackage.MyClass`\r\n 2. `mypackage.mysubpackage.MyClass.MyInnerClass` (I don&#39;t know if this\r\n        one it&#39;s correct, but let&#39;s pretend it is)\r\n\r\nHow can I get those class when I only have the .java file path (`C:\\myfolder\\MyClass.java`) ?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/tools/JavaCompiler.html\r\n  [2]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/dom/ASTParser.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javap.html","title":".java file path to class name","body":"<p>What's the most efficient way of getting the class(es) created on a .java file? I have the .java file path and I need to get the class full name.</p>\n\n<p>I can only remember:</p>\n\n<ol>\n<li>Compile it with <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/tools/JavaCompiler.html\" rel=\"nofollow\">JavaCompiler</a></li>\n<li>Using the file text to parse it with Eclipse <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/dom/ASTParser.html\" rel=\"nofollow\">ASTParser</a> (or another)</li>\n<li>Infer the class name through part of the file path, but I don't know\nif this works for every cases</li>\n<li>Somehow, use a tool like <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javap.html\" rel=\"nofollow\">javap</a> (dind't really thought about this one)</li>\n</ol>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have this file, located at <code>C:\\myfolder\\MyClass.java</code> (let's ignore package and folder association conventions):</p>\n\n<pre><code>package mypackage.mysubpackage;\n\npublic class MyClass \n{\n    // my class implementation here\n\n    public class MyInnerClass \n    {\n        // my inner class implementation here\n    } \n}\n</code></pre>\n\n<p>The full name of the classes declared in this file are:</p>\n\n<ol>\n<li><code>mypackage.mysubpackage.MyClass</code></li>\n<li><code>mypackage.mysubpackage.MyClass.MyInnerClass</code> (I don't know if this\n    one it's correct, but let's pretend it is)</li>\n</ol>\n\n<p>How can I get those class when I only have the .java file path (<code>C:\\myfolder\\MyClass.java</code>) ?</p>\n"},{"tags":["java","logging","log4j","log4j2","jvm-arguments"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665879230,"post_id":74083822,"comment_id":130802400,"body_markdown":"Well the console is essentially stdout, so what about redirecting stdout to null?","body":"Well the console is essentially stdout, so what about redirecting stdout to null?"},{"owner":{"account_id":17966762,"reputation":11,"user_id":13056491,"display_name":"Chaudhary44"},"score":0,"creation_date":1665880153,"post_id":74083822,"comment_id":130802495,"body_markdown":"we can do that via program arguments? as we cannot modify the inline java code","body":"we can do that via program arguments? as we cannot modify the inline java code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665909354,"post_id":74083822,"comment_id":130805634,"body_markdown":"Again the stdout of the java will be the same as the stdout of the Perl so you can remove the logging statements from the collective stdout. Since each statement will be prepended with the same string pattern you might be able to pipe through sed and then remove just the logging statements","body":"Again the stdout of the java will be the same as the stdout of the Perl so you can remove the logging statements from the collective stdout. Since each statement will be prepended with the same string pattern you might be able to pipe through sed and then remove just the logging statements"}],"owner":{"account_id":17966762,"reputation":11,"user_id":13056491,"display_name":"Chaudhary44"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665898924,"creation_date":1665878824,"question_id":74083822,"body_markdown":"I have a program setup where a Perl code invokes Java Inline snippet\r\nThe java itself uses log4j2 to print logs onto the console (there is log4j2.xml specified in the java classpath) with contents:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n\r\n  &lt;Appenders&gt;\r\n\r\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout\r\n        pattern=&quot;%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot;/&gt;\r\n    &lt;/Console&gt;\r\n\r\n    &lt;RollingFile name=&quot;MAINFILE&quot;\r\n      fileName=&quot;logsFile.log&quot;\r\n      filePattern=&quot;logsFile.%d{yyyy-MM-dd}.%i.log&quot;&gt;\r\n      &lt;DefaultRolloverStrategy max=&quot;36&quot;/&gt;\r\n    &lt;/RollingFile&gt;\r\n\r\n  &lt;/Appenders&gt;\r\n\r\n  &lt;Loggers&gt;\r\n\r\n    &lt;Root level=&quot;off&quot;&gt;\r\n      &lt;appender-ref ref=&quot;Console&quot;/&gt;\r\n      &lt;appender-ref ref=&quot;MAINFILE&quot;/&gt;\r\n    &lt;/Root&gt;\r\n\r\n  &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nWhich essentially specifies to publish logs to a &quot;logsFile.log&quot; and &quot;standard output.\r\n\r\nWe cannot modify the java code or the log4j2.xml file to disable printing of logs to the console, because both of them are supplied externally and cannot be tampered with.\r\n\r\nIs there a way to remove `Console` appender from log4j2 via Java program arguments, because that can be modified from inside Perl, it is essentially:\r\n\r\n```\r\nuse Inline Java =&gt; &lt;&lt;&#39;END&#39;,\r\n    EXTRA_JAVA_ARGS=&gt;&quot;-Dfile.encoding=UTF-8&quot;,\r\n    CLASSPATH =&gt; &#39;/home/foo/jars/&#39;,\r\n    J2SDK =&gt; &#39;home/foo/java/jdk8&#39;;\r\n```\r\n\r\nWe can pass arguments as: ```-D&lt;property_key&gt;=&lt;property_value&gt;``` in the snippet above.\r\n\r\nI&#39;ve tried the solution below:\r\n\r\n1. Create a new log4j2.xml in some other directory and remove Console appender from it\r\n2. add: `-Dlog4j2.configurationFile=&#39;&lt;path_to_new_log4j2.xml&gt;` to the program arguments.\r\n\r\nThis solutions works as it overrides the log4j2.xml provided in the classpath. But the problem is that it might require updating when a new log4j2.xml is supplied.\r\n\r\nRequirement here is to keep the configuration from the supplied log4j2.xml and override it&#39;s behavior through Java program arguments to not publish logs to console, \r\n\r\nOr less ideal solution: if logs level can be set to &quot;OFF&quot; via Java program arguments so that no logs are published to either log file or console. \r\n\r\nI&#39;ve tried using ```-Dlog4j2.level=&quot;OFF&quot;```, but it only works in the case when a log4j2.xml is not supplied.\r\n\r\nLog4j documentation: \r\n\r\n&gt; log4j2.level =&gt; Sets Log level of the default configuration. The\r\n&gt; default configuration is used if the ConfigurationFactory could not\r\n&gt; successfully create a configuration (e.g. no log4j2.xml file was\r\n&gt; found)\r\n\r\n","title":"Disable Console logging for &quot;log4j2&quot; via Java Program Arguments","body":"<p>I have a program setup where a Perl code invokes Java Inline snippet\nThe java itself uses log4j2 to print logs onto the console (there is log4j2.xml specified in the java classpath) with contents:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n\n  &lt;Appenders&gt;\n\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout\n        pattern=&quot;%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot;/&gt;\n    &lt;/Console&gt;\n\n    &lt;RollingFile name=&quot;MAINFILE&quot;\n      fileName=&quot;logsFile.log&quot;\n      filePattern=&quot;logsFile.%d{yyyy-MM-dd}.%i.log&quot;&gt;\n      &lt;DefaultRolloverStrategy max=&quot;36&quot;/&gt;\n    &lt;/RollingFile&gt;\n\n  &lt;/Appenders&gt;\n\n  &lt;Loggers&gt;\n\n    &lt;Root level=&quot;off&quot;&gt;\n      &lt;appender-ref ref=&quot;Console&quot;/&gt;\n      &lt;appender-ref ref=&quot;MAINFILE&quot;/&gt;\n    &lt;/Root&gt;\n\n  &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>Which essentially specifies to publish logs to a &quot;logsFile.log&quot; and &quot;standard output.</p>\n<p>We cannot modify the java code or the log4j2.xml file to disable printing of logs to the console, because both of them are supplied externally and cannot be tampered with.</p>\n<p>Is there a way to remove <code>Console</code> appender from log4j2 via Java program arguments, because that can be modified from inside Perl, it is essentially:</p>\n<pre><code>use Inline Java =&gt; &lt;&lt;'END',\n    EXTRA_JAVA_ARGS=&gt;&quot;-Dfile.encoding=UTF-8&quot;,\n    CLASSPATH =&gt; '/home/foo/jars/',\n    J2SDK =&gt; 'home/foo/java/jdk8';\n</code></pre>\n<p>We can pass arguments as: <code>-D&lt;property_key&gt;=&lt;property_value&gt;</code> in the snippet above.</p>\n<p>I've tried the solution below:</p>\n<ol>\n<li>Create a new log4j2.xml in some other directory and remove Console appender from it</li>\n<li>add: <code>-Dlog4j2.configurationFile='&lt;path_to_new_log4j2.xml&gt;</code> to the program arguments.</li>\n</ol>\n<p>This solutions works as it overrides the log4j2.xml provided in the classpath. But the problem is that it might require updating when a new log4j2.xml is supplied.</p>\n<p>Requirement here is to keep the configuration from the supplied log4j2.xml and override it's behavior through Java program arguments to not publish logs to console,</p>\n<p>Or less ideal solution: if logs level can be set to &quot;OFF&quot; via Java program arguments so that no logs are published to either log file or console.</p>\n<p>I've tried using <code>-Dlog4j2.level=&quot;OFF&quot;</code>, but it only works in the case when a log4j2.xml is not supplied.</p>\n<p>Log4j documentation:</p>\n<blockquote>\n<p>log4j2.level =&gt; Sets Log level of the default configuration. The\ndefault configuration is used if the ConfigurationFactory could not\nsuccessfully create a configuration (e.g. no log4j2.xml file was\nfound)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1665892832,"post_id":74084234,"comment_id":130803694,"body_markdown":"If you&#39;re trying to compile-and-execute arbitrary Java source code, that may or may not compile with `javac`, then probably the easiest solution is to use the [JShell API](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jshell/module-summary.html).","body":"If you&#39;re trying to compile-and-execute arbitrary Java source code, that may or may not compile with <code>javac</code>, then probably the easiest solution is to use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jshell/module-summary.html\" rel=\"nofollow noreferrer\">JShell API</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665894643,"post_id":74084234,"comment_id":130803862,"body_markdown":"What are you trying to achieve?","body":"What are you trying to achieve?"}],"owner":{"account_id":21712304,"reputation":35,"user_id":16023777,"display_name":"walbag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665898507,"answer_count":0,"score":0,"last_activity_date":1665898430,"creation_date":1665887631,"question_id":74084234,"body_markdown":"I have a text file that contains many similar lines to this one\r\n\r\n&gt; System.out.println(13);\r\n\r\nI would like to insert this into my Java code so that when I run the program, it will output 13.\r\n\r\nHere is the program where it would just output `System.out.println(13);` instead of `13`:\r\n\r\n    File sampleCode = new File(&quot;sample.txt&quot;);\r\n    try {\r\n        Scanner scan = new Scanner(sampleCode);\r\n        while(scan.hasNextLine()){\r\n            System.out.println(scan.nextLine()); //this is where i plan to insert the lines from the .txt file\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIs it possible?","title":"How to insert a line of Java from a text file into my Java code","body":"<p>I have a text file that contains many similar lines to this one</p>\n<blockquote>\n<p>System.out.println(13);</p>\n</blockquote>\n<p>I would like to insert this into my Java code so that when I run the program, it will output 13.</p>\n<p>Here is the program where it would just output <code>System.out.println(13);</code> instead of <code>13</code>:</p>\n<pre><code>File sampleCode = new File(&quot;sample.txt&quot;);\ntry {\n    Scanner scan = new Scanner(sampleCode);\n    while(scan.hasNextLine()){\n        System.out.println(scan.nextLine()); //this is where i plan to insert the lines from the .txt file\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Is it possible?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":106291,"reputation":22384,"user_id":283200,"display_name":"Kai Sternad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432310463,"creation_date":1432310463,"answer_id":30401187,"question_id":30401077,"body_markdown":"No, you can&#39;t cast instances from one class to another class if they don&#39;t have any kind of relation. Take a look at the [Java Language Specification][1] for possible casts and conversions.\r\n\r\nYou can however copy attributes either by hand or using a framework such as [Dozer][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html\r\n  [2]: http://dozer.sourceforge.net/","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>No, you can't cast instances from one class to another class if they don't have any kind of relation. Take a look at the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html\" rel=\"nofollow\">Java Language Specification</a> for possible casts and conversions.</p>\n\n<p>You can however copy attributes either by hand or using a framework such as <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow\">Dozer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432310474,"creation_date":1432310474,"answer_id":30401192,"question_id":30401077,"body_markdown":"You can create an `Interface` that gets implemented by both classes to set the attributes.\r\n\r\nThat way instead of casting you reference them by the interface\r\n\r\nExample \r\n\r\n    public interface PersonalInfo {\r\n    \r\n        public void setName(String name);\r\n        public void setAge(int age);\r\n    \r\n    }\r\n\r\nThen your implementations\r\n\r\n\r\n    public class ClassA implements PersonalInfo {\r\n    \r\n        \r\n    String name;\r\n    int age;\r\n    \r\n    //other things and methods\r\n    @Override\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    }\r\n\r\nAnd for ClassB\r\n\r\n    public class ClassB implements PersonalInfo {\r\n    \r\n    String name;\r\n    int age;\r\n    \r\n    //other things and methods\r\n\r\n    @Override\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n    \r\n    }","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>You can create an <code>Interface</code> that gets implemented by both classes to set the attributes.</p>\n\n<p>That way instead of casting you reference them by the interface</p>\n\n<p>Example </p>\n\n<pre><code>public interface PersonalInfo {\n\n    public void setName(String name);\n    public void setAge(int age);\n\n}\n</code></pre>\n\n<p>Then your implementations</p>\n\n<pre><code>public class ClassA implements PersonalInfo {\n\n\nString name;\nint age;\n\n//other things and methods\n@Override\npublic void setName(String name) {\n    this.name = name;\n}\n\n@Override\npublic void setAge(int age) {\n    this.age = age;\n}\n\n}\n</code></pre>\n\n<p>And for ClassB</p>\n\n<pre><code>public class ClassB implements PersonalInfo {\n\nString name;\nint age;\n\n//other things and methods\n\n@Override\npublic void setName(String name) {\n    this.name = name;\n}\n\n@Override\npublic void setAge(int age) {\n    this.age = age;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1432310517,"creation_date":1432310517,"answer_id":30401212,"question_id":30401077,"body_markdown":"The only way to &quot;cast&quot; them universally is using the reflection like this:\r\n\r\n\tpublic static void copyObject(Object src, Object dest)\r\n\t\t\tthrows IllegalArgumentException, IllegalAccessException,\r\n\t\t\tNoSuchFieldException, SecurityException {\r\n\t\tfor (Field field : src.getClass().getFields()) {\r\n\t\t\tdest.getClass().getField(field.getName()).set(dest, field.get(src));\r\n\t\t}\r\n\t}\r\n\t\r\nExample:\r\n\r\n\tstatic class ClassA {\r\n\t\tpublic int a;\r\n\t\tpublic String b;\r\n\t\tpublic double c;\r\n\t}\r\n\r\n\tstatic class ClassB {\r\n\t\tpublic int a;\r\n\t\tpublic String b;\r\n\t\tpublic double c;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tClassA a = new ClassA();\r\n\t\ta.a = 1;\r\n\t\ta.b = &quot;test&quot;;\r\n\t\ta.c = 3.14;\r\n\t\t\r\n\t\tClassB b = new ClassB();\r\n\t\tcopyObject(a, b);\r\n\t\tSystem.out.println(b.a+&quot;, &quot;+b.b+&quot;, &quot;+b.c); // prints &quot;1, test, 3.14&quot;\r\n\t}\r\n\r\nHowever, as you may guess, that&#39;s not very good way to do things in Java.","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>The only way to \"cast\" them universally is using the reflection like this:</p>\n\n<pre><code>public static void copyObject(Object src, Object dest)\n        throws IllegalArgumentException, IllegalAccessException,\n        NoSuchFieldException, SecurityException {\n    for (Field field : src.getClass().getFields()) {\n        dest.getClass().getField(field.getName()).set(dest, field.get(src));\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>static class ClassA {\n    public int a;\n    public String b;\n    public double c;\n}\n\nstatic class ClassB {\n    public int a;\n    public String b;\n    public double c;\n}\n\npublic static void main(String[] args) throws Exception {\n    ClassA a = new ClassA();\n    a.a = 1;\n    a.b = \"test\";\n    a.c = 3.14;\n\n    ClassB b = new ClassB();\n    copyObject(a, b);\n    System.out.println(b.a+\", \"+b.b+\", \"+b.c); // prints \"1, test, 3.14\"\n}\n</code></pre>\n\n<p>However, as you may guess, that's not very good way to do things in Java.</p>\n"},{"tags":[],"owner":{"account_id":5872394,"reputation":126,"user_id":4624334,"display_name":"Manjunatha Thippeswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432312845,"creation_date":1432312845,"answer_id":30401872,"question_id":30401077,"body_markdown":"The class can&#39;t be cast&#39;d if it doesn&#39;t have &quot;is a&quot; relationship (Inheritance). In this scenario, it must be set the attributes one by one. May be adding a method to one of the class to do transform. \r\n\r\n    public class ClassB {\r\n\t    private int num;\r\n\r\n\t    public int getNum() {\r\n\t\t    return num;\r\n\t    }\r\n\r\n\t    public void setNum(int num) {\r\n\t\t    this.num = num;\r\n\t    }\r\n\t    public ClassA transformToClassA(){\r\n\t\t    ClassA obj= new ClassA();\r\n\t\t    obj.setNum(this.num);\r\n\t\t    return obj;\r\n\t    }\r\n    }\r\n\r\n ","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>The class can't be cast'd if it doesn't have \"is a\" relationship (Inheritance). In this scenario, it must be set the attributes one by one. May be adding a method to one of the class to do transform. </p>\n\n<pre><code>public class ClassB {\n    private int num;\n\n    public int getNum() {\n        return num;\n    }\n\n    public void setNum(int num) {\n        this.num = num;\n    }\n    public ClassA transformToClassA(){\n        ClassA obj= new ClassA();\n        obj.setNum(this.num);\n        return obj;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95875,"reputation":9861,"user_id":260894,"accept_rate":56,"display_name":"dhblah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432314355,"creation_date":1432314355,"answer_id":30402264,"question_id":30401077,"body_markdown":"No you can&#39;t cast them. You could either manually set attributes (preferable way) or write some sort of processor that will read class definition and set fields from the fields with the same names - but that would be very fragile, because if, say you&#39;ll decide to change the type of some attribute and types of this attribute in class A would become incompatible with attribute in class B, you&#39;ll spot this only at run-time. The same would happen if you later decide to add attribute to one of them, but not the other. You could obviously devise some defense against that, but that would mean creating a complex logic, while you can simply manually set attributes without any logic whatsoever and get compile-time check.","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>No you can't cast them. You could either manually set attributes (preferable way) or write some sort of processor that will read class definition and set fields from the fields with the same names - but that would be very fragile, because if, say you'll decide to change the type of some attribute and types of this attribute in class A would become incompatible with attribute in class B, you'll spot this only at run-time. The same would happen if you later decide to add attribute to one of them, but not the other. You could obviously devise some defense against that, but that would mean creating a complex logic, while you can simply manually set attributes without any logic whatsoever and get compile-time check.</p>\n"},{"tags":[],"owner":{"account_id":1250085,"reputation":1430,"user_id":1210650,"accept_rate":70,"display_name":"Sanjay Verma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665898326,"creation_date":1558991526,"answer_id":56332503,"question_id":30401077,"body_markdown":"Use Json serialization/deserialization, e.g. with Gson,\r\n\r\n```java\r\n    import com.google.gson.Gson;\r\n    \r\n    static Gson gson = new Gson();\r\n\r\n    Class2 transform (final Class1 original) {\r\n        return gson.fromJson(gson.toJson(original), Class2.class);\r\n    }\r\n```\r\n\r\nThis also works recursively.","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>Use Json serialization/deserialization, e.g. with Gson,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.google.gson.Gson;\n    \n    static Gson gson = new Gson();\n\n    Class2 transform (final Class1 original) {\n        return gson.fromJson(gson.toJson(original), Class2.class);\n    }\n</code></pre>\n<p>This also works recursively.</p>\n"}],"owner":{"account_id":6277212,"reputation":73,"user_id":4879559,"display_name":"Jos&#233; Vilchez Almera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9789,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":30401212,"answer_count":6,"score":6,"last_activity_date":1665898326,"creation_date":1432310063,"question_id":30401077,"body_markdown":"I have two classes. ClassA and CLassB, they don&#39;t have any relation but they both have the same attributes. Is it possible to cast them or I have to set the attributes one by one?","title":"Is it possile to cast two different class but having the same attributes?","body":"<p>I have two classes. ClassA and CLassB, they don't have any relation but they both have the same attributes. Is it possible to cast them or I have to set the attributes one by one?</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665896891,"creation_date":1665896891,"answer_id":74084734,"question_id":74084614,"body_markdown":"You can have a look at the `api` module of https://github.com/ch4mpy/user-proxies. \r\n\r\nIn this project, I define a custom mapper for keycloak to add a custom claim to access tokens and then use it in spring-security SpEL. ","title":"Fine grained access control with Spring Boot managed custom permissions and Keycloak","body":"<p>You can have a look at the <code>api</code> module of <a href=\"https://github.com/ch4mpy/user-proxies\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/user-proxies</a>.</p>\n<p>In this project, I define a custom mapper for keycloak to add a custom claim to access tokens and then use it in spring-security SpEL.</p>\n"}],"owner":{"account_id":1100573,"reputation":1,"user_id":1093059,"display_name":"Ramanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665896891,"creation_date":1665894519,"question_id":74084614,"body_markdown":"I&#39;m working on a Spring Boot / Spring Security application which uses Keycloak as Identity and Access Management (IAM) component. We have a user interface where admin can define the sub users and relevant permissions to view, edit, and delete different modules. These permissions can be updated time to time and currently maintained in our application&#39;s Postgres database.\r\n\r\nI have done the initial implementation with Spring Security generated JWT token where I added these permissions as Granted Authorities and used the annotations such as `@PreAuthorize(&quot;hasAuthority(&#39;LIST_CURRENCIES&#39;)&quot;)` at method level to achieve this. But when I offloaded the IAM to Keycloak so far it has not been successful to enforce method level security. \r\n\r\nHow could we sync these permissions to Keycloak so that list of permissions for each user can be included in the JWT token as claims that can be enforced by Spring Security?\r\n","title":"Fine grained access control with Spring Boot managed custom permissions and Keycloak","body":"<p>I'm working on a Spring Boot / Spring Security application which uses Keycloak as Identity and Access Management (IAM) component. We have a user interface where admin can define the sub users and relevant permissions to view, edit, and delete different modules. These permissions can be updated time to time and currently maintained in our application's Postgres database.</p>\n<p>I have done the initial implementation with Spring Security generated JWT token where I added these permissions as Granted Authorities and used the annotations such as <code>@PreAuthorize(&quot;hasAuthority('LIST_CURRENCIES')&quot;)</code> at method level to achieve this. But when I offloaded the IAM to Keycloak so far it has not been successful to enforce method level security.</p>\n<p>How could we sync these permissions to Keycloak so that list of permissions for each user can be included in the JWT token as claims that can be enforced by Spring Security?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1516424387,"post_id":48351529,"comment_id":83692216,"body_markdown":"Consider posting [mcve]. Most of the code posted in not relevant to the question &quot;how to copy all the files in a directory using the Path object?\n&quot;","body":"Consider posting <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Most of the code posted in not relevant to the question &quot;how to copy all the files in a directory using the Path object? &quot;"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1516424919,"post_id":48351529,"comment_id":83692320,"body_markdown":"[This](http://www.java2s.com/Tutorials/Java/java.nio.file/Files/Java_Files_copy_Path_source_Path_target_CopyOption_options_.htm)  may help","body":"<a href=\"http://www.java2s.com/Tutorials/Java/java.nio.file/Files/Java_Files_copy_Path_source_Path_target_CopyOption_options_.htm\" rel=\"nofollow noreferrer\">This</a>  may help"}],"answers":[{"tags":[],"owner":{"account_id":5583238,"reputation":1337,"user_id":4424515,"accept_rate":77,"display_name":"Chol Nhial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516413725,"creation_date":1516410356,"answer_id":48351615,"question_id":48351529,"body_markdown":"Here&#39;s my slightly long code that does this.\r\nThe example can be run right away, just \r\nmake sure to provide it src and dest directories.\r\n\r\n        package copytodir;\r\n\r\n    import static java.nio.file.StandardCopyOption.*;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Files;\r\n    import java.io.*;\r\n    import java.nio.file.Paths;\r\n    import java.util.Scanner;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    /**\r\n     *\r\n     * @author Chol\r\n     */\r\n    public class CopyToDir {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) throws IOException {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.print(&quot;Enter source: &quot;);\r\n            String srcDir = keyboard.nextLine();\r\n            System.out.print(&quot;Enter destination: &quot;);\r\n            String destDir = keyboard.nextLine();\r\n            copyDirectory(srcDir, destDir);\r\n        }\r\n\r\n        public static void copyDirectory(String sourceDir, String destDir) throws IOException {\r\n            Path sourceDirPath = Paths.get(sourceDir);\r\n            Path destDirPath = Paths.get(destDir);\r\n\r\n            Files.copy(sourceDirPath, destDirPath, REPLACE_EXISTING);\r\n            Files.list(sourceDirPath)\r\n            .forEach(pathOfFile -&gt; {\r\n                try {\r\n                    copyFile(pathOfFile, Paths.get(destDirPath.toFile().getAbsolutePath() + File.separator + pathOfFile.toFile().getName()));\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(CopyToDir.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public static void copyFile(Path srcFile, Path destFile) throws IOException {\r\n            Files.copy(srcFile, destFile, REPLACE_EXISTING);\r\n        }\r\n    }\r\n","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>Here's my slightly long code that does this.\nThe example can be run right away, just \nmake sure to provide it src and dest directories.</p>\n\n<pre><code>    package copytodir;\n\nimport static java.nio.file.StandardCopyOption.*;\nimport java.nio.file.Path;\nimport java.nio.file.Files;\nimport java.io.*;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author Chol\n */\npublic class CopyToDir {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws IOException {\n        Scanner keyboard = new Scanner(System.in);\n        System.out.print(\"Enter source: \");\n        String srcDir = keyboard.nextLine();\n        System.out.print(\"Enter destination: \");\n        String destDir = keyboard.nextLine();\n        copyDirectory(srcDir, destDir);\n    }\n\n    public static void copyDirectory(String sourceDir, String destDir) throws IOException {\n        Path sourceDirPath = Paths.get(sourceDir);\n        Path destDirPath = Paths.get(destDir);\n\n        Files.copy(sourceDirPath, destDirPath, REPLACE_EXISTING);\n        Files.list(sourceDirPath)\n        .forEach(pathOfFile -&gt; {\n            try {\n                copyFile(pathOfFile, Paths.get(destDirPath.toFile().getAbsolutePath() + File.separator + pathOfFile.toFile().getName()));\n            } catch (IOException ex) {\n                Logger.getLogger(CopyToDir.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        });\n\n    }\n\n    public static void copyFile(Path srcFile, Path destFile) throws IOException {\n        Files.copy(srcFile, destFile, REPLACE_EXISTING);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2074809,"reputation":11,"user_id":1848484,"display_name":"Andrzej Jarmoniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665896776,"creation_date":1665896776,"answer_id":74084729,"question_id":48351529,"body_markdown":"An old post, but I&#39;ve seen plenty of similar posts, so I&#39;ll share nonetheless. The following has become a common used idiom for what you want to do.\r\n\r\n```\r\npublic static void copyDir( Path src, Path dst ) throws IOException {\r\n\r\n    Files.walkFileTree( src, new SimpleFileVisitor&lt;Path&gt;() {\r\n        @Override\r\n        public FileVisitResult preVisitDirectory( Path dir, BasicFileAttributes attrs ) throws IOException {\r\n            Files.createDirectories( dst.resolve( src.relativize( dir ) ) );\r\n            return CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult visitFile( Path file, BasicFileAttributes attrs ) throws IOException {\r\n            Files.copy( file, dst.resolve( src.relativize( file ) ), REPLACE_EXISTING );\r\n            return CONTINUE;\r\n        }\r\n    } );\r\n}\r\n```","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>An old post, but I've seen plenty of similar posts, so I'll share nonetheless. The following has become a common used idiom for what you want to do.</p>\n<pre><code>public static void copyDir( Path src, Path dst ) throws IOException {\n\n    Files.walkFileTree( src, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult preVisitDirectory( Path dir, BasicFileAttributes attrs ) throws IOException {\n            Files.createDirectories( dst.resolve( src.relativize( dir ) ) );\n            return CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile( Path file, BasicFileAttributes attrs ) throws IOException {\n            Files.copy( file, dst.resolve( src.relativize( file ) ), REPLACE_EXISTING );\n            return CONTINUE;\n        }\n    } );\n}\n</code></pre>\n"}],"owner":{"account_id":10250248,"reputation":21,"user_id":7564736,"accept_rate":0,"display_name":"Huckleberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665896776,"creation_date":1516409434,"question_id":48351529,"body_markdown":"Please be kind, I&#39;m new to Java.  I&#39;m looking for a way to copy all the files from a source directory to a target directory using the Path object. I looked around and saw older solutions to this problem (using the older java,io), but not the (newer java.nio) Path object.  Here&#39;s what I have so far. \r\n\r\n    // copyFiles - Copies files from source directory/folder to destination directory/folder\r\n    // Requires:\r\n    //      import java.nio.file.Path;\r\n    //      import java.nio.file.Paths;\r\n    //      import java.nio.file.Files;\r\n    public static void copyFiles(String OSType, String source, String destination)throws IOException {\r\n        Path sourcePath = Paths.get(source);\r\n        Path destinationPath = Paths.get(destination);\r\n\r\n        if (!Files.exists(sourcePath) || !Files.isDirectory(sourcePath)) {\r\n            System.out.println(&quot;Source directory/Folder &quot; + source + &quot; does not exists.&quot;);\r\n        } else if (!Files.exists(destinationPath) || !Files.isDirectory(destinationPath)) {\r\n            System.out.println(&quot;Destination directory/Folder &quot; + source + &quot; does not exists.&quot;);\r\n        } else if (Files.list(sourcePath).count() &gt; 0) {\r\n\r\n            List&lt;Path&gt; sourceLocationContent = new ArrayList&lt;&gt;();\r\n            try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(sourcePath)) {\r\n                for (Path file : stream) {\r\n                // System.out.println(file.getFileName());\r\n                sourceLocationContent.add( file.getFileName());\r\n            }\r\n\r\n            System.out.println(&quot;sourceLocationContent.size() = &quot; + sourceLocationContent.size());\r\n            for (int i=0 ; sourceLocationContent.size() &gt; i ; i++){\r\n                System.out.println(&quot;sourceLocationContent.get(&quot;+i+&quot;) = &quot; + sourceLocationContent.get(i));\r\n                Files.copy(sourceLocationContent.get(i),destinationPath);\r\n            }\r\n        } catch (IOException | DirectoryIteratorException exception) {\r\n            System.out.println(exception);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;Source directory/Folder &quot; + source + &quot; is empty.&quot;);\r\n    }\r\n}","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>Please be kind, I'm new to Java.  I'm looking for a way to copy all the files from a source directory to a target directory using the Path object. I looked around and saw older solutions to this problem (using the older java,io), but not the (newer java.nio) Path object.  Here's what I have so far. </p>\n\n<pre><code>// copyFiles - Copies files from source directory/folder to destination directory/folder\n// Requires:\n//      import java.nio.file.Path;\n//      import java.nio.file.Paths;\n//      import java.nio.file.Files;\npublic static void copyFiles(String OSType, String source, String destination)throws IOException {\n    Path sourcePath = Paths.get(source);\n    Path destinationPath = Paths.get(destination);\n\n    if (!Files.exists(sourcePath) || !Files.isDirectory(sourcePath)) {\n        System.out.println(\"Source directory/Folder \" + source + \" does not exists.\");\n    } else if (!Files.exists(destinationPath) || !Files.isDirectory(destinationPath)) {\n        System.out.println(\"Destination directory/Folder \" + source + \" does not exists.\");\n    } else if (Files.list(sourcePath).count() &gt; 0) {\n\n        List&lt;Path&gt; sourceLocationContent = new ArrayList&lt;&gt;();\n        try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(sourcePath)) {\n            for (Path file : stream) {\n            // System.out.println(file.getFileName());\n            sourceLocationContent.add( file.getFileName());\n        }\n\n        System.out.println(\"sourceLocationContent.size() = \" + sourceLocationContent.size());\n        for (int i=0 ; sourceLocationContent.size() &gt; i ; i++){\n            System.out.println(\"sourceLocationContent.get(\"+i+\") = \" + sourceLocationContent.get(i));\n            Files.copy(sourceLocationContent.get(i),destinationPath);\n        }\n    } catch (IOException | DirectoryIteratorException exception) {\n        System.out.println(exception);\n    }\n} else {\n    System.out.println(\"Source directory/Folder \" + source + \" is empty.\");\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409436109,"creation_date":1409436109,"answer_id":25587126,"question_id":25587106,"body_markdown":"It is `-Xmx4g`, without a space in between.","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>It is <code>-Xmx4g</code>, without a space in between.</p>\n"},{"tags":[],"owner":{"account_id":472197,"reputation":84,"user_id":880527,"display_name":"msduk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409445325,"creation_date":1409445325,"answer_id":25587966,"question_id":25587106,"body_markdown":"-Xmx4g (with no space, as has been pointed out already) will only set a maxium for the heap size not automatically assign the full amount on startup.\r\n\r\n-Xms4g may well do this, as this sets the initial heap size.\r\n\r\nTypically people set these as a pair on app startup. For example when launching servers using classes that generate a lot of runtime-generated classes...\r\n\r\n-Xms256m -Xmx2048m -XX:MaxPermSize=256m\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>-Xmx4g (with no space, as has been pointed out already) will only set a maxium for the heap size not automatically assign the full amount on startup.</p>\n\n<p>-Xms4g may well do this, as this sets the initial heap size.</p>\n\n<p>Typically people set these as a pair on app startup. For example when launching servers using classes that generate a lot of runtime-generated classes...</p>\n\n<p>-Xms256m -Xmx2048m -XX:MaxPermSize=256m</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1409446733,"creation_date":1409446733,"answer_id":25588080,"question_id":25587106,"body_markdown":"Tell us your whole command line, I suspect you use:\r\n\r\n    java -jar file.jar -Xmx 4G\r\n\r\nor\r\n\r\n    java -cp file.jar package.Main -Xmx 4G\r\n\r\nBoth are wrong, you can use one of the following instead:\r\n\r\n    java -Xmx4G -jar file.jar\r\n    java -Xmx4G -cp file.jar package.Main\r\n\r\n","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>Tell us your whole command line, I suspect you use:</p>\n\n<pre><code>java -jar file.jar -Xmx 4G\n</code></pre>\n\n<p>or</p>\n\n<pre><code>java -cp file.jar package.Main -Xmx 4G\n</code></pre>\n\n<p>Both are wrong, you can use one of the following instead:</p>\n\n<pre><code>java -Xmx4G -jar file.jar\njava -Xmx4G -cp file.jar package.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665894630,"creation_date":1409455179,"answer_id":25588664,"question_id":25587106,"body_markdown":"The `-Xmx` option sets the *maximum* size of the heap.  But the JVM typically starts with a smaller heap, and expands it as required.\r\n\r\nTo tell the JVM the initial size of the heap, use the `-Xms` option as well; e.g.\r\n\r\n       java -Xmx4g -Xms4g ...\r\n\r\ntells Java to us a 4g heap, and set that size from the start.  Note that this doesn&#39;t necessarily cause all of that physical / virtual memory to be allocated to the process immediately.  However the heap&#39;s space sizes should be set in proportion to the nominal initial size.\r\n\r\n(As others have noted, these are atomic options; i.e. don&#39;t put a space before `4g`.)\r\n\r\n-------------\r\n\r\nIf you *know* that you will need a large part of the requested heap &quot;pretty soon&quot;, then setting `-Xms` avoids (repeated) resizing of the heap during start-up.  But if your `-Xms` value is significantly more than you are likely to need, then you may end up using system resources unnecessarily.","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>The <code>-Xmx</code> option sets the <em>maximum</em> size of the heap.  But the JVM typically starts with a smaller heap, and expands it as required.</p>\n<p>To tell the JVM the initial size of the heap, use the <code>-Xms</code> option as well; e.g.</p>\n<pre><code>   java -Xmx4g -Xms4g ...\n</code></pre>\n<p>tells Java to us a 4g heap, and set that size from the start.  Note that this doesn't necessarily cause all of that physical / virtual memory to be allocated to the process immediately.  However the heap's space sizes should be set in proportion to the nominal initial size.</p>\n<p>(As others have noted, these are atomic options; i.e. don't put a space before <code>4g</code>.)</p>\n<hr />\n<p>If you <em>know</em> that you will need a large part of the requested heap &quot;pretty soon&quot;, then setting <code>-Xms</code> avoids (repeated) resizing of the heap during start-up.  But if your <code>-Xms</code> value is significantly more than you are likely to need, then you may end up using system resources unnecessarily.</p>\n"}],"owner":{"account_id":4761053,"reputation":43,"user_id":3993643,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17555,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1665894630,"creation_date":1409435997,"question_id":25587106,"body_markdown":"I am doing some fancy stuff, where I really need to allocate about 1 GB. \r\n\r\nMy Computer has 8GB 64 bit System, so that&#39;s not a problem. \r\n\r\nI use `-Xmx 4g` to increase my heap space, but sadly enough that doesn&#39;t work at all.\r\n\r\nI use:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    long totalMem = rt.totalMemory();\r\n    long maxMem = rt.maxMemory();\r\n    long freeMem = rt.freeMemory();\r\n    double megs = 1048576.0;\r\n    \r\n    System.out.println (&quot;Total Memory: &quot; + totalMem + &quot; (&quot; + (totalMem/megs) + &quot; MiB)&quot;);\r\n    System.out.println (&quot;Max Memory:   &quot; + maxMem + &quot; (&quot; + (maxMem/megs) + &quot; MiB)&quot;);\r\n    System.out.println (&quot;Free Memory:  &quot; + freeMem + &quot; (&quot; + (freeMem/megs) + &quot; MiB)&quot;);\r\n\r\nWhich shows me:\r\n\r\n    Total Memory: 259522560 (247.5 MiB\r\n    Max Memory:   259522560 (247.5 MiB)\r\n    Free Memory:  0 (0 MiB)\r\n\r\nI really don&#39;t know what I am doing wrong. Does anyone of you have an idea?\r\n\r\nThanks a lot!\r\n","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>I am doing some fancy stuff, where I really need to allocate about 1 GB. </p>\n\n<p>My Computer has 8GB 64 bit System, so that's not a problem. </p>\n\n<p>I use <code>-Xmx 4g</code> to increase my heap space, but sadly enough that doesn't work at all.</p>\n\n<p>I use:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nlong totalMem = rt.totalMemory();\nlong maxMem = rt.maxMemory();\nlong freeMem = rt.freeMemory();\ndouble megs = 1048576.0;\n\nSystem.out.println (\"Total Memory: \" + totalMem + \" (\" + (totalMem/megs) + \" MiB)\");\nSystem.out.println (\"Max Memory:   \" + maxMem + \" (\" + (maxMem/megs) + \" MiB)\");\nSystem.out.println (\"Free Memory:  \" + freeMem + \" (\" + (freeMem/megs) + \" MiB)\");\n</code></pre>\n\n<p>Which shows me:</p>\n\n<pre><code>Total Memory: 259522560 (247.5 MiB\nMax Memory:   259522560 (247.5 MiB)\nFree Memory:  0 (0 MiB)\n</code></pre>\n\n<p>I really don't know what I am doing wrong. Does anyone of you have an idea?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665803966,"post_id":74076015,"comment_id":130789732,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26627531,"reputation":11,"user_id":20245288,"display_name":"Edjoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665893479,"creation_date":1665893479,"answer_id":74084557,"question_id":74076015,"body_markdown":"My god I&#39;ve done it. Somehow through use of collecting my thoughts on this post and a combination of the methods below I got it to deploy. Specifically, I added these following two dependencies to my pom.xml: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs well as editing my application.properties as so:\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS/sparks\r\nspring.datasource.username=root\r\nspring.datasource.password=******\r\nspring.cloud.gcp.project-id=PROJECT_ID_FROM_GCP_PROJECT\r\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\nspring.cloud.gcp.sql.instance-connection-name=CONNECTION_NAME_FROM_GCP_DATABASE\r\nspring.cloud.gcp.sql.database-name=sparks\r\nspring.cloud.gcp.logging.enabled=true\r\nspring.sql.init.mode=always\r\n```\r\nThis is what let the gcloud app deploy work. I hope that somehow my ramblings help someone as dumb and inept as myself deploy their spring app to GCP and properly detect their database.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Madk8.png","title":"&quot;Unable to detect database type&quot; error when deploying Spring Boot project to GCP","body":"<p>My god I've done it. Somehow through use of collecting my thoughts on this post and a combination of the methods below I got it to deploy. Specifically, I added these following two dependencies to my pom.xml:</p>\n<p><a href=\"https://i.stack.imgur.com/Madk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Madk8.png\" alt=\"enter image description here\" /></a></p>\n<p>As well as editing my application.properties as so:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS/sparks\nspring.datasource.username=root\nspring.datasource.password=******\nspring.cloud.gcp.project-id=PROJECT_ID_FROM_GCP_PROJECT\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.cloud.gcp.sql.instance-connection-name=CONNECTION_NAME_FROM_GCP_DATABASE\nspring.cloud.gcp.sql.database-name=sparks\nspring.cloud.gcp.logging.enabled=true\nspring.sql.init.mode=always\n</code></pre>\n<p>This is what let the gcloud app deploy work. I hope that somehow my ramblings help someone as dumb and inept as myself deploy their spring app to GCP and properly detect their database.</p>\n"}],"owner":{"account_id":26627531,"reputation":11,"user_id":20245288,"display_name":"Edjoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74084557,"answer_count":1,"score":1,"last_activity_date":1665893508,"creation_date":1665796316,"question_id":74076015,"body_markdown":"I am currently trying to deploy my Spring Boot app to GCP, however I receive an unable to detect database type error upon doing so. \r\nThe process for deploying is as follows, I am using the Google Cloud SDK shell and deploying with the command: &quot;gcloud app deploy&quot;. The GCP project I am deploying to already contains the MySql database instance. Note that running the Spring Boot app locally and connecting to the GCP database works fine, but actually deploying the app to GCP causes some errors.\r\n\r\nFor context, here are my applications.properties and pom.xml files.\r\n\r\napplication.properties:\r\n\r\n```\r\n#spring.cloud.gcp.sql.enabled=false\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS_FOR_GCP_DATABASE/sparks\r\nspring.datasource.username=root\r\nspring.datasource.password=******\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sparks&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sparks&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n \t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20180130&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;  \r\n\t\t\t&lt;groupId&gt;org.javatuples&lt;/groupId&gt;  \r\n\t\t\t&lt;artifactId&gt;javatuples&lt;/artifactId&gt;  \r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;  \r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nFirst line of error logs:\r\n\r\n\r\n```\r\n2022-10-14 05:59:51 default[20221014t015109]  2022-10-14 05:59:51.808 ERROR 11 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. \r\nException: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: \r\nError creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \r\nUnsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.session.JdbcSessionConfiguration$SpringBootJdbcHttpSessionConfiguration&#39;: \r\nUnsatisfied dependency expressed through method &#39;setTransactionManager&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;transactionManager&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: \r\nInitialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jdbcSessionDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/JdbcSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [org.springframework.boot.autoconfigure.session.JdbcSessionDataSourceScriptDatabaseInitializer]: \r\nFactory method &#39;jdbcSessionDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n```\r\n\r\nError Logs in Full:\r\n\r\n[Logs](https://gist.github.com/Ed-joe/e7c1586d23a1af93c36fabb23adb29b9)\r\n\r\nAs for what I have already tried:\r\n\r\nI read on [this](https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/sql.html) page that spring.datasource.url will be ignored unless I use &quot;spring.cloud.gcp.sql.enabled=false&quot;, however this solution seemed to have no effect. I have the commented out line in my application.properties and dependency at the bottom of the pom.xml.\r\n\r\nI have tried using cloud run with this [tutorial](https://cloud.google.com/sql/docs/mysql/connect-instance-cloud-run) and the error messages turned out the same. My thought process behind using this method was that somehow the server did not have access being deployed on the gcp project as opposed to my local computer, which I have as an approved ip address on the mysql gcp instance.\r\n\r\nI have tried using a few different variations of the applications.properties file as described [here](https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#4), however this only seemed to cause more issues.\r\n\r\nI am new to GCP and Spring boot, and this is my first time posting on stack overflow. Any advice is appreciated both on my posts quality and how I might fix this issue. I would sincerely appreciate any and all feedback, and I thank anyone who takes the time to read my post. Additionally, if anymore information would help for the resolution of my post I would gladly provide it, so please let me know feedback in that area as well.\r\n\r\nThank you for your time.\r\n\r\nEDIT:\r\nAs per the comment below, I want to clarify that I believe I am missing a dependency of some kind or that my application.properties needs additional information in order to work on GCP, and so I am looking if anyone has advice of things to add or change in this regard.  I also want to reiterate that my app works with the GCP database I have setup when I run the server locally with the current pom.xml and application.properties.\r\n\r\nEDIT #2: After some more investigation I believe that for some reason connecting to the sql gcp server with the spring.datasource.url is somehow different and is the cause of this issue. [This](https://stackoverflow.com/questions/64544191/google-cloud-platform-spring-boot-application-connection-issues-with-mysql-on) post seems too have a similar issue with a solution although it doesn&#39;t seem to have solved my problem or I am just replicating the change incorrectly.","title":"&quot;Unable to detect database type&quot; error when deploying Spring Boot project to GCP","body":"<p>I am currently trying to deploy my Spring Boot app to GCP, however I receive an unable to detect database type error upon doing so.\nThe process for deploying is as follows, I am using the Google Cloud SDK shell and deploying with the command: &quot;gcloud app deploy&quot;. The GCP project I am deploying to already contains the MySql database instance. Note that running the Spring Boot app locally and connecting to the GCP database works fine, but actually deploying the app to GCP causes some errors.</p>\n<p>For context, here are my applications.properties and pom.xml files.</p>\n<p>application.properties:</p>\n<pre><code>#spring.cloud.gcp.sql.enabled=false\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS_FOR_GCP_DATABASE/sparks\nspring.datasource.username=root\nspring.datasource.password=******\nspring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sparks&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sparks&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.javatuples&lt;/groupId&gt;  \n            &lt;artifactId&gt;javatuples&lt;/artifactId&gt;  \n            &lt;version&gt;1.2&lt;/version&gt;  \n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>First line of error logs:</p>\n<pre><code>2022-10-14 05:59:51 default[20221014t015109]  2022-10-14 05:59:51.808 ERROR 11 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. \nException: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: \nError creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \nUnsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.session.JdbcSessionConfiguration$SpringBootJdbcHttpSessionConfiguration': \nUnsatisfied dependency expressed through method 'setTransactionManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'transactionManager' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: \nInitialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdbcSessionDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/session/JdbcSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \nFailed to instantiate [org.springframework.boot.autoconfigure.session.JdbcSessionDataSourceScriptDatabaseInitializer]: \nFactory method 'jdbcSessionDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\n</code></pre>\n<p>Error Logs in Full:</p>\n<p><a href=\"https://gist.github.com/Ed-joe/e7c1586d23a1af93c36fabb23adb29b9\" rel=\"nofollow noreferrer\">Logs</a></p>\n<p>As for what I have already tried:</p>\n<p>I read on <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/sql.html\" rel=\"nofollow noreferrer\">this</a> page that spring.datasource.url will be ignored unless I use &quot;spring.cloud.gcp.sql.enabled=false&quot;, however this solution seemed to have no effect. I have the commented out line in my application.properties and dependency at the bottom of the pom.xml.</p>\n<p>I have tried using cloud run with this <a href=\"https://cloud.google.com/sql/docs/mysql/connect-instance-cloud-run\" rel=\"nofollow noreferrer\">tutorial</a> and the error messages turned out the same. My thought process behind using this method was that somehow the server did not have access being deployed on the gcp project as opposed to my local computer, which I have as an approved ip address on the mysql gcp instance.</p>\n<p>I have tried using a few different variations of the applications.properties file as described <a href=\"https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#4\" rel=\"nofollow noreferrer\">here</a>, however this only seemed to cause more issues.</p>\n<p>I am new to GCP and Spring boot, and this is my first time posting on stack overflow. Any advice is appreciated both on my posts quality and how I might fix this issue. I would sincerely appreciate any and all feedback, and I thank anyone who takes the time to read my post. Additionally, if anymore information would help for the resolution of my post I would gladly provide it, so please let me know feedback in that area as well.</p>\n<p>Thank you for your time.</p>\n<p>EDIT:\nAs per the comment below, I want to clarify that I believe I am missing a dependency of some kind or that my application.properties needs additional information in order to work on GCP, and so I am looking if anyone has advice of things to add or change in this regard.  I also want to reiterate that my app works with the GCP database I have setup when I run the server locally with the current pom.xml and application.properties.</p>\n<p>EDIT #2: After some more investigation I believe that for some reason connecting to the sql gcp server with the spring.datasource.url is somehow different and is the cause of this issue. <a href=\"https://stackoverflow.com/questions/64544191/google-cloud-platform-spring-boot-application-connection-issues-with-mysql-on\">This</a> post seems too have a similar issue with a solution although it doesn't seem to have solved my problem or I am just replicating the change incorrectly.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":2,"creation_date":1399449176,"post_id":23511877,"comment_id":36060842,"body_markdown":"I&#39;ve never done anything graphical in java, but it seems like [JTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html) doesn&#39;t have a method called `length`, just like the error said. You should learn how to utilize the documentation.","body":"I&#39;ve never done anything graphical in java, but it seems like <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">JTextField</a> doesn&#39;t have a method called <code>length</code>, just like the error said. You should learn how to utilize the documentation."},{"owner":{"account_id":4231838,"reputation":37,"user_id":3528319,"accept_rate":75,"display_name":"user5000"},"score":0,"creation_date":1399449630,"post_id":23511877,"comment_id":36061082,"body_markdown":"thanks i use int length = txtInput.getText().length(); it worked","body":"thanks i use int length = txtInput.getText().length(); it worked"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449187,"creation_date":1399449187,"answer_id":23511944,"question_id":23511877,"body_markdown":"Use `int length = txtInput.getText().length();`\r\n\r\nWhen in doubt, read the [API Documentation](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html)","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Use <code>int length = txtInput.getText().length();</code></p>\n\n<p>When in doubt, read the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow\">API Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449197,"creation_date":1399449197,"answer_id":23511946,"question_id":23511877,"body_markdown":"The field you reference (`txtInput`) is a `JTextField`, which has no method `length()` - it&#39;s an on-screen widdget, what do you expect?\r\n\r\nIt looks like you want to get its text...","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>The field you reference (<code>txtInput</code>) is a <code>JTextField</code>, which has no method <code>length()</code> - it's an on-screen widdget, what do you expect?</p>\n\n<p>It looks like you want to get its text...</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399449199,"creation_date":1399449199,"answer_id":23511948,"question_id":23511877,"body_markdown":"You want to do:\r\n\r\n    int length = txtInput.getText().length();\r\n\r\nWhen you have problem like that, the best thing you can do is visit the docs, see [`JTextField`][1] and you&#39;ll conclude that there is no such a method `length()` that can be applied on *object* of type `JTextField`.\r\n\r\nBut you&#39;ll notice that there exists a method called [`getText()`][2] that gets the text in the component, it returns a `String`, then you can have the known [`length()`][3] method for `String`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>You want to do:</p>\n\n<pre><code>int length = txtInput.getText().length();\n</code></pre>\n\n<p>When you have problem like that, the best thing you can do is visit the docs, see <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow\"><code>JTextField</code></a> and you'll conclude that there is no such a method <code>length()</code> that can be applied on <em>object</em> of type <code>JTextField</code>.</p>\n\n<p>But you'll notice that there exists a method called <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\" rel=\"nofollow\"><code>getText()</code></a> that gets the text in the component, it returns a <code>String</code>, then you can have the known <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29\" rel=\"nofollow\"><code>length()</code></a> method for <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449207,"creation_date":1399449207,"answer_id":23511952,"question_id":23511877,"body_markdown":"Try this instead: `txtInput.getText().length()`\r\n\r\n\r\n\r\n","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Try this instead: <code>txtInput.getText().length()</code></p>\n"},{"tags":[],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449360,"creation_date":1399449360,"answer_id":23511988,"question_id":23511877,"body_markdown":"Do it as follows\r\n\r\n    int length = txtInput.getText().length();","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Do it as follows</p>\n\n<pre><code>int length = txtInput.getText().length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305567,"reputation":1651,"user_id":2024925,"accept_rate":47,"display_name":"vITs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449537,"creation_date":1399449537,"answer_id":23512042,"question_id":23511877,"body_markdown":"You cannot calculate length on JTextField\r\ninstead use getText on JTextField,then calculate length.","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>You cannot calculate length on JTextField\ninstead use getText on JTextField,then calculate length.</p>\n"},{"tags":[],"owner":{"account_id":3461491,"reputation":41,"user_id":2898449,"display_name":"oluwaremieo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665891977,"creation_date":1400534849,"answer_id":23747504,"question_id":23511877,"body_markdown":"Use `int length = txtInput.getText().length()`\r\n\r\n\r\n`txtInput.getText()` returns a string and you can call the `length()` method to determine the length.\r\n","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Use <code>int length = txtInput.getText().length()</code></p>\n<p><code>txtInput.getText()</code> returns a string and you can call the <code>length()</code> method to determine the length.</p>\n"}],"owner":{"account_id":4231838,"reputation":37,"user_id":3528319,"accept_rate":75,"display_name":"user5000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23511948,"answer_count":7,"score":1,"last_activity_date":1665891977,"creation_date":1399449010,"question_id":23511877,"body_markdown":"I want to create a `PaliodromeChecker` but there is an error on\r\n\r\n    int length = txtInput.length(); \r\n\r\nIn `public void actionPerformed(ActionEvent e)`. The error is \r\n\r\n&gt; cannot find symbol - method length()\r\n\r\nDid I do any wrong with code?\r\n\r\n\r\n\r\n    public class checker extends JFrame implements ActionListener {\r\n\r\n    private JButton btnCheck;\r\n    private JLabel lblInput, lblOutput;\r\n    private JTextField txtInput;\r\n\r\n    public Q4() {\r\n        Container c = getContentPane();\r\n        c.setLayout(new GridLayout(3,1));\r\n        JPanel p1 = new JPanel();\r\n        JPanel p2 = new JPanel();\r\n        JPanel p3 = new JPanel();\r\n        lblInput = new JLabel(&quot;Enter a word:&quot;);\r\n        lblOutput = new JLabel(&quot;Welcome to check palindrome&quot;);\r\n        btnCheck = new JButton(&quot;Check Palindrome&quot;);\r\n        \r\n        txtInput = new JTextField(15);\r\n        p1.add(lblInput);\r\n        p1.add(txtInput);\r\n        p2.add(btnCheck);\r\n        p3.add(lblOutput);\r\n        c.add(p1);\r\n        c.add(p2);\r\n        c.add(p3);\r\n        btnCheck.addActionListener(this);\r\n         \r\n    }\r\n    \r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n       int length = txtInput.length();\r\n        String reverse = &quot;&quot;; \r\n         for ( int i = length - 1 ; i &gt;= 0 ; i-- )\r\n         reverse = reverse + txtInput.charAt(i); \r\n         \r\n        if(txtInput.equals(reverse))\r\n         lblOutput.setText(txtInput.getText() + &quot;is paliodrome&quot;);\r\n         else\r\n          lblOutput.setText(txtInput.getText() + &quot;is not paliodrome&quot;);\r\n        }\r\n    \r\n    \r\n    public static void main(String[] args){\r\n        Q4 myGUI = new Q4();\r\n        myGUI.setTitle(&quot;PaliodromeChecker&quot;);\r\n        myGUI.setSize(350,150);\r\n        myGUI.setVisible(true);\r\n    }","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>I want to create a <code>PaliodromeChecker</code> but there is an error on</p>\n\n<pre><code>int length = txtInput.length(); \n</code></pre>\n\n<p>In <code>public void actionPerformed(ActionEvent e)</code>. The error is </p>\n\n<blockquote>\n  <p>cannot find symbol - method length()</p>\n</blockquote>\n\n<p>Did I do any wrong with code?</p>\n\n<pre><code>public class checker extends JFrame implements ActionListener {\n\nprivate JButton btnCheck;\nprivate JLabel lblInput, lblOutput;\nprivate JTextField txtInput;\n\npublic Q4() {\n    Container c = getContentPane();\n    c.setLayout(new GridLayout(3,1));\n    JPanel p1 = new JPanel();\n    JPanel p2 = new JPanel();\n    JPanel p3 = new JPanel();\n    lblInput = new JLabel(\"Enter a word:\");\n    lblOutput = new JLabel(\"Welcome to check palindrome\");\n    btnCheck = new JButton(\"Check Palindrome\");\n\n    txtInput = new JTextField(15);\n    p1.add(lblInput);\n    p1.add(txtInput);\n    p2.add(btnCheck);\n    p3.add(lblOutput);\n    c.add(p1);\n    c.add(p2);\n    c.add(p3);\n    btnCheck.addActionListener(this);\n\n}\n\n\n    public void actionPerformed(ActionEvent e){\n   int length = txtInput.length();\n    String reverse = \"\"; \n     for ( int i = length - 1 ; i &gt;= 0 ; i-- )\n     reverse = reverse + txtInput.charAt(i); \n\n    if(txtInput.equals(reverse))\n     lblOutput.setText(txtInput.getText() + \"is paliodrome\");\n     else\n      lblOutput.setText(txtInput.getText() + \"is not paliodrome\");\n    }\n\n\npublic static void main(String[] args){\n    Q4 myGUI = new Q4();\n    myGUI.setTitle(\"PaliodromeChecker\");\n    myGUI.setSize(350,150);\n    myGUI.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","testng"],"answers":[{"tags":[],"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665890645,"creation_date":1665890645,"answer_id":74084390,"question_id":74080639,"body_markdown":"If you need to run a method after each `Test` method is executed, You have to give the `AfterMethod` annotation to instead of `AfterTest` annotation.\r\n\r\nCheck [TestNG annotation hierarchy][1]\r\n\r\n\r\n\r\n    package testcases;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import functions.LoginPageFunctions;\r\n    import resources.BaseClass;\r\n    \r\n    public class LoginPageTests extends BaseClass {\r\n        public WebDriver driver;\r\n    \r\n        @BeforeMethod\r\n        public void initialize() {\r\n        }\r\n    \r\n        @Test(priority=0)\r\n        public void checkLoginSuccessful() {\r\n        }\r\n    \r\n        @Test(priority=1)\r\n        public void checkLoginUnsuccessful() {\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void teardown() {\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.toolsqa.com/testng/testng-annotations/","title":"TestNG AfterMethod does not works as expected","body":"<p>If you need to run a method after each <code>Test</code> method is executed, You have to give the <code>AfterMethod</code> annotation to instead of <code>AfterTest</code> annotation.</p>\n<p>Check <a href=\"https://www.toolsqa.com/testng/testng-annotations/\" rel=\"nofollow noreferrer\">TestNG annotation hierarchy</a></p>\n<pre><code>package testcases;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.Assert;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport functions.LoginPageFunctions;\nimport resources.BaseClass;\n\npublic class LoginPageTests extends BaseClass {\n    public WebDriver driver;\n\n    @BeforeMethod\n    public void initialize() {\n    }\n\n    @Test(priority=0)\n    public void checkLoginSuccessful() {\n    }\n\n    @Test(priority=1)\n    public void checkLoginUnsuccessful() {\n    }\n\n    @AfterMethod\n    public void teardown() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6783365,"reputation":5546,"user_id":5222902,"accept_rate":100,"display_name":"AVI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74084390,"answer_count":1,"score":0,"last_activity_date":1665890645,"creation_date":1665846766,"question_id":74080639,"body_markdown":"Im creating a Selenium POM based framework from the scratch where i define Pages,Pages related functions, Tests in three different packages. \r\n\r\nWith in Tests defined class, I&#39;m writing multiple test cases. So After i run a test class once, i&#39;m hoping it would execute `@AfterTest` every time after a `@Test` method finishes its execution. But its not happening as expected.\r\n\r\nLoginPageTests.java in testcases package\r\n\r\n    package testcases;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import functions.LoginPageFunctions;\r\n    import resources.BaseClass;\r\n    \r\n    public class LoginPageTests extends BaseClass {\r\n     public WebDriver driver;\r\n    \t\r\n    \t@BeforeTest\r\n    \tpublic void initialize() {\r\n    \t\tdriver = initializeDriver();\t\t\r\n    \t}\r\n    \t\r\n    \t@Test(priority=0)\r\n    \tpublic void checkLoginSuccessful() {\r\n    \t\tLoginPageFunctions lpf = new LoginPageFunctions(driver);\r\n    \t\tlpf.loginToPortal();\r\n    \t\tString logoutText = lpf.locateLogoutBtn();\r\n    \t\tString expectedText = &quot;Logout&quot;;\r\n    \t\t\r\n    \t\tAssert.assertEquals(expectedText,logoutText);\r\n    \t}\r\n    \t\r\n    \t@Test(priority=1)\r\n    \tpublic void checkLoginUnsuccessful() {\r\n    \t\tLoginPageFunctions lpf = new LoginPageFunctions(driver);\r\n    \t\tlpf.loginWithInvalidData();\r\n    \t\tString incorrectText = &quot;Invalid credentials&quot;;\r\n    \t\tString expectedIncorrectText = lpf.locateInvalidLoginButton();\r\n    \t\t\r\n    \t\tAssert.assertEquals(expectedIncorrectText,incorrectText);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@AfterTest\r\n    \tpublic void teardown() {\r\n    \t\tdriver.close();\r\n    \t\tSystem.out.println(&quot;You have closed the broswer&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nLoginPageFunctions.java in Functions package\r\n\r\n    package functions;\r\n    import org.openqa.selenium.WebDriver;\r\n    import pages.LoginPage;\r\n    \r\n    public class LoginPageFunctions {\r\n      \r\n      WebDriver driver;\r\n      LoginPage lp ;\r\n      \r\n      public LoginPageFunctions(WebDriver driver) {\r\n    \t  this.driver = driver;\r\n      }\r\n      \r\n      public void loginToPortal() {\r\n          lp= new LoginPage(driver);\r\n    \t  lp.enterUsername();\r\n    \t  lp.enterPassword();\r\n    \t  lp.clickSubmitBtn();\r\n      }\r\n      \r\n      public String locateLogoutBtn() {\r\n    \t  lp= new LoginPage(driver);\r\n    \t  lp.clickUserSettingsBtn();\r\n    \t  return lp.locateLogOutBtn();\r\n      }\r\n      \r\n      public void loginWithInvalidData() {\r\n    \t  lp = new LoginPage(driver);\r\n    \t  lp.enterUsername();\r\n    \t  lp.enterInvalidPassword();\r\n    \t  lp.clickSubmitBtn();\r\n      }\r\n      \r\n      public String locateInvalidLoginButton() {\r\n    \t  return lp.locateInvalidLoginText();\r\n      }\r\n      \r\n    }\r\n\r\n\r\nLoginPage.java in pages package\r\n\r\n    package pages;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    \r\n    public class LoginPage {\t\r\n    \t\t\r\n    \tBy txt_username = By.name(&quot;username&quot;);\r\n    \tBy txt_password = By.name(&quot;password&quot;);\r\n    \tBy btn_submit = By.xpath(&quot;//button[1]&quot;);\r\n    \tBy btn_userSettings = By.xpath(&quot;//p[text()=&#39;Paul Collings&#39;]&quot;);\r\n    \tBy btn_logout = By.xpath(&quot;//a[text()=&#39;Logout&#39;]&quot;);\r\n    \tBy txt_invalidtxt = By.xpath(&quot;//p[text()=&#39;Invalid credentials&#39;]&quot;);\r\n    \t\r\n    \t\r\n    \tpublic WebDriver driver;\r\n    \t\r\n    \tpublic LoginPage(WebDriver driver) {\r\n    \t\tthis.driver = driver;\r\n    \t}\r\n    \t\r\n    \t  public void enterUsername() {\r\n    \t\t   driver.findElement(txt_username).sendKeys(&quot;Admin&quot;);\r\n    \t\t   System.out.println(&quot;Entered Username&quot;);\r\n    \t   }\r\n    \t  \r\n    \t  public void enterPassword() {\r\n    \t\t  driver.findElement(txt_password).sendKeys(&quot;admin123&quot;);\r\n    \t\t  System.out.println(&quot;Entered Password&quot;);\r\n    \t  }\r\n    \t  \r\n    \t  public void clickSubmitBtn() {\r\n    \t\t  driver.findElement(btn_submit).click();\r\n    \t\t  System.out.println(&quot;Clicked Submit button&quot;);\r\n    \t  }\r\n    \t  \r\n    \t  //We are using this to validate whether user is logged in\r\n    \t  public void clickUserSettingsBtn() {\r\n    \t\t  driver.findElement(btn_userSettings).click();\r\n    \t  }\r\n    \t  \r\n    \t  //We are using this to validate whether user is logged in\r\n    \t  public String locateLogOutBtn() {\r\n    \t\t String logoutText= driver.findElement(btn_logout).getText();\r\n    \t\t return logoutText;\r\n    \t  }\r\n    \t  \r\n    \t  \r\n    \t  public String locateInvalidLoginText() {\r\n    \t\t  String invalidText = driver.findElement(txt_invalidtxt).getText();\r\n    \t\t  return invalidText;\r\n    \t  }\r\n    \t  \r\n    \t  public void enterInvalidPassword() {\r\n    \t\t  driver.findElement(txt_password).sendKeys(&quot;xxx123&quot;);\r\n    \t\t  System.out.println(&quot;Entered Password&quot;);\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\nBase.java in resources package\r\n\r\n    package resources;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class BaseClass {\r\n    WebDriver driver;\r\n    String url = &quot;https://opensource-demo.orangehrmlive.com/web/auth/login&quot;;\r\n    \r\n    public WebDriver initializeDriver() {\r\n    \tWebDriverManager.chromedriver().setup();\t\t\r\n    \tdriver = new ChromeDriver();\r\n    \tdriver.navigate().to(url);\r\n    \tdriver.manage().window().maximize();\r\n    \tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n    \treturn driver;\r\n      }\r\n    }\r\n\r\nIf i run individual test cases, it gets passed. If i run all in LoginPageTests class, one gets passed, other will get failed. How to use `@Test` and `@AfterTest` affectively.\r\n","title":"TestNG AfterMethod does not works as expected","body":"<p>Im creating a Selenium POM based framework from the scratch where i define Pages,Pages related functions, Tests in three different packages.</p>\n<p>With in Tests defined class, I'm writing multiple test cases. So After i run a test class once, i'm hoping it would execute <code>@AfterTest</code> every time after a <code>@Test</code> method finishes its execution. But its not happening as expected.</p>\n<p>LoginPageTests.java in testcases package</p>\n<pre><code>package testcases;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.Assert;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport functions.LoginPageFunctions;\nimport resources.BaseClass;\n\npublic class LoginPageTests extends BaseClass {\n public WebDriver driver;\n    \n    @BeforeTest\n    public void initialize() {\n        driver = initializeDriver();        \n    }\n    \n    @Test(priority=0)\n    public void checkLoginSuccessful() {\n        LoginPageFunctions lpf = new LoginPageFunctions(driver);\n        lpf.loginToPortal();\n        String logoutText = lpf.locateLogoutBtn();\n        String expectedText = &quot;Logout&quot;;\n        \n        Assert.assertEquals(expectedText,logoutText);\n    }\n    \n    @Test(priority=1)\n    public void checkLoginUnsuccessful() {\n        LoginPageFunctions lpf = new LoginPageFunctions(driver);\n        lpf.loginWithInvalidData();\n        String incorrectText = &quot;Invalid credentials&quot;;\n        String expectedIncorrectText = lpf.locateInvalidLoginButton();\n        \n        Assert.assertEquals(expectedIncorrectText,incorrectText);\n        \n    }\n    \n    \n    @AfterTest\n    public void teardown() {\n        driver.close();\n        System.out.println(&quot;You have closed the broswer&quot;);\n    }\n    \n}\n</code></pre>\n<p>LoginPageFunctions.java in Functions package</p>\n<pre><code>package functions;\nimport org.openqa.selenium.WebDriver;\nimport pages.LoginPage;\n\npublic class LoginPageFunctions {\n  \n  WebDriver driver;\n  LoginPage lp ;\n  \n  public LoginPageFunctions(WebDriver driver) {\n      this.driver = driver;\n  }\n  \n  public void loginToPortal() {\n      lp= new LoginPage(driver);\n      lp.enterUsername();\n      lp.enterPassword();\n      lp.clickSubmitBtn();\n  }\n  \n  public String locateLogoutBtn() {\n      lp= new LoginPage(driver);\n      lp.clickUserSettingsBtn();\n      return lp.locateLogOutBtn();\n  }\n  \n  public void loginWithInvalidData() {\n      lp = new LoginPage(driver);\n      lp.enterUsername();\n      lp.enterInvalidPassword();\n      lp.clickSubmitBtn();\n  }\n  \n  public String locateInvalidLoginButton() {\n      return lp.locateInvalidLoginText();\n  }\n  \n}\n</code></pre>\n<p>LoginPage.java in pages package</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class LoginPage {    \n        \n    By txt_username = By.name(&quot;username&quot;);\n    By txt_password = By.name(&quot;password&quot;);\n    By btn_submit = By.xpath(&quot;//button[1]&quot;);\n    By btn_userSettings = By.xpath(&quot;//p[text()='Paul Collings']&quot;);\n    By btn_logout = By.xpath(&quot;//a[text()='Logout']&quot;);\n    By txt_invalidtxt = By.xpath(&quot;//p[text()='Invalid credentials']&quot;);\n    \n    \n    public WebDriver driver;\n    \n    public LoginPage(WebDriver driver) {\n        this.driver = driver;\n    }\n    \n      public void enterUsername() {\n           driver.findElement(txt_username).sendKeys(&quot;Admin&quot;);\n           System.out.println(&quot;Entered Username&quot;);\n       }\n      \n      public void enterPassword() {\n          driver.findElement(txt_password).sendKeys(&quot;admin123&quot;);\n          System.out.println(&quot;Entered Password&quot;);\n      }\n      \n      public void clickSubmitBtn() {\n          driver.findElement(btn_submit).click();\n          System.out.println(&quot;Clicked Submit button&quot;);\n      }\n      \n      //We are using this to validate whether user is logged in\n      public void clickUserSettingsBtn() {\n          driver.findElement(btn_userSettings).click();\n      }\n      \n      //We are using this to validate whether user is logged in\n      public String locateLogOutBtn() {\n         String logoutText= driver.findElement(btn_logout).getText();\n         return logoutText;\n      }\n      \n      \n      public String locateInvalidLoginText() {\n          String invalidText = driver.findElement(txt_invalidtxt).getText();\n          return invalidText;\n      }\n      \n      public void enterInvalidPassword() {\n          driver.findElement(txt_password).sendKeys(&quot;xxx123&quot;);\n          System.out.println(&quot;Entered Password&quot;);\n      }\n\n}\n</code></pre>\n<p>Base.java in resources package</p>\n<pre><code>package resources;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class BaseClass {\nWebDriver driver;\nString url = &quot;https://opensource-demo.orangehrmlive.com/web/auth/login&quot;;\n\npublic WebDriver initializeDriver() {\n    WebDriverManager.chromedriver().setup();        \n    driver = new ChromeDriver();\n    driver.navigate().to(url);\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n    return driver;\n  }\n}\n</code></pre>\n<p>If i run individual test cases, it gets passed. If i run all in LoginPageTests class, one gets passed, other will get failed. How to use <code>@Test</code> and <code>@AfterTest</code> affectively.</p>\n"},{"tags":["java","css","javafx","fxml"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1566078106,"post_id":57537228,"comment_id":101544419,"body_markdown":"Unfortunately, the only styleable property of `ImageView`, other than those inherited from `Node`, is the `image` property (though it&#39;s a little more complicated than that internally). This means you can&#39;t set properties such as `fitWidth` via CSS. You also can&#39;t affect the `Image` itself via CSS as it&#39;s not even `Styleable`; on top of that, the requested width/height values are used during construction and don&#39;t change over time. I&#39;m afraid, outside of writing a wrapper class, you&#39;ll have to keep using FXML or Java to configure the size of the image.","body":"Unfortunately, the only styleable property of <code>ImageView</code>, other than those inherited from <code>Node</code>, is the <code>image</code> property (though it&#39;s a little more complicated than that internally). This means you can&#39;t set properties such as <code>fitWidth</code> via CSS. You also can&#39;t affect the <code>Image</code> itself via CSS as it&#39;s not even <code>Styleable</code>; on top of that, the requested width/height values are used during construction and don&#39;t change over time. I&#39;m afraid, outside of writing a wrapper class, you&#39;ll have to keep using FXML or Java to configure the size of the image."},{"owner":{"account_id":1277754,"reputation":366,"user_id":10639502,"display_name":"alehel"},"score":1,"creation_date":1566081677,"post_id":57537228,"comment_id":101545043,"body_markdown":"Well, at least I know not to waste any more time on it. Thanks.","body":"Well, at least I know not to waste any more time on it. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":18269280,"reputation":55,"user_id":13300361,"display_name":"Ultra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665890231,"creation_date":1665890231,"answer_id":74084366,"question_id":57537228,"body_markdown":"You can use:\r\n\r\n    -fx-scale-x: 1; &lt;!-- Range 1 = 100%&gt;\r\n    \r\n    -fx-scale-y: 0; &lt;!-- Range 0 = 0%&gt;\r\n\r\nImageView has all Node properties. https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node","title":"Image tag in FXML (JavaFX), how to set size using css?","body":"<p>You can use:</p>\n<pre><code>-fx-scale-x: 1; &lt;!-- Range 1 = 100%&gt;\n\n-fx-scale-y: 0; &lt;!-- Range 0 = 0%&gt;\n</code></pre>\n<p>ImageView has all Node properties. <a href=\"https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node</a></p>\n"}],"owner":{"account_id":1277754,"reputation":366,"user_id":10639502,"display_name":"alehel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665890231,"creation_date":1566052588,"question_id":57537228,"body_markdown":"I&#39;m learning to use CSS with FXML and I&#39;m having trouble setting the size of an Image. I have four images, and I want them all to be the same size. But I can&#39;t get the CSS to work. My FXML is as follows.\r\n```xml\r\n&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\r\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\r\n        &lt;Image url=&quot;@assets/settings.png&quot; /&gt;\r\n    &lt;/ImageView&gt;\r\n    &lt;Label text=&quot;%settings&quot; /&gt;\r\n&lt;/HBox&gt;\r\n```\r\nThe following is my CSS for the icon class.\r\n```css\r\n.icon {\r\n    -fx-pref-height: 20px;\r\n    -fx-pref-width: 20px;\r\n    -fx-max-width: 20px;\r\n    -fx-max-height: 20px;\r\n    -fx-min-width: 20px;\r\n    -fx-min-height: 20px;\r\n}\r\n```\r\nNothing actually happens. The size remains the same. If however, I add requestedHeight=&quot;20&quot; and requestedWidth=&quot;20&quot; on in the ImageView xml tag, the image resizes. \r\n```xml\r\n&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\r\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\r\n        &lt;Image url=&quot;@assets/settings.png&quot; requestedHeight=&quot;20&quot; requestedWidth=&quot;20&quot;/&gt;\r\n    &lt;/ImageView&gt;\r\n    &lt;Label text=&quot;%settings&quot; /&gt;\r\n&lt;/HBox&gt;\r\n```\r\nIs it not possible to achieve the same using css? I can&#39;t find any CSS tags relating to requestedWidth, and I&#39;m also not allowed to set a CSS class on the Image tag. Only the ImageView tag.","title":"Image tag in FXML (JavaFX), how to set size using css?","body":"<p>I'm learning to use CSS with FXML and I'm having trouble setting the size of an Image. I have four images, and I want them all to be the same size. But I can't get the CSS to work. My FXML is as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@assets/settings.png&quot; /&gt;\n    &lt;/ImageView&gt;\n    &lt;Label text=&quot;%settings&quot; /&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>The following is my CSS for the icon class.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.icon {\n    -fx-pref-height: 20px;\n    -fx-pref-width: 20px;\n    -fx-max-width: 20px;\n    -fx-max-height: 20px;\n    -fx-min-width: 20px;\n    -fx-min-height: 20px;\n}\n</code></pre>\n<p>Nothing actually happens. The size remains the same. If however, I add requestedHeight=&quot;20&quot; and requestedWidth=&quot;20&quot; on in the ImageView xml tag, the image resizes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@assets/settings.png&quot; requestedHeight=&quot;20&quot; requestedWidth=&quot;20&quot;/&gt;\n    &lt;/ImageView&gt;\n    &lt;Label text=&quot;%settings&quot; /&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>Is it not possible to achieve the same using css? I can't find any CSS tags relating to requestedWidth, and I'm also not allowed to set a CSS class on the Image tag. Only the ImageView tag.</p>\n"},{"tags":["java","rest","filter","jwt","secret-key"],"comments":[{"owner":{"account_id":25844643,"reputation":1,"user_id":19579687,"display_name":"Pablo Elia"},"score":1,"creation_date":1665753060,"post_id":74043873,"comment_id":130777694,"body_markdown":"I already solved the issue, the token I was passing through the HTTP request didn&#39;t had the &#39;Bearer&#39; in front of it so it wasn&#39;t being set as the Authorization header, the rest of the code works just fine","body":"I already solved the issue, the token I was passing through the HTTP request didn&#39;t had the &#39;Bearer&#39; in front of it so it wasn&#39;t being set as the Authorization header, the rest of the code works just fine"}],"owner":{"account_id":25844643,"reputation":1,"user_id":19579687,"display_name":"Pablo Elia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665889777,"creation_date":1665586080,"question_id":74043873,"body_markdown":"I am working in a REST endpoint and I&#39;m implementing JWT as a form to validate session and inativity. I generate a token with a short expire date and a refresh token with a longer one, to stay connected the user will update the token with the refresh token and keep connected. \r\nThe problem is, when the user logs in it generates both tokens with the same signature but when I was working at the request filter I can validate the token but the refresh token presents this exception: \r\n\r\n&gt; &quot;JWT signature does not match locally computed signature. JWT validity\r\n&gt; cannot be asserted and should not be trusted.&quot;\r\n\r\nThe code that generate both tokens is this:\r\n\r\n    public String generateToken(String usuario, String session, Date expiration, Map claims) throws NoSuchAlgorithmException{\r\n            \r\n            String secret = jpaService.getSecret();        \r\n            SecretKey secretKey = generateSecretKey(secret + session);\r\n            System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\r\n            String token = Jwts.builder()\r\n                    .setHeaderParam(Header.TYPE, Header.JWT_TYPE)\r\n                    .setSubject(usuario)\r\n                    .setClaims(claims)\r\n                    .setIssuer(uriInfo.getAbsolutePath().toString())\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(expiration) // Date.from(LocalDateTime.now().plusWeeks(1).atZone(ZoneId.systemDefault()).toInstant())\r\n                    .signWith(secretKey, SignatureAlgorithm.HS256)                \r\n                    .compact();\r\n            \r\n            return token;\r\n        }\r\n\r\nAs I said, the regular token can be read, but the refresh token can&#39;t. This is the code in the request filter that reads the token:\r\n\r\n    private void readToken(ContainerRequestContext requestContext, String secret, String session, String token, String message) {\r\n            try {\r\n                SecretKey secretKey = security.generateSecretKey(secret + session);\r\n                System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\r\n                Jws jws = Jwts.parserBuilder().setSigningKey(secretKey).build().parseClaimsJws(token);\r\n                System.out.println(&quot;jws&quot; + jws);\r\n                System.out.println(&quot;Body JWS: &quot; + jws.getBody());\r\n                \r\n            } catch (ExpiredJwtException | MalformedJwtException | UnsupportedJwtException | SignatureException | IllegalArgumentException | NoSuchAlgorithmException ex) {\r\n                System.out.println(&quot;EXCEPTION&quot; + ex);\r\n                JsonObject json = new JsonObject();\r\n                json.addProperty(&quot;serviceResponse&quot;, &quot;ERROR&quot;);\r\n                json.addProperty(&quot;message&quot;, message);\r\n                json.addProperty(&quot;exception&quot;, ex.getMessage());\r\n                requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(json.toString()).build());\r\n            }\r\n        }","title":"JWT signature does not match locally computed signature but signing key is the same as generated","body":"<p>I am working in a REST endpoint and I'm implementing JWT as a form to validate session and inativity. I generate a token with a short expire date and a refresh token with a longer one, to stay connected the user will update the token with the refresh token and keep connected.\nThe problem is, when the user logs in it generates both tokens with the same signature but when I was working at the request filter I can validate the token but the refresh token presents this exception:</p>\n<blockquote>\n<p>&quot;JWT signature does not match locally computed signature. JWT validity\ncannot be asserted and should not be trusted.&quot;</p>\n</blockquote>\n<p>The code that generate both tokens is this:</p>\n<pre><code>public String generateToken(String usuario, String session, Date expiration, Map claims) throws NoSuchAlgorithmException{\n        \n        String secret = jpaService.getSecret();        \n        SecretKey secretKey = generateSecretKey(secret + session);\n        System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\n        String token = Jwts.builder()\n                .setHeaderParam(Header.TYPE, Header.JWT_TYPE)\n                .setSubject(usuario)\n                .setClaims(claims)\n                .setIssuer(uriInfo.getAbsolutePath().toString())\n                .setIssuedAt(new Date())\n                .setExpiration(expiration) // Date.from(LocalDateTime.now().plusWeeks(1).atZone(ZoneId.systemDefault()).toInstant())\n                .signWith(secretKey, SignatureAlgorithm.HS256)                \n                .compact();\n        \n        return token;\n    }\n</code></pre>\n<p>As I said, the regular token can be read, but the refresh token can't. This is the code in the request filter that reads the token:</p>\n<pre><code>private void readToken(ContainerRequestContext requestContext, String secret, String session, String token, String message) {\n        try {\n            SecretKey secretKey = security.generateSecretKey(secret + session);\n            System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\n            Jws jws = Jwts.parserBuilder().setSigningKey(secretKey).build().parseClaimsJws(token);\n            System.out.println(&quot;jws&quot; + jws);\n            System.out.println(&quot;Body JWS: &quot; + jws.getBody());\n            \n        } catch (ExpiredJwtException | MalformedJwtException | UnsupportedJwtException | SignatureException | IllegalArgumentException | NoSuchAlgorithmException ex) {\n            System.out.println(&quot;EXCEPTION&quot; + ex);\n            JsonObject json = new JsonObject();\n            json.addProperty(&quot;serviceResponse&quot;, &quot;ERROR&quot;);\n            json.addProperty(&quot;message&quot;, message);\n            json.addProperty(&quot;exception&quot;, ex.getMessage());\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(json.toString()).build());\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9035,"page":957,"page_size":100}
