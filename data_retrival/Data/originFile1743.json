{"items":[{"tags":["java","arrays","object","processing","instantiation"],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640017092,"creation_date":1640017092,"answer_id":70424830,"question_id":70424661,"body_markdown":"Use an ArrayList instead of a native array. ArrayList will expand capacity as needed, whereas an array is fixed size and cannot be changed (you&#39;d need to create a new larger array each time, which under the covers is what an ArrayList handles for you).","title":"Processing - Array index out of bounds error","body":"<p>Use an ArrayList instead of a native array. ArrayList will expand capacity as needed, whereas an array is fixed size and cannot be changed (you'd need to create a new larger array each time, which under the covers is what an ArrayList handles for you).</p>\n"},{"tags":[],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640105647,"creation_date":1640017140,"answer_id":70424840,"question_id":70424661,"body_markdown":"You can use `ArrayList` for this. You will change \r\n```java\r\n// from\r\nBarrel[] barrel = new Barrel[100]; // i suggest naming it to barrels instead of barrel\r\n// to \r\nArrayList&lt;Barrel&gt; barrel = new ArrayList&lt;&gt;(); \r\n// or better \r\nList&lt;Barrel&gt; barrel = new ArrayList&lt;&gt;();\r\n// from \r\n for (int i = 0; i &lt; barrel.length; i++) {\r\n    barrel[i] = new Barrel();\r\n  }\r\n// to\r\n for (int i = 0; i &lt; barrel.length; i++) {\r\n    barrel.add(new Barrel());\r\n  }\r\n// from\r\nbarrel[i].&lt;some-method()/attribute&gt;\r\n// to\r\nbarrel.get(i).&lt;some-method()/attribute&gt;\r\n// etc\r\n```\r\n\r\nI highly recommend this for getting started with lists\r\nhttps://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\r\n","title":"Processing - Array index out of bounds error","body":"<p>You can use <code>ArrayList</code> for this. You will change</p>\n<pre class=\"lang-java prettyprint-override\"><code>// from\nBarrel[] barrel = new Barrel[100]; // i suggest naming it to barrels instead of barrel\n// to \nArrayList&lt;Barrel&gt; barrel = new ArrayList&lt;&gt;(); \n// or better \nList&lt;Barrel&gt; barrel = new ArrayList&lt;&gt;();\n// from \n for (int i = 0; i &lt; barrel.length; i++) {\n    barrel[i] = new Barrel();\n  }\n// to\n for (int i = 0; i &lt; barrel.length; i++) {\n    barrel.add(new Barrel());\n  }\n// from\nbarrel[i].&lt;some-method()/attribute&gt;\n// to\nbarrel.get(i).&lt;some-method()/attribute&gt;\n// etc\n</code></pre>\n<p>I highly recommend this for getting started with lists\n<a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html</a></p>\n"}],"owner":{"account_id":22885261,"reputation":59,"user_id":17026242,"display_name":"Brosef3053"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640105647,"creation_date":1640016365,"question_id":70424661,"body_markdown":"I&#39;m trying to use an array of objects to have barrels fall from the top of the screen to the bottom. (Like that old donkey kong game.) However, I can&#39;t seem to find a way to create more instances of the object than whatever the initial length of the array was. Anyone know a way to do this?\r\n\r\nHere&#39;s the code:\r\n\r\n    Man Man;\r\n    Man background;\r\n    Man ladders;\r\n    PFont font1;\r\n    int time;\r\n    boolean run;\r\n    boolean newBarrel;\r\n    int barrelTotal;\r\n    Barrel[] barrel = new Barrel[100];\r\n    void setup() {\r\n      newBarrel = false;\r\n      run = true;\r\n      barrelTotal = 1;\r\n      time = millis();\r\n      size(800, 800);\r\n      Man = new Man();\r\n      background = new Man();\r\n      ladders = new Man();\r\n      for (int i = 0; i &lt; barrel.length; i++) {\r\n        barrel[i] = new Barrel();\r\n      }\r\n    }\r\n    void draw() {\r\n      if (run == true) {\r\n        for (int i = 0; i &lt; barrel.length; i++) {\r\n          if ((Man.bottom-10 &gt;= barrel[i].top)&amp;&amp;(Man.bottom-10 &lt;= barrel[i].bottom)&amp;&amp;(Man.Ladder == barrel[i].randomLadder)) {\r\n            print(&quot;GAME OVER!&quot;);\r\n            run = false;\r\n          }\r\n          if ((Man.top &gt;= barrel[i].top)&amp;&amp;(Man.top &lt;= barrel[i].bottom)&amp;&amp;(Man.Ladder == barrel[i].randomLadder)) {\r\n            print(&quot;GAME OVER!&quot;);\r\n            run = false;\r\n          }\r\n        }\r\n      }\r\n      if (run == true) {\r\n        background.createBackground();\r\n        Man.ladders();\r\n        Man.movement();\r\n        Man.createMan();\r\n        //spawns a barrel every second\r\n        if (millis()&gt; time + 10) {\r\n          newBarrel = false;\r\n          print(&quot;     &quot; + barrelTotal + &quot;        &quot;);\r\n          time = time + 10;\r\n          barrelTotal = barrelTotal+1;\r\n          newBarrel = true;\r\n        }\r\n        for (int i = 0; i &lt; barrelTotal; i++) {\r\n          if (newBarrel == true) {\r\n          }\r\n          barrel[i].gravity();\r\n          barrel[i].createBarrel();\r\n        }\r\n        //if(barrelTotal == 100){\r\n        //for (int i = 0; i &lt; 50; i++){\r\n        // barrel[i] = &quot;???&quot;;\r\n        //}\r\n        //}\r\n      }\r\n    }","title":"Processing - Array index out of bounds error","body":"<p>I'm trying to use an array of objects to have barrels fall from the top of the screen to the bottom. (Like that old donkey kong game.) However, I can't seem to find a way to create more instances of the object than whatever the initial length of the array was. Anyone know a way to do this?</p>\n<p>Here's the code:</p>\n<pre><code>Man Man;\nMan background;\nMan ladders;\nPFont font1;\nint time;\nboolean run;\nboolean newBarrel;\nint barrelTotal;\nBarrel[] barrel = new Barrel[100];\nvoid setup() {\n  newBarrel = false;\n  run = true;\n  barrelTotal = 1;\n  time = millis();\n  size(800, 800);\n  Man = new Man();\n  background = new Man();\n  ladders = new Man();\n  for (int i = 0; i &lt; barrel.length; i++) {\n    barrel[i] = new Barrel();\n  }\n}\nvoid draw() {\n  if (run == true) {\n    for (int i = 0; i &lt; barrel.length; i++) {\n      if ((Man.bottom-10 &gt;= barrel[i].top)&amp;&amp;(Man.bottom-10 &lt;= barrel[i].bottom)&amp;&amp;(Man.Ladder == barrel[i].randomLadder)) {\n        print(&quot;GAME OVER!&quot;);\n        run = false;\n      }\n      if ((Man.top &gt;= barrel[i].top)&amp;&amp;(Man.top &lt;= barrel[i].bottom)&amp;&amp;(Man.Ladder == barrel[i].randomLadder)) {\n        print(&quot;GAME OVER!&quot;);\n        run = false;\n      }\n    }\n  }\n  if (run == true) {\n    background.createBackground();\n    Man.ladders();\n    Man.movement();\n    Man.createMan();\n    //spawns a barrel every second\n    if (millis()&gt; time + 10) {\n      newBarrel = false;\n      print(&quot;     &quot; + barrelTotal + &quot;        &quot;);\n      time = time + 10;\n      barrelTotal = barrelTotal+1;\n      newBarrel = true;\n    }\n    for (int i = 0; i &lt; barrelTotal; i++) {\n      if (newBarrel == true) {\n      }\n      barrel[i].gravity();\n      barrel[i].createBarrel();\n    }\n    //if(barrelTotal == 100){\n    //for (int i = 0; i &lt; 50; i++){\n    // barrel[i] = &quot;???&quot;;\n    //}\n    //}\n  }\n}\n</code></pre>\n"},{"tags":["c#","java","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":36361,"reputation":17327,"user_id":103682,"accept_rate":67,"display_name":"epitka"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1304002259,"creation_date":1304002259,"answer_id":5820543,"question_id":5818898,"body_markdown":"&gt; Create domain service\r\n&gt; \r\n&gt; Or I can create domain service for\r\n&gt; creating and editing users. But\r\n&gt; someone can directly edit name of user\r\n&gt; without calling that service...\r\n\r\nIf you properly designed your entities this should not be an issue.\r\n\r\n","title":"Where to put global rules validation in DDD","body":"<blockquote>\n  <p>Create domain service</p>\n  \n  <p>Or I can create domain service for\n  creating and editing users. But\n  someone can directly edit name of user\n  without calling that service...</p>\n</blockquote>\n\n<p>If you properly designed your entities this should not be an issue.</p>\n"},{"tags":[],"owner":{"account_id":131820,"reputation":31794,"user_id":332100,"accept_rate":100,"display_name":"Niels van der Rest"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1304156871,"creation_date":1304008420,"answer_id":5821967,"question_id":5818898,"body_markdown":"**Edit:** Judging from the other answers, the correct name for such a &#39;domain service&#39; is *specification*. I&#39;ve updated my answer to reflect this, including a more detailed code sample.\r\n\r\nI&#39;d go with option 3; create a &lt;strike&gt;domain service&lt;/strike&gt; specification which encapsulates the actual logic that performs the validation. For example, the specification initially calls a repository, but you could replace it with a web service call at a later stage. Having all that logic behind an abstract specification will keep the overall design more flexible.\r\n\r\nTo prevent someone from editing the name without validating it, make the specification a required aspect of editing the name. You can achieve this by changing the API of your entity to something like this:\r\n\r\n    public class User\r\n    {\r\n        public string Name { get; private set; }\r\n\r\n        public void SetName(string name, ISpecification&lt;User, string&gt; specification)\r\n        {\r\n            // Insert basic null validation here.\r\n\r\n            if (!specification.IsSatisfiedBy(this, name))\r\n            {\r\n                // Throw some validation exception.\r\n            }\r\n\r\n            this.Name = name;\r\n        }\r\n    }\r\n\r\n    public interface ISpecification&lt;TType, TValue&gt;\r\n    {\r\n        bool IsSatisfiedBy(TType obj, TValue value);\r\n    }\r\n\r\n    public class UniqueUserNameSpecification : ISpecification&lt;User, string&gt;\r\n    {\r\n        private IUserRepository repository;\r\n\r\n        public UniqueUserNameSpecification(IUserRepository repository)\r\n        {\r\n            this.repository = repository;\r\n        }\r\n\r\n        public bool IsSatisfiedBy(User obj, string value)\r\n        {\r\n            if (value == obj.Name)\r\n            {\r\n                return true;\r\n            }\r\n\r\n            // Use this.repository for further validation of the name.\r\n        }\r\n    }\r\n\r\nYour calling code would look something like this:\r\n\r\n    var userRepository = IoC.Resolve&lt;IUserRepository&gt;();\r\n    var specification = new UniqueUserNameSpecification(userRepository);\r\n\r\n    user.SetName(&quot;John&quot;, specification);\r\n\r\nAnd of course, you can mock `ISpecification` in your unit tests for easier testing.","title":"Where to put global rules validation in DDD","body":"<p><strong>Edit:</strong> Judging from the other answers, the correct name for such a 'domain service' is <em>specification</em>. I've updated my answer to reflect this, including a more detailed code sample.</p>\n\n<p>I'd go with option 3; create a <strike>domain service</strike> specification which encapsulates the actual logic that performs the validation. For example, the specification initially calls a repository, but you could replace it with a web service call at a later stage. Having all that logic behind an abstract specification will keep the overall design more flexible.</p>\n\n<p>To prevent someone from editing the name without validating it, make the specification a required aspect of editing the name. You can achieve this by changing the API of your entity to something like this:</p>\n\n<pre><code>public class User\n{\n    public string Name { get; private set; }\n\n    public void SetName(string name, ISpecification&lt;User, string&gt; specification)\n    {\n        // Insert basic null validation here.\n\n        if (!specification.IsSatisfiedBy(this, name))\n        {\n            // Throw some validation exception.\n        }\n\n        this.Name = name;\n    }\n}\n\npublic interface ISpecification&lt;TType, TValue&gt;\n{\n    bool IsSatisfiedBy(TType obj, TValue value);\n}\n\npublic class UniqueUserNameSpecification : ISpecification&lt;User, string&gt;\n{\n    private IUserRepository repository;\n\n    public UniqueUserNameSpecification(IUserRepository repository)\n    {\n        this.repository = repository;\n    }\n\n    public bool IsSatisfiedBy(User obj, string value)\n    {\n        if (value == obj.Name)\n        {\n            return true;\n        }\n\n        // Use this.repository for further validation of the name.\n    }\n}\n</code></pre>\n\n<p>Your calling code would look something like this:</p>\n\n<pre><code>var userRepository = IoC.Resolve&lt;IUserRepository&gt;();\nvar specification = new UniqueUserNameSpecification(userRepository);\n\nuser.SetName(\"John\", specification);\n</code></pre>\n\n<p>And of course, you can mock <code>ISpecification</code> in your unit tests for easier testing.</p>\n"},{"tags":[],"owner":{"account_id":59254,"reputation":7511,"user_id":177317,"accept_rate":69,"display_name":"George Polevoy"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1304016098,"creation_date":1304015377,"answer_id":5823302,"question_id":5818898,"body_markdown":"I would not recommend disallowing to change properties in entity, if it&#39;s a user input.\r\nFor example, if validation did not pass, you can still use the instance to display it in user interface with validation results, allowing user to correct the error.\r\n\r\nJimmy Nilsson in his &quot;Applying Domain-Driven Design and Patterns&quot; recommends to validate for a particular operation, not just for persisting. While an entity could be successfully persisted, the real validation occurs when an entity is about to change it&#39;s state, for example &#39;Ordered&#39; state changes to &#39;Purchased&#39;.\r\n\r\nWhile creating, the instance must be valid-for-saving, which involves checking for uniqueness. It&#39;s different from valid-for-ordering, where not only uniqueness must be checked, but also, for example, creditability of a client, and availability at the store.\r\n\r\nSo, validation logic should not be invoked on a property assignments, it should be invoked upon aggregate level operations, whether they are persistent or not.","title":"Where to put global rules validation in DDD","body":"<p>I would not recommend disallowing to change properties in entity, if it's a user input.\nFor example, if validation did not pass, you can still use the instance to display it in user interface with validation results, allowing user to correct the error.</p>\n\n<p>Jimmy Nilsson in his \"Applying Domain-Driven Design and Patterns\" recommends to validate for a particular operation, not just for persisting. While an entity could be successfully persisted, the real validation occurs when an entity is about to change it's state, for example 'Ordered' state changes to 'Purchased'.</p>\n\n<p>While creating, the instance must be valid-for-saving, which involves checking for uniqueness. It's different from valid-for-ordering, where not only uniqueness must be checked, but also, for example, creditability of a client, and availability at the store.</p>\n\n<p>So, validation logic should not be invoked on a property assignments, it should be invoked upon aggregate level operations, whether they are persistent or not.</p>\n"},{"tags":[],"owner":{"account_id":116850,"reputation":13719,"user_id":306276,"accept_rate":92,"display_name":"Kdeveloper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304017179,"creation_date":1304017179,"answer_id":5823628,"question_id":5818898,"body_markdown":"I’m not an expert on DDD but I have asked myself the same questions and this is what I came up with:\r\nValidation logic should normally go into the constructor/factory and setters. This way you guarantee that you always have valid domain objects. But if the validation involves database queries that impact your performance, an efficient implementation requires a different design.\r\n\r\n**(1) Injecting Entities:** Injecting entities can be technical difficult and also makes managing application performance very hard due to the fragmentation of you database logic. Seemingly simple operations can now have an unexpectedly performance impact. It also makes it impossible to optimize your domain object for operations on groups of the same kind of entities, you no longer can write a single group query, and instead you always have individual queries for each entity.\r\n\r\n**(2) Injecting repository:** You should not put any business logic in repositories. Keep repositories simple and focused. They should act as if they were collections and only contain logic for adding, removing and finding objects (some even spinoff the find methods to other objects).\r\n\r\n**(3) Domain service** This seems the most logical place to handle the validation that requires database querying. A good implementation would make the constructor/factory and setters involved package private, so that the entities can only be created / modified with the domain service.\r\n\r\n","title":"Where to put global rules validation in DDD","body":"<p>I’m not an expert on DDD but I have asked myself the same questions and this is what I came up with:\nValidation logic should normally go into the constructor/factory and setters. This way you guarantee that you always have valid domain objects. But if the validation involves database queries that impact your performance, an efficient implementation requires a different design.</p>\n\n<p><strong>(1) Injecting Entities:</strong> Injecting entities can be technical difficult and also makes managing application performance very hard due to the fragmentation of you database logic. Seemingly simple operations can now have an unexpectedly performance impact. It also makes it impossible to optimize your domain object for operations on groups of the same kind of entities, you no longer can write a single group query, and instead you always have individual queries for each entity.</p>\n\n<p><strong>(2) Injecting repository:</strong> You should not put any business logic in repositories. Keep repositories simple and focused. They should act as if they were collections and only contain logic for adding, removing and finding objects (some even spinoff the find methods to other objects).</p>\n\n<p><strong>(3) Domain service</strong> This seems the most logical place to handle the validation that requires database querying. A good implementation would make the constructor/factory and setters involved package private, so that the entities can only be created / modified with the domain service.</p>\n"},{"tags":[],"owner":{"account_id":29670,"reputation":17202,"user_id":80369,"accept_rate":62,"display_name":"Vijay Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304065349,"creation_date":1304065349,"answer_id":5829737,"question_id":5818898,"body_markdown":"I would use a *Specification* to encapsulate the rule.  You can then call when the UserName property is updated (or from anywhere else that might need it):\r\n\r\n    public class UniqueUserNameSpecification : ISpecification\r\n    {\r\n      public bool IsSatisifiedBy(User user)\r\n      {\r\n         // Check if the username is unique here\r\n      }\r\n    }\r\n\r\n    public class User\r\n    {\r\n       string _Name;\r\n       UniqueUserNameSpecification _UniqueUserNameSpecification;  // You decide how this is injected \r\n    \r\n       public string Name\r\n       {\r\n          get { return _Name; }\r\n          set\r\n          {\r\n            if (_UniqueUserNameSpecification.IsSatisifiedBy(this))\r\n            {\r\n               _Name = value;\r\n            }\r\n            else\r\n            {\r\n               // Execute your custom warning here\r\n            }\r\n          }\r\n       }\r\n    }\r\n\r\nIt won&#39;t matter if another developer tries to modify `User.Name` directly, because the rule will always execute.\r\n\r\n[Find out more here][1]\r\n\r\n\r\n  [1]: http://devlicio.us/blogs/casey/archive/2009/03/02/ddd-the-specification-pattern.aspx","title":"Where to put global rules validation in DDD","body":"<p>I would use a <em>Specification</em> to encapsulate the rule.  You can then call when the UserName property is updated (or from anywhere else that might need it):</p>\n\n<pre><code>public class UniqueUserNameSpecification : ISpecification\n{\n  public bool IsSatisifiedBy(User user)\n  {\n     // Check if the username is unique here\n  }\n}\n\npublic class User\n{\n   string _Name;\n   UniqueUserNameSpecification _UniqueUserNameSpecification;  // You decide how this is injected \n\n   public string Name\n   {\n      get { return _Name; }\n      set\n      {\n        if (_UniqueUserNameSpecification.IsSatisifiedBy(this))\n        {\n           _Name = value;\n        }\n        else\n        {\n           // Execute your custom warning here\n        }\n      }\n   }\n}\n</code></pre>\n\n<p>It won't matter if another developer tries to modify <code>User.Name</code> directly, because the rule will always execute.</p>\n\n<p><a href=\"http://devlicio.us/blogs/casey/archive/2009/03/02/ddd-the-specification-pattern.aspx\" rel=\"nofollow\">Find out more here</a></p>\n"},{"tags":[],"owner":{"account_id":126056,"reputation":10407,"user_id":322283,"accept_rate":100,"display_name":"Marijn"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1640105446,"creation_date":1304083349,"answer_id":5832618,"question_id":5818898,"body_markdown":"Most of the times it is best to place these kind of rules in `Specification` objects.\r\nYou can place these `Specification`s in your domain packages, so anybody using your domain package has access to them. Using a specification, you can bundle your business rules with your entities, without creating difficult-to-read entities with undesired dependencies on services and repositories. If needed, you can inject dependencies on services or repositories into a specification.\r\n\r\nDepending on the context, you can build different validators using the specification objects.\r\n\r\nMain concern of entities should be keeping track of business state - that&#39;s enough of a responsibility and they shouldn&#39;t be concerned with validation. \r\n\r\n*Example*\r\n\r\n    public class User\r\n    {\r\n        public string Id { get; set; }\r\n        public string Name { get; set; }\r\n    }\r\n\r\nTwo specifications:\r\n\r\n    public class IdNotEmptySpecification : ISpecification&lt;User&gt;\r\n    {\r\n        public bool IsSatisfiedBy(User subject)\r\n        {\r\n            return !string.IsNullOrEmpty(subject.Id);\r\n        }\r\n    }\r\n    \r\n\r\n    public class NameNotTakenSpecification : ISpecification&lt;User&gt;\r\n    {\r\n        // omitted code to set service; better use DI\r\n        private Service.IUserNameService UserNameService { get; set; } \r\n    \r\n        public bool IsSatisfiedBy(User subject)\r\n        {\r\n            return UserNameService.NameIsAvailable(subject.Name);\r\n        }\r\n    }\r\n\r\nAnd a validator:\r\n\r\n    public class UserPersistenceValidator : IValidator&lt;User&gt;\r\n    {\r\n        private readonly IList&lt;ISpecification&lt;User&gt;&gt; Rules =\r\n            new List&lt;ISpecification&lt;User&gt;&gt;\r\n                {\r\n                    new IdNotEmptySpecification(),\r\n                    new NameNotEmptySpecification(),\r\n                    new NameNotTakenSpecification()\r\n                    // and more ... better use DI to fill this list\r\n                };\r\n    \r\n        public bool IsValid(User entity)\r\n        {\r\n            return BrokenRules(entity).Count() == 0;\r\n        }\r\n    \r\n        public IEnumerable&lt;string&gt; BrokenRules(User entity)\r\n        {\r\n            return Rules.Where(rule =&gt; !rule.IsSatisfiedBy(entity))\r\n                        .Select(rule =&gt; GetMessageForBrokenRule(rule));\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nFor completeness, the interfaces:\r\n\r\n    public interface IValidator&lt;T&gt;\r\n    {\r\n        bool IsValid(T entity);\r\n        IEnumerable&lt;string&gt; BrokenRules(T entity);\r\n    }\r\n    \r\n    public interface ISpecification&lt;T&gt;\r\n    {\r\n        bool IsSatisfiedBy(T subject);\r\n    }\r\n\r\n*Notes*\r\n\r\nI think Vijay Patel&#39;s earlier answer is in the right direction, but I feel it&#39;s a bit off. He suggests that the user entity depends on the specification, where I belief that this should be the other way around. This way, you can let the specification depend on services, repositories and context in general, without making your entity depend on them through a specification dependency.\r\n\r\n*References*\r\n\r\nA related question with a good answer with example: [Validation in a Domain Driven Design](https://stackoverflow.com/questions/516615/validation-in-a-domain-driven-design).\r\n\r\nEric Evans describes the use of the specification pattern for validation, selection and object construction in [chapter 9, pp 145](http://my.safaribooksonline.com/book/software-engineering-and-development/0321125215/making-implicit-concepts-explicit/145).\r\n\r\nThis [article on the specification pattern](http://devlicio.us/blogs/casey/archive/2009/03/02/ddd-the-specification-pattern.aspx) with an application in .Net might be of interest to you.\r\n","title":"Where to put global rules validation in DDD","body":"<p>Most of the times it is best to place these kind of rules in <code>Specification</code> objects.\nYou can place these <code>Specification</code>s in your domain packages, so anybody using your domain package has access to them. Using a specification, you can bundle your business rules with your entities, without creating difficult-to-read entities with undesired dependencies on services and repositories. If needed, you can inject dependencies on services or repositories into a specification.</p>\n<p>Depending on the context, you can build different validators using the specification objects.</p>\n<p>Main concern of entities should be keeping track of business state - that's enough of a responsibility and they shouldn't be concerned with validation.</p>\n<p><em>Example</em></p>\n<pre><code>public class User\n{\n    public string Id { get; set; }\n    public string Name { get; set; }\n}\n</code></pre>\n<p>Two specifications:</p>\n<pre><code>public class IdNotEmptySpecification : ISpecification&lt;User&gt;\n{\n    public bool IsSatisfiedBy(User subject)\n    {\n        return !string.IsNullOrEmpty(subject.Id);\n    }\n}\n\n\npublic class NameNotTakenSpecification : ISpecification&lt;User&gt;\n{\n    // omitted code to set service; better use DI\n    private Service.IUserNameService UserNameService { get; set; } \n\n    public bool IsSatisfiedBy(User subject)\n    {\n        return UserNameService.NameIsAvailable(subject.Name);\n    }\n}\n</code></pre>\n<p>And a validator:</p>\n<pre><code>public class UserPersistenceValidator : IValidator&lt;User&gt;\n{\n    private readonly IList&lt;ISpecification&lt;User&gt;&gt; Rules =\n        new List&lt;ISpecification&lt;User&gt;&gt;\n            {\n                new IdNotEmptySpecification(),\n                new NameNotEmptySpecification(),\n                new NameNotTakenSpecification()\n                // and more ... better use DI to fill this list\n            };\n\n    public bool IsValid(User entity)\n    {\n        return BrokenRules(entity).Count() == 0;\n    }\n\n    public IEnumerable&lt;string&gt; BrokenRules(User entity)\n    {\n        return Rules.Where(rule =&gt; !rule.IsSatisfiedBy(entity))\n                    .Select(rule =&gt; GetMessageForBrokenRule(rule));\n    }\n\n    // ...\n}\n</code></pre>\n<p>For completeness, the interfaces:</p>\n<pre><code>public interface IValidator&lt;T&gt;\n{\n    bool IsValid(T entity);\n    IEnumerable&lt;string&gt; BrokenRules(T entity);\n}\n\npublic interface ISpecification&lt;T&gt;\n{\n    bool IsSatisfiedBy(T subject);\n}\n</code></pre>\n<p><em>Notes</em></p>\n<p>I think Vijay Patel's earlier answer is in the right direction, but I feel it's a bit off. He suggests that the user entity depends on the specification, where I belief that this should be the other way around. This way, you can let the specification depend on services, repositories and context in general, without making your entity depend on them through a specification dependency.</p>\n<p><em>References</em></p>\n<p>A related question with a good answer with example: <a href=\"https://stackoverflow.com/questions/516615/validation-in-a-domain-driven-design\">Validation in a Domain Driven Design</a>.</p>\n<p>Eric Evans describes the use of the specification pattern for validation, selection and object construction in <a href=\"http://my.safaribooksonline.com/book/software-engineering-and-development/0321125215/making-implicit-concepts-explicit/145\" rel=\"nofollow noreferrer\">chapter 9, pp 145</a>.</p>\n<p>This <a href=\"http://devlicio.us/blogs/casey/archive/2009/03/02/ddd-the-specification-pattern.aspx\" rel=\"nofollow noreferrer\">article on the specification pattern</a> with an application in .Net might be of interest to you.</p>\n"},{"tags":[],"owner":{"account_id":328304,"reputation":32671,"user_id":651188,"accept_rate":67,"display_name":"Roy Dictus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304598824,"creation_date":1304598824,"answer_id":5897713,"question_id":5818898,"body_markdown":"In my CQRS Framework, every Command Handler class also contains a ValidateCommand method, which then calls the appropriate business/validation logic in the Domain (mostly implemented as Entity methods or Entity static methods).\r\n\r\nSo the caller would do like so:\r\n\r\n    if (cmdService.ValidateCommand(myCommand) == ValidationResult.OK)\r\n    {\r\n        // Now we can assume there will be no business reason to reject\r\n        // the command\r\n        cmdService.ExecuteCommand(myCommand); // Async\r\n    }\r\n\r\nEvery specialized Command Handler contains the wrapper logic, for instance:\r\n\r\n    public ValidationResult ValidateCommand(MakeCustomerGold command)\r\n    {\r\n        var result = new ValidationResult();\r\n        if (Customer.CanMakeGold(command.CustomerId))\r\n        {\r\n            // &quot;OK&quot; logic here\r\n        } else {\r\n            // &quot;Not OK&quot; logic here\r\n        }\r\n    }\r\n\r\nThe ExecuteCommand method of the command handler will then call the ValidateCommand() again, so even if the client didn&#39;t bother, nothing will happen in the Domain that is not supposed to.","title":"Where to put global rules validation in DDD","body":"<p>In my CQRS Framework, every Command Handler class also contains a ValidateCommand method, which then calls the appropriate business/validation logic in the Domain (mostly implemented as Entity methods or Entity static methods).</p>\n\n<p>So the caller would do like so:</p>\n\n<pre><code>if (cmdService.ValidateCommand(myCommand) == ValidationResult.OK)\n{\n    // Now we can assume there will be no business reason to reject\n    // the command\n    cmdService.ExecuteCommand(myCommand); // Async\n}\n</code></pre>\n\n<p>Every specialized Command Handler contains the wrapper logic, for instance:</p>\n\n<pre><code>public ValidationResult ValidateCommand(MakeCustomerGold command)\n{\n    var result = new ValidationResult();\n    if (Customer.CanMakeGold(command.CustomerId))\n    {\n        // \"OK\" logic here\n    } else {\n        // \"Not OK\" logic here\n    }\n}\n</code></pre>\n\n<p>The ExecuteCommand method of the command handler will then call the ValidateCommand() again, so even if the client didn't bother, nothing will happen in the Domain that is not supposed to.</p>\n"},{"tags":[],"owner":{"account_id":282196,"reputation":5052,"user_id":578936,"accept_rate":94,"display_name":"Charles Lambert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304734071,"creation_date":1304734071,"answer_id":5918692,"question_id":5818898,"body_markdown":"Create a method, for example, called IsUserNameValid() and make that accessible from everywhere. I would put it in the user service myself. Doing this will not limit you when future changes arise. It keeps the validation code in one place (implementation), and other code that depends on it will not have to change if the validation changes You may find that you need to call this from multiple places later on, such as the ui for visual indication without having to resort to exception handling. The service layer for correct operations, and the repository (cache, db, etc.) layer to ensure that stored items are valid.","title":"Where to put global rules validation in DDD","body":"<p>Create a method, for example, called IsUserNameValid() and make that accessible from everywhere. I would put it in the user service myself. Doing this will not limit you when future changes arise. It keeps the validation code in one place (implementation), and other code that depends on it will not have to change if the validation changes You may find that you need to call this from multiple places later on, such as the ui for visual indication without having to resort to exception handling. The service layer for correct operations, and the repository (cache, db, etc.) layer to ensure that stored items are valid.</p>\n"},{"tags":[],"owner":{"account_id":124219,"reputation":817,"user_id":319170,"display_name":"SlavaGu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304853799,"creation_date":1304853799,"answer_id":5927123,"question_id":5818898,"body_markdown":"I like option 3. Simplest implementation could look so:\r\n\r\n    public interface IUser\r\n    {\r\n        string Name { get; }\r\n        bool IsNew { get; }\r\n    }\r\n    \r\n    public class User : IUser\r\n    {\r\n        public string Name { get; private set; }\r\n        public bool IsNew { get; private set; }\r\n    }\r\n    \r\n    public class UserService : IUserService\r\n    {\r\n        public void ValidateUser(IUser user)\r\n        {\r\n            var repository = RepositoryFactory.GetUserRepository(); // use IoC if needed\r\n    \r\n            if (user.IsNew &amp;&amp; repository.UserExists(user.Name))\r\n                throw new ValidationException(&quot;Username already exists&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Where to put global rules validation in DDD","body":"<p>I like option 3. Simplest implementation could look so:</p>\n\n<pre><code>public interface IUser\n{\n    string Name { get; }\n    bool IsNew { get; }\n}\n\npublic class User : IUser\n{\n    public string Name { get; private set; }\n    public bool IsNew { get; private set; }\n}\n\npublic class UserService : IUserService\n{\n    public void ValidateUser(IUser user)\n    {\n        var repository = RepositoryFactory.GetUserRepository(); // use IoC if needed\n\n        if (user.IsNew &amp;&amp; repository.UserExists(user.Name))\n            throw new ValidationException(\"Username already exists\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2329477,"reputation":2767,"user_id":2043248,"accept_rate":86,"display_name":"Alireza Rahmani Khalili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610651476,"creation_date":1610651476,"answer_id":65725464,"question_id":5818898,"body_markdown":"in short you have 4 options:\r\n\r\n- IsValid method: transition an entity to a state (potentially invalid) and ask it to validate itself.\r\n\r\n- Validation in application services.\r\n\r\n- TryExecute pattern.\r\n\r\n- Execute / CanExecute pattern.\r\n\r\nread more [here][1]\r\n\r\n\r\n  [1]: https://enterprisecraftsmanship.com/posts/validation-and-ddd/","title":"Where to put global rules validation in DDD","body":"<p>in short you have 4 options:</p>\n<ul>\n<li><p>IsValid method: transition an entity to a state (potentially invalid) and ask it to validate itself.</p>\n</li>\n<li><p>Validation in application services.</p>\n</li>\n<li><p>TryExecute pattern.</p>\n</li>\n<li><p>Execute / CanExecute pattern.</p>\n</li>\n</ul>\n<p>read more <a href=\"https://enterprisecraftsmanship.com/posts/validation-and-ddd/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":215377,"reputation":233304,"user_id":470005,"accept_rate":71,"display_name":"Sergey Berezovskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20038,"favorite_count":0,"down_vote_count":2,"up_vote_count":76,"accepted_answer_id":5832618,"answer_count":10,"score":74,"last_activity_date":1640105446,"creation_date":1303995167,"question_id":5818898,"body_markdown":"I&#39;m new to DDD, and I&#39;m trying to apply it in real life. There is no questions about such validation logic, as null check, empty strings check, etc - that goes directly to entity constructor/property. But where to put validation of some global rules like &#39;Unique user name&#39;?\n\nSo, we have entity User\n\n    public class User : IAggregateRoot\n    {\n       private string _name;\n\n       public string Name\n       {\n          get { return _name; }\n          set { _name = value; }\n       }\n\n       // other data and behavior\n    }\n    \n\nAnd repository for users\n\n    public interface IUserRepository : IRepository&lt;User&gt;\n    {\n       User FindByName(string name);\n    }\n\nOptions are:\n\n 1. *Inject repository to entity*\n 2. *Inject repository to factory*\n 3. *Create operation on domain service*\n 4. *???*\n\nAnd each option more detailed:\n\n**1 .Inject repository to entity**\n\nI can query repository in entities constructor/property. But I think that keeping reference to repository in entity is a bad smell.\n\n    public User(IUserRepository repository)\n    {\n        _repository = repository;\n    }\n\n    public string Name\n    {\n        get { return _name; }\n        set \n        {\n           if (_repository.FindByName(value) != null)\n              throw new UserAlreadyExistsException();\n\n           _name = value; \n        }\n    }\n\nUpdate: We can use DI to hide dependency between User and IUserRepository via Specification object.\n\n**2. Inject repository to factory**\n\n  I can put this verification logic in UserFactory. But what if we want to change name of already existing user?\n\n**3. Create operation on domain service**\n\n  I can create domain service for creating and editing users. But someone can directly edit name of user without calling that service...\n\n    public class AdministrationService\n    {\n        private IUserRepository _userRepository;\n\n        public AdministrationService(IUserRepository userRepository)\n        {\n            _userRepository = userRepository;\n        }\n\n        public void RenameUser(string oldName, string newName)\n        {\n            if (_userRepository.FindByName(newName) != null)\n                throw new UserAlreadyExistException();\n\n            User user = _userRepository.FindByName(oldName);\n            user.Name = newName;\n            _userRepository.Save(user);\n        }\n    }\n\n**4. ???**\n\n**Where do you put global validation logic for entities?**\n\nThanks!","title":"Where to put global rules validation in DDD","body":"<p>I'm new to DDD, and I'm trying to apply it in real life. There is no questions about such validation logic, as null check, empty strings check, etc - that goes directly to entity constructor/property. But where to put validation of some global rules like 'Unique user name'?</p>\n<p>So, we have entity User</p>\n<pre><code>public class User : IAggregateRoot\n{\n   private string _name;\n\n   public string Name\n   {\n      get { return _name; }\n      set { _name = value; }\n   }\n\n   // other data and behavior\n}\n</code></pre>\n<p>And repository for users</p>\n<pre><code>public interface IUserRepository : IRepository&lt;User&gt;\n{\n   User FindByName(string name);\n}\n</code></pre>\n<p>Options are:</p>\n<ol>\n<li><em>Inject repository to entity</em></li>\n<li><em>Inject repository to factory</em></li>\n<li><em>Create operation on domain service</em></li>\n<li><em>???</em></li>\n</ol>\n<p>And each option more detailed:</p>\n<p><strong>1 .Inject repository to entity</strong></p>\n<p>I can query repository in entities constructor/property. But I think that keeping reference to repository in entity is a bad smell.</p>\n<pre><code>public User(IUserRepository repository)\n{\n    _repository = repository;\n}\n\npublic string Name\n{\n    get { return _name; }\n    set \n    {\n       if (_repository.FindByName(value) != null)\n          throw new UserAlreadyExistsException();\n\n       _name = value; \n    }\n}\n</code></pre>\n<p>Update: We can use DI to hide dependency between User and IUserRepository via Specification object.</p>\n<p><strong>2. Inject repository to factory</strong></p>\n<p>I can put this verification logic in UserFactory. But what if we want to change name of already existing user?</p>\n<p><strong>3. Create operation on domain service</strong></p>\n<p>I can create domain service for creating and editing users. But someone can directly edit name of user without calling that service...</p>\n<pre><code>public class AdministrationService\n{\n    private IUserRepository _userRepository;\n\n    public AdministrationService(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n\n    public void RenameUser(string oldName, string newName)\n    {\n        if (_userRepository.FindByName(newName) != null)\n            throw new UserAlreadyExistException();\n\n        User user = _userRepository.FindByName(oldName);\n        user.Name = newName;\n        _userRepository.Save(user);\n    }\n}\n</code></pre>\n<p><strong>4. ???</strong></p>\n<p><strong>Where do you put global validation logic for entities?</strong></p>\n<p>Thanks!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640105158,"creation_date":1640105158,"answer_id":70438848,"question_id":70434625,"body_markdown":"You&#39;re never modifying the keys, so doesn&#39;t really matter what their values are. They are used to partition the output to the `@SendTo` topic. You have also defined a key `StringSerde` somewhere to read from `notification-input-channel` topic. \r\n\r\nThe purpose of returning a KStream is because this is what the method signature expects and Spring&#39;s Lifecycle hooks will build into a Kafka Streams Topology.\r\n\r\n","title":"Trying to understand Kafka&#39;s KStream concept","body":"<p>You're never modifying the keys, so doesn't really matter what their values are. They are used to partition the output to the <code>@SendTo</code> topic. You have also defined a key <code>StringSerde</code> somewhere to read from <code>notification-input-channel</code> topic.</p>\n<p>The purpose of returning a KStream is because this is what the method signature expects and Spring's Lifecycle hooks will build into a Kafka Streams Topology.</p>\n"}],"owner":{"account_id":23709613,"reputation":3,"user_id":17731664,"display_name":"Suvam Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70438848,"answer_count":1,"score":0,"last_activity_date":1640105158,"creation_date":1640085691,"question_id":70434625,"body_markdown":"    @StreamListener(&quot;notification-input-channel&quot;)\r\n    @SendTo(&quot;notification-output-channel&quot;)\r\n    public KStream&lt;String,Notification&gt; process(KStream&lt;String,PosInvoice&gt; input)\r\n    {\r\n         KStream&lt;String,Notification&gt; notificationStream=input.\r\n         filter(k,v)-&gt;v.getCustomerType.equals(&quot;Prime&quot;).\r\n         mapValues(v-&gt;recordBuilder.getNotification(v);\r\n    \r\n        return notificationStream;\r\n    }\r\n\r\nFirstly I am totally new to Kafka. Now comming to my question is in the input KStream I am getting the value as String and Kafka then converting it into PosInvoice object. but in the notificationStream what is the purpose of the String as key? And what is the purpose of returning a KStream object? As per my knowledge KStreams are required when I have to simulatenously Read from a the topic and Write into the topic. Can you please explain the code&#39;s data flow?","title":"Trying to understand Kafka&#39;s KStream concept","body":"<pre><code>@StreamListener(&quot;notification-input-channel&quot;)\n@SendTo(&quot;notification-output-channel&quot;)\npublic KStream&lt;String,Notification&gt; process(KStream&lt;String,PosInvoice&gt; input)\n{\n     KStream&lt;String,Notification&gt; notificationStream=input.\n     filter(k,v)-&gt;v.getCustomerType.equals(&quot;Prime&quot;).\n     mapValues(v-&gt;recordBuilder.getNotification(v);\n\n    return notificationStream;\n}\n</code></pre>\n<p>Firstly I am totally new to Kafka. Now comming to my question is in the input KStream I am getting the value as String and Kafka then converting it into PosInvoice object. but in the notificationStream what is the purpose of the String as key? And what is the purpose of returning a KStream object? As per my knowledge KStreams are required when I have to simulatenously Read from a the topic and Write into the topic. Can you please explain the code's data flow?</p>\n"},{"tags":["java","android","retrofit2","rx-java2","android-viewmodel"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640104976,"creation_date":1640098906,"answer_id":70437509,"question_id":70334465,"body_markdown":"I am not very familiar with Android programing, so sorry if I am missing something and make any mistake, but why don&#39;t you pass a reference to the `EditText` that has been focused to the `getNewValue` method?\r\n\r\nConsider for instance:\r\n\r\n```java\r\nprivate final MutableLiveData&lt;Pair&lt;EditText, String&gt;&gt; newValueResponse = new MutableLiveData&lt;&gt;();\r\nprivate final MutableLiveData&lt;air&lt;EditText, Throwable&gt;&gt; newValueError = new MutableLiveData&lt;&gt;();\r\n\r\n//...\r\n\r\npublic void getNewValue(final EditText editText, final String currentValue) {\r\n    apiService.getNewValue(currentValue)\r\n            .subscribeOn(Schedulers.io())\r\n            .subscribe(new SingleObserver&lt;String&gt;() {\r\n                @Override\r\n                public void onSubscribe(@NonNull Disposable d) {\r\n                    compositeDisposable.add(d);\r\n                }\r\n\r\n                @Override\r\n                public void onSuccess(@NonNull String newValue) {\r\n                    newValueResponse.postValue(Pair.create(editText, newValue));\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable throwable) {\r\n                    newValueError.postValue(Pair.create(editText, throwable));\r\n                }\r\n            });\r\n}\r\n\r\npublic LiveData&lt;Pair&lt;EditText, String&gt;&gt; getNewValueResponse() {\r\n    return newValueResponse;\r\n}\r\n\r\npublic LiveData&lt;Pair&lt;EditText, Throwable&gt;&gt; getNewValueError() {\r\n    return newValueError;\r\n}\r\n```\r\n\r\nThe `OnFocusChangeListener` will look like the following:\r\n\r\n```java\r\nprivate View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\r\n    return (view, hasFocus) -&gt; {\r\n        if (hasFocus) {\r\n            EditText et = (EditText) v;\r\n            viewModel.getNewValue(et, currentValue);\r\n            viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; newValue.first.setText(newValue.second));\r\n            viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable.second));\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIn a certain way I found this last code fragment strange, because if you thing about it, due to the asynchronous nature of the API call, the actual result can be for a different `EditText`. Perhaps the problem could me mitigated with something like that:\r\n\r\n```java\r\nprivate View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\r\n    return (view, hasFocus) -&gt; {\r\n        if (hasFocus) {\r\n            EditText et = (EditText) v;\r\n            viewModel.getNewValue(et, currentValue);\r\n            viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; {\r\n    // Only perform the operation if the `EditText` is the affected one\r\n    if (et.equals(newValue.first)) {\r\n        newValue.first.setText(newValue.second);\r\n    }\r\n});\r\n            viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; {\r\n    if (et.equals(throwable.first)) {\r\n        Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable.second);\r\n    }\r\n});\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIn my opinion, according to the use case, you could get rid of the `newValueResponse` and `newValueError`  `MutableLiveData` instances. For example:\r\n\r\n```java\r\npublic void getNewValue(final EditText editText, final String currentValue) {\r\n    apiService.getNewValue(currentValue)\r\n            .subscribeOn(Schedulers.io())\r\n            .subscribe(new SingleObserver&lt;String&gt;() {\r\n                @Override\r\n                public void onSubscribe(@NonNull Disposable d) {\r\n                    compositeDisposable.add(d);\r\n                }\r\n\r\n                @Override\r\n                public void onSuccess(@NonNull String newValue) {\r\n                    editText.seText(newValue);\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable throwable) {\r\n                    Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable);\r\n                }\r\n            });\r\n}\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\nprivate View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\r\n    return (view, hasFocus) -&gt; {\r\n        if (hasFocus) {\r\n            EditText et = (EditText) v;\r\n            viewModel.getNewValue(et, currentValue);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nOr perhaps more semantically:\r\n\r\n```java\r\npublic void getNewValue(final String currentValue) {\r\n    return apiService.getNewValue(currentValue)\r\n                     .subscribeOn(Schedulers.io());\r\n}\r\n```\r\n\r\n```java\r\nprivate View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\r\n    return (view, hasFocus) -&gt; {\r\n        if (hasFocus) {\r\n            EditText et = (EditText) v;\r\n            viewModel.getNewValue(et, currentValue)\r\n                         .subscribe(new SingleObserver&lt;String&gt;() {\r\n                             @Override\r\n                             public void onSubscribe(@NonNull Disposable d) {\r\n                                 compositeDisposable.add(d);\r\n                             }\r\n\r\n                             @Override\r\n                             public void onSuccess(@NonNull String newValue) {\r\n                                 et.seText(newValue);\r\n                             }\r\n\r\n                             @Override\r\n                             public void onError(@NonNull Throwable throwable) {\r\n                                 Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable);\r\n                             }\r\n                         });\r\n        }\r\n    };\r\n}\r\n```\r\n","title":"Send specific request multiple times with different parameters using Retrofit &amp; RxJava","body":"<p>I am not very familiar with Android programing, so sorry if I am missing something and make any mistake, but why don't you pass a reference to the <code>EditText</code> that has been focused to the <code>getNewValue</code> method?</p>\n<p>Consider for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final MutableLiveData&lt;Pair&lt;EditText, String&gt;&gt; newValueResponse = new MutableLiveData&lt;&gt;();\nprivate final MutableLiveData&lt;air&lt;EditText, Throwable&gt;&gt; newValueError = new MutableLiveData&lt;&gt;();\n\n//...\n\npublic void getNewValue(final EditText editText, final String currentValue) {\n    apiService.getNewValue(currentValue)\n            .subscribeOn(Schedulers.io())\n            .subscribe(new SingleObserver&lt;String&gt;() {\n                @Override\n                public void onSubscribe(@NonNull Disposable d) {\n                    compositeDisposable.add(d);\n                }\n\n                @Override\n                public void onSuccess(@NonNull String newValue) {\n                    newValueResponse.postValue(Pair.create(editText, newValue));\n                }\n\n                @Override\n                public void onError(@NonNull Throwable throwable) {\n                    newValueError.postValue(Pair.create(editText, throwable));\n                }\n            });\n}\n\npublic LiveData&lt;Pair&lt;EditText, String&gt;&gt; getNewValueResponse() {\n    return newValueResponse;\n}\n\npublic LiveData&lt;Pair&lt;EditText, Throwable&gt;&gt; getNewValueError() {\n    return newValueError;\n}\n</code></pre>\n<p>The <code>OnFocusChangeListener</code> will look like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\n    return (view, hasFocus) -&gt; {\n        if (hasFocus) {\n            EditText et = (EditText) v;\n            viewModel.getNewValue(et, currentValue);\n            viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; newValue.first.setText(newValue.second));\n            viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable.second));\n        }\n    };\n}\n</code></pre>\n<p>In a certain way I found this last code fragment strange, because if you thing about it, due to the asynchronous nature of the API call, the actual result can be for a different <code>EditText</code>. Perhaps the problem could me mitigated with something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\n    return (view, hasFocus) -&gt; {\n        if (hasFocus) {\n            EditText et = (EditText) v;\n            viewModel.getNewValue(et, currentValue);\n            viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; {\n    // Only perform the operation if the `EditText` is the affected one\n    if (et.equals(newValue.first)) {\n        newValue.first.setText(newValue.second);\n    }\n});\n            viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; {\n    if (et.equals(throwable.first)) {\n        Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable.second);\n    }\n});\n        }\n    };\n}\n</code></pre>\n<p>In my opinion, according to the use case, you could get rid of the <code>newValueResponse</code> and <code>newValueError</code>  <code>MutableLiveData</code> instances. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getNewValue(final EditText editText, final String currentValue) {\n    apiService.getNewValue(currentValue)\n            .subscribeOn(Schedulers.io())\n            .subscribe(new SingleObserver&lt;String&gt;() {\n                @Override\n                public void onSubscribe(@NonNull Disposable d) {\n                    compositeDisposable.add(d);\n                }\n\n                @Override\n                public void onSuccess(@NonNull String newValue) {\n                    editText.seText(newValue);\n                }\n\n                @Override\n                public void onError(@NonNull Throwable throwable) {\n                    Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable);\n                }\n            });\n}\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\n    return (view, hasFocus) -&gt; {\n        if (hasFocus) {\n            EditText et = (EditText) v;\n            viewModel.getNewValue(et, currentValue);\n        }\n    };\n}\n</code></pre>\n<p>Or perhaps more semantically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getNewValue(final String currentValue) {\n    return apiService.getNewValue(currentValue)\n                     .subscribeOn(Schedulers.io());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\n    return (view, hasFocus) -&gt; {\n        if (hasFocus) {\n            EditText et = (EditText) v;\n            viewModel.getNewValue(et, currentValue)\n                         .subscribe(new SingleObserver&lt;String&gt;() {\n                             @Override\n                             public void onSubscribe(@NonNull Disposable d) {\n                                 compositeDisposable.add(d);\n                             }\n\n                             @Override\n                             public void onSuccess(@NonNull String newValue) {\n                                 et.seText(newValue);\n                             }\n\n                             @Override\n                             public void onError(@NonNull Throwable throwable) {\n                                 Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable);\n                             }\n                         });\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":8603529,"reputation":3209,"user_id":6444297,"accept_rate":71,"display_name":"Alireza Noorali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70437509,"answer_count":1,"score":2,"last_activity_date":1640104976,"creation_date":1639397523,"question_id":70334465,"body_markdown":"I have n EditTexts with their own texts:\r\n\r\neditText1 -&gt; text: 13\r\n\r\neditText2 -&gt; text: 15\r\n\r\neditText3 -&gt; text: 20\r\n\r\n...\r\n\r\nAnd there is an API method named as `getNewValue(String currentValue)`. It will get the new value of each EditText due to the current value.\r\n\r\n**Scenario:**\r\n`getNewValue()` request will be sent if each EditText get focused and the new value will be set on focused EditText.\r\n\r\n**How can I achieve this goal using Retrofit, RxJava and ViewModel?**\r\n\r\nI tried this code:\r\n\r\n**Fragment:**\r\n\r\n    editText1.setOnFocusChangeListener(getEtFocusChangeListener(editText1.getText().toString()));\r\n    editText2.setOnFocusChangeListener(getEtFocusChangeListener(editText2.getText().toString()));\r\n    editText3.setOnFocusChangeListener(getEtFocusChangeListener(editText3.getText().toString()));\r\n-\r\n\r\n    private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\r\n        return (view, hasFocus) -&gt; {\r\n            if (hasFocus) {\r\n                EditText et = (EditText) v;\r\n                viewModel.getNewValue(currentValue);\r\n                viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; et.setText(newValue));\r\n                viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable));\r\n            }\r\n        };\r\n    }\r\n\r\n**ViewModel:**\r\n\r\n    private final MutableLiveData&lt;String&gt; newValueResponse = new MutableLiveData&lt;&gt;();\r\n    private final MutableLiveData&lt;Throwable&gt; newValueError = new MutableLiveData&lt;&gt;();\r\n\r\n-\r\n\r\n    public void getNewValue(String currentValue) {\r\n        apiService.getNewValue(currentValue)\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(new SingleObserver&lt;String&gt;() {\r\n                    @Override\r\n                    public void onSubscribe(@NonNull Disposable d) {\r\n                        compositeDisposable.add(d);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onSuccess(@NonNull String newValue) {\r\n                        newValueResponse.postValue(newValue);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull Throwable throwable) {\r\n                        newValueError.postValue(throwable);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public LiveData&lt;String&gt; getNewValueResponse() {\r\n        return newValueResponse;\r\n    }\r\n\r\n    public LiveData&lt;Throwable&gt; getNewValueError() {\r\n        return newValueError;\r\n    }\r\n\r\n**ApiService:**\r\n\r\n    @GET(&quot;Values/GetNewValue&quot;)\r\n    Single&lt;String&gt; getNewValue(@Query(&quot;currentValue&quot;) String currentValue);\r\n___\r\nOne solution is to declare a global variable to save the the last focused `EditText` and use it when the request respond, but I think there is a better &amp; smarter solution.","title":"Send specific request multiple times with different parameters using Retrofit &amp; RxJava","body":"<p>I have n EditTexts with their own texts:</p>\n<p>editText1 -&gt; text: 13</p>\n<p>editText2 -&gt; text: 15</p>\n<p>editText3 -&gt; text: 20</p>\n<p>...</p>\n<p>And there is an API method named as <code>getNewValue(String currentValue)</code>. It will get the new value of each EditText due to the current value.</p>\n<p><strong>Scenario:</strong>\n<code>getNewValue()</code> request will be sent if each EditText get focused and the new value will be set on focused EditText.</p>\n<p><strong>How can I achieve this goal using Retrofit, RxJava and ViewModel?</strong></p>\n<p>I tried this code:</p>\n<p><strong>Fragment:</strong></p>\n<pre><code>editText1.setOnFocusChangeListener(getEtFocusChangeListener(editText1.getText().toString()));\neditText2.setOnFocusChangeListener(getEtFocusChangeListener(editText2.getText().toString()));\neditText3.setOnFocusChangeListener(getEtFocusChangeListener(editText3.getText().toString()));\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>private View.OnFocusChangeListener getEtFocusChangeListener(String currentValue) {\n    return (view, hasFocus) -&gt; {\n        if (hasFocus) {\n            EditText et = (EditText) v;\n            viewModel.getNewValue(currentValue);\n            viewModel.getNewValueResponse().observe(getViewLifecycleOwner(), newValue -&gt; et.setText(newValue));\n            viewModel.getNewValueError().observe(getViewLifecycleOwner(), throwable -&gt; Log.i(TAG, &quot;New Value Error -----&gt; &quot; + throwable));\n        }\n    };\n}\n</code></pre>\n<p><strong>ViewModel:</strong></p>\n<pre><code>private final MutableLiveData&lt;String&gt; newValueResponse = new MutableLiveData&lt;&gt;();\nprivate final MutableLiveData&lt;Throwable&gt; newValueError = new MutableLiveData&lt;&gt;();\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>public void getNewValue(String currentValue) {\n    apiService.getNewValue(currentValue)\n            .subscribeOn(Schedulers.io())\n            .subscribe(new SingleObserver&lt;String&gt;() {\n                @Override\n                public void onSubscribe(@NonNull Disposable d) {\n                    compositeDisposable.add(d);\n                }\n\n                @Override\n                public void onSuccess(@NonNull String newValue) {\n                    newValueResponse.postValue(newValue);\n                }\n\n                @Override\n                public void onError(@NonNull Throwable throwable) {\n                    newValueError.postValue(throwable);\n                }\n            });\n}\n\npublic LiveData&lt;String&gt; getNewValueResponse() {\n    return newValueResponse;\n}\n\npublic LiveData&lt;Throwable&gt; getNewValueError() {\n    return newValueError;\n}\n</code></pre>\n<p><strong>ApiService:</strong></p>\n<pre><code>@GET(&quot;Values/GetNewValue&quot;)\nSingle&lt;String&gt; getNewValue(@Query(&quot;currentValue&quot;) String currentValue);\n</code></pre>\n<hr />\n<p>One solution is to declare a global variable to save the the last focused <code>EditText</code> and use it when the request respond, but I think there is a better &amp; smarter solution.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":11175433,"reputation":329,"user_id":8201193,"display_name":"spa"},"score":0,"creation_date":1640102509,"post_id":70437861,"comment_id":124513272,"body_markdown":"Hi @xerx593 , when i use &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;  It gave me compilation error Cannot find symbol : MongoClient and cannot find symblo for various classes of MongoDB and hence i used     &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;  which resolved my compilation issue . Now i am facing runtime error","body":"Hi @xerx593 , when i use &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; \t\t&lt;/dependency&gt;  It gave me compilation error Cannot find symbol : MongoClient and cannot find symblo for various classes of MongoDB and hence i used     &lt;dependency&gt;     &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;     &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;     &lt;version&gt;2.2.5.RELEASE&lt;/version&gt; &lt;/dependency&gt;  which resolved my compilation issue . Now i am facing runtime error"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640103477,"post_id":70437861,"comment_id":124513674,"body_markdown":"that means: or you will resolve the compilation issues, or you will not upgrade (spring-boot)! ;(","body":"that means: or you will resolve the compilation issues, or you will not upgrade (spring-boot)! ;("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640103695,"post_id":70437861,"comment_id":124513778,"body_markdown":"I hope [this(offcial, correct version(s) upgrade guide)](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#upgrading.2-3) helps!","body":"I hope <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#upgrading.2-3\" rel=\"nofollow noreferrer\">this(offcial, correct version(s) upgrade guide)</a> helps!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640104338,"post_id":70437861,"comment_id":124514068,"body_markdown":"and if you (today) upgrade spring-boot then &quot;try all-in&quot;: `2.6.1`! ;)","body":"and if you (today) upgrade spring-boot then &quot;try all-in&quot;: <code>2.6.1</code>! ;)"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640104841,"creation_date":1640102327,"answer_id":70438236,"question_id":70437861,"body_markdown":"&gt;Why you &quot;upgrade spring boot to 2.5.7&quot;? (why, today, not 2.6.1?;) But why do you leave spring-data-mongodb: **2.2.5.RELEASE** ? \r\n\r\n#### Please align\r\nI.e.: Confirm spring-data-mongodb version with spring-boot version (or vice versa)! In case of `2.5.7`, these would be:\r\n\r\n- org.mongodb:mongodb-driver-sync:**4.2.3**\r\n- org.springframework.data:spring-data-mongodb:**3.2.7**  \r\n\r\n...[proof for both][1]. #\r\n\r\n----------\r\nFor upgrading spring-data-mongodb (**or not!**) `2.x -&gt; 3.x`, (which is obviously required by upgrading to spring-boot:2.XXX), please refer to [Reference Documentation#upgrading.2-3](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#upgrading.2-3).\r\n\r\nHopefully also helpful: [(latest) Spring Boot Release Notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes) (with quick links to previous releases, &lt;kbd&gt;Ctrl+F&lt;/kbd&gt;, `mongo`...` data`;)\r\n\r\n  [1]: https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-data-mongodb/2.5.7/spring-boot-starter-data-mongodb-2.5.7.pom","title":"Spring Boot - After upgrading from 2.2.5 to 2.5.7, application failed to start","body":"<blockquote>\n<p>Why you &quot;upgrade spring boot to 2.5.7&quot;? (why, today, not 2.6.1?;) But why do you leave spring-data-mongodb: <strong>2.2.5.RELEASE</strong> ?</p>\n</blockquote>\n<h4>Please align</h4>\n<p>I.e.: Confirm spring-data-mongodb version with spring-boot version (or vice versa)! In case of <code>2.5.7</code>, these would be:</p>\n<ul>\n<li>org.mongodb:mongodb-driver-sync:<strong>4.2.3</strong></li>\n<li>org.springframework.data:spring-data-mongodb:<strong>3.2.7</strong></li>\n</ul>\n<p>...<a href=\"https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-data-mongodb/2.5.7/spring-boot-starter-data-mongodb-2.5.7.pom\" rel=\"nofollow noreferrer\">proof for both</a>. #</p>\n<hr />\n<p>For upgrading spring-data-mongodb (<strong>or not!</strong>) <code>2.x -&gt; 3.x</code>, (which is obviously required by upgrading to spring-boot:2.XXX), please refer to <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#upgrading.2-3\" rel=\"nofollow noreferrer\">Reference Documentation#upgrading.2-3</a>.</p>\n<p>Hopefully also helpful: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">(latest) Spring Boot Release Notes</a> (with quick links to previous releases, <kbd>Ctrl+F</kbd>, <code>mongo</code>...<code> data</code>;)</p>\n"}],"owner":{"account_id":11175433,"reputation":329,"user_id":8201193,"display_name":"spa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640104841,"creation_date":1640100520,"question_id":70437861,"body_markdown":"I upgraded spring boot from 2.2.5 to 2.5.7 and I&#39;am using MongoDB. Since compilation failed i removed spring-boot-starter-mongo and i added below dependencies which resolved my compilation issues\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;3.11.2&lt;/version&gt;    \r\n    &lt;/dependency&gt;\r\n \t&lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n      &lt;version&gt;3.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\nWith all above changes if i run application i am facing ***java.lang.ClassNotFoundException: org.springframework.data.mongodb.MongoDatabaseFactory***\r\n\r\n**Also adding runtime log:**\r\n\r\n**Need inputs to resolve this issue**\r\n\r\n\r\n    2021-12-21 20:16:00.263 ERROR [ht-ui-api : ] 19004 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    java.lang.IllegalArgumentException: Could not find class [org.springframework.data.mongodb.MongoDatabaseFactory]\r\n    \tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.7.jar:2.5.7]\r\n    \tat com.htds.api.HtUiApiApplication.main(HtUiApiApplication.java:15) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.7.jar:2.5.7]\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.data.mongodb.MongoDatabaseFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:468) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.5.7.jar:2.5.7]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:468) ~[na:na]\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.13.jar:5.3.13]\r\n    \t... 29 common frames omitted\r\n\r\n*\r\n\r\n\r\n","title":"Spring Boot - After upgrading from 2.2.5 to 2.5.7, application failed to start","body":"<p>I upgraded spring boot from 2.2.5 to 2.5.7 and I'am using MongoDB. Since compilation failed i removed spring-boot-starter-mongo and i added below dependencies which resolved my compilation issues</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\n  &lt;version&gt;3.11.2&lt;/version&gt;    \n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n  &lt;version&gt;3.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n  &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n</code></pre>\n   \n<p>With all above changes if i run application i am facing <em><strong>java.lang.ClassNotFoundException: org.springframework.data.mongodb.MongoDatabaseFactory</strong></em></p>\n<p><strong>Also adding runtime log:</strong></p>\n<p><strong>Need inputs to resolve this issue</strong></p>\n<pre><code>2021-12-21 20:16:00.263 ERROR [ht-ui-api : ] 19004 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalArgumentException: Could not find class [org.springframework.data.mongodb.MongoDatabaseFactory]\n    at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.7.jar:2.5.7]\n    at com.htds.api.HtUiApiApplication.main(HtUiApiApplication.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.7.jar:2.5.7]\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.mongodb.MongoDatabaseFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:468) ~[na:na]\n    at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.5.7.jar:2.5.7]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:468) ~[na:na]\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.13.jar:5.3.13]\n    ... 29 common frames omitted\n</code></pre>\n<ul>\n<li></li>\n</ul>\n"},{"tags":["java","multithreading","tomcat"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1640099733,"post_id":70437613,"comment_id":124512162,"body_markdown":"Why the hell would you think that?","body":"Why the hell would you think that?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640102922,"creation_date":1640099943,"answer_id":70437729,"question_id":70437613,"body_markdown":"The first time I ever wrote a multi-threaded program, it was meant to run on a computer that had only one CPU core. Threads were invented to provide [_concurrency_](https://en.wikipedia.org/wiki/Concurrent_computing), which is a broader topic than [_parallel processing_](https://en.wikipedia.org/wiki/Parallel_computing). It can be advantageous for a web server to have more pool-worker threads than it has CPUs if those threads spend significant time in a _blocked_ state (e.g., awaiting disk I/O.)\r\n\r\n-----------\r\n\r\n&gt; the number of cpu cores rarely exceeds 32\r\n\r\nI don&#39;t know what&#39;s rare and what&#39;s not, but _some_ computers have way more than 32. The largest of IBM&#39;s current mainframe computers can be configured with more than 200 cores.\r\n\r\nhttps://en.wikipedia.org/wiki/IBM_Z","title":"Tomcat thread pool size and number of cores","body":"<p>The first time I ever wrote a multi-threaded program, it was meant to run on a computer that had only one CPU core. Threads were invented to provide <a href=\"https://en.wikipedia.org/wiki/Concurrent_computing\" rel=\"nofollow noreferrer\"><em>concurrency</em></a>, which is a broader topic than <a href=\"https://en.wikipedia.org/wiki/Parallel_computing\" rel=\"nofollow noreferrer\"><em>parallel processing</em></a>. It can be advantageous for a web server to have more pool-worker threads than it has CPUs if those threads spend significant time in a <em>blocked</em> state (e.g., awaiting disk I/O.)</p>\n<hr />\n<blockquote>\n<p>the number of cpu cores rarely exceeds 32</p>\n</blockquote>\n<p>I don't know what's rare and what's not, but <em>some</em> computers have way more than 32. The largest of IBM's current mainframe computers can be configured with more than 200 cores.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/IBM_Z\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/IBM_Z</a></p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640100065,"creation_date":1640100065,"answer_id":70437759,"question_id":70437613,"body_markdown":"All sorts of thing can happen during the processing of a request: files can be read, queries can be executed on a remote database server, calls can be made to remote webservices, all these operations are opportunities for a context switch to another thread. ","title":"Tomcat thread pool size and number of cores","body":"<p>All sorts of thing can happen during the processing of a request: files can be read, queries can be executed on a remote database server, calls can be made to remote webservices, all these operations are opportunities for a context switch to another thread.</p>\n"},{"tags":[],"owner":{"account_id":17231900,"reputation":89,"user_id":12476275,"display_name":"Dennis Afanasev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640100179,"creation_date":1640100179,"answer_id":70437784,"question_id":70437613,"body_markdown":"`the number of cpu cores rarely exceeds 32.`\r\nAs others have mentioned, threads provide concurrency - another thread can be executing while a different thread is in a blocked state. If all threads were in an active state, then it&#39;s true that some threads will context switch to another thread assigned to its core. But anyway, this also seems like a configurable parameter - https://www.baeldung.com/java-web-thread-pool-config\r\n","title":"Tomcat thread pool size and number of cores","body":"<p><code>the number of cpu cores rarely exceeds 32.</code>\nAs others have mentioned, threads provide concurrency - another thread can be executing while a different thread is in a blocked state. If all threads were in an active state, then it's true that some threads will context switch to another thread assigned to its core. But anyway, this also seems like a configurable parameter - <a href=\"https://www.baeldung.com/java-web-thread-pool-config\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-web-thread-pool-config</a></p>\n"}],"owner":{"account_id":23650588,"reputation":65,"user_id":17679519,"display_name":"majava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2986,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1640105295,"accepted_answer_id":70437784,"answer_count":3,"score":-1,"last_activity_date":1640104597,"creation_date":1640099391,"question_id":70437613,"body_markdown":"Tomcat creates 25 threads by default and creates up to 200 additional threads by default.\r\n\r\nBut the question is, the number of cpu cores rarely exceeds 32.\r\n\r\nIn other words, since the number of parallel processing is around 32, I think that the maximum number of thread pools is 50.\r\n\r\nI don&#39;t know why Tomcat made the maximum number of threads 200.\r\n\r\nOr is it allocated a thread and queued when a request comes in, even if it cannot be processed in parallel? If so, it&#39;s very strange. Why are you allocating resources that can&#39;t even be executed to threads?\r\n(Of course, i know that if there are no threads in the thread pool, it will queue up.)\r\n\r\n","title":"Tomcat thread pool size and number of cores","body":"<p>Tomcat creates 25 threads by default and creates up to 200 additional threads by default.</p>\n<p>But the question is, the number of cpu cores rarely exceeds 32.</p>\n<p>In other words, since the number of parallel processing is around 32, I think that the maximum number of thread pools is 50.</p>\n<p>I don't know why Tomcat made the maximum number of threads 200.</p>\n<p>Or is it allocated a thread and queued when a request comes in, even if it cannot be processed in parallel? If so, it's very strange. Why are you allocating resources that can't even be executed to threads?\n(Of course, i know that if there are no threads in the thread pool, it will queue up.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1640104230,"post_id":70438527,"comment_id":124514025,"body_markdown":"1. Instead of printing your outputs in the loop, save them in some data structure that  can hold multiple values (a List or an Array for example). 2. Once your loop is finished iterate over that data structure and print all values in it.","body":"1. Instead of printing your outputs in the loop, save them in some data structure that  can hold multiple values (a List or an Array for example). 2. Once your loop is finished iterate over that data structure and print all values in it."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640104499,"creation_date":1640104499,"answer_id":70438713,"question_id":70438527,"body_markdown":"One option is to save the inputs to an array or list, and then loop over it and print all the results once the input is done. E.g.:\r\n\r\n```java\r\nint[] inputs = new int[N];\r\nfor (int i = 0; i &lt; N; i++) {\r\n    inputs[i] = in.nextInt();\r\n}\r\n\r\nfor (int i = 0; i &lt; N; i++) {\r\n    int F = 1;\r\n    for (int j = inputs[i]; j &gt; 0; j--) {\r\n        F = F * j;\r\n    }\r\n    System.out.println(input[i] + &quot;! = &quot; + F);\r\n} \r\n```","title":"How to display the output after finishing entering the inputs?","body":"<p>One option is to save the inputs to an array or list, and then loop over it and print all the results once the input is done. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] inputs = new int[N];\nfor (int i = 0; i &lt; N; i++) {\n    inputs[i] = in.nextInt();\n}\n\nfor (int i = 0; i &lt; N; i++) {\n    int F = 1;\n    for (int j = inputs[i]; j &gt; 0; j--) {\n        F = F * j;\n    }\n    System.out.println(input[i] + &quot;! = &quot; + F);\n} \n</code></pre>\n"}],"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70438713,"answer_count":1,"score":0,"last_activity_date":1640104499,"creation_date":1640103687,"question_id":70438527,"body_markdown":"&gt; here iam trying to get the factorial of N of numbers entered by the user , the problem is I want to display the output after entering all of the inputs,\r\nmy code here display the output like this:\r\n\r\n&gt;2  &quot;N of numbers&quot;\r\n\r\n&gt;5 &quot;first input&quot;\r\n\r\n&gt;120 &quot;output of first input&quot;\r\n\r\n&gt;3 &quot;second input&quot;\r\n\r\n&gt;6  &quot;output of second input&quot;\r\n \r\n&gt;and I want it to be like this:\r\n\r\n&gt;2  &quot;N of numbers&quot;\r\n\r\n&gt;5  &quot;first input&quot;\r\n\r\n&gt;3  &quot;second input&quot;\r\n\r\n&gt;120 &quot; output of first&quot;\r\n\r\n&gt;6   &quot;output of second&quot;\r\n\r\n\r\n```import java.util.*;\r\n\r\npublic class NewMain {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n \r\n        int N = in.nextInt();\r\n       \r\n        for (int i = 0; i &lt; N; i++) {\r\n              int F = 1;\r\n            int num = in.nextInt();\r\n           \r\n           \r\n           \r\n\r\n            for (int j = num; j &gt; 0; j--) {\r\n\r\n                F = F * j;\r\n               \r\n             \r\n          \r\n                     }\r\n                     System.out.println(F);\r\n            } \r\n                 \r\n         \r\n           \r\n        }\r\n       \r\n    }\r\n\r\n ```\r\n\r\n","title":"How to display the output after finishing entering the inputs?","body":"<blockquote>\n<p>here iam trying to get the factorial of N of numbers entered by the user , the problem is I want to display the output after entering all of the inputs,\nmy code here display the output like this:</p>\n</blockquote>\n<blockquote>\n<p>2  &quot;N of numbers&quot;</p>\n</blockquote>\n<blockquote>\n<p>5 &quot;first input&quot;</p>\n</blockquote>\n<blockquote>\n<p>120 &quot;output of first input&quot;</p>\n</blockquote>\n<blockquote>\n<p>3 &quot;second input&quot;</p>\n</blockquote>\n<blockquote>\n<p>6  &quot;output of second input&quot;</p>\n</blockquote>\n<blockquote>\n<p>and I want it to be like this:</p>\n</blockquote>\n<blockquote>\n<p>2  &quot;N of numbers&quot;</p>\n</blockquote>\n<blockquote>\n<p>5  &quot;first input&quot;</p>\n</blockquote>\n<blockquote>\n<p>3  &quot;second input&quot;</p>\n</blockquote>\n<blockquote>\n<p>120 &quot; output of first&quot;</p>\n</blockquote>\n<blockquote>\n<p>6   &quot;output of second&quot;</p>\n</blockquote>\n<pre><code>\npublic class NewMain {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n \n        int N = in.nextInt();\n       \n        for (int i = 0; i &lt; N; i++) {\n              int F = 1;\n            int num = in.nextInt();\n           \n           \n           \n\n            for (int j = num; j &gt; 0; j--) {\n\n                F = F * j;\n               \n             \n          \n                     }\n                     System.out.println(F);\n            } \n                 \n         \n           \n        }\n       \n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","inheritance","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640104479,"creation_date":1640104479,"answer_id":70438703,"question_id":70437663,"body_markdown":"Yes. It is because an abstract class cannot (nor interfaces) be instantiated.  You could use a converter but to instantiate a concrete class you need to know what is its the actual type:\r\n\r\n\tvar roomConverter = new Converter&lt;RoomDto, Room&gt;() {\r\n        // inner mapper to avoid any side effects\r\n\t\tprivate final ModelMapper innerMapper = new ModelMapper();\r\n\r\n\t\t@Override\r\n\t\tpublic Room convert(MappingContext&lt;RoomDto, Room&gt; context) {\r\n\t\t\t// If your RoomDto had the type as field you could determine the actual type to\r\n\t\t\t// instantiate, so one of the possible many RoomImpl.\r\n\t\t\treturn innerMapper.map(context.getSource(), RoomImpl.class);\r\n\t\t}\r\n\t};\r\n\r\n\t// Create the type map and register converter\r\n\tmodelMapper.createTypeMap(RoomDto.class, Room.class).setConverter(roomConverter);\r\n\r\nNow adding field, for example:\r\n  \r\n    @Getter\r\n    private Class&lt;Room&gt; classOfRoom;\r\n\r\nit could be use in method `convert(..)` to instantiate the correct implementation.","title":"Failed to instantiate instance of destination [AbstractClass] error in ModelMapper","body":"<p>Yes. It is because an abstract class cannot (nor interfaces) be instantiated.  You could use a converter but to instantiate a concrete class you need to know what is its the actual type:</p>\n<pre><code>var roomConverter = new Converter&lt;RoomDto, Room&gt;() {\n    // inner mapper to avoid any side effects\n    private final ModelMapper innerMapper = new ModelMapper();\n\n    @Override\n    public Room convert(MappingContext&lt;RoomDto, Room&gt; context) {\n        // If your RoomDto had the type as field you could determine the actual type to\n        // instantiate, so one of the possible many RoomImpl.\n        return innerMapper.map(context.getSource(), RoomImpl.class);\n    }\n};\n\n// Create the type map and register converter\nmodelMapper.createTypeMap(RoomDto.class, Room.class).setConverter(roomConverter);\n</code></pre>\n<p>Now adding field, for example:</p>\n<pre><code>@Getter\nprivate Class&lt;Room&gt; classOfRoom;\n</code></pre>\n<p>it could be use in method <code>convert(..)</code> to instantiate the correct implementation.</p>\n"}],"owner":{"account_id":23439338,"reputation":33,"user_id":17497036,"display_name":"N J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640104479,"creation_date":1640099632,"question_id":70437663,"body_markdown":"I have Abstract class `Room`:\r\n\r\n    @Entity\r\n    @DiscriminatorColumn(name = &quot;room_type&quot;)\r\n    @Data\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;room_id&quot;, nullable = false, unique = true)\r\n    private int roomId;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, length = 255)\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;room&quot;)\r\n    private List&lt;Workstation&gt; workstationsList;\r\n    }\r\n    \r\nI also have some concrete classes that extends from `Room`.\r\nIn my `Workstation` class i have `One to one` relationship with `Room`:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Workstation {\r\n    @Id\r\n    @Column(name = &quot;workstation_id&quot;, nullable = false, unique = true)\r\n    private int workstationId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;room_id&quot;)\r\n    private Room room;\r\n    }\r\n    \r\n\r\nI am using `ModelMaper` to map `WorkstationDTO` to `Workstation` entity but i am getting `Failed to instantiate instance of destination com.entity.Room. Ensure that com.entity.Room has a non-private no-argument constructor.` which is probably because `Room` is abstract class, is there a way to solve this without removing abstract keyword in `Room` entity?\r\n","title":"Failed to instantiate instance of destination [AbstractClass] error in ModelMapper","body":"<p>I have Abstract class <code>Room</code>:</p>\n<pre><code>@Entity\n@DiscriminatorColumn(name = &quot;room_type&quot;)\n@Data\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Room {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;room_id&quot;, nullable = false, unique = true)\nprivate int roomId;\n\n@Column(name = &quot;name&quot;, nullable = false, length = 255)\nprivate String name;\n\n@JsonIgnore\n@OneToMany(mappedBy = &quot;room&quot;)\nprivate List&lt;Workstation&gt; workstationsList;\n}\n</code></pre>\n<p>I also have some concrete classes that extends from <code>Room</code>.\nIn my <code>Workstation</code> class i have <code>One to one</code> relationship with <code>Room</code>:</p>\n<pre><code>@Entity\n@Data\npublic class Workstation {\n@Id\n@Column(name = &quot;workstation_id&quot;, nullable = false, unique = true)\nprivate int workstationId;\n\n@ManyToOne\n@JoinColumn(name = &quot;room_id&quot;)\nprivate Room room;\n}\n</code></pre>\n<p>I am using <code>ModelMaper</code> to map <code>WorkstationDTO</code> to <code>Workstation</code> entity but i am getting <code>Failed to instantiate instance of destination com.entity.Room. Ensure that com.entity.Room has a non-private no-argument constructor.</code> which is probably because <code>Room</code> is abstract class, is there a way to solve this without removing abstract keyword in <code>Room</code> entity?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640104784,"post_id":70438681,"comment_id":124514256,"body_markdown":"Create a method: `LocalTime now() { return LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;)); }`","body":"Create a method: <code>LocalTime now() { return LocalTime.now(ZoneId.of(&quot;America&#47;Mexico_City&quot;)); }</code>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1640104794,"post_id":70438681,"comment_id":124514263,"body_markdown":"The output in the second example is what should be expected. You are creating one LocalTime object and using it in multiple places without reassigning it in-between. So It will have one value and that value will stay fixed. If you want to always get the current local time for every method call then the first example code is the correct way to do it.  There is no way to have an object magically update its value every time it is referenced in the code.","body":"The output in the second example is what should be expected. You are creating one LocalTime object and using it in multiple places without reassigning it in-between. So It will have one value and that value will stay fixed. If you want to always get the current local time for every method call then the first example code is the correct way to do it.  There is no way to have an object magically update its value every time it is referenced in the code."},{"owner":{"account_id":20065489,"reputation":3,"user_id":14716614,"display_name":"Emiliano Vazquez Banda"},"score":0,"creation_date":1640314998,"post_id":70438681,"comment_id":124568654,"body_markdown":"Thanks for the feedback. I was asking this, to know if it was a good practice to do that","body":"Thanks for the feedback. I was asking this, to know if it was a good practice to do that"}],"owner":{"account_id":20065489,"reputation":3,"user_id":14716614,"display_name":"Emiliano Vazquez Banda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640104369,"creation_date":1640104369,"question_id":70438681,"body_markdown":"I would like to know if it is possible to create a LocalTime variable to re-use in different methods.\r\n\r\nI have a class `Notes` and the next methods\r\n```\r\n public void createNote(Note note) {\r\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\r\n        note.setCreatedAt(now);\r\n        note.setUpdatedAt(now);\r\n }\r\npublic void updateNote(int noteId, Note modifyNote) {\r\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\r\n        note.setTitle(modifyNote.getTitle());\r\n        note.setContent(modifyNote.getContent());\r\n        note.setUpdatedAt(now);\r\n }\r\n public void updateAllNotes() {\r\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\r\n        update.set(&quot;updatedAt&quot;, now);\r\n }\r\n```\r\nAll works fine with this implementation. The output is the next\r\n```\r\nNote1\r\nCreated At: 12:01:03\r\nLast Update: 15:24:41\r\n```\r\nBut I&#39;m looking for something like \r\n```\r\nprivate LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\r\n\r\n public void createNote(Note note) {\r\n        note.setCreatedAt(now);\r\n        note.setUpdatedAt(now);\r\n }\r\npublic void updateNote(int noteId, Note modifyNote) {\r\n        note.setTitle(modifyNote.getTitle());\r\n        note.setContent(modifyNote.getContent());\r\n        note.setUpdatedAt(now);\r\n }\r\n public void updateAllNotes() {\r\n        update.set(&quot;updatedAt&quot;, now);\r\n }\r\n```\r\n\r\nI tried this but what I got It&#39;s the same time.\r\n\r\nExample\r\n```\r\nNote1\r\nCreated At: 12:01:03\r\nLast Update: 12:01:03\r\n```","title":"Re-use LocalTime variable for differents methods","body":"<p>I would like to know if it is possible to create a LocalTime variable to re-use in different methods.</p>\n<p>I have a class <code>Notes</code> and the next methods</p>\n<pre><code> public void createNote(Note note) {\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\n        note.setCreatedAt(now);\n        note.setUpdatedAt(now);\n }\npublic void updateNote(int noteId, Note modifyNote) {\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\n        note.setTitle(modifyNote.getTitle());\n        note.setContent(modifyNote.getContent());\n        note.setUpdatedAt(now);\n }\n public void updateAllNotes() {\n        LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\n        update.set(&quot;updatedAt&quot;, now);\n }\n</code></pre>\n<p>All works fine with this implementation. The output is the next</p>\n<pre><code>Note1\nCreated At: 12:01:03\nLast Update: 15:24:41\n</code></pre>\n<p>But I'm looking for something like</p>\n<pre><code>private LocalTime now = LocalTime.now(ZoneId.of(&quot;America/Mexico_City&quot;));\n\n public void createNote(Note note) {\n        note.setCreatedAt(now);\n        note.setUpdatedAt(now);\n }\npublic void updateNote(int noteId, Note modifyNote) {\n        note.setTitle(modifyNote.getTitle());\n        note.setContent(modifyNote.getContent());\n        note.setUpdatedAt(now);\n }\n public void updateAllNotes() {\n        update.set(&quot;updatedAt&quot;, now);\n }\n</code></pre>\n<p>I tried this but what I got It's the same time.</p>\n<p>Example</p>\n<pre><code>Note1\nCreated At: 12:01:03\nLast Update: 12:01:03\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-boot"],"comments":[{"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"score":0,"creation_date":1461121005,"post_id":36732689,"comment_id":61049439,"body_markdown":"Have you tried `.contextSource().url(&quot;ldap://10.x.x.x&quot;).port(&quot;389&quot;)` instead of `.contextSource().ldif(&quot;classpath:test-server.ldif&quot;);`?","body":"Have you tried <code>.contextSource().url(&quot;ldap:&#47;&#47;10.x.x.x&quot;).port(&quot;389&quot;)</code> instead of <code>.contextSource().ldif(&quot;classpath:test-server.ldif&quot;);</code>?"},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1499444032,"post_id":36732689,"comment_id":76925952,"body_markdown":"FYI, @jny, the input parameter for the `port()` method is an int, not a String.","body":"FYI, @jny, the input parameter for the <code>port()</code> method is an int, not a String."}],"answers":[{"tags":[],"owner":{"account_id":3408319,"reputation":10093,"user_id":2858871,"accept_rate":79,"display_name":"Emilien Brigand"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1461143285,"creation_date":1461142128,"answer_id":36738470,"question_id":36732689,"body_markdown":"Without LDIF, and using Spring, you can do something like:\r\n   \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class HttpSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(ldapAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider ldapAuthenticationProvider() throws Exception {\r\n            DefaultSpringSecurityContextSource contextSource = new DefaultSpringSecurityContextSource(ldapServerUrl);\r\n            contextSource.setUserDn(ldapManagerDn);\r\n            contextSource.setPassword(ldapManagerPassword);\r\n            contextSource.afterPropertiesSet();\r\n            LdapUserSearch ldapUserSearch = new FilterBasedLdapUserSearch(ldapUserSearchBase, ldapUserSearchFilter, contextSource);\r\n            BindAuthenticator bindAuthenticator = new BindAuthenticator(contextSource);\r\n            bindAuthenticator.setUserSearch(ldapUserSearch);\r\n            LdapAuthenticationProvider ldapAuthenticationProvider = new LdapAuthenticationProvider(bindAuthenticator, new DefaultLdapAuthoritiesPopulator(contextSource, ldapGroupSearchBase));\r\n            return ldapAuthenticationProvider;\r\n        }\r\n    }\r\n","title":"SpringBoot, how to Authenticate with LDAP without using ldif?","body":"<p>Without LDIF, and using Spring, you can do something like:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class HttpSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(ldapAuthenticationProvider());\n    }\n\n    @Bean\n    public AuthenticationProvider ldapAuthenticationProvider() throws Exception {\n        DefaultSpringSecurityContextSource contextSource = new DefaultSpringSecurityContextSource(ldapServerUrl);\n        contextSource.setUserDn(ldapManagerDn);\n        contextSource.setPassword(ldapManagerPassword);\n        contextSource.afterPropertiesSet();\n        LdapUserSearch ldapUserSearch = new FilterBasedLdapUserSearch(ldapUserSearchBase, ldapUserSearchFilter, contextSource);\n        BindAuthenticator bindAuthenticator = new BindAuthenticator(contextSource);\n        bindAuthenticator.setUserSearch(ldapUserSearch);\n        LdapAuthenticationProvider ldapAuthenticationProvider = new LdapAuthenticationProvider(bindAuthenticator, new DefaultLdapAuthoritiesPopulator(contextSource, ldapGroupSearchBase));\n        return ldapAuthenticationProvider;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7100312,"reputation":280,"user_id":5432178,"display_name":"Ali Miskeen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489086081,"creation_date":1489086081,"answer_id":42703418,"question_id":36732689,"body_markdown":"this one has worked perfectly for me but I need to make tiny modifications to it.\r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class HttpSecurityConfig extends WebSecurityConfigurerAdapter {\r\n            @Autowired\r\n            public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n                auth.authenticationProvider(ldapAuthenticationProvider());\r\n            }\r\n        \r\n            @Bean\r\n            public AuthenticationProvider ldapAuthenticationProvider() throws Exception {\r\n                DefaultSpringSecurityContextSource contextSource = new DefaultSpringSecurityContextSource(\r\n    Arrays.asList(&quot;ldapServerUrl:port&quot;),rootDn);\r\n                contextSource.afterPropertiesSet();\r\n                LdapUserSearch ldapUserSearch = new FilterBasedLdapUserSearch(ldapUserSearchBase, ldapUserSearchFilter, contextSource);\r\n                BindAuthenticator bindAuthenticator = new BindAuthenticator(contextSource);\r\n                bindAuthenticator.setUserSearch(ldapUserSearch);\r\n                LdapAuthenticationProvider ldapAuthenticationProvider = new LdapAuthenticationProvider(bindAuthenticator, new DefaultLdapAuthoritiesPopulator(contextSource, ldapGroupSearchBase));\r\n                return ldapAuthenticationProvider;\r\n            }\r\n        }\r\n\r\nI have suffered for days before getting to this point\r\nOther wise you can use custom authentication and make the like this\r\n\r\n        @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n        \r\n        private Logger log = Logger.getLogger(CustomAuthenticationProvider.class);\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) \r\n          throws AuthenticationException {\r\n    \r\n            String email = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n            \r\n            log.info(&quot;email : &quot; + email);\r\n            log.info(&quot;password : &quot; + password);\r\n    \r\n            try {\r\n                if (authenticate(email, password)) {\r\n                    \r\n                    // use the credentials\r\n                    // and authenticate against the third-party system\r\n                    return new UsernamePasswordAuthenticationToken(\r\n                            email, password, new ArrayList&lt;&gt;());\r\n                } else {\r\n                    return null;\r\n                }\r\n            } catch (NamingException ex) {\r\n                log.info(ex);\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        boolean isLdapRegistred(String username, String password) {\r\n        boolean result = false;\r\n        try {\r\n    \r\n            Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\r\n            env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n            env.put(Context.PROVIDER_URL, &quot;ldap://10.x.x.x:389&quot;);           \r\n            env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);         \r\n            env.put(Context.SECURITY_PRINCIPAL, &quot;OUR-DOMAIN\\\\&quot; + username);\r\n            env.put(Context.SECURITY_CREDENTIALS, password);\r\n    \r\n            // Create the initial context\r\n            DirContext ctx = new InitialDirContext(env);\r\n            result = ctx != null;\r\n            if (ctx != null)\r\n            ctx.close();\r\n            System.out.println(result);\r\n            return result;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;oops&quot;);\r\n            return result;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(\r\n              UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }\r\n\r\nand on another class\r\n\r\n        @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        private Logger log = Logger.getLogger(WebSecurityConfiguration.class);\r\n        @Autowired\r\n        private CustomAuthenticationProvider authProvider;\r\n    \r\n        @Override\r\n        protected void configure(\r\n          AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n            auth.authenticationProvider(authProvider);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        }\r\n    }\r\n\r\n\r\nThen the magic happens ","title":"SpringBoot, how to Authenticate with LDAP without using ldif?","body":"<p>this one has worked perfectly for me but I need to make tiny modifications to it.</p>\n\n<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class HttpSecurityConfig extends WebSecurityConfigurerAdapter {\n        @Autowired\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n            auth.authenticationProvider(ldapAuthenticationProvider());\n        }\n\n        @Bean\n        public AuthenticationProvider ldapAuthenticationProvider() throws Exception {\n            DefaultSpringSecurityContextSource contextSource = new DefaultSpringSecurityContextSource(\nArrays.asList(\"ldapServerUrl:port\"),rootDn);\n            contextSource.afterPropertiesSet();\n            LdapUserSearch ldapUserSearch = new FilterBasedLdapUserSearch(ldapUserSearchBase, ldapUserSearchFilter, contextSource);\n            BindAuthenticator bindAuthenticator = new BindAuthenticator(contextSource);\n            bindAuthenticator.setUserSearch(ldapUserSearch);\n            LdapAuthenticationProvider ldapAuthenticationProvider = new LdapAuthenticationProvider(bindAuthenticator, new DefaultLdapAuthoritiesPopulator(contextSource, ldapGroupSearchBase));\n            return ldapAuthenticationProvider;\n        }\n    }\n</code></pre>\n\n<p>I have suffered for days before getting to this point\nOther wise you can use custom authentication and make the like this</p>\n\n<pre><code>    @Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    private Logger log = Logger.getLogger(CustomAuthenticationProvider.class);\n\n    @Override\n    public Authentication authenticate(Authentication authentication) \n      throws AuthenticationException {\n\n        String email = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        log.info(\"email : \" + email);\n        log.info(\"password : \" + password);\n\n        try {\n            if (authenticate(email, password)) {\n\n                // use the credentials\n                // and authenticate against the third-party system\n                return new UsernamePasswordAuthenticationToken(\n                        email, password, new ArrayList&lt;&gt;());\n            } else {\n                return null;\n            }\n        } catch (NamingException ex) {\n            log.info(ex);\n        }\n        return null;\n    }\n\n    boolean isLdapRegistred(String username, String password) {\n    boolean result = false;\n    try {\n\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n        env.put(Context.PROVIDER_URL, \"ldap://10.x.x.x:389\");           \n        env.put(Context.SECURITY_AUTHENTICATION, \"simple\");         \n        env.put(Context.SECURITY_PRINCIPAL, \"OUR-DOMAIN\\\\\" + username);\n        env.put(Context.SECURITY_CREDENTIALS, password);\n\n        // Create the initial context\n        DirContext ctx = new InitialDirContext(env);\n        result = ctx != null;\n        if (ctx != null)\n        ctx.close();\n        System.out.println(result);\n        return result;\n    } catch (Exception e) {\n        System.out.println(\"oops\");\n        return result;\n    }\n\n}\n\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(\n          UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n\n<p>and on another class</p>\n\n<pre><code>    @Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private Logger log = Logger.getLogger(WebSecurityConfiguration.class);\n    @Autowired\n    private CustomAuthenticationProvider authProvider;\n\n    @Override\n    protected void configure(\n      AuthenticationManagerBuilder auth) throws Exception {\n\n        auth.authenticationProvider(authProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().authenticated()\n            .and()\n            .httpBasic();\n    }\n}\n</code></pre>\n\n<p>Then the magic happens </p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1571145530,"creation_date":1571145193,"answer_id":58395608,"question_id":36732689,"body_markdown":"in case somebody is interested in corresponding Spring Boot configuration, this is what worked for me (i tried to remove irrelevant details):\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                    .ldapAuthentication()\r\n                    .contextSource()\r\n                    .url(&quot;ldap://hostname:389/dc=myapp,dc=mycompany,dc=com&quot;)\r\n                    .and()\r\n                    .userDnPatterns(&quot;cn={0},cn=Users&quot;);\r\n        }\r\n    }\r\n\r\nthe above code corresponds to the following ldapsearch command (they often suggest to use ldapsearch to tryout different path configurations for base DN and userDnPatterns:\r\n\r\n    ldapsearch -H &quot;ldap://hostname:389&quot; -D &quot;cn=someuser,cn=Users,dc=myapp,dc=mycompany,dc=com&quot; -W -b &quot;dc=myapp,dc=mycompany,dc=com&quot; &#39;cn=someuser,cn=Users,dc=myapp,dc=mycompany,dc=com&#39;\r\n\r\n - -W asks for password interactively\r\n - -H specifies host:port\r\n - -D cn - instructs ldapsearch to bind specifically to this address (cn) - as far as i understood, this corresponds to logging into LDAP with this CN, as far as the password given to the following prompt is alright\r\n - -b ... specifies base DN that will filter the results\r\n - it is very important to not forget the last part in single quotes above (single or double i don&#39;t think this makes any difference) because this specifies the query that ldapsearch will execute after binding/logging in - if you don&#39;t specify anything, it will try to perform search of ALL entries and may render LDAP server unresponsive\r\n\r\nand finally, {0} in Spring Boot security config is where &quot;someuser&quot; from ldapsearch goes, i.e. Spring will construct the address to bind to from what is given in userDnPatterns, replacing {0} with whatever username is specified during login\r\n\r\nPS. this worked with an older version of Oracle Internet Directory, where all users we wanted to authenticate were under cn=Users instead of e.g. ou=people in the corresponding Spring Boot LDAP tutorial (i guess)","title":"SpringBoot, how to Authenticate with LDAP without using ldif?","body":"<p>in case somebody is interested in corresponding Spring Boot configuration, this is what worked for me (i tried to remove irrelevant details):</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .ldapAuthentication()\n                .contextSource()\n                .url(\"ldap://hostname:389/dc=myapp,dc=mycompany,dc=com\")\n                .and()\n                .userDnPatterns(\"cn={0},cn=Users\");\n    }\n}\n</code></pre>\n\n<p>the above code corresponds to the following ldapsearch command (they often suggest to use ldapsearch to tryout different path configurations for base DN and userDnPatterns:</p>\n\n<pre><code>ldapsearch -H \"ldap://hostname:389\" -D \"cn=someuser,cn=Users,dc=myapp,dc=mycompany,dc=com\" -W -b \"dc=myapp,dc=mycompany,dc=com\" 'cn=someuser,cn=Users,dc=myapp,dc=mycompany,dc=com'\n</code></pre>\n\n<ul>\n<li>-W asks for password interactively</li>\n<li>-H specifies host:port</li>\n<li>-D cn - instructs ldapsearch to bind specifically to this address (cn) - as far as i understood, this corresponds to logging into LDAP with this CN, as far as the password given to the following prompt is alright</li>\n<li>-b ... specifies base DN that will filter the results</li>\n<li>it is very important to not forget the last part in single quotes above (single or double i don't think this makes any difference) because this specifies the query that ldapsearch will execute after binding/logging in - if you don't specify anything, it will try to perform search of ALL entries and may render LDAP server unresponsive</li>\n</ul>\n\n<p>and finally, {0} in Spring Boot security config is where \"someuser\" from ldapsearch goes, i.e. Spring will construct the address to bind to from what is given in userDnPatterns, replacing {0} with whatever username is specified during login</p>\n\n<p>PS. this worked with an older version of Oracle Internet Directory, where all users we wanted to authenticate were under cn=Users instead of e.g. ou=people in the corresponding Spring Boot LDAP tutorial (i guess)</p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640104322,"creation_date":1640069916,"answer_id":70431680,"question_id":36732689,"body_markdown":"without **ldif** you can use like this:\r\n\r\n 1. Add below parameter to the `application.properties`:\r\n\r\n\r\n```\r\nad.domain=domain.name\r\nad.url=ldap://url:port\r\n```\r\n\r\n 2. Create securityconfig class extends `WebSecurityConfigurerAdapter` like this:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider;\r\n    \r\nimport java.util.Arrays;\r\nimport org.springframework.beans.factory.annotation.Value;\r\n    \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    @Value(&quot;${ad.domain}&quot;)\r\n    private String AD_DOMAIN;\r\n    \r\n    @Value(&quot;${ad.url}&quot;)\r\n    private String AD_URL;\r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n         http.authorizeRequests()\r\n             .anyRequest()\r\n             .fullyAuthenticated()\r\n             .and()\r\n             .formLogin();\r\n    }\r\n    \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder authManagerBuilder) throws Exception {\r\n            authManagerBuilder.authenticationProvider(activeDirectoryLdapAuthenticationProvider()).userDetailsService(userDetailsService());\r\n    }\r\n    \r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        return new ProviderManager(Arrays.asList(activeDirectoryLdapAuthenticationProvider()));\r\n    }\r\n    \r\n    @Bean\r\n    public AuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n        ActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(AD_DOMAIN, AD_URL);\r\n        provider.setConvertSubErrorCodesToExceptions(true);\r\n        provider.setUseAuthenticationRequestCredentials(true);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nEverything works fine. I mean, if the username and password are wrong, you get this warning back by spring boot itself.\r\n\r\n    ActiveDirectoryLdapAuthenticationProvider : Active Directory authentication failed: Supplied password was invalid\r\n\r\nIf you type it correctly, it&#39;s up to you which page you redirect to.\r\n\r\nEnjoy!\r\n\r\n","title":"SpringBoot, how to Authenticate with LDAP without using ldif?","body":"<p>without <strong>ldif</strong> you can use like this:</p>\n<ol>\n<li>Add below parameter to the <code>application.properties</code>:</li>\n</ol>\n<pre><code>ad.domain=domain.name\nad.url=ldap://url:port\n</code></pre>\n<ol start=\"2\">\n<li>Create securityconfig class extends <code>WebSecurityConfigurerAdapter</code> like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider;\n    \nimport java.util.Arrays;\nimport org.springframework.beans.factory.annotation.Value;\n    \n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Value(&quot;${ad.domain}&quot;)\n    private String AD_DOMAIN;\n    \n    @Value(&quot;${ad.url}&quot;)\n    private String AD_URL;\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         http.authorizeRequests()\n             .anyRequest()\n             .fullyAuthenticated()\n             .and()\n             .formLogin();\n    }\n    \n    @Override\n    protected void configure(AuthenticationManagerBuilder authManagerBuilder) throws Exception {\n            authManagerBuilder.authenticationProvider(activeDirectoryLdapAuthenticationProvider()).userDetailsService(userDetailsService());\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager() {\n        return new ProviderManager(Arrays.asList(activeDirectoryLdapAuthenticationProvider()));\n    }\n    \n    @Bean\n    public AuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n        ActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(AD_DOMAIN, AD_URL);\n        provider.setConvertSubErrorCodesToExceptions(true);\n        provider.setUseAuthenticationRequestCredentials(true);\n        return provider;\n    }\n}\n</code></pre>\n<p>Everything works fine. I mean, if the username and password are wrong, you get this warning back by spring boot itself.</p>\n<pre><code>ActiveDirectoryLdapAuthenticationProvider : Active Directory authentication failed: Supplied password was invalid\n</code></pre>\n<p>If you type it correctly, it's up to you which page you redirect to.</p>\n<p>Enjoy!</p>\n"}],"owner":{"account_id":6340720,"reputation":1106,"user_id":4922709,"accept_rate":76,"display_name":"TwoThumbSticks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15644,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1640104322,"creation_date":1461118868,"question_id":36732689,"body_markdown":"I am trying out the LDAP Authentication example in SpringBoot [here][1]\r\n\r\nIt is using the ldif approach which I think is not applicable to my requirements because our ldap admin wont tell me where to find the ldif that I need.\r\nBefore springboot I used to use my own ldap implementation not using ldif.  Is there a way to validate not using ldif just the SECURITY_AUTHENTICATION.simple ?\r\nBelow is how I do ldap security in basic Java no spring.  How do I do this in spring without using ldif just basic username password.\r\n\r\n    boolean isLdapRegistred(String username, String password) {\r\n\t\tboolean result = false;\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tHashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\r\n\t\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\t\tenv.put(Context.PROVIDER_URL, &quot;ldap://10.x.x.x:389&quot;);\t\t\t\r\n\t\t\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\t\t\t\r\n\t\t\tenv.put(Context.SECURITY_PRINCIPAL, &quot;OUR-DOMAIN\\\\&quot; + username);\r\n\t\t\tenv.put(Context.SECURITY_CREDENTIALS, password);\r\n\r\n\t\t\t// Create the initial context\r\n\t\t\tDirContext ctx = new InitialDirContext(env);\r\n\t\t\tresult = ctx != null;\r\n\t\t\tif (ctx != null)\r\n\t\t\tctx.close();\r\n\t\t\tSystem.out.println(result);\r\n\t\t\treturn result;\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;oops&quot;);\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t}\r\n\r\nBelow is SpringBoots example need to use my credentials instead of ldif.\r\n\r\n    @Configuration\r\n    protected static class AuthenticationConfiguration extends\r\n    \t\tGlobalAuthenticationConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic void init(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth\r\n    \t\t\t.ldapAuthentication()\r\n    \t\t\t\t.userDnPatterns(&quot;uid={0},ou=people&quot;)\r\n    \t\t\t\t.groupSearchBase(&quot;ou=groups&quot;)\r\n    \t\t\t\t.contextSource().ldif(&quot;classpath:test-server.ldif&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/authenticating-ldap/\r\n","title":"SpringBoot, how to Authenticate with LDAP without using ldif?","body":"<p>I am trying out the LDAP Authentication example in SpringBoot <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"noreferrer\">here</a></p>\n\n<p>It is using the ldif approach which I think is not applicable to my requirements because our ldap admin wont tell me where to find the ldif that I need.\nBefore springboot I used to use my own ldap implementation not using ldif.  Is there a way to validate not using ldif just the SECURITY_AUTHENTICATION.simple ?\nBelow is how I do ldap security in basic Java no spring.  How do I do this in spring without using ldif just basic username password.</p>\n\n<pre><code>boolean isLdapRegistred(String username, String password) {\n    boolean result = false;\n    try {\n\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n        env.put(Context.PROVIDER_URL, \"ldap://10.x.x.x:389\");           \n        env.put(Context.SECURITY_AUTHENTICATION, \"simple\");         \n        env.put(Context.SECURITY_PRINCIPAL, \"OUR-DOMAIN\\\\\" + username);\n        env.put(Context.SECURITY_CREDENTIALS, password);\n\n        // Create the initial context\n        DirContext ctx = new InitialDirContext(env);\n        result = ctx != null;\n        if (ctx != null)\n        ctx.close();\n        System.out.println(result);\n        return result;\n    } catch (Exception e) {\n        System.out.println(\"oops\");\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>Below is SpringBoots example need to use my credentials instead of ldif.</p>\n\n<pre><code>@Configuration\nprotected static class AuthenticationConfiguration extends\n        GlobalAuthenticationConfigurerAdapter {\n\n    @Override\n    public void init(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .ldapAuthentication()\n                .userDnPatterns(\"uid={0},ou=people\")\n                .groupSearchBase(\"ou=groups\")\n                .contextSource().ldif(\"classpath:test-server.ldif\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","jenkins","java-11"],"comments":[{"owner":{"account_id":14527583,"reputation":4962,"user_id":10493338,"display_name":"Michael Kemmerzell"},"score":2,"creation_date":1621510628,"post_id":67619516,"comment_id":119520797,"body_markdown":"Maybe you find a solution here: https://stackoverflow.com/questions/49398894/unable-to-compile-simple-java-10-java-11-project-with-maven","body":"Maybe you find a solution here: <a href=\"https://stackoverflow.com/questions/49398894/unable-to-compile-simple-java-10-java-11-project-with-maven\" title=\"unable to compile simple java 10 java 11 project with maven\">stackoverflow.com/questions/49398894/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640104310,"creation_date":1621519927,"answer_id":67622114,"question_id":67619516,"body_markdown":"The problem was with the Jenkins setting which fallback on default system JDK.\r\n\r\nI did add the following and corrected Jenkins pointing to JDK 11.\r\n\r\n    &lt;properties&gt;\r\n         &lt;java.version&gt;11&lt;/java.version&gt;\r\n         &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n         &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n     &lt;properties&gt;\r\n\r\nThanks to @naman putting me to the right direction.","title":"Fatal error compiling: invalid flag: --release for jdk 11 on Jenkins?","body":"<p>The problem was with the Jenkins setting which fallback on default system JDK.</p>\n<p>I did add the following and corrected Jenkins pointing to JDK 11.</p>\n<pre><code>&lt;properties&gt;\n     &lt;java.version&gt;11&lt;/java.version&gt;\n     &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n     &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n &lt;properties&gt;\n</code></pre>\n<p>Thanks to @naman putting me to the right direction.</p>\n"}],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13772,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640104310,"creation_date":1621510364,"question_id":67619516,"body_markdown":"Recently I have upgraded spring batch project from java 8 to 11.\r\n\r\nIt works fine locally, and I decided to push to the Jenkins, but I get the following error.\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project bandwidth: \r\n    \r\n    Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n\r\nWhat should be the cause, and how can I solve it?\r\n\r\n\r\n**Old setting: java 8 in pom**\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\r\n        &lt;org.springframework.batch&gt;2.1.9.RELEASE&lt;/org.springframework.batch&gt;\r\n        &lt;org.slf4j-version&gt;1.6.2&lt;/org.slf4j-version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n                &lt;source&gt;1.7&lt;/source&gt;\r\n                &lt;target&gt;1.7&lt;/target&gt;\r\n                &lt;encoding&gt;iso-8859-1&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n**New setting: java 11 in pom**\r\n\r\n    &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n            &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\r\n            &lt;org.springframework.batch&gt;2.1.9.RELEASE&lt;/org.springframework.batch&gt;\r\n            &lt;org.slf4j-version&gt;1.6.2&lt;/org.slf4j-version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.8.1&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n                &lt;release&gt;11&lt;/release&gt;\r\n                &lt;encoding&gt;iso-8859-1&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Fatal error compiling: invalid flag: --release for jdk 11 on Jenkins?","body":"<p>Recently I have upgraded spring batch project from java 8 to 11.</p>\n<p>It works fine locally, and I decided to push to the Jenkins, but I get the following error.</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project bandwidth: \n\nFatal error compiling: invalid flag: --release -&gt; [Help 1]\n</code></pre>\n<p>What should be the cause, and how can I solve it?</p>\n<p><strong>Old setting: java 8 in pom</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n\n    &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.springframework.batch&gt;2.1.9.RELEASE&lt;/org.springframework.batch&gt;\n    &lt;org.slf4j-version&gt;1.6.2&lt;/org.slf4j-version&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n            &lt;source&gt;1.7&lt;/source&gt;\n            &lt;target&gt;1.7&lt;/target&gt;\n            &lt;encoding&gt;iso-8859-1&lt;/encoding&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>New setting: java 11 in pom</strong></p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\n        &lt;org.springframework.batch&gt;2.1.9.RELEASE&lt;/org.springframework.batch&gt;\n        &lt;org.slf4j-version&gt;1.6.2&lt;/org.slf4j-version&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.8.1&lt;/version&gt;\n     &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n            &lt;encoding&gt;iso-8859-1&lt;/encoding&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","json","serialization","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640096666,"creation_date":1640096251,"answer_id":70436894,"question_id":70436742,"body_markdown":"If you have a field in each object that can be used to recognize the object to build you can use the annotations [`@JsonTypeInfo`][1]:\r\n\r\n&gt; Annotation used for configuring details of if and how type information is used with JSON serialization and deserialization, to preserve information about actual class of Object instances. This is necessarily for polymorphic types, and may also be needed to link abstract declared types and matching concrete implementation.\r\n\r\nand [`@JsonSubTypes`][2]:\r\n\r\n&gt; Annotation used with JsonTypeInfo to indicate sub types of serializable polymorphic types, and to associate logical names used within JSON content (which is more portable than using physical Java class names).\r\n\r\nor also [JsonTypeName][3]:\r\n\r\n&gt; Annotation used for binding logical name that the annotated class has. Used with JsonTypeInfo (and specifically its JsonTypeInfo.use() property) to establish relationship between type names and types.\r\n\r\nBasically you need to define a property holding the informations related to the class to be instantiated in the `@JsonTypeInfo` and define the possible values in `@JsonSubTypes`\r\n\r\nHere is an example\r\n\r\n\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME, \r\n      include = As.PROPERTY, \r\n      property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;),\r\n        @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)\r\n    })\r\n    public class Animal {\r\n        // The property type is used to know what object instantiate\r\n        private String type;\r\n        ...\r\n    }\r\n\r\n    @JsonTypeName(&quot;dog&quot;)\r\n    public class Dog extends Animal {\r\n        ...\r\n    }\r\n\r\n    @JsonTypeName(&quot;cat&quot;)\r\n    public class Cat extends Animal {\r\n        ...\r\n    }\r\n\r\n---- \r\n\r\nIf you don&#39;t have such field you need to create a custom deserializer.\r\n\r\nAn alternative is to convert your records to a list of `Map` because a `Map` can hold any valid object.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonSubTypes.html\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.10/com/fasterxml/jackson/annotation/JsonTypeName.html","title":"Deserialize a list of objects with Jackson","body":"<p>If you have a field in each object that can be used to recognize the object to build you can use the annotations <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>@JsonTypeInfo</code></a>:</p>\n<blockquote>\n<p>Annotation used for configuring details of if and how type information is used with JSON serialization and deserialization, to preserve information about actual class of Object instances. This is necessarily for polymorphic types, and may also be needed to link abstract declared types and matching concrete implementation.</p>\n</blockquote>\n<p>and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"nofollow noreferrer\"><code>@JsonSubTypes</code></a>:</p>\n<blockquote>\n<p>Annotation used with JsonTypeInfo to indicate sub types of serializable polymorphic types, and to associate logical names used within JSON content (which is more portable than using physical Java class names).</p>\n</blockquote>\n<p>or also <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.10/com/fasterxml/jackson/annotation/JsonTypeName.html\" rel=\"nofollow noreferrer\">JsonTypeName</a>:</p>\n<blockquote>\n<p>Annotation used for binding logical name that the annotated class has. Used with JsonTypeInfo (and specifically its JsonTypeInfo.use() property) to establish relationship between type names and types.</p>\n</blockquote>\n<p>Basically you need to define a property holding the informations related to the class to be instantiated in the <code>@JsonTypeInfo</code> and define the possible values in <code>@JsonSubTypes</code></p>\n<p>Here is an example</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME, \n  include = As.PROPERTY, \n  property = &quot;type&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;),\n    @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)\n})\npublic class Animal {\n    // The property type is used to know what object instantiate\n    private String type;\n    ...\n}\n\n@JsonTypeName(&quot;dog&quot;)\npublic class Dog extends Animal {\n    ...\n}\n\n@JsonTypeName(&quot;cat&quot;)\npublic class Cat extends Animal {\n    ...\n}\n</code></pre>\n<hr />\n<p>If you don't have such field you need to create a custom deserializer.</p>\n<p>An alternative is to convert your records to a list of <code>Map</code> because a <code>Map</code> can hold any valid object.</p>\n"}],"owner":{"account_id":13488108,"reputation":43,"user_id":9731278,"display_name":"Omar Fulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70436894,"answer_count":1,"score":0,"last_activity_date":1640104214,"creation_date":1640095548,"question_id":70436742,"body_markdown":"I have a List of objects each of them has specified fields(type of variable) so i thought that i will create a main class(super class) with the shared elements(variables) and two subclasses for the specific type of variables.\r\nI want to deserialize all of Subclasses as the Type of the superclass so that i can put all of this Jsons in List of the same objects.\r\n\r\nHere is an example of my Json\r\n\r\n&gt; [   { &quot;query&quot;: &quot;age&quot;,        &quot;type&quot;: &quot;numeric&quot;, &quot;min&quot;: 5, &quot;max&quot;: 99 },\r\n&gt; { &quot;query&quot;: &quot;diagnosis&quot;,  &quot;type&quot;: &quot;string&quot;,  &quot;in&quot;: [&quot;husten&quot;,\r\n&gt; &quot;schnupfen&quot;] } ]\r\n\r\nthe code i wrote to deserialize this is:\r\n\r\n    public class Query{\r\n        private String query;\r\n        private String type;\r\n        // Getters and Setters and constructor\r\n    }\r\n    \r\n    public class QueryString extends Query implements Serializable {\r\n        private List&lt;String&gt; in;\r\n        private String like;\r\n        // Getters and Setters and constructor\r\n    }\r\n    \r\n    public class QueryNum extends Field implements Serializable {\r\n        private Number min;\r\n        private Number max;\r\n        // Getters and Setters and constructor\r\n    }\r\n\r\nThe serialization using ObjectMapper is working as expected but the by deserialization the compiler gives me that there is an unrecognized values ( which are the fields of my sublasses).\r\n\r\nI want to get a List of objects(Query)\r\nList&lt;Query&gt; which contains QueryString and QueryNum.\r\n\r\nis that possible with Jackson Json in Java ?\r\n\r\nfor the desrialization i used :\r\n\r\n&gt;         ObjectMapper mapper = new ObjectMapper();\r\n&gt; \r\n&gt;         List&lt;Query&gt; queries= Arrays.asList(mapper.readValue(JsonString, Query[].class));\r\n\r\nThanks in advance\r\n \r\n\r\n","title":"Deserialize a list of objects with Jackson","body":"<p>I have a List of objects each of them has specified fields(type of variable) so i thought that i will create a main class(super class) with the shared elements(variables) and two subclasses for the specific type of variables.\nI want to deserialize all of Subclasses as the Type of the superclass so that i can put all of this Jsons in List of the same objects.</p>\n<p>Here is an example of my Json</p>\n<blockquote>\n<p>[   { &quot;query&quot;: &quot;age&quot;,        &quot;type&quot;: &quot;numeric&quot;, &quot;min&quot;: 5, &quot;max&quot;: 99 },\n{ &quot;query&quot;: &quot;diagnosis&quot;,  &quot;type&quot;: &quot;string&quot;,  &quot;in&quot;: [&quot;husten&quot;,\n&quot;schnupfen&quot;] } ]</p>\n</blockquote>\n<p>the code i wrote to deserialize this is:</p>\n<pre><code>public class Query{\n    private String query;\n    private String type;\n    // Getters and Setters and constructor\n}\n\npublic class QueryString extends Query implements Serializable {\n    private List&lt;String&gt; in;\n    private String like;\n    // Getters and Setters and constructor\n}\n\npublic class QueryNum extends Field implements Serializable {\n    private Number min;\n    private Number max;\n    // Getters and Setters and constructor\n}\n</code></pre>\n<p>The serialization using ObjectMapper is working as expected but the by deserialization the compiler gives me that there is an unrecognized values ( which are the fields of my sublasses).</p>\n<p>I want to get a List of objects(Query)\nList which contains QueryString and QueryNum.</p>\n<p>is that possible with Jackson Json in Java ?</p>\n<p>for the desrialization i used :</p>\n<blockquote>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n\n    List&lt;Query&gt; queries= Arrays.asList(mapper.readValue(JsonString, Query[].class));\n</code></pre>\n</blockquote>\n<p>Thanks in advance</p>\n"},{"tags":["java","html","css","colors","minecraft"],"answers":[{"tags":[],"owner":{"account_id":23595044,"reputation":30,"user_id":17632268,"display_name":"Talha Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640066909,"creation_date":1640066909,"answer_id":70431283,"question_id":70431140,"body_markdown":"They are the same. Just use the correct text shadow color.","title":"Why colors are different in Minecraft and web browser","body":"<p>They are the same. Just use the correct text shadow color.</p>\n"}],"owner":{"account_id":23707183,"reputation":1,"user_id":17729511,"display_name":"Maksim Lipenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640104155,"creation_date":1640065548,"question_id":70431140,"body_markdown":"I want to create a page(on react if it matters) where I can choose a color and see how it will look in Minecraft(using similar font, background color of a chat and shadow) but I was surprised I choose same color with hex in my code and Minecraft\r\nLike: &quot;color: #2CF1DE&quot; in web and &quot;&amp;#2CF1DE&quot; in Minecraft and I see a bit different colors.\r\nI was researching a bit and found out that there are different color spaces(not sure about browser and minecraft difference), is that a reason why I see different colors? Or maybe there are some color filters in the game..\r\nCan I make the color in the browser the same as in the game?\r\n\r\nI attached a screenshot: \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/39Tsa.png&quot; /&gt;\r\n\r\nWeb browser on the left side and Minecraft on the right\r\nnickname and &quot;Test message&quot; colors should be the same(as I thought)\r\n\r\np.s. Obviously color in minecraft is &#39;wrong&#39; cause I check it witch color picker on image and #2CF1DE(I entered &amp;#2CF1DE) turns to #FF404C\r\n\r\n\r\n","title":"Why colors are different in Minecraft and web browser","body":"<p>I want to create a page(on react if it matters) where I can choose a color and see how it will look in Minecraft(using similar font, background color of a chat and shadow) but I was surprised I choose same color with hex in my code and Minecraft\nLike: &quot;color: #2CF1DE&quot; in web and &quot;&amp;#2CF1DE&quot; in Minecraft and I see a bit different colors.\nI was researching a bit and found out that there are different color spaces(not sure about browser and minecraft difference), is that a reason why I see different colors? Or maybe there are some color filters in the game..\nCan I make the color in the browser the same as in the game?</p>\n<p>I attached a screenshot:</p>\n<img src=\"https://i.stack.imgur.com/39Tsa.png\" />\n<p>Web browser on the left side and Minecraft on the right\nnickname and &quot;Test message&quot; colors should be the same(as I thought)</p>\n<p>p.s. Obviously color in minecraft is 'wrong' cause I check it witch color picker on image and #2CF1DE(I entered &amp;#2CF1DE) turns to #FF404C</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":6,"creation_date":1330280667,"post_id":9455788,"comment_id":11961613,"body_markdown":"I think the answer to all these questions involves the word &quot;profiler&quot;...","body":"I think the answer to all these questions involves the word &quot;profiler&quot;..."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1330280676,"post_id":9455788,"comment_id":11961617,"body_markdown":"Clearly if `someMethod()` is expensive or has side-effects you don&#39;t want to call it twice.  Java does not (yet) contain an `idempotent` keyword (brings back old memories of `reducible` in PL/1 :-)","body":"Clearly if <code>someMethod()</code> is expensive or has side-effects you don&#39;t want to call it twice.  Java does not (yet) contain an <code>idempotent</code> keyword (brings back old memories of <code>reducible</code> in PL/1 :-)"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1330280975,"post_id":9455788,"comment_id":11961683,"body_markdown":"Good point @Jim.  I&#39;ve edited my question to make it more clear that I&#39;m not talking about side-effects.  But what I&#39;m talking about is how to evaluate the &quot;expense&quot; of the method.","body":"Good point @Jim.  I&#39;ve edited my question to make it more clear that I&#39;m not talking about side-effects.  But what I&#39;m talking about is how to evaluate the &quot;expense&quot; of the method."},{"owner":{"display_name":"user395760"},"score":6,"creation_date":1330281135,"post_id":9455788,"comment_id":11961716,"body_markdown":"Optimization is a really bad reason for this. Readability can be a much better reason.","body":"Optimization is a really bad reason for this. Readability can be a much better reason."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1330281360,"post_id":9455788,"comment_id":11961776,"body_markdown":"Optimization is a &quot;really bad reason&quot; @delnan?  I&#39;d say that&#39;s a overstatement.  You are correct in terms of readability.","body":"Optimization is a &quot;really bad reason&quot; @delnan?  I&#39;d say that&#39;s a overstatement.  You are correct in terms of readability."},{"owner":{"display_name":"user395760"},"score":2,"creation_date":1330281647,"post_id":9455788,"comment_id":11961849,"body_markdown":"When the operation in question is tiny (like a single hashtable lookup), there is with no indication that it&#39;s in a bottleneck and no profiling happened, it *is* a bad reason.","body":"When the operation in question is tiny (like a single hashtable lookup), there is with no indication that it&#39;s in a bottleneck and no profiling happened, it <i>is</i> a bad reason."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":2,"creation_date":1330281834,"post_id":9455788,"comment_id":11961890,"body_markdown":"Sorry but we disagree @delnan.  Thanks for the feedback tho.","body":"Sorry but we disagree @delnan.  Thanks for the feedback tho."},{"owner":{"display_name":"user395760"},"score":0,"creation_date":1330281929,"post_id":9455788,"comment_id":11961921,"body_markdown":"So you&#39;re find with worrying, for seconds or even minutes, about saving a millisecond in a method that&#39;s called once per hour?","body":"So you&#39;re find with worrying, for seconds or even minutes, about saving a millisecond in a method that&#39;s called once per hour?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1330282183,"post_id":9455788,"comment_id":11961999,"body_markdown":"It is seconds of coding and when did I say anything about the savings or call rates?","body":"It is seconds of coding and when did I say anything about the savings or call rates?"},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":2,"creation_date":1330282373,"post_id":9455788,"comment_id":11962049,"body_markdown":"I think @delnan&#39;s point is that we&#39;re talking about premature optimization here. You implicitly said that you care about savings by talking about accidentally making the JIT produce less efficient code. Delnan is right to say that changing your code for optimization at the expense of readability is a bad reason *if there is no significant performance benefit*. In my opinion :)","body":"I think @delnan&#39;s point is that we&#39;re talking about premature optimization here. You implicitly said that you care about savings by talking about accidentally making the JIT produce less efficient code. Delnan is right to say that changing your code for optimization at the expense of readability is a bad reason <i>if there is no significant performance benefit</i>. In my opinion :)"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1330283269,"post_id":9455788,"comment_id":11962239,"body_markdown":"Thanks @Cameron. I understand &quot;premature optimization&quot;.  What I was looking for was a way of determining when it is premature and when the extra 5 seconds of coding time is a good investment.","body":"Thanks @Cameron. I understand &quot;premature optimization&quot;.  What I was looking for was a way of determining when it is premature and when the extra 5 seconds of coding time is a good investment."},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1330283909,"post_id":9455788,"comment_id":11962405,"body_markdown":"Fair enough. I suspect it really comes down to a personal decision about when to trade off readability for speed. In the cases you&#39;re talking about the speed benefit is negligible, so I think you just need to decide which code is more readable.","body":"Fair enough. I suspect it really comes down to a personal decision about when to trade off readability for speed. In the cases you&#39;re talking about the speed benefit is negligible, so I think you just need to decide which code is more readable."}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1596584974,"creation_date":1330281026,"answer_id":9455854,"question_id":9455788,"body_markdown":"&gt; How should I evaluate the &quot;cost&quot; of the someMethod() to determine when a temporary variable should be used?\r\n\r\nSimply look at the implementation of `someMethod()`. If it just returns a field, like a typically getter method would do, there&#39;s no need to declare a local variable (performance wise). If the method creates objects, calls the database or reads file contents, then is usually wise to cache the return value.\r\n\r\nPersonally, I don&#39;t care of performance issues caused be declaring a temporary variable. I just keep the return value instead of calling a method twice. The code is much easier to read and to understand (unless you name all those variables just `temp`;-) )","title":"java pattern: when does it make sense to use temporary variables","body":"<blockquote>\n<p>How should I evaluate the &quot;cost&quot; of the someMethod() to determine when a temporary variable should be used?</p>\n</blockquote>\n<p>Simply look at the implementation of <code>someMethod()</code>. If it just returns a field, like a typically getter method would do, there's no need to declare a local variable (performance wise). If the method creates objects, calls the database or reads file contents, then is usually wise to cache the return value.</p>\n<p>Personally, I don't care of performance issues caused be declaring a temporary variable. I just keep the return value instead of calling a method twice. The code is much easier to read and to understand (unless you name all those variables just <code>temp</code>;-) )</p>\n"},{"tags":[],"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640104106,"creation_date":1330281126,"answer_id":9455865,"question_id":9455788,"body_markdown":"&gt; Clearly I can&#39;t call someMethod() twice if there are side-effects but when does it make sense to only call it once from an optimization standpoint?\r\n\r\nWhen you&#39;ve proved that it matters using a profiler. But get used to not calling methods twice in a row anyway, since it will make maintenance easier (what if the check changes and you forget to change it in both places?). Use temporary variables liberally, they&#39;re incredibly cheap. ","title":"java pattern: when does it make sense to use temporary variables","body":"<blockquote>\n<p>Clearly I can't call someMethod() twice if there are side-effects but when does it make sense to only call it once from an optimization standpoint?</p>\n</blockquote>\n<p>When you've proved that it matters using a profiler. But get used to not calling methods twice in a row anyway, since it will make maintenance easier (what if the check changes and you forget to change it in both places?). Use temporary variables liberally, they're incredibly cheap.</p>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1640104093,"creation_date":1330281524,"answer_id":9455916,"question_id":9455788,"body_markdown":"As a general rule I use a local var when I need it more than once. You can give that local var a pretty name and everybody knowns what this var is about. From performance point of view: Local vars are cheap and methods maybe complex.\r\n\r\nEspecially when `someMethod()` is expensive like a synchronized method then this should perform much better. But when `someMethod()` is a synchronized method then it is intended to be called by multiple threads in concurrency and then it makes a difference to call the method twice or store its return value and reuse it ... \r\n\r\n...Another point to mention is that subsequent method calls do not have to return the same data. So your examples with/without local var are not always valid substitutes for subsequent method calls. But I think you already considered this.","title":"java pattern: when does it make sense to use temporary variables","body":"<p>As a general rule I use a local var when I need it more than once. You can give that local var a pretty name and everybody knowns what this var is about. From performance point of view: Local vars are cheap and methods maybe complex.</p>\n<p>Especially when <code>someMethod()</code> is expensive like a synchronized method then this should perform much better. But when <code>someMethod()</code> is a synchronized method then it is intended to be called by multiple threads in concurrency and then it makes a difference to call the method twice or store its return value and reuse it ...</p>\n<p>...Another point to mention is that subsequent method calls do not have to return the same data. So your examples with/without local var are not always valid substitutes for subsequent method calls. But I think you already considered this.</p>\n"},{"tags":[],"owner":{"account_id":6844,"reputation":16850,"user_id":2351099,"accept_rate":87,"display_name":"Massimiliano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330281641,"creation_date":1330281641,"answer_id":9455930,"question_id":9455788,"body_markdown":"Reminds me of a discussion regarding similar .NET `Dictionary` usage style: https://stackoverflow.com/questions/9382681/what-is-more-efficient-dictionary-trygetvalue-or-containskeyitem\r\n\r\nIn general, as pointed out in comments, you don&#39;t know the performance hot spots in your program until you run it with real data under a profiler.\r\n\r\nAlso, in general, compilers in imperative languages can not optimize repeated calls, because of the possible side effects. Every call to a function can return a new value. And by the way, that is also one of the reason why you yourself shouldn&#39;t rely on repeated calls. Today maybe you know that a function or a property is side-effect free and repeated calls return the same value, but tomorrow you change it and add some random generator inside and all logic with repeated calls will be broken.\r\n\r\n","title":"java pattern: when does it make sense to use temporary variables","body":"<p>Reminds me of a discussion regarding similar .NET <code>Dictionary</code> usage style: <a href=\"https://stackoverflow.com/questions/9382681/what-is-more-efficient-dictionary-trygetvalue-or-containskeyitem\">What is more efficient: Dictionary TryGetValue or ContainsKey+Item?</a></p>\n\n<p>In general, as pointed out in comments, you don't know the performance hot spots in your program until you run it with real data under a profiler.</p>\n\n<p>Also, in general, compilers in imperative languages can not optimize repeated calls, because of the possible side effects. Every call to a function can return a new value. And by the way, that is also one of the reason why you yourself shouldn't rely on repeated calls. Today maybe you know that a function or a property is side-effect free and repeated calls return the same value, but tomorrow you change it and add some random generator inside and all logic with repeated calls will be broken.</p>\n"},{"tags":[],"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640104120,"creation_date":1330281738,"answer_id":9455945,"question_id":9455788,"body_markdown":"For me this all boils down to the logic of the program and not to performance. So \r\n\r\n    if (map.containsKey(someKey)) {\r\n        Value someValue = map.get(someKey);\r\n        ...\r\n    }\r\n\r\nis __not__ equivalent to that code in all cases:\r\n\r\n    Value someValue = map.get(someKey);\r\n    if (someValue != null) {\r\n        ...\r\n    }\r\n\r\nConsider a map where the value _can_ be null for a given key. If the `...` part is `null` safe then the code behaves differently.\r\n\r\nAlso this code with somehow has logical issues. Consider this:\r\n\r\n    BufferedRead reader = ...;\r\n    if (reader.readLine() != null) {\r\n        processSomehow(reader.readLine());\r\n    }\r\n\r\nHere it is clear that `readLine` _must_ be called twice. Another problem domain for this kind of code is multithreading: The code expects the value not to change, but another thread might do excatly this.\r\n\r\n__Summary__ Keep your code as crisp and correct as possible. This means, that if you expect a value not to change and you need it multiple times, then use a variable to _tell_ anybody this.","title":"java pattern: when does it make sense to use temporary variables","body":"<p>For me this all boils down to the logic of the program and not to performance. So</p>\n<pre><code>if (map.containsKey(someKey)) {\n    Value someValue = map.get(someKey);\n    ...\n}\n</code></pre>\n<p>is <strong>not</strong> equivalent to that code in all cases:</p>\n<pre><code>Value someValue = map.get(someKey);\nif (someValue != null) {\n    ...\n}\n</code></pre>\n<p>Consider a map where the value <em>can</em> be null for a given key. If the <code>...</code> part is <code>null</code> safe then the code behaves differently.</p>\n<p>Also this code with somehow has logical issues. Consider this:</p>\n<pre><code>BufferedRead reader = ...;\nif (reader.readLine() != null) {\n    processSomehow(reader.readLine());\n}\n</code></pre>\n<p>Here it is clear that <code>readLine</code> <em>must</em> be called twice. Another problem domain for this kind of code is multithreading: The code expects the value not to change, but another thread might do excatly this.</p>\n<p><strong>Summary</strong> Keep your code as crisp and correct as possible. This means, that if you expect a value not to change and you need it multiple times, then use a variable to <em>tell</em> anybody this.</p>\n"},{"tags":[],"owner":{"account_id":111011,"reputation":7880,"user_id":293511,"accept_rate":81,"display_name":"Ben Hocking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546640751,"creation_date":1330285885,"answer_id":9456567,"question_id":9455788,"body_markdown":"Several people are quoting Knuth (either implicitly or explicitly), but I think this always makes sense as a design pattern (and cases where `null` is an allowable key, [as pointed out by A.H.][1] become that much more clear).\r\n\r\nIn my mind, it&#39;s similar to the case of passing a variable by const reference in C++ instead of by value. There are two reasons to do this:\r\n\r\n1. it communicates that the value won&#39;t change\r\n2. but the main reason it&#39;s done is that it&#39;s marginally faster.\r\n\r\nIt doesn&#39;t matter on *most* individual calls, but when every routine passes every parameter by value, you notice it. It&#39;s a good habit to be in. The case you mention isn&#39;t as common and so it isn&#39;t as important, but I&#39;d argue it&#39;s still a good habit.\r\n\r\n  [1]: https://stackoverflow.com/a/9455945/293511","title":"java pattern: when does it make sense to use temporary variables","body":"<p>Several people are quoting Knuth (either implicitly or explicitly), but I think this always makes sense as a design pattern (and cases where <code>null</code> is an allowable key, <a href=\"https://stackoverflow.com/a/9455945/293511\">as pointed out by A.H.</a> become that much more clear).</p>\n\n<p>In my mind, it's similar to the case of passing a variable by const reference in C++ instead of by value. There are two reasons to do this:</p>\n\n<ol>\n<li>it communicates that the value won't change</li>\n<li>but the main reason it's done is that it's marginally faster.</li>\n</ol>\n\n<p>It doesn't matter on <em>most</em> individual calls, but when every routine passes every parameter by value, you notice it. It's a good habit to be in. The case you mention isn't as common and so it isn't as important, but I'd argue it's still a good habit.</p>\n"}],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3893,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":9455854,"answer_count":6,"score":15,"last_activity_date":1640104120,"creation_date":1330280458,"question_id":9455788,"body_markdown":"So I find myself doing something like the following pattern often.  Instead of:\r\n\r\n    if (map.containsKey(someKey)) {\r\n        Value someValue = map.get(someKey);\r\n        ...\r\n    }\r\n\r\nTo not traverse the map twice (and since I know my map doesn&#39;t store nulls), I&#39;ll do:\r\n\r\n    Value someValue = map.get(someKey);\r\n    if (someValue != null) {\r\n        ...\r\n    }\r\n\r\nThis seems to me to be a worthwhile pattern given that the `Map` operations perform a decent number of operations and the optimizer, I assume, is not smart enough to optimize it away.  \r\n\r\nBut then I find myself doing similar patterns in other situations.  For example, should I store the `someMethod()` result in a temporary variable instead of making the call twice?  Clearly I can&#39;t call `someMethod()` twice if there are side-effects but when does it make sense to only call it once from an optimization standpoint?\r\n\r\n    if (someObject.someMethod() != null) {\r\n        processSomehow(someObject.someMethod());\r\n    }\r\n\r\nI know this borders on a &quot;not constructive&quot; question so I&#39;m looking for answers that present some facts and references instead of just conjecture.\r\n\r\n * When does it make sense to do this and when does it not?\r\n * How should I evaluate the &quot;cost&quot; of the `someMethod()` to determine when a temporary variable should be used?\r\n * For simple methods such as get methods, might this get in the way of the hotspot compiler or the optimizer and actually produce less efficient code?\r\n\r\nFor posterity, I am not asking &quot;how can I improve the speed of my existing program&quot;.  I am trying to figure out &quot;what pattern should I use when I write future code&quot;.\r\n\r\nThanks for any information.","title":"java pattern: when does it make sense to use temporary variables","body":"<p>So I find myself doing something like the following pattern often.  Instead of:</p>\n\n<pre><code>if (map.containsKey(someKey)) {\n    Value someValue = map.get(someKey);\n    ...\n}\n</code></pre>\n\n<p>To not traverse the map twice (and since I know my map doesn't store nulls), I'll do:</p>\n\n<pre><code>Value someValue = map.get(someKey);\nif (someValue != null) {\n    ...\n}\n</code></pre>\n\n<p>This seems to me to be a worthwhile pattern given that the <code>Map</code> operations perform a decent number of operations and the optimizer, I assume, is not smart enough to optimize it away.  </p>\n\n<p>But then I find myself doing similar patterns in other situations.  For example, should I store the <code>someMethod()</code> result in a temporary variable instead of making the call twice?  Clearly I can't call <code>someMethod()</code> twice if there are side-effects but when does it make sense to only call it once from an optimization standpoint?</p>\n\n<pre><code>if (someObject.someMethod() != null) {\n    processSomehow(someObject.someMethod());\n}\n</code></pre>\n\n<p>I know this borders on a \"not constructive\" question so I'm looking for answers that present some facts and references instead of just conjecture.</p>\n\n<ul>\n<li>When does it make sense to do this and when does it not?</li>\n<li>How should I evaluate the \"cost\" of the <code>someMethod()</code> to determine when a temporary variable should be used?</li>\n<li>For simple methods such as get methods, might this get in the way of the hotspot compiler or the optimizer and actually produce less efficient code?</li>\n</ul>\n\n<p>For posterity, I am not asking \"how can I improve the speed of my existing program\".  I am trying to figure out \"what pattern should I use when I write future code\".</p>\n\n<p>Thanks for any information.</p>\n"},{"tags":["java","spring-boot","spring-security","cryptography","pbkdf2"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1640103973,"creation_date":1640103402,"answer_id":70438446,"question_id":70437963,"body_markdown":"&gt; Is there any obvious setting that I am missing?\r\n\r\nYes. The documentation you linked to is fairly clear, I guess you missed it. That string you pass to the `Pbkdf2PasswordEncoder` constructor __is not a salt!__\r\n\r\nThe encoder generates a salt for you, and generates a salt every time you ask it to encode something, __which is how you&#39;re supposed to do this stuff__&lt;sup&gt;1&lt;/sup&gt;. (The returned string contains both this randomly generated salt as well as the result of applying the encoding, in a single string). Because a new salt is made every time you call `.encode`, the `.encode` call returns a different value every time you call it, even if you call it with the same inputs.\r\n\r\nThe string you pass in is merely &#39;another secret&#39; - which can sometimes be useful (for example, if you can store this secret in a secure enclave, or it is sent by another system / entered upon boot and never stored on disk, then if somebody runs off with your server they can&#39;t check passwords. PBKDF means that if they _did_ have the secret the checking will be very slow, but if they don&#39;t, they can&#39;t even start).\r\n\r\nThis seems like a solid plan - otherwise people start doing silly things. Such as using the string `&quot;salt&quot;` as the salt for all encodes :)\r\n\r\nThe real problem is:\r\n\r\n&gt; The expected output would be the same values for both derivations\r\n\r\nNo. Your expectation is broken. Whatever code you are writing that made this assumption needs to be tossed. For example, this is how you are intended to use the encoder:\r\n\r\n* When a user creates a new password, you use `.encode` and store what this method returns in a database.\r\n\r\n* When a user logs in, you take what they typed, and you take the string from your database (the one `.encode` sent you) and call `.matches`.\r\n\r\nIt sounds like you want to again run `.encode` and see if it matches. Not how you&#39;re supposed to use this code.\r\n\r\n---\r\n\r\n## Footnote1: The why\r\n\r\nYou also need to review your security policies. The idea you have in your head of how this stuff works is thoroughly broken. Imagine it worked like you wanted, and there is a single salt used for all password encodes. Then if you hand me a dump of your database, I can trivially crack about 5% of all accounts within about 10 minutes!!\r\n\r\nHow? Well, I sort all hashed strings and then count occurrences. There will be a bunch of duplicate strings inside. I can then take all users whose passhash is in this top 10 of most common hashes and then log in as them. Because their password is `iloveyou`, `welcome123`, `princess`, `dragon`, `12345678`, `alexsawesomeservice!`, etcetera - the usual crowd of extremely oft-used passwords. How do I know that&#39;s their password? Because their password is the same as that of many other users on your system.\r\n\r\nFurthermore, if none of the common passwords work, I can tell that likely these are really different accounts from the same user.\r\n\r\nThese are all things that I definitely should not be able to derive from the raw data. The solution is, naturally, to have a unique salt for everything, and then store the salt in the DB along with the hash value so that one can &#39;reconstruct&#39; when a user tries to log in. These tools try to make your life easy by doing the work for you. This is a good idea, because errors in security implementations (such as forgetting to salt, or using the same salt for all users) __are not (easily) unit testable__, so a well meaning developer writes code, it seems to work, a casual glance at the password hashes seem to indicate &quot;it is working&quot; (the hashes seem random enough to the naked eye), and then it gets deployed, security issue and all.\r\n","title":"How to get reproducible Pbkdf2PasswordEncoder output in spring boot?","body":"<blockquote>\n<p>Is there any obvious setting that I am missing?</p>\n</blockquote>\n<p>Yes. The documentation you linked to is fairly clear, I guess you missed it. That string you pass to the <code>Pbkdf2PasswordEncoder</code> constructor <strong>is not a salt!</strong></p>\n<p>The encoder generates a salt for you, and generates a salt every time you ask it to encode something, <strong>which is how you're supposed to do this stuff</strong><sup>1</sup>. (The returned string contains both this randomly generated salt as well as the result of applying the encoding, in a single string). Because a new salt is made every time you call <code>.encode</code>, the <code>.encode</code> call returns a different value every time you call it, even if you call it with the same inputs.</p>\n<p>The string you pass in is merely 'another secret' - which can sometimes be useful (for example, if you can store this secret in a secure enclave, or it is sent by another system / entered upon boot and never stored on disk, then if somebody runs off with your server they can't check passwords. PBKDF means that if they <em>did</em> have the secret the checking will be very slow, but if they don't, they can't even start).</p>\n<p>This seems like a solid plan - otherwise people start doing silly things. Such as using the string <code>&quot;salt&quot;</code> as the salt for all encodes :)</p>\n<p>The real problem is:</p>\n<blockquote>\n<p>The expected output would be the same values for both derivations</p>\n</blockquote>\n<p>No. Your expectation is broken. Whatever code you are writing that made this assumption needs to be tossed. For example, this is how you are intended to use the encoder:</p>\n<ul>\n<li><p>When a user creates a new password, you use <code>.encode</code> and store what this method returns in a database.</p>\n</li>\n<li><p>When a user logs in, you take what they typed, and you take the string from your database (the one <code>.encode</code> sent you) and call <code>.matches</code>.</p>\n</li>\n</ul>\n<p>It sounds like you want to again run <code>.encode</code> and see if it matches. Not how you're supposed to use this code.</p>\n<hr />\n<h2>Footnote1: The why</h2>\n<p>You also need to review your security policies. The idea you have in your head of how this stuff works is thoroughly broken. Imagine it worked like you wanted, and there is a single salt used for all password encodes. Then if you hand me a dump of your database, I can trivially crack about 5% of all accounts within about 10 minutes!!</p>\n<p>How? Well, I sort all hashed strings and then count occurrences. There will be a bunch of duplicate strings inside. I can then take all users whose passhash is in this top 10 of most common hashes and then log in as them. Because their password is <code>iloveyou</code>, <code>welcome123</code>, <code>princess</code>, <code>dragon</code>, <code>12345678</code>, <code>alexsawesomeservice!</code>, etcetera - the usual crowd of extremely oft-used passwords. How do I know that's their password? Because their password is the same as that of many other users on your system.</p>\n<p>Furthermore, if none of the common passwords work, I can tell that likely these are really different accounts from the same user.</p>\n<p>These are all things that I definitely should not be able to derive from the raw data. The solution is, naturally, to have a unique salt for everything, and then store the salt in the DB along with the hash value so that one can 'reconstruct' when a user tries to log in. These tools try to make your life easy by doing the work for you. This is a good idea, because errors in security implementations (such as forgetting to salt, or using the same salt for all users) <strong>are not (easily) unit testable</strong>, so a well meaning developer writes code, it seems to work, a casual glance at the password hashes seem to indicate &quot;it is working&quot; (the hashes seem random enough to the naked eye), and then it gets deployed, security issue and all.</p>\n"}],"owner":{"account_id":68659,"reputation":2464,"user_id":200212,"accept_rate":75,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640103973,"creation_date":1640100943,"question_id":70437963,"body_markdown":"When running the `encode` method of a spring security Pbkdf2PasswordEncoder instance multiple times, the method returns different results for the same inputs. The snippet\r\n\r\n\tString salt = &quot;salt&quot;;\r\n\tint iterations = 100000;\r\n\tint hashWidth = 128;\r\n\t\t\r\n\tString clearTextPassword = &quot;secret_password&quot;;\r\n\t\t\r\n\tPbkdf2PasswordEncoder pbkdf2PasswordEncoder = new Pbkdf2PasswordEncoder(salt, iterations, hashWidth);\r\n\tString derivedKey = pbkdf2PasswordEncoder.encode(clearTextPassword);\r\n\tSystem.out.println(&quot;derivedKey: &quot; + derivedKey);\r\n\t\t\r\n\tString derivedKey2 = pbkdf2PasswordEncoder.encode(clearTextPassword);\r\n\tSystem.out.println(&quot;derivedKey2: &quot; + derivedKey2);\r\n\r\nresults in a output like\r\n\r\n    derivedKey: b6eb7098ee52cbc4c99c4316be0343873575ed4fa4445144\r\n    derivedKey2: 2bef620cc0392f9a5064c0d07d182ca826b6c2b83ac648dc\r\n\r\nThe expected output would be the same values for both derivations. In addition, when running the application another time, the outputs would be different again. The different output behavior also appears for two different Pbkdf2PasswordEncoder  instances with same inputs. The `encoding` method behaves more like a random number generator. Spring boot version used is 2.6.1, spring-security-core version is 5.6.0 .\r\n\r\nIs there any obvious setting that I am missing? The [documentation][1] does not give additional hints. Is there a conceptual error in the spring boot project set up?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.6.0/api/org/springframework/security/crypto/password/Pbkdf2PasswordEncoder.html","title":"How to get reproducible Pbkdf2PasswordEncoder output in spring boot?","body":"<p>When running the <code>encode</code> method of a spring security Pbkdf2PasswordEncoder instance multiple times, the method returns different results for the same inputs. The snippet</p>\n<pre><code>String salt = &quot;salt&quot;;\nint iterations = 100000;\nint hashWidth = 128;\n    \nString clearTextPassword = &quot;secret_password&quot;;\n    \nPbkdf2PasswordEncoder pbkdf2PasswordEncoder = new Pbkdf2PasswordEncoder(salt, iterations, hashWidth);\nString derivedKey = pbkdf2PasswordEncoder.encode(clearTextPassword);\nSystem.out.println(&quot;derivedKey: &quot; + derivedKey);\n    \nString derivedKey2 = pbkdf2PasswordEncoder.encode(clearTextPassword);\nSystem.out.println(&quot;derivedKey2: &quot; + derivedKey2);\n</code></pre>\n<p>results in a output like</p>\n<pre><code>derivedKey: b6eb7098ee52cbc4c99c4316be0343873575ed4fa4445144\nderivedKey2: 2bef620cc0392f9a5064c0d07d182ca826b6c2b83ac648dc\n</code></pre>\n<p>The expected output would be the same values for both derivations. In addition, when running the application another time, the outputs would be different again. The different output behavior also appears for two different Pbkdf2PasswordEncoder  instances with same inputs. The <code>encoding</code> method behaves more like a random number generator. Spring boot version used is 2.6.1, spring-security-core version is 5.6.0 .</p>\n<p>Is there any obvious setting that I am missing? The <a href=\"https://docs.spring.io/spring-security/site/docs/5.6.0/api/org/springframework/security/crypto/password/Pbkdf2PasswordEncoder.html\" rel=\"nofollow noreferrer\">documentation</a> does not give additional hints. Is there a conceptual error in the spring boot project set up?</p>\n"},{"tags":["java","string","file","java.util.scanner"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640100675,"post_id":70437865,"comment_id":124512572,"body_markdown":"I&#39;m assuming you&#39;re fairly new to programming. If that&#39;s the case, then the best advice I can give you: ignore &quot;efficient&quot; for now. Getting things to work and make sense is **way** more important at this point than any kind of efficiency (the machine you test this on is probably several magnitudes more powerful than necessary for your tasks, so efficiency isn&#39;t important yet).","body":"I&#39;m assuming you&#39;re fairly new to programming. If that&#39;s the case, then the best advice I can give you: ignore &quot;efficient&quot; for now. Getting things to work and make sense is <b>way</b> more important at this point than any kind of efficiency (the machine you test this on is probably several magnitudes more powerful than necessary for your tasks, so efficiency isn&#39;t important yet)."},{"owner":{"account_id":23081415,"reputation":1,"user_id":17193640,"display_name":"Achinoam Klein"},"score":0,"creation_date":1640102967,"post_id":70437865,"comment_id":124513459,"body_markdown":"@JoachimSauer could you still tell me the best way?","body":"@JoachimSauer could you still tell me the best way?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1640115512,"post_id":70437865,"comment_id":124518145,"body_markdown":"There is no &quot;best way&quot; to code anything.  Aim for code that can be read and understood by most programmers.","body":"There is no &quot;best way&quot; to code anything.  Aim for code that can be read and understood by most programmers."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640166752,"post_id":70437865,"comment_id":124529284,"body_markdown":"There is no &quot;best way&quot;, as Gilbert mentioned. Or put differently: what the best way is will vary **massively** based on many external factors (specific requirements, skill level of developers, life-time of solution, ...). In some cases a naive-easily-written solution that&#39;s hard to maintain is best, because it&#39;s quick to write and not expected to be maintained for long. Another time a complex, but easier to extend solution could be better, because it&#39;s the base of a project that&#39;s to be maintained/improved for a long time. For now, forget about &quot;best&quot; and focus on getting something to work.","body":"There is no &quot;best way&quot;, as Gilbert mentioned. Or put differently: what the best way is will vary <b>massively</b> based on many external factors (specific requirements, skill level of developers, life-time of solution, ...). In some cases a naive-easily-written solution that&#39;s hard to maintain is best, because it&#39;s quick to write and not expected to be maintained for long. Another time a complex, but easier to extend solution could be better, because it&#39;s the base of a project that&#39;s to be maintained/improved for a long time. For now, forget about &quot;best&quot; and focus on getting something to work."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640103790,"creation_date":1640103790,"answer_id":70438548,"question_id":70437865,"body_markdown":"There are many ways to read commands from a file. \r\nA lot depends on the format of commands and if they have parameters or not.\r\n\r\nHere are possible solutions.\r\n\r\n**One command per row in a text file**\r\n\r\nSave in the file row by row the sequence of commands. Read the file row by row and check each row with a list of commands.\r\n\r\nPro:\r\n- Easy to implement\r\n\r\nCons:\r\n- Not easy to handle parameters\r\n- Difficult to handle blocks of commands\r\n- Difficult to handle jumps between commands\r\n\r\n**Commands saved as json objects**\r\n\r\nHold the file as a text file having a single json array where each item holds a command, eventually with parameters.\r\n\r\nPro\r\n- Quite easy using libraries to parse json files\r\n- Easy to handle parameters\r\n\r\nCons\r\n- A list of commands as json array is less readable than a structured programming language\r\n\r\n**Create a parser and your own programming language**\r\n\r\nYou can create your own programming language having only the details that you need.\r\n\r\nPro\r\n- This solution fit very well any need that you can have\r\n- Easy to read because you can decide the structure that you like more \r\n- Speed of code\r\n- Is possible to handle typical programming construct like loops, conditional statements, blocks of code...\r\n\r\nCons\r\n- Very hard to implement, you need to define your own language and implement it using a custom parser (example using ANTLR4)\r\n\r\n\r\n","title":"file reading in java- converting every line to an existing function","body":"<p>There are many ways to read commands from a file.\nA lot depends on the format of commands and if they have parameters or not.</p>\n<p>Here are possible solutions.</p>\n<p><strong>One command per row in a text file</strong></p>\n<p>Save in the file row by row the sequence of commands. Read the file row by row and check each row with a list of commands.</p>\n<p>Pro:</p>\n<ul>\n<li>Easy to implement</li>\n</ul>\n<p>Cons:</p>\n<ul>\n<li>Not easy to handle parameters</li>\n<li>Difficult to handle blocks of commands</li>\n<li>Difficult to handle jumps between commands</li>\n</ul>\n<p><strong>Commands saved as json objects</strong></p>\n<p>Hold the file as a text file having a single json array where each item holds a command, eventually with parameters.</p>\n<p>Pro</p>\n<ul>\n<li>Quite easy using libraries to parse json files</li>\n<li>Easy to handle parameters</li>\n</ul>\n<p>Cons</p>\n<ul>\n<li>A list of commands as json array is less readable than a structured programming language</li>\n</ul>\n<p><strong>Create a parser and your own programming language</strong></p>\n<p>You can create your own programming language having only the details that you need.</p>\n<p>Pro</p>\n<ul>\n<li>This solution fit very well any need that you can have</li>\n<li>Easy to read because you can decide the structure that you like more</li>\n<li>Speed of code</li>\n<li>Is possible to handle typical programming construct like loops, conditional statements, blocks of code...</li>\n</ul>\n<p>Cons</p>\n<ul>\n<li>Very hard to implement, you need to define your own language and implement it using a custom parser (example using ANTLR4)</li>\n</ul>\n"}],"owner":{"account_id":23081415,"reputation":1,"user_id":17193640,"display_name":"Achinoam Klein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640103790,"creation_date":1640100535,"question_id":70437865,"body_markdown":"I have an input text file that contains different commands that I need to do,\r\nthe commands have to be done one by one, and I don&#39;t know-how.\r\nI thought of just reading the text file---&gt;putting the current line in a string and then comparing it with all the commands which is very not efficient\r\n\r\nthanks","title":"file reading in java- converting every line to an existing function","body":"<p>I have an input text file that contains different commands that I need to do,\nthe commands have to be done one by one, and I don't know-how.\nI thought of just reading the text file---&gt;putting the current line in a string and then comparing it with all the commands which is very not efficient</p>\n<p>thanks</p>\n"},{"tags":["java","fileoutputstream"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":2,"creation_date":1640102503,"post_id":70438232,"comment_id":124513268,"body_markdown":"What is the error message? What operating system are you using?","body":"What is the error message? What operating system are you using?"},{"owner":{"account_id":19378186,"reputation":1,"user_id":14170046,"display_name":"gustavaman"},"score":0,"creation_date":1640103656,"post_id":70438232,"comment_id":124513758,"body_markdown":"@rghome The program is a GUI that I&#39;ve made into an .exe using Launch4j, so I cannot see the error message, at least not that I know. I haven&#39;t been able to replicate this problem while running it in a way that lets me see the error message. However I can tell you that the file is created but nothing is written to it, leading me to believe that the file cannot be opened for some reason. I&#39;m running Windows 10.","body":"@rghome The program is a GUI that I&#39;ve made into an .exe using Launch4j, so I cannot see the error message, at least not that I know. I haven&#39;t been able to replicate this problem while running it in a way that lets me see the error message. However I can tell you that the file is created but nothing is written to it, leading me to believe that the file cannot be opened for some reason. I&#39;m running Windows 10."},{"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"score":0,"creation_date":1640764941,"post_id":70438232,"comment_id":124651854,"body_markdown":"Please improve your question by adding more information and also  error message","body":"Please improve your question by adding more information and also  error message"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640103703,"creation_date":1640103703,"answer_id":70438531,"question_id":70438232,"body_markdown":"Based on the symptoms, I *surmise* that you are using Windows, and the error you are getting in the second open is &quot;file is in use&quot;.\r\n\r\nApparently under some circumstances, Windows does not immediately close a file when the application (in this case the JVM) closes the FileHandle:\r\n\r\n  - https://stackoverflow.com/questions/30502845\r\n  - https://stackoverflow.com/questions/36598767\r\n\r\nThis is not Java&#39;s doing, and I am not aware of a workaround (in Java) apart from waiting a bit and retrying.\r\n\r\n(You could see what happens if you add a `Thread.sleep(1000);` before the 2nd attempt to create a `FileOutputStream`.)","title":"Issues with multiple FileOutputStreams to the same file in Java","body":"<p>Based on the symptoms, I <em>surmise</em> that you are using Windows, and the error you are getting in the second open is &quot;file is in use&quot;.</p>\n<p>Apparently under some circumstances, Windows does not immediately close a file when the application (in this case the JVM) closes the FileHandle:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30502845\">FileStream.Close() is not closing the file handle instantly</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36598767\">Delay between CloseHandle function call and SMB Close request</a></li>\n</ul>\n<p>This is not Java's doing, and I am not aware of a workaround (in Java) apart from waiting a bit and retrying.</p>\n<p>(You could see what happens if you add a <code>Thread.sleep(1000);</code> before the 2nd attempt to create a <code>FileOutputStream</code>.)</p>\n"}],"owner":{"account_id":19378186,"reputation":1,"user_id":14170046,"display_name":"gustavaman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640103703,"creation_date":1640102308,"question_id":70438232,"body_markdown":"I&#39;m trying to write to a file using FileOutputStream. When the user selects what file to write to, the program tries to create a FileOutputStream using that file, to check if it works. If it does not, the user has to select a different file. If it does work, the FileOutputStream is closed.\r\n\r\nAfter a file, for which a FOS can be opened, has been selected the program tries again to create another FOS, but this sometimes fails.\r\n\r\nI know that you cannot write to a file when it is open on your computer. Could it be that the first FOS has not been &quot;fully closed&quot; and therefore the file is still considered open, so that the second FOS can not write to it?\r\n\r\nIn the following code, what happens is that the first creation and closing of the FOS does not throw an exception, while the second one somehow does. How can this be?\r\n\r\n(I know the problem can be solved by simply using the first FOS and not creating a second, but I am interested in understanding why this particular code behaves the way it does.)\r\n\r\n    try {\r\n\t\tFileOutputStream out1 = new FileOutputStream(file);\r\n\t\tout1.close();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n    try {\r\n\t\tFileOutputStream out2 = new FileOutputStream(file);\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"Issues with multiple FileOutputStreams to the same file in Java","body":"<p>I'm trying to write to a file using FileOutputStream. When the user selects what file to write to, the program tries to create a FileOutputStream using that file, to check if it works. If it does not, the user has to select a different file. If it does work, the FileOutputStream is closed.</p>\n<p>After a file, for which a FOS can be opened, has been selected the program tries again to create another FOS, but this sometimes fails.</p>\n<p>I know that you cannot write to a file when it is open on your computer. Could it be that the first FOS has not been &quot;fully closed&quot; and therefore the file is still considered open, so that the second FOS can not write to it?</p>\n<p>In the following code, what happens is that the first creation and closing of the FOS does not throw an exception, while the second one somehow does. How can this be?</p>\n<p>(I know the problem can be solved by simply using the first FOS and not creating a second, but I am interested in understanding why this particular code behaves the way it does.)</p>\n<pre><code>try {\n    FileOutputStream out1 = new FileOutputStream(file);\n    out1.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    FileOutputStream out2 = new FileOutputStream(file);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640103363,"creation_date":1640103363,"answer_id":70438439,"question_id":70438298,"body_markdown":"Please note that re-using &quot;production&quot; objects in your test-suites is a common mistake, please don&#39;t do it. Because the risk is that when you re-factor some Java classes, you will never know if it really breaks some API consumers.\r\n\r\nYou can assume that what you are trying to do is not supported by Karate. If you follow this process, others will be in a better position to suggest a workaround: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","title":"Karate feature file + calling Java class with spring annotations, getting PolyglotException","body":"<p>Please note that re-using &quot;production&quot; objects in your test-suites is a common mistake, please don't do it. Because the risk is that when you re-factor some Java classes, you will never know if it really breaks some API consumers.</p>\n<p>You can assume that what you are trying to do is not supported by Karate. If you follow this process, others will be in a better position to suggest a workaround: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a></p>\n"}],"owner":{"account_id":10343677,"reputation":11,"user_id":7629267,"display_name":"Saurabh Vyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70438439,"answer_count":1,"score":0,"last_activity_date":1640103363,"creation_date":1640102657,"question_id":70438298,"body_markdown":"I have some classes having Java code with spring annotation, however its observed when we call them from .feature file, getting org.graalvm.polyglot.PolyglotException. When removed those annotation it worked. Now we have my libraries which use such classes, so can anybody help on same how to invoke spring flavoured classes from feature files.","title":"Karate feature file + calling Java class with spring annotations, getting PolyglotException","body":"<p>I have some classes having Java code with spring annotation, however its observed when we call them from .feature file, getting org.graalvm.polyglot.PolyglotException. When removed those annotation it worked. Now we have my libraries which use such classes, so can anybody help on same how to invoke spring flavoured classes from feature files.</p>\n"},{"tags":["java","jsf-2","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":1141173,"reputation":723,"user_id":1125027,"display_name":"Sandeep Panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640103021,"creation_date":1356598356,"answer_id":14051871,"question_id":14050882,"body_markdown":"The exception indicates that JSF is not able to locate the view. Does your project have this directory structure: `contextRoot/faces/pages/public/login.xhtml` ?","title":"JSF Redirect causes exception in a filter","body":"<p>The exception indicates that JSF is not able to locate the view. Does your project have this directory structure: <code>contextRoot/faces/pages/public/login.xhtml</code> ?</p>\n"},{"tags":[],"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356603659,"creation_date":1356601350,"answer_id":14052516,"question_id":14050882,"body_markdown":"`/faces` path prefix is usually added by default to the faces url-pattern by some IDEs (i.e. NetBeans). You probably have changed it from web.xml but you haven&#39;t removed if from the filter sendRedirect argument.\r\n\r\nIn order to make your filter work, either remove the `/faces` prefix from `sendRedirect()` method in the filter:\r\n\r\n    httpResponse.sendRedirect(contextPath + &quot;/pages/public/login.xhtml&quot;);\r\n \r\nor add it to web.xml like that:\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nFinally, be careful that your filter doesn&#39;t cause and endless loop. Adding this check before redirecting may be useful:\r\n\r\n    HttpServletRequest req = (HttpServletRequest) request;\r\n    if (!req.getRequestURI().contains(&quot;/pages/public/login.xhtml&quot;) &amp;&amp; httpRequest.getUserPrincipal() == null) {\r\n            // redirect\r\n            return;\r\n        }\r\n\r\n\r\n","title":"JSF Redirect causes exception in a filter","body":"<p><code>/faces</code> path prefix is usually added by default to the faces url-pattern by some IDEs (i.e. NetBeans). You probably have changed it from web.xml but you haven't removed if from the filter sendRedirect argument.</p>\n\n<p>In order to make your filter work, either remove the <code>/faces</code> prefix from <code>sendRedirect()</code> method in the filter:</p>\n\n<pre><code>httpResponse.sendRedirect(contextPath + \"/pages/public/login.xhtml\");\n</code></pre>\n\n<p>or add it to web.xml like that:</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Finally, be careful that your filter doesn't cause and endless loop. Adding this check before redirecting may be useful:</p>\n\n<pre><code>HttpServletRequest req = (HttpServletRequest) request;\nif (!req.getRequestURI().contains(\"/pages/public/login.xhtml\") &amp;&amp; httpRequest.getUserPrincipal() == null) {\n        // redirect\n        return;\n    }\n</code></pre>\n"}],"owner":{"account_id":156471,"reputation":9053,"user_id":373784,"accept_rate":77,"display_name":"Mark Estrada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640103021,"creation_date":1356592489,"question_id":14050882,"body_markdown":"I have configured an authentication filter for any pages that  I wanted to protect.\r\nHowever when it tries to redirect to the login page, I am encountering below error\r\n\r\n    com.sun.faces.context.FacesFileNotFoundException\r\n\r\n..here&#39;s my filter\r\n\r\n    @WebFilter(filterName = &quot;Authentication Filter&quot;, urlPatterns = { &quot;/pages/*&quot; }, dispatcherTypes = {\r\n    \t\tDispatcherType.REQUEST, DispatcherType.FORWARD })\r\n    public class AuthenticationFilter implements Filter {\r\n    \tstatic final Logger logger = Logger.getLogger(AuthenticationFilter.class);\r\n    \tprivate String contextPath;\r\n    \r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n    \t\t\tFilterChain chain) throws IOException, ServletException {\r\n    \t\tHttpServletRequest httpRequest = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse httpResponse = (HttpServletResponse) response;\r\n    \r\n    \t\tif (httpRequest.getUserPrincipal() == null) {\r\n    \t\t\thttpResponse.sendRedirect(contextPath\r\n    \t\t\t\t\t+ &quot;/faces/pages/public/login.xhtml&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tchain.doFilter(request, response);\r\n    \t}\r\n    \tpublic void init(FilterConfig fConfig) throws ServletException {\r\n    \t\tcontextPath = fConfig.getServletContext().getContextPath();\r\n    \t}\r\n    }\r\n\r\n..and my web.xml is mapped with this code for the faces servlet\r\n\r\n    &lt;servlet&gt;\r\n    \t&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n    \t&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n    \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nNot sure but I have verified that the path is existing in my project folder\r\n\r\n    +pages\r\n    \t+public\r\n    \t\t-login.xhtml\r\n\r\nThe generated path is\r\n\r\n    http://localhost:8080/MyApp/faces/pages/public/login.xhtml\r\n\r\n\t\t\r\n\t\t\r\nAnybody knows the reason?\r\n","title":"JSF Redirect causes exception in a filter","body":"<p>I have configured an authentication filter for any pages that  I wanted to protect.\nHowever when it tries to redirect to the login page, I am encountering below error</p>\n\n<pre><code>com.sun.faces.context.FacesFileNotFoundException\n</code></pre>\n\n<p>..here's my filter</p>\n\n<pre><code>@WebFilter(filterName = \"Authentication Filter\", urlPatterns = { \"/pages/*\" }, dispatcherTypes = {\n        DispatcherType.REQUEST, DispatcherType.FORWARD })\npublic class AuthenticationFilter implements Filter {\n    static final Logger logger = Logger.getLogger(AuthenticationFilter.class);\n    private String contextPath;\n\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\n\n        if (httpRequest.getUserPrincipal() == null) {\n            httpResponse.sendRedirect(contextPath\n                    + \"/faces/pages/public/login.xhtml\");\n            return;\n        }\n        chain.doFilter(request, response);\n    }\n    public void init(FilterConfig fConfig) throws ServletException {\n        contextPath = fConfig.getServletContext().getContextPath();\n    }\n}\n</code></pre>\n\n<p>..and my web.xml is mapped with this code for the faces servlet</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Not sure but I have verified that the path is existing in my project folder</p>\n\n<pre><code>+pages\n    +public\n        -login.xhtml\n</code></pre>\n\n<p>The generated path is</p>\n\n<pre><code>http://localhost:8080/MyApp/faces/pages/public/login.xhtml\n</code></pre>\n\n<p>Anybody knows the reason?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639994623,"post_id":70416959,"comment_id":124481121,"body_markdown":"It is not so clear to me, but exactly do you want to achieve? Do want only to read the data under levana@gmail,com node?","body":"It is not so clear to me, but exactly do you want to achieve? Do want only to read the data under levana@gmail,com node?"},{"owner":{"account_id":15528145,"reputation":21,"user_id":11257065,"display_name":"Liroy Levi"},"score":0,"creation_date":1640005942,"post_id":70416959,"comment_id":124484949,"body_markdown":"Yes exactly,i want all the data on the object email of levana ,  and to get the parent Help too","body":"Yes exactly,i want all the data on the object email of levana ,  and to get the parent Help too"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640008219,"creation_date":1640008219,"answer_id":70422841,"question_id":70416959,"body_markdown":"According to your comment, to get the data under `levana@gmail,com`, you have to create a reference that points exactly to the `levana@gmail,com` node and attach a listener on it. So please use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference emailRef = db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(&quot;levana@gmail,com&quot;);\r\n    emailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                DataSnapshot snapshot = task.getResult();\r\n\t\t\t\tString email = snapshot.child(&quot;email&quot;).getValue(String.class);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, email); //Will print levana@gmail.com\r\n\t\t\t\tString firstName = snapshot.child(&quot;firstName&quot;).getValue(String.class);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, firstName); //&#128072; Will print levana\r\n\t\t\t\tString lastName = snapshot.child(&quot;lastName&quot;).getValue(String.class);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, lastName); //&#128072; Will print ezra\r\n\t\t\t\tString password = snapshot.child(&quot;password&quot;).getValue(String.class);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, password); //&#128072; Will print 123123\r\n                String parent = snapshot.getRef().getParent()\r\n\t\t\t\tLog.d(&quot;TAG&quot;, parent); //&#128072; Will print Help\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"data currect user on firebase android studio","body":"<p>According to your comment, to get the data under <code>levana@gmail,com</code>, you have to create a reference that points exactly to the <code>levana@gmail,com</code> node and attach a listener on it. So please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference emailRef = db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(&quot;levana@gmail,com&quot;);\nemailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            String email = snapshot.child(&quot;email&quot;).getValue(String.class);\n            Log.d(&quot;TAG&quot;, email); //Will print levana@gmail.com\n            String firstName = snapshot.child(&quot;firstName&quot;).getValue(String.class);\n            Log.d(&quot;TAG&quot;, firstName); //👈 Will print levana\n            String lastName = snapshot.child(&quot;lastName&quot;).getValue(String.class);\n            Log.d(&quot;TAG&quot;, lastName); //👈 Will print ezra\n            String password = snapshot.child(&quot;password&quot;).getValue(String.class);\n            Log.d(&quot;TAG&quot;, password); //👈 Will print 123123\n            String parent = snapshot.getRef().getParent()\n            Log.d(&quot;TAG&quot;, parent); //👈 Will print Help\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15528145,"reputation":21,"user_id":11257065,"display_name":"Liroy Levi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70422841,"answer_count":1,"score":0,"last_activity_date":1640102953,"creation_date":1639968757,"question_id":70416959,"body_markdown":"I try to do an app with Android Studio but I have a question and need help.\r\n\r\nif I entered to the application with user - for example the user levana(i login to levana user with email and password) \r\n\r\nand now I want to know my current user information (like email,firstname, password) how I do that? and what to write?\r\nand more question, if I want to know if levana is a kind of &#39;Help&#39; user how I do that? and what to write?\r\n\r\nthanks\r\n\r\ni add picture to this question, and there is no need code because i see that i need only to work with commands declarations and function of firebase and database \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJ65N.png\r\n\r\n\r\n\r\nedit :\r\n\r\n        DatabaseReference db = \r\n        FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference emailRef =db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(FireLog.getCurrentUser().getEmail().replaceAll(&quot;\\\\.&quot;, &quot;,&quot;));\r\n        Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef.toString());\r\n        DatabaseReference emailRef = db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(FireLog.getCurrentUser().getEmail().replaceAll(&quot;\\\\.&quot;, &quot;,&quot;));\r\n        Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef.toString());\r\n\r\n     \r\n       Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef);\r\n\r\n        emailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    DataSnapshot snapshot = task.getResult();\r\n\r\n                    Configs.Pref_Email=snapshot.child(&quot;email&quot;).getValue(String.class);\r\n                    Configs.Pref_Email_Commas=snapshot.child(&quot;email&quot;).getValue(String.class).replaceAll(&quot;\\\\.&quot;, &quot;,&quot;);;\r\n                    Configs.Pref_First_Name= snapshot.child(&quot;firstName&quot;).getValue(String.class);\r\n                    Configs.Pref_Last_Name= snapshot.child(&quot;lastName&quot;).getValue(String.class);\r\n                    Configs.Pref_Phone=snapshot.child(&quot;Phone&quot;).getValue(String.class);\r\n                    Configs.Pref_Password= snapshot.child(&quot;password&quot;).getValue(String.class);\r\n\r\n\r\n                    Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; + Pref_Email + &quot; &quot; + Pref_Email_Commas + &quot; &quot; + Pref_First_Name + &quot; &quot; + Pref_Last_Name  + &quot; &quot; + Pref_Phone+ &quot; &quot; + Pref_Password);\r\n\r\n\r\n\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n\r\n","title":"data currect user on firebase android studio","body":"<p>I try to do an app with Android Studio but I have a question and need help.</p>\n<p>if I entered to the application with user - for example the user levana(i login to levana user with email and password)</p>\n<p>and now I want to know my current user information (like email,firstname, password) how I do that? and what to write?\nand more question, if I want to know if levana is a kind of 'Help' user how I do that? and what to write?</p>\n<p>thanks</p>\n<p>i add picture to this question, and there is no need code because i see that i need only to work with commands declarations and function of firebase and database</p>\n<p><a href=\"https://i.stack.imgur.com/yJ65N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJ65N.png\" alt=\"enter image description here\" /></a></p>\n<p>edit :</p>\n<pre><code>    DatabaseReference db = \n    FirebaseDatabase.getInstance().getReference();\n    DatabaseReference emailRef =db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(FireLog.getCurrentUser().getEmail().replaceAll(&quot;\\\\.&quot;, &quot;,&quot;));\n    Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef.toString());\n    DatabaseReference emailRef = db.child(&quot;Users&quot;).child(&quot;Help&quot;).child(FireLog.getCurrentUser().getEmail().replaceAll(&quot;\\\\.&quot;, &quot;,&quot;));\n    Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef.toString());\n\n \n   Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; +emailRef);\n\n    emailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                DataSnapshot snapshot = task.getResult();\n\n                Configs.Pref_Email=snapshot.child(&quot;email&quot;).getValue(String.class);\n                Configs.Pref_Email_Commas=snapshot.child(&quot;email&quot;).getValue(String.class).replaceAll(&quot;\\\\.&quot;, &quot;,&quot;);;\n                Configs.Pref_First_Name= snapshot.child(&quot;firstName&quot;).getValue(String.class);\n                Configs.Pref_Last_Name= snapshot.child(&quot;lastName&quot;).getValue(String.class);\n                Configs.Pref_Phone=snapshot.child(&quot;Phone&quot;).getValue(String.class);\n                Configs.Pref_Password= snapshot.child(&quot;password&quot;).getValue(String.class);\n\n\n                Log.e(&quot;Stringvalueschec&quot;, &quot;&quot; + Pref_Email + &quot; &quot; + Pref_Email_Commas + &quot; &quot; + Pref_First_Name + &quot; &quot; + Pref_Last_Name  + &quot; &quot; + Pref_Phone+ &quot; &quot; + Pref_Password);\n\n\n\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","docker","debugging","intellij-idea","jetty"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639973204,"post_id":70417230,"comment_id":124476217,"body_markdown":"What are you using as the debugger?  What jwdp connection options are you using on the debugger side?","body":"What are you using as the debugger?  What jwdp connection options are you using on the debugger side?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1639973317,"post_id":70417230,"comment_id":124476233,"body_markdown":"I’m voting to close this question because it is not in English","body":"I’m voting to close this question because it is not in English"},{"owner":{"account_id":10305289,"reputation":21,"user_id":7602708,"display_name":"cn_華少"},"score":0,"creation_date":1639980607,"post_id":70417230,"comment_id":124477319,"body_markdown":"I don&#39;t think the language affects the sharing of knowledge, but I&#39;ve updated it to English to make it better for everyone to view.","body":"I don&#39;t think the language affects the sharing of knowledge, but I&#39;ve updated it to English to make it better for everyone to view."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1640007586,"post_id":70417230,"comment_id":124485607,"body_markdown":"If your `${jetty.base}` configuration uses something that requires a forked JVM, this simple approach is not possible.  See https://github.com/eclipse/jetty.project/issues/7299","body":"If your <code>${jetty.base}</code> configuration uses something that requires a forked JVM, this simple approach is not possible.  See <a href=\"https://github.com/eclipse/jetty.project/issues/7299\" rel=\"nofollow noreferrer\">github.com/eclipse/jetty.project/issues/7299</a>"},{"owner":{"account_id":10305289,"reputation":21,"user_id":7602708,"display_name":"cn_華少"},"score":0,"creation_date":1640099301,"post_id":70417230,"comment_id":124511978,"body_markdown":"That&#39;s a great answer. Thank you. @Joakim Erdfelt","body":"That&#39;s a great answer. Thank you. @Joakim Erdfelt"}],"answers":[{"tags":[],"owner":{"account_id":10305289,"reputation":21,"user_id":7602708,"display_name":"cn_華少"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640102916,"creation_date":1640099519,"answer_id":70437638,"question_id":70417230,"body_markdown":"The current problem is caused by the fact that the forked JVM in Jetty is not configured efficiently.\r\n\r\nSee https://github.com/eclipse/jetty.project/issues/7299","title":"When using Idea to remotely debug a project under Jetty, the prompt is :timeout during handshake","body":"<p>The current problem is caused by the fact that the forked JVM in Jetty is not configured efficiently.</p>\n<p>See <a href=\"https://github.com/eclipse/jetty.project/issues/7299\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/7299</a></p>\n"}],"owner":{"account_id":10305289,"reputation":21,"user_id":7602708,"display_name":"cn_華少"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640102916,"creation_date":1639972396,"question_id":70417230,"body_markdown":"I am using Remote JVM Debug in IDEA to remotely debug my jetty project on the server with the following prompt：timeout during handshake\r\n\r\n```none\r\n2021-12-20T03:14:04.816059981Z Listening for transport dt_socket at address: 16005\r\n2021-12-20T03:14:05.755978464Z 2021-12-20 11:14:05.752:INFO::main: Logging initialized @1042ms to org.eclipse.jetty.util.log.StdErrLog\r\n2021-12-20T03:14:05.866523012Z 2021-12-20 11:14:05.865:INFO:oeju.TypeUtil:main: JVM Runtime does not support Modules\r\n2021-12-20T03:14:06.184914262Z 2021-12-20 11:14:06.184:INFO::main: Console stderr/stdout captured to /hostfiles/logs/2021_12_20.jetty.log\r\n2021-12-20T03:20:02.669027944Z Debugger failed to attach: timeout during handshake\r\n```\r\n\r\nThe startup configuration is as follows：\r\n\r\n```none\r\njava -server \\\r\n     -Xmx3550m \\\r\n     -Xms3550m \\\r\n     -Xmn1256m \\\r\n     -Xss228k \\\r\n     -Xdebug \\\r\n     -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=16005 \\\r\n     -XX:SurvivorRatio=6 \\\r\n     -XX:MaxMetaspaceSize=256m \\\r\n     -XX:ParallelGCThreads=8 \\\r\n     -XX:MaxTenuringThreshold=0 \\\r\n     -XX:+UseConcMarkSweepGC \\\r\n     -jar $JETTY_HOME/start.jar \\\r\n     jetty.base=/hostfiles\r\n```\r\n\r\nJetty is in Docker, using jdk 1.8, with the following preset parameters：\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YZY9o.png\r\n  [2]: https://i.stack.imgur.com/A06wV.png","title":"When using Idea to remotely debug a project under Jetty, the prompt is :timeout during handshake","body":"<p>I am using Remote JVM Debug in IDEA to remotely debug my jetty project on the server with the following prompt：timeout during handshake</p>\n<pre class=\"lang-none prettyprint-override\"><code>2021-12-20T03:14:04.816059981Z Listening for transport dt_socket at address: 16005\n2021-12-20T03:14:05.755978464Z 2021-12-20 11:14:05.752:INFO::main: Logging initialized @1042ms to org.eclipse.jetty.util.log.StdErrLog\n2021-12-20T03:14:05.866523012Z 2021-12-20 11:14:05.865:INFO:oeju.TypeUtil:main: JVM Runtime does not support Modules\n2021-12-20T03:14:06.184914262Z 2021-12-20 11:14:06.184:INFO::main: Console stderr/stdout captured to /hostfiles/logs/2021_12_20.jetty.log\n2021-12-20T03:20:02.669027944Z Debugger failed to attach: timeout during handshake\n</code></pre>\n<p>The startup configuration is as follows：</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -server \\\n     -Xmx3550m \\\n     -Xms3550m \\\n     -Xmn1256m \\\n     -Xss228k \\\n     -Xdebug \\\n     -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=16005 \\\n     -XX:SurvivorRatio=6 \\\n     -XX:MaxMetaspaceSize=256m \\\n     -XX:ParallelGCThreads=8 \\\n     -XX:MaxTenuringThreshold=0 \\\n     -XX:+UseConcMarkSweepGC \\\n     -jar $JETTY_HOME/start.jar \\\n     jetty.base=/hostfiles\n</code></pre>\n<p>Jetty is in Docker, using jdk 1.8, with the following preset parameters：</p>\n<p><a href=\"https://i.stack.imgur.com/YZY9o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YZY9o.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/A06wV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A06wV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","timestamp"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1626018661,"post_id":68337755,"comment_id":120775960,"body_markdown":"Didn&#39;t you [just ask this same question](https://stackoverflow.com/q/68336754/522444), one that was answered as well, an answer that you simply ignored, and then deleted the question. Why should anyone else help if you will just delete your question and any answers provided?","body":"Didn&#39;t you <a href=\"https://stackoverflow.com/q/68336754/522444\">just ask this same question</a>, one that was answered as well, an answer that you simply ignored, and then deleted the question. Why should anyone else help if you will just delete your question and any answers provided?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1626018724,"creation_date":1626018724,"answer_id":68337772,"question_id":68337755,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API is outdated and error-prone. It is recommended to stop using it completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n 1. You can use [`java.time.Year#isLeap`][1] to check if the year is a leap year.\r\n 2. For testing, you can get the input from the keyboard using the `Scanner` class.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Year;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.print(&quot;Enter the first year: &quot;);\r\n    \t\tint first = scanner.nextInt();\r\n    \r\n    \t\tSystem.out.print(&quot;Enter the last year: &quot;);\r\n    \t\tint last = scanner.nextInt();\r\n    \r\n    \t\tSystem.out.println(&quot;Leap years between 1975 and 2015:&quot;);\r\n    \t\tfor (int year = first; year &lt;= last; year++) {\r\n    \t\t\tif (Year.of(year).isLeap()) {\r\n    \t\t\t\tSystem.out.println(year);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n**A sample run:**\r\n\r\n    Enter the first year: 1975\r\n    Enter the last year: 2012\r\n    Leap years between 1975 and 2015:\r\n    1976\r\n    1980\r\n    1984\r\n    1988\r\n    1992\r\n    1996\r\n    2000\r\n    2004\r\n    2008\r\n    2012\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap--\r\n","title":"How do I Display All leap year B/W two years ( input as a year should be taken by End User ) in java","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API is outdated and error-prone. It is recommended to stop using it completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<ol>\n<li>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#isLeap--\" rel=\"nofollow noreferrer\"><code>java.time.Year#isLeap</code></a> to check if the year is a leap year.</li>\n<li>For testing, you can get the input from the keyboard using the <code>Scanner</code> class.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Year;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter the first year: &quot;);\n        int first = scanner.nextInt();\n\n        System.out.print(&quot;Enter the last year: &quot;);\n        int last = scanner.nextInt();\n\n        System.out.println(&quot;Leap years between 1975 and 2015:&quot;);\n        for (int year = first; year &lt;= last; year++) {\n            if (Year.of(year).isLeap()) {\n                System.out.println(year);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter the first year: 1975\nEnter the last year: 2012\nLeap years between 1975 and 2015:\n1976\n1980\n1984\n1988\n1992\n1996\n2000\n2004\n2008\n2012\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":1338626,"reputation":11,"user_id":1280791,"display_name":"Dineshotham Kumar Khambhammett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640102675,"creation_date":1640102675,"answer_id":70438301,"question_id":68337755,"body_markdown":"Please note that I have written this program using Streams and tried to use the logic in filter.\r\nI hope the program is not too convoluted.\r\n\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.util.stream.IntStream;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class Solution {\r\n\r\n        static IntStream createYearStream(LocalDateTime from, LocalDateTime to) {\r\n           int yearStart= LocalDateTime.from(from).getYear();\r\n            int yearEnd=LocalDateTime.from(to).getYear();\r\n            //TODO - Create years stream\r\n    \r\n            return IntStream.range(yearStart,yearEnd);\r\n        }\r\n    \r\n        static List&lt;Integer&gt; getAllLeapYear(IntStream yearRange) {\r\n            List&lt;Integer&gt; leapYears = new ArrayList&lt;Integer&gt;();\r\n            leapYears= yearRange.filter(x-&gt;(x%4==0||(x%100==0&amp;&amp;x%400==0) )).boxed().collect(Collectors.toList());\r\n    \r\n            return leapYears;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String from = sc.next();//From Year\r\n            String to = sc.next(); //To Year\r\n            LocalDateTime fromDate = LocalDateTime.parse(from);\r\n            LocalDateTime toDate = LocalDateTime.parse(to);\r\n            List&lt;Integer&gt; leapYears = getAllLeapYear(createYearStream(fromDate, toDate));\r\n            System.out.println(leapYears.size());\r\n        }\r\n    }\r\n\r\n","title":"How do I Display All leap year B/W two years ( input as a year should be taken by End User ) in java","body":"<p>Please note that I have written this program using Streams and tried to use the logic in filter.\nI hope the program is not too convoluted.</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.IntStream;\nimport java.util.stream.Collectors;\n\nclass Solution {\n\n    static IntStream createYearStream(LocalDateTime from, LocalDateTime to) {\n       int yearStart= LocalDateTime.from(from).getYear();\n        int yearEnd=LocalDateTime.from(to).getYear();\n        //TODO - Create years stream\n\n        return IntStream.range(yearStart,yearEnd);\n    }\n\n    static List&lt;Integer&gt; getAllLeapYear(IntStream yearRange) {\n        List&lt;Integer&gt; leapYears = new ArrayList&lt;Integer&gt;();\n        leapYears= yearRange.filter(x-&gt;(x%4==0||(x%100==0&amp;&amp;x%400==0) )).boxed().collect(Collectors.toList());\n\n        return leapYears;\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String from = sc.next();//From Year\n        String to = sc.next(); //To Year\n        LocalDateTime fromDate = LocalDateTime.parse(from);\n        LocalDateTime toDate = LocalDateTime.parse(to);\n        List&lt;Integer&gt; leapYears = getAllLeapYear(createYearStream(fromDate, toDate));\n        System.out.println(leapYears.size());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22182019,"reputation":31,"user_id":16425587,"display_name":"Questioner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":68337772,"answer_count":2,"score":-3,"last_activity_date":1640102675,"creation_date":1626018597,"question_id":68337755,"body_markdown":"See the example at this link \r\n[To check leap year between two years][1]\r\n\r\n\r\n  [1]: https://miniwebtool.com/leap-years-list/\r\n\r\n\r\n    public class LeapYears {\r\n       public static void main(String[] args) {\r\n     \r\n          GregorianCalendar cal = new GregorianCalendar();\r\n     \r\n          System.out.println(&quot;Leap years between 1975 and 2015:&quot;);\r\n          for (int year = 1975; year &lt; 2015; year++) {\r\n             if (cal.isLeapYear(year)) {\r\n                System.out.println(year);\r\n             }\r\n          }\r\n       }\r\n    }","title":"How do I Display All leap year B/W two years ( input as a year should be taken by End User ) in java","body":"<p>See the example at this link\n<a href=\"https://miniwebtool.com/leap-years-list/\" rel=\"nofollow noreferrer\">To check leap year between two years</a></p>\n<pre><code>public class LeapYears {\n   public static void main(String[] args) {\n \n      GregorianCalendar cal = new GregorianCalendar();\n \n      System.out.println(&quot;Leap years between 1975 and 2015:&quot;);\n      for (int year = 1975; year &lt; 2015; year++) {\n         if (cal.isLeapYear(year)) {\n            System.out.println(year);\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","uml"],"answers":[{"tags":[],"owner":{"account_id":23687661,"reputation":33,"user_id":17712388,"display_name":"&#216;ivind Thorrud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640093611,"creation_date":1640093611,"answer_id":70436334,"question_id":70436061,"body_markdown":"Normally, italicized text is used to indicate that a class should be abstract. Is there any reason why Employee is abstract?\r\n\r\nOtherwise, this seems like a fair implementation.","title":"Is this implementation of the UML diagram correct?","body":"<p>Normally, italicized text is used to indicate that a class should be abstract. Is there any reason why Employee is abstract?</p>\n<p>Otherwise, this seems like a fair implementation.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640102365,"creation_date":1640094095,"answer_id":70436423,"question_id":70436061,"body_markdown":"You (*should*) lose some marks for a significant number of Java style errors and for misspelling `salary` as `salery`.  Yes, these things do matter.\r\n\r\nIt is also debatable whether you should have declared the fields as `private` and provided `protected` getters and setters.  It is not normal practice to put getters and setters into UML diagrams.  They are kind of assumed.  But it is (normally) bad practice in Java to declare non-`private` fields. \r\n\r\nFinally, `Employee` should not be `abstract`.  (It doesn&#39;t even make sense that you can only create `Manager` objects and not `Employee` objects.)\r\n\r\n-------------------\r\n\r\nIn practice, the Java classes (or whatever) do not need to be literal translations of the UML.  UML is a design notation ... not a specification language.","title":"Is this implementation of the UML diagram correct?","body":"<p>You (<em>should</em>) lose some marks for a significant number of Java style errors and for misspelling <code>salary</code> as <code>salery</code>.  Yes, these things do matter.</p>\n<p>It is also debatable whether you should have declared the fields as <code>private</code> and provided <code>protected</code> getters and setters.  It is not normal practice to put getters and setters into UML diagrams.  They are kind of assumed.  But it is (normally) bad practice in Java to declare non-<code>private</code> fields.</p>\n<p>Finally, <code>Employee</code> should not be <code>abstract</code>.  (It doesn't even make sense that you can only create <code>Manager</code> objects and not <code>Employee</code> objects.)</p>\n<hr />\n<p>In practice, the Java classes (or whatever) do not need to be literal translations of the UML.  UML is a design notation ... not a specification language.</p>\n"}],"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70436423,"answer_count":2,"score":2,"last_activity_date":1640102365,"creation_date":1640092423,"question_id":70436061,"body_markdown":"\r\n&gt; Is this implementation of the UML diagram correct?\r\n\r\nIm preparing for exams, our professor did not give us a solution to these tasks because we are supposed to be active ourselves but I&#39;d still like to have feedback.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy Code:\r\n\r\n\r\n    public abstract class Employee {\r\n       protected String name;\r\n       protected int salery;\r\n       public Employee(){\r\n          name=&quot;&quot;;\r\n          salery=0;\r\n       }\r\n       public String toString(){\r\n           return &quot;name: &quot;+name+&quot;salery: &quot;+salery;\r\n       }\r\n    }\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class EmployeeList {\r\n        protected ArrayList&lt;Employee&gt; members;\r\n\r\n        public EmployeeList(){\r\n             members=new ArrayList&lt;Employee&gt;();\r\n        }\r\n\r\n        public String toString(){\r\n            String ret=&quot;&quot;;\r\n            for(int i=0;i&lt;members.size();i++){\r\n                 ret+=members.get(i).toString()+&quot; &quot;;\r\n            }\r\n            return ret;\r\n         }\r\n    }\r\n    public class Manager extends Employee{\r\n         protected String department;\r\n         public String toString(){\r\n              return department;\r\n         }\r\n    }\r\n\r\nThe Code seems to work in practice because I&#39;ve tested it with:\r\n\r\n        EmployeeList employeeList=new EmployeeList();\r\n\r\n        Manager m1=new Manager();\r\n        Manager m2=new Manager();\r\n        Manager m3=new Manager();\r\n\r\n        m1.department=&quot;McDonalds&quot;;\r\n        m2.department=&quot;BigHouse&quot;;\r\n        m3.department=&quot;Heart&quot;;\r\n\r\n        System.out.println(m1);\r\n\r\n        employeeList.members.add(m1);\r\n        employeeList.members.add(m2);\r\n        employeeList.members.add(m3);\r\n\r\n        System.out.println(employeeList);\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tUFp4.png","title":"Is this implementation of the UML diagram correct?","body":"<blockquote>\n<p>Is this implementation of the UML diagram correct?</p>\n</blockquote>\n<p>Im preparing for exams, our professor did not give us a solution to these tasks because we are supposed to be active ourselves but I'd still like to have feedback.\n<a href=\"https://i.stack.imgur.com/tUFp4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUFp4.png\" alt=\"enter image description here\" /></a></p>\n<p>My Code:</p>\n<pre><code>public abstract class Employee {\n   protected String name;\n   protected int salery;\n   public Employee(){\n      name=&quot;&quot;;\n      salery=0;\n   }\n   public String toString(){\n       return &quot;name: &quot;+name+&quot;salery: &quot;+salery;\n   }\n}\n\nimport java.util.ArrayList;\n\npublic class EmployeeList {\n    protected ArrayList&lt;Employee&gt; members;\n\n    public EmployeeList(){\n         members=new ArrayList&lt;Employee&gt;();\n    }\n\n    public String toString(){\n        String ret=&quot;&quot;;\n        for(int i=0;i&lt;members.size();i++){\n             ret+=members.get(i).toString()+&quot; &quot;;\n        }\n        return ret;\n     }\n}\npublic class Manager extends Employee{\n     protected String department;\n     public String toString(){\n          return department;\n     }\n}\n</code></pre>\n<p>The Code seems to work in practice because I've tested it with:</p>\n<pre><code>    EmployeeList employeeList=new EmployeeList();\n\n    Manager m1=new Manager();\n    Manager m2=new Manager();\n    Manager m3=new Manager();\n\n    m1.department=&quot;McDonalds&quot;;\n    m2.department=&quot;BigHouse&quot;;\n    m3.department=&quot;Heart&quot;;\n\n    System.out.println(m1);\n\n    employeeList.members.add(m1);\n    employeeList.members.add(m2);\n    employeeList.members.add(m3);\n\n    System.out.println(employeeList);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640101846,"creation_date":1640101846,"answer_id":70438128,"question_id":70437795,"body_markdown":"So what you have above is bi-directional mapping. If you take userBookList, it has multiple UserBooks referring to a book. If you just want a clean JSON output without circular referring, then add @JsonIgnore to the one you dont want to be repeated.\r\n","title":"Spring Boot, filtered OneToMany(mappedBy)","body":"<p>So what you have above is bi-directional mapping. If you take userBookList, it has multiple UserBooks referring to a book. If you just want a clean JSON output without circular referring, then add @JsonIgnore to the one you dont want to be repeated.</p>\n"}],"owner":{"account_id":17071325,"reputation":1,"user_id":12352027,"display_name":"Loris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640101846,"creation_date":1640100245,"question_id":70437795,"body_markdown":"I have these two entities:\r\n```\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @OneToMany(mappedBy = &quot;book&quot;)\r\n    private List&lt;UserBook&gt; userBookList;\r\n}\r\n```\r\nAnd\r\n```\r\npublic class UserBook {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private long userId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;book_id&quot;, nullable = false)\r\n    private Book book;\r\n\r\n    @Column(name = &quot;page_read&quot;)\r\n    private int pageRead;\r\n}\r\n```\r\n\r\nWhat I would like to achieve is to retrieve the list of books from by postgre database and inject into  *userBookList* (for every books) the object from the related UserBook entity **given the current user** that is sending the request. As of now, every time I get a list of books, userBookList would contain every item inside the UserBook table related to his specific book.\r\n\r\nIs there a clean way to do it?","title":"Spring Boot, filtered OneToMany(mappedBy)","body":"<p>I have these two entities:</p>\n<pre><code>public class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @OneToMany(mappedBy = &quot;book&quot;)\n    private List&lt;UserBook&gt; userBookList;\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class UserBook {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;user_id&quot;)\n    private long userId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;book_id&quot;, nullable = false)\n    private Book book;\n\n    @Column(name = &quot;page_read&quot;)\n    private int pageRead;\n}\n</code></pre>\n<p>What I would like to achieve is to retrieve the list of books from by postgre database and inject into  <em>userBookList</em> (for every books) the object from the related UserBook entity <strong>given the current user</strong> that is sending the request. As of now, every time I get a list of books, userBookList would contain every item inside the UserBook table related to his specific book.</p>\n<p>Is there a clean way to do it?</p>\n"},{"tags":["elasticsearch","java"],"comments":[{"owner":{"account_id":1790035,"reputation":1118,"user_id":1630666,"accept_rate":39,"display_name":"geekprogrammer"},"score":0,"creation_date":1452769640,"post_id":33975807,"comment_id":57319452,"body_markdown":"I&#39;m getting the same problem while running tests and it is simply not possible to remove the duplicate jars in my case - many trasitive dependencies. Just wondering if there is any other solution to this problem  other than modifying the elasticsearch code ? Please see the issue here: https://github.com/elastic/elasticsearch/issues/14348.","body":"I&#39;m getting the same problem while running tests and it is simply not possible to remove the duplicate jars in my case - many trasitive dependencies. Just wondering if there is any other solution to this problem  other than modifying the elasticsearch code ? Please see the issue here: <a href=\"https://github.com/elastic/elasticsearch/issues/14348\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/issues/14348</a>."}],"answers":[{"tags":[],"owner":{"account_id":1790035,"reputation":1118,"user_id":1630666,"accept_rate":39,"display_name":"geekprogrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453035301,"creation_date":1453008516,"answer_id":34835436,"question_id":33975807,"body_markdown":"If you are getting &quot;jar hell&quot; error while running unit tests, following hack should take care of it - agree that it&#39;s not an elegant way.\r\n\r\n    String originalClassPath = System.getProperty(&quot;java.class.path&quot;);\r\n      String[] classPathEntries = originalClassPath.split(&quot;;&quot;);\r\n      StringBuilder esClasspath = new StringBuilder();\r\n           for (String entry : classPathEntries) {\r\n               if (entry.contains(&quot;elasticsearch&quot;) || entry.contains(&quot;lucene&quot;)) {\r\n                   esClasspath.append(entry);\r\n                   esClasspath.append(&quot;;&quot;);\r\n               }\r\n           }\r\n      System.setProperty(&quot;java.class.path&quot;, esClasspath.toString());\r\n      node = nodeBuilder().local(true).settings(settings).node();\r\n      System.setProperty(&quot;java.class.path&quot;, originalClassPath);","title":"Elasticsearch JAR hell error","body":"<p>If you are getting \"jar hell\" error while running unit tests, following hack should take care of it - agree that it's not an elegant way.</p>\n\n<pre><code>String originalClassPath = System.getProperty(\"java.class.path\");\n  String[] classPathEntries = originalClassPath.split(\";\");\n  StringBuilder esClasspath = new StringBuilder();\n       for (String entry : classPathEntries) {\n           if (entry.contains(\"elasticsearch\") || entry.contains(\"lucene\")) {\n               esClasspath.append(entry);\n               esClasspath.append(\";\");\n           }\n       }\n  System.setProperty(\"java.class.path\", esClasspath.toString());\n  node = nodeBuilder().local(true).settings(settings).node();\n  System.setProperty(\"java.class.path\", originalClassPath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2273637,"reputation":950,"user_id":2000467,"display_name":"Antoni Myłka"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1467641201,"creation_date":1467641201,"answer_id":38186686,"question_id":33975807,"body_markdown":"You can create a package named `org.elasticsearch.bootstrap` in your `src/test/java`, and put this class in there:\r\n\r\n\tpackage org.elasticsearch.bootstrap;\r\n\timport java.net.URL;\r\n\tpublic class JarHell {\r\n\t\tprivate JarHell() {}\r\n\t\tpublic static void checkJarHell() throws Exception {}\r\n\t\tpublic static void checkJarHell(URL urls[]) throws Exception {}\r\n\t\tpublic static void checkVersionFormat(String targetVersion) {}\r\n\t\tpublic static void checkJavaVersion(String resource, String targetVersion) {}\r\n\t\tpublic static URL[] parseClassPath() {return new URL[]{};}\r\n\t}\r\n\r\nThis has the advantage that the production code that uses the node builder to initialize the node can stay clean of any hacks, jar hell check is disabled only in the unit tests.","title":"Elasticsearch JAR hell error","body":"<p>You can create a package named <code>org.elasticsearch.bootstrap</code> in your <code>src/test/java</code>, and put this class in there:</p>\n\n<pre><code>package org.elasticsearch.bootstrap;\nimport java.net.URL;\npublic class JarHell {\n    private JarHell() {}\n    public static void checkJarHell() throws Exception {}\n    public static void checkJarHell(URL urls[]) throws Exception {}\n    public static void checkVersionFormat(String targetVersion) {}\n    public static void checkJavaVersion(String resource, String targetVersion) {}\n    public static URL[] parseClassPath() {return new URL[]{};}\n}\n</code></pre>\n\n<p>This has the advantage that the production code that uses the node builder to initialize the node can stay clean of any hacks, jar hell check is disabled only in the unit tests.</p>\n"},{"tags":[],"owner":{"account_id":1531241,"reputation":3354,"user_id":1428388,"display_name":"jzonthemtn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471029851,"creation_date":1471029851,"answer_id":38925165,"question_id":33975807,"body_markdown":"You can now [disable][1] the &quot;jar hell&quot; check during tests via the `tests.jarhell.check` property.\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/pull/16174","title":"Elasticsearch JAR hell error","body":"<p>You can now <a href=\"https://github.com/elastic/elasticsearch/pull/16174\" rel=\"nofollow\">disable</a> the \"jar hell\" check during tests via the <code>tests.jarhell.check</code> property.</p>\n"},{"tags":[],"owner":{"account_id":7559157,"reputation":874,"user_id":5737438,"display_name":"Yeikel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526947937,"creation_date":1526947937,"answer_id":50458084,"question_id":33975807,"body_markdown":"I am late, but I figured that my answer may help others in the future and that&#39;s why I am posting it. \r\n\r\nI believe that the right solution is to find the root cause and exclude the library that is producing the jar hell rather than hiding the problem. For example, in my case, I had the following duplicated library : \r\n\r\n    Caused by: java.lang.IllegalStateException: jar hell!\r\n    class: org.hamcrest.BaseDescription\r\n    jar1: C:\\Users\\Yeikel\\.m2\\repository\\org\\hamcrest\\hamcrest-all\\1.3\\hamcrest-all-1.3.jar\r\n    jar2: C:\\Users\\Yeikel\\.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar\r\n            at org.elasticsearch.bootstrap.JarHell.checkClass(JarHell.java:275)\r\n            at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:192)\r\n            at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:89)\r\n            at org.elasticsearch.bootstrap.BootstrapForTesting.&lt;clinit&gt;(BootstrapForTesting.java:90)\r\n\r\nAll I did to fix the problem is to find the duplication and exclude it from my libraries. In this case, the library was bundled with JUnit as well\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Elasticsearch JAR hell error","body":"<p>I am late, but I figured that my answer may help others in the future and that's why I am posting it. </p>\n\n<p>I believe that the right solution is to find the root cause and exclude the library that is producing the jar hell rather than hiding the problem. For example, in my case, I had the following duplicated library : </p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: jar hell!\nclass: org.hamcrest.BaseDescription\njar1: C:\\Users\\Yeikel\\.m2\\repository\\org\\hamcrest\\hamcrest-all\\1.3\\hamcrest-all-1.3.jar\njar2: C:\\Users\\Yeikel\\.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar\n        at org.elasticsearch.bootstrap.JarHell.checkClass(JarHell.java:275)\n        at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:192)\n        at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:89)\n        at org.elasticsearch.bootstrap.BootstrapForTesting.&lt;clinit&gt;(BootstrapForTesting.java:90)\n</code></pre>\n\n<p>All I did to fix the problem is to find the duplication and exclude it from my libraries. In this case, the library was bundled with JUnit as well</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640101185,"creation_date":1640101185,"answer_id":70438001,"question_id":33975807,"body_markdown":"Since elasticsearch 7.14.0 `JarHell` class has been moved to `org.elasticsearch.jdk` package. To disable jar hell checking in Elasticsearch versions &gt;= 7.14 just create below class in `org.elasticsearch.jdk` package.\r\n\r\n    package org.elasticsearch.jdk;\r\n\r\n    import java.net.URL;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.function.Consumer;\r\n\r\n    public class JarHell {\r\n        private JarHell() {}\r\n    \r\n        public static void checkJarHell(Set&lt;URL&gt; urls, Consumer&lt;String&gt; output) throws Exception {}\r\n    \r\n        public static void checkJarHell(Consumer&lt;String&gt; output) {}\r\n    \r\n        public static void checkVersionFormat(String targetVersion) {}\r\n    \r\n        public static void checkJavaVersion(String resource, String targetVersion) {}\r\n    \r\n        public static Set&lt;URL&gt; parseClassPath() {\r\n            return new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        static Set&lt;URL&gt; parseClassPath(String classPath) {\r\n            return new HashSet&lt;&gt;();\r\n        }\r\n    }","title":"Elasticsearch JAR hell error","body":"<p>Since elasticsearch 7.14.0 <code>JarHell</code> class has been moved to <code>org.elasticsearch.jdk</code> package. To disable jar hell checking in Elasticsearch versions &gt;= 7.14 just create below class in <code>org.elasticsearch.jdk</code> package.</p>\n<pre><code>package org.elasticsearch.jdk;\n\nimport java.net.URL;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.function.Consumer;\n\npublic class JarHell {\n    private JarHell() {}\n\n    public static void checkJarHell(Set&lt;URL&gt; urls, Consumer&lt;String&gt; output) throws Exception {}\n\n    public static void checkJarHell(Consumer&lt;String&gt; output) {}\n\n    public static void checkVersionFormat(String targetVersion) {}\n\n    public static void checkJavaVersion(String resource, String targetVersion) {}\n\n    public static Set&lt;URL&gt; parseClassPath() {\n        return new HashSet&lt;&gt;();\n    }\n\n    static Set&lt;URL&gt; parseClassPath(String classPath) {\n        return new HashSet&lt;&gt;();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3570412,"reputation":773,"user_id":2980873,"accept_rate":91,"display_name":"hello_its_me"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12973,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38925165,"answer_count":5,"score":4,"last_activity_date":1640101185,"creation_date":1448740763,"question_id":33975807,"body_markdown":"I created a Java file using Elasticsearch Java API. in NetBeans, everything worked just fine.\r\n\r\nHowever, I started getting the following error:\r\n\r\n    org/elasticsearch/plugins/PluginsService.java:342:in `loadBundles&#39;: java.lang.IllegalStateException: failed to load bundle [file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-core-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-plugin-api-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/marvel-agent/marvel-agent-2.0.0.jar] due to jar hell\r\n            from org/elasticsearch/plugins/PluginsService.java:113:in `&lt;init&gt;&#39;\r\n            from org/elasticsearch/node/Node.java:144:in `&lt;init&gt;&#39;\r\n            from org/elasticsearch/node/NodeBuilder.java:145:in `build&#39;\r\n            from spamdetection/SpamDetection.java:63:in `client&#39;\r\n            from spamdetection/SpamDetection.java:30:in `SpammerDetector&#39;\r\n            from java/lang/reflect/Method.java:497:in `invoke&#39;\r\n            from spam.rb:53:in `(root)&#39;\r\n            from spam.rb:53:in `(root)&#39;\r\n    Caused by:\r\n    JarHell.java:120:in `parseClassPath&#39;: java.lang.IllegalStateException: Classpath should not contain empty elements! (outdated shell script from a previous version?) classpath=&#39;&#39;\r\n            from JarHell.java:95:in `parseClassPath&#39;\r\n            from PluginsService.java:338:in `loadBundles&#39;\r\n            from PluginsService.java:113:in `&lt;init&gt;&#39;\r\n            from Node.java:144:in `&lt;init&gt;&#39;\r\n            from NodeBuilder.java:145:in `build&#39;\r\n            from SpamDetection.java:63:in `client&#39;\r\n            from SpamDetection.java:30:in `SpammerDetector&#39;\r\n            from NativeMethodAccessorImpl.java:-2:in `invoke0&#39;\r\n            from NativeMethodAccessorImpl.java:62:in `invoke&#39;\r\n            from DelegatingMethodAccessorImpl.java:43:in `invoke&#39;\r\n            from Method.java:497:in `invoke&#39;\r\n            from JavaMethod.java:451:in `invokeDirectWithExceptionHandling&#39;\r\n            from JavaMethod.java:312:in `invokeDirect&#39;\r\n            from InstanceMethodInvoker.java:45:in `call&#39;\r\n            from CachingCallSite.java:326:in `cacheAndCall&#39;\r\n            from CachingCallSite.java:170:in `call&#39;\r\n            from spam.rb:53:in `__file__&#39;\r\n            from spam.rb:-1:in `load&#39;\r\n            from Ruby.java:857:in `runScript&#39;\r\n            from Ruby.java:850:in `runScript&#39;\r\n            from Ruby.java:729:in `runNormally&#39;\r\n            from Ruby.java:578:in `runFromMain&#39;\r\n            from Main.java:395:in `doRunFromMain&#39;\r\n            from Main.java:290:in `internalRun&#39;\r\n            from Main.java:217:in `run&#39;\r\n            from Main.java:197:in `main&#39;\r\n\r\nWhen trying to call my Java JAR file from JRuby. What&#39;s causing this error?\r\n","title":"Elasticsearch JAR hell error","body":"<p>I created a Java file using Elasticsearch Java API. in NetBeans, everything worked just fine.</p>\n\n<p>However, I started getting the following error:</p>\n\n<pre><code>org/elasticsearch/plugins/PluginsService.java:342:in `loadBundles': java.lang.IllegalStateException: failed to load bundle [file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-core-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/license/license-plugin-api-2.0.0.jar, file:/D:/ELK-2.0/elasticsearch-2.0.0/plugins/marvel-agent/marvel-agent-2.0.0.jar] due to jar hell\n        from org/elasticsearch/plugins/PluginsService.java:113:in `&lt;init&gt;'\n        from org/elasticsearch/node/Node.java:144:in `&lt;init&gt;'\n        from org/elasticsearch/node/NodeBuilder.java:145:in `build'\n        from spamdetection/SpamDetection.java:63:in `client'\n        from spamdetection/SpamDetection.java:30:in `SpammerDetector'\n        from java/lang/reflect/Method.java:497:in `invoke'\n        from spam.rb:53:in `(root)'\n        from spam.rb:53:in `(root)'\nCaused by:\nJarHell.java:120:in `parseClassPath': java.lang.IllegalStateException: Classpath should not contain empty elements! (outdated shell script from a previous version?) classpath=''\n        from JarHell.java:95:in `parseClassPath'\n        from PluginsService.java:338:in `loadBundles'\n        from PluginsService.java:113:in `&lt;init&gt;'\n        from Node.java:144:in `&lt;init&gt;'\n        from NodeBuilder.java:145:in `build'\n        from SpamDetection.java:63:in `client'\n        from SpamDetection.java:30:in `SpammerDetector'\n        from NativeMethodAccessorImpl.java:-2:in `invoke0'\n        from NativeMethodAccessorImpl.java:62:in `invoke'\n        from DelegatingMethodAccessorImpl.java:43:in `invoke'\n        from Method.java:497:in `invoke'\n        from JavaMethod.java:451:in `invokeDirectWithExceptionHandling'\n        from JavaMethod.java:312:in `invokeDirect'\n        from InstanceMethodInvoker.java:45:in `call'\n        from CachingCallSite.java:326:in `cacheAndCall'\n        from CachingCallSite.java:170:in `call'\n        from spam.rb:53:in `__file__'\n        from spam.rb:-1:in `load'\n        from Ruby.java:857:in `runScript'\n        from Ruby.java:850:in `runScript'\n        from Ruby.java:729:in `runNormally'\n        from Ruby.java:578:in `runFromMain'\n        from Main.java:395:in `doRunFromMain'\n        from Main.java:290:in `internalRun'\n        from Main.java:217:in `run'\n        from Main.java:197:in `main'\n</code></pre>\n\n<p>When trying to call my Java JAR file from JRuby. What's causing this error?</p>\n"},{"tags":["java","wrapper"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1640099988,"post_id":70437681,"comment_id":124512267,"body_markdown":"Did you consider the possibility that that field could be private, and hence not shown in the JavaDoc? Also, static fields don&#39;t belong to each individual object. `Integer` objects only have non-static fields.","body":"Did you consider the possibility that that field could be private, and hence not shown in the JavaDoc? Also, static fields don&#39;t belong to each individual object. <code>Integer</code> objects only have non-static fields."},{"owner":{"account_id":23185735,"reputation":33,"user_id":17282873,"display_name":"jflemming"},"score":0,"creation_date":1640101556,"post_id":70437681,"comment_id":124512909,"body_markdown":"right - I didn&#39;t notice the &#39;object&#39; of type Integer.  Thanks for pointing that out.","body":"right - I didn&#39;t notice the &#39;object&#39; of type Integer.  Thanks for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640100020,"creation_date":1640100020,"answer_id":70437746,"question_id":70437681,"body_markdown":"The value is stored in a [`private final int value`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/jdk-11+28/src/java.base/share/classes/java/lang/Integer.java#L1058) in OpenJDK; the actual naming and other considerations are *implementation-defined* and may vary.\r\n\r\nBecause it&#39;s private, it&#39;s not listed in javadocs unless the Javadoc tool was called with the `-private` parameter -- this was not done when the official API docs were generated from sources.\r\n\r\nThe public fields are static, so their values pertain to the class itself, not to instances. There&#39;s nothing unexpected here - `MAX_VALUE` is a reasonable immutable (final) thing to pertain to Integers.","title":"What field is the value of the int wrapped by an Integer Java object stored in?","body":"<p>The value is stored in a <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/jdk-11+28/src/java.base/share/classes/java/lang/Integer.java#L1058\" rel=\"nofollow noreferrer\"><code>private final int value</code></a> in OpenJDK; the actual naming and other considerations are <em>implementation-defined</em> and may vary.</p>\n<p>Because it's private, it's not listed in javadocs unless the Javadoc tool was called with the <code>-private</code> parameter -- this was not done when the official API docs were generated from sources.</p>\n<p>The public fields are static, so their values pertain to the class itself, not to instances. There's nothing unexpected here - <code>MAX_VALUE</code> is a reasonable immutable (final) thing to pertain to Integers.</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640100902,"creation_date":1640100517,"answer_id":70437860,"question_id":70437681,"body_markdown":"In the `Integer` class code there is a field \r\n\r\n    private final int value;\r\n\r\nthat holds the value as a primitive `int`.\r\nThe code to retrieve the stored value is `intValue()` whose implementation is\r\n\r\n    public int intValue() {\r\n        return value;\r\n    }\r\n\r\nProperties `MIN_VALUE`, `MAX_VALUE` ... are static properties so there is no duplication between instances of the Integer class.\r\nThere are also other interesting static properties in the Integer class. In particular there is a group of cached values between -128 and +127 that are stored in the static property `private static Integer[] intCache`.\r\n\r\nThat is why is better to use the method valueOf instead of creating explicitly a new Integer. The implementation of `valueOf` try to use the cached values when available with a code similar to the following:\r\n\r\n    public static Integer valueOf(int val) {\r\n        if (val &lt; MIN_CACHE || val &gt; MAX_CACHE)\r\n            return new Integer(val);\r\n        synchronized (intCache) {\r\n           if (intCache[val - MIN_CACHE] == null)\r\n              intCache[val - MIN_CACHE] = new Integer(val);\r\n           return intCache[val - MIN_CACHE];\r\n        }\r\n     }\r\n\r\nTravelling around the source code of base classes of java gives you ideas on how to perform better your code, but you need to be sure to know details of java language so that code like the synchronized block before doesn&#39;t afraid you to read it.","title":"What field is the value of the int wrapped by an Integer Java object stored in?","body":"<p>In the <code>Integer</code> class code there is a field</p>\n<pre><code>private final int value;\n</code></pre>\n<p>that holds the value as a primitive <code>int</code>.\nThe code to retrieve the stored value is <code>intValue()</code> whose implementation is</p>\n<pre><code>public int intValue() {\n    return value;\n}\n</code></pre>\n<p>Properties <code>MIN_VALUE</code>, <code>MAX_VALUE</code> ... are static properties so there is no duplication between instances of the Integer class.\nThere are also other interesting static properties in the Integer class. In particular there is a group of cached values between -128 and +127 that are stored in the static property <code>private static Integer[] intCache</code>.</p>\n<p>That is why is better to use the method valueOf instead of creating explicitly a new Integer. The implementation of <code>valueOf</code> try to use the cached values when available with a code similar to the following:</p>\n<pre><code>public static Integer valueOf(int val) {\n    if (val &lt; MIN_CACHE || val &gt; MAX_CACHE)\n        return new Integer(val);\n    synchronized (intCache) {\n       if (intCache[val - MIN_CACHE] == null)\n          intCache[val - MIN_CACHE] = new Integer(val);\n       return intCache[val - MIN_CACHE];\n    }\n }\n</code></pre>\n<p>Travelling around the source code of base classes of java gives you ideas on how to perform better your code, but you need to be sure to know details of java language so that code like the synchronized block before doesn't afraid you to read it.</p>\n"}],"owner":{"account_id":23185735,"reputation":33,"user_id":17282873,"display_name":"jflemming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640100902,"creation_date":1640099714,"question_id":70437681,"body_markdown":"I am trying to figure out where the value is stored in an Integer (ie what field is it in, or is there some other way it knows its value)?  Unless its pertinent, I don&#39;t need to know &#39;how its stored in memory&#39;, I need to know how the Object knows what value it represents.\r\n\r\nWhen I looked at the javadoc, I expected to see a field of Type int which stored the value as a primitive, but I don&#39;t see that.\r\n\r\nThe Javadoc says that \r\n\r\n&gt; An object of type Integer contains a single field whose type is int.\r\n\r\nBut when I look at the fields, I see 5 static fields, and I think all of them store characteristics of the value, but not the value (BYTES, MAX_VALUE, MIN_VALUE, SIZE, TYPE).\r\n\r\nFirst - this statement seems contradictory to me...there is more than a single field (there is 5)\r\n\r\nSecond - none of the fields &#39;store&#39; the value...so how does the object know what value it is representing? \r\n\r\nI am not a regular Java user, so be kind with your answers.","title":"What field is the value of the int wrapped by an Integer Java object stored in?","body":"<p>I am trying to figure out where the value is stored in an Integer (ie what field is it in, or is there some other way it knows its value)?  Unless its pertinent, I don't need to know 'how its stored in memory', I need to know how the Object knows what value it represents.</p>\n<p>When I looked at the javadoc, I expected to see a field of Type int which stored the value as a primitive, but I don't see that.</p>\n<p>The Javadoc says that</p>\n<blockquote>\n<p>An object of type Integer contains a single field whose type is int.</p>\n</blockquote>\n<p>But when I look at the fields, I see 5 static fields, and I think all of them store characteristics of the value, but not the value (BYTES, MAX_VALUE, MIN_VALUE, SIZE, TYPE).</p>\n<p>First - this statement seems contradictory to me...there is more than a single field (there is 5)</p>\n<p>Second - none of the fields 'store' the value...so how does the object know what value it is representing?</p>\n<p>I am not a regular Java user, so be kind with your answers.</p>\n"},{"tags":["java","recursion","jit","project-loom"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1638372710,"post_id":69273526,"comment_id":124071417,"body_markdown":"Tail call optimizations are not planned for Loom.","body":"Tail call optimizations are not planned for Loom."},{"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"score":0,"creation_date":1638560160,"post_id":69273526,"comment_id":124130157,"body_markdown":"@Holger Are you sure? From the OpenJDK Wiki on Loom: &quot;We envision tail-call elimination that pops one or perhaps even an arbitrary number of stack frames at explicitly marked call-sites. It is not the intention of this project to implement automatic tail-call optimization.&quot; (https://wiki.openjdk.java.net/display/loom/Main#Main-TailCalls) Seems like it&#39;ll be added but will require some kind of input to actually perform the optimization.","body":"@Holger Are you sure? From the OpenJDK Wiki on Loom: &quot;We envision tail-call elimination that pops one or perhaps even an arbitrary number of stack frames at explicitly marked call-sites. It is not the intention of this project to implement automatic tail-call optimization.&quot; (<a href=\"https://wiki.openjdk.java.net/display/loom/Main#Main-TailCalls\" rel=\"nofollow noreferrer\">wiki.openjdk.java.net/display/loom/Main#Main-TailCalls</a>) Seems like it&#39;ll be added but will require some kind of input to actually perform the optimization."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638783019,"post_id":69273526,"comment_id":124171028,"body_markdown":"Popping a few frames from the stack at an explicitly marked code location is not what people normally understand by the term “tail call optimization”. So the other cited sentence is the relevant one here, “It is *not* the intention of this project to implement automatic tail-call optimization.”","body":"Popping a few frames from the stack at an explicitly marked code location is not what people normally understand by the term “tail call optimization”. So the other cited sentence is the relevant one here, “It is <i>not</i> the intention of this project to implement automatic tail-call optimization.”"},{"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"score":0,"creation_date":1638823247,"post_id":69273526,"comment_id":124185800,"body_markdown":"@Holger No, but popping an &quot;arbitrary number of stack frames&quot; is. Regardless, the bullet points cite &quot;Tail-call elimination&quot; as one of the goals of the project. Most sources I see use tail-call elimination and tail-call optimization synonymously, but if you think it&#39;s more accurate to use different language I can edit.","body":"@Holger No, but popping an &quot;arbitrary number of stack frames&quot; is. Regardless, the bullet points cite &quot;Tail-call elimination&quot; as one of the goals of the project. Most sources I see use tail-call elimination and tail-call optimization synonymously, but if you think it&#39;s more accurate to use different language I can edit."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638863475,"post_id":69273526,"comment_id":124194218,"body_markdown":"I don’t know why Tail Calls have been included in the bullet points, as they are neither required nor related to the actual goal of providing virtual threads and continuation. It was surprising to see them there, as no other document names them as goal of this project. That page itself say “we envision tail-call elimination” which is not reading like announcing an actual plan","body":"I don’t know why Tail Calls have been included in the bullet points, as they are neither required nor related to the actual goal of providing virtual threads and continuation. It was surprising to see them there, as no other document names them as goal of this project. That page itself say “we envision tail-call elimination” which is not reading like announcing an actual plan"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638863645,"post_id":69273526,"comment_id":124194278,"body_markdown":"and the “Implementation” section says “*The implementation of this feature requires cross-cutting changes to the VM, VM specification (bytecode), and possibly the front-end Java compiler (javac). As a result, in order not to delay the completion of continuations and fibers, we will only begin specifying and implementing this feature only when the project is at a more advanced phase.*” This is actually answering your question.","body":"and the “Implementation” section says “<i>The implementation of this feature requires cross-cutting changes to the VM, VM specification (bytecode), and possibly the front-end Java compiler (javac). As a result, in order not to delay the completion of continuations and fibers, we will only begin specifying and implementing this feature only when the project is at a more advanced phase.</i>” This is actually answering your question."},{"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"score":0,"creation_date":1639246157,"post_id":69273526,"comment_id":124301788,"body_markdown":"@Holger Okay, so it&#39;s a feature of Loom but a late-stage, low priority one. Is my edit what you had in mind for accuracy?","body":"@Holger Okay, so it&#39;s a feature of Loom but a late-stage, low priority one. Is my edit what you had in mind for accuracy?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639417321,"post_id":69273526,"comment_id":124338178,"body_markdown":"To me, it looks more like a nice-to-have and considering the serious problems named there, rather unlikely that the project that doesn’t depend on it will be delayed for it. In other words, I doubt that it will come as part of this project, but rather “Loom 2” or under an entirely different name. But anyway, the obstacles named there, explain why currently, no tail call elimination happens. Which answers your question.","body":"To me, it looks more like a nice-to-have and considering the serious problems named there, rather unlikely that the project that doesn’t depend on it will be delayed for it. In other words, I doubt that it will come as part of this project, but rather “Loom 2” or under an entirely different name. But anyway, the obstacles named there, explain why currently, no tail call elimination happens. Which answers your question."},{"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"score":0,"creation_date":1639430845,"post_id":69273526,"comment_id":124342367,"body_markdown":"@Holger It&#39;s currently listed as a goal of the project in multiple places. I don&#39;t really see anything that suggests it&#39;s going to be dropped or moved to &quot;Loom 2&quot;. But if that does happen I guess I&#39;ll edit further.","body":"@Holger It&#39;s currently listed as a goal of the project in multiple places. I don&#39;t really see anything that suggests it&#39;s going to be dropped or moved to &quot;Loom 2&quot;. But if that does happen I guess I&#39;ll edit further."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639471862,"post_id":69273526,"comment_id":124350746,"body_markdown":"As said, I was surprised to see it prominently placed into the list, when it is neither required nor achievable with a reasonable effort. As that linked page says, it would require “*changes to the VM, VM specification (bytecode), and possibly the front-end Java compiler (javac)*” whereas the actual Loom (Virtual Threads) only needed a little help from the JVM that has been implemented already and no changes to the specification nor compiler. But I don’t want you to change your question, but to realize, it has been answered.","body":"As said, I was surprised to see it prominently placed into the list, when it is neither required nor achievable with a reasonable effort. As that linked page says, it would require “<i>changes to the VM, VM specification (bytecode), and possibly the front-end Java compiler (javac)</i>” whereas the actual Loom (Virtual Threads) only needed a little help from the JVM that has been implemented already and no changes to the specification nor compiler. But I don’t want you to change your question, but to realize, it has been answered."},{"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"score":0,"creation_date":1639766440,"post_id":69273526,"comment_id":124441105,"body_markdown":"@Holger Oh, sorry, I misread the last line in your previous comment, I thought you were talking about my question re. Tail Call Optimization in Loom, thanks for taking the time to explain.","body":"@Holger Oh, sorry, I misread the last line in your previous comment, I thought you were talking about my question re. Tail Call Optimization in Loom, thanks for taking the time to explain."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640100863,"creation_date":1640100863,"answer_id":70437945,"question_id":69273526,"body_markdown":"Your question “how does that appear on stack traces?” is one of the unsolved problems of tail call optimization in a JVM. There’s an expectation of manageability of the Java code, especially when code is spending a long time in a recursive algorithm (or even hanging in an endless recursion) and the developer wants to find out what’s going on.\r\n\r\nSo in short, the JVM (current version of HotSpot) has no tail call optimization. But it is capable of inlining a finite number of recursive invocations, just like it can inline other invocations.\r\n\r\nWhen we use\r\n\r\n```java\r\npublic class Recursion {\r\n    public static void main(String[] args) {\r\n        runs: for(int run = 0; run &lt; 10; run++) {\r\n            for(int i = 1; i &lt; 1_000_000_000; i++) try {\r\n                int counted = recursiveCounter(i, 0);\r\n                if(i != counted) throw new AssertionError();\r\n            } catch(StackOverflowError e) {\r\n                System.out.println(&quot;limit reached at &quot; + i);\r\n                continue runs;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static int recursiveCounter(int limit, int count) {\r\n        return limit == 0? count: recursiveCounter(limit - 1, count + 1);\r\n    }\r\n}\r\n```\r\n\r\nwe get values similar to those discussed in https://stackoverflow.com/q/27043922/2711488 Running with `-XX:CompileCommand=print,Recursion.recursiveCounter`  \r\n`-XX:+UnlockDiagnosticVMOptions` `-XX:+PrintInlining` prints\r\n\r\n```none\r\n@ 18   Recursion::recursiveCounter (18 bytes)   inline\r\n  @ 14   Recursion::recursiveCounter (18 bytes)   inline\r\n    @ 14   Recursion::recursiveCounter (18 bytes)   recursive inlining too deep\r\n```\r\n\r\nand\r\n\r\n```none\r\n  0x0000026398871220:   mov     dword ptr [rsp+0ffffffffffff9000h],eax\r\n  0x0000026398871227:   push    rbp\r\n  0x0000026398871228:   sub     rsp,10h                     ;*synchronization entry\r\n                                                            ; - Recursion::recursiveCounter@-1 (line 16)\r\n  0x000002639887122c:   test    edx,edx\r\n  0x000002639887122e:   je      26398871254h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n  0x0000026398871230:   cmp     edx,1h\r\n  0x0000026398871233:   je      26398871259h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000026398871235:   add     r8d,2h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000026398871239:   add     edx,0fffffffeh              ;*isub {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@10 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x000002639887123c:   nop\r\n  0x000002639887123f:   call    26398871220h                ; ImmutableOopMap {}\r\n                                                            ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ;   {static_call}\r\n  0x0000026398871244:   add     rsp,10h\r\n  0x0000026398871248:   pop     rbp\r\n  0x0000026398871249:   mov     r10,qword ptr [r15+110h]\r\n  0x0000026398871250:   test    dword ptr [r10],eax         ;   {poll_return}\r\n  0x0000026398871253:   ret\r\n  0x0000026398871254:   mov     eax,r8d\r\n  0x0000026398871257:   jmp     26398871244h\r\n  0x0000026398871259:   mov     eax,r8d\r\n  0x000002639887125c:   inc     eax                         ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n  0x000002639887125e:   jmp     26398871244h                ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000026398871260:   mov     rdx,rax\r\n  0x0000026398871263:   add     rsp,10h\r\n  0x0000026398871267:   pop     rbp\r\n  0x0000026398871268:   jmp     26390ea4d00h                ;*ireturn {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@17 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ;   {runtime_call _rethrow_Java}\r\n```\r\n\r\nThe interesting part is the `test edx,edx` instruction matching our `limit == 0` condition. If this condition is not fulfilled, there’s a `cmp edx,1h` test following, effectively testing what the next recursive invocation would test and if this condition also isn’t fulfilled, the code will perform `add r8d,2h` and `add edx,0fffffffeh`, incrementing the `count` by two and decrementing the `limit` by two.\r\n\r\nSo we clearly see the effect of inlining one level of recursion and fusing the operations. The inlining diagnostics tells us that a limit has been crossed, so it’s worth to investigate what happens when specifying, e.g. `-XX:MaxRecursiveInlineLevel=4`:\r\n\r\n```none\r\n@ 18   Recursion::recursiveCounter (18 bytes)   inline\r\n  @ 14   Recursion::recursiveCounter (18 bytes)   inline\r\n    @ 14   Recursion::recursiveCounter (18 bytes)   inline\r\n      @ 14   Recursion::recursiveCounter (18 bytes)   inline\r\n        @ 14   Recursion::recursiveCounter (18 bytes)   inline\r\n          @ 14   Recursion::recursiveCounter (18 bytes)   recursive inlining too deep\r\n```\r\n\r\n```none\r\n  0x0000025345d31620:   mov     dword ptr [rsp+0ffffffffffff9000h],eax\r\n  0x0000025345d31627:   push    rbp\r\n  0x0000025345d31628:   sub     rsp,10h                     ;*synchronization entry\r\n                                                            ; - Recursion::recursiveCounter@-1 (line 16)\r\n  0x0000025345d3162c:   test    edx,edx\r\n  0x0000025345d3162e:   je      25345d31660h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n  0x0000025345d31630:   cmp     edx,1h\r\n  0x0000025345d31633:   je      25345d31665h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31635:   cmp     edx,2h\r\n  0x0000025345d31638:   je      25345d3166ch                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d3163a:   cmp     edx,3h\r\n  0x0000025345d3163d:   je      25345d31674h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d3163f:   cmp     edx,4h\r\n  0x0000025345d31642:   je      25345d3167ch                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31644:   add     r8d,5h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31648:   add     edx,0fffffffbh\r\n  0x0000025345d3164b:   call    25345d31620h                ; ImmutableOopMap {}\r\n                                                            ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ;   {static_call}\r\n  0x0000025345d31650:   add     rsp,10h\r\n  0x0000025345d31654:   pop     rbp\r\n  0x0000025345d31655:   mov     r10,qword ptr [r15+110h]\r\n  0x0000025345d3165c:   test    dword ptr [r10],eax         ;   {poll_return}\r\n  0x0000025345d3165f:   ret\r\n  0x0000025345d31660:   mov     eax,r8d\r\n  0x0000025345d31663:   jmp     25345d31650h\r\n  0x0000025345d31665:   mov     eax,r8d\r\n  0x0000025345d31668:   inc     eax                         ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n  0x0000025345d3166a:   jmp     25345d31650h\r\n  0x0000025345d3166c:   mov     eax,r8d\r\n  0x0000025345d3166f:   add     eax,2h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31672:   jmp     25345d31650h\r\n  0x0000025345d31674:   mov     eax,r8d\r\n  0x0000025345d31677:   add     eax,3h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d3167a:   jmp     25345d31650h\r\n  0x0000025345d3167c:   mov     eax,r8d\r\n  0x0000025345d3167f:   add     eax,4h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31682:   jmp     25345d31650h                ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n  0x0000025345d31684:   mov     rdx,rax\r\n  0x0000025345d31687:   add     rsp,10h\r\n  0x0000025345d3168b:   pop     rbp\r\n  0x0000025345d3168c:   jmp     2533e364d00h                ;*ireturn {reexecute=0 rethrow=0 return_oop=0}\r\n                                                            ; - Recursion::recursiveCounter@17 (line 16)\r\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\r\n                                                            ;   {runtime_call _rethrow_Java}\r\n```\r\n\r\nWe can see that now, the compiled code has learned to add up to five at once. The application will also print a much larger limit of nested invocations. The comments behind the instruction show that the meta information about the nested invocations is still present, even if there are no individual instructions associated with an invocation level. This implies that a stack trace representing the whole original call chain could still be constructed.\r\n\r\nOf course, this is not the same as actual tail call optimization. Regardless of how high we set the limit, it’s still inlining a finite number of invocation and it’s already recognizable that setting the limit too high would yield unreasonable code size.\r\n\r\nSo the answer to the literal question “Does the Java JIT ever optimize away recursive method calls?” is “Yes, it does”. But not the entire recursion but a finite number of calls, in other words, not in the form of tail call optimization.\r\n","title":"Does the Java JIT ever optimize away recursive method calls?","body":"<p>Your question “how does that appear on stack traces?” is one of the unsolved problems of tail call optimization in a JVM. There’s an expectation of manageability of the Java code, especially when code is spending a long time in a recursive algorithm (or even hanging in an endless recursion) and the developer wants to find out what’s going on.</p>\n<p>So in short, the JVM (current version of HotSpot) has no tail call optimization. But it is capable of inlining a finite number of recursive invocations, just like it can inline other invocations.</p>\n<p>When we use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Recursion {\n    public static void main(String[] args) {\n        runs: for(int run = 0; run &lt; 10; run++) {\n            for(int i = 1; i &lt; 1_000_000_000; i++) try {\n                int counted = recursiveCounter(i, 0);\n                if(i != counted) throw new AssertionError();\n            } catch(StackOverflowError e) {\n                System.out.println(&quot;limit reached at &quot; + i);\n                continue runs;\n            }\n        }\n    }\n\n    private static int recursiveCounter(int limit, int count) {\n        return limit == 0? count: recursiveCounter(limit - 1, count + 1);\n    }\n}\n</code></pre>\n<p>we get values similar to those discussed in <a href=\"https://stackoverflow.com/q/27043922/2711488\">Why is the max recursion depth I can reach non-deterministic?</a> Running with <code>-XX:CompileCommand=print,Recursion.recursiveCounter</code><br />\n<code>-XX:+UnlockDiagnosticVMOptions</code> <code>-XX:+PrintInlining</code> prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>@ 18   Recursion::recursiveCounter (18 bytes)   inline\n  @ 14   Recursion::recursiveCounter (18 bytes)   inline\n    @ 14   Recursion::recursiveCounter (18 bytes)   recursive inlining too deep\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>  0x0000026398871220:   mov     dword ptr [rsp+0ffffffffffff9000h],eax\n  0x0000026398871227:   push    rbp\n  0x0000026398871228:   sub     rsp,10h                     ;*synchronization entry\n                                                            ; - Recursion::recursiveCounter@-1 (line 16)\n  0x000002639887122c:   test    edx,edx\n  0x000002639887122e:   je      26398871254h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n  0x0000026398871230:   cmp     edx,1h\n  0x0000026398871233:   je      26398871259h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000026398871235:   add     r8d,2h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000026398871239:   add     edx,0fffffffeh              ;*isub {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@10 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x000002639887123c:   nop\n  0x000002639887123f:   call    26398871220h                ; ImmutableOopMap {}\n                                                            ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ;   {static_call}\n  0x0000026398871244:   add     rsp,10h\n  0x0000026398871248:   pop     rbp\n  0x0000026398871249:   mov     r10,qword ptr [r15+110h]\n  0x0000026398871250:   test    dword ptr [r10],eax         ;   {poll_return}\n  0x0000026398871253:   ret\n  0x0000026398871254:   mov     eax,r8d\n  0x0000026398871257:   jmp     26398871244h\n  0x0000026398871259:   mov     eax,r8d\n  0x000002639887125c:   inc     eax                         ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n  0x000002639887125e:   jmp     26398871244h                ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000026398871260:   mov     rdx,rax\n  0x0000026398871263:   add     rsp,10h\n  0x0000026398871267:   pop     rbp\n  0x0000026398871268:   jmp     26390ea4d00h                ;*ireturn {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@17 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ;   {runtime_call _rethrow_Java}\n</code></pre>\n<p>The interesting part is the <code>test edx,edx</code> instruction matching our <code>limit == 0</code> condition. If this condition is not fulfilled, there’s a <code>cmp edx,1h</code> test following, effectively testing what the next recursive invocation would test and if this condition also isn’t fulfilled, the code will perform <code>add r8d,2h</code> and <code>add edx,0fffffffeh</code>, incrementing the <code>count</code> by two and decrementing the <code>limit</code> by two.</p>\n<p>So we clearly see the effect of inlining one level of recursion and fusing the operations. The inlining diagnostics tells us that a limit has been crossed, so it’s worth to investigate what happens when specifying, e.g. <code>-XX:MaxRecursiveInlineLevel=4</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>@ 18   Recursion::recursiveCounter (18 bytes)   inline\n  @ 14   Recursion::recursiveCounter (18 bytes)   inline\n    @ 14   Recursion::recursiveCounter (18 bytes)   inline\n      @ 14   Recursion::recursiveCounter (18 bytes)   inline\n        @ 14   Recursion::recursiveCounter (18 bytes)   inline\n          @ 14   Recursion::recursiveCounter (18 bytes)   recursive inlining too deep\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>  0x0000025345d31620:   mov     dword ptr [rsp+0ffffffffffff9000h],eax\n  0x0000025345d31627:   push    rbp\n  0x0000025345d31628:   sub     rsp,10h                     ;*synchronization entry\n                                                            ; - Recursion::recursiveCounter@-1 (line 16)\n  0x0000025345d3162c:   test    edx,edx\n  0x0000025345d3162e:   je      25345d31660h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n  0x0000025345d31630:   cmp     edx,1h\n  0x0000025345d31633:   je      25345d31665h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31635:   cmp     edx,2h\n  0x0000025345d31638:   je      25345d3166ch                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d3163a:   cmp     edx,3h\n  0x0000025345d3163d:   je      25345d31674h                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d3163f:   cmp     edx,4h\n  0x0000025345d31642:   je      25345d3167ch                ;*ifne {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@1 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31644:   add     r8d,5h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31648:   add     edx,0fffffffbh\n  0x0000025345d3164b:   call    25345d31620h                ; ImmutableOopMap {}\n                                                            ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ;   {static_call}\n  0x0000025345d31650:   add     rsp,10h\n  0x0000025345d31654:   pop     rbp\n  0x0000025345d31655:   mov     r10,qword ptr [r15+110h]\n  0x0000025345d3165c:   test    dword ptr [r10],eax         ;   {poll_return}\n  0x0000025345d3165f:   ret\n  0x0000025345d31660:   mov     eax,r8d\n  0x0000025345d31663:   jmp     25345d31650h\n  0x0000025345d31665:   mov     eax,r8d\n  0x0000025345d31668:   inc     eax                         ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n  0x0000025345d3166a:   jmp     25345d31650h\n  0x0000025345d3166c:   mov     eax,r8d\n  0x0000025345d3166f:   add     eax,2h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31672:   jmp     25345d31650h\n  0x0000025345d31674:   mov     eax,r8d\n  0x0000025345d31677:   add     eax,3h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d3167a:   jmp     25345d31650h\n  0x0000025345d3167c:   mov     eax,r8d\n  0x0000025345d3167f:   add     eax,4h                      ;*iadd {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@13 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31682:   jmp     25345d31650h                ;*invokestatic recursiveCounter {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n  0x0000025345d31684:   mov     rdx,rax\n  0x0000025345d31687:   add     rsp,10h\n  0x0000025345d3168b:   pop     rbp\n  0x0000025345d3168c:   jmp     2533e364d00h                ;*ireturn {reexecute=0 rethrow=0 return_oop=0}\n                                                            ; - Recursion::recursiveCounter@17 (line 16)\n                                                            ; - Recursion::recursiveCounter@14 (line 16)\n                                                            ;   {runtime_call _rethrow_Java}\n</code></pre>\n<p>We can see that now, the compiled code has learned to add up to five at once. The application will also print a much larger limit of nested invocations. The comments behind the instruction show that the meta information about the nested invocations is still present, even if there are no individual instructions associated with an invocation level. This implies that a stack trace representing the whole original call chain could still be constructed.</p>\n<p>Of course, this is not the same as actual tail call optimization. Regardless of how high we set the limit, it’s still inlining a finite number of invocation and it’s already recognizable that setting the limit too high would yield unreasonable code size.</p>\n<p>So the answer to the literal question “Does the Java JIT ever optimize away recursive method calls?” is “Yes, it does”. But not the entire recursion but a finite number of calls, in other words, not in the form of tail call optimization.</p>\n"}],"owner":{"account_id":8063048,"reputation":113,"user_id":11069710,"display_name":"Shmuel Newmark"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70437945,"answer_count":1,"score":1,"last_activity_date":1640100863,"creation_date":1632247146,"question_id":69273526,"body_markdown":"I know Java has yet to add tail-call elimination optimization and intends to do so as a late stage addition to [Project Loom][1]. My question is instead: does the JIT ever optimize away recursive method calls in their entirety and convert them into an iterative form? It seems nominally possible but relatively difficult so I&#39;m guessing if they did it would be strongly described in some doc, but I&#39;m struggling to track anything on the subject down.\r\n\r\nAs a follow-up, if the JIT does eliminate recursive calls in some form beyond what&#39;s described in Loom, how does that appear on stack traces?\r\n\r\n\r\n  [1]: https://inside.java/tag/loom","title":"Does the Java JIT ever optimize away recursive method calls?","body":"<p>I know Java has yet to add tail-call elimination optimization and intends to do so as a late stage addition to <a href=\"https://inside.java/tag/loom\" rel=\"nofollow noreferrer\">Project Loom</a>. My question is instead: does the JIT ever optimize away recursive method calls in their entirety and convert them into an iterative form? It seems nominally possible but relatively difficult so I'm guessing if they did it would be strongly described in some doc, but I'm struggling to track anything on the subject down.</p>\n<p>As a follow-up, if the JIT does eliminate recursive calls in some form beyond what's described in Loom, how does that appear on stack traces?</p>\n"},{"tags":["java","class","interface","inner-classes"],"comments":[{"owner":{"account_id":2789962,"reputation":354,"user_id":2400380,"accept_rate":40,"display_name":"Amir M"},"score":0,"creation_date":1640098554,"post_id":70437335,"comment_id":124511662,"body_markdown":"What is the goal here? Let&#39;s say you found out, what&#39;s the use?","body":"What is the goal here? Let&#39;s say you found out, what&#39;s the use?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1640098639,"post_id":70437335,"comment_id":124511695,"body_markdown":"use instanceof operator.","body":"use instanceof operator."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1640098657,"post_id":70437335,"comment_id":124511699,"body_markdown":"If you only need to know if a certain inner (or other) class implements an interface you can use `instanceof`.  For example: `inner1 test1 = new test().new inner1();  System.out.println(test1 instanceof testInterface);`","body":"If you only need to know if a certain inner (or other) class implements an interface you can use <code>instanceof</code>.  For example: <code>inner1 test1 = new test().new inner1();  System.out.println(test1 instanceof testInterface);</code>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1640098830,"post_id":70437335,"comment_id":124511772,"body_markdown":"Please follow [java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"Please follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming conventions</a>"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640100235,"creation_date":1640098644,"answer_id":70437443,"question_id":70437335,"body_markdown":"You can use the `instanceof` operator to know if a particular instance is implementing a particular interface or class.\r\n\r\nSo the code\r\n\r\n    public interface MyInterface { \r\n       ...\r\n    }\r\n\r\n    public class MyInterfaceImpl implements MyInterface {\r\n       ...\r\n    }\r\n\r\nYou can check that\r\n\r\n    MyInterface myInterface = new MyInterfaceImpl();\r\n    if (myInterface instanceof MyInterface) {\r\n         // It goes here because myInterface object is of type MyInterfaceImpl implementing the MyInterface\r\n    }\r\n\r\n    MyInterfaceImpl myInterfaceImpl = new MyInterfaceImpl();\r\n    if (myInterfaceImplinstanceof MyInterface) {\r\n         // Also now you go in the if because the runtime type of myInterfaceImpl\r\n         // is implementing your interface\r\n    }\r\n\r\nThis approach works for any kind of class and interface. Is not important if the class is an inner class or not.\r\n\r\n---\r\n\r\nI give you also some tip:\r\n\r\n- Use meaningful names for methods and classes\r\n- Use UpperCase for name of classes and interfaces\r\n- Probably you should use static for nested classes if you need to instantiate them from outside the context of outer class.\r\n- The method `determineClass_Interfac` should take as argument the object that you would like to test. \r\n","title":"How to determine if an inner class implements an interface?","body":"<p>You can use the <code>instanceof</code> operator to know if a particular instance is implementing a particular interface or class.</p>\n<p>So the code</p>\n<pre><code>public interface MyInterface { \n   ...\n}\n\npublic class MyInterfaceImpl implements MyInterface {\n   ...\n}\n</code></pre>\n<p>You can check that</p>\n<pre><code>MyInterface myInterface = new MyInterfaceImpl();\nif (myInterface instanceof MyInterface) {\n     // It goes here because myInterface object is of type MyInterfaceImpl implementing the MyInterface\n}\n\nMyInterfaceImpl myInterfaceImpl = new MyInterfaceImpl();\nif (myInterfaceImplinstanceof MyInterface) {\n     // Also now you go in the if because the runtime type of myInterfaceImpl\n     // is implementing your interface\n}\n</code></pre>\n<p>This approach works for any kind of class and interface. Is not important if the class is an inner class or not.</p>\n<hr />\n<p>I give you also some tip:</p>\n<ul>\n<li>Use meaningful names for methods and classes</li>\n<li>Use UpperCase for name of classes and interfaces</li>\n<li>Probably you should use static for nested classes if you need to instantiate them from outside the context of outer class.</li>\n<li>The method <code>determineClass_Interfac</code> should take as argument the object that you would like to test.</li>\n</ul>\n"}],"owner":{"account_id":19283169,"reputation":643,"user_id":14094778,"display_name":"ahm5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640100235,"creation_date":1640098173,"question_id":70437335,"body_markdown":"I have this code:\r\n\r\n    public class test{\r\n    \r\n        private testInterface i1;\r\n    \r\n        public test(testInterface i1) {\r\n            this.i1 = i1;\r\n       \r\n        }\r\n         test() {\r\n        }\r\n       \r\n    \r\n        interface testInterface {\r\n        \r\n            }\r\n    \r\n     class inner1 implements testInterface {\r\n    \r\n        }\r\n     class inner2 implements testInterface {\r\n    \r\n        }\r\n     class inner3 implements testInterface {\r\n    \r\n        }\r\n    \r\n         public void determineClass_Interfac(){\r\n          }\r\n    }\r\n    \r\n    public class main {\r\n    \r\n        public static void main(String[] args) {\r\n            test test1 =new test(new test().new inner1());\r\n        }\r\n    }\r\n\r\nI don&#39;t know if that could work but what I&#39;m trying to achieve is to determine, by calling the method determineClass_Interfac(), which inner class object was created. So, it should be dependent on the object that was created in the class constructor (here innerClass1).\r\nMy approach could be totally wrong, I&#39;m just experimenting here.\r\n","title":"How to determine if an inner class implements an interface?","body":"<p>I have this code:</p>\n<pre><code>public class test{\n\n    private testInterface i1;\n\n    public test(testInterface i1) {\n        this.i1 = i1;\n   \n    }\n     test() {\n    }\n   \n\n    interface testInterface {\n    \n        }\n\n class inner1 implements testInterface {\n\n    }\n class inner2 implements testInterface {\n\n    }\n class inner3 implements testInterface {\n\n    }\n\n     public void determineClass_Interfac(){\n      }\n}\n\npublic class main {\n\n    public static void main(String[] args) {\n        test test1 =new test(new test().new inner1());\n    }\n}\n</code></pre>\n<p>I don't know if that could work but what I'm trying to achieve is to determine, by calling the method determineClass_Interfac(), which inner class object was created. So, it should be dependent on the object that was created in the class constructor (here innerClass1).\nMy approach could be totally wrong, I'm just experimenting here.</p>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640099880,"creation_date":1640029870,"answer_id":70427228,"question_id":70415211,"body_markdown":"You should use the `FileSource` rather than `readFile` in order to have this work correctly in batch execution mode: https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/file/src/FileSource.html\r\n\r\nOr, even better, you can directly use SQL to define a table acting as a source to ingest the input files, as described here: https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/filesystem/","title":"Apache Flink batch mode fails after a few minutes and prints the results","body":"<p>You should use the <code>FileSource</code> rather than <code>readFile</code> in order to have this work correctly in batch execution mode: <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/file/src/FileSource.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/api/java/org/apache/flink/connector/file/src/FileSource.html</a></p>\n<p>Or, even better, you can directly use SQL to define a table acting as a source to ingest the input files, as described here: <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/filesystem/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/filesystem/</a></p>\n"}],"owner":{"account_id":4933776,"reputation":72,"user_id":3972659,"display_name":"Ardelia Lortz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70427228,"answer_count":1,"score":0,"last_activity_date":1640099880,"creation_date":1639947011,"question_id":70415211,"body_markdown":"I&#39;m reading CSV file using Apache Flink and then transform records into a table from which I execute SQL query and print the results to stdout.\r\n\r\nCode (simplified):\r\n\r\n     StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(1);\r\n     env.setRuntimeMode(RuntimeExecutionMode.BATCH);\r\n\r\n     rowDataStreamSource = env.readFile(...).disableChaining();\r\n\r\n     final StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\r\n     final Table table = tableEnv.fromChangelogStream(rowDataStreamSource, ordersSchema, ChangelogMode.insertOnly());\r\n     tableEnv.createTemporaryView(&quot;orders&quot;, table);\r\n\r\n     Table originalSQL = tableEnv.sqlQuery(...)\r\n     originalSQL.execute().print();\r\n\r\n     env.execute();\r\n\r\nAfter running this job I get an error after a few minutes:\r\n&gt; 21:29:49.999\r\n&gt; [deploy.instance_IS_UNDEFINED,,,][mini-cluster-io-thread-3] INFO \r\n&gt; o.a.f.r.rpc.akka.AkkaRpcService - Stopping Akka RPC service.\r\n&gt; 21:29:50.066 [deploy.instance_IS_UNDEFINED,,,][http-nio-8080-exec-1]\r\n&gt; WARN  o.a.f.s.a.o.c.CollectResultFetcher - Failed to get job status so\r\n&gt; we assume that the job has terminated. Some data might be lost.\r\n&gt; java.lang.IllegalStateException: MiniCluster is not yet running or has\r\n&gt; already been shut down. \tat\r\n&gt; org.apache.flink.util.Preconditions.checkState(Preconditions.java:193)\r\n&gt; \tat\r\n&gt; org.apache.flink.runtime.minicluster.MiniCluster.getDispatcherGatewayFuture(MiniCluster.java:877)\r\n\r\nAnd then table with my sql results is printed just below the exception.\r\n\r\nWhat causes the problem here? Is there a way to tell Flink there are no more records so it can finish the job and print the results?\r\n\r\n","title":"Apache Flink batch mode fails after a few minutes and prints the results","body":"<p>I'm reading CSV file using Apache Flink and then transform records into a table from which I execute SQL query and print the results to stdout.</p>\n<p>Code (simplified):</p>\n<pre><code> StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(1);\n env.setRuntimeMode(RuntimeExecutionMode.BATCH);\n\n rowDataStreamSource = env.readFile(...).disableChaining();\n\n final StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n final Table table = tableEnv.fromChangelogStream(rowDataStreamSource, ordersSchema, ChangelogMode.insertOnly());\n tableEnv.createTemporaryView(&quot;orders&quot;, table);\n\n Table originalSQL = tableEnv.sqlQuery(...)\n originalSQL.execute().print();\n\n env.execute();\n</code></pre>\n<p>After running this job I get an error after a few minutes:</p>\n<blockquote>\n<p>21:29:49.999\n[deploy.instance_IS_UNDEFINED,,,][mini-cluster-io-thread-3] INFO\no.a.f.r.rpc.akka.AkkaRpcService - Stopping Akka RPC service.\n21:29:50.066 [deploy.instance_IS_UNDEFINED,,,][http-nio-8080-exec-1]\nWARN  o.a.f.s.a.o.c.CollectResultFetcher - Failed to get job status so\nwe assume that the job has terminated. Some data might be lost.\njava.lang.IllegalStateException: MiniCluster is not yet running or has\nalready been shut down.   at\norg.apache.flink.util.Preconditions.checkState(Preconditions.java:193)\nat\norg.apache.flink.runtime.minicluster.MiniCluster.getDispatcherGatewayFuture(MiniCluster.java:877)</p>\n</blockquote>\n<p>And then table with my sql results is printed just below the exception.</p>\n<p>What causes the problem here? Is there a way to tell Flink there are no more records so it can finish the job and print the results?</p>\n"},{"tags":["java","plantuml"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640083480,"post_id":70433948,"comment_id":124505857,"body_markdown":"What&#39;s the input `source` variable value? Where are you importing these classes from? Next time post minimal, REPRODUCIBLE code? I can&#39;t reproduce if I don&#39;t know which classes you are using.","body":"What&#39;s the input <code>source</code> variable value? Where are you importing these classes from? Next time post minimal, REPRODUCIBLE code? I can&#39;t reproduce if I don&#39;t know which classes you are using."},{"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"score":0,"creation_date":1640083920,"post_id":70433948,"comment_id":124506009,"body_markdown":"@hfontanez source in this case is irrelevant, as I copy pasted the utf8EncodedString. The imports are from net.sourceforge.plantuml in the mvn repository. It works with the Bob-Alice string, as was the example I took this from","body":"@hfontanez source in this case is irrelevant, as I copy pasted the utf8EncodedString. The imports are from net.sourceforge.plantuml in the mvn repository. It works with the Bob-Alice string, as was the example I took this from"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640084085,"post_id":70433948,"comment_id":124506073,"body_markdown":"The input IS NOT irrelevant because it prevents me from running your code. I need to know the string value of the `source` variable in order to reproduce your issue.","body":"The input IS NOT irrelevant because it prevents me from running your code. I need to know the string value of the <code>source</code> variable in order to reproduce your issue."},{"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"score":0,"creation_date":1640084715,"post_id":70433948,"comment_id":124506326,"body_markdown":"@hfontanez then use the one I posted, it is the same. Or use `&quot;@startuml\\nleft to right direction\\n\\&#39; Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\\n\\&#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\\nmap Transport.Personel{\\n ID =&gt; 15\\n}\\n@enduml\\n&quot;` which returns the same error on the svg","body":"@hfontanez then use the one I posted, it is the same. Or use <code>&quot;@startuml\\nleft to right direction\\n\\&#39; Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\\n\\&#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\\nmap Transport.Personel{\\n ID =&gt; 15\\n}\\n@enduml\\n&quot;</code> which returns the same error on the svg"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640084962,"post_id":70433948,"comment_id":124506424,"body_markdown":"I was confused because you posted &quot;The string printed out in the function above is as follows:&quot; that sounds like an output to me. I will work on it to see if I can reproduce it.","body":"I was confused because you posted &quot;The string printed out in the function above is as follows:&quot; that sounds like an output to me. I will work on it to see if I can reproduce it."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640085711,"post_id":70433948,"comment_id":124506679,"body_markdown":"I ran what you posted and got no errors. The one in the comments results in a NullPointerException.","body":"I ran what you posted and got no errors. The one in the comments results in a NullPointerException."},{"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"score":0,"creation_date":1640085910,"post_id":70433948,"comment_id":124506739,"body_markdown":"@hfontanez running the code is not the issue, it&#39;s the svg that is generated. The error is inside the svg. The plantuml server can generate a diagram with that string, but the java library using it cannot. I&#39;ll reformulate the question to be more specific","body":"@hfontanez running the code is not the issue, it&#39;s the svg that is generated. The error is inside the svg. The plantuml server can generate a diagram with that string, but the java library using it cannot. I&#39;ll reformulate the question to be more specific"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640086295,"post_id":70433948,"comment_id":124506858,"body_markdown":"The output of my program and the output when running it online looks the same. When you generate the SVG, right click on the page and select &quot;view source&quot;","body":"The output of my program and the output when running it online looks the same. When you generate the SVG, right click on the page and select &quot;view source&quot;"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640086736,"post_id":70433948,"comment_id":124507022,"body_markdown":"Review my answer. I do not see anything wrong since the output online and the output of the code appear to be the same. Let me know if my conclusion is incorrect.","body":"Review my answer. I do not see anything wrong since the output online and the output of the code appear to be the same. Let me know if my conclusion is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640099699,"creation_date":1640085852,"answer_id":70434654,"question_id":70433948,"body_markdown":"I can this code which resulted in no errors for me\r\n\r\n    public class PlantUMLDemo {\r\n    \t\r\n    \tpublic static void main (String[] args) throws IOException {\r\n    \t\tString source = &quot;@startuml\\r\\n&quot;\r\n    \t\t\t+ &quot;left to right direction\\r\\n&quot;\r\n    \t\t\t+ &quot;&#39; Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;&#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;map Transport.Personnel{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 38\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Airplane1{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 39\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Airplane2{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 40\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Lathe1{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 41\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Lathe2{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 42\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Production.from.Mold1{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 43\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Production.from.Mold2{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 44\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Assembly.Line1{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 45\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Assembly.Line2{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 46\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;map Assembly.Line3{\\r\\n&quot;\r\n    \t\t\t+ &quot;ID =&gt; 47\\r\\n&quot;\r\n    \t\t\t+ &quot;}\\r\\n&quot;\r\n    \t\t\t+ &quot;@enduml&quot;;\r\n    \t\tbyte[] bytes = source.getBytes(StandardCharsets.UTF_8);\r\n    \t\tString utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\r\n    \t\tSystem.out.println(utf8EncodedString);\r\n    \t\tSourceStringReader reader = new SourceStringReader(utf8EncodedString);\r\n    \t\tfinal ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    \t\t// Write the first image to &quot;os&quot;\r\n    \t\treader.generateImage(os, new FileFormatOption(FileFormat.SVG));\r\n    \t\tos.close();\r\n    \t\t// The XML is stored into svg\r\n    \t\tfinal String svg = new String(os.toByteArray(), Charset.forName(&quot;UTF-8&quot;));\r\n    \t\tSystem.out.println(svg);\r\n    //\t\treturn svg;\r\n    \t}\r\n    }\r\n\r\nIn case it is relevant, I used the latest PlantUML jar (version 1.2021.9). My assumption is that you probably made a syntax error in your code. Copy paste my source string and try again.\r\n\r\n\r\nThe output of the program is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; contentScriptType=&quot;application/ecmascript&quot; contentStyleType=&quot;text/css&quot; height=&quot;290px&quot; preserveAspectRatio=&quot;none&quot; style=&quot;width:539px;height:290px;background:#FFFFFF;&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 539 290&quot; width=&quot;539px&quot; zoomAndPan=&quot;magnify&quot;&gt;&lt;defs&gt;&lt;filter height=&quot;300%&quot; id=&quot;fxvmrbp5q73dl&quot; width=&quot;300%&quot; x=&quot;-1&quot; y=&quot;-1&quot;&gt;&lt;feGaussianBlur result=&quot;blurOut&quot; stdDeviation=&quot;2.0&quot;/&gt;&lt;feColorMatrix in=&quot;blurOut&quot; result=&quot;blurOut2&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0&quot;/&gt;&lt;feOffset dx=&quot;4.0&quot; dy=&quot;4.0&quot; in=&quot;blurOut2&quot; result=&quot;blurOut3&quot;/&gt;&lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut3&quot; mode=&quot;normal&quot;/&gt;&lt;/filter&gt;&lt;/defs&gt;&lt;g&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;127&quot; x=&quot;7&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;113&quot; x=&quot;14&quot; y=&quot;21.457&quot;&gt;Transport.Personnel&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;7&quot; x2=&quot;134&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;12&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;32&quot; y=&quot;38.4746&quot;&gt;38&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;27&quot; x2=&quot;27&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;66&quot; x=&quot;37.5&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;52&quot; x=&quot;44.5&quot; y=&quot;99.457&quot;&gt;Airplane1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;37.5&quot; x2=&quot;103.5&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;42.5&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;62.5&quot; y=&quot;116.4746&quot;&gt;39&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;57.5&quot; x2=&quot;57.5&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;66&quot; x=&quot;37.5&quot; y=&quot;163&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;52&quot; x=&quot;44.5&quot; y=&quot;177.457&quot;&gt;Airplane2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;37.5&quot; x2=&quot;103.5&quot; y1=&quot;182.0938&quot; y2=&quot;182.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;42.5&quot; y=&quot;194.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;62.5&quot; y=&quot;194.4746&quot;&gt;40&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;57.5&quot; x2=&quot;57.5&quot; y1=&quot;182.0938&quot; y2=&quot;198.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;52&quot; x=&quot;44.5&quot; y=&quot;241&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;38&quot; x=&quot;51.5&quot; y=&quot;255.457&quot;&gt;Lathe1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;44.5&quot; x2=&quot;96.5&quot; y1=&quot;260.0938&quot; y2=&quot;260.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;49.5&quot; y=&quot;272.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;69.5&quot; y=&quot;272.4746&quot;&gt;41&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;64.5&quot; x2=&quot;64.5&quot; y1=&quot;260.0938&quot; y2=&quot;276.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;52&quot; x=&quot;252.5&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;38&quot; x=&quot;259.5&quot; y=&quot;21.457&quot;&gt;Lathe2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;252.5&quot; x2=&quot;304.5&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;257.5&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;277.5&quot; y=&quot;38.4746&quot;&gt;42&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;272.5&quot; x2=&quot;272.5&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;137&quot; x=&quot;210&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;123&quot; x=&quot;217&quot; y=&quot;99.457&quot;&gt;Production.from.Mold1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;210&quot; x2=&quot;347&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;215&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;235&quot; y=&quot;116.4746&quot;&gt;43&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;230&quot; x2=&quot;230&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;137&quot; x=&quot;210&quot; y=&quot;163&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;123&quot; x=&quot;217&quot; y=&quot;177.457&quot;&gt;Production.from.Mold2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;210&quot; x2=&quot;347&quot; y1=&quot;182.0938&quot; y2=&quot;182.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;215&quot; y=&quot;194.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;235&quot; y=&quot;194.4746&quot;&gt;44&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;230&quot; x2=&quot;230&quot; y1=&quot;182.0938&quot; y2=&quot;198.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;227.5&quot; y=&quot;241&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;234.5&quot; y=&quot;255.457&quot;&gt;Assembly.Line1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;227.5&quot; x2=&quot;329.5&quot; y1=&quot;260.0938&quot; y2=&quot;260.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;232.5&quot; y=&quot;272.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;252.5&quot; y=&quot;272.4746&quot;&gt;45&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;247.5&quot; x2=&quot;247.5&quot; y1=&quot;260.0938&quot; y2=&quot;276.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;423&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;430&quot; y=&quot;21.457&quot;&gt;Assembly.Line2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;423&quot; x2=&quot;525&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;428&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;448&quot; y=&quot;38.4746&quot;&gt;46&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;443&quot; x2=&quot;443&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;423&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;430&quot; y=&quot;99.457&quot;&gt;Assembly.Line3&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;423&quot; x2=&quot;525&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;428&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;448&quot; y=&quot;116.4746&quot;&gt;47&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;443&quot; x2=&quot;443&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;!--MD5=[ff82272a54b0608060e06faff60c0c6f]\r\n    link Transport.Personnel to Airplane1--&gt;&lt;!--MD5=[c202e95eecfc418b5501e2a8947e8feb]\r\n    link Airplane1 to Airplane2--&gt;&lt;!--MD5=[636ba822349036c737d84d06f0729b92]\r\n    link Airplane2 to Lathe1--&gt;&lt;!--MD5=[b9280dfb35d92cd40bcce7a3234b7f39]\r\n    link Transport.Personnel to Lathe2--&gt;&lt;!--MD5=[771b27f758c2865dd959173aec72d1ef]\r\n    link Lathe2 to Production.from.Mold1--&gt;&lt;!--MD5=[77de6294656f35161f6e03883c63e876]\r\n    link Production.from.Mold1 to Production.from.Mold2--&gt;&lt;!--MD5=[73d5fa06c8330ee70fe1a2a0b8f7f067]\r\n    link Production.from.Mold2 to Assembly.Line1--&gt;&lt;!--MD5=[8053d5220acde5e9c8d637bbcdec0086]\r\n    link Lathe2 to Assembly.Line2--&gt;&lt;!--MD5=[b61908b6fd80267801bee0bc115ff909]\r\n    link Assembly.Line2 to Assembly.Line3--&gt;&lt;!--MD5=[83bc2a7ae5b567adf58816b4879445c0]\r\n    @startuml\r\n    left to right direction\r\n    &#39; Horizontal lines: - -&gt;, &lt;- -, &lt;- -&gt;\r\n    &#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\r\n    map Transport.Personnel{\r\n    ID =&gt; 38\r\n    }\r\n    map Airplane1{\r\n    ID =&gt; 39\r\n    }\r\n    map Airplane2{\r\n    ID =&gt; 40\r\n    }\r\n    map Lathe1{\r\n    ID =&gt; 41\r\n    }\r\n    map Lathe2{\r\n    ID =&gt; 42\r\n    }\r\n    map Production.from.Mold1{\r\n    ID =&gt; 43\r\n    }\r\n    map Production.from.Mold2{\r\n    ID =&gt; 44\r\n    }\r\n    map Assembly.Line1{\r\n    ID =&gt; 45\r\n    }\r\n    map Assembly.Line2{\r\n    ID =&gt; 46\r\n    }\r\n    map Assembly.Line3{\r\n    ID =&gt; 47\r\n    }\r\n    @enduml\r\n    \r\n    @startuml\r\n    left to right direction\r\n    map Transport.Personnel{\r\n    ID =&gt; 38\r\n    }\r\n    map Airplane1{\r\n    ID =&gt; 39\r\n    }\r\n    map Airplane2{\r\n    ID =&gt; 40\r\n    }\r\n    map Lathe1{\r\n    ID =&gt; 41\r\n    }\r\n    map Lathe2{\r\n    ID =&gt; 42\r\n    }\r\n    map Production.from.Mold1{\r\n    ID =&gt; 43\r\n    }\r\n    map Production.from.Mold2{\r\n    ID =&gt; 44\r\n    }\r\n    map Assembly.Line1{\r\n    ID =&gt; 45\r\n    }\r\n    map Assembly.Line2{\r\n    ID =&gt; 46\r\n    }\r\n    map Assembly.Line3{\r\n    ID =&gt; 47\r\n    }\r\n    @enduml\r\n    \r\n    PlantUML version 1.2021.9(Sun Jul 25 05:13:56 CDT 2021)\r\n    (GPL source distribution)\r\n    Java Runtime: OpenJDK Runtime Environment\r\n    JVM: OpenJDK 64-Bit Server VM\r\n    Default Encoding: Cp1252\r\n    Language: en\r\n    Country: US\r\n    --&gt;&lt;/g&gt;&lt;/svg&gt;\r\n\r\nScreenshot of generated SVG online\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I generate this on the PLantUML website and I &quot;view source&quot;, the results looks exactly like this output. I have to conclude that the code works with the provided `source` string value. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M1nbI.png","title":"Syntax Error inside map, but works on the online webservice","body":"<p>I can this code which resulted in no errors for me</p>\n<pre><code>public class PlantUMLDemo {\n    \n    public static void main (String[] args) throws IOException {\n        String source = &quot;@startuml\\r\\n&quot;\n            + &quot;left to right direction\\r\\n&quot;\n            + &quot;' Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\\r\\n&quot;\n            + &quot;' Vertical lines: -&gt;, &lt;-, &lt;-&gt;\\r\\n&quot;\n            + &quot;map Transport.Personnel{\\r\\n&quot;\n            + &quot;ID =&gt; 38\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Airplane1{\\r\\n&quot;\n            + &quot;ID =&gt; 39\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Airplane2{\\r\\n&quot;\n            + &quot;ID =&gt; 40\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Lathe1{\\r\\n&quot;\n            + &quot;ID =&gt; 41\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Lathe2{\\r\\n&quot;\n            + &quot;ID =&gt; 42\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Production.from.Mold1{\\r\\n&quot;\n            + &quot;ID =&gt; 43\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Production.from.Mold2{\\r\\n&quot;\n            + &quot;ID =&gt; 44\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Assembly.Line1{\\r\\n&quot;\n            + &quot;ID =&gt; 45\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Assembly.Line2{\\r\\n&quot;\n            + &quot;ID =&gt; 46\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;map Assembly.Line3{\\r\\n&quot;\n            + &quot;ID =&gt; 47\\r\\n&quot;\n            + &quot;}\\r\\n&quot;\n            + &quot;@enduml&quot;;\n        byte[] bytes = source.getBytes(StandardCharsets.UTF_8);\n        String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\n        System.out.println(utf8EncodedString);\n        SourceStringReader reader = new SourceStringReader(utf8EncodedString);\n        final ByteArrayOutputStream os = new ByteArrayOutputStream();\n        // Write the first image to &quot;os&quot;\n        reader.generateImage(os, new FileFormatOption(FileFormat.SVG));\n        os.close();\n        // The XML is stored into svg\n        final String svg = new String(os.toByteArray(), Charset.forName(&quot;UTF-8&quot;));\n        System.out.println(svg);\n//      return svg;\n    }\n}\n</code></pre>\n<p>In case it is relevant, I used the latest PlantUML jar (version 1.2021.9). My assumption is that you probably made a syntax error in your code. Copy paste my source string and try again.</p>\n<p>The output of the program is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; contentScriptType=&quot;application/ecmascript&quot; contentStyleType=&quot;text/css&quot; height=&quot;290px&quot; preserveAspectRatio=&quot;none&quot; style=&quot;width:539px;height:290px;background:#FFFFFF;&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 539 290&quot; width=&quot;539px&quot; zoomAndPan=&quot;magnify&quot;&gt;&lt;defs&gt;&lt;filter height=&quot;300%&quot; id=&quot;fxvmrbp5q73dl&quot; width=&quot;300%&quot; x=&quot;-1&quot; y=&quot;-1&quot;&gt;&lt;feGaussianBlur result=&quot;blurOut&quot; stdDeviation=&quot;2.0&quot;/&gt;&lt;feColorMatrix in=&quot;blurOut&quot; result=&quot;blurOut2&quot; type=&quot;matrix&quot; values=&quot;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0&quot;/&gt;&lt;feOffset dx=&quot;4.0&quot; dy=&quot;4.0&quot; in=&quot;blurOut2&quot; result=&quot;blurOut3&quot;/&gt;&lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut3&quot; mode=&quot;normal&quot;/&gt;&lt;/filter&gt;&lt;/defs&gt;&lt;g&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;127&quot; x=&quot;7&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;113&quot; x=&quot;14&quot; y=&quot;21.457&quot;&gt;Transport.Personnel&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;7&quot; x2=&quot;134&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;12&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;32&quot; y=&quot;38.4746&quot;&gt;38&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;27&quot; x2=&quot;27&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;66&quot; x=&quot;37.5&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;52&quot; x=&quot;44.5&quot; y=&quot;99.457&quot;&gt;Airplane1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;37.5&quot; x2=&quot;103.5&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;42.5&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;62.5&quot; y=&quot;116.4746&quot;&gt;39&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;57.5&quot; x2=&quot;57.5&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;66&quot; x=&quot;37.5&quot; y=&quot;163&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;52&quot; x=&quot;44.5&quot; y=&quot;177.457&quot;&gt;Airplane2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;37.5&quot; x2=&quot;103.5&quot; y1=&quot;182.0938&quot; y2=&quot;182.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;42.5&quot; y=&quot;194.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;62.5&quot; y=&quot;194.4746&quot;&gt;40&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;57.5&quot; x2=&quot;57.5&quot; y1=&quot;182.0938&quot; y2=&quot;198.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;52&quot; x=&quot;44.5&quot; y=&quot;241&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;38&quot; x=&quot;51.5&quot; y=&quot;255.457&quot;&gt;Lathe1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;44.5&quot; x2=&quot;96.5&quot; y1=&quot;260.0938&quot; y2=&quot;260.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;49.5&quot; y=&quot;272.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;69.5&quot; y=&quot;272.4746&quot;&gt;41&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;64.5&quot; x2=&quot;64.5&quot; y1=&quot;260.0938&quot; y2=&quot;276.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;52&quot; x=&quot;252.5&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;38&quot; x=&quot;259.5&quot; y=&quot;21.457&quot;&gt;Lathe2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;252.5&quot; x2=&quot;304.5&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;257.5&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;277.5&quot; y=&quot;38.4746&quot;&gt;42&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;272.5&quot; x2=&quot;272.5&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;137&quot; x=&quot;210&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;123&quot; x=&quot;217&quot; y=&quot;99.457&quot;&gt;Production.from.Mold1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;210&quot; x2=&quot;347&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;215&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;235&quot; y=&quot;116.4746&quot;&gt;43&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;230&quot; x2=&quot;230&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;137&quot; x=&quot;210&quot; y=&quot;163&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;123&quot; x=&quot;217&quot; y=&quot;177.457&quot;&gt;Production.from.Mold2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;210&quot; x2=&quot;347&quot; y1=&quot;182.0938&quot; y2=&quot;182.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;215&quot; y=&quot;194.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;235&quot; y=&quot;194.4746&quot;&gt;44&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;230&quot; x2=&quot;230&quot; y1=&quot;182.0938&quot; y2=&quot;198.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;227.5&quot; y=&quot;241&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;234.5&quot; y=&quot;255.457&quot;&gt;Assembly.Line1&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;227.5&quot; x2=&quot;329.5&quot; y1=&quot;260.0938&quot; y2=&quot;260.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;232.5&quot; y=&quot;272.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;252.5&quot; y=&quot;272.4746&quot;&gt;45&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;247.5&quot; x2=&quot;247.5&quot; y1=&quot;260.0938&quot; y2=&quot;276.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;423&quot; y=&quot;7&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;430&quot; y=&quot;21.457&quot;&gt;Assembly.Line2&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;423&quot; x2=&quot;525&quot; y1=&quot;26.0938&quot; y2=&quot;26.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;428&quot; y=&quot;38.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;448&quot; y=&quot;38.4746&quot;&gt;46&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;443&quot; x2=&quot;443&quot; y1=&quot;26.0938&quot; y2=&quot;42.6719&quot;/&gt;&lt;rect fill=&quot;#FEFECE&quot; filter=&quot;url(#fxvmrbp5q73dl)&quot; height=&quot;35.6719&quot; style=&quot;stroke:#A80036;stroke-width:1.5;&quot; width=&quot;102&quot; x=&quot;423&quot; y=&quot;85&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;12&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;88&quot; x=&quot;430&quot; y=&quot;99.457&quot;&gt;Assembly.Line3&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;423&quot; x2=&quot;525&quot; y1=&quot;104.0938&quot; y2=&quot;104.0938&quot;/&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;10&quot; x=&quot;428&quot; y=&quot;116.4746&quot;&gt;ID&lt;/text&gt;&lt;text fill=&quot;#000000&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10&quot; lengthAdjust=&quot;spacing&quot; textLength=&quot;12&quot; x=&quot;448&quot; y=&quot;116.4746&quot;&gt;47&lt;/text&gt;&lt;line style=&quot;stroke:#A80036;stroke-width:1.0;&quot; x1=&quot;443&quot; x2=&quot;443&quot; y1=&quot;104.0938&quot; y2=&quot;120.6719&quot;/&gt;&lt;!--MD5=[ff82272a54b0608060e06faff60c0c6f]\nlink Transport.Personnel to Airplane1--&gt;&lt;!--MD5=[c202e95eecfc418b5501e2a8947e8feb]\nlink Airplane1 to Airplane2--&gt;&lt;!--MD5=[636ba822349036c737d84d06f0729b92]\nlink Airplane2 to Lathe1--&gt;&lt;!--MD5=[b9280dfb35d92cd40bcce7a3234b7f39]\nlink Transport.Personnel to Lathe2--&gt;&lt;!--MD5=[771b27f758c2865dd959173aec72d1ef]\nlink Lathe2 to Production.from.Mold1--&gt;&lt;!--MD5=[77de6294656f35161f6e03883c63e876]\nlink Production.from.Mold1 to Production.from.Mold2--&gt;&lt;!--MD5=[73d5fa06c8330ee70fe1a2a0b8f7f067]\nlink Production.from.Mold2 to Assembly.Line1--&gt;&lt;!--MD5=[8053d5220acde5e9c8d637bbcdec0086]\nlink Lathe2 to Assembly.Line2--&gt;&lt;!--MD5=[b61908b6fd80267801bee0bc115ff909]\nlink Assembly.Line2 to Assembly.Line3--&gt;&lt;!--MD5=[83bc2a7ae5b567adf58816b4879445c0]\n@startuml\nleft to right direction\n' Horizontal lines: - -&gt;, &lt;- -, &lt;- -&gt;\n' Vertical lines: -&gt;, &lt;-, &lt;-&gt;\nmap Transport.Personnel{\nID =&gt; 38\n}\nmap Airplane1{\nID =&gt; 39\n}\nmap Airplane2{\nID =&gt; 40\n}\nmap Lathe1{\nID =&gt; 41\n}\nmap Lathe2{\nID =&gt; 42\n}\nmap Production.from.Mold1{\nID =&gt; 43\n}\nmap Production.from.Mold2{\nID =&gt; 44\n}\nmap Assembly.Line1{\nID =&gt; 45\n}\nmap Assembly.Line2{\nID =&gt; 46\n}\nmap Assembly.Line3{\nID =&gt; 47\n}\n@enduml\n\n@startuml\nleft to right direction\nmap Transport.Personnel{\nID =&gt; 38\n}\nmap Airplane1{\nID =&gt; 39\n}\nmap Airplane2{\nID =&gt; 40\n}\nmap Lathe1{\nID =&gt; 41\n}\nmap Lathe2{\nID =&gt; 42\n}\nmap Production.from.Mold1{\nID =&gt; 43\n}\nmap Production.from.Mold2{\nID =&gt; 44\n}\nmap Assembly.Line1{\nID =&gt; 45\n}\nmap Assembly.Line2{\nID =&gt; 46\n}\nmap Assembly.Line3{\nID =&gt; 47\n}\n@enduml\n\nPlantUML version 1.2021.9(Sun Jul 25 05:13:56 CDT 2021)\n(GPL source distribution)\nJava Runtime: OpenJDK Runtime Environment\nJVM: OpenJDK 64-Bit Server VM\nDefault Encoding: Cp1252\nLanguage: en\nCountry: US\n--&gt;&lt;/g&gt;&lt;/svg&gt;\n</code></pre>\n<p>Screenshot of generated SVG online\n<a href=\"https://i.stack.imgur.com/M1nbI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1nbI.png\" alt=\"enter image description here\" /></a></p>\n<p>When I generate this on the PLantUML website and I &quot;view source&quot;, the results looks exactly like this output. I have to conclude that the code works with the provided <code>source</code> string value.</p>\n"}],"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434654,"answer_count":1,"score":0,"last_activity_date":1640099699,"creation_date":1640082356,"question_id":70433948,"body_markdown":"I&#39;m trying to use plantuml inside java to generate a svg file. The code I&#39;m using is basically the one from the example,\r\n```\r\n        byte[] bytes = source.getBytes(StandardCharsets.UTF_8);\r\n        String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\r\n        System.out.println(utf8EncodedString);\r\n        SourceStringReader reader = new SourceStringReader(utf8EncodedString);\r\n        final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        // Write the first image to &quot;os&quot;\r\n        reader.generateImage(os, new FileFormatOption(FileFormat.SVG));\r\n        os.close();\r\n        // The XML is stored into svg\r\n        final String svg = new String(os.toByteArray(), Charset.forName(&quot;UTF-8&quot;));\r\n        return svg;\r\n```\r\nBasically the utf-8 stuff is because I was thinking the issue was with encoding, but it turns out it&#39;s not. The string used as source is as follows:\r\n\r\n```\r\n@startuml\r\nleft to right direction\r\n&#39; Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\r\n&#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\r\nmap Transport.Personnel{\r\nID =&gt; 38\r\n}\r\nmap Airplane1{\r\nID =&gt; 39\r\n}\r\nmap Airplane2{\r\nID =&gt; 40\r\n}\r\nmap Lathe1{\r\nID =&gt; 41\r\n}\r\nmap Lathe2{\r\nID =&gt; 42\r\n}\r\nmap Production.from.Mold1{\r\nID =&gt; 43\r\n}\r\nmap Production.from.Mold2{\r\nID =&gt; 44\r\n}\r\nmap Assembly.Line1{\r\nID =&gt; 45\r\n}\r\nmap Assembly.Line2{\r\nID =&gt; 46\r\n}\r\nmap Assembly.Line3{\r\nID =&gt; 47\r\n}\r\n@enduml\r\n```\r\nThis string generates a diagram on the online plantuml web service but when running on java, the svg generated indicates a syntax error in the string when opening it up:\r\n\r\n```\r\n... (skipping 1 line) ...\r\nleft to right direction\r\n&#39; Horizontal lines:\r\n--&gt;, &lt;--\r\n, &lt;--&gt;\r\n&#39; Vertical lines: -&gt;, &lt;-, &lt;-&gt;\r\nmap Transport.Personnel{\r\nSyntax Error?\r\n```\r\n\r\nDo I need to do anything else? I really have no idea what could be going wrong and I don&#39;t know what to search here/their forums to try and debug.\r\n","title":"Syntax Error inside map, but works on the online webservice","body":"<p>I'm trying to use plantuml inside java to generate a svg file. The code I'm using is basically the one from the example,</p>\n<pre><code>        byte[] bytes = source.getBytes(StandardCharsets.UTF_8);\n        String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\n        System.out.println(utf8EncodedString);\n        SourceStringReader reader = new SourceStringReader(utf8EncodedString);\n        final ByteArrayOutputStream os = new ByteArrayOutputStream();\n        // Write the first image to &quot;os&quot;\n        reader.generateImage(os, new FileFormatOption(FileFormat.SVG));\n        os.close();\n        // The XML is stored into svg\n        final String svg = new String(os.toByteArray(), Charset.forName(&quot;UTF-8&quot;));\n        return svg;\n</code></pre>\n<p>Basically the utf-8 stuff is because I was thinking the issue was with encoding, but it turns out it's not. The string used as source is as follows:</p>\n<pre><code>@startuml\nleft to right direction\n' Horizontal lines: --&gt;, &lt;--, &lt;--&gt;\n' Vertical lines: -&gt;, &lt;-, &lt;-&gt;\nmap Transport.Personnel{\nID =&gt; 38\n}\nmap Airplane1{\nID =&gt; 39\n}\nmap Airplane2{\nID =&gt; 40\n}\nmap Lathe1{\nID =&gt; 41\n}\nmap Lathe2{\nID =&gt; 42\n}\nmap Production.from.Mold1{\nID =&gt; 43\n}\nmap Production.from.Mold2{\nID =&gt; 44\n}\nmap Assembly.Line1{\nID =&gt; 45\n}\nmap Assembly.Line2{\nID =&gt; 46\n}\nmap Assembly.Line3{\nID =&gt; 47\n}\n@enduml\n</code></pre>\n<p>This string generates a diagram on the online plantuml web service but when running on java, the svg generated indicates a syntax error in the string when opening it up:</p>\n<pre><code>... (skipping 1 line) ...\nleft to right direction\n' Horizontal lines:\n--&gt;, &lt;--\n, &lt;--&gt;\n' Vertical lines: -&gt;, &lt;-, &lt;-&gt;\nmap Transport.Personnel{\nSyntax Error?\n</code></pre>\n<p>Do I need to do anything else? I really have no idea what could be going wrong and I don't know what to search here/their forums to try and debug.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":6,"creation_date":1640096226,"post_id":70436854,"comment_id":124510698,"body_markdown":"This is called a [factory method](https://refactoring.guru/design-patterns/factory-method). What you&#39;ll do in the method is to evaluate the input, and from there create an instance of the `Person` class, and then return it.","body":"This is called a <a href=\"https://refactoring.guru/design-patterns/factory-method\" rel=\"nofollow noreferrer\">factory method</a>. What you&#39;ll do in the method is to evaluate the input, and from there create an instance of the <code>Person</code> class, and then return it."},{"owner":{"account_id":13376481,"reputation":89,"user_id":9653227,"display_name":"DeimosPhx"},"score":0,"creation_date":1640097309,"post_id":70436854,"comment_id":124511164,"body_markdown":"What does your &quot;Person&quot; object has for variables ? If we say it only has name then you could bring up the constructor which would set it&#39;s attribute name to the value passed to createName. And return the result of the constructor like this &quot;return new Person(text)&quot;","body":"What does your &quot;Person&quot; object has for variables ? If we say it only has name then you could bring up the constructor which would set it&#39;s attribute name to the value passed to createName. And return the result of the constructor like this &quot;return new Person(text)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12618954,"reputation":2436,"user_id":9175247,"display_name":"Josip Domazet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640099247,"creation_date":1640099247,"answer_id":70437581,"question_id":70436854,"body_markdown":"As the comments pointed out this is a factory method. You create and return an object in a `static method` of the same class. So something like this:\r\n\r\n```\r\npublic class Person {\r\n    public static Person createName(String text) {\r\n        // Depending on your contructor.\r\n        // You can further modify the person here if you need to.\r\n        return Person(text):\r\n    }\r\n}\r\n```\r\n\r\nAlso please have a look at [this][1]. w3schools is a excellent source to get started with `java`.\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_constructors.asp","title":"Take string as a parameter, return an object","body":"<p>As the comments pointed out this is a factory method. You create and return an object in a <code>static method</code> of the same class. So something like this:</p>\n<pre><code>public class Person {\n    public static Person createName(String text) {\n        // Depending on your contructor.\n        // You can further modify the person here if you need to.\n        return Person(text):\n    }\n}\n</code></pre>\n<p>Also please have a look at <a href=\"https://www.w3schools.com/java/java_constructors.asp\" rel=\"nofollow noreferrer\">this</a>. w3schools is a excellent source to get started with <code>java</code>.</p>\n"}],"owner":{"account_id":23710930,"reputation":11,"user_id":17732815,"display_name":"gilbeo743"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1640099247,"creation_date":1640096053,"question_id":70436854,"body_markdown":"I&#39;m relatively new to Java, came across this method from an assignment and got hard stuck.\r\nAlso I didn&#39;t really know how to describe this situation as a question so bear with me with the tittle.\r\n\r\nThe requirement for the method is to &quot;Construct and return a complete Person object from text&quot;,\r\ngiven example was Person.createName(&quot;John&quot;)\r\n\r\n    public class Person {\r\n    \tpublic static Person createName(String text) {\r\n    \t\t//TO-DO\r\n    \t}\r\n    }\r\n\r\n","title":"Take string as a parameter, return an object","body":"<p>I'm relatively new to Java, came across this method from an assignment and got hard stuck.\nAlso I didn't really know how to describe this situation as a question so bear with me with the tittle.</p>\n<p>The requirement for the method is to &quot;Construct and return a complete Person object from text&quot;,\ngiven example was Person.createName(&quot;John&quot;)</p>\n<pre><code>public class Person {\n    public static Person createName(String text) {\n        //TO-DO\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"score":1,"creation_date":1640082849,"post_id":70433668,"comment_id":124505668,"body_markdown":"kindly share logcat of error","body":"kindly share logcat of error"},{"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"score":0,"creation_date":1640082965,"post_id":70433668,"comment_id":124505704,"body_markdown":"and you dont have to check conditions for email pattern and password, firebase will take care of it","body":"and you dont have to check conditions for email pattern and password, firebase will take care of it"},{"owner":{"account_id":20247128,"reputation":1,"user_id":14849267,"display_name":"LİSA LİSA"},"score":0,"creation_date":1640093687,"post_id":70433668,"comment_id":124509580,"body_markdown":"thank you and I added the logcat of errors","body":"thank you and I added the logcat of errors"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1640093918,"post_id":70433668,"comment_id":124509658,"body_markdown":"I think this article, [How to create a clean Firebase authentication using MVVM?](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) might help.","body":"I think this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">How to create a clean Firebase authentication using MVVM?</a> might help."},{"owner":{"account_id":20247128,"reputation":1,"user_id":14849267,"display_name":"LİSA LİSA"},"score":0,"creation_date":1640253167,"post_id":70433668,"comment_id":124552698,"body_markdown":"I still haven&#39;t been able to solve this problem.","body":"I still haven&#39;t been able to solve this problem."}],"owner":{"account_id":20247128,"reputation":1,"user_id":14849267,"display_name":"LİSA LİSA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640098765,"creation_date":1640081200,"question_id":70433668,"body_markdown":"when I run my project, first &quot;splash_screen(Main Activity)&quot; then &quot;login_page&quot; and other screens should be opened. But when I run it with the android studio emulator avd, the &quot;splash screen&quot; opens and the application closes, when I run it with bluestack 5, the &quot;splash screen&quot; opens and then a blank page opens. I don&#39;t have a blank screen in my project and I couldn&#39;t figure out what could be the problem and I need serious help in this regard.\r\nthank you in advance everyone\r\n\r\n\r\n\r\nlogin_page repo\r\n\r\n    public class login_page extends AppCompatActivity {\r\n    \r\n        TextView createnewAccount, forgotPassword;\r\n        EditText inputEmail,inputPassword;\r\n        Button btnLogin;\r\n        String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n    \r\n        ProgressDialog progressDialog = new ProgressDialog(this);\r\n    \r\n    \r\n        FirebaseAuth mAuth;\r\n        FirebaseUser mUser;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_login_page);\r\n            createnewAccount=findViewById(R.id.createNewAccount5);\r\n    \r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n            inputEmail=findViewById(R.id.inputEmail);\r\n            inputPassword=findViewById(R.id.inputPassword);\r\n            btnLogin=findViewById(R.id.btnLogin);\r\n            forgotPassword=findViewById(R.id.forgotPassword);\r\n            progressDialog = new ProgressDialog(this);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            mUser=mAuth.getCurrentUser();\r\n    \r\n    \r\n            createnewAccount.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    startActivity(new Intent(login_page.this, register_page.class));\r\n                }\r\n            });\r\n            btnLogin.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    perforLogin();\r\n                }\r\n            });\r\n            forgotPassword.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    EditText resetMail = new EditText((v.getContext()));\r\n                    AlertDialog.Builder passwordResetDialog = new AlertDialog.Builder(v.getContext());\r\n                    passwordResetDialog.setTitle(&quot;Şifre Yenileme&quot;);\r\n                    passwordResetDialog.setMessage(&quot;Şifre Yenileme Linki i&#231;in Kayıtlı Email Adresinizi Girin...&quot;);\r\n                    passwordResetDialog.setView(resetMail);\r\n    \r\n                    passwordResetDialog.setPositiveButton(&quot;Evet&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                            String mail = resetMail.getText().toString();\r\n                            mAuth.sendPasswordResetEmail(mail).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void unused) {\r\n                                    Toast.makeText(login_page.this, &quot;Yenileme Linki Email Adresinize G&#246;nderildi.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(login_page.this, &quot;Hata ! Yenileme Linki Email Adresinize G&#246;nderilemedi.&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n    \r\n                        }\r\n                    });\r\n                    passwordResetDialog.setNegativeButton(&quot;Hayır&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n                    passwordResetDialog.create().show();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void perforLogin() {\r\n            String email=inputEmail.getText().toString();\r\n            String password=inputPassword.getText().toString();\r\n    \r\n            if(!email.matches(emailPattern))\r\n            {\r\n                inputEmail.setError(&quot;Ge&#231;erli Email Girin&quot;);\r\n            }\r\n            else if(password.isEmpty() || password.length()&lt;6)\r\n            {\r\n                inputPassword.setError(&quot;Ge&#231;erli Paraloyı Girin&quot;);\r\n            }\r\n            else\r\n            {\r\n                progressDialog.setMessage(&quot;Giriş Yapılıyor... &quot;);\r\n                progressDialog.setTitle(&quot;Giriş&quot;);\r\n                progressDialog.setCanceledOnTouchOutside(false);\r\n                progressDialog.show();\r\n    \r\n                mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n    \r\n                        if(task.isSuccessful())\r\n                        {\r\n                            progressDialog.dismiss();\r\n                            sendUserToNextActivity();\r\n                            Toast.makeText(login_page.this, &quot;Giriş Başarılı&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        }\r\n                        else\r\n                        {\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(login_page.this, &quot;&quot;+task.getException(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        private void sendUserToNextActivity() {\r\n            Intent intent = new Intent(login_page.this,home_page.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\nsplash screen (MainActivity) repo\r\n    \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Handler handler;\r\n        private TextView txt_app_name;\r\n        private Animation textViewAnimation;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            txt_app_name = findViewById(R.id.text_app_name);\r\n            textViewAnimation = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.textview_animation);\r\n    \r\n            handler = new Handler();\r\n    \r\n    \r\n            View decorView = getWindow().getDecorView();\r\n            decorView.setSystemUiVisibility(\r\n                    View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                            | View.SYSTEM_UI_FLAG_FULLSCREEN);\r\n    \r\n    \r\n            Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    Intent intent = new Intent(MainActivity.this, login_page.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            };\r\n            handler.postDelayed(runnable, 11800);\r\n    \r\n            txt_app_name.setAnimation(textViewAnimation);\r\n        }\r\n    }\r\n\r\nlogcat of error\r\n        \r\n            \r\n        2021-12-21 16:26:53.396 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:26:53.411 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{d3f4f08 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:26:59.079 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:26:59.096 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{646a86f u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:27:01.492 1776-3798/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:27:01.513 1776-3798/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{bb242b2 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:27:02.754 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:27:02.778 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{4def2d u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:27:15.567 1776-1787/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:27:15.583 1776-1787/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{f4442a4 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:27:20.684 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:27:20.718 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{83db9c3 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n        2021-12-21 16:27:26.633 1776-1787/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n        2021-12-21 16:27:26.661 1776-1787/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{b785b96 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    java.lang.NullPointerException: Attempt to read from field &#39;int com.android.server.am.ProcessRecord.pid&#39; on a null object reference\r\n            at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\r\n            at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\r\n            at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\r\n            at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\r\n            at android.os.Binder.execTransact(Binder.java:565)\r\n    2021-12-21 16:31:31.533 1776-3798/system_process E/ActivityManager: Activity Manager Crash\r\n        java.lang.NullPointerException: Attempt to read from field &#39;int com.android.server.am.ProcessRecord.pid&#39; on a null object reference\r\n            at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\r\n            at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\r\n            at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\r\n            at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\r\n            at android.os.Binder.execTransact(Binder.java:565)\r\n    2021-12-21 16:31:41.496 1776-1788/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:31:41.515 1776-1788/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{3c834b0 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:31:49.417 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:31:49.456 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{434433f u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:31:55.026 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:31:55.059 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{1d673d3 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:31:59.666 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:31:59.723 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{e136772 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:32:04.234 1776-1984/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:32:04.252 1776-1984/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{26d1eed u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:32:06.749 1776-2167/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\r\n    2021-12-21 16:32:06.785 1776-2167/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{dda9e88 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\r\n    2021-12-21 16:32:09.102 1776-1787/system_process E/ActivityManager: Activity Manager Crash\r\n        java.lang.NullPointerException: Attempt to read from field &#39;int com.android.server.am.ProcessRecord.pid&#39; on a null object reference\r\n            at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\r\n            at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\r\n            at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\r\n            at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\r\n            at android.os.Binder.execTransact(Binder.java:565)\r\n\r\n","title":"Blank screen comes up or closes when I run my app (JAVA)","body":"<p>when I run my project, first &quot;splash_screen(Main Activity)&quot; then &quot;login_page&quot; and other screens should be opened. But when I run it with the android studio emulator avd, the &quot;splash screen&quot; opens and the application closes, when I run it with bluestack 5, the &quot;splash screen&quot; opens and then a blank page opens. I don't have a blank screen in my project and I couldn't figure out what could be the problem and I need serious help in this regard.\nthank you in advance everyone</p>\n<p>login_page repo</p>\n<pre><code>public class login_page extends AppCompatActivity {\n\n    TextView createnewAccount, forgotPassword;\n    EditText inputEmail,inputPassword;\n    Button btnLogin;\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n\n    ProgressDialog progressDialog = new ProgressDialog(this);\n\n\n    FirebaseAuth mAuth;\n    FirebaseUser mUser;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login_page);\n        createnewAccount=findViewById(R.id.createNewAccount5);\n\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        inputEmail=findViewById(R.id.inputEmail);\n        inputPassword=findViewById(R.id.inputPassword);\n        btnLogin=findViewById(R.id.btnLogin);\n        forgotPassword=findViewById(R.id.forgotPassword);\n        progressDialog = new ProgressDialog(this);\n        mAuth = FirebaseAuth.getInstance();\n        mUser=mAuth.getCurrentUser();\n\n\n        createnewAccount.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(login_page.this, register_page.class));\n            }\n        });\n        btnLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                perforLogin();\n            }\n        });\n        forgotPassword.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                EditText resetMail = new EditText((v.getContext()));\n                AlertDialog.Builder passwordResetDialog = new AlertDialog.Builder(v.getContext());\n                passwordResetDialog.setTitle(&quot;Şifre Yenileme&quot;);\n                passwordResetDialog.setMessage(&quot;Şifre Yenileme Linki için Kayıtlı Email Adresinizi Girin...&quot;);\n                passwordResetDialog.setView(resetMail);\n\n                passwordResetDialog.setPositiveButton(&quot;Evet&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                        String mail = resetMail.getText().toString();\n                        mAuth.sendPasswordResetEmail(mail).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n                                Toast.makeText(login_page.this, &quot;Yenileme Linki Email Adresinize Gönderildi.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(login_page.this, &quot;Hata ! Yenileme Linki Email Adresinize Gönderilemedi.&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n\n                    }\n                });\n                passwordResetDialog.setNegativeButton(&quot;Hayır&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                    }\n                });\n\n                passwordResetDialog.create().show();\n\n            }\n        });\n    }\n\n    private void perforLogin() {\n        String email=inputEmail.getText().toString();\n        String password=inputPassword.getText().toString();\n\n        if(!email.matches(emailPattern))\n        {\n            inputEmail.setError(&quot;Geçerli Email Girin&quot;);\n        }\n        else if(password.isEmpty() || password.length()&lt;6)\n        {\n            inputPassword.setError(&quot;Geçerli Paraloyı Girin&quot;);\n        }\n        else\n        {\n            progressDialog.setMessage(&quot;Giriş Yapılıyor... &quot;);\n            progressDialog.setTitle(&quot;Giriş&quot;);\n            progressDialog.setCanceledOnTouchOutside(false);\n            progressDialog.show();\n\n            mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                    if(task.isSuccessful())\n                    {\n                        progressDialog.dismiss();\n                        sendUserToNextActivity();\n                        Toast.makeText(login_page.this, &quot;Giriş Başarılı&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                    else\n                    {\n                        progressDialog.dismiss();\n                        Toast.makeText(login_page.this, &quot;&quot;+task.getException(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n        }\n    }\n    private void sendUserToNextActivity() {\n        Intent intent = new Intent(login_page.this,home_page.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n    }\n\n\n}\n</code></pre>\n<p>splash screen (MainActivity) repo</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Handler handler;\n    private TextView txt_app_name;\n    private Animation textViewAnimation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txt_app_name = findViewById(R.id.text_app_name);\n        textViewAnimation = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.textview_animation);\n\n        handler = new Handler();\n\n\n        View decorView = getWindow().getDecorView();\n        decorView.setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN);\n\n\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n\n                Intent intent = new Intent(MainActivity.this, login_page.class);\n                startActivity(intent);\n                finish();\n            }\n        };\n        handler.postDelayed(runnable, 11800);\n\n        txt_app_name.setAnimation(textViewAnimation);\n    }\n}\n</code></pre>\n<p>logcat of error</p>\n<pre><code>    2021-12-21 16:26:53.396 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:26:53.411 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{d3f4f08 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:26:59.079 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:26:59.096 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{646a86f u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:27:01.492 1776-3798/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:27:01.513 1776-3798/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{bb242b2 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:27:02.754 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:27:02.778 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{4def2d u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:27:15.567 1776-1787/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:27:15.583 1776-1787/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{f4442a4 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:27:20.684 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:27:20.718 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{83db9c3 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n    2021-12-21 16:27:26.633 1776-1787/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n    2021-12-21 16:27:26.661 1776-1787/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{b785b96 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\njava.lang.NullPointerException: Attempt to read from field 'int com.android.server.am.ProcessRecord.pid' on a null object reference\n        at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\n        at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\n        at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\n        at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\n        at android.os.Binder.execTransact(Binder.java:565)\n2021-12-21 16:31:31.533 1776-3798/system_process E/ActivityManager: Activity Manager Crash\n    java.lang.NullPointerException: Attempt to read from field 'int com.android.server.am.ProcessRecord.pid' on a null object reference\n        at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\n        at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\n        at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\n        at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\n        at android.os.Binder.execTransact(Binder.java:565)\n2021-12-21 16:31:41.496 1776-1788/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:31:41.515 1776-1788/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{3c834b0 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:31:49.417 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:31:49.456 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{434433f u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:31:55.026 1776-25638/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:31:55.059 1776-25638/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{1d673d3 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:31:59.666 1776-2170/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:31:59.723 1776-2170/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{e136772 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:32:04.234 1776-1984/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:32:04.252 1776-1984/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{26d1eed u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:32:06.749 1776-2167/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1504)\n2021-12-21 16:32:06.785 1776-2167/system_process E/ActivityManager: Attempting to schedule restart of ServiceRecord{dda9e88 u0 lara.alev.reklamizleme/com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService} when found in map: null\n2021-12-21 16:32:09.102 1776-1787/system_process E/ActivityManager: Activity Manager Crash\n    java.lang.NullPointerException: Attempt to read from field 'int com.android.server.am.ProcessRecord.pid' on a null object reference\n        at com.android.server.am.ActivityManagerService.fillInProcMemInfo(ActivityManagerService.java:14248)\n        at com.android.server.am.ActivityManagerService.getMyMemoryState(ActivityManagerService.java:14355)\n        at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:1719)\n        at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2846)\n        at android.os.Binder.execTransact(Binder.java:565)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":1,"creation_date":1638873659,"post_id":70258162,"comment_id":124197790,"body_markdown":"How will you identify that specific user? Do you have any id (or similar) for that?","body":"How will you identify that specific user? Do you have any id (or similar) for that?"},{"owner":{"account_id":14120953,"reputation":63,"user_id":10201451,"display_name":"reinskywalker"},"score":0,"creation_date":1638875774,"post_id":70258162,"comment_id":124198652,"body_markdown":"I don&#39;t think there&#39;s a way for that, or atleast no intended strategy to implement such request, I&#39;d recommend creating a collection of users organized by auth.uid and you can keep whatever kind of permission attributes you want in there, or implement role-based access control.","body":"I don&#39;t think there&#39;s a way for that, or atleast no intended strategy to implement such request, I&#39;d recommend creating a collection of users organized by auth.uid and you can keep whatever kind of permission attributes you want in there, or implement role-based access control."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638889277,"post_id":70258162,"comment_id":124204292,"body_markdown":"Are you asking how to handle user types? If so, see https://stackoverflow.com/q/36452841, https://stackoverflow.com/a/66822535, https://stackoverflow.com/a/63543214, and more that are linked from those.","body":"Are you asking how to handle user types? If so, see <a href=\"https://stackoverflow.com/q/36452841\">stackoverflow.com/q/36452841</a>, <a href=\"https://stackoverflow.com/a/66822535\">stackoverflow.com/a/66822535</a>, <a href=\"https://stackoverflow.com/a/63543214\">stackoverflow.com/a/63543214</a>, and more that are linked from those."},{"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"score":0,"creation_date":1638899770,"post_id":70258162,"comment_id":124208665,"body_markdown":"Thanks, everyone for responding! Let me try using auth.id!","body":"Thanks, everyone for responding! Let me try using auth.id!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1639355047,"post_id":70258162,"comment_id":124320907,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"score":0,"creation_date":1640098435,"post_id":70258162,"comment_id":124511616,"body_markdown":"Update guys!\nI have successfully found a solution to my issue with a simple change in the line. All I did was change the Database Reference name (two different names have created two nodes in the real-time database) allowing me to create two login pages for two different users.","body":"Update guys! I have successfully found a solution to my issue with a simple change in the line. All I did was change the Database Reference name (two different names have created two nodes in the real-time database) allowing me to create two login pages for two different users."}],"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640098652,"creation_date":1638871455,"question_id":70258162,"body_markdown":"I&#39;m building an application where I have used Firebase as a real-time database for Login and Registration and I have successfully managed to achieve it. \r\n\r\nHere&#39;s where I&#39;m stuck at, I want to create two login pages in the app where a few selected users should have the access to the second login activity and the rest of the users shouldn&#39;t have access to log in. I can achieve this using two databases but Firebase charges for that, So please guide me on how to allow specific users to have access to login into the second login activity.  \r\n\r\n\r\n\r\n\r\n\r\n**Update guys!**\r\nI have successfully found a solution to my issue with a simple change in the line. All I did was change the Database Reference name (two different names have created two nodes in the real-time database) allowing me to create two login pages for two different users.\r\n\r\nMany thanks to those who provided suggestions and helped me make progress in building the app!","title":"Allow specific users to have access to login (Firebase)","body":"<p>I'm building an application where I have used Firebase as a real-time database for Login and Registration and I have successfully managed to achieve it.</p>\n<p>Here's where I'm stuck at, I want to create two login pages in the app where a few selected users should have the access to the second login activity and the rest of the users shouldn't have access to log in. I can achieve this using two databases but Firebase charges for that, So please guide me on how to allow specific users to have access to login into the second login activity.</p>\n<p><strong>Update guys!</strong>\nI have successfully found a solution to my issue with a simple change in the line. All I did was change the Database Reference name (two different names have created two nodes in the real-time database) allowing me to create two login pages for two different users.</p>\n<p>Many thanks to those who provided suggestions and helped me make progress in building the app!</p>\n"},{"tags":["java","android","firebase","google-maps"],"answers":[{"tags":[],"owner":{"account_id":9183564,"reputation":532,"user_id":6826629,"display_name":"Shreyas Sanil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640062188,"creation_date":1640062188,"answer_id":70430806,"question_id":70430199,"body_markdown":"You may have different GSM component on your project, so adjust accordingly.Make sure all google services library you are using must be of same version.\r\n\r\nYou can get the latest version [Here][1]\r\n\r\nAlso you can change the version to:\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:+&#39;\r\n    implementation &#39;com.google.android.gms:play-services-places:+&#39;\r\n    implementation &#39;com.google.android.gms:play-services:+&#39;\r\n    implementation &#39;com.google.firebase:firebase-iid:+&#39;\r\n\r\n\r\n  [1]: https://developers.google.com/android/guides/releases","title":"Android app is not launching after updating library version","body":"<p>You may have different GSM component on your project, so adjust accordingly.Make sure all google services library you are using must be of same version.</p>\n<p>You can get the latest version <a href=\"https://developers.google.com/android/guides/releases\" rel=\"nofollow noreferrer\">Here</a></p>\n<p>Also you can change the version to:</p>\n<pre><code>implementation 'com.google.android.gms:play-services-location:+'\nimplementation 'com.google.android.gms:play-services-places:+'\nimplementation 'com.google.android.gms:play-services:+'\nimplementation 'com.google.firebase:firebase-iid:+'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293190,"reputation":4978,"user_id":596364,"accept_rate":93,"display_name":"Siva K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640098497,"creation_date":1640098497,"answer_id":70437406,"question_id":70430199,"body_markdown":"I am able to run the code after making following changes in the gradle file\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        }\r\n    }\r\n    \r\n    android {\r\n        defaultConfig {\r\n            minSdkVersion 26\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = 1.8\r\n            targetCompatibility = 1.8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    //    implementation &#39;com.google.android.gms:play-services:12.0.1&#39;\r\n    //    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    //    implementation &#39;com.google.firebase:firebase-iid:21.1.0&#39;\r\n    \r\n        implementation &#39;com.google.android.gms:play-services-location:19.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-places:17.0.0&#39;\r\n    \r\n        implementation &#39;com.google.firebase:firebase-core:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.0&#39;\r\n    }\r\n\r\n\r\nWhile updating the gms play services we need to update all other libraries we have implemented for the project\r\n","title":"Android app is not launching after updating library version","body":"<p>I am able to run the code after making following changes in the gradle file</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nandroid {\n    defaultConfig {\n        minSdkVersion 26\n    }\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n}\n\ndependencies {\n\n//    implementation 'com.google.android.gms:play-services:12.0.1'\n//    implementation 'com.google.firebase:firebase-auth:21.0.1'\n//    implementation 'com.google.firebase:firebase-iid:21.1.0'\n\n    implementation 'com.google.android.gms:play-services-location:19.0.0'\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\n\n    implementation 'com.google.firebase:firebase-core:20.0.1'\n    implementation 'com.google.firebase:firebase-messaging:23.0.0'\n}\n</code></pre>\n<p>While updating the gms play services we need to update all other libraries we have implemented for the project</p>\n"}],"owner":{"account_id":293190,"reputation":4978,"user_id":596364,"accept_rate":93,"display_name":"Siva K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640098497,"creation_date":1640055701,"question_id":70430199,"body_markdown":"I am trying to upgrade an android old code which was developed in 2017 in JAVA.\r\n\r\nI was able to run the code after `changing the compile SDK version as 31 and min SDK as 24`, the build gradle file has the following\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services:12.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-iid:21.1.0&#39;\r\n\r\nThe problem i had in the app is `not able to get current location and place marker in google map is not working in some API level` as some of the google libraries are need to be upgraded, so i have upgraded the following\r\n\r\n    //    implementation &#39;com.google.android.gms:play-services:12.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:19.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-places:17.0.0&#39;\r\n\r\nBut now i am not able to launch the app in my emulators, I am getting the following error \r\n\r\n    2021-12-21 08:22:41.115 23867-23867/com.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.app, PID: 23867\r\n        java.lang.NoSuchMethodError: No static method zzb(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Lcom/google/android/gms/common/internal/zzac; or its super classes (declaration of &#39;com.google.android.gms.common.internal.zzac&#39; appears in /data/app/com.app-hsFG_IEf6owtrU9gHiJ5xQ==/base.apk)\r\n            at com.google.firebase.provider.FirebaseInitProvider.zza(Unknown Source:2)\r\n            at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:0)\r\n            at android.app.ActivityThread.installProvider(ActivityThread.java:6649)\r\n            at android.app.ActivityThread.installContentProviders(ActivityThread.java:6172)\r\n            at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6080)\r\n            at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1812)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:183)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6956)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:519)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:836)\r\n\r\n\r\nHow to run the app, the app was running good before updating the libraries","title":"Android app is not launching after updating library version","body":"<p>I am trying to upgrade an android old code which was developed in 2017 in JAVA.</p>\n<p>I was able to run the code after <code>changing the compile SDK version as 31 and min SDK as 24</code>, the build gradle file has the following</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.3.1'\nimplementation 'com.google.android.material:material:1.0.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'com.google.android.gms:play-services:12.0.1'\nimplementation 'com.google.firebase:firebase-iid:21.1.0'\n</code></pre>\n<p>The problem i had in the app is <code>not able to get current location and place marker in google map is not working in some API level</code> as some of the google libraries are need to be upgraded, so i have upgraded the following</p>\n<pre><code>//    implementation 'com.google.android.gms:play-services:12.0.1'\n    implementation 'com.google.android.gms:play-services-location:19.0.0'\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\n</code></pre>\n<p>But now i am not able to launch the app in my emulators, I am getting the following error</p>\n<pre><code>2021-12-21 08:22:41.115 23867-23867/com.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.app, PID: 23867\n    java.lang.NoSuchMethodError: No static method zzb(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Lcom/google/android/gms/common/internal/zzac; or its super classes (declaration of 'com.google.android.gms.common.internal.zzac' appears in /data/app/com.app-hsFG_IEf6owtrU9gHiJ5xQ==/base.apk)\n        at com.google.firebase.provider.FirebaseInitProvider.zza(Unknown Source:2)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:0)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6649)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6172)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6080)\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1812)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:183)\n        at android.app.ActivityThread.main(ActivityThread.java:6956)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:519)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:836)\n</code></pre>\n<p>How to run the app, the app was running good before updating the libraries</p>\n"},{"tags":["java","arrays","bit-shift"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":5,"creation_date":1344552248,"post_id":11893053,"comment_id":15828940,"body_markdown":"[What have you tried?](http://www.whathaveyoutried.com)","body":"<a href=\"http://www.whathaveyoutried.com\" rel=\"nofollow noreferrer\">What have you tried?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1344555988,"post_id":11893053,"comment_id":15829910,"body_markdown":"`Collections.rotate(Arrays.asList(array), distance)`","body":"<code>Collections.rotate(Arrays.asList(array), distance)</code>"},{"owner":{"account_id":190878,"reputation":2713,"user_id":431087,"display_name":"Isaac Turner"},"score":1,"creation_date":1442850385,"post_id":11893053,"comment_id":53241790,"body_markdown":"possible duplicate of [Fastest algorithm for circle shift N sized array for M position](http://stackoverflow.com/questions/876293/fastest-algorithm-for-circle-shift-n-sized-array-for-m-position)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/876293/fastest-algorithm-for-circle-shift-n-sized-array-for-m-position\">Fastest algorithm for circle shift N sized array for M position</a>"}],"answers":[{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344553938,"creation_date":1344553938,"answer_id":11893316,"question_id":11893053,"body_markdown":"You could shift the data by iterating and copying, this will be O(n). An alternate approach is to create a `List` implementation that wraps your array and exposes it as being circular shifted. This had the advantage that the actual shifting is lazily done when `get` or iteration is performed.","title":"circular left shift of an array by n positions in java","body":"<p>You could shift the data by iterating and copying, this will be O(n). An alternate approach is to create a <code>List</code> implementation that wraps your array and exposes it as being circular shifted. This had the advantage that the actual shifting is lazily done when <code>get</code> or iteration is performed.</p>\n"},{"tags":[],"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344561441,"creation_date":1344556174,"answer_id":11893597,"question_id":11893053,"body_markdown":"    for (int i = 0; i &lt; n; i++)\r\n        array[array.length - n + i] = array[i];\r\n    for (int i = 0; i &lt; array.length - n; i++)\r\n        array[i] = array[i + n];","title":"circular left shift of an array by n positions in java","body":"<pre><code>for (int i = 0; i &lt; n; i++)\n    array[array.length - n + i] = array[i];\nfor (int i = 0; i &lt; array.length - n; i++)\n    array[i] = array[i + n];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344557517,"creation_date":1344556704,"answer_id":11893660,"question_id":11893053,"body_markdown":"I would shift it 1 element at a time in place, using a single temporary variable to hold the element while moving elements 1 place along each. I would then repeat this `n` times to achieve `n` shifts.\r\n\r\n    public static void main( String[] args ) {\r\n        int[] array = {1,2,3,4,5,6,7,8};\r\n        leftShift( array, 3);\r\n        System.out.println( Arrays.toString( array));\r\n    }\r\n\r\n    public static void leftShift(int[] array, int n) {\r\n        for (int shift = 0; shift &lt; n; shift++) {\r\n            int first = array[0];\r\n            System.arraycopy( array, 1, array, 0, array.length - 1 );\r\n            array[array.length - 1] = first;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    [4, 5, 6, 7, 8, 1, 2, 3]\r\n\r\nNot too inefficient, as [`System.arraycopy()`][1] is highly optimized.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29","title":"circular left shift of an array by n positions in java","body":"<p>I would shift it 1 element at a time in place, using a single temporary variable to hold the element while moving elements 1 place along each. I would then repeat this <code>n</code> times to achieve <code>n</code> shifts.</p>\n\n<pre><code>public static void main( String[] args ) {\n    int[] array = {1,2,3,4,5,6,7,8};\n    leftShift( array, 3);\n    System.out.println( Arrays.toString( array));\n}\n\npublic static void leftShift(int[] array, int n) {\n    for (int shift = 0; shift &lt; n; shift++) {\n        int first = array[0];\n        System.arraycopy( array, 1, array, 0, array.length - 1 );\n        array[array.length - 1] = first;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[4, 5, 6, 7, 8, 1, 2, 3]\n</code></pre>\n\n<p>Not too inefficient, as <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow\"><code>System.arraycopy()</code></a> is highly optimized.</p>\n"},{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344557991,"creation_date":1344557991,"answer_id":11893825,"question_id":11893053,"body_markdown":"Another alternative would be to wrap up your own structure, which includes the array and the index of virtual zero.\r\n","title":"circular left shift of an array by n positions in java","body":"<p>Another alternative would be to wrap up your own structure, which includes the array and the index of virtual zero.</p>\n"},{"tags":[],"owner":{"account_id":1736446,"reputation":179,"user_id":1588909,"accept_rate":0,"display_name":"Walter Lars Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344564135,"creation_date":1344562203,"answer_id":11894293,"question_id":11893053,"body_markdown":"I do belive that `System.arraycopy` would actually just take all your data from one array, and put it into another one of the same length just shifted.\r\n\r\nAnyways thinking about that problem is a quite interesting task. The only Solution i could think about right now is to shit it one by one.\r\nWithout using another Array it would look like that:\r\n\r\n    for(int i = 0; i &lt; shift;i++)\r\n    \t\t{\r\n    \t\t\ttmp = array[0];\r\n    \t\t\tfor(int j = 0;j&lt;array.length-1;j++)\r\n    \t\t\t\tarray[j]=array[j+1];\r\n    \t\t\tarray[array.length-1]=tmp;\r\n    \t\t}\r\n\r\nfor Arrays greater than 30 items it is but more efficient to use this:\r\n\r\n    for (int i = 0; i &lt; shift; i++) {\r\n    \t        tmp = array[0];\r\n    \t        System.arraycopy( array, 1, array, 0, array.length - 1 );\r\n    \t        array[array.length - 1] = tmp;\r\n    \t    }\r\nBut for large arrays and great shift that are close to the array size aswell as for short arrays and small shifts this method wins the race:\r\n\r\n\t\tint[] array2 = new int[shift];\r\n\t\tfor (int i = 0; i &lt; shift; i++)\r\n\t\t{\r\n\t\t\tarray2[i] = array[i];\r\n\t\t}\r\n\t\tSystem.arraycopy(array, shift, array, 0, array.length - shift);\r\n\t\tfor (int i = array.length - shift; i &lt; array.length; i++)\r\n\t\t{\r\n\t\t\tarray[i] = array2[shift + i - array.length];\r\n\t\t}\r\nIve tested that with a few array sizes and shifts Here are the results for \r\n\r\n\t\tint[] array = new int[100000];\r\n\t\tint shift = 99999;\r\nin nanoseconds:\r\n1st method:5663109208\r\n2nd method:4047735536\r\n3rd method:6085690\r\nSo you should really use the 3rd method. Hope that helps","title":"circular left shift of an array by n positions in java","body":"<p>I do belive that <code>System.arraycopy</code> would actually just take all your data from one array, and put it into another one of the same length just shifted.</p>\n\n<p>Anyways thinking about that problem is a quite interesting task. The only Solution i could think about right now is to shit it one by one.\nWithout using another Array it would look like that:</p>\n\n<pre><code>for(int i = 0; i &lt; shift;i++)\n        {\n            tmp = array[0];\n            for(int j = 0;j&lt;array.length-1;j++)\n                array[j]=array[j+1];\n            array[array.length-1]=tmp;\n        }\n</code></pre>\n\n<p>for Arrays greater than 30 items it is but more efficient to use this:</p>\n\n<pre><code>for (int i = 0; i &lt; shift; i++) {\n            tmp = array[0];\n            System.arraycopy( array, 1, array, 0, array.length - 1 );\n            array[array.length - 1] = tmp;\n        }\n</code></pre>\n\n<p>But for large arrays and great shift that are close to the array size aswell as for short arrays and small shifts this method wins the race:</p>\n\n<pre><code>    int[] array2 = new int[shift];\n    for (int i = 0; i &lt; shift; i++)\n    {\n        array2[i] = array[i];\n    }\n    System.arraycopy(array, shift, array, 0, array.length - shift);\n    for (int i = array.length - shift; i &lt; array.length; i++)\n    {\n        array[i] = array2[shift + i - array.length];\n    }\n</code></pre>\n\n<p>Ive tested that with a few array sizes and shifts Here are the results for </p>\n\n<pre><code>    int[] array = new int[100000];\n    int shift = 99999;\n</code></pre>\n\n<p>in nanoseconds:\n1st method:5663109208\n2nd method:4047735536\n3rd method:6085690\nSo you should really use the 3rd method. Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":1955568,"reputation":737,"user_id":1758632,"display_name":"SomeStrangeUser"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1586979940,"creation_date":1376079586,"answer_id":18154984,"question_id":11893053,"body_markdown":"There is actually a clever algorithm for that. We&#39;ll use `A` to denote the array, `N` to denote the array size, and `n` to denote the number of positions to shift. After the shift you would like the `i-th` element to move to the `((i + n) mod N)-th` position, hence we can define the new positions by the following mapping:\r\n\r\n    f(j) := (j + n) mod N  (j = 0,...,N - 1)\r\n\r\nThe general idea behind this algorithm goes like this: We don&#39;t want to move elements around more then necessary, so ideally we would like to simply place each element in it&#39;s proper (shifted) position on the first try. Say we start with the element at position `i`. What we want to do is move the element at position `i` to position `f(i)`, but then we&#39;ll overwrite the element at that position, so we need to first save the element at position `f(i)` and then perform the shift. Once we shifted the first element, we need to pick another element to shift. Since we want to conserve space, the obvious candidate is the element we just saved (the element that was in position `f(i)`). Like before, we save the element at position `f(f(i))` and then copy our saved element into that position. We keep repeating this process (going through positions `i, f(i), f(f(i)), f(f(f(i))), ...`) until we reach an element we already shifted (which we are guaranteed to do, since there are finitely many position). If we passed through all of the elements, then we are done, if not then we select another element (that hasn&#39;t been shifted yet), say at position `j`, and repeat the procedure (going through `j, f(j), f(f(j)), f(f(f(j))), ...`). That&#39;s it. But before we can  implement such an algorithm, or even before we decide whether this is indeed a good algorithm we need to answer a few questions:\r\n\r\n1. Say we iterate through positions `i, f(i), f(f(i)), ...`. How can we tell that we reached a position that has already been shifted? Do we need to save every position we passed through? If we do, then this means we need to hold an array of size N (to cover all positions), and we also need to perform a lookup every time we shift an element. This would make the algorithm terribly inefficient. Luckily this is not necessary, since the sequence `i, f(i), f(f(i)), ...` must wrap around itself at position `i`, so we only need to wait until we reach that position. We can prove this assertion as follows: Assume that the first repeated element we meet is not `i`. Then we must have 2 different elements, that when shifted will reach the same position - a contradiction.\r\n\r\n2. Say we finished going through `i, f(i), f(f(i)), ...`, but there are still elements that remain unshifted (we can tell by counting how many elements we shifted). How do we now find a position `j` that contains such an element? And also, once we finished this second iteration (going through `j, f(j), f(f(j)), ...`) how do we find a third position `k` with an unshifted element? and so on.. This too might suggest we need to save an array to account for used used\\unused elements, and perform a lookup every time we need to find an unused element. However, we can again relax, since, as we&#39;ll soon show, all of the _starting positions_ (which we denoted by `i`, `j` and `k`) are adjacent. Which means, that if we start from position `i`, we&#39;ll next select `i + 1`, and then `i + 2`, and so on…\r\n\r\n3. might the sequences `i, f(i), f(f(i)), ...` and `j, f(j), f(f(j)), ...` (where`i` and `j` are different) contain common elements? If they do this would mean that the algorithm is useless, since it could shift the same element twice - causing it to end up in the wrong position. The answer then (of course), is that they cannot contain common elements. And we will show why.\r\n\r\n\r\nLet us denote`d := gcd(N, n)`. For every one of the integers: `i = 0,...,d - 1` we define the following set:\r\n\r\n    S(i) := { kd + i | k = 0,...,N/d - 1}\r\n\r\nIt is easy to see that the sets `S(0),...,S(d - 1)` together cover the set `{0,...,N - 1}`. We also observe that when dividing an element in a set `S(i)` by `d`, we are left with remainder `i`, and dividing an element from a different set `S(j)` by `d` will leave us with a different remainder (`j`). Thus, no two sets contain a common element. With this we have established that the sets `S(0),...,S(d - 1)` form a partition of `{0,...,N - 1}`\r\n\r\n\r\nNow, for every `i = 0,...,d - 1`, we will define the set `T(i)` as `i, f(i), f(f(i)), ...`. By the definition of `f` we can write `T(i)` as follows:\r\n\r\n    T(i) = {(kn + i) mod N | k is an integer}\r\n\r\nWe observe that if `x` is an element in `T(i)`, then we can write for some `k`:\r\n\r\n    x = (kn + i) mod N = (k(n/d)d + i) mod N\r\n\r\nLet us denote `z := k(n/d) mod N/d`, then by multiplying by `d`, we have:\r\n\r\n    kn mod N = zd\r\n\r\nand hence:\r\n\r\n    x = (kn + i) mod N = zd + i\r\n\r\nThus, `x` is also in `S(i)`. Similarly, if we take some `y` from `S(i)` we observe that for some `k`:\r\n\r\n    y = kd + i\r\n\r\nSince `gcd(n/d, N/d) = 1` there exists a `q` such that `q(n/d) mod N/d = 1` (a modular inverse), thus we can write (multiplying by `kd`):\r\n\r\n    kd = kqn mod N\r\n\r\nand hence:\r\n\r\n    y = kd + i = ((kq)n + i) mod N\r\n\r\nThus, `y` is also in `T(i)`. We conclude that `T(i) = S(i)`. From this fact we can easily show our previous assertions. First off, since the sets form a partition of `{0,...,N - 1}` the third assertion (no two sequences contain a common element) is satisfied. Second, by the definition of the sets `S(i)` we can take any group of `d` adjacent elements in `{0,...N - 1}` and each of them will be placed in a different set. This satisfies the second assertion.\r\n\r\n**What this means** is that we can rotate all elements in positions `0, d, 2d, ..., (N/d - 1)d` by simply replacing the element at position `n mod N` with the element at position `0`, the element at position `2n mod N` with the element at position `n mod N`, and so on… until we return to the element in position `0` (which we are assured will happen). Here is a pseudo-code example:\r\n\r\n    \r\n    temp &lt;- A[0]\r\n    j &lt;- N - (n mod N)\r\n    while j != 0 do\r\n        A[(j + n) mod N] &lt;- A[j];\r\n        j &lt;- (j - n) mod N\r\n    A[n mod N] &lt;- temp;\r\n\r\nThis covers the entire set `S(0)`. To cover the rest of the sets, namely `S(1), … ,S(d-1)`, we will simply iterate over each set the same way we did for the first:\r\n \r\n    for i &lt;- 0 to d - 1\r\n        temp &lt;- A[i]\r\n        j &lt;- N - ((n - i) mod N)\r\n        while j != i do\r\n            A[(j + n) mod N] &lt;- A[j];\r\n            j &lt;- (j - n) mod N\r\n        A[(i + n) mod N] &lt;- temp;\r\n\r\nNote that while we have two nested loops, each element is moved exactly once, and we use `O(1)` space. An example of an implementation in Java:\r\n\r\n    public static int gcd(int a, int b) {\r\n\t\twhile(b != 0) {\r\n\t\t\tint c = a;\r\n\t\t\ta = b;\r\n\t\t\tb = c % a;\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\t\r\n\tpublic static void shift_array(int[] A, int n) {\r\n\t\tint N = A.length;\r\n\t\tn %= N;\r\n\t\tif(n &lt; 0)\r\n\t\t\tn = N + n;\r\n\t\tint d = gcd(N, n);\r\n\t\tfor(int i = 0; i &lt; d; i++) {\r\n\t\t\tint temp = A[i];\r\n\t\t\tfor(int j = i - n + N; j != i; j = (j - n + N) % N)\r\n\t\t\t\tA[(j + n) % N] = A[j];\r\n\t\t\tA[i + n] = temp;\r\n\t\t}\r\n\t}","title":"circular left shift of an array by n positions in java","body":"<p>There is actually a clever algorithm for that. We'll use <code>A</code> to denote the array, <code>N</code> to denote the array size, and <code>n</code> to denote the number of positions to shift. After the shift you would like the <code>i-th</code> element to move to the <code>((i + n) mod N)-th</code> position, hence we can define the new positions by the following mapping:</p>\n\n<pre><code>f(j) := (j + n) mod N  (j = 0,...,N - 1)\n</code></pre>\n\n<p>The general idea behind this algorithm goes like this: We don't want to move elements around more then necessary, so ideally we would like to simply place each element in it's proper (shifted) position on the first try. Say we start with the element at position <code>i</code>. What we want to do is move the element at position <code>i</code> to position <code>f(i)</code>, but then we'll overwrite the element at that position, so we need to first save the element at position <code>f(i)</code> and then perform the shift. Once we shifted the first element, we need to pick another element to shift. Since we want to conserve space, the obvious candidate is the element we just saved (the element that was in position <code>f(i)</code>). Like before, we save the element at position <code>f(f(i))</code> and then copy our saved element into that position. We keep repeating this process (going through positions <code>i, f(i), f(f(i)), f(f(f(i))), ...</code>) until we reach an element we already shifted (which we are guaranteed to do, since there are finitely many position). If we passed through all of the elements, then we are done, if not then we select another element (that hasn't been shifted yet), say at position <code>j</code>, and repeat the procedure (going through <code>j, f(j), f(f(j)), f(f(f(j))), ...</code>). That's it. But before we can  implement such an algorithm, or even before we decide whether this is indeed a good algorithm we need to answer a few questions:</p>\n\n<ol>\n<li><p>Say we iterate through positions <code>i, f(i), f(f(i)), ...</code>. How can we tell that we reached a position that has already been shifted? Do we need to save every position we passed through? If we do, then this means we need to hold an array of size N (to cover all positions), and we also need to perform a lookup every time we shift an element. This would make the algorithm terribly inefficient. Luckily this is not necessary, since the sequence <code>i, f(i), f(f(i)), ...</code> must wrap around itself at position <code>i</code>, so we only need to wait until we reach that position. We can prove this assertion as follows: Assume that the first repeated element we meet is not <code>i</code>. Then we must have 2 different elements, that when shifted will reach the same position - a contradiction.</p></li>\n<li><p>Say we finished going through <code>i, f(i), f(f(i)), ...</code>, but there are still elements that remain unshifted (we can tell by counting how many elements we shifted). How do we now find a position <code>j</code> that contains such an element? And also, once we finished this second iteration (going through <code>j, f(j), f(f(j)), ...</code>) how do we find a third position <code>k</code> with an unshifted element? and so on.. This too might suggest we need to save an array to account for used used\\unused elements, and perform a lookup every time we need to find an unused element. However, we can again relax, since, as we'll soon show, all of the <em>starting positions</em> (which we denoted by <code>i</code>, <code>j</code> and <code>k</code>) are adjacent. Which means, that if we start from position <code>i</code>, we'll next select <code>i + 1</code>, and then <code>i + 2</code>, and so on…</p></li>\n<li><p>might the sequences <code>i, f(i), f(f(i)), ...</code> and <code>j, f(j), f(f(j)), ...</code> (where<code>i</code> and <code>j</code> are different) contain common elements? If they do this would mean that the algorithm is useless, since it could shift the same element twice - causing it to end up in the wrong position. The answer then (of course), is that they cannot contain common elements. And we will show why.</p></li>\n</ol>\n\n<p>Let us denote<code>d := gcd(N, n)</code>. For every one of the integers: <code>i = 0,...,d - 1</code> we define the following set:</p>\n\n<pre><code>S(i) := { kd + i | k = 0,...,N/d - 1}\n</code></pre>\n\n<p>It is easy to see that the sets <code>S(0),...,S(d - 1)</code> together cover the set <code>{0,...,N - 1}</code>. We also observe that when dividing an element in a set <code>S(i)</code> by <code>d</code>, we are left with remainder <code>i</code>, and dividing an element from a different set <code>S(j)</code> by <code>d</code> will leave us with a different remainder (<code>j</code>). Thus, no two sets contain a common element. With this we have established that the sets <code>S(0),...,S(d - 1)</code> form a partition of <code>{0,...,N - 1}</code></p>\n\n<p>Now, for every <code>i = 0,...,d - 1</code>, we will define the set <code>T(i)</code> as <code>i, f(i), f(f(i)), ...</code>. By the definition of <code>f</code> we can write <code>T(i)</code> as follows:</p>\n\n<pre><code>T(i) = {(kn + i) mod N | k is an integer}\n</code></pre>\n\n<p>We observe that if <code>x</code> is an element in <code>T(i)</code>, then we can write for some <code>k</code>:</p>\n\n<pre><code>x = (kn + i) mod N = (k(n/d)d + i) mod N\n</code></pre>\n\n<p>Let us denote <code>z := k(n/d) mod N/d</code>, then by multiplying by <code>d</code>, we have:</p>\n\n<pre><code>kn mod N = zd\n</code></pre>\n\n<p>and hence:</p>\n\n<pre><code>x = (kn + i) mod N = zd + i\n</code></pre>\n\n<p>Thus, <code>x</code> is also in <code>S(i)</code>. Similarly, if we take some <code>y</code> from <code>S(i)</code> we observe that for some <code>k</code>:</p>\n\n<pre><code>y = kd + i\n</code></pre>\n\n<p>Since <code>gcd(n/d, N/d) = 1</code> there exists a <code>q</code> such that <code>q(n/d) mod N/d = 1</code> (a modular inverse), thus we can write (multiplying by <code>kd</code>):</p>\n\n<pre><code>kd = kqn mod N\n</code></pre>\n\n<p>and hence:</p>\n\n<pre><code>y = kd + i = ((kq)n + i) mod N\n</code></pre>\n\n<p>Thus, <code>y</code> is also in <code>T(i)</code>. We conclude that <code>T(i) = S(i)</code>. From this fact we can easily show our previous assertions. First off, since the sets form a partition of <code>{0,...,N - 1}</code> the third assertion (no two sequences contain a common element) is satisfied. Second, by the definition of the sets <code>S(i)</code> we can take any group of <code>d</code> adjacent elements in <code>{0,...N - 1}</code> and each of them will be placed in a different set. This satisfies the second assertion.</p>\n\n<p><strong>What this means</strong> is that we can rotate all elements in positions <code>0, d, 2d, ..., (N/d - 1)d</code> by simply replacing the element at position <code>n mod N</code> with the element at position <code>0</code>, the element at position <code>2n mod N</code> with the element at position <code>n mod N</code>, and so on… until we return to the element in position <code>0</code> (which we are assured will happen). Here is a pseudo-code example:</p>\n\n<pre><code>temp &lt;- A[0]\nj &lt;- N - (n mod N)\nwhile j != 0 do\n    A[(j + n) mod N] &lt;- A[j];\n    j &lt;- (j - n) mod N\nA[n mod N] &lt;- temp;\n</code></pre>\n\n<p>This covers the entire set <code>S(0)</code>. To cover the rest of the sets, namely <code>S(1), … ,S(d-1)</code>, we will simply iterate over each set the same way we did for the first:</p>\n\n<pre><code>for i &lt;- 0 to d - 1\n    temp &lt;- A[i]\n    j &lt;- N - ((n - i) mod N)\n    while j != i do\n        A[(j + n) mod N] &lt;- A[j];\n        j &lt;- (j - n) mod N\n    A[(i + n) mod N] &lt;- temp;\n</code></pre>\n\n<p>Note that while we have two nested loops, each element is moved exactly once, and we use <code>O(1)</code> space. An example of an implementation in Java:</p>\n\n<pre><code>public static int gcd(int a, int b) {\n    while(b != 0) {\n        int c = a;\n        a = b;\n        b = c % a;\n    }\n    return a;\n}\n\npublic static void shift_array(int[] A, int n) {\n    int N = A.length;\n    n %= N;\n    if(n &lt; 0)\n        n = N + n;\n    int d = gcd(N, n);\n    for(int i = 0; i &lt; d; i++) {\n        int temp = A[i];\n        for(int j = i - n + N; j != i; j = (j - n + N) % N)\n            A[(j + n) % N] = A[j];\n        A[i + n] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2489452,"reputation":45,"user_id":2167241,"accept_rate":60,"display_name":"R P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389916451,"creation_date":1389916451,"answer_id":21175360,"question_id":11893053,"body_markdown":"Checkout this github link:\r\n\r\nhttps://github.com/techpanja/interviewproblems/blob/master/src/arrays/circularshiftintarray/CircularShiftArray.java\r\n\r\ncircularShiftToLeftInPlace","title":"circular left shift of an array by n positions in java","body":"<p>Checkout this github link:</p>\n\n<p><a href=\"https://github.com/techpanja/interviewproblems/blob/master/src/arrays/circularshiftintarray/CircularShiftArray.java\" rel=\"nofollow\">https://github.com/techpanja/interviewproblems/blob/master/src/arrays/circularshiftintarray/CircularShiftArray.java</a></p>\n\n<p>circularShiftToLeftInPlace</p>\n"},{"tags":[],"owner":{"account_id":5046839,"reputation":65,"user_id":4052544,"display_name":"Bhumik Thakkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1417243995,"creation_date":1417243995,"answer_id":27199747,"question_id":11893053,"body_markdown":"How about this?\r\n\r\n    \t// Left shift the array in O(n) with O(1) space.\r\n\r\n\tpublic static void leftShift(int[] array, int n) {\r\n\t\tint temp;\r\n\t\tint len = array.length;\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\ttemp = array[len - n + i];\r\n\t\t\tarray[len - n + i] = array[i];\r\n\t\t\tarray[i] = array[n + i];\r\n\t\t\tarray[n + i] = temp;\r\n\t\t}\r\n\t}","title":"circular left shift of an array by n positions in java","body":"<p>How about this?</p>\n\n<pre><code>    // Left shift the array in O(n) with O(1) space.\n\npublic static void leftShift(int[] array, int n) {\n    int temp;\n    int len = array.length;\n    for (int i = 0; i &lt; n; i++) {\n        temp = array[len - n + i];\n        array[len - n + i] = array[i];\n        array[i] = array[n + i];\n        array[n + i] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1454065967,"creation_date":1454065967,"answer_id":35083084,"question_id":11893053,"body_markdown":"Here is the very easy algorithm, with O(1) Space in O(n) &lt;br&gt;\r\n**Algorithm** &lt;br&gt;\r\n\r\n - Reverse the array from 0 to n (numberOfPositions) positions\r\n - Reverse the array from n+1 to array length - 1 positions\r\n - Reverse the whole array from 0 to length - 1 positions\r\n\r\n&lt;br&gt;\r\n\r\n    \r\n     public class ArrayRotator {\r\n\t\r\n\t private final int[] target;\r\n\t private final int length;\r\n\r\n\t public ArrayRotator(int[] seed) {\r\n\t\tthis.target = seed;\r\n\t\tthis.length = seed.length;\r\n\t }\r\n\r\n\t public void rotateInline(int numberOfPositions) {\r\n\t\treverse(0, numberOfPositions);\r\n\t\treverse(numberOfPositions + 1, length-1);\t\t\r\n\t\treverse(0, length-1);\r\n\t }\r\n\r\n\t private void reverse(int start, int end) {\r\n\t\tfor (int i = start; i &lt;= (start + end)/2; i++) {\r\n\t\t\tswap(i, start + end - i);\r\n\t\t}\r\n\t }\r\n\r\n\t private void swap(int first, int second) {\r\n\t\tint temp = this.target[second];\r\n\t\tthis.target[second] = this.target[first];\r\n\t\tthis.target[first] = temp;\r\n\t }\r\n    }\r\n\r\n&lt;br&gt;\r\nFor example, lets say the array is `[1,2,3,4]` and `n` is `2` &lt;br&gt;\r\nAfter **step one**, you would end up `[2,1,3,4]` &lt;br&gt;\r\nAfter **Step two**, you would end up `[2,1,4,3]` &lt;br&gt;\r\nAfter **Step three**, you would end up `[3,4,1,2]`\r\n","title":"circular left shift of an array by n positions in java","body":"<p>Here is the very easy algorithm, with O(1) Space in O(n) <br>\n<strong>Algorithm</strong> <br></p>\n\n<ul>\n<li>Reverse the array from 0 to n (numberOfPositions) positions</li>\n<li>Reverse the array from n+1 to array length - 1 positions</li>\n<li>Reverse the whole array from 0 to length - 1 positions</li>\n</ul>\n\n<p><br></p>\n\n<pre><code> public class ArrayRotator {\n\n private final int[] target;\n private final int length;\n\n public ArrayRotator(int[] seed) {\n    this.target = seed;\n    this.length = seed.length;\n }\n\n public void rotateInline(int numberOfPositions) {\n    reverse(0, numberOfPositions);\n    reverse(numberOfPositions + 1, length-1);       \n    reverse(0, length-1);\n }\n\n private void reverse(int start, int end) {\n    for (int i = start; i &lt;= (start + end)/2; i++) {\n        swap(i, start + end - i);\n    }\n }\n\n private void swap(int first, int second) {\n    int temp = this.target[second];\n    this.target[second] = this.target[first];\n    this.target[first] = temp;\n }\n}\n</code></pre>\n\n<p><br>\nFor example, lets say the array is <code>[1,2,3,4]</code> and <code>n</code> is <code>2</code> <br>\nAfter <strong>step one</strong>, you would end up <code>[2,1,3,4]</code> <br>\nAfter <strong>Step two</strong>, you would end up <code>[2,1,4,3]</code> <br>\nAfter <strong>Step three</strong>, you would end up <code>[3,4,1,2]</code></p>\n"},{"tags":[],"owner":{"account_id":1183535,"reputation":14118,"user_id":1157935,"accept_rate":83,"display_name":"gipinani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464123457,"creation_date":1464123457,"answer_id":37423750,"question_id":11893053,"body_markdown":"Maybe an old post.. but here you are my solution (where `A` obviously is the array and `K` the number of positions).\r\n\r\n    public int[] solution(int[] A, int K){\r\n\t\tint[] result = new int[A.length];\r\n\t\t\r\n\t\tfor (int i = 0; i&lt;A.length; i++){\r\n\t\t\tresult[(i+K)%A.length] = A[i];\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"circular left shift of an array by n positions in java","body":"<p>Maybe an old post.. but here you are my solution (where <code>A</code> obviously is the array and <code>K</code> the number of positions).</p>\n\n<pre><code>public int[] solution(int[] A, int K){\n    int[] result = new int[A.length];\n\n    for (int i = 0; i&lt;A.length; i++){\n        result[(i+K)%A.length] = A[i];\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485554,"reputation":21,"user_id":7052025,"display_name":"Joanne Agustin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1493272761,"creation_date":1493272761,"answer_id":43649698,"question_id":11893053,"body_markdown":"Java 8 version:\r\n\r\n    public class Sample {\r\n\t   public static void main(String[] args) {\r\n\t\t int[] answer = solution(new int[] {1,2,3,4}, 2);\r\n\t\t Arrays.stream(answer).forEach(System.out::print);\r\n\t   }\r\n\r\n\t   public static int[] solution(int[] A, int K) {\r\n\t\t List&lt;Integer&gt; numbers = \r\n         IntStream.of(A).boxed().collect(Collectors.toList());\r\n\t\t Collections.rotate(numbers, K);\r\n\t\t return numbers.stream().mapToInt(n -&gt; n).toArray();\r\n\t  }\r\n    }\r\n","title":"circular left shift of an array by n positions in java","body":"<p>Java 8 version:</p>\n\n<pre><code>public class Sample {\n   public static void main(String[] args) {\n     int[] answer = solution(new int[] {1,2,3,4}, 2);\n     Arrays.stream(answer).forEach(System.out::print);\n   }\n\n   public static int[] solution(int[] A, int K) {\n     List&lt;Integer&gt; numbers = \n     IntStream.of(A).boxed().collect(Collectors.toList());\n     Collections.rotate(numbers, K);\n     return numbers.stream().mapToInt(n -&gt; n).toArray();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581220307,"creation_date":1581220307,"answer_id":60133308,"question_id":11893053,"body_markdown":"Below I have implemented a sample solution to left shift or right shift the array by n element.\r\n\r\n    class RotateArrayByN {\r\n        \r\n        public void leftRotate(int arr[], int d, int n)\r\n        {\r\n            for (int i = 0; i &lt; d; i++)\r\n                leftRotatebyOne(arr, n);\r\n        }\r\n    \r\n        public void rightRotate(int[] arr,int d, int n){\r\n            for(int i=0;i&lt;d;i++)\r\n                rightRotatebyOne(arr,n);\r\n        }\r\n    \r\n        public void leftRotatebyOne(int arr[], int n)\r\n        {\r\n            int i, temp;\r\n            temp = arr[0];\r\n            for (i = 0; i &lt; n - 1; i++)\r\n                arr[i] = arr[i + 1];\r\n            arr[i] = temp;\r\n        }\r\n    \r\n        public void rightRotatebyOne(int[] arr,int n){\r\n    \r\n            int temp=arr[n-1];\r\n            for (int i=n-1;i&gt;0;i--) {\r\n                arr[i] = arr[i - 1];\r\n            }\r\n            arr[0]=temp;\r\n    \r\n        }\r\n        \r\n      public void printArray(int arr[], int n)\r\n        {\r\n            for (int i = 0; i &lt; n; i++)\r\n                System.out.print(arr[i] + &quot; &quot;);\r\n    \r\n            System.out.println();\r\n        }\r\n    \r\n        \r\n        public static void main(String[] args)\r\n        {\r\n            RotateArrayByN rotate = new RotateArrayByN();\r\n            int arr[] = { 1, 2, 3, 4, 5, 6, 7 };\r\n            System.out.println(&quot;Left Rotate&quot;);\r\n            rotate.leftRotate(arr, 2, 7);\r\n            rotate.printArray(arr, 7);\r\n    \r\n           //System.out.println(&quot;Right Rotate&quot;);\r\n            //rotate.rightRotate(arr,2,7);\r\n           // rotate.printArray(arr,7);\r\n        }\r\n    } \r\n\r\nI have commented out the right shift.\r\n\r\n  ","title":"circular left shift of an array by n positions in java","body":"<p>Below I have implemented a sample solution to left shift or right shift the array by n element.</p>\n\n<pre><code>class RotateArrayByN {\n\n    public void leftRotate(int arr[], int d, int n)\n    {\n        for (int i = 0; i &lt; d; i++)\n            leftRotatebyOne(arr, n);\n    }\n\n    public void rightRotate(int[] arr,int d, int n){\n        for(int i=0;i&lt;d;i++)\n            rightRotatebyOne(arr,n);\n    }\n\n    public void leftRotatebyOne(int arr[], int n)\n    {\n        int i, temp;\n        temp = arr[0];\n        for (i = 0; i &lt; n - 1; i++)\n            arr[i] = arr[i + 1];\n        arr[i] = temp;\n    }\n\n    public void rightRotatebyOne(int[] arr,int n){\n\n        int temp=arr[n-1];\n        for (int i=n-1;i&gt;0;i--) {\n            arr[i] = arr[i - 1];\n        }\n        arr[0]=temp;\n\n    }\n\n  public void printArray(int arr[], int n)\n    {\n        for (int i = 0; i &lt; n; i++)\n            System.out.print(arr[i] + \" \");\n\n        System.out.println();\n    }\n\n\n    public static void main(String[] args)\n    {\n        RotateArrayByN rotate = new RotateArrayByN();\n        int arr[] = { 1, 2, 3, 4, 5, 6, 7 };\n        System.out.println(\"Left Rotate\");\n        rotate.leftRotate(arr, 2, 7);\n        rotate.printArray(arr, 7);\n\n       //System.out.println(\"Right Rotate\");\n        //rotate.rightRotate(arr,2,7);\n       // rotate.printArray(arr,7);\n    }\n} \n</code></pre>\n\n<p>I have commented out the right shift.</p>\n"},{"tags":[],"owner":{"account_id":18125497,"reputation":176,"user_id":13181058,"display_name":"ehtio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609977253,"creation_date":1609977253,"answer_id":65604870,"question_id":11893053,"body_markdown":"I know it is an old post but I didn&#39;t see this posted anywhere so:\r\n\r\n*d is how many positions we want to shift to the left.*\r\n\r\n        int[] array = {1,2,3,4,5,6,7,8};\r\n        int length = array.length;\r\n        int d = 3;\r\n        int[] ans = new int[length];        \r\n   \r\n        for (int i = 0; i &lt; length; i++){\r\n            ans[i] = array[(i + d)%length];\r\n        }\r\n        System.out.println(Arrays.toString(ans));\r\nIt will output: [4, 5, 6, 7, 8, 1, 2, 3]\r\n\r\nYou can see the code in action here: http://tpcg.io/8cS6GIKI\r\n\r\n**Edited**: Nevermind...I cannot read. I just saw the OP is asking for only 1 Array. My bad. I will leave my answer just in case it can help somebody.","title":"circular left shift of an array by n positions in java","body":"<p>I know it is an old post but I didn't see this posted anywhere so:</p>\n<p><em>d is how many positions we want to shift to the left.</em></p>\n<pre><code>    int[] array = {1,2,3,4,5,6,7,8};\n    int length = array.length;\n    int d = 3;\n    int[] ans = new int[length];        \n\n    for (int i = 0; i &lt; length; i++){\n        ans[i] = array[(i + d)%length];\n    }\n    System.out.println(Arrays.toString(ans));\n</code></pre>\n<p>It will output: [4, 5, 6, 7, 8, 1, 2, 3]</p>\n<p>You can see the code in action here: <a href=\"http://tpcg.io/8cS6GIKI\" rel=\"nofollow noreferrer\">http://tpcg.io/8cS6GIKI</a></p>\n<p><strong>Edited</strong>: Nevermind...I cannot read. I just saw the OP is asking for only 1 Array. My bad. I will leave my answer just in case it can help somebody.</p>\n"},{"tags":[],"owner":{"account_id":10002323,"reputation":1,"user_id":7397839,"display_name":"NaveeN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623132409,"creation_date":1623127008,"answer_id":67881479,"question_id":11893053,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class ArrayMoveByGivenSize {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\r\n\t\tint[] A = new int[] {100,200,300,400,500,600};\r\n\t\t//movement = 2\r\n\t\t//output {500,600,100,200,300,400}\r\n\r\n\t\tSystem.out.println(&quot;Please enter the movement size&quot;);\r\n\t\tint s;\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\ts= sc.nextInt();\r\n\t\tSystem.out.println(s);\r\n\t\tint[] X = new int[A.length];\r\n\t\tfor (int i=0;i&lt;A.length;i++)\r\n\t\t{\r\n\t\t\tif((i+s)&lt;A.length)\r\n\t\t\t{\r\n\t\t\t\tX[i+s]=A[i];\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tX[(i+s) - A.length]=A[i] ; \t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i =0;i&lt;X.length ; i++)\r\n\t\tSystem.out.println(X[i]);\r\n\t\t\r\n\t}\r\n}\r\n```","title":"circular left shift of an array by n positions in java","body":"<pre><code>import java.util.Scanner;\n\npublic class ArrayMoveByGivenSize {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        \n        int[] A = new int[] {100,200,300,400,500,600};\n        //movement = 2\n        //output {500,600,100,200,300,400}\n\n        System.out.println(&quot;Please enter the movement size&quot;);\n        int s;\n        Scanner sc = new Scanner(System.in);\n        s= sc.nextInt();\n        System.out.println(s);\n        int[] X = new int[A.length];\n        for (int i=0;i&lt;A.length;i++)\n        {\n            if((i+s)&lt;A.length)\n            {\n                X[i+s]=A[i];\n            }\n            else\n            {\n                X[(i+s) - A.length]=A[i] ;  \n            }\n            \n        }\n        for(int i =0;i&lt;X.length ; i++)\n        System.out.println(X[i]);\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440106,"reputation":692,"user_id":1360500,"display_name":"didou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640097666,"creation_date":1640097666,"answer_id":70437221,"question_id":11893053,"body_markdown":"I know it is an old post, however here is an optimal solution in O(n): each element is moved exactly once and no extra space is needed. It is very similar to the solution proposed by @SomeStrangeUser but no requires gcd computation.\r\n\r\n```\r\npublic static void shiftArray(int[] A, int k) {\r\n    if (A.length == 0) {\r\n        return;\r\n    }\r\n    k = k % A.length;\r\n    k = (k + A.length) % A.length; // ensure k is positive\r\n    if (k == 0) {\r\n        return;\r\n    }\r\n    int i = 0, i0 = 0;\r\n    int x = A[0];\r\n    for (int u = 0; u &lt; A.length; u++) { // count number of shifted elements\r\n        int j = (i - k + A.length) % A.length; // ensure modulo is positive\r\n        if (j == i0) { // end of a (sub-)cycle, advance to next one\r\n            A[i] = x;\r\n            x = A[i = ++i0];\r\n        } else {\r\n            A[i] = A[j];\r\n            i = j;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"circular left shift of an array by n positions in java","body":"<p>I know it is an old post, however here is an optimal solution in O(n): each element is moved exactly once and no extra space is needed. It is very similar to the solution proposed by @SomeStrangeUser but no requires gcd computation.</p>\n<pre><code>public static void shiftArray(int[] A, int k) {\n    if (A.length == 0) {\n        return;\n    }\n    k = k % A.length;\n    k = (k + A.length) % A.length; // ensure k is positive\n    if (k == 0) {\n        return;\n    }\n    int i = 0, i0 = 0;\n    int x = A[0];\n    for (int u = 0; u &lt; A.length; u++) { // count number of shifted elements\n        int j = (i - k + A.length) % A.length; // ensure modulo is positive\n        if (j == i0) { // end of a (sub-)cycle, advance to next one\n            A[i] = x;\n            x = A[i = ++i0];\n        } else {\n            A[i] = A[j];\n            i = j;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1736377,"reputation":91,"user_id":1588850,"display_name":"user1588850"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26738,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":15,"score":9,"last_activity_date":1640097666,"creation_date":1344552127,"question_id":11893053,"body_markdown":"I am trying to do the circular left shift of an array by n positions using only a single 1D array. I can do it in two arrays, but I haven&#39;t figured out how to do it using one. Please give your suggestions\r\n \r\n","title":"circular left shift of an array by n positions in java","body":"<p>I am trying to do the circular left shift of an array by n positions using only a single 1D array. I can do it in two arrays, but I haven't figured out how to do it using one. Please give your suggestions</p>\n"},{"tags":["java","spring-boot","jpa","h2"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1640096287,"post_id":70436818,"comment_id":124510726,"body_markdown":"&quot;When I try to create a new product by post method&quot;, &quot;should be able to read or write it&#39;s categoryId&quot;, ...please show!!...&quot;but I can&#39;t&quot;...please show/explain ... But my subtle guess already: who sets the id??(what data is already in db?..;)","body":"&quot;When I try to create a new product by post method&quot;, &quot;should be able to read or write it&#39;s categoryId&quot;, ...please show!!...&quot;but I can&#39;t&quot;...please show/explain ... But my subtle guess already: who sets the id??(what data is already in db?..;)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640688517,"post_id":70436818,"comment_id":124632958,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640097454,"creation_date":1640097454,"answer_id":70437175,"question_id":70436818,"body_markdown":"You should not be able to write its categoryId, but you need a getter and a setter for `Product.category`. To change the category of a product, you would do `product.setCategory(newCategory)`. If you want to READ the category ID of a product, you also need to add a getter for `Category.id`; you would then do: `product.getCategory().getId()`.","title":"Joining two entities in spring-boot","body":"<p>You should not be able to write its categoryId, but you need a getter and a setter for <code>Product.category</code>. To change the category of a product, you would do <code>product.setCategory(newCategory)</code>. If you want to READ the category ID of a product, you also need to add a getter for <code>Category.id</code>; you would then do: <code>product.getCategory().getId()</code>.</p>\n"}],"owner":{"account_id":23710893,"reputation":1,"user_id":17732785,"display_name":"zencc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1640097454,"creation_date":1640095881,"question_id":70436818,"body_markdown":"I have a category table that have its own unique id and name,\r\nI have a product table that have its own unique id, name, price and categoryId.\r\n\r\nCategory.java\r\n\r\n        @Entity\r\n        public class Category {\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue\r\n        \tprivate long id;\r\n        \t\r\n        \tprivate String name;\r\n        \t\r\n        \t@OneToMany(fetch=FetchType.LAZY, mappedBy = &quot;category&quot;)\r\n        \tprivate Set&lt;Product&gt; products;\r\n            //getters and setters\r\n    }\r\nProduct.java\t\r\n\r\n    @Entity\r\n    public class Product {\r\n    \t\r\n    \t@Id\r\n    \tprivate long productId;\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate double price;\r\n    \t\r\n    \t@ManyToOne(fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;categoryId&quot;)\r\n    \tprivate Category category;\t\r\n    \t\r\n    \tpublic Product() {\r\n    \t}\r\n    \r\n    \tpublic Product(long productId, String name, double price) {\r\n    \t\tsuper();\r\n    \t\tthis.productId = productId;\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \tpublic long getProductId() {\r\n    \t\treturn productId;\r\n    \t}\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    }\r\n\r\nWhen I try to create a new product by post method, I should be able to read or write it&#39;s categoryId, but I can&#39;t. What am I doing it wrong?","title":"Joining two entities in spring-boot","body":"<p>I have a category table that have its own unique id and name,\nI have a product table that have its own unique id, name, price and categoryId.</p>\n<p>Category.java</p>\n<pre><code>    @Entity\n    public class Category {\n    \n        @Id\n        @GeneratedValue\n        private long id;\n        \n        private String name;\n        \n        @OneToMany(fetch=FetchType.LAZY, mappedBy = &quot;category&quot;)\n        private Set&lt;Product&gt; products;\n        //getters and setters\n}\n</code></pre>\n<p>Product.java</p>\n<pre><code>@Entity\npublic class Product {\n    \n    @Id\n    private long productId;\n    \n    private String name;\n    private double price;\n    \n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;categoryId&quot;)\n    private Category category;  \n    \n    public Product() {\n    }\n\n    public Product(long productId, String name, double price) {\n        super();\n        this.productId = productId;\n        this.name = name;\n        this.price = price;\n    }\n\n    public long getProductId() {\n        return productId;\n    }\n    \n    public String getName() {\n        return name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n}\n</code></pre>\n<p>When I try to create a new product by post method, I should be able to read or write it's categoryId, but I can't. What am I doing it wrong?</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-sleuth","distributed-tracing"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1640107440,"post_id":70436715,"comment_id":124515306,"body_markdown":"I think you lose the id because the execution of doOnSuccess is performed in different thread that doesn&#39;t posess the context you need (in this case, `ServerWebExchange exchange, GatewayFilterChain chain` objects). So just log in the filter method only, like you have done with other logging","body":"I think you lose the id because the execution of doOnSuccess is performed in different thread that doesn&#39;t posess the context you need (in this case, <code>ServerWebExchange exchange, GatewayFilterChain chain</code> objects). So just log in the filter method only, like you have done with other logging"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1640117883,"post_id":70436715,"comment_id":124518852,"body_markdown":"Could you please try a different instrumentation mode for reactor https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/htmlsingle/spring-cloud-sleuth.html#sleuth-reactor-integration\nI recommend DECORATE_QUEUES","body":"Could you please try a different instrumentation mode for reactor <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/htmlsingle/spring-cloud-sleuth.html#sleuth-reactor-integration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-sleuth/docs/current/reference/&hellip;</a> I recommend DECORATE_QUEUES"}],"owner":{"account_id":15716927,"reputation":97,"user_id":11340909,"display_name":"shalabh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640097317,"creation_date":1640095468,"question_id":70436715,"body_markdown":"doOnSuccess method of Mono class is not logging the sleuth correlationId in logs. \r\n**Response recieved from http://localhost:8080/testController/test** is the log statement where correlationId should have been logged.\r\n\r\nI have also checked the [documentation of Mono][1] class but could not figure out why doOnSuccess method is outside of sleuth.\r\n```\r\nDEBUG|CustomLogEvent||||[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] HTTP GET &quot;/testController/test&quot;\r\nDEBUG|CustomLogEvent||||Received a request to uri [/testController/test]\r\nDEBUG|CustomLogEvent||||Handled receive of span NoopSpan(91e1905bb164f0d5/91e1905bb164f0d5)\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Route matched: 4b1a1440-160f-4429-902c-3f6508d2023c\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Mapping [Exchange: GET http://localhost:8080/testController/test] to Route{id=&#39;4b1a1440-160f-4429-902c-3f6508d2023c&#39;, uri=http://localhost:9801, order=0, predicate=Paths: [/testController/**], match trailing slash: true, gatewayFilters=[], metadata={}}\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e61d1ee\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1291aab5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@13278a41}, order = -2147482648], [GatewayFilterAdapter{delegate=com.poc.gateway.filters.PreFilter@a3cba3a}, order = -2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ca4dce5}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7eb27768}, order = 0], [GatewayFilterAdapter{delegate=com.poc.gateway.filters.PostFilter@224d86d2}, order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@7d133fb7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@5e3db14}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6169be09}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2aea717c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@40bd0f8}, order = 2147483647]]\r\nINFO|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|PreFilter executed.\r\nINFO|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|PostFilter executed.\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.workdir: /var/folders/3r/hp4w8pn55yg5l9h4yv8pvrwh0000gn/T (io.netty.tmpdir)\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.deleteLibAfterLoading: true\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.tryPatchShadedId: true\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Successfully loaded the library /var/folders/3r/hp4w8pn55yg5l9h4yv8pvrwh0000gn/T/libnetty_resolver_dns_native_macos_x86_647557281057916852695.dylib\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider: available\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [localhost:9801]\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[d3ca45ea] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.\r\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[d3ca45ea] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\nDEBUG|CustomLogEvent||||[d3ca45ea] Connecting to [localhost/127.0.0.1:9801].\r\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Registering pool release on close event for channel\r\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.\r\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}, [connected])\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [configured])\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Handler is being applied: {uri=http://localhost:9801/testController/test, method=GET}\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [request_prepared])\r\nDEBUG|CustomLogEvent||||Handled send of the netty client span [NoopSpan(91e1905bb164f0d5/1ceb21c766fd48ac)] with parent [91e1905bb164f0d5/91e1905bb164f0d5]\r\nDEBUG|CustomLogEvent||||[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] FluxReceive{pending=0, cancelled=false, inboundDone=true, inboundError=null}: subscribing inbound receiver\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [request_sent])\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Received response (auto-read:false) : [Content-Type=text/html;charset=UTF-8, Date=Tue, 21 Dec 2021 13:42:10 GMT, content-length=27]\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [response_received])\r\nINFO|CustomLogEvent||||Response recieved from http://localhost:8080/testController/test\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] FluxReceive{pending=0, cancelled=false, inboundDone=false, inboundError=null}: subscribing inbound receiver\r\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Received last HTTP packet\r\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [response_completed])\r\nDEBUG|CustomLogEvent||||Handle receive of the netty client span [NoopSpan(91e1905bb164f0d5/1ceb21c766fd48ac)]\r\n```\r\n\r\nFollowing is the code snippet of gateway service.\r\n\r\nPreFilter.java\r\n```\r\npackage com.poc.gateway.filters;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\r\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.server.ServerWebExchange;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Component\r\nclass PreFilter implements GlobalFilter, Ordered {\r\n\t\r\n\tLogger logger = LoggerFactory.getLogger(PreFilter.class);\r\n\r\n\t@Override\r\n\tpublic int getOrder() {\r\n\t\treturn -2;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\t\tlogger.info(&quot;PreFilter executed.&quot;);\r\n\t\treturn chain.filter(exchange);\r\n\t}\r\n\r\n}\r\n```\r\nPostFilter.java\r\n```\r\npackage com.poc.gateway.filters;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\r\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.server.ServerWebExchange;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Component\r\npublic class PostFilter implements GlobalFilter, Ordered{\r\n\t\r\n\tLogger logger = LoggerFactory.getLogger(this.getClass());\r\n\t\r\n\t@Override\r\n\tpublic int getOrder() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\t\tfinal String requestUrl = exchange.getRequest().getURI().toString();\r\n\t\tlogger.info(&quot;PostFilter executed.&quot;);\r\n\t\tMono&lt;Void&gt; output = chain.filter(exchange).doOnSuccess((consumer) -&gt;\r\n\t\tlogger.info(&quot;Response recieved from &quot; + requestUrl));\r\n\t\treturn output;\r\n\t}\r\n}\r\n```\r\nAppConfig.java\r\n```\r\npackage com.poc.gateway.config;\r\n\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n\t\r\n\t@Bean\r\n\tpublic RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\r\n\t\treturn builder.routes()\r\n\t\t\t\t.route(r -&gt; r.path(&quot;/testController/**&quot;)\r\n\t\t\t\t\t\t.uri(&quot;http://localhost:9801&quot;))\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.poc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-gateway&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-gateway&lt;/name&gt;\r\n\t&lt;description&gt;Spring Gateway&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentelemetry.instrumentation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentelemetry-log4j-2.13.2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.2-alpha&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentelemetry-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThanks for your response.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Why Mono doOnSuccess is not logging sleuth correlationId?","body":"<p>doOnSuccess method of Mono class is not logging the sleuth correlationId in logs.\n<strong>Response recieved from http://localhost:8080/testController/test</strong> is the log statement where correlationId should have been logged.</p>\n<p>I have also checked the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">documentation of Mono</a> class but could not figure out why doOnSuccess method is outside of sleuth.</p>\n<pre><code>DEBUG|CustomLogEvent||||[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] HTTP GET &quot;/testController/test&quot;\nDEBUG|CustomLogEvent||||Received a request to uri [/testController/test]\nDEBUG|CustomLogEvent||||Handled receive of span NoopSpan(91e1905bb164f0d5/91e1905bb164f0d5)\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Route matched: 4b1a1440-160f-4429-902c-3f6508d2023c\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Mapping [Exchange: GET http://localhost:8080/testController/test] to Route{id='4b1a1440-160f-4429-902c-3f6508d2023c', uri=http://localhost:9801, order=0, predicate=Paths: [/testController/**], match trailing slash: true, gatewayFilters=[], metadata={}}\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e61d1ee\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1291aab5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@13278a41}, order = -2147482648], [GatewayFilterAdapter{delegate=com.poc.gateway.filters.PreFilter@a3cba3a}, order = -2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ca4dce5}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7eb27768}, order = 0], [GatewayFilterAdapter{delegate=com.poc.gateway.filters.PostFilter@224d86d2}, order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@7d133fb7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@5e3db14}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6169be09}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2aea717c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@40bd0f8}, order = 2147483647]]\nINFO|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|PreFilter executed.\nINFO|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|PostFilter executed.\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.workdir: /var/folders/3r/hp4w8pn55yg5l9h4yv8pvrwh0000gn/T (io.netty.tmpdir)\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.deleteLibAfterLoading: true\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|-Dio.netty.native.tryPatchShadedId: true\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Successfully loaded the library /var/folders/3r/hp4w8pn55yg5l9h4yv8pvrwh0000gn/T/libnetty_resolver_dns_native_macos_x86_647557281057916852695.dylib\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider: available\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [localhost:9801]\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[d3ca45ea] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.\nDEBUG|CustomLogEvent||91e1905bb164f0d5|91e1905bb164f0d5|[d3ca45ea] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\nDEBUG|CustomLogEvent||||[d3ca45ea] Connecting to [localhost/127.0.0.1:9801].\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Registering pool release on close event for channel\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}, [connected])\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [configured])\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Handler is being applied: {uri=http://localhost:9801/testController/test, method=GET}\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [request_prepared])\nDEBUG|CustomLogEvent||||Handled send of the netty client span [NoopSpan(91e1905bb164f0d5/1ceb21c766fd48ac)] with parent [91e1905bb164f0d5/91e1905bb164f0d5]\nDEBUG|CustomLogEvent||||[eb150c1d-1, L:/0:0:0:0:0:0:0:1:8080 - R:/0:0:0:0:0:0:0:1:49557] FluxReceive{pending=0, cancelled=false, inboundDone=true, inboundError=null}: subscribing inbound receiver\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [request_sent])\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Received response (auto-read:false) : [Content-Type=text/html;charset=UTF-8, Date=Tue, 21 Dec 2021 13:42:10 GMT, content-length=27]\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [response_received])\nINFO|CustomLogEvent||||Response recieved from http://localhost:8080/testController/test\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] FluxReceive{pending=0, cancelled=false, inboundDone=false, inboundError=null}: subscribing inbound receiver\nDEBUG|CustomLogEvent||||[d3ca45ea-1, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] Received last HTTP packet\nDEBUG|CustomLogEvent||||[d3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801] onStateChange(GET{uri=/testController/test, connection=PooledConnection{channel=[id: 0xd3ca45ea, L:/127.0.0.1:49558 - R:localhost/127.0.0.1:9801]}}, [response_completed])\nDEBUG|CustomLogEvent||||Handle receive of the netty client span [NoopSpan(91e1905bb164f0d5/1ceb21c766fd48ac)]\n</code></pre>\n<p>Following is the code snippet of gateway service.</p>\n<p>PreFilter.java</p>\n<pre><code>package com.poc.gateway.filters;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\n\nimport reactor.core.publisher.Mono;\n\n@Component\nclass PreFilter implements GlobalFilter, Ordered {\n    \n    Logger logger = LoggerFactory.getLogger(PreFilter.class);\n\n    @Override\n    public int getOrder() {\n        return -2;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        logger.info(&quot;PreFilter executed.&quot;);\n        return chain.filter(exchange);\n    }\n\n}\n</code></pre>\n<p>PostFilter.java</p>\n<pre><code>package com.poc.gateway.filters;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\n\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class PostFilter implements GlobalFilter, Ordered{\n    \n    Logger logger = LoggerFactory.getLogger(this.getClass());\n    \n    @Override\n    public int getOrder() {\n        return 1;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        final String requestUrl = exchange.getRequest().getURI().toString();\n        logger.info(&quot;PostFilter executed.&quot;);\n        Mono&lt;Void&gt; output = chain.filter(exchange).doOnSuccess((consumer) -&gt;\n        logger.info(&quot;Response recieved from &quot; + requestUrl));\n        return output;\n    }\n}\n</code></pre>\n<p>AppConfig.java</p>\n<pre><code>package com.poc.gateway.config;\n\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class AppConfig {\n    \n    @Bean\n    public RouteLocator gatewayRoutes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/testController/**&quot;)\n                        .uri(&quot;http://localhost:9801&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.poc&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-gateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-gateway&lt;/name&gt;\n    &lt;description&gt;Spring Gateway&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry.instrumentation&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-log4j-2.13.2&lt;/artifactId&gt;\n            &lt;version&gt;1.7.2-alpha&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Thanks for your response.</p>\n"},{"tags":["java","mongodb","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":5653616,"reputation":660,"user_id":4473413,"display_name":"Y.M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574355877,"creation_date":1574355877,"answer_id":58980142,"question_id":58929524,"body_markdown":"your code cannot compile even without the mapper. Lombok complains that the @Builder in B class has incompatible type returned: \r\n&gt; The return type is incompatible with A.builder()\r\n\r\nbecause .builder() method is static, it cannot use inheritance mechanism.\r\n\r\nanother solution is to use @Getter on A class and @Setter on B class and let mapstruct do the mapping for you.\r\n\r\n","title":"Mapstruct generated class uses Lombok builder from parent instead of child","body":"<p>your code cannot compile even without the mapper. Lombok complains that the @Builder in B class has incompatible type returned: </p>\n\n<blockquote>\n  <p>The return type is incompatible with A.builder()</p>\n</blockquote>\n\n<p>because .builder() method is static, it cannot use inheritance mechanism.</p>\n\n<p>another solution is to use @Getter on A class and @Setter on B class and let mapstruct do the mapping for you.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574633976,"creation_date":1574633976,"answer_id":59022994,"question_id":58929524,"body_markdown":"`@Builder` does not work well in combination with inheritance. However, mapstruct also works with `@SuperBuilder`, which is designed for such a use case.\r\n\r\nRemove all `@Builder`s and put `@SuperBuilder` on all classes along the inheritance hierarchy.","title":"Mapstruct generated class uses Lombok builder from parent instead of child","body":"<p><code>@Builder</code> does not work well in combination with inheritance. However, mapstruct also works with <code>@SuperBuilder</code>, which is designed for such a use case.</p>\n\n<p>Remove all <code>@Builder</code>s and put <code>@SuperBuilder</code> on all classes along the inheritance hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":118287,"reputation":175,"user_id":309213,"display_name":"Pedro Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611441905,"creation_date":1611441905,"answer_id":65865255,"question_id":58929524,"body_markdown":"\r\nIt&#39;s possible disable the builder, see the manual https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders\r\n\r\n&gt; In case you want to disable using builders then you can use the NoOpBuilderProvider by creating a org.mapstruct.ap.spi.BuilderProvider file in the META-INF/services directory with org.mapstruct.ap.spi.NoOpBuilderProvider as it’s content.\r\n\r\nthis resolve the issue","title":"Mapstruct generated class uses Lombok builder from parent instead of child","body":"<p>It's possible disable the builder, see the manual <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders</a></p>\n<blockquote>\n<p>In case you want to disable using builders then you can use the NoOpBuilderProvider by creating a org.mapstruct.ap.spi.BuilderProvider file in the META-INF/services directory with org.mapstruct.ap.spi.NoOpBuilderProvider as it’s content.</p>\n</blockquote>\n<p>this resolve the issue</p>\n"},{"tags":[],"owner":{"account_id":15684809,"reputation":35,"user_id":11317798,"display_name":"Mykhailo Yablon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640097299,"creation_date":1640097299,"answer_id":70437140,"question_id":58929524,"body_markdown":"Had the same problem. Solved it by adding `@SuperBuilder` annotation to child as well","title":"Mapstruct generated class uses Lombok builder from parent instead of child","body":"<p>Had the same problem. Solved it by adding <code>@SuperBuilder</code> annotation to child as well</p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1640097299,"creation_date":1574151892,"question_id":58929524,"body_markdown":"I have class A (domain class), class B (mongo db repository layer class) extends A and both of them have Lombok @Builder on them. I need to convert between them and when I use Mapstruct for this, the implementation conversion class uses Builder from A when generating object of type B. This results in build failure due to &quot;incompatible types&quot;. How to fix this? \r\n\r\n````\r\n@Builder\r\nclass A {\r\n\r\n}\r\n\r\n@Document\r\n@Builder\r\nclass B extends A{\r\n}\r\n\r\n@Mapper\r\npublic interface ClassMapper {\r\n   B mapToDocument(A domainObject);\r\n}\r\n````\r\n\r\nThis code generates the following Mapstruct file:\r\n\r\n````\r\npublic class ClassMapperImpl implements ClassMapper{\r\n   @Override\r\n   public B mapToDocument(A domainObject){\r\n      if(domainObject == null){\r\n         return null;\r\n      }\r\n      Builder builder = A.builder();\r\n      //builder methods\r\n      return builder.build(); //incompatible types due to builder generating A objects, not B\r\n   }\r\n}\r\n````","title":"Mapstruct generated class uses Lombok builder from parent instead of child","body":"<p>I have class A (domain class), class B (mongo db repository layer class) extends A and both of them have Lombok @Builder on them. I need to convert between them and when I use Mapstruct for this, the implementation conversion class uses Builder from A when generating object of type B. This results in build failure due to \"incompatible types\". How to fix this? </p>\n\n<pre><code>@Builder\nclass A {\n\n}\n\n@Document\n@Builder\nclass B extends A{\n}\n\n@Mapper\npublic interface ClassMapper {\n   B mapToDocument(A domainObject);\n}\n</code></pre>\n\n<p>This code generates the following Mapstruct file:</p>\n\n<pre><code>public class ClassMapperImpl implements ClassMapper{\n   @Override\n   public B mapToDocument(A domainObject){\n      if(domainObject == null){\n         return null;\n      }\n      Builder builder = A.builder();\n      //builder methods\n      return builder.build(); //incompatible types due to builder generating A objects, not B\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640097121,"creation_date":1640085136,"answer_id":70434533,"question_id":70432809,"body_markdown":"With an upgrade from Spring Boot 2.4 to 2.6, you also upgrade Jackson from 2.11 to 2.13. And Jackson 2.12 contains the following change: https://github.com/FasterXML/jackson-databind/issues/2683\r\n\r\nThis produces the error message that you are seeing as the JSR 310 module is now compulsary if the corresponding date times are used.\r\n\r\nYou should only be affected by this, when you configure your own `ObjectMapper` such that the auto-configured one backs off. At the point where you configure that `ObjectMapper`, you need to explicitly add the JSR 310 module. That can be done with code like this:\r\n\r\n    objectMapper.registerModule(new JavaTimeModule());\r\n\r\nThere is also is a somewhat lengthy but insightful discussion on github about this: https://github.com/spring-projects/spring-boot/issues/26859","title":"Upgrading Spring Boot from 2.4.1 to 2.6.1, getting `java.time.Instant` not supported by default error","body":"<p>With an upgrade from Spring Boot 2.4 to 2.6, you also upgrade Jackson from 2.11 to 2.13. And Jackson 2.12 contains the following change: <a href=\"https://github.com/FasterXML/jackson-databind/issues/2683\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2683</a></p>\n<p>This produces the error message that you are seeing as the JSR 310 module is now compulsary if the corresponding date times are used.</p>\n<p>You should only be affected by this, when you configure your own <code>ObjectMapper</code> such that the auto-configured one backs off. At the point where you configure that <code>ObjectMapper</code>, you need to explicitly add the JSR 310 module. That can be done with code like this:</p>\n<pre><code>objectMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>There is also is a somewhat lengthy but insightful discussion on github about this: <a href=\"https://github.com/spring-projects/spring-boot/issues/26859\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/26859</a></p>\n"}],"owner":{"account_id":18443169,"reputation":59,"user_id":13435246,"display_name":"Bapu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640097121,"creation_date":1640077076,"question_id":70432809,"body_markdown":"When I upgrade the Spring Boot App from 2.4.1 to 2.6.1. I got the below error.\r\n\r\n&gt;com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: org.springframework.boot.actuate.trace.http.HttpTrace[&quot;timestamp&quot;])","title":"Upgrading Spring Boot from 2.4.1 to 2.6.1, getting `java.time.Instant` not supported by default error","body":"<p>When I upgrade the Spring Boot App from 2.4.1 to 2.6.1. I got the below error.</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type <code>java.time.Instant</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: org.springframework.boot.actuate.trace.http.HttpTrace[&quot;timestamp&quot;])</p>\n</blockquote>\n"},{"tags":["java","android","service","handler"],"comments":[{"owner":{"account_id":3480778,"reputation":287,"user_id":2912900,"accept_rate":60,"display_name":"user2912900"},"score":0,"creation_date":1433407094,"post_id":30629071,"comment_id":49342282,"body_markdown":"@AnixPasBesoin Sorry, it was late just checked back in again! Thanks for your reply &lt;3","body":"@AnixPasBesoin Sorry, it was late just checked back in again! Thanks for your reply &lt;3"}],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1640096964,"creation_date":1433360984,"answer_id":30629349,"question_id":30629071,"body_markdown":"Here&#39;s how you do it:\r\n\r\n# Service side\r\n\r\n    // Supposing that your value is an integer declared somewhere as: int myInteger;\r\n    private void sendMessage() {\r\n      // The string &quot;my-message&quot; will be used to filer the intent\r\n      Intent intent = new Intent(&quot;my-message&quot;);\r\n      // Adding some data\r\n      intent.putExtra(&quot;my-integer&quot;, myInteger);\r\n      LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\r\n    }\r\n\r\n# Activity side\r\n\r\n    @Override\r\n    public void onResume() {\r\n      super.onResume();\r\n      // This registers messageReceiver to receive messages.\r\n      LocalBroadcastManager.getInstance(this)\r\n                           .registerReceiver(messageReceiver, new IntentFilter(&quot;my-message&quot;));\r\n    }\r\n    \r\n    // Handling the received Intents for the &quot;my-integer&quot; event \r\n    private BroadcastReceiver messageReceiver = new BroadcastReceiver() {\r\n      @Override\r\n      public void onReceive(Context context, Intent intent) {\r\n        // Extract data included in the Intent\r\n        int yourInteger = intent.getIntExtra(&quot;my-integer&quot;, -1); // -1 is going to be used as the default value\r\n      }\r\n    };\r\n        \r\n    @Override\r\n    protected void onPause() {\r\n      // Unregister since the activity is not visible\r\n      LocalBroadcastManager.getInstance(this).unregisterReceiver(messageReceiver);\r\n      super.onPause();\r\n    }","title":"Sending a simple message from Service to Activity","body":"<p>Here's how you do it:</p>\n<h1>Service side</h1>\n<pre><code>// Supposing that your value is an integer declared somewhere as: int myInteger;\nprivate void sendMessage() {\n  // The string &quot;my-message&quot; will be used to filer the intent\n  Intent intent = new Intent(&quot;my-message&quot;);\n  // Adding some data\n  intent.putExtra(&quot;my-integer&quot;, myInteger);\n  LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n}\n</code></pre>\n<h1>Activity side</h1>\n<pre><code>@Override\npublic void onResume() {\n  super.onResume();\n  // This registers messageReceiver to receive messages.\n  LocalBroadcastManager.getInstance(this)\n                       .registerReceiver(messageReceiver, new IntentFilter(&quot;my-message&quot;));\n}\n\n// Handling the received Intents for the &quot;my-integer&quot; event \nprivate BroadcastReceiver messageReceiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Extract data included in the Intent\n    int yourInteger = intent.getIntExtra(&quot;my-integer&quot;, -1); // -1 is going to be used as the default value\n  }\n};\n    \n@Override\nprotected void onPause() {\n  // Unregister since the activity is not visible\n  LocalBroadcastManager.getInstance(this).unregisterReceiver(messageReceiver);\n  super.onPause();\n}\n</code></pre>\n"}],"owner":{"account_id":3480778,"reputation":287,"user_id":2912900,"accept_rate":60,"display_name":"user2912900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13832,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30629349,"answer_count":1,"score":17,"last_activity_date":1640096964,"creation_date":1433360102,"question_id":30629071,"body_markdown":"I am trying to find a way to send an integer value from my Service to my MainActivity, yet I can&#39;t figure it out with the tutorials on the internet. I am using a Handler to receive my messages which I&#39;m sending from a Thread in my Service.\r\n\r\nMy code for the Thread in the service:\r\n\r\n    private class ServiceThread extends Thread {\r\n        @Override\r\n        public void run() {\r\n            super.run();\r\n            try{\r\n                Log.i(&quot;Service&quot;, &quot;TASK PERFORMED&quot;);\r\n\r\n                int x = 0;\r\n                for (int i = 0; i &lt; 20; i++){\r\n                    x += (random.nextInt(20) + 20);\r\n                }\r\n                theInteger = x/20;\r\n                Message msg = Message.obtain();\r\n                msg.what = MY_RND_INT;\r\n                msg.arg1 = theInteger;\r\n                handler.sendMessage(msg);\r\n            }catch(Exception e){\r\n                e.getMessage();\r\n            }\r\n        }\r\n    }\r\n\r\nMy code for attempting to receive the message:\r\n\r\n    public Messenger mMessenger = new Messenger(new IncomingHandler());\r\n\r\n\r\n    class IncomingHandler extends Handler {\r\n        @Override\r\n        public void handleMessage(Message msg) {\r\n            switch (msg.what) {\r\n                case SimpleService.MY_RND_INT:\r\n                    rndInt.setText(msg.arg1);\r\n                    break;\r\n                default:\r\n                    super.handleMessage(msg);\r\n            }\r\n        }\r\n    }","title":"Sending a simple message from Service to Activity","body":"<p>I am trying to find a way to send an integer value from my Service to my MainActivity, yet I can't figure it out with the tutorials on the internet. I am using a Handler to receive my messages which I'm sending from a Thread in my Service.</p>\n\n<p>My code for the Thread in the service:</p>\n\n<pre><code>private class ServiceThread extends Thread {\n    @Override\n    public void run() {\n        super.run();\n        try{\n            Log.i(\"Service\", \"TASK PERFORMED\");\n\n            int x = 0;\n            for (int i = 0; i &lt; 20; i++){\n                x += (random.nextInt(20) + 20);\n            }\n            theInteger = x/20;\n            Message msg = Message.obtain();\n            msg.what = MY_RND_INT;\n            msg.arg1 = theInteger;\n            handler.sendMessage(msg);\n        }catch(Exception e){\n            e.getMessage();\n        }\n    }\n}\n</code></pre>\n\n<p>My code for attempting to receive the message:</p>\n\n<pre><code>public Messenger mMessenger = new Messenger(new IncomingHandler());\n\n\nclass IncomingHandler extends Handler {\n    @Override\n    public void handleMessage(Message msg) {\n        switch (msg.what) {\n            case SimpleService.MY_RND_INT:\n                rndInt.setText(msg.arg1);\n                break;\n            default:\n                super.handleMessage(msg);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","character"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1640088847,"post_id":70435236,"comment_id":124507795,"body_markdown":"How about `&#39;Tis the season to be jolly`? `Sellers&#39; market`? `Gone surfin&#39;`?","body":"How about <code>&#39;Tis the season to be jolly</code>? <code>Sellers&#39; market</code>? <code>Gone surfin&#39;</code>?"},{"owner":{"account_id":20417160,"reputation":138,"user_id":17667932,"display_name":"Agzam"},"score":0,"creation_date":1640088967,"post_id":70435236,"comment_id":124507834,"body_markdown":"Can you please add 1-3 examples","body":"Can you please add 1-3 examples"},{"owner":{"account_id":21675864,"reputation":1,"user_id":15992842,"display_name":"atiixx"},"score":0,"creation_date":1640089163,"post_id":70435236,"comment_id":124507906,"body_markdown":"This is just a programming excercise so i can ignore things like &quot;surfin&#39;&quot;  &quot;Sellers&#39; market&quot; and all this. But it would be interesting how to handle these as well. Probably manual definition of every word that could have this? But thats unrealistic i guess. I dont know","body":"This is just a programming excercise so i can ignore things like &quot;surfin&#39;&quot;  &quot;Sellers&#39; market&quot; and all this. But it would be interesting how to handle these as well. Probably manual definition of every word that could have this? But thats unrealistic i guess. I dont know"},{"owner":{"account_id":21675864,"reputation":1,"user_id":15992842,"display_name":"atiixx"},"score":0,"creation_date":1640089278,"post_id":70435236,"comment_id":124507955,"body_markdown":"Okay so this method should for example return an empty list if i give it s = &quot;     &#39;&#39;&#39;     &quot;. It should return [&quot;a&quot;, &quot;bbb&quot;, &quot;c&quot;, &quot;won&#39;t&quot;] if i give it s = &quot;a    #bbb&#39; %$ c&#39;     won&#39;t&quot;","body":"Okay so this method should for example return an empty list if i give it s = &quot;     &#39;&#39;&#39;     &quot;. It should return [&quot;a&quot;, &quot;bbb&quot;, &quot;c&quot;, &quot;won&#39;t&quot;] if i give it s = &quot;a    #bbb&#39; %$ c&#39;     won&#39;t&quot;"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1640089863,"post_id":70435236,"comment_id":124508165,"body_markdown":"Add the examples to the question itself, by clicking [edit]. It&#39;s hard to understand in a comment, and some characters disappear in comments.","body":"Add the examples to the question itself, by clicking <a href=\"https://stackoverflow.com/posts/70435236/edit\">edit</a>. It&#39;s hard to understand in a comment, and some characters disappear in comments."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640094525,"post_id":70435236,"comment_id":124509950,"body_markdown":"Does the exercise require the use of regex for this?  It would be fairly easy to loop through a String looking for `&#39;` characters and checking the adjacent characters.","body":"Does the exercise require the use of regex for this?  It would be fairly easy to loop through a String looking for <code>&#39;</code> characters and checking the adjacent characters."},{"owner":{"account_id":21675864,"reputation":1,"user_id":15992842,"display_name":"atiixx"},"score":0,"creation_date":1640094942,"post_id":70435236,"comment_id":124510119,"body_markdown":"Thank you for the reply VGR. It does not require regex necessarly. Its just that i learned regex in university and i wanted to learn it by using it. It would be great to find a solution with regex. \n\nBut i didnt think about just looping through the string and checking adjacent characters. That is a good solution!","body":"Thank you for the reply VGR. It does not require regex necessarly. Its just that i learned regex in university and i wanted to learn it by using it. It would be great to find a solution with regex.   But i didnt think about just looping through the string and checking adjacent characters. That is a good solution!"},{"owner":{"account_id":20417160,"reputation":138,"user_id":17667932,"display_name":"Agzam"},"score":0,"creation_date":1640097049,"post_id":70435236,"comment_id":124511055,"body_markdown":"@atiixx, I&#39;m added variant with `StringBuilder`, this variant faster `~x127` (with `50 000` characters)","body":"@atiixx, I&#39;m added variant with <code>StringBuilder</code>, this variant faster <code>~x127</code> (with <code>50 000</code> characters)"}],"answers":[{"tags":[],"owner":{"account_id":20417160,"reputation":138,"user_id":17667932,"display_name":"Agzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640096552,"creation_date":1640090461,"answer_id":70435643,"question_id":70435236,"body_markdown":"### Code:\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(Arrays.toString(get(&quot;\\&quot;\\&quot;&quot;)));\r\n\t\tSystem.out.println(Arrays.toString(get(&quot;a #bbb&#39; %$ c&#39; won&#39;t&quot;)));\r\n\t}\r\n\r\n\t\r\n\tprivate static String[] get(String s) {\r\n\t\tchar cs[] = s.toCharArray();\r\n\t\tString newString = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; cs.length; i++) {\r\n\t\t\tchar c = cs[i];\r\n\t\t\tif(Character.isWhitespace(c)) { // if character is space-symbol (tab, space, newLine and et al) when we release this on &quot; &quot;\r\n\t\t\t\tnewString += &#39; &#39;;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif(Character.isAlphabetic(c)) { // if character is Alphabetic when we not release this on something\r\n\t\t\t\tnewString += c;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif(i+1 &lt; cs.length &amp;&amp; i &gt; 0) {\r\n\t\t\t\tif(c == &#39;\\&#39;&#39; &amp;&amp; Character.isAlphabetic(cs[i+1])\r\n\t\t\t\t\t\t&amp;&amp; Character.isAlphabetic(cs[i-1])) { // if character is apostrophe and it&#39;s between the letters when we not delete this character \r\n\t\t\t\t\tnewString += c;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString superNewString = &quot;&quot;;\r\n\t\tcs = newString.toCharArray();\r\n\t\tfor (int i = 0; i &lt; cs.length; i++) { // replace double spaces\r\n\t\t\tif(cs[i] == &#39; &#39; &amp;&amp; i &gt; 0) {\r\n\t\t\t\tif(cs[i+1] != &#39; &#39;) {\r\n\t\t\t\t\tsuperNewString += cs[i];\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tsuperNewString += cs[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn superNewString.split(&quot; &quot;);\r\n\t}\r\n}\r\n```\r\n\r\n### Console:\r\n```\r\n[]\r\n[a, bbb, c, won&#39;t]\r\n```\r\n\r\n### Code with `StringBuilder`:\r\n```\r\nprivate static String[] fastGet(String s) {\r\n        char cs[] = s.toCharArray();\r\n        StringBuilder newString = new StringBuilder();\r\n        \r\n        for (int i = 0; i &lt; cs.length; i++) { \r\n            char c = cs[i];\r\n            /*\r\n             * if character is space-symbol (tab, space, newLine and et al)\r\n             * when we release this on &quot; &quot;\r\n             */\r\n            if(Character.isWhitespace(c)) {\r\n                newString.append(&#39; &#39;);\r\n                continue;\r\n            }\r\n            /*\r\n             * if character is Alphabetic\r\n             * when we not release this on something\r\n             */\r\n            if(Character.isAlphabetic(c)) {\r\n                newString.append(c);\r\n                continue;\r\n            }\r\n            if(i+1 &lt; cs.length &amp;&amp; i &gt; 0) {\r\n            \t/*\r\n            \t * if character is apostrophe and it&#39;s between the letters\r\n            \t * when we not delete this character \r\n            \t */\r\n                if(c == &#39;\\&#39;&#39; &amp;&amp; Character.isAlphabetic(cs[i+1])\r\n                        &amp;&amp; Character.isAlphabetic(cs[i-1])) {\r\n                    newString.append(c);\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        \r\n        StringBuilder superNewString = new StringBuilder();\r\n        /*\r\n         * replace double spaces\r\n         */\r\n        for (int i = 0; i &lt; newString.length(); i++) {\r\n            if(newString.charAt(i) == &#39; &#39; &amp;&amp; i &gt; 0) {\r\n                if(newString.charAt(i+1) != &#39; &#39;) {\r\n                    superNewString.append(newString.charAt(i));\r\n                }\r\n            }else {\r\n                superNewString.append(newString.charAt(i));\r\n            }\r\n        }\r\n        return superNewString.toString().split(&quot; &quot;);\r\n    }\r\n```","title":"Check if specific character is inside a word or in front/behind it","body":"<h3>Code:</h3>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(get(&quot;\\&quot;\\&quot;&quot;)));\n        System.out.println(Arrays.toString(get(&quot;a #bbb' %$ c' won't&quot;)));\n    }\n\n    \n    private static String[] get(String s) {\n        char cs[] = s.toCharArray();\n        String newString = &quot;&quot;;\n        for (int i = 0; i &lt; cs.length; i++) {\n            char c = cs[i];\n            if(Character.isWhitespace(c)) { // if character is space-symbol (tab, space, newLine and et al) when we release this on &quot; &quot;\n                newString += ' ';\n                continue;\n            }\n            if(Character.isAlphabetic(c)) { // if character is Alphabetic when we not release this on something\n                newString += c;\n                continue;\n            }\n            if(i+1 &lt; cs.length &amp;&amp; i &gt; 0) {\n                if(c == '\\'' &amp;&amp; Character.isAlphabetic(cs[i+1])\n                        &amp;&amp; Character.isAlphabetic(cs[i-1])) { // if character is apostrophe and it's between the letters when we not delete this character \n                    newString += c;\n                    continue;\n                }\n            }\n        }\n        \n        String superNewString = &quot;&quot;;\n        cs = newString.toCharArray();\n        for (int i = 0; i &lt; cs.length; i++) { // replace double spaces\n            if(cs[i] == ' ' &amp;&amp; i &gt; 0) {\n                if(cs[i+1] != ' ') {\n                    superNewString += cs[i];\n                }\n            }else {\n                superNewString += cs[i];\n            }\n        }\n        return superNewString.split(&quot; &quot;);\n    }\n}\n</code></pre>\n<h3>Console:</h3>\n<pre><code>[]\n[a, bbb, c, won't]\n</code></pre>\n<h3>Code with <code>StringBuilder</code>:</h3>\n<pre><code>private static String[] fastGet(String s) {\n        char cs[] = s.toCharArray();\n        StringBuilder newString = new StringBuilder();\n        \n        for (int i = 0; i &lt; cs.length; i++) { \n            char c = cs[i];\n            /*\n             * if character is space-symbol (tab, space, newLine and et al)\n             * when we release this on &quot; &quot;\n             */\n            if(Character.isWhitespace(c)) {\n                newString.append(' ');\n                continue;\n            }\n            /*\n             * if character is Alphabetic\n             * when we not release this on something\n             */\n            if(Character.isAlphabetic(c)) {\n                newString.append(c);\n                continue;\n            }\n            if(i+1 &lt; cs.length &amp;&amp; i &gt; 0) {\n                /*\n                 * if character is apostrophe and it's between the letters\n                 * when we not delete this character \n                 */\n                if(c == '\\'' &amp;&amp; Character.isAlphabetic(cs[i+1])\n                        &amp;&amp; Character.isAlphabetic(cs[i-1])) {\n                    newString.append(c);\n                    continue;\n                }\n            }\n        }\n        \n        StringBuilder superNewString = new StringBuilder();\n        /*\n         * replace double spaces\n         */\n        for (int i = 0; i &lt; newString.length(); i++) {\n            if(newString.charAt(i) == ' ' &amp;&amp; i &gt; 0) {\n                if(newString.charAt(i+1) != ' ') {\n                    superNewString.append(newString.charAt(i));\n                }\n            }else {\n                superNewString.append(newString.charAt(i));\n            }\n        }\n        return superNewString.toString().split(&quot; &quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":21675864,"reputation":1,"user_id":15992842,"display_name":"atiixx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640096552,"creation_date":1640088552,"question_id":70435236,"body_markdown":"i have a String (not empty) and i want to remove any special characters except the &#39; for words like &quot;won&#39;t&quot; for example and put it in an ArrayList. \r\n\r\nSo i did this:\r\n\r\n        s = s.toLowerCase();\r\n\r\n        //Replace any special characters except &quot; &quot; and &quot;&#39;&quot;. Also remove Multiple spaces\r\n        s = s.replaceAll(&quot;[^a-zA-Z0-9&#39; ]&quot;, &quot;&quot;).trim().replaceAll(&quot; +&quot;, &quot; &quot;);   \r\n        \r\n        List&lt;String&gt; words = new ArrayList&lt;&gt;(Arrays.asList(s.split(&quot; &quot;)));\r\n\r\n\r\nBut now i want to delete every &#39; that is not inside a word. F.e. when i have something like &quot; &#39;hello World&quot;.\r\n\r\nI tried this:\r\n\r\n            for(String word : words){\r\n                //if the &#39; is at the start of the word or after a space or before a space\r\n                if(word.matches(&quot;(?&lt;=^| )&#39;|(?! )&#39;&quot;)){\r\n                    word = word.replaceAll(&quot;&#39;&quot;, &quot;&quot;);\r\n                }\r\n                if(word.length() != 0)\r\n                    //if the word was not only containing &#39; add it to a new ArrayList\r\n                    newwords.add(word);\r\n\r\n            }\r\n\r\nBut that does not work. I just learned about regex and i am having a difficult time.\r\n\r\nIt should also recognize words like &#39;&#39;&#39; for example.\r\n\r\n\r\nEdit:\r\nSome examples:\r\n\r\ns = &quot; &#39;&#39;&#39; &quot;\r\n\r\nreturn: empty List\r\n\r\n____\r\n\r\ns = &quot;a #bbb&#39; %$ c&#39; won&#39;t&quot; \r\n\r\nreturn: [a, bbb, c, won&#39;t]\r\n\r\nThank you for your help!","title":"Check if specific character is inside a word or in front/behind it","body":"<p>i have a String (not empty) and i want to remove any special characters except the ' for words like &quot;won't&quot; for example and put it in an ArrayList.</p>\n<p>So i did this:</p>\n<pre><code>    s = s.toLowerCase();\n\n    //Replace any special characters except &quot; &quot; and &quot;'&quot;. Also remove Multiple spaces\n    s = s.replaceAll(&quot;[^a-zA-Z0-9' ]&quot;, &quot;&quot;).trim().replaceAll(&quot; +&quot;, &quot; &quot;);   \n    \n    List&lt;String&gt; words = new ArrayList&lt;&gt;(Arrays.asList(s.split(&quot; &quot;)));\n</code></pre>\n<p>But now i want to delete every ' that is not inside a word. F.e. when i have something like &quot; 'hello World&quot;.</p>\n<p>I tried this:</p>\n<pre><code>        for(String word : words){\n            //if the ' is at the start of the word or after a space or before a space\n            if(word.matches(&quot;(?&lt;=^| )'|(?! )'&quot;)){\n                word = word.replaceAll(&quot;'&quot;, &quot;&quot;);\n            }\n            if(word.length() != 0)\n                //if the word was not only containing ' add it to a new ArrayList\n                newwords.add(word);\n\n        }\n</code></pre>\n<p>But that does not work. I just learned about regex and i am having a difficult time.</p>\n<p>It should also recognize words like ''' for example.</p>\n<p>Edit:\nSome examples:</p>\n<p>s = &quot; ''' &quot;</p>\n<p>return: empty List</p>\n<hr />\n<p>s = &quot;a #bbb' %$ c' won't&quot;</p>\n<p>return: [a, bbb, c, won't]</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","testing","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640095757,"creation_date":1640095757,"answer_id":70436790,"question_id":70436725,"body_markdown":"Since your `UserDaoImpl` uses Spring annotations (`@Value`, `@PropertySource`, etc), you have to initialize it via Spring to enable their injection. Or else you&#39;d have to supply all these values yourself manually.\r\n\r\nSo in your test you should inject the DAO itself:\r\n\r\n```\r\n@Autowired\r\nprivate UserDao userDao;\r\n```\r\n\r\nOr if you want to go manual way (not recommended), allow setting field `findById` via constructor (recommended) same way you&#39;re passing `template, userMapper`.","title":"Test Dao layer with queries stored in properties file","body":"<p>Since your <code>UserDaoImpl</code> uses Spring annotations (<code>@Value</code>, <code>@PropertySource</code>, etc), you have to initialize it via Spring to enable their injection. Or else you'd have to supply all these values yourself manually.</p>\n<p>So in your test you should inject the DAO itself:</p>\n<pre><code>@Autowired\nprivate UserDao userDao;\n</code></pre>\n<p>Or if you want to go manual way (not recommended), allow setting field <code>findById</code> via constructor (recommended) same way you're passing <code>template, userMapper</code>.</p>\n"}],"owner":{"account_id":22342718,"reputation":77,"user_id":16562270,"display_name":"Yurii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70436790,"answer_count":1,"score":1,"last_activity_date":1640096387,"creation_date":1640095496,"question_id":70436725,"body_markdown":"I&#39;m developing REST App for the IT courses. One of the requirements was to use Spring-JDBC with all queries to be stored in separate properties file. Here is a part of my UserDaoImpl:\r\n\r\n```\r\n@Repository\r\n@RequiredArgsConstructor\r\n@PropertySource(value = &quot;classpath:/user_queries.properties&quot;)\r\n@Log\r\npublic class UserDaoImpl implements UserDao {\r\n\t\r\n\tprivate final NamedParameterJdbcTemplate template;\r\n\tprivate final RowMapper&lt;User&gt; rowMapper;\r\n\t\r\n\t@Value(&quot;${find.by_id}&quot;)\r\n\tprivate String findById;\r\n\r\n\t@Override\r\n\tpublic Optional&lt;User&gt; findById(int id) {\r\n\t\tSqlParameterSource param = new MapSqlParameterSource(&quot;id&quot;, id);\r\n\t\tUser user = null;\r\n\t\ttry {\r\n\t\t\tuser = template.queryForObject(findById, param, BeanPropertyRowMapper.newInstance(User.class));\r\n\t\t} catch (DataAccessException ex) {\r\n\t\t\tString.format(&quot;User with id - %d, not found.&quot;, id);\r\n\t\t}\r\n\t\treturn Optional.ofNullable(user);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nAll method work fine, but troubles started when I wrote my Test to this class:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {TestDBConfiguration.class})\r\npublic class UserDaoTest {\r\n\t\r\n\t@Autowired\r\n\tDataSource dataSource;\r\n\t\r\n\t@Test\r\n\tpublic void findByIdTest() {\r\n\t\tNamedParameterJdbcTemplate template = new NamedParameterJdbcTemplate(dataSource);\r\n\t\tUserRowMapper userMapper = new UserRowMapper();\r\n\t\tUserDao userDao = new UserDaoImpl(template, userMapper);\r\n\t\tUser user = new User(1, &quot;John&quot;, &quot;Doe&quot;,\r\n\t\t\t\t&quot;$2a$04$MzVXtd4o0y4DOlyHMMLMDeE4/eezrsT5Xad.2lmGr/NkCpwBgvn3e&quot;,\r\n\t\t\t\t&quot;jdoe@gmail.com&quot;, true);\r\n\t\tassertEquals(Optional.of(user), userDao.findById(1));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I run this Test my **findById** is always null. Is there any way to run this test and keep all queries inside the separate file?","title":"Test Dao layer with queries stored in properties file","body":"<p>I'm developing REST App for the IT courses. One of the requirements was to use Spring-JDBC with all queries to be stored in separate properties file. Here is a part of my UserDaoImpl:</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@PropertySource(value = &quot;classpath:/user_queries.properties&quot;)\n@Log\npublic class UserDaoImpl implements UserDao {\n    \n    private final NamedParameterJdbcTemplate template;\n    private final RowMapper&lt;User&gt; rowMapper;\n    \n    @Value(&quot;${find.by_id}&quot;)\n    private String findById;\n\n    @Override\n    public Optional&lt;User&gt; findById(int id) {\n        SqlParameterSource param = new MapSqlParameterSource(&quot;id&quot;, id);\n        User user = null;\n        try {\n            user = template.queryForObject(findById, param, BeanPropertyRowMapper.newInstance(User.class));\n        } catch (DataAccessException ex) {\n            String.format(&quot;User with id - %d, not found.&quot;, id);\n        }\n        return Optional.ofNullable(user);\n    }\n    \n}\n</code></pre>\n<p>All method work fine, but troubles started when I wrote my Test to this class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {TestDBConfiguration.class})\npublic class UserDaoTest {\n    \n    @Autowired\n    DataSource dataSource;\n    \n    @Test\n    public void findByIdTest() {\n        NamedParameterJdbcTemplate template = new NamedParameterJdbcTemplate(dataSource);\n        UserRowMapper userMapper = new UserRowMapper();\n        UserDao userDao = new UserDaoImpl(template, userMapper);\n        User user = new User(1, &quot;John&quot;, &quot;Doe&quot;,\n                &quot;$2a$04$MzVXtd4o0y4DOlyHMMLMDeE4/eezrsT5Xad.2lmGr/NkCpwBgvn3e&quot;,\n                &quot;jdoe@gmail.com&quot;, true);\n        assertEquals(Optional.of(user), userDao.findById(1));\n    }\n\n}\n</code></pre>\n<p>When I run this Test my <strong>findById</strong> is always null. Is there any way to run this test and keep all queries inside the separate file?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1603575719,"creation_date":1603574389,"answer_id":64518106,"question_id":64517961,"body_markdown":"I don&#39;t know why you did field injection as well as constructor injection at the same time. You should remove one of them first, for instance:\r\n```\r\n@Service\r\npublic class GuildUsersServiceImpl implements GuildUsersService {\r\n  \r\n  //@Autowired - removed\r\n  private final GuildUsersRepository guildUsersRepository;\r\n\r\n  @Autowired\r\n  private GuildService guildService;\r\n\r\n  @Autowired\r\n  private UserService userService;\r\n\r\n  @Autowired\r\n  private GuildUserRoleTypeService guildUserRoleTypeService;\r\n\r\n  //@Autowired - removed\r\n  public GuildUsersServiceImpl(final GuildUsersRepository guildUsersRepository) {\r\n    this.guildUsersRepository = guildUsersRepository;\r\n  }\r\n\r\n  public GuildUsers create(GuildUsers guildUser) {\r\n    return this.guildUsersRepository.save(guildUser);\r\n  }\r\n}\r\n```\r\n\r\nOR remove the constructor to add:\r\n```\r\n  @Autowired \r\n  private final GuildUsersRepository guildUsersRepository;```","title":"Mocking repository function leads to null pointer exception despite using when and thenReturn","body":"<p>I don't know why you did field injection as well as constructor injection at the same time. You should remove one of them first, for instance:</p>\n<pre><code>@Service\npublic class GuildUsersServiceImpl implements GuildUsersService {\n  \n  //@Autowired - removed\n  private final GuildUsersRepository guildUsersRepository;\n\n  @Autowired\n  private GuildService guildService;\n\n  @Autowired\n  private UserService userService;\n\n  @Autowired\n  private GuildUserRoleTypeService guildUserRoleTypeService;\n\n  //@Autowired - removed\n  public GuildUsersServiceImpl(final GuildUsersRepository guildUsersRepository) {\n    this.guildUsersRepository = guildUsersRepository;\n  }\n\n  public GuildUsers create(GuildUsers guildUser) {\n    return this.guildUsersRepository.save(guildUser);\n  }\n}\n</code></pre>\n<p>OR remove the constructor to add:</p>\n<pre><code>  @Autowired \n  private final GuildUsersRepository guildUsersRepository;```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603611695,"creation_date":1603577415,"answer_id":64518487,"question_id":64517961,"body_markdown":"InjectMock documentation clearly says: &quot;Mockito will try to inject mocks only either by constructor injection, setter injection, or property injection in order and as described below.&quot;\r\n\r\nIn your case, it apparently chooses property injection, hence guildUserRoleTypeService remains uninitialised. Mixing property and constructor injection is not a good idea as pointed above.\r\n\r\nTo improve the general design and testability of your GuildUsersServiceImpl, I would suggest to stick with constructor injection. This way you can:\r\na) Declare all the fields as private final, so they will always be set once the object is created, avoiding race conditions and NPEs.\r\nb) Initialise GuildUsersServiceImpl in the test using a proper constructor rather than InjectMocks.\r\n\r\n","title":"Mocking repository function leads to null pointer exception despite using when and thenReturn","body":"<p>InjectMock documentation clearly says: &quot;Mockito will try to inject mocks only either by constructor injection, setter injection, or property injection in order and as described below.&quot;</p>\n<p>In your case, it apparently chooses property injection, hence guildUserRoleTypeService remains uninitialised. Mixing property and constructor injection is not a good idea as pointed above.</p>\n<p>To improve the general design and testability of your GuildUsersServiceImpl, I would suggest to stick with constructor injection. This way you can:\na) Declare all the fields as private final, so they will always be set once the object is created, avoiding race conditions and NPEs.\nb) Initialise GuildUsersServiceImpl in the test using a proper constructor rather than InjectMocks.</p>\n"},{"tags":[],"owner":{"account_id":2195330,"reputation":451,"user_id":1941180,"display_name":"BuzZin&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640096380,"creation_date":1640096380,"answer_id":70436921,"question_id":64517961,"body_markdown":"Leaving this here for other people that also wasted an afternoon on trying to get a repository to return what they configured. What ended up being the thing I had to do is rather than annotating the repository with `@Mock` I had to use the `@MockBean` annotation for the Mockito/Spring combination to work properly.\r\n\r\nAs per javadoc of `@MockBean`:\r\n\r\n&gt; When @MockBean is used on a field, as well as being registered in the application context, the mock will also be injected into the field.","title":"Mocking repository function leads to null pointer exception despite using when and thenReturn","body":"<p>Leaving this here for other people that also wasted an afternoon on trying to get a repository to return what they configured. What ended up being the thing I had to do is rather than annotating the repository with <code>@Mock</code> I had to use the <code>@MockBean</code> annotation for the Mockito/Spring combination to work properly.</p>\n<p>As per javadoc of <code>@MockBean</code>:</p>\n<blockquote>\n<p>When @MockBean is used on a field, as well as being registered in the application context, the mock will also be injected into the field.</p>\n</blockquote>\n"}],"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64518106,"answer_count":3,"score":1,"last_activity_date":1640096380,"creation_date":1603573304,"question_id":64517961,"body_markdown":"My `ServiceImpl` looks like this:\r\n```java\r\n@Service\r\npublic class GuildUsersServiceImpl implements GuildUsersService {\r\n\r\n  @Autowired\r\n  private final GuildUsersRepository guildUsersRepository;\r\n\r\n  @Autowired\r\n  private GuildService guildService;\r\n\r\n  @Autowired\r\n  private UserService userService;\r\n\r\n  @Autowired\r\n  private GuildUserRoleTypeService guildUserRoleTypeService;\r\n\r\n  @Autowired\r\n  public GuildUsersServiceImpl(final GuildUsersRepository guildUsersRepository) {\r\n    this.guildUsersRepository = guildUsersRepository;\r\n  }\r\n\r\n  public GuildUsers create(GuildUsers guildUser) {\r\n    return this.guildUsersRepository.save(guildUser);\r\n  }\r\n}\r\n```\r\nAnd my service test for `create` looks like this:\r\n```java\r\n@RunWith(SpringRunner.class)\r\npublic class GuildUsersServiceTest {\r\n  \r\n  @Mock private GuildUsersRepository guildUsersRepository;\r\n  \r\n  @Mock private UserService userService;\r\n\r\n  @Mock private GuildService guildService;\r\n  \r\n  @Mock private GuildUserRoleTypeService guildUserRoleTypeService;\r\n\r\n  @InjectMocks private GuildUsersServiceImpl guildUsersService;\r\n  \r\n  @Before\r\n  public void setUp(){\r\n      MockitoAnnotations.initMocks(this);\r\n  }\r\n  \r\n  @Test\r\n  public void createTest() {\r\n    GuildUsers guildUsers = mockGuildUsers();\r\n    when(guildUsersRepository.save(guildUsers)).thenReturn(guildUsers);\r\n    GuildUsers dbGuildUsers = guildUsersService.create(guildUsers);\r\n    assertEquals(dbGuildUsers.getId(),guildUsers.getId());\r\n  }\r\n}\r\n```\r\nI am using `jUnit4`. Despite using `when(guildUsersRepository.save(guildUsers)).thenReturn(guildUsers);` in the test, I run into a Null Pointer Exception with the following trace:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;com.project.entities.domain.GuildUsers.getId()&quot; because &quot;dbGuildUsers&quot; is null\r\n\r\n```\r\nI suspect something is wrong with how I have mocked the `@Autowired` classes. What needs to be done differently while mocking classes in the Test class ?\r\n\r\nAt the same time I want the services in the following test case to work as well :\r\n```java\r\n@Test\r\n  public void createTest1() {\r\n    GuildUsers guildUsers = mockGuildUsers();\r\n    GuildUsersWithoutGuildIdRequestDTO guildUsersWithoutGuildIdRequestDTO = new  GuildUsersWithoutGuildIdRequestDTO();\r\n    guildUsersWithoutGuildIdRequestDTO.setUserId(guildUsers.getUser().getId());\r\n    guildUsersWithoutGuildIdRequestDTO.setGuildUserRoleTypeId(guildUsers.getGuildUserRoleType().getId());\r\n    \r\n    when(guildService.get(guildUsers.getGuild().getId())).thenReturn(Optional.of(guildUsers.getGuild()));\r\n    when(guildRepository.findById(any())).thenReturn(Optional.of(guildUsers.getGuild()));\r\n    when(userService.get(guildUsers.getUser().getId())).thenReturn(Optional.of(guildUsers.getUser()));\r\n    when(guildUsersRepository.findById(guildUsers.getId())).thenReturn(null);\r\n    when(guildUserRoleTypeService.get(guildUsers.getGuildUserRoleType().getId())).thenReturn(Optional.of(guildUsers.getGuildUserRoleType()));\r\n    when(guildUsersRepository.save(any())).thenReturn(guildUsers);\r\n    \r\n    GuildUsersResponseDTO dbGuildUsersResponseDTO = \r\n        guildUsersService.create(guildUsers.getGuild().getId(),guildUsersWithoutGuildIdRequestDTO);\r\n    assertEquals(dbGuildUsersResponseDTO.getGuildUserRoleType(),guildUsers.getGuildUserRoleType());\r\n  }\r\n```","title":"Mocking repository function leads to null pointer exception despite using when and thenReturn","body":"<p>My <code>ServiceImpl</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class GuildUsersServiceImpl implements GuildUsersService {\n\n  @Autowired\n  private final GuildUsersRepository guildUsersRepository;\n\n  @Autowired\n  private GuildService guildService;\n\n  @Autowired\n  private UserService userService;\n\n  @Autowired\n  private GuildUserRoleTypeService guildUserRoleTypeService;\n\n  @Autowired\n  public GuildUsersServiceImpl(final GuildUsersRepository guildUsersRepository) {\n    this.guildUsersRepository = guildUsersRepository;\n  }\n\n  public GuildUsers create(GuildUsers guildUser) {\n    return this.guildUsersRepository.save(guildUser);\n  }\n}\n</code></pre>\n<p>And my service test for <code>create</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\npublic class GuildUsersServiceTest {\n  \n  @Mock private GuildUsersRepository guildUsersRepository;\n  \n  @Mock private UserService userService;\n\n  @Mock private GuildService guildService;\n  \n  @Mock private GuildUserRoleTypeService guildUserRoleTypeService;\n\n  @InjectMocks private GuildUsersServiceImpl guildUsersService;\n  \n  @Before\n  public void setUp(){\n      MockitoAnnotations.initMocks(this);\n  }\n  \n  @Test\n  public void createTest() {\n    GuildUsers guildUsers = mockGuildUsers();\n    when(guildUsersRepository.save(guildUsers)).thenReturn(guildUsers);\n    GuildUsers dbGuildUsers = guildUsersService.create(guildUsers);\n    assertEquals(dbGuildUsers.getId(),guildUsers.getId());\n  }\n}\n</code></pre>\n<p>I am using <code>jUnit4</code>. Despite using <code>when(guildUsersRepository.save(guildUsers)).thenReturn(guildUsers);</code> in the test, I run into a Null Pointer Exception with the following trace:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.project.entities.domain.GuildUsers.getId()&quot; because &quot;dbGuildUsers&quot; is null\n\n</code></pre>\n<p>I suspect something is wrong with how I have mocked the <code>@Autowired</code> classes. What needs to be done differently while mocking classes in the Test class ?</p>\n<p>At the same time I want the services in the following test case to work as well :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n  public void createTest1() {\n    GuildUsers guildUsers = mockGuildUsers();\n    GuildUsersWithoutGuildIdRequestDTO guildUsersWithoutGuildIdRequestDTO = new  GuildUsersWithoutGuildIdRequestDTO();\n    guildUsersWithoutGuildIdRequestDTO.setUserId(guildUsers.getUser().getId());\n    guildUsersWithoutGuildIdRequestDTO.setGuildUserRoleTypeId(guildUsers.getGuildUserRoleType().getId());\n    \n    when(guildService.get(guildUsers.getGuild().getId())).thenReturn(Optional.of(guildUsers.getGuild()));\n    when(guildRepository.findById(any())).thenReturn(Optional.of(guildUsers.getGuild()));\n    when(userService.get(guildUsers.getUser().getId())).thenReturn(Optional.of(guildUsers.getUser()));\n    when(guildUsersRepository.findById(guildUsers.getId())).thenReturn(null);\n    when(guildUserRoleTypeService.get(guildUsers.getGuildUserRoleType().getId())).thenReturn(Optional.of(guildUsers.getGuildUserRoleType()));\n    when(guildUsersRepository.save(any())).thenReturn(guildUsers);\n    \n    GuildUsersResponseDTO dbGuildUsersResponseDTO = \n        guildUsersService.create(guildUsers.getGuild().getId(),guildUsersWithoutGuildIdRequestDTO);\n    assertEquals(dbGuildUsersResponseDTO.getGuildUserRoleType(),guildUsers.getGuildUserRoleType());\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","resttemplate"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640096912,"post_id":70436913,"comment_id":124510994,"body_markdown":"400: it must be the content type(some forgotten/hidden header)...","body":"400: it must be the content type(some forgotten/hidden header)..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640096981,"post_id":70436913,"comment_id":124511028,"body_markdown":"Or... Accept! (String.class sounds *also* not good, here!! ..the API (surely) can offer you &quot;more structured&quot;)","body":"Or... Accept! (String.class sounds <i>also</i> not good, here!! ..the API (surely) can offer you &quot;more structured&quot;)"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1640097198,"post_id":70436913,"comment_id":124511125,"body_markdown":"We mostly use `JsonNode.class`. It failed with that as well.","body":"We mostly use <code>JsonNode.class</code>. It failed with that as well."},{"owner":{"account_id":7678097,"reputation":304,"user_id":5818270,"display_name":"Tim Tong"},"score":0,"creation_date":1640120835,"post_id":70436913,"comment_id":124519647,"body_markdown":"Do the cookies matter? The curl and postman have it while the RestTemplate call (in the snippet) does not seem to have any. I&#39;m also not sure if setting and adding the access token would produce 2 headers or not (which may or may not be a problem).","body":"Do the cookies matter? The curl and postman have it while the RestTemplate call (in the snippet) does not seem to have any. I&#39;m also not sure if setting and adding the access token would produce 2 headers or not (which may or may not be a problem)."},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1640179163,"post_id":70436913,"comment_id":124533780,"body_markdown":"@TimTong No, that&#39;s not the case. The cookies don&#39;t matter and I have checked the headers with `set`, `add`, and `add &amp; set`. It doesn&#39;t work.","body":"@TimTong No, that&#39;s not the case. The cookies don&#39;t matter and I have checked the headers with <code>set</code>, <code>add</code>, and <code>add &amp; set</code>. It doesn&#39;t work."}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1640096320,"creation_date":1640096320,"question_id":70436913,"body_markdown":"I&#39;m trying to call the [Shopify Partner API][1] to validate the authentication. I have tried multiple ways that were successful, for instance, I received a successful response with Postman:\r\n```curl\r\ncurl --location --request POST &#39;https://partners.shopify.com/2XXXXX8/api/2021-10/graphql.json&#39; \\\r\n--header &#39;X-Shopify-Access-Token: prtapi_...&#39; \\\r\n--header &#39;Cookie: _partners_session=a4a...; monorail_user_token=3648077d-...&#39;\r\n```\r\nI received a successful response when I used `org.apache.http.impl.client.CloseableHttpClient;`:\r\n```java\r\n    try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n      HttpPost httpPost = new HttpPost(restUrl);\r\n      httpPost.addHeader(&quot;X-Shopify-Access-Token&quot;, accessToken);\r\n\r\n      try (CloseableHttpResponse httpResponse = httpClient.execute(httpPost)) {\r\n        int statusCode = httpResponse.getStatusLine().getStatusCode();\r\n        if (statusCode != 200) {\r\n          log.warn(&quot;Auth Failed, Response Status:: &quot; + statusCode);\r\n        }\r\n      }\r\n    }\r\n```\r\nand I also received a successful response when I used `okhttp3.OkHttpClient;`\r\n```java\r\n    RequestBody reqbody = RequestBody.create(null, new byte[0]);\r\n    OkHttpClient client = new OkHttpClient();\r\n    Request request =\r\n        new Request.Builder()\r\n            .url(restUrl)\r\n            .addHeader(&quot;X-Shopify-Access-Token&quot;, accessToken)\r\n            .post(reqbody)\r\n            .build();\r\n\r\n    try {\r\n      Response response = client.newCall(request).execute();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n```\r\nBut the problem is that I am bound to use only `org.springframework.web.client.RestTemplate;` I have tried multiple ways to achieve that but for some reason, it&#39;s not working:\r\n```java\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;X-Shopify-Access-Token&quot;, accessToken);\r\n    headers.add(&quot;X-Shopify-Access-Token&quot;, accessToken); // Just in case\r\n\r\n    RequestEntity requestEntity = new RequestEntity(headers, HttpMethod.POST, URI);\r\n    ResponseEntity&lt;String&gt; res = restTemplate.exchange(requestEntity, String.class); // Fails\r\n\r\n    MediaType mediaType = MediaType.TEXT_PLAIN;\r\n    RequestEntity requestEntity = RequestEntity.post(uri).headers(headers).contentType(mediaType).build();\r\n    ResponseEntity&lt;String&gt; res = restTemplate.exchange(requestEntity, String.class); // Fails\r\n\r\n    headers.setContentType(MediaType.TEXT_PLAIN);\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;&quot;, headers);\r\n    String res = restTemplate.postForObject(uri, entity, String.class); // Fails\r\n```\r\nFor all the requests above, I&#39;m getting `400 : [Bad Request]`. What am I missing? I am also adding Postman&#39;s OKHttp version for reference:\r\n```java\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n  .build();\r\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\nRequestBody body = RequestBody.create(mediaType, &quot;&quot;);\r\nRequest request = new Request.Builder()\r\n  .url(&quot;https://partners.shopify.com/2XXXXX8/api/2021-10/graphql.json&quot;)\r\n  .method(&quot;POST&quot;, body)\r\n  .addHeader(&quot;X-Shopify-Access-Token&quot;, &quot;prtapi_...&quot;)\r\n  .addHeader(&quot;Cookie&quot;, &quot;_partners_session=a4a...; monorail_user_token=3648077d-...&quot;)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n\r\n  [1]: https://shopify.dev/api/partner/getting-started","title":"RestTemplate POST throws 400: Bad Request while calling GraphQL Endpoint","body":"<p>I'm trying to call the <a href=\"https://shopify.dev/api/partner/getting-started\" rel=\"nofollow noreferrer\">Shopify Partner API</a> to validate the authentication. I have tried multiple ways that were successful, for instance, I received a successful response with Postman:</p>\n<pre><code>curl --location --request POST 'https://partners.shopify.com/2XXXXX8/api/2021-10/graphql.json' \\\n--header 'X-Shopify-Access-Token: prtapi_...' \\\n--header 'Cookie: _partners_session=a4a...; monorail_user_token=3648077d-...'\n</code></pre>\n<p>I received a successful response when I used <code>org.apache.http.impl.client.CloseableHttpClient;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n      HttpPost httpPost = new HttpPost(restUrl);\n      httpPost.addHeader(&quot;X-Shopify-Access-Token&quot;, accessToken);\n\n      try (CloseableHttpResponse httpResponse = httpClient.execute(httpPost)) {\n        int statusCode = httpResponse.getStatusLine().getStatusCode();\n        if (statusCode != 200) {\n          log.warn(&quot;Auth Failed, Response Status:: &quot; + statusCode);\n        }\n      }\n    }\n</code></pre>\n<p>and I also received a successful response when I used <code>okhttp3.OkHttpClient;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    RequestBody reqbody = RequestBody.create(null, new byte[0]);\n    OkHttpClient client = new OkHttpClient();\n    Request request =\n        new Request.Builder()\n            .url(restUrl)\n            .addHeader(&quot;X-Shopify-Access-Token&quot;, accessToken)\n            .post(reqbody)\n            .build();\n\n    try {\n      Response response = client.newCall(request).execute();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n</code></pre>\n<p>But the problem is that I am bound to use only <code>org.springframework.web.client.RestTemplate;</code> I have tried multiple ways to achieve that but for some reason, it's not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    HttpHeaders headers = new HttpHeaders();\n    headers.set(&quot;X-Shopify-Access-Token&quot;, accessToken);\n    headers.add(&quot;X-Shopify-Access-Token&quot;, accessToken); // Just in case\n\n    RequestEntity requestEntity = new RequestEntity(headers, HttpMethod.POST, URI);\n    ResponseEntity&lt;String&gt; res = restTemplate.exchange(requestEntity, String.class); // Fails\n\n    MediaType mediaType = MediaType.TEXT_PLAIN;\n    RequestEntity requestEntity = RequestEntity.post(uri).headers(headers).contentType(mediaType).build();\n    ResponseEntity&lt;String&gt; res = restTemplate.exchange(requestEntity, String.class); // Fails\n\n    headers.setContentType(MediaType.TEXT_PLAIN);\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;&quot;, headers);\n    String res = restTemplate.postForObject(uri, entity, String.class); // Fails\n</code></pre>\n<p>For all the requests above, I'm getting <code>400 : [Bad Request]</code>. What am I missing? I am also adding Postman's OKHttp version for reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body = RequestBody.create(mediaType, &quot;&quot;);\nRequest request = new Request.Builder()\n  .url(&quot;https://partners.shopify.com/2XXXXX8/api/2021-10/graphql.json&quot;)\n  .method(&quot;POST&quot;, body)\n  .addHeader(&quot;X-Shopify-Access-Token&quot;, &quot;prtapi_...&quot;)\n  .addHeader(&quot;Cookie&quot;, &quot;_partners_session=a4a...; monorail_user_token=3648077d-...&quot;)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":557382,"reputation":804,"user_id":919801,"accept_rate":54,"display_name":"korda"},"score":0,"creation_date":1640015464,"post_id":70421613,"comment_id":124488800,"body_markdown":"do you host your app on aws by any chance?","body":"do you host your app on aws by any chance?"},{"owner":{"account_id":7713397,"reputation":352,"user_id":5841981,"display_name":"mihristov"},"score":0,"creation_date":1640015660,"post_id":70421613,"comment_id":124488896,"body_markdown":"@korda yes. VMs with a scaling group","body":"@korda yes. VMs with a scaling group"},{"owner":{"account_id":163305,"reputation":109,"user_id":385352,"display_name":"Miron Ophir"},"score":0,"creation_date":1640019479,"post_id":70421613,"comment_id":124490442,"body_markdown":"We experience the same issue.","body":"We experience the same issue."}],"answers":[{"tags":[],"owner":{"account_id":220951,"reputation":1277,"user_id":478663,"accept_rate":79,"display_name":"Reda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1640028901,"creation_date":1640015869,"answer_id":70424536,"question_id":70421613,"body_markdown":"I had the same problem. On the startup of the amazon linux 2, there is a security patch that is installed.\r\n\r\nThe package causing the problem is log4j-cve-2021-44228-hotpatch.noarch (you can check that in /var/log/yum.log)\r\n\r\nA temporary solution is to uninstall the patch and install another java version.\r\n\r\n    yum remove log4j-cve-2021-44228-hotpatch.noarch\r\n    yum install java-11-openjdk-11.0.12.0.7-0.amzn2.0.2.x86_64\r\n\r\nThanks to @mihristov for the solution.","title":"Liquibase/Springboot startup exception","body":"<p>I had the same problem. On the startup of the amazon linux 2, there is a security patch that is installed.</p>\n<p>The package causing the problem is log4j-cve-2021-44228-hotpatch.noarch (you can check that in /var/log/yum.log)</p>\n<p>A temporary solution is to uninstall the patch and install another java version.</p>\n<pre><code>yum remove log4j-cve-2021-44228-hotpatch.noarch\nyum install java-11-openjdk-11.0.12.0.7-0.amzn2.0.2.x86_64\n</code></pre>\n<p>Thanks to @mihristov for the solution.</p>\n"},{"tags":[],"owner":{"account_id":74781,"reputation":981,"user_id":214715,"display_name":"tiktock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640025891,"creation_date":1640025891,"answer_id":70426593,"question_id":70421613,"body_markdown":"This is a temporary issue with: java-11-amazon-corretto-headless-11.0.13+8-2.amzn2.aarch64\r\n\r\nTo fix:\r\n\r\n``` \r\nyum remove log4j-cve-2021-44228-hotpatch.noarch\r\nyum install java-11-amazon-corretto-headless-11.0.13+8-1.amzn2.aarch64\r\n```\r\n\r\nThanks to @Reda and @mihristov for pointing the issue out.\r\n\r\nOur actual fix was just to install a specific version of corretto instead of the general package\r\n\r\n```\r\nyum install java-11-amazon-corretto-headless-11.0.13+8-1.amzn2.aarch64\r\n```\r\n\r\nYou should only do this **temporarily** until a fix is out!","title":"Liquibase/Springboot startup exception","body":"<p>This is a temporary issue with: java-11-amazon-corretto-headless-11.0.13+8-2.amzn2.aarch64</p>\n<p>To fix:</p>\n<pre><code>yum remove log4j-cve-2021-44228-hotpatch.noarch\nyum install java-11-amazon-corretto-headless-11.0.13+8-1.amzn2.aarch64\n</code></pre>\n<p>Thanks to @Reda and @mihristov for pointing the issue out.</p>\n<p>Our actual fix was just to install a specific version of corretto instead of the general package</p>\n<pre><code>yum install java-11-amazon-corretto-headless-11.0.13+8-1.amzn2.aarch64\n</code></pre>\n<p>You should only do this <strong>temporarily</strong> until a fix is out!</p>\n"},{"tags":[],"owner":{"account_id":940763,"reputation":2425,"user_id":968878,"accept_rate":75,"display_name":"Karl Kild&#233;n"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640073691,"creation_date":1640073691,"answer_id":70432229,"question_id":70421613,"body_markdown":"For us moving to latest liquibase (4+) resolved this. They use a more standard ServiceLocator in 4+ and that seems to make the difference. ","title":"Liquibase/Springboot startup exception","body":"<p>For us moving to latest liquibase (4+) resolved this. They use a more standard ServiceLocator in 4+ and that seems to make the difference.</p>\n"},{"tags":[],"owner":{"account_id":2834877,"reputation":155,"user_id":3254076,"display_name":"Pavla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640095810,"creation_date":1640095810,"answer_id":70436806,"question_id":70421613,"body_markdown":"To elaborate a bit more on what&#39;s happening here:\r\n\r\nAWS has developed a systemd service that, every second, looks for any JVMs running on the system. For all that it finds and supports it connect a java agent that at runtime replaces the log4j JNDI `lookup()` method with a hardcoded safe string.\r\n\r\nWhy liquibase fails on this is not clear to me. I do see that the already given answers seem to be too invasive. There&#39;s no need to remove/reinstall/update your JVM. You can work around this by:\r\n\r\n - Stopping the systemd patch service: `sudo service log4j-cve-2021-44228-hotpatch status|stop|start`\r\n\r\n - Best solution - create the kill file that, if read by the service, stops applying the patch: `sudo touch /etc/log4j-cve-2021-44228-hotpatch.kill`","title":"Liquibase/Springboot startup exception","body":"<p>To elaborate a bit more on what's happening here:</p>\n<p>AWS has developed a systemd service that, every second, looks for any JVMs running on the system. For all that it finds and supports it connect a java agent that at runtime replaces the log4j JNDI <code>lookup()</code> method with a hardcoded safe string.</p>\n<p>Why liquibase fails on this is not clear to me. I do see that the already given answers seem to be too invasive. There's no need to remove/reinstall/update your JVM. You can work around this by:</p>\n<ul>\n<li><p>Stopping the systemd patch service: <code>sudo service log4j-cve-2021-44228-hotpatch status|stop|start</code></p>\n</li>\n<li><p>Best solution - create the kill file that, if read by the service, stops applying the patch: <code>sudo touch /etc/log4j-cve-2021-44228-hotpatch.kill</code></p>\n</li>\n</ul>\n"}],"owner":{"account_id":7713397,"reputation":352,"user_id":5841981,"display_name":"mihristov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1877,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":70424536,"answer_count":4,"score":14,"last_activity_date":1640095810,"creation_date":1640002359,"question_id":70421613,"body_markdown":"Starting yesterday (Sunday) morning my production app fails to start, with no code changes from my side. It&#39;s running Springboot 2.3.4, Liquibase-core 3.8.0 and is hosted on Amazon linux2.\r\nFunny thing is there are no exceptions locally, only when deployed.\r\n\r\nHere is the relevant stack trace:\r\n```\r\nCaused by: liquibase.exception.UnexpectedLiquibaseException: java.nio.file.NoSuchFileException: /tmp/agent12302722365010540729.jar\r\n at liquibase.servicelocator.ServiceLocator.setResourceAccessor(ServiceLocator.java:129)\r\n at liquibase.servicelocator.ServiceLocator.&lt;init&gt;(ServiceLocator.java:69)\r\n at liquibase.servicelocator.CustomResolverServiceLocator.&lt;init&gt;(CustomResolverServiceLocator.java:16)\r\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener$LiquibasePresent.replaceServiceLocator(LiquibaseServiceLocatorApplicationListener.java:55)\r\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener.onApplicationEvent(LiquibaseServiceLocatorApplicationListener.java:44)\r\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener.onApplicationEvent(LiquibaseServiceLocatorApplicationListener.java:36)\r\n...\r\nCaused by: java.nio.file.NoSuchFileException: /tmp/agent801508645517312012.jar\r\n  at liquibase.resource.ClassLoaderResourceAccessor.getResourcesAsStream(ClassLoaderResourceAccessor.java:53)\r\n  at liquibase.servicelocator.ServiceLocator.setResourceAccessor(ServiceLocator.java:115)\r\n```\r\n\r\nI double checked all application related files and env variables and they are all the same. The file in question is in no way related to my app.\r\n\r\nDo you have any idea what this file is and why is Liquibase trying to find it all of the sudden?","title":"Liquibase/Springboot startup exception","body":"<p>Starting yesterday (Sunday) morning my production app fails to start, with no code changes from my side. It's running Springboot 2.3.4, Liquibase-core 3.8.0 and is hosted on Amazon linux2.\nFunny thing is there are no exceptions locally, only when deployed.</p>\n<p>Here is the relevant stack trace:</p>\n<pre><code>Caused by: liquibase.exception.UnexpectedLiquibaseException: java.nio.file.NoSuchFileException: /tmp/agent12302722365010540729.jar\n at liquibase.servicelocator.ServiceLocator.setResourceAccessor(ServiceLocator.java:129)\n at liquibase.servicelocator.ServiceLocator.&lt;init&gt;(ServiceLocator.java:69)\n at liquibase.servicelocator.CustomResolverServiceLocator.&lt;init&gt;(CustomResolverServiceLocator.java:16)\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener$LiquibasePresent.replaceServiceLocator(LiquibaseServiceLocatorApplicationListener.java:55)\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener.onApplicationEvent(LiquibaseServiceLocatorApplicationListener.java:44)\n at org.springframework.boot.liquibase.LiquibaseServiceLocatorApplicationListener.onApplicationEvent(LiquibaseServiceLocatorApplicationListener.java:36)\n...\nCaused by: java.nio.file.NoSuchFileException: /tmp/agent801508645517312012.jar\n  at liquibase.resource.ClassLoaderResourceAccessor.getResourcesAsStream(ClassLoaderResourceAccessor.java:53)\n  at liquibase.servicelocator.ServiceLocator.setResourceAccessor(ServiceLocator.java:115)\n</code></pre>\n<p>I double checked all application related files and env variables and they are all the same. The file in question is in no way related to my app.</p>\n<p>Do you have any idea what this file is and why is Liquibase trying to find it all of the sudden?</p>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640096171,"post_id":70436763,"comment_id":124510673,"body_markdown":"If you have any questions please put them in your post.","body":"If you have any questions please put them in your post."},{"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"score":1,"creation_date":1640096971,"post_id":70436763,"comment_id":124511017,"body_markdown":"does backend add info at the start of the base64 string? (not to uncommon to see something like `data:image/jpg;base64,` then you need to remove that part before you use Base64.decode","body":"does backend add info at the start of the base64 string? (not to uncommon to see something like <code>data:image&#47;jpg;base64,</code> then you need to remove that part before you use Base64.decode"},{"owner":{"account_id":23532011,"reputation":63,"user_id":17577495,"display_name":"Meet Parsaniya"},"score":0,"creation_date":1691734937,"post_id":70436763,"comment_id":135534308,"body_markdown":"@DGAD did you get the solution for this","body":"@DGAD did you get the solution for this"},{"owner":{"account_id":22969735,"reputation":35,"user_id":17098290,"display_name":"DGAD"},"score":0,"creation_date":1692498958,"post_id":70436763,"comment_id":135630986,"body_markdown":"@MeetParsaniya it&#39;s too long days ago but not get solution for this. Instead of moved different function","body":"@MeetParsaniya it&#39;s too long days ago but not get solution for this. Instead of moved different function"}],"owner":{"account_id":22969735,"reputation":35,"user_id":17098290,"display_name":"DGAD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640095624,"creation_date":1640095624,"question_id":70436763,"body_markdown":"I try to convert like\r\n\r\n```\r\nbyte[] decodedBytes = Base64.decode(buildImageResponse, Base64.DEFAULT);\r\nBitmap bitmap = BitmapFactory.decodeByteArray(decodedBytes , 0, decodedBytes.length);\r\n\r\nholder.ivAssets.setImageBitmap(bitmap);\r\n```\r\n**Am getting this error** -- \r\njava.lang.IllegalArgumentException: bad base-64","title":"How to convert api response (Binary) for image to imageview Bitmap in android","body":"<p>I try to convert like</p>\n<pre><code>byte[] decodedBytes = Base64.decode(buildImageResponse, Base64.DEFAULT);\nBitmap bitmap = BitmapFactory.decodeByteArray(decodedBytes , 0, decodedBytes.length);\n\nholder.ivAssets.setImageBitmap(bitmap);\n</code></pre>\n<p><strong>Am getting this error</strong> --\njava.lang.IllegalArgumentException: bad base-64</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1640095045,"post_id":70436161,"comment_id":124510162,"body_markdown":"Just define the dependency of log4j in your spring boot project which overrides the one given by spring boot...","body":"Just define the dependency of log4j in your spring boot project which overrides the one given by spring boot..."}],"answers":[{"tags":[],"owner":{"account_id":23306474,"reputation":11,"user_id":17386387,"display_name":"Jiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640095461,"creation_date":1640095461,"answer_id":70436711,"question_id":70436161,"body_markdown":"If the version is omitted it&#39;s indirectly inherited from the parent. If you import your child module in another project it will indirectly inherit parent&#39;s version of log4j-core.\r\n\r\nDefine version in *dependencyManagement* tag or in *dependency* tag in parent/child module of your project.","title":"How maven handle version for children jar","body":"<p>If the version is omitted it's indirectly inherited from the parent. If you import your child module in another project it will indirectly inherit parent's version of log4j-core.</p>\n<p>Define version in <em>dependencyManagement</em> tag or in <em>dependency</em> tag in parent/child module of your project.</p>\n"}],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640095461,"creation_date":1640092898,"question_id":70436161,"body_markdown":"I have multi module maven project. Where inside of parem `pom.xml` I am setting up version in properites tag for let&#39;s say `log4j-core` library. \r\nAnd inside of children (let&#39;s call it child.jar) I am adding log4j as dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwithout a version, so after running `dependency:tree` that log4j has correct version taken from parent `pom.xml` file. So here everything is working ok for me.\r\n\r\nBut I would like to reuse this `child.jar` in my spring boot project, but there I didnt write in parent pom version for log4j. And so after running dependency:tree I can see that version is wrong. \r\nI can see that spring-boot-starter is including `log4j-to-slf4j` but with different version, and for some reason my log4j-core has the same version as included jars from spring boot.\r\n\r\nSo my question is, shouldnt my child.jar has the version from my first project set up for log4j? Or do I need to specificly say version for log4j inside of child.jar?","title":"How maven handle version for children jar","body":"<p>I have multi module maven project. Where inside of parem <code>pom.xml</code> I am setting up version in properites tag for let's say <code>log4j-core</code> library.\nAnd inside of children (let's call it child.jar) I am adding log4j as dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>without a version, so after running <code>dependency:tree</code> that log4j has correct version taken from parent <code>pom.xml</code> file. So here everything is working ok for me.</p>\n<p>But I would like to reuse this <code>child.jar</code> in my spring boot project, but there I didnt write in parent pom version for log4j. And so after running dependency:tree I can see that version is wrong.\nI can see that spring-boot-starter is including <code>log4j-to-slf4j</code> but with different version, and for some reason my log4j-core has the same version as included jars from spring boot.</p>\n<p>So my question is, shouldnt my child.jar has the version from my first project set up for log4j? Or do I need to specificly say version for log4j inside of child.jar?</p>\n"},{"tags":["java","android","file-upload","webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640095367,"post_id":70436650,"comment_id":124510302,"body_markdown":"`How to programmatically upload a specific file to WebView` To your WebView? To your router i think.","body":"<code>How to programmatically upload a specific file to WebView</code> To your WebView? To your router i think."},{"owner":{"account_id":10388823,"reputation":67,"user_id":7660869,"display_name":"Thales Lima"},"score":0,"creation_date":1640095466,"post_id":70436650,"comment_id":124510342,"body_markdown":"@blackapps thanks, I&#39;ve corrected it","body":"@blackapps thanks, I&#39;ve corrected it"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640095644,"post_id":70436650,"comment_id":124510427,"body_markdown":"Just show how you would do it using the file chooser. After that you modify that code.","body":"Just show how you would do it using the file chooser. After that you modify that code."}],"owner":{"account_id":10388823,"reputation":67,"user_id":7660869,"display_name":"Thales Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640095442,"creation_date":1640095130,"question_id":70436650,"body_markdown":"I am developing an application that connects to a router&#39;s web interface via WebView and automatically do some configurations...\r\nAn important step of the configuration, is to upgrade the router&#39;s firmware (which .bin file will be already stored in my Android device). I would like to make all this, without any user interaction.\r\nHow could I trigger the `&lt;input type=&quot;file&quot;&gt;` inside the WebView, and automatically select the specific file and upload it? (without even showing a Select File Dialog)\r\n\r\nI have the following overriding method, inside my WebChromeClient:\r\n\r\n    final class MyWebChromeClient extends WebChromeClient {\r\n\r\n        ValueCallback&lt;Uri[]&gt; mFilePathCallback;\r\n\r\n        @Override\r\n        public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams fileChooserParams) {\r\n            Log.d(&quot;DEV_onShowFileChooser&quot;, &quot;executed!&quot;);\r\n\r\n            Uri uri[] = new Uri[]{Uri.parse(&quot;/storage/emulated/0/firmware.bin&quot;)};\r\n\r\n            if (mFilePathCallback != null) {\r\n                mFilePathCallback.onReceiveValue(null);\r\n            }\r\n            mFilePathCallback = filePathCallback;\r\n            mFilePathCallback.onReceiveValue(uri);\r\n            mFilePathCallback = null;\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\nWhen I manually click in the `&lt;input type=&quot;file&quot;&gt;` inside the WebView, I can see that Log.d in the Logcat, but nothing happens, the file is not being uploaded to the input. What am I missing here?","title":"How to programmatically upload a specific file via WebView without FileChooser","body":"<p>I am developing an application that connects to a router's web interface via WebView and automatically do some configurations...\nAn important step of the configuration, is to upgrade the router's firmware (which .bin file will be already stored in my Android device). I would like to make all this, without any user interaction.\nHow could I trigger the <code>&lt;input type=&quot;file&quot;&gt;</code> inside the WebView, and automatically select the specific file and upload it? (without even showing a Select File Dialog)</p>\n<p>I have the following overriding method, inside my WebChromeClient:</p>\n<pre><code>final class MyWebChromeClient extends WebChromeClient {\n\n    ValueCallback&lt;Uri[]&gt; mFilePathCallback;\n\n    @Override\n    public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams fileChooserParams) {\n        Log.d(&quot;DEV_onShowFileChooser&quot;, &quot;executed!&quot;);\n\n        Uri uri[] = new Uri[]{Uri.parse(&quot;/storage/emulated/0/firmware.bin&quot;)};\n\n        if (mFilePathCallback != null) {\n            mFilePathCallback.onReceiveValue(null);\n        }\n        mFilePathCallback = filePathCallback;\n        mFilePathCallback.onReceiveValue(uri);\n        mFilePathCallback = null;\n\n        return true;\n    }\n}\n</code></pre>\n<p>When I manually click in the <code>&lt;input type=&quot;file&quot;&gt;</code> inside the WebView, I can see that Log.d in the Logcat, but nothing happens, the file is not being uploaded to the input. What am I missing here?</p>\n"},{"tags":["java","android","fragment","torch","flashlight"],"answers":[{"tags":[],"owner":{"account_id":9010316,"reputation":645,"user_id":6715226,"display_name":"Muazzam A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640095267,"creation_date":1568138742,"answer_id":57876146,"question_id":57875887,"body_markdown":"Okay update the permission in the manifest file as below:\r\n```\r\n&lt;permission android:name=&quot;android.permission.FLASHLIGHT&quot;\r\n             android:permissionGroup=&quot;android.permission-group.HARDWARE_CONTROLS&quot;\r\n             android:protectionLevel=&quot;normal&quot;\r\n             android:label=&quot;@string/permlab_flashlight&quot;\r\n             android:description=&quot;@string/permdesc_flashlight&quot; /&gt;\r\n```\r\nTry to off the light using the below code:\r\n```\r\ncam.stopPreview();\r\ncam.release(); // Very Important line\r\n ```\r\n\r\n","title":"Flashlight Fragment Android Studio","body":"<p>Okay update the permission in the manifest file as below:</p>\n<pre><code>&lt;permission android:name=&quot;android.permission.FLASHLIGHT&quot;\n             android:permissionGroup=&quot;android.permission-group.HARDWARE_CONTROLS&quot;\n             android:protectionLevel=&quot;normal&quot;\n             android:label=&quot;@string/permlab_flashlight&quot;\n             android:description=&quot;@string/permdesc_flashlight&quot; /&gt;\n</code></pre>\n<p>Try to off the light using the below code:</p>\n<pre><code>cam.stopPreview();\ncam.release(); // Very Important line\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16087112,"reputation":33,"user_id":11611503,"display_name":"P.Trenkle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568147340,"creation_date":1568147340,"answer_id":57877811,"question_id":57875887,"body_markdown":"In which line?\r\n```\r\nprivate void turnOffLight() {\r\n\r\n        if (lightIsOn) {\r\n            if (camera == null || parameters == null) {\r\n                return;\r\n            }\r\n            camera = Camera.open();\r\n\r\n            parameters = camera.getParameters();\r\n            parameters.setFlashMode(Camera.Parameters.FLASH_MODE_OFF);\r\n            camera.setParameters(parameters);\r\n            camera.stopPreview();\r\n            camera.release(); // Very Important line\r\n            lightIsOn = false;\r\n            button_OnOff.setText(&quot;On&quot;);\r\n\r\n        }\r\n    }\r\n```","title":"Flashlight Fragment Android Studio","body":"<p>In which line?</p>\n\n<pre><code>private void turnOffLight() {\n\n        if (lightIsOn) {\n            if (camera == null || parameters == null) {\n                return;\n            }\n            camera = Camera.open();\n\n            parameters = camera.getParameters();\n            parameters.setFlashMode(Camera.Parameters.FLASH_MODE_OFF);\n            camera.setParameters(parameters);\n            camera.stopPreview();\n            camera.release(); // Very Important line\n            lightIsOn = false;\n            button_OnOff.setText(\"On\");\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16087112,"reputation":33,"user_id":11611503,"display_name":"P.Trenkle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57876146,"answer_count":2,"score":2,"last_activity_date":1640095267,"creation_date":1568137297,"question_id":57875887,"body_markdown":"I have created a flashlight fragment for my app and I have implemented this code and turning the flashlight on works, but I can&#39;t turn it off.\r\n\r\nI tried to switch the light on and off from one button or like now from two but it made no difference.\r\n\r\nWhen I switch the fragment, the light turns off.\r\n\r\nI hope anyone knows what to do. \r\nThx\r\n```\r\n public class Flashlight extends Fragment implements SurfaceHolder.Callback {\r\n    private View view;\r\n    Button button_On, button_Off;\r\n    private boolean lightIsOn = false;\r\n    Camera camera;\r\n    android.hardware.Camera.Parameters parameters;\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        SurfaceView preview = (SurfaceView) getView().findViewById(R.id.PREVIEW);\r\n        SurfaceHolder mHolder = preview.getHolder();\r\n        mHolder.addCallback(this);\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        turnOffLight();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(final LayoutInflater inflater, final ViewGroup container,\r\n                             final Bundle savedInstanceState) {\r\n\r\n      view = inflater.inflate(R.layout.fragment_flashlight, container, false);\r\n      button_On = (Button) view.findViewById(R.id.button_On);\r\n      button_Off = (Button) view.findViewById(R.id.button_Off);\r\n      if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n         requestPermissions(new String[]{Manifest.permission.CAMERA,}, PackageManager.PERMISSION_GRANTED);\r\n      }\r\n      if (!getActivity().getApplicationContext().getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)) {\r\n         Toast.makeText(getActivity(), &quot;Device has no flashlight&quot;, Toast.LENGTH_SHORT).show();\r\n      }\r\n\r\n\r\n      button_On.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n          public void onClick(View v) {\r\n              turnOnLight();\r\n          }\r\n      });\r\n      button_Off.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n         public void onClick(View v) {\r\n              turnOffLight();\r\n         }\r\n      });\r\n        return view;\r\n    }\r\n```\r\nTurn On/Off Light:\r\n```\r\nprivate void turnOnLight() {\r\n if (!lightIsOn) {\r\n  if (camera == null || parameters == null) {\r\n            return;\r\n  }\r\n  parameters = camera.getParameters();\r\n  parameters.setFlashMode(Camera.Parameters.FLASH_MODE_TORCH);\r\n  camera.setParameters(parameters);\r\n  camera.startPreview();\r\n  lightIsOn = true;\r\n }\r\n}\r\n\r\nprivate void turnOffLight() {\r\n\r\n    if (lightIsOn) {\r\n        if (camera == null || parameters == null) {\r\n            return;\r\n        }\r\n\r\n        parameters = camera.getParameters();\r\n        parameters.setFlashMode(Camera.Parameters.FLASH_MODE_OFF);\r\n        camera.setParameters(parameters);\r\n        camera.stopPreview();\r\n        lightIsOn = false;\r\n    }\r\n}\r\n\r\n@Override\r\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n\r\n}\r\n\r\n@Override\r\npublic void surfaceDestroyed(SurfaceHolder holder) {\r\n    if (camera != null) {\r\n        camera.stopPreview();\r\n        camera.setPreviewCallback(null);\r\n        camera.release();\r\n        camera = null;\r\n    }\r\n}\r\n\r\n@Override\r\npublic void surfaceCreated(SurfaceHolder holder) {\r\n    if (camera == null) {\r\n        camera = Camera.open();\r\n        parameters = camera.getParameters();\r\n        try {\r\n            camera.setPreviewDisplay(holder);\r\n        } catch (IOException e) {\r\n            camera.release();\r\n            camera = null;\r\n        }\r\n    }\r\n  }\r\n}\r\n```\r\nManifest:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\r\n```\r\nXML:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Flashlight&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;SurfaceView\r\n            android:id=&quot;@+id/PREVIEW&quot;\r\n            android:layout_width=&quot;1dp&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:layout_marginBottom=&quot;730dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/button_On&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;on&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/button_Off&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;off&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```","title":"Flashlight Fragment Android Studio","body":"<p>I have created a flashlight fragment for my app and I have implemented this code and turning the flashlight on works, but I can't turn it off.</p>\n<p>I tried to switch the light on and off from one button or like now from two but it made no difference.</p>\n<p>When I switch the fragment, the light turns off.</p>\n<p>I hope anyone knows what to do.\nThx</p>\n<pre><code> public class Flashlight extends Fragment implements SurfaceHolder.Callback {\n    private View view;\n    Button button_On, button_Off;\n    private boolean lightIsOn = false;\n    Camera camera;\n    android.hardware.Camera.Parameters parameters;\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        SurfaceView preview = (SurfaceView) getView().findViewById(R.id.PREVIEW);\n        SurfaceHolder mHolder = preview.getHolder();\n        mHolder.addCallback(this);\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        turnOffLight();\n    }\n\n    @Override\n    public View onCreateView(final LayoutInflater inflater, final ViewGroup container,\n                             final Bundle savedInstanceState) {\n\n      view = inflater.inflate(R.layout.fragment_flashlight, container, false);\n      button_On = (Button) view.findViewById(R.id.button_On);\n      button_Off = (Button) view.findViewById(R.id.button_Off);\n      if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\n                != PackageManager.PERMISSION_GRANTED) {\n         requestPermissions(new String[]{Manifest.permission.CAMERA,}, PackageManager.PERMISSION_GRANTED);\n      }\n      if (!getActivity().getApplicationContext().getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)) {\n         Toast.makeText(getActivity(), &quot;Device has no flashlight&quot;, Toast.LENGTH_SHORT).show();\n      }\n\n\n      button_On.setOnClickListener(new View.OnClickListener() {\n      @Override\n          public void onClick(View v) {\n              turnOnLight();\n          }\n      });\n      button_Off.setOnClickListener(new View.OnClickListener() {\n      @Override\n         public void onClick(View v) {\n              turnOffLight();\n         }\n      });\n        return view;\n    }\n</code></pre>\n<p>Turn On/Off Light:</p>\n<pre><code>private void turnOnLight() {\n if (!lightIsOn) {\n  if (camera == null || parameters == null) {\n            return;\n  }\n  parameters = camera.getParameters();\n  parameters.setFlashMode(Camera.Parameters.FLASH_MODE_TORCH);\n  camera.setParameters(parameters);\n  camera.startPreview();\n  lightIsOn = true;\n }\n}\n\nprivate void turnOffLight() {\n\n    if (lightIsOn) {\n        if (camera == null || parameters == null) {\n            return;\n        }\n\n        parameters = camera.getParameters();\n        parameters.setFlashMode(Camera.Parameters.FLASH_MODE_OFF);\n        camera.setParameters(parameters);\n        camera.stopPreview();\n        lightIsOn = false;\n    }\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    if (camera != null) {\n        camera.stopPreview();\n        camera.setPreviewCallback(null);\n        camera.release();\n        camera = null;\n    }\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    if (camera == null) {\n        camera = Camera.open();\n        parameters = camera.getParameters();\n        try {\n            camera.setPreviewDisplay(holder);\n        } catch (IOException e) {\n            camera.release();\n            camera = null;\n        }\n    }\n  }\n}\n</code></pre>\n<p>Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\n</code></pre>\n<p>XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Flashlight&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;SurfaceView\n            android:id=&quot;@+id/PREVIEW&quot;\n            android:layout_width=&quot;1dp&quot;\n            android:layout_height=&quot;1dp&quot;\n            android:layout_marginBottom=&quot;730dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/button_On&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;on&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/button_Off&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;off&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","timer","scheduled-tasks"],"comments":[{"owner":{"account_id":20417160,"reputation":138,"user_id":17667932,"display_name":"Agzam"},"score":0,"creation_date":1640089335,"post_id":70435330,"comment_id":124507973,"body_markdown":"I didn&#39;t really understand the question. Did you mean &quot;Running the program at a certain time?&quot;","body":"I didn&#39;t really understand the question. Did you mean &quot;Running the program at a certain time?&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640090440,"post_id":70435330,"comment_id":124508349,"body_markdown":"Same here, it is really not clear what you are asking about.","body":"Same here, it is really not clear what you are asking about."}],"answers":[{"tags":[],"owner":{"account_id":23709888,"reputation":3,"user_id":17731894,"display_name":"romaxd"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640089846,"creation_date":1640089846,"answer_id":70435514,"question_id":70435330,"body_markdown":"If I understood your question correctly you can use Thread.sleep() to idle and then start the Process.\r\n\r\nSo I guess something like this would work:\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException, IOException {\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;path\\\\to\\\\file.exe&quot;);\r\n\t\twhile (true) {\r\n\t\t\tpb.start();\r\n\t\t\tThread.sleep(Duration.ofHours(1).toMillis());\r\n\t\t}\r\n\t}","title":"How to make Java code that opens the program hourly","body":"<p>If I understood your question correctly you can use Thread.sleep() to idle and then start the Process.</p>\n<p>So I guess something like this would work:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException, IOException {\n    ProcessBuilder pb = new ProcessBuilder(&quot;path\\\\to\\\\file.exe&quot;);\n    while (true) {\n        pb.start();\n        Thread.sleep(Duration.ofHours(1).toMillis());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640090099,"creation_date":1640090099,"answer_id":70435566,"question_id":70435330,"body_markdown":"If you are looking for running this program in a scheduled manner, you can use something like \r\n[Task Scheduler](https://www.windowscentral.com/how-create-automated-task-using-task-scheduler-windows-10) in windows or [Crontab](https://man7.org/linux/man-pages/man5/crontab.5.html) in case of UNIX systems. \r\n\r\nYou need not install and run Java for that. But, if you really need it to be executed using a java code, then you can use inbuilt scheduling options in Java. One of the approach is to use a `TimerTask` . Added an example below\r\n\r\n    public class Task extends TimerTask {\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t// I don&#39;t know, what is this app, basically you execute the logic here\r\n    \t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\tString[] s = new String[] { &quot;C:\\\\Program Files\\\\BraveSoftware\\\\Brave-Browser\\\\Application\\\\brave.exe&quot; };\r\n    \t\t\tProcess process = runtime.exec(s);\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// Do your thing with the errors!\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nAnd your scheduler goes like this. \r\n\r\n    public class Scheduler {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Create a timer for scheduling\r\n    \t\tTimer schduleManager = new Timer(); \r\n    \t\t\r\n    \t\t//Create your task instance\r\n    \t\tTask taskInstance = new Task(); \r\n    \t\t\r\n    \t\t//Scheduler your task repeatedly - every one hour\r\n    \t\tschduleManager.schedule(taskInstance, 0, TimeUnit.HOURS.toMillis(1));\r\n    \t\t\r\n    \t\tSystem.out.println(TimeUnit.HOURS.toMillis(1));\r\n    \t\t\r\n    \t\t// Keep your code running - an eg.\r\n    \t\twhile(true);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThe program has to be exited forcefully with a `Cntrl+C` or console kill. There are other similar options , using different libraries as well, like \r\n\r\n - java.util.concurrent.ScheduledExecutorService\r\n - Quartz Scheduler\r\n\r\nAnd more. You can explore on this.","title":"How to make Java code that opens the program hourly","body":"<p>If you are looking for running this program in a scheduled manner, you can use something like\n<a href=\"https://www.windowscentral.com/how-create-automated-task-using-task-scheduler-windows-10\" rel=\"nofollow noreferrer\">Task Scheduler</a> in windows or <a href=\"https://man7.org/linux/man-pages/man5/crontab.5.html\" rel=\"nofollow noreferrer\">Crontab</a> in case of UNIX systems.</p>\n<p>You need not install and run Java for that. But, if you really need it to be executed using a java code, then you can use inbuilt scheduling options in Java. One of the approach is to use a <code>TimerTask</code> . Added an example below</p>\n<pre><code>public class Task extends TimerTask {\n\n    @Override\n    public void run() {\n        \n        try {\n            // I don't know, what is this app, basically you execute the logic here\n            Runtime runtime = Runtime.getRuntime();\n            String[] s = new String[] { &quot;C:\\\\Program Files\\\\BraveSoftware\\\\Brave-Browser\\\\Application\\\\brave.exe&quot; };\n            Process process = runtime.exec(s);\n            \n        } catch (IOException e) {\n            // Do your thing with the errors!\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>And your scheduler goes like this.</p>\n<pre><code>public class Scheduler {\n    \n    public static void main(String[] args) {\n        //Create a timer for scheduling\n        Timer schduleManager = new Timer(); \n        \n        //Create your task instance\n        Task taskInstance = new Task(); \n        \n        //Scheduler your task repeatedly - every one hour\n        schduleManager.schedule(taskInstance, 0, TimeUnit.HOURS.toMillis(1));\n        \n        System.out.println(TimeUnit.HOURS.toMillis(1));\n        \n        // Keep your code running - an eg.\n        while(true);\n        \n    }\n\n}\n</code></pre>\n<p>The program has to be exited forcefully with a <code>Cntrl+C</code> or console kill. There are other similar options , using different libraries as well, like</p>\n<ul>\n<li>java.util.concurrent.ScheduledExecutorService</li>\n<li>Quartz Scheduler</li>\n</ul>\n<p>And more. You can explore on this.</p>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640090198,"creation_date":1640090198,"answer_id":70435595,"question_id":70435330,"body_markdown":" If you are using spring boot then you can use Scheduler annotation \r\n\r\n   \t@Scheduled(fixedDelay = 60 * 60 * 1000","title":"How to make Java code that opens the program hourly","body":"<p>If you are using spring boot then you can use Scheduler annotation</p>\n<pre><code>@Scheduled(fixedDelay = 60 * 60 * 1000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640095223,"creation_date":1640090851,"answer_id":70435711,"question_id":70435330,"body_markdown":"This seems to be a job requiring Java&#39;s ***ScheduledExecutorService***. According to Java&#39;s documentation\r\n\r\n&gt; The ***ScheduledExecutorService*** interface supplements the methods of its\r\n&gt; parent ExecutorService with schedule, which executes a Runnable or\r\n&gt; Callable task after a specified delay. In addition, the interface\r\n&gt; ***defines scheduleAtFixedRate and scheduleWithFixedDelay, which executes\r\n&gt; specified tasks repeatedly, at defined intervals***.\r\n\r\nHere&#39;s an example from its Javadoc that sets up a *ScheduledExecutorService* to beep every ten seconds for an hour:\r\n\r\n     import static java.util.concurrent.TimeUnit.*;\r\n     class BeeperControl {\r\n       private final ScheduledExecutorService scheduler =\r\n         Executors.newScheduledThreadPool(1);\r\n    \r\n       public void beepForAnHour() {\r\n         final Runnable beeper = new Runnable() {\r\n           public void run() { System.out.println(&quot;beep&quot;); }\r\n         };\r\n         final ScheduledFuture&lt;?&gt; beeperHandle =\r\n           scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\r\n         scheduler.schedule(new Runnable() {\r\n           public void run() { beeperHandle.cancel(true); }\r\n         }, 60 * 60, SECONDS);\r\n       }\r\n     }\r\n\r\n\r\nHere is a link to a [StackOverflow answer][1] that uses ScheduledExecutorService to run a task at a specific time.\r\n\r\nAnother alternative is to run your task as a CRON job. Here&#39;s a link to a [StackOverflow answer][2] that uses CRON to schedule a Java program.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20388073/2851311\r\n  [2]: https://stackoverflow.com/a/11840093/2851311","title":"How to make Java code that opens the program hourly","body":"<p>This seems to be a job requiring Java's <em><strong>ScheduledExecutorService</strong></em>. According to Java's documentation</p>\n<blockquote>\n<p>The <em><strong>ScheduledExecutorService</strong></em> interface supplements the methods of its\nparent ExecutorService with schedule, which executes a Runnable or\nCallable task after a specified delay. In addition, the interface\n<em><strong>defines scheduleAtFixedRate and scheduleWithFixedDelay, which executes\nspecified tasks repeatedly, at defined intervals</strong></em>.</p>\n</blockquote>\n<p>Here's an example from its Javadoc that sets up a <em>ScheduledExecutorService</em> to beep every ten seconds for an hour:</p>\n<pre><code> import static java.util.concurrent.TimeUnit.*;\n class BeeperControl {\n   private final ScheduledExecutorService scheduler =\n     Executors.newScheduledThreadPool(1);\n\n   public void beepForAnHour() {\n     final Runnable beeper = new Runnable() {\n       public void run() { System.out.println(&quot;beep&quot;); }\n     };\n     final ScheduledFuture&lt;?&gt; beeperHandle =\n       scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\n     scheduler.schedule(new Runnable() {\n       public void run() { beeperHandle.cancel(true); }\n     }, 60 * 60, SECONDS);\n   }\n }\n</code></pre>\n<p>Here is a link to a <a href=\"https://stackoverflow.com/a/20388073/2851311\">StackOverflow answer</a> that uses ScheduledExecutorService to run a task at a specific time.</p>\n<p>Another alternative is to run your task as a CRON job. Here's a link to a <a href=\"https://stackoverflow.com/a/11840093/2851311\">StackOverflow answer</a> that uses CRON to schedule a Java program.</p>\n"}],"owner":{"account_id":23710044,"reputation":1,"user_id":17732021,"display_name":"Furkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1640095223,"creation_date":1640088982,"question_id":70435330,"body_markdown":"I&#39;m trying to make code that opens hourly programs made in Java. I have little knowledge of `java`. I tried to do similar below but it doesn&#39;t work as I want.\r\n\r\n### Code:\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n     for(int i = 0; i &lt; 5; i++) {\r\n          Runtime runtime = Runtime.getRuntime();\r\n          String[] s = new String[] {&quot;C:\\\\Program Files\\\\BraveSoftware\\\\Brave-Browser\\\\Application\\\\brave.exe&quot;};\r\n          Process process = runtime.exec(s);        \r\n     }\r\n}\r\n```","title":"How to make Java code that opens the program hourly","body":"<p>I'm trying to make code that opens hourly programs made in Java. I have little knowledge of <code>java</code>. I tried to do similar below but it doesn't work as I want.</p>\n<h3>Code:</h3>\n<pre><code>public static void main(String[] args) throws Exception {\n     for(int i = 0; i &lt; 5; i++) {\n          Runtime runtime = Runtime.getRuntime();\n          String[] s = new String[] {&quot;C:\\\\Program Files\\\\BraveSoftware\\\\Brave-Browser\\\\Application\\\\brave.exe&quot;};\n          Process process = runtime.exec(s);        \n     }\n}\n</code></pre>\n"},{"tags":["java","constructor","this","super"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1640094960,"post_id":70436476,"comment_id":124510126,"body_markdown":"FWIW, in your &#39;display&#39; method, you don&#39;t need `this` or `super` at all. Their role in that context is to explicitly specify which object you are talking about (and there is only one object there, despite it being defined by two class definitions).","body":"FWIW, in your &#39;display&#39; method, you don&#39;t need <code>this</code> or <code>super</code> at all. Their role in that context is to explicitly specify which object you are talking about (and there is only one object there, despite it being defined by two class definitions)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1640095015,"post_id":70436476,"comment_id":124510148,"body_markdown":"&quot;*What is the difference between &quot;this&quot; and &quot;super&quot; in the above case?*&quot; in your case there is no difference because you did not redefine fields with *same names* in your subclass. &quot;*And why is it that in the subclass constructor we can&#39;t use &quot;this&quot; to initialize the fields inherited from the superclass*&quot; we can but this is not the problem. Issue here is that first instruction in constructor needs to be call to some `super(..)`. It can be left if you wish compiler to generate `super()` but since your superclass doesn&#39;t have no-argument constructor you need to call it explicitly.","body":"&quot;<i>What is the difference between &quot;this&quot; and &quot;super&quot; in the above case?</i>&quot; in your case there is no difference because you did not redefine fields with <i>same names</i> in your subclass. &quot;<i>And why is it that in the subclass constructor we can&#39;t use &quot;this&quot; to initialize the fields inherited from the superclass</i>&quot; we can but this is not the problem. Issue here is that first instruction in constructor needs to be call to some <code>super(..)</code>. It can be left if you wish compiler to generate <code>super()</code> but since your superclass doesn&#39;t have no-argument constructor you need to call it explicitly."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1640095764,"post_id":70436476,"comment_id":124510480,"body_markdown":"Tldr, please &quot;study&quot; https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.11.2 (Ctrl+f, &quot;this&quot;, &quot;super&quot;)","body":"Tldr, please &quot;study&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.11.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a> (Ctrl+f, &quot;this&quot;, &quot;super&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1640095156,"creation_date":1640094582,"answer_id":70436528,"question_id":70436476,"body_markdown":"With `this` -&gt; you are pointing to the current object, to be more precise to the object that will be created from the current class. With the `super` you are able to access the fields from the parent class in this case `Animal`. To be more precise, YES you are able with `super` to access the `age` parameter since it&#39;s defined in the `Animal` (the parent class) but all fields that are going to be defined in `Dog` should be pointed with `this`. Also notice that in the constructor of `Dog` you must call `super` because you defined constructor in `Animal` saying that those fields will be set on creation of the object and again in `Dog` you are giving them values. ","title":"Using &quot;this&quot;/&quot;super&quot; in the subclass both give superclass&#39;s fields but only &quot;super&quot; is allowed in subclass constructor","body":"<p>With <code>this</code> -&gt; you are pointing to the current object, to be more precise to the object that will be created from the current class. With the <code>super</code> you are able to access the fields from the parent class in this case <code>Animal</code>. To be more precise, YES you are able with <code>super</code> to access the <code>age</code> parameter since it's defined in the <code>Animal</code> (the parent class) but all fields that are going to be defined in <code>Dog</code> should be pointed with <code>this</code>. Also notice that in the constructor of <code>Dog</code> you must call <code>super</code> because you defined constructor in <code>Animal</code> saying that those fields will be set on creation of the object and again in <code>Dog</code> you are giving them values.</p>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640095088,"creation_date":1640095088,"answer_id":70436642,"question_id":70436476,"body_markdown":"In `display()` the `this.` and `super.` are not needed. They would only be needed if the child class declared member variables with the same names as the super class:\r\n```\r\npublic static class Animal {\r\n    protected String name;\r\n    protected String age;\r\n\r\n    public Animal(String name, String age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\npublic static class Dog extends Animal {\r\n\r\n    protected String name;   // These are different from the ones\r\n    protected String age;    // in Animal\r\n\r\n    public Dog(String name, String age) {\r\n        super(name, age);\r\n        this.name = &quot;Something else&quot;;\r\n        this.age = &quot;123&quot;;\r\n    }\r\n\r\n    public void display() {\r\n        super.name = &quot;Doggy&quot;;  // Need super. to differentiate from Dog class&#39;s name\r\n        this.age = &quot;20&quot;;\r\n        System.out.println(this.name + &quot; is &quot; + this.age + &quot; years old&quot;);\r\n        System.out.println(super.name + &quot; is &quot; + super.age + &quot; years old&quot;);\r\n    }\r\n}\r\n\r\npublic static void main (String[] args) throws java.lang.Exception\r\n{\r\n\tDog dog = new Dog(&quot;Sparky&quot;, &quot;3&quot;);\r\n\tdog.display();\r\n}\r\n```\r\nOutput is:\r\n```none\r\nSomething else is 20 years old\r\nDoggy is 3 years old\r\n```","title":"Using &quot;this&quot;/&quot;super&quot; in the subclass both give superclass&#39;s fields but only &quot;super&quot; is allowed in subclass constructor","body":"<p>In <code>display()</code> the <code>this.</code> and <code>super.</code> are not needed. They would only be needed if the child class declared member variables with the same names as the super class:</p>\n<pre><code>public static class Animal {\n    protected String name;\n    protected String age;\n\n    public Animal(String name, String age) {\n        this.name = name;\n        this.age = age;\n    }\n}\npublic static class Dog extends Animal {\n\n    protected String name;   // These are different from the ones\n    protected String age;    // in Animal\n\n    public Dog(String name, String age) {\n        super(name, age);\n        this.name = &quot;Something else&quot;;\n        this.age = &quot;123&quot;;\n    }\n\n    public void display() {\n        super.name = &quot;Doggy&quot;;  // Need super. to differentiate from Dog class's name\n        this.age = &quot;20&quot;;\n        System.out.println(this.name + &quot; is &quot; + this.age + &quot; years old&quot;);\n        System.out.println(super.name + &quot; is &quot; + super.age + &quot; years old&quot;);\n    }\n}\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    Dog dog = new Dog(&quot;Sparky&quot;, &quot;3&quot;);\n    dog.display();\n}\n</code></pre>\n<p>Output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Something else is 20 years old\nDoggy is 3 years old\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640095136,"creation_date":1640095136,"answer_id":70436653,"question_id":70436476,"body_markdown":"`this`, the keyword, has two separate jobs.\r\n\r\nIt&#39;s exactly like how `+` means two __completely__ different things in java: `5 + 2` does integer addition, `&quot;foo&quot; + &quot;bar&quot;` does string concatenation. Same symbol, 2 unrelated jobs. In english, The word __bank__ means both the land next to a river and also a financial institution. Same word, 2 unrelated jobs.\r\n\r\n`this` is no different.\r\n\r\n1. It means &#39;this object&#39;. There is only one object here: An object of type Dog. There isn&#39;t &#39;a Dog object&#39; and contained inside it a separate &#39;Animal super object&#39;. That&#39;s not how it works. There is just the Dog object, which contains all fields - any fields you defined in Dog, and any field you defined in Animal.\r\n\r\nHence, `this.someFieldDefinedInYourSuperClass = foo;` is fine, and that makes sense.\r\n\r\n2. It also means: Select a constructor. This version of the `this` keyword always comes with parentheses immediately following the keyword. `this(params);` is what it looks like, and it lets you invoke one of your constructors from another one of your constructors. `super()` is a similar construct that lets you call one of your super constructors. Note that all constructors must neccessarily use one of these; if you fail to do so the compiler injects `super();` as first line in your constructor silently.\r\n\r\nExample:\r\n\r\n```\r\npublic Student(LocalDate birthDate, String name) {\r\n  this(generateNewStudentId(), birthDate, name);\r\n}\r\n\r\npublic Student(String id, LocalDate birthDate, String name) {\r\n  this.id = id;\r\n  this.birthDate = birthDate;\r\n  this.name = name;\r\n}\r\n```\r\n\r\nhere the first usage is simply: Call the other constructor using the provided values. The second (and third and fourth) usages are the &#39;it is this object&#39; variant.\r\n\r\n\r\nIn your example, you use `super(name, age);`. This invokes the `public Animal(String name, int age)` constructor from your superclass. It doesn&#39;t &quot;set the name and the age&quot; - it calls that constructor. What that constructor does? Who knows - you&#39;d have to check the source. Maybe the constructor plays Feliz Navidad from the speakers first. You happen to know that it &#39;just&#39; does `this.name = name; this.age = age;` but that&#39;s just because that&#39;s what&#39;s currently in `Animal.java`.\r\n\r\nIn contrast, `this.name = name;` means &quot;set the value of this object&#39;s `name` field to the  value of the `name` parameter&quot;.","title":"Using &quot;this&quot;/&quot;super&quot; in the subclass both give superclass&#39;s fields but only &quot;super&quot; is allowed in subclass constructor","body":"<p><code>this</code>, the keyword, has two separate jobs.</p>\n<p>It's exactly like how <code>+</code> means two <strong>completely</strong> different things in java: <code>5 + 2</code> does integer addition, <code>&quot;foo&quot; + &quot;bar&quot;</code> does string concatenation. Same symbol, 2 unrelated jobs. In english, The word <strong>bank</strong> means both the land next to a river and also a financial institution. Same word, 2 unrelated jobs.</p>\n<p><code>this</code> is no different.</p>\n<ol>\n<li>It means 'this object'. There is only one object here: An object of type Dog. There isn't 'a Dog object' and contained inside it a separate 'Animal super object'. That's not how it works. There is just the Dog object, which contains all fields - any fields you defined in Dog, and any field you defined in Animal.</li>\n</ol>\n<p>Hence, <code>this.someFieldDefinedInYourSuperClass = foo;</code> is fine, and that makes sense.</p>\n<ol start=\"2\">\n<li>It also means: Select a constructor. This version of the <code>this</code> keyword always comes with parentheses immediately following the keyword. <code>this(params);</code> is what it looks like, and it lets you invoke one of your constructors from another one of your constructors. <code>super()</code> is a similar construct that lets you call one of your super constructors. Note that all constructors must neccessarily use one of these; if you fail to do so the compiler injects <code>super();</code> as first line in your constructor silently.</li>\n</ol>\n<p>Example:</p>\n<pre><code>public Student(LocalDate birthDate, String name) {\n  this(generateNewStudentId(), birthDate, name);\n}\n\npublic Student(String id, LocalDate birthDate, String name) {\n  this.id = id;\n  this.birthDate = birthDate;\n  this.name = name;\n}\n</code></pre>\n<p>here the first usage is simply: Call the other constructor using the provided values. The second (and third and fourth) usages are the 'it is this object' variant.</p>\n<p>In your example, you use <code>super(name, age);</code>. This invokes the <code>public Animal(String name, int age)</code> constructor from your superclass. It doesn't &quot;set the name and the age&quot; - it calls that constructor. What that constructor does? Who knows - you'd have to check the source. Maybe the constructor plays Feliz Navidad from the speakers first. You happen to know that it 'just' does <code>this.name = name; this.age = age;</code> but that's just because that's what's currently in <code>Animal.java</code>.</p>\n<p>In contrast, <code>this.name = name;</code> means &quot;set the value of this object's <code>name</code> field to the  value of the <code>name</code> parameter&quot;.</p>\n"}],"owner":{"account_id":15441060,"reputation":71,"user_id":11139624,"display_name":"constantem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640129567,"accepted_answer_id":70436653,"answer_count":3,"score":1,"last_activity_date":1640095156,"creation_date":1640094355,"question_id":70436476,"body_markdown":"I&#39;m trying to understand the usage of this and super in subclass methods and in subclass constructor:\r\n\r\nsuper class:\r\n```\r\npublic class Animal {\r\n    protected String name;\r\n    protected String age;\r\n\r\n    public Animal(String name, String age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\nthis and super keywords used in the subclass method:\r\n```\r\npublic class Dog extends Animal {\r\n\r\n    public Dog(String name, String age) {\r\n        super(name, age);\r\n    }\r\n\r\n    public void display() {\r\n        this.name = &quot;Doggy&quot;;\r\n        super.age = &quot;20&quot;;\r\n        System.out.println(this.name + &quot; is &quot; + super.age + &quot; years old&quot;);\r\n    }\r\n}\r\n```\r\nWhat is the difference between &quot;this&quot; and &quot;super&quot; in the above case? And why is it that in the subclass constructor we can&#39;t use &quot;this&quot; to initialize the fields inherited from the superclass, as in the below case, but we can use super() to initialize the same fields in the superclass?\r\n```\r\npublic class Dog extends Animal {\r\n\r\n    public Dog(String name, String age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n...\r\n}\r\n```","title":"Using &quot;this&quot;/&quot;super&quot; in the subclass both give superclass&#39;s fields but only &quot;super&quot; is allowed in subclass constructor","body":"<p>I'm trying to understand the usage of this and super in subclass methods and in subclass constructor:</p>\n<p>super class:</p>\n<pre><code>public class Animal {\n    protected String name;\n    protected String age;\n\n    public Animal(String name, String age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>this and super keywords used in the subclass method:</p>\n<pre><code>public class Dog extends Animal {\n\n    public Dog(String name, String age) {\n        super(name, age);\n    }\n\n    public void display() {\n        this.name = &quot;Doggy&quot;;\n        super.age = &quot;20&quot;;\n        System.out.println(this.name + &quot; is &quot; + super.age + &quot; years old&quot;);\n    }\n}\n</code></pre>\n<p>What is the difference between &quot;this&quot; and &quot;super&quot; in the above case? And why is it that in the subclass constructor we can't use &quot;this&quot; to initialize the fields inherited from the superclass, as in the below case, but we can use super() to initialize the same fields in the superclass?</p>\n<pre><code>public class Dog extends Animal {\n\n    public Dog(String name, String age) {\n        this.name = name;\n        this.age = age;\n    }\n...\n}\n</code></pre>\n"},{"tags":["java","modulo"],"answers":[{"tags":[],"owner":{"account_id":114492,"reputation":14044,"user_id":301023,"display_name":"WhirlWind"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640095062,"creation_date":1275361148,"answer_id":2947060,"question_id":2947044,"body_markdown":"I thought the regular modulus operator would work for this in Java, but it can&#39;t be hard to code. Just divide the numerator by the denominator, and take the integer portion of the result. Multiply that by the denominator, and subtract the result from the numerator.\r\n\r\n    x = n/d\r\n    xint = Integer portion of x\r\n    result = n - d*xint","title":"How do I use modulus for float/double?","body":"<p>I thought the regular modulus operator would work for this in Java, but it can't be hard to code. Just divide the numerator by the denominator, and take the integer portion of the result. Multiply that by the denominator, and subtract the result from the numerator.</p>\n<pre><code>x = n/d\nxint = Integer portion of x\nresult = n - d*xint\n</code></pre>\n"},{"tags":[],"owner":{"account_id":721,"reputation":13438,"user_id":943,"accept_rate":81,"display_name":"RodeoClown"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1526564832,"creation_date":1275361181,"answer_id":2947064,"question_id":2947044,"body_markdown":"You probably had a typo when you first ran it.\r\n\r\nevaluating `0.5 % 0.3` returns &#39;0.2&#39; (A double) as expected.\r\n\r\nMindprod has a [good overview of how modulus works][1] in Java.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/modulus.html#FLOATINGPOINT","title":"How do I use modulus for float/double?","body":"<p>You probably had a typo when you first ran it.</p>\n\n<p>evaluating <code>0.5 % 0.3</code> returns '0.2' (A double) as expected.</p>\n\n<p>Mindprod has a <a href=\"http://mindprod.com/jgloss/modulus.html#FLOATINGPOINT\" rel=\"noreferrer\">good overview of how modulus works</a> in Java.</p>\n"},{"tags":[],"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275361194,"creation_date":1275361194,"answer_id":2947065,"question_id":2947044,"body_markdown":"`fmod` is the standard C function for handling floating-point modulus; I imagine your source was saying that Java handles floating-point modulus the same as C&#39;s `fmod` function. In Java you can use the `%` operator on doubles the same as on integers:\r\n\r\n    int x = 5 % 3; // x = 2\r\n    double y = .5 % .3; // y = .2","title":"How do I use modulus for float/double?","body":"<p><code>fmod</code> is the standard C function for handling floating-point modulus; I imagine your source was saying that Java handles floating-point modulus the same as C's <code>fmod</code> function. In Java you can use the <code>%</code> operator on doubles the same as on integers:</p>\n\n<pre><code>int x = 5 % 3; // x = 2\ndouble y = .5 % .3; // y = .2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1275362343,"creation_date":1275361410,"answer_id":2947077,"question_id":2947044,"body_markdown":"Unlike C, Java allows using the % for both integer and floating point and (unlike C89 and C++) it is well-defined for all inputs (including negatives):\r\n\r\nFrom [JLS &#167;15.17.3][1]:\r\n\r\n&gt; The result of a floating-point\r\n&gt; remainder operation is determined by\r\n&gt; the rules of IEEE arithmetic:\r\n&gt; \r\n&gt; * If either operand is NaN, the result is NaN.\r\n&gt; * If the result is not NaN, the sign of the result equals the sign of\r\n&gt; the dividend.\r\n&gt; * If the dividend is an infinity, or the divisor is a zero, or both, the\r\n&gt; result is NaN.\r\n&gt; * If the dividend is finite and the divisor is an infinity, the result\r\n&gt; equals the dividend.\r\n&gt; * If the dividend is a zero and the divisor is finite, the result\r\n&gt; equals the dividend.\r\n&gt; * In the remaining cases, where neither an infinity, nor a zero, nor\r\n&gt; NaN is involved, the floating-point\r\n&gt; remainder r from the division of a\r\n&gt; dividend n by a divisor d is defined\r\n&gt; by the mathematical relation r=n-(d&#183;q)\r\n&gt; where q is an integer that is negative\r\n&gt; only if n/d is negative and positive\r\n&gt; only if n/d is positive, and whose\r\n&gt; magnitude is as large as possible\r\n&gt; without exceeding the magnitude of the\r\n&gt; true mathematical quotient of n and d.\r\n\r\nSo for your example, 0.5/0.3 = 1.6... .  q has the same sign (positive) as 0.5 (the dividend), and the magnitude is 1 (integer with largest magnitude not exceeding magnitude of 1.6...), and r = 0.5 - (0.3 * 1) = 0.2 \r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.3","title":"How do I use modulus for float/double?","body":"<p>Unlike C, Java allows using the % for both integer and floating point and (unlike C89 and C++) it is well-defined for all inputs (including negatives):</p>\n\n<p>From <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.3\" rel=\"noreferrer\">JLS §15.17.3</a>:</p>\n\n<blockquote>\n  <p>The result of a floating-point\n  remainder operation is determined by\n  the rules of IEEE arithmetic:</p>\n  \n  <ul>\n  <li>If either operand is NaN, the result is NaN.</li>\n  <li>If the result is not NaN, the sign of the result equals the sign of\n  the dividend.</li>\n  <li>If the dividend is an infinity, or the divisor is a zero, or both, the\n  result is NaN.</li>\n  <li>If the dividend is finite and the divisor is an infinity, the result\n  equals the dividend.</li>\n  <li>If the dividend is a zero and the divisor is finite, the result\n  equals the dividend.</li>\n  <li>In the remaining cases, where neither an infinity, nor a zero, nor\n  NaN is involved, the floating-point\n  remainder r from the division of a\n  dividend n by a divisor d is defined\n  by the mathematical relation r=n-(d·q)\n  where q is an integer that is negative\n  only if n/d is negative and positive\n  only if n/d is positive, and whose\n  magnitude is as large as possible\n  without exceeding the magnitude of the\n  true mathematical quotient of n and d.</li>\n  </ul>\n</blockquote>\n\n<p>So for your example, 0.5/0.3 = 1.6... .  q has the same sign (positive) as 0.5 (the dividend), and the magnitude is 1 (integer with largest magnitude not exceeding magnitude of 1.6...), and r = 0.5 - (0.3 * 1) = 0.2 </p>\n"}],"owner":{"account_id":145307,"reputation":4418,"user_id":355023,"accept_rate":96,"display_name":"ShrimpCrackers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146177,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":2947064,"answer_count":4,"score":56,"last_activity_date":1640095062,"creation_date":1275360798,"question_id":2947044,"body_markdown":"I&#39;m creating an RPN calculator for a school project and having trouble with the modulus operator. Since we&#39;re using the double data type, modulus won&#39;t work on floating-point numbers. For example, 0.5 % 0.3 should return 0.2, but I&#39;m getting a division by zero exception.\r\n\r\nThe instruction says to use `fmod()`. I&#39;ve looked everywhere for `fmod()`, including javadoc, but I can&#39;t find it. I&#39;m starting to think it&#39;s a method I&#39;m going to have to create?\r\n\r\nEdit: Hmmm, strange. I just plugged in those numbers again and it seems to be working fine… but just in case. Do I need to watch out for using the mod operator in Java when using floating types? I know something like this can&#39;t be done in C++ (I think).","title":"How do I use modulus for float/double?","body":"<p>I'm creating an RPN calculator for a school project and having trouble with the modulus operator. Since we're using the double data type, modulus won't work on floating-point numbers. For example, 0.5 % 0.3 should return 0.2, but I'm getting a division by zero exception.</p>\n<p>The instruction says to use <code>fmod()</code>. I've looked everywhere for <code>fmod()</code>, including javadoc, but I can't find it. I'm starting to think it's a method I'm going to have to create?</p>\n<p>Edit: Hmmm, strange. I just plugged in those numbers again and it seems to be working fine… but just in case. Do I need to watch out for using the mod operator in Java when using floating types? I know something like this can't be done in C++ (I think).</p>\n"},{"tags":["java","spring","spring-boot","spring-logback"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1640006453,"post_id":70422405,"comment_id":124485170,"body_markdown":"I assume, this question is better fit for logback forums ?","body":"I assume, this question is better fit for logback forums ?"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1640006494,"post_id":70422405,"comment_id":124485180,"body_markdown":"Did you research on the sister-site [security.se]? There are [some answers](https://security.stackexchange.com/questions/257943/am-i-protected-from-log4j-vulnerability-if-i-run-java-8u121-or-newer/257964#257964) already.","body":"Did you research on the sister-site <a href=\"https://security.stackexchange.com\">Information Security</a>? There are <a href=\"https://security.stackexchange.com/questions/257943/am-i-protected-from-log4j-vulnerability-if-i-run-java-8u121-or-newer/257964#257964\">some answers</a> already."},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1640006599,"post_id":70422405,"comment_id":124485212,"body_markdown":"if you are using application.properties and it is not writeable, you are good to go. Why not just upgrade?","body":"if you are using application.properties and it is not writeable, you are good to go. Why not just upgrade?"},{"owner":{"account_id":20728665,"reputation":1,"user_id":15221276,"display_name":"mugiiChan"},"score":0,"creation_date":1640007756,"post_id":70422405,"comment_id":124485663,"body_markdown":"I don&#39;t know where i can find a logback forums,","body":"I don&#39;t know where i can find a logback forums,"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1640007845,"post_id":70422405,"comment_id":124485696,"body_markdown":"If you are not using a custom logback config XML and only rely on [Spring-Boot&#39;s default logback configuration](https://stackoverflow.com/questions/55348674/understanding-spring-boot-2s-default-logback-configuration), there would be nothing to have write-access to.","body":"If you are not using a custom logback config XML and only rely on <a href=\"https://stackoverflow.com/questions/55348674/understanding-spring-boot-2s-default-logback-configuration\">Spring-Boot&#39;s default logback configuration</a>, there would be nothing to have write-access to."},{"owner":{"account_id":20728665,"reputation":1,"user_id":15221276,"display_name":"mugiiChan"},"score":0,"creation_date":1640008146,"post_id":70422405,"comment_id":124485804,"body_markdown":"Yes, i&#39;m not using a custom logback config, like i said, i&#39;m using some properties on application.properties like the level of logs, the file path ... this is why i&#39;m confused about this write access think","body":"Yes, i&#39;m not using a custom logback config, like i said, i&#39;m using some properties on application.properties like the level of logs, the file path ... this is why i&#39;m confused about this write access think"}],"owner":{"account_id":20728665,"reputation":1,"user_id":15221276,"display_name":"mugiiChan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640094531,"creation_date":1640006243,"question_id":70422405,"body_markdown":"&lt;br&gt;\r\n\r\nI want to ask you about the new version 1.2.9 of Logback that have been released concerning [LOGBACK-1591][1] \r\n\r\nLogback are saying that  the vulnerability mentioned in CVE-2021-42550 requires write access to logback&#39;s configuration file as a prerequisite\r\n\r\nAnd i&#39;m using logback &lt; 1.2.9 on my spring boot project, but i don&#39;t have a logback.xml, i&#39;m just using some logging properties on the application.properties\r\n\r\nCould you telle me please if i&#39;m concerned about this vulnerability or not ?\r\n\r\nThnak you in advance.\r\n\r\n  [1]: https://jira.qos.ch/browse/LOGBACK-1591","title":"LogBack vulnerability","body":"<br>\n<p>I want to ask you about the new version 1.2.9 of Logback that have been released concerning <a href=\"https://jira.qos.ch/browse/LOGBACK-1591\" rel=\"nofollow noreferrer\">LOGBACK-1591</a></p>\n<p>Logback are saying that  the vulnerability mentioned in CVE-2021-42550 requires write access to logback's configuration file as a prerequisite</p>\n<p>And i'm using logback &lt; 1.2.9 on my spring boot project, but i don't have a logback.xml, i'm just using some logging properties on the application.properties</p>\n<p>Could you telle me please if i'm concerned about this vulnerability or not ?</p>\n<p>Thnak you in advance.</p>\n"},{"tags":["java","macos","scala","sbt"],"comments":[{"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"score":0,"creation_date":1586202888,"post_id":61067260,"comment_id":108037603,"body_markdown":"Just set `PATH` and `JAVA_HOME` in your user env","body":"Just set <code>PATH</code> and <code>JAVA_HOME</code> in your user env"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586201701,"creation_date":1586201701,"answer_id":61067592,"question_id":61067260,"body_markdown":"Have a look at a utility like [Sdk Man](https://sdkman.io/).\r\n\r\nIt is multi-platform and allows you to set any desired JDK as a default one.  \r\n\r\nAs well as changing it to another provider/version when it will be required.","title":"How can I install openjdk 8 and sbt on mac and have openjdk 8 (not 13) the default one?","body":"<p>Have a look at a utility like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">Sdk Man</a>.</p>\n\n<p>It is multi-platform and allows you to set any desired JDK as a default one.  </p>\n\n<p>As well as changing it to another provider/version when it will be required.</p>\n"},{"tags":[],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640094155,"creation_date":1586868982,"answer_id":61208259,"question_id":61067260,"body_markdown":"Indeed, SDK Man is an option.\r\nIt actually works with **brew** also but there need to be just a few manual steps: here they are:\r\n\r\nInstalling sbt, java8, jenv &amp; configure the shell\r\n\r\nWe used brew to install sbt (which in its turn installs java 13), and brew cask to install openjdk java 8, like this:\r\n\r\n```\r\nbrew install sbt\r\nbrew tap AdoptOpenJDK/openjdk\r\nbrew cask install adoptjava8\r\n```\r\nWe will use jenv to manage the java versions, with the information from https://github.com/Homebrew/homebrew-core/issues/31390\r\n \r\nBasically the next steps are:\r\n```\r\nbrew install jenv\r\njenv init -\r\necho &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\r\necho &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.zprofile\r\njenv add &lt;path-to-java8-Home-Dir&gt;\r\n```\r\n\r\n**Then restart your terminal** and you should now be able to run `sbt`\r\n\r\nWhere at time of writing `&lt;path-to-java8-Home-Dir&gt;` is `/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home`","title":"How can I install openjdk 8 and sbt on mac and have openjdk 8 (not 13) the default one?","body":"<p>Indeed, SDK Man is an option.\nIt actually works with <strong>brew</strong> also but there need to be just a few manual steps: here they are:</p>\n<p>Installing sbt, java8, jenv &amp; configure the shell</p>\n<p>We used brew to install sbt (which in its turn installs java 13), and brew cask to install openjdk java 8, like this:</p>\n<pre><code>brew install sbt\nbrew tap AdoptOpenJDK/openjdk\nbrew cask install adoptjava8\n</code></pre>\n<p>We will use jenv to manage the java versions, with the information from <a href=\"https://github.com/Homebrew/homebrew-core/issues/31390\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/homebrew-core/issues/31390</a></p>\n<p>Basically the next steps are:</p>\n<pre><code>brew install jenv\njenv init -\necho 'eval &quot;$(jenv init -)&quot;' &gt;&gt; ~/.bash_profile\necho 'eval &quot;$(jenv init -)&quot;' &gt;&gt; ~/.zprofile\njenv add &lt;path-to-java8-Home-Dir&gt;\n</code></pre>\n<p><strong>Then restart your terminal</strong> and you should now be able to run <code>sbt</code></p>\n<p>Where at time of writing <code>&lt;path-to-java8-Home-Dir&gt;</code> is <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</code></p>\n"}],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61208259,"answer_count":2,"score":2,"last_activity_date":1640094155,"creation_date":1586200397,"question_id":61067260,"body_markdown":"Installing java 8 and sbt with brew and/or brew cask is clearly possible,\r\nThe problem I am hitting is that brew installs java 13 as sbt dependency,\r\n\r\nAnd I do not know a general way to go back to java 8 as default, since there are so many ways potentially to opt between java version some of which i am aware include PATH, JAVA_HOME, ln -s, java_exec selector.\r\n\r\nAnother problem potentially is that brew install sbt installs brew install java which is 13,\r\nBut java 8 I install it via brew cask.\r\n\r\nThe TL is saying that Java 13 or 14 might be causing some issues e.g. tests fails, should I push for latest versions of OpenJdk, Scala, SBT, etc?","title":"How can I install openjdk 8 and sbt on mac and have openjdk 8 (not 13) the default one?","body":"<p>Installing java 8 and sbt with brew and/or brew cask is clearly possible,\nThe problem I am hitting is that brew installs java 13 as sbt dependency,</p>\n\n<p>And I do not know a general way to go back to java 8 as default, since there are so many ways potentially to opt between java version some of which i am aware include PATH, JAVA_HOME, ln -s, java_exec selector.</p>\n\n<p>Another problem potentially is that brew install sbt installs brew install java which is 13,\nBut java 8 I install it via brew cask.</p>\n\n<p>The TL is saying that Java 13 or 14 might be causing some issues e.g. tests fails, should I push for latest versions of OpenJdk, Scala, SBT, etc?</p>\n"},{"tags":["java","constructor","subclass","superclass"],"answers":[{"tags":[],"owner":{"account_id":5216607,"reputation":126,"user_id":4171355,"accept_rate":25,"display_name":"Cody Anderson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1421963159,"creation_date":1421963159,"answer_id":28099277,"question_id":28099157,"body_markdown":"It sounds like something is wrong with your Override method or subclass. Because it sounds like when it is implements a variable the value is not getting instantiated so it is defaulting to 0 and then when you remove it the super class takes over resulting in you getting the value 10.","title":"Java subclass constructor inherited member","body":"<p>It sounds like something is wrong with your Override method or subclass. Because it sounds like when it is implements a variable the value is not getting instantiated so it is defaulting to 0 and then when you remove it the super class takes over resulting in you getting the value 10.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421963287,"creation_date":1421963287,"answer_id":28099303,"question_id":28099157,"body_markdown":"Yes, the subclass constructor implicitly calls the superclass constructor if such a call is not explicitly given.  But it prints `0` because of the fact that the `implicitValue` method is overridden in `SubClass`.\r\n\r\n1. The superclass constructor is called.  Here, the `SuperClass` part of the object is created.  All variables are initialized.  Because there is no explicit value given, the compiler gives `superClassValue` the default value, `0`.  The superclass constructor then calls `implicitValue()`, which calls the subclass&#39;s method.  This method returns `superClassValue`, which was initialized to `0`.  This value is explicitly assigned back to `superClassValue`.\r\n2. The subclass initializes its `subClassValue` to `10`.\r\n3. The `getValue()` method is called, and it returns `superClassValue`, which is `0`.  `The value is 0` is printed.\r\n\r\nIf you were to remove the `implicitValue` method in `SubClass`, then it would inherit `SuperClass`&#39;s version of the method, which returns `10`.\r\n\r\nIf you were to modify the `implicitValue` method in `SubClass` to return `5`, then it would initialize `superClassValue` to `5`, and it would print `The value is 5`.\r\n\r\n","title":"Java subclass constructor inherited member","body":"<p>Yes, the subclass constructor implicitly calls the superclass constructor if such a call is not explicitly given.  But it prints <code>0</code> because of the fact that the <code>implicitValue</code> method is overridden in <code>SubClass</code>.</p>\n\n<ol>\n<li>The superclass constructor is called.  Here, the <code>SuperClass</code> part of the object is created.  All variables are initialized.  Because there is no explicit value given, the compiler gives <code>superClassValue</code> the default value, <code>0</code>.  The superclass constructor then calls <code>implicitValue()</code>, which calls the subclass's method.  This method returns <code>superClassValue</code>, which was initialized to <code>0</code>.  This value is explicitly assigned back to <code>superClassValue</code>.</li>\n<li>The subclass initializes its <code>subClassValue</code> to <code>10</code>.</li>\n<li>The <code>getValue()</code> method is called, and it returns <code>superClassValue</code>, which is <code>0</code>.  <code>The value is 0</code> is printed.</li>\n</ol>\n\n<p>If you were to remove the <code>implicitValue</code> method in <code>SubClass</code>, then it would inherit <code>SuperClass</code>'s version of the method, which returns <code>10</code>.</p>\n\n<p>If you were to modify the <code>implicitValue</code> method in <code>SubClass</code> to return <code>5</code>, then it would initialize <code>superClassValue</code> to <code>5</code>, and it would print <code>The value is 5</code>.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1421964645,"creation_date":1421963499,"answer_id":28099344,"question_id":28099157,"body_markdown":"TL;DR \r\n\r\nProblem is that `implicitValue` from `SubClass` is used by superclass implicit SuperClass constructor (`super()`) via `implicitValue()` method, before `subClassValue = 20;` will be executed in SubClass constructor, so it returns default value of `subClassValue` which for `int` field is `0`.\r\n\r\n---\r\n&gt;Does the SubClass constructor make use of the SuperClass constructor?\r\n\r\nYes, subclass constructor at start always invokes superclass constructor, so code \r\n\r\n\tpublic SubClass() {\r\n\t\tsubClassValue = 20;\r\n\t}\r\n\r\nis same as \r\n\r\n\tpublic SubClass() {\r\n        super();//superclass constructor\r\n\t\tsubClassValue = 20;\r\n\t}\r\n\r\nBut lets take a look at your code. You are printing result of `getVlaue()` method which exists in your superclass\r\n\r\n\tpublic int getValue() {\r\n\t\treturn superClassValue;\r\n\t}\r\n\r\nAs you see it returns value of `superClassValue`. Before you invoke `getVlaue()` you are creating `ss` instance, so you are invoking code \r\n\r\n    super();//superclass constructor\r\n\tsubClassValue = 20;\r\n\r\nwhich means you are invoking constructor of superclass which looks like\r\n\r\n    public SuperClass() {\r\n        superClassValue = implicitValue();\r\n    }\r\n\r\nso `this.superClassValue` is initialized with returned value of `implicitValue()` method, but because of [dynamic binding][1] (late binding) JVM will try to search for implementation of this method starting from actual class of `this` which is `SubClass`, and since this class has its own overridden version it will be invoked\r\n\r\n    public int implicitValue() {\r\n        return subClassValue;\r\n    }\r\n\r\nbut `subClassValue` wasn&#39;t set to anything yet\r\n\r\n    super();// &lt;-- we are still here\r\n\tsubClassValue = 20;// this line was not executed yet\r\n\r\nso `subClassValue` still has its default value `0`, which means that \r\n\r\n    superClassValue = implicitValue(); //will be initialized with 0;\r\n\r\nso \r\n\r\n    public int getValue() {\r\n        return superClassValue;\r\n    }\r\n\r\nwill return `0`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Late_binding","title":"Java subclass constructor inherited member","body":"<p>TL;DR </p>\n\n<p>Problem is that <code>implicitValue</code> from <code>SubClass</code> is used by superclass implicit SuperClass constructor (<code>super()</code>) via <code>implicitValue()</code> method, before <code>subClassValue = 20;</code> will be executed in SubClass constructor, so it returns default value of <code>subClassValue</code> which for <code>int</code> field is <code>0</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Does the SubClass constructor make use of the SuperClass constructor?</p>\n</blockquote>\n\n<p>Yes, subclass constructor at start always invokes superclass constructor, so code </p>\n\n<pre><code>public SubClass() {\n    subClassValue = 20;\n}\n</code></pre>\n\n<p>is same as </p>\n\n<pre><code>public SubClass() {\n    super();//superclass constructor\n    subClassValue = 20;\n}\n</code></pre>\n\n<p>But lets take a look at your code. You are printing result of <code>getVlaue()</code> method which exists in your superclass</p>\n\n<pre><code>public int getValue() {\n    return superClassValue;\n}\n</code></pre>\n\n<p>As you see it returns value of <code>superClassValue</code>. Before you invoke <code>getVlaue()</code> you are creating <code>ss</code> instance, so you are invoking code </p>\n\n<pre><code>super();//superclass constructor\nsubClassValue = 20;\n</code></pre>\n\n<p>which means you are invoking constructor of superclass which looks like</p>\n\n<pre><code>public SuperClass() {\n    superClassValue = implicitValue();\n}\n</code></pre>\n\n<p>so <code>this.superClassValue</code> is initialized with returned value of <code>implicitValue()</code> method, but because of <a href=\"http://en.wikipedia.org/wiki/Late_binding\" rel=\"nofollow\">dynamic binding</a> (late binding) JVM will try to search for implementation of this method starting from actual class of <code>this</code> which is <code>SubClass</code>, and since this class has its own overridden version it will be invoked</p>\n\n<pre><code>public int implicitValue() {\n    return subClassValue;\n}\n</code></pre>\n\n<p>but <code>subClassValue</code> wasn't set to anything yet</p>\n\n<pre><code>super();// &lt;-- we are still here\nsubClassValue = 20;// this line was not executed yet\n</code></pre>\n\n<p>so <code>subClassValue</code> still has its default value <code>0</code>, which means that </p>\n\n<pre><code>superClassValue = implicitValue(); //will be initialized with 0;\n</code></pre>\n\n<p>so </p>\n\n<pre><code>public int getValue() {\n    return superClassValue;\n}\n</code></pre>\n\n<p>will return <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640094125,"creation_date":1421963567,"answer_id":28099364,"question_id":28099157,"body_markdown":"1. In your case: SuperClass constructor will be called by default.\r\n\r\n2. Logic for new SubClass().\r\n\r\nIt will call the constructor of the SuperClass first. When the constructor of the SuperClass is being called - A value return from the implicitValue() will be assigned to the variable superClassValue - The method implicitValue() being called is the method Of the SubClass (NOT the implicitValue() of SupperClass as you thought - Polymorphism feature of OOP).\r\n\r\nWhen the implicitValue() of the SubClass is being called, the field subClassValue is not initialized yet so the field subClassValue still be ZERO. That is the reason you see Zero in the output.\r\n\r\n3. When you remove override the implicitValue from the SubClass. the implicitValue() being called is the implicitValue() of the SupperClass --&gt; This is why you see 10 in the output.","title":"Java subclass constructor inherited member","body":"<ol>\n<li><p>In your case: SuperClass constructor will be called by default.</p>\n</li>\n<li><p>Logic for new SubClass().</p>\n</li>\n</ol>\n<p>It will call the constructor of the SuperClass first. When the constructor of the SuperClass is being called - A value return from the implicitValue() will be assigned to the variable superClassValue - The method implicitValue() being called is the method Of the SubClass (NOT the implicitValue() of SupperClass as you thought - Polymorphism feature of OOP).</p>\n<p>When the implicitValue() of the SubClass is being called, the field subClassValue is not initialized yet so the field subClassValue still be ZERO. That is the reason you see Zero in the output.</p>\n<ol start=\"3\">\n<li>When you remove override the implicitValue from the SubClass. the implicitValue() being called is the implicitValue() of the SupperClass --&gt; This is why you see 10 in the output.</li>\n</ol>\n"}],"owner":{"account_id":5669098,"reputation":41,"user_id":4484374,"display_name":"ShadowStep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":28099344,"answer_count":4,"score":3,"last_activity_date":1640094125,"creation_date":1421962655,"question_id":28099157,"body_markdown":"I have a question as to why does this piece of code, when executed, prints out the value 0. I don&#39;t exactly understand what happens in the SubClass constructor, and why is it that when I erase the overridden method implicitValue, it prints out 10. Does the SubClass constructor make use of the SuperClass constructor? \r\nThank you. \r\n\r\n\r\n    class SuperClass {\r\n    \tprotected int superClassValue;\r\n    \r\n    \tpublic SuperClass() {\r\n    \t\tsuperClassValue = implicitValue();\r\n    \t}\r\n    \r\n    \tpublic int implicitValue() {\r\n    \t\treturn 10;\r\n    \t}\r\n    \r\n    \tpublic int getValue() {\r\n    \t\treturn superClassValue;\r\n    \t}\r\n    }\r\n    \r\n    class SubClass extends SuperClass {\r\n    \tprivate int subClassValue;\r\n    \r\n    \tpublic SubClass() {\r\n    \t\tsubClassValue = 20;\r\n    \r\n    \t}\r\n    \r\n    \tpublic int implicitValue() {\r\n    \t\treturn subClassValue;\r\n    \r\n    \t}\r\n    }\r\n    \r\n    class Example {\r\n    \tpublic static void main(String argv[]) {\r\n    \t\tSubClass ss = new SubClass();\r\n    \t\tSystem.out.println(&quot;The value is &quot; + ss.getValue());\r\n    \r\n    \t}\r\n    }","title":"Java subclass constructor inherited member","body":"<p>I have a question as to why does this piece of code, when executed, prints out the value 0. I don't exactly understand what happens in the SubClass constructor, and why is it that when I erase the overridden method implicitValue, it prints out 10. Does the SubClass constructor make use of the SuperClass constructor? \nThank you. </p>\n\n<pre><code>class SuperClass {\n    protected int superClassValue;\n\n    public SuperClass() {\n        superClassValue = implicitValue();\n    }\n\n    public int implicitValue() {\n        return 10;\n    }\n\n    public int getValue() {\n        return superClassValue;\n    }\n}\n\nclass SubClass extends SuperClass {\n    private int subClassValue;\n\n    public SubClass() {\n        subClassValue = 20;\n\n    }\n\n    public int implicitValue() {\n        return subClassValue;\n\n    }\n}\n\nclass Example {\n    public static void main(String argv[]) {\n        SubClass ss = new SubClass();\n        System.out.println(\"The value is \" + ss.getValue());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640094060,"creation_date":1640094060,"answer_id":70436418,"question_id":70435744,"body_markdown":"&gt; Is there a way to increase the size of WindowCursor in Android Studio?\r\n\r\nYes, one of it&#39;s [constructors][1] takes a long for the number of bytes i.e.\r\n\r\n    public CursorWindow (String name, long windowSizeBytes)\r\n\r\n&gt; Is there a way to increase the maximum size of this cursor or should i seperate the columns in a single row in order to lower the size of a single row?\r\n\r\nNot with the available methods *(a Cursor uses CursorWindows and hence the difference)*.\r\n\r\n\r\n**However**, the recommended approach is to not store such large amounts of data in the database, but to store the data as a file and instead store a reference (e.g. the file&#39;s path) to the file where the data is stored.\r\n\r\n- You might find [this][2] and some of the links informative\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/CursorWindow#CursorWindow(java.lang.String,%20long)\r\n  [2]: https://stackoverflow.com/questions/57107489/sqliteblobtoobigexception-row-too-big-to-fit-into-cursorwindow-while-writing-to/57109330#57109330","title":"Is there a way to increase the size of WindowCursor in Android Studio?","body":"<blockquote>\n<p>Is there a way to increase the size of WindowCursor in Android Studio?</p>\n</blockquote>\n<p>Yes, one of it's <a href=\"https://developer.android.com/reference/android/database/CursorWindow#CursorWindow(java.lang.String,%20long)\" rel=\"nofollow noreferrer\">constructors</a> takes a long for the number of bytes i.e.</p>\n<pre><code>public CursorWindow (String name, long windowSizeBytes)\n</code></pre>\n<blockquote>\n<p>Is there a way to increase the maximum size of this cursor or should i seperate the columns in a single row in order to lower the size of a single row?</p>\n</blockquote>\n<p>Not with the available methods <em>(a Cursor uses CursorWindows and hence the difference)</em>.</p>\n<p><strong>However</strong>, the recommended approach is to not store such large amounts of data in the database, but to store the data as a file and instead store a reference (e.g. the file's path) to the file where the data is stored.</p>\n<ul>\n<li>You might find <a href=\"https://stackoverflow.com/questions/57107489/sqliteblobtoobigexception-row-too-big-to-fit-into-cursorwindow-while-writing-to/57109330#57109330\">this</a> and some of the links informative</li>\n</ul>\n"}],"owner":{"account_id":15193004,"reputation":83,"user_id":10963223,"display_name":"Emre Turan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640094060,"creation_date":1640090990,"question_id":70435744,"body_markdown":"i am using a Cursor to query SQLite database in my android application. But cursor size is limited to 4 MB i suppose. (I have 6 blob columns in a row and each one of them is nearly 1.5 MBs so it is 9MBs in total.)\r\n\r\nIs there a way to increase the maximum size of this cursor or should i seperate the columns in a single row in order to lower the size of a single row?\r\n\r\nThank you for your answers.","title":"Is there a way to increase the size of WindowCursor in Android Studio?","body":"<p>i am using a Cursor to query SQLite database in my android application. But cursor size is limited to 4 MB i suppose. (I have 6 blob columns in a row and each one of them is nearly 1.5 MBs so it is 9MBs in total.)</p>\n<p>Is there a way to increase the maximum size of this cursor or should i seperate the columns in a single row in order to lower the size of a single row?</p>\n<p>Thank you for your answers.</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640093364,"creation_date":1640093364,"answer_id":70436273,"question_id":70435626,"body_markdown":"You can not and should not have nested form tags. Its a bad practice. I would say you separate them out like below:\r\n\r\n    &lt;form action=&quot;/form1action1&quot;...&gt;\r\n    \r\n    &lt;/form&gt;\r\n    \r\n    &lt;form action=&quot;/form2action2&quot;...&gt;\r\n    \r\n    &lt;/form&gt;\r\n\r\nIf you must take some action within the form, introduce some JavaScript (or ajax or jQuery, if you prefer) snippets.","title":"Button not working properly - Java Spring Thymeleaf","body":"<p>You can not and should not have nested form tags. Its a bad practice. I would say you separate them out like below:</p>\n<pre><code>&lt;form action=&quot;/form1action1&quot;...&gt;\n\n&lt;/form&gt;\n\n&lt;form action=&quot;/form2action2&quot;...&gt;\n\n&lt;/form&gt;\n</code></pre>\n<p>If you must take some action within the form, introduce some JavaScript (or ajax or jQuery, if you prefer) snippets.</p>\n"}],"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70436273,"answer_count":1,"score":3,"last_activity_date":1640093364,"creation_date":1640090365,"question_id":70435626,"body_markdown":"I am writing a simple web application with CRUD operations using Thymeleaf as a template engine. The problem is, this is my code: \r\n```\r\n&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/}&quot;&gt;\r\n    &lt;div&gt;\r\n       &lt;ul th:each=&quot;balloon: ${balloons}&quot; style=&quot;list-style-type: none&quot;&gt;\r\n          &lt;li&gt;\r\n             &lt;input type=&quot;radio&quot; name=&quot;balloonType&quot; th:text=&quot;${balloon.getName()}&quot;\r\n                    th:value=&quot;${balloon.getDescription()}&quot;&gt;\r\n          &lt;/li&gt;\r\n\r\n          &lt;div&gt;\r\n             &lt;form th:method=&quot;POST&quot; th:action=&quot;@{&#39;/balloons/delete/{id}&#39; (id=${balloon.getId()})}&quot;&gt;\r\n                 &lt;input type=&quot;submit&quot; value=&quot;Delete&quot;&gt;\r\n             &lt;/form&gt;\r\n          &lt;/div&gt;\r\n\r\n       &lt;/ul&gt;\r\n       &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;br/&gt;\r\n&lt;/form&gt;\r\n```\r\nand when I run the application, the code in the inspect element is shown in the picture below. The first delete button does not appear in its own form and therefore does not work properly. Any help is welcome.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e5mbO.png","title":"Button not working properly - Java Spring Thymeleaf","body":"<p>I am writing a simple web application with CRUD operations using Thymeleaf as a template engine. The problem is, this is my code:</p>\n<pre><code>&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/}&quot;&gt;\n    &lt;div&gt;\n       &lt;ul th:each=&quot;balloon: ${balloons}&quot; style=&quot;list-style-type: none&quot;&gt;\n          &lt;li&gt;\n             &lt;input type=&quot;radio&quot; name=&quot;balloonType&quot; th:text=&quot;${balloon.getName()}&quot;\n                    th:value=&quot;${balloon.getDescription()}&quot;&gt;\n          &lt;/li&gt;\n\n          &lt;div&gt;\n             &lt;form th:method=&quot;POST&quot; th:action=&quot;@{'/balloons/delete/{id}' (id=${balloon.getId()})}&quot;&gt;\n                 &lt;input type=&quot;submit&quot; value=&quot;Delete&quot;&gt;\n             &lt;/form&gt;\n          &lt;/div&gt;\n\n       &lt;/ul&gt;\n       &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n    &lt;/div&gt;\n    &lt;br/&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and when I run the application, the code in the inspect element is shown in the picture below. The first delete button does not appear in its own form and therefore does not work properly. Any help is welcome.</p>\n<p><a href=\"https://i.stack.imgur.com/e5mbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e5mbO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640093238,"creation_date":1564172874,"answer_id":57226640,"question_id":57204685,"body_markdown":"Constant is an alternative to target. You cannot specify both in the same @Mapping annotation. But, from your story I gather that you have control over your &#39;ClassA&#39; destination. So, you could group your mappings into quadruplets. So:\r\n\r\n\r\n~~~java\r\nPublic Quadrupel{\r\n\r\n   String prop1;\r\n   String prop2;\r\n   String prop3;\r\n    //Getters/setters\r\n\r\n}\r\n\r\nClassA{\r\n\r\n   Quadrupel key1;\r\n   Quadrupel key2;\r\n    //Etc\r\n    //Getters/setters\r\n\r\n}\r\n~~~\r\nInto ClassA. Properties would then be along the lines of your key name. Your custom mapper could pick those up and map them in your target map. Although, the key would then a bit dubious as well since the property would indicate the same","title":"Pass a parameter to Custom mapping function","body":"<p>Constant is an alternative to target. You cannot specify both in the same @Mapping annotation. But, from your story I gather that you have control over your 'ClassA' destination. So, you could group your mappings into quadruplets. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Public Quadrupel{\n\n   String prop1;\n   String prop2;\n   String prop3;\n    //Getters/setters\n\n}\n\nClassA{\n\n   Quadrupel key1;\n   Quadrupel key2;\n    //Etc\n    //Getters/setters\n\n}\n</code></pre>\n<p>Into ClassA. Properties would then be along the lines of your key name. Your custom mapper could pick those up and map them in your target map. Although, the key would then a bit dubious as well since the property would indicate the same</p>\n"}],"owner":{"account_id":5847708,"reputation":265,"user_id":4607359,"accept_rate":60,"display_name":"David Champion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640093238,"creation_date":1564065822,"question_id":57204685,"body_markdown":"Using `MapStruct`, and would like to pass a constant/parameter to a Custom Mapper\r\n\r\nI have destination that has a field of type `Map&lt;String, Restriction&gt; restrictions`.  The source may have 2-3 String fields that need to be mapped to a single Restriction in the map.  The key to the Map is just a constant.  Using Map-struct Mapping annotation, I would like to pass this key into the custom mapper so that I can either create the initial value in the Map or retrieve an existing value in the Map.  \r\n\r\n \r\n\r\n       @Mappings({\r\n\r\n              @Mapping(source=&quot;source.someField&quot;, target=&quot;restrictions&quot;, constant=&quot;someKey&quot;),\r\n\r\n              @Mapping(source=&quot;source.startDate&quot;, target=&quot;restrictions&quot;, constant=&quot;someKey&quot;),\r\n\r\n              @Mapping(source=&quot;source.EndDate&quot;, target=&quot;restrictions&quot;, constant=&quot;someKey&quot;)\r\n\r\n       })\r\n\r\n       public abstract void restrictToClassA(SomeDataEntity source, @MappingTarget ClassA destination);","title":"Pass a parameter to Custom mapping function","body":"<p>Using <code>MapStruct</code>, and would like to pass a constant/parameter to a Custom Mapper</p>\n\n<p>I have destination that has a field of type <code>Map&lt;String, Restriction&gt; restrictions</code>.  The source may have 2-3 String fields that need to be mapped to a single Restriction in the map.  The key to the Map is just a constant.  Using Map-struct Mapping annotation, I would like to pass this key into the custom mapper so that I can either create the initial value in the Map or retrieve an existing value in the Map.  </p>\n\n<pre><code>   @Mappings({\n\n          @Mapping(source=\"source.someField\", target=\"restrictions\", constant=\"someKey\"),\n\n          @Mapping(source=\"source.startDate\", target=\"restrictions\", constant=\"someKey\"),\n\n          @Mapping(source=\"source.EndDate\", target=\"restrictions\", constant=\"someKey\")\n\n   })\n\n   public abstract void restrictToClassA(SomeDataEntity source, @MappingTarget ClassA destination);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1640093971,"post_id":70436213,"comment_id":124509679,"body_markdown":"Your `main` method is *very* long. Please do yourself and us a favour and cut this wall of code into smaller pieces, each within its own method.","body":"Your <code>main</code> method is <i>very</i> long. Please do yourself and us a favour and cut this wall of code into smaller pieces, each within its own method."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640094434,"post_id":70436213,"comment_id":124509904,"body_markdown":"Also, [How do I compare strings in Java?](https://stackoverflow.com/q/513832/507738)","body":"Also, <a href=\"https://stackoverflow.com/q/513832/507738\">How do I compare strings in Java?</a>"}],"owner":{"account_id":22272705,"reputation":71,"user_id":16502406,"display_name":"Phong2902"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640093135,"creation_date":1640093135,"question_id":70436213,"body_markdown":"I am trying to create a simple logging in interface, where you can log in to change your information like email, username, password. The final piece of this puzzle for me is how can I send them back to the login screen after a lot of loops and steps:\r\n```\r\npackage Exercises;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport java.util.regex.Pattern;\r\n\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class Final {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; email = new ArrayList&lt;String&gt;();\r\n        HashMap&lt;String, String&gt; accounts = new HashMap&lt;String, String&gt;();\r\n        try (Scanner scan = new Scanner(System.in)) {\r\n            boolean n = true;\r\n            while(n){\r\n                System.out.println(&quot;1 - Login&quot;);\r\n                System.out.println(&quot;2 - Register&quot;);\r\n                String number1 = scan.nextLine();\r\n                switch(number1){\r\n                    case &quot;1&quot;:\r\n                        boolean loginCheck = true;\r\n                        while(loginCheck){\r\n                            System.out.print(&quot;Enter username: &quot;);\r\n                            String userIn = scan.nextLine();\r\n                            if(accounts.containsKey(userIn)){\r\n                                System.out.print(&quot;Enter password: &quot;);\r\n                                String passIn = scan.nextLine();\r\n                                if (passIn == accounts.get(userIn)) {\r\n                                    System.out.println(&quot;Welcome&quot; + userIn + &quot;, you can perform these actions: &quot;);\r\n                                    System.out.println(&quot;1 - Change username&quot;);\r\n                                    System.out.println(&quot;2 - Change email&quot;);\r\n                                    System.out.println(&quot;3 - Change password&quot;);\r\n                                    System.out.println(&quot;4 - Log out&quot;);\r\n                                    System.out.println(&quot;0 - Exit&quot;);\r\n                                    String number2 = scan.nextLine();\r\n                                    switch (number2) {\r\n                                        case &quot;0&quot;:\r\n                                            System.exit(0);\r\n                                            break;\r\n                                        case &quot;1&quot;:\r\n                                            System.out.print(&quot;Type the new username: &quot;);\r\n                                            String newUser = scan.nextLine();\r\n                                            accounts.remove(userIn);\r\n                                            accounts.put(newUser, passIn);\r\n                                            System.out.println(&quot;The username has been changed!&quot;);\r\n                                            break;\r\n                                        case &quot;3&quot;:\r\n                                            System.out.print(&quot;Type the old email: &quot;);\r\n                                            String oldMail = scan.nextLine();\r\n                                            System.out.print(&quot;Type the new email: &quot;);\r\n                                            String newMail = scan.nextLine();\r\n                                            email.set(email.indexOf(oldMail), newMail);\r\n                                            System.out.println(&quot;Email has been changed!&quot;);\r\n                                            break;\r\n                                        case &quot;4&quot;:\r\n                                            \r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    System.out.println(&quot;Wrong password!&quot;);\r\n                                    System.out.println(&quot;1 - Try again&quot;);\r\n                                    System.out.println(&quot;2 - Forgot password&quot;);\r\n                                    String fpassCheck = scan.nextLine();\r\n                                    switch(fpassCheck){\r\n                                        case &quot;1&quot;:\r\n                                            break;\r\n                                        case &quot;2&quot;:\r\n                                            System.out.print(&quot;Type the email used to register: &quot;);\r\n                                            String mailCheck = scan.nextLine();\r\n                                            if (email.contains(mailCheck)) {\r\n                                                System.out.print(&quot;Type the new passwor: &quot;);\r\n                                                String newPass = scan.nextLine();\r\n                                                accounts.remove(userIn);\r\n                                                accounts.put(userIn, newPass);\r\n                                                System.out.println(&quot;Password has been changed.&quot;);\r\n                                                break;\r\n                                            }\r\n                                            else{\r\n                                                System.out.println(&quot;Account do not exist yet!&quot;);\r\n                                                break;\r\n                                            }\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                System.out.println(&quot;Wrong username&quot;);\r\n                            }\r\n                        }                    \r\n                    case &quot;2&quot;:\r\n                        System.out.print(&quot;Enter email: &quot;);\r\n                        String mailReg = scan.nextLine();\r\n                        if(isValid(mailReg)){\r\n                            if(email.contains(mailReg)){\r\n                                System.out.println(&quot;There is already an existing account using this email!&quot;);\r\n                                break;\r\n                            }\r\n                            else{\r\n                                email.add(mailReg);\r\n                                System.out.print(&quot;Create username: &quot;);\r\n                                String userReg = scan.nextLine();\r\n                                boolean passCheck = true;\r\n                                while (passCheck) {\r\n                                    String passRegex = &quot;^(?=[A-Z])(?=.*[. , - _ ;]).{7,15}$&quot;;\r\n                                    Pattern pat = Pattern.compile(passRegex);\r\n                                    System.out.print(&quot;Tạo pasword: &quot;);\r\n                                    String passReg = scan.nextLine();\r\n                                    if (pat.matcher(passReg).matches()) {\r\n                                        accounts.put(userReg, passReg);\r\n                                        passCheck = false;\r\n                                    }\r\n                                    else{\r\n                                        System.out.println(&quot;Password length must be between 7 and 15 characters, contains at least 1 uppercase, and 1 special character (. , - _ ;)&quot;);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        else{\r\n                            System.out.println(&quot;Incorrect Email, please try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static boolean isValid(String email)\r\n    {\r\n        String emailRegex = &quot;^(.+)@(.+)$&quot;;\r\n                              \r\n        Pattern pat = Pattern.compile(emailRegex);\r\n        if (email == null)\r\n            return false;\r\n        return pat.matcher(email).matches();\r\n    }\r\n}\r\n```\r\nAfter doing several actions, how can I make it so that it goes back to the login screen loop ? I assume that using multiple breaks is just really bad and might not even work properly.","title":"Log out algorithm","body":"<p>I am trying to create a simple logging in interface, where you can log in to change your information like email, username, password. The final piece of this puzzle for me is how can I send them back to the login screen after a lot of loops and steps:</p>\n<pre><code>package Exercises;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n\n\nimport java.util.HashMap;\n\npublic class Final {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; email = new ArrayList&lt;String&gt;();\n        HashMap&lt;String, String&gt; accounts = new HashMap&lt;String, String&gt;();\n        try (Scanner scan = new Scanner(System.in)) {\n            boolean n = true;\n            while(n){\n                System.out.println(&quot;1 - Login&quot;);\n                System.out.println(&quot;2 - Register&quot;);\n                String number1 = scan.nextLine();\n                switch(number1){\n                    case &quot;1&quot;:\n                        boolean loginCheck = true;\n                        while(loginCheck){\n                            System.out.print(&quot;Enter username: &quot;);\n                            String userIn = scan.nextLine();\n                            if(accounts.containsKey(userIn)){\n                                System.out.print(&quot;Enter password: &quot;);\n                                String passIn = scan.nextLine();\n                                if (passIn == accounts.get(userIn)) {\n                                    System.out.println(&quot;Welcome&quot; + userIn + &quot;, you can perform these actions: &quot;);\n                                    System.out.println(&quot;1 - Change username&quot;);\n                                    System.out.println(&quot;2 - Change email&quot;);\n                                    System.out.println(&quot;3 - Change password&quot;);\n                                    System.out.println(&quot;4 - Log out&quot;);\n                                    System.out.println(&quot;0 - Exit&quot;);\n                                    String number2 = scan.nextLine();\n                                    switch (number2) {\n                                        case &quot;0&quot;:\n                                            System.exit(0);\n                                            break;\n                                        case &quot;1&quot;:\n                                            System.out.print(&quot;Type the new username: &quot;);\n                                            String newUser = scan.nextLine();\n                                            accounts.remove(userIn);\n                                            accounts.put(newUser, passIn);\n                                            System.out.println(&quot;The username has been changed!&quot;);\n                                            break;\n                                        case &quot;3&quot;:\n                                            System.out.print(&quot;Type the old email: &quot;);\n                                            String oldMail = scan.nextLine();\n                                            System.out.print(&quot;Type the new email: &quot;);\n                                            String newMail = scan.nextLine();\n                                            email.set(email.indexOf(oldMail), newMail);\n                                            System.out.println(&quot;Email has been changed!&quot;);\n                                            break;\n                                        case &quot;4&quot;:\n                                            \n                                        default:\n                                            break;\n                                    }\n                                }\n                                else{\n                                    System.out.println(&quot;Wrong password!&quot;);\n                                    System.out.println(&quot;1 - Try again&quot;);\n                                    System.out.println(&quot;2 - Forgot password&quot;);\n                                    String fpassCheck = scan.nextLine();\n                                    switch(fpassCheck){\n                                        case &quot;1&quot;:\n                                            break;\n                                        case &quot;2&quot;:\n                                            System.out.print(&quot;Type the email used to register: &quot;);\n                                            String mailCheck = scan.nextLine();\n                                            if (email.contains(mailCheck)) {\n                                                System.out.print(&quot;Type the new passwor: &quot;);\n                                                String newPass = scan.nextLine();\n                                                accounts.remove(userIn);\n                                                accounts.put(userIn, newPass);\n                                                System.out.println(&quot;Password has been changed.&quot;);\n                                                break;\n                                            }\n                                            else{\n                                                System.out.println(&quot;Account do not exist yet!&quot;);\n                                                break;\n                                            }\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            else{\n                                System.out.println(&quot;Wrong username&quot;);\n                            }\n                        }                    \n                    case &quot;2&quot;:\n                        System.out.print(&quot;Enter email: &quot;);\n                        String mailReg = scan.nextLine();\n                        if(isValid(mailReg)){\n                            if(email.contains(mailReg)){\n                                System.out.println(&quot;There is already an existing account using this email!&quot;);\n                                break;\n                            }\n                            else{\n                                email.add(mailReg);\n                                System.out.print(&quot;Create username: &quot;);\n                                String userReg = scan.nextLine();\n                                boolean passCheck = true;\n                                while (passCheck) {\n                                    String passRegex = &quot;^(?=[A-Z])(?=.*[. , - _ ;]).{7,15}$&quot;;\n                                    Pattern pat = Pattern.compile(passRegex);\n                                    System.out.print(&quot;Tạo pasword: &quot;);\n                                    String passReg = scan.nextLine();\n                                    if (pat.matcher(passReg).matches()) {\n                                        accounts.put(userReg, passReg);\n                                        passCheck = false;\n                                    }\n                                    else{\n                                        System.out.println(&quot;Password length must be between 7 and 15 characters, contains at least 1 uppercase, and 1 special character (. , - _ ;)&quot;);\n                                    }\n                                }\n                            }\n                        }\n                        else{\n                            System.out.println(&quot;Incorrect Email, please try again.&quot;);\n                    }\n                }\n            }\n        }\n    }\n\n    public static boolean isValid(String email)\n    {\n        String emailRegex = &quot;^(.+)@(.+)$&quot;;\n                              \n        Pattern pat = Pattern.compile(emailRegex);\n        if (email == null)\n            return false;\n        return pat.matcher(email).matches();\n    }\n}\n</code></pre>\n<p>After doing several actions, how can I make it so that it goes back to the login screen loop ? I assume that using multiple breaks is just really bad and might not even work properly.</p>\n"},{"tags":["java","android","android-cardview"],"comments":[{"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"score":0,"creation_date":1627313775,"post_id":68532526,"comment_id":121116994,"body_markdown":"To me this has nothing to do with CardView, the problem in the screenshot seems related to your ImageView or similar where you show your author icon","body":"To me this has nothing to do with CardView, the problem in the screenshot seems related to your ImageView or similar where you show your author icon"},{"owner":{"account_id":18444627,"reputation":67,"user_id":14352720,"display_name":"Umair Anjum"},"score":0,"creation_date":1627314319,"post_id":68532526,"comment_id":121117275,"body_markdown":"Use any roudedImageview to make circle like `implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;` rather than CardView. Explore [Liberary Link](https://github.com/vinc3m1/RoundedImageView)","body":"Use any roudedImageview to make circle like <code>implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;</code> rather than CardView. Explore <a href=\"https://github.com/vinc3m1/RoundedImageView\" rel=\"nofollow noreferrer\">Liberary Link</a>"},{"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"score":0,"creation_date":1627334504,"post_id":68532526,"comment_id":121124194,"body_markdown":"It works on most devices, actually the only device I&#39;ve seen this behavior was Huawei Mate 9 running android 7 (I don&#39;t know what&#39;s wrong with Huawei and Xiamo they&#39;re always annoying -_-). I managed to fix that by setting the corner to half of the height in code","body":"It works on most devices, actually the only device I&#39;ve seen this behavior was Huawei Mate 9 running android 7 (I don&#39;t know what&#39;s wrong with Huawei and Xiamo they&#39;re always annoying -_-). I managed to fix that by setting the corner to half of the height in code"}],"answers":[{"tags":[],"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627317630,"creation_date":1627316683,"answer_id":68533346,"question_id":68532526,"body_markdown":"Very often, the Glide library is used to load images. This library can help round the edges as follows\r\n\r\n    Glide.with(context)\r\n            .load(url)\r\n            .circleCrop()\r\n            .into(imageView)\r\n\r\nMake friends with this library and you will be happy. Not only does it help the image to take shape, but it also uses memory correctly https://github.com/bumptech/glide\r\n\r\nP.S: In my opinion, using CardView is very limiting for you. \r\n\r\nYou could use as a root element for example a Constraint Layout and as a background use a rounded shape as you like (rectangle) and place your image inside the layout.\r\n\r\nTo hold the shape I often using the next attribute (an example is below):\r\napp:layout_constraintDimensionRatio=&quot;W,1:2&quot;.\r\n\r\nIn your case ratio must be 1:1 because it is circle not ellipse, then you can use \r\n `app:layout_constraintDimensionRatio=&quot;W,1:1&quot;` or `app:layout_constraintDimensionRatio=&quot;H,1:1&quot;`\r\n\r\nI&#39;m not sure if this will work in CardView, but it works well in ConstraintLayout.","title":"Android - CardView becomes a diamond shape because radius too large","body":"<p>Very often, the Glide library is used to load images. This library can help round the edges as follows</p>\n<pre><code>Glide.with(context)\n        .load(url)\n        .circleCrop()\n        .into(imageView)\n</code></pre>\n<p>Make friends with this library and you will be happy. Not only does it help the image to take shape, but it also uses memory correctly <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide</a></p>\n<p>P.S: In my opinion, using CardView is very limiting for you.</p>\n<p>You could use as a root element for example a Constraint Layout and as a background use a rounded shape as you like (rectangle) and place your image inside the layout.</p>\n<p>To hold the shape I often using the next attribute (an example is below):\napp:layout_constraintDimensionRatio=&quot;W,1:2&quot;.</p>\n<p>In your case ratio must be 1:1 because it is circle not ellipse, then you can use\n<code>app:layout_constraintDimensionRatio=&quot;W,1:1&quot;</code> or <code>app:layout_constraintDimensionRatio=&quot;H,1:1&quot;</code></p>\n<p>I'm not sure if this will work in CardView, but it works well in ConstraintLayout.</p>\n"},{"tags":[],"owner":{"account_id":16484526,"reputation":93,"user_id":11910303,"display_name":"Shubham K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640092889,"creation_date":1640092889,"answer_id":70436160,"question_id":68532526,"body_markdown":"Here is one of the common and most simple method to make the image get a circular border using card view in android in XML\r\n\r\nfirst create a card view inside your XML and inside that create a image view with exactly 1dp less then the card view in both width and height and then try to adjust the cardCornerRadius as per your requirements, that&#39;s it it is as simple as that.\r\n\r\nI&#39;m using ```androidx.cardview.widget.CardView``` here.\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;70dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            app:cardCornerRadius=&quot;35dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/rounded_profile_img&quot;\r\n                android:layout_width=&quot;69dp&quot;\r\n                android:layout_height=&quot;69dp&quot;\r\n                android:scaleType=&quot;centerCrop&quot;/&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n```\r\nThank you hope y&#39;ll like it and it is helpful for everyone.","title":"Android - CardView becomes a diamond shape because radius too large","body":"<p>Here is one of the common and most simple method to make the image get a circular border using card view in android in XML</p>\n<p>first create a card view inside your XML and inside that create a image view with exactly 1dp less then the card view in both width and height and then try to adjust the cardCornerRadius as per your requirements, that's it it is as simple as that.</p>\n<p>I'm using <code>androidx.cardview.widget.CardView</code> here.</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;70dp&quot;\n            android:layout_height=&quot;70dp&quot;\n            app:cardCornerRadius=&quot;35dp&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/rounded_profile_img&quot;\n                android:layout_width=&quot;69dp&quot;\n                android:layout_height=&quot;69dp&quot;\n                android:scaleType=&quot;centerCrop&quot;/&gt;\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n</code></pre>\n<p>Thank you hope y'll like it and it is helpful for everyone.</p>\n"}],"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640092889,"creation_date":1627313086,"question_id":68532526,"body_markdown":"I&#39;m using ```android.widget.CardView``` in my application.\r\n\r\n[![CardView in my device][1]][1]\r\n\r\nIn my Android 11 device, when radius is larger than the View, it will automatically adjust to half the size of the View.(I don’t know which version this was adjusted)\r\n\r\n[![CardView in lower system version][2]][2]\r\n\r\nIn the lower system version(I use Android 7.1 to test), CardView will turn into a diamond shape when the radius is larger than the View.\r\n\r\nAnyone know why and how to solve? Thx\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1sCKn.jpg\r\n  [2]: https://i.stack.imgur.com/kqKon.jpg","title":"Android - CardView becomes a diamond shape because radius too large","body":"<p>I'm using <code>android.widget.CardView</code> in my application.</p>\n<p><a href=\"https://i.stack.imgur.com/1sCKn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1sCKn.jpg\" alt=\"CardView in my device\" /></a></p>\n<p>In my Android 11 device, when radius is larger than the View, it will automatically adjust to half the size of the View.(I don’t know which version this was adjusted)</p>\n<p><a href=\"https://i.stack.imgur.com/kqKon.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqKon.jpg\" alt=\"CardView in lower system version\" /></a></p>\n<p>In the lower system version(I use Android 7.1 to test), CardView will turn into a diamond shape when the radius is larger than the View.</p>\n<p>Anyone know why and how to solve? Thx</p>\n"},{"tags":["java","algorithm","graph"],"comments":[{"owner":{"account_id":20711679,"reputation":209,"user_id":15208175,"display_name":"Drogheda"},"score":3,"creation_date":1640049101,"post_id":70429643,"comment_id":124498451,"body_markdown":"It seems to be some kind of homework. Could you provide your code you made so far?","body":"It seems to be some kind of homework. Could you provide your code you made so far?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1640049260,"post_id":70429643,"comment_id":124498468,"body_markdown":"Please read [ask].  It is a basic requirement here that you show the code you&#39;ve written and explain what isn&#39;t working.  We don&#39;t do you homework for you.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  It is a basic requirement here that you show the code you&#39;ve written and explain what isn&#39;t working.  We don&#39;t do you homework for you."},{"owner":{"account_id":23697010,"reputation":9,"user_id":17720600,"display_name":"hello123hhf"},"score":0,"creation_date":1640049878,"post_id":70429643,"comment_id":124498562,"body_markdown":"I have attached the code which I have made until now. I didn&#39;t attach it in the first place because I&#39;m pretty sure that I am approaching it the wrong way.","body":"I have attached the code which I have made until now. I didn&#39;t attach it in the first place because I&#39;m pretty sure that I am approaching it the wrong way."},{"owner":{"account_id":14774504,"reputation":4698,"user_id":10669875,"display_name":"wovano"},"score":0,"creation_date":1640092967,"post_id":70429643,"comment_id":124509308,"body_markdown":"Also see [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"Also see <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640090136,"creation_date":1640090136,"answer_id":70435576,"question_id":70429643,"body_markdown":"There are a few mistakes I spotted in your function :\r\n\r\nThe conditions to check if you&#39;re out of bounds should not need to check if there is an H : out of bound means there is nothing, so `pos[0] == graph.length` should be enough to stop.\r\n\r\nThe condition to check if there is an H blocking the way is also wrong : to be stopped, you would need to have both an H right and below you. Which mean you would still explore some path passing through H&#39;s. What you could do is to stop if you&#39;re currently on a H : `if(graph[pos[0]][pos[1]] == &#39;H&#39;)`\r\n\r\nThe recursive calls always increment turns. Are turns the number of steps you are allowed to make, or the number of times you can change direction ? If it&#39;s the latter, you need to pass the current direction in the call, and only increment if you change direction. The original call is a little bit trickier, as you don&#39;t really have a direction for the first step.\r\n\r\nA global observation is that you seems to mix the logical &quot;AND&quot; operator (&amp;&amp;). Maybe I&#39;m wrong, but a quick review could help you, because the &quot;OR&quot; seems more logical there.","title":"Algorithm to find the number of paths you can take in a coordinate plane","body":"<p>There are a few mistakes I spotted in your function :</p>\n<p>The conditions to check if you're out of bounds should not need to check if there is an H : out of bound means there is nothing, so <code>pos[0] == graph.length</code> should be enough to stop.</p>\n<p>The condition to check if there is an H blocking the way is also wrong : to be stopped, you would need to have both an H right and below you. Which mean you would still explore some path passing through H's. What you could do is to stop if you're currently on a H : <code>if(graph[pos[0]][pos[1]] == 'H')</code></p>\n<p>The recursive calls always increment turns. Are turns the number of steps you are allowed to make, or the number of times you can change direction ? If it's the latter, you need to pass the current direction in the call, and only increment if you change direction. The original call is a little bit trickier, as you don't really have a direction for the first step.</p>\n<p>A global observation is that you seems to mix the logical &quot;AND&quot; operator (&amp;&amp;). Maybe I'm wrong, but a quick review could help you, because the &quot;OR&quot; seems more logical there.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640092633,"creation_date":1640092633,"answer_id":70436109,"question_id":70429643,"body_markdown":"Yes. Assuming the number of turns is the number of times you change direction, you need to keep track of the direction and only increment `turns` when the direction changes:\r\n\r\n    public static void step(char[][] graph, int[] pos, int turns, int max,\r\n            char dir)\r\n    {\r\n        if(turns &gt; max) return;\r\n        else if(pos[0] == graph.length-1 &amp;&amp; pos[1]==graph.length-1)\r\n        {\r\n            count++;\r\n            return;\r\n        }\r\n        if(pos[0] &lt; graph.length &amp;&amp; pos[1] &lt; graph.length\r\n                &amp;&amp; graph[pos[0]][pos[1]] != &#39;H&#39;) {\r\n            step(graph, new int[]{pos[0]+1, pos[1]}, dir != &#39;R&#39; ? turns : turns+1, max, &#39;D&#39;);\r\n            step(graph, new int[]{pos[0], pos[1]+1}, dir != &#39;D&#39; ? turns : turns+1, max, &#39;R&#39;);\r\n        }\r\n    }    \r\n\r\nThe initial call would pass any character that is neither `&#39;D&#39;` nor `&#39;R&#39;`:\r\n\r\n        step(graph, new int[]{0, 0}, 0, t, &#39;?&#39;);\r\n\r\n\r\n","title":"Algorithm to find the number of paths you can take in a coordinate plane","body":"<p>Yes. Assuming the number of turns is the number of times you change direction, you need to keep track of the direction and only increment <code>turns</code> when the direction changes:</p>\n<pre><code>public static void step(char[][] graph, int[] pos, int turns, int max,\n        char dir)\n{\n    if(turns &gt; max) return;\n    else if(pos[0] == graph.length-1 &amp;&amp; pos[1]==graph.length-1)\n    {\n        count++;\n        return;\n    }\n    if(pos[0] &lt; graph.length &amp;&amp; pos[1] &lt; graph.length\n            &amp;&amp; graph[pos[0]][pos[1]] != 'H') {\n        step(graph, new int[]{pos[0]+1, pos[1]}, dir != 'R' ? turns : turns+1, max, 'D');\n        step(graph, new int[]{pos[0], pos[1]+1}, dir != 'D' ? turns : turns+1, max, 'R');\n    }\n}    \n</code></pre>\n<p>The initial call would pass any character that is neither <code>'D'</code> nor <code>'R'</code>:</p>\n<pre><code>    step(graph, new int[]{0, 0}, 0, t, '?');\n</code></pre>\n"}],"owner":{"account_id":23697010,"reputation":9,"user_id":17720600,"display_name":"hello123hhf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1640092633,"creation_date":1640048927,"question_id":70429643,"body_markdown":"You&#39;re given a square of NxN (2 &lt;= N &lt;= 50) dots, but some of the dots can be H (blocked), meaning that you cannot go on them. You are also given T (1 &lt;= T &lt;= 3), the amount of turns maximum that you are allowed to make. You start at the top left of the graph, and you have to make it to the bottom right of the graph. You can only move down or to the right. Here are three examples of possible graphs. \r\n```\r\nN = 3, T = 3\r\n...\r\n.H.\r\n...\r\n\r\nOutput: 2\r\n```\r\n\r\n```\r\nN = 4, T = 3\r\n...H\r\n.H..\r\n....\r\nH...\r\n\r\nOutput: 6\r\n```\r\n```\r\nN = 3, T = 2\r\n.HH\r\nHHH\r\nHH.\r\n\r\nOutput: 0\r\n```\r\n\r\nD means move down and R means move right. For the first one the two ways are DDRR and RRDD. For the second one, the six ways are DDRDRR, DDRRDR, DDRRRD, RRDDDR, RRDDRD, and RRDRDD. For the last one, there are no ways to make it to the bottom right. \r\n\r\nOne thing I have thought is that it might be possible to solve this with DFS but I don&#39;t know how to implement it for this problem. Any help would be utmost helpful.\r\n\r\nI have tried this recursive method, but I&#39;m pretty sure I&#39;m completely going the wrong way about it.\r\n\r\n```\r\npublic static void step(char[][] graph, int[] pos, int turns, int max)\r\n{\r\n\tif(turns &gt; max) return;\r\n\telse if(pos[0] == graph.length-1 &amp;&amp; pos[1]==graph.length-1)\r\n\t{\r\n\t\tcount++;\r\n\t\treturn;\r\n\t}\r\n\telse if(pos[0] == graph.length &amp;&amp; graph[pos[0]+1][pos[1]] == &#39;H&#39;) return;\r\n\telse if(pos[1] == graph.length &amp;&amp; graph[pos[0]][pos[1]+1] == &#39;H&#39;) return;\r\n\telse if(graph[pos[0]+1][pos[1]] == &#39;H&#39; &amp;&amp; graph[pos[0]][pos[1]+1] == &#39;H&#39;) return;\r\n\telse {\r\n\t\tstep(graph, new int[]{pos[0]+1, pos[1]}, turns+1, max);\r\n\t\tstep(graph, new int[]{pos[0], pos[1]+1}, turns+1, max);\r\n\t}\r\n}\r\n```","title":"Algorithm to find the number of paths you can take in a coordinate plane","body":"<p>You're given a square of NxN (2 &lt;= N &lt;= 50) dots, but some of the dots can be H (blocked), meaning that you cannot go on them. You are also given T (1 &lt;= T &lt;= 3), the amount of turns maximum that you are allowed to make. You start at the top left of the graph, and you have to make it to the bottom right of the graph. You can only move down or to the right. Here are three examples of possible graphs.</p>\n<pre><code>N = 3, T = 3\n...\n.H.\n...\n\nOutput: 2\n</code></pre>\n<pre><code>N = 4, T = 3\n...H\n.H..\n....\nH...\n\nOutput: 6\n</code></pre>\n<pre><code>N = 3, T = 2\n.HH\nHHH\nHH.\n\nOutput: 0\n</code></pre>\n<p>D means move down and R means move right. For the first one the two ways are DDRR and RRDD. For the second one, the six ways are DDRDRR, DDRRDR, DDRRRD, RRDDDR, RRDDRD, and RRDRDD. For the last one, there are no ways to make it to the bottom right.</p>\n<p>One thing I have thought is that it might be possible to solve this with DFS but I don't know how to implement it for this problem. Any help would be utmost helpful.</p>\n<p>I have tried this recursive method, but I'm pretty sure I'm completely going the wrong way about it.</p>\n<pre><code>public static void step(char[][] graph, int[] pos, int turns, int max)\n{\n    if(turns &gt; max) return;\n    else if(pos[0] == graph.length-1 &amp;&amp; pos[1]==graph.length-1)\n    {\n        count++;\n        return;\n    }\n    else if(pos[0] == graph.length &amp;&amp; graph[pos[0]+1][pos[1]] == 'H') return;\n    else if(pos[1] == graph.length &amp;&amp; graph[pos[0]][pos[1]+1] == 'H') return;\n    else if(graph[pos[0]+1][pos[1]] == 'H' &amp;&amp; graph[pos[0]][pos[1]+1] == 'H') return;\n    else {\n        step(graph, new int[]{pos[0]+1, pos[1]}, turns+1, max);\n        step(graph, new int[]{pos[0], pos[1]+1}, turns+1, max);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640092606,"creation_date":1640092606,"answer_id":70436104,"question_id":70431566,"body_markdown":"Well you don&#39;t show how you are doing things, so I can&#39;t tell any details. But to answer your question, yes I think you are doing things wrong.\r\n\r\nIn short, if you have a state applied according to a column like sorting or filtering and you change the underlying data structure, things will break as the states does match the structure anymore. Not sure why you think this should work automatically. \r\n\r\nIf you change the underlying data structure you need to clear structure based states in advance. \r\n\r\nThere is an example in the NatTable examples application that shows how to change the data provider dynamically. Not sure if the example covers the clearing of states or if this is handled automatically when you are doing things correctly. ","title":"What is the correct way to dynamically change columns and data model in nattable?","body":"<p>Well you don't show how you are doing things, so I can't tell any details. But to answer your question, yes I think you are doing things wrong.</p>\n<p>In short, if you have a state applied according to a column like sorting or filtering and you change the underlying data structure, things will break as the states does match the structure anymore. Not sure why you think this should work automatically.</p>\n<p>If you change the underlying data structure you need to clear structure based states in advance.</p>\n<p>There is an example in the NatTable examples application that shows how to change the data provider dynamically. Not sure if the example covers the clearing of states or if this is handled automatically when you are doing things correctly.</p>\n"}],"owner":{"account_id":22957009,"reputation":11,"user_id":17087439,"display_name":"dammuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70436104,"answer_count":1,"score":0,"last_activity_date":1640092606,"creation_date":1640069058,"question_id":70431566,"body_markdown":"When changing the number of columns and rows of natTable\r\n  After clearing the column list of DataProvider, create a new column item and change the column item list of columnPropertyAccessor.\r\n  Then, put the new data model into the filter list and refresh it.\r\n  \r\n  **When the 7-column nattable is sorted (ascending or descending) and clicked, it is changed to a different data model (4 columns) as above, but if it is sorted,** &quot;**CurrentModificationException**&quot; and &quot;**IndezxOutOfBoundException**&quot; occur.\r\n  If you exchange data models without sorting, there is no problem.\r\n  I don&#39;t know which part is causing it.\r\n  \r\n  Is my way of replacing the filter list wrong when changing the data model?\r\n  If anyone has encountered a similar error and has solved it, please help.","title":"What is the correct way to dynamically change columns and data model in nattable?","body":"<p>When changing the number of columns and rows of natTable\nAfter clearing the column list of DataProvider, create a new column item and change the column item list of columnPropertyAccessor.\nThen, put the new data model into the filter list and refresh it.</p>\n<p><strong>When the 7-column nattable is sorted (ascending or descending) and clicked, it is changed to a different data model (4 columns) as above, but if it is sorted,</strong> &quot;<strong>CurrentModificationException</strong>&quot; and &quot;<strong>IndezxOutOfBoundException</strong>&quot; occur.\nIf you exchange data models without sorting, there is no problem.\nI don't know which part is causing it.</p>\n<p>Is my way of replacing the filter list wrong when changing the data model?\nIf anyone has encountered a similar error and has solved it, please help.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1639779797,"post_id":70398878,"comment_id":124444576,"body_markdown":"Looking at your pom file I would recommend starting over from the very minimal and adding as needed. Right now you have many dependencies that are already included in the spring-boot collections or you are mixing matching spring-boot with spring dependencies. Another thing that I would recommend is moving out from the XML configuration (mostly spring) to use just the either configuration properties or `@configuration` class. Since you mention that this is a new project it will be good to start it with a very good concise set of dependencies for spring boot alone.","body":"Looking at your pom file I would recommend starting over from the very minimal and adding as needed. Right now you have many dependencies that are already included in the spring-boot collections or you are mixing matching spring-boot with spring dependencies. Another thing that I would recommend is moving out from the XML configuration (mostly spring) to use just the either configuration properties or <code>@configuration</code> class. Since you mention that this is a new project it will be good to start it with a very good concise set of dependencies for spring boot alone."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1639821102,"post_id":70398878,"comment_id":124449781,"body_markdown":"Did you research for the error `NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup` ? For example [similar question here](https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications) or [related Spring issue](https://github.com/spring-projects/spring-boot/issues/24880). Do those solutions help?","body":"Did you research for the error <code>NoClassDefFoundError: org&#47;springframework&#47;core&#47;metrics&#47;ApplicationStartup</code> ? For example <a href=\"https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications\">similar question here</a> or <a href=\"https://github.com/spring-projects/spring-boot/issues/24880\" rel=\"nofollow noreferrer\">related Spring issue</a>. Do those solutions help?"},{"owner":{"account_id":10356917,"reputation":1187,"user_id":7638553,"accept_rate":64,"display_name":"Poonkodi Sivapragasam"},"score":0,"creation_date":1639872218,"post_id":70398878,"comment_id":124459867,"body_markdown":"I tried those. unfortunately those did not work for my case.","body":"I tried those. unfortunately those did not work for my case."},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1640095064,"post_id":70398878,"comment_id":124510165,"body_markdown":"What is this class `StarhubGrdApplication`","body":"What is this class <code>StarhubGrdApplication</code>"}],"owner":{"account_id":10356917,"reputation":1187,"user_id":7638553,"accept_rate":64,"display_name":"Poonkodi Sivapragasam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640092558,"creation_date":1639775089,"question_id":70398878,"body_markdown":"I am converting a jboss app to Springboot application. I added all the spring boot dependencies in the pom file. The application is building fine with no error. But when i run the Springboot app locally in intellij, i am getting the below error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n    \tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:253)\r\n    \tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:266)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n    \tat com.americanexpress.starhub.common.config.StarhubGrdApplication.main(StarhubGrdApplication.java:30)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 5 more\r\n\r\nHere is my main starter class.\r\n\r\n    @SpringBootApplication\r\n    @PropertySource({\r\n      &quot;classpath:cassandra-connection-ipc1-e0.properties&quot;,\r\n      &quot;classpath:appCrypto-${spring.profiles.active}.properties&quot;,\r\n      &quot;classpath:dataload_${spring.profiles.active}.properties&quot;\r\n    })\r\n    @ComponentScan(basePackages = &quot;com.company.app&quot;)\r\n    @ImportResource(&quot;classpath:springbatch-context.xml&quot;)\r\n    public class SGApplication {\r\n      private static Logger LOGGER = LoggerFactory.getLogger(SGApplication.class);\r\n      private static ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SGApplication.class, args);\r\n        Runnable command =\r\n            () -&gt;\r\n                LOGGER.info(\r\n                    &quot;SGApplication app is up and running {}&quot;, System.currentTimeMillis());\r\n    \r\n        scheduler.scheduleWithFixedDelay(command, 5, 5, TimeUnit.MINUTES);\r\n      }\r\n    }\r\n\r\nI have below dependencies in my pom file.\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAny inputs on how to fix this?\r\n\r\nAdding the whole pom file in here\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;start-class&gt;com.americanexpress.starhub.common.config.StarhubGrdApplication&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.aexp.starhub&lt;/groupId&gt;\r\n        &lt;artifactId&gt;starhub-parent-pom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;starhub-grd&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;starhub-grd&lt;/name&gt;\r\n    &lt;description&gt;starhub grd&lt;/description&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.23.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${cassandra.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-infrastructure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.54&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.fabric3.api&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commonj&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0.7&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.americanexpress.util.jconfig&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jconfig&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-admin-manager&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aexp.sec.crypto&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ssaascrypto&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jutil_lang&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;               \r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;            \r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;au.com.bytecode&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;backport-util-concurrent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;backport-util-concurrent-java12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n            &lt;version&gt;12.1.0.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.americanexpress.ea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elf-log4j2-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.americanexpress.ea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elf-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;starhub-grd&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\r\n                    &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;src/main/webapp/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptor&gt;src/assembly/bin.xml&lt;/descriptor&gt;\r\n                    &lt;finalName&gt;starhub-grd&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;lifecycleMappingMetadata&gt;\r\n                            &lt;pluginExecutions&gt;\r\n                                &lt;pluginExecutionFilter&gt;\r\n                                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.0&lt;/version&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/pluginExecutionFilter&gt;\r\n                                &lt;action&gt;\r\n                                    &lt;execute /&gt;\r\n                                &lt;/action&gt;\r\n                            &lt;/pluginExecutions&gt;\r\n                            &lt;pluginExecution&gt;\r\n                                &lt;pluginExecutionFilter&gt;\r\n                                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.0&lt;/version&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;install-file&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/pluginExecutionFilter&gt;\r\n                                &lt;action&gt;\r\n                                    &lt;execute&gt;\r\n                                        &lt;runOnIncremental&gt;false&lt;/runOnIncremental&gt;\r\n                                    &lt;/execute&gt;\r\n                                &lt;/action&gt;\r\n                            &lt;/pluginExecution&gt;\r\n                        &lt;/lifecycleMappingMetadata&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"ApplicationStartup error on Springboot app","body":"<p>I am converting a jboss app to Springboot application. I added all the spring boot dependencies in the pom file. The application is building fine with no error. But when i run the Springboot app locally in intellij, i am getting the below error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n    at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:253)\n    at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:266)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\n    at com.americanexpress.starhub.common.config.StarhubGrdApplication.main(StarhubGrdApplication.java:30)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 5 more\n</code></pre>\n<p>Here is my main starter class.</p>\n<pre><code>@SpringBootApplication\n@PropertySource({\n  &quot;classpath:cassandra-connection-ipc1-e0.properties&quot;,\n  &quot;classpath:appCrypto-${spring.profiles.active}.properties&quot;,\n  &quot;classpath:dataload_${spring.profiles.active}.properties&quot;\n})\n@ComponentScan(basePackages = &quot;com.company.app&quot;)\n@ImportResource(&quot;classpath:springbatch-context.xml&quot;)\npublic class SGApplication {\n  private static Logger LOGGER = LoggerFactory.getLogger(SGApplication.class);\n  private static ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n  public static void main(String[] args) {\n    SpringApplication.run(SGApplication.class, args);\n    Runnable command =\n        () -&gt;\n            LOGGER.info(\n                &quot;SGApplication app is up and running {}&quot;, System.currentTimeMillis());\n\n    scheduler.scheduleWithFixedDelay(command, 5, 5, TimeUnit.MINUTES);\n  }\n}\n</code></pre>\n<p>I have below dependencies in my pom file.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any inputs on how to fix this?</p>\n<p>Adding the whole pom file in here</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;properties&gt;\n    &lt;start-class&gt;com.americanexpress.starhub.common.config.StarhubGrdApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.aexp.starhub&lt;/groupId&gt;\n    &lt;artifactId&gt;starhub-parent-pom&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;starhub-grd&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;starhub-grd&lt;/name&gt;\n&lt;description&gt;starhub grd&lt;/description&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;2.23.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.datastax.cassandra&lt;/groupId&gt;\n        &lt;artifactId&gt;cassandra-driver-core&lt;/artifactId&gt;\n        &lt;version&gt;${cassandra.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;version&gt;1.8.6&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-batch-infrastructure&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n        &lt;version&gt;0.1.54&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;version&gt;1.4.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n        &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.fabric3.api&lt;/groupId&gt;\n        &lt;artifactId&gt;commonj&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.americanexpress.util.jconfig&lt;/groupId&gt;\n        &lt;artifactId&gt;jconfig&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-batch-admin-manager&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aexp.sec.crypto&lt;/groupId&gt;\n        &lt;artifactId&gt;ssaascrypto&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jutil_lang&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;/exclusion&gt;               \n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;            \n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.bytecode&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;backport-util-concurrent&lt;/groupId&gt;\n        &lt;artifactId&gt;backport-util-concurrent-java12&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.americanexpress.ea&lt;/groupId&gt;\n        &lt;artifactId&gt;elf-log4j2-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.americanexpress.ea&lt;/groupId&gt;\n        &lt;artifactId&gt;elf-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;starhub-grd&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\n                &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n                &lt;archive&gt;\n                    &lt;manifestFile&gt;src/main/webapp/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;descriptor&gt;src/assembly/bin.xml&lt;/descriptor&gt;\n                &lt;finalName&gt;starhub-grd&lt;/finalName&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n                &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;lifecycleMappingMetadata&gt;\n                        &lt;pluginExecutions&gt;\n                            &lt;pluginExecutionFilter&gt;\n                                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                                &lt;version&gt;1.0&lt;/version&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test-compile&lt;/goal&gt;\n                                    &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/pluginExecutionFilter&gt;\n                            &lt;action&gt;\n                                &lt;execute /&gt;\n                            &lt;/action&gt;\n                        &lt;/pluginExecutions&gt;\n                        &lt;pluginExecution&gt;\n                            &lt;pluginExecutionFilter&gt;\n                                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                                &lt;version&gt;1.0&lt;/version&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-file&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/pluginExecutionFilter&gt;\n                            &lt;action&gt;\n                                &lt;execute&gt;\n                                    &lt;runOnIncremental&gt;false&lt;/runOnIncremental&gt;\n                                &lt;/execute&gt;\n                            &lt;/action&gt;\n                        &lt;/pluginExecution&gt;\n                    &lt;/lifecycleMappingMetadata&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":3509019,"reputation":128,"user_id":2933836,"display_name":"ce57"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640092507,"creation_date":1640092507,"answer_id":70436082,"question_id":70274144,"body_markdown":"According to the docs - yes, the ordering of cancellation reasons matches the order of transaction items: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TransactWriteItems.html\r\n\r\n&gt; If using Java, DynamoDB lists the cancellation reasons on the\r\n&gt; CancellationReasons property. This property is not set for other\r\n&gt; languages. Transaction cancellation reasons are ordered in the order\r\n&gt; of requested items, if an item has no error it will have NONE code and\r\n&gt; Null message.","title":"Are transaction cancellation reasons returned in the same order as the TransactWriteItemsRequest","body":"<p>According to the docs - yes, the ordering of cancellation reasons matches the order of transaction items: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TransactWriteItems.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TransactWriteItems.html</a></p>\n<blockquote>\n<p>If using Java, DynamoDB lists the cancellation reasons on the\nCancellationReasons property. This property is not set for other\nlanguages. Transaction cancellation reasons are ordered in the order\nof requested items, if an item has no error it will have NONE code and\nNull message.</p>\n</blockquote>\n"}],"owner":{"account_id":16514642,"reputation":35,"user_id":11932466,"display_name":"ploc_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70436082,"answer_count":1,"score":1,"last_activity_date":1640092507,"creation_date":1638962452,"question_id":70274144,"body_markdown":"We are using the DynamoDB transaction API to perform 2 writes:\r\n\r\n```\r\n  TransactWriteItemsRequest transactionalWriteRequest = new TransactWriteItemsRequest();\r\n  transactionalWriteRequest.withTransactItems(writeOne, writeTwo); \r\n  dynamoDB.transactWriteItems(transactionalWriteRequest);\r\n```\r\n\r\nIf the transaction fails with a ```TransactionCanceledException``` we get back an exception with a list of ```CancellationReason``` objects.\r\n\r\nIn my scenario, imagine writeOne and writeTwo both fail. The exception will return two cancellation reasons.\r\n\r\nMy question is - does the ordering of those reasons match the ordering of the transactions in my request.\r\n\r\nIs this always true?\r\n\r\n```\r\n // Explains why writeOne failed\r\n transactionError.getCancellationReasons().get(0);\r\n // Explains why writeTwo failed\r\n transactionError.getCancellationReasons().get(1);\r\n```\r\n\r\nThanks\r\n","title":"Are transaction cancellation reasons returned in the same order as the TransactWriteItemsRequest","body":"<p>We are using the DynamoDB transaction API to perform 2 writes:</p>\n<pre><code>  TransactWriteItemsRequest transactionalWriteRequest = new TransactWriteItemsRequest();\n  transactionalWriteRequest.withTransactItems(writeOne, writeTwo); \n  dynamoDB.transactWriteItems(transactionalWriteRequest);\n</code></pre>\n<p>If the transaction fails with a <code>TransactionCanceledException</code> we get back an exception with a list of <code>CancellationReason</code> objects.</p>\n<p>In my scenario, imagine writeOne and writeTwo both fail. The exception will return two cancellation reasons.</p>\n<p>My question is - does the ordering of those reasons match the ordering of the transactions in my request.</p>\n<p>Is this always true?</p>\n<pre><code> // Explains why writeOne failed\n transactionError.getCancellationReasons().get(0);\n // Explains why writeTwo failed\n transactionError.getCancellationReasons().get(1);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","arrays","return"],"answers":[{"tags":[],"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640092350,"creation_date":1640092350,"answer_id":70436048,"question_id":70435960,"body_markdown":"You can try like this.\r\n```\r\npublic int[] make2(int[] a, int[] b) {\r\n    if (a.length &gt;= 2) {\r\n        return new int[]{a[0], a[1]}; // &lt;--- changed line\r\n    }\r\n    return b;\r\n}\r\n```","title":"How do you initialize a new int array on the same line you return data?","body":"<p>You can try like this.</p>\n<pre><code>public int[] make2(int[] a, int[] b) {\n    if (a.length &gt;= 2) {\n        return new int[]{a[0], a[1]}; // &lt;--- changed line\n    }\n    return b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640092440,"creation_date":1640092440,"answer_id":70436065,"question_id":70435960,"body_markdown":"Let&#39;s make this step by step. You know how you create a new integer array, since you did it in your snippet here\r\n```lang-java\r\nint[] result = new int[2];\r\n```\r\n\r\nThen you have to know, there is a thing called the [Array Initializer](https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6), which lets you initialize the array values at creation. For example:\r\n```lang-java\r\nint[] result = new int[]{ 1, 2, 3 };\r\n```\r\n\r\nSo, the solution to your question would be (combining this knowledge) the following:\r\n```lang-java\r\nreturn new int[]{ a[0], a[1] };\r\n```\r\nwhich creates and returns a new integer array of size 2, containing the values of `a[0]` and `a[1]`.","title":"How do you initialize a new int array on the same line you return data?","body":"<p>Let's make this step by step. You know how you create a new integer array, since you did it in your snippet here</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = new int[2];\n</code></pre>\n<p>Then you have to know, there is a thing called the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6\" rel=\"nofollow noreferrer\">Array Initializer</a>, which lets you initialize the array values at creation. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = new int[]{ 1, 2, 3 };\n</code></pre>\n<p>So, the solution to your question would be (combining this knowledge) the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return new int[]{ a[0], a[1] };\n</code></pre>\n<p>which creates and returns a new integer array of size 2, containing the values of <code>a[0]</code> and <code>a[1]</code>.</p>\n"}],"owner":{"account_id":23710386,"reputation":31,"user_id":17732323,"display_name":"Benjamin Deutsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640360643,"answer_count":2,"score":1,"last_activity_date":1640092440,"creation_date":1640091953,"question_id":70435960,"body_markdown":"I understand that if you want to return something that&#39;s stored in a variable, it&#39;s as simple as returning said variable:\r\n\r\n    int jellyfish = 7;\r\n    return jellyfish;\r\nand if you just wanted to return the number seven without any relation to jellyfish, you could just write:\r\n\r\n    return 7;\r\nBut how would this be possible for arrays? Up to this point, I declare the array that I want to return the values of and then just return that array directly in the next line, but it feels just as klunky as making the variable &quot;jellyfish&quot; above the return line for when the code nly ever intended to return 7. Like I would code:\r\n\r\n    public int[] make2(int[] a, int[] b) {\r\n    int[] result = new int[2];\r\n      if (a.length &gt;= 2) {\r\n        result[0] = a[0];\r\n        result[1] = a[0];\r\n        return result;\r\n      }\r\n      return b;\r\n    }\r\nEven though it feels as though it&#39;d be much simpler to just write something like:\r\n\r\n    public int[] make2(int[] a, int[] b) {\r\n        int[] result = new int[2];\r\n          if (a.length &gt;= 2) {\r\n            return {a[0], a[1]}; // &lt;--- changed line\r\n          }\r\n          return b;\r\n        }\r\nI&#39;m sure something like that exists, but nothing that I&#39;ve tested as of yet will let me return array information without putting it in a new array variable before the return statement. Is there a way to do this that I&#39;m not aware of or is this an inherent problem within Java that I can&#39;t do anything about?","title":"How do you initialize a new int array on the same line you return data?","body":"<p>I understand that if you want to return something that's stored in a variable, it's as simple as returning said variable:</p>\n<pre><code>int jellyfish = 7;\nreturn jellyfish;\n</code></pre>\n<p>and if you just wanted to return the number seven without any relation to jellyfish, you could just write:</p>\n<pre><code>return 7;\n</code></pre>\n<p>But how would this be possible for arrays? Up to this point, I declare the array that I want to return the values of and then just return that array directly in the next line, but it feels just as klunky as making the variable &quot;jellyfish&quot; above the return line for when the code nly ever intended to return 7. Like I would code:</p>\n<pre><code>public int[] make2(int[] a, int[] b) {\nint[] result = new int[2];\n  if (a.length &gt;= 2) {\n    result[0] = a[0];\n    result[1] = a[0];\n    return result;\n  }\n  return b;\n}\n</code></pre>\n<p>Even though it feels as though it'd be much simpler to just write something like:</p>\n<pre><code>public int[] make2(int[] a, int[] b) {\n    int[] result = new int[2];\n      if (a.length &gt;= 2) {\n        return {a[0], a[1]}; // &lt;--- changed line\n      }\n      return b;\n    }\n</code></pre>\n<p>I'm sure something like that exists, but nothing that I've tested as of yet will let me return array information without putting it in a new array variable before the return statement. Is there a way to do this that I'm not aware of or is this an inherent problem within Java that I can't do anything about?</p>\n"},{"tags":["java","arrays","json","set"],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640091650,"creation_date":1640091650,"answer_id":70435897,"question_id":70435765,"body_markdown":"You can try something like : \r\n\r\n    Set&lt;Integer&gt; result = IntStream.range(0, addressIds.length())\r\n            .mapToObj(addressIds::get)\r\n            .map(Integer::valueOf)\r\n            .collect(Collectors.toSet());","title":"Getting set of Integers from a JSONArray in Java?","body":"<p>You can try something like :</p>\n<pre><code>Set&lt;Integer&gt; result = IntStream.range(0, addressIds.length())\n        .mapToObj(addressIds::get)\n        .map(Integer::valueOf)\n        .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640092156,"creation_date":1640092156,"answer_id":70435999,"question_id":70435765,"body_markdown":"You can try cast Object to Integer in stream.\r\n```\r\naction.setAddressIds(addressIds.toList().stream().map(k -&gt; (Integer) k).collect(Collectors.toSet()));\r\n```","title":"Getting set of Integers from a JSONArray in Java?","body":"<p>You can try cast Object to Integer in stream.</p>\n<pre><code>action.setAddressIds(addressIds.toList().stream().map(k -&gt; (Integer) k).collect(Collectors.toSet()));\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70435999,"answer_count":2,"score":0,"last_activity_date":1640092156,"creation_date":1640091030,"question_id":70435765,"body_markdown":"I have the following `java` code where I am trying to pull a set of integers from a `JSONArray` object. How can I do so?\r\n\r\n\r\n    JSONObject actionDetail = new JSONObject(&quot;myJsonOject&quot;);\r\n    \r\n    int personId = actionDetail.getInt(&quot;personId&quot;);\r\n    JSONArray addressIds = actionDetail.getJSONArray(&quot;addressIds&quot;);\r\n    \r\n    Action action = new Action();\r\n   \r\n    action.setPersonId(personId); //working ok\r\n    \r\n    action.setAddressIds(): //todo - how to get list of ints from the JsonArray?\r\n\r\nNote that the type of `addressIds` field is: `Set&lt;Integer&gt;`\r\n\r\n\r\n\r\n","title":"Getting set of Integers from a JSONArray in Java?","body":"<p>I have the following <code>java</code> code where I am trying to pull a set of integers from a <code>JSONArray</code> object. How can I do so?</p>\n<pre><code>JSONObject actionDetail = new JSONObject(&quot;myJsonOject&quot;);\n\nint personId = actionDetail.getInt(&quot;personId&quot;);\nJSONArray addressIds = actionDetail.getJSONArray(&quot;addressIds&quot;);\n\nAction action = new Action();\n\naction.setPersonId(personId); //working ok\n\naction.setAddressIds(): //todo - how to get list of ints from the JsonArray?\n</code></pre>\n<p>Note that the type of <code>addressIds</code> field is: <code>Set&lt;Integer&gt;</code></p>\n"},{"tags":["java","spring-boot","scheduled-tasks","runnable","applicationcontext"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639735093,"post_id":70391298,"comment_id":124429894,"body_markdown":"Don&#39;t create an instance with `new`. Manage it through spring and get an instance through the context. Don&#39;t use the run method to later inject dependencies, just let spring do all that, you are basically trying to make things overly complex with this.","body":"Don&#39;t create an instance with <code>new</code>. Manage it through spring and get an instance through the context. Don&#39;t use the run method to later inject dependencies, just let spring do all that, you are basically trying to make things overly complex with this."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640092005,"creation_date":1639736059,"answer_id":70391558,"question_id":70391298,"body_markdown":"Make the `ReportExecutor` a Spring managed bean and make it prototype scoped. Next in your `ReportSchedulingService` use the `ApplicationContext` to get an instance (and let Spring do the wiring) and schedule it. \r\n\r\n```java\r\n@Service\r\npublic class ReportSchedulingService {\r\n    private static final Logger logger = LoggerFactory.getLogger(ReportSchedulingService.class);\r\n\r\n    private final Map&lt;String, ScheduledFuture&lt;?&gt;&gt; jobsMap = new ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\r\n\r\n    private final TaskScheduler taskScheduler;\r\n    private final ReportList reportList;\r\n    private final ApplicationContext ctx;\r\n\r\n    public ReportSchedulingService(ReportList reportList, TaskScheduler taskScheduler, ApplicationContext ctx) {\r\n        this.reportList=reportList;\r\n        this.taskScheduler=taskScheduler;\r\n        this.ctx=ctx;\r\n    }\r\n\r\n    public void scheduleAllReports() {\r\n        for (Map.Entry&lt;String, Report&gt; reportEntry : reportList.getReports().entrySet()) {\r\n            String reportName = reportEntry.getKey();\r\n            Report report = reportEntry.getValue();\r\n            String jobId = UUID.randomUUID().toString();\r\n            logger.info(String.format(&quot;Scheduling report [%s] with job id: [%s] and cron expression: [%s]&quot;,\r\n                reportName, jobId, report.getCron()));\r\n            ReportExecutor execution = ctx.getBean(ReportExecutor.class);\r\n            report.setId(jobId);\r\n            report.setName(reportName);\r\n            execution.setTaskDefinition(report);\r\n            ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(execution,\r\n                new CronTrigger(report.getCron(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\r\n            this.jobsMap.put(reportName + &quot;_&quot; + jobId, scheduledTask);\r\n        }\r\n    }\r\n\r\n    public void removeScheduledTask(String jobId) {\r\n        ScheduledFuture&lt;?&gt; scheduledTask = this.jobsMap.get(jobId);\r\n        if (scheduledTask != null) {\r\n            scheduledTask.cancel(true);\r\n            getJobMap().put(jobId, null);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**NOTE:** I took the liberty to improve your code a little as well, using constructor injection and using a `ConcurrentHashMap` instead of `syncronized`.\r\n\r\n```java\r\n@Component\r\n@Scope(scopeName=SCOPE_PROTOTYPE)\r\npublic class ReportExecutor implements Runnable {\r\n\r\n    private final ApplicationContext appContext;\r\n    private Report reportDefinition;\r\n\r\n    public ReportExecutor(ApplicationContext ctx) {\r\n      this.appContext=ctx;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        IReportGenerator generator = appContext.getBean(\r\n            reportDefinition.getExecute(),\r\n            IReportGenerator.class);\r\n        JSONArray reportData = generator.generate(reportDefinition);\r\n\r\n        IReportNotifier notifier =\r\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\r\n        notifier.send(reportDefinition, reportData);\r\n\r\n    }\r\n\r\n    public void setTaskDefinition(Report reportDefinition) {\r\n        this.reportDefinition = reportDefinition;\r\n    }\r\n}\r\n```\r\nThe scoped proxy will create a new instance for each call to `getBean`. So you get a fresh, clean instance for each execution you want to schedule. ","title":"How to autowire Application context in a ScheduledFutures runnable task","body":"<p>Make the <code>ReportExecutor</code> a Spring managed bean and make it prototype scoped. Next in your <code>ReportSchedulingService</code> use the <code>ApplicationContext</code> to get an instance (and let Spring do the wiring) and schedule it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ReportSchedulingService {\n    private static final Logger logger = LoggerFactory.getLogger(ReportSchedulingService.class);\n\n    private final Map&lt;String, ScheduledFuture&lt;?&gt;&gt; jobsMap = new ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\n\n    private final TaskScheduler taskScheduler;\n    private final ReportList reportList;\n    private final ApplicationContext ctx;\n\n    public ReportSchedulingService(ReportList reportList, TaskScheduler taskScheduler, ApplicationContext ctx) {\n        this.reportList=reportList;\n        this.taskScheduler=taskScheduler;\n        this.ctx=ctx;\n    }\n\n    public void scheduleAllReports() {\n        for (Map.Entry&lt;String, Report&gt; reportEntry : reportList.getReports().entrySet()) {\n            String reportName = reportEntry.getKey();\n            Report report = reportEntry.getValue();\n            String jobId = UUID.randomUUID().toString();\n            logger.info(String.format(&quot;Scheduling report [%s] with job id: [%s] and cron expression: [%s]&quot;,\n                reportName, jobId, report.getCron()));\n            ReportExecutor execution = ctx.getBean(ReportExecutor.class);\n            report.setId(jobId);\n            report.setName(reportName);\n            execution.setTaskDefinition(report);\n            ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(execution,\n                new CronTrigger(report.getCron(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\n            this.jobsMap.put(reportName + &quot;_&quot; + jobId, scheduledTask);\n        }\n    }\n\n    public void removeScheduledTask(String jobId) {\n        ScheduledFuture&lt;?&gt; scheduledTask = this.jobsMap.get(jobId);\n        if (scheduledTask != null) {\n            scheduledTask.cancel(true);\n            getJobMap().put(jobId, null);\n        }\n    }\n}\n</code></pre>\n<p><strong>NOTE:</strong> I took the liberty to improve your code a little as well, using constructor injection and using a <code>ConcurrentHashMap</code> instead of <code>syncronized</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Scope(scopeName=SCOPE_PROTOTYPE)\npublic class ReportExecutor implements Runnable {\n\n    private final ApplicationContext appContext;\n    private Report reportDefinition;\n\n    public ReportExecutor(ApplicationContext ctx) {\n      this.appContext=ctx;\n    }\n\n    @Override\n    public void run() {\n        IReportGenerator generator = appContext.getBean(\n            reportDefinition.getExecute(),\n            IReportGenerator.class);\n        JSONArray reportData = generator.generate(reportDefinition);\n\n        IReportNotifier notifier =\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\n        notifier.send(reportDefinition, reportData);\n\n    }\n\n    public void setTaskDefinition(Report reportDefinition) {\n        this.reportDefinition = reportDefinition;\n    }\n}\n</code></pre>\n<p>The scoped proxy will create a new instance for each call to <code>getBean</code>. So you get a fresh, clean instance for each execution you want to schedule.</p>\n"}],"owner":{"account_id":20188725,"reputation":3,"user_id":14807459,"display_name":"Dimitrios Venetas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70391558,"answer_count":1,"score":0,"last_activity_date":1640092005,"creation_date":1639734762,"question_id":70391298,"body_markdown":"I am trying to create a module for running report tasks based on configuration. The thought is to pass report configuration to a single task for defining each report specifics. Report configuration contains data information and class names that will be invoked to do the separate tasks. For this I have a Scheduling Service for dynamically configuring on startup my scheduled tasks. Task (runnable impl) is ReportExecutor.\r\n```\r\n@Service\r\npublic class ReportSchedulingService {\r\n    private static final Logger logger = LoggerFactory.getLogger(ReportSchedulingService.class);\r\n\r\n    @Autowired\r\n    private ThreadPoolTaskScheduler taskScheduler;\r\n\r\n    @Autowired\r\n    private ReportList reportList;\r\n\r\n    private static Map&lt;String, ScheduledFuture&lt;?&gt;&gt; jobsMap = new HashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\r\n\r\n    public void scheduleAllReports() {\r\n        for (Map.Entry&lt;String, Report&gt; reportEntry : reportList.getReports().entrySet()) {\r\n            String reportName = reportEntry.getKey();\r\n            Report report = reportEntry.getValue();\r\n            String jobId = UUID.randomUUID().toString();\r\n            logger.info(String.format(&quot;Scheduling report [%s] with job id: [%s] and cron expression: [%s]&quot;,\r\n                reportName, jobId, report.getCron()));\r\n            ReportExecutor execution = new ReportExecutor();\r\n            report.setId(jobId);\r\n            report.setName(reportName);\r\n            execution.setTaskDefinition(report);\r\n            ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(execution,\r\n                new CronTrigger(report.getCron(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\r\n            getJobMap().put(reportName + &quot;_&quot; + jobId, scheduledTask);\r\n        }\r\n    }\r\n\r\n    private synchronized Map&lt;String, ScheduledFuture&lt;?&gt;&gt; getJobMap() {\r\n        if (jobsMap == null) {\r\n            jobsMap = new HashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\r\n        }\r\n        return jobsMap;\r\n    }\r\n\r\n    public void removeScheduledTask(String jobId) {\r\n        ScheduledFuture&lt;?&gt; scheduledTask = getJobMap().get(jobId);\r\n        if (scheduledTask != null) {\r\n            scheduledTask.cancel(true);\r\n            getJobMap().put(jobId, null);\r\n        }\r\n    }\r\n}\r\n```\r\nReport Executor is:\r\n```\r\n@Component\r\npublic class ReportExecutor implements Runnable {\r\n\r\n    @Autowired\r\n    private ApplicationContext appContext;\r\n\r\n    private Report reportDefinition;\r\n\r\n    @Override\r\n    public void run() {\r\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n        System.out.println(reportDefinition);\r\n        IReportGenerator generator = appContext.getBean(\r\n            reportDefinition.getExecute(),\r\n            IReportGenerator.class);\r\n        JSONArray reportData = generator.generate(reportDefinition);\r\n\r\n        IReportNotifier notifier =\r\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\r\n        notifier.send(reportDefinition, reportData);\r\n\r\n    }\r\n    public Report getTaskDefinition() {\r\n        return reportDefinition;\r\n    }\r\n    public void setTaskDefinition(Report reportDefinition) {\r\n        this.reportDefinition = reportDefinition;\r\n    }\r\n}\r\n```\r\nBut I have also tried with:\r\n```\r\n@Component\r\npublic class ReportExecutor implements Runnable, ApplicationContextAware {\r\n\r\n    private ApplicationContext appContext;\r\n\r\n    private Report reportDefinition;\r\n\r\n    @Override\r\n    public void run() {\r\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n        System.out.println(reportDefinition);\r\n        IReportGenerator generator = appContext.getBean(\r\n            reportDefinition.getExecute(),\r\n            IReportGenerator.class);\r\n        JSONArray reportData = generator.generate(reportDefinition);\r\n\r\n        IReportNotifier notifier =\r\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\r\n        notifier.send(reportDefinition, reportData);\r\n\r\n    }\r\n\r\n    public Report getTaskDefinition() {\r\n        return reportDefinition;\r\n    }\r\n\r\n    public void setTaskDefinition(Report reportDefinition) {\r\n        this.reportDefinition = reportDefinition;\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.appContext = applicationContext;\r\n    }\r\n\r\n}\r\n```\r\nSeems that I cannot get the application context here and end up to a NPE at:\r\n```\r\n        IReportGenerator generator = appContext.getBean(\r\n```\r\nThe stackTrace is:\r\n```\r\njava.lang.NullPointerException: null\r\n\tat ote.itarc.report.ReportExecutor.run(ReportExecutor.java:27) ~[classes/:?]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.10.RELEASE.jar:5.2.10.RELEASE]\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.10.RELEASE.jar:5.2.10.RELEASE]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:836) [?:?]\r\n```\r\nReportList object comes from yaml properties:\r\n```\r\nreportlist:\r\n  reports:\r\n    missinginfra:\r\n      desc: &quot;This report provides ...&quot;\r\n      execute: QueryReportGenerator\r\n      query: SELECT * FROM DUAL\r\n      cron: &quot;0 0/2 * 1/1 * ?&quot;\r\n      notification:\r\n        execute: EmailCsvReportNotifier\r\n        templateid: 0\r\n```\r\nWith the following definition\r\n```\r\n@ConfigurationProperties(prefix = &quot;reportlist&quot;)\r\n@Configuration\r\n@EnableConfigurationProperties\r\npublic class ReportList {\r\n\r\n    private Map&lt;String, Report&gt; reports;\r\n\r\n    public Map&lt;String, Report&gt; getReports() {\r\n        return reports;\r\n    }\r\n\r\n    public void setReports(Map&lt;String, Report&gt; reports) {\r\n        this.reports = reports;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ReportList [reports=&quot; + reports + &quot;]&quot;;\r\n    }\r\n}\r\n```","title":"How to autowire Application context in a ScheduledFutures runnable task","body":"<p>I am trying to create a module for running report tasks based on configuration. The thought is to pass report configuration to a single task for defining each report specifics. Report configuration contains data information and class names that will be invoked to do the separate tasks. For this I have a Scheduling Service for dynamically configuring on startup my scheduled tasks. Task (runnable impl) is ReportExecutor.</p>\n<pre><code>@Service\npublic class ReportSchedulingService {\n    private static final Logger logger = LoggerFactory.getLogger(ReportSchedulingService.class);\n\n    @Autowired\n    private ThreadPoolTaskScheduler taskScheduler;\n\n    @Autowired\n    private ReportList reportList;\n\n    private static Map&lt;String, ScheduledFuture&lt;?&gt;&gt; jobsMap = new HashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\n\n    public void scheduleAllReports() {\n        for (Map.Entry&lt;String, Report&gt; reportEntry : reportList.getReports().entrySet()) {\n            String reportName = reportEntry.getKey();\n            Report report = reportEntry.getValue();\n            String jobId = UUID.randomUUID().toString();\n            logger.info(String.format(&quot;Scheduling report [%s] with job id: [%s] and cron expression: [%s]&quot;,\n                reportName, jobId, report.getCron()));\n            ReportExecutor execution = new ReportExecutor();\n            report.setId(jobId);\n            report.setName(reportName);\n            execution.setTaskDefinition(report);\n            ScheduledFuture&lt;?&gt; scheduledTask = taskScheduler.schedule(execution,\n                new CronTrigger(report.getCron(), TimeZone.getTimeZone(TimeZone.getDefault().getID())));\n            getJobMap().put(reportName + &quot;_&quot; + jobId, scheduledTask);\n        }\n    }\n\n    private synchronized Map&lt;String, ScheduledFuture&lt;?&gt;&gt; getJobMap() {\n        if (jobsMap == null) {\n            jobsMap = new HashMap&lt;String, ScheduledFuture&lt;?&gt;&gt;();\n        }\n        return jobsMap;\n    }\n\n    public void removeScheduledTask(String jobId) {\n        ScheduledFuture&lt;?&gt; scheduledTask = getJobMap().get(jobId);\n        if (scheduledTask != null) {\n            scheduledTask.cancel(true);\n            getJobMap().put(jobId, null);\n        }\n    }\n}\n</code></pre>\n<p>Report Executor is:</p>\n<pre><code>@Component\npublic class ReportExecutor implements Runnable {\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    private Report reportDefinition;\n\n    @Override\n    public void run() {\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n        System.out.println(reportDefinition);\n        IReportGenerator generator = appContext.getBean(\n            reportDefinition.getExecute(),\n            IReportGenerator.class);\n        JSONArray reportData = generator.generate(reportDefinition);\n\n        IReportNotifier notifier =\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\n        notifier.send(reportDefinition, reportData);\n\n    }\n    public Report getTaskDefinition() {\n        return reportDefinition;\n    }\n    public void setTaskDefinition(Report reportDefinition) {\n        this.reportDefinition = reportDefinition;\n    }\n}\n</code></pre>\n<p>But I have also tried with:</p>\n<pre><code>@Component\npublic class ReportExecutor implements Runnable, ApplicationContextAware {\n\n    private ApplicationContext appContext;\n\n    private Report reportDefinition;\n\n    @Override\n    public void run() {\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n        System.out.println(reportDefinition);\n        IReportGenerator generator = appContext.getBean(\n            reportDefinition.getExecute(),\n            IReportGenerator.class);\n        JSONArray reportData = generator.generate(reportDefinition);\n\n        IReportNotifier notifier =\n            appContext.getBean(reportDefinition.getNotification().getExecute(), IReportNotifier.class);\n        notifier.send(reportDefinition, reportData);\n\n    }\n\n    public Report getTaskDefinition() {\n        return reportDefinition;\n    }\n\n    public void setTaskDefinition(Report reportDefinition) {\n        this.reportDefinition = reportDefinition;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.appContext = applicationContext;\n    }\n\n}\n</code></pre>\n<p>Seems that I cannot get the application context here and end up to a NPE at:</p>\n<pre><code>        IReportGenerator generator = appContext.getBean(\n</code></pre>\n<p>The stackTrace is:</p>\n<pre><code>java.lang.NullPointerException: null\n    at ote.itarc.report.ReportExecutor.run(ReportExecutor.java:27) ~[classes/:?]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.10.RELEASE.jar:5.2.10.RELEASE]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.10.RELEASE.jar:5.2.10.RELEASE]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\n    at java.lang.Thread.run(Thread.java:836) [?:?]\n</code></pre>\n<p>ReportList object comes from yaml properties:</p>\n<pre><code>reportlist:\n  reports:\n    missinginfra:\n      desc: &quot;This report provides ...&quot;\n      execute: QueryReportGenerator\n      query: SELECT * FROM DUAL\n      cron: &quot;0 0/2 * 1/1 * ?&quot;\n      notification:\n        execute: EmailCsvReportNotifier\n        templateid: 0\n</code></pre>\n<p>With the following definition</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;reportlist&quot;)\n@Configuration\n@EnableConfigurationProperties\npublic class ReportList {\n\n    private Map&lt;String, Report&gt; reports;\n\n    public Map&lt;String, Report&gt; getReports() {\n        return reports;\n    }\n\n    public void setReports(Map&lt;String, Report&gt; reports) {\n        this.reports = reports;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ReportList [reports=&quot; + reports + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","quarkus"],"answers":[{"tags":[],"owner":{"account_id":37969,"reputation":2730,"user_id":108758,"accept_rate":100,"display_name":"albogdano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640091455,"creation_date":1640091455,"answer_id":70435852,"question_id":70361817,"body_markdown":"It&#39;s not odd - that&#39;s just how AWS DynamoDB works. Numbers are represented as strings in DynamoDB and Quarkus has nothing to do with that. See the [API reference][1]:\r\n\r\n\r\n&gt; **N** &lt;br&gt;\r\n&gt; An attribute of type Number. For example:\r\n&gt; \r\n&gt; &quot;N&quot;: &quot;123.45&quot;\r\n&gt; \r\n&gt; Numbers are sent across the network to DynamoDB as strings, to\r\n&gt; maximize compatibility across languages and libraries. However,\r\n&gt; DynamoDB treats them as number type attributes for mathematical\r\n&gt; operations.\r\n&gt; \r\n&gt; Type: String\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html","title":"DynamoDB + Quarkus - Odd type conversion","body":"<p>It's not odd - that's just how AWS DynamoDB works. Numbers are represented as strings in DynamoDB and Quarkus has nothing to do with that. See the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html\" rel=\"nofollow noreferrer\">API reference</a>:</p>\n<blockquote>\n<p><strong>N</strong> <br>\nAn attribute of type Number. For example:</p>\n<p>&quot;N&quot;: &quot;123.45&quot;</p>\n<p>Numbers are sent across the network to DynamoDB as strings, to\nmaximize compatibility across languages and libraries. However,\nDynamoDB treats them as number type attributes for mathematical\noperations.</p>\n<p>Type: String</p>\n</blockquote>\n"}],"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70435852,"answer_count":1,"score":1,"last_activity_date":1640091455,"creation_date":1639562952,"question_id":70361817,"body_markdown":"I have a table / entity on DynamoDB that should be mapped with number as fields.\r\n\r\nExample:\r\n\r\n    @RegisterForReflection\r\n    Foo {\r\n         Integer myfield;\r\n         ...\r\n    }\r\n\r\nI noticed that the AWS SDK used by *quarkus-amazon-dynamodb* dependency is built in a odd way.\r\n\r\nFor example,the n() method of  *software.amazon.awssdk.services.dynamodb.model.AttributeValue* \r\n\r\nreturn a java **String** instead of a **Number** type, so I have to convert the result with a clumsy **Integer.parseInt()** \r\n\r\n    public static Foo from(Map&lt;String, AttributeValue&gt; item) {\r\n        final var output = new Foo();\r\n        if (item != null &amp;&amp; !item.isEmpty()) {\r\n            output.setMyField(Integer.parseInt(item.get(MY_FIELD).n()));\r\n        }\r\n        return output;\r\n    }\r\n\r\nThe same happens if I have to fetch an item and use \r\n\r\n**AttributeValue.builder().n()**\r\n\r\n\tfinal Map&lt;String, AttributeValue&gt; key = new HashMap&lt;&gt;();\r\n        key.put(Foo.MY_FIELD, AttributeValue.builder().n(input.toString()).build()); // too bad!!\r\n\r\n        return GetItemRequest.builder()\r\n                .tableName(TABLE_NAME)\r\n                .key(key)\r\n                .attributesToGet(Foo.MY_FIELD)\r\n                .build();\r\n\r\nDo I miss something ?\r\n\r\n**PS**\r\n\r\nThe Quarkus dynamoDB documentation is [here][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/amazon-dynamodb","title":"DynamoDB + Quarkus - Odd type conversion","body":"<p>I have a table / entity on DynamoDB that should be mapped with number as fields.</p>\n<p>Example:</p>\n<pre><code>@RegisterForReflection\nFoo {\n     Integer myfield;\n     ...\n}\n</code></pre>\n<p>I noticed that the AWS SDK used by <em>quarkus-amazon-dynamodb</em> dependency is built in a odd way.</p>\n<p>For example,the n() method of  <em>software.amazon.awssdk.services.dynamodb.model.AttributeValue</em></p>\n<p>return a java <strong>String</strong> instead of a <strong>Number</strong> type, so I have to convert the result with a clumsy <strong>Integer.parseInt()</strong></p>\n<pre><code>public static Foo from(Map&lt;String, AttributeValue&gt; item) {\n    final var output = new Foo();\n    if (item != null &amp;&amp; !item.isEmpty()) {\n        output.setMyField(Integer.parseInt(item.get(MY_FIELD).n()));\n    }\n    return output;\n}\n</code></pre>\n<p>The same happens if I have to fetch an item and use</p>\n<p><strong>AttributeValue.builder().n()</strong></p>\n<pre><code>final Map&lt;String, AttributeValue&gt; key = new HashMap&lt;&gt;();\n    key.put(Foo.MY_FIELD, AttributeValue.builder().n(input.toString()).build()); // too bad!!\n\n    return GetItemRequest.builder()\n            .tableName(TABLE_NAME)\n            .key(key)\n            .attributesToGet(Foo.MY_FIELD)\n            .build();\n</code></pre>\n<p>Do I miss something ?</p>\n<p><strong>PS</strong></p>\n<p>The Quarkus dynamoDB documentation is <a href=\"https://quarkus.io/guides/amazon-dynamodb\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640090874,"creation_date":1640086289,"answer_id":70434738,"question_id":70433662,"body_markdown":"You can apply two successive **shift** transformations. Take **&quot;@(2,arrayIndex)&quot;** as a common factor in order to combine the elements under the commonly tagged arrays in the first transformation, and then display them as desired within the second one such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;characteristic&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: {\r\n            &quot;@(1,value)&quot;: &quot;@(2,arrayIndex).@(2,name)&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;bucketList[]&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gj2BE.jpg","title":"Jolt- Based on the index need to iterate a list and form common object from the index","body":"<p>You can apply two successive <strong>shift</strong> transformations. Take <strong>&quot;@(2,arrayIndex)&quot;</strong> as a common factor in order to combine the elements under the commonly tagged arrays in the first transformation, and then display them as desired within the second one such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;characteristic&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: {\n            &quot;@(1,value)&quot;: &quot;@(2,arrayIndex).@(2,name)&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;bucketList[]&quot;\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Gj2BE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gj2BE.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434738,"answer_count":1,"score":0,"last_activity_date":1640091145,"creation_date":1640081173,"question_id":70433662,"body_markdown":"I have requirement of iterating a list which can have same tag name but different indexes like 0,1,2. So I need to iterate the list, take out the common indexes and from that index take out name and value tag and form as another list.\r\n\r\nRequest:\r\n```json\r\n{\r\n  &quot;characteristic&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName0&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName1&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName2&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId0&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId1&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId2&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nResponse Required:\r\n```json\r\n{\r\n  &quot;bucketList&quot;: [\r\n    {\r\n      &quot;BucketName&quot;: &quot;testName0&quot;,\r\n      &quot;BucketId&quot;: &quot;testId0&quot;\r\n    },\r\n    {\r\n      &quot;BucketName&quot;: &quot;testName1&quot;,\r\n      &quot;BucketId&quot;: &quot;testId1&quot;\r\n    },\r\n    {\r\n      &quot;BucketName&quot;: &quot;testName2&quot;,\r\n      &quot;BucketId&quot;: &quot;testId2&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nHow could we achieve this based on the index from alist?\r\n\r\nWhen More elements are there how to handle this case to skip if values not coming and add only tags that are coming. \r\nExample Request:\r\n```json\r\n{\r\n  &quot;characteristic&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName0&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId0&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketType&quot;,\r\n      &quot;value&quot;: &quot;testType1&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId1&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName2&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId2&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketId&quot;,\r\n      &quot;value&quot;: &quot;testId3&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;3&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketName&quot;,\r\n      &quot;value&quot;: &quot;testName3&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;3&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;BucketData&quot;,\r\n      &quot;value&quot;: &quot;testData3&quot;,\r\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\r\n      &quot;arrayIndex&quot;: &quot;3&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nResponse expected:\r\n```json\r\n{\r\n\t&quot;bucketlist&quot;: [\r\n\t\t{\r\n\t\t\t&quot;BucketName&quot;: &quot;testName0&quot;,\r\n\t\t\t&quot;BucketId&quot;: &quot;testId0&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;BucketType&quot;: &quot;testType1&quot;,\r\n\t\t\t&quot;BucketId&quot;: &quot;testId1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;BucketName&quot;: &quot;testName2&quot;,\r\n\t\t\t&quot;BucketId&quot;: &quot;testId2&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;BucketName&quot;: &quot;testName3&quot;,\r\n\t\t\t&quot;BucketId&quot;: &quot;testId3&quot;,\r\n\t\t\t&quot;BucketData&quot;: &quot;testData3&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```","title":"Jolt- Based on the index need to iterate a list and form common object from the index","body":"<p>I have requirement of iterating a list which can have same tag name but different indexes like 0,1,2. So I need to iterate the list, take out the common indexes and from that index take out name and value tag and form as another list.</p>\n<p>Request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;characteristic&quot;: [\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName0&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName1&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName2&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId0&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId1&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId2&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Response Required:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bucketList&quot;: [\n    {\n      &quot;BucketName&quot;: &quot;testName0&quot;,\n      &quot;BucketId&quot;: &quot;testId0&quot;\n    },\n    {\n      &quot;BucketName&quot;: &quot;testName1&quot;,\n      &quot;BucketId&quot;: &quot;testId1&quot;\n    },\n    {\n      &quot;BucketName&quot;: &quot;testName2&quot;,\n      &quot;BucketId&quot;: &quot;testId2&quot;\n    }\n  ]\n}\n</code></pre>\n<p>How could we achieve this based on the index from alist?</p>\n<p>When More elements are there how to handle this case to skip if values not coming and add only tags that are coming.\nExample Request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;characteristic&quot;: [\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName0&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId0&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketType&quot;,\n      &quot;value&quot;: &quot;testType1&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId1&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName2&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId2&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketId&quot;,\n      &quot;value&quot;: &quot;testId3&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;3&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketName&quot;,\n      &quot;value&quot;: &quot;testName3&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;3&quot;\n    },\n    {\n      &quot;name&quot;: &quot;BucketData&quot;,\n      &quot;value&quot;: &quot;testData3&quot;,\n      &quot;@type&quot;: &quot;bucketInfo&quot;,\n      &quot;arrayIndex&quot;: &quot;3&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Response expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;bucketlist&quot;: [\n        {\n            &quot;BucketName&quot;: &quot;testName0&quot;,\n            &quot;BucketId&quot;: &quot;testId0&quot;\n        },\n        {\n            &quot;BucketType&quot;: &quot;testType1&quot;,\n            &quot;BucketId&quot;: &quot;testId1&quot;\n        },\n        {\n            &quot;BucketName&quot;: &quot;testName2&quot;,\n            &quot;BucketId&quot;: &quot;testId2&quot;\n        },\n        {\n            &quot;BucketName&quot;: &quot;testName3&quot;,\n            &quot;BucketId&quot;: &quot;testId3&quot;,\n            &quot;BucketData&quot;: &quot;testData3&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","jetty","embedded-jetty","zk"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640027641,"creation_date":1640027641,"answer_id":70426880,"question_id":70426380,"body_markdown":"First, don&#39;t use Jetty 9.4.30, it&#39;s subject to a few security advisories now.\r\n\r\nSee: https://www.eclipse.org/jetty/security_reports.php\r\n\r\nUse at least use Jetty 9.4.44.v20210927.\r\n\r\nNext, check your Jetty Server dump for the zk servlets ...\r\n\r\n* `org.zkoss.zk.au.http.DHtmlUpdateServlet`\r\n* `org.zkoss.zk.ui.http.DHtmlLayoutServlet`\r\n\r\nIf those are present in your `WebAppContext` dump then your `zkwebfragment-&lt;ver&gt;.jar` was discovered and loaded by Jetty properly.  At this point, what you have left to do is how to properly configure for your zk lib using the zk techniques (you can ignore Jetty specific details from here on).\r\n\r\nIf they are not present, then first make sure your own webapp is using Servlet 3.0 (declared in your `WEB-INF/web.xml`) or newer for proper Web Fragment support (older Servlet specs don&#39;t support Web Fragment).\r\n\r\nNext, make sure the `zkwebfragment-&lt;ver&gt;.jar` is present on the WebApp classloader, as no web-fragments will load from any other classloader per spec, not even the application / server / container classloaders.\r\n\r\nIf you still don&#39;t see them, then go back to adjusting the default `Configuration` list, not the hardcoded list you have in your code snippet. \r\n(your list is missing required Configurations, and is in the wrong order for success, don&#39;t alter the default list, don&#39;t set the list on the webapp, only alter the server level defaults).\r\n\r\nAsk yourself, what does zk require? (eg: if it needs jndi, then you need the jndi specific configuration piece too).\r\n\r\nIf you are not stuck on Java 8, please use Jetty 10, as the entire `Configuration` layer was reworked to no longer allow bad configurations (in fact the old `setConfiguration()` methods are not even there, just the existence of support jars is enough to flag that you want that support and enable it, in the right place, with the right parent dependencies).\r\n","title":"How to get ZK webfragment working with embedded Jetty 9?","body":"<p>First, don't use Jetty 9.4.30, it's subject to a few security advisories now.</p>\n<p>See: <a href=\"https://www.eclipse.org/jetty/security_reports.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/security_reports.php</a></p>\n<p>Use at least use Jetty 9.4.44.v20210927.</p>\n<p>Next, check your Jetty Server dump for the zk servlets ...</p>\n<ul>\n<li><code>org.zkoss.zk.au.http.DHtmlUpdateServlet</code></li>\n<li><code>org.zkoss.zk.ui.http.DHtmlLayoutServlet</code></li>\n</ul>\n<p>If those are present in your <code>WebAppContext</code> dump then your <code>zkwebfragment-&lt;ver&gt;.jar</code> was discovered and loaded by Jetty properly.  At this point, what you have left to do is how to properly configure for your zk lib using the zk techniques (you can ignore Jetty specific details from here on).</p>\n<p>If they are not present, then first make sure your own webapp is using Servlet 3.0 (declared in your <code>WEB-INF/web.xml</code>) or newer for proper Web Fragment support (older Servlet specs don't support Web Fragment).</p>\n<p>Next, make sure the <code>zkwebfragment-&lt;ver&gt;.jar</code> is present on the WebApp classloader, as no web-fragments will load from any other classloader per spec, not even the application / server / container classloaders.</p>\n<p>If you still don't see them, then go back to adjusting the default <code>Configuration</code> list, not the hardcoded list you have in your code snippet.\n(your list is missing required Configurations, and is in the wrong order for success, don't alter the default list, don't set the list on the webapp, only alter the server level defaults).</p>\n<p>Ask yourself, what does zk require? (eg: if it needs jndi, then you need the jndi specific configuration piece too).</p>\n<p>If you are not stuck on Java 8, please use Jetty 10, as the entire <code>Configuration</code> layer was reworked to no longer allow bad configurations (in fact the old <code>setConfiguration()</code> methods are not even there, just the existence of support jars is enough to flag that you want that support and enable it, in the right place, with the right parent dependencies).</p>\n"},{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640073637,"creation_date":1640070916,"answer_id":70431821,"question_id":70426380,"body_markdown":"the way to add a configuration is:\r\n\r\n```java\r\nConfiguration.ClassList classList = Configuration.ClassList.setServerDefault(server);\r\nclassList.addAfter(\r\n                &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\r\n                &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\r\n```\r\n\r\nUpdate:\r\n\r\nI have tried\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;10.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe zul works without adding any configuration.","title":"How to get ZK webfragment working with embedded Jetty 9?","body":"<p>the way to add a configuration is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration.ClassList classList = Configuration.ClassList.setServerDefault(server);\nclassList.addAfter(\n                &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\n                &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\n</code></pre>\n<p>Update:</p>\n<p>I have tried</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n        &lt;version&gt;10.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The zul works without adding any configuration.</p>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640079846,"creation_date":1640078625,"answer_id":70433131,"question_id":70426380,"body_markdown":"So, as Joakim pointed out, the [Servlet Specification 3.1][1] says:\r\n\r\n&gt; If a framework wants its META-INF/web-fragment.xml honored in such a\r\n&gt; way that it augments a web application&#39;s web.xml, the framework must\r\n&gt; be bundled within the web application&#39;s WEB-INF/lib directory. [...] In other words, only JAR files bundled in a web\r\n&gt; application&#39;s WEB-INF/lib directory, but not those higher up in the\r\n&gt; class loading delegation chain, need to be scanned for\r\n&gt; web-fragment.xml\r\n\r\nTherefore, I must ensure that `zkwebfragments.jar` is present on the WebAppContext&#39;s classpath.\r\n\r\nI changed my deployment strategy to look like this:\r\n\r\n    /myapp/\r\n      |-bin/\r\n      |  |- project jar (including annotated servlets and listeners)\r\n      |  |- all maven dependency jars (including jetty and zk libs)\r\n      |-webapp/\r\n      |  |-WEB-INF/\r\n      |  |  |-lib/ (EMTPY!)\r\n      |  |  |-web.xml\r\n      |  |  |-zk.xml\r\n      |  |-index.zul\r\n      |  |-other static resources\r\n      |-data/\r\n         |-application data (docker mounted host volume)\r\n\r\nIn the main class, adding the zkwebfragment.jar to the WebAppContext classpath:\r\n\r\n    Server server = new Server(port);\r\n    WebAppContext webapp = new WebAppContext();\r\n    webapp.setContextPath(&quot;/myapp&quot;);\r\n    webapp.setBaseResource(Resource.newResource(new File(isDocker ? &quot;/myapp/webapp&quot; : &quot;./webapp&quot;).getCanonicalFile()));\r\n    // order important: https://www.eclipse.org/jetty/documentation/jetty-9/index.html#configuring-webapps\r\n    webapp.setConfigurations(new Configuration[] { //\r\n        new WebInfConfiguration(), //\r\n        new WebXmlConfiguration(), //\r\n        new MetaInfConfiguration(), //\r\n        new FragmentConfiguration(), //\r\n        new AnnotationConfiguration(), //\r\n    });\r\n    // servlet spec: fragments are only loaded if they are bundled in WEB-INF/lib\r\n    webapp.setExtraClasspath(Arrays.asList(((URLClassLoader) MyAppMain.class.getClassLoader()).getURLs()).stream().filter(\r\n        u -&gt; u.toString().contains(&quot;zkwebfragment&quot;)).findAny().get().toString());\r\n    // scan for annotations in the container classpath (AppClassLoader)\r\n    webapp.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*&quot;);\r\n    server.setHandler(webapp);\r\n    server.setDumpAfterStart(true);\r\n    server.start();\r\n       \r\n\r\nWhen running the main class from an IDE, all project classes and all maven dependencies are automatically added to the AppClassLoader.\r\n\r\nWhen running as docker container, the application is started with:\r\n\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/myapp/bin/*&quot;, &quot;myapp.MyAppMain&quot;]\r\n\r\nwhich also adds the project jar and all maven dependency jars to the AppClassLoader.\r\n\r\nBy moving all jars out of `/myapp/webapp/META-INF/lib/*` to `/myapp/bin/*`, all jars exist only once in the classloader hierarchy, which also solves the [ZK replicate resources warnings][2]. Except for the `zkwebfragment.jar`, which exists twice. Jetty dump excerpts:\r\n\r\n    | |  +&gt; WebAppClassLoader{1509563803}@59fa1d9b\r\n    | |  |  +&gt; URLs size=1\r\n    | |  |  |  +&gt; file:/myapp/bin/zkwebfragment-9.6.0.1.jar\r\n    | |  |  +&gt; sun.misc.Launcher$AppClassLoader@2ff4acd0\r\n\r\nand further down:\r\n\r\n    | +&gt; sun.misc.Launcher$AppClassLoader@2ff4acd0\r\n    |    +&gt; URLs size=52\r\n    |    |  +&gt; file:/myapp/bin/myapp.jar\r\n    |    |  +&gt; file:/myapp/bin/jetty-annotations-9.4.44.v20210927.jar\r\n    |    |  +&gt; file:/myapp/bin/zkwebfragment-9.6.0.1.jar\r\n    |    |  +&gt; ...\r\n    |    +&gt; sun.misc.Launcher$ExtClassLoader@4ee285c6\r\n    |       +&gt; URLs size=9\r\n    |          +&gt; file:/opt/java/openjdk/lib/ext/sunpkcs11.jar\r\n    |          +&gt; ...\r\n\r\nNone of this would be necessary if I were using a Jetty installation and dropping my application bundled as a standard WAR. But I really wanted to try out this plain Java approach (from the Jetty docs):\r\n\r\n&gt; Jetty has a slogan, &quot;Don’t deploy your application in Jetty, deploy\r\n&gt; Jetty in your application!&quot; What this means is that as an alternative\r\n&gt; to bundling your application as a standard WAR to be deployed in\r\n&gt; Jetty, Jetty is designed to be a software component that can be\r\n&gt; instantiated and used in a Java program just like any POJO.\r\n\r\n  [1]: https://javaee.github.io/servlet-spec/downloads/servlet-3.1/Final/servlet-3_1-final.pdf\r\n  [2]: https://stackoverflow.com/questions/70415779/replicate-resource-warnings","title":"How to get ZK webfragment working with embedded Jetty 9?","body":"<p>So, as Joakim pointed out, the <a href=\"https://javaee.github.io/servlet-spec/downloads/servlet-3.1/Final/servlet-3_1-final.pdf\" rel=\"nofollow noreferrer\">Servlet Specification 3.1</a> says:</p>\n<blockquote>\n<p>If a framework wants its META-INF/web-fragment.xml honored in such a\nway that it augments a web application's web.xml, the framework must\nbe bundled within the web application's WEB-INF/lib directory. [...] In other words, only JAR files bundled in a web\napplication's WEB-INF/lib directory, but not those higher up in the\nclass loading delegation chain, need to be scanned for\nweb-fragment.xml</p>\n</blockquote>\n<p>Therefore, I must ensure that <code>zkwebfragments.jar</code> is present on the WebAppContext's classpath.</p>\n<p>I changed my deployment strategy to look like this:</p>\n<pre><code>/myapp/\n  |-bin/\n  |  |- project jar (including annotated servlets and listeners)\n  |  |- all maven dependency jars (including jetty and zk libs)\n  |-webapp/\n  |  |-WEB-INF/\n  |  |  |-lib/ (EMTPY!)\n  |  |  |-web.xml\n  |  |  |-zk.xml\n  |  |-index.zul\n  |  |-other static resources\n  |-data/\n     |-application data (docker mounted host volume)\n</code></pre>\n<p>In the main class, adding the zkwebfragment.jar to the WebAppContext classpath:</p>\n<pre><code>Server server = new Server(port);\nWebAppContext webapp = new WebAppContext();\nwebapp.setContextPath(&quot;/myapp&quot;);\nwebapp.setBaseResource(Resource.newResource(new File(isDocker ? &quot;/myapp/webapp&quot; : &quot;./webapp&quot;).getCanonicalFile()));\n// order important: https://www.eclipse.org/jetty/documentation/jetty-9/index.html#configuring-webapps\nwebapp.setConfigurations(new Configuration[] { //\n    new WebInfConfiguration(), //\n    new WebXmlConfiguration(), //\n    new MetaInfConfiguration(), //\n    new FragmentConfiguration(), //\n    new AnnotationConfiguration(), //\n});\n// servlet spec: fragments are only loaded if they are bundled in WEB-INF/lib\nwebapp.setExtraClasspath(Arrays.asList(((URLClassLoader) MyAppMain.class.getClassLoader()).getURLs()).stream().filter(\n    u -&gt; u.toString().contains(&quot;zkwebfragment&quot;)).findAny().get().toString());\n// scan for annotations in the container classpath (AppClassLoader)\nwebapp.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*&quot;);\nserver.setHandler(webapp);\nserver.setDumpAfterStart(true);\nserver.start();\n   \n</code></pre>\n<p>When running the main class from an IDE, all project classes and all maven dependencies are automatically added to the AppClassLoader.</p>\n<p>When running as docker container, the application is started with:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/myapp/bin/*&quot;, &quot;myapp.MyAppMain&quot;]\n</code></pre>\n<p>which also adds the project jar and all maven dependency jars to the AppClassLoader.</p>\n<p>By moving all jars out of <code>/myapp/webapp/META-INF/lib/*</code> to <code>/myapp/bin/*</code>, all jars exist only once in the classloader hierarchy, which also solves the <a href=\"https://stackoverflow.com/questions/70415779/replicate-resource-warnings\">ZK replicate resources warnings</a>. Except for the <code>zkwebfragment.jar</code>, which exists twice. Jetty dump excerpts:</p>\n<pre><code>| |  +&gt; WebAppClassLoader{1509563803}@59fa1d9b\n| |  |  +&gt; URLs size=1\n| |  |  |  +&gt; file:/myapp/bin/zkwebfragment-9.6.0.1.jar\n| |  |  +&gt; sun.misc.Launcher$AppClassLoader@2ff4acd0\n</code></pre>\n<p>and further down:</p>\n<pre><code>| +&gt; sun.misc.Launcher$AppClassLoader@2ff4acd0\n|    +&gt; URLs size=52\n|    |  +&gt; file:/myapp/bin/myapp.jar\n|    |  +&gt; file:/myapp/bin/jetty-annotations-9.4.44.v20210927.jar\n|    |  +&gt; file:/myapp/bin/zkwebfragment-9.6.0.1.jar\n|    |  +&gt; ...\n|    +&gt; sun.misc.Launcher$ExtClassLoader@4ee285c6\n|       +&gt; URLs size=9\n|          +&gt; file:/opt/java/openjdk/lib/ext/sunpkcs11.jar\n|          +&gt; ...\n</code></pre>\n<p>None of this would be necessary if I were using a Jetty installation and dropping my application bundled as a standard WAR. But I really wanted to try out this plain Java approach (from the Jetty docs):</p>\n<blockquote>\n<p>Jetty has a slogan, &quot;Don’t deploy your application in Jetty, deploy\nJetty in your application!&quot; What this means is that as an alternative\nto bundling your application as a standard WAR to be deployed in\nJetty, Jetty is designed to be a software component that can be\ninstantiated and used in a Java program just like any POJO.</p>\n</blockquote>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70426880,"answer_count":3,"score":1,"last_activity_date":1640091100,"creation_date":1640024690,"question_id":70426380,"body_markdown":"This minimal embedded Jetty project starts up correctly, scans for annotations and finds and maps the annotated TestServlet.\r\n\r\nProject structure:\r\n\r\n    |-src/main/java/test\r\n    |  |-Test.java\r\n    |-webapp/\r\n    |  |-test.zul\r\n    |-pom.xml\r\n\r\nTest.java:\r\n\r\n    package test;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.eclipse.jetty.annotations.AnnotationConfiguration;\r\n    import org.eclipse.jetty.server.Server;\r\n    import org.eclipse.jetty.util.resource.Resource;\r\n    import org.eclipse.jetty.webapp.Configuration;\r\n    import org.eclipse.jetty.webapp.FragmentConfiguration;\r\n    import org.eclipse.jetty.webapp.MetaInfConfiguration;\r\n    import org.eclipse.jetty.webapp.WebAppContext;\r\n    import org.eclipse.jetty.webapp.WebInfConfiguration;\r\n    import org.eclipse.jetty.webapp.WebXmlConfiguration;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t    Server server = new Server(8080);\r\n    \t    WebAppContext webapp = new WebAppContext();\r\n    \t    webapp.setContextPath(&quot;/test&quot;);\r\n    \t    webapp.setBaseResource(Resource.newResource(new File(&quot;webapp&quot;).getCanonicalFile()));\r\n            // https://www.eclipse.org/jetty/documentation/jetty-9/index.html#configuring-webapps\r\n            // the order is important\r\n    \t    webapp.setConfigurations(new Configuration[] { //\r\n    \t        new WebInfConfiguration(), //\r\n    \t        new WebXmlConfiguration(), //\r\n    \t        new MetaInfConfiguration(), //\r\n    \t        new FragmentConfiguration(), //\r\n                // new EnvConfiguration(), // not needed\r\n                // new PlusConfiguration(), // not needed\r\n    \t        new AnnotationConfiguration(), //\r\n                // new JettyWebXmlConfiguration(), // no jetty-web.xml\r\n    \t    });\r\n    \t    webapp.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*&quot;);\r\n    \t    server.setHandler(webapp);\r\n    \t    server.setDumpAfterStart(true);\r\n    \t    server.start();\r\n    \t    java.awt.Desktop.getDesktop().browse(new URI(&quot;http://localhost:8080/test/TestServlet&quot;)) /* working */;\r\n    \t    java.awt.Desktop.getDesktop().browse(new URI(&quot;http://localhost:8080/test/test.zul&quot;)) /* not working */;\r\n    \t}\r\n    \t\r\n    \t@WebServlet(urlPatterns = {&quot;/TestServlet&quot;})\r\n    \tpublic static final class TestServlet extends HttpServlet {\r\n    \t\t@Override\r\n    \t\tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\t\tresp.getWriter().write(&quot;Test 1&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4.30.v20200611&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkbind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.6.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\ntest.zul:\r\n\r\n    &lt;zk&gt;&lt;label value=&quot;hello&quot;/&gt;&lt;/zk&gt;\r\n\r\nThe zk web fragment seems to be &#39;noted&#39; somehow:\r\n\r\n    |  +@ org.eclipse.jetty.webFragments.cache = java.util.concurrent.ConcurrentHashMap@bb35baa5{size=30}\r\n    |  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/common/zcommon/9.6.0.1/zcommon-9.6.0.1.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\r\n    |  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/eclipse/jetty/jetty-annotations/9.4.30.v20200611/jetty-annotations-9.4.30.v20200611.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\r\n    |  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/eclipse/jetty/jetty-io/9.4.30.v20200611/jetty-io-9.4.30.v20200611.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\r\n    |  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/apache-extras/beanshell/bsh/2.0b6/bsh-2.0b6.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\r\n    |  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/zk/zkwebfragment/9.6.0.1/zkwebfragment-9.6.0.1.jar = jar:file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/zk/zkwebfragment/9.6.0.1/zkwebfragment-9.6.0.1.jar!/META-INF/web-fragment.xml\r\n    ...\r\n\r\nBut the test.zul is displayed as plain text. The ZK engine is not getting initialized.\r\n\r\nAny ideas why?\r\n\r\n\r\nEdit: In defense of the way I do the configuration: This is straight from the 9.x docs, which say &#39;You have a number of options for how to make Jetty use a different list of Configurations.&#39;, including &#39;Setting the list directly on the WebAppContext&#39;:\r\n\r\n    &lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\r\n      &lt;Set name=&quot;war&quot;&gt;&lt;SystemProperty name=&quot;jetty.base&quot; default=&quot;.&quot;/&gt;/webapps/my-cool-webapp&lt;/Set&gt;\r\n      &lt;Set name=&quot;configurationClasses&quot;&gt;\r\n        &lt;Array type=&quot;java.lang.String&quot;&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.webapp.WebInfConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.webapp.WebXmlConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.webapp.MetaInfConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.webapp.FragmentConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.plus.webapp.EnvConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.plus.webapp.PlusConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.annotations.AnnotationConfiguration&lt;/Item&gt;\r\n          &lt;Item&gt;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&lt;/Item&gt;\r\n        &lt;/Array&gt;\r\n      &lt;/Set&gt;\r\n    &lt;/Configure&gt;","title":"How to get ZK webfragment working with embedded Jetty 9?","body":"<p>This minimal embedded Jetty project starts up correctly, scans for annotations and finds and maps the annotated TestServlet.</p>\n<p>Project structure:</p>\n<pre><code>|-src/main/java/test\n|  |-Test.java\n|-webapp/\n|  |-test.zul\n|-pom.xml\n</code></pre>\n<p>Test.java:</p>\n<pre><code>package test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.util.resource.Resource;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.FragmentConfiguration;\nimport org.eclipse.jetty.webapp.MetaInfConfiguration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\nimport org.eclipse.jetty.webapp.WebXmlConfiguration;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        Server server = new Server(8080);\n        WebAppContext webapp = new WebAppContext();\n        webapp.setContextPath(&quot;/test&quot;);\n        webapp.setBaseResource(Resource.newResource(new File(&quot;webapp&quot;).getCanonicalFile()));\n        // https://www.eclipse.org/jetty/documentation/jetty-9/index.html#configuring-webapps\n        // the order is important\n        webapp.setConfigurations(new Configuration[] { //\n            new WebInfConfiguration(), //\n            new WebXmlConfiguration(), //\n            new MetaInfConfiguration(), //\n            new FragmentConfiguration(), //\n            // new EnvConfiguration(), // not needed\n            // new PlusConfiguration(), // not needed\n            new AnnotationConfiguration(), //\n            // new JettyWebXmlConfiguration(), // no jetty-web.xml\n        });\n        webapp.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*&quot;);\n        server.setHandler(webapp);\n        server.setDumpAfterStart(true);\n        server.start();\n        java.awt.Desktop.getDesktop().browse(new URI(&quot;http://localhost:8080/test/TestServlet&quot;)) /* working */;\n        java.awt.Desktop.getDesktop().browse(new URI(&quot;http://localhost:8080/test/test.zul&quot;)) /* not working */;\n    }\n    \n    @WebServlet(urlPatterns = {&quot;/TestServlet&quot;})\n    public static final class TestServlet extends HttpServlet {\n        @Override\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n            resp.getWriter().write(&quot;Test 1&quot;);\n        }\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n            &lt;version&gt;9.4.30.v20200611&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkbind&lt;/artifactId&gt;\n            &lt;version&gt;9.6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>test.zul:</p>\n<pre><code>&lt;zk&gt;&lt;label value=&quot;hello&quot;/&gt;&lt;/zk&gt;\n</code></pre>\n<p>The zk web fragment seems to be 'noted' somehow:</p>\n<pre><code>|  +@ org.eclipse.jetty.webFragments.cache = java.util.concurrent.ConcurrentHashMap@bb35baa5{size=30}\n|  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/common/zcommon/9.6.0.1/zcommon-9.6.0.1.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\n|  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/eclipse/jetty/jetty-annotations/9.4.30.v20200611/jetty-annotations-9.4.30.v20200611.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\n|  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/eclipse/jetty/jetty-io/9.4.30.v20200611/jetty-io-9.4.30.v20200611.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\n|  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/apache-extras/beanshell/bsh/2.0b6/bsh-2.0b6.jar = org.eclipse.jetty.util.resource.EmptyResource@3fc39309\n|  |  +@ file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/zk/zkwebfragment/9.6.0.1/zkwebfragment-9.6.0.1.jar = jar:file:///C:/Users/r.hoehener/.m2/repository/org/zkoss/zk/zkwebfragment/9.6.0.1/zkwebfragment-9.6.0.1.jar!/META-INF/web-fragment.xml\n...\n</code></pre>\n<p>But the test.zul is displayed as plain text. The ZK engine is not getting initialized.</p>\n<p>Any ideas why?</p>\n<p>Edit: In defense of the way I do the configuration: This is straight from the 9.x docs, which say 'You have a number of options for how to make Jetty use a different list of Configurations.', including 'Setting the list directly on the WebAppContext':</p>\n<pre><code>&lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\n  &lt;Set name=&quot;war&quot;&gt;&lt;SystemProperty name=&quot;jetty.base&quot; default=&quot;.&quot;/&gt;/webapps/my-cool-webapp&lt;/Set&gt;\n  &lt;Set name=&quot;configurationClasses&quot;&gt;\n    &lt;Array type=&quot;java.lang.String&quot;&gt;\n      &lt;Item&gt;org.eclipse.jetty.webapp.WebInfConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.webapp.WebXmlConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.webapp.MetaInfConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.webapp.FragmentConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.plus.webapp.EnvConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.plus.webapp.PlusConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.annotations.AnnotationConfiguration&lt;/Item&gt;\n      &lt;Item&gt;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&lt;/Item&gt;\n    &lt;/Array&gt;\n  &lt;/Set&gt;\n&lt;/Configure&gt;\n</code></pre>\n"},{"tags":["java","itext","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1640094270,"post_id":70435706,"comment_id":124509827,"body_markdown":"You likely need something on top of PDFBox, e.g. boxable or easytable.","body":"You likely need something on top of PDFBox, e.g. boxable or easytable."},{"owner":{"account_id":18026184,"reputation":69,"user_id":13564877,"display_name":"brayan milian"},"score":0,"creation_date":1640097450,"post_id":70435706,"comment_id":124511219,"body_markdown":"@TilmanHausherr Thanks dude, I saw some examples and the implementation it&#39;s easy, for boxable","body":"@TilmanHausherr Thanks dude, I saw some examples and the implementation it&#39;s easy, for boxable"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1641299225,"post_id":70435706,"comment_id":124764192,"body_markdown":"Please delete the question or answer it yourself.","body":"Please delete the question or answer it yourself."}],"owner":{"account_id":18026184,"reputation":69,"user_id":13564877,"display_name":"brayan milian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640090812,"creation_date":1640090812,"question_id":70435706,"body_markdown":"I&#39;m new to java, and I&#39;m learning how to create PDF, I was using Itext to create PDF, but because it handles a license I stopped using it, and started using PDFbox. I&#39;ve searched the internet for how to convert from CSV to PDF, but I can&#39;t find an example of how to use margins, or how to align the content.\r\n\r\nUsing Itext, this is my code using Itext7, it works perfectly but i want to migrate it to PDFbox\r\n```\r\n   public static boolean isEmpty(File rutaCSV) {\r\n        if(rutaCSV.isDirectory()){\r\n            String[] csvFiles = rutaCSV.list();\r\n            if (csvFiles.length &gt; 0) {\r\n                for (String cadena : csvFiles){\r\n                    readCSV(&quot;path&quot;);\r\n                    try{\r\n                       File csvFile = new File(&quot;path&quot;);\r\n                       if (csvFile.exists()){\r\n                           csvFile.delete();\r\n                           return false;\r\n                           \r\n                       }\r\n                        System.out.println(csvFile.delete());\r\n                    }catch(Exception ex){\r\n                        System.out.println(ex);\r\n                    }\r\n                }\r\n                return true;\r\n            }else{\r\n                System.out.println(&quot;There&#39;s not files&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n     public static void readCSV(String file, String cadena){\r\n        try{\r\n            FileReader filereader = new FileReader(file);\r\n            // Configuraci&#243;n para leer el archivo con ;\r\n\r\n            CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n            \r\n            CSVReader csvReader = new CSVReaderBuilder(filereader)\r\n                                  .withCSVParser(parser)\r\n                                  .build();\r\n            \r\n            Document pdfDocument = new Document();\r\n            pdfDocument.addTitle(&quot;Some&quot;);\r\n            pdfDocument.setMargins(0, 0,25,25);\r\n            String fileName = cadena.replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;);\r\n            PdfWriter.getInstance(pdfDocument, new FileOutputStream(&quot;path&quot;+fileName+&quot;.pdf&quot;));\r\n            \r\n            pdfDocument.open();\r\n            \r\n            PdfPTable tableData = new PdfPTable(5);\r\n                        \r\n            PdfPCell cells;\r\n            \r\n            // Lista para guardar los datos le&#237;dos\r\n            List&lt;String[]&gt; allData = csvReader.readAll();\r\n            for (String[] row : allData) {\r\n                for (String cell : row) {\r\n                    cells =new PdfPCell(new Phrase(cell));\r\n                    tableData.addCell(cells);\r\n                }\r\n            }\r\n            pdfDocument.addTitle(&quot;Some&quot;);\r\n            pdfDocument.add(tableData);                       \r\n            pdfDocument.close(); \r\n        }catch(Exception ex){\r\n            ex.printStackTrace();\r\n            System.out.println(&quot;error&quot;);\r\n        }\r\n    }\r\n```\r\nUsing PDFBox\r\n``` \r\n    public static void main(String[] args) throws IOException, CsvException {\r\n        PDDocument document = new PDDocument();\r\n        PDPage page = new PDPage(PDRectangle.A4);\r\n        document.addPage(page);\r\n        PDPageContentStream content = new PDPageContentStream(document, page);\r\n        try{\r\n            String file = &quot;C:\\\\Users\\\\brayan.milian\\\\Desktop\\\\pruebaFTP\\\\prueba.csv&quot;;\r\n            FileReader filereader = new FileReader(file);\r\n            CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n\r\n            CSVReader csvReader = new CSVReaderBuilder(filereader)\r\n                                  .withCSVParser(parser)\r\n                                  .build();\r\n            List&lt;String[]&gt; allData = csvReader.readAll();    \r\n            for (String row[] : allData) {\r\n                for (String cell : row){\r\n                    content.beginText();\r\n                    content.setFont(PDType1Font.TIMES_BOLD, 12);\r\n                    content.showText(cell);\r\n                    content.endText(); \r\n                }\r\n            }  \r\n        content.close();\r\n        }catch(Exception ex){\r\n            System.out.println(&quot;dja&quot;);\r\n        }\r\n```\r\nCan anyone help me?","title":"Csv to PDF PDFBOX?","body":"<p>I'm new to java, and I'm learning how to create PDF, I was using Itext to create PDF, but because it handles a license I stopped using it, and started using PDFbox. I've searched the internet for how to convert from CSV to PDF, but I can't find an example of how to use margins, or how to align the content.</p>\n<p>Using Itext, this is my code using Itext7, it works perfectly but i want to migrate it to PDFbox</p>\n<pre><code>   public static boolean isEmpty(File rutaCSV) {\n        if(rutaCSV.isDirectory()){\n            String[] csvFiles = rutaCSV.list();\n            if (csvFiles.length &gt; 0) {\n                for (String cadena : csvFiles){\n                    readCSV(&quot;path&quot;);\n                    try{\n                       File csvFile = new File(&quot;path&quot;);\n                       if (csvFile.exists()){\n                           csvFile.delete();\n                           return false;\n                           \n                       }\n                        System.out.println(csvFile.delete());\n                    }catch(Exception ex){\n                        System.out.println(ex);\n                    }\n                }\n                return true;\n            }else{\n                System.out.println(&quot;There's not files&quot;);\n                return true;\n            }\n        }\n        return true;\n    }\n     public static void readCSV(String file, String cadena){\n        try{\n            FileReader filereader = new FileReader(file);\n            // Configuración para leer el archivo con ;\n\n            CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n            \n            CSVReader csvReader = new CSVReaderBuilder(filereader)\n                                  .withCSVParser(parser)\n                                  .build();\n            \n            Document pdfDocument = new Document();\n            pdfDocument.addTitle(&quot;Some&quot;);\n            pdfDocument.setMargins(0, 0,25,25);\n            String fileName = cadena.replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;);\n            PdfWriter.getInstance(pdfDocument, new FileOutputStream(&quot;path&quot;+fileName+&quot;.pdf&quot;));\n            \n            pdfDocument.open();\n            \n            PdfPTable tableData = new PdfPTable(5);\n                        \n            PdfPCell cells;\n            \n            // Lista para guardar los datos leídos\n            List&lt;String[]&gt; allData = csvReader.readAll();\n            for (String[] row : allData) {\n                for (String cell : row) {\n                    cells =new PdfPCell(new Phrase(cell));\n                    tableData.addCell(cells);\n                }\n            }\n            pdfDocument.addTitle(&quot;Some&quot;);\n            pdfDocument.add(tableData);                       \n            pdfDocument.close(); \n        }catch(Exception ex){\n            ex.printStackTrace();\n            System.out.println(&quot;error&quot;);\n        }\n    }\n</code></pre>\n<p>Using PDFBox</p>\n<pre><code>    public static void main(String[] args) throws IOException, CsvException {\n        PDDocument document = new PDDocument();\n        PDPage page = new PDPage(PDRectangle.A4);\n        document.addPage(page);\n        PDPageContentStream content = new PDPageContentStream(document, page);\n        try{\n            String file = &quot;C:\\\\Users\\\\brayan.milian\\\\Desktop\\\\pruebaFTP\\\\prueba.csv&quot;;\n            FileReader filereader = new FileReader(file);\n            CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n\n            CSVReader csvReader = new CSVReaderBuilder(filereader)\n                                  .withCSVParser(parser)\n                                  .build();\n            List&lt;String[]&gt; allData = csvReader.readAll();    \n            for (String row[] : allData) {\n                for (String cell : row){\n                    content.beginText();\n                    content.setFont(PDType1Font.TIMES_BOLD, 12);\n                    content.showText(cell);\n                    content.endText(); \n                }\n            }  \n        content.close();\n        }catch(Exception ex){\n            System.out.println(&quot;dja&quot;);\n        }\n</code></pre>\n<p>Can anyone help me?</p>\n"},{"tags":["java","swing","colors","paintcomponent","translucency"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1640090767,"creation_date":1321181022,"answer_id":8111007,"question_id":8110975,"body_markdown":"    int alpha = 127; // 50% transparent\r\n    Color myColour = new Color(255, value, value, alpha);\r\n\r\nSee the [`Color` constructors](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html#constructor-summary) that take 4 arguments (of either `int` or `float`) for further details.","title":"How to make a rectangle in Graphics in a transparent colour?","body":"<pre><code>int alpha = 127; // 50% transparent\nColor myColour = new Color(255, value, value, alpha);\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html#constructor-summary\" rel=\"nofollow noreferrer\"><code>Color</code> constructors</a> that take 4 arguments (of either <code>int</code> or <code>float</code>) for further details.</p>\n"},{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586257703,"creation_date":1321187954,"answer_id":8111574,"question_id":8110975,"body_markdown":"Try this: (but it will works for Graphics2D objeccts not for Graphics)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    protected void paintComponent(Graphics2D g) {\r\n        if (point != null) {\r\n            int value = this.chooseColour(); // used to return how bright the red is needed\r\n            g.setComposite(AlphaComposite.SrcOver.derive(0.8f));\r\n    \r\n            if(value !=0){\r\n                Color myColour = new Color(255, value,value );\r\n                g.setColor(myColour);\r\n                g.fillRect(point.x, point.y, this.width, this.height);\r\n            }\r\n            else{\r\n                Color myColour = new Color(value, 0,0 );\r\n                g.setColor(myColour);\r\n                g.fillRect(point.x, point.y, this.width, this.height);\r\n            }\r\n\r\n            g.setComposite(AlphaComposite.SrcOver); \r\n        }\r\n    }\r\n\r\n","title":"How to make a rectangle in Graphics in a transparent colour?","body":"<p>Try this: (but it will works for Graphics2D objeccts not for Graphics)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void paintComponent(Graphics2D g) {\n    if (point != null) {\n        int value = this.chooseColour(); // used to return how bright the red is needed\n        g.setComposite(AlphaComposite.SrcOver.derive(0.8f));\n\n        if(value !=0){\n            Color myColour = new Color(255, value,value );\n            g.setColor(myColour);\n            g.fillRect(point.x, point.y, this.width, this.height);\n        }\n        else{\n            Color myColour = new Color(value, 0,0 );\n            g.setColor(myColour);\n            g.fillRect(point.x, point.y, this.width, this.height);\n        }\n\n        g.setComposite(AlphaComposite.SrcOver); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1026917,"reputation":2060,"user_id":1036032,"accept_rate":51,"display_name":"ict1991"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57148,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":8111007,"answer_count":2,"score":21,"last_activity_date":1640090767,"creation_date":1321180619,"question_id":8110975,"body_markdown":"I&#39;m trying to paint a rectangle on my application in a red shade but I need to make it sort of transparent so that the component under it will still show.  However I still want that some colour will still show. The method where I&#39;m drawing is the following:\r\n\r\n    protected void paintComponent(Graphics g) {\r\n        if (point != null) {\r\n            int value = this.chooseColour(); // used to return how bright the red is needed\r\n     \r\n            if(value !=0){\r\n                Color myColour = new Color(255, value,value );\r\n                g.setColor(myColour);\r\n                g.fillRect(point.x, point.y, this.width, this.height);\r\n            }\r\n            else{\r\n                Color myColour = new Color(value, 0,0 );\r\n                g.setColor(myColour);\r\n                g.fillRect(point.x, point.y, this.width, this.height);\r\n            }\r\n        }\r\n    }\r\n\r\nDoes anyone know how I can make the red shade a bit transparent?  I don&#39;t need it completely transparent though.","title":"How to make a rectangle in Graphics in a transparent colour?","body":"<p>I'm trying to paint a rectangle on my application in a red shade but I need to make it sort of transparent so that the component under it will still show.  However I still want that some colour will still show. The method where I'm drawing is the following:</p>\n\n<pre><code>protected void paintComponent(Graphics g) {\n    if (point != null) {\n        int value = this.chooseColour(); // used to return how bright the red is needed\n\n        if(value !=0){\n            Color myColour = new Color(255, value,value );\n            g.setColor(myColour);\n            g.fillRect(point.x, point.y, this.width, this.height);\n        }\n        else{\n            Color myColour = new Color(value, 0,0 );\n            g.setColor(myColour);\n            g.fillRect(point.x, point.y, this.width, this.height);\n        }\n    }\n}\n</code></pre>\n\n<p>Does anyone know how I can make the red shade a bit transparent?  I don't need it completely transparent though.</p>\n"},{"tags":["java","sorting","collections","random-access"],"comments":[{"owner":{"account_id":21253514,"reputation":3,"user_id":17195250,"display_name":"Guillaume Valhall&#39;art Roussel"},"score":0,"creation_date":1640086672,"post_id":70434539,"comment_id":124506995,"body_markdown":"@Sweeper Sorry about that, I edited my question and then forgot about the initial title, it is fixed now.","body":"@Sweeper Sorry about that, I edited my question and then forgot about the initial title, it is fixed now."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640105827,"post_id":70434539,"comment_id":124514658,"body_markdown":"Of course, this is not possible with constant time complexity. But apparently, you are fine with an answer that just rewrites the code to look more complicated by using the Stream API, not even mentioning time complexity…","body":"Of course, this is not possible with constant time complexity. But apparently, you are fine with an answer that just rewrites the code to look more complicated by using the Stream API, not even mentioning time complexity…"},{"owner":{"account_id":21253514,"reputation":3,"user_id":17195250,"display_name":"Guillaume Valhall&#39;art Roussel"},"score":0,"creation_date":1640111364,"post_id":70434539,"comment_id":124516829,"body_markdown":"@Holger Finally I found a solution with O(number of species) using the Map, but it is too specific to my requirements for me to evoke it. I believe it wouldn&#39;t be likely to help other people. I accepted the first answer because it helped me to understand better what I was trying to do.","body":"@Holger Finally I found a solution with O(number of species) using the Map, but it is too specific to my requirements for me to evoke it. I believe it wouldn&#39;t be likely to help other people. I accepted the first answer because it helped me to understand better what I was trying to do."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640166295,"post_id":70434539,"comment_id":124529126,"body_markdown":"Your question does already have O(number of elements), as you even said yourself. So if you don’t want a better time complexity, which is as said impossible anyway, then it’s not clear what you are asking for. Picking a random element without an intermediate `ArrayList` is possible, if you want that, just ask the right question.","body":"Your question does already have O(number of elements), as you even said yourself. So if you don’t want a better time complexity, which is as said impossible anyway, then it’s not clear what you are asking for. Picking a random element without an intermediate <code>ArrayList</code> is possible, if you want that, just ask the right question."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640088491,"creation_date":1640088491,"answer_id":70435226,"question_id":70434539,"body_markdown":"What you are performing is filtering, and when filtering you have to check each element whether they need to be taken out or not. You could try to use alphabetical sorting on the keys and stop filtering once the key is alphabetically larger than your filtering (unwanted) key.\r\n\r\nYour code can also be thoroughly shortened by using java streams:\r\n\r\n```java\r\nHashMap&lt;String, ArrayList&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\r\n\r\n// Insert some fishes...\r\n// Fish has a String attribute that describes its species\r\n// Now we want to pick a random Fish that isn&#39;t from the unwantedSpecies\r\n\r\nString unwanted = &quot;unwanted species&quot;;\r\n\r\nfishesBySpecies.keySet().stream() // Get the keyset and create a stream out of it\r\n        .filter(key -&gt; !key.equalsIgnoreCase(unwanted)) // If key is not equal to unwanted then leave it in else remove it\r\n        .forEach(filteredKey -&gt;\r\n                wantedSpecies.addAll(fishesBySpecies.get(filteredKey))); // For each key that was left in, we fetch the fishes\r\n```\r\n\r\nOR\r\n\r\n```java\r\nfishesBySpecies.keySet().stream() // Get the keyset and create a stream out of it\r\n        .forEach(key -&gt;\r\n                {\r\n                    if(!key.equalsIgnoreCase(unwanted))\r\n                    {\r\n                        wantedSpecies.addAll(fishesBySpecies.get(unwanted));\r\n                    }\r\n                }\r\n                ); // iterate and filter at the same time. Faster.\r\n```","title":"Getting a random element from a Collection","body":"<p>What you are performing is filtering, and when filtering you have to check each element whether they need to be taken out or not. You could try to use alphabetical sorting on the keys and stop filtering once the key is alphabetically larger than your filtering (unwanted) key.</p>\n<p>Your code can also be thoroughly shortened by using java streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, ArrayList&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\n\n// Insert some fishes...\n// Fish has a String attribute that describes its species\n// Now we want to pick a random Fish that isn't from the unwantedSpecies\n\nString unwanted = &quot;unwanted species&quot;;\n\nfishesBySpecies.keySet().stream() // Get the keyset and create a stream out of it\n        .filter(key -&gt; !key.equalsIgnoreCase(unwanted)) // If key is not equal to unwanted then leave it in else remove it\n        .forEach(filteredKey -&gt;\n                wantedSpecies.addAll(fishesBySpecies.get(filteredKey))); // For each key that was left in, we fetch the fishes\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>fishesBySpecies.keySet().stream() // Get the keyset and create a stream out of it\n        .forEach(key -&gt;\n                {\n                    if(!key.equalsIgnoreCase(unwanted))\n                    {\n                        wantedSpecies.addAll(fishesBySpecies.get(unwanted));\n                    }\n                }\n                ); // iterate and filter at the same time. Faster.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640090228,"creation_date":1640090228,"answer_id":70435601,"question_id":70434539,"body_markdown":"The only way I can think of would consist in maintaining an `ArrayList&lt;Fish&gt;` as well as the map you already have. There is a drawback though: adding or removing fishes would be slightly more complex:\r\n\r\n    Map&lt;String, List&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\r\n    List&lt;Fish&gt; wantedFishes = new ArrayList&lt;&gt;();\r\n    \r\n    //...\r\n    \r\n    public void addFish(String species, Fish fish) {\r\n        List&lt;Fish&gt; speciesFishes = fishesBySpecies.get(species);\r\n        if (speciesFishes == null) {\r\n            speciesFishes = new ArrayList&lt;&gt;();\r\n            fishesBySpecies.put(species, speciesFishes);\r\n        }\r\n        speciesFishes.add(fish);\r\n        // also maintain the list of wanted fishes\r\n        if (!unwantedSpecies.equals(species)) {\r\n            wantedFishes.add(fish);\r\n        }\r\n    }\r\n\r\n","title":"Getting a random element from a Collection","body":"<p>The only way I can think of would consist in maintaining an <code>ArrayList&lt;Fish&gt;</code> as well as the map you already have. There is a drawback though: adding or removing fishes would be slightly more complex:</p>\n<pre><code>Map&lt;String, List&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\nList&lt;Fish&gt; wantedFishes = new ArrayList&lt;&gt;();\n\n//...\n\npublic void addFish(String species, Fish fish) {\n    List&lt;Fish&gt; speciesFishes = fishesBySpecies.get(species);\n    if (speciesFishes == null) {\n        speciesFishes = new ArrayList&lt;&gt;();\n        fishesBySpecies.put(species, speciesFishes);\n    }\n    speciesFishes.add(fish);\n    // also maintain the list of wanted fishes\n    if (!unwantedSpecies.equals(species)) {\n        wantedFishes.add(fish);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21253514,"reputation":3,"user_id":17195250,"display_name":"Guillaume Valhall&#39;art Roussel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70435226,"answer_count":2,"score":0,"last_activity_date":1640090228,"creation_date":1640085182,"question_id":70434539,"body_markdown":"in java I would like to be able to maintain my Collection of fishes sorted by species at all time (hence the use of a HashMap) while being able to pick a random element from all species except one with constant time complexity. For example the following code does the job but with O(number of elements) complexity :\r\n```\r\nimport java.util.*;\r\n\r\nHashMap&lt;String, ArrayList&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\r\n\r\n// Insert some fishes...\r\n// Fish has a String attribute that describes its species\r\n// Now we want to pick a random Fish that isn&#39;t from the unwantedSpecies\r\n\r\nString unwanted = &quot;unwanted species&quot;;\r\nArrayList&lt;Fish&gt; wantedSpecies = new ArrayList&lt;&gt;();\r\nfor (String species : fishesBySpecies.keySet()) {\r\n    if (!Objects.equals(species, unwanted)) {\r\n        wantedSpecies.addAll(fishesBySpecies.get(species));\r\n    }\r\n}\r\n\r\n// Finally !\r\nint randomIndex = new Random().nextInt(wantedSpecies.size());\r\nFish randomElement = wantedSpecies.get(randomIndex);\r\n\r\n```\r\nAny idea how to do this with constant time complexity if possible ? Thanks !","title":"Getting a random element from a Collection","body":"<p>in java I would like to be able to maintain my Collection of fishes sorted by species at all time (hence the use of a HashMap) while being able to pick a random element from all species except one with constant time complexity. For example the following code does the job but with O(number of elements) complexity :</p>\n<pre><code>import java.util.*;\n\nHashMap&lt;String, ArrayList&lt;Fish&gt;&gt; fishesBySpecies = new HashMap&lt;&gt;();\n\n// Insert some fishes...\n// Fish has a String attribute that describes its species\n// Now we want to pick a random Fish that isn't from the unwantedSpecies\n\nString unwanted = &quot;unwanted species&quot;;\nArrayList&lt;Fish&gt; wantedSpecies = new ArrayList&lt;&gt;();\nfor (String species : fishesBySpecies.keySet()) {\n    if (!Objects.equals(species, unwanted)) {\n        wantedSpecies.addAll(fishesBySpecies.get(species));\n    }\n}\n\n// Finally !\nint randomIndex = new Random().nextInt(wantedSpecies.size());\nFish randomElement = wantedSpecies.get(randomIndex);\n\n</code></pre>\n<p>Any idea how to do this with constant time complexity if possible ? Thanks !</p>\n"},{"tags":["java","junit","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1640089985,"post_id":70435485,"comment_id":124508217,"body_markdown":"One core or not, your code is multi-threaded. I think you need to find a different way to verify it.","body":"One core or not, your code is multi-threaded. I think you need to find a different way to verify it."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1640090219,"post_id":70435485,"comment_id":124508286,"body_markdown":"Oh okay, you mean it executes still in parallel single-core?","body":"Oh okay, you mean it executes still in parallel single-core?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1640091121,"post_id":70435485,"comment_id":124508613,"body_markdown":"Yes. Even if it won&#39;t be effectively concurrent, you have code executing in parallel, so scheduling is involved and it can&#39;t be predictable.","body":"Yes. Even if it won&#39;t be effectively concurrent, you have code executing in parallel, so scheduling is involved and it can&#39;t be predictable."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1641226375,"post_id":70435485,"comment_id":124745800,"body_markdown":"Regardless of how many threads are involved, [`forEach` is an *unordered* operation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)). But what exactly do you want to test here?","body":"Regardless of how many threads are involved, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEach</code> is an <i>unordered</i> operation</a>. But what exactly do you want to test here?"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640089746,"creation_date":1640089746,"question_id":70435485,"body_markdown":"I want to test a method that makes use of `.parallel()` stream, `jdk11`.\r\n\r\nThereby, the outcome is always different, that&#39;s why I&#39;m trying to find a way to force junit to only allow max 1 threads for the stream execution. But how?\r\n\r\nMy idea was to wrap the execution in a `ForkJoinPool(1)` call inside the test, so that the underlying service only sees one core to execute the stream in. But it does not work:\r\n\r\n    @Test\r\n    public void testForceSequencial() {\r\n    \tForkJoinPool forkJoinPool = null;\r\n    \ttry {\r\n    \t\tforkJoinPool = new ForkJoinPool(1);\r\n    \t\tforkJoinPool\r\n    \t\t\t\t.submit(() -&gt; NumberService.count())\r\n    \t\t\t\t.join();\r\n    \t} finally {\r\n    \t\tforkJoinPool.shutdown();\r\n    \t}\r\n    }\r\n    \r\n    static class NumberService {\r\n    \tstatic void count() {\r\n    \t\tIntStream.range(1, 10)\r\n    \t\t\t\t.sorted()\r\n    \t\t\t\t.parallel()\r\n    \t\t\t\t.forEach(i -&gt; System.out.println(&quot;Number: &quot; + i));\r\n    \t}\r\n    }\r\n\r\nResult:\r\n\r\n    Number: 5\r\n    Number: 6\r\n    Number: 8\r\n    Number: 9\r\n    Number: 7\r\n    Number: 3\r\n    Number: 4\r\n    Number: 1\r\n    Number: 2\r\n\r\n","title":"How to force junit tests to run sequencially even for .parallel() streams?","body":"<p>I want to test a method that makes use of <code>.parallel()</code> stream, <code>jdk11</code>.</p>\n<p>Thereby, the outcome is always different, that's why I'm trying to find a way to force junit to only allow max 1 threads for the stream execution. But how?</p>\n<p>My idea was to wrap the execution in a <code>ForkJoinPool(1)</code> call inside the test, so that the underlying service only sees one core to execute the stream in. But it does not work:</p>\n<pre><code>@Test\npublic void testForceSequencial() {\n    ForkJoinPool forkJoinPool = null;\n    try {\n        forkJoinPool = new ForkJoinPool(1);\n        forkJoinPool\n                .submit(() -&gt; NumberService.count())\n                .join();\n    } finally {\n        forkJoinPool.shutdown();\n    }\n}\n\nstatic class NumberService {\n    static void count() {\n        IntStream.range(1, 10)\n                .sorted()\n                .parallel()\n                .forEach(i -&gt; System.out.println(&quot;Number: &quot; + i));\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Number: 5\nNumber: 6\nNumber: 8\nNumber: 9\nNumber: 7\nNumber: 3\nNumber: 4\nNumber: 1\nNumber: 2\n</code></pre>\n"},{"tags":["java","compilation","linker",".class-file"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1639827361,"post_id":70403062,"comment_id":124450961,"body_markdown":"It does not. Java is not compiled in that way. There is no linker. There is a class loader at runtime. https://en.m.wikipedia.org/wiki/Java_Classloader","body":"It does not. Java is not compiled in that way. There is no linker. There is a class loader at runtime. <a href=\"https://en.m.wikipedia.org/wiki/Java_Classloader\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Java_Classloader</a>"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1639827750,"post_id":70403062,"comment_id":124451041,"body_markdown":"@BoristheSpider does the class loader work the same as loader ? is it not then how classes and predefined java libraries are linked in JAVA ? as they are done through linker in C++.","body":"@BoristheSpider does the class loader work the same as loader ? is it not then how classes and predefined java libraries are linked in JAVA ? as they are done through linker in C++."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1639827833,"post_id":70403062,"comment_id":124451059,"body_markdown":"Java is not C++! The JVM is written in C++, the JVM executes Java _bytecode_.","body":"Java is not C++! The JVM is written in C++, the JVM executes Java <i>bytecode</i>."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1639828008,"post_id":70403062,"comment_id":124451088,"body_markdown":"yes @BoristheSpider I am getting your point but my question is that once the code is compiled and .class files are created. Now how will java links these classes and libraries?","body":"yes @BoristheSpider I am getting your point but my question is that once the code is compiled and .class files are created. Now how will java links these classes and libraries?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1639831157,"post_id":70403062,"comment_id":124451700,"body_markdown":"There’s a single word answer to that - **dynamically**.","body":"There’s a single word answer to that - <b>dynamically</b>."}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639829705,"creation_date":1639829705,"answer_id":70403343,"question_id":70403062,"body_markdown":"Class files are &quot;linked&quot; when the class is first used in the JVM. It&#39;s done in memory, so there is no file.\r\n\r\nIn GraalVM it&#39;s probably the same .exe/.dll/ELF executable as for traditional C compilation.","title":"What format of file does linker produce after linking .class files produced by compiler in JAVA","body":"<p>Class files are &quot;linked&quot; when the class is first used in the JVM. It's done in memory, so there is no file.</p>\n<p>In GraalVM it's probably the same .exe/.dll/ELF executable as for traditional C compilation.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640089727,"creation_date":1640089727,"answer_id":70435480,"question_id":70403062,"body_markdown":"The [class file format] as produced by the java compiler is exactly the same as expected by methods like [`ClassLoader.defineClass`] at runtime. There is no linking operation in-between that would alter these files or convert them to a different format. The actual linking happens at runtime in the JVM after the classes have been handed over.\r\n\r\nFor two decades, Java programs were mainly deployed using jar files. Jar files are zip archives with certain predefined entries containing meta information. Besides that, jar files contain class files and resource files in the same format as used in ordinary directories of the default filesystem. This is the reason why you can name jar files and directories in the classpath and it makes no difference to the class loading process.\r\n\r\nAlternative deployment approaches were developed but they all boil down to reproduce the bunch of class files in the target environment, to be able to load them.\r\n\r\nRuntime environments may have implementation specific files containing pre-linked data for speeding up the startup process, like the jsa file used by HotSpot’s [Class Data Sharing] but these files are specific to a particular installation and not to be deployed to another machine.\r\n\r\nWith the introduction of the module system, new file formats were introduced. [Modular JAR files] and [JMOD]. They are closer to what you might have in mind when thinking about a linker output, as they are supposed to hold a single module, in other words, only related classes. However, they are still just containing class files.\r\n\r\nThere’s the option to create a pre-linked module image file using [`jlink`] to be bundled with a JDK. So unlike the jsa files, these images are deployable to different machines with compatible architecture, but tied to the JDK they’re bundled with and hence, still implementation specific.\r\n\r\nSo there’s no documented, implementation independent format for pre-linked Java software. The common denominator still is a collection of class files.\r\n\r\n[class file format]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.1\r\n[`ClassLoader.defineClass`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#defineClass(java.lang.String,byte%5B%5D,int,int)\r\n[Class Data Sharing]: https://docs.oracle.com/en/java/javase/17/vm/class-data-sharing.html\r\n[Modular JAR files]: https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#modular-jar-files\r\n[JMOD]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jmod.html#description\r\n[`jlink`]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html","title":"What format of file does linker produce after linking .class files produced by compiler in JAVA","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.1\" rel=\"nofollow noreferrer\">class file format</a> as produced by the java compiler is exactly the same as expected by methods like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#defineClass(java.lang.String,byte%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>ClassLoader.defineClass</code></a> at runtime. There is no linking operation in-between that would alter these files or convert them to a different format. The actual linking happens at runtime in the JVM after the classes have been handed over.</p>\n<p>For two decades, Java programs were mainly deployed using jar files. Jar files are zip archives with certain predefined entries containing meta information. Besides that, jar files contain class files and resource files in the same format as used in ordinary directories of the default filesystem. This is the reason why you can name jar files and directories in the classpath and it makes no difference to the class loading process.</p>\n<p>Alternative deployment approaches were developed but they all boil down to reproduce the bunch of class files in the target environment, to be able to load them.</p>\n<p>Runtime environments may have implementation specific files containing pre-linked data for speeding up the startup process, like the jsa file used by HotSpot’s <a href=\"https://docs.oracle.com/en/java/javase/17/vm/class-data-sharing.html\" rel=\"nofollow noreferrer\">Class Data Sharing</a> but these files are specific to a particular installation and not to be deployed to another machine.</p>\n<p>With the introduction of the module system, new file formats were introduced. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#modular-jar-files\" rel=\"nofollow noreferrer\">Modular JAR files</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jmod.html#description\" rel=\"nofollow noreferrer\">JMOD</a>. They are closer to what you might have in mind when thinking about a linker output, as they are supposed to hold a single module, in other words, only related classes. However, they are still just containing class files.</p>\n<p>There’s the option to create a pre-linked module image file using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> to be bundled with a JDK. So unlike the jsa files, these images are deployable to different machines with compatible architecture, but tied to the JDK they’re bundled with and hence, still implementation specific.</p>\n<p>So there’s no documented, implementation independent format for pre-linked Java software. The common denominator still is a collection of class files.</p>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640089727,"creation_date":1639827155,"question_id":70403062,"body_markdown":"While working with JAVA when compiler compiles are .java classes. It produces .class files and after compilation, the linker links all .class files to create one single file. My question is that what use to be the extension of that single file produced by the linker in the case of JAVA Langauge?","title":"What format of file does linker produce after linking .class files produced by compiler in JAVA","body":"<p>While working with JAVA when compiler compiles are .java classes. It produces .class files and after compilation, the linker links all .class files to create one single file. My question is that what use to be the extension of that single file produced by the linker in the case of JAVA Langauge?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640010714,"post_id":70423140,"comment_id":124486862,"body_markdown":"can you post also your `config.properties` file? Something tells me that&#39;s your problem.","body":"can you post also your <code>config.properties</code> file? Something tells me that&#39;s your problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640012149,"post_id":70423140,"comment_id":124487413,"body_markdown":"You should also change that property to just &quot;chrome&quot; instead of &quot;Google Chrome&quot;.","body":"You should also change that property to just &quot;chrome&quot; instead of &quot;Google Chrome&quot;."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640017798,"post_id":70423140,"comment_id":124489783,"body_markdown":"Did I answer your question?","body":"Did I answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640012451,"creation_date":1640012088,"answer_id":70423696,"question_id":70423140,"body_markdown":"One suggestion I have is to hard-code the creation of the driver (without `config.properties`) and once you have the code working, you can work on optimizations such as dynamically creating the web driver based on a key value like you are doing here.  To do this, simply replace this line\r\n\r\n    WebDriver driver = myDriverUtilities.getDriver();\r\n\r\nwith\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\WebDrivers\\\\chromedriver.exe&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n\r\nObviously, make sure the path to the `chromedriver.exe` is resolved correctly for your system. By the way, unless your web drivers are in the root folder of your code project, that path is not correct. I will double check that is the case.\r\n\r\nI ran your code with this recommendation and it worked. That tells me either your web driver path is not correct, or there is something funky with your `config.properties`.\r\n\r\nLastly, this loop isn&#39;t correct either\r\n\r\n        for (String key : config.stringPropertyNames()) {\r\n            if (key.equals(&quot;browser&quot;)) {\r\n                driverName = config.getProperty(key);\r\n            }\r\n        }\r\n\r\nYou don&#39;t want to loop through all your browser keys. If you have more than one &quot;key&quot;, it will iterate through them and return the last one found. Instead, you need to call `getProperty()` once your properties file is loaded:\r\n\r\n    String propValue = props.getProperty(&quot;browser&quot;);\r\n\r\nThen, once you have the correct `propValue`, you should pass it to your switch to properly instantiate the web driver.\r\n\r\n    switch(propValue) {\r\n        case &quot;chrome&quot;:\r\n            this.driver = new ChromeDriver();\r\n            break;\r\n        case &quot;firefox&quot;:\r\n            this.driver = new GeckoDriver();\r\n            break;\r\n        default:\r\n            // throw some exception here\r\n            throw new IllegalArgumentException(propValue + &quot; is not a supported browser.&quot;);\r\n    }","title":"chromedriver NullPointerException error on linux","body":"<p>One suggestion I have is to hard-code the creation of the driver (without <code>config.properties</code>) and once you have the code working, you can work on optimizations such as dynamically creating the web driver based on a key value like you are doing here.  To do this, simply replace this line</p>\n<pre><code>WebDriver driver = myDriverUtilities.getDriver();\n</code></pre>\n<p>with</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\WebDrivers\\\\chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\n</code></pre>\n<p>Obviously, make sure the path to the <code>chromedriver.exe</code> is resolved correctly for your system. By the way, unless your web drivers are in the root folder of your code project, that path is not correct. I will double check that is the case.</p>\n<p>I ran your code with this recommendation and it worked. That tells me either your web driver path is not correct, or there is something funky with your <code>config.properties</code>.</p>\n<p>Lastly, this loop isn't correct either</p>\n<pre><code>    for (String key : config.stringPropertyNames()) {\n        if (key.equals(&quot;browser&quot;)) {\n            driverName = config.getProperty(key);\n        }\n    }\n</code></pre>\n<p>You don't want to loop through all your browser keys. If you have more than one &quot;key&quot;, it will iterate through them and return the last one found. Instead, you need to call <code>getProperty()</code> once your properties file is loaded:</p>\n<pre><code>String propValue = props.getProperty(&quot;browser&quot;);\n</code></pre>\n<p>Then, once you have the correct <code>propValue</code>, you should pass it to your switch to properly instantiate the web driver.</p>\n<pre><code>switch(propValue) {\n    case &quot;chrome&quot;:\n        this.driver = new ChromeDriver();\n        break;\n    case &quot;firefox&quot;:\n        this.driver = new GeckoDriver();\n        break;\n    default:\n        // throw some exception here\n        throw new IllegalArgumentException(propValue + &quot; is not a supported browser.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":15667646,"reputation":29,"user_id":11305030,"display_name":"Jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70423696,"answer_count":1,"score":1,"last_activity_date":1640088818,"creation_date":1640009669,"question_id":70423140,"body_markdown":"I&#39;m currently learning selenium. I have followed a step by step walkthrough on how to start selenium-chromedriver. However I am experiencing this error here and I am have no idea how to solve it.\r\n\r\n[![NullPointerException][1]][1]\r\n\r\nThe following are the source code the walkthrough has given me.\r\n\r\n```\r\npackage driverUtilities;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\npublic class DriverUtilities {\r\n\tprivate static DriverUtilities instanceOfDriverUtilities;\r\n\tprivate WebDriver driver;\r\n\r\n\tpublic static DriverUtilities getInstanceOfDriverUtilities() {\r\n\t\tif (instanceOfDriverUtilities == null) {\r\n\t\t\tinstanceOfDriverUtilities = new DriverUtilities();\r\n\t\t}\r\n\t\treturn instanceOfDriverUtilities;\r\n\t}\r\n\r\n\tpublic WebDriver getDriver() {\r\n\t\tif (driver == null) {\r\n\t\t\tCreateDriver();\r\n\t\t}\r\n\t\treturn driver;\r\n\t}\r\n\r\n\tprivate String GetDriverName() {\r\n\t\tProperties config = new Properties();\r\n\t\tString driverName = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tconfig.load(new FileInputStream(&quot;config.properties&quot;));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;Config file is not present&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error when loading config file&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfor (String key : config.stringPropertyNames()) {\r\n\t\t\tif (key.equals(&quot;browser&quot;)) {\r\n\t\t\t\tdriverName = config.getProperty(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn driverName;\r\n\t}\r\n\r\n\tprivate void CreateDriver() {\r\n\t\tString driverName = GetDriverName();\r\n\r\n\t\tswitch (driverName) {\r\n\t\tcase &quot;Google Chrome&quot;:\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver&quot;);\r\n\t\t\tthis.driver = new ChromeDriver();\r\n\t\t\tbreak;\r\n\t\tcase &quot;Firefox&quot;:\r\n\t\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\r\n\t\t\tthis.driver = new FirefoxDriver();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis is the Driver Utilities class\r\n\r\n```\r\npackage test;\r\n\r\nimport org.junit.Test;\r\nimport org.openqa.selenium.WebDriver;\r\nimport driverUtilities.DriverUtilities;\r\n\r\npublic class Mod08_Slide_16_Navigation_Commands {\r\n\t@Test\r\n\tpublic void navigationCommands() {\r\n\t\tDriverUtilities myDriverUtilities = new DriverUtilities();\r\n\t\tWebDriver driver = myDriverUtilities.getDriver();\r\n\r\n\t\tSystem.out.println(&quot;Start the Test Case&quot;);\r\n\r\n\t\t// Load the website - http://www.bbc.co.uk\r\n\t\tdriver.get(&quot;http://www.bbc.co.uk&quot;);\r\n\t\tSystem.out.println(&quot;\\nLoad the website - http://www.bbc.co.uk&quot;);\r\n\r\n\t\t// Refresh the page\r\n\t\tdriver.navigate().refresh();\r\n\t\tSystem.out.println(&quot;\\nRefresh the page&quot;);\r\n\r\n\t\t// Load the website - http://www.google.co.uk\r\n\t\tdriver.get(&quot;http://www.google.co.uk&quot;);\r\n\t\tSystem.out.println(&quot;\\nLoad the website - http://www.google.co.uk&quot;);\r\n\r\n\t\t// Go back to the website - http://www.bbc.co.uk\r\n\t\tdriver.navigate().back();\r\n\t\tSystem.out.println(&quot;\\nGo back to the website - http://www.bbc.co.uk&quot;);\r\n\r\n\t\t// Go forward to the website - http://www.google.co.uk\r\n\t\tdriver.navigate().forward();\r\n\t\tSystem.out.println(&quot;\\nGo forward to the website - http://www.google.co.uk&quot;);\r\n\r\n\t\t// Close the browser window\r\n\t\tdriver.close();\r\n\t\tSystem.out.println(&quot;\\nClose the browser window&quot;);\r\n\r\n\t\tSystem.out.println(&quot;\\nEnd of Test Case \\&quot;Navigation Commands\\&quot;&quot;);\r\n\t}\r\n}\r\n```\r\nThis is the java test class I am trying to make work of\r\n\r\n```\r\n# Change the browser to use for testing purposes, accepted values are Google Chrome and Firefox\r\nbrowser=Google Chrome\r\n```\r\n\r\nI also have the pom.xml file and a config.properties file and will share it if its required.\r\n\r\n**Note: My assumptions is that the setproperty function is not locating the correct path to chromedriver. However, I&#39;m a arch linux user thus I&#39;m not sure if the value inside the setproperty function is set to &quot;chromedriver&quot; or &quot;/usr/bin/chromedriver&quot;**\r\n\r\n**Note 1: I have navigated to the .metadata of the Eclipse IDE and deleted it after reading some stackoverflow posts. However, this did not work***\r\n\r\n**Note 2: I am completely new to Selenium however, I have some experiences with Java and understand that nullpointerexception occurs when I declare a variable but did not create an object and assign that variable to it.**\r\n\r\n**Edit 1: I have included the config.properties as specified**\r\n\r\n  [1]: https://i.stack.imgur.com/fw47T.png","title":"chromedriver NullPointerException error on linux","body":"<p>I'm currently learning selenium. I have followed a step by step walkthrough on how to start selenium-chromedriver. However I am experiencing this error here and I am have no idea how to solve it.</p>\n<p><a href=\"https://i.stack.imgur.com/fw47T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fw47T.png\" alt=\"NullPointerException\" /></a></p>\n<p>The following are the source code the walkthrough has given me.</p>\n<pre><code>package driverUtilities;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class DriverUtilities {\n    private static DriverUtilities instanceOfDriverUtilities;\n    private WebDriver driver;\n\n    public static DriverUtilities getInstanceOfDriverUtilities() {\n        if (instanceOfDriverUtilities == null) {\n            instanceOfDriverUtilities = new DriverUtilities();\n        }\n        return instanceOfDriverUtilities;\n    }\n\n    public WebDriver getDriver() {\n        if (driver == null) {\n            CreateDriver();\n        }\n        return driver;\n    }\n\n    private String GetDriverName() {\n        Properties config = new Properties();\n        String driverName = &quot;&quot;;\n        try {\n            config.load(new FileInputStream(&quot;config.properties&quot;));\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;Config file is not present&quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(&quot;Error when loading config file&quot;);\n            e.printStackTrace();\n        }\n        for (String key : config.stringPropertyNames()) {\n            if (key.equals(&quot;browser&quot;)) {\n                driverName = config.getProperty(key);\n            }\n        }\n        return driverName;\n    }\n\n    private void CreateDriver() {\n        String driverName = GetDriverName();\n\n        switch (driverName) {\n        case &quot;Google Chrome&quot;:\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver&quot;);\n            this.driver = new ChromeDriver();\n            break;\n        case &quot;Firefox&quot;:\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\n            this.driver = new FirefoxDriver();\n            break;\n        default:\n            break;\n        }\n    }\n}\n\n</code></pre>\n<p>This is the Driver Utilities class</p>\n<pre><code>package test;\n\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport driverUtilities.DriverUtilities;\n\npublic class Mod08_Slide_16_Navigation_Commands {\n    @Test\n    public void navigationCommands() {\n        DriverUtilities myDriverUtilities = new DriverUtilities();\n        WebDriver driver = myDriverUtilities.getDriver();\n\n        System.out.println(&quot;Start the Test Case&quot;);\n\n        // Load the website - http://www.bbc.co.uk\n        driver.get(&quot;http://www.bbc.co.uk&quot;);\n        System.out.println(&quot;\\nLoad the website - http://www.bbc.co.uk&quot;);\n\n        // Refresh the page\n        driver.navigate().refresh();\n        System.out.println(&quot;\\nRefresh the page&quot;);\n\n        // Load the website - http://www.google.co.uk\n        driver.get(&quot;http://www.google.co.uk&quot;);\n        System.out.println(&quot;\\nLoad the website - http://www.google.co.uk&quot;);\n\n        // Go back to the website - http://www.bbc.co.uk\n        driver.navigate().back();\n        System.out.println(&quot;\\nGo back to the website - http://www.bbc.co.uk&quot;);\n\n        // Go forward to the website - http://www.google.co.uk\n        driver.navigate().forward();\n        System.out.println(&quot;\\nGo forward to the website - http://www.google.co.uk&quot;);\n\n        // Close the browser window\n        driver.close();\n        System.out.println(&quot;\\nClose the browser window&quot;);\n\n        System.out.println(&quot;\\nEnd of Test Case \\&quot;Navigation Commands\\&quot;&quot;);\n    }\n}\n</code></pre>\n<p>This is the java test class I am trying to make work of</p>\n<pre><code># Change the browser to use for testing purposes, accepted values are Google Chrome and Firefox\nbrowser=Google Chrome\n</code></pre>\n<p>I also have the pom.xml file and a config.properties file and will share it if its required.</p>\n<p><strong>Note: My assumptions is that the setproperty function is not locating the correct path to chromedriver. However, I'm a arch linux user thus I'm not sure if the value inside the setproperty function is set to &quot;chromedriver&quot; or &quot;/usr/bin/chromedriver&quot;</strong></p>\n<p><strong>Note 1: I have navigated to the .metadata of the Eclipse IDE and deleted it after reading some stackoverflow posts. However, this did not work</strong>*</p>\n<p><strong>Note 2: I am completely new to Selenium however, I have some experiences with Java and understand that nullpointerexception occurs when I declare a variable but did not create an object and assign that variable to it.</strong></p>\n<p><strong>Edit 1: I have included the config.properties as specified</strong></p>\n"},{"tags":["java","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640088471,"creation_date":1640086355,"answer_id":70434756,"question_id":70434343,"body_markdown":"Jackson can by default deserialize into a `Map&lt;String, String&gt;`. So the following should work by default.\r\n\r\n\r\n    @GetMapping\r\n    public void getSomething(@RequestBody Map&lt;String,String&gt; map) {\r\n          ....\r\n    }\r\n\r\nBut your case seems different, since you expect multiple JSON objects inside a List with duplicate information of `key`: `somekey`, `value` : `somevalue`. **key** and **value** are duplicate information for each object in the list.\r\n\r\n\r\n\r\nAfter seeing more feedback from the comments IMO the best bet here would be to introduce a custom deserialized which will be used to convert the input JSON into a `Map&lt;String, String&gt;`. More about custom deserializers and example can be found [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-deserialization","title":"Is there a built in way to deserialize Map&lt;String,String&gt; in Jackson","body":"<p>Jackson can by default deserialize into a <code>Map&lt;String, String&gt;</code>. So the following should work by default.</p>\n<pre><code>@GetMapping\npublic void getSomething(@RequestBody Map&lt;String,String&gt; map) {\n      ....\n}\n</code></pre>\n<p>But your case seems different, since you expect multiple JSON objects inside a List with duplicate information of <code>key</code>: <code>somekey</code>, <code>value</code> : <code>somevalue</code>. <strong>key</strong> and <strong>value</strong> are duplicate information for each object in the list.</p>\n<p>After seeing more feedback from the comments IMO the best bet here would be to introduce a custom deserialized which will be used to convert the input JSON into a <code>Map&lt;String, String&gt;</code>. More about custom deserializers and example can be found <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640088471,"creation_date":1640084264,"question_id":70434343,"body_markdown":"API is returning array of map entries like this\r\n\r\n    [\r\n    {&quot;key&quot;:&quot;Key1&quot;,&quot;value&quot;:&quot;Value1&quot;},\r\n    {&quot;key&quot;:&quot;Key2&quot;,&quot;value&quot;:&quot;Value2&quot;}, \r\n    {&quot;key&quot;:&quot;Key3&quot;,&quot;value&quot;:&quot;Value3&quot;},\r\n    ....\r\n    ]\r\n\r\nAnd I would like to deserialize it directly into `Map&lt;String,String&gt;` \r\nso it w will become \r\n\r\n    Map&lt;String,String&gt; {Key1-&gt;Value1, Key2-&gt;Value2, Key3-&gt;Value3}\r\n\r\nObvious solution is to deserialize as `List&lt;ApiMapEntry&gt;` but maybe there is an simpler way of doing so?\r\n\r\nWhat I am doing now:\r\n\r\n    @JsonProperty\r\n    public void setMyTargetMap(List&lt;ApiMapEntryWrapper&gt; wrappers) {\r\n        this.myTargetMap= wrappers.stream().collect(Collectors.toMap(ApiMapEntryWrapper::getKey, ApiMapEntryWrapper::getValue));\r\n    }\r\n\r\n    class ApiMapEntryWrapper{\r\n       private String key;\r\n       private String value;\r\n    }\r\n\r\nWhile I would look for something like (referring to exampe json) without the need of `ApiMapEntryWrapper`\r\n\r\n\r\n    @JsonMap(keyName=&quot;key&quot;,valueName=&quot;value&quot;)\r\n    private Map&lt;String,Strin&gt; myTargetMap","title":"Is there a built in way to deserialize Map&lt;String,String&gt; in Jackson","body":"<p>API is returning array of map entries like this</p>\n<pre><code>[\n{&quot;key&quot;:&quot;Key1&quot;,&quot;value&quot;:&quot;Value1&quot;},\n{&quot;key&quot;:&quot;Key2&quot;,&quot;value&quot;:&quot;Value2&quot;}, \n{&quot;key&quot;:&quot;Key3&quot;,&quot;value&quot;:&quot;Value3&quot;},\n....\n]\n</code></pre>\n<p>And I would like to deserialize it directly into <code>Map&lt;String,String&gt;</code>\nso it w will become</p>\n<pre><code>Map&lt;String,String&gt; {Key1-&gt;Value1, Key2-&gt;Value2, Key3-&gt;Value3}\n</code></pre>\n<p>Obvious solution is to deserialize as <code>List&lt;ApiMapEntry&gt;</code> but maybe there is an simpler way of doing so?</p>\n<p>What I am doing now:</p>\n<pre><code>@JsonProperty\npublic void setMyTargetMap(List&lt;ApiMapEntryWrapper&gt; wrappers) {\n    this.myTargetMap= wrappers.stream().collect(Collectors.toMap(ApiMapEntryWrapper::getKey, ApiMapEntryWrapper::getValue));\n}\n\nclass ApiMapEntryWrapper{\n   private String key;\n   private String value;\n}\n</code></pre>\n<p>While I would look for something like (referring to exampe json) without the need of <code>ApiMapEntryWrapper</code></p>\n<pre><code>@JsonMap(keyName=&quot;key&quot;,valueName=&quot;value&quot;)\nprivate Map&lt;String,Strin&gt; myTargetMap\n</code></pre>\n"},{"tags":["java","jsp","servlets","cloud-foundry","siteminder"],"comments":[{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1608328779,"post_id":65360555,"comment_id":115559826,"body_markdown":"When you say &#39;siteminder&#39; how exactly are you integrating with that? Are you using Pivotal SSO tile? or native OpenID connect? or something else?","body":"When you say &#39;siteminder&#39; how exactly are you integrating with that? Are you using Pivotal SSO tile? or native OpenID connect? or something else?"},{"owner":{"account_id":7137239,"reputation":307,"user_id":5456372,"display_name":"Ajay Dsouza"},"score":0,"creation_date":1608364747,"post_id":65360555,"comment_id":115565765,"body_markdown":"@DanielMikusa application is using Pivotal SSO tile","body":"@DanielMikusa application is using Pivotal SSO tile"}],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609942223,"creation_date":1609942223,"answer_id":65597321,"question_id":65360555,"body_markdown":"Using the Pivotal SSO Tile, there are two steps you need to do to make this work.\r\n\r\nFirst, you need to set up your plan using the [Layer7 SiteMinder Integration Guide](https://docs.pivotal.io/p-identity/1-14/ca-sso/).\r\n\r\nAs is listed there...\r\n\r\n&gt;Single Sign‑On supports service provider-initiated authentication flow and single logout.\r\n\r\nThis is a fairly complicated process and very specific to your provider. The only tip I can give you here is to do things *exactly* like in the docs. It&#39;s very easy to break stuff, so following exactly what&#39;s written gives you the best chance for success.\r\n\r\nOnce you get your plan set up, the second part would be to [create a service instance using the plan &amp; bind that to your app](https://docs.pivotal.io/p-identity/1-14/manage-service-instances.html). Then follow the instructions for [integrating your app](https://docs.pivotal.io/p-identity/1-14/integrating-sso.html).\r\n\r\nThe part to take specific note about, which is what handles the single logout is [documented in the API here](https://docs.cloudfoundry.org/api/uaa/version/74.30.0/index.html#logout-do).\r\n\r\n&gt;The logout endpoint is meant to be used by applications to log the user out of the UAA session. UAA will only log a user out of the UAA session if they also hit this endpoint, and may also perform Single Logout with SAML providers if configured to do so.\r\n\r\nIf you follow the docs for creating your service plan, it will be configured to do single logout, so you just need to make sure this endpoint is called after logging a user out in your app.\r\n\r\nThere&#39;s an [example of how you&#39;d do this for Spring Boot apps here](https://github.com/pivotal-cf/identity-sample-apps/blob/spring-boot-2.3/authcode/src/main/java/io/pivotal/identityService/samples/authcode/security/UaaLogoutSuccessHandler.java).\r\n\r\n```\r\n    @Override\r\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException {\r\n        UriComponents url = UriComponentsBuilder.fromHttpUrl(request.getRequestURL().toString())\r\n                .replacePath(&quot;&quot;)\r\n                .build();\r\n        UriComponents redirectUrl = UriComponentsBuilder.fromHttpUrl(ssoServiceUrl)\r\n                .path(&quot;/logout.do&quot;)\r\n                .queryParam(&quot;client_id&quot;, clientId)\r\n                .queryParam(&quot;redirect&quot;, url.toString())\r\n                .build();\r\n        response.sendRedirect(redirectUrl.toString());\r\n    }\r\n```\r\n\r\nTo explain, this code get&#39;s [invoked by Spring](https://www.baeldung.com/spring-security-custom-logout-handler) after a successful logout. The code here is simply creating a URL to the `/logout.do` endpoint &amp; issuing a redirect to the client. This is what&#39;s described in the doc link above.\r\n","title":"How to do a logout from SiteMinder session for a Pivotal Cloud Foundry hosted JSP/Servlet application?","body":"<p>Using the Pivotal SSO Tile, there are two steps you need to do to make this work.</p>\n<p>First, you need to set up your plan using the <a href=\"https://docs.pivotal.io/p-identity/1-14/ca-sso/\" rel=\"nofollow noreferrer\">Layer7 SiteMinder Integration Guide</a>.</p>\n<p>As is listed there...</p>\n<blockquote>\n<p>Single Sign‑On supports service provider-initiated authentication flow and single logout.</p>\n</blockquote>\n<p>This is a fairly complicated process and very specific to your provider. The only tip I can give you here is to do things <em>exactly</em> like in the docs. It's very easy to break stuff, so following exactly what's written gives you the best chance for success.</p>\n<p>Once you get your plan set up, the second part would be to <a href=\"https://docs.pivotal.io/p-identity/1-14/manage-service-instances.html\" rel=\"nofollow noreferrer\">create a service instance using the plan &amp; bind that to your app</a>. Then follow the instructions for <a href=\"https://docs.pivotal.io/p-identity/1-14/integrating-sso.html\" rel=\"nofollow noreferrer\">integrating your app</a>.</p>\n<p>The part to take specific note about, which is what handles the single logout is <a href=\"https://docs.cloudfoundry.org/api/uaa/version/74.30.0/index.html#logout-do\" rel=\"nofollow noreferrer\">documented in the API here</a>.</p>\n<blockquote>\n<p>The logout endpoint is meant to be used by applications to log the user out of the UAA session. UAA will only log a user out of the UAA session if they also hit this endpoint, and may also perform Single Logout with SAML providers if configured to do so.</p>\n</blockquote>\n<p>If you follow the docs for creating your service plan, it will be configured to do single logout, so you just need to make sure this endpoint is called after logging a user out in your app.</p>\n<p>There's an <a href=\"https://github.com/pivotal-cf/identity-sample-apps/blob/spring-boot-2.3/authcode/src/main/java/io/pivotal/identityService/samples/authcode/security/UaaLogoutSuccessHandler.java\" rel=\"nofollow noreferrer\">example of how you'd do this for Spring Boot apps here</a>.</p>\n<pre><code>    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException {\n        UriComponents url = UriComponentsBuilder.fromHttpUrl(request.getRequestURL().toString())\n                .replacePath(&quot;&quot;)\n                .build();\n        UriComponents redirectUrl = UriComponentsBuilder.fromHttpUrl(ssoServiceUrl)\n                .path(&quot;/logout.do&quot;)\n                .queryParam(&quot;client_id&quot;, clientId)\n                .queryParam(&quot;redirect&quot;, url.toString())\n                .build();\n        response.sendRedirect(redirectUrl.toString());\n    }\n</code></pre>\n<p>To explain, this code get's <a href=\"https://www.baeldung.com/spring-security-custom-logout-handler\" rel=\"nofollow noreferrer\">invoked by Spring</a> after a successful logout. The code here is simply creating a URL to the <code>/logout.do</code> endpoint &amp; issuing a redirect to the client. This is what's described in the doc link above.</p>\n"}],"owner":{"account_id":7137239,"reputation":307,"user_id":5456372,"display_name":"Ajay Dsouza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640087854,"creation_date":1608308907,"question_id":65360555,"body_markdown":"I am having a JSP/Servlet based application running on Pivotal Cloud Foundary and using Siteminder for authentication.\r\n\r\nThe logout we implemented but is unsuccessful currentnly includes \r\n- clearing of request.getSession().invalidate()\r\n- followed by clearing of cookiesn (request.getCookies followed by setting MaxAge of all cookies to 0)\r\n- followed by calling of the siteminder provided /logout url in new popup window\r\n- followed by window.location as PCF Logout for logout from the PCF application.\r\n\r\nWith above steps the logout is not successful. However if I do the Shift+Cntrl+Del and delete the cookies --&gt; then the logout works successful. **So programmatically I want to achieve the same behavior using Servlet and JSP.**\r\n\r\nThanks in advance!","title":"How to do a logout from SiteMinder session for a Pivotal Cloud Foundry hosted JSP/Servlet application?","body":"<p>I am having a JSP/Servlet based application running on Pivotal Cloud Foundary and using Siteminder for authentication.</p>\n<p>The logout we implemented but is unsuccessful currentnly includes</p>\n<ul>\n<li>clearing of request.getSession().invalidate()</li>\n<li>followed by clearing of cookiesn (request.getCookies followed by setting MaxAge of all cookies to 0)</li>\n<li>followed by calling of the siteminder provided /logout url in new popup window</li>\n<li>followed by window.location as PCF Logout for logout from the PCF application.</li>\n</ul>\n<p>With above steps the logout is not successful. However if I do the Shift+Cntrl+Del and delete the cookies --&gt; then the logout works successful. <strong>So programmatically I want to achieve the same behavior using Servlet and JSP.</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","android-volley"],"answers":[{"tags":[],"owner":{"account_id":18902,"reputation":4138,"user_id":43796,"display_name":"Flynn81"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1373818904,"creation_date":1373818904,"answer_id":17641225,"question_id":17641108,"body_markdown":"The library unfortunately isn&#39;t fully fleshed out yet.  To set priority for a request you need to extend the request and override getPriority().  For your example I would create a new class that extends StringRequest and implements getPriority() (and maybe a setPriority() as well, so you can programmatically change priorities in different requests).\r\n\r\n    private Priority mPriority = Priority.LOW;\r\n\r\n    @Override\r\n    public Priority getPriority() {\r\n        return mPriority;\r\n    }\r\n\r\n    public void setPriority(Priority priority) {\r\n        mPriority = priority;\r\n    }\r\n\r\n`Priority` is an ENUM from the `Request` class.\r\n","title":"Setting Request Priority Volley","body":"<p>The library unfortunately isn't fully fleshed out yet.  To set priority for a request you need to extend the request and override getPriority().  For your example I would create a new class that extends StringRequest and implements getPriority() (and maybe a setPriority() as well, so you can programmatically change priorities in different requests).</p>\n\n<pre><code>private Priority mPriority = Priority.LOW;\n\n@Override\npublic Priority getPriority() {\n    return mPriority;\n}\n\npublic void setPriority(Priority priority) {\n    mPriority = priority;\n}\n</code></pre>\n\n<p><code>Priority</code> is an ENUM from the <code>Request</code> class.</p>\n"},{"tags":[],"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443206646,"creation_date":1443206646,"answer_id":32788690,"question_id":17641108,"body_markdown":"Heres a quick way to set a priority,\r\n\r\n\r\n        StringRequest request = new StringRequest(Request.Method.GET,&quot;feed URL&quot;,volleyListener, volleyErrorListener) {\r\n            @Override\r\n            public Priority getPriority() {\r\n                return Priority.IMMEDIATE;\r\n            }\r\n        };","title":"Setting Request Priority Volley","body":"<p>Heres a quick way to set a priority,</p>\n\n<pre><code>    StringRequest request = new StringRequest(Request.Method.GET,\"feed URL\",volleyListener, volleyErrorListener) {\n        @Override\n        public Priority getPriority() {\n            return Priority.IMMEDIATE;\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640087449,"creation_date":1640086784,"answer_id":70434846,"question_id":17641108,"body_markdown":"With Kotlin :\r\n\r\n    val stringRequest = object : StringRequest( Request.Method.GET, url, \r\n    \t{ response -&gt; Log.i(&quot;Response&quot;, response) }, \r\n    \t{ error -&gt; Log.i(&quot;Error&quot;, error) } ) \r\n    \t{ override fun getPriority(): Priority { return Priority.HIGH } }","title":"Setting Request Priority Volley","body":"<p>With Kotlin :</p>\n<pre><code>val stringRequest = object : StringRequest( Request.Method.GET, url, \n    { response -&gt; Log.i(&quot;Response&quot;, response) }, \n    { error -&gt; Log.i(&quot;Error&quot;, error) } ) \n    { override fun getPriority(): Priority { return Priority.HIGH } }\n</code></pre>\n"}],"owner":{"account_id":3045375,"reputation":133,"user_id":2581205,"display_name":"TwistedEquations"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9120,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":17641225,"answer_count":3,"score":13,"last_activity_date":1640087449,"creation_date":1373818041,"question_id":17641108,"body_markdown":"I am trying to set the priority of my requests using the Volley library in Android. I cant find out how to set the requests priority.\r\n\r\n    StringRequest request = new StringRequest(Request.Method.GET,&quot;feed URL&quot;,volleyListener, volleyErrorListener);\r\n    pe.requestQueue.add(request);\r\n\r\nAny Ideas on how I would do this?","title":"Setting Request Priority Volley","body":"<p>I am trying to set the priority of my requests using the Volley library in Android. I cant find out how to set the requests priority.</p>\n\n<pre><code>StringRequest request = new StringRequest(Request.Method.GET,\"feed URL\",volleyListener, volleyErrorListener);\npe.requestQueue.add(request);\n</code></pre>\n\n<p>Any Ideas on how I would do this?</p>\n"},{"tags":["java","spring","spring-boot","date"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1640087050,"post_id":70434784,"comment_id":124507158,"body_markdown":"I&#39;d question very much his &quot;best approach&quot;. Is it a date or a datetime? Are timezones involved (in case of a datetime). Why would they not use a native datatype of the database? You can&#39;t just say &quot;this is the best, use it&quot; without explaining **why** it&#39;s &quot;the best&quot;. That&#39;s poor software engineering.","body":"I&#39;d question very much his &quot;best approach&quot;. Is it a date or a datetime? Are timezones involved (in case of a datetime). Why would they not use a native datatype of the database? You can&#39;t just say &quot;this is the best, use it&quot; without explaining <b>why</b> it&#39;s &quot;the best&quot;. That&#39;s poor software engineering."},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640087309,"post_id":70434784,"comment_id":124507258,"body_markdown":"@Kayaman my question was if I could use long instead of date or datetime, or localdate or anything like this","body":"@Kayaman my question was if I could use long instead of date or datetime, or localdate or anything like this"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1640087960,"post_id":70434784,"comment_id":124507499,"body_markdown":"Yes, but just because you can, doesn&#39;t necessarily mean you should. A [Timestamp](https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html) is essentially a long value.","body":"Yes, but just because you can, doesn&#39;t necessarily mean you should. A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\">Timestamp</a> is essentially a long value."},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640092517,"post_id":70434784,"comment_id":124509131,"body_markdown":"@Kayaman let&#39;s say I still want to use long, how exactly should I do it?","body":"@Kayaman let&#39;s say I still want to use long, how exactly should I do it?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1640095122,"post_id":70434784,"comment_id":124510198,"body_markdown":"Same way you persist any long value. You&#39;ll just have to work with a `Long` instead of an actual useful date class, converting every time you need to work with it.","body":"Same way you persist any long value. You&#39;ll just have to work with a <code>Long</code> instead of an actual useful date class, converting every time you need to work with it."},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640095309,"post_id":70434784,"comment_id":124510277,"body_markdown":"@Kayaman and I do not need any annotation?","body":"@Kayaman and I do not need any annotation?"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640087422,"creation_date":1640086982,"answer_id":70434888,"question_id":70434784,"body_markdown":"The fellow developer is probably referring to an *instant*, a certain point on the timeline at which the *thing* (probably order) is delivered.\r\n\r\nThe commonly used notation of an instant is the Unix Timestamp. It&#39;s the number of seconds since Jan 1, 1970, at midnight UTC. This number does not depend on timezone.\r\n\r\nI would use `Instant` instead of `Long`, as this is the type that represents such a, well, instant. I do not know for sure whether it is automagically wired by Spring Boot, but you *may* have to add the JSR 310 module if you encounter problems. [Here is more information][1].\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot/47120519","title":"Can I store a date in h2 database using long data type for date field in entity object?","body":"<p>The fellow developer is probably referring to an <em>instant</em>, a certain point on the timeline at which the <em>thing</em> (probably order) is delivered.</p>\n<p>The commonly used notation of an instant is the Unix Timestamp. It's the number of seconds since Jan 1, 1970, at midnight UTC. This number does not depend on timezone.</p>\n<p>I would use <code>Instant</code> instead of <code>Long</code>, as this is the type that represents such a, well, instant. I do not know for sure whether it is automagically wired by Spring Boot, but you <em>may</em> have to add the JSR 310 module if you encounter problems. <a href=\"https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot/47120519\">Here is more information</a>.</p>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640087422,"creation_date":1640086530,"question_id":70434784,"body_markdown":"I am new to spring boot, working on a project, and recently an experienced developer just told me that when creating an entity table, that has a field that should deal with dates the best approach is to use long, something like this:\r\n       \r\n     private Long deliveryDate;\r\n\r\nThe thing is that I have never seen anything being done like this before, I do not understand how this should exactly work, and I couldn&#39;t find an answer anywhere I searched for it, so do you think that some of you can help me?","title":"Can I store a date in h2 database using long data type for date field in entity object?","body":"<p>I am new to spring boot, working on a project, and recently an experienced developer just told me that when creating an entity table, that has a field that should deal with dates the best approach is to use long, something like this:</p>\n<pre><code> private Long deliveryDate;\n</code></pre>\n<p>The thing is that I have never seen anything being done like this before, I do not understand how this should exactly work, and I couldn't find an answer anywhere I searched for it, so do you think that some of you can help me?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":974546,"reputation":6646,"user_id":996249,"accept_rate":98,"display_name":"nmagerko"},"score":0,"creation_date":1320888886,"post_id":8073989,"comment_id":9893951,"body_markdown":"Hey Jeff! Welcome to Stack Overflow! We ask that you make your answers as clear as possible and show any code, material, or other information you have gathered or tried while attempting to solve your problem. This makes it much easier to answer questions.","body":"Hey Jeff! Welcome to Stack Overflow! We ask that you make your answers as clear as possible and show any code, material, or other information you have gathered or tried while attempting to solve your problem. This makes it much easier to answer questions."},{"owner":{"account_id":252362,"reputation":4617,"user_id":530351,"accept_rate":17,"display_name":"Igor Nikolaev"},"score":1,"creation_date":1320888913,"post_id":8073989,"comment_id":9893953,"body_markdown":"If you show some code and write more detailed description of a problem I bet you&#39;ll get help here :)","body":"If you show some code and write more detailed description of a problem I bet you&#39;ll get help here :)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1320889437,"post_id":8073989,"comment_id":9894042,"body_markdown":"It looks like you&#39;ve done what you&#39;re asking about; is there a problem?","body":"It looks like you&#39;ve done what you&#39;re asking about; is there a problem?"},{"owner":{"account_id":1014002,"reputation":99,"user_id":1025987,"accept_rate":33,"display_name":"bobby"},"score":0,"creation_date":1320889551,"post_id":8073989,"comment_id":9894059,"body_markdown":"My image doesn&#39;t show, only the text.  I guess there must be a problem with my file path.","body":"My image doesn&#39;t show, only the text.  I guess there must be a problem with my file path."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1320891156,"creation_date":1320889694,"answer_id":8074077,"question_id":8073989,"body_markdown":"If you put the `space.gif` at the right location in the public web content and reference it by the right URL, then it&#39;ll work fine. As you have it right now, its location is dependent on the URL with which the servlet is been invoked. Basically, it should be virtually in the same folder as the servlet.\r\n\r\nThis example should do:\r\n\r\n    WebContent\r\n     |-- images\r\n     |    `-- space.gif\r\n     `-- WEB-INF\r\n          |-- classes\r\n          `-- lib\r\n\r\nwith\r\n\r\n    out.print(&quot;&lt;img src=&#39;&quot; + request.getContextPath() + &quot;/images/space.gif&#39; alt=&#39;image&#39; /&gt;&quot;);\r\n\r\nOr, if that image is actually located outside the public web content and you can&#39;t move it in the public web content for some unobvious reason, then you&#39;d need to add an extra web application context to your server configuration pointing to that folder, e.g. `/images`, so that you can do\r\n\r\n    out.print(&quot;&lt;img src=&#39;/images/space.gif&#39; alt=&#39;image&#39; /&gt;&quot;);\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/4543936/load-the-image-from-outside-of-webcontext-in-jsf\r\n\r\n---\r\n\r\n**Unrelated** to the concrete problem, HTML belongs in [JSP][1], not in [Servlet][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jsp/info\r\n  [2]: https://stackoverflow.com/tags/servlets/info","title":"How to print the correct path to resource when using out.print for HTML","body":"<p>If you put the <code>space.gif</code> at the right location in the public web content and reference it by the right URL, then it'll work fine. As you have it right now, its location is dependent on the URL with which the servlet is been invoked. Basically, it should be virtually in the same folder as the servlet.</p>\n\n<p>This example should do:</p>\n\n<pre><code>WebContent\n |-- images\n |    `-- space.gif\n `-- WEB-INF\n      |-- classes\n      `-- lib\n</code></pre>\n\n<p>with</p>\n\n<pre><code>out.print(\"&lt;img src='\" + request.getContextPath() + \"/images/space.gif' alt='image' /&gt;\");\n</code></pre>\n\n<p>Or, if that image is actually located outside the public web content and you can't move it in the public web content for some unobvious reason, then you'd need to add an extra web application context to your server configuration pointing to that folder, e.g. <code>/images</code>, so that you can do</p>\n\n<pre><code>out.print(\"&lt;img src='/images/space.gif' alt='image' /&gt;\");\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4543936/load-the-image-from-outside-of-webcontext-in-jsf\">Load images from outside of webapps / webcontext / deploy folder using &lt;h:graphicImage&gt; or &lt;img&gt; tag</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Unrelated</strong> to the concrete problem, HTML belongs in <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a>, not in <a href=\"https://stackoverflow.com/tags/servlets/info\">Servlet</a>.</p>\n"},{"tags":[],"owner":{"account_id":14219996,"reputation":21,"user_id":10272623,"display_name":"Amish Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538332035,"creation_date":1538332035,"answer_id":52580860,"question_id":8073989,"body_markdown":"&lt;This answer is for Netbeans users&gt;\r\n\r\nFind the docBase path given in (YourProjectname).xml file(mine was D:\\MiniProject2\\MiniProject2\\build\\web),\r\nThen just make an Image Folder(i made folder &quot;Images&quot; in D:\\MiniProject2\\MiniProject2\\build\\web )\r\nStore Your Images in this Folder\r\n\r\nnow use &lt;img src=&quot;Images/abc.png&quot;);\r\n\r\nIt will work;\r\n ","title":"How to print the correct path to resource when using out.print for HTML","body":"<p></p>\n\n<p>Find the docBase path given in (YourProjectname).xml file(mine was D:\\MiniProject2\\MiniProject2\\build\\web),\nThen just make an Image Folder(i made folder \"Images\" in D:\\MiniProject2\\MiniProject2\\build\\web )\nStore Your Images in this Folder</p>\n\n<p>now use \n\n<p>It will work;</p>\n"}],"owner":{"account_id":1014002,"reputation":99,"user_id":1025987,"accept_rate":33,"display_name":"bobby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27106,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":8074077,"answer_count":2,"score":0,"last_activity_date":1640087238,"creation_date":1320888646,"question_id":8073989,"body_markdown":"I am new to java, and am trying to add an image &#39;space.gif&#39; from a file path through a html servlet.\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n    {              \r\n      response.setContentType(&quot;text/html&quot;);\r\n    \r\n      PrintWriter out = response.getWriter();\r\n            \r\n      out.print(&quot;&lt;HTML&gt;&quot;);\r\n      out.print(&quot;&lt;HEAD&gt;&lt;TITLE&gt;Upload Image&lt;/TITLE&gt;&lt;/HEAD&gt;&quot;);\r\n      out.print(&quot;&lt;BODY&gt;&quot;);\r\n\r\n      out.print(&quot;&lt;img src=&#39;space.gif&#39; alt=&#39;image&#39; /&gt;&quot;);\r\n\r\n      out.print(&quot;&lt;/BODY&gt;&quot;);\r\n      out.print(&quot;&lt;/HTML&gt;&quot;);\r\n      out.close();\r\n    }","title":"How to print the correct path to resource when using out.print for HTML","body":"<p>I am new to java, and am trying to add an image 'space.gif' from a file path through a html servlet.</p>\n\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n{              \n  response.setContentType(\"text/html\");\n\n  PrintWriter out = response.getWriter();\n\n  out.print(\"&lt;HTML&gt;\");\n  out.print(\"&lt;HEAD&gt;&lt;TITLE&gt;Upload Image&lt;/TITLE&gt;&lt;/HEAD&gt;\");\n  out.print(\"&lt;BODY&gt;\");\n\n  out.print(\"&lt;img src='space.gif' alt='image' /&gt;\");\n\n  out.print(\"&lt;/BODY&gt;\");\n  out.print(\"&lt;/HTML&gt;\");\n  out.close();\n}\n</code></pre>\n"},{"tags":["java","azure-webjobs","azure-monitoring"],"answers":[{"tags":[],"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640086931,"creation_date":1629693738,"answer_id":68887392,"question_id":68846331,"body_markdown":"**Update:**\r\n\r\nAs [Sdcoder][1] commented:\r\n\r\n&gt;I am calling application-insight agent jar from the run.sh file. It solved my problem, I am able to see the logs in the app insights now. my `run.sh` file looks like this: `set PATH=%PATH%;%JAVA_HOME%/bin java -javaagent:applicationinsights-agent-3.0.2.jar -jar app.jar`\r\n\r\n---------------\r\nAs suggested by [ahmelsayed][2]:\r\n\r\n- If you are **NOT** using the **WebJob SDK**, then unfortunately there aren&#39;t any events for continuous webjobs. There is only [one way for triggered jobs][3].\r\n\r\n```\r\n private async void ReportTriggeredJobFinished(string jobName, string jobRunId)\r\n        {\r\n            TriggeredJobRun triggeredJobRun = GetJobRun(jobName, jobRunId);\r\n            if (triggeredJobRun == null)\r\n            {\r\n                return;\r\n            }\r\n\r\n            await _hooksManager.PublishEventAsync(HookEventTypes.TriggeredJobFinished, triggeredJobRun);\r\n        }\r\n    }\r\n```\r\n\r\nYou can refer to [Azure WebJob, how to be notified if it stops?](https://stackoverflow.com/questions/33159594/azure-webjob-how-to-be-notified-if-it-stops) and [Best way to set up alerts on azure web job](https://stackoverflow.com/questions/54896147/best-way-to-set-up-alerts-on-azure-web-job)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16704644/sdcoder\r\n  [2]: https://stackoverflow.com/users/3234163/ahmelsayed\r\n  [3]: https://github.com/projectkudu/kudu/blob/3f22884d322d5a56fa85569fec8bd1b4f4c132ae/Kudu.Core/Jobs/TriggeredJobsManager.cs#L250-L260","title":"How to set an alert for webjobs without SDK","body":"<p><strong>Update:</strong></p>\n<p>As <a href=\"https://stackoverflow.com/users/16704644/sdcoder\">Sdcoder</a> commented:</p>\n<blockquote>\n<p>I am calling application-insight agent jar from the run.sh file. It solved my problem, I am able to see the logs in the app insights now. my <code>run.sh</code> file looks like this: <code>set PATH=%PATH%;%JAVA_HOME%/bin java -javaagent:applicationinsights-agent-3.0.2.jar -jar app.jar</code></p>\n</blockquote>\n<hr />\n<p>As suggested by <a href=\"https://stackoverflow.com/users/3234163/ahmelsayed\">ahmelsayed</a>:</p>\n<ul>\n<li>If you are <strong>NOT</strong> using the <strong>WebJob SDK</strong>, then unfortunately there aren't any events for continuous webjobs. There is only <a href=\"https://github.com/projectkudu/kudu/blob/3f22884d322d5a56fa85569fec8bd1b4f4c132ae/Kudu.Core/Jobs/TriggeredJobsManager.cs#L250-L260\" rel=\"nofollow noreferrer\">one way for triggered jobs</a>.</li>\n</ul>\n<pre><code> private async void ReportTriggeredJobFinished(string jobName, string jobRunId)\n        {\n            TriggeredJobRun triggeredJobRun = GetJobRun(jobName, jobRunId);\n            if (triggeredJobRun == null)\n            {\n                return;\n            }\n\n            await _hooksManager.PublishEventAsync(HookEventTypes.TriggeredJobFinished, triggeredJobRun);\n        }\n    }\n</code></pre>\n<p>You can refer to <a href=\"https://stackoverflow.com/questions/33159594/azure-webjob-how-to-be-notified-if-it-stops\">Azure WebJob, how to be notified if it stops?</a> and <a href=\"https://stackoverflow.com/questions/54896147/best-way-to-set-up-alerts-on-azure-web-job\">Best way to set up alerts on azure web job</a></p>\n"}],"owner":{"account_id":22509511,"reputation":43,"user_id":16704644,"display_name":"Sdcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68887392,"answer_count":1,"score":0,"last_activity_date":1640086931,"creation_date":1629369687,"question_id":68846331,"body_markdown":"I have created a triggered webjob using Java as a technology stack and it is running fine after deployment.\r\nBut now I want to  monitor this webjob using alert notification. I tried multiple things, like adding app insights dependencies in POM file and using instrumentation key but nothing is working out.\r\nIf anyone can guide me how to set an alert for webjob failure, it will be so helpful.\r\nThanks.","title":"How to set an alert for webjobs without SDK","body":"<p>I have created a triggered webjob using Java as a technology stack and it is running fine after deployment.\nBut now I want to  monitor this webjob using alert notification. I tried multiple things, like adding app insights dependencies in POM file and using instrumentation key but nothing is working out.\nIf anyone can guide me how to set an alert for webjob failure, it will be so helpful.\nThanks.</p>\n"},{"tags":["java","javascript","angularjs","spring","jhipster"],"answers":[{"tags":[],"owner":{"account_id":4488338,"reputation":742,"user_id":3650199,"accept_rate":75,"display_name":"Jodevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435889759,"creation_date":1435889759,"answer_id":31197449,"question_id":29834623,"body_markdown":"To the best of my knowledge, most of the database use these other data types (datetime, date and timestamp) to represent time, since these types are enough to handle time information gracefully. The point of displaying something like (HH:mm:ss) looks to me like just a matter of how you want to show the date/time information to the user (in this case, getting rid of the date part).","title":"Time in JHipster","body":"<p>To the best of my knowledge, most of the database use these other data types (datetime, date and timestamp) to represent time, since these types are enough to handle time information gracefully. The point of displaying something like (HH:mm:ss) looks to me like just a matter of how you want to show the date/time information to the user (in this case, getting rid of the date part).</p>\n"},{"tags":[],"owner":{"account_id":1469379,"reputation":79,"user_id":1381318,"display_name":"kuabhina1702"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640086822,"creation_date":1640086822,"answer_id":70434857,"question_id":29834623,"body_markdown":"As of today Jhipster has Instant as a field to map time.","title":"Time in JHipster","body":"<p>As of today Jhipster has Instant as a field to map time.</p>\n"}],"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640086822,"creation_date":1429824382,"question_id":29834623,"body_markdown":"Is there any way to automatically generate fields of type &quot;time&quot; in the database using JHipster? I&#39;m looking for &quot;time&quot; in SQL (HH:mm:ss), not datetime or date or timestamp. JHipster has Datetime and LocalDate, but not simple &quot;Time&quot;. Why?","title":"Time in JHipster","body":"<p>Is there any way to automatically generate fields of type \"time\" in the database using JHipster? I'm looking for \"time\" in SQL (HH:mm:ss), not datetime or date or timestamp. JHipster has Datetime and LocalDate, but not simple \"Time\". Why?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":1,"creation_date":1640072922,"post_id":70432076,"comment_id":124502325,"body_markdown":"`return carList.get(b).toString();`","body":"<code>return carList.get(b).toString();</code>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":6,"creation_date":1640073291,"post_id":70432076,"comment_id":124502412,"body_markdown":"Hint: learning programming is mostly: about trying things yourself. Dont make it your FIRST impulse to ask other people for explanations . You see: any good book or tutorial answers your question. And gives you the necessary context. So, please understand: this isnt programming school here were people **teach** you programming. Meaning: especially for all these basic questions, it is much more helpful for your skills ... to do *research* yourself. Read books, use search engines, etc.","body":"Hint: learning programming is mostly: about trying things yourself. Dont make it your FIRST impulse to ask other people for explanations . You see: any good book or tutorial answers your question. And gives you the necessary context. So, please understand: this isnt programming school here were people <b>teach</b> you programming. Meaning: especially for all these basic questions, it is much more helpful for your skills ... to do <i>research</i> yourself. Read books, use search engines, etc."},{"owner":{"display_name":"user17695302"},"score":1,"creation_date":1640073516,"post_id":70432076,"comment_id":124502481,"body_markdown":"Understood  @GhostCat","body":"Understood  @GhostCat"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1640074949,"post_id":70432076,"comment_id":124502939,"body_markdown":"You are welcome. And note: of course we gladly help with specific questions, but as said: dont make it your first impulse to ask here. When you dig into a topic, and you can&#39;t get your code to work, even after hours of trying, then of course: you can come ask here!","body":"You are welcome. And note: of course we gladly help with specific questions, but as said: dont make it your first impulse to ask here. When you dig into a topic, and you can&#39;t get your code to work, even after hours of trying, then of course: you can come ask here!"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1640079862,"post_id":70432076,"comment_id":124504599,"body_markdown":"Do you want to return all the objects at the same time?","body":"Do you want to return all the objects at the same time?"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1640082818,"post_id":70432076,"comment_id":124505657,"body_markdown":"@Prog_G\nso as i cannot return in void method  , i  need  to create another metod that return my list of cars (only the one with the same model)\nso i  have  2  classes     \n1 = main  and second is  car \nnow i  get confused with the  return , since i  want to retrun  the same  as  sout it&#39;s giving to me :( .\ni get really  confused zith the return  here . i need to  figure it out at the moment since i cannt get the result","body":"@Prog_G so as i cannot return in void method  , i  need  to create another metod that return my list of cars (only the one with the same model) so i  have  2  classes      1 = main  and second is  car  now i  get confused with the  return , since i  want to retrun  the same  as  sout it&#39;s giving to me :( . i get really  confused zith the return  here . i need to  figure it out at the moment since i cannt get the result"}],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640086704,"creation_date":1640083225,"answer_id":70434125,"question_id":70432076,"body_markdown":"Try the below function to get all the Ferrari Car object list:\r\n\r\n    List&lt;Car&gt; getFerrariCarList(ArrayList&lt;Car&gt; carList){\r\n            List&lt;Car&gt; newCarList = new ArrayList&lt;&gt;();\r\n            for (int b = 0; b &lt; carList.size(); b++) {\r\n                if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\r\n                    newCarList.add(carList.get(b));\r\n    //                System.out.println(&quot;This is Ferrari  : &quot; + carList.get(b));\r\n                }\r\n            }\r\n            return newCarList;\r\n        }\r\n\r\n\r\n**Update 1:**\r\n\r\n**Main2.java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main2 {\r\n        private static Object Car;\r\n    \r\n        public static void main(String[] args) {\r\n            Car car1 = new Car(&quot;PodiumBlue&quot;, 18500, 165, &quot;Fiat&quot;, &quot;Abarth&quot;, 2019);\r\n            Car car2 = new Car(&quot;Blue&quot;, 9500, 105, &quot;Renualt&quot;, &quot;Laguna&quot;, 2001);\r\n            Car car3 = new Car(&quot;Green&quot;, 300000, 750, &quot;Ferrari&quot;, &quot;SP-90&quot;, 2020);\r\n            Car car4 = new Car(&quot;Black&quot;, 80500, 650, &quot;BMW&quot;, &quot;M5-Competition&quot;, 2021);\r\n            Car car5 = new Car(&quot;black&quot;, 1305000, 565, &quot;Ferrari&quot;, &quot;Roma&quot;, 2018);\r\n            List&lt;Car&gt; carList = Arrays.asList(car1, car2, car3, car4, car5);\r\n            List&lt;Car&gt; ferrariCars = getFerrariCarList(carList);\r\n            System.out.println(ferrariCars);\r\n        }\r\n    \r\n        static List&lt;Car&gt; getFerrariCarList(List&lt;Car&gt; carList) {\r\n            List&lt;Car&gt; newCarList = new ArrayList&lt;&gt;();\r\n            for (int b = 0; b &lt; carList.size(); b++) {\r\n                if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\r\n                    newCarList.add(carList.get(b));\r\n                }\r\n            }\r\n            return newCarList;\r\n        }\r\n    }\r\n\r\n\r\n**Car.java**\r\n\r\n    public class Car {\r\n        private String color;\r\n        private int price;\r\n        private int power;\r\n        private String mark;\r\n        private String model;\r\n        private Integer age;\r\n    \r\n        public Car(String color, int price, int power, String mark, String model, Integer age) {\r\n            this.color = color;\r\n            this.price = price;\r\n            this.power = power;\r\n            this.mark = mark;\r\n            this.model = model;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public void setColor(String color) {\r\n            this.color = color;\r\n        }\r\n    \r\n        public int getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(int price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public int getPower() {\r\n            return power;\r\n        }\r\n    \r\n        public void setPower(int power) {\r\n            this.power = power;\r\n        }\r\n    \r\n        public String getMark() {\r\n            return mark;\r\n        }\r\n    \r\n        public void setMark(String mark) {\r\n            this.mark = mark;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    }","title":"How to return an object from a list in java","body":"<p>Try the below function to get all the Ferrari Car object list:</p>\n<pre><code>List&lt;Car&gt; getFerrariCarList(ArrayList&lt;Car&gt; carList){\n        List&lt;Car&gt; newCarList = new ArrayList&lt;&gt;();\n        for (int b = 0; b &lt; carList.size(); b++) {\n            if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\n                newCarList.add(carList.get(b));\n//                System.out.println(&quot;This is Ferrari  : &quot; + carList.get(b));\n            }\n        }\n        return newCarList;\n    }\n</code></pre>\n<p><strong>Update 1:</strong></p>\n<p><strong>Main2.java</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main2 {\n    private static Object Car;\n\n    public static void main(String[] args) {\n        Car car1 = new Car(&quot;PodiumBlue&quot;, 18500, 165, &quot;Fiat&quot;, &quot;Abarth&quot;, 2019);\n        Car car2 = new Car(&quot;Blue&quot;, 9500, 105, &quot;Renualt&quot;, &quot;Laguna&quot;, 2001);\n        Car car3 = new Car(&quot;Green&quot;, 300000, 750, &quot;Ferrari&quot;, &quot;SP-90&quot;, 2020);\n        Car car4 = new Car(&quot;Black&quot;, 80500, 650, &quot;BMW&quot;, &quot;M5-Competition&quot;, 2021);\n        Car car5 = new Car(&quot;black&quot;, 1305000, 565, &quot;Ferrari&quot;, &quot;Roma&quot;, 2018);\n        List&lt;Car&gt; carList = Arrays.asList(car1, car2, car3, car4, car5);\n        List&lt;Car&gt; ferrariCars = getFerrariCarList(carList);\n        System.out.println(ferrariCars);\n    }\n\n    static List&lt;Car&gt; getFerrariCarList(List&lt;Car&gt; carList) {\n        List&lt;Car&gt; newCarList = new ArrayList&lt;&gt;();\n        for (int b = 0; b &lt; carList.size(); b++) {\n            if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\n                newCarList.add(carList.get(b));\n            }\n        }\n        return newCarList;\n    }\n}\n</code></pre>\n<p><strong>Car.java</strong></p>\n<pre><code>public class Car {\n    private String color;\n    private int price;\n    private int power;\n    private String mark;\n    private String model;\n    private Integer age;\n\n    public Car(String color, int price, int power, String mark, String model, Integer age) {\n        this.color = color;\n        this.price = price;\n        this.power = power;\n        this.mark = mark;\n        this.model = model;\n        this.age = age;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    public int getPower() {\n        return power;\n    }\n\n    public void setPower(int power) {\n        this.power = power;\n    }\n\n    public String getMark() {\n        return mark;\n    }\n\n    public void setMark(String mark) {\n        this.mark = mark;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70434125,"answer_count":1,"score":0,"last_activity_date":1640086704,"creation_date":1640072863,"question_id":70432076,"body_markdown":"So  i have create  my  Car class  and  now i need to sout the model Ferrari   \r\n\r\nhere  is my code (sout version)\r\n\r\n    for (int b = 0; b &lt; carList.size(); b++) {\r\n            if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\r\n                System.out.println(&quot;This is Ferrari  : &quot; + carList.get(b));\r\n            }\r\n\r\n        }\r\noutput for this code is :\r\n\r\n    This is Ferrari  : Car{color=&#39;Green&#39;, price=300000, power=750, mark=&#39;Ferrari&#39;, model=&#39;SP-90&#39;, age=&#39;2020&#39;}\r\n    This is Ferrari  : Car{color=&#39;black&#39;, price=1305000, power=565, mark=&#39;Ferrari&#39;, model=&#39;Roma&#39;, age=&#39;2018&#39;}\r\nSince my list  have 2 ferarri \r\n\r\n\r\nNow i am  curios how to use retrun(since i am new in this field) , to  return  the same output i have used  with  the (sout veriosn) above .","title":"How to return an object from a list in java","body":"<p>So  i have create  my  Car class  and  now i need to sout the model Ferrari</p>\n<p>here  is my code (sout version)</p>\n<pre><code>for (int b = 0; b &lt; carList.size(); b++) {\n        if (carList.get(b).getMark().equalsIgnoreCase(&quot;ferrari&quot;)) {\n            System.out.println(&quot;This is Ferrari  : &quot; + carList.get(b));\n        }\n\n    }\n</code></pre>\n<p>output for this code is :</p>\n<pre><code>This is Ferrari  : Car{color='Green', price=300000, power=750, mark='Ferrari', model='SP-90', age='2020'}\nThis is Ferrari  : Car{color='black', price=1305000, power=565, mark='Ferrari', model='Roma', age='2018'}\n</code></pre>\n<p>Since my list  have 2 ferarri</p>\n<p>Now i am  curios how to use retrun(since i am new in this field) , to  return  the same output i have used  with  the (sout veriosn) above .</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1639727883,"creation_date":1639472441,"answer_id":70346215,"question_id":70345869,"body_markdown":"Only servers that receive messages from other servers are vulnerable to `CVE-2019-17571`. Basically the only way to trigger the vulnerability is to run:\r\n\r\n```\r\njava -jar log4j.jar org.apache.log4j.net.SocketServer &lt;port&gt; &lt;config.properties&gt; &lt;log/directory&gt;\r\n```\r\n\r\nor doing the equivalent in code. Therefore most Log4j 1.2 users are not vulnerable.\r\n\r\nIn your case, however, you just need to replace the [`slf4j-log4j12`](https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12) binding with its Log4j 2.x equivalent ([`log4j-slf4j-impl`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl)) and you can remove Log4j 1.2 altogether.\r\n\r\n**Edit**: Nevertheless, if you want to be certain no one will use the library as above, you can remove the class. Considering also [`CVE-2021-4104`](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4104) this amount to:\r\n\r\n```\r\nzip -d log4j.jar org/apache/log4j/net/SocketServer.class\r\nzip -d log4j.jar org/apache/log4j/net/JMSAppender.class\r\n```","title":"How to mitigate Apache Log4j Deserialization RCE (CVE-2019-17571)","body":"<p>Only servers that receive messages from other servers are vulnerable to <code>CVE-2019-17571</code>. Basically the only way to trigger the vulnerability is to run:</p>\n<pre><code>java -jar log4j.jar org.apache.log4j.net.SocketServer &lt;port&gt; &lt;config.properties&gt; &lt;log/directory&gt;\n</code></pre>\n<p>or doing the equivalent in code. Therefore most Log4j 1.2 users are not vulnerable.</p>\n<p>In your case, however, you just need to replace the <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\" rel=\"noreferrer\"><code>slf4j-log4j12</code></a> binding with its Log4j 2.x equivalent (<a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\" rel=\"noreferrer\"><code>log4j-slf4j-impl</code></a>) and you can remove Log4j 1.2 altogether.</p>\n<p><strong>Edit</strong>: Nevertheless, if you want to be certain no one will use the library as above, you can remove the class. Considering also <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4104\" rel=\"noreferrer\"><code>CVE-2021-4104</code></a> this amount to:</p>\n<pre><code>zip -d log4j.jar org/apache/log4j/net/SocketServer.class\nzip -d log4j.jar org/apache/log4j/net/JMSAppender.class\n</code></pre>\n"}],"owner":{"account_id":19064371,"reputation":441,"user_id":13919748,"display_name":"javaistaucheineinsel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7565,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70346215,"answer_count":1,"score":5,"last_activity_date":1640086704,"creation_date":1639470792,"question_id":70345869,"body_markdown":"I have upgraded my log4j-core dependency to 2.15.0 in order to prevent any potential Log4Shell attack. That being said I could not upgrade slf4j-log4j12&#39;s indirect log4j dependency from 1.2.17 since the latest stable version of slf4j-log4j12 is still dependent on log4j 1.2.17. This still leaves my webapp vulnerable to [CVE-2019-17571][1] if I am not mistaken. So reading about possible mitigation strategies I came across this [article][2] which recommends to :\r\n&gt; prevent the socket port enabled by the SocketServer class in Log4j\r\n&gt; from being opened to the public network\r\n\r\nCould anyone please explain to me how can this be achieved and whether would this workaround be sufficient?\r\n\r\n\r\n  [1]: https://www.cvedetails.com/cve/CVE-2019-17571/\r\n  [2]: https://nsfocusglobal.com/apache-log4j-deserialization-remote-code-execution-cve-2019-17571-vulnerability-threat-alert/","title":"How to mitigate Apache Log4j Deserialization RCE (CVE-2019-17571)","body":"<p>I have upgraded my log4j-core dependency to 2.15.0 in order to prevent any potential Log4Shell attack. That being said I could not upgrade slf4j-log4j12's indirect log4j dependency from 1.2.17 since the latest stable version of slf4j-log4j12 is still dependent on log4j 1.2.17. This still leaves my webapp vulnerable to <a href=\"https://www.cvedetails.com/cve/CVE-2019-17571/\" rel=\"noreferrer\">CVE-2019-17571</a> if I am not mistaken. So reading about possible mitigation strategies I came across this <a href=\"https://nsfocusglobal.com/apache-log4j-deserialization-remote-code-execution-cve-2019-17571-vulnerability-threat-alert/\" rel=\"noreferrer\">article</a> which recommends to :</p>\n<blockquote>\n<p>prevent the socket port enabled by the SocketServer class in Log4j\nfrom being opened to the public network</p>\n</blockquote>\n<p>Could anyone please explain to me how can this be achieved and whether would this workaround be sufficient?</p>\n"},{"tags":["java","ubuntu-18.04","tess4j"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640086326,"creation_date":1640086326,"answer_id":70434749,"question_id":70434438,"body_markdown":"Not quite sure if you are aware, but there seems to be an API available that you can simply use instead of directly pointing to your Installation Lib Folder.\r\n\r\nThis means that this would be platform agnostic and would work whether on windows/linux.\r\n\r\nExample of Usage:\r\n\r\nThe pom.xml build file\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.bytedeco.tesseract&lt;/groupId&gt;\r\n        &lt;artifactId&gt;BasicExample&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.7-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;exec.mainClass&gt;BasicExample&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0-1.5.7-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;.&lt;/sourceDirectory&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe BasicExample.java source file\r\n    \r\n    import org.bytedeco.javacpp.*;\r\n    import org.bytedeco.leptonica.*;\r\n    import org.bytedeco.tesseract.*;\r\n    import static org.bytedeco.leptonica.global.lept.*;\r\n    import static org.bytedeco.tesseract.global.tesseract.*;\r\n    \r\n    public class BasicExample {\r\n        public static void main(String[] args) {\r\n            BytePointer outText;\r\n    \r\n            TessBaseAPI api = new TessBaseAPI();\r\n            // Initialize tesseract-ocr with English, without specifying tessdata path\r\n            if (api.Init(null, &quot;eng&quot;) != 0) {\r\n                System.err.println(&quot;Could not initialize tesseract.&quot;);\r\n                System.exit(1);\r\n            }\r\n    \r\n            // Open input image with leptonica library\r\n            PIX image = pixRead(args.length &gt; 0 ? args[0] : &quot;/usr/src/tesseract/testing/phototest.tif&quot;);\r\n            api.SetImage(image);\r\n            // Get OCR result\r\n            outText = api.GetUTF8Text();\r\n            System.out.println(&quot;OCR output:\\n&quot; + outText.getString());\r\n    \r\n            // Destroy used object and release memory\r\n            api.End();\r\n            outText.deallocate();\r\n            pixDestroy(image);\r\n        }\r\n    }\r\n\r\nProject Documentation: \r\n\r\n\r\nhttps://github.com/bytedeco/javacpp-presets/tree/master/tesseract\r\n\r\nRelevant StackOvervlow for V4: https://stackoverflow.com/questions/13974645/using-tesseract-from-java\r\n\r\n\r\n\r\n","title":"Tess4J on Ubuntu crashing JVM","body":"<p>Not quite sure if you are aware, but there seems to be an API available that you can simply use instead of directly pointing to your Installation Lib Folder.</p>\n<p>This means that this would be platform agnostic and would work whether on windows/linux.</p>\n<p>Example of Usage:</p>\n<p>The pom.xml build file</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.bytedeco.tesseract&lt;/groupId&gt;\n    &lt;artifactId&gt;BasicExample&lt;/artifactId&gt;\n    &lt;version&gt;1.5.7-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;exec.mainClass&gt;BasicExample&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n            &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-1.5.7-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;.&lt;/sourceDirectory&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The BasicExample.java source file</p>\n<pre><code>import org.bytedeco.javacpp.*;\nimport org.bytedeco.leptonica.*;\nimport org.bytedeco.tesseract.*;\nimport static org.bytedeco.leptonica.global.lept.*;\nimport static org.bytedeco.tesseract.global.tesseract.*;\n\npublic class BasicExample {\n    public static void main(String[] args) {\n        BytePointer outText;\n\n        TessBaseAPI api = new TessBaseAPI();\n        // Initialize tesseract-ocr with English, without specifying tessdata path\n        if (api.Init(null, &quot;eng&quot;) != 0) {\n            System.err.println(&quot;Could not initialize tesseract.&quot;);\n            System.exit(1);\n        }\n\n        // Open input image with leptonica library\n        PIX image = pixRead(args.length &gt; 0 ? args[0] : &quot;/usr/src/tesseract/testing/phototest.tif&quot;);\n        api.SetImage(image);\n        // Get OCR result\n        outText = api.GetUTF8Text();\n        System.out.println(&quot;OCR output:\\n&quot; + outText.getString());\n\n        // Destroy used object and release memory\n        api.End();\n        outText.deallocate();\n        pixDestroy(image);\n    }\n}\n</code></pre>\n<p>Project Documentation:</p>\n<p><a href=\"https://github.com/bytedeco/javacpp-presets/tree/master/tesseract\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacpp-presets/tree/master/tesseract</a></p>\n<p>Relevant StackOvervlow for V4: <a href=\"https://stackoverflow.com/questions/13974645/using-tesseract-from-java\">Using Tesseract from java</a></p>\n"}],"owner":{"account_id":18944447,"reputation":65,"user_id":13823700,"display_name":"Jennifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434749,"answer_count":1,"score":0,"last_activity_date":1640086326,"creation_date":1640084729,"question_id":70434438,"body_markdown":"I am new to Tess4J and to JNA, so apologies if this is obvious, but I have not been able to find in the blogs.\r\nI am on Ubuntu 18.04, running Java 17.0.1, Tomcat 10.0. I have built a simple dynamic web app, details below. I installed resources as such:\r\n```\r\nsudo apt install tesseract-ocr tesseract-ocr-rus libleptonica-dev\r\n```\r\n\r\nFirst I will mention that I am able to handle my test doc with no problems from the command line:\r\n```\r\ntesseract /tmp/output-0.jpg /tmp/file -l rus+eng\r\n```\r\nBut when I try the same from Java the JVM crashes.\r\n\r\nThe relevant Java inside my class OCR is as follows:\r\n```\r\n\tprivate static final String tessDir = &quot;/usr/share/tesseract-ocr/4.00/&quot;;\r\n\tprivate static final String libDir = &quot;/usr/lib/x86_64-linux-gnu&quot;;\r\n\tprivate ITesseract ocr = new Tesseract();\r\n\t\r\n\tpublic OCR() {\r\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + &quot;:&quot; + libDir);\r\n        ocr.setDatapath(tessDir);\r\n\t}\r\n\r\n\tpublic String doOcr (String inputDirName, String outputDirName, List&lt;File&gt; files, Set&lt;Lang&gt; langs) throws IOException {\r\n\t\tFile f1 = new File(&quot;/tmp/output-0.jpg&quot;);\r\n\t\tString s = &quot;&quot;;\r\n\t\tocr.setLanguage(&quot;rus+eng&quot;);\r\n       \ttry {\r\n       \t\ts = ocr.doOCR(f1);\r\n       \t} catch (Exception e) {\r\n       \t\tthrow new RuntimeException(e.getMessage());\r\n       \t}\r\n       \treturn s;\r\n\t}\r\n```\r\npom.xml:\r\n```\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.6.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.6.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;net.sourceforge.lept4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;lept4j&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.16.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.ghost4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;ghost4j&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\nThe crash log looks like this:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f67aeed2c27, pid=23274, tid=23912\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, parallel gc, linux-amd64)\r\n...\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libtesseract.so.4+0xa1c27]  tesseract::Tesseract::recog_all_words(PAGE_RES*, ETEXT_DESC*, TBOX const*, char const*, int)+0x437\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  com.sun.jna.Native.invokePointer(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)J+0\r\nj  com.sun.jna.Function.invokePointer(I[Ljava/lang/Object;)Lcom/sun/jna/Pointer;+7\r\nj  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+385\r\nj  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\r\nj  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\r\nj  jdk.proxy3.$Proxy10.TessBaseAPIGetUTF8Text(Lnet/sourceforge/tess4j/ITessAPI$TessBaseAPI;)Lcom/sun/jna/Pointer;+16 jdk.proxy3\r\nj  net.sourceforge.tess4j.Tesseract.getOCRText(Ljava/lang/String;I)Ljava/lang/String;+269\r\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljavax/imageio/IIOImage;Ljava/lang/String;Ljava/awt/Rectangle;I)Ljava/lang/String;+18\r\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljava/io/File;Ljava/awt/Rectangle;)Ljava/lang/String;+126\r\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljava/io/File;)Ljava/lang/String;+3\r\nj  mypackage.OCR.doOcr(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;Ljava/util/Set;)Ljava/lang/String;+32\r\n```\r\nIn libDir are indeed ```libtesseract.so.4 -&gt; libtesseract.so.4.0.0``` and ```liblept.so -&gt; liblept.so.5.0.2```.\r\n\r\nSo what am I missing? Version mismatch somewhere?","title":"Tess4J on Ubuntu crashing JVM","body":"<p>I am new to Tess4J and to JNA, so apologies if this is obvious, but I have not been able to find in the blogs.\nI am on Ubuntu 18.04, running Java 17.0.1, Tomcat 10.0. I have built a simple dynamic web app, details below. I installed resources as such:</p>\n<pre><code>sudo apt install tesseract-ocr tesseract-ocr-rus libleptonica-dev\n</code></pre>\n<p>First I will mention that I am able to handle my test doc with no problems from the command line:</p>\n<pre><code>tesseract /tmp/output-0.jpg /tmp/file -l rus+eng\n</code></pre>\n<p>But when I try the same from Java the JVM crashes.</p>\n<p>The relevant Java inside my class OCR is as follows:</p>\n<pre><code>    private static final String tessDir = &quot;/usr/share/tesseract-ocr/4.00/&quot;;\n    private static final String libDir = &quot;/usr/lib/x86_64-linux-gnu&quot;;\n    private ITesseract ocr = new Tesseract();\n    \n    public OCR() {\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + &quot;:&quot; + libDir);\n        ocr.setDatapath(tessDir);\n    }\n\n    public String doOcr (String inputDirName, String outputDirName, List&lt;File&gt; files, Set&lt;Lang&gt; langs) throws IOException {\n        File f1 = new File(&quot;/tmp/output-0.jpg&quot;);\n        String s = &quot;&quot;;\n        ocr.setLanguage(&quot;rus+eng&quot;);\n        try {\n            s = ocr.doOCR(f1);\n        } catch (Exception e) {\n            throw new RuntimeException(e.getMessage());\n        }\n        return s;\n    }\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n        &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n        &lt;version&gt;5.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n        &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;4.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.lept4j&lt;/groupId&gt;\n        &lt;artifactId&gt;lept4j&lt;/artifactId&gt;\n        &lt;version&gt;1.16.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ghost4j&lt;/groupId&gt;\n        &lt;artifactId&gt;ghost4j&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The crash log looks like this:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f67aeed2c27, pid=23274, tid=23912\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, parallel gc, linux-amd64)\n...\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libtesseract.so.4+0xa1c27]  tesseract::Tesseract::recog_all_words(PAGE_RES*, ETEXT_DESC*, TBOX const*, char const*, int)+0x437\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  com.sun.jna.Native.invokePointer(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)J+0\nj  com.sun.jna.Function.invokePointer(I[Ljava/lang/Object;)Lcom/sun/jna/Pointer;+7\nj  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+385\nj  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\nj  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\nj  jdk.proxy3.$Proxy10.TessBaseAPIGetUTF8Text(Lnet/sourceforge/tess4j/ITessAPI$TessBaseAPI;)Lcom/sun/jna/Pointer;+16 jdk.proxy3\nj  net.sourceforge.tess4j.Tesseract.getOCRText(Ljava/lang/String;I)Ljava/lang/String;+269\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljavax/imageio/IIOImage;Ljava/lang/String;Ljava/awt/Rectangle;I)Ljava/lang/String;+18\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljava/io/File;Ljava/awt/Rectangle;)Ljava/lang/String;+126\nj  net.sourceforge.tess4j.Tesseract.doOCR(Ljava/io/File;)Ljava/lang/String;+3\nj  mypackage.OCR.doOcr(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;Ljava/util/Set;)Ljava/lang/String;+32\n</code></pre>\n<p>In libDir are indeed <code>libtesseract.so.4 -&gt; libtesseract.so.4.0.0</code> and <code>liblept.so -&gt; liblept.so.5.0.2</code>.</p>\n<p>So what am I missing? Version mismatch somewhere?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1606992817,"post_id":65124539,"comment_id":115134550,"body_markdown":"Is there a factorial epidemic going around? https://stackoverflow.com/questions/65089542/printing-with-delimiter-only-between-values?noredirect=1#comment115072370_65089542","body":"Is there a factorial epidemic going around? <a href=\"https://stackoverflow.com/questions/65089542/printing-with-delimiter-only-between-values?noredirect=1#comment115072370_65089542\" title=\"printing with delimiter only between values\">stackoverflow.com/questions/65089542/&hellip;</a>"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1606993158,"post_id":65124539,"comment_id":115134679,"body_markdown":"not solving your problem but just pointing out that your loop `for (j =1; j &lt;=1 ; j++)` can be removed. it only loops once so, just write  `System.out.print(&quot;*&quot;);`. no loop required","body":"not solving your problem but just pointing out that your loop <code>for (j =1; j &lt;=1 ; j++)</code> can be removed. it only loops once so, just write  <code>System.out.print(&quot;*&quot;);</code>. no loop required"}],"answers":[{"tags":[],"owner":{"account_id":3854593,"reputation":2852,"user_id":3193876,"display_name":"Ronald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606993043,"creation_date":1606993043,"answer_id":65124614,"question_id":65124539,"body_markdown":"I always use a construct like\r\n\r\n```\r\nString sep=&quot;&quot;;\r\nfor (...) {\r\n   System.out.print(sep);\r\n   System.out.print(payload);\r\n   sep=&quot;x&quot;;\r\n}\r\n```","title":"Prevent trailing character when printing values in a loop","body":"<p>I always use a construct like</p>\n<pre><code>String sep=&quot;&quot;;\nfor (...) {\n   System.out.print(sep);\n   System.out.print(payload);\n   sep=&quot;x&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606993637,"creation_date":1606993044,"answer_id":65124615,"question_id":65124539,"body_markdown":"You need to make the printing of ***** condition. Don&#39;t print ***** if `i == fctr`. And you don&#39;t need that additional loop of `j`. As below :\r\n\r\n        public static void main(final String[] args) {\r\n        final Scanner input = new Scanner(System.in);\r\n        int fctr;\r\n        System.out.println(&quot;number&quot;);\r\n        fctr = input.nextInt();\r\n    \r\n        //    IntStream.range(1, fctr).\r\n    \r\n        long factorial = 1;\r\n        for (int i = 1; i &lt;= fctr; i++) {\r\n          factorial = factorial * i;\r\n          if (i == fctr) {\r\n            System.out.print(i);\r\n          } else {\r\n            System.out.print(i + &quot;*&quot;);\r\n          }\r\n        }\r\n    \r\n        System.out.print(&quot;=&quot; + factorial);\r\n      }","title":"Prevent trailing character when printing values in a loop","body":"<p>You need to make the printing of ***** condition. Don't print ***** if <code>i == fctr</code>. And you don't need that additional loop of <code>j</code>. As below :</p>\n<pre><code>    public static void main(final String[] args) {\n    final Scanner input = new Scanner(System.in);\n    int fctr;\n    System.out.println(&quot;number&quot;);\n    fctr = input.nextInt();\n\n    //    IntStream.range(1, fctr).\n\n    long factorial = 1;\n    for (int i = 1; i &lt;= fctr; i++) {\n      factorial = factorial * i;\n      if (i == fctr) {\n        System.out.print(i);\n      } else {\n        System.out.print(i + &quot;*&quot;);\n      }\n    }\n\n    System.out.print(&quot;=&quot; + factorial);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640086178,"creation_date":1606993084,"answer_id":65124623,"question_id":65124539,"body_markdown":"Try to add a condition if it’s not at the end of the loop. Then add start and if it’s the end, then just print the number:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    int fctr;\r\n    System.out.println(&quot;number&quot;);\r\n    fctr = input.nextInt();\r\n\r\n    for (int i = 1; i &lt;= fctr; i++) {\r\n        if (i &lt; fctr) {\r\n            System.out.print(i + &quot; * &quot;);\r\n        } else {\r\n            System.out.print(i);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Prevent trailing character when printing values in a loop","body":"<p>Try to add a condition if it’s not at the end of the loop. Then add start and if it’s the end, then just print the number:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int fctr;\n    System.out.println(&quot;number&quot;);\n    fctr = input.nextInt();\n\n    for (int i = 1; i &lt;= fctr; i++) {\n        if (i &lt; fctr) {\n            System.out.print(i + &quot; * &quot;);\n        } else {\n            System.out.print(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606993608,"creation_date":1606993608,"answer_id":65124784,"question_id":65124539,"body_markdown":"Your loop for `(j =1; j &lt;=1 ; j++)` can be removed. It only loops once so, just write `System.out.print(&quot;*&quot;)`. No loop required \r\n\r\nThen if you think about it, you want to print the number and the `*` all the time, except when it is the last number (`fctr`)\r\n\r\nSo write it that way: \r\n\r\n```\r\nScanner input = new Scanner (System.in);\r\nint fctr;\r\nSystem.out.println (&quot;number&quot;);\r\nfctr = input.nextInt();\r\n\r\nfor (int i = 1; i &lt;=fctr; i++){\r\n    System.out.print(i);\r\n\r\n    if(i&lt;fctr) {\r\n        System.out.print(&quot;*&quot;);\r\n    }\r\n}\r\n```","title":"Prevent trailing character when printing values in a loop","body":"<p>Your loop for <code>(j =1; j &lt;=1 ; j++)</code> can be removed. It only loops once so, just write <code>System.out.print(&quot;*&quot;)</code>. No loop required</p>\n<p>Then if you think about it, you want to print the number and the <code>*</code> all the time, except when it is the last number (<code>fctr</code>)</p>\n<p>So write it that way:</p>\n<pre><code>Scanner input = new Scanner (System.in);\nint fctr;\nSystem.out.println (&quot;number&quot;);\nfctr = input.nextInt();\n\nfor (int i = 1; i &lt;=fctr; i++){\n    System.out.print(i);\n\n    if(i&lt;fctr) {\n        System.out.print(&quot;*&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20121108,"reputation":15,"user_id":14755592,"display_name":"Jessie Kelso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1607160097,"accepted_answer_id":65124623,"answer_count":4,"score":-1,"last_activity_date":1640086178,"creation_date":1606992723,"question_id":65124539,"body_markdown":"I was tasked to do a looping problem for Java, but I&#39;m currently having a problem on how to display a factorial of a number. For example, 1x2x3x4x5 = 120. \r\n\r\nI&#39;m almost there, but I can&#39;t seem to figure out how to, or is there any possible way to display the factorial of a number because there is always an additional &quot;x&quot; at the end of the 5.\r\n\r\nHere is my code:\r\n\r\n    import java.util.*;\r\n    public class trylangpo2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t    Scanner input = new Scanner (System.in);\r\n    \t    int fctr;\r\n    \t    System.out.println (&quot;number&quot;);\r\n    \t    fctr = input.nextInt();\r\n    \t\r\n            for (int i = 1; i &lt;=fctr; i++){\r\n    \t        System.out.print(i);\r\n    \t\r\n    \t        int j;\r\n    \t        for (j =1; j &lt;=1 ; j++){\r\n    \t            System.out.print(&quot;*&quot;);\r\n    \t        }\r\n            }\r\n        }\t\r\n    }\r\n    \r\n    \r\nExample output:\r\n\r\n    1x2x3x4x5x\r\n\r\n\r\n","title":"Prevent trailing character when printing values in a loop","body":"<p>I was tasked to do a looping problem for Java, but I'm currently having a problem on how to display a factorial of a number. For example, 1x2x3x4x5 = 120.</p>\n<p>I'm almost there, but I can't seem to figure out how to, or is there any possible way to display the factorial of a number because there is always an additional &quot;x&quot; at the end of the 5.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.*;\npublic class trylangpo2 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner (System.in);\n        int fctr;\n        System.out.println (&quot;number&quot;);\n        fctr = input.nextInt();\n    \n        for (int i = 1; i &lt;=fctr; i++){\n            System.out.print(i);\n    \n            int j;\n            for (j =1; j &lt;=1 ; j++){\n                System.out.print(&quot;*&quot;);\n            }\n        }\n    }   \n}\n</code></pre>\n<p>Example output:</p>\n<pre><code>1x2x3x4x5x\n</code></pre>\n"},{"tags":["java","intellij-idea","groovy","imagej"],"answers":[{"tags":[],"owner":{"account_id":70694,"reputation":10812,"user_id":204769,"accept_rate":92,"display_name":"rdmueller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535227344,"creation_date":1535227344,"answer_id":52020823,"question_id":52020675,"body_markdown":"I&#39;ve never used ImageJ, but I guess your question is independent of ImageJ :-)\r\n\r\nI you use ImageJ from java, you will have a class with a main method. Just right-click on the class and then &quot;run&quot; on the menu which appeared.\r\n\r\nAfter your program has finished, there is a &quot;run&quot;-icon in the upper left corner of the small window which appeared.\r\n\r\nI guess that&#39;s already close to running a script.\r\n\r\nGroovy would be a better starting point for scripting (since it is partly a scripting language). You can code Groovy with the IntelliJ community edition, but for full support you need the ultimate edition. So I guess the groovy console is only available in the ultimate edition...\r\n\r\nAll other options I am aware of will not give you the auto-completion and only a poor-man&#39;s debugger (println)\r\n\r\nHope that helps","title":"Run ImageJ scripts in IntelliJ","body":"<p>I've never used ImageJ, but I guess your question is independent of ImageJ :-)</p>\n\n<p>I you use ImageJ from java, you will have a class with a main method. Just right-click on the class and then \"run\" on the menu which appeared.</p>\n\n<p>After your program has finished, there is a \"run\"-icon in the upper left corner of the small window which appeared.</p>\n\n<p>I guess that's already close to running a script.</p>\n\n<p>Groovy would be a better starting point for scripting (since it is partly a scripting language). You can code Groovy with the IntelliJ community edition, but for full support you need the ultimate edition. So I guess the groovy console is only available in the ultimate edition...</p>\n\n<p>All other options I am aware of will not give you the auto-completion and only a poor-man's debugger (println)</p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":2165930,"reputation":4035,"user_id":1919049,"display_name":"Jan Eglinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535453570,"creation_date":1535453570,"answer_id":52056115,"question_id":52020675,"body_markdown":"You might want to have a look at this GitHub project:\r\n\r\nhttps://github.com/haesleinhuepf/run_jython_scripts_from_ide\r\n\r\nIt explains the steps required to run a script from within the IDE by starting up and using ImageJ. The tutorial focuses on Jython, but is applicable to all [supported scripting languages][1].\r\n\r\n---\r\n\r\nIn general, questions about ImageJ usage and script development are best asked on the [Image.sc forum][2] instead of here on StackOverflow.\r\n\r\n\r\n  [1]: https://imagej.net/Scripting#Supported_languages\r\n  [2]: https://forum.image.sc/\r\n","title":"Run ImageJ scripts in IntelliJ","body":"<p>You might want to have a look at this GitHub project:</p>\n\n<p><a href=\"https://github.com/haesleinhuepf/run_jython_scripts_from_ide\" rel=\"nofollow noreferrer\">https://github.com/haesleinhuepf/run_jython_scripts_from_ide</a></p>\n\n<p>It explains the steps required to run a script from within the IDE by starting up and using ImageJ. The tutorial focuses on Jython, but is applicable to all <a href=\"https://imagej.net/Scripting#Supported_languages\" rel=\"nofollow noreferrer\">supported scripting languages</a>.</p>\n\n<hr>\n\n<p>In general, questions about ImageJ usage and script development are best asked on the <a href=\"https://forum.image.sc/\" rel=\"nofollow noreferrer\">Image.sc forum</a> instead of here on StackOverflow.</p>\n"},{"tags":[],"owner":{"account_id":10662794,"reputation":1835,"user_id":7850283,"accept_rate":83,"display_name":"Gelliant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640085975,"creation_date":1640084268,"answer_id":70434344,"question_id":52020675,"body_markdown":"I don&#39;t know if people still struggle with this, it is now 3.5 years later, but if you start a script with this:\r\n```\r\n//@ ImagePlus myImp\r\nimport ij.ImagePlus\r\nImagePlus myImp = myImp\r\n```\r\nYou can use both the autocomplete of IntelliJ and the SciJava script parameters. I keep the same script file open in both ImageJ and IntelliJ. After a change in IntelliJ, I go to the script editor to run it. It automatically detects something has changed and will ask to update. \r\n\r\nThis is a bit of a hassle, but I haven&#39;t found how to get IntelliJ to execute the script in a running instance of ImageJ. ","title":"Run ImageJ scripts in IntelliJ","body":"<p>I don't know if people still struggle with this, it is now 3.5 years later, but if you start a script with this:</p>\n<pre><code>//@ ImagePlus myImp\nimport ij.ImagePlus\nImagePlus myImp = myImp\n</code></pre>\n<p>You can use both the autocomplete of IntelliJ and the SciJava script parameters. I keep the same script file open in both ImageJ and IntelliJ. After a change in IntelliJ, I go to the script editor to run it. It automatically detects something has changed and will ask to update.</p>\n<p>This is a bit of a hassle, but I haven't found how to get IntelliJ to execute the script in a running instance of ImageJ.</p>\n"}],"owner":{"account_id":5971332,"reputation":368,"user_id":4693577,"accept_rate":80,"display_name":"Santi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1640085975,"creation_date":1535225937,"question_id":52020675,"body_markdown":"I am an average ImageJ user who learnt to write IJ.macro and Groovy by trial and error. I did this mainly using the plain a simple script editor within ImageJ. I recently came up with IntelliJ, an amazing IDE with auto-completion and debugger. With the help of google, I was able to include the ImageJ jars, and pluggings accessible as external libraries/modules so that I can use the mentioned functionalities [by adding the path in File&gt;Project Structure&gt;Libraries&gt;&quot;+&quot;&gt;Java&gt;... here I selected the folders with the Jars and plugins of ImageJ].\r\n \r\nI am, therefore, optimistic that I could achieve the last step. Rather than writing the code in IntelliJ and run with the ImageJ script tool, I was wondering if it could be possible to run a script (say with Groovy or Jython) directly from IntelliJ. Somethin like calling ImageJ when I click run. Maybe changing the Java Run Environment, or using it as VM.\r\n\r\nBefore finishing, sorry if I am saying something really odd or non-sense. I am an average Joe learning by trying.\r\n\r\nKind regards,","title":"Run ImageJ scripts in IntelliJ","body":"<p>I am an average ImageJ user who learnt to write IJ.macro and Groovy by trial and error. I did this mainly using the plain a simple script editor within ImageJ. I recently came up with IntelliJ, an amazing IDE with auto-completion and debugger. With the help of google, I was able to include the ImageJ jars, and pluggings accessible as external libraries/modules so that I can use the mentioned functionalities [by adding the path in File>Project Structure>Libraries>\"+\">Java>... here I selected the folders with the Jars and plugins of ImageJ].</p>\n\n<p>I am, therefore, optimistic that I could achieve the last step. Rather than writing the code in IntelliJ and run with the ImageJ script tool, I was wondering if it could be possible to run a script (say with Groovy or Jython) directly from IntelliJ. Somethin like calling ImageJ when I click run. Maybe changing the Java Run Environment, or using it as VM.</p>\n\n<p>Before finishing, sorry if I am saying something really odd or non-sense. I am an average Joe learning by trying.</p>\n\n<p>Kind regards,</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1640084825,"post_id":70434389,"comment_id":124506372,"body_markdown":"Here&#39;s how: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic","body":"Here&#39;s how: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7560620,"reputation":631,"user_id":5738367,"display_name":"Janekx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1640085481,"creation_date":1640084729,"answer_id":70434437,"question_id":70434389,"body_markdown":"Update: for JUnit 5, you can use @ExtendWith annotation instead of Rules. For example, you can use the [TimingExtension][1] showed in the examples of JUnit5.\r\n\r\nA full example (partially taken from [the previously mentioned example][1]):\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.AfterTestExecutionCallback;\r\nimport org.junit.jupiter.api.extension.BeforeTestExecutionCallback;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.jupiter.api.extension.ExtensionContext;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.logging.Logger;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nclass TimingExtension implements BeforeTestExecutionCallback, AfterTestExecutionCallback {\r\n\r\n    private static final Logger logger = Logger.getLogger(TimingExtension.class.getName());\r\n\r\n    private static final String START_TIME = &quot;start time&quot;;\r\n\r\n    @Override\r\n    public void beforeTestExecution(ExtensionContext context) throws Exception {\r\n        getStore(context).put(START_TIME, System.currentTimeMillis());\r\n    }\r\n\r\n    @Override\r\n    public void afterTestExecution(ExtensionContext context) throws Exception {\r\n        Method testMethod = context.getRequiredTestMethod();\r\n        long startTime = getStore(context).remove(START_TIME, long.class);\r\n        long duration = System.currentTimeMillis() - startTime;\r\n\r\n        logger.info(() -&gt;\r\n                String.format(&quot;Method [%s] took %s ms.&quot;, testMethod.getName(), duration));\r\n    }\r\n\r\n    private ExtensionContext.Store getStore(ExtensionContext context) {\r\n        return context.getStore(ExtensionContext.Namespace.create(getClass(), context.getRequiredTestMethod()));\r\n    }\r\n\r\n}\r\n\r\n@ExtendWith(TimingExtension.class)\r\nclass MyFirstJUnitJupiterTests {\r\n\r\n\r\n    @Test\r\n    void addition() {\r\n        assertEquals(2, 1 + 1);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn this case, the output will be something like this:\r\n\r\n```\r\ndec. 21, 2021 12:19:31 DU. TimingExtension afterTestExecution\r\nINFO: Method [addition] took 6 ms.\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nOld answer: \r\nIn JUnit 4, for that purpose, you can use TestWatchers, Stopwatch with Rules. Here is some examples:\r\n\r\n - (1) is for timeout\r\n - (2) do something when the test passes or fails\r\n - (3) calculate execution time\r\n\r\n```java\r\nimport org.junit.Rule;\r\nimport org.junit.rules.TestWatcher;\r\nimport org.junit.rules.Timeout;\r\nimport org.junit.runner.Description;\r\n\r\nclass TestBase {\r\n    @Rule\r\n    public Timeout globalTimeout = Timeout.seconds(3);\r\n\r\n    @Rule\r\n    public TestWatcher watchman = new TestWatcher() {\r\n\r\n        @Override\r\n        protected void failed(Throwable e, Description description) {\r\n            TestDescription td = description.getAnnotation(TestDescription.class);\r\n            System.out.println(&quot;Failed: &quot; + td.desc()[0]);\r\n\r\n        }\r\n\r\n    @Override\r\n        protected void succeeded(Description description) {\r\n            \r\n        }\r\n\r\n\r\n     @Rule\r\n     public Stopwatch stopwatch = new Stopwatch() {\r\n         @Override\r\n         protected void succeeded(long nanos, Description description) {\r\n             \r\n         }\r\n\r\n         @Override\r\n         protected void failed(long nanos, Throwable e, Description description) {\r\n             \r\n         }\r\n\r\n     };\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/blob/main/documentation/src/test/java/example/timing/TimingExtension.java","title":"How to wrap all junit tests?","body":"<p>Update: for JUnit 5, you can use @ExtendWith annotation instead of Rules. For example, you can use the <a href=\"https://github.com/junit-team/junit5/blob/main/documentation/src/test/java/example/timing/TimingExtension.java\" rel=\"nofollow noreferrer\">TimingExtension</a> showed in the examples of JUnit5.</p>\n<p>A full example (partially taken from <a href=\"https://github.com/junit-team/junit5/blob/main/documentation/src/test/java/example/timing/TimingExtension.java\" rel=\"nofollow noreferrer\">the previously mentioned example</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.AfterTestExecutionCallback;\nimport org.junit.jupiter.api.extension.BeforeTestExecutionCallback;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.api.extension.ExtensionContext;\n\nimport java.lang.reflect.Method;\nimport java.util.logging.Logger;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass TimingExtension implements BeforeTestExecutionCallback, AfterTestExecutionCallback {\n\n    private static final Logger logger = Logger.getLogger(TimingExtension.class.getName());\n\n    private static final String START_TIME = &quot;start time&quot;;\n\n    @Override\n    public void beforeTestExecution(ExtensionContext context) throws Exception {\n        getStore(context).put(START_TIME, System.currentTimeMillis());\n    }\n\n    @Override\n    public void afterTestExecution(ExtensionContext context) throws Exception {\n        Method testMethod = context.getRequiredTestMethod();\n        long startTime = getStore(context).remove(START_TIME, long.class);\n        long duration = System.currentTimeMillis() - startTime;\n\n        logger.info(() -&gt;\n                String.format(&quot;Method [%s] took %s ms.&quot;, testMethod.getName(), duration));\n    }\n\n    private ExtensionContext.Store getStore(ExtensionContext context) {\n        return context.getStore(ExtensionContext.Namespace.create(getClass(), context.getRequiredTestMethod()));\n    }\n\n}\n\n@ExtendWith(TimingExtension.class)\nclass MyFirstJUnitJupiterTests {\n\n\n    @Test\n    void addition() {\n        assertEquals(2, 1 + 1);\n    }\n\n}\n</code></pre>\n<p>In this case, the output will be something like this:</p>\n<pre><code>dec. 21, 2021 12:19:31 DU. TimingExtension afterTestExecution\nINFO: Method [addition] took 6 ms.\n\nProcess finished with exit code 0\n</code></pre>\n<p>Old answer:\nIn JUnit 4, for that purpose, you can use TestWatchers, Stopwatch with Rules. Here is some examples:</p>\n<ul>\n<li>(1) is for timeout</li>\n<li>(2) do something when the test passes or fails</li>\n<li>(3) calculate execution time</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Rule;\nimport org.junit.rules.TestWatcher;\nimport org.junit.rules.Timeout;\nimport org.junit.runner.Description;\n\nclass TestBase {\n    @Rule\n    public Timeout globalTimeout = Timeout.seconds(3);\n\n    @Rule\n    public TestWatcher watchman = new TestWatcher() {\n\n        @Override\n        protected void failed(Throwable e, Description description) {\n            TestDescription td = description.getAnnotation(TestDescription.class);\n            System.out.println(&quot;Failed: &quot; + td.desc()[0]);\n\n        }\n\n    @Override\n        protected void succeeded(Description description) {\n            \n        }\n\n\n     @Rule\n     public Stopwatch stopwatch = new Stopwatch() {\n         @Override\n         protected void succeeded(long nanos, Description description) {\n             \n         }\n\n         @Override\n         protected void failed(long nanos, Throwable e, Description description) {\n             \n         }\n\n     };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640084782,"creation_date":1640084782,"answer_id":70434452,"question_id":70434389,"body_markdown":"Probably `InvocationInterceptor` it the answer:\r\n\r\n    public class TestDurationReportExtension implements InvocationInterceptor {\r\n        @Override\r\n        public void interceptTestMethod(Invocation&lt;Void&gt; invocation,\r\n                ReflectiveInvocationContext&lt;Method&gt; invocationContext,\r\n                ExtensionContext extensionContext) throws Throwable {\r\n     \r\n            long beforeTest = System.currentTimeMillis();\r\n            try {\r\n                invocation.proceed();\r\n            } finally {\r\n                long afterTest = System.currentTimeMillis();\r\n                long duration = afterTest - beforeTest;\r\n                 \r\n                String testClassName = invocationContext.getTargetClass().getSimpleName();\r\n                String testMethodName = invocationContext.getExecutable().getName();\r\n                System.out.println(String.format(&quot;%s.%s: %dms&quot;, testClassName, testMethodName, duration));\r\n            }\r\n        }\r\n    }\r\n\r\nUse with:\r\n\r\n    @ExtendWith(TestDurationReportExtension.class)\r\n    public class DemoTest { .. }\r\n\r\nIdea from: https://www.mscharhag.com/java/junit5-custom-extensions","title":"How to wrap all junit tests?","body":"<p>Probably <code>InvocationInterceptor</code> it the answer:</p>\n<pre><code>public class TestDurationReportExtension implements InvocationInterceptor {\n    @Override\n    public void interceptTestMethod(Invocation&lt;Void&gt; invocation,\n            ReflectiveInvocationContext&lt;Method&gt; invocationContext,\n            ExtensionContext extensionContext) throws Throwable {\n \n        long beforeTest = System.currentTimeMillis();\n        try {\n            invocation.proceed();\n        } finally {\n            long afterTest = System.currentTimeMillis();\n            long duration = afterTest - beforeTest;\n             \n            String testClassName = invocationContext.getTargetClass().getSimpleName();\n            String testMethodName = invocationContext.getExecutable().getName();\n            System.out.println(String.format(&quot;%s.%s: %dms&quot;, testClassName, testMethodName, duration));\n        }\n    }\n}\n</code></pre>\n<p>Use with:</p>\n<pre><code>@ExtendWith(TestDurationReportExtension.class)\npublic class DemoTest { .. }\n</code></pre>\n<p>Idea from: <a href=\"https://www.mscharhag.com/java/junit5-custom-extensions\" rel=\"nofollow noreferrer\">https://www.mscharhag.com/java/junit5-custom-extensions</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640085481,"creation_date":1640084449,"question_id":70434389,"body_markdown":"How can I create a `junit5` extension/rule/interceptor that automatically wraps each `@Test` method.\r\n\r\nExample: imagine measuring execution time:\r\n\r\n    class TimeExension {\r\n        runTest() {\r\n             StopWatch w = new StopWatch();\r\n             w.start();\r\n    \r\n             //actually run the original test\r\n             test.run();\r\n     \r\n             w.stop();\r\n        }\r\n    }\r\n\r\nHow could this be applied to any test class?","title":"How to wrap all junit tests?","body":"<p>How can I create a <code>junit5</code> extension/rule/interceptor that automatically wraps each <code>@Test</code> method.</p>\n<p>Example: imagine measuring execution time:</p>\n<pre><code>class TimeExension {\n    runTest() {\n         StopWatch w = new StopWatch();\n         w.start();\n\n         //actually run the original test\n         test.run();\n \n         w.stop();\n    }\n}\n</code></pre>\n<p>How could this be applied to any test class?</p>\n"},{"tags":["java","try-catch","threadpoolexecutor","java-threads","interrupted-exception"],"answers":[{"tags":[],"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640084798,"creation_date":1640084798,"answer_id":70434455,"question_id":70433737,"body_markdown":"From Oracle docs for `shutdownNow`: \r\n\r\n&gt; There are no guarantees beyond best-effort attempts to stop processing actively executing tasks. For example, typical implementations will cancel via Thread.interrupt(), so any task that fails to respond to interrupts may never terminate.\r\n\r\nIf you take a look into `ThreadPoolExecutor` sources, you will find out that `shutdownNow` interrupts threads with this code:\r\n\r\n```\r\n        void interruptIfStarted() {\r\n            Thread t;\r\n            if (getState() &gt;= 0 &amp;&amp; (t = thread) != null &amp;&amp; !t.isInterrupted()) {\r\n                try {\r\n                    t.interrupt();\r\n                } catch (SecurityException ignore) {\r\n                }\r\n            }\r\n        }\r\n``` \r\n\r\nYour `ClientConnection` doesn&#39;t check the flag `Thread.interrupted`. Due to information in the post, I can&#39;t figure out which method throws `InterruptedException`. Probably, some other method, for example, `readLine` of reader or writer, blocks the thread, because they use socket&#39;s `InputStream` and `OutputStream` and because it&#39;s obvious that socket&#39;s streams block the thread if data is not immediatly available.\r\n\r\nFor example, I wrote this code to test it:\r\n\r\n```\r\nclass Example {\r\n    public static void main(String[] args) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try(ServerSocket serverSocket = new ServerSocket()) {\r\n                serverSocket.bind(new InetSocketAddress(8080));\r\n                Socket socket = serverSocket.accept();\r\n                int dataByte = socket.getInputStream().read();\r\n                System.out.println(dataByte);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        thread.start();\r\n        thread.interrupt();\r\n    }\r\n}\r\n```\r\n\r\nOn OpenJdk-16.0.2 there is no actual interruption. \r\n\r\nI see two possible solutions for your problem:\r\n\r\n1. Check `Thread.interrupted` inside the `while` loop if you are sure that `Socket` doesn&#39;t block your thread.\r\n\r\n2. If your are not sure, use `SocketChannel` in non-blocking mode instead of `Socket` for checking `Thread.interrupted` manually.\r\n\r\nFor the second way I tranformed my example into this:\r\n\r\n```\r\nclass Example {\r\n    public static void main(String[] args) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try(ServerSocketChannel serverSocket = ServerSocketChannel.open()) {\r\n                serverSocket.configureBlocking(false);\r\n                serverSocket.bind(new InetSocketAddress(8080));\r\n\r\n                SocketChannel socket = null;\r\n\r\n                while (socket == null) {\r\n                    socket = serverSocket.accept();\r\n\r\n                    if (Thread.interrupted()) {\r\n                        throw new InterruptedException();\r\n                    }\r\n                }\r\n\r\n                ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                socket.read(byteBuffer);\r\n                byte[] bytes = new byte[byteBuffer.limit()];\r\n                byteBuffer.flip();\r\n                byteBuffer.get(bytes);\r\n                System.out.println(new String(bytes, StandardCharsets.UTF_8));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;Interrupted successfully&quot;);\r\n            }\r\n        });\r\n        thread.start();\r\n        thread.interrupt();\r\n    }\r\n}\r\n```\r\n\r\nIt works.\r\n\r\nGood luck with Java :)","title":"ThreadPoolExecutor.shutdownNow() not throwing InterruptedException in Thread","body":"<p>From Oracle docs for <code>shutdownNow</code>:</p>\n<blockquote>\n<p>There are no guarantees beyond best-effort attempts to stop processing actively executing tasks. For example, typical implementations will cancel via Thread.interrupt(), so any task that fails to respond to interrupts may never terminate.</p>\n</blockquote>\n<p>If you take a look into <code>ThreadPoolExecutor</code> sources, you will find out that <code>shutdownNow</code> interrupts threads with this code:</p>\n<pre><code>        void interruptIfStarted() {\n            Thread t;\n            if (getState() &gt;= 0 &amp;&amp; (t = thread) != null &amp;&amp; !t.isInterrupted()) {\n                try {\n                    t.interrupt();\n                } catch (SecurityException ignore) {\n                }\n            }\n        }\n</code></pre>\n<p>Your <code>ClientConnection</code> doesn't check the flag <code>Thread.interrupted</code>. Due to information in the post, I can't figure out which method throws <code>InterruptedException</code>. Probably, some other method, for example, <code>readLine</code> of reader or writer, blocks the thread, because they use socket's <code>InputStream</code> and <code>OutputStream</code> and because it's obvious that socket's streams block the thread if data is not immediatly available.</p>\n<p>For example, I wrote this code to test it:</p>\n<pre><code>class Example {\n    public static void main(String[] args) {\n        Thread thread = new Thread(() -&gt; {\n            try(ServerSocket serverSocket = new ServerSocket()) {\n                serverSocket.bind(new InetSocketAddress(8080));\n                Socket socket = serverSocket.accept();\n                int dataByte = socket.getInputStream().read();\n                System.out.println(dataByte);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n        thread.start();\n        thread.interrupt();\n    }\n}\n</code></pre>\n<p>On OpenJdk-16.0.2 there is no actual interruption.</p>\n<p>I see two possible solutions for your problem:</p>\n<ol>\n<li><p>Check <code>Thread.interrupted</code> inside the <code>while</code> loop if you are sure that <code>Socket</code> doesn't block your thread.</p>\n</li>\n<li><p>If your are not sure, use <code>SocketChannel</code> in non-blocking mode instead of <code>Socket</code> for checking <code>Thread.interrupted</code> manually.</p>\n</li>\n</ol>\n<p>For the second way I tranformed my example into this:</p>\n<pre><code>class Example {\n    public static void main(String[] args) {\n        Thread thread = new Thread(() -&gt; {\n            try(ServerSocketChannel serverSocket = ServerSocketChannel.open()) {\n                serverSocket.configureBlocking(false);\n                serverSocket.bind(new InetSocketAddress(8080));\n\n                SocketChannel socket = null;\n\n                while (socket == null) {\n                    socket = serverSocket.accept();\n\n                    if (Thread.interrupted()) {\n                        throw new InterruptedException();\n                    }\n                }\n\n                ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                socket.read(byteBuffer);\n                byte[] bytes = new byte[byteBuffer.limit()];\n                byteBuffer.flip();\n                byteBuffer.get(bytes);\n                System.out.println(new String(bytes, StandardCharsets.UTF_8));\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                System.out.println(&quot;Interrupted successfully&quot;);\n            }\n        });\n        thread.start();\n        thread.interrupt();\n    }\n}\n</code></pre>\n<p>It works.</p>\n<p>Good luck with Java :)</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640085298,"creation_date":1640085298,"answer_id":70434558,"question_id":70433737,"body_markdown":"&gt; I would have expected that as soon as shutdownNow(); is being called, an InterruptedException would be thrown within my ClientConnection.run()\r\n\r\nYour ```messagesQueue``` should be a ```BlockingQueue```. So ```messagesQueue.put(message)``` will make you need to catch an ```Interrupted``` exception. So only when the thread is blocked in the ```put``` method(```queue``` is full), you call ```threadpool#shutdownNow```, then the thread will receive an ```Interrupted``` exception. In other cases, thread will not receive this ```Interrupted``` exception.\r\n\r\n\r\nYou can change ```while ((request = reader.readLine()) != null) ``` to ```while ((request = reader.readLine()) != null &amp;&amp; !Thread.interrupted())```.\r\n\r\nAnother solution is to maintain all client sockets, and close all client sockets when you need to close them,  this way, the client thread will directly receive an ```IOException```:\r\n\r\n```\r\n        List&lt;Socket&gt; clientSockets = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n            try {\r\n                Socket accept = serverSocket.accept();\r\n                clientSockets.add(accept);\r\n                executorService.submit(new ClientConnection(accept));\r\n            }catch (Exception e) {\r\n                for (Socket socket : clientSockets) {\r\n                    try {\r\n                        socket.close();\r\n                    } catch (Exception exception) {\r\n                        //\r\n                    }\r\n                }\r\n                //executorService.shutdownNow();\r\n            }\r\n        }\r\n```\r\n\r\n","title":"ThreadPoolExecutor.shutdownNow() not throwing InterruptedException in Thread","body":"<blockquote>\n<p>I would have expected that as soon as shutdownNow(); is being called, an InterruptedException would be thrown within my ClientConnection.run()</p>\n</blockquote>\n<p>Your <code>messagesQueue</code> should be a <code>BlockingQueue</code>. So <code>messagesQueue.put(message)</code> will make you need to catch an <code>Interrupted</code> exception. So only when the thread is blocked in the <code>put</code> method(<code>queue</code> is full), you call <code>threadpool#shutdownNow</code>, then the thread will receive an <code>Interrupted</code> exception. In other cases, thread will not receive this <code>Interrupted</code> exception.</p>\n<p>You can change <code>while ((request = reader.readLine()) != null) </code> to <code>while ((request = reader.readLine()) != null &amp;&amp; !Thread.interrupted())</code>.</p>\n<p>Another solution is to maintain all client sockets, and close all client sockets when you need to close them,  this way, the client thread will directly receive an <code>IOException</code>:</p>\n<pre><code>        List&lt;Socket&gt; clientSockets = new ArrayList&lt;&gt;();\n        while (true) {\n            try {\n                Socket accept = serverSocket.accept();\n                clientSockets.add(accept);\n                executorService.submit(new ClientConnection(accept));\n            }catch (Exception e) {\n                for (Socket socket : clientSockets) {\n                    try {\n                        socket.close();\n                    } catch (Exception exception) {\n                        //\n                    }\n                }\n                //executorService.shutdownNow();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":11363645,"reputation":2645,"user_id":8331157,"display_name":"BenjyTec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70434455,"answer_count":2,"score":3,"last_activity_date":1640085298,"creation_date":1640081449,"question_id":70433737,"body_markdown":"I am implementing a Transfer Server program which takes messages from clients (via console input) and then forwards it to some sort of mailbox.\r\n\r\nTo allow concurrent reception of several messages by different clients, I first created a class that implements the `Runnable` interface. Each of this class instances will handle the communication with exactly one client:\r\n\r\n    public class ClientConnection implements Runnable {\r\n    \r\n        //...\r\n    \r\n        //...\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // prepare the input reader and output writer\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                PrintWriter writer = new PrintWriter(clientSocket.getOutputStream(), true);\r\n    \r\n                Message message = new Message();\r\n                String request = &quot;&quot;;\r\n\r\n                // read client requests\r\n                while ((request = reader.readLine()) != null) {\r\n    \r\n                    System.out.println(&quot;Client sent the following request: &quot; + request);\r\n                    String response;\r\n                    if (request.trim().equals(&quot;quit&quot;)) {\r\n                        writer.println(&quot;ok bye&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    response = message.parseRequest(request);\r\n                    if (message.isCompleted()) {\r\n                        messagesQueue.put(message);\r\n                        message = new Message();\r\n                    }\r\n                    writer.println(response);\r\n                }\r\n    \r\n            } catch (SocketException e) {\r\n                System.out.println(&quot;ClientConnection: SocketException while handling socket: &quot; + e.getMessage());\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;Client Connection was interrupted!&quot;);\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (clientSocket != null &amp;&amp; !clientSocket.isClosed()) {\r\n                    try {\r\n                        clientSocket.close();\r\n                    } catch (IOException ignored) {}\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nI do have a parent thread which is responsible for starting and managing all the ClientConnection runnables:\r\n\r\n    @Override\r\n    public void run() {\r\n    \r\n        clientConnectionExecutor = (ThreadPoolExecutor) Executors.newCachedThreadPool();\r\n        while (true) {\r\n\r\n            Socket clientSocket;\r\n\r\n            try {\r\n                // wait for a Client to connect\r\n                clientSocket = serverSocket.accept();\r\n\r\n                ClientConnection clientConnection = new ClientConnection(clientSocket, messagesQueue);\r\n                clientConnectionExecutor.execute(clientConnection);\r\n\r\n            } catch (IOException e) {\r\n                // when this exception occurs, it means that we want to shut down everything\r\n                clientConnectionExecutor.shutdownNow();  // force terminate all ClientConnections\r\n                return;\r\n            }\r\n        }\r\n    }\r\nNow according to [this Stackoverflow Question][1], I would have expected that as soon as `shutdownNow();` is being called, an `InterruptedException` would be thrown within my `ClientConnection.run()` method, and there, it should print `Client Connection was interrupted!`. But this does not happen, so the catch clause seems never to be reached, the input reading loop just goes on. \r\n\r\nI read in another Stackoverflow question that this might be related to some other codeline within the block seems to be consuming the `InterruptedException`, but there wasn&#39;t any particular information on what codeline could do that. So I am thankful for any hints.\r\n\r\nEdit: It turns out that as soon as I manually exit the loop by typing &quot;quit&quot; on the client, the loop will quit and then, `Client Connection was interrupted!` will be printed. So somehow the exception seems to be ignored as long as the loop is running, and only handled afterwards.\r\n\r\n  [1]: https://stackoverflow.com/questions/11520189/difference-between-shutdown-and-shutdownnow-of-executor-service","title":"ThreadPoolExecutor.shutdownNow() not throwing InterruptedException in Thread","body":"<p>I am implementing a Transfer Server program which takes messages from clients (via console input) and then forwards it to some sort of mailbox.</p>\n<p>To allow concurrent reception of several messages by different clients, I first created a class that implements the <code>Runnable</code> interface. Each of this class instances will handle the communication with exactly one client:</p>\n<pre><code>public class ClientConnection implements Runnable {\n\n    //...\n\n    //...\n\n    @Override\n    public void run() {\n        try {\n            // prepare the input reader and output writer\n            BufferedReader reader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            PrintWriter writer = new PrintWriter(clientSocket.getOutputStream(), true);\n\n            Message message = new Message();\n            String request = &quot;&quot;;\n\n            // read client requests\n            while ((request = reader.readLine()) != null) {\n\n                System.out.println(&quot;Client sent the following request: &quot; + request);\n                String response;\n                if (request.trim().equals(&quot;quit&quot;)) {\n                    writer.println(&quot;ok bye&quot;);\n                    return;\n                }\n\n                response = message.parseRequest(request);\n                if (message.isCompleted()) {\n                    messagesQueue.put(message);\n                    message = new Message();\n                }\n                writer.println(response);\n            }\n\n        } catch (SocketException e) {\n            System.out.println(&quot;ClientConnection: SocketException while handling socket: &quot; + e.getMessage());\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        } catch (InterruptedException e) {\n            System.out.println(&quot;Client Connection was interrupted!&quot;);\n            e.printStackTrace();\n        } finally {\n            if (clientSocket != null &amp;&amp; !clientSocket.isClosed()) {\n                try {\n                    clientSocket.close();\n                } catch (IOException ignored) {}\n            }\n\n        }\n\n    }\n}\n</code></pre>\n<p>I do have a parent thread which is responsible for starting and managing all the ClientConnection runnables:</p>\n<pre><code>@Override\npublic void run() {\n\n    clientConnectionExecutor = (ThreadPoolExecutor) Executors.newCachedThreadPool();\n    while (true) {\n\n        Socket clientSocket;\n\n        try {\n            // wait for a Client to connect\n            clientSocket = serverSocket.accept();\n\n            ClientConnection clientConnection = new ClientConnection(clientSocket, messagesQueue);\n            clientConnectionExecutor.execute(clientConnection);\n\n        } catch (IOException e) {\n            // when this exception occurs, it means that we want to shut down everything\n            clientConnectionExecutor.shutdownNow();  // force terminate all ClientConnections\n            return;\n        }\n    }\n}\n</code></pre>\n<p>Now according to <a href=\"https://stackoverflow.com/questions/11520189/difference-between-shutdown-and-shutdownnow-of-executor-service\">this Stackoverflow Question</a>, I would have expected that as soon as <code>shutdownNow();</code> is being called, an <code>InterruptedException</code> would be thrown within my <code>ClientConnection.run()</code> method, and there, it should print <code>Client Connection was interrupted!</code>. But this does not happen, so the catch clause seems never to be reached, the input reading loop just goes on.</p>\n<p>I read in another Stackoverflow question that this might be related to some other codeline within the block seems to be consuming the <code>InterruptedException</code>, but there wasn't any particular information on what codeline could do that. So I am thankful for any hints.</p>\n<p>Edit: It turns out that as soon as I manually exit the loop by typing &quot;quit&quot; on the client, the loop will quit and then, <code>Client Connection was interrupted!</code> will be printed. So somehow the exception seems to be ignored as long as the loop is running, and only handled afterwards.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1640079723,"post_id":70432850,"comment_id":124504555,"body_markdown":"I wasn&#39;t able to reproduce the error with the given example","body":"I wasn&#39;t able to reproduce the error with the given example"},{"owner":{"account_id":3810005,"reputation":543,"user_id":3161227,"accept_rate":70,"display_name":"Manos Ntoulias"},"score":0,"creation_date":1640085074,"post_id":70432850,"comment_id":124506474,"body_markdown":"@blackbishop Yes, I added the input schema as well which must be causing the issue","body":"@blackbishop Yes, I added the input schema as well which must be causing the issue"},{"owner":{"account_id":6276245,"reputation":2747,"user_id":4878848,"accept_rate":25,"display_name":"Nikunj Kakadiya"},"score":0,"creation_date":1640093582,"post_id":70432850,"comment_id":124509536,"body_markdown":"@ManosNtoulias How are you reading the data in the dataframe because if you have the data in the dataframe then the data would be in tabular format but your question shows it in json format.","body":"@ManosNtoulias How are you reading the data in the dataframe because if you have the data in the dataframe then the data would be in tabular format but your question shows it in json format."}],"owner":{"account_id":3810005,"reputation":543,"user_id":3161227,"accept_rate":70,"display_name":"Manos Ntoulias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640085038,"creation_date":1640077333,"question_id":70432850,"body_markdown":"I am using Spark 3.1.2 and I have the data frame below and I want to access  the &#39;infos&#39; field from every element in the array of structs. I know I can do col(&quot;arrayOfStructs.infos&quot;) but since &#39;infos&#39; is not present in all elements I get a NullPointerException. Input data:\r\n\r\n    {\r\n\t  &quot;id&quot;: &quot;698hyg&quot;,\r\n\t  &quot;arrayOfStructs&quot;: [\r\n\t  {\r\n\t\t\t&quot;place&quot;: &quot;north1&quot;,\r\n\t\t\t&quot;lock&quot;: &quot;myLock&quot;,\r\n\t\t\t&quot;infos&quot;: {\r\n\t\t\t\t&quot;info1&quot;: &quot;I am an info&quot;,\r\n\t\t\t\t&quot;info2&quot;: &quot;hello there&quot;\r\n\t\t\t}\r\n\t  },\r\n      {\r\n\t\t\t&quot;place&quot;: &quot;north&quot;,\r\n\t\t\t&quot;lock&quot;: &quot;myLock&quot;\r\n\t  }]\r\n    }\r\n\r\nTarget output should be like this (Map the &#39;place&#39; field with empty maps if &#39;infos&#39; is not present):\r\n\r\n    \r\n    {north1 -&gt; {info1 -&gt; I am an info, info2 -&gt; hello there},\r\n     north  -&gt; {}\r\n    }\r\n\r\nI am trying to use \r\n\r\n    map_from_arrays(col(&quot;arrayOfStructs.place&quot;), col(&quot;arrayOfStructs.infos&quot;))\r\n\r\nbut I have trouble pairing the empty/null maps because the &#39;infos&#39; key is not present everywhere:\r\n\r\n    ERROR executor.Executor: Exception in task 0.0 in stage 0.0 (TID 0)\r\n    java.lang.NullPointerException\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n\tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n    ....\r\n\r\ninput schema seems to be causing the issue. Ideally I would like to solve this without changing &#39;values&#39; nullable to true:\r\n\r\n      val schema: StructType = StructType(\r\n    StructField(&quot;id&quot;, StringType, nullable = false) ::\r\n    StructField(&quot;arrayOfStructs&quot;, ArrayType(StructType(\r\n      StructField(&quot;place&quot;, StringType, nullable = false) ::\r\n      StructField(&quot;lock&quot;, StringType, nullable = false) ::\r\n      StructField(&quot;infos&quot;, MapType(StringType, StringType), nullable = false) :: Nil\r\n      ), containsNull = false), nullable = false)\r\n    :: Nil)","title":"Spark: Extract field that is not always present from array of structs","body":"<p>I am using Spark 3.1.2 and I have the data frame below and I want to access  the 'infos' field from every element in the array of structs. I know I can do col(&quot;arrayOfStructs.infos&quot;) but since 'infos' is not present in all elements I get a NullPointerException. Input data:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;698hyg&quot;,\n  &quot;arrayOfStructs&quot;: [\n  {\n        &quot;place&quot;: &quot;north1&quot;,\n        &quot;lock&quot;: &quot;myLock&quot;,\n        &quot;infos&quot;: {\n            &quot;info1&quot;: &quot;I am an info&quot;,\n            &quot;info2&quot;: &quot;hello there&quot;\n        }\n  },\n  {\n        &quot;place&quot;: &quot;north&quot;,\n        &quot;lock&quot;: &quot;myLock&quot;\n  }]\n}\n</code></pre>\n<p>Target output should be like this (Map the 'place' field with empty maps if 'infos' is not present):</p>\n<pre><code>{north1 -&gt; {info1 -&gt; I am an info, info2 -&gt; hello there},\n north  -&gt; {}\n}\n</code></pre>\n<p>I am trying to use</p>\n<pre><code>map_from_arrays(col(&quot;arrayOfStructs.place&quot;), col(&quot;arrayOfStructs.infos&quot;))\n</code></pre>\n<p>but I have trouble pairing the empty/null maps because the 'infos' key is not present everywhere:</p>\n<pre><code>ERROR executor.Executor: Exception in task 0.0 in stage 0.0 (TID 0)\njava.lang.NullPointerException\nat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\nat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n....\n</code></pre>\n<p>input schema seems to be causing the issue. Ideally I would like to solve this without changing 'values' nullable to true:</p>\n<pre><code>  val schema: StructType = StructType(\nStructField(&quot;id&quot;, StringType, nullable = false) ::\nStructField(&quot;arrayOfStructs&quot;, ArrayType(StructType(\n  StructField(&quot;place&quot;, StringType, nullable = false) ::\n  StructField(&quot;lock&quot;, StringType, nullable = false) ::\n  StructField(&quot;infos&quot;, MapType(StringType, StringType), nullable = false) :: Nil\n  ), containsNull = false), nullable = false)\n:: Nil)\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java","cucumber-junit"],"comments":[{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640162493,"post_id":70434463,"comment_id":124527666,"body_markdown":"@M.P.Korstanje it doesn&#39;t answer my question","body":"@M.P.Korstanje it doesn&#39;t answer my question"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1640164559,"post_id":70434463,"comment_id":124528440,"body_markdown":"The exceptions you are seeing are not possible with the version of Cucumber you listed. You should follow the tutorial. https://cucumber.io/docs/guides/10-minute-tutorial/","body":"The exceptions you are seeing are not possible with the version of Cucumber you listed. You should follow the tutorial. <a href=\"https://cucumber.io/docs/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">cucumber.io/docs/guides/10-minute-tutorial</a>"},{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640254382,"post_id":70434463,"comment_id":124553121,"body_markdown":"@M.P.Korstanje Issue is not occurred with jdk 11","body":"@M.P.Korstanje Issue is not occurred with jdk 11"},{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640254394,"post_id":70434463,"comment_id":124553128,"body_markdown":"Issue observed with jdk 17","body":"Issue observed with jdk 17"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1640268054,"post_id":70434463,"comment_id":124557571,"body_markdown":"I removed XStream from Cucucmber in version 3. Follow the tutorial.","body":"I removed XStream from Cucucmber in version 3. Follow the tutorial."},{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640335279,"post_id":70434463,"comment_id":124571605,"body_markdown":"@M.P.Korstanje Any resolution so that it works with jdk 17???","body":"@M.P.Korstanje Any resolution so that it works with jdk 17???"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1640335457,"post_id":70434463,"comment_id":124571646,"body_markdown":"Start from scratch. Follow the tutorial. Learn about Maven.","body":"Start from scratch. Follow the tutorial. Learn about Maven."},{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640343426,"post_id":70434463,"comment_id":124573509,"body_markdown":"Configured maven as in tutorial \njava.lang.ExceptionInInitializerError at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:678)","body":"Configured maven as in tutorial  java.lang.ExceptionInInitializerError at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverte&zwnj;&#8203;rs(XStream.java:678)"},{"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"score":0,"creation_date":1640343430,"post_id":70434463,"comment_id":124573510,"body_markdown":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @59e5ddf","body":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @59e5ddf"}],"owner":{"account_id":21024943,"reputation":1,"user_id":15450504,"display_name":"Yenike Raghu Ram"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640357991,"answer_count":0,"score":0,"last_activity_date":1640084819,"creation_date":1640084819,"question_id":70434463,"body_markdown":"Issue occurs in jdk 17 \r\nIssue not reproduced in jdk 11\r\n\r\nBelow are maven dependencies\r\n\r\nio.cucumber - cucumber-java - 6.10.0 , io.cucumber - cucumber-jvm-deps - 1.0.6 io.cucumber - cucumber-cucumber-junit - 6.10.0\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter\r\n\r\n        at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\r\n\r\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\r\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n\r\n        at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n\r\n        at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n\r\n        at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n\r\n        at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n\r\n        at cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n\r\n        at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n\r\n        at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n\r\n        at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\r\n        at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:128)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:27)\r\n\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\r\n        at cucumber.runtime.junit.ExamplesRunner.run(ExamplesRunner.java:59)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:128)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:27)\r\n\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\r\n        at cucumber.runtime.junit.ScenarioOutlineRunner.run(ScenarioOutlineRunner.java:53)\r\n\r\n        at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\r\n        at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\r\n        at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\r\n        at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\r\n\r\n        at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\r\n\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\r\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\r\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\r\n        at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:128)\r\n\r\n        at org.junit.runners.Suite.runChild(Suite.java:27)\r\n\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)\r\n\r\n        at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)\r\n\r\n        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\r\n\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\r\n\r\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\r\n\r\n        at ?.Given Launch the ContainerLINK Application on &quot;UWP-USB&quot;(About.feature:98)\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter","body":"<p>Issue occurs in jdk 17\nIssue not reproduced in jdk 11</p>\n<p>Below are maven dependencies</p>\n<p>io.cucumber - cucumber-java - 6.10.0 , io.cucumber - cucumber-jvm-deps - 1.0.6 io.cucumber - cucumber-cucumber-junit - 6.10.0</p>\n<p>java.lang.NoClassDefFoundError: Could not initialize class cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter</p>\n<pre><code>    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\n\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n\n    at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\n\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n\n    at cucumber.runtime.junit.ExamplesRunner.run(ExamplesRunner.java:59)\n\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n\n    at cucumber.runtime.junit.ScenarioOutlineRunner.run(ScenarioOutlineRunner.java:53)\n\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\n\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\n\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n\n    at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\n\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\n\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\n\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n\n    at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\n\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n\n    at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)\n\n    at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)\n\n    at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)\n\n    at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)\n\n    at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)\n\n    at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)\n\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\n\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\n\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\n\n    at ?.Given Launch the ContainerLINK Application on &quot;UWP-USB&quot;(About.feature:98)\n</code></pre>\n"},{"tags":["java","hibernate","inheritance","superclass"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640084817,"creation_date":1640084817,"answer_id":70434462,"question_id":70433826,"body_markdown":"If you don&#39;t want to add a table in your database for this &quot;super entity&quot; (let&#39;s call the class `Being`), you can still make `Person` and `Animal` inherit from it (`Person` should inherit from `Animal` BTW), and do the mapping of the common fields on properties:\r\n\r\n\r\n    public abstract class Being {\r\n        private Integer id;\r\n        private String name;\r\n    \r\n        // ...\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        //...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Person extends Being {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @JsonProperty\r\n        @Column(name = &quot;person_id&quot;)\r\n        public Integer getId() {\r\n            return super.getId();\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            super.setId(id);\r\n        }\r\n    \r\n        // all below fields are generic in all the entities\r\n        @JsonProperty\r\n        @Column(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return super.getName();\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            super.setName(name);\r\n        }\r\n    \r\n        //...\r\n    \r\n    }\r\n\r\n","title":"Hibernate - Extending Entities without a base table annotation?","body":"<p>If you don't want to add a table in your database for this &quot;super entity&quot; (let's call the class <code>Being</code>), you can still make <code>Person</code> and <code>Animal</code> inherit from it (<code>Person</code> should inherit from <code>Animal</code> BTW), and do the mapping of the common fields on properties:</p>\n<pre><code>public abstract class Being {\n    private Integer id;\n    private String name;\n\n    // ...\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    //...\n}\n\n@Entity\n@Table(name = &quot;person&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Person extends Being {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @JsonProperty\n    @Column(name = &quot;person_id&quot;)\n    public Integer getId() {\n        return super.getId();\n    }\n\n    public void setId(Integer id) {\n        super.setId(id);\n    }\n\n    // all below fields are generic in all the entities\n    @JsonProperty\n    @Column(name = &quot;name&quot;)\n    public String getName() {\n        return super.getName();\n    }\n\n    public void setName(String name) {\n        super.setName(name);\n    }\n\n    //...\n\n}\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434462,"answer_count":1,"score":0,"last_activity_date":1640084817,"creation_date":1640081836,"question_id":70433826,"body_markdown":"I have the following 2 `Hiberante` entities:\r\n\r\n    Person\r\n    \r\n    Animal \r\n\r\nThey have the shared fields / columns e.g: `name, age` etc, however each primary key id field is named differently, e.g. there is `person_id` and `animal_id` \r\n\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Person{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @JsonProperty\r\n        @Column(name = &quot;person_id&quot;)\r\n        private Integer person_id;\r\n    \r\n        // all below fields are generic in all the entities\r\n        @JsonProperty\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @JsonProperty\r\n        @Column(name = &quot;age&quot;)\r\n        private String age;\r\n    \r\n    }\r\n\r\nIs there a way that I can create a base entity super class that holds these generic `name, age` etc fields, then have Person, Animal and any new entities extend this super entity?\r\n\r\n\r\nNote that the super class does not have a table of its own so I am not sure what I would have for the `@Table` value? \r\n\r\nI also have the issue of the primary keys not all being named e.g. `id` so would have to specify them specifically in each entity.\r\n\r\n","title":"Hibernate - Extending Entities without a base table annotation?","body":"<p>I have the following 2 <code>Hiberante</code> entities:</p>\n<pre><code>Person\n\nAnimal \n</code></pre>\n<p>They have the shared fields / columns e.g: <code>name, age</code> etc, however each primary key id field is named differently, e.g. there is <code>person_id</code> and <code>animal_id</code></p>\n<pre><code>@Entity\n@Table(name = &quot;person&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Person{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @JsonProperty\n    @Column(name = &quot;person_id&quot;)\n    private Integer person_id;\n\n    // all below fields are generic in all the entities\n    @JsonProperty\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @JsonProperty\n    @Column(name = &quot;age&quot;)\n    private String age;\n\n}\n</code></pre>\n<p>Is there a way that I can create a base entity super class that holds these generic <code>name, age</code> etc fields, then have Person, Animal and any new entities extend this super entity?</p>\n<p>Note that the super class does not have a table of its own so I am not sure what I would have for the <code>@Table</code> value?</p>\n<p>I also have the issue of the primary keys not all being named e.g. <code>id</code> so would have to specify them specifically in each entity.</p>\n"},{"tags":["java","awt","deadlock","gnome","manjaro"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640084743,"creation_date":1640084743,"answer_id":70434441,"question_id":70348991,"body_markdown":"There are already several questions on SO about that issue:\r\n\r\n- https://stackoverflow.com/questions/27879854/desktop-getdesktop-browse-hangs\r\n- https://stackoverflow.com/questions/37926495/desktop-and-desktop-browse-are-supported-but-browse-still-hangs\r\n- https://stackoverflow.com/questions/21933442/desktop-browse-does-not-work-in-java-for-ubuntu\r\n\r\nThere is also this discussion:\r\n\r\nhttps://bugs.launchpad.net/ubuntu/+source/openjdk-8/+bug/1574879\r\n\r\nwhere someone says:\r\n\r\n&gt; gnome_url_show is actually in libgnome-2-0 package\r\n\r\nSo, if the package is missing, `Desktop.browse()` will fail. There are 2 solutions to fix that.\r\n\r\nSolution 1\r\n----------\r\n\r\nInstall the libgnome package.\r\n\r\nSolution 2\r\n----------\r\n\r\nExecute xdg-open to open the URL, e.g.:\r\n\r\n``` lang-java\r\nRuntime.getRuntime().exec(new String[]{&quot;xdg-open&quot;, someurl});\r\n```\r\n","title":"Is Desktop#browse supported on Linux platform just for Gnome desktop?","body":"<p>There are already several questions on SO about that issue:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27879854/desktop-getdesktop-browse-hangs\">Desktop.getDesktop().browse Hangs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37926495/desktop-and-desktop-browse-are-supported-but-browse-still-hangs\">Desktop and desktop.browse are supported, but browse still hangs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21933442/desktop-browse-does-not-work-in-java-for-ubuntu\">Desktop browse does not work in java for Ubuntu</a></li>\n</ul>\n<p>There is also this discussion:</p>\n<p><a href=\"https://bugs.launchpad.net/ubuntu/+source/openjdk-8/+bug/1574879\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/openjdk-8/+bug/1574879</a></p>\n<p>where someone says:</p>\n<blockquote>\n<p>gnome_url_show is actually in libgnome-2-0 package</p>\n</blockquote>\n<p>So, if the package is missing, <code>Desktop.browse()</code> will fail. There are 2 solutions to fix that.</p>\n<h2>Solution 1</h2>\n<p>Install the libgnome package.</p>\n<h2>Solution 2</h2>\n<p>Execute xdg-open to open the URL, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(new String[]{&quot;xdg-open&quot;, someurl});\n</code></pre>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70434441,"answer_count":1,"score":2,"last_activity_date":1640084743,"creation_date":1639485404,"question_id":70348991,"body_markdown":"Running my Java application with this code:\r\n\r\n    if (Desktop.isDesktopSupported())\r\n    {\r\n    \tDesktop d = Desktop.getDesktop();\r\n    \ttry\r\n    \t{\r\n    \t\td.browse(new URI(&quot;someurl&quot;)); // someurl is just an example, I am opening real url\r\n    \t}\r\n    \tcatch (IOException | URISyntaxException e)\r\n    \t{\r\n    \t\tlogger.warn(ExceptionUtils.getStackTrace(e));\r\n    \t}\r\n    }\r\n\r\nresults in application not responding (probably deadlock) on Manjaro Linux KDE. While it works with no problem on Windows, I do not want to check for OS in my application and allow it just for Windows. I have not tried other platforms yet. \r\n\r\nWhat i use:\r\n - Adoptium JDK 11 \r\n - Manjaro kernel 5.10.83-1-MANJARO 64bit \r\n - KDE Plasma 5.23.4 \r\n - Qt 5.15.2\r\n\r\n*Detailed deadlock location:*\r\n\r\n`Desktop` class:\r\n    \r\n    public void browse(URI uri) throws IOException {\r\n            checkAWTPermission();\r\n            checkExec();\r\n            checkActionSupport(Action.BROWSE);\r\n            Objects.requireNonNull(uri);\r\n            peer.browse(uri); // &lt;- goes here\r\n        }\r\n\r\nDeadlock happens in `XDesktopPeer` class that implements `DesktopPeer` interface (*peer*) on method `gnome_url_show(...)`:\r\n\r\n    private void launch(URI uri) throws IOException {\r\n            byte[] uriByteArray = ( uri.toString() + &#39;\\0&#39; ).getBytes();\r\n            boolean result = false;\r\n            XToolkit.awtLock();\r\n            try {\r\n                if (!nativeLibraryLoaded) {\r\n                    throw new IOException(&quot;Failed to load native libraries.&quot;);\r\n                }\r\n                result = gnome_url_show(uriByteArray); // &lt;- deadlock / app not responding here\r\n            } finally {\r\n                XToolkit.awtUnlock();\r\n            }\r\n            if (!result) {\r\n                throw new IOException(&quot;Failed to show URI:&quot; + uri);\r\n            }\r\n        }\r\n\r\nSo... is Desktop#browse supported on Linux platform just for Gnome desktop? \r\n\r\nI am guessing this, because of that method name.\r\n\r\n*If yes, can I make a check for deadlock around my code, so I prevent this in my app? rather than checking for OS and distros?*","title":"Is Desktop#browse supported on Linux platform just for Gnome desktop?","body":"<p>Running my Java application with this code:</p>\n<pre><code>if (Desktop.isDesktopSupported())\n{\n    Desktop d = Desktop.getDesktop();\n    try\n    {\n        d.browse(new URI(&quot;someurl&quot;)); // someurl is just an example, I am opening real url\n    }\n    catch (IOException | URISyntaxException e)\n    {\n        logger.warn(ExceptionUtils.getStackTrace(e));\n    }\n}\n</code></pre>\n<p>results in application not responding (probably deadlock) on Manjaro Linux KDE. While it works with no problem on Windows, I do not want to check for OS in my application and allow it just for Windows. I have not tried other platforms yet.</p>\n<p>What i use:</p>\n<ul>\n<li>Adoptium JDK 11</li>\n<li>Manjaro kernel 5.10.83-1-MANJARO 64bit</li>\n<li>KDE Plasma 5.23.4</li>\n<li>Qt 5.15.2</li>\n</ul>\n<p><em>Detailed deadlock location:</em></p>\n<p><code>Desktop</code> class:</p>\n<pre><code>public void browse(URI uri) throws IOException {\n        checkAWTPermission();\n        checkExec();\n        checkActionSupport(Action.BROWSE);\n        Objects.requireNonNull(uri);\n        peer.browse(uri); // &lt;- goes here\n    }\n</code></pre>\n<p>Deadlock happens in <code>XDesktopPeer</code> class that implements <code>DesktopPeer</code> interface (<em>peer</em>) on method <code>gnome_url_show(...)</code>:</p>\n<pre><code>private void launch(URI uri) throws IOException {\n        byte[] uriByteArray = ( uri.toString() + '\\0' ).getBytes();\n        boolean result = false;\n        XToolkit.awtLock();\n        try {\n            if (!nativeLibraryLoaded) {\n                throw new IOException(&quot;Failed to load native libraries.&quot;);\n            }\n            result = gnome_url_show(uriByteArray); // &lt;- deadlock / app not responding here\n        } finally {\n            XToolkit.awtUnlock();\n        }\n        if (!result) {\n            throw new IOException(&quot;Failed to show URI:&quot; + uri);\n        }\n    }\n</code></pre>\n<p>So... is Desktop#browse supported on Linux platform just for Gnome desktop?</p>\n<p>I am guessing this, because of that method name.</p>\n<p><em>If yes, can I make a check for deadlock around my code, so I prevent this in my app? rather than checking for OS and distros?</em></p>\n"},{"tags":["java","mongodb","apache-spark","objectid"],"answers":[{"tags":[],"owner":{"account_id":12051642,"reputation":1,"user_id":8814362,"display_name":"Rawad Daher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640084500,"creation_date":1640083313,"answer_id":70434151,"question_id":69762779,"body_markdown":"You don&#39;t need to use `udf()`\r\nimport the `struct` first:\r\n\r\n    import static org.apache.spark.sql.functions.struct;\r\n\r\nThen use:\r\n\r\n    dataframe = dataframe.withColumn(&quot;pub_id&quot;, struct(col(&quot;publisherId&quot;).as(&quot;oid&quot;)))","title":"How do I write string value as MongoDB ObjectId in java spark?","body":"<p>You don't need to use <code>udf()</code>\nimport the <code>struct</code> first:</p>\n<pre><code>import static org.apache.spark.sql.functions.struct;\n</code></pre>\n<p>Then use:</p>\n<pre><code>dataframe = dataframe.withColumn(&quot;pub_id&quot;, struct(col(&quot;publisherId&quot;).as(&quot;oid&quot;)))\n</code></pre>\n"}],"owner":{"account_id":21626082,"reputation":31,"user_id":15950413,"display_name":"JuyounKim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640084500,"creation_date":1635472630,"question_id":69762779,"body_markdown":"I&#39;d like to write string value as ObjectId to MongoDB in java spark.\r\n\r\nI tried it like this.\r\n```\r\nList&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\r\nstructFields.add(DataTypes.createStructField(&quot;oid&quot;, DataTypes.StringType, true));\r\n\r\nStructType structType = DataTypes.createStructType(structFields);\r\n\r\nspark.sqlContext().udf().register(&quot;toObjectId&quot;, (String publisherId) -&gt; {\r\n\treturn new com.mongodb.spark.sql.fieldTypes.api.java.ObjectId(publisherId);\r\n}, StructType);\r\n\r\ndataframe = dataframe.withColumn(&quot;pub_id&quot;,\r\n\tfunctions.callUDF(&quot;toObjectId&quot;, dataset.col(&quot;publisherId&quot;).cast(DataTypes.StringType))\r\n);\r\n\r\nMap&lt;String, String&gt; writeOverrides = new HashMap&lt;String, String&gt;();\r\nwriteOverrides.put(&quot;writeConcern.w&quot;, &quot;majority&quot;);\r\nWriteConfig writeConfig = WriteConfig.create(jsc).withOptions(writeOverrides);\r\n\r\nMongoSpark.save(dataset, writeConfig);\r\n\r\n```\r\n\r\nbut I got this error.\r\n```\r\nCaused by: scala.MatchError: com.mongodb.spark.sql.fieldTypes.api.java.ObjectId@8b2d2973 (of class com.mongodb.spark.sql.fieldTypes.api.java.ObjectId)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StructConverter.toCatalystImpl(CatalystTypeConverters.scala:236)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StructConverter.toCatalystImpl(CatalystTypeConverters.scala:231)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:379)\r\n```\r\n\r\nHow can I write ObjectId to MongoDB in spark through JAVA API ?","title":"How do I write string value as MongoDB ObjectId in java spark?","body":"<p>I'd like to write string value as ObjectId to MongoDB in java spark.</p>\n<p>I tried it like this.</p>\n<pre><code>List&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\nstructFields.add(DataTypes.createStructField(&quot;oid&quot;, DataTypes.StringType, true));\n\nStructType structType = DataTypes.createStructType(structFields);\n\nspark.sqlContext().udf().register(&quot;toObjectId&quot;, (String publisherId) -&gt; {\n    return new com.mongodb.spark.sql.fieldTypes.api.java.ObjectId(publisherId);\n}, StructType);\n\ndataframe = dataframe.withColumn(&quot;pub_id&quot;,\n    functions.callUDF(&quot;toObjectId&quot;, dataset.col(&quot;publisherId&quot;).cast(DataTypes.StringType))\n);\n\nMap&lt;String, String&gt; writeOverrides = new HashMap&lt;String, String&gt;();\nwriteOverrides.put(&quot;writeConcern.w&quot;, &quot;majority&quot;);\nWriteConfig writeConfig = WriteConfig.create(jsc).withOptions(writeOverrides);\n\nMongoSpark.save(dataset, writeConfig);\n\n</code></pre>\n<p>but I got this error.</p>\n<pre><code>Caused by: scala.MatchError: com.mongodb.spark.sql.fieldTypes.api.java.ObjectId@8b2d2973 (of class com.mongodb.spark.sql.fieldTypes.api.java.ObjectId)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StructConverter.toCatalystImpl(CatalystTypeConverters.scala:236)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StructConverter.toCatalystImpl(CatalystTypeConverters.scala:231)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:379)\n</code></pre>\n<p>How can I write ObjectId to MongoDB in spark through JAVA API ?</p>\n"},{"tags":["java","quicktime"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":2,"creation_date":1639765355,"post_id":70397282,"comment_id":124440765,"body_markdown":"This might be helpful.  https://docs.fileformat.com/video/mov/","body":"This might be helpful.  <a href=\"https://docs.fileformat.com/video/mov/\" rel=\"nofollow noreferrer\">docs.fileformat.com/video/mov</a>"}],"answers":[{"tags":[],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640084367,"creation_date":1640084367,"answer_id":70434368,"question_id":70397282,"body_markdown":"    if (array[4] == (byte)&#39;f&#39; &amp;&amp; array[5] == (byte)&#39;t&#39; &amp;&amp; array[6] == (byte)&#39;y&#39; &amp;&amp; array[7] == (byte)&#39;p&#39;)\r\n\r\nWe may need to check the signature of mov file as &quot;ftyp&quot;.\r\nhttps://docs.fileformat.com/video/mov/ \r\nAs suggested by Cheng Thao, Please refer to this link for more information on the file structures.","title":"Detecting Quicktime MOV File Type using java","body":"<pre><code>if (array[4] == (byte)'f' &amp;&amp; array[5] == (byte)'t' &amp;&amp; array[6] == (byte)'y' &amp;&amp; array[7] == (byte)'p')\n</code></pre>\n<p>We may need to check the signature of mov file as &quot;ftyp&quot;.\n<a href=\"https://docs.fileformat.com/video/mov/\" rel=\"nofollow noreferrer\">https://docs.fileformat.com/video/mov/</a>\nAs suggested by Cheng Thao, Please refer to this link for more information on the file structures.</p>\n"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434368,"answer_count":1,"score":0,"last_activity_date":1640084367,"creation_date":1639764893,"question_id":70397282,"body_markdown":"Please consider that I have an xml file which has the binary content of an MOV file.\r\n\r\nFor example:\r\n\r\n    &lt;MyFile&gt;AAAAFGZ0eXBxdCAgA.......&lt;/MyFile&gt;\r\n\r\nHow to detect that the content, inside that customised MyFile tag, is an MOV file.\r\n\r\nFor example, for MPEG video file, the condition that we put to check whether the file is an MPEG file is:\r\n\r\n    if (array[0] == (byte)0 &amp;&amp; array[1] == (byte)0 &amp;&amp; array[2] == (byte)0x01 &amp;&amp; (array[3] == (byte)0xb3 || array[3] == (byte)0xba))\r\n\r\nCan anyone please suggest what shall we check for an MOV file.","title":"Detecting Quicktime MOV File Type using java","body":"<p>Please consider that I have an xml file which has the binary content of an MOV file.</p>\n<p>For example:</p>\n<pre><code>&lt;MyFile&gt;AAAAFGZ0eXBxdCAgA.......&lt;/MyFile&gt;\n</code></pre>\n<p>How to detect that the content, inside that customised MyFile tag, is an MOV file.</p>\n<p>For example, for MPEG video file, the condition that we put to check whether the file is an MPEG file is:</p>\n<pre><code>if (array[0] == (byte)0 &amp;&amp; array[1] == (byte)0 &amp;&amp; array[2] == (byte)0x01 &amp;&amp; (array[3] == (byte)0xb3 || array[3] == (byte)0xba))\n</code></pre>\n<p>Can anyone please suggest what shall we check for an MOV file.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4185622,"reputation":933,"user_id":3429457,"display_name":"RicardoVallejo"},"score":0,"creation_date":1640081203,"post_id":70433582,"comment_id":124505061,"body_markdown":"Read this comment\nhttps://stackoverflow.com/questions/12837907/what-to-return-if-spring-mvc-controller-method-doesnt-return-value#comment41586596_12839817","body":"Read this comment <a href=\"https://stackoverflow.com/questions/12837907/what-to-return-if-spring-mvc-controller-method-doesnt-return-value#comment41586596_12839817\" title=\"what to return if spring mvc controller method doesnt return value%23comment41586596_12839817\">stackoverflow.com/questions/12837907/&hellip;</a>"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":2,"creation_date":1640082244,"post_id":70433582,"comment_id":124505432,"body_markdown":"Your question is a bit misleading. You say `returns 204 instead of 200` but then `why Spring doesn&#39;t do that by default?`? Which is it?","body":"Your question is a bit misleading. You say <code>returns 204 instead of 200</code> but then <code>why Spring doesn&#39;t do that by default?</code>? Which is it?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640084836,"post_id":70433582,"comment_id":124506375,"body_markdown":"By the way, 204 looks a sensible HTTP status code to me. More on the 204 HTTP status code: *&quot;This might be used, for example, when implementing &quot;save and continue editing&quot; functionality for a wiki site.&quot;* [Source](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204)","body":"By the way, 204 looks a sensible HTTP status code to me. More on the 204 HTTP status code: <i>&quot;This might be used, for example, when implementing &quot;save and continue editing&quot; functionality for a wiki site.&quot;</i> <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\" rel=\"nofollow noreferrer\">Source</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640085260,"post_id":70433582,"comment_id":124506533,"body_markdown":"By the way, `Map` (assuming `java.util.Map`) is a raw type. Don&#39;t use raw types, always specify the necessary type parameters. In your case, `Map&lt;?, ?&gt;` will probably do, although keys of mixed types looks peculiar to me.","body":"By the way, <code>Map</code> (assuming <code>java.util.Map</code>) is a raw type. Don&#39;t use raw types, always specify the necessary type parameters. In your case, <code>Map&lt;?, ?&gt;</code> will probably do, although keys of mixed types looks peculiar to me."}],"answers":[{"tags":[],"owner":{"account_id":19196094,"reputation":474,"user_id":14024740,"display_name":"AussieDev81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640084188,"creation_date":1640084188,"answer_id":70434333,"question_id":70433582,"body_markdown":"I don&#39;t have a direct answer for &quot;**why status 204 isn&#39;t returned by default**&quot; but it makes sense to me that it would return 200 (ok) by default because the status code 204 definition states that\r\n\r\n&gt; There is no content to send for this request, but the headers may be\r\n&gt; useful\r\n\r\nYet in the case of returning nothing at all, there is no response entity and therefore are also no useful headers.\r\n\r\nWith spring boot (and Java in general) being so explicit, we need to also be explicit when we are defining the behaviors we want.\r\n\r\nA slightly more explicit version of your endpoint method might be something like the following...\r\n\r\n```java\r\n@PostMapping(&quot;test&quot;)\r\npublic ResponseEntity&lt;?&gt; save(@RequestBody Map&lt;?,?&gt; payload) {\r\n    if(payload.isEmpty())\r\n        return ResponseEntity.noContent().build();\r\n    else\r\n        return ResponseEntity.ok().body(testService.save(payload));\r\n}\r\n```","title":"Why Spring RestController POST method returns 200 instead of 204 when return type is void?","body":"<p>I don't have a direct answer for &quot;<strong>why status 204 isn't returned by default</strong>&quot; but it makes sense to me that it would return 200 (ok) by default because the status code 204 definition states that</p>\n<blockquote>\n<p>There is no content to send for this request, but the headers may be\nuseful</p>\n</blockquote>\n<p>Yet in the case of returning nothing at all, there is no response entity and therefore are also no useful headers.</p>\n<p>With spring boot (and Java in general) being so explicit, we need to also be explicit when we are defining the behaviors we want.</p>\n<p>A slightly more explicit version of your endpoint method might be something like the following...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;test&quot;)\npublic ResponseEntity&lt;?&gt; save(@RequestBody Map&lt;?,?&gt; payload) {\n    if(payload.isEmpty())\n        return ResponseEntity.noContent().build();\n    else\n        return ResponseEntity.ok().body(testService.save(payload));\n}\n</code></pre>\n"}],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1640084188,"creation_date":1640080811,"question_id":70433582,"body_markdown":"```\r\n@PostMapping(path = &quot;/test&quot;)\r\npublic void save(Map payload) {\r\n    testService.save(payload);\r\n}\r\n```\r\nSpring RestController returns 204 instead of 200 in above scenario. Return type is void &amp; there is no content is response body. It is an established practice to return 204 HTTP code when there is no response body &amp; the processing is successful. I want to know why Spring doesn&#39;t do that by default? Is there any particular reason?\r\n\r\nI already know how to change the default status code, so that is not a question.","title":"Why Spring RestController POST method returns 200 instead of 204 when return type is void?","body":"<pre><code>@PostMapping(path = &quot;/test&quot;)\npublic void save(Map payload) {\n    testService.save(payload);\n}\n</code></pre>\n<p>Spring RestController returns 204 instead of 200 in above scenario. Return type is void &amp; there is no content is response body. It is an established practice to return 204 HTTP code when there is no response body &amp; the processing is successful. I want to know why Spring doesn't do that by default? Is there any particular reason?</p>\n<p>I already know how to change the default status code, so that is not a question.</p>\n"},{"tags":["java","sockets","ssl","tls1.2"],"comments":[{"owner":{"account_id":2453537,"reputation":31,"user_id":2139249,"display_name":"KJK"},"score":0,"creation_date":1467200639,"post_id":38098471,"comment_id":63631351,"body_markdown":"I want to set TLS to the above code","body":"I want to set TLS to the above code"},{"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"score":0,"creation_date":1467244878,"post_id":38098471,"comment_id":63657445,"body_markdown":"What version of java are you using? Java 8 has much better TLS defaults than Java 7.","body":"What version of java are you using? Java 8 has much better TLS defaults than Java 7."},{"owner":{"account_id":2453537,"reputation":31,"user_id":2139249,"display_name":"KJK"},"score":0,"creation_date":1467260422,"post_id":38098471,"comment_id":63661010,"body_markdown":"I use java 7 and As of now i wont be able to upgrade","body":"I use java 7 and As of now i wont be able to upgrade"}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467244706,"creation_date":1467244706,"answer_id":38111938,"question_id":38098471,"body_markdown":"`HttpClient` already handles TLS for you.  This is documented:\r\n\r\nhttp://hc.apache.org/httpclient-3.x/sslguide.html\r\n\r\n&gt; HttpClient provides full support for HTTP over Secure Sockets Layer (SSL) or IETF Transport Layer Security (TLS) protocols by leveraging the  Java Secure Socket Extension (JSSE). JSSE has been integrated into the Java 2 platform as of version 1.4 and works with HttpClient out of the box.\r\n\r\nAll you have to do is make sure your `targetURL` is using `https://` instead of `http://`, then `HttpClient` handles the rest for you. ","title":"Enable TLS in HTTP client with Post request","body":"<p><code>HttpClient</code> already handles TLS for you.  This is documented:</p>\n\n<p><a href=\"http://hc.apache.org/httpclient-3.x/sslguide.html\" rel=\"nofollow\">http://hc.apache.org/httpclient-3.x/sslguide.html</a></p>\n\n<blockquote>\n  <p>HttpClient provides full support for HTTP over Secure Sockets Layer (SSL) or IETF Transport Layer Security (TLS) protocols by leveraging the  Java Secure Socket Extension (JSSE). JSSE has been integrated into the Java 2 platform as of version 1.4 and works with HttpClient out of the box.</p>\n</blockquote>\n\n<p>All you have to do is make sure your <code>targetURL</code> is using <code>https://</code> instead of <code>http://</code>, then <code>HttpClient</code> handles the rest for you. </p>\n"},{"tags":[],"owner":{"account_id":7635211,"reputation":81,"user_id":5788964,"display_name":"Pekmezli D&#252;r&#252;m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640084089,"creation_date":1640084089,"answer_id":70434308,"question_id":38098471,"body_markdown":"Forget HttpClient. Use **javax.net.ssl.HttpsURLConnection**. \r\n\r\n    String myResponse = null;\r\n    URL url = new URL(targetURL);\r\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n    \r\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; characterset=ISO-8859-1&quot;);\r\n    con.setRequestProperty(&quot;SOAPAction&quot;, &quot;\\&quot;\\&quot;&quot;);\r\n    \r\n    con.setRequestMethod(&quot;POST&quot;);\t\t\r\n    con.setDoInput(true);\r\n    con.setDoOutput(true);\t\t\r\n    con.setSSLSocketFactory(My_Lovely_CertificateHelper.getSslSocketFactory());\r\n    con.connect();\r\n    \r\n    OutputStream os = con.getOutputStream();\r\n    OutputStreamWriter osw = new OutputStreamWriter(os, &quot;ISO-8859-1&quot;);\r\n    osw.write(req);\r\n    osw.flush();\r\n    osw.close();\r\n    \r\n    InputStream is = null;\r\n    if (con.getResponseCode() &lt; HttpsURLConnection.HTTP_BAD_REQUEST) {\r\n    \tis = con.getInputStream();\r\n    } else {\r\n    \tis = con.getErrorStream();\r\n    }\r\n    InputStreamReader isr = new InputStreamReader(is, &quot;ISO-8859-1&quot;);\r\n    \r\n    int read = -1;\r\n    char[] buff = new char[1024];\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while ((read = isr.read(buff)) != -1) {\r\n    \tsb.append(buff, 0, read);\r\n    }\r\n    myResponse = sb.toString();\r\n    return myResponse;\t\t\r\n\r\n********************\r\n\r\ngetSslSocketFactory()\r\n\r\n    public static SSLSocketFactory getSslSocketFactory() throws Exception {\r\n    \t\tSSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    \t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    \t\tString trustStorePath = getcertPath();  //&quot;user.dir&quot; + &quot;\\ohHappyDays.jks&quot;;\r\n    \t\tString password = &quot;finallyFoundLoveIn2021&quot;;\r\n    \t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tks.load(new FileInputStream(trustStorePath), password.toCharArray());\r\n    \t\tkmf.init(ks, password.toCharArray());\r\n    \t\tsc.init(kmf.getKeyManagers(), (TrustManager[]) null, (SecureRandom) null);\r\n    \t\treturn sc.getSocketFactory();\r\n    }\r\n\r\n","title":"Enable TLS in HTTP client with Post request","body":"<p>Forget HttpClient. Use <strong>javax.net.ssl.HttpsURLConnection</strong>.</p>\n<pre><code>String myResponse = null;\nURL url = new URL(targetURL);\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; characterset=ISO-8859-1&quot;);\ncon.setRequestProperty(&quot;SOAPAction&quot;, &quot;\\&quot;\\&quot;&quot;);\n\ncon.setRequestMethod(&quot;POST&quot;);       \ncon.setDoInput(true);\ncon.setDoOutput(true);      \ncon.setSSLSocketFactory(My_Lovely_CertificateHelper.getSslSocketFactory());\ncon.connect();\n\nOutputStream os = con.getOutputStream();\nOutputStreamWriter osw = new OutputStreamWriter(os, &quot;ISO-8859-1&quot;);\nosw.write(req);\nosw.flush();\nosw.close();\n\nInputStream is = null;\nif (con.getResponseCode() &lt; HttpsURLConnection.HTTP_BAD_REQUEST) {\n    is = con.getInputStream();\n} else {\n    is = con.getErrorStream();\n}\nInputStreamReader isr = new InputStreamReader(is, &quot;ISO-8859-1&quot;);\n\nint read = -1;\nchar[] buff = new char[1024];\nStringBuilder sb = new StringBuilder();\n\nwhile ((read = isr.read(buff)) != -1) {\n    sb.append(buff, 0, read);\n}\nmyResponse = sb.toString();\nreturn myResponse;      \n</code></pre>\n<hr />\n<p>getSslSocketFactory()</p>\n<pre><code>public static SSLSocketFactory getSslSocketFactory() throws Exception {\n        SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        String trustStorePath = getcertPath();  //&quot;user.dir&quot; + &quot;\\ohHappyDays.jks&quot;;\n        String password = &quot;finallyFoundLoveIn2021&quot;;\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(new FileInputStream(trustStorePath), password.toCharArray());\n        kmf.init(ks, password.toCharArray());\n        sc.init(kmf.getKeyManagers(), (TrustManager[]) null, (SecureRandom) null);\n        return sc.getSocketFactory();\n}\n</code></pre>\n"}],"owner":{"account_id":2453537,"reputation":31,"user_id":2139249,"display_name":"KJK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640084089,"creation_date":1467200355,"question_id":38098471,"body_markdown":"I want to add TLS 1.2 to the below code, Tried by creating socket but no luck. Can someone help on it ? Can we add it after creating a client ?\r\n\r\n      private static int executeSOAPRequest(String req, String targetURL)\r\n\t\t\tthrows Exception {\r\n\t\tPostMethod post = new PostMethod(targetURL);\r\n\t\tpost.setRequestBody(req);\r\n\t\tpost.setRequestHeader(&quot;Content-type&quot;,\r\n\t\t\t\t&quot;text/xml; characterset=ISO-8859-1&quot;);\r\n\t\tpost.setRequestHeader(&quot;SOAPAction&quot;, &quot;\\&quot;\\&quot;&quot;);\r\n\r\n\t\t// prepare HTTP Client\r\n\t\tHttpClient client = new HttpClient();\r\n\t\tclient.getParams().setParameter(&quot;SOAPAction&quot;, &quot;\\&quot;\\&quot;&quot;);\r\n\t\r\n\t\t// Post the request\r\n\t\tint respCode = client.executeMethod(post);\r\n        System.out.println(post.getResponseBodyAsString());\r\n\t\t// If response is not success\r\n\t\tif (respCode != 200)\r\n\t\t\tthrow new Exception(&quot;Executing SOAP request has failed.&quot;);\r\n\t\t// Convert the response into NOM XML\r\n\t\tint resp = 0;\r\n\t\tDocument doc = nomDocPool.lendDocument();\r\n\t\ttry {\r\n\t\t\tresp = doc.parseString(post.getResponseBodyAsString());\r\n\t\t\tnomDocPool.returnDocument(doc);\r\n\t\t} catch (XMLException e) {\r\n\t\t\tnomDocPool.returnDocument(doc);\r\n\t\t\t//logger.error(&quot;Exception while generating SAML : &quot;\r\n\t\t\t\t\t//+ e);\r\n\t\t\tthrow e;\r\n\t\t}\r\n    System.out.println(&quot;resp: &quot;+resp);\r\n\t\treturn resp;\r\n\t}\r\n","title":"Enable TLS in HTTP client with Post request","body":"<p>I want to add TLS 1.2 to the below code, Tried by creating socket but no luck. Can someone help on it ? Can we add it after creating a client ?</p>\n\n<pre><code>  private static int executeSOAPRequest(String req, String targetURL)\n        throws Exception {\n    PostMethod post = new PostMethod(targetURL);\n    post.setRequestBody(req);\n    post.setRequestHeader(\"Content-type\",\n            \"text/xml; characterset=ISO-8859-1\");\n    post.setRequestHeader(\"SOAPAction\", \"\\\"\\\"\");\n\n    // prepare HTTP Client\n    HttpClient client = new HttpClient();\n    client.getParams().setParameter(\"SOAPAction\", \"\\\"\\\"\");\n\n    // Post the request\n    int respCode = client.executeMethod(post);\n    System.out.println(post.getResponseBodyAsString());\n    // If response is not success\n    if (respCode != 200)\n        throw new Exception(\"Executing SOAP request has failed.\");\n    // Convert the response into NOM XML\n    int resp = 0;\n    Document doc = nomDocPool.lendDocument();\n    try {\n        resp = doc.parseString(post.getResponseBodyAsString());\n        nomDocPool.returnDocument(doc);\n    } catch (XMLException e) {\n        nomDocPool.returnDocument(doc);\n        //logger.error(\"Exception while generating SAML : \"\n                //+ e);\n        throw e;\n    }\nSystem.out.println(\"resp: \"+resp);\n    return resp;\n}\n</code></pre>\n"},{"tags":["java","file","encoding"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1640085893,"post_id":70434235,"comment_id":124506731,"body_markdown":"is there any reason why you&#39;re using *Modified UTF-8*?","body":"is there any reason why you&#39;re using <i>Modified UTF-8</i>?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1640088228,"post_id":70434235,"comment_id":124507576,"body_markdown":"You didn&#39;t say, but I bet you are running on Windows. [There is a long-known bug on Windows](https://en.wikipedia.org/wiki/Bush_hid_the_facts) which incorrectly interprets certain data patterns as UTF-16, which turns them into gibberish. Try looking at the file with a pre-Unicode function, like `type` in a CMD window.","body":"You didn&#39;t say, but I bet you are running on Windows. <a href=\"https://en.wikipedia.org/wiki/Bush_hid_the_facts\" rel=\"nofollow noreferrer\">There is a long-known bug on Windows</a> which incorrectly interprets certain data patterns as UTF-16, which turns them into gibberish. Try looking at the file with a pre-Unicode function, like <code>type</code> in a CMD window."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1640089185,"post_id":70434235,"comment_id":124507916,"body_markdown":"I think you are expecting something that isn&#39;t what you are actually doing. You are using a `DataOutputStream`. But you read it as if it was a text file. It isn&#39;t. It&#39;s a binary file. `writeUTF` first writes two bytes which are the string&#39;s length - which isn&#39;t done in a text file.","body":"I think you are expecting something that isn&#39;t what you are actually doing. You are using a <code>DataOutputStream</code>. But you read it as if it was a text file. It isn&#39;t. It&#39;s a binary file. <code>writeUTF</code> first writes two bytes which are the string&#39;s length - which isn&#39;t done in a text file."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640095577,"post_id":70434235,"comment_id":124510399,"body_markdown":"Do not use DataOutputStream to write a text file.  Use an OutputStreamWriter, or use `Files.newBufferedWriter(Path.of(&quot;D:\\\\Bluej\\\\Files\\\\bOutput2i.txt&quot;))`.","body":"Do not use DataOutputStream to write a text file.  Use an OutputStreamWriter, or use <code>Files.newBufferedWriter(Path.of(&quot;D:\\\\Bluej\\\\Files\\\\bOutput2i&zwnj;&#8203;.txt&quot;))</code>."}],"owner":{"account_id":23616251,"reputation":11,"user_id":17650358,"display_name":"Sarthak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1640083755,"creation_date":1640083755,"question_id":70434235,"body_markdown":"The following program attempts to encode text passed as parameters to the writeUTF() function and store it in a text file:\r\n```\r\nimport java.io.*;\r\nclass Output2{\r\n    public static void main(String[] args) throws IOException{\r\n        FileOutputStream fos = new FileOutputStream(&quot;D:\\\\Bluej\\\\Files\\\\bOutput2i.txt&quot;);\r\n        DataOutputStream dos = new DataOutputStream(fos);\r\n        //dos.writeUTF(&quot;Hello there&quot;);\r\n        \r\n        //dos.writeUTF(&quot;Hello hi&quot;);\r\n        \r\n        dos.close();\r\n        fos.close();\r\n        System.out.println(&quot;File ended&quot;);\r\n    }\r\n}\r\n```\r\nUncommenting `dos.writeUTF(&quot;Hello hi&quot;)` stores \r\n\r\n&gt; ࠀ效汬⁯楨\r\n\r\nin the bOutput2i.txt file. That is, the text is encoded in the file.\r\n\r\nHowever, if I uncomment `dos.writeUTF(&quot;Hello there&quot;)` instead, the bOutput2i.txt file stores\r\n\r\n&gt;  \u000BHello there\r\n\r\nThat is, the text is not encoded in the file.\r\n\r\nHow does this difference in encoding arise by simply changing the text to be encoded and how can this problem be resolved?","title":"Text not being encoded in text file","body":"<p>The following program attempts to encode text passed as parameters to the writeUTF() function and store it in a text file:</p>\n<pre><code>import java.io.*;\nclass Output2{\n    public static void main(String[] args) throws IOException{\n        FileOutputStream fos = new FileOutputStream(&quot;D:\\\\Bluej\\\\Files\\\\bOutput2i.txt&quot;);\n        DataOutputStream dos = new DataOutputStream(fos);\n        //dos.writeUTF(&quot;Hello there&quot;);\n        \n        //dos.writeUTF(&quot;Hello hi&quot;);\n        \n        dos.close();\n        fos.close();\n        System.out.println(&quot;File ended&quot;);\n    }\n}\n</code></pre>\n<p>Uncommenting <code>dos.writeUTF(&quot;Hello hi&quot;)</code> stores</p>\n<blockquote>\n<p>ࠀ效汬⁯楨</p>\n</blockquote>\n<p>in the bOutput2i.txt file. That is, the text is encoded in the file.</p>\n<p>However, if I uncomment <code>dos.writeUTF(&quot;Hello there&quot;)</code> instead, the bOutput2i.txt file stores</p>\n<blockquote>\n<p>Hello there</p>\n</blockquote>\n<p>That is, the text is not encoded in the file.</p>\n<p>How does this difference in encoding arise by simply changing the text to be encoded and how can this problem be resolved?</p>\n"},{"tags":["java","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1640082782,"post_id":70433972,"comment_id":124505646,"body_markdown":"Are you writing the OpenAPI file manually (as YAML/JSON) or generating it from source code? Can you post the definitions/code you have have tried so far (even if it did not work), so we have a starting point to help you from?","body":"Are you writing the OpenAPI file manually (as YAML/JSON) or generating it from source code? Can you post the definitions/code you have have tried so far (even if it did not work), so we have a starting point to help you from?"},{"owner":{"account_id":23709276,"reputation":11,"user_id":17731359,"display_name":"Вася Пупкин"},"score":0,"creation_date":1640083469,"post_id":70433972,"comment_id":124505855,"body_markdown":"i try to write openapi file manually.","body":"i try to write openapi file manually."}],"owner":{"account_id":23709276,"reputation":11,"user_id":17731359,"display_name":"Вася Пупкин"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1640083643,"creation_date":1640082472,"question_id":70433972,"body_markdown":"I&#39;m new in OpenApi 3. Would you help me to describe in yaml construction with complex filter? \r\nCurl should look like  /...?page=0&amp;size=10?filter=startDate=2005-08-09;endDate=2006-08-09;status:active,overdue,closed\r\n\r\nfor now i have in path:\r\n\r\n\r\n    parameters:\r\n      - in: query\r\n        name: page\r\n        schema:\r\n          type: integer\r\n        required: true\r\n        description: Number of page to display\r\n      - in: query\r\n        name: size\r\n        schema:\r\n          type: integer\r\n        required: true\r\n        description: The size of page\r\n      - in: query\r\n        name: filter\r\n        schema: ???\r\n","title":"Complex filter in path OpenAPI 3","body":"<p>I'm new in OpenApi 3. Would you help me to describe in yaml construction with complex filter?\nCurl should look like  /...?page=0&amp;size=10?filter=startDate=2005-08-09;endDate=2006-08-09;status:active,overdue,closed</p>\n<p>for now i have in path:</p>\n<pre><code>parameters:\n  - in: query\n    name: page\n    schema:\n      type: integer\n    required: true\n    description: Number of page to display\n  - in: query\n    name: size\n    schema:\n      type: integer\n    required: true\n    description: The size of page\n  - in: query\n    name: filter\n    schema: ???\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8249,"page":1743,"page_size":100}
