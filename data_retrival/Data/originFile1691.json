{"items":[{"tags":["java","class","object","arraylist","printing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1641900138,"post_id":70665808,"comment_id":124922864,"body_markdown":"So, what&#39;s preventing you from doing so? What&#39;s your question? You might also want to (re)read [ask] and then update your post.","body":"So, what&#39;s preventing you from doing so? What&#39;s your question? You might also want to (re)read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then update your post."},{"owner":{"account_id":17051227,"reputation":58,"user_id":12336821,"display_name":"Yanji Lama"},"score":0,"creation_date":1641900351,"post_id":70665808,"comment_id":124922944,"body_markdown":"I just don&#39;t know how to do so. I need some ideas so that I can print the accounts that I add using addAccount method to the arrayList","body":"I just don&#39;t know how to do so. I need some ideas so that I can print the accounts that I add using addAccount method to the arrayList"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641902025,"post_id":70665808,"comment_id":124923563,"body_markdown":"Well, you might want to start by defining &quot;print&quot;: do you need to return the list to a client that somehow displays it or do you just need the controller to print the list to stdout (aka System.out)? Also what did you try? What&#39;s preventing you from just iterating over the list and printing the elements or just returning the list to the client?","body":"Well, you might want to start by defining &quot;print&quot;: do you need to return the list to a client that somehow displays it or do you just need the controller to print the list to stdout (aka System.out)? Also what did you try? What&#39;s preventing you from just iterating over the list and printing the elements or just returning the list to the client?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641939271,"post_id":70665808,"comment_id":124938463,"body_markdown":"You need to create an `Accounts` object in `MyMainView` populate the `ArrayList` there and then loop through the list with a [loop](https://www.interviewsansar.com/how-to-print-arraylist-elements-in-java/) and [print the elements(override `toString()`)](https://stackoverflow.com/a/10734148/16653700).","body":"You need to create an <code>Accounts</code> object in <code>MyMainView</code> populate the <code>ArrayList</code> there and then loop through the list with a <a href=\"https://www.interviewsansar.com/how-to-print-arraylist-elements-in-java/\" rel=\"nofollow noreferrer\">loop</a> and <a href=\"https://stackoverflow.com/a/10734148/16653700\">print the elements(override <code>toString()</code>)</a>."}],"answers":[{"tags":[],"owner":{"account_id":23904485,"reputation":21,"user_id":17902242,"display_name":"DerLebkuchenmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641902555,"creation_date":1641902555,"answer_id":70666479,"question_id":70665808,"body_markdown":"You could try overriding the toString() method in your Accounts class.\r\nNext, create a method in Account Controller that iterates over all instances of Accounts, calling their respective toString() method and collecting the outputs.\r\nNow you can call that method in the main in MyMainView.","title":"I want to print all the account numbers and account names that I have created so far ; I am using java","body":"<p>You could try overriding the toString() method in your Accounts class.\nNext, create a method in Account Controller that iterates over all instances of Accounts, calling their respective toString() method and collecting the outputs.\nNow you can call that method in the main in MyMainView.</p>\n"}],"owner":{"account_id":17051227,"reputation":58,"user_id":12336821,"display_name":"Yanji Lama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641902555,"creation_date":1641899521,"question_id":70665808,"body_markdown":"I have the Accounts Java class as follows:\r\n\r\n  \r\n\r\n      public class Accounts {\r\n                These are the fields\r\n                private int accountNumber;\r\n                private String accountName;\r\n                private double accountBalance;\r\n    \r\n            public Accounts(int accountNumber, String accountName, double accountBalance) {\r\n                this.accountNumber = accountNumber;\r\n                this.accountName = accountName;\r\n                this.accountBalance = accountBalance;\r\n            }\r\n    \r\n            public int getAccountNumber() {\r\n                return accountNumber;\r\n            }\r\n            public String getAccountName() {\r\n                return accountName;\r\n            }\r\n            public double getAccountBalance() {\r\n                return accountBalance;\r\n            }\r\n            public void setAccountNumber(int accountNumber) {\r\n                this.accountNumber = accountNumber;\r\n            }\r\n            public void setAccountName(String accountName) {\r\n                this.accountName = accountName;\r\n            }\r\n            public void setAccountBalance(double accountBalance) {\r\n                this.accountBalance = accountBalance;\r\n            }    \r\n        }\r\n       \r\n        public class AccountController {\r\n            ArrayList&lt;Accounts&gt; accounts = new ArrayList&lt;&gt;();\r\n            public boolean addAccount(int accountNumber, String accountName, double accountBalance) {\r\n                Accounts acc = new Accounts(accountNumber, accountName, accountBalance);\r\n                if (findAccount(accountNumber) == null) {\r\n                    accounts.add(acc);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\nThese are the classes I have:\r\n1: Accounts\r\n2: Account Controller\r\n3: MyMainView\r\n\r\nI want to print the list of the Accounts I add to the ArrayList along which contains accountNumber , accountBalance and accountName. I want to add the create the method inside the MyMainView and call it inside the main method of the MyMainView. \r\n\r\n\r\n\r\n","title":"I want to print all the account numbers and account names that I have created so far ; I am using java","body":"<p>I have the Accounts Java class as follows:</p>\n<pre><code>  public class Accounts {\n            These are the fields\n            private int accountNumber;\n            private String accountName;\n            private double accountBalance;\n\n        public Accounts(int accountNumber, String accountName, double accountBalance) {\n            this.accountNumber = accountNumber;\n            this.accountName = accountName;\n            this.accountBalance = accountBalance;\n        }\n\n        public int getAccountNumber() {\n            return accountNumber;\n        }\n        public String getAccountName() {\n            return accountName;\n        }\n        public double getAccountBalance() {\n            return accountBalance;\n        }\n        public void setAccountNumber(int accountNumber) {\n            this.accountNumber = accountNumber;\n        }\n        public void setAccountName(String accountName) {\n            this.accountName = accountName;\n        }\n        public void setAccountBalance(double accountBalance) {\n            this.accountBalance = accountBalance;\n        }    \n    }\n   \n    public class AccountController {\n        ArrayList&lt;Accounts&gt; accounts = new ArrayList&lt;&gt;();\n        public boolean addAccount(int accountNumber, String accountName, double accountBalance) {\n            Accounts acc = new Accounts(accountNumber, accountName, accountBalance);\n            if (findAccount(accountNumber) == null) {\n                accounts.add(acc);\n                return true;\n            }\n            return false;\n        }\n</code></pre>\n<p>These are the classes I have:\n1: Accounts\n2: Account Controller\n3: MyMainView</p>\n<p>I want to print the list of the Accounts I add to the ArrayList along which contains accountNumber , accountBalance and accountName. I want to add the create the method inside the MyMainView and call it inside the main method of the MyMainView.</p>\n"},{"tags":["java","spring-boot","integer-overflow","zap","spring-mvc-test"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641896437,"creation_date":1641896437,"answer_id":70665106,"question_id":70664159,"body_markdown":"A simplistic and a bit performance inefficient solution would be to receive all your params as `String` and to your own parsing with appropriate validation.","title":"Integer overflow attack mitigation in Spring Rest API","body":"<p>A simplistic and a bit performance inefficient solution would be to receive all your params as <code>String</code> and to your own parsing with appropriate validation.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641902257,"creation_date":1641902257,"answer_id":70666406,"question_id":70664159,"body_markdown":"This has nothing to do with converting the string to a valid integer. That is already taken care of by Spring.\r\n\r\nThe actual issue is described on the [OWASP ZAP page](https://www.zaproxy.org/docs/alerts/30003/). A very large page number may overflow to a negative number after addition, resulting in possible unexpected behaviour in your application. Consider, for example,\r\n\r\n    https:/...?pageNumber=2147483646&amp;pageSize=100\r\n\r\nThe `pageNumber` is a perfectly valid int, with value `Integer.MAX_VALUE - 1`. But if your application then adds `pageSize` to it, it will overflow. You can mitigate by validating `pageNumber` and `pageSize` to be within ranges of sensible values, e.g. pageNumber between 1 and 1000000, pageSize between 1 and 10000.\r\n","title":"Integer overflow attack mitigation in Spring Rest API","body":"<p>This has nothing to do with converting the string to a valid integer. That is already taken care of by Spring.</p>\n<p>The actual issue is described on the <a href=\"https://www.zaproxy.org/docs/alerts/30003/\" rel=\"nofollow noreferrer\">OWASP ZAP page</a>. A very large page number may overflow to a negative number after addition, resulting in possible unexpected behaviour in your application. Consider, for example,</p>\n<pre><code>https:/...?pageNumber=2147483646&amp;pageSize=100\n</code></pre>\n<p>The <code>pageNumber</code> is a perfectly valid int, with value <code>Integer.MAX_VALUE - 1</code>. But if your application then adds <code>pageSize</code> to it, it will overflow. You can mitigate by validating <code>pageNumber</code> and <code>pageSize</code> to be within ranges of sensible values, e.g. pageNumber between 1 and 1000000, pageSize between 1 and 10000.</p>\n"}],"owner":{"account_id":1732883,"reputation":193,"user_id":1586108,"accept_rate":60,"display_name":"DDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641902257,"creation_date":1641892194,"question_id":70664159,"body_markdown":"We are currently undertaking security vulnerability assessment of our webapps. For this we have been using the ZAP tool from OWASP for automated penetration testing. One of the alerts we received from ZAP was for integer overflow error with the following description: `An integer overflow condition exists when an integer, which has not been properly checked from the input stream is used within a compiled program.`\r\n\r\nThe actual report appears as follows:\r\n\r\n[![Screenshot of the actual report][1]][1]\r\n\r\nThe method signature of the API listed above is as follows:\r\n\r\n```\r\n\t@GetMapping(value = &quot;/list&quot;)\r\n\tpublic ResponseEntity&lt;PaginatedResponse&gt; getUserList(\r\n\t\t\t@RequestParam(name = &quot;searchQuery&quot;, defaultValue = &quot;&quot;) String searchString,\r\n\t\t\t@RequestParam(defaultValue = &quot;1&quot;) int pageNumber, \r\n\t\t\t@RequestParam(defaultValue = &quot;100&quot;) int pageSize,\r\n\t\t\t@RequestParam(name = &quot;sort_by&quot;,required = false) String sortBy,\r\n\t\t\t@RequestParam(name = &quot;descending&quot;,defaultValue = &quot;false&quot;) boolean isDescending)\r\n```\r\n\r\nWe are using Spring Boot for our REST API, and the pageSize and pageNumber parameters are values that are passed to `PageRequest` for pagination purposes.\r\n\r\nI have tried adding a check to see whether the input values are between Integer.MIN_VALUE and Integer.MAX_VALUE, but there is a possibility that the resulting value could still be a valid integer because of the wrap-around behaviour of casting values larger than the integer limit to an integer variable in Java.\r\n\r\nAnother thing to note is that the tool also passed an integer value to a variable that is expecting boolean (`descending` in the screenshot above), which I think will also have to be addressed somehow.\r\n\r\nPerhaps there is some way to catch such an issue before binding occurs?\r\n\r\n  [1]: https://i.stack.imgur.com/HmVPh.png","title":"Integer overflow attack mitigation in Spring Rest API","body":"<p>We are currently undertaking security vulnerability assessment of our webapps. For this we have been using the ZAP tool from OWASP for automated penetration testing. One of the alerts we received from ZAP was for integer overflow error with the following description: <code>An integer overflow condition exists when an integer, which has not been properly checked from the input stream is used within a compiled program.</code></p>\n<p>The actual report appears as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/HmVPh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HmVPh.png\" alt=\"Screenshot of the actual report\" /></a></p>\n<p>The method signature of the API listed above is as follows:</p>\n<pre><code>    @GetMapping(value = &quot;/list&quot;)\n    public ResponseEntity&lt;PaginatedResponse&gt; getUserList(\n            @RequestParam(name = &quot;searchQuery&quot;, defaultValue = &quot;&quot;) String searchString,\n            @RequestParam(defaultValue = &quot;1&quot;) int pageNumber, \n            @RequestParam(defaultValue = &quot;100&quot;) int pageSize,\n            @RequestParam(name = &quot;sort_by&quot;,required = false) String sortBy,\n            @RequestParam(name = &quot;descending&quot;,defaultValue = &quot;false&quot;) boolean isDescending)\n</code></pre>\n<p>We are using Spring Boot for our REST API, and the pageSize and pageNumber parameters are values that are passed to <code>PageRequest</code> for pagination purposes.</p>\n<p>I have tried adding a check to see whether the input values are between Integer.MIN_VALUE and Integer.MAX_VALUE, but there is a possibility that the resulting value could still be a valid integer because of the wrap-around behaviour of casting values larger than the integer limit to an integer variable in Java.</p>\n<p>Another thing to note is that the tool also passed an integer value to a variable that is expecting boolean (<code>descending</code> in the screenshot above), which I think will also have to be addressed somehow.</p>\n<p>Perhaps there is some way to catch such an issue before binding occurs?</p>\n"},{"tags":["java","file-io","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1346762176,"creation_date":1346762176,"answer_id":12263649,"question_id":12261014,"body_markdown":"If you need full control of when the resources get closed, you should create the OPCPackage yourself up front, and pass that into WorkbookFactory. OPCPackage provides the close method you&#39;re after. A Workbook will remain open until garbage collection\r\n\r\nYour code would look something like:\r\n\r\n         File f = new File(&quot;/path/to/excel/file&quot;);\r\n         Workbook wb = null;\r\n\r\n         NPOIFSFileSystem npoifs = null;\r\n         OPCPackage pkg = null;\r\n         try {\r\n           npoifs = new NPOIFSFileSystem(f);\r\n           wb = WorkbookFactory.create(npoifs);\r\n         } catch(OfficeXmlFileException ofe) {\r\n           pkg = OPCPackage.open(f);\r\n           wb = WorkbookFactory.create(pkg);\r\n         }\r\n      \r\n         // Use it\r\n\r\n         if (npoifs != null) { npoifs.close(); }\r\n         if (pkg != null) { pkg.close(); }","title":"Close Filehandle for Workbook (apache poi)","body":"<p>If you need full control of when the resources get closed, you should create the OPCPackage yourself up front, and pass that into WorkbookFactory. OPCPackage provides the close method you're after. A Workbook will remain open until garbage collection</p>\n\n<p>Your code would look something like:</p>\n\n<pre><code>     File f = new File(\"/path/to/excel/file\");\n     Workbook wb = null;\n\n     NPOIFSFileSystem npoifs = null;\n     OPCPackage pkg = null;\n     try {\n       npoifs = new NPOIFSFileSystem(f);\n       wb = WorkbookFactory.create(npoifs);\n     } catch(OfficeXmlFileException ofe) {\n       pkg = OPCPackage.open(f);\n       wb = WorkbookFactory.create(pkg);\n     }\n\n     // Use it\n\n     if (npoifs != null) { npoifs.close(); }\n     if (pkg != null) { pkg.close(); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":610235,"reputation":447,"user_id":922423,"accept_rate":100,"display_name":"Mark T."},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1352144253,"creation_date":1351875856,"answer_id":13199901,"question_id":12261014,"body_markdown":"It seems to work just fine to maintain a handle on the InputStream passed to `WorkbookFactory.create()`, and to simply close the InputStream when you&#39;re done with the Workbook. For example:\r\n\r\n        InputStream is = // initialize\r\n        try {\r\n            Workbook wb = WorkbookFactory.create(is);\r\n            // use the workbook\r\n        } finally {\r\n            if (is != null) is.close()\r\n        }\r\n        ","title":"Close Filehandle for Workbook (apache poi)","body":"<p>It seems to work just fine to maintain a handle on the InputStream passed to <code>WorkbookFactory.create()</code>, and to simply close the InputStream when you're done with the Workbook. For example:</p>\n\n<pre><code>    InputStream is = // initialize\n    try {\n        Workbook wb = WorkbookFactory.create(is);\n        // use the workbook\n    } finally {\n        if (is != null) is.close()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416682698,"creation_date":1416682326,"answer_id":27081154,"question_id":12261014,"body_markdown":"How to close an instance of a POI workbook in Java:\r\n-------------------------------------------\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n\r\n\r\n    try{\r\n        File workbookFile = new File(&quot;C:\\\\repo\\\\yourfile.xslx&quot;);\r\n\t\tFileInputStream file = new FileInputStream(workbookFile);\r\n\t\tWorkbook wb = WorkbookFactory.create(file);\r\n\t\tSheet sheet = wb.getSheetAt(0);\r\n\t\t\r\n        //use the instance of wb.\r\n\r\n\t    file.close();\r\n\t\t    \r\n\t}\r\n\tcatch(Exception e){\r\n        System.out.println(&quot;Fail&quot;);\r\n\t}\r\n","title":"Close Filehandle for Workbook (apache poi)","body":"<h2>How to close an instance of a POI workbook in Java:</h2>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\n\ntry{\n    File workbookFile = new File(\"C:\\\\repo\\\\yourfile.xslx\");\n    FileInputStream file = new FileInputStream(workbookFile);\n    Workbook wb = WorkbookFactory.create(file);\n    Sheet sheet = wb.getSheetAt(0);\n\n    //use the instance of wb.\n\n    file.close();\n\n}\ncatch(Exception e){\n    System.out.println(\"Fail\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12595330,"reputation":21,"user_id":9160198,"display_name":"Yaniv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515512728,"creation_date":1515507449,"answer_id":48170159,"question_id":12261014,"body_markdown":"First you need to close the stream which is written to the workBook:\r\n\r\n    workBook.write(outputStream);\r\n\r\n    outputStream.close();\r\n\r\nAfter that u should close the workBook (for no further operations) and dispose the temporary files:\r\n\r\n    //Close the workBook\r\n    workBook.close();\r\n\r\n    //deleting the temporary files\r\n    workBook.dispose();","title":"Close Filehandle for Workbook (apache poi)","body":"<p>First you need to close the stream which is written to the workBook:</p>\n\n<pre><code>workBook.write(outputStream);\n\noutputStream.close();\n</code></pre>\n\n<p>After that u should close the workBook (for no further operations) and dispose the temporary files:</p>\n\n<pre><code>//Close the workBook\nworkBook.close();\n\n//deleting the temporary files\nworkBook.dispose();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621931087,"creation_date":1621924790,"answer_id":67682885,"question_id":12261014,"body_markdown":"Just suffer from the same problem, as of 2021. :(, when using poi version 3.9. \r\n\r\nI just find that if we upgrade the poi version to 3.17 (in case you are still using Java 7, which poi version 4 or above only Support Java 8 or above), \r\n\r\nThen the Workbook will implement `AutoCloseable`. \r\n\r\nTherefore one can use `Try-With-Resources` block to auto close the File. \r\n\r\nHere is the demo code. \r\n\r\n```java\r\ntry (Workbook workbook = WorkbookFactory.create(new File(fileLocation))) {\r\n   // operate on the workbook here...\r\n}\r\n```\r\n\r\nWhich I think the above code is better than @Gagravarr solution, as it is copying what the create method do outside, which developer not familiar with poi library does not know what is it.  \r\n\r\n---\r\n\r\nP.S.\r\nIndeed this question is placed in bugzilla as a bug, see https://bz.apache.org/bugzilla/show_bug.cgi?id=56537, and is resolved and the code is merged in poi 3.11 or later. Therefore anyone having the same issue as we do, can have a look at it, and close the resources when finish using it. ","title":"Close Filehandle for Workbook (apache poi)","body":"<p>Just suffer from the same problem, as of 2021. :(, when using poi version 3.9.</p>\n<p>I just find that if we upgrade the poi version to 3.17 (in case you are still using Java 7, which poi version 4 or above only Support Java 8 or above),</p>\n<p>Then the Workbook will implement <code>AutoCloseable</code>.</p>\n<p>Therefore one can use <code>Try-With-Resources</code> block to auto close the File.</p>\n<p>Here is the demo code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Workbook workbook = WorkbookFactory.create(new File(fileLocation))) {\n   // operate on the workbook here...\n}\n</code></pre>\n<p>Which I think the above code is better than @Gagravarr solution, as it is copying what the create method do outside, which developer not familiar with poi library does not know what is it.</p>\n<hr />\n<p>P.S.\nIndeed this question is placed in bugzilla as a bug, see <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=56537\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=56537</a>, and is resolved and the code is merged in poi 3.11 or later. Therefore anyone having the same issue as we do, can have a look at it, and close the resources when finish using it.</p>\n"},{"tags":[],"owner":{"account_id":13268636,"reputation":125,"user_id":9580461,"display_name":"Biju Gopinathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634575547,"creation_date":1634337794,"answer_id":69591314,"question_id":12261014,"body_markdown":"I am using poi api version 5.0.0. The Workbook in this version has a close() method which as per the API document says:\r\n\r\n*&quot;Close the underlying input resource (File or Stream),from which the Workbook was read.&quot;*\r\n\r\n//Using try-catch-finally:\r\n\r\n    Workbook workbook = null;\r\n    try {\r\n    \tworkbook = WorkbookFactory.create(inputStream);\r\n    \t//....\r\n    } catch (IOException ex) {\r\n    \t//...\r\n    }finally {\r\n    \tworkbook.close();\r\n    }\r\n\r\n//Using try-with-resources:\r\n\r\n    try(Workbook workbook = WorkbookFactory.create(fileStream)) {\r\n        //....\r\n    } catch (IOException ex) {\r\n        //...\r\n    }","title":"Close Filehandle for Workbook (apache poi)","body":"<p>I am using poi api version 5.0.0. The Workbook in this version has a close() method which as per the API document says:</p>\n<p><em>&quot;Close the underlying input resource (File or Stream),from which the Workbook was read.&quot;</em></p>\n<p>//Using try-catch-finally:</p>\n<pre><code>Workbook workbook = null;\ntry {\n    workbook = WorkbookFactory.create(inputStream);\n    //....\n} catch (IOException ex) {\n    //...\n}finally {\n    workbook.close();\n}\n</code></pre>\n<p>//Using try-with-resources:</p>\n<pre><code>try(Workbook workbook = WorkbookFactory.create(fileStream)) {\n    //....\n} catch (IOException ex) {\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":94703,"reputation":4843,"user_id":258418,"accept_rate":77,"display_name":"ted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55123,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":12263649,"answer_count":6,"score":19,"last_activity_date":1641901946,"creation_date":1346752694,"question_id":12261014,"body_markdown":"I constructed a new Workbook using `WorkbookFactory.create(new File(&quot;path/to/xlsx&quot;))`. However, when I try to edit the File in Excel after starting the application, I get an error message that the file is in use. Do I have to free the file up, and if so, how? (I could not find anything like `Workbook.close()` in the api docs) Or do I have to look in other places?  \r\n\r\nI have no clue where else to look; the application does not cause these issues with csv and for excel files I simply call the converter (xls =&gt; csv) which is the only difference.\r\n\r\n(I am using POI 3.8)","title":"Close Filehandle for Workbook (apache poi)","body":"<p>I constructed a new Workbook using <code>WorkbookFactory.create(new File(\"path/to/xlsx\"))</code>. However, when I try to edit the File in Excel after starting the application, I get an error message that the file is in use. Do I have to free the file up, and if so, how? (I could not find anything like <code>Workbook.close()</code> in the api docs) Or do I have to look in other places?  </p>\n\n<p>I have no clue where else to look; the application does not cause these issues with csv and for excel files I simply call the converter (xls => csv) which is the only difference.</p>\n\n<p>(I am using POI 3.8)</p>\n"},{"tags":["java","spring","gradle"],"answers":[{"tags":[],"owner":{"account_id":17169547,"reputation":74,"user_id":12426952,"display_name":"Ervin Suriandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641901639,"creation_date":1641901639,"answer_id":70666273,"question_id":66366508,"body_markdown":"How about changing the whole URL, like this:\r\n```\r\ngradle bootRun --args=&#39;--spring.datasource.url=jdbc:mysql://someNewDB:3309?createDatabaseIfNotExist=true&amp;useSSL=true&#39;\r\n```\r\n\r\nreference: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application.passing-arguments","title":"Pass gradle command line arguments to application.properties","body":"<p>How about changing the whole URL, like this:</p>\n<pre><code>gradle bootRun --args='--spring.datasource.url=jdbc:mysql://someNewDB:3309?createDatabaseIfNotExist=true&amp;useSSL=true'\n</code></pre>\n<p>reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application.passing-arguments\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application.passing-arguments</a></p>\n"}],"owner":{"account_id":10619093,"reputation":95,"user_id":7820727,"display_name":"Eduard Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641901639,"creation_date":1614247893,"question_id":66366508,"body_markdown":"I have a Spring Boot Gradle application and many MySQL servers and databases. \r\nIn different scenarios, I want to start the application with different databases or create them if they do not exist. I want to use this mechanism with command line arguments. \r\nThe URL for database is stored in application.properties file of Spring:\r\n\r\n `spring.datasource.url=jdbc:mysql://localhost:3306/mydb1?createDatabaseIfNotExist=true&amp;useSSL=true`\r\n\r\n  I want to run gradle with command line arguments that will apply to the application.properties file so in my head will be something like this. \r\n\r\napplication.properties : \r\n`spring.datasource.url=jdbc:mysql://${linkNewDB}?createDatabaseIfNotExist=true&amp;useSSL=true`\r\n\r\nAnd to run the program as : \r\n`gradle bootRun -Pargs=--linkNewDB=&quot;someNewDB:3309&quot;`\r\n  \r\nDoes anybody know how can I achieve this mechanism? I tried different options but none of them worked. Thanks!","title":"Pass gradle command line arguments to application.properties","body":"<p>I have a Spring Boot Gradle application and many MySQL servers and databases.\nIn different scenarios, I want to start the application with different databases or create them if they do not exist. I want to use this mechanism with command line arguments.\nThe URL for database is stored in application.properties file of Spring:</p>\n<p><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb1?createDatabaseIfNotExist=true&amp;useSSL=true</code></p>\n<p>I want to run gradle with command line arguments that will apply to the application.properties file so in my head will be something like this.</p>\n<p>application.properties :\n<code>spring.datasource.url=jdbc:mysql://${linkNewDB}?createDatabaseIfNotExist=true&amp;useSSL=true</code></p>\n<p>And to run the program as :\n<code>gradle bootRun -Pargs=--linkNewDB=&quot;someNewDB:3309&quot;</code></p>\n<p>Does anybody know how can I achieve this mechanism? I tried different options but none of them worked. Thanks!</p>\n"},{"tags":["java","arrays","selenium","class","split"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1641897723,"post_id":70665361,"comment_id":124921956,"body_markdown":"[The Java™ Tutorials - Arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) (See part Creating, Initializing, and **Accessing an Array**)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials - Arrays</a> (See part Creating, Initializing, and <b>Accessing an Array</b>)"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1641898461,"post_id":70665361,"comment_id":124922275,"body_markdown":"Please follow Java naming conventions - you&#39;ll thank yourself when you&#39;re debugging your code in future. Variable names start with a lowercase letter.","body":"Please follow Java naming conventions - you&#39;ll thank yourself when you&#39;re debugging your code in future. Variable names start with a lowercase letter."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1643793125,"post_id":70665361,"comment_id":125430699,"body_markdown":"Not accepting answers is not something that will help you here","body":"Not accepting answers is not something that will help you here"}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641898618,"creation_date":1641898618,"answer_id":70665601,"question_id":70665361,"body_markdown":"See, this\r\n\r\n    SplittedValue\r\n\r\n \r\n\r\nis `string array`, and you can print array in multiple ways:\r\n\r\n\tString actualValue = driver.findElement(By.xpath(&quot;//&quot;)).getAttribute(&quot;class&quot;);\r\n\tString[] splittedValue = actualValue.split(&quot;&quot;);\r\n\t\t\r\n\tSystem.out.println(&quot;Length of array:&quot; + splittedValue.length);\r\n\tif (splittedValue.length &gt; 0) {\r\n\t\tfor(String str: splittedValue) {\r\n\t\t\t\tSystem.out.println(str);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(&quot;Since lenght is zero, split was not properly, you may wanna check what you are passing in split method&quot;);\r\n\t\t}\r\n\r\n\r\nNot sure why you are using split like this `split(&quot;&quot;)`, probably you are looking for this `split(&quot; &quot;)`\r\n\r\nAlso if you are sure about the string elements, then you can directly print\r\nthem like this (Not recommended):\r\n\r\n\r\n\tString actualValue = driver.findElement(By.xpath(&quot;//&quot;)).getAttribute(&quot;class&quot;);\r\n\tString[] splittedValue = actualValue.split(&quot; &quot;);\r\n\t\t\r\n\tSystem.out.println(splittedValue[0]);\r\n\tSystem.out.println(splittedValue[1]);\r\n","title":"How to print the specific element in the splitted values in selenium java","body":"<p>See, this</p>\n<pre><code>SplittedValue\n</code></pre>\n<p>is <code>string array</code>, and you can print array in multiple ways:</p>\n<pre><code>String actualValue = driver.findElement(By.xpath(&quot;//&quot;)).getAttribute(&quot;class&quot;);\nString[] splittedValue = actualValue.split(&quot;&quot;);\n    \nSystem.out.println(&quot;Length of array:&quot; + splittedValue.length);\nif (splittedValue.length &gt; 0) {\n    for(String str: splittedValue) {\n            System.out.println(str);\n    }\n}\nelse {\n    System.out.println(&quot;Since lenght is zero, split was not properly, you may wanna check what you are passing in split method&quot;);\n    }\n</code></pre>\n<p>Not sure why you are using split like this <code>split(&quot;&quot;)</code>, probably you are looking for this <code>split(&quot; &quot;)</code></p>\n<p>Also if you are sure about the string elements, then you can directly print\nthem like this (Not recommended):</p>\n<pre><code>String actualValue = driver.findElement(By.xpath(&quot;//&quot;)).getAttribute(&quot;class&quot;);\nString[] splittedValue = actualValue.split(&quot; &quot;);\n    \nSystem.out.println(splittedValue[0]);\nSystem.out.println(splittedValue[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641901603,"creation_date":1641901603,"answer_id":70666265,"question_id":70665361,"body_markdown":"You were close enough. Once you retrieve the value of _classname_ i.e. _`object_selected object_notselected`_ you can invoke [split()](https://stackoverflow.com/questions/50184440/split-text-within-span-if-there-is-an-img-tag-between-them-selenium-java/50187490#50187490) with respect to the space character as the delimiter as follows:\r\n\r\n\tString ActualValue = element.getAttribute(&quot;class&quot;);\r\n    // ActualValue = &quot;object_selected object_notselected&quot;\r\n\r\n\tString[] SplittedValue = ActualValue.split(&quot; &quot;);\r\n\r\n\t//printing object_selected\r\n\tSystem.out.println(SplittedValue[0]);\r\n\r\n\t//printing object_notselected\r\n\tSystem.out.println(SplittedValue[1]);","title":"How to print the specific element in the splitted values in selenium java","body":"<p>You were close enough. Once you retrieve the value of <em>classname</em> i.e. <em><code>object_selected object_notselected</code></em> you can invoke <a href=\"https://stackoverflow.com/questions/50184440/split-text-within-span-if-there-is-an-img-tag-between-them-selenium-java/50187490#50187490\">split()</a> with respect to the space character as the delimiter as follows:</p>\n<pre><code>String ActualValue = element.getAttribute(&quot;class&quot;);\n// ActualValue = &quot;object_selected object_notselected&quot;\n\nString[] SplittedValue = ActualValue.split(&quot; &quot;);\n\n//printing object_selected\nSystem.out.println(SplittedValue[0]);\n\n//printing object_notselected\nSystem.out.println(SplittedValue[1]);\n</code></pre>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1641901603,"creation_date":1641897574,"question_id":70665361,"body_markdown":"    String ActualValue = element.getAttribute(&quot;class&quot;);\r\n    String[] SplittedValue =ActualValue.split(&quot;&quot;);\r\n\r\n**Output:** `object_selected object_notselected`\r\n\r\n\r\nHow to print the value `object_selection` in `System.out.println(&quot; &quot;);`\r\n\r\n\r\n","title":"How to print the specific element in the splitted values in selenium java","body":"<pre><code>String ActualValue = element.getAttribute(&quot;class&quot;);\nString[] SplittedValue =ActualValue.split(&quot;&quot;);\n</code></pre>\n<p><strong>Output:</strong> <code>object_selected object_notselected</code></p>\n<p>How to print the value <code>object_selection</code> in <code>System.out.println(&quot; &quot;);</code></p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":17787616,"reputation":184,"user_id":13439847,"display_name":"BETOMBO"},"score":0,"creation_date":1641877760,"post_id":70661861,"comment_id":124915820,"body_markdown":"what do you mean by properties file, give us an example?","body":"what do you mean by properties file, give us an example?"},{"owner":{"account_id":20219356,"reputation":19,"user_id":14829286,"display_name":"Arundhati 99"},"score":0,"creation_date":1641877939,"post_id":70661861,"comment_id":124915857,"body_markdown":"The properties object contains key and value pair both as a string.It can be used to get property value based on the property key. The Properties class provides methods to get data from the properties file and store data into the properties file. Moreover, it can be used to get the properties of a system. For eg\ndb.properties\nuser=system  \npassword=oracle  \nSystem.out.println(p.getProperty(&quot;user&quot;));  \n    System.out.println(p.getProperty(&quot;password&quot;));","body":"The properties object contains key and value pair both as a string.It can be used to get property value based on the property key. The Properties class provides methods to get data from the properties file and store data into the properties file. Moreover, it can be used to get the properties of a system. For eg db.properties user=system   password=oracle   System.out.println(p.getProperty(&quot;user&quot;));       System.out.println(p.getProperty(&quot;password&quot;));"},{"owner":{"account_id":17787616,"reputation":184,"user_id":13439847,"display_name":"BETOMBO"},"score":0,"creation_date":1641878209,"post_id":70661861,"comment_id":124915900,"body_markdown":"So you need a hashmap that read a file. Then use this hashmap to get property from key. Am i right?","body":"So you need a hashmap that read a file. Then use this hashmap to get property from key. Am i right?"},{"owner":{"account_id":20219356,"reputation":19,"user_id":14829286,"display_name":"Arundhati 99"},"score":0,"creation_date":1641878433,"post_id":70661861,"comment_id":124915946,"body_markdown":"yes that&#39;s what i want","body":"yes that&#39;s what i want"}],"answers":[{"tags":[],"owner":{"account_id":17787616,"reputation":184,"user_id":13439847,"display_name":"BETOMBO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641880953,"creation_date":1641880516,"answer_id":70662221,"question_id":70661861,"body_markdown":"What you need to do is to use an object as a Map to contain your key value by language. Then you create a function to get the language value from it as follow:\r\n\r\n      \r\n    /*Populate your hasmap*/\r\n    var languageMap={};\r\n    \r\n    \r\n    //for En language\r\n    languageMap[&quot;EN&quot;] = {};\r\n    languageMap[&quot;EN&quot;][&quot;user&quot;] = &quot;User&quot;;\r\n    languageMap[&quot;EN&quot;][&quot;name&quot;] = &quot;Name&quot;;\r\n    \r\n    //for FR language\r\n    languageMap[&quot;FR&quot;] = {};\r\n    languageMap[&quot;FR&quot;][&quot;user&quot;] = &quot;Utilisateur&quot;;\r\n    languageMap[&quot;FR&quot;][&quot;name&quot;] = &quot;Nom&quot;;\r\n    \r\n    \r\n    //then you create a function to get the translation\r\n    function GetTransaltion(key, language){\r\n        var hasLanguage = Object.keys(languageMap).includes(language);\r\n        if(!hasLanguage){\r\n            console.warn(&quot;The language &quot; + language + &quot; is not available&quot;);\r\n            return key;\r\n        }\r\n        var haskey = Object.keys(languageMap[language]).includes(key);\r\n        if(!haskey){\r\n            console.warn(&quot;The key &quot; + key + &quot; is not available in language &quot; + language);\r\n            return key;\r\n        }\r\n        return languageMap[language][key];\r\n    }\r\n    \r\n    \r\n    //so when you get info from EN language of User you have \r\n    GetTransaltion(&quot;user&quot;, &quot;EN&quot;); \r\n    \r\n    //so when you get info from FR language of User you have \r\n    GetTransaltion(&quot;user&quot;, &quot;FR&quot;); \r\n\r\n\r\n","title":"How can we use properties file in js file","body":"<p>What you need to do is to use an object as a Map to contain your key value by language. Then you create a function to get the language value from it as follow:</p>\n<pre><code>/*Populate your hasmap*/\nvar languageMap={};\n\n\n//for En language\nlanguageMap[&quot;EN&quot;] = {};\nlanguageMap[&quot;EN&quot;][&quot;user&quot;] = &quot;User&quot;;\nlanguageMap[&quot;EN&quot;][&quot;name&quot;] = &quot;Name&quot;;\n\n//for FR language\nlanguageMap[&quot;FR&quot;] = {};\nlanguageMap[&quot;FR&quot;][&quot;user&quot;] = &quot;Utilisateur&quot;;\nlanguageMap[&quot;FR&quot;][&quot;name&quot;] = &quot;Nom&quot;;\n\n\n//then you create a function to get the translation\nfunction GetTransaltion(key, language){\n    var hasLanguage = Object.keys(languageMap).includes(language);\n    if(!hasLanguage){\n        console.warn(&quot;The language &quot; + language + &quot; is not available&quot;);\n        return key;\n    }\n    var haskey = Object.keys(languageMap[language]).includes(key);\n    if(!haskey){\n        console.warn(&quot;The key &quot; + key + &quot; is not available in language &quot; + language);\n        return key;\n    }\n    return languageMap[language][key];\n}\n\n\n//so when you get info from EN language of User you have \nGetTransaltion(&quot;user&quot;, &quot;EN&quot;); \n\n//so when you get info from FR language of User you have \nGetTransaltion(&quot;user&quot;, &quot;FR&quot;); \n</code></pre>\n"}],"owner":{"account_id":20219356,"reputation":19,"user_id":14829286,"display_name":"Arundhati 99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1641900985,"creation_date":1641877377,"question_id":70661861,"body_markdown":"I wanted to use properties file in my js file i don&#39;t know how to do that \r\nThis is my js file code \r\n\r\n    document.getElementById(&quot;Expedite&quot;).innerHTML = &quot;Quickship Expedite : &quot; + qsExpedPer\r\n    \t\t\t\t\t\t\t\t\t\t\t\t+ &quot;%&quot;;\r\n\r\nin place of innerHTML= &quot;here&quot; i want my properties file text how can i do this this is there any other method to do that \r\nWhat i am doing here is i want to change this Quickship Expedite in 9 languages i have different properties file for that but i dont know hoe to use properties file in js.\r\nsomeone please help. ","title":"How can we use properties file in js file","body":"<p>I wanted to use properties file in my js file i don't know how to do that\nThis is my js file code</p>\n<pre><code>document.getElementById(&quot;Expedite&quot;).innerHTML = &quot;Quickship Expedite : &quot; + qsExpedPer\n                                                + &quot;%&quot;;\n</code></pre>\n<p>in place of innerHTML= &quot;here&quot; i want my properties file text how can i do this this is there any other method to do that\nWhat i am doing here is i want to change this Quickship Expedite in 9 languages i have different properties file for that but i dont know hoe to use properties file in js.\nsomeone please help.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":0,"creation_date":1378208666,"post_id":18590901,"comment_id":27359444,"body_markdown":"If you want to extract the first number, not just the digit from the input string, see my answer.","body":"If you want to extract the first number, not just the digit from the input string, see my answer."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1378207456,"creation_date":1378207076,"answer_id":18590927,"question_id":18590901,"body_markdown":"Try the following pattern:\r\n\r\n    .matches(&quot;[a-zA-Z ]*\\\\d+.*&quot;)","title":"Check and extract a number from a String in Java","body":"<p>Try the following pattern:</p>\n\n<pre><code>.matches(\"[a-zA-Z ]*\\\\d+.*\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":283,"is_accepted":false,"score":283,"last_activity_date":1552516937,"creation_date":1378207142,"answer_id":18590949,"question_id":18590901,"body_markdown":"try this \r\n\r\n    str.matches(&quot;.*\\\\d.*&quot;);","title":"Check and extract a number from a String in Java","body":"<p>try this </p>\n\n<pre><code>str.matches(\".*\\\\d.*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1378207210,"creation_date":1378207210,"answer_id":18590971,"question_id":18590901,"body_markdown":"    Pattern p = Pattern.compile(&quot;(([A-Z].*[0-9])&quot;);\r\n    Matcher m = p.matcher(&quot;TEST 123&quot;);\r\n    boolean b = m.find();\r\n    System.out.println(b);","title":"Check and extract a number from a String in Java","body":"<pre><code>Pattern p = Pattern.compile(\"(([A-Z].*[0-9])\");\nMatcher m = p.matcher(\"TEST 123\");\nboolean b = m.find();\nSystem.out.println(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378207363,"creation_date":1378207363,"answer_id":18591017,"question_id":18590901,"body_markdown":"You can try this\r\n\r\n    String text = &quot;ddd123.0114cc&quot;;\r\n        String numOnly = text.replaceAll(&quot;\\\\p{Alpha}&quot;,&quot;&quot;);\r\n        try {\r\n            double numVal = Double.valueOf(numOnly);\r\n            System.out.println(text +&quot; contains numbers&quot;);\r\n        } catch (NumberFormatException e){\r\n            System.out.println(text+&quot; not contains numbers&quot;);\r\n        }     ","title":"Check and extract a number from a String in Java","body":"<p>You can try this</p>\n\n<pre><code>String text = \"ddd123.0114cc\";\n    String numOnly = text.replaceAll(\"\\\\p{Alpha}\",\"\");\n    try {\n        double numVal = Double.valueOf(numOnly);\n        System.out.println(text +\" contains numbers\");\n    } catch (NumberFormatException e){\n        System.out.println(text+\" not contains numbers\");\n    }     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378207785,"creation_date":1378207785,"answer_id":18591157,"question_id":18590901,"body_markdown":"As you don&#39;t only want to look for a number but also extract it, you should write a small function doing that for you. Go letter by letter till you spot a digit. Ah, just found the necessary code for you on stackoverflow: [find integer in string][1]. Look at the accepted answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9742680/given-a-string-find-the-first-embedded-occurrence-of-an-integer","title":"Check and extract a number from a String in Java","body":"<p>As you don't only want to look for a number but also extract it, you should write a small function doing that for you. Go letter by letter till you spot a digit. Ah, just found the necessary code for you on stackoverflow: <a href=\"https://stackoverflow.com/questions/9742680/given-a-string-find-the-first-embedded-occurrence-of-an-integer\">find integer in string</a>. Look at the accepted answer.</p>\n"},{"tags":[],"owner":{"account_id":3249338,"reputation":2505,"user_id":2740071,"accept_rate":80,"display_name":"Melih Altıntaş"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1378209531,"creation_date":1378207911,"answer_id":18591205,"question_id":18590901,"body_markdown":"I think it is faster than regex .\r\n\r\n    public final boolean containsDigit(String s) {\r\n        boolean containsDigit = false;\r\n\r\n        if (s != null &amp;&amp; !s.isEmpty()) {\r\n            for (char c : s.toCharArray()) {\r\n                if (containsDigit = Character.isDigit(c)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return containsDigit;\r\n    }\r\n ","title":"Check and extract a number from a String in Java","body":"<p>I think it is faster than regex .</p>\n\n<pre><code>public final boolean containsDigit(String s) {\n    boolean containsDigit = false;\n\n    if (s != null &amp;&amp; !s.isEmpty()) {\n        for (char c : s.toCharArray()) {\n            if (containsDigit = Character.isDigit(c)) {\n                break;\n            }\n        }\n    }\n\n    return containsDigit;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1378208302,"creation_date":1378208302,"answer_id":18591352,"question_id":18590901,"body_markdown":"If you want to extract the first number out of the input string, you can do-\n\n    public static String extractNumber(final String str) {                \n        \n        if(str == null || str.isEmpty()) return &quot;&quot;;\n        \n        StringBuilder sb = new StringBuilder();\n        boolean found = false;\n        for(char c : str.toCharArray()){\n            if(Character.isDigit(c)){\n                sb.append(c);\n                found = true;\n            } else if(found){\n                // If we already found a digit before and this char is not a digit, stop looping\n                break;                \n            }\n        }\n        \n        return sb.toString();\n    }\n\nExamples:\n\n&gt; For input &quot;123abc&quot;, the method above will return 123. \n&gt;\n&gt; For &quot;abc1000def&quot;, 1000. \n&gt;\n&gt; For &quot;555abc45&quot;, 555. \n&gt;\n&gt; For &quot;abc&quot;, will return an empty string.","title":"Check and extract a number from a String in Java","body":"<p>If you want to extract the first number out of the input string, you can do-</p>\n<pre><code>public static String extractNumber(final String str) {                \n    \n    if(str == null || str.isEmpty()) return &quot;&quot;;\n    \n    StringBuilder sb = new StringBuilder();\n    boolean found = false;\n    for(char c : str.toCharArray()){\n        if(Character.isDigit(c)){\n            sb.append(c);\n            found = true;\n        } else if(found){\n            // If we already found a digit before and this char is not a digit, stop looping\n            break;                \n        }\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n<p>Examples:</p>\n<blockquote>\n<p>For input &quot;123abc&quot;, the method above will return 123.</p>\n<p>For &quot;abc1000def&quot;, 1000.</p>\n<p>For &quot;555abc45&quot;, 555.</p>\n<p>For &quot;abc&quot;, will return an empty string.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2103370,"reputation":1980,"user_id":1870369,"accept_rate":78,"display_name":"Duane"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1522879841,"creation_date":1378209396,"answer_id":18591739,"question_id":18590901,"body_markdown":"The solution I went with looks like this:\r\n\r\n    Pattern numberPat = Pattern.compile(&quot;\\\\d+&quot;);\r\n\tMatcher matcher1 = numberPat.matcher(line);\r\n\r\n\tPattern stringPat = Pattern.compile(&quot;What is the square of&quot;, Pattern.CASE_INSENSITIVE);\r\n\tMatcher matcher2 = stringPat.matcher(line);\r\n\t\t\t\r\n\tif (matcher1.find() &amp;&amp; matcher2.find())\r\n\t{\r\n\t\tint number = Integer.parseInt(matcher1.group());\t\t\t\t\t\r\n\t\tpw.println(number + &quot; squared = &quot; + (number * number));\r\n\t}\r\n\r\nI&#39;m sure it&#39;s not a perfect solution, but it suited my needs. Thank you all for the help. :)","title":"Check and extract a number from a String in Java","body":"<p>The solution I went with looks like this:</p>\n\n<pre><code>Pattern numberPat = Pattern.compile(\"\\\\d+\");\nMatcher matcher1 = numberPat.matcher(line);\n\nPattern stringPat = Pattern.compile(\"What is the square of\", Pattern.CASE_INSENSITIVE);\nMatcher matcher2 = stringPat.matcher(line);\n\nif (matcher1.find() &amp;&amp; matcher2.find())\n{\n    int number = Integer.parseInt(matcher1.group());                    \n    pw.println(number + \" squared = \" + (number * number));\n}\n</code></pre>\n\n<p>I'm sure it's not a perfect solution, but it suited my needs. Thank you all for the help. :)</p>\n"},{"tags":[],"owner":{"account_id":4231955,"reputation":129,"user_id":3464101,"display_name":"Narendra"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1395837280,"creation_date":1395836069,"answer_id":22660718,"question_id":18590901,"body_markdown":"The code below is enough for &quot;Check if a String contains numbers in Java&quot;\r\n\r\n    Pattern p = Pattern.compile(&quot;([0-9])&quot;);\r\n    Matcher m = p.matcher(&quot;Here is ur string&quot;);\r\n    \r\n    if(m.find()){\r\n        System.out.println(&quot;Hello &quot;+m.find());\r\n    }","title":"Check and extract a number from a String in Java","body":"<p>The code below is enough for \"Check if a String contains numbers in Java\"</p>\n\n<pre><code>Pattern p = Pattern.compile(\"([0-9])\");\nMatcher m = p.matcher(\"Here is ur string\");\n\nif(m.find()){\n    System.out.println(\"Hello \"+m.find());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4392608,"reputation":644,"user_id":3580548,"accept_rate":60,"display_name":"Mallikarjuna Sangisetty"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1469458051,"creation_date":1400931032,"answer_id":23844475,"question_id":18590901,"body_markdown":"`s=s.replaceAll(&quot;[*a-zA-Z]&quot;, &quot;&quot;)` replaces all alphabets\r\n\r\n`s=s.replaceAll(&quot;[*0-9]&quot;, &quot;&quot;)`  replaces all numerics\r\n\r\nif you do above two replaces you will get all special charactered string\r\n\r\nIf you want to extract only integers from a `String s=s.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)`\r\n\r\nIf you want to extract only Alphabets from a `String s=s.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;)`\r\n\r\nHappy coding :)","title":"Check and extract a number from a String in Java","body":"<p><code>s=s.replaceAll(\"[*a-zA-Z]\", \"\")</code> replaces all alphabets</p>\n\n<p><code>s=s.replaceAll(\"[*0-9]\", \"\")</code>  replaces all numerics</p>\n\n<p>if you do above two replaces you will get all special charactered string</p>\n\n<p>If you want to extract only integers from a <code>String s=s.replaceAll(\"[^0-9]\", \"\")</code></p>\n\n<p>If you want to extract only Alphabets from a <code>String s=s.replaceAll(\"[^a-zA-Z]\", \"\")</code></p>\n\n<p>Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":8636305,"reputation":29,"user_id":6466373,"display_name":"eyad david"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1465937268,"creation_date":1465934268,"answer_id":37820999,"question_id":18590901,"body_markdown":"    public String hasNums(String str) {\r\n    \t\tchar[] nums = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n    \t\tchar[] toChar = new char[str.length()];\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\ttoChar[i] = str.charAt(i);\r\n    \t\t\tfor (int j = 0; j &lt; nums.length; j++) {\r\n    \t\t\t\tif (toChar[i] == nums[j]) { return str; }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn &quot;None&quot;;\r\n    \t}","title":"Check and extract a number from a String in Java","body":"<pre><code>public String hasNums(String str) {\n        char[] nums = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n        char[] toChar = new char[str.length()];\n        for (int i = 0; i &lt; str.length(); i++) {\n            toChar[i] = str.charAt(i);\n            for (int j = 0; j &lt; nums.length; j++) {\n                if (toChar[i] == nums[j]) { return str; }\n            }\n        }\n        return \"None\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10899271,"reputation":71,"user_id":8012051,"display_name":"Rickyras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494923048,"creation_date":1494870689,"answer_id":43985834,"question_id":18590901,"body_markdown":"`.matches(&quot;.*\\\\d+.*&quot;)` only works for numbers but not other symbols like `//` or `*` etc. ","title":"Check and extract a number from a String in Java","body":"<p><code>.matches(\".*\\\\d+.*\")</code> only works for numbers but not other symbols like <code>//</code> or <code>*</code> etc. </p>\n"},{"tags":[],"owner":{"account_id":11501829,"reputation":13,"user_id":8429423,"display_name":"Brad Yuan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522879820,"creation_date":1502116795,"answer_id":45549598,"question_id":18590901,"body_markdown":"ASCII is at the start of UNICODE, so you can do something like this:\r\n\r\n    (x &gt;= 97 &amp;&amp; x &lt;= 122) || (x &gt;= 65 &amp;&amp; x &lt;= 90) // 97 == &#39;a&#39; and 65 = &#39;A&#39;\r\n\r\nI&#39;m sure you can figure out the other values...","title":"Check and extract a number from a String in Java","body":"<p>ASCII is at the start of UNICODE, so you can do something like this:</p>\n\n<pre><code>(x &gt;= 97 &amp;&amp; x &lt;= 122) || (x &gt;= 65 &amp;&amp; x &lt;= 90) // 97 == 'a' and 65 = 'A'\n</code></pre>\n\n<p>I'm sure you can figure out the other values...</p>\n"},{"tags":[],"owner":{"account_id":3627323,"reputation":3688,"user_id":3024565,"accept_rate":80,"display_name":"Ishaan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1506353852,"creation_date":1506353852,"answer_id":46409058,"question_id":18590901,"body_markdown":"I could not find a single pattern correct.\r\nPlease follow below guide for a small and sweet solution.\r\n\r\n    String regex = &quot;(.)*(\\\\d)(.)*&quot;;      \r\n    Pattern pattern = Pattern.compile(regex);\r\n    String msg = &quot;What is the square of 10?&quot;;\r\n    boolean containsNumber = pattern.matcher(msg).matches();","title":"Check and extract a number from a String in Java","body":"<p>I could not find a single pattern correct.\nPlease follow below guide for a small and sweet solution.</p>\n\n<pre><code>String regex = \"(.)*(\\\\d)(.)*\";      \nPattern pattern = Pattern.compile(regex);\nString msg = \"What is the square of 10?\";\nboolean containsNumber = pattern.matcher(msg).matches();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603366268,"creation_date":1603366268,"answer_id":64481312,"question_id":18590901,"body_markdown":"Below code snippet will tell whether the String contains digit or not\r\n\r\n    str.matches(&quot;.*\\\\d.*&quot;)\r\n    or\r\n    str.matches(.*[0-9].*)\r\n\r\n\r\n**For example**\r\n\r\n    String str = &quot;abhinav123&quot;;\r\n    \r\n    str.matches(&quot;.*\\\\d.*&quot;) or str.matches(.*[0-9].*)  will return true \r\n    \r\n    str = &quot;abhinav&quot;;\r\n    \r\n    str.matches(&quot;.*\\\\d.*&quot;) or str.matches(.*[0-9].*)  will return false","title":"Check and extract a number from a String in Java","body":"<p>Below code snippet will tell whether the String contains digit or not</p>\n<pre><code>str.matches(&quot;.*\\\\d.*&quot;)\nor\nstr.matches(.*[0-9].*)\n</code></pre>\n<p><strong>For example</strong></p>\n<pre><code>String str = &quot;abhinav123&quot;;\n\nstr.matches(&quot;.*\\\\d.*&quot;) or str.matches(.*[0-9].*)  will return true \n\nstr = &quot;abhinav&quot;;\n\nstr.matches(&quot;.*\\\\d.*&quot;) or str.matches(.*[0-9].*)  will return false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610097523,"creation_date":1610097523,"answer_id":65626296,"question_id":18590901,"body_markdown":"As I was redirected here searching for a method to find digits in string in `Kotlin` language, I&#39;ll leave my findings here for other folks wanting a solution specific to Kotlin.\r\n\r\nFinding out if a string contains digit:\r\n\r\n    val hasDigits = sampleString.any { it.isDigit() }\r\n\r\nFinding out if a string contains **only** digits:\r\n\r\n    val hasOnlyDigits = sampleString.all { it.isDigit() }\r\n\r\nExtract digits from string:\r\n\r\n    val onlyNumberString = sampleString.filter { it.isDigit() }\r\n\r\n\r\n\r\n","title":"Check and extract a number from a String in Java","body":"<p>As I was redirected here searching for a method to find digits in string in <code>Kotlin</code> language, I'll leave my findings here for other folks wanting a solution specific to Kotlin.</p>\n<p>Finding out if a string contains digit:</p>\n<pre><code>val hasDigits = sampleString.any { it.isDigit() }\n</code></pre>\n<p>Finding out if a string contains <strong>only</strong> digits:</p>\n<pre><code>val hasOnlyDigits = sampleString.all { it.isDigit() }\n</code></pre>\n<p>Extract digits from string:</p>\n<pre><code>val onlyNumberString = sampleString.filter { it.isDigit() }\n</code></pre>\n"}],"owner":{"account_id":2103370,"reputation":1980,"user_id":1870369,"accept_rate":78,"display_name":"Duane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447492,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"accepted_answer_id":18591739,"answer_count":16,"score":131,"last_activity_date":1641900738,"creation_date":1378207010,"question_id":18590901,"body_markdown":"I&#39;m writing a program where the user enters a String in the following format: \r\n\r\n    &quot;What is the square of 10?&quot;\r\n\r\n 1. I need to check that there is a number in the String \r\n 2. and then extract just the number. \r\n 3. If i use `.contains(&quot;\\\\d+&quot;)` or `.contains(&quot;[0-9]+&quot;)`, the program can&#39;t find a number in the String, no matter what the input is, but `.matches(&quot;\\\\d+&quot;)`will only work when there is only numbers.\r\n\r\nWhat can I use as a solution for finding and extracting?","title":"Check and extract a number from a String in Java","body":"<p>I'm writing a program where the user enters a String in the following format: </p>\n\n<pre><code>\"What is the square of 10?\"\n</code></pre>\n\n<ol>\n<li>I need to check that there is a number in the String </li>\n<li>and then extract just the number. </li>\n<li>If i use <code>.contains(\"\\\\d+\")</code> or <code>.contains(\"[0-9]+\")</code>, the program can't find a number in the String, no matter what the input is, but <code>.matches(\"\\\\d+\")</code>will only work when there is only numbers.</li>\n</ol>\n\n<p>What can I use as a solution for finding and extracting?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1641898022,"post_id":70665439,"comment_id":124922099,"body_markdown":"Gson should support custom names with annotations. Search on google. Maybe this https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html.","body":"Gson should support custom names with annotations. Search on google. Maybe this <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gs&zwnj;&#8203;on/&hellip;</a>."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641898990,"post_id":70665439,"comment_id":124922466,"body_markdown":"Are those names hardcodeable? I don&#39;t think so. Have you heard of `java.util.Map`?","body":"Are those names hardcodeable? I don&#39;t think so. Have you heard of <code>java.util.Map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14447918,"reputation":64,"user_id":10436446,"display_name":"Peter Malcovsky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1641900719,"creation_date":1641900719,"answer_id":70666067,"question_id":70665439,"body_markdown":"I hope you can utilize custom deserializers here\r\n\r\nregister them for Gson like this:\r\n```\r\nGsonBuilder gsonBldr = new GsonBuilder();\r\ngsonBldr.registerTypeAdapter(Price.class, new PriceCustomDeserializer());\r\ngsonBldr.registerTypeAdapter(Wallet.class, new WalletCustomDeserializer());\r\ngsonBldr.registerTypeAdapter(Currencies.class, new CurrenciesCustomDeserializer());\r\n```\r\n\r\nand deserializers implementation:\r\n\r\n```\r\npublic class PriceCustomDeserializer implements JsonDeserializer&lt;Price&gt; {\r\n\r\n    @Override\r\n    public Price deserialize\r\n      (JsonElement jElement, Type typeOfT, JsonDeserializationContext context) \r\n      throws JsonParseException {\r\n        JsonObject jObject = jElement.getAsJsonObject();\r\n        //parse 3 values (without names) from json by order \r\n    }\r\n}\r\n\r\n//add remaining 2 deserializers \r\n```","title":"Deserializing json with GSON in Java","body":"<p>I hope you can utilize custom deserializers here</p>\n<p>register them for Gson like this:</p>\n<pre><code>GsonBuilder gsonBldr = new GsonBuilder();\ngsonBldr.registerTypeAdapter(Price.class, new PriceCustomDeserializer());\ngsonBldr.registerTypeAdapter(Wallet.class, new WalletCustomDeserializer());\ngsonBldr.registerTypeAdapter(Currencies.class, new CurrenciesCustomDeserializer());\n</code></pre>\n<p>and deserializers implementation:</p>\n<pre><code>public class PriceCustomDeserializer implements JsonDeserializer&lt;Price&gt; {\n\n    @Override\n    public Price deserialize\n      (JsonElement jElement, Type typeOfT, JsonDeserializationContext context) \n      throws JsonParseException {\n        JsonObject jObject = jElement.getAsJsonObject();\n        //parse 3 values (without names) from json by order \n    }\n}\n\n//add remaining 2 deserializers \n</code></pre>\n"}],"owner":{"account_id":14020278,"reputation":56,"user_id":12267765,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70666067,"answer_count":1,"score":0,"last_activity_date":1641900719,"creation_date":1641897897,"question_id":70665439,"body_markdown":"I have Json\r\n\r\n    {&quot;0x3b198e26e473b8fab2085b37978e36c9de5d7f68&quot;:{&quot;usd&quot;:541.56},&quot;0x54523d5fb56803bac758e8b10b321748a77ae9e9&quot;:{&quot;usd&quot;:0.059097},&quot;0x330540a9d998442dcbc396165d3ddc5052077bb1&quot;:{&quot;usd&quot;:1.649e-09}}\r\n\r\nNext, I am using gson trying to convert json to price object\r\n\r\n            RequestEntity requestEntity = new RequestEntity(requestHeaders, HttpMethod.valueOf(&quot;GET&quot;), uri);\r\n            restTemplate.exchange(requestEntity, String.class);\r\n            ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(requestEntity, String.class);\r\n            String response = responseEntity.getBody();\r\n            System.out.println(response);\r\n\r\n            Gson gson = new Gson();\r\n            Price price = gson.fromJson(response, Price.class);\r\n\r\n**Price.java**\r\n\r\n  \r\n\r\n      public class Price {\r\n            private Wallet wallet;\r\n            private Wallet token;\r\n            private Wallet contract;\r\n        \r\n            public Wallet getWallet() {\r\n                return wallet;\r\n            }\r\n        \r\n            public void setWallet(Wallet wallet) {\r\n                this.wallet = wallet;\r\n            }\r\n        \r\n            public Wallet getToken() {\r\n                return token;\r\n            }\r\n        \r\n            public void setToken(Wallet token) {\r\n                this.token = token;\r\n            }\r\n        \r\n            public Wallet getContract() {\r\n                return contract;\r\n            }\r\n        \r\n            public void setContract(Wallet contract) {\r\n                this.contract = contract;\r\n            }\r\n        }\r\n    \r\n**Wallet.java**\r\n    \r\n    public class Wallet {\r\n        private Currencies currencies;\r\n    \r\n        public Currencies getCurrencies() {\r\n            return currencies;\r\n        }\r\n    \r\n        public void setCurrencies(Currencies currencies) {\r\n            this.currencies = currencies;\r\n        }\r\n    }\r\n\r\n**Currencies.java**\r\n\r\n    public class Currencies {\r\n        String currency;\r\n        Integer value;\r\n    \r\n        public String getCurrency() {\r\n            return currency;\r\n        }\r\n    \r\n        public void setCurrency(String currency) {\r\n            this.currency = currency;\r\n        }\r\n    \r\n        public Integer getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(Integer value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n\r\nI need to name the class fields &quot;**0x3b198e26e473b8fab2085b37978e36c9de5d7f68**&quot;, &quot;**0x54523d5fb56803bac758e8b10b321748a77ae9e9**&quot; and &quot;**0x330540a9d998442dcbc396165d3dbb150**&quot;? If so, these are not valid names.\r\n\r\nOtherwise I get null when calling\r\n\r\n            System.out.println(price.getWallet());","title":"Deserializing json with GSON in Java","body":"<p>I have Json</p>\n<pre><code>{&quot;0x3b198e26e473b8fab2085b37978e36c9de5d7f68&quot;:{&quot;usd&quot;:541.56},&quot;0x54523d5fb56803bac758e8b10b321748a77ae9e9&quot;:{&quot;usd&quot;:0.059097},&quot;0x330540a9d998442dcbc396165d3ddc5052077bb1&quot;:{&quot;usd&quot;:1.649e-09}}\n</code></pre>\n<p>Next, I am using gson trying to convert json to price object</p>\n<pre><code>        RequestEntity requestEntity = new RequestEntity(requestHeaders, HttpMethod.valueOf(&quot;GET&quot;), uri);\n        restTemplate.exchange(requestEntity, String.class);\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(requestEntity, String.class);\n        String response = responseEntity.getBody();\n        System.out.println(response);\n\n        Gson gson = new Gson();\n        Price price = gson.fromJson(response, Price.class);\n</code></pre>\n<p><strong>Price.java</strong></p>\n<pre><code>  public class Price {\n        private Wallet wallet;\n        private Wallet token;\n        private Wallet contract;\n    \n        public Wallet getWallet() {\n            return wallet;\n        }\n    \n        public void setWallet(Wallet wallet) {\n            this.wallet = wallet;\n        }\n    \n        public Wallet getToken() {\n            return token;\n        }\n    \n        public void setToken(Wallet token) {\n            this.token = token;\n        }\n    \n        public Wallet getContract() {\n            return contract;\n        }\n    \n        public void setContract(Wallet contract) {\n            this.contract = contract;\n        }\n    }\n</code></pre>\n<p><strong>Wallet.java</strong></p>\n<pre><code>public class Wallet {\n    private Currencies currencies;\n\n    public Currencies getCurrencies() {\n        return currencies;\n    }\n\n    public void setCurrencies(Currencies currencies) {\n        this.currencies = currencies;\n    }\n}\n</code></pre>\n<p><strong>Currencies.java</strong></p>\n<pre><code>public class Currencies {\n    String currency;\n    Integer value;\n\n    public String getCurrency() {\n        return currency;\n    }\n\n    public void setCurrency(String currency) {\n        this.currency = currency;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    public void setValue(Integer value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>I need to name the class fields &quot;<strong>0x3b198e26e473b8fab2085b37978e36c9de5d7f68</strong>&quot;, &quot;<strong>0x54523d5fb56803bac758e8b10b321748a77ae9e9</strong>&quot; and &quot;<strong>0x330540a9d998442dcbc396165d3dbb150</strong>&quot;? If so, these are not valid names.</p>\n<p>Otherwise I get null when calling</p>\n<pre><code>        System.out.println(price.getWallet());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1641900084,"post_id":70665798,"comment_id":124922841,"body_markdown":"Can `static` (statically dispatched) methods be virtually overridden (virtually dispatched)? I **guess** no... Additionally, the Spring Framework (sometimes) uses a stupid strategy of making utility classes `abstract` not making their constructor `private` (hence not throwing an instantiation exception) letting users to extend them, literally, with no sense of doing that. In short, you can&#39;t &quot;replace&quot; statically dispatched methods (unless you replace class files). Period. What you need is extending a CORS-aware filter (if there&#39;s any, no clue) and override the methods from that class.","body":"Can <code>static</code> (statically dispatched) methods be virtually overridden (virtually dispatched)? I <b>guess</b> no... Additionally, the Spring Framework (sometimes) uses a stupid strategy of making utility classes <code>abstract</code> not making their constructor <code>private</code> (hence not throwing an instantiation exception) letting users to extend them, literally, with no sense of doing that. In short, you can&#39;t &quot;replace&quot; statically dispatched methods (unless you replace class files). Period. What you need is extending a CORS-aware filter (if there&#39;s any, no clue) and override the methods from that class."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641900315,"post_id":70665798,"comment_id":124922928,"body_markdown":"Not sure how close your problem is to what I worked with everytime I configured CORS for Spring MVC apps, but it looks like you&#39;re actually looking for something like the following: https://stackoverflow.com/questions/40418441/spring-security-cors-filter","body":"Not sure how close your problem is to what I worked with everytime I configured CORS for Spring MVC apps, but it looks like you&#39;re actually looking for something like the following: <a href=\"https://stackoverflow.com/questions/40418441/spring-security-cors-filter\" title=\"spring security cors filter\">stackoverflow.com/questions/40418441/&hellip;</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1641901482,"post_id":70665798,"comment_id":124923363,"body_markdown":"This is the issue that I want to solve: https://github.com/spring-cloud/spring-cloud-gateway/issues/830","body":"This is the issue that I want to solve: <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/830\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/issues/830</a>"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1641902604,"post_id":70665798,"comment_id":124923782,"body_markdown":"Can&#39;t help you on that. You question is more about general Java and FAR away from what you&#39;re trying to find a work-around for. You can try overriding that bad bean (I haven&#39;t read it in deep) by making some analysis and debugging, or fix the upstream source code and let everyone be happy with your fix. Good luck.","body":"Can&#39;t help you on that. You question is more about general Java and FAR away from what you&#39;re trying to find a work-around for. You can try overriding that bad bean (I haven&#39;t read it in deep) by making some analysis and debugging, or fix the upstream source code and let everyone be happy with your fix. Good luck."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641900172,"creation_date":1641900172,"answer_id":70665933,"question_id":70665798,"body_markdown":"You cannot override static methods.  You can provide an alternative version in your extending class but the caller controls which method they employ by specifying the class.","title":"Override Abstract class to return hardcoded method value","body":"<p>You cannot override static methods.  You can provide an alternative version in your extending class but the caller controls which method they employ by specifying the class.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1641900172,"creation_date":1641899470,"question_id":70665798,"body_markdown":"I want overwite CorsUtils abstract class from here https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/reactive/CorsUtils.html. I tried this:\r\n\r\n    import org.springframework.http.server.reactive.ServerHttpRequest;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.cors.reactive.CorsUtils;\r\n    \r\n    @Component\r\n    public class CustomPostGlobalFilter extends CorsUtils {\r\n    \r\n        public static boolean isCorsRequest(ServerHttpRequest request) {\r\n            return false;\r\n        }\r\n    \r\n        public static boolean isPreFlightRequest(ServerHttpRequest request) {\r\n            return false;\r\n        }\r\n    \r\n        public static boolean isSameOrigin(ServerHttpRequest request) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nBut looks like this is not the correct way to implement this. Can you guide me what is the proper way to implement this?","title":"Override Abstract class to return hardcoded method value","body":"<p>I want overwite CorsUtils abstract class from here <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/reactive/CorsUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/reactive/CorsUtils.html</a>. I tried this:</p>\n<pre><code>import org.springframework.http.server.reactive.ServerHttpRequest;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.cors.reactive.CorsUtils;\n\n@Component\npublic class CustomPostGlobalFilter extends CorsUtils {\n\n    public static boolean isCorsRequest(ServerHttpRequest request) {\n        return false;\n    }\n\n    public static boolean isPreFlightRequest(ServerHttpRequest request) {\n        return false;\n    }\n\n    public static boolean isSameOrigin(ServerHttpRequest request) {\n        return false;\n    }\n}\n</code></pre>\n<p>But looks like this is not the correct way to implement this. Can you guide me what is the proper way to implement this?</p>\n"},{"tags":["java","file","path","relative-path"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641900067,"creation_date":1641900067,"answer_id":70665909,"question_id":70665685,"body_markdown":"You want to construct a relative path. AFAIK there is no ready function to use.\r\n\r\nGiven that you have one of the ancestor nodes (src) and you have SomeFile.java, the following code might work but I did not try...\r\n\r\n    File src = new File(&quot;...&quot;);\r\n    File somefile = new File(&quot;...&quot;);\r\n\r\n    String relpath = somefile.getName();\r\n    File cursor = somefile.getParentFile();\r\n    while (!cursor.getAbsolutePath().equals(src.getAbsolutePath()) {\r\n      somefile = cursor.getName() + File.pathSeparator + somefile;\r\n    }\r\n    System.out.println(&quot;relative path: &quot;+relpath);","title":"How to get the path of the file from source root in java?","body":"<p>You want to construct a relative path. AFAIK there is no ready function to use.</p>\n<p>Given that you have one of the ancestor nodes (src) and you have SomeFile.java, the following code might work but I did not try...</p>\n<pre><code>File src = new File(&quot;...&quot;);\nFile somefile = new File(&quot;...&quot;);\n\nString relpath = somefile.getName();\nFile cursor = somefile.getParentFile();\nwhile (!cursor.getAbsolutePath().equals(src.getAbsolutePath()) {\n  somefile = cursor.getName() + File.pathSeparator + somefile;\n}\nSystem.out.println(&quot;relative path: &quot;+relpath);\n</code></pre>\n"}],"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641900067,"creation_date":1641898972,"question_id":70665685,"body_markdown":"I have a file in java under the `src` folder, I want to get its path at runtime relative to the source folder.\r\nFor example-\r\n```\r\nmyProject\r\n  -- src\r\n    -- packageOne\r\n      -- SomeFile.java\r\n```\r\nI would like to have the result `packageOne/SomeFile.java`. I couldn&#39;t find a way, I tried `getPath()`, `getAbsoultePath()` and every similar method.","title":"How to get the path of the file from source root in java?","body":"<p>I have a file in java under the <code>src</code> folder, I want to get its path at runtime relative to the source folder.\nFor example-</p>\n<pre><code>myProject\n  -- src\n    -- packageOne\n      -- SomeFile.java\n</code></pre>\n<p>I would like to have the result <code>packageOne/SomeFile.java</code>. I couldn't find a way, I tried <code>getPath()</code>, <code>getAbsoultePath()</code> and every similar method.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1641897148,"post_id":70665243,"comment_id":124921741,"body_markdown":"The Spring scheduler is just that a simple scheduler. If you want to use something more elaborate use Quartz.","body":"The Spring scheduler is just that a simple scheduler. If you want to use something more elaborate use Quartz."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641899840,"creation_date":1641898192,"answer_id":70665509,"question_id":70665243,"body_markdown":"M. Deinum mentioned Quartz as a possible solution. It is a very advanced scheduling product that may handle scheduling for multiple nodes insuring that the job would run only on one node. It has many other features. I haven&#39;t used it in long while so you can look up if it is something you want to use. \r\n&lt;p&gt;\r\nHowever, I have dealt with your particular case in a simpler way. Part of the scheduled job responsibility was upon each run to write down into a DB table the last scheduled time (the one in the past that triggered the current run), the next scheduled time and the actual last execution time. Then, after a down time when the server starts up it has to check if the next scheduled time is in the past (also the last execution time will be older then the next scheduled time). If it is so, it is your flag that the the job missed its running due to down time (or any other reason). So you can reschedule or run it now\r\n&lt;/p&gt;\r\n\r\nP.S. This will not address your actual problem, but I wrote my own scheduler and published it as part of an open-source library. My scheduler allows you to set the time intervals in more human readable form such as &quot;4h&quot; for 4 hours or &quot;30m&quot; for 30 minutes and so forth. Also it can handle multiple tasks scheduling and allows you to specify the number of threads that will handle all your scheduled tasks. You can read about it [here][1]. The library is called MgntUtils and you can get it as [Maven artifacts][2] or from [Github repository releases][3] (with source code and Javadoc included). You can read an article about the library that describes some of the features [here][4]\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/","title":"spring scheduler after maintenance","body":"<p>M. Deinum mentioned Quartz as a possible solution. It is a very advanced scheduling product that may handle scheduling for multiple nodes insuring that the job would run only on one node. It has many other features. I haven't used it in long while so you can look up if it is something you want to use.</p>\n<p>\nHowever, I have dealt with your particular case in a simpler way. Part of the scheduled job responsibility was upon each run to write down into a DB table the last scheduled time (the one in the past that triggered the current run), the next scheduled time and the actual last execution time. Then, after a down time when the server starts up it has to check if the next scheduled time is in the past (also the last execution time will be older then the next scheduled time). If it is so, it is your flag that the the job missed its running due to down time (or any other reason). So you can reschedule or run it now\n</p>\n<p>P.S. This will not address your actual problem, but I wrote my own scheduler and published it as part of an open-source library. My scheduler allows you to set the time intervals in more human readable form such as &quot;4h&quot; for 4 hours or &quot;30m&quot; for 30 minutes and so forth. Also it can handle multiple tasks scheduling and allows you to specify the number of threads that will handle all your scheduled tasks. You can read about it <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">here</a>. The library is called MgntUtils and you can get it as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifacts</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github repository releases</a> (with source code and Javadoc included). You can read an article about the library that describes some of the features <a href=\"https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9428979,"reputation":622,"user_id":7013109,"accept_rate":86,"display_name":"RMagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641899840,"creation_date":1641897035,"question_id":70665243,"body_markdown":"we are using spring sceduler using \r\n\r\n    @Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\n\r\nthe problem is that some time we have maintenece and the system is down when the job is sceduled to run.\r\nis there another sceduler we can use ? maybe a parameter that  checks if there was scedualed job that didnt run during maintenence and run it when  the system is up?\r\nor a recomenation for a different scedualer to use\r\nThanks","title":"spring scheduler after maintenance","body":"<p>we are using spring sceduler using</p>\n<pre><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\n</code></pre>\n<p>the problem is that some time we have maintenece and the system is down when the job is sceduled to run.\nis there another sceduler we can use ? maybe a parameter that  checks if there was scedualed job that didnt run during maintenence and run it when  the system is up?\nor a recomenation for a different scedualer to use\nThanks</p>\n"},{"tags":["java","json","spring-boot","dto"],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641899688,"creation_date":1641892603,"answer_id":70664239,"question_id":70663988,"body_markdown":"use [ModelMapper][1].\r\nIf your entity class id field uses `@Id` annotation with auto-generating JPA key like `@GeneratedValue(strategy = GenerationType.IDENTITY)` as id, then using only model mapper and saving the entity should give you the expected result.&lt;br&gt;\r\nOtherwise, if set your PKID value manually and then save the entity.\r\n\r\nUpdate: for your updated question,\r\nadd the whole Region in your Towns entity:\r\n\r\n    Regions rgid=regionsrepository.findById(2).get();\r\n    townRequest.setRegionid(rgid);\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-modelmapper#default-configuration","title":"How to convert DTO to an entity with a related column","body":"<p>use <a href=\"https://www.baeldung.com/java-modelmapper#default-configuration\" rel=\"nofollow noreferrer\">ModelMapper</a>.\nIf your entity class id field uses <code>@Id</code> annotation with auto-generating JPA key like <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> as id, then using only model mapper and saving the entity should give you the expected result.<br>\nOtherwise, if set your PKID value manually and then save the entity.</p>\n<p>Update: for your updated question,\nadd the whole Region in your Towns entity:</p>\n<pre><code>Regions rgid=regionsrepository.findById(2).get();\ntownRequest.setRegionid(rgid);\n</code></pre>\n"}],"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70664239,"answer_count":1,"score":0,"last_activity_date":1641899688,"creation_date":1641891339,"question_id":70663988,"body_markdown":"This is probebly a repetition to my yesturday&#39;s question here\r\nhttps://stackoverflow.com/questions/70656461/cant-save-data-to-a-database-with-dto?noredirect=1#comment124909938_70656461\r\nI can get a request as DTO. But then I convert it to a model class back I get value of regionid column as null.\r\n\r\nMy DTO Class\r\n\r\n    package com.example.dto;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class TownDTO {\r\n        public String name;\r\n           public String regionid;\r\n    }\r\n\r\nMy model:\r\n\r\n    package com.example.model;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import org.hibernate.annotations.OnDelete;\r\n    import org.hibernate.annotations.OnDeleteAction;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;towns&quot;)\r\n    \r\n    public class Towns {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @JsonIgnore\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n            @JoinColumn(name = &quot;regionid&quot;, nullable = false)\r\n            @OnDelete(action = OnDeleteAction.CASCADE)\r\n            private Regions regionid;\r\n        public int getId() {\r\n            return id;\r\n        }\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public Regions getRegionid() {\r\n            return regionid;\r\n        }\r\n        public void setRegionid(Regions regionid) {\r\n            this.regionid = regionid;\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\nController:\r\n\r\n    package com.example.controller;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.dto.TownDTO;\r\n    import com.example.model.Regions;\r\n    import com.example.model.Towns;\r\n    import com.example.repository.TownsRepository;\r\n    import com.example.repository.RegionsRepository;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.modelmapper.Conditions;\r\n    import org.modelmapper.ModelMapper;\r\n    \r\n    @CrossOrigin(origins = &quot;http://localhost:8081&quot;)\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/towns&quot;)\r\n    \r\n    public class TownsController {\r\n    \r\n    \t@Autowired\r\n    \tTownsRepository townsrepository;\r\n    \t@Autowired\r\n    \tRegionsRepository regionsrepository;\r\n    \t@Autowired\r\n    \tprivate ModelMapper modelMapper;\r\n    \t\r\n    \t@GetMapping(&quot;/list&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Towns&gt;&gt; getAllTowns(@RequestParam(required = false) String name) {\r\n    \t  try {\r\n    \t    List&lt;Towns&gt; towns = new ArrayList&lt;Towns&gt;();\r\n    \r\n    \t    if (name == null)\r\n    \t      townsrepository.findAll().forEach(towns::add);\r\n    \t    else\r\n    \t      townsrepository.findByNameContaining(name).forEach(towns::add);\r\n    \r\n    \t    if (towns.isEmpty()) {\r\n    \t      return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    \t    }\r\n    \r\n    \t    return new ResponseEntity&lt;&gt;(towns, HttpStatus.OK);\r\n    \t  } catch (Exception e) {\r\n    \t    return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t  }\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/list/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Towns&gt; getTownById(@PathVariable(&quot;id&quot;) int id) {\r\n    \t  Optional&lt;Towns&gt; townData = townsrepository.findById(id);\r\n    \r\n    \t  if (townData.isPresent()) {\r\n    \t    return new ResponseEntity&lt;&gt;(townData.get(), HttpStatus.OK);\r\n    \t  } else {\r\n    \t    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    \t  }\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/add&quot;)\r\n    \tpublic ResponseEntity&lt;TownDTO&gt; createPost(@RequestBody TownDTO townDto) {\r\n    \r\n    \t\t\r\n    \t\t// convert DTO to entity\r\n    \t\r\n    \t\tTowns townRequest = modelMapper.map(townDto, Towns.class);\r\n    \t\tSystem.out.println(&quot;reg&quot;);\t\r\n    \t\tSystem.out.println(townRequest.getName());\r\n    \t\tSystem.out.println(townRequest.getRegionid());\r\n    \t\t//Regions rid=regionsrepository.findById(2).get();\r\n    \t//\ttownRequest.setRegionid(townDto.regionid);\r\n    \t\tTowns town = townsrepository.save(townRequest);\r\n    \t\t\r\n    \t\t// convert entity to DTO\r\n    \t\tTownDTO townResponse = modelMapper.map(town, TownDTO.class);\r\n    \r\n    \t\treturn new ResponseEntity&lt;TownDTO&gt;(townResponse, HttpStatus.CREATED);\r\n    \t}\r\n    \t/*\r\n    \t@PostMapping(&quot;/addt&quot;)\r\n    \t\r\n    \tpublic ResponseEntity&lt;Towns&gt; createtown2(@RequestBody Towns town) {\r\n    \t  try {\r\n    \t\t \t\r\n    \t\t  Towns _town = townsrepository\r\n    \t        .save(town);\r\n    \t\t // Towns _town = townsrepository .save(new Towns( town.getName(), regionsrepository.findByRegionId(town.getRegionid())));\r\n    \t\t  return new ResponseEntity&lt;&gt;(_town, HttpStatus.CREATED);\r\n    \t  } catch (Exception e) {\r\n    \t   System.out.println(e.getMessage());\r\n    \t\tSystem.out.println(&quot;region&quot;);\r\n    \t\tSystem.out.println(town.getRegionid());\r\n    \t\r\n    \t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t  }\r\n    \t}\r\n    \t*/\r\n    \t@PutMapping(&quot;/edit/{id}&quot;)\r\n    \t/*\r\n    \tpublic ResponseEntity&lt;Towns&gt; updateTown(@PathVariable(&quot;id&quot;) int id, @RequestBody Towns town) {\r\n    \t  Optional&lt;Towns&gt; townData = townsrepository.findById(id);\r\n    \r\n    \t  if (townData.isPresent()) {\r\n    \t    Towns _town = townData.get();\r\n    \t    _town.setName(town.getName());\r\n    \t    _town.setRegionid(town.getRegionid());\r\n    \t    return new ResponseEntity&lt;&gt;(townsrepository.save(_town), HttpStatus.OK);\r\n    \t  } else {\r\n    \t    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    \t  }\r\n    \t}\r\n    \t*/\r\n    \t@DeleteMapping(&quot;/delete/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; deleteTown(@PathVariable(&quot;id&quot;) int id) {\r\n    \t  try {\r\n    \t    townsrepository.deleteById(id);\r\n    \t    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    \t  } catch (Exception e) {\r\n    \t    return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t  }\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nTry to set id to an entety.\r\n\r\n    Regions rgid=regionsrepository.findById(2).get();\r\n    \t\ttownRequest.setRegionid(rgid.getId());\r\n\r\n\t\t\r\n\r\n","title":"How to convert DTO to an entity with a related column","body":"<p>This is probebly a repetition to my yesturday's question here\n<a href=\"https://stackoverflow.com/questions/70656461/cant-save-data-to-a-database-with-dto?noredirect=1#comment124909938_70656461\">Can&#39;t save data to a database with DTO</a>\nI can get a request as DTO. But then I convert it to a model class back I get value of regionid column as null.</p>\n<p>My DTO Class</p>\n<pre><code>package com.example.dto;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport lombok.Data;\n\n@Data\npublic class TownDTO {\n    public String name;\n       public String regionid;\n}\n</code></pre>\n<p>My model:</p>\n<pre><code>package com.example.model;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;towns&quot;)\n\npublic class Towns {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n        @JoinColumn(name = &quot;regionid&quot;, nullable = false)\n        @OnDelete(action = OnDeleteAction.CASCADE)\n        private Regions regionid;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Regions getRegionid() {\n        return regionid;\n    }\n    public void setRegionid(Regions regionid) {\n        this.regionid = regionid;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>package com.example.controller;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.dto.TownDTO;\nimport com.example.model.Regions;\nimport com.example.model.Towns;\nimport com.example.repository.TownsRepository;\nimport com.example.repository.RegionsRepository;\nimport java.util.stream.Collectors;\n\nimport org.modelmapper.Conditions;\nimport org.modelmapper.ModelMapper;\n\n@CrossOrigin(origins = &quot;http://localhost:8081&quot;)\n\n@RestController\n@RequestMapping(&quot;/towns&quot;)\n\npublic class TownsController {\n\n    @Autowired\n    TownsRepository townsrepository;\n    @Autowired\n    RegionsRepository regionsrepository;\n    @Autowired\n    private ModelMapper modelMapper;\n    \n    @GetMapping(&quot;/list&quot;)\n    public ResponseEntity&lt;List&lt;Towns&gt;&gt; getAllTowns(@RequestParam(required = false) String name) {\n      try {\n        List&lt;Towns&gt; towns = new ArrayList&lt;Towns&gt;();\n\n        if (name == null)\n          townsrepository.findAll().forEach(towns::add);\n        else\n          townsrepository.findByNameContaining(name).forEach(towns::add);\n\n        if (towns.isEmpty()) {\n          return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n        }\n\n        return new ResponseEntity&lt;&gt;(towns, HttpStatus.OK);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n    \n    @GetMapping(&quot;/list/{id}&quot;)\n    public ResponseEntity&lt;Towns&gt; getTownById(@PathVariable(&quot;id&quot;) int id) {\n      Optional&lt;Towns&gt; townData = townsrepository.findById(id);\n\n      if (townData.isPresent()) {\n        return new ResponseEntity&lt;&gt;(townData.get(), HttpStatus.OK);\n      } else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n      }\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;TownDTO&gt; createPost(@RequestBody TownDTO townDto) {\n\n        \n        // convert DTO to entity\n    \n        Towns townRequest = modelMapper.map(townDto, Towns.class);\n        System.out.println(&quot;reg&quot;);  \n        System.out.println(townRequest.getName());\n        System.out.println(townRequest.getRegionid());\n        //Regions rid=regionsrepository.findById(2).get();\n    //  townRequest.setRegionid(townDto.regionid);\n        Towns town = townsrepository.save(townRequest);\n        \n        // convert entity to DTO\n        TownDTO townResponse = modelMapper.map(town, TownDTO.class);\n\n        return new ResponseEntity&lt;TownDTO&gt;(townResponse, HttpStatus.CREATED);\n    }\n    /*\n    @PostMapping(&quot;/addt&quot;)\n    \n    public ResponseEntity&lt;Towns&gt; createtown2(@RequestBody Towns town) {\n      try {\n            \n          Towns _town = townsrepository\n            .save(town);\n         // Towns _town = townsrepository .save(new Towns( town.getName(), regionsrepository.findByRegionId(town.getRegionid())));\n          return new ResponseEntity&lt;&gt;(_town, HttpStatus.CREATED);\n      } catch (Exception e) {\n       System.out.println(e.getMessage());\n        System.out.println(&quot;region&quot;);\n        System.out.println(town.getRegionid());\n    \n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n    */\n    @PutMapping(&quot;/edit/{id}&quot;)\n    /*\n    public ResponseEntity&lt;Towns&gt; updateTown(@PathVariable(&quot;id&quot;) int id, @RequestBody Towns town) {\n      Optional&lt;Towns&gt; townData = townsrepository.findById(id);\n\n      if (townData.isPresent()) {\n        Towns _town = townData.get();\n        _town.setName(town.getName());\n        _town.setRegionid(town.getRegionid());\n        return new ResponseEntity&lt;&gt;(townsrepository.save(_town), HttpStatus.OK);\n      } else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n      }\n    }\n    */\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;HttpStatus&gt; deleteTown(@PathVariable(&quot;id&quot;) int id) {\n      try {\n        townsrepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n}\n</code></pre>\n<p>Try to set id to an entety.</p>\n<pre><code>Regions rgid=regionsrepository.findById(2).get();\n        townRequest.setRegionid(rgid.getId());\n\n    \n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641899551,"creation_date":1641899551,"answer_id":70665819,"question_id":70659117,"body_markdown":"You can use a multi column join as such:\r\n\r\n```java\r\n@Entity\r\npublic class Transaction { \r\n\r\n@ManyToOne(fetch = FetchType.LAZY, cascade={CascadeType.ALL}, orphanRemoval=true, targetEntity = PartnerEntity.class)\r\n@JoinColumns({\r\n    @JoinColumn(name = &quot;DEBTOR_ID&quot;),\r\n    @JoinColumn(name = &quot;CREDITOR_ID&quot;)\r\n})\r\nprivate BankPartner partner\r\n\r\n}\r\n```","title":"Multiple representation of child entity in parent entity","body":"<p>You can use a multi column join as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Transaction { \n\n@ManyToOne(fetch = FetchType.LAZY, cascade={CascadeType.ALL}, orphanRemoval=true, targetEntity = PartnerEntity.class)\n@JoinColumns({\n    @JoinColumn(name = &quot;DEBTOR_ID&quot;),\n    @JoinColumn(name = &quot;CREDITOR_ID&quot;)\n})\nprivate BankPartner partner\n\n}\n</code></pre>\n"}],"owner":{"account_id":3194393,"reputation":1,"user_id":2697923,"display_name":"Lietadlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641899551,"creation_date":1641850395,"question_id":70659117,"body_markdown":"I&#39;m curious if it is possible to have several @ManyToOne relations of same entity in parent entity with JPA/Hibernate.\r\n\r\n**Example:**\r\nI have bank transactions, each transaction has a **BankPartner** in tow roles **Creditor** and **Debtor**.  The point is, I want to edit data only once. BankPartner with nickName &quot;mistress&quot; is only one :), doesn&#39;t matter if in role creditor or debtor. Once, it will be  renamed to wife, so I don&#39;t want to change separately. Also, the Balance is SUM of all transactions for BankPartner in both roles.\r\n\r\n@Entity \\\r\npublic class **Transaction** {\r\n..\r\n\r\n@ManyToOne(fetch = FetchType.LAZY, cascade={CascadeType.ALL}, orphanRemoval=true, targetEntity = PartnerEntity.class)\\\r\n@JoinColumn(name = &quot;CREDITOR_ID&quot;)\\\r\nprivate **BankPartner** *creditor*\r\n\r\n@ManyToOne(fetch = FetchType.LAZY, targetEntity = PartnerEntity.class)\\\r\n@JoinColumn(name = &quot;DEBTOR_ID&quot;)\\\r\nprivate **BankPartner** *debtor*\\\r\n..\r\n\r\n}\r\n\r\n@Entity\\\r\npublic class **BankPartner** {\\\r\n...\\\r\nprivate String name;\\\r\nprivate String nickName;\\\r\nprivate String description;\\\r\n...\\\r\n}\r\n\r\nI can imagine that from &quot;Transaction&quot; direction in can somehow work, but can&#39;t find a way to work from BankPartner direction.\r\n\r\nI can see two different approaches \r\n1. create @ManyToMany with &quot;ROLE_TYPE&quot; in intersection table between BankPartner and Transaction\r\n2. create two separate entities Debtor an Creditor from the same table.\r\n\r\nBut, as I said, I&#39;m curios about the first approach .. \r\n\r\n\r\n","title":"Multiple representation of child entity in parent entity","body":"<p>I'm curious if it is possible to have several @ManyToOne relations of same entity in parent entity with JPA/Hibernate.</p>\n<p><strong>Example:</strong>\nI have bank transactions, each transaction has a <strong>BankPartner</strong> in tow roles <strong>Creditor</strong> and <strong>Debtor</strong>.  The point is, I want to edit data only once. BankPartner with nickName &quot;mistress&quot; is only one :), doesn't matter if in role creditor or debtor. Once, it will be  renamed to wife, so I don't want to change separately. Also, the Balance is SUM of all transactions for BankPartner in both roles.</p>\n<p>@Entity <br />\npublic class <strong>Transaction</strong> {\n..</p>\n<p>@ManyToOne(fetch = FetchType.LAZY, cascade={CascadeType.ALL}, orphanRemoval=true, targetEntity = PartnerEntity.class)<br />\n@JoinColumn(name = &quot;CREDITOR_ID&quot;)<br />\nprivate <strong>BankPartner</strong> <em>creditor</em></p>\n<p>@ManyToOne(fetch = FetchType.LAZY, targetEntity = PartnerEntity.class)<br />\n@JoinColumn(name = &quot;DEBTOR_ID&quot;)<br />\nprivate <strong>BankPartner</strong> <em>debtor</em><br />\n..</p>\n<p>}</p>\n<p>@Entity<br />\npublic class <strong>BankPartner</strong> {<br />\n...<br />\nprivate String name;<br />\nprivate String nickName;<br />\nprivate String description;<br />\n...<br />\n}</p>\n<p>I can imagine that from &quot;Transaction&quot; direction in can somehow work, but can't find a way to work from BankPartner direction.</p>\n<p>I can see two different approaches</p>\n<ol>\n<li>create @ManyToMany with &quot;ROLE_TYPE&quot; in intersection table between BankPartner and Transaction</li>\n<li>create two separate entities Debtor an Creditor from the same table.</li>\n</ol>\n<p>But, as I said, I'm curios about the first approach ..</p>\n"},{"tags":["java","spring","spring-boot","wiremock","wiremock-standalone"],"comments":[{"owner":{"account_id":3398941,"reputation":143,"user_id":2851729,"display_name":"user2851729"},"score":0,"creation_date":1595577458,"post_id":63069199,"comment_id":111528978,"body_markdown":"Did you noticed in the error that your app is accessing test folder? `\\src\\test\\resources\\` This could be part of issue, ussualy during normal run `\\src\\main\\resources` should be accessed","body":"Did you noticed in the error that your app is accessing test folder? <code>\\src\\test\\resources` This could be part of issue, ussualy during normal run </code>\\src\\main\\resources` should be accessed"},{"owner":{"account_id":13474237,"reputation":137,"user_id":9721761,"display_name":"Roshni"},"score":0,"creation_date":1595669104,"post_id":63069199,"comment_id":111558953,"body_markdown":"Apparently src/test/resources was default location used by WireMockConfiguration class to look for mappings. I had to override the default value by setting the fileSource.","body":"Apparently src/test/resources was default location used by WireMockConfiguration class to look for mappings. I had to override the default value by setting the fileSource."}],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595597894,"creation_date":1595597894,"answer_id":63074727,"question_id":63069199,"body_markdown":"You can change the path of where WireMock looks for `/mappings` and `/__files` by using one of [these file location methods.][1]\r\n\r\n```\r\n    public Options wireMockOptions() throws IOException {\r\n\r\n        final WireMockConfiguration options = WireMockSpring.options();\r\n        options.usingFilesUnderDirectory(&quot;classpath*:&quot;);\r\n        options.port(9990);\r\n\r\n        return options;\r\n    }\r\n```\r\n\r\nI will admit that I haven&#39;t used WireMock with Spring, so things might be a little different here.\r\n\r\n  [1]: http://wiremock.org/docs/configuration/#file-locations","title":"How to specify path of WireMock mappings and files present inside executable Spring Boot Jar?","body":"<p>You can change the path of where WireMock looks for <code>/mappings</code> and <code>/__files</code> by using one of <a href=\"http://wiremock.org/docs/configuration/#file-locations\" rel=\"nofollow noreferrer\">these file location methods.</a></p>\n<pre><code>    public Options wireMockOptions() throws IOException {\n\n        final WireMockConfiguration options = WireMockSpring.options();\n        options.usingFilesUnderDirectory(&quot;classpath*:&quot;);\n        options.port(9990);\n\n        return options;\n    }\n</code></pre>\n<p>I will admit that I haven't used WireMock with Spring, so things might be a little different here.</p>\n"},{"tags":[],"owner":{"account_id":10242804,"reputation":649,"user_id":8045100,"display_name":"Frank Hopkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595598200,"creation_date":1595598200,"answer_id":63074822,"question_id":63069199,"body_markdown":"If you just normally run the application the test resources will not be found as they are normally not included in the generated jar file. Do you need Wiremock for tests or for actually running the application? If the latter, you need to move the files into the normal resource path &#39;src/main/resources&#39;.","title":"How to specify path of WireMock mappings and files present inside executable Spring Boot Jar?","body":"<p>If you just normally run the application the test resources will not be found as they are normally not included in the generated jar file. Do you need Wiremock for tests or for actually running the application? If the latter, you need to move the files into the normal resource path 'src/main/resources'.</p>\n"},{"tags":[],"owner":{"account_id":13474237,"reputation":137,"user_id":9721761,"display_name":"Roshni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595668871,"creation_date":1595668871,"answer_id":63086595,"question_id":63069199,"body_markdown":"Thanks everyone for your suggestions. \r\n\r\nI was able to make it work by adding below in my Main class\r\n\r\n    FileSource fileSource = new SpringClasspathResourceFileSource(&quot;stub&quot;);\r\n    options.fileSource(fileSource);\r\n\r\nSpringClasspathResourceFileSource is a normal class implementing FileSource interface.\r\n&quot;stub&quot; is a folder that I created inside src/main/resources. The fileSource object has return the uri of your folder from your application&#39;s classpath.","title":"How to specify path of WireMock mappings and files present inside executable Spring Boot Jar?","body":"<p>Thanks everyone for your suggestions.</p>\n<p>I was able to make it work by adding below in my Main class</p>\n<pre><code>FileSource fileSource = new SpringClasspathResourceFileSource(&quot;stub&quot;);\noptions.fileSource(fileSource);\n</code></pre>\n<p>SpringClasspathResourceFileSource is a normal class implementing FileSource interface.\n&quot;stub&quot; is a folder that I created inside src/main/resources. The fileSource object has return the uri of your folder from your application's classpath.</p>\n"},{"tags":[],"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641899471,"creation_date":1641899471,"answer_id":70665800,"question_id":63069199,"body_markdown":"I had a similar issue running Wiremock without the HTTP Server inside a Spring Boot application. Managed to get it working by prefixing the path with &quot;BOOT-INF/classes/&quot;\r\n\r\nRunning in an IDE:\r\n\r\n    usingFilesUnderClasspath(&quot;wiremock&quot;)\r\n\r\nWhen running from jar: \r\n\r\n    usingFilesUnderClasspath(&quot;BOOT-INF/classes/wiremock&quot;)\r\n\r\n","title":"How to specify path of WireMock mappings and files present inside executable Spring Boot Jar?","body":"<p>I had a similar issue running Wiremock without the HTTP Server inside a Spring Boot application. Managed to get it working by prefixing the path with &quot;BOOT-INF/classes/&quot;</p>\n<p>Running in an IDE:</p>\n<pre><code>usingFilesUnderClasspath(&quot;wiremock&quot;)\n</code></pre>\n<p>When running from jar:</p>\n<pre><code>usingFilesUnderClasspath(&quot;BOOT-INF/classes/wiremock&quot;)\n</code></pre>\n"}],"owner":{"account_id":13474237,"reputation":137,"user_id":9721761,"display_name":"Roshni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12897,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1641899471,"creation_date":1595577132,"question_id":63069199,"body_markdown":"I have built WireMock as a spring boot application using &quot;spring-cloud-contract-wiremock&quot; dependency.\r\nI have kept the mapping and _files inside src/test/resources folder.\r\n\r\nWhen I run the application from IDE it works perfectly. But when I run the Jar directly it gives a fileNotFoundException.\r\n\r\n    &lt;pre&gt;java.lang.RuntimeException: java.io.FileNotFoundException: C:\\Users\\{user}\\Downloads\\src\\test\\resources\\__files\\....\r\n\r\nMy application.yml file contents : \r\n\r\n    spring:\r\n    main:\r\n        web-application-type: none\r\n      application:\r\n        name: wiremock-service\r\n        \r\n    wiremock:\r\n      server:\r\n        files: classpath:/__files\r\n        stubs: classpath:/mappings\r\n\r\n\r\nMain class : \r\n\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public Options wireMockOptions() throws IOException {\r\n    \r\n            final WireMockConfiguration options = WireMockSpring.options();\r\n            //options.withRootDirectory(&quot;classpath*:&quot;);\r\n            options.port(9990);\r\n    \r\n            return options;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHow do I specify the path for _files and mappings so that I can run the independently from any location?","title":"How to specify path of WireMock mappings and files present inside executable Spring Boot Jar?","body":"<p>I have built WireMock as a spring boot application using &quot;spring-cloud-contract-wiremock&quot; dependency.\nI have kept the mapping and _files inside src/test/resources folder.</p>\n<p>When I run the application from IDE it works perfectly. But when I run the Jar directly it gives a fileNotFoundException.</p>\n<pre><code>&lt;pre&gt;java.lang.RuntimeException: java.io.FileNotFoundException: C:\\Users\\{user}\\Downloads\\src\\test\\resources\\__files\\....\n</code></pre>\n<p>My application.yml file contents :</p>\n<pre><code>spring:\nmain:\n    web-application-type: none\n  application:\n    name: wiremock-service\n    \nwiremock:\n  server:\n    files: classpath:/__files\n    stubs: classpath:/mappings\n</code></pre>\n<p>Main class :</p>\n<pre><code>public class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n    \n    @Bean\n    public Options wireMockOptions() throws IOException {\n\n        final WireMockConfiguration options = WireMockSpring.options();\n        //options.withRootDirectory(&quot;classpath*:&quot;);\n        options.port(9990);\n\n        return options;\n    }\n\n}\n</code></pre>\n<p>How do I specify the path for _files and mappings so that I can run the independently from any location?</p>\n"},{"tags":["java","spring-boot","cron","operating-system"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1641898829,"post_id":70665485,"comment_id":124922403,"body_markdown":"Maybe this is the library you saw?\nhttps://github.com/wolfcw/libfaketime","body":"Maybe this is the library you saw? <a href=\"https://github.com/wolfcw/libfaketime\" rel=\"nofollow noreferrer\">github.com/wolfcw/libfaketime</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641899100,"post_id":70665485,"comment_id":124922502,"body_markdown":"Your code should be written using modern libraries allowing you to control time. Is it?","body":"Your code should be written using modern libraries allowing you to control time. Is it?"}],"answers":[{"tags":[],"owner":{"account_id":12639462,"reputation":36,"user_id":9187517,"display_name":"Durgesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641898728,"creation_date":1641898728,"answer_id":70665639,"question_id":70665485,"body_markdown":"You can change the timezone of the application by using System.setProperty() method. Below is the example.\r\n\r\nSystem.setProperty(&quot;user.timezone&quot;, &quot;Asia/Kolkata&quot;);","title":"Force JVM to start with different date different than machine time","body":"<p>You can change the timezone of the application by using System.setProperty() method. Below is the example.</p>\n<p>System.setProperty(&quot;user.timezone&quot;, &quot;Asia/Kolkata&quot;);</p>\n"},{"tags":[],"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641899452,"creation_date":1641899452,"answer_id":70665796,"question_id":70665485,"body_markdown":"You wont be able to change the system time in JVM. You have two options to test.\r\n\r\n 1. stack overflow thread to change the system time from Java code. This changes your machine time as well. https://stackoverflow.com/q/6203857/1494229\r\n\r\n 2. stack overflow thread to test the schedule annotation https://stackoverflow.com/q/32319640/1494229\r\n\r\n\r\n","title":"Force JVM to start with different date different than machine time","body":"<p>You wont be able to change the system time in JVM. You have two options to test.</p>\n<ol>\n<li><p>stack overflow thread to change the system time from Java code. This changes your machine time as well. <a href=\"https://stackoverflow.com/q/6203857/1494229\">How can I set the System Time in Java?</a></p>\n</li>\n<li><p>stack overflow thread to test the schedule annotation <a href=\"https://stackoverflow.com/q/32319640/1494229\">How to test Spring @Scheduled</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641899452,"creation_date":1641898087,"question_id":70665485,"body_markdown":"I am using spring boot and @schedule to scheduled some cron jobs to start at specific time ; however , I want to write code to be able to manipulate date and time in my spring boot application in order to test whether the cron job will be triggered or not  , I know I can do this through change machine (OS) date , but I want to this through my application startup . I remember I&#39;ve seen it somewhere , but I couldn&#39;t find it again .\r\n\r\n```\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class MainApplication {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"Force JVM to start with different date different than machine time","body":"<p>I am using spring boot and @schedule to scheduled some cron jobs to start at specific time ; however , I want to write code to be able to manipulate date and time in my spring boot application in order to test whether the cron job will be triggered or not  , I know I can do this through change machine (OS) date , but I want to this through my application startup . I remember I've seen it somewhere , but I couldn't find it again .</p>\n<pre><code>@EnableScheduling\n@SpringBootApplication\npublic class MainApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","logging","log4j2","dfc"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1641843974,"post_id":70657980,"comment_id":124908687,"body_markdown":"You can use `mvn dependency:tree` to see which of your dependencies that are bringing in the old log4j version.","body":"You can use <code>mvn dependency:tree</code> to see which of your dependencies that are bringing in the old log4j version."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641844880,"post_id":70657980,"comment_id":124908983,"body_markdown":"One of your dependencies (OpenText Documentum?) is configuring Log4j 1.x programmatically. Hence you can&#39;t replay `log4j` 1.x with `log4j-1.2-api`.","body":"One of your dependencies (OpenText Documentum?) is configuring Log4j 1.x programmatically. Hence you can&#39;t replay <code>log4j</code> 1.x with <code>log4j-1.2-api</code>."},{"owner":{"account_id":23897044,"reputation":13,"user_id":17895835,"display_name":"jms310"},"score":0,"creation_date":1641847112,"post_id":70657980,"comment_id":124909659,"body_markdown":"@marstran I&#39;m still looking into the solution you provided","body":"@marstran I&#39;m still looking into the solution you provided"},{"owner":{"account_id":23897044,"reputation":13,"user_id":17895835,"display_name":"jms310"},"score":0,"creation_date":1641847422,"post_id":70657980,"comment_id":124909748,"body_markdown":"@PiotrP.Karwasz Yes this application uses open Text Documentum. So this means I must find the dfc jar file that is compatible with log4j2?","body":"@PiotrP.Karwasz Yes this application uses open Text Documentum. So this means I must find the dfc jar file that is compatible with log4j2?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641847993,"post_id":70657980,"comment_id":124909927,"body_markdown":"DFC might detect the logging backend using reflection (try removing `log4j-1.2-api`), but it is impossible to tell, since it is closed-source software.","body":"DFC might detect the logging backend using reflection (try removing <code>log4j-1.2-api</code>), but it is impossible to tell, since it is closed-source software."},{"owner":{"account_id":23897044,"reputation":13,"user_id":17895835,"display_name":"jms310"},"score":0,"creation_date":1641849941,"post_id":70657980,"comment_id":124910497,"body_markdown":"@PiotrP.Karwasz thanks I will try that. I added that third file a day after adding the core and api jar and still had a similar error where a dependency was referencing the jar file that was removed :-/","body":"@PiotrP.Karwasz thanks I will try that. I added that third file a day after adding the core and api jar and still had a similar error where a dependency was referencing the jar file that was removed :-/"}],"answers":[{"tags":[],"owner":{"account_id":1522693,"reputation":356,"user_id":1421941,"accept_rate":0,"display_name":"KarolBe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641898725,"creation_date":1641898725,"answer_id":70665634,"question_id":70657980,"body_markdown":"Documentum DFC requires log4j (the 1st version), therefore you can&#39;t remove this dependency.","title":"Migrating from log4j to log4j2","body":"<p>Documentum DFC requires log4j (the 1st version), therefore you can't remove this dependency.</p>\n"}],"owner":{"account_id":23897044,"reputation":13,"user_id":17895835,"display_name":"jms310"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70665634,"answer_count":1,"score":1,"last_activity_date":1641898725,"creation_date":1641843204,"question_id":70657980,"body_markdown":"I am migrating from log4j1.x to log4j2 due to recent vulnerability.  It seems another dependency is referencing the the old log4j1.x file. \r\n\r\nIn addition to removing old log4j1.x file I added log4j-core, log4j-api, and log4j-1.2-api all version 2.16. I looked up documentation  &lt;https://logging.apache.org/log4j/2.x/manual/migration.html&gt; for migration and thought the last jar file log4j-1.2-api would solve the issue of unrelated libraries that were dependent on log4j1.x\r\n\r\nI am having difficulty figuring out if I have to update the org.glassfish dependendies. As you can see from my pom.xml file I also tried updating jersey-server jar but to no avail.\r\n\r\npom.xml\r\n```\r\n&lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;maven2-repository.java.net&lt;/id&gt;\r\n            &lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\r\n            &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey2.version&gt;2.25.1&lt;/jersey2.version&gt;\r\n        &lt;jaxrs.version&gt;2.0.1&lt;/jaxrs.version&gt;\r\n        &lt;bootstrap.version&gt;3.3.5&lt;/bootstrap.version&gt;\r\n        &lt;angularjs.version&gt;1.4.7&lt;/angularjs.version&gt;\r\n    \t&lt;angular-ui-bootstrap.version&gt;0.14.0&lt;/angular-ui-bootstrap.version&gt;\r\n    \t&lt;ng-file-upload.version&gt;9.0.12&lt;/ng-file-upload.version&gt;\r\n    &lt;/properties&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;!-- JAX-RS --&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jaxrs.version}&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  \t&lt;!-- Jersey 2.19 --&gt;\r\n  &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n   &lt;/dependency&gt; \r\n    &lt;!--  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n&lt;/dependency&gt; --&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n   &lt;/dependency&gt; \r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;  \r\n\t  \t\r\n\t&lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n       &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webjars-servlet-2.x&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n      &lt;version&gt;${bootstrap.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;angularjs&lt;/artifactId&gt;\r\n      &lt;version&gt;${angularjs.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;angular-ui-bootstrap&lt;/artifactId&gt;\r\n      &lt;version&gt;${angular-ui-bootstrap.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;   \r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ng-file-upload&lt;/artifactId&gt;\r\n      &lt;version&gt;${ng-file-upload.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.1.0.jre8&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n  &lt;version&gt;2.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.16.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n    \r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nError \r\n\r\n```\r\nJan 10, 2022 7:04:14 PM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Servlet.service() for servlet [REST] in context with path [/MyProject] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: org.apache.log4j.ConsoleAppender.&lt;init&gt;(Lorg/apache/log4j/Layout;)V] with root cause\r\njava.lang.NoSuchMethodError: org.apache.log4j.ConsoleAppender.&lt;init&gt;(Lorg/apache/log4j/Layout;)V\r\n\tat com.documentum.fc.common.impl.logging.LoggingConfigurator.configureLog4jWithSimpleDefault(LoggingConfigurator.java:154)\r\n\tat com.documentum.fc.common.impl.logging.LoggingConfigurator.performInitialConfiguration(LoggingConfigurator.java:45)\r\n\tat com.documentum.fc.common.DfLogger.&lt;clinit&gt;(DfLogger.java:624)\r\n\tat com.documentum.fc.common.impl.logging.LoggingConfigurator.onPreferencesInitialized(LoggingConfigurator.java:178)\r\n\tat com.documentum.fc.common.DfPreferences.initialize(DfPreferences.java:71)\r\n\tat com.documentum.fc.common.DfPreferences.getInstance(DfPreferences.java:43)\r\n\tat com.documentum.fc.client.DfSimpleDbor.getDefaultDbor(DfSimpleDbor.java:78)\r\n\tat com.documentum.fc.client.DfSimpleDbor.&lt;init&gt;(DfSimpleDbor.java:66)\r\n\tat com.documentum.fc.client.DfClient$ClientImpl.&lt;init&gt;(DfClient.java:350)\r\n\tat com.documentum.fc.client.DfClient.&lt;clinit&gt;(DfClient.java:766)\r\n\tat com.documentum.com.DfClientX.getLocalClient(DfClientX.java:43)\r\n\tat dpaa.cms.dctm.DCTMUtility.createSessionManager(DCTMUtility.java:28)\r\n\tat dpaa.cms.dctm.DCTMIntegration_Dental.getAMDentalRecords(DCTMIntegration_Dental.java:565)\r\n\tat dpaa.cms.dctm.DCTMIntegration_Dental.getAMDentalRecords(DCTMIntegration_Dental.java:534)\r\n\tat dpaa.cms.analytical_services.OdontologyService.getAMDentalRecords(OdontologyService.java:329)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n\tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\r\n\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n```","title":"Migrating from log4j to log4j2","body":"<p>I am migrating from log4j1.x to log4j2 due to recent vulnerability.  It seems another dependency is referencing the the old log4j1.x file.</p>\n<p>In addition to removing old log4j1.x file I added log4j-core, log4j-api, and log4j-1.2-api all version 2.16. I looked up documentation  <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a> for migration and thought the last jar file log4j-1.2-api would solve the issue of unrelated libraries that were dependent on log4j1.x</p>\n<p>I am having difficulty figuring out if I have to update the org.glassfish dependendies. As you can see from my pom.xml file I also tried updating jersey-server jar but to no avail.</p>\n<p>pom.xml</p>\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven2-repository.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;properties&gt;\n        &lt;jersey2.version&gt;2.25.1&lt;/jersey2.version&gt;\n        &lt;jaxrs.version&gt;2.0.1&lt;/jaxrs.version&gt;\n        &lt;bootstrap.version&gt;3.3.5&lt;/bootstrap.version&gt;\n        &lt;angularjs.version&gt;1.4.7&lt;/angularjs.version&gt;\n        &lt;angular-ui-bootstrap.version&gt;0.14.0&lt;/angular-ui-bootstrap.version&gt;\n        &lt;ng-file-upload.version&gt;9.0.12&lt;/ng-file-upload.version&gt;\n    &lt;/properties&gt;\n  \n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n  &lt;!-- JAX-RS --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;${jaxrs.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Jersey 2.19 --&gt;\n  &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\n   &lt;/dependency&gt; \n    &lt;!--  &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt; --&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\n   &lt;/dependency&gt; \n   &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n       &lt;version&gt;${jersey2.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n        &lt;version&gt;1.0.4&lt;/version&gt;\n    &lt;/dependency&gt;  \n        \n    &lt;dependency&gt;\n       &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n       &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n       &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;webjars-servlet-2.x&lt;/artifactId&gt;\n      &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n      &lt;version&gt;${bootstrap.version}&lt;/version&gt;\n    &lt;/dependency&gt;    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;angularjs&lt;/artifactId&gt;\n      &lt;version&gt;${angularjs.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;angular-ui-bootstrap&lt;/artifactId&gt;\n      &lt;version&gt;${angular-ui-bootstrap.version}&lt;/version&gt;\n    &lt;/dependency&gt;   \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\n      &lt;artifactId&gt;ng-file-upload&lt;/artifactId&gt;\n      &lt;version&gt;${ng-file-upload.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;6.1.0.jre8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n    &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n    \n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>Jan 10, 2022 7:04:14 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [REST] in context with path [/MyProject] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: org.apache.log4j.ConsoleAppender.&lt;init&gt;(Lorg/apache/log4j/Layout;)V] with root cause\njava.lang.NoSuchMethodError: org.apache.log4j.ConsoleAppender.&lt;init&gt;(Lorg/apache/log4j/Layout;)V\n    at com.documentum.fc.common.impl.logging.LoggingConfigurator.configureLog4jWithSimpleDefault(LoggingConfigurator.java:154)\n    at com.documentum.fc.common.impl.logging.LoggingConfigurator.performInitialConfiguration(LoggingConfigurator.java:45)\n    at com.documentum.fc.common.DfLogger.&lt;clinit&gt;(DfLogger.java:624)\n    at com.documentum.fc.common.impl.logging.LoggingConfigurator.onPreferencesInitialized(LoggingConfigurator.java:178)\n    at com.documentum.fc.common.DfPreferences.initialize(DfPreferences.java:71)\n    at com.documentum.fc.common.DfPreferences.getInstance(DfPreferences.java:43)\n    at com.documentum.fc.client.DfSimpleDbor.getDefaultDbor(DfSimpleDbor.java:78)\n    at com.documentum.fc.client.DfSimpleDbor.&lt;init&gt;(DfSimpleDbor.java:66)\n    at com.documentum.fc.client.DfClient$ClientImpl.&lt;init&gt;(DfClient.java:350)\n    at com.documentum.fc.client.DfClient.&lt;clinit&gt;(DfClient.java:766)\n    at com.documentum.com.DfClientX.getLocalClient(DfClientX.java:43)\n    at dpaa.cms.dctm.DCTMUtility.createSessionManager(DCTMUtility.java:28)\n    at dpaa.cms.dctm.DCTMIntegration_Dental.getAMDentalRecords(DCTMIntegration_Dental.java:565)\n    at dpaa.cms.dctm.DCTMIntegration_Dental.getAMDentalRecords(DCTMIntegration_Dental.java:534)\n    at dpaa.cms.analytical_services.OdontologyService.getAMDentalRecords(OdontologyService.java:329)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1342427465,"post_id":11500533,"comment_id":15193437,"body_markdown":"What kind of information are you interested in? If it&#39;s just versions or similar things, then it&#39;s probably a better idea to [put it in the manifest and read it from there](http://stackoverflow.com/questions/2712970/how-to-get-maven-artifact-version-at-runtime/2713013#2713013).","body":"What kind of information are you interested in? If it&#39;s just versions or similar things, then it&#39;s probably a better idea to <a href=\"http://stackoverflow.com/questions/2712970/how-to-get-maven-artifact-version-at-runtime/2713013#2713013\">put it in the manifest and read it from there</a>."},{"owner":{"account_id":1041394,"reputation":5637,"user_id":1047365,"accept_rate":86,"display_name":"Jean-R&#233;my Revy"},"score":1,"creation_date":1342517252,"post_id":11500533,"comment_id":15224406,"body_markdown":"There is a lot of post in Stack Overflow about this : http://stackoverflow.com/search?q=read+pom+in+java, at least, take a look before post. SO edit helpers should show them. Google too.","body":"There is a lot of post in Stack Overflow about this : <a href=\"http://stackoverflow.com/search?q=read+pom+in+java\">stackoverflow.com/search?q=read+pom+in+java</a>, at least, take a look before post. SO edit helpers should show them. Google too."},{"owner":{"account_id":274227,"reputation":1380,"user_id":566330,"accept_rate":50,"display_name":"SparedWhisle"},"score":0,"creation_date":1342580486,"post_id":11500533,"comment_id":15248282,"body_markdown":"Thanks guys. I now realize this is really bad practice. Gonna try other approach.","body":"Thanks guys. I now realize this is really bad practice. Gonna try other approach."},{"owner":{"account_id":324071,"reputation":18476,"user_id":644450,"accept_rate":100,"display_name":"oers"},"score":0,"creation_date":1342605813,"post_id":11500533,"comment_id":15255999,"body_markdown":"possible duplicate of [Get MavenProject from just the POM.xml - pom parser?](http://stackoverflow.com/questions/4381460/get-mavenproject-from-just-the-pom-xml-pom-parser)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4381460/get-mavenproject-from-just-the-pom-xml-pom-parser\">Get MavenProject from just the POM.xml - pom parser?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1070959,"reputation":1332,"user_id":1070258,"accept_rate":82,"display_name":"alien01"},"down_vote_count":9,"up_vote_count":1,"is_accepted":false,"score":-8,"last_activity_date":1342427262,"creation_date":1342427262,"answer_id":11500582,"question_id":11500533,"body_markdown":"You can parse the pom file with JDOM (http://www.jdom.org/).","title":"Access maven properties defined in the pom","body":"<p>You can parse the pom file with JDOM (http://www.jdom.org/).</p>\n"},{"tags":[],"owner":{"account_id":1268357,"reputation":1147,"user_id":1225162,"display_name":"SWoeste"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1342428022,"creation_date":1342427395,"answer_id":11500619,"question_id":11500533,"body_markdown":"Maven already has a solution to do what you want:\r\n\r\nhttps://stackoverflow.com/questions/4381460/get-mavenproject-from-just-the-pom-xml-pom-parser\r\n\r\nbtw: first hit at google search ;)\r\n\r\n    Model model = null;\r\n    FileReader reader = null;\r\n    MavenXpp3Reader mavenreader = new MavenXpp3Reader();\r\n    \r\n    try {\r\n         reader = new FileReader(pomfile); // &lt;-- pomfile is your pom.xml\r\n         model = mavenreader.read(reader);\r\n         model.setPomFile(pomfile);\r\n    }catch(Exception ex){\r\n         // do something better here\r\n         ex.printStackTrace()\r\n    }\r\n\r\n    MavenProject project = new MavenProject(model);\r\n    project.getProperties() // &lt;-- thats what you need\r\n","title":"Access maven properties defined in the pom","body":"<p>Maven already has a solution to do what you want:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4381460/get-mavenproject-from-just-the-pom-xml-pom-parser\">Get MavenProject from just the POM.xml - pom parser?</a></p>\n\n<p>btw: first hit at google search ;)</p>\n\n<pre><code>Model model = null;\nFileReader reader = null;\nMavenXpp3Reader mavenreader = new MavenXpp3Reader();\n\ntry {\n     reader = new FileReader(pomfile); // &lt;-- pomfile is your pom.xml\n     model = mavenreader.read(reader);\n     model.setPomFile(pomfile);\n}catch(Exception ex){\n     // do something better here\n     ex.printStackTrace()\n}\n\nMavenProject project = new MavenProject(model);\nproject.getProperties() // &lt;-- thats what you need\n</code></pre>\n"},{"tags":[],"owner":{"account_id":312560,"reputation":1308,"user_id":626698,"accept_rate":75,"display_name":"Mark Bakker"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1544742823,"creation_date":1342427535,"answer_id":11500645,"question_id":11500533,"body_markdown":"This can be done with standard java properties in combination with the `maven-resource-plugin` with enabled filtering on properties. \r\n\r\nFor more info see http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n\r\nThis will work for standard maven project as for plugin projects","title":"Access maven properties defined in the pom","body":"<p>This can be done with standard java properties in combination with the <code>maven-resource-plugin</code> with enabled filtering on properties. </p>\n\n<p>For more info see <a href=\"http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></p>\n\n<p>This will work for standard maven project as for plugin projects</p>\n"},{"tags":[],"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1427775751,"creation_date":1342427542,"answer_id":11500648,"question_id":11500533,"body_markdown":"Set up a [System variable from Maven][1] and in java use [following call][2] \r\n\r\n    System.getProperty(&quot;Key&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3231797/specify-system-property-to-maven-project\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getProperty%28java.lang.String%29","title":"Access maven properties defined in the pom","body":"<p>Set up a <a href=\"https://stackoverflow.com/questions/3231797/specify-system-property-to-maven-project\">System variable from Maven</a> and in java use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getProperty%28java.lang.String%29\" rel=\"noreferrer\">following call</a> </p>\n\n<pre><code>System.getProperty(\"Key\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21466,"reputation":13649,"user_id":52176,"accept_rate":71,"display_name":"Leif Gruenwoldt"},"down_vote_count":1,"up_vote_count":90,"is_accepted":false,"score":89,"last_activity_date":1565655672,"creation_date":1414419831,"answer_id":26589696,"question_id":11500533,"body_markdown":"Use the [properties-maven-plugin](http://www.mojohaus.org/properties-maven-plugin/) to write specific pom `properties` to a file at compile time, and then read that file at run time.\r\n\r\nIn your **pom.xml**:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;properties&gt;\r\n         &lt;name&gt;${project.name}&lt;/name&gt;\r\n         &lt;version&gt;${project.version}&lt;/version&gt;\r\n         &lt;foo&gt;bar&lt;/foo&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;write-project-properties&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd then in **.java**:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    java.io.InputStream is = this.getClass().getResourceAsStream(&quot;my.properties&quot;);\r\n    java.util.Properties p = new Properties();\r\n    p.load(is);\r\n    String name = p.getProperty(&quot;name&quot;);\r\n    String version = p.getProperty(&quot;version&quot;);\r\n    String foo = p.getProperty(&quot;foo&quot;);","title":"Access maven properties defined in the pom","body":"<p>Use the <a href=\"http://www.mojohaus.org/properties-maven-plugin/\" rel=\"noreferrer\">properties-maven-plugin</a> to write specific pom <code>properties</code> to a file at compile time, and then read that file at run time.</p>\n\n<p>In your <strong>pom.xml</strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n     &lt;name&gt;${project.name}&lt;/name&gt;\n     &lt;version&gt;${project.version}&lt;/version&gt;\n     &lt;foo&gt;bar&lt;/foo&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;write-project-properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And then in <strong>.java</strong>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.io.InputStream is = this.getClass().getResourceAsStream(\"my.properties\");\njava.util.Properties p = new Properties();\np.load(is);\nString name = p.getProperty(\"name\");\nString version = p.getProperty(\"version\");\nString foo = p.getProperty(\"foo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1632824109,"creation_date":1632824109,"answer_id":69359866,"question_id":11500533,"body_markdown":"**Update for [Leif Gruenwoldt][1] [answer][2]:**\r\n\r\nIt&#39;s important to use \r\n```java\r\nthis.getClass().getClassLoader().getResourceAsStream(&quot;maven.properties&quot;);\r\n```\r\ninstead of just\r\n```java\r\n this.getClass().getResourceAsStream(&quot;maven.properties&quot;);\r\n```\r\n\r\nEspecially, if you write your `maven.properties` file right to `project.build.outputDirectory`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n   &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;1.0.0&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;write-project-properties&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n         &lt;configuration&gt;\r\n            &lt;outputFile&gt;${project.build.outputDirectory}/maven.properties&lt;/outputFile&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nExplanation is right [there][3].\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/52176/leif-gruenwoldt\r\n  [2]: https://stackoverflow.com/a/26589696/10423604\r\n  [3]: https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource","title":"Access maven properties defined in the pom","body":"<p><strong>Update for <a href=\"https://stackoverflow.com/users/52176/leif-gruenwoldt\">Leif Gruenwoldt</a> <a href=\"https://stackoverflow.com/a/26589696/10423604\">answer</a>:</strong></p>\n<p>It's important to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.getClass().getClassLoader().getResourceAsStream(&quot;maven.properties&quot;);\n</code></pre>\n<p>instead of just</p>\n<pre class=\"lang-java prettyprint-override\"><code> this.getClass().getResourceAsStream(&quot;maven.properties&quot;);\n</code></pre>\n<p>Especially, if you write your <code>maven.properties</code> file right to <code>project.build.outputDirectory</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n   &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;phase&gt;generate-resources&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;write-project-properties&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;outputFile&gt;${project.build.outputDirectory}/maven.properties&lt;/outputFile&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Explanation is right <a href=\"https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\">there</a>.</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641898609,"creation_date":1641891423,"answer_id":70664008,"question_id":11500533,"body_markdown":"I use the **build-info** goal in **spring-boot-maven-plugin**:\r\n\r\nIn my pom.xml:\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n        ...\r\n          &lt;execution&gt;\r\n            &lt;id&gt;build-info&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build-info&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n        ...\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nAnd in my code:\r\n\r\n    @Autowired\r\n\tBuildProperties buildProperties;\r\n\r\n    ...\r\n    \r\n    @GetMapping\r\n\tpublic Map&lt;String, String&gt; getVersion() {\r\n\t\treturn Map.of(\r\n\t\t\t\t&quot;build.name&quot;, buildProperties.getName(), \r\n\t\t\t\t&quot;build.version&quot;, buildProperties.getVersion(), \r\n\t\t\t\t&quot;build.date&quot;, buildProperties.getTime().toString());\r\n\t}\r\n\r\nMore information about this plugin goal can be found here: [https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-info][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-info","title":"Access maven properties defined in the pom","body":"<p>I use the <strong>build-info</strong> goal in <strong>spring-boot-maven-plugin</strong>:</p>\n<p>In my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n    ...\n      &lt;execution&gt;\n        &lt;id&gt;build-info&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;build-info&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n    ...\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And in my code:</p>\n<pre><code>@Autowired\nBuildProperties buildProperties;\n\n...\n\n@GetMapping\npublic Map&lt;String, String&gt; getVersion() {\n    return Map.of(\n            &quot;build.name&quot;, buildProperties.getName(), \n            &quot;build.version&quot;, buildProperties.getVersion(), \n            &quot;build.date&quot;, buildProperties.getTime().toString());\n}\n</code></pre>\n<p>More information about this plugin goal can be found here: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-info\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-info</a></p>\n"}],"owner":{"account_id":274227,"reputation":1380,"user_id":566330,"accept_rate":50,"display_name":"SparedWhisle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174139,"favorite_count":0,"down_vote_count":1,"up_vote_count":94,"answer_count":7,"score":93,"last_activity_date":1641898609,"creation_date":1342427048,"question_id":11500533,"body_markdown":"How do I access maven properties defined in the pom in a normal maven project, and in a maven plugin project?","title":"Access maven properties defined in the pom","body":"<p>How do I access maven properties defined in the pom in a normal maven project, and in a maven plugin project?</p>\n"},{"tags":["java","google-cloud-platform","google-vision"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1641850029,"post_id":70656567,"comment_id":124910527,"body_markdown":"If you are on your workstation or on Google Cloud, you SHOULDN&#39;T use a service account key file. That tutorial is bad.","body":"If you are on your workstation or on Google Cloud, you SHOULDN&#39;T use a service account key file. That tutorial is bad."},{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1641853708,"post_id":70656567,"comment_id":124911570,"body_markdown":"@guillaumeblaquiere Hi, I followed [these guidelines](https://cloud.google.com/vision/docs/ocr?hl=it#vision_text_detection-java), I don&#39;t know if they are out of date..","body":"@guillaumeblaquiere Hi, I followed <a href=\"https://cloud.google.com/vision/docs/ocr?hl=it#vision_text_detection-java\" rel=\"nofollow noreferrer\">these guidelines</a>, I don&#39;t know if they are out of date.."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1641888833,"post_id":70656567,"comment_id":124918460,"body_markdown":"Yes, I know. I&#39;m often fighting with Google Cloud about that documentation that advocate on bad practices. Not your fault, I&#39;m just desperate to continue to see that such things in the documentation....","body":"Yes, I know. I&#39;m often fighting with Google Cloud about that documentation that advocate on bad practices. Not your fault, I&#39;m just desperate to continue to see that such things in the documentation...."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641840004,"creation_date":1641840004,"answer_id":70657404,"question_id":70656567,"body_markdown":"Please, consider read the `ImageAnnotationClient` class level [javadocs](https://googleapis.dev/java/google-cloud-vision/latest/com/google/cloud/vision/v1/ImageAnnotatorClient.html), it gives you the right guidance about how to accomplish the authentication process. I modified the provided code to give you the full example:\r\n\r\n```java\r\n// Please, set the appropriate path to your JSON credentials file here\r\nString credentialsPath = &quot;...&quot;; \r\n// The credentials could be loaded as well as this.getClass().getResourceAsStream(), for example\r\nGoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(credentialsPath))\r\n    .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n\r\n// Use that credentials to build your image annotation client\r\nImageAnnotatorSettings imageAnnotatorSettings =\r\n  ImageAnnotatorSettings.newBuilder()\r\n    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n    .build()\r\n;\r\n\r\nImageAnnotatorClient imageAnnotatorClient = ImageAnnotatorClient.create(imageAnnotatorSettings);\r\n// Perform the stuff you need to...\r\n``` \r\n\r\nThe only dependency you need to provide in your `pom.xml` is [this](https://mvnrepository.com/artifact/com.google.cloud/google-cloud-vision/2.0.18):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-vision&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.18&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nIn any case, please, consider for reference the [`pom.xml`](https://github.com/googleapis/java-vision/blob/18259eecc8b3da819b00085ebb91084e082960d8/samples/snippets/pom.xml) provided in the Cloud Vision examples.\r\n\r\nThe Cloud Vision examples repository gives some useful code snippets as well in the [Detect](https://github.com/googleapis/java-vision/blob/HEAD/samples/snippets/src/main/java/com/example/vision/Detect.java) class for the detection process itself.\r\n\r\nBe sure that the service account you are using to connect to Google Cloud has the necessary permissions.\r\n\r\nAlthough this solution could work, it has the drawback that you probably need to store the credentials file somewhere in your machine, maybe in your source code repository, etcetera, and it can suppose a security risk. If your are running your program from Google Cloud is always advisable to grant to the VM or service you are using the necessary permissions and use the default application credentials.\r\n\r\nThe use of the `GOOGLE_APPLICATION_CREDENTIALS` could be preferable as well. If you are trying using this variable, initially, try configuring it using your IDE provided mechanisms instead of `cmd`, `PS`, or `bash`, and see if it works.\r\n\r\nFor using any of the two last mentioned solutions you don&#39;t need to provide any additional information when constructing your `ImageAnnotatorClient`:\r\n\r\n```java\r\nImageAnnotatorClient imageAnnotatorClient = ImageAnnotatorClient.create();\r\n```","title":"Unable to authenticate service account - Google Cloud","body":"<p>Please, consider read the <code>ImageAnnotationClient</code> class level <a href=\"https://googleapis.dev/java/google-cloud-vision/latest/com/google/cloud/vision/v1/ImageAnnotatorClient.html\" rel=\"nofollow noreferrer\">javadocs</a>, it gives you the right guidance about how to accomplish the authentication process. I modified the provided code to give you the full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Please, set the appropriate path to your JSON credentials file here\nString credentialsPath = &quot;...&quot;; \n// The credentials could be loaded as well as this.getClass().getResourceAsStream(), for example\nGoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(credentialsPath))\n    .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n\n// Use that credentials to build your image annotation client\nImageAnnotatorSettings imageAnnotatorSettings =\n  ImageAnnotatorSettings.newBuilder()\n    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n    .build()\n;\n\nImageAnnotatorClient imageAnnotatorClient = ImageAnnotatorClient.create(imageAnnotatorSettings);\n// Perform the stuff you need to...\n</code></pre>\n<p>The only dependency you need to provide in your <code>pom.xml</code> is <a href=\"https://mvnrepository.com/artifact/com.google.cloud/google-cloud-vision/2.0.18\" rel=\"nofollow noreferrer\">this</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-vision&lt;/artifactId&gt;\n    &lt;version&gt;2.0.18&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In any case, please, consider for reference the <a href=\"https://github.com/googleapis/java-vision/blob/18259eecc8b3da819b00085ebb91084e082960d8/samples/snippets/pom.xml\" rel=\"nofollow noreferrer\"><code>pom.xml</code></a> provided in the Cloud Vision examples.</p>\n<p>The Cloud Vision examples repository gives some useful code snippets as well in the <a href=\"https://github.com/googleapis/java-vision/blob/HEAD/samples/snippets/src/main/java/com/example/vision/Detect.java\" rel=\"nofollow noreferrer\">Detect</a> class for the detection process itself.</p>\n<p>Be sure that the service account you are using to connect to Google Cloud has the necessary permissions.</p>\n<p>Although this solution could work, it has the drawback that you probably need to store the credentials file somewhere in your machine, maybe in your source code repository, etcetera, and it can suppose a security risk. If your are running your program from Google Cloud is always advisable to grant to the VM or service you are using the necessary permissions and use the default application credentials.</p>\n<p>The use of the <code>GOOGLE_APPLICATION_CREDENTIALS</code> could be preferable as well. If you are trying using this variable, initially, try configuring it using your IDE provided mechanisms instead of <code>cmd</code>, <code>PS</code>, or <code>bash</code>, and see if it works.</p>\n<p>For using any of the two last mentioned solutions you don't need to provide any additional information when constructing your <code>ImageAnnotatorClient</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImageAnnotatorClient imageAnnotatorClient = ImageAnnotatorClient.create();\n</code></pre>\n"}],"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5449,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70657404,"answer_count":1,"score":5,"last_activity_date":1641898544,"creation_date":1641835828,"question_id":70656567,"body_markdown":"I&#39;ll premise that I&#39;ve already googled and read the documentation before writing, I&#39;ve noticed that it&#39;s a popular discussion here on StackOverflow as well, but none of the answers already given have helped me.\r\n\r\nI created a Google Cloud account to use the API: Google Vision.\r\n\r\nTo do this I followed the steps of creating the project, adding the above API and finally creating a service account with a key.\r\n\r\nI downloaded the key and put it in a folder in the java project on the PC.\r\n\r\nThen, since it is a maven project I added the dependencies to the pom as described in the tutorials.\r\n\r\nAt this point I inserted the suggested piece of code to start using the API.\r\n\r\nEverything seemed to be OK, everything was read, the various libraries/interfaces were imported.\r\n\r\nBut an error came up as soon as I tried to run the program: \r\n&gt; The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials.\r\n\r\nI must admit I didn&#39;t know what &#39;Google Compute Engine&#39; was, but since there was an alternative and I had some credentials, I wanted to try and follow that.\r\n\r\nSo I follow the instructions:\r\n&gt; After creating your service account, you need to download the service account key to your machine(s) where your application runs. You can either use the GOOGLE_APPLICATION_CREDENTIALS environment variable or write code to pass the service account key to the client library.\r\n\r\nOK, I tried the first way, to pass the credentials via environment variable: \r\n\r\n- With powershell -&gt; no response\r\n\r\n```\r\n$env:GOOGLE_APPLICATION_CREDENTIALS=&quot;my key path&quot;\r\n```\r\n- With cmd -&gt; no response either\r\n```\r\nset GOOGLE_APPLICATION_CREDENTIALS=my key path\r\n```\r\n\r\nSo I tried the second way, passing credentials using code and if I&#39;m here something else must have gone wrong, in fact with what I have it was only possible to import io.grpc.Context, while everything else gives the error &quot;Cannot resolve symbol ..&quot;.\r\n\r\n```\r\nimport com.google.common.collect.Lists;\r\nimport io.grpc.Context;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class Main\r\n{\r\n    static void authExplicit(String jsonPath)\r\n    {\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(jsonPath))\r\n                .createScoped( Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n        Context.Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\r\n\r\n        System.out.println(&quot;Buckets:&quot;);\r\n        Page&lt;Bucket&gt; buckets = storage.list();\r\n        for (Bucket bucket : buckets.iterateAll()) {\r\n            System.out.println(bucket.toString());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        OCR.detectText();\r\n    }\r\n}\r\n```\r\n\r\n(I don&#39;t think I can upload a screen of the code to show where it gives me errors, however it is this)\r\n\r\nPS: I also already installed the Cloud SDK and restarted the PC because some comments said to do that to fix things.\r\n\r\nI also tried setting the environment variable manually, but nothing changes:\r\n[![enter image description here][1]][1]\r\n\r\n**Solution**\r\n\r\nI don&#39;t know if it all worked out because of a series of operations I performed I for this one command line, anyway, for posterity&#39;s sake:\r\n\r\n- Fill in these fields manually using the email field in the json file and the path to the json file, both without inverted commas, then start cmd, paste the string and run!\r\n\r\n &gt; gcloud auth activate-service-account your_account_email_id --key-file=json_file_path\r\n\r\nIt also helped me to reboot the PC afterwards.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MCvBB.png","title":"Unable to authenticate service account - Google Cloud","body":"<p>I'll premise that I've already googled and read the documentation before writing, I've noticed that it's a popular discussion here on StackOverflow as well, but none of the answers already given have helped me.</p>\n<p>I created a Google Cloud account to use the API: Google Vision.</p>\n<p>To do this I followed the steps of creating the project, adding the above API and finally creating a service account with a key.</p>\n<p>I downloaded the key and put it in a folder in the java project on the PC.</p>\n<p>Then, since it is a maven project I added the dependencies to the pom as described in the tutorials.</p>\n<p>At this point I inserted the suggested piece of code to start using the API.</p>\n<p>Everything seemed to be OK, everything was read, the various libraries/interfaces were imported.</p>\n<p>But an error came up as soon as I tried to run the program:</p>\n<blockquote>\n<p>The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials.</p>\n</blockquote>\n<p>I must admit I didn't know what 'Google Compute Engine' was, but since there was an alternative and I had some credentials, I wanted to try and follow that.</p>\n<p>So I follow the instructions:</p>\n<blockquote>\n<p>After creating your service account, you need to download the service account key to your machine(s) where your application runs. You can either use the GOOGLE_APPLICATION_CREDENTIALS environment variable or write code to pass the service account key to the client library.</p>\n</blockquote>\n<p>OK, I tried the first way, to pass the credentials via environment variable:</p>\n<ul>\n<li>With powershell -&gt; no response</li>\n</ul>\n<pre><code>$env:GOOGLE_APPLICATION_CREDENTIALS=&quot;my key path&quot;\n</code></pre>\n<ul>\n<li>With cmd -&gt; no response either</li>\n</ul>\n<pre><code>set GOOGLE_APPLICATION_CREDENTIALS=my key path\n</code></pre>\n<p>So I tried the second way, passing credentials using code and if I'm here something else must have gone wrong, in fact with what I have it was only possible to import io.grpc.Context, while everything else gives the error &quot;Cannot resolve symbol ..&quot;.</p>\n<pre><code>import com.google.common.collect.Lists;\nimport io.grpc.Context;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Main\n{\n    static void authExplicit(String jsonPath)\n    {\n        GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(jsonPath))\n                .createScoped( Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n        Context.Storage storage = StorageOptions.newBuilder().setCredentials(credentials).build().getService();\n\n        System.out.println(&quot;Buckets:&quot;);\n        Page&lt;Bucket&gt; buckets = storage.list();\n        for (Bucket bucket : buckets.iterateAll()) {\n            System.out.println(bucket.toString());\n        }\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n        OCR.detectText();\n    }\n}\n</code></pre>\n<p>(I don't think I can upload a screen of the code to show where it gives me errors, however it is this)</p>\n<p>PS: I also already installed the Cloud SDK and restarted the PC because some comments said to do that to fix things.</p>\n<p>I also tried setting the environment variable manually, but nothing changes:\n<a href=\"https://i.stack.imgur.com/MCvBB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCvBB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Solution</strong></p>\n<p>I don't know if it all worked out because of a series of operations I performed I for this one command line, anyway, for posterity's sake:</p>\n<ul>\n<li>Fill in these fields manually using the email field in the json file and the path to the json file, both without inverted commas, then start cmd, paste the string and run!</li>\n</ul>\n<blockquote>\n<p>gcloud auth activate-service-account your_account_email_id --key-file=json_file_path</p>\n</blockquote>\n<p>It also helped me to reboot the PC afterwards.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":7042566,"reputation":4794,"user_id":5394572,"display_name":"madreflection"},"score":7,"creation_date":1641896081,"post_id":70665003,"comment_id":124921300,"body_markdown":"[`Func&lt;TResult&gt;`](https://learn.microsoft.com/en-us/dotnet/api/system.func-1)","body":"<a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-1\" rel=\"nofollow noreferrer\"><code>Func&lt;TResult&gt;</code></a>"},{"owner":{"account_id":6312697,"reputation":1344,"user_id":4903754,"display_name":"Isitar"},"score":1,"creation_date":1641896277,"post_id":70665003,"comment_id":124921374,"body_markdown":"also relevant Consumer -&gt; Action: https://stackoverflow.com/questions/36449343/what-is-the-c-sharp-equivalent-of-java-8-java-util-function-consumer","body":"also relevant Consumer -&gt; Action: <a href=\"https://stackoverflow.com/questions/36449343/what-is-the-c-sharp-equivalent-of-java-8-java-util-function-consumer\" title=\"what is the c sharp equivalent of java 8 java util function consumer\">stackoverflow.com/questions/36449343/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":149005,"reputation":7897,"user_id":361177,"accept_rate":91,"display_name":"Orace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641896544,"creation_date":1641896544,"answer_id":70665127,"question_id":70665003,"body_markdown":"Any generic [`delegate`][1] with the &quot;*take no argument, return `T`*&quot; signature will work.  \r\nYou can define yours:\r\n\r\n    public delegate T Supplier&lt;out T&gt;(); // out is not mandatory but is helpfull\r\n\r\nOr use [`System.Func&lt;TResult&gt;`][2] which is declared in the standard library.\r\n\r\nTo call it, you just use the `()` operator:\r\n\r\n    // Func&lt;string&gt; randomPasswordSupplier = () =&gt; &quot;secret&quot;;\r\n    Supplier&lt;string&gt; randomPasswordSupplier = () =&gt; &quot;secret&quot;;\r\n    stringrandomPassword = randomPasswordSupplier();\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/generic-delegates\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.func-1?view=net-6.0","title":"What is the C# equivalent of java.util.function.Supplier?","body":"<p>Any generic <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/generic-delegates\" rel=\"nofollow noreferrer\"><code>delegate</code></a> with the &quot;<em>take no argument, return <code>T</code></em>&quot; signature will work.<br />\nYou can define yours:</p>\n<pre><code>public delegate T Supplier&lt;out T&gt;(); // out is not mandatory but is helpfull\n</code></pre>\n<p>Or use <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-1?view=net-6.0\" rel=\"nofollow noreferrer\"><code>System.Func&lt;TResult&gt;</code></a> which is declared in the standard library.</p>\n<p>To call it, you just use the <code>()</code> operator:</p>\n<pre><code>// Func&lt;string&gt; randomPasswordSupplier = () =&gt; &quot;secret&quot;;\nSupplier&lt;string&gt; randomPasswordSupplier = () =&gt; &quot;secret&quot;;\nstringrandomPassword = randomPasswordSupplier();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641896555,"creation_date":1641896555,"answer_id":70665134,"question_id":70665003,"body_markdown":"As [madreflection](https://stackoverflow.com/questions/70665003/what-is-the-c-sharp-equivalent-of-java-util-function-supplier#comment124921300_70665003) already noted in a comment, the equivalent is for most cases [`Func&lt;TResult&gt;`][1]. C# doesn&#39;t use interfaces for this, but *delegates*, which are effectively the signature of a method.\r\n\r\nYou can also create your own delegate that does the same:\r\n\r\n    public delegate TResult Supplier&lt;TResult&gt;();\r\n\r\nThis would allow you to include specific documentation for example, where the generic `Func` delegate would be confusing.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.func-1","title":"What is the C# equivalent of java.util.function.Supplier?","body":"<p>As <a href=\"https://stackoverflow.com/questions/70665003/what-is-the-c-sharp-equivalent-of-java-util-function-supplier#comment124921300_70665003\">madreflection</a> already noted in a comment, the equivalent is for most cases <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-1\" rel=\"nofollow noreferrer\"><code>Func&lt;TResult&gt;</code></a>. C# doesn't use interfaces for this, but <em>delegates</em>, which are effectively the signature of a method.</p>\n<p>You can also create your own delegate that does the same:</p>\n<pre><code>public delegate TResult Supplier&lt;TResult&gt;();\n</code></pre>\n<p>This would allow you to include specific documentation for example, where the generic <code>Func</code> delegate would be confusing.</p>\n"},{"tags":[],"owner":{"account_id":12951996,"reputation":7312,"user_id":9363973,"display_name":"MindSwipe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1641898290,"creation_date":1641897900,"answer_id":70665441,"question_id":70665003,"body_markdown":"In C# (and maybe other languages) this is a [`delegate`](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/delegates/), a delegate is a reference to methods with a particular parameter list and return type\r\n\r\n&gt; a type that represents references to methods with a particular parameter list and return type\r\n\r\nYou can define your own delegates like so:\r\n\r\n    public delegate int Answer();\r\n\r\n(This often used when declaring event handlers)\r\n\r\nAlone this does nothing, but you can then use it like any other type to pass references to methods around, like so\r\n\r\n```c#\r\npublic void PrintAnswer(Answer theAnswer)\r\n{\r\n    Console.WriteLine(theAnswer());\r\n    // If &#39;theAnswer&#39; can be null, then you can check for it normally, or use the Invoke method like so\r\n    Console.WriteLine(theAnswer?.Invoke());\r\n}\r\n```\r\n\r\nFor convenience .NET includes some pre defined delegate types, namely [Action](https://learn.microsoft.com/en-us/dotnet/api/system.action-1?view=net-6.0) which is a method with no return value (void) and an arbitrary amount of parameters (max 16), [Func](https://learn.microsoft.com/en-us/dotnet/api/system.func-2?view=net-6.0) which is a method with a return type and an arbitrary amount of parameters (up to 16) and last but not least [Predicate](https://learn.microsoft.com/en-us/dotnet/api/system.predicate-1?view=net-6.0) which is a method that returns a boolean and has exactly one parameter (so shorthand for `Func&lt;T, bool&gt;`)\r\n\r\nIn your case, you&#39;ll want to use `Func&lt;string&gt;` like so:\r\n\r\n```csharp\r\nFunc&lt;string&gt; randomPasswordProvider = () =&gt; &quot;sekrit&quot;;\r\nvar randomPassword = randomPasswordProvider(); // or .Invoke()\r\n```\r\n\r\nNote that in C# we use a fat arrow (`=&gt;`) for anonymous methods. You could also make the `randomPasswordProvider` point to a &quot;full fat&quot; method like so:\r\n\r\n```\r\nstring GenerateRandomPassword()\r\n{\r\n    return &quot;Hello world&quot;;\r\n}\r\n\r\n// Note the lack of &#39;()&#39;, we&#39;re not invoking the method, only referencing it\r\nFunc&lt;string&gt; randomPasswordProvider = GenerateRandomPassword;\r\n```\r\n\r\nIf you want to name your delegate type, you can easily do it like so:\r\n\r\n```csharp\r\npublic delegate string StringSupplier(); // any name you want\r\n\r\n// or, if you want to have it generic:\r\n\r\npublic delegate T Supplier&lt;out T&gt;(); // the &#39;out&#39; is not needed but helpful\r\n```\r\n\r\nI made an example [here](https://dotnetfiddle.net/RKmUxn)\r\n\r\nYou could then add also add an [extension method](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods) to your custom delegate type so you can call `Get()` instead of `Invoke()` or just `()` (but this really isn&#39;t necessary, just makes it look more like your Java example)","title":"What is the C# equivalent of java.util.function.Supplier?","body":"<p>In C# (and maybe other languages) this is a <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/delegates/\" rel=\"nofollow noreferrer\"><code>delegate</code></a>, a delegate is a reference to methods with a particular parameter list and return type</p>\n<blockquote>\n<p>a type that represents references to methods with a particular parameter list and return type</p>\n</blockquote>\n<p>You can define your own delegates like so:</p>\n<pre><code>public delegate int Answer();\n</code></pre>\n<p>(This often used when declaring event handlers)</p>\n<p>Alone this does nothing, but you can then use it like any other type to pass references to methods around, like so</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public void PrintAnswer(Answer theAnswer)\n{\n    Console.WriteLine(theAnswer());\n    // If 'theAnswer' can be null, then you can check for it normally, or use the Invoke method like so\n    Console.WriteLine(theAnswer?.Invoke());\n}\n</code></pre>\n<p>For convenience .NET includes some pre defined delegate types, namely <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.action-1?view=net-6.0\" rel=\"nofollow noreferrer\">Action</a> which is a method with no return value (void) and an arbitrary amount of parameters (max 16), <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-2?view=net-6.0\" rel=\"nofollow noreferrer\">Func</a> which is a method with a return type and an arbitrary amount of parameters (up to 16) and last but not least <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.predicate-1?view=net-6.0\" rel=\"nofollow noreferrer\">Predicate</a> which is a method that returns a boolean and has exactly one parameter (so shorthand for <code>Func&lt;T, bool&gt;</code>)</p>\n<p>In your case, you'll want to use <code>Func&lt;string&gt;</code> like so:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>Func&lt;string&gt; randomPasswordProvider = () =&gt; &quot;sekrit&quot;;\nvar randomPassword = randomPasswordProvider(); // or .Invoke()\n</code></pre>\n<p>Note that in C# we use a fat arrow (<code>=&gt;</code>) for anonymous methods. You could also make the <code>randomPasswordProvider</code> point to a &quot;full fat&quot; method like so:</p>\n<pre><code>string GenerateRandomPassword()\n{\n    return &quot;Hello world&quot;;\n}\n\n// Note the lack of '()', we're not invoking the method, only referencing it\nFunc&lt;string&gt; randomPasswordProvider = GenerateRandomPassword;\n</code></pre>\n<p>If you want to name your delegate type, you can easily do it like so:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public delegate string StringSupplier(); // any name you want\n\n// or, if you want to have it generic:\n\npublic delegate T Supplier&lt;out T&gt;(); // the 'out' is not needed but helpful\n</code></pre>\n<p>I made an example <a href=\"https://dotnetfiddle.net/RKmUxn\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You could then add also add an <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">extension method</a> to your custom delegate type so you can call <code>Get()</code> instead of <code>Invoke()</code> or just <code>()</code> (but this really isn't necessary, just makes it look more like your Java example)</p>\n"}],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70665441,"answer_count":3,"score":5,"last_activity_date":1641898290,"creation_date":1641896016,"question_id":70665003,"body_markdown":"In Java, the `Supplier` interface represents a function with no arguments and a generic return value.\r\n```java\r\nSupplier&lt;String&gt; randomPasswordSupplier = () -&gt; &quot;secret&quot;;\r\nString randomPassword = randomPasswordSupplier.get();\r\n```\r\n\r\nIs there an equivalent of this interface in C#?","title":"What is the C# equivalent of java.util.function.Supplier?","body":"<p>In Java, the <code>Supplier</code> interface represents a function with no arguments and a generic return value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Supplier&lt;String&gt; randomPasswordSupplier = () -&gt; &quot;secret&quot;;\nString randomPassword = randomPasswordSupplier.get();\n</code></pre>\n<p>Is there an equivalent of this interface in C#?</p>\n"},{"tags":["java","android","firebase","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1640506022,"post_id":70484886,"comment_id":124595906,"body_markdown":"edit question send code i answer you","body":"edit question send code i answer you"},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1640506806,"post_id":70484886,"comment_id":124595996,"body_markdown":"What do you mean?","body":"What do you mean?"},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1640506923,"post_id":70484886,"comment_id":124596014,"body_markdown":"send code here i solve you","body":"send code here i solve you"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1640513607,"post_id":70484886,"comment_id":124596947,"body_markdown":"What have you tried so far in code? Please respond with @AlexMamo","body":"What have you tried so far in code? Please respond with @AlexMamo"},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1640623121,"post_id":70484886,"comment_id":124619057,"body_markdown":"@AlexMamo Hi, sir. The question has been updated. Hope you can take a look at it. Thanks","body":"@AlexMamo Hi, sir. The question has been updated. Hope you can take a look at it. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640507904,"creation_date":1640507904,"answer_id":70485170,"question_id":70484886,"body_markdown":"this code put to your adapter on delete button \r\n\r\nuserId means your model_list like \r\n```\r\nuserId = fileModelList.get(position).getUserId()\r\n```\r\n\r\n```\r\ndeleteFileBtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n            new AlertDialog.Builder(MainActivity.this, R.style.Theme_AppCompat_Light_Dialog)\r\n                    .setTitle(&quot;Delete File&quot;)\r\n                    .setMessage(&quot;Are you sure, you want to delete this file?&quot;)\r\n                    .setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                                        FirebaseFirestore.getInstance().collection(&quot;Users&quot;)\r\n                                                .document(userID).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                                if (task.isSuccessful()) {\r\n                                                    fileModelList.remove(position);\r\n                                                    fileAdapter.notifyItemRemoved(position);\r\n                                                    Toast.makeText(MainActivity.this, &quot;Deleted Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                                } else {\r\n                                                    Toast.makeText(MainActivity.this, &quot;Failed to delete&quot;, Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            }\r\n                                        });\r\n                                    }\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;Cancel&quot;, null)\r\n                    .setIcon(android.R.drawable.ic_dialog_alert)\r\n                    .show();\r\n    }\r\n});\r\n```","title":"How to delete a document of Firestore in Android Studio with Java?","body":"<p>this code put to your adapter on delete button</p>\n<p>userId means your model_list like</p>\n<pre><code>userId = fileModelList.get(position).getUserId()\n</code></pre>\n<pre><code>deleteFileBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n            new AlertDialog.Builder(MainActivity.this, R.style.Theme_AppCompat_Light_Dialog)\n                    .setTitle(&quot;Delete File&quot;)\n                    .setMessage(&quot;Are you sure, you want to delete this file?&quot;)\n                    .setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                                        FirebaseFirestore.getInstance().collection(&quot;Users&quot;)\n                                                .document(userID).delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                            @Override\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                                if (task.isSuccessful()) {\n                                                    fileModelList.remove(position);\n                                                    fileAdapter.notifyItemRemoved(position);\n                                                    Toast.makeText(MainActivity.this, &quot;Deleted Successfully&quot;, Toast.LENGTH_SHORT).show();\n                                                } else {\n                                                    Toast.makeText(MainActivity.this, &quot;Failed to delete&quot;, Toast.LENGTH_SHORT).show();\n                                                }\n                                            }\n                                        });\n                                    }\n                        }\n                    })\n                    .setNegativeButton(&quot;Cancel&quot;, null)\n                    .setIcon(android.R.drawable.ic_dialog_alert)\n                    .show();\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1641898288,"creation_date":1640504124,"question_id":70484886,"body_markdown":"The aim of this application is to delete the entire document from the Firestore when entering the document&#39;s name such as the uid. \r\n\r\nThe following image shows the code that I used to delete the document. \r\n\r\n    firestore = FirebaseFirestore.getInstance();\r\n        button_deleteByID.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                userID = editText_userID.getText().toString();\r\n                Log.d(&quot;userID&quot;, userID);\r\n\r\n                //delete document function\r\n                DocumentReference documentReference = firestore.collection(&quot;Users&quot;).document(userID);\r\n                documentReference.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Log.d(&quot;delete successfully&quot;,&quot;delete successfully&quot;);\r\n                        Toast.makeText(Delete.this, &quot;delete successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(&quot;failed&quot;, &quot;delete failed&quot;);\r\n                    }\r\n                });\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\nThe structure of the Firestore is shown below:\r\n[![firestore][1]][1]\r\n\r\nAfter running this code, the Logcat shows a message &quot;delete successfully&quot;. But the problem is that the document is not deleted in the Firestore. Any solution for it? Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dm8CM.png","title":"How to delete a document of Firestore in Android Studio with Java?","body":"<p>The aim of this application is to delete the entire document from the Firestore when entering the document's name such as the uid.</p>\n<p>The following image shows the code that I used to delete the document.</p>\n<pre><code>firestore = FirebaseFirestore.getInstance();\n    button_deleteByID.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            userID = editText_userID.getText().toString();\n            Log.d(&quot;userID&quot;, userID);\n\n            //delete document function\n            DocumentReference documentReference = firestore.collection(&quot;Users&quot;).document(userID);\n            documentReference.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    Log.d(&quot;delete successfully&quot;,&quot;delete successfully&quot;);\n                    Toast.makeText(Delete.this, &quot;delete successfully&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.d(&quot;failed&quot;, &quot;delete failed&quot;);\n                }\n            });\n\n\n\n        }\n    });\n</code></pre>\n<p>The structure of the Firestore is shown below:\n<a href=\"https://i.stack.imgur.com/dm8CM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dm8CM.png\" alt=\"firestore\" /></a></p>\n<p>After running this code, the Logcat shows a message &quot;delete successfully&quot;. But the problem is that the document is not deleted in the Firestore. Any solution for it? Thanks.</p>\n"},{"tags":["java","game-development","file-location"],"owner":{"account_id":23903803,"reputation":11,"user_id":17901635,"display_name":"MrAres martines"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641898151,"creation_date":1641898151,"question_id":70665498,"body_markdown":"I was trying to locate a sprite-sheet using this code. I tried for like 3 days but i can&#39;t really find the problem. &#191;Can anyone tell me where is the error?\r\n\r\n``` \r\npublic class HojaSprites {\r\n    public final int[] pixeles;\r\n    private final int alto;\r\n    private final int ancho;\r\n    \r\n    //colecci&#243;n de hojas de sprites  \r\n    \r\n    public static HojaSprites SPACE = new HojaSprites(&quot;/assets/spaceships.png&quot;, 192, 192); //192 x 192\r\n\r\n    //fin de colecci&#243;n\r\n    \r\n    \r\n    public HojaSprites(final String ruta, final int ancho, final int alto){\r\n    this.ancho=ancho;\r\n    this.alto=alto;\r\n    \r\n    pixeles= new int[ancho*alto];\r\n    \r\n    BufferedImage imagen; \r\n    try{\r\n        imagen = ImageIO.read(HojaSprites.class.getResource(ruta));\r\n        imagen.getRGB(0,0,ancho,alto,pixeles,0,ancho);}\r\n    catch (IOException e) {}\r\n    \r\n    }\r\n    \r\n    \r\n    public int getAncho(){\r\n    return ancho;\r\n    }\r\n    \r\n    public int getAlto(){\r\n    return alto;\r\n    }\r\n}\r\n``` \r\nI still getting this errors. May it even be an another class problem?\r\n\r\n[error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OfthB.jpg","title":"java.lang.IllegalArgumentException: input == null! finding sprite sheet","body":"<p>I was trying to locate a sprite-sheet using this code. I tried for like 3 days but i can't really find the problem. ¿Can anyone tell me where is the error?</p>\n<pre><code>public class HojaSprites {\n    public final int[] pixeles;\n    private final int alto;\n    private final int ancho;\n    \n    //colección de hojas de sprites  \n    \n    public static HojaSprites SPACE = new HojaSprites(&quot;/assets/spaceships.png&quot;, 192, 192); //192 x 192\n\n    //fin de colección\n    \n    \n    public HojaSprites(final String ruta, final int ancho, final int alto){\n    this.ancho=ancho;\n    this.alto=alto;\n    \n    pixeles= new int[ancho*alto];\n    \n    BufferedImage imagen; \n    try{\n        imagen = ImageIO.read(HojaSprites.class.getResource(ruta));\n        imagen.getRGB(0,0,ancho,alto,pixeles,0,ancho);}\n    catch (IOException e) {}\n    \n    }\n    \n    \n    public int getAncho(){\n    return ancho;\n    }\n    \n    public int getAlto(){\n    return alto;\n    }\n}\n</code></pre>\n<p>I still getting this errors. May it even be an another class problem?</p>\n<p><a href=\"https://i.stack.imgur.com/OfthB.jpg\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongorepository"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641892126,"post_id":70663965,"comment_id":124919690,"body_markdown":"None of that code. The Spring Boot auto configuration for Spring Data MongoDB is using that.","body":"None of that code. The Spring Boot auto configuration for Spring Data MongoDB is using that."},{"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"score":0,"creation_date":1641898065,"post_id":70663965,"comment_id":124922117,"body_markdown":"Is there an annotation that triggers it? - I have added the annotations of my main file in the question.","body":"Is there an annotation that triggers it? - I have added the annotations of my main file in the question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641898193,"post_id":70663965,"comment_id":124922163,"body_markdown":"No as stated that is the spring boot autoconfiguration. Spring Boot detects MongoDB and the existence of Spring Data MongoDB and loads some additional configuration classes.","body":"No as stated that is the spring boot autoconfiguration. Spring Boot detects MongoDB and the existence of Spring Data MongoDB and loads some additional configuration classes."}],"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641897996,"creation_date":1641891192,"question_id":70663965,"body_markdown":"I am trying to understand a spring project which uses MongoDB drivers to connect to a db. \r\nThe `application.properties` file has the following properties defined:\r\n```\r\nspring.data.mongodb.database=${db.name:demo}\r\nspring.data.mongodb.auto-index-creation=false\r\nspring.data.mongodb.uri=mongodb://some-connection-string\r\n```\r\nAnd I see two relevant pieces of code in the project:\r\n - `Application.java`\r\n ```java\r\n@SpringBootApplication\r\n@EnableCaching\r\n@EnableScheduling\r\n@ComponentScan({ &quot;com.paans.*&quot; })\r\n@PropertySource(&quot;classpath:routes.properties&quot;)\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n\tpublic static MongoTemplate _mongoTemplate;\r\n\r\npublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n@Bean\r\n\tpublic MongoTemplate mongoTemplate(MongoDbFactory mongoDbFactory, MongoMappingContext context) {\r\n\t\tMappingMongoConverter converter = new MappingMongoConverter(new DefaultDbRefResolver(mongoDbFactory), context);\r\n\t\tconverter.setTypeMapper(new DefaultMongoTypeMapper(null));\r\n\t\tMongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory, converter);\r\n\t\tmongoTemplate.setReadPreference(ReadPreference.nearest());\r\n\t\t_mongoTemplate = mongoTemplate;\r\n\t\treturn mongoTemplate;\r\n\t}\r\n}\r\n```\r\n\r\n- `MongoConfiguration.java`\r\n```java\r\n@Configuration\r\npublic class MongoConfiguration {\r\n\r\n    @Autowired\r\n    MongoTemplate mongoTemplate;\r\n    @Autowired\r\n    MongoConverter mongoConverter;\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void initIndicesAfterStartup() {\r\n\r\n        MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext = this.mongoConverter.getMappingContext();\r\n\r\n        if (mappingContext instanceof MongoMappingContext) {\r\n            MongoMappingContext mongoMappingContext = (MongoMappingContext) mappingContext;\r\n            for (BasicMongoPersistentEntity&lt;?&gt; persistentEntity : mongoMappingContext.getPersistentEntities()) {\r\n                Class&lt;?&gt; clazz = persistentEntity.getType();\r\n                if (clazz.isAnnotationPresent(Document.class)) {\r\n                    IndexResolver resolver = new MongoPersistentEntityIndexResolver(mongoMappingContext);\r\n                    IndexOperations indexOps = mongoTemplate.indexOps(clazz);\r\n                    resolver.resolveIndexFor(clazz).forEach(indexOps::ensureIndex);\r\n                }\r\n}}}}\r\n```\r\nNow, I am trying to understand the execution sequence of this code and which piece of code is actually picking up the properties set up in `application.properties`. Any help ?","title":"Which Class in mongodb using the values from spring.data.mongodb","body":"<p>I am trying to understand a spring project which uses MongoDB drivers to connect to a db.\nThe <code>application.properties</code> file has the following properties defined:</p>\n<pre><code>spring.data.mongodb.database=${db.name:demo}\nspring.data.mongodb.auto-index-creation=false\nspring.data.mongodb.uri=mongodb://some-connection-string\n</code></pre>\n<p>And I see two relevant pieces of code in the project:</p>\n<ul>\n<li><code>Application.java</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableCaching\n@EnableScheduling\n@ComponentScan({ &quot;com.paans.*&quot; })\n@PropertySource(&quot;classpath:routes.properties&quot;)\npublic class Application extends SpringBootServletInitializer {\n\n   public static MongoTemplate _mongoTemplate;\n\npublic static void main(String[] args) {\n       SpringApplication.run(Application.class, args);\n   }\n\n@Bean\n   public MongoTemplate mongoTemplate(MongoDbFactory mongoDbFactory, MongoMappingContext context) {\n       MappingMongoConverter converter = new MappingMongoConverter(new DefaultDbRefResolver(mongoDbFactory), context);\n       converter.setTypeMapper(new DefaultMongoTypeMapper(null));\n       MongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory, converter);\n       mongoTemplate.setReadPreference(ReadPreference.nearest());\n       _mongoTemplate = mongoTemplate;\n       return mongoTemplate;\n   }\n}\n</code></pre>\n<ul>\n<li><code>MongoConfiguration.java</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfiguration {\n\n    @Autowired\n    MongoTemplate mongoTemplate;\n    @Autowired\n    MongoConverter mongoConverter;\n    @EventListener(ApplicationReadyEvent.class)\n    public void initIndicesAfterStartup() {\n\n        MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext = this.mongoConverter.getMappingContext();\n\n        if (mappingContext instanceof MongoMappingContext) {\n            MongoMappingContext mongoMappingContext = (MongoMappingContext) mappingContext;\n            for (BasicMongoPersistentEntity&lt;?&gt; persistentEntity : mongoMappingContext.getPersistentEntities()) {\n                Class&lt;?&gt; clazz = persistentEntity.getType();\n                if (clazz.isAnnotationPresent(Document.class)) {\n                    IndexResolver resolver = new MongoPersistentEntityIndexResolver(mongoMappingContext);\n                    IndexOperations indexOps = mongoTemplate.indexOps(clazz);\n                    resolver.resolveIndexFor(clazz).forEach(indexOps::ensureIndex);\n                }\n}}}}\n</code></pre>\n<p>Now, I am trying to understand the execution sequence of this code and which piece of code is actually picking up the properties set up in <code>application.properties</code>. Any help ?</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"score":2,"creation_date":1539160810,"post_id":52734495,"comment_id":92396780,"body_markdown":"the problem is with dependency of spring-core, its either not properly updated or there is version mismatch","body":"the problem is with dependency of spring-core, its either not properly updated or there is version mismatch"},{"owner":{"account_id":12154352,"reputation":111,"user_id":8873691,"display_name":"sandy"},"score":0,"creation_date":1539171451,"post_id":52734495,"comment_id":92403166,"body_markdown":"@shubham thanks for the reply it&#39;s working now what I did is delete the spring -core from local repository and then delete the .classpath file from eclipse and i have run mvn eclipse:eclipse so that it will generate the new .classpath with spring-core(uncorrupted) with other dependencies defined in pom.","body":"@shubham thanks for the reply it&#39;s working now what I did is delete the spring -core from local repository and then delete the .classpath file from eclipse and i have run mvn eclipse:eclipse so that it will generate the new .classpath with spring-core(uncorrupted) with other dependencies defined in pom."},{"owner":{"account_id":11621400,"reputation":1181,"user_id":8512611,"display_name":"Palla"},"score":0,"creation_date":1550872172,"post_id":52734495,"comment_id":96446083,"body_markdown":"@sandy removing .class and executing mvn eclipse:eclipse didnt work, still see the same issue","body":"@sandy removing .class and executing mvn eclipse:eclipse didnt work, still see the same issue"}],"answers":[{"tags":[],"owner":{"account_id":4680540,"reputation":91,"user_id":3789359,"display_name":"LanaLang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579668639,"creation_date":1579668639,"answer_id":59852805,"question_id":52734495,"body_markdown":"I have this issue my spring boot project also has a dependency a another jar library which contains \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.15.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAltough the version of my spring boot project was 5.1.12.RELEASE, there was a jar conflict problem I think. I upgared the version of spring-core 5.0.15.RELEASE to 5.1.12.RELEASE.\r\nThen problem was solved.\r\n\r\nPlease ensure that all versions of jars are matched.","title":"unresolvable dependency org.springframework.core.KotlinDetector.isKotlinReflectPresent()z","body":"<p>I have this issue my spring boot project also has a dependency a another jar library which contains </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;version&gt;5.0.15.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Altough the version of my spring boot project was 5.1.12.RELEASE, there was a jar conflict problem I think. I upgared the version of spring-core 5.0.15.RELEASE to 5.1.12.RELEASE.\nThen problem was solved.</p>\n\n<p>Please ensure that all versions of jars are matched.</p>\n"},{"tags":[],"owner":{"account_id":952010,"reputation":211,"user_id":4970460,"display_name":"murali mohan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599147740,"creation_date":1599147740,"answer_id":63727142,"question_id":52734495,"body_markdown":"For me, the problem was that an older version of spring-core (4.x, where as rest of the libraries were at 5.2.8.RELEASE)) had creeped in and it was coming via spring-retry dependency. mvn dependency:tree helped me figure this out.\r\n\r\nExcluded it and that did the job:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n ","title":"unresolvable dependency org.springframework.core.KotlinDetector.isKotlinReflectPresent()z","body":"<p>For me, the problem was that an older version of spring-core (4.x, where as rest of the libraries were at 5.2.8.RELEASE)) had creeped in and it was coming via spring-retry dependency. mvn dependency:tree helped me figure this out.</p>\n<p>Excluded it and that did the job:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n  &lt;version&gt;1.3.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12154352,"reputation":111,"user_id":8873691,"display_name":"sandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12136,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1641897776,"creation_date":1539155086,"question_id":52734495,"body_markdown":"Hi everyone I am getting the following error while deploying my application in tomcat.I have configiured tomcat in eclipse and the version tomcat is 8.5.3 and the version of java is 1.8.\r\n\r\n    DEBUG   2018-10-10 11:52:09,243 [localhost-startStop-1] org.springframework.web.servlet.DispatcherServlet  - Servlet with name &#39;spitter&#39; will try to create custom WebApplicationContext context of class &#39;org.springframework.web.context.support.XmlWebApplicationContext&#39;, using parent context [null]\r\n    ERROR   2018-10-10 11:52:09,368 [localhost-startStop-1] org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.context.support.XmlWebApplicationContext]: Unresolvable class definition; nested exception is java.lang.NoSuchMethodError: org.springframework.core.KotlinDetector.isKotlinReflectPresent()Z\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:132)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:630)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:983)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4978)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5290)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.core.KotlinDetector.isKotlinReflectPresent()Z\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:171)\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:122)\r\n    \t... 22 more\r\nI have the following dependencies in my pom.xml\r\n  \r\n\r\n    &lt;properties&gt;\r\n      &lt;spring-version&gt;5.0.9.RELEASE&lt;/spring-version&gt;\r\n      &lt;junit-version&gt;4.12&lt;/junit-version&gt;\r\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      \r\n      &lt;/properties&gt;\r\n    \r\n     \r\n    \r\n       &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n       \t   &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        \r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Jackson JSON Processor --&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.4&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    \r\n      &lt;!-- https://mvnrepository.com/artifact/org.hornetq/hornetq-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hornetq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hornetq-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.18.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nIn the lib folder of my target war also contains all the jars that i have declared in the pom.I have tried to clean and clean working directory of tomcat but still getting the same error.\r\n\r\nMy web.xml is as follows\r\n\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;spitter&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;!-- if we want to use custom configuration file use init param attribute and set contextConfigLocation parameter to our \r\n    custom file otherwise it will look forservletname-servlet.xml file in WEB-INF location --&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;spitter&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;!-- &lt;filter&gt;\r\n    &lt;filter-name&gt;spingSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    &lt;/filter&gt; --&gt;\r\n    &lt;/web-app&gt;\r\n\r\ncan anyone please help me out on this issue.Thanks in advance\r\n \r\n\r\n","title":"unresolvable dependency org.springframework.core.KotlinDetector.isKotlinReflectPresent()z","body":"<p>Hi everyone I am getting the following error while deploying my application in tomcat.I have configiured tomcat in eclipse and the version tomcat is 8.5.3 and the version of java is 1.8.</p>\n\n<pre><code>DEBUG   2018-10-10 11:52:09,243 [localhost-startStop-1] org.springframework.web.servlet.DispatcherServlet  - Servlet with name 'spitter' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [null]\nERROR   2018-10-10 11:52:09,368 [localhost-startStop-1] org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.context.support.XmlWebApplicationContext]: Unresolvable class definition; nested exception is java.lang.NoSuchMethodError: org.springframework.core.KotlinDetector.isKotlinReflectPresent()Z\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:132)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:630)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:983)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4978)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5290)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoSuchMethodError: org.springframework.core.KotlinDetector.isKotlinReflectPresent()Z\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:171)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:122)\n    ... 22 more\n</code></pre>\n\n<p>I have the following dependencies in my pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;spring-version&gt;5.0.9.RELEASE&lt;/spring-version&gt;\n  &lt;junit-version&gt;4.12&lt;/junit-version&gt;\n   &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n  &lt;/properties&gt;\n\n\n\n   &lt;dependencies&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n &lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;  \n\n&lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;${spring-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;${spring-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;${spring-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${spring-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Jackson JSON Processor --&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.4&lt;/version&gt;\n&lt;/dependency&gt; \n\n  &lt;!-- https://mvnrepository.com/artifact/org.hornetq/hornetq-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hornetq&lt;/groupId&gt;\n    &lt;artifactId&gt;hornetq-core&lt;/artifactId&gt;\n    &lt;version&gt;2.2.18.Final&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>In the lib folder of my target war also contains all the jars that i have declared in the pom.I have tried to clean and clean working directory of tomcat but still getting the same error.</p>\n\n<p>My web.xml is as follows</p>\n\n<pre><code>&lt;servlet&gt;\n&lt;servlet-name&gt;spitter&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;!-- if we want to use custom configuration file use init param attribute and set contextConfigLocation parameter to our \ncustom file otherwise it will look forservletname-servlet.xml file in WEB-INF location --&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;spitter&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;!-- &lt;filter&gt;\n&lt;filter-name&gt;spingSecurityFilterChain&lt;/filter-name&gt;\n&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt; --&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>can anyone please help me out on this issue.Thanks in advance</p>\n"},{"tags":["java","reactjs","tomcat","servlets"],"comments":[{"owner":{"account_id":109855,"reputation":7588,"user_id":290910,"accept_rate":71,"display_name":"Dave"},"score":1,"creation_date":1641653983,"post_id":70633424,"comment_id":124863508,"body_markdown":"Looks like you are not adding the lines array to the response, just printing them out to debug. Confirm there is no body by looking at the response from the server in the browser&#39;s developer tools.","body":"Looks like you are not adding the lines array to the response, just printing them out to debug. Confirm there is no body by looking at the response from the server in the browser&#39;s developer tools."},{"owner":{"account_id":19018751,"reputation":63,"user_id":13893049,"display_name":"Sharon Shelton"},"score":0,"creation_date":1641654362,"post_id":70633424,"comment_id":124863620,"body_markdown":"@Dave No I tried sending some JSON response using PrintWriter and tried to display the response on the browser&#39;s console and the response body was empty. I want the data to be on the response body so that I can access it and display it on a label later","body":"@Dave No I tried sending some JSON response using PrintWriter and tried to display the response on the browser&#39;s console and the response body was empty. I want the data to be on the response body so that I can access it and display it on a label later"},{"owner":{"account_id":19018751,"reputation":63,"user_id":13893049,"display_name":"Sharon Shelton"},"score":0,"creation_date":1641654517,"post_id":70633424,"comment_id":124863661,"body_markdown":"@Dave I&#39;ve removed those lines to avoid confusion(since i just used them for testing).","body":"@Dave I&#39;ve removed those lines to avoid confusion(since i just used them for testing)."},{"owner":{"account_id":19018751,"reputation":63,"user_id":13893049,"display_name":"Sharon Shelton"},"score":0,"creation_date":1641657837,"post_id":70633424,"comment_id":124864434,"body_markdown":"@Dave I can see the content-length of my response. Can you please tell me how can I access the content from the response in the fetch() API so that I can display it on a label?","body":"@Dave I can see the content-length of my response. Can you please tell me how can I access the content from the response in the fetch() API so that I can display it on a label?"}],"answers":[{"tags":[],"owner":{"account_id":109855,"reputation":7588,"user_id":290910,"accept_rate":71,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641662863,"creation_date":1641662863,"answer_id":70634759,"question_id":70633424,"body_markdown":"I do not see where you write the body in the servlet response.\r\n\r\nPerhaps you need something like this:\r\n\r\n    final PrintWriter writer = response.getWriter();\r\n    for (String a : lines)\r\n               writer.println(a);\r\n\r\nNote: your client is expecting a JSON object back, so you probably want to write your jObj to the output and not lines of text.\r\n\r\nUse google chrome debug to [view response headers][1] of your network request. There you can see the body of the response. My guess is that your client-side code is fine and the server is not sending any content in the body.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://java2blog.com/how-to-view-http-headers-google-chrome/\r\n  [2]: https://i.stack.imgur.com/mf7Jt.png","title":"How to send an array as JSON from java servlet to react frontend using fetch()?","body":"<p>I do not see where you write the body in the servlet response.</p>\n<p>Perhaps you need something like this:</p>\n<pre><code>final PrintWriter writer = response.getWriter();\nfor (String a : lines)\n           writer.println(a);\n</code></pre>\n<p>Note: your client is expecting a JSON object back, so you probably want to write your jObj to the output and not lines of text.</p>\n<p>Use google chrome debug to <a href=\"https://java2blog.com/how-to-view-http-headers-google-chrome/\" rel=\"nofollow noreferrer\">view response headers</a> of your network request. There you can see the body of the response. My guess is that your client-side code is fine and the server is not sending any content in the body.</p>\n<p><a href=\"https://i.stack.imgur.com/mf7Jt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mf7Jt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23871810,"reputation":11,"user_id":17873408,"display_name":"Divyanshu Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641668776,"creation_date":1641668776,"answer_id":70635539,"question_id":70633424,"body_markdown":"From your code it&#39;s not clear how did you use PrintWriter. You can try something like below and then check the response:\r\n\r\n    String message = new ArrayList&lt;String&gt;();\r\n    PrintWriter writer = response.getWriter();\r\n    JSONObject obj = new JSONObject();\r\n    obj.put(&quot;message&quot;,message); \r\n    response.setStatus(200);\r\n    writer.append(obj.toString());\r\n    writer.close();\r\n\r\nPut a string message on JSON object to check whether nothing is being passed or only response is not being passed. Call &quot;*response.message*&quot; to fetch the message on client side.","title":"How to send an array as JSON from java servlet to react frontend using fetch()?","body":"<p>From your code it's not clear how did you use PrintWriter. You can try something like below and then check the response:</p>\n<pre><code>String message = new ArrayList&lt;String&gt;();\nPrintWriter writer = response.getWriter();\nJSONObject obj = new JSONObject();\nobj.put(&quot;message&quot;,message); \nresponse.setStatus(200);\nwriter.append(obj.toString());\nwriter.close();\n</code></pre>\n<p>Put a string message on JSON object to check whether nothing is being passed or only response is not being passed. Call &quot;<em>response.message</em>&quot; to fetch the message on client side.</p>\n"},{"tags":[],"owner":{"account_id":19018751,"reputation":63,"user_id":13893049,"display_name":"Sharon Shelton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641897697,"creation_date":1641897697,"answer_id":70665391,"question_id":70633424,"body_markdown":"It was because I used &quot;no-cors&quot; mode in the client side which means that JavaScript cannot access the properties of the resulting response. Here&#39;s a detailed explanation about it: https://stackoverflow.com/a/43319482/13893049 .\r\nI&#39;ve done several modifications on the client side as well as the server side including changing the content type from application/json to text/plain since json format is not among one of the allowed types.\r\n```\r\nThe only allowed values for the Content-Type header are:\r\n\r\napplication/x-www-form-urlencoded\r\nmultipart/form-data\r\ntext/plain\r\n```\r\n\r\nNow my client side code looks like this:\r\n```\r\n    var newText = { text: text, commands: new_list.join(), reg: reg };\r\n\r\n      await fetch(`http://localhost:8080/backend/link`, {\r\n        method: &quot;POST&quot;,\r\n        headers: {\r\n          &quot;Content-Type&quot;: &quot;text/plain&quot;,\r\n          &quot;Origin&quot; : &quot;http://localhost:3000/&quot;,\r\n        },\r\n        body: JSON.stringify(newText),\r\n      })\r\n        .then((response) =&gt; response.text())\r\n        .then((data) =&gt; {\r\n          //console.log(&quot;Success&quot;);\r\n          //console.log(typeof data);\r\n          setRes(regex(data));\r\n        });\r\n  }\r\n```\r\n(I&#39;ve added few variables for my requirement)\r\n\r\nFrom the server side I&#39;m sending back an array in the form of string.\r\nI&#39;m answering my own question since someone in the future might find in helpful. Do let me know in the comments if you got any doubts.","title":"How to send an array as JSON from java servlet to react frontend using fetch()?","body":"<p>It was because I used &quot;no-cors&quot; mode in the client side which means that JavaScript cannot access the properties of the resulting response. Here's a detailed explanation about it: <a href=\"https://stackoverflow.com/a/43319482/13893049\">https://stackoverflow.com/a/43319482/13893049</a> .\nI've done several modifications on the client side as well as the server side including changing the content type from application/json to text/plain since json format is not among one of the allowed types.</p>\n<pre><code>The only allowed values for the Content-Type header are:\n\napplication/x-www-form-urlencoded\nmultipart/form-data\ntext/plain\n</code></pre>\n<p>Now my client side code looks like this:</p>\n<pre><code>    var newText = { text: text, commands: new_list.join(), reg: reg };\n\n      await fetch(`http://localhost:8080/backend/link`, {\n        method: &quot;POST&quot;,\n        headers: {\n          &quot;Content-Type&quot;: &quot;text/plain&quot;,\n          &quot;Origin&quot; : &quot;http://localhost:3000/&quot;,\n        },\n        body: JSON.stringify(newText),\n      })\n        .then((response) =&gt; response.text())\n        .then((data) =&gt; {\n          //console.log(&quot;Success&quot;);\n          //console.log(typeof data);\n          setRes(regex(data));\n        });\n  }\n</code></pre>\n<p>(I've added few variables for my requirement)</p>\n<p>From the server side I'm sending back an array in the form of string.\nI'm answering my own question since someone in the future might find in helpful. Do let me know in the comments if you got any doubts.</p>\n"}],"owner":{"account_id":19018751,"reputation":63,"user_id":13893049,"display_name":"Sharon Shelton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70665391,"answer_count":3,"score":2,"last_activity_date":1641897697,"creation_date":1641653175,"question_id":70633424,"body_markdown":"I&#39;ve been working on a react app. In this app, I will be sending the input from the user to the Java servlet on the tomcat server to sort it. After sorting, I&#39;m trying to display it on a label in my react app. I&#39;ve successfully sent it to the java servlet using fetch method() and sorted it.\r\n\r\nThis is how my fetch() method looks like:\r\n```\r\n const [text, setText] = useState(&quot;&quot;);\r\n  async function onSubmit() {\r\n \r\n    var newText = { text: text}; //object\r\n      await fetch(`http://localhost:8080/backend/link`, {\r\n        method: &quot;POST&quot;,\r\n        headers: {\r\n          &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n          &quot;Access-Control-Allow-Origin&quot; : &quot;*&quot;,\r\n &quot;Access-Control-Allow-Credentials&quot; : true,\r\n &quot;status&quot; : 200\r\n        },\r\n        body: JSON.stringify(newText),\r\n        mode: &#39;no-cors&#39;,\r\n      })\r\n        .then((response) =&gt; {\r\n        console.log(&quot;response&quot;);\r\n        console.log(response.body); //displays null\r\n        })\r\n        .then((data) =&gt; {\r\n        console.log(data);\r\n          console.log(&quot;Success&quot;);\r\n        });\r\n    }\r\n```\r\nMy Java servlet looks like this:\r\n```\r\npublic void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException\r\n{\r\nSystem.out.println(&quot;invoked&quot;);\r\nString jsonBody = new BufferedReader(new InputStreamReader(request.getInputStream())).lines().collect(\r\n           Collectors.joining(&quot;\\n&quot;));\r\nSystem.out.println(jsonBody);\r\nif (jsonBody == null || jsonBody.trim().length() == 0) {\r\n       return;\r\n   }\r\n   JSONObject jObj;\r\ntry {\r\njObj = new JSONObject(jsonBody);\r\nString lines[] = ((String) jObj.get(&quot;text&quot;)).split(&quot;,&quot;); //The words in the input are separated by comma\r\nArrays.sort(lines);\r\nfor (String a : lines)\r\n           System.out.println(a);\r\n\r\nresponse.setContentType(&quot;application/json&quot;);\r\n   response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n   \r\n} catch (JSONException e) {\r\nSystem.out.print(&quot;Exception&quot;);\r\n}\r\n}\r\n```\r\nwhatever I send in the response object (Using Printwriter), the fetched response&#39;s body is null.\r\nHow can I send the array so that I can get it in the response object of the fetch and then display it in a label?\r\n\r\nPlease leave your suggestions\r\n","title":"How to send an array as JSON from java servlet to react frontend using fetch()?","body":"<p>I've been working on a react app. In this app, I will be sending the input from the user to the Java servlet on the tomcat server to sort it. After sorting, I'm trying to display it on a label in my react app. I've successfully sent it to the java servlet using fetch method() and sorted it.</p>\n<p>This is how my fetch() method looks like:</p>\n<pre><code> const [text, setText] = useState(&quot;&quot;);\n  async function onSubmit() {\n \n    var newText = { text: text}; //object\n      await fetch(`http://localhost:8080/backend/link`, {\n        method: &quot;POST&quot;,\n        headers: {\n          &quot;Content-Type&quot;: &quot;application/json&quot;,\n          &quot;Access-Control-Allow-Origin&quot; : &quot;*&quot;,\n &quot;Access-Control-Allow-Credentials&quot; : true,\n &quot;status&quot; : 200\n        },\n        body: JSON.stringify(newText),\n        mode: 'no-cors',\n      })\n        .then((response) =&gt; {\n        console.log(&quot;response&quot;);\n        console.log(response.body); //displays null\n        })\n        .then((data) =&gt; {\n        console.log(data);\n          console.log(&quot;Success&quot;);\n        });\n    }\n</code></pre>\n<p>My Java servlet looks like this:</p>\n<pre><code>public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException\n{\nSystem.out.println(&quot;invoked&quot;);\nString jsonBody = new BufferedReader(new InputStreamReader(request.getInputStream())).lines().collect(\n           Collectors.joining(&quot;\\n&quot;));\nSystem.out.println(jsonBody);\nif (jsonBody == null || jsonBody.trim().length() == 0) {\n       return;\n   }\n   JSONObject jObj;\ntry {\njObj = new JSONObject(jsonBody);\nString lines[] = ((String) jObj.get(&quot;text&quot;)).split(&quot;,&quot;); //The words in the input are separated by comma\nArrays.sort(lines);\nfor (String a : lines)\n           System.out.println(a);\n\nresponse.setContentType(&quot;application/json&quot;);\n   response.setCharacterEncoding(&quot;UTF-8&quot;);\n   \n} catch (JSONException e) {\nSystem.out.print(&quot;Exception&quot;);\n}\n}\n</code></pre>\n<p>whatever I send in the response object (Using Printwriter), the fetched response's body is null.\nHow can I send the array so that I can get it in the response object of the fetch and then display it in a label?</p>\n<p>Please leave your suggestions</p>\n"},{"tags":["java","error-handling","syntax-error","processing"],"answers":[{"tags":[],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641569061,"creation_date":1641569061,"answer_id":70623460,"question_id":70623306,"body_markdown":"Yeah to my knowledge, try-catch block is your best bet here. There might be someone else though that might know a different way","title":"How to skip a line with a syntax error in Java/Processing?","body":"<p>Yeah to my knowledge, try-catch block is your best bet here. There might be someone else though that might know a different way</p>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641897689,"creation_date":1641897689,"answer_id":70665390,"question_id":70623306,"body_markdown":"Suggestion: Run you program, check output using javac, look at the exit code. If non zero, rerun your code generation code with more strict output if that is possible.","title":"How to skip a line with a syntax error in Java/Processing?","body":"<p>Suggestion: Run you program, check output using javac, look at the exit code. If non zero, rerun your code generation code with more strict output if that is possible.</p>\n"}],"owner":{"account_id":20605172,"reputation":23,"user_id":15132902,"display_name":"Rowan Ackerman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641897689,"creation_date":1641568350,"question_id":70623306,"body_markdown":"I have a program that generates a bunch of code snippets, most of which are syntactically usable, but some of which are not.  The ones that don&#39;t might look like \r\n```lang-java\r\nreturn 2.0+0.0+pow(2.0),2.0;\r\n```\r\nI have been unable to modify my original code to avoid these issues, but I suppose this could be fixed by some method to test if a string contains syntactically correct code.  \r\n\r\nHere&#39;s an example of my code.  This entire file would be saved from another program to be run afterwards.  \r\n```lang-java\r\n{\r\nprint(myFun());\r\n}\r\n\r\nfloat myFun() {\r\n  return 2.0+0.0+pow(2.0),2.0;\r\n  return 10;\r\n}\r\n```\r\nThe first line of the function obviously has syntax issues (i.e, not enough arguments in pow() and an out-of-place comma), so the code will not compile.  My hope would be that there is something, possibly similar to a `try` ... `catch` block, to simply skip over this unusable line and move on to the next.  \r\n\r\nThanks in advance!  \r\n\r\nJust for reference, I&#39;m using Processing 4.0 on Windows 10.  ","title":"How to skip a line with a syntax error in Java/Processing?","body":"<p>I have a program that generates a bunch of code snippets, most of which are syntactically usable, but some of which are not.  The ones that don't might look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>return 2.0+0.0+pow(2.0),2.0;\n</code></pre>\n<p>I have been unable to modify my original code to avoid these issues, but I suppose this could be fixed by some method to test if a string contains syntactically correct code.</p>\n<p>Here's an example of my code.  This entire file would be saved from another program to be run afterwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\nprint(myFun());\n}\n\nfloat myFun() {\n  return 2.0+0.0+pow(2.0),2.0;\n  return 10;\n}\n</code></pre>\n<p>The first line of the function obviously has syntax issues (i.e, not enough arguments in pow() and an out-of-place comma), so the code will not compile.  My hope would be that there is something, possibly similar to a <code>try</code> ... <code>catch</code> block, to simply skip over this unusable line and move on to the next.</p>\n<p>Thanks in advance!</p>\n<p>Just for reference, I'm using Processing 4.0 on Windows 10.</p>\n"},{"tags":["java","multithreading","statistics","analytics","simulation"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1458158253,"post_id":36045649,"comment_id":59740012,"body_markdown":"Is your code [thread-safe](http://www.javaworld.com/article/2076747/core-java/design-for-thread-safety.html)?","body":"Is your code <a href=\"http://www.javaworld.com/article/2076747/core-java/design-for-thread-safety.html\" rel=\"nofollow noreferrer\">thread-safe</a>?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1458158882,"post_id":36045649,"comment_id":59740353,"body_markdown":"see java.util.concurrent Executors and ExecutorService","body":"see java.util.concurrent Executors and ExecutorService"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1458158930,"post_id":36045649,"comment_id":59740386,"body_markdown":"Use [Amdahl&#39;s Law](https://en.wikipedia.org/wiki/Amdahl%27s_law) to determine how much parallelizing you code can speed it up.","body":"Use <a href=\"https://en.wikipedia.org/wiki/Amdahl%27s_law\" rel=\"nofollow noreferrer\">Amdahl&#39;s Law</a> to determine how much parallelizing you code can speed it up."}],"answers":[{"tags":[],"owner":{"account_id":2873902,"reputation":407,"user_id":3626495,"accept_rate":100,"display_name":"stegzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641897258,"creation_date":1458160146,"answer_id":36046304,"question_id":36045649,"body_markdown":"If your code is thread-safe and you can split the task into discrete chunks that do not rely on each other then it is relatively easy. Make the class that does the work Callable and add the chunks of work to a List, and then use ExecutorService, like this:\r\n\r\n    ArrayList&lt;Simulation&gt; SL=new ArrayList&lt;Simulation&gt;();\r\n    for(int i=0; i&lt;chunks; i++)\r\n        SL.add(new Simulation(i));\r\n    ExecutorService executor=Executors.newFixedThreadPool(nthreads);//how many threads\r\n\tList&lt;Future&lt;Result&gt;&gt; results=null;\r\n\ttry {\r\n\t\t results = executor.invokeAll(SL);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t  e.printStackTrace();\r\n\t\t}\r\n\texecutor.shutdown();\r\n    for(Future&lt;Result&gt; result:results)\r\n      result.print();\r\n\t\t\r\nSo, Simulation is callable and returns a Result, results is a List which gets filled when executor.invokeAll is called with the ArrayList of simulations. Once you&#39;ve got your results you can print them or whatever. Probably best to set nthreads equal to the number of cores you available.\r\n","title":"Java multithreading for the purpose of simulating data","body":"<p>If your code is thread-safe and you can split the task into discrete chunks that do not rely on each other then it is relatively easy. Make the class that does the work Callable and add the chunks of work to a List, and then use ExecutorService, like this:</p>\n<pre><code>ArrayList&lt;Simulation&gt; SL=new ArrayList&lt;Simulation&gt;();\nfor(int i=0; i&lt;chunks; i++)\n    SL.add(new Simulation(i));\nExecutorService executor=Executors.newFixedThreadPool(nthreads);//how many threads\nList&lt;Future&lt;Result&gt;&gt; results=null;\ntry {\n     results = executor.invokeAll(SL);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\nexecutor.shutdown();\nfor(Future&lt;Result&gt; result:results)\n  result.print();\n    \n</code></pre>\n<p>So, Simulation is callable and returns a Result, results is a List which gets filled when executor.invokeAll is called with the ArrayList of simulations. Once you've got your results you can print them or whatever. Probably best to set nthreads equal to the number of cores you available.</p>\n"},{"tags":[],"owner":{"account_id":4743897,"reputation":170,"user_id":3835708,"display_name":"rahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458160446,"creation_date":1458160446,"answer_id":36046393,"question_id":36045649,"body_markdown":"If you are new to Java multi-threading, this explanation might seem a little difficult to understand at first but I&#39;ll try and make it seem as simple as possible.\r\n\r\nBasically I think generally whenever you have large datasets, running operations concurrently using multiple threads does significantly speed up the process as oppose to using a single threaded approach, but there are exceptions of course.\r\n\r\nYou need to think about three things:\r\n\r\n1. Creating threads\r\n\r\n2. Managing Threads\r\n\r\n3. Communicating/sharing results computed by each thread with main thread\r\n\r\nCreating Threads:\r\nThreads can be created manually extending the Thread class or you can use Executors class. \r\nI would prefer the Executors class to create threads as it allows you to create a thread pool and does the thread management for you. That is it will allow you to re-use existing threads that are idle in the thread pool, thus reducing memory footprint of the application.\r\nYou also have to look at ExecutorService Interface as you will be using it to excite your tasks.\r\n\r\nManaging threads:\r\nExecutors/Executors service does a great job of managing threads automatically, so if you use it you don&#39;t have to worry about thread management much.\r\n\r\nCommunication: This is the key part of the entire process. Here you have to consider in great detail about thread safety of your app. \r\n\r\nI would recommend using two queues to do the job, a read queue to read data off and write queue to write data to. \r\n\r\nBut if you are using a simple arraylist make sure that you synchronize your code for thread safety by enclosing the arraylist in a synchronized block\r\n\r\n    synchronized(arrayList){\r\n     // do stuff\r\n   }","title":"Java multithreading for the purpose of simulating data","body":"<p>If you are new to Java multi-threading, this explanation might seem a little difficult to understand at first but I'll try and make it seem as simple as possible.</p>\n\n<p>Basically I think generally whenever you have large datasets, running operations concurrently using multiple threads does significantly speed up the process as oppose to using a single threaded approach, but there are exceptions of course.</p>\n\n<p>You need to think about three things:</p>\n\n<ol>\n<li><p>Creating threads</p></li>\n<li><p>Managing Threads</p></li>\n<li><p>Communicating/sharing results computed by each thread with main thread</p></li>\n</ol>\n\n<p>Creating Threads:\nThreads can be created manually extending the Thread class or you can use Executors class. \nI would prefer the Executors class to create threads as it allows you to create a thread pool and does the thread management for you. That is it will allow you to re-use existing threads that are idle in the thread pool, thus reducing memory footprint of the application.\nYou also have to look at ExecutorService Interface as you will be using it to excite your tasks.</p>\n\n<p>Managing threads:\nExecutors/Executors service does a great job of managing threads automatically, so if you use it you don't have to worry about thread management much.</p>\n\n<p>Communication: This is the key part of the entire process. Here you have to consider in great detail about thread safety of your app. </p>\n\n<p>I would recommend using two queues to do the job, a read queue to read data off and write queue to write data to. </p>\n\n<p>But if you are using a simple arraylist make sure that you synchronize your code for thread safety by enclosing the arraylist in a synchronized block</p>\n\n<pre><code>synchronized(arrayList){\n // do stuff\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":3442937,"reputation":471,"user_id":2884427,"accept_rate":45,"display_name":"Schwaitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641897258,"creation_date":1458157852,"question_id":36045649,"body_markdown":"So I am currently creating a data analytics and predictive program, and for testing purposes, I am simulating large amounts of data (in the range of 10,000 - 1,000,000) &quot;trials&quot;. The data is a simulated Match for a theoretical game. Each Match has rounds. The basic psudocode for the program is this:\r\n\r\n\tmain(){\r\n\t\tdata = create(100000);\r\n\t\tsaveToFile(data);\r\n\t}\r\n\r\n\tData create(){\r\n\t\tData returnData = new Data(playTestMatch());\r\n\t}\r\n\t\r\n\tMatch playTestMatch(){\r\n\r\n\r\n\t\tList&lt;Round&gt; rounds = new List&lt;Round&gt;();\r\n\r\n\t\twhile(!GameFinished){\r\n\t\t\trounds.add(playTestRound());\r\n\t\t}\r\n\r\n\t\tMatch returnMatch = new Match(rounds);\r\n\t}\r\n\r\n\r\n\tRound playTestRound(){\r\n\t\t//Do round stuff\r\n\t}\r\n\r\n\r\nRight now, I am wondering whether I can handle the simulation of these rounds over multiple threads to speed up the process. I am NOT familiar with the theory behind multithreading, so would someone please either help me accomplish this, OR explain to me why this won&#39;t work (won&#39;t speed up the process). Thanks!\r\n","title":"Java multithreading for the purpose of simulating data","body":"<p>So I am currently creating a data analytics and predictive program, and for testing purposes, I am simulating large amounts of data (in the range of 10,000 - 1,000,000) \"trials\". The data is a simulated Match for a theoretical game. Each Match has rounds. The basic psudocode for the program is this:</p>\n\n<pre><code>main(){\n    data = create(100000);\n    saveToFile(data);\n}\n\nData create(){\n    Data returnData = new Data(playTestMatch());\n}\n\nMatch playTestMatch(){\n\n\n    List&lt;Round&gt; rounds = new List&lt;Round&gt;();\n\n    while(!GameFinished){\n        rounds.add(playTestRound());\n    }\n\n    Match returnMatch = new Match(rounds);\n}\n\n\nRound playTestRound(){\n    //Do round stuff\n}\n</code></pre>\n\n<p>Right now, I am wondering whether I can handle the simulation of these rounds over multiple threads to speed up the process. I am NOT familiar with the theory behind multithreading, so would someone please either help me accomplish this, OR explain to me why this won't work (won't speed up the process). Thanks!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23557777,"reputation":193,"user_id":17600104,"display_name":"Cookie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641880950,"creation_date":1641880817,"answer_id":70662257,"question_id":70662182,"body_markdown":"You can go this way:\r\n - Make the interface(or abstract class if needed) `Profession` and implement your classes (`Driver, Sorter, Manager`) from it.\r\n\r\n - Make `Person` not abstract and add there field `List&lt;Profession&gt;`. And when you need some methods call it in cycle for each `Profession`.","title":"Object is more then 1 child, now what?","body":"<p>You can go this way:</p>\n<ul>\n<li><p>Make the interface(or abstract class if needed) <code>Profession</code> and implement your classes (<code>Driver, Sorter, Manager</code>) from it.</p>\n</li>\n<li><p>Make <code>Person</code> not abstract and add there field <code>List&lt;Profession&gt;</code>. And when you need some methods call it in cycle for each <code>Profession</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641880882,"creation_date":1641880882,"answer_id":70662268,"question_id":70662182,"body_markdown":"You&#39;ve discovered one of the fundamental limitations of inheritance: It creates a very tight coupling between parent and child. &quot;A Sorter is a Person&quot;. Not &quot;A Sorter is some other kind of Person&quot;, but literally &quot;A Sorter is directly an extension of Person and nothing else&quot;.\r\n\r\nYou can use composition to make explicit who to call next in the &quot;inheritance&quot; chain.\r\n\r\n    public interface Person {\r\n      public void reportSick();\r\n    }\r\n\r\n    public class OrdinaryPerson implements Person {\r\n      public void reportSick() {\r\n        // An &quot;ordinary&quot; person does nothing when they report sick.\r\n      }\r\n    }\r\n\r\n    public class Driver implements Person {\r\n      private Person next;\r\n\r\n      public Driver(Person next) {\r\n        this.next = next;\r\n      }\r\n\r\n      public void reportSick() {\r\n        // Driver specific stuff goes here ...\r\n        this.next.reportSick();\r\n      }\r\n\r\n    }\r\n\r\n    // Then do the same for Sorter and Manager ...\r\n\r\nNow, if a person is &quot;just&quot; a driver, you can represent them as\r\n\r\n    new Driver(new OrdinaryPerson())\r\n\r\nThis person is both a driver and an ordinary person (`OrdinaryPerson` is our null object; it has no actual behaviors to speak of, so we can use it to break our chain).\r\n\r\nIf a person is both a driver and a sorter, we can write\r\n\r\n    new Driver(new Sorter(new OrdinaryPerson()))\r\n\r\nand assuming `Driver` and `Sorter` each call the inner `reportSick` method, they&#39;ll both get called when you call the method on this aggregate we&#39;ve constructed.","title":"Object is more then 1 child, now what?","body":"<p>You've discovered one of the fundamental limitations of inheritance: It creates a very tight coupling between parent and child. &quot;A Sorter is a Person&quot;. Not &quot;A Sorter is some other kind of Person&quot;, but literally &quot;A Sorter is directly an extension of Person and nothing else&quot;.</p>\n<p>You can use composition to make explicit who to call next in the &quot;inheritance&quot; chain.</p>\n<pre><code>public interface Person {\n  public void reportSick();\n}\n\npublic class OrdinaryPerson implements Person {\n  public void reportSick() {\n    // An &quot;ordinary&quot; person does nothing when they report sick.\n  }\n}\n\npublic class Driver implements Person {\n  private Person next;\n\n  public Driver(Person next) {\n    this.next = next;\n  }\n\n  public void reportSick() {\n    // Driver specific stuff goes here ...\n    this.next.reportSick();\n  }\n\n}\n\n// Then do the same for Sorter and Manager ...\n</code></pre>\n<p>Now, if a person is &quot;just&quot; a driver, you can represent them as</p>\n<pre><code>new Driver(new OrdinaryPerson())\n</code></pre>\n<p>This person is both a driver and an ordinary person (<code>OrdinaryPerson</code> is our null object; it has no actual behaviors to speak of, so we can use it to break our chain).</p>\n<p>If a person is both a driver and a sorter, we can write</p>\n<pre><code>new Driver(new Sorter(new OrdinaryPerson()))\n</code></pre>\n<p>and assuming <code>Driver</code> and <code>Sorter</code> each call the inner <code>reportSick</code> method, they'll both get called when you call the method on this aggregate we've constructed.</p>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641887455,"creation_date":1641885484,"answer_id":70662937,"question_id":70662182,"body_markdown":"Driver, Manager &amp; Sorter are just special kind of service that any person is efficient with. It may be one or more.\r\nSo, best way to declare interfaces for them and declare method for each without body.\r\nNow declare class which extends abstract class &amp; implements one or more interfaces.\r\n\r\n    public abstract class Person {\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate String location;\r\n    \r\n    \t// Constructor (Must)\r\n    \tpublic Person(String name, int age, String location) {\r\n    \t\tthis.name=name;\r\n    \t\tthis.age=age;\r\n    \t\tthis.location=location;\r\n    \t}\r\n    }\r\n    \r\n    public interface Driver {\r\n    \tvoid isDriving(String name, int age, String location);\r\n    }\r\n    \r\n    public interface Sorter {\r\n    \tvoid isSorting(String name, int age, String location);\r\n    }\r\n    \r\n    public interface Manager {\r\n    \tvoid isManaging(String name, int age, String location);\r\n    }\r\n    \r\n    public class Person1 extends Person implements Driver, Manager {\r\n    /*\r\n    \tProperties, Constructors &amp; Getters/Setters\r\n    */\r\n    \t@overrides\r\n    \tpublic void isDriving(String name, int age, String location) {\r\n    \t//\tDriving Function Body\r\n    \t}\r\n    \r\n    \t@overrides\r\n    \tpublic void isManaging(String name, int age, String location) {\r\n    \t//\tManaging Function Body\r\n    \t}    \r\n    }","title":"Object is more then 1 child, now what?","body":"<p>Driver, Manager &amp; Sorter are just special kind of service that any person is efficient with. It may be one or more.\nSo, best way to declare interfaces for them and declare method for each without body.\nNow declare class which extends abstract class &amp; implements one or more interfaces.</p>\n<pre><code>public abstract class Person {\n    private String name;\n    private int age;\n    private String location;\n\n    // Constructor (Must)\n    public Person(String name, int age, String location) {\n        this.name=name;\n        this.age=age;\n        this.location=location;\n    }\n}\n\npublic interface Driver {\n    void isDriving(String name, int age, String location);\n}\n\npublic interface Sorter {\n    void isSorting(String name, int age, String location);\n}\n\npublic interface Manager {\n    void isManaging(String name, int age, String location);\n}\n\npublic class Person1 extends Person implements Driver, Manager {\n/*\n    Properties, Constructors &amp; Getters/Setters\n*/\n    @overrides\n    public void isDriving(String name, int age, String location) {\n    //  Driving Function Body\n    }\n\n    @overrides\n    public void isManaging(String name, int age, String location) {\n    //  Managing Function Body\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":23109816,"reputation":39,"user_id":17217904,"display_name":"Mr.NeedHelpAlot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70662257,"answer_count":3,"score":0,"last_activity_date":1641897224,"creation_date":1641880191,"question_id":70662182,"body_markdown":"I have an abstract class called Person.\r\n\r\nA person has multiple child classes e.g. Driver, Sorter, Manager.\r\nEach of which has its unique methods, and the ones shared e.g. name/age/location, etc and so I then thought that an abstract parent-class would be the solution. (Person)\r\n\r\nYet now I face a new problem, What if a person is both?\r\nNow I have an &#39;Object&#39; which is a Driver but also a Sorter.\r\nSo when he/she calls in sick, Person has a method called reportSick()\r\nBut when object driver.reportSick() is being called, there is a chance that there is another object for the same Person that is a Sorter.\r\n\r\nIt looks strange to me to have 2 objects for the same thing (The person in this case)\r\n\r\nWhat am I overlooking/doing wrong/misunderstanding?","title":"Object is more then 1 child, now what?","body":"<p>I have an abstract class called Person.</p>\n<p>A person has multiple child classes e.g. Driver, Sorter, Manager.\nEach of which has its unique methods, and the ones shared e.g. name/age/location, etc and so I then thought that an abstract parent-class would be the solution. (Person)</p>\n<p>Yet now I face a new problem, What if a person is both?\nNow I have an 'Object' which is a Driver but also a Sorter.\nSo when he/she calls in sick, Person has a method called reportSick()\nBut when object driver.reportSick() is being called, there is a chance that there is another object for the same Person that is a Sorter.</p>\n<p>It looks strange to me to have 2 objects for the same thing (The person in this case)</p>\n<p>What am I overlooking/doing wrong/misunderstanding?</p>\n"},{"tags":["java","floating-point","precision"],"comments":[{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1310768703,"post_id":6713673,"comment_id":7949596,"body_markdown":"both double and float are based on the binary system - simply speaking they are just sum of b1* 1/2 + b2*1/4 + b3*1/8 ... bn/2^n,  they will never hold even one tenth precisely as you can&#39;t write down one tenth (0.1) in binary with finite number of nonzero digits - sorry for mentioning such obvious things","body":"both double and float are based on the binary system - simply speaking they are just sum of b1* 1/2 + b2*1/4 + b3*1/8 ... bn/2^n,  they will never hold even one tenth precisely as you can&#39;t write down one tenth (0.1) in binary with finite number of nonzero digits - sorry for mentioning such obvious things"},{"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"score":0,"creation_date":1641809196,"post_id":6713673,"comment_id":124894549,"body_markdown":"You don&#39;t have to use boxed class","body":"You don&#39;t have to use boxed class"}],"answers":[{"tags":[],"owner":{"account_id":403973,"reputation":140174,"user_id":772035,"accept_rate":95,"display_name":"Paul"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1310767723,"creation_date":1310767723,"answer_id":6713687,"question_id":6713673,"body_markdown":"You could use doubles instead of floats","title":"How can I handle precision error with float in Java?","body":"<p>You could use doubles instead of floats</p>\n"},{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1310767933,"creation_date":1310767933,"answer_id":6713712,"question_id":6713673,"body_markdown":"The problem is not with Java but with the good standard float&#39;s ([http://en.wikipedia.org/wiki/IEEE_floating-point_standard][1]).\r\n\r\nYou can either:\r\n\r\n- use Double and have a bit more precision (but not perfect of course, it also has limited precision)\r\n\r\n- use a arbitrary-precision-library\r\n\r\n- use numerically stable algorithms and truncate/round digits of which you are not sure they are correct (you can calculate numeric precision of operations)\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IEEE_floating-point_standard","title":"How can I handle precision error with float in Java?","body":"<p>The problem is not with Java but with the good standard float's (<a href=\"http://en.wikipedia.org/wiki/IEEE_floating-point_standard\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/IEEE_floating-point_standard</a>).</p>\n\n<p>You can either:</p>\n\n<ul>\n<li><p>use Double and have a bit more precision (but not perfect of course, it also has limited precision)</p></li>\n<li><p>use a arbitrary-precision-library</p></li>\n<li><p>use numerically stable algorithms and truncate/round digits of which you are not sure they are correct (you can calculate numeric precision of operations)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":244114,"reputation":19415,"user_id":516701,"accept_rate":40,"display_name":"Jarek Potiuk"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1600014939,"creation_date":1310768000,"answer_id":6713718,"question_id":6713673,"body_markdown":"If you really care about precision, you should use BigDecimal\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\r\n","title":"How can I handle precision error with float in Java?","body":"<p>If you really care about precision, you should use BigDecimal</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html</a></p>\n"},{"tags":[],"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310768029,"creation_date":1310768029,"answer_id":6713724,"question_id":6713673,"body_markdown":"If you really need arbitrary precision, use [BigDecimal](http://download.oracle.com/javase/1,5.0/docs/api/java/math/BigDecimal.html).","title":"How can I handle precision error with float in Java?","body":"<p>If you really need arbitrary precision, use <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\">BigDecimal</a>.</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1310768069,"creation_date":1310768069,"answer_id":6713730,"question_id":6713673,"body_markdown":"first of `Float` is the wrapper class for the primitive `float`\r\n\r\nand doubles have more precision \r\n\r\nbut if you only want to calculate down to the second digit (for monetary purposes for example) use an integer (as if you are using cents as unit) and add some scaling logic when you are multiplying/dividing\r\n\r\nor if you need arbitrary precision use `BigDecimal`","title":"How can I handle precision error with float in Java?","body":"<p>first of <code>Float</code> is the wrapper class for the primitive <code>float</code></p>\n\n<p>and doubles have more precision </p>\n\n<p>but if you only want to calculate down to the second digit (for monetary purposes for example) use an integer (as if you are using cents as unit) and add some scaling logic when you are multiplying/dividing</p>\n\n<p>or if you need arbitrary precision use <code>BigDecimal</code></p>\n"},{"tags":[],"owner":{"account_id":247998,"reputation":195,"user_id":523093,"display_name":"Michael Willemse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310768336,"creation_date":1310768336,"answer_id":6713758,"question_id":6713673,"body_markdown":"If precision is vital, you should use BigDecimal to make sure that the required precision remains. When you instantiate the calculation, remember to use strings to instantiate the values instead of doubles.","title":"How can I handle precision error with float in Java?","body":"<p>If precision is vital, you should use BigDecimal to make sure that the required precision remains. When you instantiate the calculation, remember to use strings to instantiate the values instead of doubles.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310773475,"creation_date":1310769021,"answer_id":6713840,"question_id":6713673,"body_markdown":"When you print the result of a double operation you need to use appropriate rounding.\r\n\r\n    System.out.printf(&quot;%.2f%n&quot;, 1.89 * 792);\r\n\r\nprints\r\n\r\n    1496.88\r\n\r\nIf you want to round the result to a precision, you can use rounding.\r\n\r\n    double d = 1.89 * 792;\r\n    d = Math.round(d * 100) / 100.0;\r\n    System.out.println(d);\r\n\r\nprints\r\n\r\n    1496.88\r\n\r\nHowever if you see below, this prints as expected, as there is a small amount of implied rounding.\r\n\r\n---\r\n\r\nIt worth nothing that `(double) 1.89` is not exactly 1.89 It is a close approximation.\r\n\r\nnew BigDecimal(double) converts the exact value of double without any implied rounding. It can be useful in finding the exact value of a double.\r\n\r\n    System.out.println(new BigDecimal(1.89));\r\n    System.out.println(new BigDecimal(1496.88));\r\n\r\nprints\r\n\r\n    1.8899999999999999023003738329862244427204132080078125\r\n    1496.8800000000001091393642127513885498046875\r\n\r\n","title":"How can I handle precision error with float in Java?","body":"<p>When you print the result of a double operation you need to use appropriate rounding.</p>\n\n<pre><code>System.out.printf(\"%.2f%n\", 1.89 * 792);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1496.88\n</code></pre>\n\n<p>If you want to round the result to a precision, you can use rounding.</p>\n\n<pre><code>double d = 1.89 * 792;\nd = Math.round(d * 100) / 100.0;\nSystem.out.println(d);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1496.88\n</code></pre>\n\n<p>However if you see below, this prints as expected, as there is a small amount of implied rounding.</p>\n\n<hr>\n\n<p>It worth nothing that <code>(double) 1.89</code> is not exactly 1.89 It is a close approximation.</p>\n\n<p>new BigDecimal(double) converts the exact value of double without any implied rounding. It can be useful in finding the exact value of a double.</p>\n\n<pre><code>System.out.println(new BigDecimal(1.89));\nSystem.out.println(new BigDecimal(1496.88));\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1.8899999999999999023003738329862244427204132080078125\n1496.8800000000001091393642127513885498046875\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1320946019,"creation_date":1320946019,"answer_id":8083707,"question_id":6713673,"body_markdown":"Most of your question has been pretty well covered, though you might still benefit from reading the [`[floating-point]` tag wiki](https://stackoverflow.com/tags/floating-point/info) to understand _why_ the other answers work.\r\n\r\nHowever, nobody has addressed &quot;why it only does it starting at 11 and doubling the value every time,&quot; so here&#39;s the answer to that:\r\n\r\n    for(int i = 11; i &lt; 800; i*=2)\r\n        ╚═══╤════╝           ╚╤═╝\r\n            │                 └───── &quot;double the value every time&quot;\r\n            │\r\n            └───── &quot;start at 11&quot;","title":"How can I handle precision error with float in Java?","body":"<p>Most of your question has been pretty well covered, though you might still benefit from reading the <a href=\"https://stackoverflow.com/tags/floating-point/info\"><code>[floating-point]</code> tag wiki</a> to understand <em>why</em> the other answers work.</p>\n\n<p>However, nobody has addressed \"why it only does it starting at 11 and doubling the value every time,\" so here's the answer to that:</p>\n\n<pre><code>for(int i = 11; i &lt; 800; i*=2)\n    ╚═══╤════╝           ╚╤═╝\n        │                 └───── \"double the value every time\"\n        │\n        └───── \"start at 11\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14478237,"reputation":1,"user_id":10458281,"display_name":"Ed Siegel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1608350265,"creation_date":1608350265,"answer_id":65366517,"question_id":6713673,"body_markdown":"I never had a problem with simple arithmetic precision in either Basic, Visual Basic, FORTRAN, ALGOL or other &quot;primitive&quot; languages. It is beyond comprehension that JAVA can&#39;t do simple arithmetic without introducing errors. I need just two digits to the right of the decimal point for doing some accounting. Using Float subtracting 1000 from 1355.65 I get 355.650002! In order to get around this ridiculous error I have implemented a simple solution. I process my input by separating the values on each side of the decimal point as character, convert each to integers, multiply each by 1000 and add the two back together as integers. Ridiculous but there are no errors introduced by the poor JAVA algorithms. ","title":"How can I handle precision error with float in Java?","body":"<p>I never had a problem with simple arithmetic precision in either Basic, Visual Basic, FORTRAN, ALGOL or other &quot;primitive&quot; languages. It is beyond comprehension that JAVA can't do simple arithmetic without introducing errors. I need just two digits to the right of the decimal point for doing some accounting. Using Float subtracting 1000 from 1355.65 I get 355.650002! In order to get around this ridiculous error I have implemented a simple solution. I process my input by separating the values on each side of the decimal point as character, convert each to integers, multiply each by 1000 and add the two back together as integers. Ridiculous but there are no errors introduced by the poor JAVA algorithms.</p>\n"}],"owner":{"account_id":424750,"reputation":4814,"user_id":804929,"accept_rate":100,"display_name":"Jumbala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43557,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":6713718,"answer_count":9,"score":11,"last_activity_date":1641897215,"creation_date":1310767618,"question_id":6713673,"body_markdown":"I&#39;m wondering what the best way to fix precision errors is in Java. As you can see in the following example, there are precision errors:\r\n\r\n\r\n    class FloatTest\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        Float number1 = 1.89f;\r\n        \r\n        for(int i = 11; i &lt; 800; i*=2)\r\n        {\r\n          System.out.println(&quot;loop value: &quot; + i);\r\n          System.out.println(i*number1);\r\n          System.out.println(&quot;&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nThe result displayed is:\r\n\r\n&gt; loop value: 11 \r\n&gt;\r\n&gt; 20.789999\r\n&gt; \r\n&gt; loop value: 22\r\n&gt;\r\n&gt; 41.579998\r\n&gt; \r\n&gt; loop value: 44\r\n&gt;\r\n&gt; 83.159996\r\n&gt; \r\n&gt; loop value: 88\r\n&gt;\r\n&gt; 166.31999\r\n&gt; \r\n&gt; loop value: 176\r\n&gt;\r\n&gt; 332.63998\r\n&gt; \r\n&gt; loop value: 352\r\n&gt;\r\n&gt; 665.27997\r\n&gt; \r\n&gt; loop value: 704\r\n&gt;\r\n&gt; 1330.5599\r\n\r\nAlso, if someone can explain why it only does it starting at 11 and doubling the value every time. I think all other values (or many of them at least) displayed the correct result.\r\n\r\nProblems like this have caused me headache in the past and I usually use number formatters or put them into a String.\r\n\r\n&lt;b&gt;Edit:&lt;/b&gt; As people have mentioned, I could use a double, but after trying it, it seems that 1.89 as a double times 792 still outputs an error (the output is 1496.8799999999999).\r\n\r\nI guess I&#39;ll try the other solutions such as BigDecimal","title":"How can I handle precision error with float in Java?","body":"<p>I'm wondering what the best way to fix precision errors is in Java. As you can see in the following example, there are precision errors:</p>\n<pre><code>class FloatTest\n{\n  public static void main(String[] args)\n  {\n    Float number1 = 1.89f;\n    \n    for(int i = 11; i &lt; 800; i*=2)\n    {\n      System.out.println(&quot;loop value: &quot; + i);\n      System.out.println(i*number1);\n      System.out.println(&quot;&quot;);\n    }\n  }\n}\n</code></pre>\n<p>The result displayed is:</p>\n<blockquote>\n<p>loop value: 11</p>\n<p>20.789999</p>\n<p>loop value: 22</p>\n<p>41.579998</p>\n<p>loop value: 44</p>\n<p>83.159996</p>\n<p>loop value: 88</p>\n<p>166.31999</p>\n<p>loop value: 176</p>\n<p>332.63998</p>\n<p>loop value: 352</p>\n<p>665.27997</p>\n<p>loop value: 704</p>\n<p>1330.5599</p>\n</blockquote>\n<p>Also, if someone can explain why it only does it starting at 11 and doubling the value every time. I think all other values (or many of them at least) displayed the correct result.</p>\n<p>Problems like this have caused me headache in the past and I usually use number formatters or put them into a String.</p>\n<p><b>Edit:</b> As people have mentioned, I could use a double, but after trying it, it seems that 1.89 as a double times 792 still outputs an error (the output is 1496.8799999999999).</p>\n<p>I guess I'll try the other solutions such as BigDecimal</p>\n"},{"tags":["java","sql","spring-boot","hibernate","postman"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1641844713,"post_id":70657979,"comment_id":124908934,"body_markdown":"Can you remove the : @Pattern(regexp=&quot;/^[a-z ,.&#39;-]+$/i&quot;) , just to verify that is not the cause of the problem ?","body":"Can you remove the : @Pattern(regexp=&quot;/^[a-z ,.&#39;-]+$/i&quot;) , just to verify that is not the cause of the problem ?"},{"owner":{"account_id":21587104,"reputation":3,"user_id":15917347,"display_name":"Danny"},"score":0,"creation_date":1641846078,"post_id":70657979,"comment_id":124909338,"body_markdown":"I removed the @Pattern and the same error message came up","body":"I removed the @Pattern and the same error message came up"}],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641897187,"creation_date":1641896727,"answer_id":70665172,"question_id":70657979,"body_markdown":"first all keep one code style сamelCase or snake_case. You send &quot;first_last_name&quot;, but expects &quot;firstLastName&quot;. Not necessary sending fields **login_at**, **created_at** you have already put the appropriate annotations .\r\n\r\n\r\n    {\r\n        &quot;email&quot;: &quot;testemail@gmail.com&quot;,\r\n        &quot;description&quot;: &quot;added through rest api&quot;,\r\n        &quot;followersCount&quot;: 0,\r\n        &quot;friendsCount&quot;: 0,\r\n        &quot;firstLastName&quot;: &quot;Tester Testingson&quot;,\r\n        &quot;password&quot;: &quot;hunter2&quot;,\r\n        &quot;username&quot;: &quot;ttestingson2&quot;\r\n    }\r\n\r\n","title":"JPA SpringBoot - Unable to Save New Entity to Database","body":"<p>first all keep one code style сamelCase or snake_case. You send &quot;first_last_name&quot;, but expects &quot;firstLastName&quot;. Not necessary sending fields <strong>login_at</strong>, <strong>created_at</strong> you have already put the appropriate annotations .</p>\n<pre><code>{\n    &quot;email&quot;: &quot;testemail@gmail.com&quot;,\n    &quot;description&quot;: &quot;added through rest api&quot;,\n    &quot;followersCount&quot;: 0,\n    &quot;friendsCount&quot;: 0,\n    &quot;firstLastName&quot;: &quot;Tester Testingson&quot;,\n    &quot;password&quot;: &quot;hunter2&quot;,\n    &quot;username&quot;: &quot;ttestingson2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":21587104,"reputation":3,"user_id":15917347,"display_name":"Danny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70665172,"answer_count":1,"score":0,"last_activity_date":1641897187,"creation_date":1641843189,"question_id":70657979,"body_markdown":"I am attempting to add (save) a &quot;User&quot; to my SQL database through my Spring application (The @GetMapping requests currently work).\r\nI recently added the two annotations @CreationTimeStamp and @UpdateTimeStamp in my entity class...the version without those two annotations would produce the same errors as shown.  I am testing the API with Postman-here is my Users entity class:\r\n\r\n    @Table(name=&quot;users&quot;)\r\n    @Entity\r\n    public class Users {\r\n\t    @Id\r\n\t    @Column(name=&quot;email&quot;)\r\n\t    private String email;\r\n    \r\n\t    @Temporal(TemporalType.TIMESTAMP)\r\n\t    @CreationTimestamp\r\n\t    @Column(name=&quot;created_at&quot;, updatable = false)\r\n\t    private Date createdAt;\t\t\r\n\r\n\t    @Column(name=&quot;description&quot;)\r\n\t    private String description;\r\n\r\n\t    @Column(name=&quot;followers_count&quot;)\r\n\t    private int followersCount;\r\n\r\n\t    @Column(name=&quot;friends_count&quot;)\r\n\t    private int friendsCount;\r\n\r\n\t    @Column(name=&quot;first_last_name&quot;)\r\n\t    private String firstLastName;\r\n\t\r\n\t    @Temporal(TemporalType.TIMESTAMP)\r\n\t    @UpdateTimestamp\r\n\t    @Column(name=&quot;login_at&quot;)\r\n\t    private Date loginAt;\r\n\r\n\t    @Column(name=&quot;password&quot;)\r\n\t    private String password;\r\n\r\n\t    @Column(name=&quot;username&quot;)\r\n\t    private String username;\r\n\t\r\n\t    @OneToMany(cascade=CascadeType.ALL,mappedBy=&quot;userOne&quot;)\r\n\t    List&lt;Followers&gt; followed;\r\n\t\r\n\t    @OneToMany(cascade=CascadeType.ALL,mappedBy=&quot;userTwo&quot;)\t\r\n\t    List&lt;Followers&gt; followers;\r\n\r\n        //auto generated getters and setters\r\n    }\r\n\r\nmy UsersDTO class\r\n\r\n    public class UsersDTO {\r\n    \t@Email\r\n    \t@NotNull\r\n    \tprivate String email;\r\n\r\n    \t@PastOrPresent\r\n    \tprivate Date createdAt;\r\n\r\n    \t@Size(min=0,max=44)\r\n    \tprivate String description;\r\n\r\n    \t@NotNull\r\n    \tprivate int followersCount;\r\n\r\n    \t@NotNull\r\n    \tprivate int friendsCount;\r\n\r\n    \t@Pattern(regexp=&quot;/^[a-z ,.&#39;-]+$/i&quot;)\r\n    \tprivate String firstLastName;\r\n\r\n    \t@PastOrPresent\r\n    \tprivate Date loginAt;\r\n\r\n    \t@NotNull\r\n    \tprivate String password;\t\t\r\n\r\n    \t@NotNull\r\n    \tprivate String username;\r\n        //auto gen getters and setters\r\n    }\r\n\r\nMy UsersServiceImpl\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UsersServiceImpl implements UsersService{\r\n    \r\n    \t@Autowired\r\n    \tprivate UsersRepository userRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;Users&gt; getAll() throws SubException {\r\n    \t\treturn (List&lt;Users&gt;) userRepo.findAll();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic UsersDTO findByUsersEmail(String email) throws SubException {\r\n    \t\tUsersDTO userDTO = null;\r\n    \t\tUsers user = userRepo.findById(email.toLowerCase()).orElseThrow(()-&gt;new SubException(&quot;General.EXCEPTION_MESSAGE&quot;));\r\n    \t\tuserDTO = new UsersDTO();\r\n    \t\t\r\n    \t\tuserDTO.setEmail(user.getEmail());\r\n    \t\tuserDTO.setCreatedAt(user.getCreatedAt());\r\n    \t\tuserDTO.setDescription(user.getDescription());\r\n    \t\tuserDTO.setFollowersCount(user.getFollowersCount());\r\n    \t\tuserDTO.setFriendsCount(user.getFriendsCount());\r\n    \t\tuserDTO.setFirstLastName(user.getFirstLastName());\r\n    \t\tuserDTO.setLoginAt(user.getLoginAt());\r\n    \t\tuserDTO.setPassword(user.getPassword());\r\n    \t\tuserDTO.setUsername(user.getUsername());\r\n    \t\t\r\n    \t\treturn userDTO;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Override\r\n    \tpublic String addUser(UsersDTO userDTO) throws SubException {\r\n    \t\tboolean emailAvail = userRepo.findById(userDTO.getEmail().toLowerCase()).isEmpty();\t\r\n    \t\tString emailAdded = null;\r\n    \t\tif(emailAvail) {\r\n    \t\t\tUsers user = new Users();\r\n    \t\t\tuser.setEmail(userDTO.getEmail().toLowerCase());\r\n    \t\t\tuser.setCreatedAt(userDTO.getCreatedAt());\r\n    \t\t\tuser.setDescription(userDTO.getDescription());\r\n    \t\t\tuser.setFollowersCount(userDTO.getFollowersCount());\r\n    \t\t\tuser.setFriendsCount(userDTO.getFriendsCount());\r\n    \t\t\tuser.setFirstLastName(userDTO.getFirstLastName());\r\n    \t\t\tuser.setLoginAt(userDTO.getLoginAt());\r\n    \t\t\tString hashedpwd = null;\r\n    \t\t\ttry {\r\n    \t\t\t\thashedpwd = HashingUtility.getHashValue(userDTO.getPassword());\r\n    \t\t\t} catch (NoSuchAlgorithmException e) {}\r\n    \t\t\tuser.setPassword(hashedpwd);\r\n    \t\t\tuser.setUsername(userDTO.getUsername());\r\n    \t\t\tuserRepo.save(user);\r\n    \t\t\temailAdded = user.getEmail().toLowerCase();\r\n    \t\t}\r\n    \t\treturn emailAdded;\r\n    \t}\r\n    }\r\n\r\nMy UsersAPI class\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;users&quot;)\r\n    @Validated\r\n    @CrossOrigin\r\n    public class UsersAPI {\r\n    \r\n    \t@Autowired\r\n    \tEnvironment env;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UsersServiceImpl userService;\r\n    \t\r\n    \t@GetMapping(&quot;/{email}&quot;)\r\n    \tResponseEntity&lt;UsersDTO&gt; findByUsersEmail(@PathVariable String email) throws SubException{\r\n    \t\treturn new ResponseEntity&lt;UsersDTO&gt;(userService.findByUsersEmail(email), HttpStatus.OK);\r\n    \t}\r\n    \t@GetMapping(&quot;/all&quot;) \r\n    \tResponseEntity&lt;List&lt;Users&gt;&gt; getAll() throws SubException{\r\n    \t\treturn new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.getAll(),HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/add&quot;)\r\n    \tResponseEntity&lt;String&gt; addUser(@Valid @RequestBody UsersDTO userDTO) throws SubException {\r\n    \t\treturn new ResponseEntity&lt;String&gt;(userService.addUser(userDTO),HttpStatus.CREATED);\r\n    \t}\r\n    }\r\n\r\nWhenever I try to add a User through Postman I am given this error (I included the hibernate lines):\r\n\r\n    Hibernate: select users0_.email as email1_0_0_, users0_.created_at as created_2_0_0_, users0_.description as descript3_0_0_, users0_.first_last_name as first_la4_0_0_, users0_.followers_count as follower5_0_0_, users0_.friends_count as friends_6_0_0_, users0_.login_at as login_at7_0_0_, users0_.password as password8_0_0_, users0_.username as username9_0_0_ from users users0_ where users0_.email=?\r\n    Hibernate: select users0_.email as email1_0_1_, users0_.created_at as created_2_0_1_, users0_.description as descript3_0_1_, users0_.first_last_name as first_la4_0_1_, users0_.followers_count as follower5_0_1_, users0_.friends_count as friends_6_0_1_, users0_.login_at as login_at7_0_1_, users0_.password as password8_0_1_, users0_.username as username9_0_1_, followed1_.users_email as users_em2_1_3_, followed1_.followers_email as follower1_1_3_, followed1_.followers_email as follower1_1_0_, followed1_.users_email as users_em2_1_0_ from users users0_ left outer join users_has_followers followed1_ on users0_.email=followed1_.users_email where users0_.email=?\r\n    Hibernate: insert into users (created_at, description, first_last_name, followers_count, friends_count, login_at, password, username, email) values (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    2022-01-10 11:33:43.019  WARN 1468 --- [nio-3333-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n    2022-01-10 11:33:43.019 ERROR 1468 --- [nio-3333-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;first_last_name&#39; cannot be null\r\n    2022-01-10 11:33:43.020  INFO 1468 --- [nio-3333-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n    2022-01-10 11:33:43.030 ERROR 1468 --- [nio-3333-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    java.sql.SQLIntegrityConstraintViolationException: Column &#39;first_last_name&#39; cannot be null\r\nThis is the JSON body I am inputting into Postman (Body -&gt; raw and JSON selected as options) :\r\n\r\n    {\r\n    \t&quot;email&quot;: &quot;testemail@gmail.com&quot;,\r\n    \t&quot;created_at&quot;: &quot;2022-01-09 11:11:11&quot;,\r\n    \t&quot;description&quot;: &quot;added through rest api&quot;,\r\n    \t&quot;followers_count&quot;: 0,\r\n    \t&quot;friends_count&quot;: 0,\r\n    \t&quot;first_last_name&quot;: &quot;Tester Testingson&quot;,\r\n    \t&quot;login_at&quot;: &quot;2022-01-09 11:11:11&quot;,\r\n    \t&quot;password&quot;: &quot;hunter2&quot;,\r\n    \t&quot;username&quot;: &quot;ttestingson2&quot;\r\n    }\r\nand Postman gives this error:\r\n\r\n    &quot;timestamp&quot;: &quot;2022-01-10T17:37:52.275+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\nI am able to manually add a user in MySQL Shell with:\r\n\r\n    insert into users (email,created_at,description,followers_count,friends_count,first_last_name,login_at,password,username) values (&#39;testemail@gmail.com&#39;,&#39;2022-01-09 11:11:11&#39;, &#39;added through rest api&#39;,0,0,&#39;Tester Testingson&#39;, &#39;2022-01-09 11:11:11&#39;, &#39;hunter2&#39;, &#39;ttestingson2&#39;);\r\n\r\nI do have an @EmbdeddId in my Followers Entity but I don&#39;t think that would affect me adding a User.\r\n\r\n    @Entity\r\n    @Table(name=&quot;users_has_followers&quot;)\r\n    public class Followers {\r\n    \t\t\r\n    \t@EmbeddedId\r\n    \tprivate FollowersId followers;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@MapsId(&quot;users_email&quot;)\t\r\n    \t@JoinColumn(name=&quot;users_email&quot;)\r\n    \tUsers userOne;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@MapsId(&quot;followers_email&quot;)\r\n    \t@JoinColumn(name=&quot;followers_email&quot;)\r\n    \tUsers userTwo;\r\n    \t\r\n    }\r\nand the @Embeddable class\r\n\r\n    @Embeddable\r\n    public class FollowersId implements Serializable{\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\t\r\n    \tprivate String users_email;\r\n    \tprivate String followers_email;\r\n    \t\r\n    \tpublic String getUsers_email() {\r\n    \t\treturn users_email;\r\n    \t}\r\n    \tpublic void setUsers_email(String users_email) {\r\n    \t\tthis.users_email = users_email;\r\n    \t}\r\n    \tpublic String getFollowers_email() {\r\n    \t\treturn followers_email;\r\n    \t}\r\n    \tpublic void setFollowers_email(String followers_email) {\r\n    \t\tthis.followers_email = followers_email;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\nHere is my UML diagram for the database:\r\nhttps://drive.google.com/file/d/1xljVZVRvEMGkKVULBi-Suqn1RFO_b7b7/view?usp=sharing\r\n\r\nHere is the SQL script:\r\n\r\n    -- MySQL Script generated by MySQL Workbench\r\n    -- Mon Jan 10 15:14:53 2022\r\n    -- Model: New Model    Version: 1.0\r\n    -- MySQL Workbench Forward Engineering\r\n    \r\n    SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;\r\n    SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;\r\n    SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION&#39;;\r\n    \r\n    -- -----------------------------------------------------\r\n    -- Schema java_subscription_app\r\n    -- -----------------------------------------------------\r\n    \r\n    -- -----------------------------------------------------\r\n    -- Schema java_subscription_app\r\n    -- -----------------------------------------------------\r\n    CREATE SCHEMA IF NOT EXISTS `java_subscription_app` DEFAULT CHARACTER SET utf8 ;\r\n    USE `java_subscription_app` ;\r\n    \r\n    -- -----------------------------------------------------\r\n    -- Table `java_subscription_app`.`users`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`users` (\r\n      `email` VARCHAR(45) NOT NULL,\r\n      `created_at` DATETIME NOT NULL,\r\n      `description` VARCHAR(45) NULL,\r\n      `followers_count` INT NOT NULL,\r\n      `friends_count` INT NOT NULL,\r\n      `first_last_name` VARCHAR(45) NOT NULL,\r\n      `login_at` TIMESTAMP NOT NULL,\r\n      `password` VARCHAR(45) NOT NULL,\r\n      `username` VARCHAR(45) NOT NULL,\r\n      PRIMARY KEY (`email`))\r\n    ENGINE = InnoDB;\r\n    \r\n    \r\n    -- -----------------------------------------------------\r\n    -- Table `java_subscription_app`.`posts`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`posts` (\r\n      `id` INT NOT NULL AUTO_INCREMENT,\r\n      `created_at` DATETIME NOT NULL,\r\n      `like_count` INT NOT NULL,\r\n      `liked` TINYINT NOT NULL,\r\n      `text` VARCHAR(100) NULL,\r\n      `users_email` VARCHAR(45) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      INDEX `fk_posts_users1_idx` (`users_email` ASC) VISIBLE,\r\n      CONSTRAINT `fk_posts_users1`\r\n        FOREIGN KEY (`users_email`)\r\n        REFERENCES `java_subscription_app`.`users` (`email`)\r\n        ON DELETE NO ACTION\r\n        ON UPDATE NO ACTION)\r\n    ENGINE = InnoDB;\r\n    \r\n    \r\n    -- -----------------------------------------------------\r\n    -- Table `java_subscription_app`.`comments`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`comments` (\r\n      `id` INT NOT NULL AUTO_INCREMENT,\r\n      `message` VARCHAR(100) NULL,\r\n      `created_at` DATETIME NOT NULL,\r\n      `posts_id` INT NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      INDEX `fk_comments_posts1_idx` (`posts_id` ASC) VISIBLE,\r\n      CONSTRAINT `fk_comments_posts1`\r\n        FOREIGN KEY (`posts_id`)\r\n        REFERENCES `java_subscription_app`.`posts` (`id`)\r\n        ON DELETE NO ACTION\r\n        ON UPDATE NO ACTION)\r\n    ENGINE = InnoDB;\r\n    \r\n    \r\n    -- -----------------------------------------------------\r\n    -- Table `java_subscription_app`.`payment`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`payment` (\r\n      `id` INT NOT NULL AUTO_INCREMENT,\r\n      `expire_date` DATE NOT NULL,\r\n      `name_on_card` VARCHAR(45) NOT NULL,\r\n      `number` VARCHAR(45) NOT NULL,\r\n      `security_code` INT NOT NULL,\r\n      `users_email` VARCHAR(45) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      INDEX `fk_payment_users1_idx` (`users_email` ASC) VISIBLE,\r\n      CONSTRAINT `fk_payment_users1`\r\n        FOREIGN KEY (`users_email`)\r\n        REFERENCES `java_subscription_app`.`users` (`email`)\r\n        ON DELETE NO ACTION\r\n        ON UPDATE NO ACTION)\r\n    ENGINE = InnoDB;\r\n    \r\n    \r\n    -- -----------------------------------------------------\r\n    -- Table `java_subscription_app`.`users_has_followers`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`users_has_followers` (\r\n      `users_email` VARCHAR(45) NOT NULL,\r\n      `followers_email` VARCHAR(45) NOT NULL,\r\n      INDEX `fk_users_has_users_users2_idx` (`followers_email` ASC) VISIBLE,\r\n      INDEX `fk_users_has_users_users1_idx` (`users_email` ASC) VISIBLE,\r\n      PRIMARY KEY (`followers_email`, `users_email`),\r\n      CONSTRAINT `fk_users_has_users_users1`\r\n        FOREIGN KEY (`users_email`)\r\n        REFERENCES `java_subscription_app`.`users` (`email`)\r\n        ON DELETE NO ACTION\r\n        ON UPDATE NO ACTION,\r\n      CONSTRAINT `fk_users_has_users_users2`\r\n        FOREIGN KEY (`followers_email`)\r\n        REFERENCES `java_subscription_app`.`users` (`email`)\r\n        ON DELETE NO ACTION\r\n        ON UPDATE NO ACTION)\r\n    ENGINE = InnoDB;\r\n    \r\n    USE `java_subscription_app` ;\r\n    \r\n    -- -----------------------------------------------------\r\n    -- Placeholder table for view `java_subscription_app`.`view1`\r\n    -- -----------------------------------------------------\r\n    CREATE TABLE IF NOT EXISTS `java_subscription_app`.`view1` (`id` INT);\r\n    \r\n    -- -----------------------------------------------------\r\n    -- View `java_subscription_app`.`view1`\r\n    -- -----------------------------------------------------\r\n    DROP TABLE IF EXISTS `java_subscription_app`.`view1`;\r\n    USE `java_subscription_app`;\r\n    \r\n    \r\n    SET SQL_MODE=@OLD_SQL_MODE;\r\n    SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;\r\n    SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;\r\n\r\nI am not sure what&#39;s causing my problem...please help! Thank you\r\n\r\n","title":"JPA SpringBoot - Unable to Save New Entity to Database","body":"<p>I am attempting to add (save) a &quot;User&quot; to my SQL database through my Spring application (The @GetMapping requests currently work).\nI recently added the two annotations @CreationTimeStamp and @UpdateTimeStamp in my entity class...the version without those two annotations would produce the same errors as shown.  I am testing the API with Postman-here is my Users entity class:</p>\n<pre><code>@Table(name=&quot;users&quot;)\n@Entity\npublic class Users {\n    @Id\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreationTimestamp\n    @Column(name=&quot;created_at&quot;, updatable = false)\n    private Date createdAt;     \n\n    @Column(name=&quot;description&quot;)\n    private String description;\n\n    @Column(name=&quot;followers_count&quot;)\n    private int followersCount;\n\n    @Column(name=&quot;friends_count&quot;)\n    private int friendsCount;\n\n    @Column(name=&quot;first_last_name&quot;)\n    private String firstLastName;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @UpdateTimestamp\n    @Column(name=&quot;login_at&quot;)\n    private Date loginAt;\n\n    @Column(name=&quot;password&quot;)\n    private String password;\n\n    @Column(name=&quot;username&quot;)\n    private String username;\n\n    @OneToMany(cascade=CascadeType.ALL,mappedBy=&quot;userOne&quot;)\n    List&lt;Followers&gt; followed;\n\n    @OneToMany(cascade=CascadeType.ALL,mappedBy=&quot;userTwo&quot;)  \n    List&lt;Followers&gt; followers;\n\n    //auto generated getters and setters\n}\n</code></pre>\n<p>my UsersDTO class</p>\n<pre><code>public class UsersDTO {\n    @Email\n    @NotNull\n    private String email;\n\n    @PastOrPresent\n    private Date createdAt;\n\n    @Size(min=0,max=44)\n    private String description;\n\n    @NotNull\n    private int followersCount;\n\n    @NotNull\n    private int friendsCount;\n\n    @Pattern(regexp=&quot;/^[a-z ,.'-]+$/i&quot;)\n    private String firstLastName;\n\n    @PastOrPresent\n    private Date loginAt;\n\n    @NotNull\n    private String password;        \n\n    @NotNull\n    private String username;\n    //auto gen getters and setters\n}\n</code></pre>\n<p>My UsersServiceImpl</p>\n<pre><code>@Service\n@Transactional\npublic class UsersServiceImpl implements UsersService{\n\n    @Autowired\n    private UsersRepository userRepo;\n    \n    @Override\n    public List&lt;Users&gt; getAll() throws SubException {\n        return (List&lt;Users&gt;) userRepo.findAll();\n    }\n    \n    @Override\n    public UsersDTO findByUsersEmail(String email) throws SubException {\n        UsersDTO userDTO = null;\n        Users user = userRepo.findById(email.toLowerCase()).orElseThrow(()-&gt;new SubException(&quot;General.EXCEPTION_MESSAGE&quot;));\n        userDTO = new UsersDTO();\n        \n        userDTO.setEmail(user.getEmail());\n        userDTO.setCreatedAt(user.getCreatedAt());\n        userDTO.setDescription(user.getDescription());\n        userDTO.setFollowersCount(user.getFollowersCount());\n        userDTO.setFriendsCount(user.getFriendsCount());\n        userDTO.setFirstLastName(user.getFirstLastName());\n        userDTO.setLoginAt(user.getLoginAt());\n        userDTO.setPassword(user.getPassword());\n        userDTO.setUsername(user.getUsername());\n        \n        return userDTO;\n    }\n\n\n\n    @Override\n    public String addUser(UsersDTO userDTO) throws SubException {\n        boolean emailAvail = userRepo.findById(userDTO.getEmail().toLowerCase()).isEmpty(); \n        String emailAdded = null;\n        if(emailAvail) {\n            Users user = new Users();\n            user.setEmail(userDTO.getEmail().toLowerCase());\n            user.setCreatedAt(userDTO.getCreatedAt());\n            user.setDescription(userDTO.getDescription());\n            user.setFollowersCount(userDTO.getFollowersCount());\n            user.setFriendsCount(userDTO.getFriendsCount());\n            user.setFirstLastName(userDTO.getFirstLastName());\n            user.setLoginAt(userDTO.getLoginAt());\n            String hashedpwd = null;\n            try {\n                hashedpwd = HashingUtility.getHashValue(userDTO.getPassword());\n            } catch (NoSuchAlgorithmException e) {}\n            user.setPassword(hashedpwd);\n            user.setUsername(userDTO.getUsername());\n            userRepo.save(user);\n            emailAdded = user.getEmail().toLowerCase();\n        }\n        return emailAdded;\n    }\n}\n</code></pre>\n<p>My UsersAPI class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;users&quot;)\n@Validated\n@CrossOrigin\npublic class UsersAPI {\n\n    @Autowired\n    Environment env;\n    \n    @Autowired\n    private UsersServiceImpl userService;\n    \n    @GetMapping(&quot;/{email}&quot;)\n    ResponseEntity&lt;UsersDTO&gt; findByUsersEmail(@PathVariable String email) throws SubException{\n        return new ResponseEntity&lt;UsersDTO&gt;(userService.findByUsersEmail(email), HttpStatus.OK);\n    }\n    @GetMapping(&quot;/all&quot;) \n    ResponseEntity&lt;List&lt;Users&gt;&gt; getAll() throws SubException{\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.getAll(),HttpStatus.OK);\n    }\n    \n    @PostMapping(&quot;/add&quot;)\n    ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody UsersDTO userDTO) throws SubException {\n        return new ResponseEntity&lt;String&gt;(userService.addUser(userDTO),HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>Whenever I try to add a User through Postman I am given this error (I included the hibernate lines):</p>\n<pre><code>Hibernate: select users0_.email as email1_0_0_, users0_.created_at as created_2_0_0_, users0_.description as descript3_0_0_, users0_.first_last_name as first_la4_0_0_, users0_.followers_count as follower5_0_0_, users0_.friends_count as friends_6_0_0_, users0_.login_at as login_at7_0_0_, users0_.password as password8_0_0_, users0_.username as username9_0_0_ from users users0_ where users0_.email=?\nHibernate: select users0_.email as email1_0_1_, users0_.created_at as created_2_0_1_, users0_.description as descript3_0_1_, users0_.first_last_name as first_la4_0_1_, users0_.followers_count as follower5_0_1_, users0_.friends_count as friends_6_0_1_, users0_.login_at as login_at7_0_1_, users0_.password as password8_0_1_, users0_.username as username9_0_1_, followed1_.users_email as users_em2_1_3_, followed1_.followers_email as follower1_1_3_, followed1_.followers_email as follower1_1_0_, followed1_.users_email as users_em2_1_0_ from users users0_ left outer join users_has_followers followed1_ on users0_.email=followed1_.users_email where users0_.email=?\nHibernate: insert into users (created_at, description, first_last_name, followers_count, friends_count, login_at, password, username, email) values (?, ?, ?, ?, ?, ?, ?, ?, ?)\n2022-01-10 11:33:43.019  WARN 1468 --- [nio-3333-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2022-01-10 11:33:43.019 ERROR 1468 --- [nio-3333-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'first_last_name' cannot be null\n2022-01-10 11:33:43.020  INFO 1468 --- [nio-3333-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2022-01-10 11:33:43.030 ERROR 1468 --- [nio-3333-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\njava.sql.SQLIntegrityConstraintViolationException: Column 'first_last_name' cannot be null\n</code></pre>\n<p>This is the JSON body I am inputting into Postman (Body -&gt; raw and JSON selected as options) :</p>\n<pre><code>{\n    &quot;email&quot;: &quot;testemail@gmail.com&quot;,\n    &quot;created_at&quot;: &quot;2022-01-09 11:11:11&quot;,\n    &quot;description&quot;: &quot;added through rest api&quot;,\n    &quot;followers_count&quot;: 0,\n    &quot;friends_count&quot;: 0,\n    &quot;first_last_name&quot;: &quot;Tester Testingson&quot;,\n    &quot;login_at&quot;: &quot;2022-01-09 11:11:11&quot;,\n    &quot;password&quot;: &quot;hunter2&quot;,\n    &quot;username&quot;: &quot;ttestingson2&quot;\n}\n</code></pre>\n<p>and Postman gives this error:</p>\n<pre><code>&quot;timestamp&quot;: &quot;2022-01-10T17:37:52.275+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>I am able to manually add a user in MySQL Shell with:</p>\n<pre><code>insert into users (email,created_at,description,followers_count,friends_count,first_last_name,login_at,password,username) values ('testemail@gmail.com','2022-01-09 11:11:11', 'added through rest api',0,0,'Tester Testingson', '2022-01-09 11:11:11', 'hunter2', 'ttestingson2');\n</code></pre>\n<p>I do have an @EmbdeddId in my Followers Entity but I don't think that would affect me adding a User.</p>\n<pre><code>@Entity\n@Table(name=&quot;users_has_followers&quot;)\npublic class Followers {\n        \n    @EmbeddedId\n    private FollowersId followers;\n    \n    @ManyToOne\n    @MapsId(&quot;users_email&quot;)  \n    @JoinColumn(name=&quot;users_email&quot;)\n    Users userOne;\n    \n    @ManyToOne\n    @MapsId(&quot;followers_email&quot;)\n    @JoinColumn(name=&quot;followers_email&quot;)\n    Users userTwo;\n    \n}\n</code></pre>\n<p>and the @Embeddable class</p>\n<pre><code>@Embeddable\npublic class FollowersId implements Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;    \n    private String users_email;\n    private String followers_email;\n    \n    public String getUsers_email() {\n        return users_email;\n    }\n    public void setUsers_email(String users_email) {\n        this.users_email = users_email;\n    }\n    public String getFollowers_email() {\n        return followers_email;\n    }\n    public void setFollowers_email(String followers_email) {\n        this.followers_email = followers_email;\n    }\n    \n    \n}\n</code></pre>\n<p>Here is my UML diagram for the database:\n<a href=\"https://drive.google.com/file/d/1xljVZVRvEMGkKVULBi-Suqn1RFO_b7b7/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1xljVZVRvEMGkKVULBi-Suqn1RFO_b7b7/view?usp=sharing</a></p>\n<p>Here is the SQL script:</p>\n<pre><code>-- MySQL Script generated by MySQL Workbench\n-- Mon Jan 10 15:14:53 2022\n-- Model: New Model    Version: 1.0\n-- MySQL Workbench Forward Engineering\n\nSET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;\nSET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;\nSET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';\n\n-- -----------------------------------------------------\n-- Schema java_subscription_app\n-- -----------------------------------------------------\n\n-- -----------------------------------------------------\n-- Schema java_subscription_app\n-- -----------------------------------------------------\nCREATE SCHEMA IF NOT EXISTS `java_subscription_app` DEFAULT CHARACTER SET utf8 ;\nUSE `java_subscription_app` ;\n\n-- -----------------------------------------------------\n-- Table `java_subscription_app`.`users`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`users` (\n  `email` VARCHAR(45) NOT NULL,\n  `created_at` DATETIME NOT NULL,\n  `description` VARCHAR(45) NULL,\n  `followers_count` INT NOT NULL,\n  `friends_count` INT NOT NULL,\n  `first_last_name` VARCHAR(45) NOT NULL,\n  `login_at` TIMESTAMP NOT NULL,\n  `password` VARCHAR(45) NOT NULL,\n  `username` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`email`))\nENGINE = InnoDB;\n\n\n-- -----------------------------------------------------\n-- Table `java_subscription_app`.`posts`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`posts` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `created_at` DATETIME NOT NULL,\n  `like_count` INT NOT NULL,\n  `liked` TINYINT NOT NULL,\n  `text` VARCHAR(100) NULL,\n  `users_email` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`id`),\n  INDEX `fk_posts_users1_idx` (`users_email` ASC) VISIBLE,\n  CONSTRAINT `fk_posts_users1`\n    FOREIGN KEY (`users_email`)\n    REFERENCES `java_subscription_app`.`users` (`email`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n\n\n-- -----------------------------------------------------\n-- Table `java_subscription_app`.`comments`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`comments` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `message` VARCHAR(100) NULL,\n  `created_at` DATETIME NOT NULL,\n  `posts_id` INT NOT NULL,\n  PRIMARY KEY (`id`),\n  INDEX `fk_comments_posts1_idx` (`posts_id` ASC) VISIBLE,\n  CONSTRAINT `fk_comments_posts1`\n    FOREIGN KEY (`posts_id`)\n    REFERENCES `java_subscription_app`.`posts` (`id`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n\n\n-- -----------------------------------------------------\n-- Table `java_subscription_app`.`payment`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`payment` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `expire_date` DATE NOT NULL,\n  `name_on_card` VARCHAR(45) NOT NULL,\n  `number` VARCHAR(45) NOT NULL,\n  `security_code` INT NOT NULL,\n  `users_email` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`id`),\n  INDEX `fk_payment_users1_idx` (`users_email` ASC) VISIBLE,\n  CONSTRAINT `fk_payment_users1`\n    FOREIGN KEY (`users_email`)\n    REFERENCES `java_subscription_app`.`users` (`email`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n\n\n-- -----------------------------------------------------\n-- Table `java_subscription_app`.`users_has_followers`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`users_has_followers` (\n  `users_email` VARCHAR(45) NOT NULL,\n  `followers_email` VARCHAR(45) NOT NULL,\n  INDEX `fk_users_has_users_users2_idx` (`followers_email` ASC) VISIBLE,\n  INDEX `fk_users_has_users_users1_idx` (`users_email` ASC) VISIBLE,\n  PRIMARY KEY (`followers_email`, `users_email`),\n  CONSTRAINT `fk_users_has_users_users1`\n    FOREIGN KEY (`users_email`)\n    REFERENCES `java_subscription_app`.`users` (`email`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION,\n  CONSTRAINT `fk_users_has_users_users2`\n    FOREIGN KEY (`followers_email`)\n    REFERENCES `java_subscription_app`.`users` (`email`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n\nUSE `java_subscription_app` ;\n\n-- -----------------------------------------------------\n-- Placeholder table for view `java_subscription_app`.`view1`\n-- -----------------------------------------------------\nCREATE TABLE IF NOT EXISTS `java_subscription_app`.`view1` (`id` INT);\n\n-- -----------------------------------------------------\n-- View `java_subscription_app`.`view1`\n-- -----------------------------------------------------\nDROP TABLE IF EXISTS `java_subscription_app`.`view1`;\nUSE `java_subscription_app`;\n\n\nSET SQL_MODE=@OLD_SQL_MODE;\nSET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;\nSET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;\n</code></pre>\n<p>I am not sure what's causing my problem...please help! Thank you</p>\n"},{"tags":["java","configuration","nullpointerexception","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1501152078,"post_id":45347478,"comment_id":77657807,"body_markdown":"Could you post the source code of the action class?","body":"Could you post the source code of the action class?"},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501153012,"post_id":45347478,"comment_id":77658519,"body_markdown":"Hi @RomanC, Thank you for your reply. I have updated my question now with the action class source code.","body":"Hi @RomanC, Thank you for your reply. I have updated my question now with the action class source code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1501153627,"post_id":45347478,"comment_id":77658956,"body_markdown":"It&#39;s not enough information. If the stacktrace is full then you have problems with dependency management.","body":"It&#39;s not enough information. If the stacktrace is full then you have problems with dependency management."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1501174903,"post_id":45347478,"comment_id":77675208,"body_markdown":"You cannot use `getText` like that. Put the key into the list and do i18n in the view.","body":"You cannot use <code>getText</code> like that. Put the key into the list and do i18n in the view."},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501492708,"post_id":45347478,"comment_id":77784067,"body_markdown":"Hi @RomanC, thanks for your reply...what do you mean by problems wioth dependency management? Are you saying I am missing a jar or using an invalid jar?","body":"Hi @RomanC, thanks for your reply...what do you mean by problems wioth dependency management? Are you saying I am missing a jar or using an invalid jar?"},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501492956,"post_id":45347478,"comment_id":77784263,"body_markdown":"Hi @AleksandrM, thank you for the option. But why do I need to do that? In struts 2.3.3, I just code as &lt;s:text name=&quot;xyz&quot; /&gt; to pick the value from package.properties file. Doesn&#39;t this work the same with Struts 2.5.12?","body":"Hi @AleksandrM, thank you for the option. But why do I need to do that? In struts 2.3.3, I just code as &lt;s:text name=&quot;xyz&quot; /&gt; to pick the value from package.properties file. Doesn&#39;t this work the same with Struts 2.5.12?"},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501493043,"post_id":45347478,"comment_id":77784334,"body_markdown":"I was trying to debug this and found that container is null in ActionSupport class and that is why I see NPE at line number 278, which is: TextProviderFactory tpf = container.getInstance(TextProviderFactory.class);","body":"I was trying to debug this and found that container is null in ActionSupport class and that is why I see NPE at line number 278, which is: TextProviderFactory tpf = container.getInstance(TextProviderFactory.class);"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1501496474,"post_id":45347478,"comment_id":77786837,"body_markdown":"@Prasann Do you think that your jars are ok? Could you post a project structure with all of them.","body":"@Prasann Do you think that your jars are ok? Could you post a project structure with all of them."},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501498648,"post_id":45347478,"comment_id":77788438,"body_markdown":"@RomanC - For the security reasons I cannot take a print of my project as it is, but I have replicated the exact structure with the test values. Now I have updated my question with the project structure, WAR file structure and the jar files packaged in WAR. Please let me know if you see anything wrong with this.","body":"@RomanC - For the security reasons I cannot take a print of my project as it is, but I have replicated the exact structure with the test values. Now I have updated my question with the project structure, WAR file structure and the jar files packaged in WAR. Please let me know if you see anything wrong with this."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1501531802,"post_id":45347478,"comment_id":77810273,"body_markdown":"@Prasann If you already using `&lt;s:text&gt;`, then why do you need `getText` in that place?","body":"@Prasann If you already using <code>&lt;s:text&gt;</code>, then why do you need <code>getText</code> in that place?"},{"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"score":0,"creation_date":1501672863,"post_id":45347478,"comment_id":77878902,"body_markdown":"Hi @AleksandrM, I can use &lt;s:text&gt; from JSPs, but from action classes I need to use getText() method.","body":"Hi @AleksandrM, I can use &lt;s:text&gt; from JSPs, but from action classes I need to use getText() method."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641897081,"creation_date":1501499574,"answer_id":45414376,"question_id":45347478,"body_markdown":"\r\nYou should not use a file with name [`struts-default.xml`][1]. This is a configuration file that is loaded by default. The default configuration file name for the application is [`struts.xml`][2]. \r\n\r\nRename this file\r\n\r\n    struts-default.xml\r\n\r\nto\r\n\r\n    struts.xml\r\n\r\n \r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/struts-default-xml.html\r\n  [2]: https://struts.apache.org/core-developers/struts-xml.html","title":"Struts2.5.12 - NPE while using getText method from ActionSupport","body":"<p>You should not use a file with name <a href=\"https://struts.apache.org/core-developers/struts-default-xml.html\" rel=\"nofollow noreferrer\"><code>struts-default.xml</code></a>. This is a configuration file that is loaded by default. The default configuration file name for the application is <a href=\"https://struts.apache.org/core-developers/struts-xml.html\" rel=\"nofollow noreferrer\"><code>struts.xml</code></a>.</p>\n<p>Rename this file</p>\n<pre><code>struts-default.xml\n</code></pre>\n<p>to</p>\n<pre><code>struts.xml\n</code></pre>\n"}],"owner":{"account_id":1027268,"reputation":1273,"user_id":1036310,"accept_rate":42,"display_name":"Prasann"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45414376,"answer_count":1,"score":1,"last_activity_date":1641897081,"creation_date":1501149740,"question_id":45347478,"body_markdown":"&lt;br&gt;\r\nI am migrating a project from Struts 2.3.3 to Struts 2.5.12 and I see `NullPointerException` when using the `getText` method from `ActionSupport` class.\r\n\r\nMy action class extends `ActionSupport` class. I have package.properties file also packaged in the war file.\r\n\r\nMy action class looks like:\r\n\r\n    public class MyAction extends ActionSupport {\r\n        private List&lt;String&gt; months = new ArrayList&lt;&gt;(\r\n                Arrays.asList(getText(&quot;date.month.default&quot;), &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;));\r\n    }\r\n\r\nAnd in package.properties file I have\r\n\r\n    date.month.default=MM\r\n\r\nI see the below exception when the bean for my action class is instantiated. Does anyone know if I am doing anything wrong here?\r\n\r\n    ERROR DefaultDispatcherErrorHandler Exception occurred during processing request: Unable to instantiate Action, entryAction,  defined for &#39;entry&#39; in namespace &#39;/&#39;Error creating bean with name &#39;entryAction&#39; defined in &quot;/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml&quot;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\r\n     Unable to instantiate Action, entryAction,  defined for &#39;entry&#39; in namespace &#39;/&#39;Error creating bean with name &#39;entryAction&#39; defined in &quot;/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml&quot;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException - action - vfs:/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/struts-default.xml:133:44\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:318)\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.init(DefaultActionInvocation.java:399)\r\n        at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:204)\r\n        at org.apache.struts2.factory.StrutsActionProxy.prepare(StrutsActionProxy.java:62)\r\n        at org.apache.struts2.factory.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:37)\r\n        at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)\r\n        at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:567)\r\n        at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)\r\n        at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entryAction&#39; defined in &quot;/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml&quot;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:965)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:911)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1075)\r\n        at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:159)\r\n        at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:172)\r\n        at com.opensymphony.xwork2.factory.DefaultActionFactory.buildAction(DefaultActionFactory.java:22)\r\n        at com.opensymphony.xwork2.ObjectFactory.buildAction(ObjectFactory.java:137)\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:299)\r\n        ... 37 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:141)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:74)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:958)\r\n        ... 48 more\r\n    Caused by: java.lang.NullPointerException\r\n        at com.opensymphony.xwork2.ActionSupport.getTextProvider(ActionSupport.java:278)\r\n        at com.opensymphony.xwork2.ActionSupport.getText(ActionSupport.java:83)\r\n        at my.company.member.web.action.MyAction.&lt;init&gt;(MyAction.java:95)\r\n        at my.company.member.web.action.entry.EntryAction.&lt;init&gt;(EntryAction.java:22)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:126)\r\n        ... 50 more\r\n\r\nThe Project Structure is:&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd the WAR built has structure as:&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBelow jar files are added to WEB-INF/lib in the WAR file:&lt;br&gt;\r\nclassworlds-1.1.jar&lt;br&gt;\r\ncom.springsource.org.aopalliance-1.0.0.jar&lt;br&gt;\r\ncommons-betwixt-0.8.jar&lt;br&gt;\r\ncommons-chain-1.2.jar&lt;br&gt;\r\ncommons-digester-1.8.jar&lt;br&gt;\r\ncommons-fileupload-1.2.1.jar&lt;br&gt;\r\ncommons-httpclient-3.1.jar&lt;br&gt;\r\ncommons-io-2.4.jar&lt;br&gt;\r\ncommons-lang3-3.6.jar&lt;br&gt;\r\ncommons-validator-1.3.1.jar&lt;br&gt;\r\nfreemarker-2.3.23.jar&lt;br&gt;\r\ngson-2.1.jar&lt;br&gt;\r\nhttpclient-4.3-beta1.jar&lt;br&gt;\r\nhttpclient-osgi-4.3.jar&lt;br&gt;\r\nhttpcore-4.2.2.jar&lt;br&gt;\r\njavassist-3.18.0-GA.jar&lt;br&gt;\r\njaxrpc-api-1.1.jar&lt;br&gt;\r\njcifs-1.3.17.jar&lt;br&gt;\r\nlog4j-api-2.8.2.jar&lt;br&gt;\r\nognl-3.1.12.jar&lt;br&gt;\r\noro-2.0.8.jar&lt;br&gt;\r\nserializer-2.7.1.jar&lt;br&gt;\r\nspring-aop-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-asm-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-beans-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-context-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-context-support-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-core-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-expression-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-jdbc-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-jms-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-orm-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-remoting-2.0.8.jar&lt;br&gt;\r\nspring-tx-3.0.5.RELEASE.jar&lt;br&gt;\r\nspring-web-3.0.5.RELEASE.jar&lt;br&gt;\r\nstruts2-core-2.5.12.jar&lt;br&gt;\r\nstruts2-json-plugin-2.5.12.jar&lt;br&gt;\r\nstruts2-spring-plugin-2.5.12.jar&lt;br&gt;\r\nstruts2-tiles-plugin-2.5.12.jar&lt;br&gt;\r\ntiles-api-3.0.7.jar&lt;br&gt;\r\ntiles-autotag-core-runtime-1.2.jar&lt;br&gt;\r\ntiles-core-3.0.7.jar&lt;br&gt;\r\ntiles-el-3.0.7.jar&lt;br&gt;\r\ntiles-freemarker-3.0.7.jar&lt;br&gt;\r\ntiles-jsp-3.0.7.jar&lt;br&gt;\r\ntiles-ognl-3.0.7.jar&lt;br&gt;\r\ntiles-request-api-1.0.6.jar&lt;br&gt;\r\ntiles-request-freemarker-1.0.6.jar&lt;br&gt;\r\ntiles-request-jsp-1.0.6.jar&lt;br&gt;\r\ntiles-request-servlet-1.0.6.jar&lt;br&gt;\r\ntiles-servlet-3.0.7.jar&lt;br&gt;\r\ntiles-template-3.0.7.jar&lt;br&gt;\r\nwsdl4j-1.5.1.jar&lt;br&gt;\r\nxml-apis-1.3.02.jar\r\n  [1]: https://i.stack.imgur.com/LCORn.png\r\n  [2]: https://i.stack.imgur.com/OUJSU.png","title":"Struts2.5.12 - NPE while using getText method from ActionSupport","body":"<p><br>\nI am migrating a project from Struts 2.3.3 to Struts 2.5.12 and I see <code>NullPointerException</code> when using the <code>getText</code> method from <code>ActionSupport</code> class.</p>\n\n<p>My action class extends <code>ActionSupport</code> class. I have package.properties file also packaged in the war file.</p>\n\n<p>My action class looks like:</p>\n\n<pre><code>public class MyAction extends ActionSupport {\n    private List&lt;String&gt; months = new ArrayList&lt;&gt;(\n            Arrays.asList(getText(\"date.month.default\"), \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"));\n}\n</code></pre>\n\n<p>And in package.properties file I have</p>\n\n<pre><code>date.month.default=MM\n</code></pre>\n\n<p>I see the below exception when the bean for my action class is instantiated. Does anyone know if I am doing anything wrong here?</p>\n\n<pre><code>ERROR DefaultDispatcherErrorHandler Exception occurred during processing request: Unable to instantiate Action, entryAction,  defined for 'entry' in namespace '/'Error creating bean with name 'entryAction' defined in \"/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml\": Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\n Unable to instantiate Action, entryAction,  defined for 'entry' in namespace '/'Error creating bean with name 'entryAction' defined in \"/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml\": Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException - action - vfs:/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/struts-default.xml:133:44\n    at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:318)\n    at com.opensymphony.xwork2.DefaultActionInvocation.init(DefaultActionInvocation.java:399)\n    at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:204)\n    at org.apache.struts2.factory.StrutsActionProxy.prepare(StrutsActionProxy.java:62)\n    at org.apache.struts2.factory.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:37)\n    at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:567)\n    at org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:81)\n    at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:143)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entryAction' defined in \"/D:/Software/JBossEAP/jboss-eap-7.0/bin/content/Member.war/WEB-INF/classes/my/company/member/web/action/entry/spring-context.xml\": Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:965)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:911)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1075)\n    at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:159)\n    at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:172)\n    at com.opensymphony.xwork2.factory.DefaultActionFactory.buildAction(DefaultActionFactory.java:22)\n    at com.opensymphony.xwork2.ObjectFactory.buildAction(ObjectFactory.java:137)\n    at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:299)\n    ... 37 more\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [my.company.member.web.action.entry.EntryAction]: Constructor threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:141)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:74)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:958)\n    ... 48 more\nCaused by: java.lang.NullPointerException\n    at com.opensymphony.xwork2.ActionSupport.getTextProvider(ActionSupport.java:278)\n    at com.opensymphony.xwork2.ActionSupport.getText(ActionSupport.java:83)\n    at my.company.member.web.action.MyAction.&lt;init&gt;(MyAction.java:95)\n    at my.company.member.web.action.entry.EntryAction.&lt;init&gt;(EntryAction.java:22)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:126)\n    ... 50 more\n</code></pre>\n\n<p>The Project Structure is:<br>\n<a href=\"https://i.stack.imgur.com/LCORn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCORn.png\" alt=\"enter image description here\"></a></p>\n\n<p>And the WAR built has structure as:<br>\n<a href=\"https://i.stack.imgur.com/OUJSU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OUJSU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below jar files are added to WEB-INF/lib in the WAR file:<br>\nclassworlds-1.1.jar<br>\ncom.springsource.org.aopalliance-1.0.0.jar<br>\ncommons-betwixt-0.8.jar<br>\ncommons-chain-1.2.jar<br>\ncommons-digester-1.8.jar<br>\ncommons-fileupload-1.2.1.jar<br>\ncommons-httpclient-3.1.jar<br>\ncommons-io-2.4.jar<br>\ncommons-lang3-3.6.jar<br>\ncommons-validator-1.3.1.jar<br>\nfreemarker-2.3.23.jar<br>\ngson-2.1.jar<br>\nhttpclient-4.3-beta1.jar<br>\nhttpclient-osgi-4.3.jar<br>\nhttpcore-4.2.2.jar<br>\njavassist-3.18.0-GA.jar<br>\njaxrpc-api-1.1.jar<br>\njcifs-1.3.17.jar<br>\nlog4j-api-2.8.2.jar<br>\nognl-3.1.12.jar<br>\noro-2.0.8.jar<br>\nserializer-2.7.1.jar<br>\nspring-aop-3.0.5.RELEASE.jar<br>\nspring-asm-3.0.5.RELEASE.jar<br>\nspring-beans-3.0.5.RELEASE.jar<br>\nspring-context-3.0.5.RELEASE.jar<br>\nspring-context-support-3.0.5.RELEASE.jar<br>\nspring-core-3.0.5.RELEASE.jar<br>\nspring-expression-3.0.5.RELEASE.jar<br>\nspring-jdbc-3.0.5.RELEASE.jar<br>\nspring-jms-3.0.5.RELEASE.jar<br>\nspring-orm-3.0.5.RELEASE.jar<br>\nspring-remoting-2.0.8.jar<br>\nspring-tx-3.0.5.RELEASE.jar<br>\nspring-web-3.0.5.RELEASE.jar<br>\nstruts2-core-2.5.12.jar<br>\nstruts2-json-plugin-2.5.12.jar<br>\nstruts2-spring-plugin-2.5.12.jar<br>\nstruts2-tiles-plugin-2.5.12.jar<br>\ntiles-api-3.0.7.jar<br>\ntiles-autotag-core-runtime-1.2.jar<br>\ntiles-core-3.0.7.jar<br>\ntiles-el-3.0.7.jar<br>\ntiles-freemarker-3.0.7.jar<br>\ntiles-jsp-3.0.7.jar<br>\ntiles-ognl-3.0.7.jar<br>\ntiles-request-api-1.0.6.jar<br>\ntiles-request-freemarker-1.0.6.jar<br>\ntiles-request-jsp-1.0.6.jar<br>\ntiles-request-servlet-1.0.6.jar<br>\ntiles-servlet-3.0.7.jar<br>\ntiles-template-3.0.7.jar<br>\nwsdl4j-1.5.1.jar<br>\nxml-apis-1.3.02.jar</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1641894738,"post_id":70664530,"comment_id":124920720,"body_markdown":"Take a look at [this answer](https://stackoverflow.com/questions/9073687/wait-cursor-and-disable-java-application).","body":"Take a look at <a href=\"https://stackoverflow.com/questions/9073687/wait-cursor-and-disable-java-application\">this answer</a>."},{"owner":{"account_id":23820396,"reputation":11,"user_id":17828104,"display_name":"Mauro Acosta"},"score":0,"creation_date":1641898134,"post_id":70664530,"comment_id":124922140,"body_markdown":"thanks tom&#225;s !!\nBut I was able to figure out what I wanted to do by replacing &quot;txt&quot; with &quot;this&quot;","body":"thanks tom&#225;s !! But I was able to figure out what I wanted to do by replacing &quot;txt&quot; with &quot;this&quot;"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1641901599,"post_id":70664530,"comment_id":124923399,"body_markdown":"*&quot;I was able to figure out what I wanted to do&quot;* Please either answer the question below or delete it using the link below the tags. I suggest the 2nd, as this does not provide enough value for future visitors. Glad you got it sorted.","body":"<i>&quot;I was able to figure out what I wanted to do&quot;</i> Please either answer the question below or delete it using the link below the tags. I suggest the 2nd, as this does not provide enough value for future visitors. Glad you got it sorted."}],"owner":{"account_id":23820396,"reputation":11,"user_id":17828104,"display_name":"Mauro Acosta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641896851,"creation_date":1641894102,"question_id":70664530,"body_markdown":"I have the following line of code in the mouseEntered event of a JtextField:\r\ntxt.setCursor (Cursor.getSystemCustomCursor (&quot;Invalid.32x32&quot;));\r\nIf the component is enabled (setEnabled (true)) the changes are applied. But if it is disabled, nothing happens.\r\nAny help would be great. From already thank you very much","title":"How to change the mouse cursor when it passes over a component but said component is disabled?","body":"<p>I have the following line of code in the mouseEntered event of a JtextField:\ntxt.setCursor (Cursor.getSystemCustomCursor (&quot;Invalid.32x32&quot;));\nIf the component is enabled (setEnabled (true)) the changes are applied. But if it is disabled, nothing happens.\nAny help would be great. From already thank you very much</p>\n"},{"tags":["java","garbage-collection","jvm","java-11","java-17"],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1641896694,"creation_date":1641896694,"answer_id":70665158,"question_id":70664562,"body_markdown":"In JDK 11 and 17 `Serial` collector is used when there is only one CPU available. Otherwise `G1` is selected\r\n\r\nIf you limit the number of CPUS available to your container, JVM selects `Serial` instead of the default`G1` \r\n\r\n\r\n## JDK11\r\n#### 1 CPU\r\n```\r\ndocker run --cpus=1 --rm -it eclipse-temurin:11 java -Xlog:gc* -version\r\n[0.004s][info][gc] Using **Serial**\r\n```\r\n\r\nIt uses `Serial`\r\n\r\n#### More than one CPU\r\n```\r\ndocker run --cpus=2 --rm -it eclipse-temurin:11 java -Xlog:gc* -version\r\n[0.008s][info][gc     ] Using G1\r\n```\r\n\r\nIt uses `G1`\r\n\r\n## JDK17\r\n#### 1 CPU\r\n```\r\ndocker run --cpus=1 --rm -it eclipse-temurin:17 java -Xlog:gc* -version\r\n[0.004s][info][gc] Using Serial\r\n```\r\nIt uses `Serial`\r\n\r\n#### More than one CPU\r\n\r\n```\r\ndocker run --cpus=2 --rm -it eclipse-temurin:17 java -Xlog:gc* -version\r\n[0.007s][info][gc] Using G1\r\n```\r\nIt uses `G1`\r\n","title":"Criteria for default garbage collector Hotspot JVM 11/17","body":"<p>In JDK 11 and 17 <code>Serial</code> collector is used when there is only one CPU available. Otherwise <code>G1</code> is selected</p>\n<p>If you limit the number of CPUS available to your container, JVM selects <code>Serial</code> instead of the default<code>G1</code></p>\n<h2>JDK11</h2>\n<h4>1 CPU</h4>\n<pre><code>docker run --cpus=1 --rm -it eclipse-temurin:11 java -Xlog:gc* -version\n[0.004s][info][gc] Using **Serial**\n</code></pre>\n<p>It uses <code>Serial</code></p>\n<h4>More than one CPU</h4>\n<pre><code>docker run --cpus=2 --rm -it eclipse-temurin:11 java -Xlog:gc* -version\n[0.008s][info][gc     ] Using G1\n</code></pre>\n<p>It uses <code>G1</code></p>\n<h2>JDK17</h2>\n<h4>1 CPU</h4>\n<pre><code>docker run --cpus=1 --rm -it eclipse-temurin:17 java -Xlog:gc* -version\n[0.004s][info][gc] Using Serial\n</code></pre>\n<p>It uses <code>Serial</code></p>\n<h4>More than one CPU</h4>\n<pre><code>docker run --cpus=2 --rm -it eclipse-temurin:17 java -Xlog:gc* -version\n[0.007s][info][gc] Using G1\n</code></pre>\n<p>It uses <code>G1</code></p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1641896796,"creation_date":1641896796,"answer_id":70665188,"question_id":70664562,"body_markdown":"In current OpenJDK, G1 GC is chosen by default for the &quot;server class machine&quot;, or Serial GC otherwise. &quot;Server class machine&quot; is defined as a system with 2 or more non-HT CPUs and 2 or more GiB RAM.\r\n\r\nThe exact algorithm can be found in [src/hotspot/share/runtime/os.cpp](https://github.com/openjdk/jdk/blob/3121898c33fa3cc5a049977f8677105a84c3e50c/src/hotspot/share/runtime/os.cpp#L1673):\r\n\r\n```\r\n// This is the working definition of a server class machine:\r\n// &gt;= 2 physical CPU&#39;s and &gt;=2GB of memory, with some fuzz\r\n// because the graphics memory (?) sometimes masks physical memory.\r\n// If you want to change the definition of a server class machine\r\n// on some OS or platform, e.g., &gt;=4GB on Windows platforms,\r\n// then you&#39;ll have to parameterize this method based on that state,\r\n// as was done for logical processors here, or replicate and\r\n// specialize this method for each platform.  (Or fix os to have\r\n// some inheritance structure and use subclassing.  Sigh.)\r\n// If you want some platform to always or never behave as a server\r\n// class machine, change the setting of AlwaysActAsServerClassMachine\r\n// and NeverActAsServerClassMachine in globals*.hpp.\r\nbool os::is_server_class_machine() {\r\n  // First check for the early returns\r\n  if (NeverActAsServerClassMachine) {\r\n    return false;\r\n  }\r\n  if (AlwaysActAsServerClassMachine) {\r\n    return true;\r\n  }\r\n  // Then actually look at the machine\r\n  bool         result            = false;\r\n  const unsigned int    server_processors = 2;\r\n  const julong server_memory     = 2UL * G;\r\n  // We seem not to get our full complement of memory.\r\n  //     We allow some part (1/8?) of the memory to be &quot;missing&quot;,\r\n  //     based on the sizes of DIMMs, and maybe graphics cards.\r\n  const julong missing_memory   = 256UL * M;\r\n\r\n  /* Is this a server class machine? */\r\n  if ((os::active_processor_count() &gt;= (int)server_processors) &amp;&amp;\r\n      (os::physical_memory() &gt;= (server_memory - missing_memory))) {\r\n    const unsigned int logical_processors =\r\n      VM_Version::logical_processors_per_package();\r\n    if (logical_processors &gt; 1) {\r\n      const unsigned int physical_packages =\r\n        os::active_processor_count() / logical_processors;\r\n      if (physical_packages &gt;= server_processors) {\r\n        result = true;\r\n      }\r\n    } else {\r\n      result = true;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n```","title":"Criteria for default garbage collector Hotspot JVM 11/17","body":"<p>In current OpenJDK, G1 GC is chosen by default for the &quot;server class machine&quot;, or Serial GC otherwise. &quot;Server class machine&quot; is defined as a system with 2 or more non-HT CPUs and 2 or more GiB RAM.</p>\n<p>The exact algorithm can be found in <a href=\"https://github.com/openjdk/jdk/blob/3121898c33fa3cc5a049977f8677105a84c3e50c/src/hotspot/share/runtime/os.cpp#L1673\" rel=\"noreferrer\">src/hotspot/share/runtime/os.cpp</a>:</p>\n<pre><code>// This is the working definition of a server class machine:\n// &gt;= 2 physical CPU's and &gt;=2GB of memory, with some fuzz\n// because the graphics memory (?) sometimes masks physical memory.\n// If you want to change the definition of a server class machine\n// on some OS or platform, e.g., &gt;=4GB on Windows platforms,\n// then you'll have to parameterize this method based on that state,\n// as was done for logical processors here, or replicate and\n// specialize this method for each platform.  (Or fix os to have\n// some inheritance structure and use subclassing.  Sigh.)\n// If you want some platform to always or never behave as a server\n// class machine, change the setting of AlwaysActAsServerClassMachine\n// and NeverActAsServerClassMachine in globals*.hpp.\nbool os::is_server_class_machine() {\n  // First check for the early returns\n  if (NeverActAsServerClassMachine) {\n    return false;\n  }\n  if (AlwaysActAsServerClassMachine) {\n    return true;\n  }\n  // Then actually look at the machine\n  bool         result            = false;\n  const unsigned int    server_processors = 2;\n  const julong server_memory     = 2UL * G;\n  // We seem not to get our full complement of memory.\n  //     We allow some part (1/8?) of the memory to be &quot;missing&quot;,\n  //     based on the sizes of DIMMs, and maybe graphics cards.\n  const julong missing_memory   = 256UL * M;\n\n  /* Is this a server class machine? */\n  if ((os::active_processor_count() &gt;= (int)server_processors) &amp;&amp;\n      (os::physical_memory() &gt;= (server_memory - missing_memory))) {\n    const unsigned int logical_processors =\n      VM_Version::logical_processors_per_package();\n    if (logical_processors &gt; 1) {\n      const unsigned int physical_packages =\n        os::active_processor_count() / logical_processors;\n      if (physical_packages &gt;= server_processors) {\n        result = true;\n      }\n    } else {\n      result = true;\n    }\n  }\n  return result;\n}\n</code></pre>\n"}],"owner":{"account_id":20251716,"reputation":241,"user_id":14852622,"display_name":"Paul7979"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14990,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":70665188,"answer_count":2,"score":20,"last_activity_date":1641896796,"creation_date":1641894246,"question_id":70664562,"body_markdown":"I found a [source][1] describing that the default gc used changes depending on the available resources. It seems that the jvm uses either g1gc or serial gc dependnig on hardware and os.\r\n\r\n&gt; The serial collector is selected by default on certain hardware and operating system configurations\r\n\r\nCan someone point out a more detailed source on what the specific criteria is and how that would apply in a dockerized/kubernetes enivronment.\r\nIn other words:\r\n\r\nCould setting resource requests of the pod in k8s to eg. 1500 mCpu make the jvm use serial gc and changing to 2 Cpu change the default gc to g1gc? Do the limits on when which gc is used change depending on jvm version (11 vs 17)?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C","title":"Criteria for default garbage collector Hotspot JVM 11/17","body":"<p>I found a <a href=\"https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C\" rel=\"noreferrer\">source</a> describing that the default gc used changes depending on the available resources. It seems that the jvm uses either g1gc or serial gc dependnig on hardware and os.</p>\n<blockquote>\n<p>The serial collector is selected by default on certain hardware and operating system configurations</p>\n</blockquote>\n<p>Can someone point out a more detailed source on what the specific criteria is and how that would apply in a dockerized/kubernetes enivronment.\nIn other words:</p>\n<p>Could setting resource requests of the pod in k8s to eg. 1500 mCpu make the jvm use serial gc and changing to 2 Cpu change the default gc to g1gc? Do the limits on when which gc is used change depending on jvm version (11 vs 17)?</p>\n"},{"tags":["java","jar","properties-file"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1641895600,"post_id":70664847,"comment_id":124921088,"body_markdown":"Possibly related: [Loading resources like images while running project distributed as JAR archive](https://stackoverflow.com/q/9864267)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/9864267\">Loading resources like images while running project distributed as JAR archive</a>"},{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":0,"creation_date":1641895857,"post_id":70664847,"comment_id":124921195,"body_markdown":"The other question specifically involves images.","body":"The other question specifically involves images."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1641896019,"post_id":70664847,"comment_id":124921268,"body_markdown":"Does this answer your question? [How to read from properties file?](https://stackoverflow.com/questions/18239902/how-to-read-from-properties-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18239902/how-to-read-from-properties-file\">How to read from properties file?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641896227,"creation_date":1641896227,"answer_id":70665059,"question_id":70664847,"body_markdown":"Files in &quot;src/main/resources&quot; automatically get bundled into the jar file, meaning that they can be used at runtime no matter where they are run.\r\n\r\nIf you want to access files inside the JAR, you can use methods provided by Java:\r\n```\r\n// Get the resource &quot;test.properties&quot; inside the current package.\r\ngetClass().getResource(&quot;test.properties&quot;);\r\n// Get the resource &quot;test.properties&quot; inside &quot;src/main/resources&quot;. \r\ngetClass().getResource(&quot;/test.properties&quot;);\r\n```\r\n\r\nIf you want an input stream, you can use `getResourceAsStream`:\r\n```\r\nInputStream propertiesInput = getClass().getResourceAsStream(&quot;/test.properties&quot;);\r\n```\r\n\r\nYou can combine this with a `Properties` object to read the resource as a properties file:\r\n```\r\nInputStream propertiesInput = getClass().getResourceAsStream(&quot;/test.properties&quot;);\r\n\r\nProperties testProperties = new Properties();\r\ntestProperties.load(propertiesInput);\r\n\r\npropertiesInput.close();\r\n```","title":"Java properties file path","body":"<p>Files in &quot;src/main/resources&quot; automatically get bundled into the jar file, meaning that they can be used at runtime no matter where they are run.</p>\n<p>If you want to access files inside the JAR, you can use methods provided by Java:</p>\n<pre><code>// Get the resource &quot;test.properties&quot; inside the current package.\ngetClass().getResource(&quot;test.properties&quot;);\n// Get the resource &quot;test.properties&quot; inside &quot;src/main/resources&quot;. \ngetClass().getResource(&quot;/test.properties&quot;);\n</code></pre>\n<p>If you want an input stream, you can use <code>getResourceAsStream</code>:</p>\n<pre><code>InputStream propertiesInput = getClass().getResourceAsStream(&quot;/test.properties&quot;);\n</code></pre>\n<p>You can combine this with a <code>Properties</code> object to read the resource as a properties file:</p>\n<pre><code>InputStream propertiesInput = getClass().getResourceAsStream(&quot;/test.properties&quot;);\n\nProperties testProperties = new Properties();\ntestProperties.load(propertiesInput);\n\npropertiesInput.close();\n</code></pre>\n"}],"owner":{"account_id":10229775,"reputation":11,"user_id":7550987,"display_name":"9gagger07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641896227,"creation_date":1641895408,"question_id":70664847,"body_markdown":"I am reading properties file by a path like this:\r\n\r\n    String filePath = &quot;src/main/resources/database.properties&quot;;\r\n\r\nAfter I build the jar, the jar tries to again find properties file at this particular path, but fails. Is there a way to pack properties files inside the jar or have a neutral path (path which applies both ways with or without building jar) or any other solution to this?","title":"Java properties file path","body":"<p>I am reading properties file by a path like this:</p>\n<pre><code>String filePath = &quot;src/main/resources/database.properties&quot;;\n</code></pre>\n<p>After I build the jar, the jar tries to again find properties file at this particular path, but fails. Is there a way to pack properties files inside the jar or have a neutral path (path which applies both ways with or without building jar) or any other solution to this?</p>\n"},{"tags":["java","loops","infinite-loop"],"answers":[{"tags":[],"owner":{"account_id":20826852,"reputation":141,"user_id":15297124,"display_name":"JJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641895620,"creation_date":1641895620,"answer_id":70664906,"question_id":70664474,"body_markdown":"So this is a rather broad solution space here - as you can imagine there are many ways to do what you are describing here. \r\n\r\nThe way that I would approach this is to create a functional interface that can accept ping durations. Then pass a lamba of that into your ping function. Such that it calls back into whatever class you need it to. \r\n\r\nYour code would look like something like this:\r\n```\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\n@FunctionalInterface\r\ninterface DurationAcceptor\r\n{\r\n\tvoid acceptPing(Long l);\r\n}\r\n\r\nclass Server implements DurationAcceptor\r\n{\r\n\tprivate volatile Long serverStatus;\r\n\r\n\t@Override public void acceptPing(Long l)\r\n\t{\r\n\t\tserverStatus = l;\r\n\t}\r\n}\r\n\r\npublic class Ping\r\n{\r\n\tpublic static void main(String... args)\r\n\t{\r\n\t\tServer server = new Server();\r\n\t\tPing ping = new Ping();\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\tPing.ping(&quot;localhost&quot;, server::acceptPing);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void ping(String host, DurationAcceptor acceptor)\r\n\t{\r\n\t\tInstant startTime = Instant.now();\r\n\t\ttry {\r\n\t\t\tInetAddress address = InetAddress.getByName(host);\r\n\t\t\tif (address.isReachable(1000))\r\n\t\t\t{\r\n\t\t\t\tacceptor.acceptPing(Duration.between(startTime, Instant.now()).toMillis());\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// Host not available, nothing to do here\r\n\t\t}\r\n\t\tacceptor.acceptPing(Duration.ofDays(1).toMillis());\r\n\t}\r\n}\r\n```","title":"How to keep looping an function in another class and pass return value to another class","body":"<p>So this is a rather broad solution space here - as you can imagine there are many ways to do what you are describing here.</p>\n<p>The way that I would approach this is to create a functional interface that can accept ping durations. Then pass a lamba of that into your ping function. Such that it calls back into whatever class you need it to.</p>\n<p>Your code would look like something like this:</p>\n<pre><code>import java.io.IOException;\nimport java.net.InetAddress;\nimport java.time.Duration;\nimport java.time.Instant;\n\n@FunctionalInterface\ninterface DurationAcceptor\n{\n    void acceptPing(Long l);\n}\n\nclass Server implements DurationAcceptor\n{\n    private volatile Long serverStatus;\n\n    @Override public void acceptPing(Long l)\n    {\n        serverStatus = l;\n    }\n}\n\npublic class Ping\n{\n    public static void main(String... args)\n    {\n        Server server = new Server();\n        Ping ping = new Ping();\n        while(true)\n        {\n            Ping.ping(&quot;localhost&quot;, server::acceptPing);\n        }\n    }\n\n    public static void ping(String host, DurationAcceptor acceptor)\n    {\n        Instant startTime = Instant.now();\n        try {\n            InetAddress address = InetAddress.getByName(host);\n            if (address.isReachable(1000))\n            {\n                acceptor.acceptPing(Duration.between(startTime, Instant.now()).toMillis());\n            }\n        } catch (IOException e) {\n            // Host not available, nothing to do here\n        }\n        acceptor.acceptPing(Duration.ofDays(1).toMillis());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22315433,"reputation":1,"user_id":16538851,"display_name":"Learning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641896165,"creation_date":1641893831,"question_id":70664474,"body_markdown":"Suppose I am having a function to return ping response time to my server address.\r\n```\r\npublic class Ping{\r\npublic static Long ping(String host) {\r\n        Instant startTime = Instant.now();\r\n        try {\r\n            InetAddress address = InetAddress.getByName(host);\r\n            if (address.isReachable(1000)) {\r\n                return Duration.between(startTime, Instant.now()).toMillis();\r\n            }\r\n        } catch (IOException e) {\r\n            // Host not available, nothing to do here\r\n        }\r\n        return Duration.ofDays(1).toMillis();\r\n    \r\n}}\r\n```\r\nAnd another class that create a **server** object to store all required value(&quot;localhost&quot; as example).\r\n```\r\nserverStatus.setConnectivity(Ping.ping(&quot;localhost&quot;).doubleValue());\r\n```\r\n\r\nWill I be able to keep looping the ping function inside Ping class and pass the return result to the serverStatus setter which is in another class **StatusMapper**. Or looping the ping function inside StatusMapper class like below\r\n```\r\ndouble ping = 0;\r\nwhile true{\r\nping = Ping.ping(&quot;localhost&quot;).doubleValue();\r\n}\r\nserverStatus.setConnectivity(ping);\r\n```\r\nOr is there a better way?","title":"How to keep looping an function in another class and pass return value to another class","body":"<p>Suppose I am having a function to return ping response time to my server address.</p>\n<pre><code>public class Ping{\npublic static Long ping(String host) {\n        Instant startTime = Instant.now();\n        try {\n            InetAddress address = InetAddress.getByName(host);\n            if (address.isReachable(1000)) {\n                return Duration.between(startTime, Instant.now()).toMillis();\n            }\n        } catch (IOException e) {\n            // Host not available, nothing to do here\n        }\n        return Duration.ofDays(1).toMillis();\n    \n}}\n</code></pre>\n<p>And another class that create a <strong>server</strong> object to store all required value(&quot;localhost&quot; as example).</p>\n<pre><code>serverStatus.setConnectivity(Ping.ping(&quot;localhost&quot;).doubleValue());\n</code></pre>\n<p>Will I be able to keep looping the ping function inside Ping class and pass the return result to the serverStatus setter which is in another class <strong>StatusMapper</strong>. Or looping the ping function inside StatusMapper class like below</p>\n<pre><code>double ping = 0;\nwhile true{\nping = Ping.ping(&quot;localhost&quot;).doubleValue();\n}\nserverStatus.setConnectivity(ping);\n</code></pre>\n<p>Or is there a better way?</p>\n"},{"tags":["java","nativescript","jde"],"answers":[{"tags":[],"owner":{"account_id":4894636,"reputation":1763,"user_id":3944673,"accept_rate":100,"display_name":"Lorraine Ram-El"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641895427,"creation_date":1641864094,"answer_id":70660615,"question_id":70653556,"body_markdown":"Try to uninstall and then reinstall Android SDK using the Android SDK Manager.\r\n\r\nYou can do this by installing [Android Studio][1], and opening the SDK Manager:\r\n[![enter image description here][2]][2]\r\n\r\nThen, click on &quot;SDK Manager&quot; (red mark), then &quot;Show all packages&quot; (orange mark) and then uncheck version 31.0.0 (should be where my blue mark is), and click apply to uninstall it.\r\nThen, check version 31.0.0 (or any other version), and click apply to install it again.\r\n[![enter image description here][3]][3]\r\n\r\nI have both versions 30.0.2 and 26.0.3 and they work great.\r\n\r\nAlso, check to see that the `$ANDROID_HOME` and `$ANDROID_SDK_ROOT` paths are correctly set by following [this answer][4].\r\n\r\nAfter you&#39;ve reinstalled the packages, check [this answer][5] to see how to fix a corrupt SDK installation if it is still corrupt.\r\n\r\n\r\n  [1]: https://developer.android.com/studio?gclid=CjwKCAiAz--OBhBIEiwAG1rIOjGOPr-ZqkjvF_ZIxT4MYqiUc1OADA1LxbYwWFMypp5vERWKPnWOmxoCGGMQAvD_BwE&amp;gclsrc=aw.ds\r\n  [2]: https://i.stack.imgur.com/ugZE4.png\r\n  [3]: https://i.stack.imgur.com/95Uw4.png\r\n  [4]: https://stackoverflow.com/a/70655151/3944673\r\n  [5]: https://stackoverflow.com/a/68430992/3944673","title":"I am trying to get build of nativescript with react but getting this error in build?","body":"<p>Try to uninstall and then reinstall Android SDK using the Android SDK Manager.</p>\n<p>You can do this by installing <a href=\"https://developer.android.com/studio?gclid=CjwKCAiAz--OBhBIEiwAG1rIOjGOPr-ZqkjvF_ZIxT4MYqiUc1OADA1LxbYwWFMypp5vERWKPnWOmxoCGGMQAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Android Studio</a>, and opening the SDK Manager:\n<a href=\"https://i.stack.imgur.com/ugZE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ugZE4.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, click on &quot;SDK Manager&quot; (red mark), then &quot;Show all packages&quot; (orange mark) and then uncheck version 31.0.0 (should be where my blue mark is), and click apply to uninstall it.\nThen, check version 31.0.0 (or any other version), and click apply to install it again.\n<a href=\"https://i.stack.imgur.com/95Uw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95Uw4.png\" alt=\"enter image description here\" /></a></p>\n<p>I have both versions 30.0.2 and 26.0.3 and they work great.</p>\n<p>Also, check to see that the <code>$ANDROID_HOME</code> and <code>$ANDROID_SDK_ROOT</code> paths are correctly set by following <a href=\"https://stackoverflow.com/a/70655151/3944673\">this answer</a>.</p>\n<p>After you've reinstalled the packages, check <a href=\"https://stackoverflow.com/a/68430992/3944673\">this answer</a> to see how to fix a corrupt SDK installation if it is still corrupt.</p>\n"}],"owner":{"account_id":23893507,"reputation":31,"user_id":17892832,"display_name":"sumit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641895427,"creation_date":1641823028,"question_id":70653556,"body_markdown":"&gt; C:\\ns\\example-app&gt;**java -version**\r\n\r\n    java version &quot;17&quot; 2021-09-14 LTS\r\n    Java(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed \r\n    mode, sharing)\r\n\r\n&gt; C:\\ns\\example-app&gt;**ns -version**\r\n\r\n    8.1.5\r\n    √ Up to date.\r\n\r\n&gt; C:\\ns\\example-app&gt;**npm -version**\r\n\r\n    6.14.15\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e9WVl.png","title":"I am trying to get build of nativescript with react but getting this error in build?","body":"<blockquote>\n<p>C:\\ns\\example-app&gt;<strong>java -version</strong></p>\n</blockquote>\n<pre><code>java version &quot;17&quot; 2021-09-14 LTS\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\nJava HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed \nmode, sharing)\n</code></pre>\n<blockquote>\n<p>C:\\ns\\example-app&gt;<strong>ns -version</strong></p>\n</blockquote>\n<pre><code>8.1.5\n√ Up to date.\n</code></pre>\n<blockquote>\n<p>C:\\ns\\example-app&gt;<strong>npm -version</strong></p>\n</blockquote>\n<pre><code>6.14.15\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/e9WVl.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641893867,"creation_date":1641893867,"answer_id":70664481,"question_id":70664204,"body_markdown":"Just add this snippet before returning your priorityQueue:\r\n\r\n     Set&lt;String&gt; keys= new HashSet&lt;&gt;( hmap.values());\r\n            for(Map.Entry&lt;String, String&gt; map: hmap.entrySet())\r\n            {\r\n                String key=map.getKey();\r\n                if(!keys.contains(key))\r\n                {\r\n                    System.out.println(key);\r\n                    a.add(key);\r\n                }\r\n            }\r\n\r\nI am simply checking which value is missing in the set which was supposed to be there.","title":"Printing unique strings in HashMap","body":"<p>Just add this snippet before returning your priorityQueue:</p>\n<pre><code> Set&lt;String&gt; keys= new HashSet&lt;&gt;( hmap.values());\n        for(Map.Entry&lt;String, String&gt; map: hmap.entrySet())\n        {\n            String key=map.getKey();\n            if(!keys.contains(key))\n            {\n                System.out.println(key);\n                a.add(key);\n            }\n        }\n</code></pre>\n<p>I am simply checking which value is missing in the set which was supposed to be there.</p>\n"},{"tags":[],"owner":{"account_id":18582602,"reputation":101,"user_id":13541788,"display_name":"rmfeldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641895418,"creation_date":1641895418,"answer_id":70664853,"question_id":70664204,"body_markdown":"Another way, using the functionality of Collections, would be to add the following before returning:\r\n\r\n\r\n    //Extract all the voters into a new hashset, this will be modified\r\n    Set&lt;String&gt; missing = new HashSet&lt;&gt;( hmap.keySet());\r\n    //Use Collections.removeAll() to remove all the values from the keyset\r\n    missing.removeAll(hmap.values());\r\n    //Add the results to your queue\r\n    a.addAll(missing);\r\n\r\nHave a look at:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeAll-java.util.Collection-","title":"Printing unique strings in HashMap","body":"<p>Another way, using the functionality of Collections, would be to add the following before returning:</p>\n<pre><code>//Extract all the voters into a new hashset, this will be modified\nSet&lt;String&gt; missing = new HashSet&lt;&gt;( hmap.keySet());\n//Use Collections.removeAll() to remove all the values from the keyset\nmissing.removeAll(hmap.values());\n//Add the results to your queue\na.addAll(missing);\n</code></pre>\n<p>Have a look at:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeAll-java.util.Collection-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeAll-java.util.Collection-</a></p>\n"}],"owner":{"account_id":20121108,"reputation":15,"user_id":14755592,"display_name":"Jessie Kelso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70664481,"answer_count":2,"score":1,"last_activity_date":1641895418,"creation_date":1641892448,"question_id":70664204,"body_markdown":"i am currently making this code and it suppose to output the name of someone that a list of people didn&#39;t write his/her name.\r\n i just would like to ask how can i make the output like this using Map\r\n\r\nOutput:\r\n{Andrew}\r\n\r\nExplanation : Jay wrote Susan , Susan wrote Jay, Andrew wrote Anna, Anna wrote Jay but nobody wrote Andrew.\r\n\r\nThanks!\r\n\r\n\r\n\r\n    public class Main {\r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                    Main func = new Main();\r\n    \r\n                    System.out.println(func.test(&quot;Jay:Susan,Susan:Jay,Andrew:Anna,Anna:Jay&quot;));\r\n            }\r\n            public PriorityQueue test(String c) {\r\n                    Map &lt; String, String &gt; hmap = new HashMap &lt; &gt; ();\r\n                    PriorityQueue a = new PriorityQueue();\r\n    \r\n                    String b = c.replaceAll(&quot;[,]&quot;, &quot;-&quot;);\r\n                    System.out.println(b);\r\n                    String[] d = b.split(&quot;-&quot;);\r\n    \r\n                    for (int i = 0; i &lt; d.length; i++) {\r\n    \r\n                            String names = d[i];\r\n                            String[] temp;\r\n                            String splitter = &quot;:&quot;;\r\n    \r\n                            temp = names.split(splitter);\r\n                            String aName = temp[0];\r\n                            String cName = temp[1];\r\n    \r\n                            hmap.put(aName, cName);\r\n    \r\n                    }\r\n    \r\n                    System.out.println(hmap);\r\n    \r\n                    return a;\r\n            }\r\n    \r\n    }","title":"Printing unique strings in HashMap","body":"<p>i am currently making this code and it suppose to output the name of someone that a list of people didn't write his/her name.\ni just would like to ask how can i make the output like this using Map</p>\n<p>Output:\n{Andrew}</p>\n<p>Explanation : Jay wrote Susan , Susan wrote Jay, Andrew wrote Anna, Anna wrote Jay but nobody wrote Andrew.</p>\n<p>Thanks!</p>\n<pre><code>public class Main {\n\n        public static void main(String[] args) {\n\n                Main func = new Main();\n\n                System.out.println(func.test(&quot;Jay:Susan,Susan:Jay,Andrew:Anna,Anna:Jay&quot;));\n        }\n        public PriorityQueue test(String c) {\n                Map &lt; String, String &gt; hmap = new HashMap &lt; &gt; ();\n                PriorityQueue a = new PriorityQueue();\n\n                String b = c.replaceAll(&quot;[,]&quot;, &quot;-&quot;);\n                System.out.println(b);\n                String[] d = b.split(&quot;-&quot;);\n\n                for (int i = 0; i &lt; d.length; i++) {\n\n                        String names = d[i];\n                        String[] temp;\n                        String splitter = &quot;:&quot;;\n\n                        temp = names.split(splitter);\n                        String aName = temp[0];\n                        String cName = temp[1];\n\n                        hmap.put(aName, cName);\n\n                }\n\n                System.out.println(hmap);\n\n                return a;\n        }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":29774,"reputation":9066,"user_id":80711,"accept_rate":75,"display_name":"Henryk Konsek"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1375454567,"creation_date":1375454567,"answer_id":18019758,"question_id":18017466,"body_markdown":"You can check this out in the `spring-orm` Maven POM.\r\n\r\nFor example to check the version of Hibernate used by Spring 3.2.3.RELEASE, you can issue the following shell command:\r\n\r\n    grep -A 1 hibernate- ~/.m2/repository/org/springframework/spring-orm/3.2.3.RELEASE/spring-orm-3.2.3.RELEASE.pom\r\n\r\nThe command above would result in the following output:\r\n\r\n          &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n          &lt;version&gt;3.4.0.GA&lt;/version&gt;\r\n    --\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.9.Final&lt;/version&gt;\r\n    --\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n    --\r\n          &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.9.Final&lt;/version&gt;\r\n    --\r\n          &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n          &lt;version&gt;3.4.0.GA&lt;/version&gt;\r\n\r\nAnd from the output above we can deduce that Spring 3.2.3.RELEASE supports Hibernate 4.1.9.Final and 3.3.2.GA .\r\n\r\nOf course you can try to use Spring with different version of Hibernate, but the versions from the POM are the less likely to give you some issues.","title":"Hibernate + spring version compatibility","body":"<p>You can check this out in the <code>spring-orm</code> Maven POM.</p>\n\n<p>For example to check the version of Hibernate used by Spring 3.2.3.RELEASE, you can issue the following shell command:</p>\n\n<pre><code>grep -A 1 hibernate- ~/.m2/repository/org/springframework/spring-orm/3.2.3.RELEASE/spring-orm-3.2.3.RELEASE.pom\n</code></pre>\n\n<p>The command above would result in the following output:</p>\n\n<pre><code>      &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n      &lt;version&gt;3.4.0.GA&lt;/version&gt;\n--\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\n--\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;3.3.2.GA&lt;/version&gt;\n--\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\n--\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n      &lt;version&gt;3.4.0.GA&lt;/version&gt;\n</code></pre>\n\n<p>And from the output above we can deduce that Spring 3.2.3.RELEASE supports Hibernate 4.1.9.Final and 3.3.2.GA .</p>\n\n<p>Of course you can try to use Spring with different version of Hibernate, but the versions from the POM are the less likely to give you some issues.</p>\n"},{"tags":[],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458123659,"creation_date":1458123659,"answer_id":36032796,"question_id":18017466,"body_markdown":"If you can&#39;t execute the grep command in windows.. navigate to your `.m2\\repository\\org\\springframework\\spring-orm\\4.2.5.RELEASE\\spring-orm-4.2.5.RELEASE.pom` file location. Open pom file in an editor and search for the word &quot;hibernate&quot; you can find the dependencies for your spring version. **[grep command also uses same approach]**","title":"Hibernate + spring version compatibility","body":"<p>If you can't execute the grep command in windows.. navigate to your <code>.m2\\repository\\org\\springframework\\spring-orm\\4.2.5.RELEASE\\spring-orm-4.2.5.RELEASE.pom</code> file location. Open pom file in an editor and search for the word \"hibernate\" you can find the dependencies for your spring version. <strong>[grep command also uses same approach]</strong></p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1577110254,"creation_date":1531148876,"answer_id":51248685,"question_id":18017466,"body_markdown":"In your Eclipse IDE this can be found out quite easily. \r\n\r\n- Open the `pom.xml` in default editor in IDE. \r\n- Now navigate to specific dependency where `spring-orm` is defined. \r\n- If you hover over the definition and perform a &lt;kbd&gt;CTRL + LEFT_MOUSE_CLICK&lt;/kbd&gt; it will open the spring-orm pom xml. \r\n- Here you can find the dependency version used for `hibernate-entitymanager`. \r\n\r\nSee this animation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nH2BI.gif","title":"Hibernate + spring version compatibility","body":"<p>In your Eclipse IDE this can be found out quite easily. </p>\n\n<ul>\n<li>Open the <code>pom.xml</code> in default editor in IDE. </li>\n<li>Now navigate to specific dependency where <code>spring-orm</code> is defined. </li>\n<li>If you hover over the definition and perform a <kbd>CTRL + LEFT_MOUSE_CLICK</kbd> it will open the spring-orm pom xml. </li>\n<li>Here you can find the dependency version used for <code>hibernate-entitymanager</code>. </li>\n</ul>\n\n<p>See this animation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nH2BI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nH2BI.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641895272,"creation_date":1641895272,"answer_id":70664823,"question_id":18017466,"body_markdown":"Check dependencies of the package `spring-data-jpa` here:\r\n\r\nhttps://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa\r\n\r\nBrief summary:\r\n- version 1.* depends on Hibernate 3.6.\r\n- version 2.0 - 2.2 depends on Hibernate 5.2.\r\n- version 2.3 - 2.5 depends on Hibernate 5.4.\r\n- version 2.6 depends on Hibernate 5.6.","title":"Hibernate + spring version compatibility","body":"<p>Check dependencies of the package <code>spring-data-jpa</code> here:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa</a></p>\n<p>Brief summary:</p>\n<ul>\n<li>version 1.* depends on Hibernate 3.6.</li>\n<li>version 2.0 - 2.2 depends on Hibernate 5.2.</li>\n<li>version 2.3 - 2.5 depends on Hibernate 5.4.</li>\n<li>version 2.6 depends on Hibernate 5.6.</li>\n</ul>\n"}],"owner":{"account_id":430272,"reputation":4294,"user_id":813618,"accept_rate":82,"display_name":"Rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57303,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":18019758,"answer_count":4,"score":25,"last_activity_date":1641895272,"creation_date":1375448226,"question_id":18017466,"body_markdown":"H, I want to upgrade Spring libraries in my web app. Since I am using Hibernate as well, I wanted to know if there is a way I could find which version of Hibernate is compatible with a specific version of Spring.\r\n\r\nI have already searched google and read similar posts of SO, but I want to know if there is a way to compare different versions of libraries/framework. \r\n\r\nMy current setup: \r\n\r\n    Spring V2.5\r\n    Hibernate : org.hibernate.hibernate 3.2.6.ga\r\n                org.hibernate.hibernate-annotations 3.3.1.ga\r\n\r\nThe latest version of Hibernate available in my repository is `3.5.4-FINAL` and `3.5.6-FINAL` for the above artifacts\r\n\r\n**UPDATE**\r\nI am getting this error after upgrading Hibernate to 3.5.4 from 3.2 with Spring 2.5 (unchanged)\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0&#39; \r\n    defined in class path resource [applicationContext-hibernate.xml]: Initialization of bean failed; \r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; \r\n    defined in class path resource [applicationContext-hibernate.xml]: Invocation of init method failed; nested exception is java.lang.IncompatibleClassChangeError: \r\n    Implementing class\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:221)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)\r\n            at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:597)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:366)\r\n            at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\r\n            at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\r\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)\r\n            at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\r\n            at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1079)\r\n            at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1002)\r\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:506)\r\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)\r\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\r\n            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\r\n            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)\r\n            at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\r\n            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)\r\n            at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n            at org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n            at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)","title":"Hibernate + spring version compatibility","body":"<p>H, I want to upgrade Spring libraries in my web app. Since I am using Hibernate as well, I wanted to know if there is a way I could find which version of Hibernate is compatible with a specific version of Spring.</p>\n\n<p>I have already searched google and read similar posts of SO, but I want to know if there is a way to compare different versions of libraries/framework. </p>\n\n<p>My current setup: </p>\n\n<pre><code>Spring V2.5\nHibernate : org.hibernate.hibernate 3.2.6.ga\n            org.hibernate.hibernate-annotations 3.3.1.ga\n</code></pre>\n\n<p>The latest version of Hibernate available in my repository is <code>3.5.4-FINAL</code> and <code>3.5.6-FINAL</code> for the above artifacts</p>\n\n<p><strong>UPDATE</strong>\nI am getting this error after upgrading Hibernate to 3.5.4 from 3.2 with Spring 2.5 (unchanged)</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' \ndefined in class path resource [applicationContext-hibernate.xml]: Initialization of bean failed; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' \ndefined in class path resource [applicationContext-hibernate.xml]: Invocation of init method failed; nested exception is java.lang.IncompatibleClassChangeError: \nImplementing class\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:221)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:597)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:366)\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1079)\n        at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1002)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:506)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)\n        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n</code></pre>\n"},{"tags":["java","swing","jframe","jtable","jscrollpane"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":2,"creation_date":1641564221,"post_id":70622009,"comment_id":124843230,"body_markdown":"_I cannot build an accurate working example_ I think it is unlikely you get quality help without an [mre]","body":"<i>I cannot build an accurate working example</i> I think it is unlikely you get quality help without an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1641567702,"post_id":70622009,"comment_id":124844738,"body_markdown":"Your system should have one and only one `JFrame` and as many `JDialogs` as needed.  The `JDialogs` do not have to be modal.  You should consider creating a new GUI. \n Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.","body":"Your system should have one and only one <code>JFrame</code> and as many <code>JDialogs</code> as needed.  The <code>JDialogs</code> do not have to be modal.  You should consider creating a new GUI.   Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1641584906,"post_id":70622009,"comment_id":124851414,"body_markdown":"1) All updates to Swing components must be done on the Event Dispatch Thread (EDT) or you can have concurrency issues. 2) Your application logic should NOT invoke any of the &quot;fireXXX&quot; methods directly. Those methods should only be invoked in the TableModel class.","body":"1) All updates to Swing components must be done on the Event Dispatch Thread (EDT) or you can have concurrency issues. 2) Your application logic should NOT invoke any of the &quot;fireXXX&quot; methods directly. Those methods should only be invoked in the TableModel class."},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641892738,"post_id":70622009,"comment_id":124919915,"body_markdown":"@camickr it uses an action listener to invoke the delete method and I have tested it with isEventDispatchThread(). At least the action listener seems to be in the EDT but just doesn&#39;t update regardless. The backend seems to function fine and deletes it in the back. So is it safe to say that it is most likely not an EDT issue?","body":"@camickr it uses an action listener to invoke the delete method and I have tested it with isEventDispatchThread(). At least the action listener seems to be in the EDT but just doesn&#39;t update regardless. The backend seems to function fine and deletes it in the back. So is it safe to say that it is most likely not an EDT issue?"},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641892799,"post_id":70622009,"comment_id":124919932,"body_markdown":"@c0der I&#39;m desperate. I cannot build a minimal example out of this sadly, not only because it is way too huge to reproduce even on a smaller scale, it is also a problem with privacy (this is technically a project from some company). But thank you for the link!","body":"@c0der I&#39;m desperate. I cannot build a minimal example out of this sadly, not only because it is way too huge to reproduce even on a smaller scale, it is also a problem with privacy (this is technically a project from some company). But thank you for the link!"},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641893300,"post_id":70622009,"comment_id":124920130,"body_markdown":"@GilbertLeBlanc thanks! It seems to follow the only one Jframe rule. But is it ok for a Jframe to &quot;host&quot; multiple different Jpanels? Or could that cause some kind of weird issues?","body":"@GilbertLeBlanc thanks! It seems to follow the only one Jframe rule. But is it ok for a Jframe to &quot;host&quot; multiple different Jpanels? Or could that cause some kind of weird issues?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641893934,"post_id":70622009,"comment_id":124920365,"body_markdown":"&quot;But is it ok for a `JFrame` to &quot;host&quot; multiple different `JPanels`?&quot;  Yes, but the actual answer depends on the specifics.  A `JFrame` has a default `BorderLayout`, which means it can hold up to 9 different children `JPanels` at one time.  If you mean several `JPanels` in a sequence, you use one main `JPanel` with a `CardLayout`, and all the other `JPanels` are subordinate to the main `JPanel`.  There&#39;s also a `JTabbedPane` when you want the user to choose what to do next.","body":"&quot;But is it ok for a <code>JFrame</code> to &quot;host&quot; multiple different <code>JPanels</code>?&quot;  Yes, but the actual answer depends on the specifics.  A <code>JFrame</code> has a default <code>BorderLayout</code>, which means it can hold up to 9 different children <code>JPanels</code> at one time.  If you mean several <code>JPanels</code> in a sequence, you use one main <code>JPanel</code> with a <code>CardLayout</code>, and all the other <code>JPanels</code> are subordinate to the main <code>JPanel</code>.  There&#39;s also a <code>JTabbedPane</code> when you want the user to choose what to do next."},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641894452,"post_id":70622009,"comment_id":124920586,"body_markdown":"@GilbertLeBlanc thanks! Does something go wrong if there are more than a certain amount of Jpanels within the frame? Or if there are also more things within the Jpanel? While the different Panels never show up at the same time, the frame technically &quot;hosts&quot; a total of 12 different Jpanels depending on what button/menu option that is selected. But only 2-3 Panels show up at once in a frame if that makes sense?","body":"@GilbertLeBlanc thanks! Does something go wrong if there are more than a certain amount of Jpanels within the frame? Or if there are also more things within the Jpanel? While the different Panels never show up at the same time, the frame technically &quot;hosts&quot; a total of 12 different Jpanels depending on what button/menu option that is selected. But only 2-3 Panels show up at once in a frame if that makes sense?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641894929,"post_id":70622009,"comment_id":124920788,"body_markdown":"Assuming this makes sense, the 2 - 3 `JPanels` are the main `JPanels`, and the other `JPanels` are subordinate `JPanels`.  One example would be a `JFrame` with a menu `JPanel`, a viewing `JPanel`, and a status `JPanel`.  The viewing `JPanel` would have a `CardLayout` and host a number of subordinate `JPanels`.  The menu `JPanel` and status `JPanel` would be common across all the subordinate `JPanels`.","body":"Assuming this makes sense, the 2 - 3 <code>JPanels</code> are the main <code>JPanels</code>, and the other <code>JPanels</code> are subordinate <code>JPanels</code>.  One example would be a <code>JFrame</code> with a menu <code>JPanel</code>, a viewing <code>JPanel</code>, and a status <code>JPanel</code>.  The viewing <code>JPanel</code> would have a <code>CardLayout</code> and host a number of subordinate <code>JPanels</code>.  The menu <code>JPanel</code> and status <code>JPanel</code> would be common across all the subordinate <code>JPanels</code>."},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641895486,"post_id":70622009,"comment_id":124921034,"body_markdown":"@GilbertLeBlanc oof maybe that&#39;s where it went wrong. Despite all the Jpanels it does not use a Cardlayout, the code seems to just remove and add the panels with an actionlistener. Would that be a possible reason for the panels/tables bugging out?","body":"@GilbertLeBlanc oof maybe that&#39;s where it went wrong. Despite all the Jpanels it does not use a Cardlayout, the code seems to just remove and add the panels with an actionlistener. Would that be a possible reason for the panels/tables bugging out?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641897362,"post_id":70622009,"comment_id":124921813,"body_markdown":"Yes, removing and adding `JPanels` is not a good design.  Generally, you create the entire GUI once, in the beginning, and choose what to show to the user at any one time.","body":"Yes, removing and adding <code>JPanels</code> is not a good design.  Generally, you create the entire GUI once, in the beginning, and choose what to show to the user at any one time."},{"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"score":0,"creation_date":1641898586,"post_id":70622009,"comment_id":124922322,"body_markdown":"@GilbertLeBlanc thanks! at least (one of) the underlying problem(s) have been identified now. Since I have to find a way around this for now, are there even other options besides using `revalidate()` and `repaint()` to try and update these panels?","body":"@GilbertLeBlanc thanks! at least (one of) the underlying problem(s) have been identified now. Since I have to find a way around this for now, are there even other options besides using <code>revalidate()</code> and <code>repaint()</code> to try and update these panels?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1641898954,"post_id":70622009,"comment_id":124922453,"body_markdown":"Stack Overflow is not the place for an extended discussion.  No, there&#39;s no other option.  Rewrite the GUI.","body":"Stack Overflow is not the place for an extended discussion.  No, there&#39;s no other option.  Rewrite the GUI."}],"owner":{"account_id":12332768,"reputation":165,"user_id":8998128,"display_name":"Pompompurin"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641895016,"creation_date":1641562368,"question_id":70622009,"body_markdown":"I will try to describe the problem as accurately as possible, since this is a legacy project from someone else that I am trying to fix (to the best of my abilities).I cannot build an accurate working example due to the way this project is done. The way this program was built is wrong in many places so just pinpointing the problem would help me immensely.\r\n\r\nThere is a Jframe with a menu bar and table. The frame switches between Tables based on which option you click within the menu bar. Here&#39;s the problem: When updating the table, the first table seems to be fine, but the other ones fails to update its view properly if something is changed (specifically, it doesn&#39;t update upon deletion, but insertion seems fine). This is how the main table is made:\r\n\r\n```\r\npublic void start(){\r\n mainTable=new Jtable(model){\r\n  public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n   /* tons of styling here */\r\n  };\r\n}\r\n /* a bit more styling? */\r\n renderSecondTable();\r\n renderThirdTable();\r\n\r\n}\r\n```\r\n\r\nI apologize for this ugly code, the codebase itself is even worse. Does rendering other tables by calling a method within this &quot;start()&quot; function lead to concurrency problems? Which is why updating the view is problematic? Extra information that might help:\r\n\r\n - each table has a seperate Frame, so there is a main frame and then a smaller frame that displays the tables\r\n - buttons for each table (delete, update etc.) are also added in by calling in extra methods like RenderButtonsForTable1()\r\n - They are all AbstractTableModel\r\n - calling FireTableDataChanged() or other similar functions do not seem to do work for non-main-tables\r\n - revalidate and repaint also doesn&#39;t work\r\n\r\nThe table does NOT use removeRow or fireTableRowsDeleted to remove the rows, there are seperate functions that do this with object streams (I don&#39;t quite understand this yet). The view seems to update automatically for the main table just fine.\r\n\r\nAgain I apologize if this is extremely confusing and ugly, the original creator didn&#39;t seem to understand what he was doing either :/ \r\n\r\nEdit: More clarification!\r\n\r\n - It seems that it does in fact only have one MAIN frame, and this\r\n   frame swaps out multiple Jpanels (each with a different Table). Within each Panel there is also a scrollpane\r\n - Deleting from the main Panel causes no problems, but deleting entries from other Panels require the Frame to be reopened or else the entry just stays there (also breaks the frame/panel completely if you empty the entire table)\r\n - The entry is properly disposed of in the backend (as far as I can tell)\r\n - any insert/delete is done through an action listener for the corresponding button\r\n - Each table has a seperate Tablemodel (all extends AbstractTableModel) with its seperate functions that all do the same thing\r\n - Table is filled with data read from a database\r\n - all tables are made in the same fashion as the main one above with prepareRenderer\r\n\r\nI also drew up a vague diagram of how the Jframe looks:\r\n[![JframeExample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2z0dw.png","title":"Concurrency problem in updating Jtable/Jframes?","body":"<p>I will try to describe the problem as accurately as possible, since this is a legacy project from someone else that I am trying to fix (to the best of my abilities).I cannot build an accurate working example due to the way this project is done. The way this program was built is wrong in many places so just pinpointing the problem would help me immensely.</p>\n<p>There is a Jframe with a menu bar and table. The frame switches between Tables based on which option you click within the menu bar. Here's the problem: When updating the table, the first table seems to be fine, but the other ones fails to update its view properly if something is changed (specifically, it doesn't update upon deletion, but insertion seems fine). This is how the main table is made:</p>\n<pre><code>public void start(){\n mainTable=new Jtable(model){\n  public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n   /* tons of styling here */\n  };\n}\n /* a bit more styling? */\n renderSecondTable();\n renderThirdTable();\n\n}\n</code></pre>\n<p>I apologize for this ugly code, the codebase itself is even worse. Does rendering other tables by calling a method within this &quot;start()&quot; function lead to concurrency problems? Which is why updating the view is problematic? Extra information that might help:</p>\n<ul>\n<li>each table has a seperate Frame, so there is a main frame and then a smaller frame that displays the tables</li>\n<li>buttons for each table (delete, update etc.) are also added in by calling in extra methods like RenderButtonsForTable1()</li>\n<li>They are all AbstractTableModel</li>\n<li>calling FireTableDataChanged() or other similar functions do not seem to do work for non-main-tables</li>\n<li>revalidate and repaint also doesn't work</li>\n</ul>\n<p>The table does NOT use removeRow or fireTableRowsDeleted to remove the rows, there are seperate functions that do this with object streams (I don't quite understand this yet). The view seems to update automatically for the main table just fine.</p>\n<p>Again I apologize if this is extremely confusing and ugly, the original creator didn't seem to understand what he was doing either :/</p>\n<p>Edit: More clarification!</p>\n<ul>\n<li>It seems that it does in fact only have one MAIN frame, and this\nframe swaps out multiple Jpanels (each with a different Table). Within each Panel there is also a scrollpane</li>\n<li>Deleting from the main Panel causes no problems, but deleting entries from other Panels require the Frame to be reopened or else the entry just stays there (also breaks the frame/panel completely if you empty the entire table)</li>\n<li>The entry is properly disposed of in the backend (as far as I can tell)</li>\n<li>any insert/delete is done through an action listener for the corresponding button</li>\n<li>Each table has a seperate Tablemodel (all extends AbstractTableModel) with its seperate functions that all do the same thing</li>\n<li>Table is filled with data read from a database</li>\n<li>all tables are made in the same fashion as the main one above with prepareRenderer</li>\n</ul>\n<p>I also drew up a vague diagram of how the Jframe looks:\n<a href=\"https://i.stack.imgur.com/2z0dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2z0dw.png\" alt=\"JframeExample\" /></a></p>\n"},{"tags":["java","apache-beam","amazon-sqs","dataflow","apache-beam-io"],"comments":[{"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"score":0,"creation_date":1641815666,"post_id":70648489,"comment_id":124897062,"body_markdown":"Which version of the Beam AWS module are you using? Is this on AWS SDK v1 or v2?","body":"Which version of the Beam AWS module are you using? Is this on AWS SDK v1 or v2?"},{"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"score":0,"creation_date":1641823032,"post_id":70648489,"comment_id":124899876,"body_markdown":"@Moritz We are using AWS SDK v1.","body":"@Moritz We are using AWS SDK v1."}],"answers":[{"tags":[],"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641859273,"creation_date":1641859273,"answer_id":70660219,"question_id":70648489,"body_markdown":"The I/O is much more complicated in Beam 2.34.0 than 2.31.0. For Beam 2.34.0, the [deleteBatch](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L584) logic **filters** messages **to delete** based on the **inflight** state. However, there are assumptions in the [extend](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L756) logic where the inflight state is modified to **exclude** messages that are **assumed expired or to be expired**. These messages are **not** explicitly requested by the I/O to be deleted from sqs nor dropped by the I/O itself (the I/O could be [processing](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L509) a message that should have been expired to wait for it to be resent).\r\n\r\nFiled https://issues.apache.org/jira/browse/BEAM-13627.\r\n\r\nThough I&#39;m not sure if pulling the same message again with a new receipt handle within the same bundle would cause the problem of mutation detection because receipt handle is part of the Message hashcode unless there is a hash collision in the mutation detector.\r\n\r\n**TL;DR: debugging process**\r\n\r\nThe mutation was detected in the SqsUnboundedSource, not caused by any other code in the pipeline.\r\n\r\nThe code that reports the warning and throws the exception is [here](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/core/src/main/java/org/apache/beam/sdk/util/MutationDetectors.java#L145).\r\n\r\nThe only field changed is the Receipt handle. It&#39;s documented [here](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-queue-message-identifiers.html) that:\r\n\r\n&gt; If you receive a message more than once, each time you receive it, you get a different receipt handle. You must provide the most recently received receipt handle when you request to delete the message (otherwise, the message might not be deleted).\r\n\r\nThere is no [aws_java_sdk_version](https://github.com/apache/beam/blob/release-2.34.0/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L447) change between Beam 2.31.0 and Beam 2.34.0. So AWS SDK shouldn&#39;t be the culprit.\r\n\r\nThere is a significant change between Beam 2.31.0 and Beam 2.34.0 for [SqsUnboundedReader](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java).\r\n\r\nTo receive a message more than once, the message must not have been deleted since the first time received. The deletion logic is invoked in [SqsCheckpointMark](https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsCheckpointMark.java).\r\n\r\n\r\n","title":"Apache beam 2.34.0 SQSIO illegal mutation exception","body":"<p>The I/O is much more complicated in Beam 2.34.0 than 2.31.0. For Beam 2.34.0, the <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L584\" rel=\"nofollow noreferrer\">deleteBatch</a> logic <strong>filters</strong> messages <strong>to delete</strong> based on the <strong>inflight</strong> state. However, there are assumptions in the <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L756\" rel=\"nofollow noreferrer\">extend</a> logic where the inflight state is modified to <strong>exclude</strong> messages that are <strong>assumed expired or to be expired</strong>. These messages are <strong>not</strong> explicitly requested by the I/O to be deleted from sqs nor dropped by the I/O itself (the I/O could be <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java#L509\" rel=\"nofollow noreferrer\">processing</a> a message that should have been expired to wait for it to be resent).</p>\n<p>Filed <a href=\"https://issues.apache.org/jira/browse/BEAM-13627\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/BEAM-13627</a>.</p>\n<p>Though I'm not sure if pulling the same message again with a new receipt handle within the same bundle would cause the problem of mutation detection because receipt handle is part of the Message hashcode unless there is a hash collision in the mutation detector.</p>\n<p><strong>TL;DR: debugging process</strong></p>\n<p>The mutation was detected in the SqsUnboundedSource, not caused by any other code in the pipeline.</p>\n<p>The code that reports the warning and throws the exception is <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/core/src/main/java/org/apache/beam/sdk/util/MutationDetectors.java#L145\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The only field changed is the Receipt handle. It's documented <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-queue-message-identifiers.html\" rel=\"nofollow noreferrer\">here</a> that:</p>\n<blockquote>\n<p>If you receive a message more than once, each time you receive it, you get a different receipt handle. You must provide the most recently received receipt handle when you request to delete the message (otherwise, the message might not be deleted).</p>\n</blockquote>\n<p>There is no <a href=\"https://github.com/apache/beam/blob/release-2.34.0/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L447\" rel=\"nofollow noreferrer\">aws_java_sdk_version</a> change between Beam 2.31.0 and Beam 2.34.0. So AWS SDK shouldn't be the culprit.</p>\n<p>There is a significant change between Beam 2.31.0 and Beam 2.34.0 for <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsUnboundedReader.java\" rel=\"nofollow noreferrer\">SqsUnboundedReader</a>.</p>\n<p>To receive a message more than once, the message must not have been deleted since the first time received. The deletion logic is invoked in <a href=\"https://github.com/apache/beam/blob/release-2.34.0/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/sqs/SqsCheckpointMark.java\" rel=\"nofollow noreferrer\">SqsCheckpointMark</a>.</p>\n"},{"tags":[],"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641894850,"creation_date":1641894850,"answer_id":70664713,"question_id":70648489,"body_markdown":"This issue seems to be caused by an **indeterministic coder** (`SerializableCoder.of(Message.class)`) in combination with using the SQS reader in **batch mode**. Batch mode is implemented using `BoundedReadFromUnboundedSource`, which is known to cause issues. Usage of it is rather [discouraged][1]. \r\n\r\nYou can follow [BEAM-13631][2] to follow progress on fixing the SQS message coder.\r\n\r\nCurrently I can&#39;t tell you what changes between 2.31 and 2.34 are triggering the issue. But possibly it might not be changes in the SQS IO itself. I&#39;ll keep investigating a bit further and hope to give an update on that later.\r\n\r\nFor now, I recommend trying a few things:\r\n\r\n- First, try avoid using batch mode (so neither setting `maxNumRecords` nor `maxReadTime`). I&#39;m pretty confident that this fixes your issue.\r\n\r\n- Since recent versions of Beam, there&#39;s a separate module for AWS SDK v2 `beam-sdks-java-io-amazon-web-services2` (hence my question above). It uses a custom message class for transfer rather than the AWS SDK one and encoding should be deterministic. However, I noticed a few other bugs on the SDK v2 IOs when starting to look into it recently: [retry on invalid receipt handles][3], [SQS clients closed too early][4].\r\n\r\nPlease let me know if either one helps.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/BEAM-2307\r\n  [2]: https://issues.apache.org/jira/browse/BEAM-13631\r\n  [3]: https://issues.apache.org/jira/browse/BEAM-13510\r\n  [4]: https://issues.apache.org/jira/browse/BEAM-13509","title":"Apache beam 2.34.0 SQSIO illegal mutation exception","body":"<p>This issue seems to be caused by an <strong>indeterministic coder</strong> (<code>SerializableCoder.of(Message.class)</code>) in combination with using the SQS reader in <strong>batch mode</strong>. Batch mode is implemented using <code>BoundedReadFromUnboundedSource</code>, which is known to cause issues. Usage of it is rather <a href=\"https://issues.apache.org/jira/browse/BEAM-2307\" rel=\"nofollow noreferrer\">discouraged</a>.</p>\n<p>You can follow <a href=\"https://issues.apache.org/jira/browse/BEAM-13631\" rel=\"nofollow noreferrer\">BEAM-13631</a> to follow progress on fixing the SQS message coder.</p>\n<p>Currently I can't tell you what changes between 2.31 and 2.34 are triggering the issue. But possibly it might not be changes in the SQS IO itself. I'll keep investigating a bit further and hope to give an update on that later.</p>\n<p>For now, I recommend trying a few things:</p>\n<ul>\n<li><p>First, try avoid using batch mode (so neither setting <code>maxNumRecords</code> nor <code>maxReadTime</code>). I'm pretty confident that this fixes your issue.</p>\n</li>\n<li><p>Since recent versions of Beam, there's a separate module for AWS SDK v2 <code>beam-sdks-java-io-amazon-web-services2</code> (hence my question above). It uses a custom message class for transfer rather than the AWS SDK one and encoding should be deterministic. However, I noticed a few other bugs on the SDK v2 IOs when starting to look into it recently: <a href=\"https://issues.apache.org/jira/browse/BEAM-13510\" rel=\"nofollow noreferrer\">retry on invalid receipt handles</a>, <a href=\"https://issues.apache.org/jira/browse/BEAM-13509\" rel=\"nofollow noreferrer\">SQS clients closed too early</a>.</p>\n</li>\n</ul>\n<p>Please let me know if either one helps.</p>\n"}],"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70664713,"answer_count":2,"score":1,"last_activity_date":1641894850,"creation_date":1641795336,"question_id":70648489,"body_markdown":"I&#39;m trying to read from sqs queue in batch mode and write to a local file using Apache beam 2.34.0 and AWS beam SDK v1 which throws Illegal mutation exception.\r\n\r\n    \r\n    public class SqsReader {\r\n    \r\n        public void run(String[] args) {\r\n    \r\n            SqsReaderOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().\r\n                    as(SqsReaderOptions.class);\r\n            Pipeline p = this.getPipeline(args);\r\n    \r\n            p.apply(SqsIO.read().withQueueUrl(options.getSourceQueueUrl())\r\n                            .withMaxNumRecords(options.getNumberOfRecords()))\r\n                    .apply(ParDo.of(new SqsMessageToJson()))\r\n                    .apply(TextIO.write()\r\n                            .to(options.getLocalOutputLocation())\r\n                            .withNumShards(options.getNumShards()));\r\n    \r\n            p.run().waitUntilFinish();\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            new SqsReader().run(args);\r\n        }\r\n    \r\n        public static class SqsMessageToJson extends DoFn&lt;Message, String&gt; {\r\n            @ProcessElement\r\n            public void processElement(ProcessContext c) {\r\n                String message = Objects.requireNonNull(c.element()).getBody();\r\n                c.output(message);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m getting the following exception\r\n\r\n    Jan 10, 2022 11:37:05 AM org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector verifyUnmodifiedThrowingCheckedExceptions\r\n    WARNING: Coder of type class org.apache.beam.sdk.coders.SerializableCoder has a #structuralValue method which does not return true when the encoding of the elements is equal. Element Shard{source=org.apache.beam.sdk.io.aws.sqs.SqsUnboundedSource@5f19451c, maxNumRecords=1, maxReadTime=null}\r\n    Coder of type class org.apache.beam.sdk.coders.SerializableCoder has a #structuralValue method which does not return true when the encoding of the elements is equal. Element Shard{source=org.apache.beam.sdk.io.aws.sqs.SqsUnboundedSource@5f19451c, maxNumRecords=1, maxReadTime=null}\r\n    \r\n    Exception in thread &quot;main&quot; org.apache.beam.sdk.util.IllegalMutationException: PTransform SqsIO.Read/Read(SqsUnboundedSource)/Read/ParMultiDo(Read) mutated value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj2FXnTVQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} after it was output (new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: DeVRF8vQATm1f+rHIvR3eaejlRHksL1R7WE4zDT7lSwdIs9gJCYKXFXnTVQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}). Values must not be mutated in any way after being output.\r\n    \tat org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.commit(ImmutabilityCheckingBundleFactory.java:137)\r\n    \tat org.apache.beam.runners.direct.EvaluationContext.commitBundles(EvaluationContext.java:231)\r\n    \tat org.apache.beam.runners.direct.EvaluationContext.handleResult(EvaluationContext.java:163)\r\n    \tat org.apache.beam.runners.direct.QuiescenceDriver$TimerIterableCompletionCallback.handleResult(QuiescenceDriver.java:292)\r\n    \tat org.apache.beam.runners.direct.DirectTransformExecutor.finishBundle(DirectTransformExecutor.java:194)\r\n    \tat org.apache.beam.runners.direct.DirectTransformExecutor.run(DirectTransformExecutor.java:131)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: org.apache.beam.sdk.util.IllegalMutationException: Value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj2KQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} mutated illegally, new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}. Encoding was rO.\r\n    \tat org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.illegalMutation(MutationDetectors.java:158)\r\n    \tat org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.verifyUnmodifiedThrowingCheckedExceptions(MutationDetectors.java:153)\r\n    \tat org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.verifyUnmodified(MutationDetectors.java:128)\r\n    \tat org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.commit(ImmutabilityCheckingBundleFactory.java:127)\r\n    \t... 10 more\r\n    Caused by: org.apache.beam.sdk.util.IllegalMutationException: Value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj=,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} mutated illegally, new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQE==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}. Encoding was rO2Mw.\r\n \r\nwhere as the same code **works in apache beam 2.31.0** without any issues. What am I missing here?","title":"Apache beam 2.34.0 SQSIO illegal mutation exception","body":"<p>I'm trying to read from sqs queue in batch mode and write to a local file using Apache beam 2.34.0 and AWS beam SDK v1 which throws Illegal mutation exception.</p>\n<pre><code>public class SqsReader {\n\n    public void run(String[] args) {\n\n        SqsReaderOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().\n                as(SqsReaderOptions.class);\n        Pipeline p = this.getPipeline(args);\n\n        p.apply(SqsIO.read().withQueueUrl(options.getSourceQueueUrl())\n                        .withMaxNumRecords(options.getNumberOfRecords()))\n                .apply(ParDo.of(new SqsMessageToJson()))\n                .apply(TextIO.write()\n                        .to(options.getLocalOutputLocation())\n                        .withNumShards(options.getNumShards()));\n\n        p.run().waitUntilFinish();\n    }\n\n    public static void main(String[] args) throws IOException {\n        new SqsReader().run(args);\n    }\n\n    public static class SqsMessageToJson extends DoFn&lt;Message, String&gt; {\n        @ProcessElement\n        public void processElement(ProcessContext c) {\n            String message = Objects.requireNonNull(c.element()).getBody();\n            c.output(message);\n        }\n    }\n}\n</code></pre>\n<p>I'm getting the following exception</p>\n<pre><code>Jan 10, 2022 11:37:05 AM org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector verifyUnmodifiedThrowingCheckedExceptions\nWARNING: Coder of type class org.apache.beam.sdk.coders.SerializableCoder has a #structuralValue method which does not return true when the encoding of the elements is equal. Element Shard{source=org.apache.beam.sdk.io.aws.sqs.SqsUnboundedSource@5f19451c, maxNumRecords=1, maxReadTime=null}\nCoder of type class org.apache.beam.sdk.coders.SerializableCoder has a #structuralValue method which does not return true when the encoding of the elements is equal. Element Shard{source=org.apache.beam.sdk.io.aws.sqs.SqsUnboundedSource@5f19451c, maxNumRecords=1, maxReadTime=null}\n\nException in thread &quot;main&quot; org.apache.beam.sdk.util.IllegalMutationException: PTransform SqsIO.Read/Read(SqsUnboundedSource)/Read/ParMultiDo(Read) mutated value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj2FXnTVQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} after it was output (new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: DeVRF8vQATm1f+rHIvR3eaejlRHksL1R7WE4zDT7lSwdIs9gJCYKXFXnTVQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}). Values must not be mutated in any way after being output.\n    at org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.commit(ImmutabilityCheckingBundleFactory.java:137)\n    at org.apache.beam.runners.direct.EvaluationContext.commitBundles(EvaluationContext.java:231)\n    at org.apache.beam.runners.direct.EvaluationContext.handleResult(EvaluationContext.java:163)\n    at org.apache.beam.runners.direct.QuiescenceDriver$TimerIterableCompletionCallback.handleResult(QuiescenceDriver.java:292)\n    at org.apache.beam.runners.direct.DirectTransformExecutor.finishBundle(DirectTransformExecutor.java:194)\n    at org.apache.beam.runners.direct.DirectTransformExecutor.run(DirectTransformExecutor.java:131)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.beam.sdk.util.IllegalMutationException: Value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj2KQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} mutated illegally, new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQ==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}. Encoding was rO.\n    at org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.illegalMutation(MutationDetectors.java:158)\n    at org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.verifyUnmodifiedThrowingCheckedExceptions(MutationDetectors.java:153)\n    at org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.verifyUnmodified(MutationDetectors.java:128)\n    at org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.commit(ImmutabilityCheckingBundleFactory.java:127)\n    ... 10 more\nCaused by: org.apache.beam.sdk.util.IllegalMutationException: Value ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQEBj=,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}} mutated illegally, new value was ValueWithRecordId{id=[98, 55, 50, 51, 56, 51, 102, 57, 45, 97, 52, 100, 56, 45, 52, 99, 100, 50, 45, 97, 49, 55, 49, 45, 48, 57, 100, 48, 100, 53, 50, 51, 99, 50, 54, 51], value={MessageId: b72383f9-a4d8-4cd2-a171-09d0d523c263,ReceiptHandle: AQE==,MD5OfBody: 38db8cbd101e4c1cfbf47e31c2aaab75,Body: {&quot;test-key&quot;: &quot;test-value&quot;},Attributes: {SentTimestamp=1641794775474},MessageAttributes: {requestTimeMsSinceEpoch={StringValue: 1641794824800,StringListValues: [],BinaryListValues: [],}}}}. Encoding was rO2Mw.\n</code></pre>\n<p>where as the same code <strong>works in apache beam 2.31.0</strong> without any issues. What am I missing here?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13441392,"reputation":2711,"user_id":9698467,"display_name":"Stefan Zhelyazkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641887437,"creation_date":1641887437,"answer_id":70663261,"question_id":70663111,"body_markdown":"The problem is that `@Pattern` [only works on strings][1].\r\n\r\nYou could use a [`@Digits`][2] validator to validate how many digits you must have in the integer part: https://www.baeldung.com/javax-bigdecimal-validation#3-digits\r\n\r\nIf this doesn&#39;t work for you, then you will have to write your own custom validator: https://www.baeldung.com/spring-mvc-custom-validator#custom-validation\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Digits.html","title":"how to include a set of integers in the validation","body":"<p>The problem is that <code>@Pattern</code> <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\">only works on strings</a>.</p>\n<p>You could use a <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Digits.html\" rel=\"nofollow noreferrer\"><code>@Digits</code></a> validator to validate how many digits you must have in the integer part: <a href=\"https://www.baeldung.com/javax-bigdecimal-validation#3-digits\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javax-bigdecimal-validation#3-digits</a></p>\n<p>If this doesn't work for you, then you will have to write your own custom validator: <a href=\"https://www.baeldung.com/spring-mvc-custom-validator#custom-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-custom-validator#custom-validation</a></p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641887462,"creation_date":1641887462,"answer_id":70663268,"question_id":70663111,"body_markdown":"`@Pattern` Annotation works **only** with strings and not integers. You could migrate your `int` to a `String` if that is suitable. Then it would work.\r\n\r\nYou could also implement your own `Validator` as seen [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-validator","title":"how to include a set of integers in the validation","body":"<p><code>@Pattern</code> Annotation works <strong>only</strong> with strings and not integers. You could migrate your <code>int</code> to a <code>String</code> if that is suitable. Then it would work.</p>\n<p>You could also implement your own <code>Validator</code> as seen <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641891154,"creation_date":1641889084,"answer_id":70663593,"question_id":70663111,"body_markdown":"As others have already answered @Pattern does not work with integers, but with strings(CharSequence to be more precise). But i want to note that your regex pattern does not match the error message.\r\n\r\nThe pattern you specified means - match a number with a length of 1111 digits, or length of 2222 digits, and so on.\r\n\r\nAccording to the message you need pattern like `^1111$|^2222$|^3333$|^4444$` or `^([1234])\\1{3}$`, which means match 1111, or 2222, or 3333, or 4444 exactly.","title":"how to include a set of integers in the validation","body":"<p>As others have already answered @Pattern does not work with integers, but with strings(CharSequence to be more precise). But i want to note that your regex pattern does not match the error message.</p>\n<p>The pattern you specified means - match a number with a length of 1111 digits, or length of 2222 digits, and so on.</p>\n<p>According to the message you need pattern like <code>^1111$|^2222$|^3333$|^4444$</code> or <code>^([1234])\\1{3}$</code>, which means match 1111, or 2222, or 3333, or 4444 exactly.</p>\n"},{"tags":[],"owner":{"account_id":2180302,"reputation":3139,"user_id":1929959,"accept_rate":0,"display_name":"Mihai8"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641894791,"creation_date":1641894223,"answer_id":70664556,"question_id":70663111,"body_markdown":"One the solution can be\r\n \r\n    @Pattern(regex = &quot;[0-9]+&quot;)\r\n    private Integer code;","title":"how to include a set of integers in the validation","body":"<p>One the solution can be</p>\n<pre><code>@Pattern(regex = &quot;[0-9]+&quot;)\nprivate Integer code;\n</code></pre>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70663261,"answer_count":4,"score":1,"last_activity_date":1641894791,"creation_date":1641886625,"question_id":70663111,"body_markdown":"I&#39;m working with spring boot, one of the inputs of my object, has  to accept only a set of integers, and I&#39;m not getting it.\r\n\r\nThis is my last approach:\r\n\r\n    \t@Pattern(regexp=&quot;\\\\d{1111}|\\\\d{2222}|\\\\d{3333}|\\\\d{4444}&quot;, message=&quot;The value has to be &#39;1111&#39;,&#39;2222&#39;,&#39;3333&#39; or &#39;4444&#39;&quot;)\r\n\tprivate int code;\r\n\r\n\r\nThis is not valid because I&#39;m getting this error:\r\n\r\n     &quot;statusText&quot;: &quot;HV000030: No validator could be found for constraint &#39;javax.validation.constraints.Pattern&#39; validating type &#39;java.lang.Integer&#39;. Check configuration for &#39;code&#39;&quot;,\r\n\r\n\r\nHow can I manage this?","title":"how to include a set of integers in the validation","body":"<p>I'm working with spring boot, one of the inputs of my object, has  to accept only a set of integers, and I'm not getting it.</p>\n<p>This is my last approach:</p>\n<pre><code>    @Pattern(regexp=&quot;\\\\d{1111}|\\\\d{2222}|\\\\d{3333}|\\\\d{4444}&quot;, message=&quot;The value has to be '1111','2222','3333' or '4444'&quot;)\nprivate int code;\n</code></pre>\n<p>This is not valid because I'm getting this error:</p>\n<pre><code> &quot;statusText&quot;: &quot;HV000030: No validator could be found for constraint 'javax.validation.constraints.Pattern' validating type 'java.lang.Integer'. Check configuration for 'code'&quot;,\n</code></pre>\n<p>How can I manage this?</p>\n"},{"tags":["java","android","android-studio","google-play"],"owner":{"account_id":11977757,"reputation":61,"user_id":8764425,"display_name":"Сергей В"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641894703,"creation_date":1641759232,"question_id":70645121,"body_markdown":"In my app I use pre-populated database. I copy it from assets. And when api is 28 I receved empty database. \r\nI changed my SQLiteOpenHelper as written in a similar question (https://stackoverflow.com/questions/55336900/a-pre-populated-database-does-not-work-at-api-28-throws-no-such-table-exceptio):\r\n\r\n``` lang-java\r\npublic class DBHelper extends SQLiteOpenHelper {\r\n...\r\n    @Override\r\n    public void onConfigure(SQLiteDatabase db) {\r\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.P) {\r\n            db.disableWriteAheadLogging();\r\n        }\r\n        super.onConfigure(db);\r\n    }\r\n}\r\n```\r\n\r\nAnd it works when I install my app from Android Studio, but doesn&#39;t work when I get my app from the Google store.","title":"Doesn&#39;t work pre-populated sqlite database when I Install from Google store","body":"<p>In my app I use pre-populated database. I copy it from assets. And when api is 28 I receved empty database.\nI changed my SQLiteOpenHelper as written in a similar question (<a href=\"https://stackoverflow.com/questions/55336900/a-pre-populated-database-does-not-work-at-api-28-throws-no-such-table-exceptio\">A pre-populated database does not work at API 28 throws &quot;no such table&quot; exception</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DBHelper extends SQLiteOpenHelper {\n...\n    @Override\n    public void onConfigure(SQLiteDatabase db) {\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.P) {\n            db.disableWriteAheadLogging();\n        }\n        super.onConfigure(db);\n    }\n}\n</code></pre>\n<p>And it works when I install my app from Android Studio, but doesn't work when I get my app from the Google store.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spock","audit"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1637834558,"post_id":70104230,"comment_id":123933585,"body_markdown":"I know Spock, but not Spring and/or JPA. I think it would be helpful for you to publish an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, ideally a Maven project (Gradle, if must be). Then I could take a look, if Leonard is not faster. He knows more anyway. BTW, does the `ConstraintViolationException` go away if you actually make the `ManyToOneEntity` point to its parent for referential integrity?","body":"I know Spock, but not Spring and/or JPA. I think it would be helpful for you to publish an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, ideally a Maven project (Gradle, if must be). Then I could take a look, if Leonard is not faster. He knows more anyway. BTW, does the <code>ConstraintViolationException</code> go away if you actually make the <code>ManyToOneEntity</code> point to its parent for referential integrity?"},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1637849182,"post_id":70104230,"comment_id":123939428,"body_markdown":"Yes, manually assigning `child.setParent(parent)` is a workaround for the `@SpringBootTest` scenario. I will work on publishing a GitHub repo after the holiday. Thanks for taking a look.","body":"Yes, manually assigning <code>child.setParent(parent)</code> is a workaround for the <code>@SpringBootTest</code> scenario. I will work on publishing a GitHub repo after the holiday. Thanks for taking a look."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":1,"creation_date":1638008228,"post_id":70104230,"comment_id":123976498,"body_markdown":"I would assume that your problem is, that the `@DataJpaTest` is annotated with `@Transactional` causing the whole test to run in a single transaction.","body":"I would assume that your problem is, that the <code>@DataJpaTest</code> is annotated with <code>@Transactional</code> causing the whole test to run in a single transaction."},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1638024356,"post_id":70104230,"comment_id":123979699,"body_markdown":"@LeonardBr&#252;nings, that&#39;s a great observation: `@Transactional` seems to be the difference between the two annotations. But why does a transaction cause the second test to fail?","body":"@LeonardBr&#252;nings, that&#39;s a great observation: <code>@Transactional</code> seems to be the difference between the two annotations. But why does a transaction cause the second test to fail?"},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1638024399,"post_id":70104230,"comment_id":123979711,"body_markdown":"@kriegaex, I&#39;ve created a GitHub project here: https://github.com/jaco0646/jpa-audit-test.","body":"@kriegaex, I&#39;ve created a GitHub project here: <a href=\"https://github.com/jaco0646/jpa-audit-test\" rel=\"nofollow noreferrer\">github.com/jaco0646/jpa-audit-test</a>."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638103495,"creation_date":1638101901,"answer_id":70143320,"question_id":70104230,"body_markdown":"Like I said, I am not a Spring user, but I noticed the following things when playing with your MCVE:\r\n\r\n* For `@DataJpaTest`, not only `persisted2 == persisted1` is true, but even `persisted2 === persisted1`. I.e., the object is changed in-place, no new instance is created. Therefore, the check `persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)` can never work.\r\n* For `@DataJpaTest`, `lastModifiedDate` is never updated. Maybe that kind of test is not meant to check timestamps. I.e. that you cannot even use `def lastModifiedDate = persisted1.lastModifiedDate` before saving the second time and later `persisted2.lastModifiedDate.isAfter(lastModifiedDate)`. It also fails.\r\n\r\nSo you really should use `@SpringBootTest`, if you wish to check timestamps like that. Then however, you need to satisfy referential integrity for your parent-child relationships. If there is an option to modify the `@DataJpaTest` behaviour in order to also update timestamps, I have no idea. But probably that is database functionality which is mocked away in JPA tests. Someone more experienced in Spring can maybe answer this question.\r\n\r\n---\r\n\r\n**Update:** Something like this should work for you:\r\n\r\n```java\r\npackage spring.jpa\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport spock.lang.Specification\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\nclass AuditingSpec extends Specification {\r\n  @Autowired\r\n  OneToManyRepository repo\r\n\r\n  def &quot;New parent and child are both assigned IDs and dates&quot;() {\r\n    given:\r\n    def parent = new OneToManyEntity()\r\n    parent.setChildren([createChild(parent)])\r\n    when:\r\n    def persisted = repo.save(parent)\r\n    then:\r\n    def persistedChild = persisted.children.first()\r\n    persisted.createdDate\r\n    persisted.createdDate == persisted.lastModifiedDate\r\n    persistedChild.createdDate\r\n    persistedChild.createdDate == persistedChild.lastModifiedDate\r\n  }\r\n\r\n  def &quot;Appended child is assigned IDs and dates&quot;() {\r\n    given:\r\n    def parent = new OneToManyEntity()\r\n    parent.setChildren([createChild(parent)])\r\n    def persisted = repo.save(parent)\r\n    persisted.children.add(createChild(parent))\r\n    when:\r\n    def persisted2 = repo.save(persisted)\r\n    then:\r\n    persisted2.children.size() == 2\r\n    def firstChild = persisted2.children.first()\r\n    def secondChild = persisted2.children.last()\r\n    secondChild.id &gt; firstChild.id\r\n    secondChild.createdDate\r\n    secondChild.createdDate == secondChild.lastModifiedDate\r\n  }\r\n\r\n  def &quot;LastModifiedDate value is updated&quot;() {\r\n    given:\r\n    def persisted1 = repo.save(new OneToManyEntity())\r\n    //sleep(1000)\r\n    persisted1.setChildren([])\r\n    def persisted2 = repo.save(persisted1)\r\n    expect:\r\n    persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)\r\n  }\r\n\r\n  static ManyToOneEntity createChild(OneToManyEntity parent) {\r\n    def child = new ManyToOneEntity()\r\n    child.setParent(parent)\r\n    child\r\n  }\r\n}\r\n```\r\n","title":"How to test Spring JPA audit annotations?","body":"<p>Like I said, I am not a Spring user, but I noticed the following things when playing with your MCVE:</p>\n<ul>\n<li>For <code>@DataJpaTest</code>, not only <code>persisted2 == persisted1</code> is true, but even <code>persisted2 === persisted1</code>. I.e., the object is changed in-place, no new instance is created. Therefore, the check <code>persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)</code> can never work.</li>\n<li>For <code>@DataJpaTest</code>, <code>lastModifiedDate</code> is never updated. Maybe that kind of test is not meant to check timestamps. I.e. that you cannot even use <code>def lastModifiedDate = persisted1.lastModifiedDate</code> before saving the second time and later <code>persisted2.lastModifiedDate.isAfter(lastModifiedDate)</code>. It also fails.</li>\n</ul>\n<p>So you really should use <code>@SpringBootTest</code>, if you wish to check timestamps like that. Then however, you need to satisfy referential integrity for your parent-child relationships. If there is an option to modify the <code>@DataJpaTest</code> behaviour in order to also update timestamps, I have no idea. But probably that is database functionality which is mocked away in JPA tests. Someone more experienced in Spring can maybe answer this question.</p>\n<hr />\n<p><strong>Update:</strong> Something like this should work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package spring.jpa\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport spock.lang.Specification\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\nclass AuditingSpec extends Specification {\n  @Autowired\n  OneToManyRepository repo\n\n  def &quot;New parent and child are both assigned IDs and dates&quot;() {\n    given:\n    def parent = new OneToManyEntity()\n    parent.setChildren([createChild(parent)])\n    when:\n    def persisted = repo.save(parent)\n    then:\n    def persistedChild = persisted.children.first()\n    persisted.createdDate\n    persisted.createdDate == persisted.lastModifiedDate\n    persistedChild.createdDate\n    persistedChild.createdDate == persistedChild.lastModifiedDate\n  }\n\n  def &quot;Appended child is assigned IDs and dates&quot;() {\n    given:\n    def parent = new OneToManyEntity()\n    parent.setChildren([createChild(parent)])\n    def persisted = repo.save(parent)\n    persisted.children.add(createChild(parent))\n    when:\n    def persisted2 = repo.save(persisted)\n    then:\n    persisted2.children.size() == 2\n    def firstChild = persisted2.children.first()\n    def secondChild = persisted2.children.last()\n    secondChild.id &gt; firstChild.id\n    secondChild.createdDate\n    secondChild.createdDate == secondChild.lastModifiedDate\n  }\n\n  def &quot;LastModifiedDate value is updated&quot;() {\n    given:\n    def persisted1 = repo.save(new OneToManyEntity())\n    //sleep(1000)\n    persisted1.setChildren([])\n    def persisted2 = repo.save(persisted1)\n    expect:\n    persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)\n  }\n\n  static ManyToOneEntity createChild(OneToManyEntity parent) {\n    def child = new ManyToOneEntity()\n    child.setParent(parent)\n    child\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638226748,"creation_date":1638226748,"answer_id":70162346,"question_id":70104230,"body_markdown":"Thanks to the tips in the comments, I&#39;ve realized the two tests fail in opposite scenarios because the first test must run in a transaction, while the second test must _not_ run in a transaction. The test failures manifested with different class-level annotations because `@DataJpaTest` is transactional while `@SpringBootTest` is not. So the solution is to use `@SpringBootTest` and annotate only the first test as `@Transactional`. I have updated the GitHub [project](https://github.com/jaco0646/jpa-audit-test/blob/master/src/test/groovy/spring/jpa/AuditingSpec.groovy) accordingly.","title":"How to test Spring JPA audit annotations?","body":"<p>Thanks to the tips in the comments, I've realized the two tests fail in opposite scenarios because the first test must run in a transaction, while the second test must <em>not</em> run in a transaction. The test failures manifested with different class-level annotations because <code>@DataJpaTest</code> is transactional while <code>@SpringBootTest</code> is not. So the solution is to use <code>@SpringBootTest</code> and annotate only the first test as <code>@Transactional</code>. I have updated the GitHub <a href=\"https://github.com/jaco0646/jpa-audit-test/blob/master/src/test/groovy/spring/jpa/AuditingSpec.groovy\" rel=\"nofollow noreferrer\">project</a> accordingly.</p>\n"},{"tags":[],"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641894678,"creation_date":1641894678,"answer_id":70664678,"question_id":70104230,"body_markdown":"for anybody who has a problem with the scenario f.e. @CreatedDate is not generated after storing in DB in junit test. Just use @DataJpaTest together with @EnableJpaAuditing and your @CreatedDate and other generated fields will start to work also in junit tests. What was missing in my case was @EnableJpaAuditing annotation. @DataJpaTest has be default not enabled jpa auditing so with annotation @EnableJpaAuditing you will enable it. Good luck :)","title":"How to test Spring JPA audit annotations?","body":"<p>for anybody who has a problem with the scenario f.e. @CreatedDate is not generated after storing in DB in junit test. Just use @DataJpaTest together with @EnableJpaAuditing and your @CreatedDate and other generated fields will start to work also in junit tests. What was missing in my case was @EnableJpaAuditing annotation. @DataJpaTest has be default not enabled jpa auditing so with annotation @EnableJpaAuditing you will enable it. Good luck :)</p>\n"}],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70162346,"answer_count":3,"score":0,"last_activity_date":1641894678,"creation_date":1637797247,"question_id":70104230,"body_markdown":"I am having trouble testing the auditing annotations in Spring JPA (2.5.4) using an H2 in-memory database. I have a main class annotated with `@EnableJpaAuditing`, and a base class for my entities.\r\n\r\n    @Getter\r\n    @Setter\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class AuditedEntity {\r\n        @CreatedDate\r\n        LocalDateTime createdDate;\r\n    \r\n        @LastModifiedDate\r\n        LocalDateTime lastModifiedDate;\r\n    }\r\n\r\nTwo entities extend the base class: a parent and a child.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;one2many&quot;)\r\n    class OneToManyEntity extends AuditedEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE)\r\n        Integer id;\r\n    \r\n        @OneToMany(mappedBy = &quot;parent&quot;, cascade = ALL, orphanRemoval = true)\r\n        List&lt;ManyToOneEntity&gt; children;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;many2one&quot;)\r\n    class ManyToOneEntity extends AuditedEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE)\r\n        Integer id;\r\n    \r\n        @ManyToOne(optional = false, fetch = LAZY)\r\n        OneToManyEntity parent;\r\n    }\r\n\r\nThe repository for the parent entity is a simple interface declaration.\r\n\r\n    @Repository\r\n    interface OneToManyRepository extends CrudRepository&lt;OneToManyEntity, Integer&gt; {\r\n    }\r\n\r\nAnd I have a couple of Spock tests for it.\r\n\r\n    class OneToManyRepoSpec extends Specification {\r\n        @Autowired\r\n        OneToManyRepository repo\r\n    \r\n        def &quot;test ID is assigned&quot;() {\r\n            given:\r\n                def parent = new OneToManyEntity()\r\n                parent.setChildren([new ManyToOneEntity()])\r\n            expect:\r\n                def persisted = repo.save(parent)\r\n                persisted.getId() &gt; 0\r\n                persisted.getLastModifiedDate() != null\r\n        }\r\n    \r\n        def &quot;LastModifiedDate value is updated&quot;() {\r\n            given:\r\n                def persisted1 = repo.save(new OneToManyEntity())\r\n                sleep(1000)\r\n                persisted1.setChildren([])\r\n                def persisted2 = repo.save(persisted1)\r\n            expect:\r\n                persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)\r\n        }\r\n    }\r\n\r\nI can get either of these tests to pass, depending on how I annotate the test class; but I cannot get both tests to pass together.\r\n* If I annotate the test class with `@DataJpaTest` the first test passes (IDs and audit values are assigned) but the second test fails (audit values are not updated).\r\n* If I annotate the test class with `@SpringBootTest(webEnvironment = NONE)` the first test fails (`ConstraintViolationException: NULL not allowed for column &quot;parent_id&quot;;` so IDs are not assigned) but the second test passes (audit values are updated).\r\n\r\nDo I have to split these tests into different classes with different annotations, or is there a way to keep them together and both passing? I&#39;d also be interested to understand more about what causes these separate test failures.","title":"How to test Spring JPA audit annotations?","body":"<p>I am having trouble testing the auditing annotations in Spring JPA (2.5.4) using an H2 in-memory database. I have a main class annotated with <code>@EnableJpaAuditing</code>, and a base class for my entities.</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic class AuditedEntity {\n    @CreatedDate\n    LocalDateTime createdDate;\n\n    @LastModifiedDate\n    LocalDateTime lastModifiedDate;\n}\n</code></pre>\n<p>Two entities extend the base class: a parent and a child.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;one2many&quot;)\nclass OneToManyEntity extends AuditedEntity {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE)\n    Integer id;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = ALL, orphanRemoval = true)\n    List&lt;ManyToOneEntity&gt; children;\n}\n\n@Data\n@Entity\n@Table(name = &quot;many2one&quot;)\nclass ManyToOneEntity extends AuditedEntity {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE)\n    Integer id;\n\n    @ManyToOne(optional = false, fetch = LAZY)\n    OneToManyEntity parent;\n}\n</code></pre>\n<p>The repository for the parent entity is a simple interface declaration.</p>\n<pre><code>@Repository\ninterface OneToManyRepository extends CrudRepository&lt;OneToManyEntity, Integer&gt; {\n}\n</code></pre>\n<p>And I have a couple of Spock tests for it.</p>\n<pre><code>class OneToManyRepoSpec extends Specification {\n    @Autowired\n    OneToManyRepository repo\n\n    def &quot;test ID is assigned&quot;() {\n        given:\n            def parent = new OneToManyEntity()\n            parent.setChildren([new ManyToOneEntity()])\n        expect:\n            def persisted = repo.save(parent)\n            persisted.getId() &gt; 0\n            persisted.getLastModifiedDate() != null\n    }\n\n    def &quot;LastModifiedDate value is updated&quot;() {\n        given:\n            def persisted1 = repo.save(new OneToManyEntity())\n            sleep(1000)\n            persisted1.setChildren([])\n            def persisted2 = repo.save(persisted1)\n        expect:\n            persisted2.lastModifiedDate.isAfter(persisted1.lastModifiedDate)\n    }\n}\n</code></pre>\n<p>I can get either of these tests to pass, depending on how I annotate the test class; but I cannot get both tests to pass together.</p>\n<ul>\n<li>If I annotate the test class with <code>@DataJpaTest</code> the first test passes (IDs and audit values are assigned) but the second test fails (audit values are not updated).</li>\n<li>If I annotate the test class with <code>@SpringBootTest(webEnvironment = NONE)</code> the first test fails (<code>ConstraintViolationException: NULL not allowed for column &quot;parent_id&quot;;</code> so IDs are not assigned) but the second test passes (audit values are updated).</li>\n</ul>\n<p>Do I have to split these tests into different classes with different annotations, or is there a way to keep them together and both passing? I'd also be interested to understand more about what causes these separate test failures.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553565787,"creation_date":1553565787,"answer_id":55348827,"question_id":55348674,"body_markdown":"**1. The mysterious dash**\r\n\r\nFor logback: https://logback.qos.ch/manual/configuration.html. Specifically: \r\n\r\n&gt; Under certain circumstances, it may be desirable for a variable to\r\n&gt; have a default value if it is not declared or its value is null. As in\r\n&gt; the Bash shell, default values can be specified using the &quot;:-&quot;\r\n&gt; operator. For example, assuming the variable named aName is not\r\n&gt; defined, &quot;${aName:-golden}&quot; will be interpreted as &quot;golden&quot;.\r\n\r\n**2. The changing property names**\r\n\r\nThis should help with the mappings: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html. Also poke around `org.springframework.boot.logging.LoggingSystemProperties`.\r\n\r\n**3. The missing property**\r\n\r\nI agree with your assessment! Maybe doing some digging around with LoggingSystemProperties could help here (in the `apply()` method?). But more likely to be resolved by providing your own logback.xml.\r\n\r\n**4. We&#39;re stuck with the default appenders**\r\n\r\nThis is also true. See 83.1 of https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html. Practically speaking, every project I&#39;ve ever worked with has provided its own log4j.xml, logback.xml etc.\r\n","title":"Understanding Spring Boot 2&#39;s default logback configuration","body":"<p><strong>1. The mysterious dash</strong></p>\n\n<p>For logback: <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html</a>. Specifically: </p>\n\n<blockquote>\n  <p>Under certain circumstances, it may be desirable for a variable to\n  have a default value if it is not declared or its value is null. As in\n  the Bash shell, default values can be specified using the \":-\"\n  operator. For example, assuming the variable named aName is not\n  defined, \"${aName:-golden}\" will be interpreted as \"golden\".</p>\n</blockquote>\n\n<p><strong>2. The changing property names</strong></p>\n\n<p>This should help with the mappings: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html</a>. Also poke around <code>org.springframework.boot.logging.LoggingSystemProperties</code>.</p>\n\n<p><strong>3. The missing property</strong></p>\n\n<p>I agree with your assessment! Maybe doing some digging around with LoggingSystemProperties could help here (in the <code>apply()</code> method?). But more likely to be resolved by providing your own logback.xml.</p>\n\n<p><strong>4. We're stuck with the default appenders</strong></p>\n\n<p>This is also true. See 83.1 of <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html</a>. Practically speaking, every project I've ever worked with has provided its own log4j.xml, logback.xml etc.</p>\n"}],"owner":{"account_id":2120898,"reputation":3646,"user_id":1884155,"accept_rate":54,"display_name":"user1884155"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55348827,"answer_count":1,"score":1,"last_activity_date":1641894635,"creation_date":1553564310,"question_id":55348674,"body_markdown":"I&#39;m creating a Java Spring Boot 2.1 application that uses Maven to add the spring-boot-starter dependency. As written in [the documentation][1], this enables the default logback configuration. This configuration can be found freely [in this repository][2] and contains syntax that is a bit difficult for me to understand.\n\n**1. The mysterious dash**\n\nI know Spring properties are set by using the following syntax\n\n&gt; ${property.name:someDefaultValue}\n\nHowever, in the xml files for the logback configuration, there is always a dash right after the colon. Why is this? for example:\n\n&gt; &amp;lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}/&gt;&quot;\n\n**2. The changing property names**\n\nIt is also unclear to me where all these property names are coming from. In the documentation it is mentioned to fill our application.properties or application.yml with properties such as: \n\n&gt; logging.file = /app/logs/mylog.log \n\nHow and where is the property with name `logging.file` translated to the property with name `LOG_FILE` as used in the logback xml file?\n\n\n**3. The missing property**\n\nSpecifically this property has no equivalent property in application.properties (or .yml) to configure it\n\n&gt; &amp;lt;totalSizeCap&gt;${LOG_FILE_TOTAL_SIZE_CAP:-0} &amp;lt;/totalSizeCap&gt;\n\nIf I want to change this property to some other value, I&#39;d have to somehow set the LOG_FILE_TOTAL_SIZE_CAP property. How can I do this while still using the original default logback configuration xml provided by spring boot?\n\n**4. We&#39;re stuck with the default appenders**\n\nThe only appender logic in the logback xml files is:\n\n&gt; &amp;lt;root level=&quot;INFO&quot;&gt;        \n&gt;\n&gt; &amp;lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&gt;\n&gt; &amp;lt;appender-ref ref=&quot;FILE&quot;/&gt;\n&gt;\n&gt; &amp;lt;/root&gt;\n\nAnd the application.properties allow no way to change this. Although I must admit this is very useful default, it sometimes doesn&#39;t work. It seems like overkill to have to completely overwrite the entire logback xml configuration for one small tweak to an appender or policy. If I were to provide multiple custom logback/xml configuration files on my classpath, would logback &quot;merge&quot; them, or simply pick one and ignore the others? How does overwriting/merging work, which xml &#39;wins&#39;?\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-logging\n  [2]: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback","title":"Understanding Spring Boot 2&#39;s default logback configuration","body":"<p>I'm creating a Java Spring Boot 2.1 application that uses Maven to add the spring-boot-starter dependency. As written in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-logging\" rel=\"nofollow noreferrer\">the documentation</a>, this enables the default logback configuration. This configuration can be found freely <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback\" rel=\"nofollow noreferrer\">in this repository</a> and contains syntax that is a bit difficult for me to understand.</p>\n<p><strong>1. The mysterious dash</strong></p>\n<p>I know Spring properties are set by using the following syntax</p>\n<blockquote>\n<p>${property.name:someDefaultValue}</p>\n</blockquote>\n<p>However, in the xml files for the logback configuration, there is always a dash right after the colon. Why is this? for example:</p>\n<blockquote>\n<p>&lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}/&gt;&quot;</p>\n</blockquote>\n<p><strong>2. The changing property names</strong></p>\n<p>It is also unclear to me where all these property names are coming from. In the documentation it is mentioned to fill our application.properties or application.yml with properties such as:</p>\n<blockquote>\n<p>logging.file = /app/logs/mylog.log</p>\n</blockquote>\n<p>How and where is the property with name <code>logging.file</code> translated to the property with name <code>LOG_FILE</code> as used in the logback xml file?</p>\n<p><strong>3. The missing property</strong></p>\n<p>Specifically this property has no equivalent property in application.properties (or .yml) to configure it</p>\n<blockquote>\n<p>&lt;totalSizeCap&gt;${LOG_FILE_TOTAL_SIZE_CAP:-0} &lt;/totalSizeCap&gt;</p>\n</blockquote>\n<p>If I want to change this property to some other value, I'd have to somehow set the LOG_FILE_TOTAL_SIZE_CAP property. How can I do this while still using the original default logback configuration xml provided by spring boot?</p>\n<p><strong>4. We're stuck with the default appenders</strong></p>\n<p>The only appender logic in the logback xml files is:</p>\n<blockquote>\n<p>&lt;root level=&quot;INFO&quot;&gt;</p>\n<p>&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;</p>\n<p>&lt;appender-ref ref=&quot;FILE&quot;/&gt;</p>\n<p>&lt;/root&gt;</p>\n</blockquote>\n<p>And the application.properties allow no way to change this. Although I must admit this is very useful default, it sometimes doesn't work. It seems like overkill to have to completely overwrite the entire logback xml configuration for one small tweak to an appender or policy. If I were to provide multiple custom logback/xml configuration files on my classpath, would logback &quot;merge&quot; them, or simply pick one and ignore the others? How does overwriting/merging work, which xml 'wins'?</p>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641886109,"post_id":70662619,"comment_id":124917646,"body_markdown":"That is not the size of the bitmap. You compress your bitmap to a jpg. So you want the size of the jpg. You could have compressed to png or webp too.","body":"That is not the size of the bitmap. You compress your bitmap to a jpg. So you want the size of the jpg. You could have compressed to png or webp too."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641886242,"post_id":70662619,"comment_id":124917698,"body_markdown":"What you want has nothing to do with images. Only with formatting a number.","body":"What you want has nothing to do with images. Only with formatting a number."}],"answers":[{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641885531,"creation_date":1641883990,"answer_id":70662681,"question_id":70662619,"body_markdown":"Don&#39;t divide by 1024\r\n\r\n    long bitmap_size = imageInByte.length / 1024;\r\n\r\nIf you are using Formatter.formatShortFileSize then just use the original length of the byte array.\r\n\r\nThis code is compressing the image with this:\r\n\r\n    originalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n\r\nHow do you know the size of the image after this compression?  You might write the compressed image out to a file, however the `imageInByte.length` has to be the number of bytes in the byte array.  Are you sure it is NOT this size?","title":"How to get the size (Kb or Mb ) of Bitmap in android java","body":"<p>Don't divide by 1024</p>\n<pre><code>long bitmap_size = imageInByte.length / 1024;\n</code></pre>\n<p>If you are using Formatter.formatShortFileSize then just use the original length of the byte array.</p>\n<p>This code is compressing the image with this:</p>\n<pre><code>originalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n</code></pre>\n<p>How do you know the size of the image after this compression?  You might write the compressed image out to a file, however the <code>imageInByte.length</code> has to be the number of bytes in the byte array.  Are you sure it is NOT this size?</p>\n"},{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641894320,"creation_date":1641894320,"answer_id":70664588,"question_id":70662619,"body_markdown":"You said &quot;*I have an image whose size is 42.57 KB*&quot; and I suppose it isn&#39;t a real Bitmap but some JPEG, PNG, WEBP or other image format.\r\nIf you import this image in Java using BitmapFactory the decoder &quot;expands&quot; compressed image bytes in a real Bitmap made by Width x Height x 3 (or &quot;4&quot; if apha is supported from original image format). So a simple 1Kb image of 100x100 PNG file could became 100x100*3 = 30000 = 30Kb in Java when &quot;*Bitmap.getByteCount()*&quot; is executed.\r\nCompressing (again) this 30Kb Bitmap in a different or similar format could generate a different output so a different final length.\r\n\r\nMaybe you need some explanation:\r\n\r\n 1. a Bitmap, in Java, is just an array of bytes. A Bitmap, as a file, is made by an Header and same array of bytes.\r\n 2. if you Compress a Java Bitmap into a JPEG Stream you will get the final JPEG with exactly same content you need to write in a file (aka: this output could not be directly displayed in Java)\r\n\r\nSo you&#39;re Compressing a Bitmap to get a compressed JPEG and then you&#39;re getting JPEG length (header included). Obliviously a compressed file is normally smaller than original one.\r\n\r\n - If you don&#39;t want JPEG length but Bitmap length you were near right by doing &quot;Formatter.formatShortFileSize(this, **BITMAP**.getByteCount())&quot;.\r\n - If you want JPEG length (the one after Compression) then don&#39;t divide by 1024 because Formatter needs Bytes and not Kilobytes.\r\n\r\nComparing a Compressed or not-Compressed Java output with original Image File is 99% of times &quot;wrong&quot; because re-compressing a decompressed image file usually results in a different result.","title":"How to get the size (Kb or Mb ) of Bitmap in android java","body":"<p>You said &quot;<em>I have an image whose size is 42.57 KB</em>&quot; and I suppose it isn't a real Bitmap but some JPEG, PNG, WEBP or other image format.\nIf you import this image in Java using BitmapFactory the decoder &quot;expands&quot; compressed image bytes in a real Bitmap made by Width x Height x 3 (or &quot;4&quot; if apha is supported from original image format). So a simple 1Kb image of 100x100 PNG file could became 100x100*3 = 30000 = 30Kb in Java when &quot;<em>Bitmap.getByteCount()</em>&quot; is executed.\nCompressing (again) this 30Kb Bitmap in a different or similar format could generate a different output so a different final length.</p>\n<p>Maybe you need some explanation:</p>\n<ol>\n<li>a Bitmap, in Java, is just an array of bytes. A Bitmap, as a file, is made by an Header and same array of bytes.</li>\n<li>if you Compress a Java Bitmap into a JPEG Stream you will get the final JPEG with exactly same content you need to write in a file (aka: this output could not be directly displayed in Java)</li>\n</ol>\n<p>So you're Compressing a Bitmap to get a compressed JPEG and then you're getting JPEG length (header included). Obliviously a compressed file is normally smaller than original one.</p>\n<ul>\n<li>If you don't want JPEG length but Bitmap length you were near right by doing &quot;Formatter.formatShortFileSize(this, <strong>BITMAP</strong>.getByteCount())&quot;.</li>\n<li>If you want JPEG length (the one after Compression) then don't divide by 1024 because Formatter needs Bytes and not Kilobytes.</li>\n</ul>\n<p>Comparing a Compressed or not-Compressed Java output with original Image File is 99% of times &quot;wrong&quot; because re-compressing a decompressed image file usually results in a different result.</p>\n"}],"owner":{"account_id":23901453,"reputation":21,"user_id":17899557,"display_name":"Pikachu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641894320,"creation_date":1641883527,"question_id":70662619,"body_markdown":"I have a `Bitmap` and I want to get the size of the bitmap in KB, MB or etc\r\n\r\n**TRID NUMBER 1** - so I tried this but it is returning the wrong output because I have an image whose size is **42.57 KB**\r\nbut in the result, it is returning **128 B**\r\n\r\n     \r\n        // originalBitmap is global var\r\n\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        originalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n        byte[] imageInByte = stream.toByteArray();\r\n        long bitmap_size = imageInByte.length / 1024;\r\n        Log.d(TAG, &quot;size of bitmap - &quot;+Formatter.formatShortFileSize(this,bitmap_size));\r\n\r\n\r\n**TRID NUMBER 2** - so In this tried is simply done this thing but it is also showing wrong output it showing **1.2 MB** of that same image whose size is **42.57 KB**\r\n\r\n    Log.d(TAG, &quot;Image size : &quot;+Formatter.formatShortFileSize(this, originalBitmap.getByteCount()));\r\n\r\n\r\n\r\n**NOTE:** I have no real device so tested this in the emulator. may this cause or what do you think \r\n\r\nany help will be appreciated! thank you.\r\n","title":"How to get the size (Kb or Mb ) of Bitmap in android java","body":"<p>I have a <code>Bitmap</code> and I want to get the size of the bitmap in KB, MB or etc</p>\n<p><strong>TRID NUMBER 1</strong> - so I tried this but it is returning the wrong output because I have an image whose size is <strong>42.57 KB</strong>\nbut in the result, it is returning <strong>128 B</strong></p>\n<pre><code>    // originalBitmap is global var\n\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();\n    originalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n    byte[] imageInByte = stream.toByteArray();\n    long bitmap_size = imageInByte.length / 1024;\n    Log.d(TAG, &quot;size of bitmap - &quot;+Formatter.formatShortFileSize(this,bitmap_size));\n</code></pre>\n<p><strong>TRID NUMBER 2</strong> - so In this tried is simply done this thing but it is also showing wrong output it showing <strong>1.2 MB</strong> of that same image whose size is <strong>42.57 KB</strong></p>\n<pre><code>Log.d(TAG, &quot;Image size : &quot;+Formatter.formatShortFileSize(this, originalBitmap.getByteCount()));\n</code></pre>\n<p><strong>NOTE:</strong> I have no real device so tested this in the emulator. may this cause or what do you think</p>\n<p>any help will be appreciated! thank you.</p>\n"},{"tags":["java","android","kotlin","view","viewgroup"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1641818100,"post_id":70652483,"comment_id":124897921,"body_markdown":"Please share your xml code here as well so that solution can be given.","body":"Please share your xml code here as well so that solution can be given."},{"owner":{"account_id":6283885,"reputation":613,"user_id":4883879,"display_name":"Fabio"},"score":0,"creation_date":1641819490,"post_id":70652483,"comment_id":124898471,"body_markdown":"If it is a background you can create a svg with e.g. Adobe Illustrator and then import it as an XML resource.","body":"If it is a background you can create a svg with e.g. Adobe Illustrator and then import it as an XML resource."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641819876,"creation_date":1641819876,"answer_id":70652866,"question_id":70652483,"body_markdown":"1. if you want to create a view the the easiest way to do that is by wrapping your layout in a cardview and then add a card corner radius.\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    ... &gt;\r\n    &lt;!-- A CardView that contains a TextView --&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/card_view&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        card_view:cardCornerRadius=&quot;4dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/info_text&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nRef: [Google Docs][1]\r\n\r\n\r\n2. If you want to create an icon like the photo you mentioned .. It&#39;s just a matter of creating that image in any illustrator software and then override your android icon from drawable&gt;[right-click]&gt;image asset\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/layout/cardview","title":"create View with curved edge and rounded corners in android","body":"<ol>\n<li>if you want to create a view the the easiest way to do that is by wrapping your layout in a cardview and then add a card corner radius.</li>\n</ol>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    ... &gt;\n    &lt;!-- A CardView that contains a TextView --&gt;\n    &lt;androidx.cardview.widget.CardView\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/card_view&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        card_view:cardCornerRadius=&quot;4dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/info_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>Ref: <a href=\"https://developer.android.com/guide/topics/ui/layout/cardview\" rel=\"nofollow noreferrer\">Google Docs</a></p>\n<ol start=\"2\">\n<li>If you want to create an icon like the photo you mentioned .. It's just a matter of creating that image in any illustrator software and then override your android icon from drawable&gt;[right-click]&gt;image asset</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23893737,"reputation":36,"user_id":17893033,"display_name":"Aria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641823193,"creation_date":1641823193,"answer_id":70653584,"question_id":70652483,"body_markdown":"I&#39;ve tried to create a custom view for this (squircle) shape a while ago.\r\nAlthough it&#39;s not complete, it&#39;ll give you a basic idea on how to draw such shapes. By the way you&#39;ll need to disable clipChildren of its parent view to fix clipping.\r\n\r\n    package com.certainlyaria.squircle\r\n\r\n    import android.content.Context\r\n    import android.graphics.*\r\n    import android.util.AttributeSet\r\n    import android.view.View\r\n\r\n\r\n    class SquircleView @JvmOverloads constructor(\r\n        context: Context,\r\n        attrs: AttributeSet? = null,\r\n        defStyleAttr: Int = 0\r\n    ) : View(context, attrs, defStyleAttr) {\r\n        private val paint = Paint().apply {\r\n            color = Color.MAGENTA\r\n            isAntiAlias = true\r\n            style = Paint.Style.STROKE\r\n            strokeJoin = Paint.Join.ROUND\r\n            strokeWidth = 10f\r\n        }\r\n\r\n        companion object {\r\n            private const val CURVE = 75f\r\n        }\r\n\r\n        private val clipPath = Path()\r\n\r\n        private var smooth = Path()\r\n\r\n        private val clipRect = RectF(\r\n            CURVE, CURVE, 0f, 0f\r\n        )\r\n\r\n        override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n            super.onSizeChanged(w, h, oldw, oldh)\r\n\r\n            clipRect.apply {\r\n                right = w - CURVE\r\n                bottom = h - CURVE\r\n            }\r\n            clipPath.apply {\r\n                rewind()\r\n                moveTo(0f, (width) / 2f)\r\n                cubicTo(\r\n                    0f,\r\n                    0f,\r\n                    (width) / 4f,\r\n                    0f,\r\n                    (width) / 2f,\r\n                    0f\r\n                )\r\n                cubicTo(\r\n                    (width) * 3 / 4f,\r\n                    0f,\r\n                    width.toFloat(),\r\n                    0f,\r\n                    width.toFloat(),\r\n                    width / 2f\r\n                )\r\n                cubicTo(\r\n                    width.toFloat(),\r\n                    width.toFloat(),\r\n                    width * 3f / 4,\r\n                    width.toFloat(),\r\n                    (width) / 2f,\r\n                    width.toFloat()\r\n                )\r\n                cubicTo(\r\n                    width / 4f,\r\n                    width.toFloat(),\r\n                    0f,\r\n                    width.toFloat(),\r\n                    0f,\r\n                    (width) / 2f\r\n                )\r\n            }\r\n\r\n            smooth = getSquirclePaath(0, 0, width / 2)\r\n        }\r\n\r\n        override fun onDraw(canvas: Canvas) {\r\n            canvas.save()\r\n            canvas.drawPath(clipPath, paint)\r\n            //canvas.drawPath(smooth, paint)\r\n            canvas.restore()\r\n        }\r\n\r\n        private fun getSquirclePaath(\r\n            left: Int,\r\n            top: Int,\r\n            radius: Int\r\n        ): Path { //Formula: (|x|)^3 + (|y|)^3 = radius^3\r\n            val radiusToPow = radius * radius * radius.toDouble()\r\n            val path = Path()\r\n            path.moveTo((-radius).toFloat(), 0f)\r\n            for (x in -radius..radius) path.lineTo(\r\n                x.toFloat(),\r\n                Math.cbrt(radiusToPow - Math.abs(x * x * x)).toFloat()\r\n            )\r\n            for (x in radius downTo -radius) path.lineTo(\r\n                x.toFloat(),\r\n                (-Math.cbrt(radiusToPow - Math.abs(x * x * x))).toFloat()\r\n            )\r\n            path.close()\r\n            val matrix = Matrix()\r\n            matrix.postTranslate((left + radius).toFloat(), (top + radius).toFloat())\r\n            path.transform(matrix)\r\n            return path\r\n        }\r\n    }\r\n","title":"create View with curved edge and rounded corners in android","body":"<p>I've tried to create a custom view for this (squircle) shape a while ago.\nAlthough it's not complete, it'll give you a basic idea on how to draw such shapes. By the way you'll need to disable clipChildren of its parent view to fix clipping.</p>\n<pre><code>package com.certainlyaria.squircle\n\nimport android.content.Context\nimport android.graphics.*\nimport android.util.AttributeSet\nimport android.view.View\n\n\nclass SquircleView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : View(context, attrs, defStyleAttr) {\n    private val paint = Paint().apply {\n        color = Color.MAGENTA\n        isAntiAlias = true\n        style = Paint.Style.STROKE\n        strokeJoin = Paint.Join.ROUND\n        strokeWidth = 10f\n    }\n\n    companion object {\n        private const val CURVE = 75f\n    }\n\n    private val clipPath = Path()\n\n    private var smooth = Path()\n\n    private val clipRect = RectF(\n        CURVE, CURVE, 0f, 0f\n    )\n\n    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        super.onSizeChanged(w, h, oldw, oldh)\n\n        clipRect.apply {\n            right = w - CURVE\n            bottom = h - CURVE\n        }\n        clipPath.apply {\n            rewind()\n            moveTo(0f, (width) / 2f)\n            cubicTo(\n                0f,\n                0f,\n                (width) / 4f,\n                0f,\n                (width) / 2f,\n                0f\n            )\n            cubicTo(\n                (width) * 3 / 4f,\n                0f,\n                width.toFloat(),\n                0f,\n                width.toFloat(),\n                width / 2f\n            )\n            cubicTo(\n                width.toFloat(),\n                width.toFloat(),\n                width * 3f / 4,\n                width.toFloat(),\n                (width) / 2f,\n                width.toFloat()\n            )\n            cubicTo(\n                width / 4f,\n                width.toFloat(),\n                0f,\n                width.toFloat(),\n                0f,\n                (width) / 2f\n            )\n        }\n\n        smooth = getSquirclePaath(0, 0, width / 2)\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        canvas.save()\n        canvas.drawPath(clipPath, paint)\n        //canvas.drawPath(smooth, paint)\n        canvas.restore()\n    }\n\n    private fun getSquirclePaath(\n        left: Int,\n        top: Int,\n        radius: Int\n    ): Path { //Formula: (|x|)^3 + (|y|)^3 = radius^3\n        val radiusToPow = radius * radius * radius.toDouble()\n        val path = Path()\n        path.moveTo((-radius).toFloat(), 0f)\n        for (x in -radius..radius) path.lineTo(\n            x.toFloat(),\n            Math.cbrt(radiusToPow - Math.abs(x * x * x)).toFloat()\n        )\n        for (x in radius downTo -radius) path.lineTo(\n            x.toFloat(),\n            (-Math.cbrt(radiusToPow - Math.abs(x * x * x))).toFloat()\n        )\n        path.close()\n        val matrix = Matrix()\n        matrix.postTranslate((left + radius).toFloat(), (top + radius).toFloat())\n        path.transform(matrix)\n        return path\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641894317,"creation_date":1641894317,"answer_id":70664587,"question_id":70652483,"body_markdown":" 1. `ShapeDrawable` object used for drawing primitive shapes. You can create any custom shape instead of creating custom view.\r\n\r\n````lang-java\r\nRoundRectShape roundRectShape = new RoundRectShape(new float[]{\r\n10, 10, 10, 10,\r\n10, 10, 10, 10}, null, null);\r\nShapeDrawable shapeDrawable = new ShapeDrawable(roundRectShape);\r\nshapeDrawable.getPaint().setColor(Color.parseColor(“#FFFFFF”));\r\nImageView myImageView = findViewById(R.id.my_image_view);\r\nmyImageView.setBackground(shapeDrawable);\r\n````\r\n 2. Use android `xml` structure for creating shapes.\r\n\r\n````lang-xml\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;10dp&quot;\r\n        android:radius=&quot;40dp&quot; /&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;45&quot;\r\n        android:centerX=&quot;float&quot;\r\n        android:centerY=&quot;float&quot;\r\n        android:endColor=&quot;#01f1fa&quot;\r\n        android:gradientRadius=&quot;integer&quot;\r\n        android:startColor=&quot;#0189ff&quot;\r\n        android:type=&quot;linear&quot; /&gt;\r\n\r\n    &lt;!--If your shape requires only one solid color--&gt;\r\n    &lt;!--&lt;solid\r\n        android:color=&quot;#FFFFFF&quot; /&gt;--&gt;\r\n\r\n    &lt;size\r\n        android:width=&quot;82dp&quot;\r\n        android:height=&quot;82dp&quot; /&gt;\r\n\r\n    &lt;!--Use android:dashWidth=&quot;2dp&quot; and android:dashGap=&quot;2dp&quot;\r\n    to add dashes to your stroke--&gt;\r\n    &lt;stroke\r\n        android:width=&quot;2dp&quot;\r\n        android:color=&quot;#FFFFFF&quot; /&gt;\r\n\r\n    &lt;!--If you want to add padding--&gt;\r\n    &lt;!-- &lt;padding\r\n         android:left=&quot;10dp&quot;\r\n         android:top=&quot;20dp&quot;\r\n         android:right=&quot;40dp&quot;\r\n         android:bottom=&quot;8dp&quot; /&gt;--&gt;\r\n    \r\n&lt;/shape&gt;","title":"create View with curved edge and rounded corners in android","body":"<ol>\n<li><code>ShapeDrawable</code> object used for drawing primitive shapes. You can create any custom shape instead of creating custom view.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>RoundRectShape roundRectShape = new RoundRectShape(new float[]{\n10, 10, 10, 10,\n10, 10, 10, 10}, null, null);\nShapeDrawable shapeDrawable = new ShapeDrawable(roundRectShape);\nshapeDrawable.getPaint().setColor(Color.parseColor(“#FFFFFF”));\nImageView myImageView = findViewById(R.id.my_image_view);\nmyImageView.setBackground(shapeDrawable);\n</code></pre>\n<ol start=\"2\">\n<li>Use android <code>xml</code> structure for creating shapes.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;10dp&quot;\n        android:radius=&quot;40dp&quot; /&gt;\n\n    &lt;gradient\n        android:angle=&quot;45&quot;\n        android:centerX=&quot;float&quot;\n        android:centerY=&quot;float&quot;\n        android:endColor=&quot;#01f1fa&quot;\n        android:gradientRadius=&quot;integer&quot;\n        android:startColor=&quot;#0189ff&quot;\n        android:type=&quot;linear&quot; /&gt;\n\n    &lt;!--If your shape requires only one solid color--&gt;\n    &lt;!--&lt;solid\n        android:color=&quot;#FFFFFF&quot; /&gt;--&gt;\n\n    &lt;size\n        android:width=&quot;82dp&quot;\n        android:height=&quot;82dp&quot; /&gt;\n\n    &lt;!--Use android:dashWidth=&quot;2dp&quot; and android:dashGap=&quot;2dp&quot;\n    to add dashes to your stroke--&gt;\n    &lt;stroke\n        android:width=&quot;2dp&quot;\n        android:color=&quot;#FFFFFF&quot; /&gt;\n\n    &lt;!--If you want to add padding--&gt;\n    &lt;!-- &lt;padding\n         android:left=&quot;10dp&quot;\n         android:top=&quot;20dp&quot;\n         android:right=&quot;40dp&quot;\n         android:bottom=&quot;8dp&quot; /&gt;--&gt;\n    \n&lt;/shape&gt;\n</code></pre>\n"}],"owner":{"account_id":21792322,"reputation":21,"user_id":16092361,"display_name":"Chiranjit Mandal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70653584,"answer_count":3,"score":1,"last_activity_date":1641894317,"creation_date":1641818035,"question_id":70652483,"body_markdown":"I am trying to make a custom view in android like in the picture with curve edges and rounded corners. How to achieve this? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/788Qv.png","title":"create View with curved edge and rounded corners in android","body":"<p>I am trying to make a custom view in android like in the picture with curve edges and rounded corners. How to achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/788Qv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/788Qv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-spark","delta-lake","spark-streaming-kafka"],"owner":{"account_id":23903099,"reputation":11,"user_id":17901015,"display_name":"Arun Benoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641894214,"creation_date":1641893458,"question_id":70664397,"body_markdown":"We have a java spark streaming application which does scd2 operation on deltalake.\r\n\r\nWe were using spark 3.0.0 and delta lake 0.7.0 after upgrading to Spark 3.2.0 and delta 1.1.0, we can see the following exception (under load of 100K events)\r\n\r\n*Caused by: java.lang.ClassCastException: [C cannot be cast to [J, at org.apache.spark.unsafe.memory.HeapMemoryAllocator.allocate(HeapMemoryAllocator.java:58)\r\n, at org.apache.spark.memory.TaskMemoryManager.allocatePage(TaskMemoryManager.java:314)*\r\n\r\nWe are currently in development hence running in local mode, for 100K test with\r\n\r\n - spark master - local[4]\r\n - 4GB driver memory.    \r\n - Shuffle partition 25\r\n - Kafka topic partition 25\r\n - micro batch size 5000\r\n - trigger 120 sec\r\n\r\nAnother observation is that , this exception does not occur after the first couple of batches and for the subsequent 100K load it works fine if we don&#39;t restart.\r\n\r\nAdditional information regarding the load. The payload is same for all the events, we use different keys for 100K events. And the exception is seen only for the first couple of batches (may be 2-3 other batches works fine)\r\n\r\nAny guidelines regarding tuning or fix that can help in resolving this exception would help.\r\n\r\nThanks.","title":"Spark task failure with ClassCastException [C cannot be cast to [J, at org.apache.spark.unsafe.memory.HeapMemoryAllocator.allocate","body":"<p>We have a java spark streaming application which does scd2 operation on deltalake.</p>\n<p>We were using spark 3.0.0 and delta lake 0.7.0 after upgrading to Spark 3.2.0 and delta 1.1.0, we can see the following exception (under load of 100K events)</p>\n<p><em>Caused by: java.lang.ClassCastException: [C cannot be cast to [J, at org.apache.spark.unsafe.memory.HeapMemoryAllocator.allocate(HeapMemoryAllocator.java:58)\n, at org.apache.spark.memory.TaskMemoryManager.allocatePage(TaskMemoryManager.java:314)</em></p>\n<p>We are currently in development hence running in local mode, for 100K test with</p>\n<ul>\n<li>spark master - local[4]</li>\n<li>4GB driver memory.</li>\n<li>Shuffle partition 25</li>\n<li>Kafka topic partition 25</li>\n<li>micro batch size 5000</li>\n<li>trigger 120 sec</li>\n</ul>\n<p>Another observation is that , this exception does not occur after the first couple of batches and for the subsequent 100K load it works fine if we don't restart.</p>\n<p>Additional information regarding the load. The payload is same for all the events, we use different keys for 100K events. And the exception is seen only for the first couple of batches (may be 2-3 other batches works fine)</p>\n<p>Any guidelines regarding tuning or fix that can help in resolving this exception would help.</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642586956,"post_id":70664106,"comment_id":125107886,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":3525568,"reputation":1033,"user_id":2946783,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641894016,"creation_date":1641894016,"answer_id":70664516,"question_id":70664106,"body_markdown":"Search for eBay notifications.\r\nIt is the eBay name for webhooks","title":"Is eBay webhook option available? How to configure webhook URL in eBay?","body":"<p>Search for eBay notifications.\nIt is the eBay name for webhooks</p>\n"}],"owner":{"account_id":23902888,"reputation":1,"user_id":17900826,"display_name":"sagar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641894016,"creation_date":1641891951,"question_id":70664106,"body_markdown":"How do I trigger the eBay API call, when new order is created. Is there any webhooks function exist? I want to get the new order details, when created. In eBay documentation doesn&#39;t tell about hooks.","title":"Is eBay webhook option available? How to configure webhook URL in eBay?","body":"<p>How do I trigger the eBay API call, when new order is created. Is there any webhooks function exist? I want to get the new order details, when created. In eBay documentation doesn't tell about hooks.</p>\n"},{"tags":["java","macos","version","openj9"],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641816854,"creation_date":1641816854,"answer_id":70652217,"question_id":70652149,"body_markdown":"There is a very easy way of managing JDK installations almost automatically using something like [SDKMAN][1]. I suggest you have a look at this, as it would greatly simplify the process of managing whatever is that you need to manage. Note that the solution work for both MacOS and Linux.\r\n\r\n\r\n  [1]: https://sdkman.io","title":"Changing MacOS java version, Eclipse OpenJ9","body":"<p>There is a very easy way of managing JDK installations almost automatically using something like <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">SDKMAN</a>. I suggest you have a look at this, as it would greatly simplify the process of managing whatever is that you need to manage. Note that the solution work for both MacOS and Linux.</p>\n"},{"tags":[],"owner":{"account_id":14216221,"reputation":3,"user_id":10270036,"display_name":"pinki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641893974,"creation_date":1641893974,"answer_id":70664509,"question_id":70652149,"body_markdown":"I had to use SDKMAN and uninstall the current java version in order to get rid of this part in java -version command:\r\n\r\n```\r\nEclipse OpenJ9 VM AdoptOpenJDK-11.0.11+9 (build openj9-0.26.0, JRE 11 Mac OS X amd64-64-Bit Compressed References 20210421_957 (JIT enabled, AOT enabled)\r\nOpenJ9   - b4cc246d9\r\nOMR      - 162e6f729\r\nJCL      - 7796c80419 based on jdk-11.0.11+9)\r\n```\r\n\r\nAfter that I used brew to install java, set JAVA_HOME and after that gradle build was working fine.","title":"Changing MacOS java version, Eclipse OpenJ9","body":"<p>I had to use SDKMAN and uninstall the current java version in order to get rid of this part in java -version command:</p>\n<pre><code>Eclipse OpenJ9 VM AdoptOpenJDK-11.0.11+9 (build openj9-0.26.0, JRE 11 Mac OS X amd64-64-Bit Compressed References 20210421_957 (JIT enabled, AOT enabled)\nOpenJ9   - b4cc246d9\nOMR      - 162e6f729\nJCL      - 7796c80419 based on jdk-11.0.11+9)\n</code></pre>\n<p>After that I used brew to install java, set JAVA_HOME and after that gradle build was working fine.</p>\n"}],"owner":{"account_id":14216221,"reputation":3,"user_id":10270036,"display_name":"pinki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70652217,"answer_count":2,"score":-1,"last_activity_date":1641893974,"creation_date":1641816524,"question_id":70652149,"body_markdown":"I am using MacOS BigSur, trying to change java version to v1.8\r\nI have followed the instructions from [this question][1] but no results.\r\n\r\n```/usr/libexec/java_home -V``` commands outputs:\r\n\r\n```\r\nMatching Java Virtual Machines (1):\r\n    1.8.0_292 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 8&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n```\r\n\r\nBut ```java --version``` command returns:\r\n```\r\nopenjdk version &quot;11.0.11&quot; 2021-04-20\r\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\nEclipse OpenJ9 VM AdoptOpenJDK-11.0.11+9 (build openj9-0.26.0, JRE 11 Mac OS X amd64-64-Bit Compressed References 20210421_957 (JIT enabled, AOT enabled)\r\nOpenJ9   - b4cc246d9\r\nOMR      - 162e6f729\r\nJCL      - 7796c80419 based on jdk-11.0.11+9)\r\n```\r\n\r\nWhen I removed java completely from the OS following [these instructions][2] I would still get the same ```java --version``` output, but running ```/usr/libexec/java_home```\r\nwould return \r\n```\r\nThe operation couldn’t be completed. Unable to locate a Java Runtime.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\n.zshrc file has JAVA_HOME set to `/usr/libexec/java_home -v 1.8.0_265`\r\n\r\nWhere can I find this java that is currently referenced with the java command, or where can I change that reference on the command?\r\n\r\n  [1]: https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\r\n  [2]: https://www.java.com/en/download/help/mac_uninstall_java.html","title":"Changing MacOS java version, Eclipse OpenJ9","body":"<p>I am using MacOS BigSur, trying to change java version to v1.8\nI have followed the instructions from <a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\">this question</a> but no results.</p>\n<p><code>/usr/libexec/java_home -V</code> commands outputs:</p>\n<pre><code>Matching Java Virtual Machines (1):\n    1.8.0_292 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 8&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>But <code>java --version</code> command returns:</p>\n<pre><code>openjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nEclipse OpenJ9 VM AdoptOpenJDK-11.0.11+9 (build openj9-0.26.0, JRE 11 Mac OS X amd64-64-Bit Compressed References 20210421_957 (JIT enabled, AOT enabled)\nOpenJ9   - b4cc246d9\nOMR      - 162e6f729\nJCL      - 7796c80419 based on jdk-11.0.11+9)\n</code></pre>\n<p>When I removed java completely from the OS following <a href=\"https://www.java.com/en/download/help/mac_uninstall_java.html\" rel=\"nofollow noreferrer\">these instructions</a> I would still get the same <code>java --version</code> output, but running <code>/usr/libexec/java_home</code>\nwould return</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>.zshrc file has JAVA_HOME set to <code>/usr/libexec/java_home -v 1.8.0_265</code></p>\n<p>Where can I find this java that is currently referenced with the java command, or where can I change that reference on the command?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641893553,"post_id":70663994,"comment_id":124920227,"body_markdown":"You would need to implement an HTTP server, which is a fairly involved task. Is there a reason you don’t want to use an existing HTTP implementation?","body":"You would need to implement an HTTP server, which is a fairly involved task. Is there a reason you don’t want to use an existing HTTP implementation?"},{"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"score":0,"creation_date":1641893668,"post_id":70663994,"comment_id":124920267,"body_markdown":"Yes i dont need a complete HTTP Server. This server sends only a redirect to a specific Website. Nothing more to do. But i can use a http server instead. Do you have a simple example server that sends a redirect?","body":"Yes i dont need a complete HTTP Server. This server sends only a redirect to a specific Website. Nothing more to do. But i can use a http server instead. Do you have a simple example server that sends a redirect?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641894546,"post_id":70663994,"comment_id":124920630,"body_markdown":"Here’s an article with a simple example of implementing an HTTP server. The section showing the request to google.com shows how it responds with a redirect https://dev.to/mateuszjarzyna/build-your-own-http-server-in-java-in-less-than-one-hour-only-get-method-2k02","body":"Here’s an article with a simple example of implementing an HTTP server. The section showing the request to google.com shows how it responds with a redirect <a href=\"https://dev.to/mateuszjarzyna/build-your-own-http-server-in-java-in-less-than-one-hour-only-get-method-2k02\" rel=\"nofollow noreferrer\">dev.to/mateuszjarzyna/&hellip;</a>"}],"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641893549,"creation_date":1641891364,"question_id":70663994,"body_markdown":"i like to create a server. The server is listening on a port. If a browser connect to a server the server must send a redirect to a page e.g. server is running on port 4100. You type in the browser:\r\nhttp://localhost:4100\r\nand the server sends a response to the client and the clients opens the page where redirected to e.g. server sends example.com the clients will load the website example.com\r\n\r\nThis is my Server-Listener:\r\n\r\n    boolean go = true;\r\n\t\ttry {\r\n\t\t\tServerSocket server = new ServerSocket(4100);\r\n\t\t\tSystem.out.println(&quot;Listening for connection on port 4100 ....&quot;);\r\n\t\t    while (go){\r\n\t\t      // spin forever\r\n\t\t    \tSocket clientSocket = server.accept();\r\n\t\t    \tPrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n\t            InputStreamReader isr = new InputStreamReader(clientSocket.getInputStream());\r\n\t        \r\n\r\n        BufferedReader reader = new BufferedReader(isr);\r\n    \t            String line = reader.readLine();\r\n    \t            while (line!=null &amp;&amp; !line.isEmpty()) {\r\n    \t            \tSystem.out.println(line);\r\n    \t            \tline = reader.readLine();\r\n    \t            }\r\n    \t            System.out.println(&quot;REDIRECT CLIENT TO example.com&quot;);\r\n    out.write(&quot;HTTP/1.1 302 Found\\r\\n&quot;);\r\n    \t                    out.write(&quot;Date: Tue, 11 Jan 2011 13:09:20 GMT\\r\\n&quot;);         \r\n    \t                    out.write(&quot;Content-type: text/plain\\r\\n&quot;);\r\n    \t                    out.write(&quot;Server: vinit\\r\\n&quot;);           \r\n    \t                    out.write(&quot;Location: http://www.example.com\\r\\n&quot;);\r\n    \t                    out.write(&quot;Connection: Close&quot;);\r\n    \t                    out.write(&quot;\\r\\n\\r\\n&quot;);\r\n    \t                    out.flush();\r\n    \t           \r\n    \t\t    }\r\n    \t\t    \r\n\t\t    \r\n\t\t    server.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nBut the browser did not load the redirected page. How can i send a redirect to the browser? This server is only for sending a redirect to the client. ","title":"JAVA: Send Redirect by Socket","body":"<p>i like to create a server. The server is listening on a port. If a browser connect to a server the server must send a redirect to a page e.g. server is running on port 4100. You type in the browser:\nhttp://localhost:4100\nand the server sends a response to the client and the clients opens the page where redirected to e.g. server sends example.com the clients will load the website example.com</p>\n<p>This is my Server-Listener:</p>\n<pre><code>boolean go = true;\n    try {\n        ServerSocket server = new ServerSocket(4100);\n        System.out.println(&quot;Listening for connection on port 4100 ....&quot;);\n        while (go){\n          // spin forever\n            Socket clientSocket = server.accept();\n            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n            InputStreamReader isr = new InputStreamReader(clientSocket.getInputStream());\n        \n\n    BufferedReader reader = new BufferedReader(isr);\n                String line = reader.readLine();\n                while (line!=null &amp;&amp; !line.isEmpty()) {\n                    System.out.println(line);\n                    line = reader.readLine();\n                }\n                System.out.println(&quot;REDIRECT CLIENT TO example.com&quot;);\nout.write(&quot;HTTP/1.1 302 Found\\r\\n&quot;);\n                        out.write(&quot;Date: Tue, 11 Jan 2011 13:09:20 GMT\\r\\n&quot;);         \n                        out.write(&quot;Content-type: text/plain\\r\\n&quot;);\n                        out.write(&quot;Server: vinit\\r\\n&quot;);           \n                        out.write(&quot;Location: http://www.example.com\\r\\n&quot;);\n                        out.write(&quot;Connection: Close&quot;);\n                        out.write(&quot;\\r\\n\\r\\n&quot;);\n                        out.flush();\n               \n            }\n            \n        \n        server.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>But the browser did not load the redirected page. How can i send a redirect to the browser? This server is only for sending a redirect to the client.</p>\n"},{"tags":["java","php","sql"],"answers":[{"tags":[],"owner":{"account_id":23890957,"reputation":41,"user_id":17890630,"display_name":"Vlada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641893537,"creation_date":1641823274,"answer_id":70653596,"question_id":70642027,"body_markdown":"Try this for MSSQL:\r\n\r\n    UPDATE productlists\r\n    SET stocks = stocks - Q.QTY\r\n    FROM (\r\n    \tSELECT \r\n    \t\tID,\r\n    \t\tSUM(QTY) as QTY\r\n    \tFROM \r\n    \t\tcart \r\n    \tGROUP BY\r\n    \t\tID\r\n    \t) Q\r\n    WHERE productlists.product_id = Q.ID\r\n\r\nFor phpMyAdmin:\r\n\r\n    update productlists set stocks = stocks - (select sum(QTY) from cart where ID = productlists.product_id) where product_id in (select ID FROM cart);","title":"Updating stocks quantity in Product Table from Cart","body":"<p>Try this for MSSQL:</p>\n<pre><code>UPDATE productlists\nSET stocks = stocks - Q.QTY\nFROM (\n    SELECT \n        ID,\n        SUM(QTY) as QTY\n    FROM \n        cart \n    GROUP BY\n        ID\n    ) Q\nWHERE productlists.product_id = Q.ID\n</code></pre>\n<p>For phpMyAdmin:</p>\n<pre><code>update productlists set stocks = stocks - (select sum(QTY) from cart where ID = productlists.product_id) where product_id in (select ID FROM cart);\n</code></pre>\n"}],"owner":{"account_id":23880681,"reputation":1,"user_id":17881429,"display_name":"Jiyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70653596,"answer_count":1,"score":0,"last_activity_date":1641893537,"creation_date":1641736879,"question_id":70642027,"body_markdown":"Hello everyone so basically I have this 2 tables\r\n\r\n[ProductLists][1]\r\n\r\nand\r\n\r\n[Cart][2]\r\n\r\nNote: Cart table contains temporary datas inside it, if the orders inside cart table are already paid the table itself will truncate.\r\n\r\nI tried running this query \r\n```\r\nUPDATE productlists\r\nSET stocks = stocks - (SELECT SUM(QTY) FROM cart WHERE ID = productlists.product_id)\r\n```\r\nand this happened [output][3]\r\n\r\nany advice on how to do this without making the stocks of the other products go Null?\r\nThank you very much\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hoKlM.png\r\n  [2]: https://i.stack.imgur.com/H7BMX.png\r\n  [3]: https://i.stack.imgur.com/upfoc.png","title":"Updating stocks quantity in Product Table from Cart","body":"<p>Hello everyone so basically I have this 2 tables</p>\n<p><a href=\"https://i.stack.imgur.com/hoKlM.png\" rel=\"nofollow noreferrer\">ProductLists</a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/H7BMX.png\" rel=\"nofollow noreferrer\">Cart</a></p>\n<p>Note: Cart table contains temporary datas inside it, if the orders inside cart table are already paid the table itself will truncate.</p>\n<p>I tried running this query</p>\n<pre><code>UPDATE productlists\nSET stocks = stocks - (SELECT SUM(QTY) FROM cart WHERE ID = productlists.product_id)\n</code></pre>\n<p>and this happened <a href=\"https://i.stack.imgur.com/upfoc.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>any advice on how to do this without making the stocks of the other products go Null?\nThank you very much</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1641892839,"post_id":70664257,"comment_id":124919953,"body_markdown":"Do you mean you need to get `777.0` or `777.0` and `1`? from `goodmetric_total{&quot;camel-1&quot;} 777.0`?","body":"Do you mean you need to get <code>777.0</code> or <code>777.0</code> and <code>1</code>? from <code>goodmetric_total{&quot;camel-1&quot;} 777.0</code>?"},{"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"score":0,"creation_date":1641892968,"post_id":70664257,"comment_id":124920015,"body_markdown":"@WiktorStribiżew Sorry. I only need to get a value like 777","body":"@WiktorStribiżew Sorry. I only need to get a value like 777"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1641893054,"post_id":70664257,"comment_id":124920052,"body_markdown":"Then you could use a non-regex approach, or a regex one with a pattern similar to `^goodmetric.+ (\\d+)(?:\\.0)?$` ([demo](https://regex101.com/r/2waYml/1)) (where you capture the int part of the number into Group 1).","body":"Then you could use a non-regex approach, or a regex one with a pattern similar to <code>^goodmetric.+ (\\d+)(?:\\.0)?$</code> (<a href=\"https://regex101.com/r/2waYml/1\" rel=\"nofollow noreferrer\">demo</a>) (where you capture the int part of the number into Group 1)."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1641895049,"post_id":70664257,"comment_id":124920840,"body_markdown":"Why not just use the [String#split()](https://www.tutorialspoint.com/java/java_string_split.htm) method? `String value=&quot;&quot;; if (line.trim().startsWith(&quot;goodmetric_total&quot;)) { value = line.split(&quot;\\\\s+&quot;)[1]; }`.","body":"Why not just use the <a href=\"https://www.tutorialspoint.com/java/java_string_split.htm\" rel=\"nofollow noreferrer\">String#split()</a> method? <code>String value=&quot;&quot;; if (line.trim().startsWith(&quot;goodmetric_total&quot;)) { value = line.split(&quot;\\\\s+&quot;)[1]; }</code>."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641893424,"creation_date":1641893424,"answer_id":70664387,"question_id":70664257,"body_markdown":"You can use a regex approach with\r\n```none\r\n(?m)^goodmetric.*\\h(\\d+)(?:\\.0+)?$\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `(?m)^` - start of a line\r\n - `goodmetric` - a string\r\n - `.*` - any zero or more chars other than line break chars, as many as possible\r\n - `\\h` - a horizontal whitespace\r\n - `(\\d+)` - Group 1: one or more digits\r\n - `(?:\\.0+)?` - an optional sequence of a `.` and one or more `0` chars\r\n - `$` - end of a line (due to `(?m)` modifier = `Pattern.MULTILINE`).\r\n\r\nSee the [Java demo][2]:\r\n```java\r\nString s = &quot;# HELP aaasd asdads\\n# TYPE ASDA dasdas\\ngoodmetric_total{\\&quot;camel-1\\&quot;} 777.0\\n# HELP qqq www\\n# TYPE eee rrr\\nbadmetric_total{\\&quot;camel-1\\&quot;} 888.0&quot;;\r\nPattern pattern = Pattern.compile(&quot;^goodmetric.*\\\\h(\\\\d+)(?:\\\\.0+)?$&quot;, Pattern.MULTILINE);\r\nMatcher matcher = pattern.matcher(s);\r\nwhile (matcher.find()){\r\n\tSystem.out.println(matcher.group(1)); \r\n} \r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/2waYml/2\r\n  [2]: https://ideone.com/dUMjlu","title":"How to get integers from a specific string using regexp?","body":"<p>You can use a regex approach with</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?m)^goodmetric.*\\h(\\d+)(?:\\.0+)?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/2waYml/2\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>(?m)^</code> - start of a line</li>\n<li><code>goodmetric</code> - a string</li>\n<li><code>.*</code> - any zero or more chars other than line break chars, as many as possible</li>\n<li><code>\\h</code> - a horizontal whitespace</li>\n<li><code>(\\d+)</code> - Group 1: one or more digits</li>\n<li><code>(?:\\.0+)?</code> - an optional sequence of a <code>.</code> and one or more <code>0</code> chars</li>\n<li><code>$</code> - end of a line (due to <code>(?m)</code> modifier = <code>Pattern.MULTILINE</code>).</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/dUMjlu\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;# HELP aaasd asdads\\n# TYPE ASDA dasdas\\ngoodmetric_total{\\&quot;camel-1\\&quot;} 777.0\\n# HELP qqq www\\n# TYPE eee rrr\\nbadmetric_total{\\&quot;camel-1\\&quot;} 888.0&quot;;\nPattern pattern = Pattern.compile(&quot;^goodmetric.*\\\\h(\\\\d+)(?:\\\\.0+)?$&quot;, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(s);\nwhile (matcher.find()){\n    System.out.println(matcher.group(1)); \n} \n</code></pre>\n"}],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70664387,"answer_count":1,"score":1,"last_activity_date":1641893424,"creation_date":1641892669,"question_id":70664257,"body_markdown":"I have some sample text\r\n\r\n    # HELP aaasd asdads\r\n    # TYPE ASDA dasdas\r\n    goodmetric_total{&quot;camel-1&quot;} 777.0\r\n    # HELP qqq www\r\n    # TYPE eee rrr\r\n    badmetric_total{&quot;camel-1&quot;} 888.0\r\nI will need to get numbers from a specific string. Using String.format, I will substitute the values I need. For example `goodmetric_total`.\r\n\r\nHow do I write a regexp to get only a numerical value?\r\nAt the moment, I have solutions for searching string first.\r\n\r\n    ^goodmetric.+\\d+\r\n\r\nAnd already in this line look for numbers.\r\n\r\nI think you can do all this in one operation.\r\nThanks!","title":"How to get integers from a specific string using regexp?","body":"<p>I have some sample text</p>\n<pre><code># HELP aaasd asdads\n# TYPE ASDA dasdas\ngoodmetric_total{&quot;camel-1&quot;} 777.0\n# HELP qqq www\n# TYPE eee rrr\nbadmetric_total{&quot;camel-1&quot;} 888.0\n</code></pre>\n<p>I will need to get numbers from a specific string. Using String.format, I will substitute the values I need. For example <code>goodmetric_total</code>.</p>\n<p>How do I write a regexp to get only a numerical value?\nAt the moment, I have solutions for searching string first.</p>\n<pre><code>^goodmetric.+\\d+\n</code></pre>\n<p>And already in this line look for numbers.</p>\n<p>I think you can do all this in one operation.\nThanks!</p>\n"},{"tags":["java","testing","webdriver","selenide"],"answers":[{"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641893111,"creation_date":1641893111,"answer_id":70664330,"question_id":62954976,"body_markdown":"Probably the problem was already fixed in latest Selenide version.\r\n\r\nIf not, please provide the full stacktrace of your `IllegalStateException`. ","title":"TestNg Selenide. No webdriver is bound to current thread","body":"<p>Probably the problem was already fixed in latest Selenide version.</p>\n<p>If not, please provide the full stacktrace of your <code>IllegalStateException</code>.</p>\n"}],"owner":{"account_id":19035512,"reputation":21,"user_id":13896686,"display_name":"Dmitry Pasichko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1957,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641893111,"creation_date":1594992370,"question_id":62954976,"body_markdown":"I am setting up a project for spasuk in parallel. For more flexibility, I decided to use testng. Faced the problem that the tests do not see the web driver. Have the following error\r\n\r\n    java.lang.IllegalStateException: No webdriver is bound to current thread: 14. You need to call open(url) first.\r\n\r\nBelow are the pom file one of the test classes so that it would be clear how it is called, the method that initializes the browser and one of the suites (they are the same in structure, they just refer to different packages)\r\n\r\nAlthough browser was opened. \r\n\r\nPOM.xml file:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;e2e-ui-cashier&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;maven-surefire-plugin.version&gt;2.21.0&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;junit-platform-surefire-provider.version&gt;1.3.1&lt;/junit-platform-surefire-provider.version&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n\r\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\r\n        &lt;junit.jupiter.engine.version&gt;5.3.1&lt;/junit.jupiter.engine.version&gt;\r\n        &lt;junit.jupiter.api.version&gt;5.4.2&lt;/junit.jupiter.api.version&gt;\r\n\r\n        &lt;selenide.version&gt;5.2.7&lt;/selenide.version&gt;\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenide.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.20&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aeonbits.owner&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\r\n                            &lt;value&gt;true&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemProperties&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;propertyName&gt;allure-results&lt;/propertyName&gt;\r\n                        &lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;\r\n                        &lt;allure.link.issue.pattern&gt;https://arammeem.atlassian.net/browse/{}&lt;/allure.link.issue.pattern&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;suitethreadpoolsize&lt;/name&gt;\r\n                            &lt;value&gt;2&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;parallel&lt;/name&gt;\r\n                            &lt;value&gt;suites&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n                            &lt;value&gt;2&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n\r\n                    &lt;/properties&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/suite1.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/suite2.xml&lt;/suiteXmlFile&gt;\r\n&lt;!--                        &lt;suiteXmlFile&gt;src/test/resources/suite3.xml&lt;/suiteXmlFile&gt;--&gt;\r\n&lt;!--                        &lt;suiteXmlFile&gt;src/test/resources/suite4.xml&lt;/suiteXmlFile&gt;--&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;!--                    &lt;dependency&gt;--&gt;\r\n                    &lt;!--                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\r\n                    &lt;!--                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;--&gt;\r\n                    &lt;!--                        &lt;version&gt;${junit-platform-surefire-provider.version}&lt;/version&gt;--&gt;\r\n                    &lt;!--                    &lt;/dependency&gt;--&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nTest class example:\r\n```\r\n// ~ Copyright &#169; 2019 Aram Meem Company Limited. All Rights Reserved.\r\n\r\npackage pages.thread_1;\r\n\r\nimport io.qameta.allure.Description;\r\nimport io.qameta.allure.Issue;\r\nimport org.testng.annotations.BeforeMethod;\r\nimport org.testng.annotations.Test;\r\nimport steps.*;\r\nimport steps.modalPagesSteps.*;\r\nimport utils.BaseTest;\r\nimport utils.annotations.Bug;\r\nimport utils.enums.OrderStatus;\r\nimport utils.enums.Settlement;\r\n\r\nimport static com.codeborne.selenide.Selenide.sleep;\r\nimport static core.TestStepLogger.logPreconditionStep;\r\nimport static core.TestStepLogger.logStep;\r\nimport static steps.HelperSteps.openSecondTab;\r\nimport static steps.HelperSteps.resizeBrowserWindow;\r\nimport static utils.enums.Locale.AR;\r\nimport static utils.enums.Locale.EN;\r\nimport static utils.enums.Localization.VALID_NUMBER;\r\nimport static utils.enums.NotificationMessages.MERCHANT_ORDER_REFERENCE_ALREADY_IN_USE;\r\nimport static utils.enums.PageTitles.*;\r\n\r\n\r\npublic class BookADeliveryOrdersTest extends BaseTest {\r\n\r\n    @BeforeMethod(alwaysRun=true)\r\n    public void goToLoginPage() {\r\n        logPreconditionStep(1, &quot;Open &#39;Login&#39; page&quot;);\r\n        configure();\r\n\r\n        logPreconditionStep(2, &quot;Check that &#39;email&#39; and &#39;password&#39; placeholders are displayed&quot;);\r\n        loginPageSteps.checkThatEmailAndPasswordPlaceholdersAreDisplayed();\r\n\r\n        logPreconditionStep(3, &quot;Enter valid credentials&quot;);\r\n        loginPageSteps.enterValidCredentials(merUser2);\r\n\r\n        logPreconditionStep(4, &quot;Press &#39;OK&#39; on the Warning notification&quot;);\r\n        warningModalPageSteps.checkThatSoundNotificationWarningIsDisplayedAndClickOk();\r\n\r\n        logPreconditionStep(5, &quot;Check that &#39;NEW ORDERS&#39; title appears&quot;);\r\n        titlePageSteps.pageTitleShouldHaveText(MAIN);\r\n    }\r\n\r\n    @Test\r\n    @Description(&quot;Orders creation functionality verification&quot;)\r\n    public void ordersCreationFunctionalityVerification() {\r\n        logStep(1, &quot;Switch POS to &quot; + pos1.getName());\r\n        headerPageSteps.setAndCheckPOS(pos1);\r\n\r\n        logStep(2, &quot;Go to &#39;BOOK A DELIVERY&#39; page&quot;);\r\n        mainPageSteps.clickBookADeliveryButton();\r\n        titlePageSteps.pageTitleShouldHaveText(BOOK_A_DELIVERY);\r\n\r\n        logStep(3, &quot;Fill all mandatory fields&quot;);\r\n        bookADeliveryPageSteps.fillAllMandatoryFields();\r\n\r\n        logStep(4, &quot;Press &#39;Book order&#39; button&quot;);\r\n        bookADeliveryPageSteps.clickBtnDeliveryOrder();\r\n\r\n        logStep(5, &quot;Click &#39;Confirm order&#39; button&quot;);\r\n        confirmOrderModalPageStep.clickConfirmOrderBtn();\r\n\r\n        logStep(6, &quot;Check confirmation message&quot;);\r\n        notificationModalPageSteps.createOrderMessageShouldBeEnglishDisplayed();\r\n    }\r\n}\r\n```\r\n\r\nConfiguration:\r\n\r\n```\r\n\r\n        public void configure() {\r\n        System.setProperty(&quot;selenide.browser&quot;, &quot;chrome&quot;);\r\n\r\n        ChromeDriverManager.chromedriver().version(testProp.chromeDriverVersion()).setup();\r\n\r\n        SelenideLogger.addListener(testProp.selenideListener(), new AllureSelenide().screenshots(true).savePageSource(false));\r\n\r\n        System.out.println(&quot;DDDDDDDDDDDDDDDDDDDDDDDD&quot;);\r\n\r\n        Configuration.browserSize = testProp.browserSize();\r\n\r\n        Configuration.timeout = testProp.timeout();\r\n\r\n        Configuration.headless = testProp.headless();\r\n\r\n        clearBrowserCache();\r\n\r\n        BASE_LOCALE = Locale.EN;\r\n\r\n        Selenide.open(testCred.BASE_URL());\r\n    }\r\n```\r\n\r\nOne of the suites:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot; &gt;\r\n    &lt;!--        verbose=&quot;1&quot; parallel=&quot;false&quot;--&gt;\r\n    &lt;suite name=&quot;Suite1&quot; parallel=&quot;tests&quot; verbose=&quot;2&quot;&gt;\r\n    &lt;test name=&quot;Regression1&quot; &gt;\r\n    &lt;packages&gt;\r\n    &lt;package name=&quot;pages.thread_1&quot;&gt;&lt;/package&gt;\r\n     &lt;/packages&gt;\r\n    &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n    \r\n\r\n ","title":"TestNg Selenide. No webdriver is bound to current thread","body":"<p>I am setting up a project for spasuk in parallel. For more flexibility, I decided to use testng. Faced the problem that the tests do not see the web driver. Have the following error</p>\n<pre><code>java.lang.IllegalStateException: No webdriver is bound to current thread: 14. You need to call open(url) first.\n</code></pre>\n<p>Below are the pom file one of the test classes so that it would be clear how it is called, the method that initializes the browser and one of the suites (they are the same in structure, they just refer to different packages)</p>\n<p>Although browser was opened.</p>\n<p>POM.xml file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;e2e-ui-cashier&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven-surefire-plugin.version&gt;2.21.0&lt;/maven-surefire-plugin.version&gt;\n        &lt;junit-platform-surefire-provider.version&gt;1.3.1&lt;/junit-platform-surefire-provider.version&gt;\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\n        &lt;junit.jupiter.engine.version&gt;5.3.1&lt;/junit.jupiter.engine.version&gt;\n        &lt;junit.jupiter.api.version&gt;5.4.2&lt;/junit.jupiter.api.version&gt;\n\n        &lt;selenide.version&gt;5.2.7&lt;/selenide.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;${selenide.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\n            &lt;version&gt;2.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\n            &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aeonbits.owner&lt;/groupId&gt;\n            &lt;artifactId&gt;owner&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\n                            &lt;value&gt;true&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemProperties&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;propertyName&gt;allure-results&lt;/propertyName&gt;\n                        &lt;allure.results.directory&gt;target/allure-results&lt;/allure.results.directory&gt;\n                        &lt;allure.link.issue.pattern&gt;https://arammeem.atlassian.net/browse/{}&lt;/allure.link.issue.pattern&gt;\n                    &lt;/systemPropertyVariables&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;suitethreadpoolsize&lt;/name&gt;\n                            &lt;value&gt;2&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;parallel&lt;/name&gt;\n                            &lt;value&gt;suites&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n                            &lt;value&gt;2&lt;/value&gt;\n                        &lt;/property&gt;\n\n                    &lt;/properties&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/suite1.xml&lt;/suiteXmlFile&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/suite2.xml&lt;/suiteXmlFile&gt;\n&lt;!--                        &lt;suiteXmlFile&gt;src/test/resources/suite3.xml&lt;/suiteXmlFile&gt;--&gt;\n&lt;!--                        &lt;suiteXmlFile&gt;src/test/resources/suite4.xml&lt;/suiteXmlFile&gt;--&gt;\n                    &lt;/suiteXmlFiles&gt;\n\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;!--                    &lt;dependency&gt;--&gt;\n                    &lt;!--                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\n                    &lt;!--                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;--&gt;\n                    &lt;!--                        &lt;version&gt;${junit-platform-surefire-provider.version}&lt;/version&gt;--&gt;\n                    &lt;!--                    &lt;/dependency&gt;--&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Test class example:</p>\n<pre><code>// ~ Copyright © 2019 Aram Meem Company Limited. All Rights Reserved.\n\npackage pages.thread_1;\n\nimport io.qameta.allure.Description;\nimport io.qameta.allure.Issue;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\nimport steps.*;\nimport steps.modalPagesSteps.*;\nimport utils.BaseTest;\nimport utils.annotations.Bug;\nimport utils.enums.OrderStatus;\nimport utils.enums.Settlement;\n\nimport static com.codeborne.selenide.Selenide.sleep;\nimport static core.TestStepLogger.logPreconditionStep;\nimport static core.TestStepLogger.logStep;\nimport static steps.HelperSteps.openSecondTab;\nimport static steps.HelperSteps.resizeBrowserWindow;\nimport static utils.enums.Locale.AR;\nimport static utils.enums.Locale.EN;\nimport static utils.enums.Localization.VALID_NUMBER;\nimport static utils.enums.NotificationMessages.MERCHANT_ORDER_REFERENCE_ALREADY_IN_USE;\nimport static utils.enums.PageTitles.*;\n\n\npublic class BookADeliveryOrdersTest extends BaseTest {\n\n    @BeforeMethod(alwaysRun=true)\n    public void goToLoginPage() {\n        logPreconditionStep(1, &quot;Open 'Login' page&quot;);\n        configure();\n\n        logPreconditionStep(2, &quot;Check that 'email' and 'password' placeholders are displayed&quot;);\n        loginPageSteps.checkThatEmailAndPasswordPlaceholdersAreDisplayed();\n\n        logPreconditionStep(3, &quot;Enter valid credentials&quot;);\n        loginPageSteps.enterValidCredentials(merUser2);\n\n        logPreconditionStep(4, &quot;Press 'OK' on the Warning notification&quot;);\n        warningModalPageSteps.checkThatSoundNotificationWarningIsDisplayedAndClickOk();\n\n        logPreconditionStep(5, &quot;Check that 'NEW ORDERS' title appears&quot;);\n        titlePageSteps.pageTitleShouldHaveText(MAIN);\n    }\n\n    @Test\n    @Description(&quot;Orders creation functionality verification&quot;)\n    public void ordersCreationFunctionalityVerification() {\n        logStep(1, &quot;Switch POS to &quot; + pos1.getName());\n        headerPageSteps.setAndCheckPOS(pos1);\n\n        logStep(2, &quot;Go to 'BOOK A DELIVERY' page&quot;);\n        mainPageSteps.clickBookADeliveryButton();\n        titlePageSteps.pageTitleShouldHaveText(BOOK_A_DELIVERY);\n\n        logStep(3, &quot;Fill all mandatory fields&quot;);\n        bookADeliveryPageSteps.fillAllMandatoryFields();\n\n        logStep(4, &quot;Press 'Book order' button&quot;);\n        bookADeliveryPageSteps.clickBtnDeliveryOrder();\n\n        logStep(5, &quot;Click 'Confirm order' button&quot;);\n        confirmOrderModalPageStep.clickConfirmOrderBtn();\n\n        logStep(6, &quot;Check confirmation message&quot;);\n        notificationModalPageSteps.createOrderMessageShouldBeEnglishDisplayed();\n    }\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>\n        public void configure() {\n        System.setProperty(&quot;selenide.browser&quot;, &quot;chrome&quot;);\n\n        ChromeDriverManager.chromedriver().version(testProp.chromeDriverVersion()).setup();\n\n        SelenideLogger.addListener(testProp.selenideListener(), new AllureSelenide().screenshots(true).savePageSource(false));\n\n        System.out.println(&quot;DDDDDDDDDDDDDDDDDDDDDDDD&quot;);\n\n        Configuration.browserSize = testProp.browserSize();\n\n        Configuration.timeout = testProp.timeout();\n\n        Configuration.headless = testProp.headless();\n\n        clearBrowserCache();\n\n        BASE_LOCALE = Locale.EN;\n\n        Selenide.open(testCred.BASE_URL());\n    }\n</code></pre>\n<p>One of the suites:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;!--        verbose=&quot;1&quot; parallel=&quot;false&quot;--&gt;\n&lt;suite name=&quot;Suite1&quot; parallel=&quot;tests&quot; verbose=&quot;2&quot;&gt;\n&lt;test name=&quot;Regression1&quot; &gt;\n&lt;packages&gt;\n&lt;package name=&quot;pages.thread_1&quot;&gt;&lt;/package&gt;\n &lt;/packages&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","android","sonarqube"],"comments":[{"owner":{"account_id":5807304,"reputation":1125,"user_id":6804134,"display_name":"Lazycoder-007"},"score":0,"creation_date":1591717803,"post_id":62285765,"comment_id":110159165,"body_markdown":"can you post your build.gradle","body":"can you post your build.gradle"},{"owner":{"account_id":290337,"reputation":333,"user_id":591831,"accept_rate":60,"display_name":"Abhay Chaware"},"score":0,"creation_date":1641892950,"post_id":62285765,"comment_id":124919998,"body_markdown":"Were you able to resolve this? I am facing same issue, sonar.exclusions not working for me","body":"Were you able to resolve this? I am facing same issue, sonar.exclusions not working for me"}],"answers":[{"tags":[],"owner":{"account_id":19397649,"reputation":11,"user_id":14184966,"display_name":"Srashti Kalra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1598652361,"creation_date":1598652361,"answer_id":63641405,"question_id":62285765,"body_markdown":"Maybe your class file is in sub package.\r\nThis should work:\r\n\r\n - property &quot;sonar.exclusions&quot;, &quot;**/\\*\\*/*LineChart.java&quot;","title":"How to exclude file from Code Smells in SonarQube?","body":"<p>Maybe your class file is in sub package.\nThis should work:</p>\n<ul>\n<li>property &quot;sonar.exclusions&quot;, &quot;**/**/*LineChart.java&quot;</li>\n</ul>\n"}],"owner":{"account_id":9147601,"reputation":769,"user_id":6803201,"accept_rate":82,"display_name":"Navjot.jassal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641892929,"creation_date":1591715401,"question_id":62285765,"body_markdown":"I am working in Code smells in my project, but here is one class in which i don&#39;t want to change anything. This class showing in code smells, I want it should not be show in Code smells. \r\n\r\nUsing This Property to Exclude that class but didn&#39;t work for me\r\n\r\n    property &quot;sonar.exclusions&quot;, &quot;**/*LineChart.java&quot; \r\n\r\nCan anyone please help me on this. How can i exclude this class from Code smells","title":"How to exclude file from Code Smells in SonarQube?","body":"<p>I am working in Code smells in my project, but here is one class in which i don't want to change anything. This class showing in code smells, I want it should not be show in Code smells. </p>\n\n<p>Using This Property to Exclude that class but didn't work for me</p>\n\n<pre><code>property \"sonar.exclusions\", \"**/*LineChart.java\" \n</code></pre>\n\n<p>Can anyone please help me on this. How can i exclude this class from Code smells</p>\n"},{"tags":["java","jpa","eclipselink","jpa-2.0","criteria-api"],"comments":[{"owner":{"account_id":69201,"reputation":7158,"user_id":201506,"accept_rate":92,"display_name":"geert3"},"score":2,"creation_date":1419340117,"post_id":27620400,"comment_id":43662594,"body_markdown":"Don&#39;t you need to assign the cb.substring to something? Otherwise the effect will be lost, just like with `String.substring`","body":"Don&#39;t you need to assign the cb.substring to something? Otherwise the effect will be lost, just like with <code>String.substring</code>"},{"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"score":0,"creation_date":1419340537,"post_id":27620400,"comment_id":43662802,"body_markdown":"@geert3 is right, if you run a SQL query with Substring, you need to call the function and add to the select statement, the same with the `CriteriaBuilder`. `projDesc` is a `Emp.class`  property, but not the result of the substring, you need to add to the select statement of the `CriteriaBuilder`.","body":"@geert3 is right, if you run a SQL query with Substring, you need to call the function and add to the select statement, the same with the <code>CriteriaBuilder</code>. <code>projDesc</code> is a <code>Emp.class</code>  property, but not the result of the substring, you need to add to the select statement of the <code>CriteriaBuilder</code>."}],"answers":[{"tags":[],"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1419340042,"creation_date":1419338739,"answer_id":27620661,"question_id":27620400,"body_markdown":"From the [javadoc][1]\r\n\r\n&gt; Create an expression for substring extraction. Extracts a substring of\r\n&gt; given length starting at the specified position. First position is 1.\r\n\r\nTry doing `cb.substring(c.&lt;String&gt;get(&quot;projDesc&quot;), 1, 10);`\r\n\r\n\r\n----------\r\nI think you&#39;re forgetting to select the `Expression&lt;E&gt;` \r\n\r\nTry `cq.select(cb.substring(c.&lt;String&gt;get(&quot;projDesc&quot;), 1, 10))`\r\nIt will return `List&lt;String&gt;` if you need to Return the `Emp` you can use the \r\n\r\n`cb.construct(Emp.class, e.get(&quot;prop1&quot;), e.get(&quot;prop2&quot;), cb.substring(c.&lt;String&gt;get(&quot;projDesc&quot;), 1, 10)));`\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#substring(javax.persistence.criteria.Expression,%20int,%20int)","title":"JPA CriteriaBuilder and Substring","body":"<p>From the <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#substring(javax.persistence.criteria.Expression,%20int,%20int)\" rel=\"noreferrer\">javadoc</a></p>\n\n<blockquote>\n  <p>Create an expression for substring extraction. Extracts a substring of\n  given length starting at the specified position. First position is 1.</p>\n</blockquote>\n\n<p>Try doing <code>cb.substring(c.&lt;String&gt;get(\"projDesc\"), 1, 10);</code></p>\n\n<hr>\n\n<p>I think you're forgetting to select the <code>Expression&lt;E&gt;</code> </p>\n\n<p>Try <code>cq.select(cb.substring(c.&lt;String&gt;get(\"projDesc\"), 1, 10))</code>\nIt will return <code>List&lt;String&gt;</code> if you need to Return the <code>Emp</code> you can use the </p>\n\n<p><code>cb.construct(Emp.class, e.get(\"prop1\"), e.get(\"prop2\"), cb.substring(c.&lt;String&gt;get(\"projDesc\"), 1, 10)));</code></p>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554788696,"creation_date":1554788696,"answer_id":55585845,"question_id":27620400,"body_markdown":"I faced the problem because my requirement was to use a number into substr. Following is the sample code. \r\n\r\n     @Override\r\n        public List&lt;SampleProfile&gt; findNonSampleProfileBySequence(Long SampleNo) {\r\n            List&lt;SampleProfile&gt; profiles = new ArrayList&lt;&gt;();\r\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;SampleProfile&gt; criteriaQuery = criteriaBuilder.createQuery(SampleProfile.class);\r\n            Root&lt;SampleProfile&gt; SampleProfileRoot = criteriaQuery.from(SampleProfile.class);\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n            if (SampleUtil.isValidLong(SampleNo)) {\r\n                String SampleStr = Long.toString(SampleNo);\r\n                if (StringUtils.isNotBlank(SampleStr) &amp;&amp; SampleStr.length() &gt; 5) {\r\n                    String SampleSequence = SampleStr.substring(5);\r\n                    predicates.add(criteriaBuilder.equal(criteriaBuilder.substring(SampleProfileRoot.get(SampleProfile_.id).as(String.class), 6), SampleSequence));\r\n                    predicates.add(criteriaBuilder.equal(SampleProfileRoot.get(SampleProfile_.address).get(Address_.department), SampleStr.substring(0,3)));\r\n                }\r\n            }\r\n            if (!CollectionUtils.isEmpty(predicates)) {\r\n                criteriaQuery.where(criteriaBuilder.and(Iterables.toArray(predicates, Predicate.class)));\r\n                profiles = entityManager.createQuery(criteriaQuery).setMaxResults(AbstractJpaDAO.MAX_ROW_LIMIT).getResultList();\r\n            }\r\n            return profiles;\r\n        }\r\n\r\nAlso note that for performance benefits you have to create an index on the same. \r\nThe Cast Keyword is important as Hibernate Dialect will create query like this, thus, it has to match with your index. \r\n\r\n    CREATE INDEX MY_SCHEMA_OWNER.IDX_SUBSTR_SMP_CODE ON MY_SCHEMA_OWNER.SMP_PROFILE (SUBSTR(**CAST**(SMP_CODE AS VARCHAR2(255 CHAR)),6));","title":"JPA CriteriaBuilder and Substring","body":"<p>I faced the problem because my requirement was to use a number into substr. Following is the sample code. </p>\n\n<pre><code> @Override\n    public List&lt;SampleProfile&gt; findNonSampleProfileBySequence(Long SampleNo) {\n        List&lt;SampleProfile&gt; profiles = new ArrayList&lt;&gt;();\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;SampleProfile&gt; criteriaQuery = criteriaBuilder.createQuery(SampleProfile.class);\n        Root&lt;SampleProfile&gt; SampleProfileRoot = criteriaQuery.from(SampleProfile.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n        if (SampleUtil.isValidLong(SampleNo)) {\n            String SampleStr = Long.toString(SampleNo);\n            if (StringUtils.isNotBlank(SampleStr) &amp;&amp; SampleStr.length() &gt; 5) {\n                String SampleSequence = SampleStr.substring(5);\n                predicates.add(criteriaBuilder.equal(criteriaBuilder.substring(SampleProfileRoot.get(SampleProfile_.id).as(String.class), 6), SampleSequence));\n                predicates.add(criteriaBuilder.equal(SampleProfileRoot.get(SampleProfile_.address).get(Address_.department), SampleStr.substring(0,3)));\n            }\n        }\n        if (!CollectionUtils.isEmpty(predicates)) {\n            criteriaQuery.where(criteriaBuilder.and(Iterables.toArray(predicates, Predicate.class)));\n            profiles = entityManager.createQuery(criteriaQuery).setMaxResults(AbstractJpaDAO.MAX_ROW_LIMIT).getResultList();\n        }\n        return profiles;\n    }\n</code></pre>\n\n<p>Also note that for performance benefits you have to create an index on the same. \nThe Cast Keyword is important as Hibernate Dialect will create query like this, thus, it has to match with your index. </p>\n\n<pre><code>CREATE INDEX MY_SCHEMA_OWNER.IDX_SUBSTR_SMP_CODE ON MY_SCHEMA_OWNER.SMP_PROFILE (SUBSTR(**CAST**(SMP_CODE AS VARCHAR2(255 CHAR)),6));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406436,"reputation":2189,"user_id":9895452,"display_name":"Sandeep Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641892849,"creation_date":1641892849,"answer_id":70664292,"question_id":27620400,"body_markdown":"I also, faced same problem in which I have to substring first three char and fetch all accounts starting from 107 which is number. for that I have used **CriteriaBuilder** and **substring** method like below.\r\n\r\n    Predicate accountNumber = criteriaBuilder.equal(criteriaBuilder.substring(from.get(&quot;accountNumber&quot;).as(String.class), 0, 3), cwipAcc);\r\n\r\nbut unfortunately it is not working for **CriteriaBuilder** and **substring**. so I have used **like query** to resolve this issue by given code below.\r\n\r\n    Predicate accountNumber = criteriaBuilder.like(from.get(&quot;accountNumber&quot;).as(String.class), String.valueOf(cwipAcc) + &quot;%&quot;);\r\n\r\nhere, I have just fetched all the records which is starting from 107 and so on.\r\n\r\nExample: \r\n\r\n    public List&lt;GLCharts&gt; findAccountForCWIP(Long cwipAcc, Long glInfo) {\r\n            Map&lt;String, Object&gt; data = new HashMap();\r\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;GLCharts&gt; criteriaQuery = criteriaBuilder.createQuery(GLCharts.class);\r\n            Root&lt;GLCharts&gt; from = criteriaQuery.from(GLCharts.class);\r\n    \r\n            Predicate accountNumber = criteriaBuilder.like(from.get(&quot;accountNumber&quot;).as(String.class), String.valueOf(cwipAcc) + &quot;%&quot;);\r\n            Predicate glCompanyInfo = criteriaBuilder.equal(from.join(&quot;gLCompanyInfo&quot;).get(&quot;id&quot;), glInfo);\r\n    \r\n            Predicate finalPredicate = criteriaBuilder.and(accountNumber, glCompanyInfo);\r\n    \r\n            criteriaQuery.select(from).where(finalPredicate).orderBy(Stream.of(criteriaBuilder.asc(from.get(&quot;accountNumber&quot;))).collect(Collectors.toList()));\r\n            List&lt;GLCharts&gt; glChartsList = entityManager.createQuery(criteriaQuery).getResultList();\r\n    \r\n            return glChartsList;\r\n        }\r\n\r\n\r\n\r\n","title":"JPA CriteriaBuilder and Substring","body":"<p>I also, faced same problem in which I have to substring first three char and fetch all accounts starting from 107 which is number. for that I have used <strong>CriteriaBuilder</strong> and <strong>substring</strong> method like below.</p>\n<pre><code>Predicate accountNumber = criteriaBuilder.equal(criteriaBuilder.substring(from.get(&quot;accountNumber&quot;).as(String.class), 0, 3), cwipAcc);\n</code></pre>\n<p>but unfortunately it is not working for <strong>CriteriaBuilder</strong> and <strong>substring</strong>. so I have used <strong>like query</strong> to resolve this issue by given code below.</p>\n<pre><code>Predicate accountNumber = criteriaBuilder.like(from.get(&quot;accountNumber&quot;).as(String.class), String.valueOf(cwipAcc) + &quot;%&quot;);\n</code></pre>\n<p>here, I have just fetched all the records which is starting from 107 and so on.</p>\n<p>Example:</p>\n<pre><code>public List&lt;GLCharts&gt; findAccountForCWIP(Long cwipAcc, Long glInfo) {\n        Map&lt;String, Object&gt; data = new HashMap();\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;GLCharts&gt; criteriaQuery = criteriaBuilder.createQuery(GLCharts.class);\n        Root&lt;GLCharts&gt; from = criteriaQuery.from(GLCharts.class);\n\n        Predicate accountNumber = criteriaBuilder.like(from.get(&quot;accountNumber&quot;).as(String.class), String.valueOf(cwipAcc) + &quot;%&quot;);\n        Predicate glCompanyInfo = criteriaBuilder.equal(from.join(&quot;gLCompanyInfo&quot;).get(&quot;id&quot;), glInfo);\n\n        Predicate finalPredicate = criteriaBuilder.and(accountNumber, glCompanyInfo);\n\n        criteriaQuery.select(from).where(finalPredicate).orderBy(Stream.of(criteriaBuilder.asc(from.get(&quot;accountNumber&quot;))).collect(Collectors.toList()));\n        List&lt;GLCharts&gt; glChartsList = entityManager.createQuery(criteriaQuery).getResultList();\n\n        return glChartsList;\n    }\n</code></pre>\n"}],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27620661,"answer_count":3,"score":2,"last_activity_date":1641892849,"creation_date":1419337759,"question_id":27620400,"body_markdown":"I have a CriteriaBuilder where I am trying to get characters starting from 0 to 10. However I am not able to get the desired output. \r\n\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Emp&gt; cq = cb.createQuery(Emp.class);\r\n        Root&lt;Emp&gt; c = cq.from(Emp.class);\r\n        cb.substring(c.&lt;String&gt;get(&quot;projDesc&quot;), 0, 10);\r\n        cq.orderBy(cb.desc(c.get(&quot;salary&quot;)));\r\n        Query query = em.createQuery(cq);\r\n        .....\r\n\r\nWhat could be the reason for this?\r\n","title":"JPA CriteriaBuilder and Substring","body":"<p>I have a CriteriaBuilder where I am trying to get characters starting from 0 to 10. However I am not able to get the desired output. </p>\n\n<pre><code>    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Emp&gt; cq = cb.createQuery(Emp.class);\n    Root&lt;Emp&gt; c = cq.from(Emp.class);\n    cb.substring(c.&lt;String&gt;get(\"projDesc\"), 0, 10);\n    cq.orderBy(cb.desc(c.get(\"salary\")));\n    Query query = em.createQuery(cq);\n    .....\n</code></pre>\n\n<p>What could be the reason for this?</p>\n"},{"tags":["java","linux","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10163824,"reputation":547,"user_id":7506425,"display_name":"Duong Anh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529231382,"creation_date":1529231382,"answer_id":50895787,"question_id":50894803,"body_markdown":"I think because Chrome version in your Linux machine is not supported.","title":"Selenium chromedriver opens a blank page instead of url on linux","body":"<p>I think because Chrome version in your Linux machine is not supported.</p>\n"},{"tags":[],"owner":{"account_id":11360851,"reputation":435,"user_id":8329042,"display_name":"Abhilash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529254679,"creation_date":1529254679,"answer_id":50898706,"question_id":50894803,"body_markdown":"After researching about certificate errors, I have added additional capabilities to chrome driver to ignore certificate related errors. Below is my solution.\r\n\r\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    \t\t\r\n            capabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n    \t\tcapabilities.setJavascriptEnabled(true);\r\n    \t\tcapabilities.setCapability(CapabilityType.PROXY, proxy);\r\n    \t\tcapabilities.setCapability(&quot;acceptSslCerts&quot;, true); // Added this additionally\r\n    \t\tcapabilities.setCapability(&quot;acceptInsecureCerts&quot;, true); // Added this additionally\r\n    \t\tcapabilities.setCapability(&quot;ignore-certificate-errors&quot;, true); // Added this additionally","title":"Selenium chromedriver opens a blank page instead of url on linux","body":"<p>After researching about certificate errors, I have added additional capabilities to chrome driver to ignore certificate related errors. Below is my solution.</p>\n\n<pre><code>        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n\n        capabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\n        capabilities.setJavascriptEnabled(true);\n        capabilities.setCapability(CapabilityType.PROXY, proxy);\n        capabilities.setCapability(\"acceptSslCerts\", true); // Added this additionally\n        capabilities.setCapability(\"acceptInsecureCerts\", true); // Added this additionally\n        capabilities.setCapability(\"ignore-certificate-errors\", true); // Added this additionally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591189912,"creation_date":1591189912,"answer_id":62173694,"question_id":50894803,"body_markdown":"For people using newer versions of Selenium who are dealing with this issue, I was able to do the following (similar to Abhilash&#39;s answer which is using an older version of Selenium) to resolve the blank-page issue for uncertified domains with Chrome:\r\n\r\n    ChromeOptions options = new ChromeOptions();    \r\n    ...\r\n    options.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n\toptions.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\n    ...\r\n    driver = new ChromeDriver(options);\r\n\r\n(In my case, webdriver worked fine on my local machine but not on the Linux box hosting CI tools)","title":"Selenium chromedriver opens a blank page instead of url on linux","body":"<p>For people using newer versions of Selenium who are dealing with this issue, I was able to do the following (similar to Abhilash's answer which is using an older version of Selenium) to resolve the blank-page issue for uncertified domains with Chrome:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();    \n...\noptions.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\noptions.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\n...\ndriver = new ChromeDriver(options);\n</code></pre>\n\n<p>(In my case, webdriver worked fine on my local machine but not on the Linux box hosting CI tools)</p>\n"}],"owner":{"account_id":11360851,"reputation":435,"user_id":8329042,"display_name":"Abhilash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7679,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1641892747,"creation_date":1529222811,"question_id":50894803,"body_markdown":"I am trying to open a url in chromedriver(using RemoteWebDriver) on linux. \r\n\r\nI took a screenshot after driver.get(url) is called. It displays a blank page. \r\n\r\n[east-northamptonshire_screenshot.jpg][1]\r\n\r\nI tried this(open a url using ChromeDriver) on my local machine(Windows). It is working fine.\r\n\r\nThis is the url I am trying to open. &quot;https://publicaccess.east-northamptonshire.gov.uk/online-applications/search.do?action=weeklyList&quot;\r\n\r\nMain method:\r\n\r\n     public static void main(String[] args) throws Exception {\r\n\r\n\t\tString OS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\r\n\t\tWebDriver driver = null;\r\n\t\tChromeDriverService service = null;\r\n\r\n\t\tboolean isWindows = OS.indexOf(&quot;win&quot;) &gt;= 0;\r\n\t\tlogger.info(&quot;operating System : &quot; + OS);\r\n\t\tif (!isWindows) {\r\n\t\t\tservice = new ServerChromeDriver().loadService();\r\n\t\t}\r\n\t\tdriver = new ServerChromeDriver().getPIDriver(service, isWindows);\r\n\r\n\t\tString url = &quot;https://publicaccess.east-northamptonshire.gov.uk/online-applications/search.do?action=weeklyList&quot;;\r\n\t\tdriver.get(url);\r\n\t\t\r\n\t\tThread.sleep(3000);\r\n\t\tScreenShot.takeScreenShot(driver);\r\n\t\t\r\n\t\tdriver.close();\r\n\t\tdriver.quit();\r\n\t\tservice.stop();\r\n\t}\r\n\r\nServerChromeDriver Class:\r\n\r\n      public ChromeDriverService loadService() throws Exception {\r\n\r\n\t\tConfiguration configuration = new Configuration();\r\n\t\tconfiguration.loadProperties();\r\n\r\n\t\tProperties props = new Properties();\r\n\t\ttry {\r\n\t\t\tprops.load(new FileInputStream(&quot;config//log4j.properties&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(e);\r\n\t\t}\r\n\t\tPropertyConfigurator.configure(props);\r\n\r\n\t\tservice = new ChromeDriverService.Builder().usingDriverExecutable(new File(configuration.getChromeDriverPath()))\r\n\t\t\t\t.usingAnyFreePort().withEnvironment(ImmutableMap.of(&quot;DISPLAY&quot;, configuration.getDisplay())).build();\r\n\t\tservice.start();\r\n\r\n\t\treturn service;\r\n\t}\r\n\r\n      public WebDriver getPIDriver(ChromeDriverService service, boolean isWindows) {\r\n\r\n\t\tWebDriver driver;\r\n\r\n\t\tif (isWindows) {\r\n\t\t\tdriver = new LocalChromeDriver().getDriver();\r\n\t\t} else {\r\n\t\t\tdriver = new ServerChromeDriver().getDriver(service.getUrl());\r\n\t\t}\r\n\r\n\t\tString hostName = new ServerChromeDriver().getHostName(driver);\r\n\t\tlogger.info(&quot;Running the application on host: &quot; + hostName);\r\n\r\n\t\treturn driver;\r\n\t}\r\n     \r\n    public WebDriver getDriver(URL serviceUrl) {\r\n\r\n\t\tConfiguration configuration = new Configuration();\r\n\t\tconfiguration.loadProperties();\r\n\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\tchromeOptions.addArguments(&quot;--headless&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n\t\t// chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--window-size=1800,1800&quot;);\r\n\t\t// chromeOptions.addExtensions(new File(configuration.getAdBlockPath()));\r\n\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, configuration.getChromeDriverPath());\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.logfile&quot;, configuration.getChromeDriverLogFilePath());\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, configuration.getChromeVerboseLogging());\r\n\r\n\t\tDesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n\t\tcapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n\t\tcapabilities.setJavascriptEnabled(true);\r\n\r\n\t\ttry {\r\n\t\t\tdriver = new RemoteWebDriver(serviceUrl, capabilities);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Error creating a new chrome instance&quot;);\r\n\t\t\tthrow new RuntimeException(e.getMessage());\r\n\t\t}\r\n\t\tdriver.manage().timeouts().implicitlyWait(180, TimeUnit.SECONDS);\r\n\r\n\t\treturn driver;\r\n\t}\r\n\r\n\r\nApplication is working fone for this url: https://eplanning.birmingham.gov.uk/Northgate/PlanningExplorer/GeneralSearch.aspx\r\n\r\n[birmingham_screenshot.jpg][2]\r\n\r\nI am using\r\n\r\n    Headless Chrome : 67.0.3396.62\r\n    chromedriver    : 2.40.565383 \r\n\r\nThis is what I found from the chromedriver.log file\r\n\r\n    [0617/144457.403693:ERROR:nss_ocsp.cc(601)] No URLRequestContext for NSS HTTP handler. host: crt.comodoca.com\r\n    [0617/144457.403801:ERROR:cert_verify_proc_nss.cc(980)] CERT_PKIXVerifyCert for publicaccess.east-northamptonshire.gov.uk failed err=-8179\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3hnC.png\r\n  [2]: https://i.stack.imgur.com/LIhVq.png","title":"Selenium chromedriver opens a blank page instead of url on linux","body":"<p>I am trying to open a url in chromedriver(using RemoteWebDriver) on linux. </p>\n\n<p>I took a screenshot after driver.get(url) is called. It displays a blank page. </p>\n\n<p><a href=\"https://i.stack.imgur.com/s3hnC.png\" rel=\"nofollow noreferrer\">east-northamptonshire_screenshot.jpg</a></p>\n\n<p>I tried this(open a url using ChromeDriver) on my local machine(Windows). It is working fine.</p>\n\n<p>This is the url I am trying to open. \"<a href=\"https://publicaccess.east-northamptonshire.gov.uk/online-applications/search.do?action=weeklyList\" rel=\"nofollow noreferrer\">https://publicaccess.east-northamptonshire.gov.uk/online-applications/search.do?action=weeklyList</a>\"</p>\n\n<p>Main method:</p>\n\n<pre><code> public static void main(String[] args) throws Exception {\n\n    String OS = System.getProperty(\"os.name\").toLowerCase();\n\n    WebDriver driver = null;\n    ChromeDriverService service = null;\n\n    boolean isWindows = OS.indexOf(\"win\") &gt;= 0;\n    logger.info(\"operating System : \" + OS);\n    if (!isWindows) {\n        service = new ServerChromeDriver().loadService();\n    }\n    driver = new ServerChromeDriver().getPIDriver(service, isWindows);\n\n    String url = \"https://publicaccess.east-northamptonshire.gov.uk/online-applications/search.do?action=weeklyList\";\n    driver.get(url);\n\n    Thread.sleep(3000);\n    ScreenShot.takeScreenShot(driver);\n\n    driver.close();\n    driver.quit();\n    service.stop();\n}\n</code></pre>\n\n<p>ServerChromeDriver Class:</p>\n\n<pre><code>  public ChromeDriverService loadService() throws Exception {\n\n    Configuration configuration = new Configuration();\n    configuration.loadProperties();\n\n    Properties props = new Properties();\n    try {\n        props.load(new FileInputStream(\"config//log4j.properties\"));\n    } catch (IOException e) {\n        logger.error(e);\n    }\n    PropertyConfigurator.configure(props);\n\n    service = new ChromeDriverService.Builder().usingDriverExecutable(new File(configuration.getChromeDriverPath()))\n            .usingAnyFreePort().withEnvironment(ImmutableMap.of(\"DISPLAY\", configuration.getDisplay())).build();\n    service.start();\n\n    return service;\n}\n\n  public WebDriver getPIDriver(ChromeDriverService service, boolean isWindows) {\n\n    WebDriver driver;\n\n    if (isWindows) {\n        driver = new LocalChromeDriver().getDriver();\n    } else {\n        driver = new ServerChromeDriver().getDriver(service.getUrl());\n    }\n\n    String hostName = new ServerChromeDriver().getHostName(driver);\n    logger.info(\"Running the application on host: \" + hostName);\n\n    return driver;\n}\n\npublic WebDriver getDriver(URL serviceUrl) {\n\n    Configuration configuration = new Configuration();\n    configuration.loadProperties();\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(\"--headless\");\n    chromeOptions.addArguments(\"--disable-gpu\");\n    // chromeOptions.addArguments(\"--start-maximized\");\n    chromeOptions.addArguments(\"--window-size=1800,1800\");\n    // chromeOptions.addExtensions(new File(configuration.getAdBlockPath()));\n\n\n    System.setProperty(\"webdriver.chrome.driver\", configuration.getChromeDriverPath());\n    System.setProperty(\"webdriver.chrome.logfile\", configuration.getChromeDriverLogFilePath());\n    System.setProperty(\"webdriver.chrome.verboseLogging\", configuration.getChromeVerboseLogging());\n\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n    capabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\n    capabilities.setJavascriptEnabled(true);\n\n    try {\n        driver = new RemoteWebDriver(serviceUrl, capabilities);\n    } catch (Exception e) {\n        logger.error(\"Error creating a new chrome instance\");\n        throw new RuntimeException(e.getMessage());\n    }\n    driver.manage().timeouts().implicitlyWait(180, TimeUnit.SECONDS);\n\n    return driver;\n}\n</code></pre>\n\n<p>Application is working fone for this url: <a href=\"https://eplanning.birmingham.gov.uk/Northgate/PlanningExplorer/GeneralSearch.aspx\" rel=\"nofollow noreferrer\">https://eplanning.birmingham.gov.uk/Northgate/PlanningExplorer/GeneralSearch.aspx</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LIhVq.png\" rel=\"nofollow noreferrer\">birmingham_screenshot.jpg</a></p>\n\n<p>I am using</p>\n\n<pre><code>Headless Chrome : 67.0.3396.62\nchromedriver    : 2.40.565383 \n</code></pre>\n\n<p>This is what I found from the chromedriver.log file</p>\n\n<pre><code>[0617/144457.403693:ERROR:nss_ocsp.cc(601)] No URLRequestContext for NSS HTTP handler. host: crt.comodoca.com\n[0617/144457.403801:ERROR:cert_verify_proc_nss.cc(980)] CERT_PKIXVerifyCert for publicaccess.east-northamptonshire.gov.uk failed err=-8179\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1641893024,"post_id":70664249,"comment_id":124920039,"body_markdown":"It is just to show that the number is a power of two. It does not affect performance.","body":"It is just to show that the number is a power of two. It does not affect performance."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":2,"creation_date":1641893036,"post_id":70664249,"comment_id":124920045,"body_markdown":"There&#39;s no performance benefit to using one compile-time constant expression over another.","body":"There&#39;s no performance benefit to using one compile-time constant expression over another."}],"owner":{"account_id":3151670,"reputation":482,"user_id":2664992,"display_name":"Manish Sakariya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641893077,"answer_count":0,"score":0,"last_activity_date":1641892647,"creation_date":1641892647,"question_id":70664249,"body_markdown":"in HashMap.Java file variable is declared like this\r\n\r\n    static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;\r\n\r\nwhy not \r\n\r\n    static final int DEFAULT_INITIAL_CAPACITY = 16\r\n\r\nis it due to performance or just to show that we are using this as the power of 2?\r\n","title":"why java HashMap class has &lt;&lt; Left Shift operator for variable declaration","body":"<p>in HashMap.Java file variable is declared like this</p>\n<pre><code>static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;\n</code></pre>\n<p>why not</p>\n<pre><code>static final int DEFAULT_INITIAL_CAPACITY = 16\n</code></pre>\n<p>is it due to performance or just to show that we are using this as the power of 2?</p>\n"},{"tags":["java","request","postman","okhttp"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1583743875,"post_id":60597131,"comment_id":107205821,"body_markdown":"Can you please add the stack trace when you try to request the remote API or is there any error in the logs?","body":"Can you please add the stack trace when you try to request the remote API or is there any error in the logs?"},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583744082,"post_id":60597131,"comment_id":107205912,"body_markdown":"@rieckpil I added the stack trace. Do you have an idea what Im doing wrong?","body":"@rieckpil I added the stack trace. Do you have an idea what Im doing wrong?"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1583744086,"post_id":60597131,"comment_id":107205914,"body_markdown":"the stack trace you posted is for using the `RestTemplate`, do you also have it for the `OkHttpClient`?","body":"the stack trace you posted is for using the <code>RestTemplate</code>, do you also have it for the <code>OkHttpClient</code>?"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1583744234,"post_id":60597131,"comment_id":107205975,"body_markdown":"How to you launch your application? Is it maybe inside a Docker container and therefore not able to reach the IP?","body":"How to you launch your application? Is it maybe inside a Docker container and therefore not able to reach the IP?"},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583744295,"post_id":60597131,"comment_id":107205999,"body_markdown":"It doesnt give me a stack trace.","body":"It doesnt give me a stack trace."},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583744340,"post_id":60597131,"comment_id":107206015,"body_markdown":"I have multiple rest assured test cases and this is in one test case. The IP is reachable since I have to do other requests before and they work perfectly","body":"I have multiple rest assured test cases and this is in one test case. The IP is reachable since I have to do other requests before and they work perfectly"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1583744387,"post_id":60597131,"comment_id":107206031,"body_markdown":"Can you then please add how you create your `RestTemplate`","body":"Can you then please add how you create your <code>RestTemplate</code>"},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583744617,"post_id":60597131,"comment_id":107206107,"body_markdown":"The body / header values all seem to be correct.","body":"The body / header values all seem to be correct."},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1583745191,"post_id":60597131,"comment_id":107206363,"body_markdown":"Given the stack trace for the `RestTemplate`, the remote service returns 401. That means you are not properly authenticated. Is the authentication done with this certificate in the header?","body":"Given the stack trace for the <code>RestTemplate</code>, the remote service returns 401. That means you are not properly authenticated. Is the authentication done with this certificate in the header?"},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583745414,"post_id":60597131,"comment_id":107206456,"body_markdown":"Yes, the postman also make the same request and there it work. Its the same head/body, there is no difference. The postman does not use authorization.","body":"Yes, the postman also make the same request and there it work. Its the same head/body, there is no difference. The postman does not use authorization."},{"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"score":0,"creation_date":1583745535,"post_id":60597131,"comment_id":107206495,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/209291/discussion-between-tryhard-and-rieckpil).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/209291/discussion-between-tryhard-and-rieckpil\">continue this discussion in chat</a>."}],"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641892465,"creation_date":1583743568,"question_id":60597131,"body_markdown":"I&#39;ve been struggling with this problem for quite some time, but I can&#39;t figure out what I&#39;m doing wrong. I have a postman put request that works perfectly. I want to do the same request with Spring RestTemplate. Since this did not work, I tried using the postman code generator to get an OKHttp put request. Unfortunately this does not work either.\r\n\r\nThis is the Postman Request with Header: https://i.stack.imgur.com/56FPh.jpg (It doesnt have any authentication its just the headers and the body)\r\n\r\nThis is the Postman Request with Body: https://i.stack.imgur.com/4tP2Z.jpg\r\n\r\nAnd this is my code: \r\n\r\n    OkHttpClient client = new OkHttpClient().newBuilder().followRedirects(false)\r\n                .build();\r\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n \r\n        //body json\r\n        JsonObject innerObject = new JsonObject();\r\n        innerObject.addProperty(&quot;password&quot;, &quot;12345678&quot;);\r\n        JsonObject jsonObject = new JsonObject();\r\n        jsonObject.add(&quot;psuData&quot;, innerObject);\r\n \r\n        RequestBody body = RequestBody.create(jsonObject.toString(), mediaType);\r\n        Request request = new Request.Builder()\r\n                .url(&quot;http://192.168.56.103:8089/v1/consents/&quot; + consentId + &quot;/authorisations/&quot; + authorisationId)\r\n                .put(body)\r\n                .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .addHeader(&quot;X-Request-ID&quot;, &quot;2f77a125-aa7a-45c0-b414-c3a25a116135&quot;)\r\n                .addHeader(&quot;PSU-ID&quot;, &quot;test&quot;)\r\n                .addHeader(&quot;tpp-qwac-certificate&quot;, &quot;-----BEGIN CERTIFICATE-----MIIFNjCCAx6gAwIBAgIEcQJvYzANBgkqhkiG9w0BAQsFADB4MQswCQYDVQQGEwJERTEQMA4GA1UECAwHQkFWQVJJQTESMBAGA1UEBwwJTnVyZW1iZXJnMSIwIAYDVQQKDBlUcnVzdCBTZXJ2aWNlIFByb3ZpZGVyIEFHMR8wHQYDVQQLDBZJbmZvcm1hdGlvbiBUZWNobm9sb2d5MB4XDTIwMDMwNDA5MTYxM1oXDTIxMDMwNDAwMDAwMFowgcExITAfBgNVBAoMGEZpY3Rpb25hbCBDb3Jwb3JhdGlvbiBBRzElMCMGCgmSJomT8ixkARkWFXB1YmxpYy5jb3Jwb3JhdGlvbi5kZTEfMB0GA1UECwwWSW5mb3JtYXRpb24gVGVjaG5vbG9neTEQMA4GA1UEBhMHR2VybWFueTEPMA0GA1UECAwGQmF5ZXJuMRIwEAYDVQQHDAlOdXJlbWJlcmcxHTAbBgNVBGEMFFBTRERFLUZBS0VOQ0EtODdCMkFDMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApLM+4noVMsJVHmdYpeLfAoT6ASyVedSTnhDc+uO9ZHBCW9CX2WdkL1M2ObG/qLJcI0kCiHE4wMmllgT+6Vec3Uce398406yGNLh95N9bEKjx+lIs7iM1KEmsrX2RjciStigMPu8nrTyZi8w8rlC7lCT0wQ63+u7W/Sr9guBUZCBmxWiWDOf4fQOsKhK0RvrP7Q4FeTsQEGdmwkQzQIzk0sNyDrVUqqs5qLqQJESTjQ1u9b2zQe0f14PPiNVFUIy0m/vxXl1O5pPiUlT8N+IAi9cHqUQxBdBtkvaAT6uFRJAPevGGtmQ66iEhl1pCfK5RpxnsS5GwS7vz81PYApPFIQIDAQABo34wfDB6BggrBgEFBQcBAwRuMGwGBgQAgZgnAjBiMDkwEQYHBACBmCcBAwwGUFNQX0FJMBEGBwQAgZgnAQIMBlBTUF9QSTARBgcEAIGYJwEEDAZQU1BfSUMMGVRydXN0IFNlcnZpY2UgUHJvdmlkZXIgQUcMCkRFLUZBS0VOQ0EwDQYJKoZIhvcNAQELBQADggIBABnAZg21fFw7qZ4ksOqj6l/Su61WmHSIxiDyoVQx3I1uaf4CM7vPn7anCduxCLmbyrqDgzV6gF00QkTZLhPeHbRf9g39wlxoOoOkuuIeo+Tq+xoIqJ7Nh+dDX4NJgbmNRlLFfpzftAQks+Xu9He+uze6twXMYYVLmPSJsfa1+aYYh1LroiXc/wcGVQeQ9mNmWR93ok4xryjKK0G1RfDM2gyRl36wBMDAf8SVCfEXlvwsMMC4Iue+CIlGXxgU7hKslRR3CPOpdi/nmXvuI+O8NXnOS4A3x8iM9erwOQgJ7g75p+kP/tMmWxU0LVKWqsQY+xBtp/UJ6LKXSS0ipK+Wc3OtIm+NSsFAo9oWwMI9wYRoyWzkfiklNLadBBJLN0RHuira87B0nNwWo7H3QomVuDkpwO2rfOgKlI+HltMYNSIUhMBxyGg18GoXZC3si0bNZx/NQFNM6oQjRVVgmnE81inc6g3KY7K/QQqYQW0d4vtR2LYEYqDYh0yiLhEDY+ztuEMa4OqgXpnmWx4Z8SE8WSRZwnBzBs6klJVDhg3SzfdX4wDh1SA3AqBx8Rl/FKkAdB/2gpMRHuTHHYJTPnJGwQOTWFO2I6raCY+yojcLpex2eIFJGJfP9IP9TulXYKzjCMBXLbUCRx+drTxd+1YAwv2rWrEyki2C5AqZQNKyXdMo-----END CERTIFICATE-----&quot;)\r\n                .build();\r\n        Response response1 = client.newCall(request).execute();\r\n\r\nDoes anyone have any idea what I&#39;m doing wrong? I get the other information for the request from the post requests, and they work fine. Can this be a problem because of a cross origin?\r\n\r\nPut Request:\r\n\r\n    HttpHeaders headers = buildHeader(objectNodeTestCase.get(strHeader));\r\n        HttpEntity&lt;Object&gt; request = new HttpEntity&lt;Object&gt;(requestBody, headers);\r\n\r\n        Map&lt;String, String&gt; pathVars = new HashMap&lt;&gt;(2);\r\n        pathVars.put(&quot;consent-id&quot;, consentId);\r\n        pathVars.put(&quot;authorisation-id&quot;, authorisationId);\r\n\r\n        UriComponents uri = UriComponentsBuilder.fromUri(mainLink.toUri())\r\n                .path(&quot;/consents/{consent-id}/authorisations/{authorisation-id}&quot;)\r\n                .buildAndExpand(pathVars);\r\n\r\n        ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(uri.toString(), HttpMethod.PUT, request, Object.class);\r\n\r\n\r\nStack trace:\r\n\r\n    org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : [no body]\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:785) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:743) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:677) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:586) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat com.kamysek.berlingroup.controller.BerlinGroupLogicController.updateConsentsPsuData_PWD(BerlinGroupLogicController.java:262) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:663) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n","title":"OkHttp PUT request fails, but same request works in Postman","body":"<p>I've been struggling with this problem for quite some time, but I can't figure out what I'm doing wrong. I have a postman put request that works perfectly. I want to do the same request with Spring RestTemplate. Since this did not work, I tried using the postman code generator to get an OKHttp put request. Unfortunately this does not work either.</p>\n\n<p>This is the Postman Request with Header: <a href=\"https://i.stack.imgur.com/56FPh.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/56FPh.jpg</a> (It doesnt have any authentication its just the headers and the body)</p>\n\n<p>This is the Postman Request with Body: <a href=\"https://i.stack.imgur.com/4tP2Z.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4tP2Z.jpg</a></p>\n\n<p>And this is my code: </p>\n\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder().followRedirects(false)\n            .build();\n    MediaType mediaType = MediaType.parse(\"application/json\");\n\n    //body json\n    JsonObject innerObject = new JsonObject();\n    innerObject.addProperty(\"password\", \"12345678\");\n    JsonObject jsonObject = new JsonObject();\n    jsonObject.add(\"psuData\", innerObject);\n\n    RequestBody body = RequestBody.create(jsonObject.toString(), mediaType);\n    Request request = new Request.Builder()\n            .url(\"http://192.168.56.103:8089/v1/consents/\" + consentId + \"/authorisations/\" + authorisationId)\n            .put(body)\n            .addHeader(\"Accept\", \"application/json\")\n            .addHeader(\"Content-Type\", \"application/json\")\n            .addHeader(\"X-Request-ID\", \"2f77a125-aa7a-45c0-b414-c3a25a116135\")\n            .addHeader(\"PSU-ID\", \"test\")\n            .addHeader(\"tpp-qwac-certificate\", \"-----BEGIN CERTIFICATE-----MIIFNjCCAx6gAwIBAgIEcQJvYzANBgkqhkiG9w0BAQsFADB4MQswCQYDVQQGEwJERTEQMA4GA1UECAwHQkFWQVJJQTESMBAGA1UEBwwJTnVyZW1iZXJnMSIwIAYDVQQKDBlUcnVzdCBTZXJ2aWNlIFByb3ZpZGVyIEFHMR8wHQYDVQQLDBZJbmZvcm1hdGlvbiBUZWNobm9sb2d5MB4XDTIwMDMwNDA5MTYxM1oXDTIxMDMwNDAwMDAwMFowgcExITAfBgNVBAoMGEZpY3Rpb25hbCBDb3Jwb3JhdGlvbiBBRzElMCMGCgmSJomT8ixkARkWFXB1YmxpYy5jb3Jwb3JhdGlvbi5kZTEfMB0GA1UECwwWSW5mb3JtYXRpb24gVGVjaG5vbG9neTEQMA4GA1UEBhMHR2VybWFueTEPMA0GA1UECAwGQmF5ZXJuMRIwEAYDVQQHDAlOdXJlbWJlcmcxHTAbBgNVBGEMFFBTRERFLUZBS0VOQ0EtODdCMkFDMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApLM+4noVMsJVHmdYpeLfAoT6ASyVedSTnhDc+uO9ZHBCW9CX2WdkL1M2ObG/qLJcI0kCiHE4wMmllgT+6Vec3Uce398406yGNLh95N9bEKjx+lIs7iM1KEmsrX2RjciStigMPu8nrTyZi8w8rlC7lCT0wQ63+u7W/Sr9guBUZCBmxWiWDOf4fQOsKhK0RvrP7Q4FeTsQEGdmwkQzQIzk0sNyDrVUqqs5qLqQJESTjQ1u9b2zQe0f14PPiNVFUIy0m/vxXl1O5pPiUlT8N+IAi9cHqUQxBdBtkvaAT6uFRJAPevGGtmQ66iEhl1pCfK5RpxnsS5GwS7vz81PYApPFIQIDAQABo34wfDB6BggrBgEFBQcBAwRuMGwGBgQAgZgnAjBiMDkwEQYHBACBmCcBAwwGUFNQX0FJMBEGBwQAgZgnAQIMBlBTUF9QSTARBgcEAIGYJwEEDAZQU1BfSUMMGVRydXN0IFNlcnZpY2UgUHJvdmlkZXIgQUcMCkRFLUZBS0VOQ0EwDQYJKoZIhvcNAQELBQADggIBABnAZg21fFw7qZ4ksOqj6l/Su61WmHSIxiDyoVQx3I1uaf4CM7vPn7anCduxCLmbyrqDgzV6gF00QkTZLhPeHbRf9g39wlxoOoOkuuIeo+Tq+xoIqJ7Nh+dDX4NJgbmNRlLFfpzftAQks+Xu9He+uze6twXMYYVLmPSJsfa1+aYYh1LroiXc/wcGVQeQ9mNmWR93ok4xryjKK0G1RfDM2gyRl36wBMDAf8SVCfEXlvwsMMC4Iue+CIlGXxgU7hKslRR3CPOpdi/nmXvuI+O8NXnOS4A3x8iM9erwOQgJ7g75p+kP/tMmWxU0LVKWqsQY+xBtp/UJ6LKXSS0ipK+Wc3OtIm+NSsFAo9oWwMI9wYRoyWzkfiklNLadBBJLN0RHuira87B0nNwWo7H3QomVuDkpwO2rfOgKlI+HltMYNSIUhMBxyGg18GoXZC3si0bNZx/NQFNM6oQjRVVgmnE81inc6g3KY7K/QQqYQW0d4vtR2LYEYqDYh0yiLhEDY+ztuEMa4OqgXpnmWx4Z8SE8WSRZwnBzBs6klJVDhg3SzfdX4wDh1SA3AqBx8Rl/FKkAdB/2gpMRHuTHHYJTPnJGwQOTWFO2I6raCY+yojcLpex2eIFJGJfP9IP9TulXYKzjCMBXLbUCRx+drTxd+1YAwv2rWrEyki2C5AqZQNKyXdMo-----END CERTIFICATE-----\")\n            .build();\n    Response response1 = client.newCall(request).execute();\n</code></pre>\n\n<p>Does anyone have any idea what I'm doing wrong? I get the other information for the request from the post requests, and they work fine. Can this be a problem because of a cross origin?</p>\n\n<p>Put Request:</p>\n\n<pre><code>HttpHeaders headers = buildHeader(objectNodeTestCase.get(strHeader));\n    HttpEntity&lt;Object&gt; request = new HttpEntity&lt;Object&gt;(requestBody, headers);\n\n    Map&lt;String, String&gt; pathVars = new HashMap&lt;&gt;(2);\n    pathVars.put(\"consent-id\", consentId);\n    pathVars.put(\"authorisation-id\", authorisationId);\n\n    UriComponents uri = UriComponentsBuilder.fromUri(mainLink.toUri())\n            .path(\"/consents/{consent-id}/authorisations/{authorisation-id}\")\n            .buildAndExpand(pathVars);\n\n    ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(uri.toString(), HttpMethod.PUT, request, Object.class);\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : [no body]\nat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:785) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:743) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:677) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:586) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat com.kamysek.berlingroup.controller.BerlinGroupLogicController.updateConsentsPsuData_PWD(BerlinGroupLogicController.java:262) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:663) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","redirect","cors","saml-2.0","adfs"],"answers":[{"tags":[],"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641892141,"creation_date":1641388144,"answer_id":70593407,"question_id":70591869,"body_markdown":"Im not sure if you are trying to achieve some special case by using javascript like this. But normally when authenticating a using using SAML you issue a HTTP redirect from the backend as a response to the user clicking the login button.\r\n\r\nTo understand it all it is important to first understand the SAML authentication flow as I go through in [this post][1].\r\n\r\n1. The user triggers authentication by navigating to a protected page or in this case clicking a button\r\n2. The application, or Service Provider(SP) in SAML speak, builds a SAML authentication request and sends it to the IdP by adding it as a URL parameter and sending a backend HTTP Redirect to the user. The authentication request can also be sent using HTTP POST [explained here][2] \r\n3. The IdP authenticates the user in the way it sees fit.\r\n4. The IdP send the user back to the SP using HTTP POST together with a SAML Response and SAML Assertion. This contain the result of the authentication as well as any extra information about the user.\r\n5. The SP, you application, interprets the SAML Response and lets the user through to the protected application.\r\nThis redirect contains a encoded SAML authentication request in the URL that is parsed by ADFS to understand where the authentication request is coming from and how authenticates the user.\r\n\r\nThere are several libraries and frameworks for managing SAML trafic including the sending the messages using redirect or other methods. If you are using Java, Spring has SAML management as a [part of their security framework][3]. Another library is the PAC4J which provides a [SAML module][4]\r\n\r\nWhile both of these work well for the most general use case of building a SP to integrate with a existing IdP, if you need to do more custom cases or build a IdP on your own OpenSAML can be an alternative. \r\nOpenSAML is a more low level library for handling SAML. [In this write up on my blog][5] I show how to build and send a SAML authentication request using redirect from OpenSAML.\r\n\r\nBelow is a simplifies example for using OpenSAML. For a full example see the [sample code here][6] and [here][7] \r\n\r\nThe authentication request is build using OpenSAML \r\n\r\n    AuthnRequest authnRequest = OpenSAMLUtils.buildSAMLObject(AuthnRequest.class);\r\n\tauthnRequest.setIssueInstant(Instant.now());\r\n\tauthnRequest.setDestination(IPD_SSO_DESTINATION);\r\n\tauthnRequest.setProtocolBinding(SAMLConstants.SAML2_ARTIFACT_BINDING_URI);\r\n\tauthnRequest.setAssertionConsumerServiceURL(SP_ASSERTION_CONSUMER_SERVICE_URL);\r\n\tauthnRequest.setID(RANDOM_ID);\r\n\tauthnRequest.setIssuer(ISSUER);\r\n\tauthnRequest.setNameIDPolicy(NAME_ID_POLICY);\r\n\r\nAdd the message to a message context and set set destination\r\n\r\n    MessageContext context = new MessageContext();\r\n    context.setMessage(authnRequest);\r\n\r\n    SAMLPeerEntityContext peerEntityContext =     context.getSubcontext(SAMLPeerEntityContext.class, true);\r\n    SAMLEndpointContext endpointContext =     peerEntityContext.getSubcontext(SAMLEndpointContext.class, true);\r\n    endpointContext.setEndpoint(MESSAGE_RECEIVER_ENDPOINT);\r\n\r\nSend the message using HTTP Redirect\r\n\r\n    HTTPRedirectDeflateEncoder encoder = new HTTPRedirectDeflateEncoder();\r\n    encoder.setMessageContext(context);\r\n    encoder.setHttpServletResponse(httpServletResponse);\r\n\r\n    encoder.initialize();\r\n    encoder.encode();\r\n\r\nFor those who want to dig in deeper I have have written a book on working with OpenSAML, *[A Guide to OpenSAML][8]*, as well as book on SAML as a framework, *[SAML 2.0: Designing secure identity federation][9]*.\r\n\r\nI also have a ton resources on [my blog][10] \r\n\r\n\r\n  [1]: https://blog.samlsecurity.com/2012/05/saml-web-profile.html\r\n  [2]: https://blog.samlsecurity.com/post/post-binding-opensaml-4/\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#saml2\r\n  [4]: https://www.pac4j.org/docs/clients/saml.html\r\n  [5]: http://%20blog.samlsecurity.com/2011/01/redirect-with-authnrequest.html\r\n  [6]: https://github.com/rasmusson/OpenSAML-sample-code/tree/main/getting-started-authnrequest\r\n  [7]: https://github.com/rasmusson/OpenSAML-sample-code/tree/main/opensaml-http-redirect\r\n  [8]: https://shop.samlsecurity.com/b/41Tw\r\n  [9]: https://shop.samlsecurity.com/b/fGWSH\r\n  [10]: https://blog.samlsecurity.com/","title":"Redirect way except Ajax/Javascript to send the authentication request to avoid CORS error","body":"<p>Im not sure if you are trying to achieve some special case by using javascript like this. But normally when authenticating a using using SAML you issue a HTTP redirect from the backend as a response to the user clicking the login button.</p>\n<p>To understand it all it is important to first understand the SAML authentication flow as I go through in <a href=\"https://blog.samlsecurity.com/2012/05/saml-web-profile.html\" rel=\"nofollow noreferrer\">this post</a>.</p>\n<ol>\n<li>The user triggers authentication by navigating to a protected page or in this case clicking a button</li>\n<li>The application, or Service Provider(SP) in SAML speak, builds a SAML authentication request and sends it to the IdP by adding it as a URL parameter and sending a backend HTTP Redirect to the user. The authentication request can also be sent using HTTP POST <a href=\"https://blog.samlsecurity.com/post/post-binding-opensaml-4/\" rel=\"nofollow noreferrer\">explained here</a></li>\n<li>The IdP authenticates the user in the way it sees fit.</li>\n<li>The IdP send the user back to the SP using HTTP POST together with a SAML Response and SAML Assertion. This contain the result of the authentication as well as any extra information about the user.</li>\n<li>The SP, you application, interprets the SAML Response and lets the user through to the protected application.\nThis redirect contains a encoded SAML authentication request in the URL that is parsed by ADFS to understand where the authentication request is coming from and how authenticates the user.</li>\n</ol>\n<p>There are several libraries and frameworks for managing SAML trafic including the sending the messages using redirect or other methods. If you are using Java, Spring has SAML management as a <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#saml2\" rel=\"nofollow noreferrer\">part of their security framework</a>. Another library is the PAC4J which provides a <a href=\"https://www.pac4j.org/docs/clients/saml.html\" rel=\"nofollow noreferrer\">SAML module</a></p>\n<p>While both of these work well for the most general use case of building a SP to integrate with a existing IdP, if you need to do more custom cases or build a IdP on your own OpenSAML can be an alternative.\nOpenSAML is a more low level library for handling SAML. <a href=\"http://%20blog.samlsecurity.com/2011/01/redirect-with-authnrequest.html\" rel=\"nofollow noreferrer\">In this write up on my blog</a> I show how to build and send a SAML authentication request using redirect from OpenSAML.</p>\n<p>Below is a simplifies example for using OpenSAML. For a full example see the <a href=\"https://github.com/rasmusson/OpenSAML-sample-code/tree/main/getting-started-authnrequest\" rel=\"nofollow noreferrer\">sample code here</a> and <a href=\"https://github.com/rasmusson/OpenSAML-sample-code/tree/main/opensaml-http-redirect\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The authentication request is build using OpenSAML</p>\n<pre><code>AuthnRequest authnRequest = OpenSAMLUtils.buildSAMLObject(AuthnRequest.class);\nauthnRequest.setIssueInstant(Instant.now());\nauthnRequest.setDestination(IPD_SSO_DESTINATION);\nauthnRequest.setProtocolBinding(SAMLConstants.SAML2_ARTIFACT_BINDING_URI);\nauthnRequest.setAssertionConsumerServiceURL(SP_ASSERTION_CONSUMER_SERVICE_URL);\nauthnRequest.setID(RANDOM_ID);\nauthnRequest.setIssuer(ISSUER);\nauthnRequest.setNameIDPolicy(NAME_ID_POLICY);\n</code></pre>\n<p>Add the message to a message context and set set destination</p>\n<pre><code>MessageContext context = new MessageContext();\ncontext.setMessage(authnRequest);\n\nSAMLPeerEntityContext peerEntityContext =     context.getSubcontext(SAMLPeerEntityContext.class, true);\nSAMLEndpointContext endpointContext =     peerEntityContext.getSubcontext(SAMLEndpointContext.class, true);\nendpointContext.setEndpoint(MESSAGE_RECEIVER_ENDPOINT);\n</code></pre>\n<p>Send the message using HTTP Redirect</p>\n<pre><code>HTTPRedirectDeflateEncoder encoder = new HTTPRedirectDeflateEncoder();\nencoder.setMessageContext(context);\nencoder.setHttpServletResponse(httpServletResponse);\n\nencoder.initialize();\nencoder.encode();\n</code></pre>\n<p>For those who want to dig in deeper I have have written a book on working with OpenSAML, <em><a href=\"https://shop.samlsecurity.com/b/41Tw\" rel=\"nofollow noreferrer\">A Guide to OpenSAML</a></em>, as well as book on SAML as a framework, <em><a href=\"https://shop.samlsecurity.com/b/fGWSH\" rel=\"nofollow noreferrer\">SAML 2.0: Designing secure identity federation</a></em>.</p>\n<p>I also have a ton resources on <a href=\"https://blog.samlsecurity.com/\" rel=\"nofollow noreferrer\">my blog</a></p>\n"}],"owner":{"account_id":15119219,"reputation":26300,"user_id":10910450,"display_name":"LoLance"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70593407,"answer_count":1,"score":0,"last_activity_date":1641892141,"creation_date":1641381011,"question_id":70591869,"body_markdown":"Issue description:\r\n\r\nAssuming I have one web application(Java+Saml2.0) who has a Sign in button to call ADFS(an identity provider) to authenticate.\r\n\r\nIt&#39;s using Javascript(Ajax has same issue) to call one endpoint of ADFS 2016. Since the request if sending from Javascript/Ajax, the browser would throw CORS error. (The ADFS2016 server side doesn&#39;t support modifying CORS header/response/origins)\r\n\r\nAnd I heard from someone that one way to avoid the CORS error is to use redirect instead of using Ajax/Javascript to directly call one URL/endpoint. \r\n\r\nCan someone give some insights for this situation? How can I modify my code to do such redirect without causing CORS?\r\n\r\nPS: I don&#39;t want to lower browser security level to bypass CORS and I also don&#39;t want to upgrade to ADFS2019 though it supports customizing CORS origins.","title":"Redirect way except Ajax/Javascript to send the authentication request to avoid CORS error","body":"<p>Issue description:</p>\n<p>Assuming I have one web application(Java+Saml2.0) who has a Sign in button to call ADFS(an identity provider) to authenticate.</p>\n<p>It's using Javascript(Ajax has same issue) to call one endpoint of ADFS 2016. Since the request if sending from Javascript/Ajax, the browser would throw CORS error. (The ADFS2016 server side doesn't support modifying CORS header/response/origins)</p>\n<p>And I heard from someone that one way to avoid the CORS error is to use redirect instead of using Ajax/Javascript to directly call one URL/endpoint.</p>\n<p>Can someone give some insights for this situation? How can I modify my code to do such redirect without causing CORS?</p>\n<p>PS: I don't want to lower browser security level to bypass CORS and I also don't want to upgrade to ADFS2019 though it supports customizing CORS origins.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1641874380,"post_id":70661406,"comment_id":124915274,"body_markdown":"If you don&#39;t know how to use `import`, then you might consider taking a step back first, as you&#39;re digging yourself into a very large hole.  See [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) for more details about how to use `JTable`.  As a hint, the `TableModel` (and by association, it&#39;s listener) shouldn&#39;t care about the `JTable`, as you have no means to be sure that the model is been used in the instance of `JTable` you&#39;re checking","body":"If you don&#39;t know how to use <code>import</code>, then you might consider taking a step back first, as you&#39;re digging yourself into a very large hole.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more details about how to use <code>JTable</code>.  As a hint, the <code>TableModel</code> (and by association, it&#39;s listener) shouldn&#39;t care about the <code>JTable</code>, as you have no means to be sure that the model is been used in the instance of <code>JTable</code> you&#39;re checking"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1641875057,"post_id":70661406,"comment_id":124915381,"body_markdown":"Read the API for the TableModelListener. It will tell you the package to import. You can&#39;t program if you don&#39;t have access to the API.","body":"Read the API for the TableModelListener. It will tell you the package to import. You can&#39;t program if you don&#39;t have access to the API."}],"answers":[{"tags":[],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641892077,"creation_date":1641873028,"answer_id":70661433,"question_id":70661406,"body_markdown":"We can import `addTableModelListener`  as below:\r\n\r\n    import javax.swing.event.TableModelListener;\r\n\r\nFor example, refer to the following link:\r\n\r\n[Reference Link][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/javax.swing.table/TableModeladdTableModelListenerTableModelListenerl.htm","title":"How to import addTableModelListener() in Java","body":"<p>We can import <code>addTableModelListener</code>  as below:</p>\n<pre><code>import javax.swing.event.TableModelListener;\n</code></pre>\n<p>For example, refer to the following link:</p>\n<p><a href=\"http://www.java2s.com/Code/JavaAPI/javax.swing.table/TableModeladdTableModelListenerTableModelListenerl.htm\" rel=\"nofollow noreferrer\">Reference Link</a></p>\n"}],"owner":{"account_id":17930532,"reputation":47,"user_id":13028068,"display_name":"Hausdorff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70661433,"answer_count":1,"score":1,"last_activity_date":1641892077,"creation_date":1641872770,"question_id":70661406,"body_markdown":"I am a beginner.\r\nI want to use `addTableModelListener` in the followinc code, but I am not sure how to import in .Java file. I am not sure but it whould be something like `import javax.swing.table;`\r\n\r\n\r\n    tableModel.addTableModelListener(new TableModelListener(){\r\n        @Override\r\n        public void tableChanged(TableModelEvent tableModelEvent) {\r\n            if(table.isEditing())\r\n            String value = table.getValueAt(table.getSelectedRow(),3);    \r\n            //do stuff  with value          \r\n        }\r\n    });","title":"How to import addTableModelListener() in Java","body":"<p>I am a beginner.\nI want to use <code>addTableModelListener</code> in the followinc code, but I am not sure how to import in .Java file. I am not sure but it whould be something like <code>import javax.swing.table;</code></p>\n<pre><code>tableModel.addTableModelListener(new TableModelListener(){\n    @Override\n    public void tableChanged(TableModelEvent tableModelEvent) {\n        if(table.isEditing())\n        String value = table.getValueAt(table.getSelectedRow(),3);    \n        //do stuff  with value          \n    }\n});\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641887126,"post_id":70662852,"comment_id":124917977,"body_markdown":"A webview cannot display a pdf document to begin with.","body":"A webview cannot display a pdf document to begin with."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641885543,"creation_date":1641885543,"answer_id":70662942,"question_id":70662852,"body_markdown":"You can&#39;t that way.  You&#39;re using Google to download the file and display it.  That&#39;s not going to ever work, because a server can&#39;t download a file from your device-  your device isn&#39;t an http server.  You&#39;re going to either need to use an actual pdf viewing library to display the pdf, or you may be able to make it work by uploading the file to their google drive then displaying it from there-  although that way has a LOT of drawbacks (such as storing stuff the user doesn&#39;t want on drive.  And assuming they have a drive account in the first place).  Realistically, you&#39;re probably going to need to go the pdf viewing library route.","title":"View PDF file in localhost using webview android","body":"<p>You can't that way.  You're using Google to download the file and display it.  That's not going to ever work, because a server can't download a file from your device-  your device isn't an http server.  You're going to either need to use an actual pdf viewing library to display the pdf, or you may be able to make it work by uploading the file to their google drive then displaying it from there-  although that way has a LOT of drawbacks (such as storing stuff the user doesn't want on drive.  And assuming they have a drive account in the first place).  Realistically, you're probably going to need to go the pdf viewing library route.</p>\n"},{"tags":[],"owner":{"account_id":8762292,"reputation":199,"user_id":6551928,"display_name":"Joseph N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641892066,"creation_date":1641892066,"answer_id":70664128,"question_id":70662852,"body_markdown":"Download ngrok (https://ngrok.com/download).\r\nLaunch it (Make sure that your machine has internet connection).\r\nCopy the https address that&#39;s generated.\r\nPaste the address in the WebView.loadUrl.\r\nAppend the path to your pdf on your localhost (Don&#39;t include &quot;localhost&quot;!).\r\nRun your app.","title":"View PDF file in localhost using webview android","body":"<p>Download ngrok (<a href=\"https://ngrok.com/download\" rel=\"nofollow noreferrer\">https://ngrok.com/download</a>).\nLaunch it (Make sure that your machine has internet connection).\nCopy the https address that's generated.\nPaste the address in the WebView.loadUrl.\nAppend the path to your pdf on your localhost (Don't include &quot;localhost&quot;!).\nRun your app.</p>\n"}],"owner":{"account_id":21364625,"reputation":354,"user_id":15732885,"display_name":"Fuad Saneen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641892066,"creation_date":1641884933,"question_id":70662852,"body_markdown":"I have url of pdf file in my localhost.\r\nhow i can load the pdf in webview android application.\r\n\r\n    String pdf = &quot;my localhost pdf url&quot;\r\n    WebView webView = findViewById(R.id.web);\r\n    webView.setWebViewClient(new WebViewClient());\r\n    webView.getSettings().setSupportZoom(true);\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.loadUrl(&quot;https://docs.google.com/gview?embedded=true&amp;url=&quot; +pdf);\r\n\r\nthis method is only for pdf file that stored in server.\r\n\r\nAny  methods to show pdf(stored in localhost) in webview ?\r\nwith or without using third party libraries.","title":"View PDF file in localhost using webview android","body":"<p>I have url of pdf file in my localhost.\nhow i can load the pdf in webview android application.</p>\n<pre><code>String pdf = &quot;my localhost pdf url&quot;\nWebView webView = findViewById(R.id.web);\nwebView.setWebViewClient(new WebViewClient());\nwebView.getSettings().setSupportZoom(true);\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.loadUrl(&quot;https://docs.google.com/gview?embedded=true&amp;url=&quot; +pdf);\n</code></pre>\n<p>this method is only for pdf file that stored in server.</p>\n<p>Any  methods to show pdf(stored in localhost) in webview ?\nwith or without using third party libraries.</p>\n"},{"tags":["java","date","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":27,"creation_date":1552409064,"post_id":26431882,"comment_id":96994907,"body_markdown":"Such horrible docs in this case, ugh.","body":"Such horrible docs in this case, ugh."},{"owner":{"account_id":23836,"reputation":86762,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"score":0,"creation_date":1585797248,"post_id":26431882,"comment_id":107891229,"body_markdown":"Just need to vent real quick that this API is terrible!","body":"Just need to vent real quick that this API is terrible!"}],"answers":[{"tags":[],"owner":{"account_id":5186706,"reputation":696,"user_id":4150885,"display_name":"hslugs"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1593640495,"creation_date":1413573650,"answer_id":26431981,"question_id":26431882,"body_markdown":"That&#39;s year value for &quot;year-week&quot; style dates, as in 2006-W52.\r\nIt may be off the year-of-era value by +1 or -1 if the week in question straddles year boundary.\r\n\r\nSee http://en.wikipedia.org/wiki/ISO_8601#Week_dates","title":"Difference between year-of-era and week-based-year?","body":"<p>That's year value for &quot;year-week&quot; style dates, as in 2006-W52.\nIt may be off the year-of-era value by +1 or -1 if the week in question straddles year boundary.</p>\n<p>See <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/ISO_8601#Week_dates</a></p>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1413751947,"creation_date":1413751947,"answer_id":26455287,"question_id":26431882,"body_markdown":"Each field is documented in a &quot;field&quot; class, such as `ChronoField`, `WeekFields` or `IsoFields`.\r\n\r\nThe &quot;year-of-era&quot; field is documented in [`ChronoField`][1].\r\n\r\nThe &quot;week-based-year&quot; field is documented in [`WeekFields`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--","title":"Difference between year-of-era and week-based-year?","body":"<p>Each field is documented in a \"field\" class, such as <code>ChronoField</code>, <code>WeekFields</code> or <code>IsoFields</code>.</p>\n\n<p>The \"year-of-era\" field is documented in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\" rel=\"noreferrer\"><code>ChronoField</code></a>.</p>\n\n<p>The \"week-based-year\" field is documented in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--\" rel=\"noreferrer\"><code>WeekFields</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586189097,"creation_date":1586189097,"answer_id":61064003,"question_id":26431882,"body_markdown":"### week based year\r\nA concept where a week only belongs to 1 year. For example: \r\n\r\n```\r\nLocalDate.parse(&quot;2019-12-29&quot;).format(DateTimeFormatter.ofPattern(&quot;M/d/Y&quot;)) \r\n---&gt; &quot;12/29/2020&quot;`\r\n```\r\n\r\n### year of era  \r\n\r\nThe common use of year, 1/1 always being the first day of the year. For example: \r\n\r\n```\r\nLocalDate.parse(&quot;2019-12-29&quot;).format(DateTimeFormatter.ofPattern(&quot;M/d/y&quot;))\r\n---&gt; &quot;12/29/2019&quot;\r\n```","title":"Difference between year-of-era and week-based-year?","body":"<h3>week based year</h3>\n\n<p>A concept where a week only belongs to 1 year. For example: </p>\n\n<pre><code>LocalDate.parse(\"2019-12-29\").format(DateTimeFormatter.ofPattern(\"M/d/Y\")) \n---&gt; \"12/29/2020\"`\n</code></pre>\n\n<h3>year of era</h3>\n\n<p>The common use of year, 1/1 always being the first day of the year. For example: </p>\n\n<pre><code>LocalDate.parse(\"2019-12-29\").format(DateTimeFormatter.ofPattern(\"M/d/y\"))\n---&gt; \"12/29/2019\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1572793,"reputation":2366,"user_id":1460102,"accept_rate":73,"display_name":"xxks-kkk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593638820,"creation_date":1593634881,"answer_id":62684763,"question_id":26431882,"body_markdown":"What `Y` suggests is that we want to format a given date according to ISO 8601 week-numbering year. According to [wikipedia][1], the definition of week 01 is\r\n\r\n&gt; the week with the year&#39;s first Thursday in it (the formal ISO definition)\r\n\r\nand thus,\r\n\r\n&gt; The first ISO week of a year may have up to three days that are actually in the Gregorian calendar year that is ending\r\n\r\nLet&#39;s consider &quot;2019-12-30&quot; date, which is a Monday. \r\n\r\n[![calendar showing ISO 8601 weeks 1 &amp; 2 of year-based year 2020][2]][2]\r\n\r\nIf we take a look at that week, we have December 30 &amp; 31 of 2019 are Monday and Tuesday; January 1-4 of 2020 are Wednesday, Thursday, Friday, and Saturday. As you can see, this week spans [Gregorian calendar year](https://en.wikipedia.org/wiki/Gregorian_calendar) (a calendar system we use) 2019 and Gregorian calendar year 2020. If we apply definition of week01 of week-based year above, we can see that the week between 12/30/2019 and 01/05/2020 is week01 of week-based year 2020 (ISO standard specifies that [the beginning of a week](https://en.wikipedia.org/wiki/Week) is Monday). Thus, if we want to parse &quot;2019-12-30&quot; with dateTimeFormatter `&#39;YYYY-MM-dd&#39;`, the correct result is `&#39;2020-12-30&#39;`. However, with `&#39;yyyy-MM-dd&#39;`, the end result will be `&#39;2019-12-30&#39;`.\r\n\r\n    System.out.println(LocalDate.parse(&quot;2019-12-30&quot;).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;))); // output &quot;2020-12-30&quot;\r\n    System.out.println(LocalDate.parse(&quot;2019-12-30&quot;).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))); // output &quot;2019-12-30&quot;\r\n\r\nI think there might be a potential problem with Java implementation. If we consider [example][3] given by Sam Berry above, the output of &quot;2019-12-29&quot; doesn&#39;t consistent with how week-based year is defined. The reason is that &quot;2019-12-29&quot; is a Sunday. If we apply definition from Wikipedia above, &quot;2019-12-29&quot; should be parsed as &quot;2019-12-29&quot; even given `&#39;YYYY-MM-dd&#39;`. This is because beginning of week01 is Monday rather than Sunday by ISO standard. If we look up [week numbers for 2020][4], we can see week 01 of 2020 starts at &quot;2019-12-30&quot;. I suspect this is possibly due to the implementer of API consider the beginning of a week is Sunday, which is not true according to ISO standard.\r\n\r\n**UPDATE** \r\n\r\nOn the suspect of Java implementation error. It is not implementation error. Thanks for [Ole V.V.][5] comment below. During the formatting, there is subtle dependency on how the beginning of week01 is defined, which is relfected by `Locale`. For example, if the locale is europe, the beginning of a week is Monday, which is consistent with ISO standard. Thus\r\n\r\n    System.out.println(LocalDate.of(2019, Month.DECEMBER, 29).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;, Locale.FRANCE)));\r\n\r\nhas output `2019-12-29`. However, in the U.S., the beginning of a week is considered as Sunday. Thus\r\n\r\n    System.out.println(LocalDate.of(2019, Month.DECEMBER, 29).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;, Locale.US)));\r\n\r\nhas output `2020-12-29`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601#Week_dates\r\n  [2]: https://i.stack.imgur.com/6mlpT.png\r\n  [3]: https://stackoverflow.com/a/61064003/1460102\r\n  [4]: https://www.epochconverter.com/weeks/2020\r\n  [5]: https://stackoverflow.com/users/5772882/ole-v-v","title":"Difference between year-of-era and week-based-year?","body":"<p>What <code>Y</code> suggests is that we want to format a given date according to ISO 8601 week-numbering year. According to <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">wikipedia</a>, the definition of week 01 is</p>\n<blockquote>\n<p>the week with the year's first Thursday in it (the formal ISO definition)</p>\n</blockquote>\n<p>and thus,</p>\n<blockquote>\n<p>The first ISO week of a year may have up to three days that are actually in the Gregorian calendar year that is ending</p>\n</blockquote>\n<p>Let's consider &quot;2019-12-30&quot; date, which is a Monday.</p>\n<p><a href=\"https://i.stack.imgur.com/6mlpT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6mlpT.png\" alt=\"calendar showing ISO 8601 weeks 1 &amp; 2 of year-based year 2020\" /></a></p>\n<p>If we take a look at that week, we have December 30 &amp; 31 of 2019 are Monday and Tuesday; January 1-4 of 2020 are Wednesday, Thursday, Friday, and Saturday. As you can see, this week spans <a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar\" rel=\"nofollow noreferrer\">Gregorian calendar year</a> (a calendar system we use) 2019 and Gregorian calendar year 2020. If we apply definition of week01 of week-based year above, we can see that the week between 12/30/2019 and 01/05/2020 is week01 of week-based year 2020 (ISO standard specifies that <a href=\"https://en.wikipedia.org/wiki/Week\" rel=\"nofollow noreferrer\">the beginning of a week</a> is Monday). Thus, if we want to parse &quot;2019-12-30&quot; with dateTimeFormatter <code>'YYYY-MM-dd'</code>, the correct result is <code>'2020-12-30'</code>. However, with <code>'yyyy-MM-dd'</code>, the end result will be <code>'2019-12-30'</code>.</p>\n<pre><code>System.out.println(LocalDate.parse(&quot;2019-12-30&quot;).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;))); // output &quot;2020-12-30&quot;\nSystem.out.println(LocalDate.parse(&quot;2019-12-30&quot;).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))); // output &quot;2019-12-30&quot;\n</code></pre>\n<p>I think there might be a potential problem with Java implementation. If we consider <a href=\"https://stackoverflow.com/a/61064003/1460102\">example</a> given by Sam Berry above, the output of &quot;2019-12-29&quot; doesn't consistent with how week-based year is defined. The reason is that &quot;2019-12-29&quot; is a Sunday. If we apply definition from Wikipedia above, &quot;2019-12-29&quot; should be parsed as &quot;2019-12-29&quot; even given <code>'YYYY-MM-dd'</code>. This is because beginning of week01 is Monday rather than Sunday by ISO standard. If we look up <a href=\"https://www.epochconverter.com/weeks/2020\" rel=\"nofollow noreferrer\">week numbers for 2020</a>, we can see week 01 of 2020 starts at &quot;2019-12-30&quot;. I suspect this is possibly due to the implementer of API consider the beginning of a week is Sunday, which is not true according to ISO standard.</p>\n<p><strong>UPDATE</strong></p>\n<p>On the suspect of Java implementation error. It is not implementation error. Thanks for <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">Ole V.V.</a> comment below. During the formatting, there is subtle dependency on how the beginning of week01 is defined, which is relfected by <code>Locale</code>. For example, if the locale is europe, the beginning of a week is Monday, which is consistent with ISO standard. Thus</p>\n<pre><code>System.out.println(LocalDate.of(2019, Month.DECEMBER, 29).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;, Locale.FRANCE)));\n</code></pre>\n<p>has output <code>2019-12-29</code>. However, in the U.S., the beginning of a week is considered as Sunday. Thus</p>\n<pre><code>System.out.println(LocalDate.of(2019, Month.DECEMBER, 29).format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;, Locale.US)));\n</code></pre>\n<p>has output <code>2020-12-29</code>.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593640587,"creation_date":1593639057,"answer_id":62685635,"question_id":26431882,"body_markdown":"I didn’t find it perfectly clear from the other answers, so allow me to give my shot.\r\n\r\nThe *week-based year* or sometimes *week year* for short is the year that the relevant week number belongs to. So for example all of the days of week 1 have the same week-based year even if some of the week lies in the previous calendar year. Or the other way around, say that week 52 of a year stretches into the following year (which is possible with some, not all week numbering schemes), then every day of that week has the old calendar year as its week-based year. Where I live, week 1 of 2020 was from Monday December 30 to Sunday January 5, inclusive. So for the days up to December 29, calendar year and week-based year agreed to be 2019. December 30 and 31 had week-based year 2020, but of course still calendar year 2019. From January 1 calendar year and week-based year again agreed, now at 2020.\r\n\r\nSo the week-based year hardly has any meaningful use except together with a week number.\r\n\r\nWhere it gets a bit complicated (and where I think the other answers are not quite clear) is that week numbering is locale dependent, and therefore week-based year is too. A `DateTimeFormatter` has a locale and uses this locale for selecting the week numbering scheme to use when deciding the week-based year for a given date.\r\n\r\nTo illustrate I am formatting 10 days around New Year 2022 in three different locales:\r\n 1. I want to show ISO 8601 weeks and have chosen France as a country that follows ISO\r\n 2. US weeks begin on Sundays\r\n 3. In many Arabic countries the new week begins on Saturday; I have taken Morocco as an example\r\n\r\nMy code:\r\n\r\n\t\tDateTimeFormatter iso\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;Y w E&quot;, Locale.FRANCE);\r\n\t\tDateTimeFormatter us\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;Y w E&quot;, Locale.US);\r\n\t\tDateTimeFormatter arabic = DateTimeFormatter\r\n\t\t\t\t.ofPattern(&quot;Y w E&quot;, Locale.forLanguageTag(&quot;ar-MA&quot;));\r\n\t\t\r\n\t\tSystem.out.println(&quot;                ISO           US          Morocco&quot;);\r\n\t\tLocalDate d = LocalDate.of(2021, Month.DECEMBER, 25);\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.format(&quot;%-10s  %-12s  %-11s  %s%n&quot;,\r\n\t\t\t\t\td, d.format(iso), d.format(us), d.format(arabic));\r\n\t\t\td = d.plusDays(1);\r\n\t\t}\r\n\r\nOutput:\r\n\r\n                    ISO           US          Morocco\r\n    2021-12-25  2021 51 sam.  2021 52 Sat  2021 53 السبت\r\n    2021-12-26  2021 51 dim.  2022 1 Sun   2021 53 الأحد\r\n    2021-12-27  2021 52 lun.  2022 1 Mon   2021 53 الاثنين\r\n    2021-12-28  2021 52 mar.  2022 1 Tue   2021 53 الثلاثاء\r\n    2021-12-29  2021 52 mer.  2022 1 Wed   2021 53 الأربعاء\r\n    2021-12-30  2021 52 jeu.  2022 1 Thu   2021 53 الخميس\r\n    2021-12-31  2021 52 ven.  2022 1 Fri   2021 53 الجمعة\r\n    2022-01-01  2021 52 sam.  2022 1 Sat   2022 1 السبت\r\n    2022-01-02  2021 52 dim.  2022 2 Sun   2022 1 الأحد\r\n    2022-01-03  2022 1 lun.   2022 2 Mon   2022 1 الاثنين\r\n\r\nObservations;\r\n\r\n - In all three columns the week year changes on the same day as week 1 begins.\r\n - That change happens on different dates in the three locales:\r\n    1. In the US week-based year 2022 begins on St. Stephen’s Day 2021.\r\n    2. In Morocco week-based year 2022 happens to begin on the first day of calendar year 2022, but only because in 2022 that day is a Saturday and therefore the first day of the week.\r\n    3. In ISO 8601 week-based year 2022 doesn’t begin until January 3.\r\n\r\nFor the sake of completeness: Defining week numbering has two parts:\r\n\r\n 1. On which day-of-week does a new week start\r\n 2. How many days of the new year must a week include to qualify as week 1. This is called *the minimal number of days in the first week.*.\r\n\r\nIn both US and Morocco week 1 is defined as the week containing January 1. In other words, a week just needs to have at least 1 day in the new year for it to be week 1 of that new year. Not so in ISO. You see that January 1 in France belongs to week 52 of the old year. Here a week belongs to the year where the majority of its days lie (since there are 7 days in a week, an odd number, there will never be a tie). In other words, a week must have at least 4 (four) of its days in the new year for it to be week 1.","title":"Difference between year-of-era and week-based-year?","body":"<p>I didn’t find it perfectly clear from the other answers, so allow me to give my shot.</p>\n<p>The <em>week-based year</em> or sometimes <em>week year</em> for short is the year that the relevant week number belongs to. So for example all of the days of week 1 have the same week-based year even if some of the week lies in the previous calendar year. Or the other way around, say that week 52 of a year stretches into the following year (which is possible with some, not all week numbering schemes), then every day of that week has the old calendar year as its week-based year. Where I live, week 1 of 2020 was from Monday December 30 to Sunday January 5, inclusive. So for the days up to December 29, calendar year and week-based year agreed to be 2019. December 30 and 31 had week-based year 2020, but of course still calendar year 2019. From January 1 calendar year and week-based year again agreed, now at 2020.</p>\n<p>So the week-based year hardly has any meaningful use except together with a week number.</p>\n<p>Where it gets a bit complicated (and where I think the other answers are not quite clear) is that week numbering is locale dependent, and therefore week-based year is too. A <code>DateTimeFormatter</code> has a locale and uses this locale for selecting the week numbering scheme to use when deciding the week-based year for a given date.</p>\n<p>To illustrate I am formatting 10 days around New Year 2022 in three different locales:</p>\n<ol>\n<li>I want to show ISO 8601 weeks and have chosen France as a country that follows ISO</li>\n<li>US weeks begin on Sundays</li>\n<li>In many Arabic countries the new week begins on Saturday; I have taken Morocco as an example</li>\n</ol>\n<p>My code:</p>\n<pre><code>    DateTimeFormatter iso\n            = DateTimeFormatter.ofPattern(&quot;Y w E&quot;, Locale.FRANCE);\n    DateTimeFormatter us\n            = DateTimeFormatter.ofPattern(&quot;Y w E&quot;, Locale.US);\n    DateTimeFormatter arabic = DateTimeFormatter\n            .ofPattern(&quot;Y w E&quot;, Locale.forLanguageTag(&quot;ar-MA&quot;));\n    \n    System.out.println(&quot;                ISO           US          Morocco&quot;);\n    LocalDate d = LocalDate.of(2021, Month.DECEMBER, 25);\n    for (int i = 0; i &lt; 10; i++) {\n        System.out.format(&quot;%-10s  %-12s  %-11s  %s%n&quot;,\n                d, d.format(iso), d.format(us), d.format(arabic));\n        d = d.plusDays(1);\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>                ISO           US          Morocco\n2021-12-25  2021 51 sam.  2021 52 Sat  2021 53 السبت\n2021-12-26  2021 51 dim.  2022 1 Sun   2021 53 الأحد\n2021-12-27  2021 52 lun.  2022 1 Mon   2021 53 الاثنين\n2021-12-28  2021 52 mar.  2022 1 Tue   2021 53 الثلاثاء\n2021-12-29  2021 52 mer.  2022 1 Wed   2021 53 الأربعاء\n2021-12-30  2021 52 jeu.  2022 1 Thu   2021 53 الخميس\n2021-12-31  2021 52 ven.  2022 1 Fri   2021 53 الجمعة\n2022-01-01  2021 52 sam.  2022 1 Sat   2022 1 السبت\n2022-01-02  2021 52 dim.  2022 2 Sun   2022 1 الأحد\n2022-01-03  2022 1 lun.   2022 2 Mon   2022 1 الاثنين\n</code></pre>\n<p>Observations;</p>\n<ul>\n<li>In all three columns the week year changes on the same day as week 1 begins.</li>\n<li>That change happens on different dates in the three locales:\n<ol>\n<li>In the US week-based year 2022 begins on St. Stephen’s Day 2021.</li>\n<li>In Morocco week-based year 2022 happens to begin on the first day of calendar year 2022, but only because in 2022 that day is a Saturday and therefore the first day of the week.</li>\n<li>In ISO 8601 week-based year 2022 doesn’t begin until January 3.</li>\n</ol>\n</li>\n</ul>\n<p>For the sake of completeness: Defining week numbering has two parts:</p>\n<ol>\n<li>On which day-of-week does a new week start</li>\n<li>How many days of the new year must a week include to qualify as week 1. This is called <em>the minimal number of days in the first week.</em>.</li>\n</ol>\n<p>In both US and Morocco week 1 is defined as the week containing January 1. In other words, a week just needs to have at least 1 day in the new year for it to be week 1 of that new year. Not so in ISO. You see that January 1 in France belongs to week 52 of the old year. Here a week belongs to the year where the majority of its days lie (since there are 7 days in a week, an odd number, there will never be a tie). In other words, a week must have at least 4 (four) of its days in the new year for it to be week 1.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1593675703,"creation_date":1593672128,"answer_id":62690443,"question_id":26431882,"body_markdown":"# tl;dr\r\n\r\n[![table showing the calendar year of 2019-12-30 is 2019 while the week-based year is 2020][1]][1]\r\n\r\n[![Table showing the length in days and weeks for a calendar year and a week-based year, 365 or 366 days versus 364 or 371, and 52 partial weeks versus 52 or 53 whole weeks.][2]][2]\r\n\r\n\r\n# Details\r\n\r\nSome other Answers are quite interesting, but complicated. Here is a hopefully simpler Answer to get your oriented.\r\n\r\n# `y` and `u` (lowercase)\r\n\r\nThe `y` character for year-of-era is simply the calendar year, the regular year used across the West and much of the world, based on the [Gregorian calendar][3].\r\n\r\nThe [`DateTimeFormatter`][4] class also uses a `u` for the nearly the same thing. For contemporary dates, there is no difference. For the nitty-gritty details, see [*`uuuu` versus `yyyy` in `DateTimeFormatter` formatting pattern codes in Java?*](https://stackoverflow.com/q/41177442/642706).\r\n\r\nFor the regular dates we use in quotidian life, you would parse or generate text representing date values using a formatting pattern such as:\r\n\r\n    DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) ;\r\n\r\n…or…\r\n\r\n    DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ;\r\n\r\nIn either case, Monday, December 30, 2019 would be parsed like this:\r\n\r\n    LocalDate localDate = LocalDate.parse( &quot;30/12/2019&quot; ) ;\r\n\r\n&gt;localDate.toString(): 2019-12-30\r\n\r\n# `Y` (uppercase)\r\n\r\nMany people in various industries find it useful to track time by week, assigning a number to each week of the year. \r\n\r\nThere are various ways to define a week, such as starting on a Sunday or on a Monday. So there are various ways to define a week of the year. Does week # 1 have the January 1st? Or does week # 1 have the first Sunday of the year? \r\n\r\nThe [ISO 8601][5] standard [defines a week][6] as starting on a Monday. Week number 1 has the first Thursday of the new calendar year. \r\n\r\nThis definition means week-based year has either 52 or 53 whole weeks, always 7-days long (Monday-Sunday),for a year length of either 364 days or 371 days. In contrast, a calendar year has either 365 or 366 days crossing 52 partial weeks. \r\n\r\n\r\n\r\nSo the date 2019-12-30 (Monday, December 30, 2019) is actually in the first week of week-based year of 2020.\r\n\r\n[![calendar showing week # 1 of 2020, starting with December 30, 2019.][7]][7]\r\n\r\n - If you need to generate or parse the week-based year value of *2020*, use uppercase `YYYY` for that date of 2019-12-30 in your formatting pattern. \r\n - If you want the calendar year of 2019-12-30, that is *2019*, use lowercase `yyyy`. \r\n\r\n## ISO 8601 format \r\n\r\nThe ISO 8601 standard defines a specific format for representing a date within a week of a week-based year: YYYY-Www-d where the `YYYY` is the week-based year, the `-W` is fixed, the `ww` represents the week number 1-52 or 1-53, and the `d` represents a day-of-week running 1-7 for Monday-Sunday.\r\n\r\nSo Monday, December 30, 2019 is: `2020-W01-1` meaning week-based year 2020, first week of the year, and first day of the week (Monday). \r\n\r\nTo parse the ISO 8601 week with day-of-week number, we can use `DateTimeFormatter`. No need to define a formatting pattern with `YYYY`, as this work has already been done for you. Use the builtin [`DateTimeFormatter.ISO_WEEK_DATE`][9]. \r\n\r\n    String output = localDate.format( DateTimeFormatter.ISO_WEEK_DATE ) ;\r\n\r\n&gt;2020-W01-1\r\n\r\nLikewise, parsing.\r\n\r\n    LocalDate localDate = \r\n        LocalDate.parse( \r\n            &quot;2020-W01-1&quot; , \r\n            DateTimeFormatter.ISO_WEEK_DATE\r\n        )\r\n    ;\r\n\r\n&gt;localDate.toString(): 2019-12-30\r\n\r\n# *ThreeTen-Extra* \r\n\r\nThe [*ThreeTen-Extra*][8] library adds functionality to the *java.time* classes built into Java.\r\n\r\n## `org.threeten.extra.YearWeek`\r\n\r\nThat library provides the `YearWeek` class. Just what you need if you are working with weeks of week-based year according to the [ISO 8601 definition of a week and week-based year][6].\r\n\r\nThis class can translate back and forth between the regular date format and the week-oriented format.\r\n\r\n    LocalDate localDate = LocalDate.of( 2019 , Month.DECEMBER , 30 ) ;  // Monday 2019-12-30. Its week-based year is 2020. \r\n    YearWeek yearWeek = YearWeek.from( localDate ) ;\r\n    String wFormatted = yearWeek.toString() ;\r\n\r\n&gt;2020-W01\r\n\r\nGet a date from that.\r\n\r\n    LocalDate localDate = yearWeek.atDay( DayOfWeek.MONDAY ) ;\r\n\r\n&gt;localDate.toString(): 2019-12-30\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PDGif.png\r\n  [2]: https://i.stack.imgur.com/TcAyo.png\r\n  [3]: https://en.wikipedia.org/wiki/Gregorian_calendar\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [5]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [6]: https://en.wikipedia.org/wiki/ISO_week_date\r\n  [7]: https://i.stack.imgur.com/6mlpT.png\r\n  [8]: https://www.threeten.org/threeten-extra/\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE","title":"Difference between year-of-era and week-based-year?","body":"<h1>tl;dr</h1>\n<p><a href=\"https://i.stack.imgur.com/PDGif.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PDGif.png\" alt=\"table showing the calendar year of 2019-12-30 is 2019 while the week-based year is 2020\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TcAyo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TcAyo.png\" alt=\"Table showing the length in days and weeks for a calendar year and a week-based year, 365 or 366 days versus 364 or 371, and 52 partial weeks versus 52 or 53 whole weeks.\" /></a></p>\n<h1>Details</h1>\n<p>Some other Answers are quite interesting, but complicated. Here is a hopefully simpler Answer to get your oriented.</p>\n<h1><code>y</code> and <code>u</code> (lowercase)</h1>\n<p>The <code>y</code> character for year-of-era is simply the calendar year, the regular year used across the West and much of the world, based on the <a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar\" rel=\"noreferrer\">Gregorian calendar</a>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class also uses a <code>u</code> for the nearly the same thing. For contemporary dates, there is no difference. For the nitty-gritty details, see <a href=\"https://stackoverflow.com/q/41177442/642706\"><em><code>uuuu</code> versus <code>yyyy</code> in <code>DateTimeFormatter</code> formatting pattern codes in Java?</em></a>.</p>\n<p>For the regular dates we use in quotidian life, you would parse or generate text representing date values using a formatting pattern such as:</p>\n<pre><code>DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) ;\n</code></pre>\n<p>…or…</p>\n<pre><code>DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ;\n</code></pre>\n<p>In either case, Monday, December 30, 2019 would be parsed like this:</p>\n<pre><code>LocalDate localDate = LocalDate.parse( &quot;30/12/2019&quot; ) ;\n</code></pre>\n<blockquote>\n<p>localDate.toString(): 2019-12-30</p>\n</blockquote>\n<h1><code>Y</code> (uppercase)</h1>\n<p>Many people in various industries find it useful to track time by week, assigning a number to each week of the year.</p>\n<p>There are various ways to define a week, such as starting on a Sunday or on a Monday. So there are various ways to define a week of the year. Does week # 1 have the January 1st? Or does week # 1 have the first Sunday of the year?</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"noreferrer\">defines a week</a> as starting on a Monday. Week number 1 has the first Thursday of the new calendar year.</p>\n<p>This definition means week-based year has either 52 or 53 whole weeks, always 7-days long (Monday-Sunday),for a year length of either 364 days or 371 days. In contrast, a calendar year has either 365 or 366 days crossing 52 partial weeks.</p>\n<p>So the date 2019-12-30 (Monday, December 30, 2019) is actually in the first week of week-based year of 2020.</p>\n<p><a href=\"https://i.stack.imgur.com/6mlpT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6mlpT.png\" alt=\"calendar showing week # 1 of 2020, starting with December 30, 2019.\" /></a></p>\n<ul>\n<li>If you need to generate or parse the week-based year value of <em>2020</em>, use uppercase <code>YYYY</code> for that date of 2019-12-30 in your formatting pattern.</li>\n<li>If you want the calendar year of 2019-12-30, that is <em>2019</em>, use lowercase <code>yyyy</code>.</li>\n</ul>\n<h2>ISO 8601 format</h2>\n<p>The ISO 8601 standard defines a specific format for representing a date within a week of a week-based year: YYYY-Www-d where the <code>YYYY</code> is the week-based year, the <code>-W</code> is fixed, the <code>ww</code> represents the week number 1-52 or 1-53, and the <code>d</code> represents a day-of-week running 1-7 for Monday-Sunday.</p>\n<p>So Monday, December 30, 2019 is: <code>2020-W01-1</code> meaning week-based year 2020, first week of the year, and first day of the week (Monday).</p>\n<p>To parse the ISO 8601 week with day-of-week number, we can use <code>DateTimeFormatter</code>. No need to define a formatting pattern with <code>YYYY</code>, as this work has already been done for you. Use the builtin <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_WEEK_DATE</code></a>.</p>\n<pre><code>String output = localDate.format( DateTimeFormatter.ISO_WEEK_DATE ) ;\n</code></pre>\n<blockquote>\n<p>2020-W01-1</p>\n</blockquote>\n<p>Likewise, parsing.</p>\n<pre><code>LocalDate localDate = \n    LocalDate.parse( \n        &quot;2020-W01-1&quot; , \n        DateTimeFormatter.ISO_WEEK_DATE\n    )\n;\n</code></pre>\n<blockquote>\n<p>localDate.toString(): 2019-12-30</p>\n</blockquote>\n<h1><em>ThreeTen-Extra</em></h1>\n<p>The <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><em>ThreeTen-Extra</em></a> library adds functionality to the <em>java.time</em> classes built into Java.</p>\n<h2><code>org.threeten.extra.YearWeek</code></h2>\n<p>That library provides the <code>YearWeek</code> class. Just what you need if you are working with weeks of week-based year according to the <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"noreferrer\">ISO 8601 definition of a week and week-based year</a>.</p>\n<p>This class can translate back and forth between the regular date format and the week-oriented format.</p>\n<pre><code>LocalDate localDate = LocalDate.of( 2019 , Month.DECEMBER , 30 ) ;  // Monday 2019-12-30. Its week-based year is 2020. \nYearWeek yearWeek = YearWeek.from( localDate ) ;\nString wFormatted = yearWeek.toString() ;\n</code></pre>\n<blockquote>\n<p>2020-W01</p>\n</blockquote>\n<p>Get a date from that.</p>\n<pre><code>LocalDate localDate = yearWeek.atDay( DayOfWeek.MONDAY ) ;\n</code></pre>\n<blockquote>\n<p>localDate.toString(): 2019-12-30</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15726048,"reputation":46,"user_id":11347669,"display_name":"psstepniewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641891755,"creation_date":1641725713,"answer_id":70640578,"question_id":26431882,"body_markdown":"I like @xxks-kkk answer. If you are interesting which week definition is used for your Locale, you can check it easily.\r\n\r\nIn brief:&lt;br/&gt;\r\n\r\nDefinition of the week and to which year it belongs to depends on two values:\r\n* The first day-of-week.\r\n* The minimal number of days in the first week.\r\n\r\nThis two values are encapsulated in `WeekFields` class. \r\n\r\nThe following code prints all possible `WeekFields` with all assigned to it `Locale`s.\r\n\r\n```java\r\npublic class PrintLocaleWeekFields {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;WeekFields, List&lt;Locale&gt;&gt; locales = Arrays.stream(Locale.getAvailableLocales())\r\n            .collect(Collectors.groupingBy(WeekFields::of));\r\n        System.out.println(locales);\r\n    }\r\n}\r\n```\r\n\r\nPrinted result:\r\n\r\n```text\r\nWeekFields[MONDAY,1]=[tk_TM_#Latn, en_NU, ff_LR_#Adlm, es_BO, bs_BA, en_LR, ar_TD, nus_SS_#Latn, ff_MR_#Latn, sw_UG, tk_TM, sr_ME_#Cyrl, os_GE_#Cyrl, yo_NG, en_PW, sr_CS, agq_CM_#Latn, ar_EH, bs_BA_#Latn, dje_NE, hy_AM_#Armn, ff_GH_#Latn, fr_PM, ar_KM, agq_CM, tr_TR, kl_GL_#Latn, ar_MR, kl_GL, en_NR, rw_RW_#Latn, en_CY, tr_TR_#Latn, ti_ER, nus_SS, en_RW, hr_HR_#Latn, ln_CD, nnh_CM, dje_NE_#Latn, ksf_CM, fr_VU, nnh_CM_#Latn, fr_NE, bez_TZ_#Latn, ksb_TZ, ln_CF, en_CX, ak_GH_#Latn, en_TZ, fr_NC, fr_CM, pcm_NG_#Latn, teo_UG, ln_CG, az_AZ, el_CY, ku_TR, ff_SN, sq_MK, sr_BA_#Cyrl, so_SO_#Latn, tr_CY, lv_LV_#Latn, uz_UZ_#Latn, dua_CM, fr_TN, sr_RS, sw_TZ_#Latn, fr_PF, pt_GQ, vun_TZ, jmc_TZ, mg_MG_#Latn, en_TV, en_PN, lu_CD_#Latn, en_GY, dyo_SN, nl_CW, fr_GQ, en_NG, fr_CI, ia_001, en_LC, ff_BF_#Adlm, bm_ML_#Latn, yav_CM_#Latn, mk_MK, sl_SI, sg_CF_#Latn, jgo_CM, ff_NE_#Adlm, en_BM, kea_CV, vi_VN, mfe_MU, fr_BF, fr_YT, ff_CM_#Latn, sr_BA_#Latn, uk_UA_#Cyrl, ff_GW_#Adlm, ha_GH, yi_001_#Hebr, to_TO_#Latn, ff_GW_#Latn, mua_CM_#Latn, nyn_UG, ms_MY, rn_BI_#Latn, ta_LK, tg_TJ, vun_TZ_#Latn, es_EC, mk_MK_#Cyrl, ff_CM_#Adlm, lg_UG, ff_NE_#Latn, cgg_UG, pcm_NG, en_BI, mi_NZ, ar_ER, es_EA, fr_SC, en_SL, ff_NG_#Latn, ff_NG_#Adlm, en_SH, eo_001, en_SI, vai_LR_#Vaii, rof_TZ_#Latn, ar_LB, ff_GN, eo_001_#Latn, hr_HR, rof_TZ, mn_MN, en_FM, fr_WF, ff_GM_#Latn, teo_UG_#Latn, asa_TZ_#Latn, bez_TZ, ff_GN_#Latn, sl_SI_#Latn, en_FK, bas_CM_#Latn, en_DG, pt_ST, ak_GH, es_419, ln_CD_#Latn, kkj_CM_#Latn, es_IC, ar_TN, bm_ML, jmc_TZ_#Latn, khq_ML, en_SB, rw_RW, shi_MA_#Tfng, ro_MD, uz_UZ, ia_001_#Latn, en_SC, en_UG, en_NZ, es_UY, ru_UA, sg_CF, en_BB, hr_BA, yo_NG_#Latn, lu_CD, ar_001, so_SO, lv_LV, sr_RS_#Cyrl, en_LS, ka_GE, sw_TZ, fr_RW, mg_MG, sr_RS_#Latn, ky_KG, tzm_MA_#Latn, ku_TR_#Latn, mfe_MU_#Latn, ky_KG_#Cyrl, qu_EC, ka_GE_#Geor, en_MS, kde_TZ_#Latn, sr_ME, en_ZM, fr_ML, ha_NG, os_GE, yi_001, en_GH, tzm_MA, ses_ML, rwk_TZ_#Latn, vai_LR_#Latn, sw_CD, ff_MR_#Adlm, en_VC, ses_ML_#Latn, en_150, ha_NE, en_KN, ro_RO, sr_ME_#Latn, ff_LR_#Latn, bas_CM, fr_MG, es_CL, sq_AL, ro_RO_#Latn, twq_NE, nmg_CM, en_MP, en_GD, sbp_TZ_#Latn, kde_TZ, ta_MY, si_LK_#Sinh, en_KI, twq_NE_#Latn, sq_AL_#Latn, ff_GH_#Adlm, fr_MF, en_SZ, rwk_TZ, kk_KZ, ar_PS, kkj_CM, es_GQ, en_SX, ru_KZ, ko_KP, nl_SR, bem_ZM_#Latn, cgg_UG_#Latn, nl_BQ, ee_GH_#Latn, ff_GN_#Adlm, uz_UZ_#Cyrl, asa_TZ, fr_SN, fr_MA, ff_GM_#Adlm, fr_BL, mgo_CM, nmg_CM_#Latn, tg_TJ_#Cyrl, en_SS, shi_MA, en_MG, fr_BI, naq_NA_#Latn, fr_BJ, vai_LR, bs_BA_#Cyrl, khq_ML_#Latn, mn_MN_#Cyrl, wo_SN, ha_NG_#Latn, fr_HT, nl_SX, fr_CG, ms_MY_#Latn, zgh_MA_#Tfng, nyn_UG_#Latn, en_VU, to_TO, ff_SL_#Latn, xog_UG_#Latn, ff_SN_#Adlm, vi_VN_#Latn, jgo_CM_#Latn, zgh_MA, uk_UA, lg_UG_#Latn, en_NF, sr_XK_#Cyrl, ar_SS, nl_AW, en_AI, xog_UG, en_CM, ru_MD, ff_SN_#Latn, en_TO, ff_SL_#Adlm, en_PG, fr_CF, pt_TL, en_ER, sr_BA, be_BY_#Cyrl, fr_TG, sr_XK_#Latn, ig_NG, fr_GN, en_CK, ar_MA, fr_TD, bem_ZM, ewo_CM_#Latn, ewo_CM, fr_CD, rn_BI, en_NA, mgo_CM_#Latn, lag_TZ, qu_BO, kea_CV_#Latn, sq_XK, mi_NZ_#Latn, en_KY, si_LK, ar_SO, fr_MU, en_TK, mua_CM, pt_GW, ee_TG, ln_AO, be_BY, pt_CV, ru_BY, ee_GH, kk_KZ_#Cyrl, yo_BJ, fr_KM, es_AR, en_MY, sbp_TZ, hy_AM, en_GM, ksb_TZ_#Latn, pt_AO, en_001, dua_CM_#Latn, lag_TZ_#Latn, ru_KG, fr_MR, ksf_CM_#Latn, ff_BF_#Latn, en_MW, naq_NA, en_IO, en_CC, az_AZ_#Cyrl, shi_MA_#Latn, es_CU, ig_NG_#Latn, yav_CM, da_GL, wo_SN_#Latn, es_CR, fr_GA, en_MU, az_AZ_#Latn, dyo_SN_#Latn, en_VG, en_TC, af_NA, mas_TZ, ms_BN],\r\nWeekFields[SATURDAY,1]=[ar_EG, ps_AF_#Arab, ar_SY, uz_AF, lrc_IR, ar_OM, lrc_IQ, ar_DZ, fa_IR_#Arab, fr_DJ, so_DJ, lrc_IR_#Arab, ar_AE, mzn_IR, en_SD, uz_AF_#Arab, ar_IQ, ar_KW, ar_JO, fr_DZ, fa_AF, ckb_IQ_#Arab, ar_SD, fa_IR, kab_DZ_#Latn, kab_DZ, ps_AF, mzn_IR_#Arab, en_AE, ar_BH, ar_QA, ar_EG_#Arab, ckb_IQ, ckb_IR, ar_LY, fr_SY, ar_DJ],\r\nWeekFields[MONDAY,4]=[se_NO_#Latn, dsb_DE, lb_LU_#Latn, se_NO, pl_PL, nds_DE, nb_SJ, lb_LU, dsb_DE_#Latn, is_IS_#Latn, no_NO_NY, pl_PL_#Latn, nds_DE_#Latn, tt_RU, fur_IT_#Latn, ast_ES_#Latn, en_JE, da_DK_#Latn, en_AT, gd_GB, wae_CH_#Latn, no_NO_#Latn, smn_FI_#Latn, en_NL, gsw_FR, hu_HU, bg_BG_#Cyrl, et_EE, fy_NL, de_IT, de_CH, nl_NL, pt_CH, gv_IM, kw_GB_#Latn, fi_FI_#Latn, fr_BE, nb_NO, it_SM, fi_FI, ca_FR, de_BE, de_DE_#Latn, fr_FR_#Latn, ksh_DE, ru_RU, ga_IE, rm_CH_#Latn, fr_LU, ga_GB, no_NO, de_LU, de_DE, nn_NO_#Latn, en_DK, lt_LT, ksh_DE_#Latn, da_DK, en_BE, tt_RU_#Cyrl, ga_IE_#Latn, is_IS, en_SE, gsw_LI, kw_GB, en_DE, en_FI, sah_RU_#Cyrl, en_FJ, de_LI, smn_FI, de_AT, ce_RU, os_RU, nl_NL_#Latn, gl_ES_#Latn, en_GG, sv_SE, el_GR_#Grek, it_VA, es_ES, bg_BG, hsb_DE, eu_ES_#Latn, sv_SE_#Latn, sv_FI, en_IE, fo_FO_#Latn, en_GB, fr_MC, ce_RU_#Cyrl, gsw_CH, pt_LU, hsb_DE_#Latn, br_FR_#Latn, es_ES_#Latn, cy_GB_#Latn, fr_FR, sah_RU, sk_SK, ru_RU_#Cyrl, gv_IM_#Latn, nds_NL, fr_RE, fr_GP, fr_CH, nb_NO_#Latn, fy_NL_#Latn, cs_CZ, ca_ES, hu_HU_#Latn, rm_CH, et_EE_#Latn, gd_GB_#Latn, se_FI, lt_LT_#Latn, ca_IT, ca_AD, it_CH, it_IT, nn_NO, se_SE, it_IT_#Latn, wae_CH, fo_DK, en_CH, fo_FO, ast_ES, fr_MQ, fur_IT, fr_GF, sk_SK_#Latn, eu_ES, el_GR, ca_ES_VALENCIA, gl_ES, en_IM, gsw_CH_#Latn, en_GI, ca_ES_#Latn, nl_BE, cy_GB, sv_AX, cs_CZ_#Latn, br_FR],\r\nWeekFields[SUNDAY,1]=[, he, th_TH_#Thai, nds, ti_ET, ta_SG, lv, zh_SG_#Hans, en_JM, kkj, sd__#Arab, dz_BT, mni, yi, cs, el, af, smn, dsb, khq, ne_IN, es_US, sa, en_US_POSIX, pt_MO, zh__#Hans, so_KE, gu_IN_#Gujr, teo, eu, es_DO, ru, az, su__#Latn, fa, nd, kk, hy, en_AU, ksb, luo, lb, su, no, ar_IL, mgh, or_IN, az__#Latn, ta, lag, luo_KE_#Latn, bo, om_KE, en_AS, zh_TW, sd_IN, kln, mai, pt_MZ, my_MM_#Mymr, gl, sr__#Cyrl, yue_CN_#Hans, ff__#Adlm, kn_IN, ga, qu, en_PR, mua, jv, ps, sn, km, zgh, es, jgo, gsw, pa_IN_#Guru, ur_PK_#Arab, ceb, bn_BD_#Beng, ne_NP_#Deva, te, sl, mr_IN, ha, guz_KE_#Latn, es_HN, sbp, sw, nmg, pt_BR_#Latn, vai__#Vaii, gu, lo, zh_HK_#Hans, bs__#Latn, os, am, ki_KE, en_PK, zh_CN, rw, brx_IN, en_TT, dav, ses, xh_ZA, es_VE, mer_KE, mg, mr, seh, mgo, en_US, pa__#Guru, sa_IN_#Deva, gu_IN, ast, mt_MT_#Latn, yue__#Hans, ccp_BD_#Cakm, ks__#Arab, af_ZA_#Latn, ti_ET_#Ethi, am_ET_#Ethi, cgg, zh_MO, ksf, cy, ceb_PH, sq, fr, qu_PE, de, zu_ZA, su_ID_#Latn, lg, en_DM, sd, he_IL_#Hebr, yue_CN, en_WS, so, kab, nus, sn_ZW, th_TH_TH_#u-nu-thai, hi, zh_MO_#Hant, vai, sd_PK_#Arab, mi, mt, yav, kam, ro, ps_PK, ee, en_UM, lo_LA, chr, af_ZA, doi, es_BZ, as, it, ks_IN, my_MM, ur_PK, ii, naq, en_SG, kln_KE, tzm, fur, om, mai_IN_#Deva, ja_JP_JP_#u-ca-japanese, es_SV, pt_BR, mni_IN_#Beng, ml_IN, hr, lt, ccp, zh_CN_#Hans, en, guz_KE, ccp_BD, ca, pa_PK, ug_CN, ki_KE_#Latn, es_BR, bo_CN_#Tibt, chr_US, nyn, mk, sat, pa__#Arab, bs, fy, th, dav_KE, dje, mas_KE, mni_IN, ckb, bem, da, wae, ig, en_HK, brx_IN_#Deva, mer_KE_#Latn, en_US_#Latn, ki, nb, kok, ewo, nn, bg, kea, zu, am_ET, bo_CN, hsb, kok_IN_#Deva, sat_IN, pcm, sah, mer, br, ar_SA, fil_PH_#Latn, sk, om_ET_#Latn, ml, en_MT, en_IL, sv, kn_IN_#Knda, lkt_US, sd__#Deva, ku, fil_PH, es_PH, es_CO, agq, ebu, es_GT, nd_ZW_#Latn, mn, kam_KE, en_MO, ja_JP_#Jpan, wo, shi__#Tfng, en_BZ, lkt_US_#Latn, ta_IN_#Taml, az__#Cyrl, tk, shi__#Latn, en_BW, he_IL, nd_ZW, luy_KE_#Latn, mni__#Beng, ne, zh_SG, om_ET, lo_LA_#Laoo, ja_JP, kam_KE_#Latn, my, ka, ko_KR_#Kore, ms_ID, shi, kl, sa_IN, yue_HK, id, zh, es_PE, mgh_MZ, saq, zh_HK_#Hant, sat_IN_#Olck, es_PA, bez, kw, vai__#Latn, ksh, ur_IN, ln, luy_KE, pt, mgh_MZ_#Latn, ar_YE, to, et, rof, en_BS, be, gv, kln_KE_#Latn, dua, hi_IN_#Deva, guz, en_KE, mfe, ja, or, brx, mai_IN, ko_KR, es_MX, zu_ZA_#Latn, doi_IN, fi, uz, bs__#Cyrl, sr__#Latn, bo_IN, rm, bn, kn, nnh, bn_BD, en_ZA, pa_IN, en_MH, zh__#Hant, jv_ID_#Latn, ky, mas, xh_ZA_#Latn, dav_KE_#Latn, xh, te_IN, mas_KE_#Latn, lrc, ce, mt_MT, ko, ml_IN_#Mlym, ak, kde, dz, ia, seh_MZ, su_ID, ii_CN, pa_PK_#Arab, bn_IN, pa, rwk, rn, tg, hu, ceb_PH_#Latn, twq, bm, en_GU, tr, es_PY, kok_IN, dz_BT_#Tibt, en_PH, zh_MO_#Hans, sat__#Olck, ff, haw_US_#Latn, en_AG, ebu_KE, xog, ms, ug, qu_PE_#Latn, id_ID, teo_KE, haw_US, vi, fr_CA, dyo, luo_KE, eo, en_ZW, pl, ur, uz__#Arab, saq_KE, se, sn_ZW_#Latn, ms_SG, yue__#Hant, km_KH_#Khmr, luy, uk, es_PR, mzn, tt, ug_CN_#Arab, hi_IN, saq_KE_#Latn, asa, ff__#Latn, doi_IN_#Deva, ebu_KE_#Latn, uz__#Cyrl, fil, yue_HK_#Hant, fo, ne_NP, ta_IN, lkt, id_ID_#Latn, is, te_IN_#Telu, si, jv_ID, ks, zh_TW_#Hant, as_IN, zh_HK, sw_KE, th_TH, as_IN_#Beng, jmc, yue, ar, en_VI, haw, bas, uz__#Latn, sg, km_KH, nl, ks_IN_#Arab, sd_IN_#Deva, mr_IN_#Deva, sr, seh_MZ_#Latn, en_CA, gd, chr_US_#Cher, or_IN_#Orya, so_ET, vun, en_IN, lu, yo, es_NI, ii_CN_#Yiii, sd_PK, ti, ccp_IN],\r\nWeekFields[SUNDAY,4]=[pt_PT]}\r\n```","title":"Difference between year-of-era and week-based-year?","body":"<p>I like @xxks-kkk answer. If you are interesting which week definition is used for your Locale, you can check it easily.</p>\n<p>In brief:<br/></p>\n<p>Definition of the week and to which year it belongs to depends on two values:</p>\n<ul>\n<li>The first day-of-week.</li>\n<li>The minimal number of days in the first week.</li>\n</ul>\n<p>This two values are encapsulated in <code>WeekFields</code> class.</p>\n<p>The following code prints all possible <code>WeekFields</code> with all assigned to it <code>Locale</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintLocaleWeekFields {\n\n    public static void main(String[] args) {\n        Map&lt;WeekFields, List&lt;Locale&gt;&gt; locales = Arrays.stream(Locale.getAvailableLocales())\n            .collect(Collectors.groupingBy(WeekFields::of));\n        System.out.println(locales);\n    }\n}\n</code></pre>\n<p>Printed result:</p>\n<pre><code>WeekFields[MONDAY,1]=[tk_TM_#Latn, en_NU, ff_LR_#Adlm, es_BO, bs_BA, en_LR, ar_TD, nus_SS_#Latn, ff_MR_#Latn, sw_UG, tk_TM, sr_ME_#Cyrl, os_GE_#Cyrl, yo_NG, en_PW, sr_CS, agq_CM_#Latn, ar_EH, bs_BA_#Latn, dje_NE, hy_AM_#Armn, ff_GH_#Latn, fr_PM, ar_KM, agq_CM, tr_TR, kl_GL_#Latn, ar_MR, kl_GL, en_NR, rw_RW_#Latn, en_CY, tr_TR_#Latn, ti_ER, nus_SS, en_RW, hr_HR_#Latn, ln_CD, nnh_CM, dje_NE_#Latn, ksf_CM, fr_VU, nnh_CM_#Latn, fr_NE, bez_TZ_#Latn, ksb_TZ, ln_CF, en_CX, ak_GH_#Latn, en_TZ, fr_NC, fr_CM, pcm_NG_#Latn, teo_UG, ln_CG, az_AZ, el_CY, ku_TR, ff_SN, sq_MK, sr_BA_#Cyrl, so_SO_#Latn, tr_CY, lv_LV_#Latn, uz_UZ_#Latn, dua_CM, fr_TN, sr_RS, sw_TZ_#Latn, fr_PF, pt_GQ, vun_TZ, jmc_TZ, mg_MG_#Latn, en_TV, en_PN, lu_CD_#Latn, en_GY, dyo_SN, nl_CW, fr_GQ, en_NG, fr_CI, ia_001, en_LC, ff_BF_#Adlm, bm_ML_#Latn, yav_CM_#Latn, mk_MK, sl_SI, sg_CF_#Latn, jgo_CM, ff_NE_#Adlm, en_BM, kea_CV, vi_VN, mfe_MU, fr_BF, fr_YT, ff_CM_#Latn, sr_BA_#Latn, uk_UA_#Cyrl, ff_GW_#Adlm, ha_GH, yi_001_#Hebr, to_TO_#Latn, ff_GW_#Latn, mua_CM_#Latn, nyn_UG, ms_MY, rn_BI_#Latn, ta_LK, tg_TJ, vun_TZ_#Latn, es_EC, mk_MK_#Cyrl, ff_CM_#Adlm, lg_UG, ff_NE_#Latn, cgg_UG, pcm_NG, en_BI, mi_NZ, ar_ER, es_EA, fr_SC, en_SL, ff_NG_#Latn, ff_NG_#Adlm, en_SH, eo_001, en_SI, vai_LR_#Vaii, rof_TZ_#Latn, ar_LB, ff_GN, eo_001_#Latn, hr_HR, rof_TZ, mn_MN, en_FM, fr_WF, ff_GM_#Latn, teo_UG_#Latn, asa_TZ_#Latn, bez_TZ, ff_GN_#Latn, sl_SI_#Latn, en_FK, bas_CM_#Latn, en_DG, pt_ST, ak_GH, es_419, ln_CD_#Latn, kkj_CM_#Latn, es_IC, ar_TN, bm_ML, jmc_TZ_#Latn, khq_ML, en_SB, rw_RW, shi_MA_#Tfng, ro_MD, uz_UZ, ia_001_#Latn, en_SC, en_UG, en_NZ, es_UY, ru_UA, sg_CF, en_BB, hr_BA, yo_NG_#Latn, lu_CD, ar_001, so_SO, lv_LV, sr_RS_#Cyrl, en_LS, ka_GE, sw_TZ, fr_RW, mg_MG, sr_RS_#Latn, ky_KG, tzm_MA_#Latn, ku_TR_#Latn, mfe_MU_#Latn, ky_KG_#Cyrl, qu_EC, ka_GE_#Geor, en_MS, kde_TZ_#Latn, sr_ME, en_ZM, fr_ML, ha_NG, os_GE, yi_001, en_GH, tzm_MA, ses_ML, rwk_TZ_#Latn, vai_LR_#Latn, sw_CD, ff_MR_#Adlm, en_VC, ses_ML_#Latn, en_150, ha_NE, en_KN, ro_RO, sr_ME_#Latn, ff_LR_#Latn, bas_CM, fr_MG, es_CL, sq_AL, ro_RO_#Latn, twq_NE, nmg_CM, en_MP, en_GD, sbp_TZ_#Latn, kde_TZ, ta_MY, si_LK_#Sinh, en_KI, twq_NE_#Latn, sq_AL_#Latn, ff_GH_#Adlm, fr_MF, en_SZ, rwk_TZ, kk_KZ, ar_PS, kkj_CM, es_GQ, en_SX, ru_KZ, ko_KP, nl_SR, bem_ZM_#Latn, cgg_UG_#Latn, nl_BQ, ee_GH_#Latn, ff_GN_#Adlm, uz_UZ_#Cyrl, asa_TZ, fr_SN, fr_MA, ff_GM_#Adlm, fr_BL, mgo_CM, nmg_CM_#Latn, tg_TJ_#Cyrl, en_SS, shi_MA, en_MG, fr_BI, naq_NA_#Latn, fr_BJ, vai_LR, bs_BA_#Cyrl, khq_ML_#Latn, mn_MN_#Cyrl, wo_SN, ha_NG_#Latn, fr_HT, nl_SX, fr_CG, ms_MY_#Latn, zgh_MA_#Tfng, nyn_UG_#Latn, en_VU, to_TO, ff_SL_#Latn, xog_UG_#Latn, ff_SN_#Adlm, vi_VN_#Latn, jgo_CM_#Latn, zgh_MA, uk_UA, lg_UG_#Latn, en_NF, sr_XK_#Cyrl, ar_SS, nl_AW, en_AI, xog_UG, en_CM, ru_MD, ff_SN_#Latn, en_TO, ff_SL_#Adlm, en_PG, fr_CF, pt_TL, en_ER, sr_BA, be_BY_#Cyrl, fr_TG, sr_XK_#Latn, ig_NG, fr_GN, en_CK, ar_MA, fr_TD, bem_ZM, ewo_CM_#Latn, ewo_CM, fr_CD, rn_BI, en_NA, mgo_CM_#Latn, lag_TZ, qu_BO, kea_CV_#Latn, sq_XK, mi_NZ_#Latn, en_KY, si_LK, ar_SO, fr_MU, en_TK, mua_CM, pt_GW, ee_TG, ln_AO, be_BY, pt_CV, ru_BY, ee_GH, kk_KZ_#Cyrl, yo_BJ, fr_KM, es_AR, en_MY, sbp_TZ, hy_AM, en_GM, ksb_TZ_#Latn, pt_AO, en_001, dua_CM_#Latn, lag_TZ_#Latn, ru_KG, fr_MR, ksf_CM_#Latn, ff_BF_#Latn, en_MW, naq_NA, en_IO, en_CC, az_AZ_#Cyrl, shi_MA_#Latn, es_CU, ig_NG_#Latn, yav_CM, da_GL, wo_SN_#Latn, es_CR, fr_GA, en_MU, az_AZ_#Latn, dyo_SN_#Latn, en_VG, en_TC, af_NA, mas_TZ, ms_BN],\nWeekFields[SATURDAY,1]=[ar_EG, ps_AF_#Arab, ar_SY, uz_AF, lrc_IR, ar_OM, lrc_IQ, ar_DZ, fa_IR_#Arab, fr_DJ, so_DJ, lrc_IR_#Arab, ar_AE, mzn_IR, en_SD, uz_AF_#Arab, ar_IQ, ar_KW, ar_JO, fr_DZ, fa_AF, ckb_IQ_#Arab, ar_SD, fa_IR, kab_DZ_#Latn, kab_DZ, ps_AF, mzn_IR_#Arab, en_AE, ar_BH, ar_QA, ar_EG_#Arab, ckb_IQ, ckb_IR, ar_LY, fr_SY, ar_DJ],\nWeekFields[MONDAY,4]=[se_NO_#Latn, dsb_DE, lb_LU_#Latn, se_NO, pl_PL, nds_DE, nb_SJ, lb_LU, dsb_DE_#Latn, is_IS_#Latn, no_NO_NY, pl_PL_#Latn, nds_DE_#Latn, tt_RU, fur_IT_#Latn, ast_ES_#Latn, en_JE, da_DK_#Latn, en_AT, gd_GB, wae_CH_#Latn, no_NO_#Latn, smn_FI_#Latn, en_NL, gsw_FR, hu_HU, bg_BG_#Cyrl, et_EE, fy_NL, de_IT, de_CH, nl_NL, pt_CH, gv_IM, kw_GB_#Latn, fi_FI_#Latn, fr_BE, nb_NO, it_SM, fi_FI, ca_FR, de_BE, de_DE_#Latn, fr_FR_#Latn, ksh_DE, ru_RU, ga_IE, rm_CH_#Latn, fr_LU, ga_GB, no_NO, de_LU, de_DE, nn_NO_#Latn, en_DK, lt_LT, ksh_DE_#Latn, da_DK, en_BE, tt_RU_#Cyrl, ga_IE_#Latn, is_IS, en_SE, gsw_LI, kw_GB, en_DE, en_FI, sah_RU_#Cyrl, en_FJ, de_LI, smn_FI, de_AT, ce_RU, os_RU, nl_NL_#Latn, gl_ES_#Latn, en_GG, sv_SE, el_GR_#Grek, it_VA, es_ES, bg_BG, hsb_DE, eu_ES_#Latn, sv_SE_#Latn, sv_FI, en_IE, fo_FO_#Latn, en_GB, fr_MC, ce_RU_#Cyrl, gsw_CH, pt_LU, hsb_DE_#Latn, br_FR_#Latn, es_ES_#Latn, cy_GB_#Latn, fr_FR, sah_RU, sk_SK, ru_RU_#Cyrl, gv_IM_#Latn, nds_NL, fr_RE, fr_GP, fr_CH, nb_NO_#Latn, fy_NL_#Latn, cs_CZ, ca_ES, hu_HU_#Latn, rm_CH, et_EE_#Latn, gd_GB_#Latn, se_FI, lt_LT_#Latn, ca_IT, ca_AD, it_CH, it_IT, nn_NO, se_SE, it_IT_#Latn, wae_CH, fo_DK, en_CH, fo_FO, ast_ES, fr_MQ, fur_IT, fr_GF, sk_SK_#Latn, eu_ES, el_GR, ca_ES_VALENCIA, gl_ES, en_IM, gsw_CH_#Latn, en_GI, ca_ES_#Latn, nl_BE, cy_GB, sv_AX, cs_CZ_#Latn, br_FR],\nWeekFields[SUNDAY,1]=[, he, th_TH_#Thai, nds, ti_ET, ta_SG, lv, zh_SG_#Hans, en_JM, kkj, sd__#Arab, dz_BT, mni, yi, cs, el, af, smn, dsb, khq, ne_IN, es_US, sa, en_US_POSIX, pt_MO, zh__#Hans, so_KE, gu_IN_#Gujr, teo, eu, es_DO, ru, az, su__#Latn, fa, nd, kk, hy, en_AU, ksb, luo, lb, su, no, ar_IL, mgh, or_IN, az__#Latn, ta, lag, luo_KE_#Latn, bo, om_KE, en_AS, zh_TW, sd_IN, kln, mai, pt_MZ, my_MM_#Mymr, gl, sr__#Cyrl, yue_CN_#Hans, ff__#Adlm, kn_IN, ga, qu, en_PR, mua, jv, ps, sn, km, zgh, es, jgo, gsw, pa_IN_#Guru, ur_PK_#Arab, ceb, bn_BD_#Beng, ne_NP_#Deva, te, sl, mr_IN, ha, guz_KE_#Latn, es_HN, sbp, sw, nmg, pt_BR_#Latn, vai__#Vaii, gu, lo, zh_HK_#Hans, bs__#Latn, os, am, ki_KE, en_PK, zh_CN, rw, brx_IN, en_TT, dav, ses, xh_ZA, es_VE, mer_KE, mg, mr, seh, mgo, en_US, pa__#Guru, sa_IN_#Deva, gu_IN, ast, mt_MT_#Latn, yue__#Hans, ccp_BD_#Cakm, ks__#Arab, af_ZA_#Latn, ti_ET_#Ethi, am_ET_#Ethi, cgg, zh_MO, ksf, cy, ceb_PH, sq, fr, qu_PE, de, zu_ZA, su_ID_#Latn, lg, en_DM, sd, he_IL_#Hebr, yue_CN, en_WS, so, kab, nus, sn_ZW, th_TH_TH_#u-nu-thai, hi, zh_MO_#Hant, vai, sd_PK_#Arab, mi, mt, yav, kam, ro, ps_PK, ee, en_UM, lo_LA, chr, af_ZA, doi, es_BZ, as, it, ks_IN, my_MM, ur_PK, ii, naq, en_SG, kln_KE, tzm, fur, om, mai_IN_#Deva, ja_JP_JP_#u-ca-japanese, es_SV, pt_BR, mni_IN_#Beng, ml_IN, hr, lt, ccp, zh_CN_#Hans, en, guz_KE, ccp_BD, ca, pa_PK, ug_CN, ki_KE_#Latn, es_BR, bo_CN_#Tibt, chr_US, nyn, mk, sat, pa__#Arab, bs, fy, th, dav_KE, dje, mas_KE, mni_IN, ckb, bem, da, wae, ig, en_HK, brx_IN_#Deva, mer_KE_#Latn, en_US_#Latn, ki, nb, kok, ewo, nn, bg, kea, zu, am_ET, bo_CN, hsb, kok_IN_#Deva, sat_IN, pcm, sah, mer, br, ar_SA, fil_PH_#Latn, sk, om_ET_#Latn, ml, en_MT, en_IL, sv, kn_IN_#Knda, lkt_US, sd__#Deva, ku, fil_PH, es_PH, es_CO, agq, ebu, es_GT, nd_ZW_#Latn, mn, kam_KE, en_MO, ja_JP_#Jpan, wo, shi__#Tfng, en_BZ, lkt_US_#Latn, ta_IN_#Taml, az__#Cyrl, tk, shi__#Latn, en_BW, he_IL, nd_ZW, luy_KE_#Latn, mni__#Beng, ne, zh_SG, om_ET, lo_LA_#Laoo, ja_JP, kam_KE_#Latn, my, ka, ko_KR_#Kore, ms_ID, shi, kl, sa_IN, yue_HK, id, zh, es_PE, mgh_MZ, saq, zh_HK_#Hant, sat_IN_#Olck, es_PA, bez, kw, vai__#Latn, ksh, ur_IN, ln, luy_KE, pt, mgh_MZ_#Latn, ar_YE, to, et, rof, en_BS, be, gv, kln_KE_#Latn, dua, hi_IN_#Deva, guz, en_KE, mfe, ja, or, brx, mai_IN, ko_KR, es_MX, zu_ZA_#Latn, doi_IN, fi, uz, bs__#Cyrl, sr__#Latn, bo_IN, rm, bn, kn, nnh, bn_BD, en_ZA, pa_IN, en_MH, zh__#Hant, jv_ID_#Latn, ky, mas, xh_ZA_#Latn, dav_KE_#Latn, xh, te_IN, mas_KE_#Latn, lrc, ce, mt_MT, ko, ml_IN_#Mlym, ak, kde, dz, ia, seh_MZ, su_ID, ii_CN, pa_PK_#Arab, bn_IN, pa, rwk, rn, tg, hu, ceb_PH_#Latn, twq, bm, en_GU, tr, es_PY, kok_IN, dz_BT_#Tibt, en_PH, zh_MO_#Hans, sat__#Olck, ff, haw_US_#Latn, en_AG, ebu_KE, xog, ms, ug, qu_PE_#Latn, id_ID, teo_KE, haw_US, vi, fr_CA, dyo, luo_KE, eo, en_ZW, pl, ur, uz__#Arab, saq_KE, se, sn_ZW_#Latn, ms_SG, yue__#Hant, km_KH_#Khmr, luy, uk, es_PR, mzn, tt, ug_CN_#Arab, hi_IN, saq_KE_#Latn, asa, ff__#Latn, doi_IN_#Deva, ebu_KE_#Latn, uz__#Cyrl, fil, yue_HK_#Hant, fo, ne_NP, ta_IN, lkt, id_ID_#Latn, is, te_IN_#Telu, si, jv_ID, ks, zh_TW_#Hant, as_IN, zh_HK, sw_KE, th_TH, as_IN_#Beng, jmc, yue, ar, en_VI, haw, bas, uz__#Latn, sg, km_KH, nl, ks_IN_#Arab, sd_IN_#Deva, mr_IN_#Deva, sr, seh_MZ_#Latn, en_CA, gd, chr_US_#Cher, or_IN_#Orya, so_ET, vun, en_IN, lu, yo, es_NI, ii_CN_#Yiii, sd_PK, ti, ccp_IN],\nWeekFields[SUNDAY,4]=[pt_PT]}\n</code></pre>\n"}],"owner":{"account_id":1922103,"reputation":1265,"user_id":1733342,"accept_rate":50,"display_name":"Brian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23878,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"answer_count":7,"score":98,"last_activity_date":1641891755,"creation_date":1413573214,"question_id":26431882,"body_markdown":"Java 8&#39;s [`DateTimeFormatter`][1] class has a method, `ofPattern(String pattern)`, that lets you define a format from a string of `A-z`, `a-z` letters. The examples don&#39;t clarify the difference between `y`, *year-of-era* and `Y`, *week-based-year*. What is it?\r\n\r\n    Symbol  Meaning                     Presentation      Examples\r\n    ------  -------                     ------------      -------\r\n     y       year-of-era                 year              2004; 04\r\n     Y       week-based-year             year              1996; 96\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Difference between year-of-era and week-based-year?","body":"<p>Java 8's <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class has a method, <code>ofPattern(String pattern)</code>, that lets you define a format from a string of <code>A-z</code>, <code>a-z</code> letters. The examples don't clarify the difference between <code>y</code>, <em>year-of-era</em> and <code>Y</code>, <em>week-based-year</em>. What is it?</p>\n\n<pre><code>Symbol  Meaning                     Presentation      Examples\n------  -------                     ------------      -------\n y       year-of-era                 year              2004; 04\n Y       week-based-year             year              1996; 96\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1641794362,"post_id":70648230,"comment_id":124890447,"body_markdown":"You can pass an argument to the `verify` method to make sure that the right key is passed to `productRepository.delete`.","body":"You can pass an argument to the <code>verify</code> method to make sure that the right key is passed to <code>productRepository.delete</code>."},{"owner":{"display_name":"user17888319"},"score":0,"creation_date":1641796503,"post_id":70648230,"comment_id":124890879,"body_markdown":"@DawoodibnKareem Do you mean using ArgumentCaptor? Any example pls?","body":"@DawoodibnKareem Do you mean using ArgumentCaptor? Any example pls?"},{"owner":{"display_name":"user17888319"},"score":0,"creation_date":1641796511,"post_id":70648230,"comment_id":124890881,"body_markdown":"@DawoodibnKareem Any reply pls?","body":"@DawoodibnKareem Any reply pls?"}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641891742,"creation_date":1641805080,"answer_id":70649894,"question_id":70648230,"body_markdown":"You can test two things:\r\n1. Verify that delete() is called with the right argument and\r\n2. that the EntityNotFoundException is thrown for a non existant UUID\r\n\r\nBest way to do this is by mocking the productRepository delete() method as you\r\nmention and by throwing the expected exception on a call to \r\nproductRepository.findByUuid(uuid) ```when(productRepositoryMock.findByUuid(uuid)).thenThrow(new EntityNotFoundException(PRODUCT)));```\r\n\r\nThe [Mockito documentation][1] makes a bit clearer:\r\n\r\n&gt; For information solely on custom argument matchers check out javadoc for ArgumentMatcher class (for non-trivial method arguments used in stubbing or verification).\r\n\r\n&gt; Be reasonable with using complicated argument matching. The natural matching style using equals() with occasional anyX() matchers tend to give clean &amp; simple tests. Sometimes it&#39;s just better to refactor the code to allow equals() matching or even implement equals() method to help out with testing.\r\n\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#3","title":"Should I use Mockito doAnswer for testing a delete method in Java?","body":"<p>You can test two things:</p>\n<ol>\n<li>Verify that delete() is called with the right argument and</li>\n<li>that the EntityNotFoundException is thrown for a non existant UUID</li>\n</ol>\n<p>Best way to do this is by mocking the productRepository delete() method as you\nmention and by throwing the expected exception on a call to\nproductRepository.findByUuid(uuid) <code>when(productRepositoryMock.findByUuid(uuid)).thenThrow(new EntityNotFoundException(PRODUCT)));</code></p>\n<p>The <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#3\" rel=\"nofollow noreferrer\">Mockito documentation</a> makes a bit clearer:</p>\n<blockquote>\n<p>For information solely on custom argument matchers check out javadoc for ArgumentMatcher class (for non-trivial method arguments used in stubbing or verification).</p>\n</blockquote>\n<blockquote>\n<p>Be reasonable with using complicated argument matching. The natural matching style using equals() with occasional anyX() matchers tend to give clean &amp; simple tests. Sometimes it's just better to refactor the code to allow equals() matching or even implement equals() method to help out with testing.</p>\n</blockquote>\n"}],"owner":{"display_name":"user17888319"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641891742,"creation_date":1641793281,"question_id":70648230,"body_markdown":"I want to write a Unit Test for testing `productRepository.delete` method:\r\n\r\n```\r\npublic void delete(UUID uuid) {\r\n\t\tfinal Product product = productRepository.findByUuid(uuid)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new EntityNotFoundException(PRODUCT));\r\n\t\tproductRepository.delete(product);\r\n}\r\n```\r\n\r\nHowever, I have really no idea on what is the proper approach for testing this method. Some approaches use `verify`, but I think it is not good idea as it just check if the `productRepository`&#39;s  delete method is called or not. Instead of this, I am thinking something e.g. `doAnswer(AdditionalAnswers.returnsFirstArg()).when(productRepository).delete(any());`, but not sure if this is the most proper way for testing `productRepository.delete`. So, how can I test it properly?","title":"Should I use Mockito doAnswer for testing a delete method in Java?","body":"<p>I want to write a Unit Test for testing <code>productRepository.delete</code> method:</p>\n<pre><code>public void delete(UUID uuid) {\n        final Product product = productRepository.findByUuid(uuid)\n                        .orElseThrow(() -&gt; new EntityNotFoundException(PRODUCT));\n        productRepository.delete(product);\n}\n</code></pre>\n<p>However, I have really no idea on what is the proper approach for testing this method. Some approaches use <code>verify</code>, but I think it is not good idea as it just check if the <code>productRepository</code>'s  delete method is called or not. Instead of this, I am thinking something e.g. <code>doAnswer(AdditionalAnswers.returnsFirstArg()).when(productRepository).delete(any());</code>, but not sure if this is the most proper way for testing <code>productRepository.delete</code>. So, how can I test it properly?</p>\n"},{"tags":["java","apache-flink","data-stream"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641891664,"creation_date":1641891664,"answer_id":70664059,"question_id":70662916,"body_markdown":"It works for the below code, Did you do `env.execute`?\r\n\r\n&gt; Note that if you don’t call execute(), your application won’t be run.\r\n\r\nhttps://nightlies.apache.org/flink/flink-docs-master/docs/learn-flink/datastream_api/#a-complete-example\r\n\r\n    static class Sample {\r\n        int val = 5;\r\n\r\n        public void setVal(int val) {\r\n            this.val = val;\r\n        }\r\n        public String toString(){\r\n            return &quot;My val is &quot; + val;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment();\r\n\r\n        DataStream&lt;Sample&gt; mySamples = env.fromElements(new Sample());\r\n        mySamples.map(sample -&gt; {\r\n                     sample.setVal(10);\r\n                     return sample;\r\n                 })\r\n                 .print();\r\n\r\n        env.execute();\r\n    }\r\n\r\n\r\n\r\nLog:\r\n\r\n\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (10/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (10/16)#0 (bf54e7d1b353295b15654e2448deccf3) [FINISHED]\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (9/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate - Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4): Releasing SingleInputGate{owningTaskName=&#39;Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4)&#39;, gateIndex=0}.\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (11/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (11/16)#0 (f051a157bfd41d38ad1d645543384003) [FINISHED]\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (9/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4) [FINISHED]\r\n    \r\n    7&gt; My val is 10\r\n    \r\n    09:59:46.838 [Source: Collection Source (1/1)#0] DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition - Source: Collection Source (1/1)#0 (915eb1a21636f7a00f9b7b37d82225c3): Finished PipelinedSubpartition#14 [number of buffers: 4 (21 bytes), number of buffers in backlog: 0, finished? true, read view? true].\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (14/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.ResultPartition - PipelinedResultPartition 85e04b269c1186f0664dc9ee99034cf3#0@915eb1a21636f7a00f9b7b37d82225c3 [PIPELINED_BOUNDED, 16 subpartitions, 4 pending consumptions]: Received consumed notification for subpartition 13.\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (15/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.ResultPartition - PipelinedResultPartition 85e04b269c1186f0664dc9ee99034cf3#0@915eb1a21636f7a00f9b7b37d82225c3 [PIPELINED_BOUNDED, 16 subpartitions, 3 pending consumptions]: Received consumed notification for subpartition 14.\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (14/16)#0] DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask - Finished task Map -&gt; Sink: Print to Std. Out (14/16)#0\r\n    09:59:46.838 [Map -&gt; Sink: Print to Std. Out (15/16)#0] DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask - Finished task Map -&gt; Sink: Print to Std. Out (15/16)#0\r\n    09:59:46.838 [Source: Collection Source (1/1)#0] DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition - Source: Collection Source (1/1)#0 (915eb1a21636f7a00f9b7b37d82225c3): Finished PipelinedSubpartition#15 [number of buffers: 4 (21 bytes), number of buffers in backlog: 0, finished? true, read view? true].\r\n\r\n","title":"Flink DataStream element not updating","body":"<p>It works for the below code, Did you do <code>env.execute</code>?</p>\n<blockquote>\n<p>Note that if you don’t call execute(), your application won’t be run.</p>\n</blockquote>\n<p><a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/learn-flink/datastream_api/#a-complete-example\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/docs/learn-flink/datastream_api/#a-complete-example</a></p>\n<pre><code>static class Sample {\n    int val = 5;\n\n    public void setVal(int val) {\n        this.val = val;\n    }\n    public String toString(){\n        return &quot;My val is &quot; + val;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n\n    final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment();\n\n    DataStream&lt;Sample&gt; mySamples = env.fromElements(new Sample());\n    mySamples.map(sample -&gt; {\n                 sample.setVal(10);\n                 return sample;\n             })\n             .print();\n\n    env.execute();\n}\n</code></pre>\n<p>Log:</p>\n<pre><code>09:59:46.838 [Map -&gt; Sink: Print to Std. Out (10/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (10/16)#0 (bf54e7d1b353295b15654e2448deccf3) [FINISHED]\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (9/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.consumer.SingleInputGate - Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4): Releasing SingleInputGate{owningTaskName='Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4)', gateIndex=0}.\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (11/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (11/16)#0 (f051a157bfd41d38ad1d645543384003) [FINISHED]\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (9/16)#0] DEBUG org.apache.flink.runtime.taskmanager.Task - Ensuring all FileSystem streams are closed for task Map -&gt; Sink: Print to Std. Out (9/16)#0 (7ed1412933822e68476429e2dcb945b4) [FINISHED]\n\n7&gt; My val is 10\n\n09:59:46.838 [Source: Collection Source (1/1)#0] DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition - Source: Collection Source (1/1)#0 (915eb1a21636f7a00f9b7b37d82225c3): Finished PipelinedSubpartition#14 [number of buffers: 4 (21 bytes), number of buffers in backlog: 0, finished? true, read view? true].\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (14/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.ResultPartition - PipelinedResultPartition 85e04b269c1186f0664dc9ee99034cf3#0@915eb1a21636f7a00f9b7b37d82225c3 [PIPELINED_BOUNDED, 16 subpartitions, 4 pending consumptions]: Received consumed notification for subpartition 13.\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (15/16)#0] DEBUG org.apache.flink.runtime.io.network.partition.ResultPartition - PipelinedResultPartition 85e04b269c1186f0664dc9ee99034cf3#0@915eb1a21636f7a00f9b7b37d82225c3 [PIPELINED_BOUNDED, 16 subpartitions, 3 pending consumptions]: Received consumed notification for subpartition 14.\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (14/16)#0] DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask - Finished task Map -&gt; Sink: Print to Std. Out (14/16)#0\n09:59:46.838 [Map -&gt; Sink: Print to Std. Out (15/16)#0] DEBUG org.apache.flink.streaming.runtime.tasks.StreamTask - Finished task Map -&gt; Sink: Print to Std. Out (15/16)#0\n09:59:46.838 [Source: Collection Source (1/1)#0] DEBUG org.apache.flink.runtime.io.network.partition.PipelinedSubpartition - Source: Collection Source (1/1)#0 (915eb1a21636f7a00f9b7b37d82225c3): Finished PipelinedSubpartition#15 [number of buffers: 4 (21 bytes), number of buffers in backlog: 0, finished? true, read view? true].\n</code></pre>\n"}],"owner":{"account_id":22776507,"reputation":21,"user_id":16933081,"display_name":"Mathew Pitcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641891664,"creation_date":1641885364,"question_id":70662916,"body_markdown":"I have a code like:\r\n\r\n    DataStream&lt;Sample&gt; stream = ...\r\n\r\n    stream.map(x =&gt; {\r\n        x.setVal(10);\r\n        return x;\r\n    });\r\n\r\n    // Sample class looks like this:\r\n    class Sample {\r\n        int val = 5;\r\n        public void setVal(int val) {\r\n            this.val = val;\r\n        }\r\n    }\r\nWhen I check this stream by printing, I noticed that x.setVal() is not working. x.val remains 5, it doesn&#39;t become 10. I tried also doing `x.val = 10`, that didn&#39;t work too.","title":"Flink DataStream element not updating","body":"<p>I have a code like:</p>\n<pre><code>DataStream&lt;Sample&gt; stream = ...\n\nstream.map(x =&gt; {\n    x.setVal(10);\n    return x;\n});\n\n// Sample class looks like this:\nclass Sample {\n    int val = 5;\n    public void setVal(int val) {\n        this.val = val;\n    }\n}\n</code></pre>\n<p>When I check this stream by printing, I noticed that x.setVal() is not working. x.val remains 5, it doesn't become 10. I tried also doing <code>x.val = 10</code>, that didn't work too.</p>\n"},{"tags":["java","spring-boot","amazon-s3","mockito","junit5"],"comments":[{"owner":{"account_id":15580762,"reputation":132,"user_id":11240620,"display_name":"codeSeeker"},"score":1,"creation_date":1657877818,"post_id":70664048,"comment_id":128919317,"body_markdown":"Same issue for me, any solutions you have got?","body":"Same issue for me, any solutions you have got?"}],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641891606,"creation_date":1641891606,"question_id":70664048,"body_markdown":"I have to read s3 object from s3Bucket and process that fetched object. Based on that processing I will generate one map. But while running the test I&#39;m getting Not in GZIP format exception. Can anyone help me with this issue?\r\n\r\nI&#39;m using mockito for testing purpose\r\n\r\nCode to test:\r\n\r\n    public Map getAndProcessFile(){\r\n      \r\n    \ttry {\r\n    \t  S3Object fileObj = s3Client.getObject(new GetObjectRequest(BUCKET_NAME, key));\r\n    \r\n    \t  Scanner fileIn = new Scanner(new GZIPInputStream(fileObj.getObjectContent()));\r\n    \r\n    \t  Map&lt;Boolean, List&lt;CompletableFuture&gt;&gt; resultMap = processFile(fileIn);\r\n    \t return resultMap;\r\n      } catch (Exception e) {\r\n    \t  LOG.error(&quot;Error occurred while processing file with key : {}&quot;,\r\n    \t\t\t\tobjectSummary.getKey());\r\n    \t  return null;\r\n      }\r\n     }\r\n\r\nTest Method : \r\n\r\n        @Test\r\n        public void testScanAndProcessS3Object_whenKeysFound() throws Exception {\r\n         String decode = URLDecoder.decode(&quot;dummyString&quot;, &quot;UTF-8&quot;);\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        ByteArrayInputStream in = new ByteArrayInputStream(decode.getBytes(&quot;ISO-8859-1&quot;));\r\n        S3ObjectInputStream s3ObjectInputStream = new S3ObjectInputStream(in, new \r\n                                                  HttpGet(&quot;dummyRequest&quot;));\r\n        s3Object.setObjectContent(s3ObjectInputStream);\r\n        s3Object.setBucketName(BUCKET_NAME);\r\n        s3Object.setKey(&quot;000000295027.gz&quot;);\r\n\r\n        when(s3Client.getObject(anyString())).thenReturn(s3Object);\r\n\r\n        Map map = processService.getAndProcessFile();\r\n\r\n        assertNotNull(map);\r\n    }\r\n\r\nStack Trace : \r\n\r\n    java.util.zip.ZipException: Not in GZIP format\r\n    \tat java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:165)\r\n    \tat java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:79)\r\n    \tat java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:91)\r\n    \tat com.gofynd.job.ETLS3Pipeline.lambda$processObject$0(ETLS3Pipeline.java:109)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n    \tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)\r\n    \tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n    \tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n    \tat java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)\r\n    \tat java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n    \tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)\r\n    \t","title":"Getting java.util.zip.ZipException: Not in GZIP format while testing code related to AWSS3 in Spring boot","body":"<p>I have to read s3 object from s3Bucket and process that fetched object. Based on that processing I will generate one map. But while running the test I'm getting Not in GZIP format exception. Can anyone help me with this issue?</p>\n<p>I'm using mockito for testing purpose</p>\n<p>Code to test:</p>\n<pre><code>public Map getAndProcessFile(){\n  \n    try {\n      S3Object fileObj = s3Client.getObject(new GetObjectRequest(BUCKET_NAME, key));\n\n      Scanner fileIn = new Scanner(new GZIPInputStream(fileObj.getObjectContent()));\n\n      Map&lt;Boolean, List&lt;CompletableFuture&gt;&gt; resultMap = processFile(fileIn);\n     return resultMap;\n  } catch (Exception e) {\n      LOG.error(&quot;Error occurred while processing file with key : {}&quot;,\n                objectSummary.getKey());\n      return null;\n  }\n }\n</code></pre>\n<p>Test Method :</p>\n<pre><code>    @Test\n    public void testScanAndProcessS3Object_whenKeysFound() throws Exception {\n     String decode = URLDecoder.decode(&quot;dummyString&quot;, &quot;UTF-8&quot;);\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    ByteArrayInputStream in = new ByteArrayInputStream(decode.getBytes(&quot;ISO-8859-1&quot;));\n    S3ObjectInputStream s3ObjectInputStream = new S3ObjectInputStream(in, new \n                                              HttpGet(&quot;dummyRequest&quot;));\n    s3Object.setObjectContent(s3ObjectInputStream);\n    s3Object.setBucketName(BUCKET_NAME);\n    s3Object.setKey(&quot;000000295027.gz&quot;);\n\n    when(s3Client.getObject(anyString())).thenReturn(s3Object);\n\n    Map map = processService.getAndProcessFile();\n\n    assertNotNull(map);\n}\n</code></pre>\n<p>Stack Trace :</p>\n<pre><code>java.util.zip.ZipException: Not in GZIP format\n    at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:165)\n    at java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:79)\n    at java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:91)\n    at com.gofynd.job.ETLS3Pipeline.lambda$processObject$0(ETLS3Pipeline.java:109)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)\n    at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)\n    at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)\n    \n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1641888998,"post_id":70663538,"comment_id":124918521,"body_markdown":"Please: you want other humans to spend their free time to help you with your problem. So ensure to make that easy as possible. Starting with: nicely formatted code. Dont throw something at us that has so many useless newlines. And then: consider to *not* put `final` on everything. To a certain degree, this is just &quot;line noise&quot;.","body":"Please: you want other humans to spend their free time to help you with your problem. So ensure to make that easy as possible. Starting with: nicely formatted code. Dont throw something at us that has so many useless newlines. And then: consider to <i>not</i> put <code>final</code> on everything. To a certain degree, this is just &quot;line noise&quot;."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":6,"creation_date":1641889053,"post_id":70663538,"comment_id":124918538,"body_markdown":"Also note: asking about reviewing and improving working code isn&#39;t in scope of this community. You might want to carefully study the help center at https://codereview.stackexchange.com to decide whether that place would be a better fit for your request.","body":"Also note: asking about reviewing and improving working code isn&#39;t in scope of this community. You might want to carefully study the help center at <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> to decide whether that place would be a better fit for your request."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1641901411,"post_id":70663538,"comment_id":124923337,"body_markdown":"Where, one solution could be: have a private helper method that takes that `rangeKeyCondition` as argument ... but knows how to deal with the condition being null for example. Then your first method calls the helper method with null, and the second method calls it with a non-null condition.","body":"Where, one solution could be: have a private helper method that takes that <code>rangeKeyCondition</code> as argument ... but knows how to deal with the condition being null for example. Then your first method calls the helper method with null, and the second method calls it with a non-null condition."}],"owner":{"account_id":23902361,"reputation":1,"user_id":17900349,"display_name":"JAMBUGOLA MAHESH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641891444,"creation_date":1641888781,"question_id":70663538,"body_markdown":" I have 2 methods almost use the same logic. one method uses an extra rangeKey condition .\r\n\r\nI want to extract the rangeCondition and reuse the remaining logic . How I can do?\r\n\r\nI want to keep common logic in one place and ConditionExpression in other\r\n\r\nBut I am not getting the proper efficient reduced code\r\n\r\nMethod 1:\r\n\r\n```java\r\npublic List&lt;CustomItem&gt; queryOnRStartDateAsSecondaryIndex(@NonNull final Long rStartDate) {\r\n    log.info(&quot;Getting record from CustomItem Table based on Review StartDate {}&quot;, rStartDate);\r\n    final CustomItem reviewStartDateGSIKey = CustomItem.builder()\t\r\n        .reviewStartDate(rStartDate)\r\n        .build();\r\n    final DynamoDBQueryExpression&lt;CustomItem&gt; dynamoDBQueryExpression = DynamoDBUtil.getGSIDynamoDBQueryExpression(reviewStartDateGSIKey, REVIEW_START_DATE_INDEX);\r\n    try {\r\n        return dynamoDBMapper\r\n            .query(CustomItem.class, dynamoDBQueryExpression);\r\n    }\r\n    catch (DynamoDBMappingException | AmazonClientException e) {\r\n        String msg = String.format(&quot;Error while getting record for Review Start Date: %s &quot; + &quot;from CustomItem Table&quot;, rStartDate);\r\n        throw handleDDBExceptions(msg, e);\r\n    }\t\r\n}\r\n```\r\n\r\nMethod 2:\r\n\r\n```java\r\npublic List&lt;CustomItem&gt; queryOnRStartDateAsSecondaryIndex(@NonNull final Long rStartDate, @NonNull final Long startTime, @NonNull final Long endTime) {\r\n    log.info(&quot;Getting record from Table based on reviewStartDate {}, reviewStartTime between {} and {}&quot;, rStartDate, startTime, endTime);\r\n    final CustomItem reviewStartDateGSIKey = CustomItem.builder()\r\n        .reviewStartDate(rStartDate)\r\n        .build();\r\n    final DynamoDBQueryExpression&lt;CustomItem&gt; dynamoDBQueryExpression = DynamoDBUtil.getGSIDynamoDBQueryExpression(reviewStartDateGSIKey, REVIEW_START_DATE_INDEX);\r\n    Condition rangeKeyCondition = DynamoDBUtil.getDynamoDBQueryCondition(ComparisonOperator.BETWEEN, startTime, endTime);\r\n    Map&lt;String, Condition&gt; rangeKeyConditionMap = new HashMap&lt;&gt;();\r\n    rangeKeyConditionMap.put(REVIEW_START_TIME, rangeKeyCondition);\r\n    dynamoDBQueryExpression.setRangeKeyConditions(rangeKeyConditionMap);\r\n    try {\r\n        return dynamoDBMapper.query(CustomItem.class, dynamoDBQueryExpression);\r\n    }\r\n    catch (DynamoDBMappingException | AmazonClientException e) {\r\n        String msg = String.format(&quot;Error while getting record for revie Start Date: %s &quot; + &quot;from CustomItem Table&quot;, rStartDate);\r\n        throw handleDDBExceptions(msg, e);\r\n    }\r\n}\r\n```","title":"Reduce method in java","body":"<p>I have 2 methods almost use the same logic. one method uses an extra rangeKey condition .</p>\n<p>I want to extract the rangeCondition and reuse the remaining logic . How I can do?</p>\n<p>I want to keep common logic in one place and ConditionExpression in other</p>\n<p>But I am not getting the proper efficient reduced code</p>\n<p>Method 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;CustomItem&gt; queryOnRStartDateAsSecondaryIndex(@NonNull final Long rStartDate) {\n    log.info(&quot;Getting record from CustomItem Table based on Review StartDate {}&quot;, rStartDate);\n    final CustomItem reviewStartDateGSIKey = CustomItem.builder()   \n        .reviewStartDate(rStartDate)\n        .build();\n    final DynamoDBQueryExpression&lt;CustomItem&gt; dynamoDBQueryExpression = DynamoDBUtil.getGSIDynamoDBQueryExpression(reviewStartDateGSIKey, REVIEW_START_DATE_INDEX);\n    try {\n        return dynamoDBMapper\n            .query(CustomItem.class, dynamoDBQueryExpression);\n    }\n    catch (DynamoDBMappingException | AmazonClientException e) {\n        String msg = String.format(&quot;Error while getting record for Review Start Date: %s &quot; + &quot;from CustomItem Table&quot;, rStartDate);\n        throw handleDDBExceptions(msg, e);\n    }   \n}\n</code></pre>\n<p>Method 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;CustomItem&gt; queryOnRStartDateAsSecondaryIndex(@NonNull final Long rStartDate, @NonNull final Long startTime, @NonNull final Long endTime) {\n    log.info(&quot;Getting record from Table based on reviewStartDate {}, reviewStartTime between {} and {}&quot;, rStartDate, startTime, endTime);\n    final CustomItem reviewStartDateGSIKey = CustomItem.builder()\n        .reviewStartDate(rStartDate)\n        .build();\n    final DynamoDBQueryExpression&lt;CustomItem&gt; dynamoDBQueryExpression = DynamoDBUtil.getGSIDynamoDBQueryExpression(reviewStartDateGSIKey, REVIEW_START_DATE_INDEX);\n    Condition rangeKeyCondition = DynamoDBUtil.getDynamoDBQueryCondition(ComparisonOperator.BETWEEN, startTime, endTime);\n    Map&lt;String, Condition&gt; rangeKeyConditionMap = new HashMap&lt;&gt;();\n    rangeKeyConditionMap.put(REVIEW_START_TIME, rangeKeyCondition);\n    dynamoDBQueryExpression.setRangeKeyConditions(rangeKeyConditionMap);\n    try {\n        return dynamoDBMapper.query(CustomItem.class, dynamoDBQueryExpression);\n    }\n    catch (DynamoDBMappingException | AmazonClientException e) {\n        String msg = String.format(&quot;Error while getting record for revie Start Date: %s &quot; + &quot;from CustomItem Table&quot;, rStartDate);\n        throw handleDDBExceptions(msg, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1641889800,"post_id":70663678,"comment_id":124918848,"body_markdown":"Are you using a tri-state boolean there, with `null` for `false`? What is that field you&#39;re trying to set? The code makes very little sense without context tbh.","body":"Are you using a tri-state boolean there, with <code>null</code> for <code>false</code>? What is that field you&#39;re trying to set? The code makes very little sense without context tbh."},{"owner":{"account_id":7500235,"reputation":555,"user_id":6337519,"accept_rate":67,"display_name":"joH1"},"score":1,"creation_date":1641890132,"post_id":70663678,"comment_id":124918978,"body_markdown":"I don&#39;t know about SonarQube, but if your field is `Boolean` object (as opposed to plain `boolean`) maybe it expects `Boolean.TRUE` rather than `true`","body":"I don&#39;t know about SonarQube, but if your field is <code>Boolean</code> object (as opposed to plain <code>boolean</code>) maybe it expects <code>Boolean.TRUE</code> rather than <code>true</code>"},{"owner":{"account_id":16975586,"reputation":1520,"user_id":12279039,"display_name":"Ayush"},"score":0,"creation_date":1641890149,"post_id":70663678,"comment_id":124918984,"body_markdown":"@daniu I changed the code to something general on purpose because the context is hard to explain. Basically, I have a boolean field that can get set/reset from various places. This method is one such place. I have a ternary check, if the result is false, I set my field to null. If it&#39;s true, I set my field to true.","body":"@daniu I changed the code to something general on purpose because the context is hard to explain. Basically, I have a boolean field that can get set/reset from various places. This method is one such place. I have a ternary check, if the result is false, I set my field to null. If it&#39;s true, I set my field to true."},{"owner":{"account_id":16975586,"reputation":1520,"user_id":12279039,"display_name":"Ayush"},"score":0,"creation_date":1641890219,"post_id":70663678,"comment_id":124919006,"body_markdown":"@joH1 Oh yes, it is indeed a Boolean object and that might just be the case. Let me try it out.","body":"@joH1 Oh yes, it is indeed a Boolean object and that might just be the case. Let me try it out."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1641890899,"post_id":70663678,"comment_id":124919246,"body_markdown":"And as usual: SonarQube is just a dumb automat. So read the RSPEC-1125 spec, and decide for yourself if it makes sense to you (as a general rule as well as for the given code snippet).","body":"And as usual: SonarQube is just a dumb automat. So read the RSPEC-1125 spec, and decide for yourself if it makes sense to you (as a general rule as well as for the given code snippet)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641891172,"creation_date":1641890679,"answer_id":70663878,"question_id":70663678,"body_markdown":"This is SonarQube rule [RSPEC-1125](https://rules.sonarsource.com/java/RSPEC-1125)\r\n\r\nThe solution that they recommend is to change \r\n\r\n    booleanVariable = booleanMethod() ? exp : true;\r\n\r\nto\r\n\r\n    booleanVariable = !booleanMethod() || exp;\r\n\r\nUnfortunately, it doesn&#39;t work with three-valued logic involving `Boolean.TRUE`, `Boolean.FALSE` and `null`.\r\n\r\nInstead, I think that you should&lt;sup&gt;1&lt;/sup&gt; write it like this:\r\n\r\n    public void foo(Bar bar){\r\n        if (bar.equals(somePredefinedObject) {\r\n           this.setSomeField(null);\r\n        } else {\r\n           this.setSomeField(true);\r\n        }\r\n    }\r\n\r\nOr suppress this particular case.\r\n\r\nArguably, the SonarQube rule is giving a false positive here, though it could also be argued that implementing 3-values logic in this way is a bad idea.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - It is possible that you could *trick* SonarQube by using a variable containing a reference to `Boolean.TRUE`, but that is going to make your code harder for other people to read. (Expect comments like &quot;why the *heck* did you do that??&quot;)&lt;/sup&gt;\r\n","title":"SonarQube Java - Boolean literals should not be redundant - True/Null","body":"<p>This is SonarQube rule <a href=\"https://rules.sonarsource.com/java/RSPEC-1125\" rel=\"nofollow noreferrer\">RSPEC-1125</a></p>\n<p>The solution that they recommend is to change</p>\n<pre><code>booleanVariable = booleanMethod() ? exp : true;\n</code></pre>\n<p>to</p>\n<pre><code>booleanVariable = !booleanMethod() || exp;\n</code></pre>\n<p>Unfortunately, it doesn't work with three-valued logic involving <code>Boolean.TRUE</code>, <code>Boolean.FALSE</code> and <code>null</code>.</p>\n<p>Instead, I think that you should<sup>1</sup> write it like this:</p>\n<pre><code>public void foo(Bar bar){\n    if (bar.equals(somePredefinedObject) {\n       this.setSomeField(null);\n    } else {\n       this.setSomeField(true);\n    }\n}\n</code></pre>\n<p>Or suppress this particular case.</p>\n<p>Arguably, the SonarQube rule is giving a false positive here, though it could also be argued that implementing 3-values logic in this way is a bad idea.</p>\n<hr />\n<p><sup>1 - It is possible that you could <em>trick</em> SonarQube by using a variable containing a reference to <code>Boolean.TRUE</code>, but that is going to make your code harder for other people to read. (Expect comments like &quot;why the <em>heck</em> did you do that??&quot;)</sup></p>\n"}],"owner":{"account_id":16975586,"reputation":1520,"user_id":12279039,"display_name":"Ayush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70663878,"answer_count":1,"score":0,"last_activity_date":1641891172,"creation_date":1641889543,"question_id":70663678,"body_markdown":"I have the followin snippet inside a method:\r\n```java\r\npublic void foo(Bar bar){\r\n    this.setSomeField(bar.equals(somePredefinedObject) ? null : true);\r\n}\r\n```\r\nSonarqube complains about using the literal `true` in there.\r\nI feel like I can&#39;t just get rid of it so easily, because if that expression evaluates to false, I don&#39;t pass in false but rather pass in `null`. For evaluation to true, I pass in true.\r\n\r\nAny ideas on how I could go about making sonarqube happy here?","title":"SonarQube Java - Boolean literals should not be redundant - True/Null","body":"<p>I have the followin snippet inside a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(Bar bar){\n    this.setSomeField(bar.equals(somePredefinedObject) ? null : true);\n}\n</code></pre>\n<p>Sonarqube complains about using the literal <code>true</code> in there.\nI feel like I can't just get rid of it so easily, because if that expression evaluates to false, I don't pass in false but rather pass in <code>null</code>. For evaluation to true, I pass in true.</p>\n<p>Any ideas on how I could go about making sonarqube happy here?</p>\n"},{"tags":["java","spring-boot","spring-data","jpql"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641837574,"post_id":70656808,"comment_id":124906488,"body_markdown":"What are you getting? And why don&#39;t you use joins here?","body":"What are you getting? And why don&#39;t you use joins here?"},{"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"score":0,"creation_date":1641837963,"post_id":70656808,"comment_id":124906632,"body_markdown":"`List&lt;Question&gt;`","body":"<code>List&lt;Question&gt;</code>"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641838152,"post_id":70656808,"comment_id":124906688,"body_markdown":"can you please share entity structure used in this query","body":"can you please share entity structure used in this query"},{"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"score":0,"creation_date":1641839137,"post_id":70656808,"comment_id":124907018,"body_markdown":"`class CTest{\nid\nList&lt;QCard&gt;\n}\n\nclass QCard{\nid\nList&lt;Question&gt;\n}\n\nclass Question{\nid\n}\n`\nI should get by id Of CTest all Questions.","body":"<code>class CTest{ id List&lt;QCard&gt; }  class QCard{ id List&lt;Question&gt; }  class Question{ id } </code> I should get by id Of CTest all Questions."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641840336,"post_id":70656808,"comment_id":124907466,"body_markdown":"Please find my answer below, with the use of joins.","body":"Please find my answer below, with the use of joins."}],"answers":[{"tags":[],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641838997,"creation_date":1641838997,"answer_id":70657199,"question_id":70656808,"body_markdown":"    List&lt;Question&gt; findByIdIn(List&lt;Long&gt; idList); //In repository\r\n\r\nor\r\n\r\n    String qlString = &quot;select i from Item i where i.name IN :names&quot;; \r\n    Query q = em.createQuery(qlString, Item.class);\r\n    List&lt;String&gt; names = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;);\r\n    q.setParameter(&quot;names&quot;, names);\r\n    List&lt;Item&gt; actual = q.getResultList();\r\n\r\n\r\nI did those example in my past work, check it, tnx","title":"How to write &quot;JPQL&quot; query with &quot;IN&quot; between SELECTs?","body":"<pre><code>List&lt;Question&gt; findByIdIn(List&lt;Long&gt; idList); //In repository\n</code></pre>\n<p>or</p>\n<pre><code>String qlString = &quot;select i from Item i where i.name IN :names&quot;; \nQuery q = em.createQuery(qlString, Item.class);\nList&lt;String&gt; names = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;);\nq.setParameter(&quot;names&quot;, names);\nList&lt;Item&gt; actual = q.getResultList();\n</code></pre>\n<p>I did those example in my past work, check it, tnx</p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641840253,"creation_date":1641840253,"answer_id":70657443,"question_id":70656808,"body_markdown":"In your existing query, in inner queries you are selecting entities and checking IN against Id, which will definitely won&#39;t work. As you can&#39;t complete entry with the Id.\r\n\r\nAs you haven&#39;t shared your complete entity structure, assuming that you have two way relationship declared correctly in entities, here I am placing a reference query which uses the join:\r\n\r\n    @Query(&quot;SELECT q FROM Question q JOIN q.qCard qc WHERE q.qCardId = qc.id AND qc.cTestId = :id&quot;)\r\n\r\nWhere `qCardId` is the foreign key reference of `QCard` entity in `Question` entity and `cTestId` is the foreign key reference of `CTest` entity in `QCard` entity.\r\n\r\nYou can use this for your reference to update your query with joins.\r\n\r\n","title":"How to write &quot;JPQL&quot; query with &quot;IN&quot; between SELECTs?","body":"<p>In your existing query, in inner queries you are selecting entities and checking IN against Id, which will definitely won't work. As you can't complete entry with the Id.</p>\n<p>As you haven't shared your complete entity structure, assuming that you have two way relationship declared correctly in entities, here I am placing a reference query which uses the join:</p>\n<pre><code>@Query(&quot;SELECT q FROM Question q JOIN q.qCard qc WHERE q.qCardId = qc.id AND qc.cTestId = :id&quot;)\n</code></pre>\n<p>Where <code>qCardId</code> is the foreign key reference of <code>QCard</code> entity in <code>Question</code> entity and <code>cTestId</code> is the foreign key reference of <code>CTest</code> entity in <code>QCard</code> entity.</p>\n<p>You can use this for your reference to update your query with joins.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641843602,"creation_date":1641842444,"answer_id":70657845,"question_id":70656808,"body_markdown":"Test your SQL query in an SQL-client (e.g. Squirrel, DbVisualizer, etc.).\r\n\r\nAssuming your *foreign key*s are named:\r\n* `question_id` in table `QCard`\r\n* `card_id` in table `CTest`\r\n\r\nyou could have an SQL with subselects like:\r\n```sql\r\nSELECT q.id\r\nFROM Question q \r\nWHERE q.id IN (\r\n  SELECT qc.question_id\r\n  FROM QCard qc\r\n  WHERE qc.id IN (\r\n    SELECT ct.card_id\r\n    FROM CTest ct\r\n    WHERE ct.id = 1  -- example test id\r\n  )\r\n)\r\n```\r\nDoes it return the expected result or are there syntax errors?\r\n\r\nThen subsequently replace your _subselects_ by `JOIN`s.\r\n1. Question and Cards\r\n```sql\r\nSELECT q.id, c.id\r\nFROM Question q \r\nJOIN QCard c ON c.question_id = q.id\r\n```\r\n2. Cards and Tests\r\n```sql\r\nSELECT c.id, t.id\r\nFROM QCard c \r\nJOIN CTest t ON t.card_id = c.id\r\n```\r\n3. All together\r\n```sql\r\nSELECT q.id, c.id, t.id\r\nFROM Question q \r\nJOIN QCard c ON c.question_id = q.id\r\nJOIN CTest t ON t.card_id = c.id\r\n```\r\nNote: add `WHERE` clauses like `WHERE t.id = 1` if needed.\r\n\r\nExperiment with the FROM/JOIN order as it makes sense.\r\n\r\nThen translate the running SQL query to JPQL. For example:\r\n```java\r\n@Query(&quot;SELECT q&quot;\r\n+ &quot; FROM CTest test&quot; \r\n// a test has many cards (1:n)\r\n+ &quot; JOIN QCard card ON card.id = test.card_id&quot;  // associated cards\r\n// a card has many questions (1:n)\r\n+ &quot; JOIN Question q ON q.id = card.question_id&quot;  // associated questions\r\n+ &quot; WHERE test.id = :id&quot;)\r\npublic List&lt;Question&gt; findQuestionsByTestId(String id);\r\n```","title":"How to write &quot;JPQL&quot; query with &quot;IN&quot; between SELECTs?","body":"<p>Test your SQL query in an SQL-client (e.g. Squirrel, DbVisualizer, etc.).</p>\n<p>Assuming your <em>foreign key</em>s are named:</p>\n<ul>\n<li><code>question_id</code> in table <code>QCard</code></li>\n<li><code>card_id</code> in table <code>CTest</code></li>\n</ul>\n<p>you could have an SQL with subselects like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT q.id\nFROM Question q \nWHERE q.id IN (\n  SELECT qc.question_id\n  FROM QCard qc\n  WHERE qc.id IN (\n    SELECT ct.card_id\n    FROM CTest ct\n    WHERE ct.id = 1  -- example test id\n  )\n)\n</code></pre>\n<p>Does it return the expected result or are there syntax errors?</p>\n<p>Then subsequently replace your <em>subselects</em> by <code>JOIN</code>s.</p>\n<ol>\n<li>Question and Cards</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT q.id, c.id\nFROM Question q \nJOIN QCard c ON c.question_id = q.id\n</code></pre>\n<ol start=\"2\">\n<li>Cards and Tests</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT c.id, t.id\nFROM QCard c \nJOIN CTest t ON t.card_id = c.id\n</code></pre>\n<ol start=\"3\">\n<li>All together</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT q.id, c.id, t.id\nFROM Question q \nJOIN QCard c ON c.question_id = q.id\nJOIN CTest t ON t.card_id = c.id\n</code></pre>\n<p>Note: add <code>WHERE</code> clauses like <code>WHERE t.id = 1</code> if needed.</p>\n<p>Experiment with the FROM/JOIN order as it makes sense.</p>\n<p>Then translate the running SQL query to JPQL. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT q&quot;\n+ &quot; FROM CTest test&quot; \n// a test has many cards (1:n)\n+ &quot; JOIN QCard card ON card.id = test.card_id&quot;  // associated cards\n// a card has many questions (1:n)\n+ &quot; JOIN Question q ON q.id = card.question_id&quot;  // associated questions\n+ &quot; WHERE test.id = :id&quot;)\npublic List&lt;Question&gt; findQuestionsByTestId(String id);\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70657845,"answer_count":3,"score":0,"last_activity_date":1641890964,"creation_date":1641836971,"question_id":70656808,"body_markdown":"\r\nI wrote this _JPQL_ query and expect a result as `List&lt;Question&gt;`:\r\n```java\r\n@Query(&quot;SELECT q FROM Question q WHERE q.id IN (SELECT qc.questions FROM QCard qc WHERE qc.id IN (SELECT ct.qCards FROM CTest ct WHERE ct.id=:id))&quot;)\r\n```\r\nThese are my classes:\r\n```\r\nclass CTest {\r\n  id, List&lt;QCard&gt;\r\n}\r\n\r\nclass QCard{\r\n  id, List&lt;Question&gt;\r\n}\r\n\r\nclass Question{\r\n  id\r\n}\r\n```\r\nI expected all questions as return for given `CTest.id`. \r\nBut I got a compiler-error with message:\r\n&gt; SQLSyntaxErrorException\r\n\r\nI tried use &quot;:&quot; before &quot;select&quot; words but it had not helped.\r\n\r\nWhat is wrong?","title":"How to write &quot;JPQL&quot; query with &quot;IN&quot; between SELECTs?","body":"<p>I wrote this <em>JPQL</em> query and expect a result as <code>List&lt;Question&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT q FROM Question q WHERE q.id IN (SELECT qc.questions FROM QCard qc WHERE qc.id IN (SELECT ct.qCards FROM CTest ct WHERE ct.id=:id))&quot;)\n</code></pre>\n<p>These are my classes:</p>\n<pre><code>class CTest {\n  id, List&lt;QCard&gt;\n}\n\nclass QCard{\n  id, List&lt;Question&gt;\n}\n\nclass Question{\n  id\n}\n</code></pre>\n<p>I expected all questions as return for given <code>CTest.id</code>.\nBut I got a compiler-error with message:</p>\n<blockquote>\n<p>SQLSyntaxErrorException</p>\n</blockquote>\n<p>I tried use &quot;:&quot; before &quot;select&quot; words but it had not helped.</p>\n<p>What is wrong?</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622079965,"creation_date":1622079965,"answer_id":67714653,"question_id":67714503,"body_markdown":"```\r\n@Override\r\npublic int getItemCount() {\r\n  return 0;\r\n}\r\n```\r\nYou return wrong value here, it must be the size of list.","title":"Android Adapter failing to fill activity with views","body":"<pre><code>@Override\npublic int getItemCount() {\n  return 0;\n}\n</code></pre>\n<p>You return wrong value here, it must be the size of list.</p>\n"}],"owner":{"account_id":17128048,"reputation":95,"user_id":12394750,"display_name":"mystack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67714653,"answer_count":1,"score":0,"last_activity_date":1641890885,"creation_date":1622078330,"question_id":67714503,"body_markdown":"In my MainActivity I use a RecyclerView to fill an activity with images and names, but when I run the app the activity is empty. An adapter is called that is filled with and array of data objects that contain an &quot;id&quot;. The adapter inflates the item_view and uses a ViewHolder that holds a textview and acts as an onClickListener.\r\n\r\nAny ideas as to why it remains empty and how I may fill it?\r\n\r\n\r\nMainActivity:\r\n```\r\npackage com.com.com;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView mRecyclerView;\r\n    private RecyclerView.Adapter mDataAdapter;\r\n    private RecyclerView.LayoutManager mDataLayoutManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mRecyclerView = (RecyclerView)  findViewById(R.id.recyclerView);\r\n        mRecyclerView.setNestedScrollingEnabled(false);\r\n        mRecyclerView.setHasFixedSize(true);\r\n        mMatchesLayoutManager = new LinearLayoutManager(MainActivity.this);\r\n        mRecyclerView.setLayoutManager(mDataLayoutManager);\r\n        mDataAdapter = new DataAdapter(getDataSetData(), MainActivity.this);\r\n        mRecyclerView.setAdapter(mDataAdapter);\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            DataObject obj = new DataObject(Integer.toString(i));\r\n            resultsData.add(obj);\r\n        }\r\n        mDataAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n    private ArrayList&lt;DataObject&gt; resultsData = new ArrayList&lt;DataObject&gt;();\r\n    private List&lt;DataObject&gt; getDataSetData() {\r\n        return resultsData;\r\n    }\r\n}\r\n```\r\n\r\nDataAdapter:\r\n```\r\npackage com.com.com;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\npublic class DataAdapter extends RecyclerView.Adapter&lt;DataViewHolders&gt;{\r\n\r\n    private List&lt;DataObject&gt; dataList;\r\n    private Context context;\r\n\r\n    public DataAdapter(List&lt;DataObject&gt; dataList, Context context) {\r\n        this.dataList = dataList;\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public DataViewHolders onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n        View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_data, null, false);\r\n        RecyclerView.LayoutParams lp = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        layoutView.setLayoutParams(lp);\r\n        DataViewHolders rcv = new DataViewHolders((layoutView));\r\n\r\n        return rcv;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(DataViewHolders holder, int position) {\r\n        holder.mDataId.setText(dataList.get(position).getId());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n}\r\n\r\n```\r\n\r\nDataObject:\r\n```\r\npackage com.com.com;\r\n\r\npublic class DataObject {\r\n    private String Id;\r\n\r\n    public DataObject (String Id) {\r\n        this.Id= Id;\r\n    }\r\n\r\n    public String getId() {\r\n        return Id;\r\n    }\r\n\r\n    public void setId(String Id) {\r\n        this.Id= Id;\r\n    }\r\n\r\n}\r\n```\r\n\r\nDataViewHolders:\r\n```\r\npackage com.com.com;\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class DatasViewHolders extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n    public TextView mDataId;\r\n\r\n    public DataViewHolders(View itemView) {\r\n        super(itemView);\r\n        itemView.setOnClickListener(this);\r\n\r\n        mDataId = (TextView) itemView.findViewById(R.id.Dataid);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nactivity_main:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nitem_data:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;20sp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;75sp&quot;\r\n        android:layout_height=&quot;75sp&quot;\r\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Data ID&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:id=&quot;@+id/Dataid&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"Android Adapter failing to fill activity with views","body":"<p>In my MainActivity I use a RecyclerView to fill an activity with images and names, but when I run the app the activity is empty. An adapter is called that is filled with and array of data objects that contain an &quot;id&quot;. The adapter inflates the item_view and uses a ViewHolder that holds a textview and acts as an onClickListener.</p>\n<p>Any ideas as to why it remains empty and how I may fill it?</p>\n<p>MainActivity:</p>\n<pre><code>package com.com.com;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private RecyclerView mRecyclerView;\n    private RecyclerView.Adapter mDataAdapter;\n    private RecyclerView.LayoutManager mDataLayoutManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mRecyclerView = (RecyclerView)  findViewById(R.id.recyclerView);\n        mRecyclerView.setNestedScrollingEnabled(false);\n        mRecyclerView.setHasFixedSize(true);\n        mMatchesLayoutManager = new LinearLayoutManager(MainActivity.this);\n        mRecyclerView.setLayoutManager(mDataLayoutManager);\n        mDataAdapter = new DataAdapter(getDataSetData(), MainActivity.this);\n        mRecyclerView.setAdapter(mDataAdapter);\n\n        for (int i = 0; i &lt; 10; i++) {\n            DataObject obj = new DataObject(Integer.toString(i));\n            resultsData.add(obj);\n        }\n        mDataAdapter.notifyDataSetChanged();\n    }\n\n    private ArrayList&lt;DataObject&gt; resultsData = new ArrayList&lt;DataObject&gt;();\n    private List&lt;DataObject&gt; getDataSetData() {\n        return resultsData;\n    }\n}\n</code></pre>\n<p>DataAdapter:</p>\n<pre><code>package com.com.com;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class DataAdapter extends RecyclerView.Adapter&lt;DataViewHolders&gt;{\n\n    private List&lt;DataObject&gt; dataList;\n    private Context context;\n\n    public DataAdapter(List&lt;DataObject&gt; dataList, Context context) {\n        this.dataList = dataList;\n        this.context = context;\n    }\n\n    @Override\n    public DataViewHolders onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View layoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_data, null, false);\n        RecyclerView.LayoutParams lp = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        layoutView.setLayoutParams(lp);\n        DataViewHolders rcv = new DataViewHolders((layoutView));\n\n        return rcv;\n    }\n\n    @Override\n    public void onBindViewHolder(DataViewHolders holder, int position) {\n        holder.mDataId.setText(dataList.get(position).getId());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n}\n\n</code></pre>\n<p>DataObject:</p>\n<pre><code>package com.com.com;\n\npublic class DataObject {\n    private String Id;\n\n    public DataObject (String Id) {\n        this.Id= Id;\n    }\n\n    public String getId() {\n        return Id;\n    }\n\n    public void setId(String Id) {\n        this.Id= Id;\n    }\n\n}\n</code></pre>\n<p>DataViewHolders:</p>\n<pre><code>package com.com.com;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class DatasViewHolders extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    public TextView mDataId;\n\n    public DataViewHolders(View itemView) {\n        super(itemView);\n        itemView.setOnClickListener(this);\n\n        mDataId = (TextView) itemView.findViewById(R.id.Dataid);\n    }\n\n    @Override\n    public void onClick(View v) {\n\n    }\n}\n</code></pre>\n<p>activity_main:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/recyclerView&quot;\n            android:scrollbars=&quot;vertical&quot;&gt;\n\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>item_data:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;20sp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;75sp&quot;\n        android:layout_height=&quot;75sp&quot;\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Data ID&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/Dataid&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641401488,"post_id":70596496,"comment_id":124797038,"body_markdown":"If set up correctly main classes cannot see test classes","body":"If set up correctly main classes cannot see test classes"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1641891250,"post_id":70596496,"comment_id":124919377,"body_markdown":"What is the test case supposed to test? Calling the oauth manager with this invalid client cannot happen, that&#39;s pretty much what the `enum` is for. The only reasonable test case is calling it with `null`.","body":"What is the test case supposed to test? Calling the oauth manager with this invalid client cannot happen, that&#39;s pretty much what the <code>enum</code> is for. The only reasonable test case is calling it with <code>null</code>."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1642169814,"post_id":70596496,"comment_id":125006267,"body_markdown":"Yes, I agree. The use case is unlikely to happen and this test had been added mainly for coverage as our code had a switch throwing an exception for the default case. This has been removed now with the update to java 17. However, I&#39;m still not sure why IntelliJ wasn&#39;t finding the class inside the right package. Maybe a bug or weird behaviour, not sure.","body":"Yes, I agree. The use case is unlikely to happen and this test had been added mainly for coverage as our code had a switch throwing an exception for the default case. This has been removed now with the update to java 17. However, I&#39;m still not sure why IntelliJ wasn&#39;t finding the class inside the right package. Maybe a bug or weird behaviour, not sure."}],"answers":[{"tags":[],"owner":{"account_id":23770913,"reputation":24,"user_id":17784990,"display_name":"Austngmnz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641401316,"creation_date":1641401316,"answer_id":70596554,"question_id":70596496,"body_markdown":"In your imports it probably imported the Main class first and is trying to find the extra addition in that class instead of the other class. you can either manually add the test class to your imports (not recommended) or, what I would do, is change the name of the test class to have Test at the end (I do this for all my test classes to prevent this kind of problem). So in the test, you can call `ClientTest.ANY_OTHER` if you want to call a different input from that class. ","title":"Test looking for enum class inside src/main rather than src/test","body":"<p>In your imports it probably imported the Main class first and is trying to find the extra addition in that class instead of the other class. you can either manually add the test class to your imports (not recommended) or, what I would do, is change the name of the test class to have Test at the end (I do this for all my test classes to prevent this kind of problem). So in the test, you can call <code>ClientTest.ANY_OTHER</code> if you want to call a different input from that class.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641890609,"creation_date":1641401023,"question_id":70596496,"body_markdown":"I&#39;m a bit confused about the visibility of classes between the src/test and src/main directories. I have an enum created under both packages, but with an extra case when under the test folder to allow me to test for a negative scenario. However, IntelliJ gives me an error as if looking for that extra case under the enum in the main folder (the test compiles and passes though). On the same note, when I inspect the usages for the enum inside the main folder, it will show also the test directory. Not sure how to specify I want to use one over the other as I&#39;d have imagined that the one from src/test would take precedence over src/main for code under that same src/test directory?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThanks very much.\r\n\r\n\r\n*UPDATE*\r\n\r\nRenaming the enum to have different names wouldn&#39;t be accepted by the calling method.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XG7yI.png\r\n  [2]: https://i.stack.imgur.com/7IAzm.png\r\n  [3]: https://i.stack.imgur.com/NgBJY.png\r\n  [4]: https://i.stack.imgur.com/5ZRoz.png","title":"Test looking for enum class inside src/main rather than src/test","body":"<p>I'm a bit confused about the visibility of classes between the src/test and src/main directories. I have an enum created under both packages, but with an extra case when under the test folder to allow me to test for a negative scenario. However, IntelliJ gives me an error as if looking for that extra case under the enum in the main folder (the test compiles and passes though). On the same note, when I inspect the usages for the enum inside the main folder, it will show also the test directory. Not sure how to specify I want to use one over the other as I'd have imagined that the one from src/test would take precedence over src/main for code under that same src/test directory?</p>\n<p><a href=\"https://i.stack.imgur.com/XG7yI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XG7yI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7IAzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IAzm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NgBJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NgBJY.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks very much.</p>\n<p><em>UPDATE</em></p>\n<p>Renaming the enum to have different names wouldn't be accepted by the calling method.</p>\n<p><a href=\"https://i.stack.imgur.com/5ZRoz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ZRoz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","2d-games","tile","tilesets"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1641899511,"post_id":70569784,"comment_id":124922642,"body_markdown":"The problem is that you didn&#39;t include a [mre] as a part of your question, so we can&#39;t take the code, run it in our Eclipse IDE, and see what&#39;s going on.","body":"The problem is that you didn&#39;t include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as a part of your question, so we can&#39;t take the code, run it in our Eclipse IDE, and see what&#39;s going on."}],"owner":{"account_id":23816658,"reputation":11,"user_id":17824830,"display_name":"F.B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641890524,"creation_date":1641233270,"question_id":70569784,"body_markdown":"So i am programming basic Java 2D Game with a TileManager.\r\nI am creating the maps in Tiled and export a .xml file. \r\n\r\nHere an example:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;map version=&quot;1.5&quot; tiledversion=&quot;1.7.2&quot; orientation=&quot;orthogonal&quot; renderorder=&quot;right-down&quot; width=&quot;25&quot; height=&quot;20&quot; tilewidth=&quot;16&quot; tileheight=&quot;16&quot; infinite=&quot;0&quot; nextlayerid=&quot;2&quot; nextobjectid=&quot;1&quot;&gt;\r\n &lt;tileset firstgid=&quot;1&quot; name=&quot;outdoor&quot; tilewidth=&quot;16&quot; tileheight=&quot;16&quot; tilecount=&quot;1975&quot; columns=&quot;25&quot;&gt;\r\n  &lt;image source=&quot;outdoor.png&quot; trans=&quot;ffffff&quot; width=&quot;400&quot; height=&quot;1264&quot;/&gt;\r\n &lt;/tileset&gt;\r\n &lt;layer id=&quot;1&quot; name=&quot;Back&quot; width=&quot;25&quot; height=&quot;20&quot;&gt;\r\n  &lt;data encoding=&quot;csv&quot;&gt;\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\r\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176\r\n&lt;/data&gt;\r\n &lt;/layer&gt;\r\n&lt;/map&gt;\r\n\r\n```\r\n\r\nThe following code takes the information and renders the specific tile:\r\n\r\n```\r\npublic class TileMapNorm extends TileMap{\r\n\t\r\n\tprivate ArrayList&lt;Block&gt; blocks;\r\n\t\r\n\tpublic TileMapNorm(String data, Sprite sprite, int width, int height, int tileWidth, int tileHeight, int tileCols) {\r\n\t\tblocks = new ArrayList&lt;Block&gt;();\r\n\t\tString[] block = data.split(&quot;,&quot;);\r\n\t\tfor(int x = 0; x &lt; (width * height); x++) {\r\n\t\t\tint tmp = Integer.parseInt(block[x].replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));\r\n\t\t\tif(tmp != 0) {\r\n\t\t\t\tblocks.add(new NormBlock(sprite.getSprite((int) ((tmp - 1) % tileCols), (int) ((tmp - 1) / tileCols)), new Vector2((int) (x % width) * (tileWidth), (int) (x / height) * (tileHeight)), tileWidth, tileHeight));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void render(Graphics2D g) {\r\n\t\tfor(int x = 0; x &lt; blocks.size(); x++) {\r\n\t\t\tblocks.get(x).render(g);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhen width and height of the map are equal or the height is bigger then the width, \r\nthen the map renders fine. But when the width is bigger then the height, then there is a rendering problem as following: \r\n\r\n[![image of rendering error][1]][1]\r\n\r\nWhat is the problem and how can it solved?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8I5hh.png","title":"Java 2D Game Tile rendering problem with difference between height and width","body":"<p>So i am programming basic Java 2D Game with a TileManager.\nI am creating the maps in Tiled and export a .xml file.</p>\n<p>Here an example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;map version=&quot;1.5&quot; tiledversion=&quot;1.7.2&quot; orientation=&quot;orthogonal&quot; renderorder=&quot;right-down&quot; width=&quot;25&quot; height=&quot;20&quot; tilewidth=&quot;16&quot; tileheight=&quot;16&quot; infinite=&quot;0&quot; nextlayerid=&quot;2&quot; nextobjectid=&quot;1&quot;&gt;\n &lt;tileset firstgid=&quot;1&quot; name=&quot;outdoor&quot; tilewidth=&quot;16&quot; tileheight=&quot;16&quot; tilecount=&quot;1975&quot; columns=&quot;25&quot;&gt;\n  &lt;image source=&quot;outdoor.png&quot; trans=&quot;ffffff&quot; width=&quot;400&quot; height=&quot;1264&quot;/&gt;\n &lt;/tileset&gt;\n &lt;layer id=&quot;1&quot; name=&quot;Back&quot; width=&quot;25&quot; height=&quot;20&quot;&gt;\n  &lt;data encoding=&quot;csv&quot;&gt;\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,\n176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176\n&lt;/data&gt;\n &lt;/layer&gt;\n&lt;/map&gt;\n\n</code></pre>\n<p>The following code takes the information and renders the specific tile:</p>\n<pre><code>public class TileMapNorm extends TileMap{\n    \n    private ArrayList&lt;Block&gt; blocks;\n    \n    public TileMapNorm(String data, Sprite sprite, int width, int height, int tileWidth, int tileHeight, int tileCols) {\n        blocks = new ArrayList&lt;Block&gt;();\n        String[] block = data.split(&quot;,&quot;);\n        for(int x = 0; x &lt; (width * height); x++) {\n            int tmp = Integer.parseInt(block[x].replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));\n            if(tmp != 0) {\n                blocks.add(new NormBlock(sprite.getSprite((int) ((tmp - 1) % tileCols), (int) ((tmp - 1) / tileCols)), new Vector2((int) (x % width) * (tileWidth), (int) (x / height) * (tileHeight)), tileWidth, tileHeight));\n            }\n            \n        }\n    }\n    \n    public void render(Graphics2D g) {\n        for(int x = 0; x &lt; blocks.size(); x++) {\n            blocks.get(x).render(g);\n        }\n    }\n}\n</code></pre>\n<p>When width and height of the map are equal or the height is bigger then the width,\nthen the map renders fine. But when the width is bigger then the height, then there is a rendering problem as following:</p>\n<p><a href=\"https://i.stack.imgur.com/8I5hh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8I5hh.png\" alt=\"image of rendering error\" /></a></p>\n<p>What is the problem and how can it solved?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641889786,"creation_date":1641889021,"answer_id":70663578,"question_id":70663395,"body_markdown":"The reason the weird id is because Mojang obfuscates their code.\r\n\r\nThe people behind forge use a mapper to translate method, class and property names to human readable names. They use MCP mappings to translate method calls to Minecraft code to the calls the obfucated code understands.\r\n\r\nThat&#39;s also the reason why it always takes a little time after a new version is released before forge releases their version, as they need to check and improve their mappings and naming.\r\n\r\nThat also explains why the same method can have different names in different Forge versions for different Minecraft versions, as they can decide on a better or different naming scheme.\r\n\r\nThe variable in your case, is still the obfuscated value, which hasn&#39;t gotten a mapping appointed yet, or nobody had found it worthwhile to think up a name and add the mapping to it, or pushed it down on the queue, focusing on the more important class and method names first, instead of the relatively unimportant property names.\r\n\r\nTry to infer the use of the property by it&#39;s type name. Copy the entire class in your own namespace and use refactor to give the variables and arguments proper names so you can read the code better.\r\n\r\nDon&#39;t forget Forge is maintained by volunteers, and it takes a lot of time and effort to make these mappings.\r\n\r\nYou can also volunteer some effort https://github.com/MinecraftForge/MCPConfig\r\n\r\nUsually when a version is around longer, more and more of these weird mappings get resolved to proper names. When you work with newer versions, you&#39;ll have more instances where your IDE will generate these methods with these weird property names.\r\n\r\nJust give them proper names. Your example I would refactor to:\r\n\r\n```java\r\nclass WoodFurnaceBlock {\r\n  public WoodFurnaceBlock(Properties properties) {\r\n    super(properties);\r\n  }\r\n}\r\n```\r\n\r\nI once spend half a year to figure out how to do proper structure generation like nether temples in 1.7.10, working solely with obfuscated code, having to think of names and then refactor to better names as I understood the code better as to how Mojang did it.\r\n\r\nWhen modding with Forge, this will always be part of the development experience.\r\n\r\nIf you prefer doing things on easy mode I&#39;d suggest doing bukkit/spigot plugins. It&#39;s harder to do fancy things like custom mobs and blocks, but it&#39;s easier and more consistent to code.\r\n\r\n\r\n","title":"Why does Minecraft Forge have these strange variable names?","body":"<p>The reason the weird id is because Mojang obfuscates their code.</p>\n<p>The people behind forge use a mapper to translate method, class and property names to human readable names. They use MCP mappings to translate method calls to Minecraft code to the calls the obfucated code understands.</p>\n<p>That's also the reason why it always takes a little time after a new version is released before forge releases their version, as they need to check and improve their mappings and naming.</p>\n<p>That also explains why the same method can have different names in different Forge versions for different Minecraft versions, as they can decide on a better or different naming scheme.</p>\n<p>The variable in your case, is still the obfuscated value, which hasn't gotten a mapping appointed yet, or nobody had found it worthwhile to think up a name and add the mapping to it, or pushed it down on the queue, focusing on the more important class and method names first, instead of the relatively unimportant property names.</p>\n<p>Try to infer the use of the property by it's type name. Copy the entire class in your own namespace and use refactor to give the variables and arguments proper names so you can read the code better.</p>\n<p>Don't forget Forge is maintained by volunteers, and it takes a lot of time and effort to make these mappings.</p>\n<p>You can also volunteer some effort <a href=\"https://github.com/MinecraftForge/MCPConfig\" rel=\"noreferrer\">https://github.com/MinecraftForge/MCPConfig</a></p>\n<p>Usually when a version is around longer, more and more of these weird mappings get resolved to proper names. When you work with newer versions, you'll have more instances where your IDE will generate these methods with these weird property names.</p>\n<p>Just give them proper names. Your example I would refactor to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class WoodFurnaceBlock {\n  public WoodFurnaceBlock(Properties properties) {\n    super(properties);\n  }\n}\n</code></pre>\n<p>I once spend half a year to figure out how to do proper structure generation like nether temples in 1.7.10, working solely with obfuscated code, having to think of names and then refactor to better names as I understood the code better as to how Mojang did it.</p>\n<p>When modding with Forge, this will always be part of the development experience.</p>\n<p>If you prefer doing things on easy mode I'd suggest doing bukkit/spigot plugins. It's harder to do fancy things like custom mobs and blocks, but it's easier and more consistent to code.</p>\n"}],"owner":{"account_id":19517341,"reputation":65,"user_id":14279930,"display_name":"Fender Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641890300,"creation_date":1641888048,"question_id":70663395,"body_markdown":"I have been frustrated about my Minecraft Forge Project being wonkey. \r\n\r\nWhy? Because most of the code have weird arguments and with it, I cant understand. Before this, my other projects didn&#39;t have this craziness. Here is an example:\r\n\r\n    public WoodFurnaceBlock(Properties p_49795_) {\r\n        super(p_49795_);\r\n    }\r\n\r\nIn this example, the argument looks like a weird id, and this might have been an import error. Is there a website to search what the argument means or do I have to live with it in a Bad way.\r\n\r\nRemember in my project, most of the arguments are broken.","title":"Why does Minecraft Forge have these strange variable names?","body":"<p>I have been frustrated about my Minecraft Forge Project being wonkey.</p>\n<p>Why? Because most of the code have weird arguments and with it, I cant understand. Before this, my other projects didn't have this craziness. Here is an example:</p>\n<pre><code>public WoodFurnaceBlock(Properties p_49795_) {\n    super(p_49795_);\n}\n</code></pre>\n<p>In this example, the argument looks like a weird id, and this might have been an import error. Is there a website to search what the argument means or do I have to live with it in a Bad way.</p>\n<p>Remember in my project, most of the arguments are broken.</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"score":0,"creation_date":1642055822,"post_id":2342280,"comment_id":124971431,"body_markdown":"1):  Info Messages are something which we would like to see even if the application is in *best of state.\n\n          \n2): Debug messages are usually something that we would like to see while *debugging some problem.","body":"1):  Info Messages are something which we would like to see even if the application is in *best of state.             2): Debug messages are usually something that we would like to see while *debugging some problem."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1267195017,"creation_date":1267195017,"answer_id":2342298,"question_id":2342280,"body_markdown":"Basically it depends on how your loggers are configured. Typically you&#39;d have debug output written out during development but turned off in production - or possibly have *selected* debug categories writing out while debugging a particular area.\r\n\r\nThe point of having different priorities is to allow you to turn up/down the level of detail on a particular component in a reasonably fine-grained way - and only needing to change the logging configuration (rather than code) to see the difference.","title":"Difference between logger.info and logger.debug","body":"<p>Basically it depends on how your loggers are configured. Typically you'd have debug output written out during development but turned off in production - or possibly have <em>selected</em> debug categories writing out while debugging a particular area.</p>\n\n<p>The point of having different priorities is to allow you to turn up/down the level of detail on a particular component in a reasonably fine-grained way - and only needing to change the logging configuration (rather than code) to see the difference.</p>\n"},{"tags":[],"owner":{"account_id":54016,"reputation":4741,"user_id":161575,"display_name":"toomasr"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1267195091,"creation_date":1267195091,"answer_id":2342307,"question_id":2342280,"body_markdown":"This will depend on the logging configuration. The default value will depend on the framework being used. The idea is that later on by changing a configuration setting from INFO to DEBUG you will see a ton of more (or less if the other way around) lines printed without recompiling the whole application.\r\n\r\nIf you think which one to use then it boils down to thinking what you want to see on which level. For other levels for example in Log4J look at the API, http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html","title":"Difference between logger.info and logger.debug","body":"<p>This will depend on the logging configuration. The default value will depend on the framework being used. The idea is that later on by changing a configuration setting from INFO to DEBUG you will see a ton of more (or less if the other way around) lines printed without recompiling the whole application.</p>\n\n<p>If you think which one to use then it boils down to thinking what you want to see on which level. For other levels for example in Log4J look at the API, <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html</a></p>\n"},{"tags":[],"owner":{"account_id":1762,"reputation":31842,"user_id":2405,"accept_rate":100,"display_name":"William Brendel"},"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1267195798,"creation_date":1267195263,"answer_id":2342331,"question_id":2342280,"body_markdown":"I suggest you look at the article called [&quot;Short Introduction to log4j&quot;](http://logging.apache.org/log4j/1.2/manual.html). It contains a short explanation of log levels and demonstrates how they can be used in practice. The basic idea of log levels is that you want to be able to configure how much detail the logs contain depending on the situation. For example, if you are trying to troubleshoot an issue, you would want the logs to be very verbose. In production, you might only want to see warnings and errors.\r\n\r\nThe log level for each component of your system is usually controlled through a parameter in a configuration file, so it&#39;s easy to change. Your code would contain various logging statements with different levels. When responding to an `Exception`, you might call `Logger.error`. If you want to print the value of a variable at any given point, you might call `Logger.debug`. This combination of a configurable logging level and logging statements within your program allow you full control over how your application will log its activity.\r\n\r\nIn the case of log4j at least, the ordering of log levels is:\r\n\r\n    DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL\r\n\r\nHere is a short example from that article demonstrating how log levels work.\r\n\r\n       // get a logger instance named &quot;com.foo&quot;\r\n       Logger logger = Logger.getLogger(&quot;com.foo&quot;);\r\n    \r\n       // Now set its level. Normally you do not need to set the\r\n       // level of a logger programmatically. This is usually done\r\n       // in configuration files.\r\n       logger.setLevel(Level.INFO);\r\n    \r\n       Logger barlogger = Logger.getLogger(&quot;com.foo.Bar&quot;);\r\n    \r\n       // This request is enabled, because WARN &gt;= INFO.\r\n       logger.warn(&quot;Low fuel level.&quot;);\r\n    \r\n       // This request is disabled, because DEBUG &lt; INFO.\r\n       logger.debug(&quot;Starting search for nearest gas station.&quot;);\r\n    \r\n       // The logger instance barlogger, named &quot;com.foo.Bar&quot;,\r\n       // will inherit its level from the logger named\r\n       // &quot;com.foo&quot; Thus, the following request is enabled\r\n       // because INFO &gt;= INFO.\r\n       barlogger.info(&quot;Located nearest gas station.&quot;);\r\n    \r\n       // This request is disabled, because DEBUG &lt; INFO.\r\n       barlogger.debug(&quot;Exiting gas station search&quot;);","title":"Difference between logger.info and logger.debug","body":"<p>I suggest you look at the article called <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">\"Short Introduction to log4j\"</a>. It contains a short explanation of log levels and demonstrates how they can be used in practice. The basic idea of log levels is that you want to be able to configure how much detail the logs contain depending on the situation. For example, if you are trying to troubleshoot an issue, you would want the logs to be very verbose. In production, you might only want to see warnings and errors.</p>\n\n<p>The log level for each component of your system is usually controlled through a parameter in a configuration file, so it's easy to change. Your code would contain various logging statements with different levels. When responding to an <code>Exception</code>, you might call <code>Logger.error</code>. If you want to print the value of a variable at any given point, you might call <code>Logger.debug</code>. This combination of a configurable logging level and logging statements within your program allow you full control over how your application will log its activity.</p>\n\n<p>In the case of log4j at least, the ordering of log levels is:</p>\n\n<pre><code>DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL\n</code></pre>\n\n<p>Here is a short example from that article demonstrating how log levels work.</p>\n\n<pre><code>   // get a logger instance named \"com.foo\"\n   Logger logger = Logger.getLogger(\"com.foo\");\n\n   // Now set its level. Normally you do not need to set the\n   // level of a logger programmatically. This is usually done\n   // in configuration files.\n   logger.setLevel(Level.INFO);\n\n   Logger barlogger = Logger.getLogger(\"com.foo.Bar\");\n\n   // This request is enabled, because WARN &gt;= INFO.\n   logger.warn(\"Low fuel level.\");\n\n   // This request is disabled, because DEBUG &lt; INFO.\n   logger.debug(\"Starting search for nearest gas station.\");\n\n   // The logger instance barlogger, named \"com.foo.Bar\",\n   // will inherit its level from the logger named\n   // \"com.foo\" Thus, the following request is enabled\n   // because INFO &gt;= INFO.\n   barlogger.info(\"Located nearest gas station.\");\n\n   // This request is disabled, because DEBUG &lt; INFO.\n   barlogger.debug(\"Exiting gas station search\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54312,"reputation":15263,"user_id":162461,"accept_rate":81,"display_name":"craftsman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1267195461,"creation_date":1267195461,"answer_id":2342351,"question_id":2342280,"body_markdown":"**What is the difference between logger.debug and logger.info?**\r\n\r\nThese are only some default level already defined. You can define your own levels if you like.\r\nThe purpose of those levels is to enable/disable one or more of them, without making any change in your code.\r\n\r\n**When logger.debug will be printed ??**\r\n\r\nWhen you have enabled the debug or any higher level in your configuration.","title":"Difference between logger.info and logger.debug","body":"<p><strong>What is the difference between logger.debug and logger.info?</strong></p>\n\n<p>These are only some default level already defined. You can define your own levels if you like.\nThe purpose of those levels is to enable/disable one or more of them, without making any change in your code.</p>\n\n<p><strong>When logger.debug will be printed ??</strong></p>\n\n<p>When you have enabled the debug or any higher level in your configuration.</p>\n"},{"tags":[],"owner":{"account_id":2043179,"reputation":704,"user_id":1823890,"display_name":"user1823890"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1417792873,"creation_date":1417792873,"answer_id":27319123,"question_id":2342280,"body_markdown":"Just a clarification about the set of all possible levels, that are:\r\n\r\n    ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF","title":"Difference between logger.info and logger.debug","body":"<p>Just a clarification about the set of all possible levels, that are:</p>\n\n<pre><code>ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7121994,"reputation":2012,"user_id":5446285,"display_name":"Jack&#39;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510751177,"creation_date":1510751177,"answer_id":47308204,"question_id":2342280,"body_markdown":"It depends on which level you selected in your log4j configuration file.\r\n\r\n    &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n            ...\r\n\r\n\r\n**If your level is &quot;info&quot; (by default), `logger.debug(...)` will not be printed in your console.\r\nHowever, if your level is &quot;debug&quot;, it will.**\r\n\r\nDepending on the criticality level of your code, you should use the most accurate level among the following ones :\r\n\r\n    ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF","title":"Difference between logger.info and logger.debug","body":"<p>It depends on which level you selected in your log4j configuration file.</p>\n\n<pre><code>&lt;Loggers&gt;\n        &lt;Root level=\"info\"&gt;\n        ...\n</code></pre>\n\n<p><strong>If your level is \"info\" (by default), <code>logger.debug(...)</code> will not be printed in your console.\nHowever, if your level is \"debug\", it will.</strong></p>\n\n<p>Depending on the criticality level of your code, you should use the most accurate level among the following ones :</p>\n\n<pre><code>ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563104674,"creation_date":1563104674,"answer_id":57027115,"question_id":2342280,"body_markdown":"This is a very old question, but i don&#39;t see my understanding here so I will add my 2 cents:\r\n\r\nEvery level corresponds/maps to a type of user:\r\n\r\n - debug : developer - manual debugging \r\n - trace : automated logging and step tracer - for 3rd level support \r\n - info  : technician / support level 1 /2\r\n - warn  : technician / user error : automated alert / support level 1\r\n - critical/fatal :  depends on your setup - local IT","title":"Difference between logger.info and logger.debug","body":"<p>This is a very old question, but i don't see my understanding here so I will add my 2 cents:</p>\n\n<p>Every level corresponds/maps to a type of user:</p>\n\n<ul>\n<li>debug : developer - manual debugging </li>\n<li>trace : automated logging and step tracer - for 3rd level support </li>\n<li>info  : technician / support level 1 /2</li>\n<li>warn  : technician / user error : automated alert / support level 1</li>\n<li>critical/fatal :  depends on your setup - local IT</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1605143,"reputation":111,"user_id":1485385,"display_name":"Santosh Srivastava"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1600695577,"creation_date":1600695577,"answer_id":63993498,"question_id":2342280,"body_markdown":"\r\n 1. INFO is used to log the information your program is working as expected.\r\n 2. DEBUG is used to find the reason in case your program is not working as expected or an exception has occurred. it&#39;s in the interest of the developer.\r\n","title":"Difference between logger.info and logger.debug","body":"<ol>\n<li>INFO is used to log the information your program is working as expected.</li>\n<li>DEBUG is used to find the reason in case your program is not working as expected or an exception has occurred. it's in the interest of the developer.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641889886,"creation_date":1641889886,"answer_id":70663748,"question_id":2342280,"body_markdown":" Info Messages are something which we would like to see **even** if the application is in **best** of state. \r\n\r\nDebug messages are usually something that we would like to see while **debugging** some **problem**.","title":"Difference between logger.info and logger.debug","body":"<p>Info Messages are something which we would like to see <strong>even</strong> if the application is in <strong>best</strong> of state.</p>\n<p>Debug messages are usually something that we would like to see while <strong>debugging</strong> some <strong>problem</strong>.</p>\n"}],"owner":{"account_id":593798,"reputation":1177,"user_id":275964,"accept_rate":29,"display_name":"Senthilnathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302246,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":2342307,"answer_count":9,"score":99,"last_activity_date":1641889886,"creation_date":1267194820,"question_id":2342280,"body_markdown":"What is the difference between `logger.debug` and `logger.info` ?\r\n\r\nWhen will `logger.debug` be printed?","title":"Difference between logger.info and logger.debug","body":"<p>What is the difference between <code>logger.debug</code> and <code>logger.info</code> ?</p>\n\n<p>When will <code>logger.debug</code> be printed?</p>\n"},{"tags":["java","x509certificate","jce"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1256333189,"creation_date":1256333189,"answer_id":1615983,"question_id":1615871,"body_markdown":"The ability to sign certificates is not part of a standard Java library or extension.\r\n\r\nA lot of the code that is needed to do it yourself is part of the core. There are classes to encode and decode X.500 names, X.509 certificate extensions, public keys for various algorithms, and of course, for actually performing the digital signature.\r\n\r\nImplementing this yourself is not trivial, but it is definitely doable&amp;mdash;I probably spent 4 or 5 full days the first time I made a working prototype for certificate signing. It was a *fantastic* learning exercise for me, but it&#39;s hard to justify that expense when there are usable libraries available for free.","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<p>The ability to sign certificates is not part of a standard Java library or extension.</p>\n\n<p>A lot of the code that is needed to do it yourself is part of the core. There are classes to encode and decode X.500 names, X.509 certificate extensions, public keys for various algorithms, and of course, for actually performing the digital signature.</p>\n\n<p>Implementing this yourself is not trivial, but it is definitely doable&mdash;I probably spent 4 or 5 full days the first time I made a working prototype for certificate signing. It was a <em>fantastic</em> learning exercise for me, but it's hard to justify that expense when there are usable libraries available for free.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1256335530,"creation_date":1256335530,"answer_id":1616179,"question_id":1615871,"body_markdown":"All the basic components to make a self-signed certificate (signing, X509 encoding etc) are available in JRE. Unlike BC, Sun&#39;s JCE doesn&#39;t provide any public calls to sign a certificate. However, all the functions are available in Keytool. You can simply copy the code from keytool to do this. The method you need to copy is `doSelfCert()`.\r\n","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<p>All the basic components to make a self-signed certificate (signing, X509 encoding etc) are available in JRE. Unlike BC, Sun's JCE doesn't provide any public calls to sign a certificate. However, all the functions are available in Keytool. You can simply copy the code from keytool to do this. The method you need to copy is <code>doSelfCert()</code>.</p>\n"},{"tags":[],"owner":{"account_id":67624,"reputation":4415,"user_id":197789,"display_name":"Von"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263141787,"creation_date":1263141787,"answer_id":2037663,"question_id":1615871,"body_markdown":"Depends on what exactly you want to do (and probably your definition of &quot;Sanely&quot;). As ZZ Coder pointed out, you can create a self-signed certificate directly by copying [keytool][1]. But I don&#39;t believe you can create a PKCS10 certificate request object with the standard JCE, which you probably need to do if you want to create standard CA-signed EECs.\r\n\r\n\r\n  [1]: http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-sun/security/sun/security/tools/KeyTool.java.htm","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<p>Depends on what exactly you want to do (and probably your definition of \"Sanely\"). As ZZ Coder pointed out, you can create a self-signed certificate directly by copying <a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-sun/security/sun/security/tools/KeyTool.java.htm\" rel=\"nofollow noreferrer\">keytool</a>. But I don't believe you can create a PKCS10 certificate request object with the standard JCE, which you probably need to do if you want to create standard CA-signed EECs.</p>\n"},{"tags":[],"owner":{"account_id":74797,"reputation":1629,"user_id":214756,"display_name":"Mike B"},"down_vote_count":3,"up_vote_count":93,"is_accepted":false,"score":90,"last_activity_date":1641889735,"creation_date":1301501295,"answer_id":5488964,"question_id":1615871,"body_markdown":"Yes, but not with publicly documented classes. I&#39;ve documented the process [in this article][1].\r\n\r\n    import sun.security.x509.*;\r\n    import java.security.cert.*;\r\n    import java.security.*;\r\n    import java.math.BigInteger;\r\n    import java.util.Date;\r\n    import java.io.IOException\r\n    \r\n    /**&#160;\r\n    &#160;* Create a self-signed X.509 Certificate\r\n    &#160;* @param dn the X.509 Distinguished Name, eg &quot;CN=Test, L=London, C=GB&quot;\r\n    &#160;* @param pair the KeyPair\r\n    &#160;* @param days how many days from now the Certificate is valid for\r\n    &#160;* @param algorithm the signing algorithm, eg &quot;SHA1withRSA&quot;\r\n    &#160;*/&#160;\r\n    X509Certificate generateCertificate(String dn, KeyPair pair, int days, String algorithm)\r\n    &#160; throws GeneralSecurityException, IOException\r\n    {\r\n    &#160; PrivateKey privkey = pair.getPrivate();\r\n    &#160; X509CertInfo info = new X509CertInfo();\r\n    &#160; Date from = new Date();\r\n    &#160; Date to = new Date(from.getTime() + days * 86400000l);\r\n    &#160; CertificateValidity interval = new CertificateValidity(from, to);\r\n    &#160; BigInteger sn = new BigInteger(64, new SecureRandom());\r\n    &#160; X500Name owner = new X500Name(dn);\r\n    &#160;\r\n    &#160; info.set(X509CertInfo.VALIDITY, interval);\r\n    &#160; info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\r\n    &#160; info.set(X509CertInfo.SUBJECT, new CertificateSubjectName(owner));\r\n    &#160; info.set(X509CertInfo.ISSUER, new CertificateIssuerName(owner));\r\n    &#160; info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\r\n    &#160; info.set(X509CertInfo.VERSION, new CertificateVersion(CertificateVersion.V3));\r\n    &#160; AlgorithmId algo = new AlgorithmId(AlgorithmId.md5WithRSAEncryption_oid);\r\n    &#160; info.set(X509CertInfo.ALGORITHM_ID, new CertificateAlgorithmId(algo));\r\n    &#160;\r\n    &#160; // Sign the cert to identify the algorithm that&#39;s used.\r\n    &#160; X509CertImpl cert = new X509CertImpl(info);\r\n    &#160; cert.sign(privkey, algorithm);\r\n    &#160;\r\n    &#160; // Update the algorith, and resign.\r\n    &#160; algo = (AlgorithmId)cert.get(X509CertImpl.SIG_ALG);\r\n    &#160; info.set(CertificateAlgorithmId.NAME + &quot;.&quot; + CertificateAlgorithmId.ALGORITHM, algo);\r\n    &#160; cert = new X509CertImpl(info);\r\n    &#160; cert.sign(privkey, algorithm);\r\n    &#160; return cert;\r\n    } &#160;&#160;\r\n\r\n  [1]: http://bfo.com/blog/2011/03/08/odds_and_ends_creating_a_new_x_509_certificate.html\r\n\r\nEdit 2021 - unfortunately this approach won&#39;t work under Java 17, as the `sun.*` hierarchy can&#39;t be accessed. So it&#39;s back to BouncyCastle or a roll-your own ASN.1 serializer.","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<p>Yes, but not with publicly documented classes. I've documented the process <a href=\"http://bfo.com/blog/2011/03/08/odds_and_ends_creating_a_new_x_509_certificate.html\" rel=\"nofollow noreferrer\">in this article</a>.</p>\n<pre><code>import sun.security.x509.*;\nimport java.security.cert.*;\nimport java.security.*;\nimport java.math.BigInteger;\nimport java.util.Date;\nimport java.io.IOException\n\n/** \n * Create a self-signed X.509 Certificate\n * @param dn the X.509 Distinguished Name, eg &quot;CN=Test, L=London, C=GB&quot;\n * @param pair the KeyPair\n * @param days how many days from now the Certificate is valid for\n * @param algorithm the signing algorithm, eg &quot;SHA1withRSA&quot;\n */ \nX509Certificate generateCertificate(String dn, KeyPair pair, int days, String algorithm)\n  throws GeneralSecurityException, IOException\n{\n  PrivateKey privkey = pair.getPrivate();\n  X509CertInfo info = new X509CertInfo();\n  Date from = new Date();\n  Date to = new Date(from.getTime() + days * 86400000l);\n  CertificateValidity interval = new CertificateValidity(from, to);\n  BigInteger sn = new BigInteger(64, new SecureRandom());\n  X500Name owner = new X500Name(dn);\n \n  info.set(X509CertInfo.VALIDITY, interval);\n  info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\n  info.set(X509CertInfo.SUBJECT, new CertificateSubjectName(owner));\n  info.set(X509CertInfo.ISSUER, new CertificateIssuerName(owner));\n  info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\n  info.set(X509CertInfo.VERSION, new CertificateVersion(CertificateVersion.V3));\n  AlgorithmId algo = new AlgorithmId(AlgorithmId.md5WithRSAEncryption_oid);\n  info.set(X509CertInfo.ALGORITHM_ID, new CertificateAlgorithmId(algo));\n \n  // Sign the cert to identify the algorithm that's used.\n  X509CertImpl cert = new X509CertImpl(info);\n  cert.sign(privkey, algorithm);\n \n  // Update the algorith, and resign.\n  algo = (AlgorithmId)cert.get(X509CertImpl.SIG_ALG);\n  info.set(CertificateAlgorithmId.NAME + &quot;.&quot; + CertificateAlgorithmId.ALGORITHM, algo);\n  cert = new X509CertImpl(info);\n  cert.sign(privkey, algorithm);\n  return cert;\n}   \n</code></pre>\n<p>Edit 2021 - unfortunately this approach won't work under Java 17, as the <code>sun.*</code> hierarchy can't be accessed. So it's back to BouncyCastle or a roll-your own ASN.1 serializer.</p>\n"},{"tags":[],"owner":{"account_id":11187949,"reputation":181,"user_id":8209535,"display_name":"Clark Hobbie"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1498318616,"creation_date":1498318616,"answer_id":44738069,"question_id":1615871,"body_markdown":"    import sun.security.x509.*;\r\n    \r\n    import java.security.cert.*;\r\n    import java.security.*;\r\n    import java.math.BigInteger;\r\n    import java.security.cert.Certificate;\r\n    import java.util.Date;\r\n    import java.io.IOException;\r\n    \r\n    public class Example {\r\n        /**\r\n         * Create a self-signed X.509 Example\r\n         *\r\n         * @param dn        the X.509 Distinguished Name, eg &quot;CN=Test, L=London, C=GB&quot;\r\n         * @param pair      the KeyPair\r\n         * @param days      how many days from now the Example is valid for\r\n         * @param algorithm the signing algorithm, eg &quot;SHA1withRSA&quot;\r\n         */\r\n        public X509Certificate generateCertificate(String dn, KeyPair pair, int days, String algorithm)\r\n                throws GeneralSecurityException, IOException {\r\n            PrivateKey privkey = pair.getPrivate();\r\n            X509CertInfo info = new X509CertInfo();\r\n            Date from = new Date();\r\n            Date to = new Date(from.getTime() + days * 86400000l);\r\n            CertificateValidity interval = new CertificateValidity(from, to);\r\n            BigInteger sn = new BigInteger(64, new SecureRandom());\r\n            X500Name owner = new X500Name(dn);\r\n    \r\n            info.set(X509CertInfo.VALIDITY, interval);\r\n            info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\r\n            info.set(X509CertInfo.SUBJECT, owner);\r\n            info.set(X509CertInfo.ISSUER, owner);\r\n            info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\r\n            info.set(X509CertInfo.VERSION, new CertificateVersion(CertificateVersion.V3));\r\n            AlgorithmId algo = new AlgorithmId(AlgorithmId.md5WithRSAEncryption_oid);\r\n            info.set(X509CertInfo.ALGORITHM_ID, new CertificateAlgorithmId(algo));\r\n    \r\n            // Sign the cert to identify the algorithm that&#39;s used.\r\n            X509CertImpl cert = new X509CertImpl(info);\r\n            cert.sign(privkey, algorithm);\r\n    \r\n            // Update the algorith, and resign.\r\n            algo = (AlgorithmId) cert.get(X509CertImpl.SIG_ALG);\r\n            info.set(CertificateAlgorithmId.NAME + &quot;.&quot; + CertificateAlgorithmId.ALGORITHM, algo);\r\n            cert = new X509CertImpl(info);\r\n            cert.sign(privkey, algorithm);\r\n            return cert;\r\n        }\r\n    \r\n        public static void main (String[] argv) throws Exception {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n            Example example = new Example();\r\n            String distinguishedName = &quot;CN=Test, L=London, C=GB&quot;;\r\n            Certificate certificate = example.generateCertificateOriginal(distinguishedName, keyPair, 365, &quot;SHA256withRSA&quot;);\r\n            System.out.println(&quot;it worked!&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI liked vbence&#39;s answer, but I kept getting the following exception:\r\n\r\njava.security.cert.CertificateException: Subject class type invalid.\r\n\r\n\r\nAfter lots of attempts to find out *was* a valid subject class I found out that X509CerInfo wanted an instance of X500Name.\r\n\r\n    1 info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\r\n    2 info.set(X509CertInfo.SUBJECT, new CertificateSubjectName(owner));\r\n    3 info.set(X509CertInfo.ISSUER, new CertificateIssuerName(owner));\r\n    4 info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\r\n\r\nSo lines 2 &amp; 3 needed to change to\r\n\r\n    2 info.set(X509CertInfo.SUBJECT, owner);\r\n    3 info.set(X509CertInfo.ISSUER, owner);\r\n","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<pre><code>import sun.security.x509.*;\n\nimport java.security.cert.*;\nimport java.security.*;\nimport java.math.BigInteger;\nimport java.security.cert.Certificate;\nimport java.util.Date;\nimport java.io.IOException;\n\npublic class Example {\n    /**\n     * Create a self-signed X.509 Example\n     *\n     * @param dn        the X.509 Distinguished Name, eg \"CN=Test, L=London, C=GB\"\n     * @param pair      the KeyPair\n     * @param days      how many days from now the Example is valid for\n     * @param algorithm the signing algorithm, eg \"SHA1withRSA\"\n     */\n    public X509Certificate generateCertificate(String dn, KeyPair pair, int days, String algorithm)\n            throws GeneralSecurityException, IOException {\n        PrivateKey privkey = pair.getPrivate();\n        X509CertInfo info = new X509CertInfo();\n        Date from = new Date();\n        Date to = new Date(from.getTime() + days * 86400000l);\n        CertificateValidity interval = new CertificateValidity(from, to);\n        BigInteger sn = new BigInteger(64, new SecureRandom());\n        X500Name owner = new X500Name(dn);\n\n        info.set(X509CertInfo.VALIDITY, interval);\n        info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\n        info.set(X509CertInfo.SUBJECT, owner);\n        info.set(X509CertInfo.ISSUER, owner);\n        info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\n        info.set(X509CertInfo.VERSION, new CertificateVersion(CertificateVersion.V3));\n        AlgorithmId algo = new AlgorithmId(AlgorithmId.md5WithRSAEncryption_oid);\n        info.set(X509CertInfo.ALGORITHM_ID, new CertificateAlgorithmId(algo));\n\n        // Sign the cert to identify the algorithm that's used.\n        X509CertImpl cert = new X509CertImpl(info);\n        cert.sign(privkey, algorithm);\n\n        // Update the algorith, and resign.\n        algo = (AlgorithmId) cert.get(X509CertImpl.SIG_ALG);\n        info.set(CertificateAlgorithmId.NAME + \".\" + CertificateAlgorithmId.ALGORITHM, algo);\n        cert = new X509CertImpl(info);\n        cert.sign(privkey, algorithm);\n        return cert;\n    }\n\n    public static void main (String[] argv) throws Exception {\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n        Example example = new Example();\n        String distinguishedName = \"CN=Test, L=London, C=GB\";\n        Certificate certificate = example.generateCertificateOriginal(distinguishedName, keyPair, 365, \"SHA256withRSA\");\n        System.out.println(\"it worked!\");\n    }\n}\n</code></pre>\n\n<p>I liked vbence's answer, but I kept getting the following exception:</p>\n\n<p>java.security.cert.CertificateException: Subject class type invalid.</p>\n\n<p>After lots of attempts to find out <em>was</em> a valid subject class I found out that X509CerInfo wanted an instance of X500Name.</p>\n\n<pre><code>1 info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));\n2 info.set(X509CertInfo.SUBJECT, new CertificateSubjectName(owner));\n3 info.set(X509CertInfo.ISSUER, new CertificateIssuerName(owner));\n4 info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));\n</code></pre>\n\n<p>So lines 2 &amp; 3 needed to change to</p>\n\n<pre><code>2 info.set(X509CertInfo.SUBJECT, owner);\n3 info.set(X509CertInfo.ISSUER, owner);\n</code></pre>\n"}],"owner":{"account_id":20049,"reputation":17429,"user_id":47527,"display_name":"Yuliy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62056,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":1615983,"answer_count":5,"score":48,"last_activity_date":1641889735,"creation_date":1256331621,"question_id":1615871,"body_markdown":"Is it possible to sanely create an X509 Certificate in Java code without using the Bouncy Castle `X509V*CertificateGenerator` classes?","title":"Creating an X509 Certificate in Java without BouncyCastle?","body":"<p>Is it possible to sanely create an X509 Certificate in Java code without using the Bouncy Castle <code>X509V*CertificateGenerator</code> classes?</p>\n"},{"tags":["java","android","flutter","google-play"],"answers":[{"tags":[],"owner":{"account_id":8762292,"reputation":199,"user_id":6551928,"display_name":"Joseph N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641889300,"creation_date":1641889300,"answer_id":70663636,"question_id":70663457,"body_markdown":"You need to either add keytool to your path or access keytool directly.\r\n\r\nOnce you&#39;ve added keytool to your path, you can retry the command. \r\nOr\r\nYou can access keytool by navigating to the folder where your java is installed. keytool should be in the bin folder ie C:\\ProgramFiles\\Java\\jdk1.8.0_181\\bin\\keytool.exe\r\n\r\nTo run it from the folder, try \r\n$ C:\\ProgramFiles\\Java\\jdk1.8.0_181\\bin\\keytool -genkey -v -keystore c:\\Users\\dev\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload","title":"Unable to create an upload keystore","body":"<p>You need to either add keytool to your path or access keytool directly.</p>\n<p>Once you've added keytool to your path, you can retry the command.\nOr\nYou can access keytool by navigating to the folder where your java is installed. keytool should be in the bin folder ie C:\\ProgramFiles\\Java\\jdk1.8.0_181\\bin\\keytool.exe</p>\n<p>To run it from the folder, try\n$ C:\\ProgramFiles\\Java\\jdk1.8.0_181\\bin\\keytool -genkey -v -keystore c:\\Users\\dev\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload</p>\n"}],"owner":{"account_id":15162180,"reputation":533,"user_id":10940882,"display_name":"Yashwanth Ravula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641889715,"creation_date":1641888391,"question_id":70663457,"body_markdown":"I am using a windows machine. I added java path to the environment variables. I am following the flutter documentation to create an upload keystore. But I am unable to do it. Please suggest me what I am missing. Thanks.\r\n\r\nFlutter documentation to create an upload keystore: https://docs.flutter.dev/deployment/android#create-an-upload-keystore\r\n\r\nCommand Prompt:\r\n\r\n    yashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment (main)\r\n    $ keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n    bash: keytool: command not found\r\n    \r\n    yashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment (main)\r\n    $ cd app\r\n    \r\n    yashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment/app (main)\r\n    $ keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n    bash: keytool: command not found\r\n\r\n    $ C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\\keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n    bash: C:Program: command not found\r\n    \r\n    yashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment/app (main)\r\n    $ C:\\&quot;Program Files&quot;\\Android\\&quot;Android Studio&quot;\\jre\\bin\\java\\keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 \r\n    -validity 10000 -alias upload\r\n    bash: C:&quot;Program: command not found\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hiKuu.png\r\n","title":"Unable to create an upload keystore","body":"<p>I am using a windows machine. I added java path to the environment variables. I am following the flutter documentation to create an upload keystore. But I am unable to do it. Please suggest me what I am missing. Thanks.</p>\n<p>Flutter documentation to create an upload keystore: <a href=\"https://docs.flutter.dev/deployment/android#create-an-upload-keystore\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/deployment/android#create-an-upload-keystore</a></p>\n<p>Command Prompt:</p>\n<pre><code>yashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment (main)\n$ keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\nbash: keytool: command not found\n\nyashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment (main)\n$ cd app\n\nyashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment/app (main)\n$ keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\nbash: keytool: command not found\n\n$ C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\\keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\nbash: C:Program: command not found\n\nyashwanth@DESKTOP-2UKHSJ1 MINGW64 ~/ywork/app-developer-assignment/app (main)\n$ C:\\&quot;Program Files&quot;\\Android\\&quot;Android Studio&quot;\\jre\\bin\\java\\keytool -genkey -v -keystore c:\\Users\\yashwanth\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 \n-validity 10000 -alias upload\nbash: C:&quot;Program: command not found\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hiKuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiKuu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1641881386,"post_id":70662276,"comment_id":124916484,"body_markdown":"You haven&#39;t&#39; write anything to `x`, but you read the value from `x` (which are all `0`) and write to `arr`","body":"You haven&#39;t&#39; write anything to <code>x</code>, but you read the value from <code>x</code> (which are all <code>0</code>) and write to <code>arr</code>"},{"owner":{"account_id":23716392,"reputation":346,"user_id":17737469,"display_name":"Montek"},"score":0,"creation_date":1641881494,"post_id":70662276,"comment_id":124916508,"body_markdown":"After displaying the original matrix, I had x have values.","body":"After displaying the original matrix, I had x have values."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1641881658,"post_id":70662276,"comment_id":124916544,"body_markdown":"Read your own code again. you write `arr[i][j]= x[z];` before you have written anything to `x`. `x[z]` are always `0` here. So you are just throwing values in `arr` away. You know you did something wrong here. You probably want `x[z] = arr[i][j]` instead","body":"Read your own code again. you write <code>arr[i][j]= x[z];</code> before you have written anything to <code>x</code>. <code>x[z]</code> are always <code>0</code> here. So you are just throwing values in <code>arr</code> away. You know you did something wrong here. You probably want <code>x[z] = arr[i][j]</code> instead"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1641881985,"post_id":70662276,"comment_id":124916597,"body_markdown":"Also note that this loop does not loop through the whole matrix because you write it loop from `M-1` to `1`(`i&gt;0`). This might also be a mistake.","body":"Also note that this loop does not loop through the whole matrix because you write it loop from <code>M-1</code> to <code>1</code>(<code>i&gt;0</code>). This might also be a mistake."},{"owner":{"account_id":23716392,"reputation":346,"user_id":17737469,"display_name":"Montek"},"score":0,"creation_date":1641882369,"post_id":70662276,"comment_id":124916665,"body_markdown":"Thanks for the change in `arr[i][j]= x[z];`. I edited the question as still i am facing problem in the output","body":"Thanks for the change in <code>arr[i][j]= x[z];</code>. I edited the question as still i am facing problem in the output"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1641882481,"post_id":70662276,"comment_id":124916690,"body_markdown":"change `for(i=M-1;i&gt;0;i--)` to `for(i=M-1;i&gt;=0;i--)`","body":"change <code>for(i=M-1;i&gt;0;i--)</code> to <code>for(i=M-1;i&gt;=0;i--)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641883547,"creation_date":1641882643,"answer_id":70662488,"question_id":70662276,"body_markdown":"To rotate, you need something like this:\r\n\r\n\r\n\r\n    int arr[][];\r\n    int dest[][];\r\n\r\n    arr = new int[M][M];\r\n    dest = new int[M][M];\r\n\r\n    for (int i=0; i&lt;M, i++) {\r\n      for (int j=0; j&lt;M, j++) {\r\n        dest[M-j-1][i] = arr[i][j];\r\n      }\r\n    }\r\n\r\n\r\n\r\nalso, you count down loops need to include zero\r\n\r\n    for(i=M-1;i&gt;0;i--)\r\n\r\nshould be\r\n \r\n    for(i=M-1;i&gt;=0;i--)\r\n","title":"Matrix not rotating 90 degree to Right","body":"<p>To rotate, you need something like this:</p>\n<pre><code>int arr[][];\nint dest[][];\n\narr = new int[M][M];\ndest = new int[M][M];\n\nfor (int i=0; i&lt;M, i++) {\n  for (int j=0; j&lt;M, j++) {\n    dest[M-j-1][i] = arr[i][j];\n  }\n}\n</code></pre>\n<p>also, you count down loops need to include zero</p>\n<pre><code>for(i=M-1;i&gt;0;i--)\n</code></pre>\n<p>should be</p>\n<pre><code>for(i=M-1;i&gt;=0;i--)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641889715,"creation_date":1641889715,"answer_id":70663716,"question_id":70662276,"body_markdown":"(*turning the comment by Ricky Mo into an answer with minimal changes and explanation*)\r\n\r\nYou are very close. No need to fundamentally change your approach.  \r\nHowever, the output you get shows clearly that your code does not write to the last column.  \r\nAn obvious conclusion is that your loop setups are not correct.  \r\nAnd indeed (as Ricky Mo put succinctly):\r\n\r\n&gt; change `for(i=M-1;i&gt;0;i--)` to `for(i=M-1;i&gt;=0;i--)`\r\n\r\nObviously it iterates once more often.  \r\nAnd that ends up in the right (i.e. the 0 values column) because of the indexing magic, which you correctly implemented.\r\n\r\nAnd the output is:\r\n\r\n````\r\nENTER THE NUMBER OF ROW AND COLUMN OF MATRIX\r\nENTER THE ELEMENTS IN MATRIX \r\n\r\n------------------------------------------------------\r\nORIGINAL MATRIX \r\n\r\n1 2 3 \r\n4 5 6 \r\n7 8 9 \r\n\r\n------------------------------------------------------\r\nROTATED MATRIX \r\n\r\n7 4 1 \r\n8 5 2 \r\n9 6 3 \r\n````\r\n\r\ne.g. here:  \r\nhttps://www.tutorialspoint.com/compile_java_online.php","title":"Matrix not rotating 90 degree to Right","body":"<p>(<em>turning the comment by Ricky Mo into an answer with minimal changes and explanation</em>)</p>\n<p>You are very close. No need to fundamentally change your approach.<br />\nHowever, the output you get shows clearly that your code does not write to the last column.<br />\nAn obvious conclusion is that your loop setups are not correct.<br />\nAnd indeed (as Ricky Mo put succinctly):</p>\n<blockquote>\n<p>change <code>for(i=M-1;i&gt;0;i--)</code> to <code>for(i=M-1;i&gt;=0;i--)</code></p>\n</blockquote>\n<p>Obviously it iterates once more often.<br />\nAnd that ends up in the right (i.e. the 0 values column) because of the indexing magic, which you correctly implemented.</p>\n<p>And the output is:</p>\n<pre><code>ENTER THE NUMBER OF ROW AND COLUMN OF MATRIX\nENTER THE ELEMENTS IN MATRIX \n\n------------------------------------------------------\nORIGINAL MATRIX \n\n1 2 3 \n4 5 6 \n7 8 9 \n\n------------------------------------------------------\nROTATED MATRIX \n\n7 4 1 \n8 5 2 \n9 6 3 \n</code></pre>\n<p>e.g. here:<br />\n<a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/compile_java_online.php</a></p>\n"}],"owner":{"account_id":23716392,"reputation":346,"user_id":17737469,"display_name":"Montek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70663716,"answer_count":2,"score":1,"last_activity_date":1641889715,"creation_date":1641881038,"question_id":70662276,"body_markdown":"**I want to rotate matrix 90 degree to right, using a single dimension array but it does not give the desired output**\r\n\r\nI used a simple method before and it did work, so for practice i tried to do it with the help of a single dimension array.\r\n\r\n    import java.util.Scanner;\r\n    public class nine\r\n    {\r\n        void main()\r\n        {\r\n            int M, i ,j;\r\n            int z=0;\r\n            int arr[][], x[];\r\n    \r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;ENTER THE NUMBER OF ROW AND COLUMN OF MATRIX&quot;);\r\n            M=sc.nextInt();\r\n    \r\n            arr=new int[M][M];\r\n            x=new int[M*M];\r\n            System.out.println(&quot;ENTER THE ELEMENTS IN MATRIX &quot;);\r\n            for(i=0;i&lt; M;i++)\r\n            {\r\n                for(j=0;j&lt; M;j++)\r\n                {\r\n                    arr[i][j]=sc.nextInt();\r\n                }\r\n            }\r\n            System.out.println( );\r\n            System.out.println( &quot;------------------------------------------------------&quot;);\r\n            System.out.println(&quot;ORIGINAL MATRIX \\n&quot;);\r\n            for(i=0;i&lt; M;i++)\r\n            {\r\n                for(j=0;j&lt; M;j++)\r\n                {\r\n                    System.out.print(arr[i][j]+&quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            System.out.println( );\r\n            System.out.println( &quot;------------------------------------------------------&quot;);\r\n            \r\n            /* giving matrix x the value of arr from bottom. \r\n             * example matrix-\r\n                1 2 3 \r\n                4 5 6 \r\n                7 8 9 \r\n                value stored in x- {7 8 9 4 5 6 3 2 1}\r\n            */\r\n            for(i=M-1;i&gt;0;i--)\r\n            {\r\n                for(j=0;j&lt; M;j++)\r\n                {\r\n                    x[z]=arr[i][j];\r\n                    z++;\r\n                }\r\n            }\r\n            z=0; \r\n            /* \r\n             * Adding values of matrix x in matrix arr veritcally. \r\n             * \r\n               */\r\n            for(j=0;j&lt; M;j++)\r\n            {\r\n                for(i=0;i&lt; M;i++)\r\n                {\r\n                    arr[i][j]= x[z];\r\n                    z++;\r\n                }\r\n            }\r\n             /* \r\n             * Desired output from the example input- \r\n             *      7 4 1 \r\n                    8 5 2 \r\n                    9 6 3 \r\n             * \r\n               */\r\n            System.out.println(&quot;ROTATED MATRIX \\n&quot;);\r\n            for(i=0;i&lt; M;i++)\r\n            {\r\n                for(j=0;j&lt; M;j++)\r\n                {\r\n                    System.out.print(arr[i][j]+&quot; &quot; );\r\n    \r\n                }\r\n                System.out.println( );\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;hr&gt;\r\n&lt;br&gt;\r\nThe original array is double dimension and  gives value to the single dimension array in the order stated.\r\n&lt;br&gt;\r\n\r\n**The output I want is :**\r\n\r\n[![img1][1]][1]\r\n\r\n**The output I am getting is is :**\r\n\r\n[![img2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dr7mw.png\r\n  [2]: https://i.stack.imgur.com/uTmYU.png","title":"Matrix not rotating 90 degree to Right","body":"<p><strong>I want to rotate matrix 90 degree to right, using a single dimension array but it does not give the desired output</strong></p>\n<p>I used a simple method before and it did work, so for practice i tried to do it with the help of a single dimension array.</p>\n<pre><code>import java.util.Scanner;\npublic class nine\n{\n    void main()\n    {\n        int M, i ,j;\n        int z=0;\n        int arr[][], x[];\n\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;ENTER THE NUMBER OF ROW AND COLUMN OF MATRIX&quot;);\n        M=sc.nextInt();\n\n        arr=new int[M][M];\n        x=new int[M*M];\n        System.out.println(&quot;ENTER THE ELEMENTS IN MATRIX &quot;);\n        for(i=0;i&lt; M;i++)\n        {\n            for(j=0;j&lt; M;j++)\n            {\n                arr[i][j]=sc.nextInt();\n            }\n        }\n        System.out.println( );\n        System.out.println( &quot;------------------------------------------------------&quot;);\n        System.out.println(&quot;ORIGINAL MATRIX \\n&quot;);\n        for(i=0;i&lt; M;i++)\n        {\n            for(j=0;j&lt; M;j++)\n            {\n                System.out.print(arr[i][j]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println( );\n        System.out.println( &quot;------------------------------------------------------&quot;);\n        \n        /* giving matrix x the value of arr from bottom. \n         * example matrix-\n            1 2 3 \n            4 5 6 \n            7 8 9 \n            value stored in x- {7 8 9 4 5 6 3 2 1}\n        */\n        for(i=M-1;i&gt;0;i--)\n        {\n            for(j=0;j&lt; M;j++)\n            {\n                x[z]=arr[i][j];\n                z++;\n            }\n        }\n        z=0; \n        /* \n         * Adding values of matrix x in matrix arr veritcally. \n         * \n           */\n        for(j=0;j&lt; M;j++)\n        {\n            for(i=0;i&lt; M;i++)\n            {\n                arr[i][j]= x[z];\n                z++;\n            }\n        }\n         /* \n         * Desired output from the example input- \n         *      7 4 1 \n                8 5 2 \n                9 6 3 \n         * \n           */\n        System.out.println(&quot;ROTATED MATRIX \\n&quot;);\n        for(i=0;i&lt; M;i++)\n        {\n            for(j=0;j&lt; M;j++)\n            {\n                System.out.print(arr[i][j]+&quot; &quot; );\n\n            }\n            System.out.println( );\n        }\n    }\n}\n</code></pre>\n<hr>\n<br>\nThe original array is double dimension and  gives value to the single dimension array in the order stated.\n<br>\n<p><strong>The output I want is :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Dr7mw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dr7mw.png\" alt=\"img1\" /></a></p>\n<p><strong>The output I am getting is is :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uTmYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTmYU.png\" alt=\"img2\" /></a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641887638,"post_id":70663244,"comment_id":124918115,"body_markdown":"You are running into problem of consuming even when nothing to consume.how about wait and notify ?","body":"You are running into problem of consuming even when nothing to consume.how about wait and notify ?"}],"answers":[{"tags":[],"owner":{"account_id":8866479,"reputation":111,"user_id":6621503,"display_name":"Vikas Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641889263,"creation_date":1641889263,"answer_id":70663629,"question_id":70663244,"body_markdown":"addElement has two statements:\r\n\r\n    strList.clear(); //statement1\r\n    strList.addAll(list); //statement2\r\n\r\n`getStrList()` has one statement\r\n\r\nBoth the methods are non synchronized and due to which just before thread t2 is calling `System.out.println(singleton.getStrList())` \r\nthread t1 has just executed statement1 which is clearing the list causing the t2 to print empty list.\r\n\r\nTo avoid it you have to make the `addElement()` and `getStrList()` as synchronized to fix the issue.\r\n\r\n    public synchronized void addElement(List&lt;String&gt; list) {\r\n    \tstrList.clear();\r\n    \tstrList.addAll(list);\r\n    \t\r\n    }\r\n    \r\n    public synchronized List&lt;String&gt; getStrList(){\r\n    \treturn new ArrayList&lt;&gt;(strList);\r\n    }\r\n\r\n","title":"Synchronized ArrayList return non empty list","body":"<p>addElement has two statements:</p>\n<pre><code>strList.clear(); //statement1\nstrList.addAll(list); //statement2\n</code></pre>\n<p><code>getStrList()</code> has one statement</p>\n<p>Both the methods are non synchronized and due to which just before thread t2 is calling <code>System.out.println(singleton.getStrList())</code>\nthread t1 has just executed statement1 which is clearing the list causing the t2 to print empty list.</p>\n<p>To avoid it you have to make the <code>addElement()</code> and <code>getStrList()</code> as synchronized to fix the issue.</p>\n<pre><code>public synchronized void addElement(List&lt;String&gt; list) {\n    strList.clear();\n    strList.addAll(list);\n    \n}\n\npublic synchronized List&lt;String&gt; getStrList(){\n    return new ArrayList&lt;&gt;(strList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641889464,"creation_date":1641889464,"answer_id":70663668,"question_id":70663244,"body_markdown":"I suppose the problem is your &#39;void addElement(List&lt;String&gt;)&#39; method.  \r\nIt isn&#39;t synchronized.  \r\nThread 1 get&#39;s priority and executes up to the line, where the list is cleared. Then Thread 2 get&#39;s priority and print&#39;s the status of the empty list. At last priority returns to Thread 1 and the item is added.  \r\n\r\nSynchronizing addElement should fix it.","title":"Synchronized ArrayList return non empty list","body":"<p>I suppose the problem is your 'void addElement(List)' method.<br />\nIt isn't synchronized.<br />\nThread 1 get's priority and executes up to the line, where the list is cleared. Then Thread 2 get's priority and print's the status of the empty list. At last priority returns to Thread 1 and the item is added.</p>\n<p>Synchronizing addElement should fix it.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641889681,"creation_date":1641889681,"answer_id":70663708,"question_id":70663244,"body_markdown":"You could replace the `addElement` method with\r\n```\r\npublic void addElement(List&lt;String&gt; list) {\r\n    List&lt;String&gt; newStrList = Collections.synchronizedList(new ArrayList&lt;&gt;(list));\r\n    strList = newStrList;\r\n}\r\n```\r\nThis way the list would be replaced and you would never see the list in the empty state.","title":"Synchronized ArrayList return non empty list","body":"<p>You could replace the <code>addElement</code> method with</p>\n<pre><code>public void addElement(List&lt;String&gt; list) {\n    List&lt;String&gt; newStrList = Collections.synchronizedList(new ArrayList&lt;&gt;(list));\n    strList = newStrList;\n}\n</code></pre>\n<p>This way the list would be replaced and you would never see the list in the empty state.</p>\n"}],"owner":{"account_id":19427711,"reputation":3,"user_id":14208877,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70663629,"answer_count":3,"score":0,"last_activity_date":1641889681,"creation_date":1641887317,"question_id":70663244,"body_markdown":"The below class contains the synchronized arraylist and two methods one to clear and add the arrayLIst and other to get the list.\r\n\r\n```\r\npublic class Singleton {\r\n\tprivate static Singleton singleton;\r\n\tprivate List&lt;String&gt; strList = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n\r\n\tprivate Singleton() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static synchronized Singleton getInstance() {\r\n\t\tif (singleton == null) {\r\n\t\t\tsingleton = new Singleton();\r\n\t\t}\r\n\t\treturn singleton;\r\n\t}\r\n\t\r\n\tpublic void addElement(List&lt;String&gt; list) {\r\n\t\tstrList.clear();\r\n\t\tstrList.addAll(list);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic List&lt;String&gt; getStrList(){\r\n\t\treturn new ArrayList&lt;&gt;(strList);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWhen addElement and getStrList are called in two different threads, getting empty list some time. \r\n\r\n```\r\npublic class App\r\n{\r\n\tpublic static void main(String[] args) throws InterruptedException\r\n    {\r\n\t\tfinal Singleton singleton = Singleton.getInstance();\r\n\r\n        Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n            \tfor(int i=0; i&lt;100; i++) {\r\n            \t\ttry {\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n            \t\tif(i&lt;=50) {\r\n            \t\t\tsingleton.addElement(Arrays.asList(&quot;ONE&quot;));\r\n            \t\t} else {\r\n            \t\t\tsingleton.addElement(Arrays.asList(&quot;TWO&quot;));\r\n            \t\t}\r\n                }\r\n            \t\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n            \tfor(int i=0; i&lt;100; i++) {\r\n            \t\tSystem.out.println(singleton.getStrList());\r\n            \t\ttry {\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n            \t}\r\n            }\r\n        });\r\n\r\n        t1.start();\r\n        t2.start();\r\n\t\t\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n[TWO]\r\n[]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n[TWO]\r\n```\r\n\r\nIn between there are empty list returned. How to fix this without adding sleep when list is empty in the getStrList method?. Also looking for better alternate way to achieve this.","title":"Synchronized ArrayList return non empty list","body":"<p>The below class contains the synchronized arraylist and two methods one to clear and add the arrayLIst and other to get the list.</p>\n<pre><code>public class Singleton {\n    private static Singleton singleton;\n    private List&lt;String&gt; strList = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n\n    private Singleton() {\n        \n    }\n    \n    public static synchronized Singleton getInstance() {\n        if (singleton == null) {\n            singleton = new Singleton();\n        }\n        return singleton;\n    }\n    \n    public void addElement(List&lt;String&gt; list) {\n        strList.clear();\n        strList.addAll(list);\n        \n    }\n    \n    public List&lt;String&gt; getStrList(){\n        return new ArrayList&lt;&gt;(strList);\n    }\n    \n}\n</code></pre>\n<p>When addElement and getStrList are called in two different threads, getting empty list some time.</p>\n<pre><code>public class App\n{\n    public static void main(String[] args) throws InterruptedException\n    {\n        final Singleton singleton = Singleton.getInstance();\n\n        Thread t1 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for(int i=0; i&lt;100; i++) {\n                    try {\n                        Thread.sleep(100);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    if(i&lt;=50) {\n                        singleton.addElement(Arrays.asList(&quot;ONE&quot;));\n                    } else {\n                        singleton.addElement(Arrays.asList(&quot;TWO&quot;));\n                    }\n                }\n                \n            }\n        });\n\n        Thread t2 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for(int i=0; i&lt;100; i++) {\n                    System.out.println(singleton.getStrList());\n                    try {\n                        Thread.sleep(100);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        });\n\n        t1.start();\n        t2.start();\n        \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[TWO]\n[]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n[TWO]\n</code></pre>\n<p>In between there are empty list returned. How to fix this without adding sleep when list is empty in the getStrList method?. Also looking for better alternate way to achieve this.</p>\n"},{"tags":["java","selenium-chromedriver"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641891130,"post_id":70663630,"comment_id":124919341,"body_markdown":"Seems like your classpath is missing the guava library. Make sure your project dependencies are correct. usually it is recommended to use Gradle or Maven for dependency management instead of manually downloading JAR files. Then an error like you got is unlikely to happen.","body":"Seems like your classpath is missing the guava library. Make sure your project dependencies are correct. usually it is recommended to use Gradle or Maven for dependency management instead of manually downloading JAR files. Then an error like you got is unlikely to happen."},{"owner":{"account_id":5376903,"reputation":770,"user_id":4283455,"accept_rate":80,"display_name":"An Nguyen"},"score":0,"creation_date":1642567188,"post_id":70663630,"comment_id":125102262,"body_markdown":"Should describe a bit about the context/situation","body":"Should describe a bit about the context/situation"}],"owner":{"account_id":23902508,"reputation":1,"user_id":17900484,"display_name":"Suyash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641889269,"creation_date":1641889269,"question_id":70663630,"body_markdown":"\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError:com/google/common/collect/ImmutableMap at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:115) at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.(ChromeDriver.java:111) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:104) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:91) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:46) at Selenium_Automation.Browser_launch.main(Browser_launch.java:13) Caused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap at java.net.URLClassLoader.findClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source) at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source)","title":"Selenium chrome driver is not getting launched","body":"<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:com/google/common/collect/ImmutableMap at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:115) at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.(ChromeDriver.java:111) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:104) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:91) at org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:46) at Selenium_Automation.Browser_launch.main(Browser_launch.java:13) Caused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap at java.net.URLClassLoader.findClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source) at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source)</p>\n"},{"tags":["java","android","authentication","firebase-authentication","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641873527,"creation_date":1641873527,"answer_id":70661478,"question_id":70661233,"body_markdown":"Once your user has logged in, they generally don&#39;t need to log in again when using FirebaseAuth. The problem is probably that you are calling the &quot;sign in&quot; routine every time.\r\n\r\nInstead, you should first add an auth state listener on your login screen, and when you get a response there you can either go to the home screen (if they are already logged in) or initiate the sign-in process.\r\n\r\n```java\r\nmAuth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\r\n        @Override\r\n        public void onAuthStateChanged(@NonNull final FirebaseAuth firebaseAuth) {\r\n            if (firebaseAuth.getCurrentUser() != null) {\r\n                // already logged in, go to home screen\r\n            }\r\n            else {\r\n                // initiate sign-in\r\n            }\r\n        }\r\n    }\r\n);\r\n```\r\n\r\nBe aware that the listener will be called as soon as you register a listener, and sometimes [again shortly thereafter](https://stackoverflow.com/questions/37673616/firebase-android-onauthstatechanged-called-twice). If that ends up being a problem there are some solutions for it at the linked question.\r\n\r\n**Kotlin Version**\r\n\r\n```kotlin\r\nauth.addAuthStateListener(AuthStateListener { firebaseAuth -&gt;\r\n    if( firebaseAuth.currentUser != null ) {\r\n        // user is already logged in, go to home screen\r\n    }\r\n    else {\r\n        // initiate sign in\r\n    }\r\n})\r\n```","title":"How to prevent users from being asked to re-login when closing the app using SharedPreferences and Firebase Authentication","body":"<p>Once your user has logged in, they generally don't need to log in again when using FirebaseAuth. The problem is probably that you are calling the &quot;sign in&quot; routine every time.</p>\n<p>Instead, you should first add an auth state listener on your login screen, and when you get a response there you can either go to the home screen (if they are already logged in) or initiate the sign-in process.</p>\n<pre class=\"lang-java prettyprint-override\"><code>mAuth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull final FirebaseAuth firebaseAuth) {\n            if (firebaseAuth.getCurrentUser() != null) {\n                // already logged in, go to home screen\n            }\n            else {\n                // initiate sign-in\n            }\n        }\n    }\n);\n</code></pre>\n<p>Be aware that the listener will be called as soon as you register a listener, and sometimes <a href=\"https://stackoverflow.com/questions/37673616/firebase-android-onauthstatechanged-called-twice\">again shortly thereafter</a>. If that ends up being a problem there are some solutions for it at the linked question.</p>\n<p><strong>Kotlin Version</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>auth.addAuthStateListener(AuthStateListener { firebaseAuth -&gt;\n    if( firebaseAuth.currentUser != null ) {\n        // user is already logged in, go to home screen\n    }\n    else {\n        // initiate sign in\n    }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641889250,"creation_date":1641889250,"answer_id":70663627,"question_id":70661233,"body_markdown":"In your LoginActivity, check if user is already logged in- \r\n  \r\n\r\n    if(mAuth.getCurrentUser()!=null){\r\n\r\n    // if true open MainActivity\r\n                Intent intent = new Intent(SignupActivity.this,MainActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); // to stop flashing of activity when intent is working\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n","title":"How to prevent users from being asked to re-login when closing the app using SharedPreferences and Firebase Authentication","body":"<p>In your LoginActivity, check if user is already logged in-</p>\n<pre><code>if(mAuth.getCurrentUser()!=null){\n\n// if true open MainActivity\n            Intent intent = new Intent(SignupActivity.this,MainActivity.class);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); // to stop flashing of activity when intent is working\n            startActivity(intent);\n            finish();\n        }\n</code></pre>\n"}],"owner":{"account_id":21102997,"reputation":31,"user_id":15512547,"display_name":"Aloyrd Vey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70661478,"answer_count":2,"score":0,"last_activity_date":1641889250,"creation_date":1641871043,"question_id":70661233,"body_markdown":"I&#39;m still learning about Firebase. I created a login program using Firebase authentication. When making the LoginActivity and HomeActivity programs run smoothly, when I press the back button and then open the application again, the user is asked to re-login. How can I make the user not be asked to re-login?\r\n\r\nI&#39;ve tried to find a solution to the same question on stackoverflow and several channels on YouTube, but haven&#39;t found an answer. I would really appreciate any answer, and I&#39;m sorry if my English is messy.\r\n\r\n\r\nThis is the code snippet from LoginActivity.\r\n\r\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n    \r\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;login&quot;, Context.MODE_PRIVATE);\r\n    \r\n    mAuth.signInWithEmailAndPassword(email, password)\r\n                    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            progressBar.setVisibility(View.GONE);\r\n                            if (task.isSuccessful()){\r\n                                Toast.makeText(LoginActivity.this, &quot;Login succes !&quot;, Toast.LENGTH_SHORT).show();\r\n                                user = mAuth.getCurrentUser();\r\n                                updateUI(user);\r\n                            }else{\r\n                                Toast.makeText(LoginActivity.this, &quot;Login Gagal !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n    \r\n    private void updateUI(FirebaseUser user) {\r\n            if (user != null){\r\n                String id = user.getUid();\r\n                String userEmail = user.getEmail();\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.putString(&quot;firebaseKey&quot;, id);\r\n                editor.commit();\r\n    \r\n                gotoHomeActivity();\r\n            }\r\n        }\r\n    \r\n    private void gotoHomeActivity() {\r\n            Intent intent = new Intent(LoginActivity.this, HomeActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n    \r\n            finish();\r\n        }\r\n\r\nAnd this is the code snippet from HomeActivity.\r\n\r\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n    \r\n     SharedPreferences sharedPreferences = getSharedPreferences(&quot;login&quot;, Context.MODE_PRIVATE);\r\n    \r\n    \r\n    String uid = sharedPreferences.getString(&quot;firebaseKey&quot;, &quot;&quot;);","title":"How to prevent users from being asked to re-login when closing the app using SharedPreferences and Firebase Authentication","body":"<p>I'm still learning about Firebase. I created a login program using Firebase authentication. When making the LoginActivity and HomeActivity programs run smoothly, when I press the back button and then open the application again, the user is asked to re-login. How can I make the user not be asked to re-login?</p>\n<p>I've tried to find a solution to the same question on stackoverflow and several channels on YouTube, but haven't found an answer. I would really appreciate any answer, and I'm sorry if my English is messy.</p>\n<p>This is the code snippet from LoginActivity.</p>\n<pre><code>FirebaseAuth mAuth = FirebaseAuth.getInstance();\n\nSharedPreferences sharedPreferences = getSharedPreferences(&quot;login&quot;, Context.MODE_PRIVATE);\n\nmAuth.signInWithEmailAndPassword(email, password)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        progressBar.setVisibility(View.GONE);\n                        if (task.isSuccessful()){\n                            Toast.makeText(LoginActivity.this, &quot;Login succes !&quot;, Toast.LENGTH_SHORT).show();\n                            user = mAuth.getCurrentUser();\n                            updateUI(user);\n                        }else{\n                            Toast.makeText(LoginActivity.this, &quot;Login Gagal !&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n\n\nprivate void updateUI(FirebaseUser user) {\n        if (user != null){\n            String id = user.getUid();\n            String userEmail = user.getEmail();\n            SharedPreferences.Editor editor = sharedPreferences.edit();\n            editor.putString(&quot;firebaseKey&quot;, id);\n            editor.commit();\n\n            gotoHomeActivity();\n        }\n    }\n\nprivate void gotoHomeActivity() {\n        Intent intent = new Intent(LoginActivity.this, HomeActivity.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(intent);\n\n        finish();\n    }\n</code></pre>\n<p>And this is the code snippet from HomeActivity.</p>\n<pre><code>FirebaseAuth mAuth = FirebaseAuth.getInstance();\n\n SharedPreferences sharedPreferences = getSharedPreferences(&quot;login&quot;, Context.MODE_PRIVATE);\n\n\nString uid = sharedPreferences.getString(&quot;firebaseKey&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","netflix","netflix-feign"],"answers":[{"tags":[],"owner":{"account_id":1197726,"reputation":1225,"user_id":1169093,"display_name":"denzal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486655358,"creation_date":1486655358,"answer_id":42141087,"question_id":42033109,"body_markdown":"I was getting the same issue, Once I added the below dependency , it started working :\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:Brixton.SR7&quot;}\r\n    }\r\n\r\nI am using Spring boot 1.4 but Spring 4.3.6. Also Spring feign 1.2.5.RELEASE","title":"Netflix Feign Exception","body":"<p>I was getting the same issue, Once I added the below dependency , it started working :</p>\n\n<pre><code>dependencyManagement {\n    imports {\n        mavenBom \"org.springframework.cloud:spring-cloud-dependencies:Brixton.SR7\"}\n}\n</code></pre>\n\n<p>I am using Spring boot 1.4 but Spring 4.3.6. Also Spring feign 1.2.5.RELEASE</p>\n"},{"tags":[],"owner":{"account_id":12476582,"reputation":597,"user_id":9082736,"display_name":"Bilal Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641889197,"creation_date":1641888777,"answer_id":70663535,"question_id":42033109,"body_markdown":"This error may occur when using multiple feign clients or bad package architecture. Sometimes this error occurs due to version incompatibilities, but in some projects we may not be able to change the versions. Therefore, you can solve the problem with the following codes. This codes worked for me. \r\n\r\nUse this annotation in ApplicationStarter class:\r\n\r\n    @EnableFeignClients\r\n\r\nFeign Client Interface:\r\n\r\n    import org.springframework.cloud.netflix.feign.FeignClient;\r\n    \r\n    @FeignClient(value = &quot;account-service&quot;, url = &quot;${feign.client.account-service}&quot;, path = &quot;/account/api/v1&quot;)\r\n    public interface AccountServiceClient {\r\n      @RequestLine(&quot;POST  /customer/{email}/?name={accountName}&quot;)\r\n      Long registerCustomer(@Param(&quot;email&quot;) String email, @Param(&quot;accountName&quot;) String accountName);\r\n    }\r\n\r\nDefine bean for multiple feign usage:\r\n\r\n    @Bean\r\n    @Qualifier(&quot;account-feign-client&quot;)\r\n    public AccountServiceClient accountServiceClient() {\r\n        return Feign.builder().target( AccountServiceClient.class,&quot;${feign.client.account-service}&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Qualifier(&quot;mail-feign-client&quot;)\r\n    public MailServiceClient mailServiceClient() {\r\n        return Feign.builder().target( MailServiceClient.class,&quot;${feign.client.mail-service}&quot;);\r\n    }\r\n\r\nAutowire in service:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;account-feign-client&quot;)\r\n    private AccountServiceClient accountServiceClient;\r\n\r\npom.xml:\r\n\r\n    \t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Brixton.SR7&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    ...\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"Netflix Feign Exception","body":"<p>This error may occur when using multiple feign clients or bad package architecture. Sometimes this error occurs due to version incompatibilities, but in some projects we may not be able to change the versions. Therefore, you can solve the problem with the following codes. This codes worked for me.</p>\n<p>Use this annotation in ApplicationStarter class:</p>\n<pre><code>@EnableFeignClients\n</code></pre>\n<p>Feign Client Interface:</p>\n<pre><code>import org.springframework.cloud.netflix.feign.FeignClient;\n\n@FeignClient(value = &quot;account-service&quot;, url = &quot;${feign.client.account-service}&quot;, path = &quot;/account/api/v1&quot;)\npublic interface AccountServiceClient {\n  @RequestLine(&quot;POST  /customer/{email}/?name={accountName}&quot;)\n  Long registerCustomer(@Param(&quot;email&quot;) String email, @Param(&quot;accountName&quot;) String accountName);\n}\n</code></pre>\n<p>Define bean for multiple feign usage:</p>\n<pre><code>@Bean\n@Qualifier(&quot;account-feign-client&quot;)\npublic AccountServiceClient accountServiceClient() {\n    return Feign.builder().target( AccountServiceClient.class,&quot;${feign.client.account-service}&quot;);\n}\n\n@Bean\n@Qualifier(&quot;mail-feign-client&quot;)\npublic MailServiceClient mailServiceClient() {\n    return Feign.builder().target( MailServiceClient.class,&quot;${feign.client.mail-service}&quot;);\n}\n</code></pre>\n<p>Autowire in service:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;account-feign-client&quot;)\nprivate AccountServiceClient accountServiceClient;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.SR7&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n...\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":1240724,"reputation":7675,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641889197,"creation_date":1486156434,"question_id":42033109,"body_markdown":"&gt; Dependencies\r\n\r\n`org.springframework.cloud:spring-cloud-starter-feign:jar:1.2.2.RELEASE:compile\r\ncom.netflix.feign:feign-core:jar:8.16.2:compile\r\ncom.netflix.feign:feign-slf4j:jar:8.16.2:compile\r\ncom.netflix.feign:feign-jackson:jar:8.15.1:compile`\r\n\r\n&gt; Enabling Feign on SpringBootAppilication\r\n\r\n`@EnableFeignClients(basePackages = &quot;com.vett.services.bucket.restclient&quot;)`\r\n\r\n\r\n&gt; Feign interface Client\r\n\r\n`@FeignClient(name = &quot;myClient&quot;, configuration = ClientConfigs.class, url = &quot;https://my-endpoint&quot;);\r\npublic interface MyClient {`\r\n\r\n&gt; Results in this error\r\n\r\n`org.springframework.core.annotation.AnnotationConfigurationException: Attribute &#39;value&#39; in annotation [org.springframework.cloud.netflix.feign.FeignClient] must be declared as an @AliasFor [serviceId], not [name]`\r\n\r\n&gt; So far I have\r\n\r\nAs its unclear to me what the issue is i have used the `value` instead of `name`, my searching has not been successful i have see a few issues with feign annotation but not appear to be similar to this at all","title":"Netflix Feign Exception","body":"<blockquote>\n  <p>Dependencies</p>\n</blockquote>\n\n<p><code>org.springframework.cloud:spring-cloud-starter-feign:jar:1.2.2.RELEASE:compile\ncom.netflix.feign:feign-core:jar:8.16.2:compile\ncom.netflix.feign:feign-slf4j:jar:8.16.2:compile\ncom.netflix.feign:feign-jackson:jar:8.15.1:compile</code></p>\n\n<blockquote>\n  <p>Enabling Feign on SpringBootAppilication</p>\n</blockquote>\n\n<p><code>@EnableFeignClients(basePackages = \"com.vett.services.bucket.restclient\")</code></p>\n\n<blockquote>\n  <p>Feign interface Client</p>\n</blockquote>\n\n<p><code>@FeignClient(name = \"myClient\", configuration = ClientConfigs.class, url = \"https://my-endpoint\");\npublic interface MyClient {</code></p>\n\n<blockquote>\n  <p>Results in this error</p>\n</blockquote>\n\n<p><code>org.springframework.core.annotation.AnnotationConfigurationException: Attribute 'value' in annotation [org.springframework.cloud.netflix.feign.FeignClient] must be declared as an @AliasFor [serviceId], not [name]</code></p>\n\n<blockquote>\n  <p>So far I have</p>\n</blockquote>\n\n<p>As its unclear to me what the issue is i have used the <code>value</code> instead of <code>name</code>, my searching has not been successful i have see a few issues with feign annotation but not appear to be similar to this at all</p>\n"},{"tags":["java","spring","oracle","database-locking"],"comments":[{"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"score":1,"creation_date":1641811369,"post_id":70650004,"comment_id":124895420,"body_markdown":"I would contend that you *do* want to kill the session, because if it is holding a lock, then the connection pool manager will still think that this session is in use by the Java thread that initiated the lock.  That session wont be released back to the pool.  Also check out max_idle_blocker_time parameter to guard against sessions holding locks that block others","body":"I would contend that you <i>do</i> want to kill the session, because if it is holding a lock, then the connection pool manager will still think that this session is in use by the Java thread that initiated the lock.  That session wont be released back to the pool.  Also check out max_idle_blocker_time parameter to guard against sessions holding locks that block others"},{"owner":{"account_id":13933504,"reputation":113,"user_id":10061141,"display_name":"stephen fernandes"},"score":0,"creation_date":1641887076,"post_id":70650004,"comment_id":124917965,"body_markdown":"@ConnorMcDonald Thanks for your reply. I think what you have said will work definitely. I have gone through the oracle documentation and it is available from 19c :( . We are on 12 version as of now. Is it possible to give a timeout that if the lock is not released, release the lock?","body":"@ConnorMcDonald Thanks for your reply. I think what you have said will work definitely. I have gone through the oracle documentation and it is available from 19c :( . We are on 12 version as of now. Is it possible to give a timeout that if the lock is not released, release the lock?"},{"owner":{"account_id":13933504,"reputation":113,"user_id":10061141,"display_name":"stephen fernandes"},"score":0,"creation_date":1641889279,"post_id":70650004,"comment_id":124918625,"body_markdown":"SQLNET.EXPIRE_TIME to specify a time interval, in minutes, to send a probe to verify that client/server connections are active. Setting a value greater than 0 ensures that connections are not left open indefinitely, due to an abnormal client termination . Will this help?","body":"SQLNET.EXPIRE_TIME to specify a time interval, in minutes, to send a probe to verify that client/server connections are active. Setting a value greater than 0 ensures that connections are not left open indefinitely, due to an abnormal client termination . Will this help?"}],"owner":{"account_id":13933504,"reputation":113,"user_id":10061141,"display_name":"stephen fernandes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641889169,"creation_date":1641805762,"question_id":70650004,"body_markdown":"We have an application in java that is distributed and deployed on more than 20 machines. So we use DB locks to handle concurrency at the application level. &lt;br&gt;\r\nThe database used is oracle here and we are using dbms_lock package. First, we call allocate_unique function from that package to get a unique id/lock handle. Using this we call dbms_lock.request function to lock. Then after the activity is complete, we use dbms_release to release the lock. Sample pseudo-code :  \r\n```\r\ntry{\r\n1. take the connection (from apache db pool library)\r\n2. take lock using the above mentioned steps \r\n3. perform db activities like stored proc/queries \r\n4. commit the transaction \r\n}\r\ncatch(Exception e){\r\n1. do rollback\r\n}\r\nfinally{\r\n1. release lock\r\n2. release the connection back to pool\r\n}\r\n ```\r\nNow the code works absolutely fine in all the scenarios even in exception handling. However, the problem is when there is a network issue, the DB connection is lost. Ideally, locks are released in case of commit and rollback. In this case, since the connection is lost, neither commit nor rollback would work. Also in finally, since the connection is lost, releasing the lock and connection would fail. &lt;br&gt;\r\nSo in this case, we had to kill the lock manually asking dba to kill it at the database level. So is there a way to handle this gracefully? &lt;br&gt;\r\nNote: there is a parameter at oracle called idle-time which we can set at init file or through session modification, but we cannot use it since we use the connection pooling. So the connections which are lying there would also get killed . We don&#39;t want to kill the connections , only want to release the lock(after say for 15 mins) and the associated connection to be killed after releasing the lock (if possible). &lt;br&gt;There is a timeout in dbms_lock.request, but this timeout is different. It is used only if the requested lock, cannot be allocated within the time specified and gives an error, we cannot allocate you the lock. But once if the lock is achieved, there is no scope for the provision of timeout in that package if the lock is not released after some interval of time. \r\n&lt;br&gt;&lt;br&gt;\r\nNew Comment :\r\nHey, i was going through the link\r\nhttps://programmer.help/blogs/clearing-dead-connections-using-sqlnet.expire_time.html\r\n\r\n1. Understanding the parameters of SQLNET.EXPIRE_TIME\r\n   Use parameter SQLNET.EXPIRE_TIME to specify a time interval, in minutes, to send a probe to verify that client/server\r\n   connections are active.\r\n   Setting a value greater than 0 ensures that connections are not left open indefinitely, due to an abnormal client termination. \r\n\r\nNow in java, we have connection pool. If there is abnormal termination, we java has lost the handle of the connection. So whenever new request comes, the new connection will be created. So when oracle sends a probe to verify, will this be counted that the server is active? or it will only consider the old connection which is lost?\r\n\r\n","title":"oracle DB not releasing lock in case of db connection issue caused by network error","body":"<p>We have an application in java that is distributed and deployed on more than 20 machines. So we use DB locks to handle concurrency at the application level. <br>\nThe database used is oracle here and we are using dbms_lock package. First, we call allocate_unique function from that package to get a unique id/lock handle. Using this we call dbms_lock.request function to lock. Then after the activity is complete, we use dbms_release to release the lock. Sample pseudo-code :</p>\n<pre><code>try{\n1. take the connection (from apache db pool library)\n2. take lock using the above mentioned steps \n3. perform db activities like stored proc/queries \n4. commit the transaction \n}\ncatch(Exception e){\n1. do rollback\n}\nfinally{\n1. release lock\n2. release the connection back to pool\n}\n</code></pre>\n<p>Now the code works absolutely fine in all the scenarios even in exception handling. However, the problem is when there is a network issue, the DB connection is lost. Ideally, locks are released in case of commit and rollback. In this case, since the connection is lost, neither commit nor rollback would work. Also in finally, since the connection is lost, releasing the lock and connection would fail. <br>\nSo in this case, we had to kill the lock manually asking dba to kill it at the database level. So is there a way to handle this gracefully? <br>\nNote: there is a parameter at oracle called idle-time which we can set at init file or through session modification, but we cannot use it since we use the connection pooling. So the connections which are lying there would also get killed . We don't want to kill the connections , only want to release the lock(after say for 15 mins) and the associated connection to be killed after releasing the lock (if possible). <br>There is a timeout in dbms_lock.request, but this timeout is different. It is used only if the requested lock, cannot be allocated within the time specified and gives an error, we cannot allocate you the lock. But once if the lock is achieved, there is no scope for the provision of timeout in that package if the lock is not released after some interval of time.\n<br><br>\nNew Comment :\nHey, i was going through the link\n<a href=\"https://programmer.help/blogs/clearing-dead-connections-using-sqlnet.expire_time.html\" rel=\"nofollow noreferrer\">https://programmer.help/blogs/clearing-dead-connections-using-sqlnet.expire_time.html</a></p>\n<ol>\n<li>Understanding the parameters of SQLNET.EXPIRE_TIME\nUse parameter SQLNET.EXPIRE_TIME to specify a time interval, in minutes, to send a probe to verify that client/server\nconnections are active.\nSetting a value greater than 0 ensures that connections are not left open indefinitely, due to an abnormal client termination.</li>\n</ol>\n<p>Now in java, we have connection pool. If there is abnormal termination, we java has lost the handle of the connection. So whenever new request comes, the new connection will be created. So when oracle sends a probe to verify, will this be counted that the server is active? or it will only consider the old connection which is lost?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641884256,"post_id":70662649,"comment_id":124917085,"body_markdown":"Welcome to stackoverflow. Plese read https://stackoverflow.com/help/how-to-ask and with that knowledge rewrite your question. For starters post code as code not as (links) to images and properly format stacktraces. Your current question is quite unreadable and requires clicking to get a full overview.","body":"Welcome to stackoverflow. Plese read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and with that knowledge rewrite your question. For starters post code as code not as (links) to images and properly format stacktraces. Your current question is quite unreadable and requires clicking to get a full overview."},{"owner":{"account_id":23901539,"reputation":1,"user_id":17899637,"display_name":"Roushan Suman"},"score":0,"creation_date":1641884824,"post_id":70662649,"comment_id":124917231,"body_markdown":"I have updadted it, please look into this","body":"I have updadted it, please look into this"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641885002,"post_id":70662649,"comment_id":124917273,"body_markdown":"You are uploading an image, and that input element is named `image`. Your `Contract` also has a property named `image` of type `String`. Spring will try to bind that field `image` (which is a `MultipartFile`) which fails because it is a `String`. Either rename the input element to something else `imageFile` for instance or rename the property to something else `imageFilename`. So no binding will occur.","body":"You are uploading an image, and that input element is named <code>image</code>. Your <code>Contract</code> also has a property named <code>image</code> of type <code>String</code>. Spring will try to bind that field <code>image</code> (which is a <code>MultipartFile</code>) which fails because it is a <code>String</code>. Either rename the input element to something else <code>imageFile</code> for instance or rename the property to something else <code>imageFilename</code>. So no binding will occur."},{"owner":{"account_id":23901539,"reputation":1,"user_id":17899637,"display_name":"Roushan Suman"},"score":0,"creation_date":1641885561,"post_id":70662649,"comment_id":124917447,"body_markdown":"Yes, that&#39;s worked but now when I tried to retrive the image from database, its shows not found    &lt;img src=&quot;&quot; style=&quot;height: 200px; width: 200px;&quot;\n\t\t\t\t\t\tclass=&quot;my_profile_picture&quot; th:src=&quot;@{&#39;/image/&#39;+${contact.image}}&quot;\n\t\t\t\t\t\talt=&quot;DP&quot; /&gt;","body":"Yes, that&#39;s worked but now when I tried to retrive the image from database, its shows not found    &lt;img src=&quot;&quot; style=&quot;height: 200px; width: 200px;&quot; \t\t\t\t\t\tclass=&quot;my_profile_picture&quot; th:src=&quot;@{&#39;/image/&#39;+${contact.image}}&quot; \t\t\t\t\t\talt=&quot;DP&quot; /&gt;"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641888183,"post_id":70662649,"comment_id":124918270,"body_markdown":"The image isn&#39;t in the database it is on the filesystem, at least that is where you are saving it. So you have to construct the name again to download it.","body":"The image isn&#39;t in the database it is on the filesystem, at least that is where you are saving it. So you have to construct the name again to download it."}],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641888736,"creation_date":1641888736,"answer_id":70663521,"question_id":70662649,"body_markdown":" 1. Change your fieldName as suggested in the comment section.\r\n 2. currently, you are saving your image in the system. To get it, you must read it from the system again. Another thing, while calling the `file.getOriginalFileName()` method, be careful with the client provided name, better if you set your own. [See this][1]\r\n 3. If you want to store your image in database, change your `image` String field with `@Lob(type = LobType.BLOB)\r\nprivate byte[] your_fieldName;`. Set th file content here before saving it to database. Then you can directly get image-data along with other fields\r\n\r\n  [1]: https://stackoverflow.com/questions/46992498/spring-boot-multipartfile-upload-getoriginalfilename-different-depending-on-brow","title":"I am trying to upload the image but the issue is with the field image of class Contact","body":"<ol>\n<li>Change your fieldName as suggested in the comment section.</li>\n<li>currently, you are saving your image in the system. To get it, you must read it from the system again. Another thing, while calling the <code>file.getOriginalFileName()</code> method, be careful with the client provided name, better if you set your own. <a href=\"https://stackoverflow.com/questions/46992498/spring-boot-multipartfile-upload-getoriginalfilename-different-depending-on-brow\">See this</a></li>\n<li>If you want to store your image in database, change your <code>image</code> String field with <code>@Lob(type = LobType.BLOB) private byte[] your_fieldName;</code>. Set th file content here before saving it to database. Then you can directly get image-data along with other fields</li>\n</ol>\n"}],"owner":{"account_id":23901539,"reputation":1,"user_id":17899637,"display_name":"Roushan Suman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641888736,"creation_date":1641883666,"question_id":70662649,"body_markdown":"\r\nhere is the error I am getting when I submit the add/contact.\r\n\r\n\r\n    There was an unexpected error (type=Bad Request, status=400).\r\n    Validation failed for object=&#39;contact&#39;. Error count: 1\r\n    org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\r\n    Field error in object &#39;contact&#39; on field &#39;image&#39;: rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@234005aa]; codes [typeMismatch.contact.image,typeMismatch.image,typeMismatch.java.lang.String,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [contact.image,image]; arguments []; default message [image]]; default message [Failed to convert property value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;java.lang.String&#39; for property &#39;image&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;java.lang.String&#39; for property &#39;image&#39;: no matching editors or conversion strategy found]\r\n\r\n\r\n\r\nThe controller ....\r\n\r\n`````\r\n@PostMapping(&quot;/process-contact&quot;)\r\n\tpublic String processContact(@ModelAttribute Contact contact,\r\n\t\t\t@RequestParam(&quot;image&quot;) MultipartFile file,\r\n\t\t\tPrincipal principal,\r\n\t\t\tHttpSession session) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString name = principal.getName();\r\n\t\t\tUser user = this.userRepository.getUserByUserName(name);\r\n\t\t\t\r\n\t\t\t//processing and uploading file\r\n\t\t\tif(file.isEmpty()) {\r\n\t\t\t\tSystem.out.println(&quot;Empty file&quot;);\r\n\t\t\t\tcontact.setImage(&quot;man.jpg&quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcontact.setImage(file.getOriginalFilename());\r\n\t\t\t\t\r\n\t\t\t\tFile saveFile = new ClassPathResource(&quot;static/image&quot;).getFile();\r\n\t\t\t\t\r\n\t\t\t\tPath path = Paths.get(saveFile.getAbsolutePath()+File.pathSeparator+file.getOriginalFilename());\r\n\t\t\t\t\r\n\t\t\t\tFiles.copy(file.getInputStream(),path,StandardCopyOption.REPLACE_EXISTING );\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Image is uploaded&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//important...\r\n\t\t\tcontact.setUser(user);\r\n\t\t\tuser.getContacts().add(contact);\r\n\t\t\t//......\r\n\t\t\tthis.userRepository.save(user);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;DATA : &quot;+contact);\r\n\t\t\tSystem.out.println(&quot;Contact Added to Database&quot;);\r\n\t\t\t\r\n\t\t\t//message success....\r\n\t\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;Your Contact is Added !! Add More..&quot;, &quot;success&quot;));\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t\t//message error..\r\n\t\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;Soemthing Went Wrong !! Try Again...&quot;, &quot;danger&quot;));\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;normal/add_contact_form&quot;;\r\n\t}\r\n````\r\n\r\nthe add contact form html file...\r\n&lt;form action=&quot;#&quot;\r\n\t\t\t\t\t\t\t\tth:object=&quot;${contact}&quot;\r\n\t\t\t\t\t\t\t\tenctype=&quot;multipart/form-data&quot;\r\n\t\t\t\t\t\t\t\tmethod=&quot;post&quot;\r\n\t\t\t\t\t\t\t\tth:action=&quot;@{/userr/process-contact}&quot;\r\n\t\t\t\t\t\t\t\tclass=&quot;mt-2&quot;\r\n\t\t\t\t\t\t\t&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;!-- Contact Description  --&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;div class=&quot;form-group mt-3 ms-5&quot;&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&lt;textarea name=&quot;description&quot; id=&quot;mytextarea&quot; cols=&quot;50&quot; rows=&quot;10&quot; placeholder=&quot;Enter Contact Description&quot;&gt;&lt;/textarea&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;!-- Contact Image --&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;div class=&quot;custom-file mt-3&quot;&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&lt;input type=&quot;file&quot; name=&quot;image&quot;&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\r\n\r\nenter image description here\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TMhP1.png\r\n  [2]: https://i.stack.imgur.com/emBS0.png\r\n\r\n\r\n\r\nthe contact.java file is below\r\n\r\n@Entity\r\n@Table(name = &quot;CONTACT&quot;)\r\npublic class Contact {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int cId;\r\n\tprivate String name;\r\n\tprivate String secondName;\r\n\tprivate String work;\r\n\tprivate String email;\r\n\tprivate String phone;\r\n\tprivate String image;\r\n\t@Column(length = 1000)\r\n\tprivate String description;\r\n\t\r\n\t@ManyToOne\r\n\tprivate User user;\r\n\t\r\n\r\n\r\n\r\n","title":"I am trying to upload the image but the issue is with the field image of class Contact","body":"<p>here is the error I am getting when I submit the add/contact.</p>\n<pre><code>There was an unexpected error (type=Bad Request, status=400).\nValidation failed for object='contact'. Error count: 1\norg.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'contact' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@234005aa]; codes [typeMismatch.contact.image,typeMismatch.image,typeMismatch.java.lang.String,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [contact.image,image]; arguments []; default message [image]]; default message [Failed to convert property value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'java.lang.String' for property 'image'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'java.lang.String' for property 'image': no matching editors or conversion strategy found]\n</code></pre>\n<p>The controller ....</p>\n<pre><code>@PostMapping(&quot;/process-contact&quot;)\n    public String processContact(@ModelAttribute Contact contact,\n            @RequestParam(&quot;image&quot;) MultipartFile file,\n            Principal principal,\n            HttpSession session) {\n        \n        try {\n            String name = principal.getName();\n            User user = this.userRepository.getUserByUserName(name);\n            \n            //processing and uploading file\n            if(file.isEmpty()) {\n                System.out.println(&quot;Empty file&quot;);\n                contact.setImage(&quot;man.jpg&quot;);\n            }\n            else {\n                contact.setImage(file.getOriginalFilename());\n                \n                File saveFile = new ClassPathResource(&quot;static/image&quot;).getFile();\n                \n                Path path = Paths.get(saveFile.getAbsolutePath()+File.pathSeparator+file.getOriginalFilename());\n                \n                Files.copy(file.getInputStream(),path,StandardCopyOption.REPLACE_EXISTING );\n                \n                System.out.println(&quot;Image is uploaded&quot;);\n            }\n            \n            //important...\n            contact.setUser(user);\n            user.getContacts().add(contact);\n            //......\n            this.userRepository.save(user);\n            \n            \n            System.out.println(&quot;DATA : &quot;+contact);\n            System.out.println(&quot;Contact Added to Database&quot;);\n            \n            //message success....\n            session.setAttribute(&quot;message&quot;, new Message(&quot;Your Contact is Added !! Add More..&quot;, &quot;success&quot;));\n            \n            \n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n            \n            //message error..\n            session.setAttribute(&quot;message&quot;, new Message(&quot;Soemthing Went Wrong !! Try Again...&quot;, &quot;danger&quot;));\n\n        }\n        \n        return &quot;normal/add_contact_form&quot;;\n    }\n````\n\nthe add contact form html file...\n&lt;form action=&quot;#&quot;\n                                th:object=&quot;${contact}&quot;\n                                enctype=&quot;multipart/form-data&quot;\n                                method=&quot;post&quot;\n                                th:action=&quot;@{/userr/process-contact}&quot;\n                                class=&quot;mt-2&quot;\n                            &gt;\n                            \n                            \n                            &lt;!-- Contact Description  --&gt;\n                            \n                            &lt;div class=&quot;form-group mt-3 ms-5&quot;&gt;\n                            \n                                &lt;textarea name=&quot;description&quot; id=&quot;mytextarea&quot; cols=&quot;50&quot; rows=&quot;10&quot; placeholder=&quot;Enter Contact Description&quot;&gt;&lt;/textarea&gt;\n                            \n                            &lt;/div&gt;\n                            \n                            &lt;!-- Contact Image --&gt;\n                            \n                            &lt;div class=&quot;custom-file mt-3&quot;&gt;\n                            \n                                &lt;input type=&quot;file&quot; name=&quot;image&quot;&gt;\n                            \n                            &lt;/div&gt;\n\n\n\nenter image description here\n\n\n[enter image description here][2]\n\n\n  [1]: https://i.stack.imgur.com/TMhP1.png\n  [2]: https://i.stack.imgur.com/emBS0.png\n\n\n\nthe contact.java file is below\n\n@Entity\n@Table(name = &quot;CONTACT&quot;)\npublic class Contact {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int cId;\n    private String name;\n    private String secondName;\n    private String work;\n    private String email;\n    private String phone;\n    private String image;\n    @Column(length = 1000)\n    private String description;\n    \n    @ManyToOne\n    private User user;\n    \n\n\n\n</code></pre>\n"},{"tags":["java","tomcat","jsf","servlets","omnifaces"],"answers":[{"tags":[],"owner":{"account_id":9236075,"reputation":1,"user_id":14402843,"display_name":"stavromachinima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641888692,"creation_date":1641888692,"answer_id":70663509,"question_id":70494673,"body_markdown":"I found out that my Tomcat version was incompatible with those particulat versions. I installed omnifaces-3.1.jar and it worked corrrectly.","title":"Omnifaces no current representation for target resource","body":"<p>I found out that my Tomcat version was incompatible with those particulat versions. I installed omnifaces-3.1.jar and it worked corrrectly.</p>\n"}],"owner":{"account_id":9236075,"reputation":1,"user_id":14402843,"display_name":"stavromachinima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70663509,"answer_count":1,"score":0,"last_activity_date":1641888692,"creation_date":1640603375,"question_id":70494673,"body_markdown":"I try recreating this example https://showcase.omnifaces.org/push/socket into my server.\r\n\r\nI have currently omnifaces-1.6.3.jar installed but socket doesn&#39;t work properly because it throws \r\n\r\n&gt; classNotFoundException org.omnifaces.cdi.PushContext\r\n\r\nwhich is normal because PushContext is after 2.3 version of omnifaces.\r\n\r\nBut when i throw omnifaces-3.12.jar or omnifaces-2.3.jar into my WEB-INF/lib folder and remove the previous omnifaces jars , server throws:\r\n\r\n&gt; Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nAny ideas to fix that?`How can i make my server recognize these?\r\n\r\nMy configurations are:\r\n\r\nJSF 2.3\r\nPrimefaces 8.0\r\nTomcat 8.5.57.0\r\nServlet 3.1\r\nJava 1.8.0","title":"Omnifaces no current representation for target resource","body":"<p>I try recreating this example <a href=\"https://showcase.omnifaces.org/push/socket\" rel=\"nofollow noreferrer\">https://showcase.omnifaces.org/push/socket</a> into my server.</p>\n<p>I have currently omnifaces-1.6.3.jar installed but socket doesn't work properly because it throws</p>\n<blockquote>\n<p>classNotFoundException org.omnifaces.cdi.PushContext</p>\n</blockquote>\n<p>which is normal because PushContext is after 2.3 version of omnifaces.</p>\n<p>But when i throw omnifaces-3.12.jar or omnifaces-2.3.jar into my WEB-INF/lib folder and remove the previous omnifaces jars , server throws:</p>\n<blockquote>\n<p>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n</blockquote>\n<p>Any ideas to fix that?`How can i make my server recognize these?</p>\n<p>My configurations are:</p>\n<p>JSF 2.3\nPrimefaces 8.0\nTomcat 8.5.57.0\nServlet 3.1\nJava 1.8.0</p>\n"},{"tags":["javascript","java","ajax","servlets"],"owner":{"account_id":23358560,"reputation":11,"user_id":17431174,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641888637,"creation_date":1641888637,"question_id":70663499,"body_markdown":"My problem it&#39;s that I define an ajax request to a servlet, and send in the ajax request a javascript array of Object defined in js. In java I have also a bean Class with same name e method. How can I read this array in java servlet? Because \r\n\r\nThis is my js (I want to send String, and one array of IngQua object):\r\n\r\n    var list= [];\r\n    ---fill list---\r\n    $.ajax({\r\n\t\ttype: &quot;POST&quot;,\r\n\t\turl: &quot;/insert&quot;,\r\n\t\tdata: {\r\n\t\t\ttitle:title,\r\n\t\t\tdescription:description,\r\n\t\t\tprep:prep,\r\n\t\t\tlist:list,\r\n\t\t\tadvice:advice\r\n\t\t},\t\r\n\t\tsuccess: function(res){\r\n\t\t\tif(res === &quot;OK&quot;)\r\n\t\t\t\talert(&quot;OK&quot;);\r\n\t\t},\r\n\t\terror: function(xhr){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\r\n\r\n    \r\n\r\n\r\n\r\nWhile this is my servlet\r\n\r\n    @PostMapping(&quot;/insert&quot;)\r\n\t@ResponseBody\r\n\tpublic String insert(@RequestParam(&quot;title&quot;) String titolo, @RequestParam(&quot;description&quot;) String description, \r\n\t\t\t@RequestParam(&quot;prep&quot;)String prep,@RequestParam(&quot;advice&quot;) String advice, ,\r\n\t\t @RequestParam(&quot;list&quot;) ArrayList&lt;IngQua&gt; list, HttpServletRequest req ) {\r\n\t\tSystem.out.println(titolo);\r\n\t\treturn &quot;OK&quot;;\r\n\t\t\r\n\t}\r\n\r\n\r\nAnd this is the exception:\r\n\r\n    Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;list&#39; for method parameter type ArrayList is not present]","title":"How pass an array javascript in the data of ajax that call a servlet","body":"<p>My problem it's that I define an ajax request to a servlet, and send in the ajax request a javascript array of Object defined in js. In java I have also a bean Class with same name e method. How can I read this array in java servlet? Because</p>\n<p>This is my js (I want to send String, and one array of IngQua object):</p>\n<pre><code>var list= [];\n---fill list---\n$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/insert&quot;,\n    data: {\n        title:title,\n        description:description,\n        prep:prep,\n        list:list,\n        advice:advice\n    },  \n    success: function(res){\n        if(res === &quot;OK&quot;)\n            alert(&quot;OK&quot;);\n    },\n    error: function(xhr){\n        \n    }\n})\n</code></pre>\n<p>While this is my servlet</p>\n<pre><code>@PostMapping(&quot;/insert&quot;)\n@ResponseBody\npublic String insert(@RequestParam(&quot;title&quot;) String titolo, @RequestParam(&quot;description&quot;) String description, \n        @RequestParam(&quot;prep&quot;)String prep,@RequestParam(&quot;advice&quot;) String advice, ,\n     @RequestParam(&quot;list&quot;) ArrayList&lt;IngQua&gt; list, HttpServletRequest req ) {\n    System.out.println(titolo);\n    return &quot;OK&quot;;\n    \n}\n</code></pre>\n<p>And this is the exception:</p>\n<pre><code>Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'list' for method parameter type ArrayList is not present]\n</code></pre>\n"},{"tags":["java","validation","struts2","gettext","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499215884,"creation_date":1499215884,"answer_id":44915623,"question_id":44915543,"body_markdown":"You only add `extends ActionSupport` to your action class or beans, or create an instance of `ActionSupport` and call `getText()`. `getText()` is a method of `ActionSupport`.","title":"Struts 2 using getText in action class or beans","body":"<p>You only add <code>extends ActionSupport</code> to your action class or beans, or create an instance of <code>ActionSupport</code> and call <code>getText()</code>. <code>getText()</code> is a method of <code>ActionSupport</code>.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641888595,"creation_date":1499246826,"answer_id":44922197,"question_id":44915543,"body_markdown":"You can use `getText()` if your action bean implements [`TextProvider`][1]. If you extend `ActionSupport` it&#39;s already implemented by default.\r\n\r\n&gt; To use `getText()` the action should implement `TextProvider` that\r\n&gt; what `ActionSupport` is for. If your action class extends\r\n&gt; `ActionSupport` then you can use default implementation of\r\n&gt; `TextProvider` and can use the code above.\r\n\r\n\r\n----------\r\n\r\nFor other beans you can get the action instance which implements a `TextProvider`. For example\r\n\r\n    ActionSupport action = (ActionSupport)ActionContext.getContext().getActionInvocation().getAction();\r\n    String text = action.getText(&quot;error.card&quot;);\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nBut the first parameter in [`addFieldError()`][2], doesn&#39;t need `getText()`. It&#39;s used for the name of the field which would have an error.\r\n\r\n \r\n\r\n\r\n  [1]: https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/TextProvider.html\r\n  [2]: https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/interceptor/ValidationAware.html#addFieldError-java.lang.String-java.lang.String-","title":"Struts 2 using getText in action class or beans","body":"<p>You can use <code>getText()</code> if your action bean implements <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/TextProvider.html\" rel=\"nofollow noreferrer\"><code>TextProvider</code></a>. If you extend <code>ActionSupport</code> it's already implemented by default.</p>\n<blockquote>\n<p>To use <code>getText()</code> the action should implement <code>TextProvider</code> that\nwhat <code>ActionSupport</code> is for. If your action class extends\n<code>ActionSupport</code> then you can use default implementation of\n<code>TextProvider</code> and can use the code above.</p>\n</blockquote>\n<hr />\n<p>For other beans you can get the action instance which implements a <code>TextProvider</code>. For example</p>\n<pre><code>ActionSupport action = (ActionSupport)ActionContext.getContext().getActionInvocation().getAction();\nString text = action.getText(&quot;error.card&quot;);\n</code></pre>\n<hr />\n<p>But the first parameter in <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/interceptor/ValidationAware.html#addFieldError-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>addFieldError()</code></a>, doesn't need <code>getText()</code>. It's used for the name of the field which would have an error.</p>\n"}],"owner":{"account_id":11104673,"reputation":19,"user_id":8152207,"display_name":"Raymond Chiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2164,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1641888595,"creation_date":1499214918,"question_id":44915543,"body_markdown":"Is there a way to use `getText()` in action class or beans? I cannot find example of java coding in google search but can find in JSP coding. My example is as below:\r\n\r\n    public class LoanForm extends ActionSupport {\r\n         \r\n        public void validate(){\r\n    \t\tif(this.getNameOfApplicant().equals(&quot;&quot;)){\r\n    \t\t\taddFieldError(getText(&quot;error.card&quot;), getText(&quot;error.invalid.name&quot;));\r\n    \t\t}\r\n        }\r\n    }","title":"Struts 2 using getText in action class or beans","body":"<p>Is there a way to use <code>getText()</code> in action class or beans? I cannot find example of java coding in google search but can find in JSP coding. My example is as below:</p>\n\n<pre><code>public class LoanForm extends ActionSupport {\n\n    public void validate(){\n        if(this.getNameOfApplicant().equals(\"\")){\n            addFieldError(getText(\"error.card\"), getText(\"error.invalid.name\"));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","serial-port","communication","rxtx"],"answers":[{"tags":[],"owner":{"display_name":"user2742438"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1383137617,"creation_date":1383137617,"answer_id":19682787,"question_id":19682734,"body_markdown":"Based on the provided code the only suggestion I could give is to try flushing the stream (out.flush()) after putting data in it.\r\n\r\nOther than that - I&#39;d need to see the code that gets the output stream.","title":"How to send command to serial port (JAVA + RXTX)","body":"<p>Based on the provided code the only suggestion I could give is to try flushing the stream (out.flush()) after putting data in it.</p>\n\n<p>Other than that - I'd need to see the code that gets the output stream.</p>\n"},{"tags":[],"owner":{"account_id":4114692,"reputation":432,"user_id":3376613,"accept_rate":56,"display_name":"Hans Pour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491017290,"creation_date":1490978969,"answer_id":43145863,"question_id":19682734,"body_markdown":"Adding this line:\r\n\r\n    serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_NONE);","title":"How to send command to serial port (JAVA + RXTX)","body":"<p>Adding this line:</p>\n\n<pre><code>serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_NONE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6913816,"reputation":15,"user_id":5308797,"display_name":"Feruz Sadirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641888343,"creation_date":1641888343,"answer_id":70663450,"question_id":19682734,"body_markdown":"    TwoWaySerialComm.SerialWriter sw = new TwoWaySerialComm.SerialWriter(\r\n                                twoWaySerCom.serialPort.getOutputStream());\r\n    sw.out.write(b);\r\n    sw.out.write((byte)13);//13 code of CR etc.\r\n\r\n","title":"How to send command to serial port (JAVA + RXTX)","body":"<pre><code>TwoWaySerialComm.SerialWriter sw = new TwoWaySerialComm.SerialWriter(\n                            twoWaySerCom.serialPort.getOutputStream());\nsw.out.write(b);\nsw.out.write((byte)13);//13 code of CR etc.\n</code></pre>\n"}],"owner":{"account_id":3474285,"reputation":27,"user_id":2907908,"accept_rate":75,"display_name":"jlz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19682787,"answer_count":3,"score":2,"last_activity_date":1641888343,"creation_date":1383137437,"question_id":19682734,"body_markdown":"I have a problem with sending data input to a weight balance. I need to send a `ESC P CR LF` command. I use the RXTX lib. I dont know why it does not work. \r\n\r\nHere is the code:\r\n\r\n    public static class SerialWriter implements Runnable {\r\n        OutputStream out;\r\n        \r\n        public SerialWriter ( OutputStream out ) {\r\n            this.out = out;\r\n        }\r\n        \r\n        public void run () {\r\n            try {                \r\n                while (true) {\r\n                   this.out.write(new byte[]{0x1B, 0x50, 0x0D, 0x0A});\r\n                    Thread.sleep(1000);\r\n                }                \r\n            } catch ( IOException | InterruptedException e ) {\r\n                e.printStackTrace();\r\n            }            \r\n        }\r\n    }\r\n\r\nI tried with `flush` but nothing happened.\r\n\r\nI attached the full (modified) code below. \r\n     \r\n    package model;\r\n\r\n    import gnu.io.CommPort;\r\n    import gnu.io.CommPortIdentifier;\r\n    import gnu.io.SerialPort;\r\n\r\n    import java.io.FileDescriptor;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n\r\n    public class FirstSteps {\r\n        public FirstSteps() {\r\n            super();\r\n        }\r\n    \r\n        void connect (String portName) throws Exception {\r\n            CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(portName);\r\n            if (portIdentifier.isCurrentlyOwned()) {\r\n                System.out.println(&quot;Error: Port is currently in use&quot;);\r\n            } else {\r\n        \t    System.out.println(&quot;Connect 1/2&quot;);\r\n                CommPort commPort = portIdentifier.open(this.getClass().getName(),6000);\r\n                if (commPort instanceof SerialPort) {\r\n            \t    System.out.println(&quot;Connect 2/2&quot;);\r\n                    SerialPort serialPort = (SerialPort) commPort;\r\n                    System.out.println(&quot;BaudRate: &quot; + serialPort.getBaudRate());\r\n                    System.out.println(&quot;DataBIts: &quot; + serialPort.getDataBits());\r\n                    System.out.println(&quot;StopBits: &quot; + serialPort.getStopBits());\r\n                    System.out.println(&quot;Parity: &quot; + serialPort.getParity());\r\n                    System.out.println(&quot;FlowControl: &quot; + serialPort.getFlowControlMode());\r\n                    serialPort.setSerialPortParams(4800,SerialPort.DATABITS_8,SerialPort.STOPBITS_1,SerialPort.PARITY_ODD);\r\n                serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN);\r\n                    System.out.println(&quot;BaudRate: &quot; + serialPort.getBaudRate());\r\n                    System.out.println(&quot;DataBIts: &quot; + serialPort.getDataBits());\r\n                    System.out.println(&quot;StopBits: &quot; + serialPort.getStopBits());\r\n                    System.out.println(&quot;Parity: &quot; + serialPort.getParity());\r\n                    System.out.println(&quot;FlowControl: &quot; + serialPort.getFlowControlMode());\r\n                    InputStream in = serialPort.getInputStream();\r\n                    OutputStream out = serialPort.getOutputStream();\r\n \r\n                    (new Thread(new SerialReader(in))).start();\r\n                    (new Thread(new SerialWriter(out))).start();\r\n                } else {\r\n                    System.out.println(&quot;Error: Only serial ports are handled by this example.&quot;);\r\n                }\r\n            }     \r\n        }\r\n    \r\n        public static class SerialReader implements Runnable {\r\n            InputStream in;\r\n        \r\n            public SerialReader(InputStream in) {\r\n                this.in = in;\r\n            }\r\n        \r\n            public void run() {\r\n                byte[] buffer = new byte[1024];\r\n                int len = -1;\r\n                try {\r\n                    while ((len = this.in.read(buffer)) &gt; -1) {\r\n                \t    //System.out.println(&quot;Received a signal.&quot;);\r\n                        System.out.print(new String(buffer,0,len));\r\n                    }\r\n                } catch ( IOException e ) {\r\n                    e.printStackTrace();\r\n                }            \r\n            }\r\n        }\r\n\r\n        public static class SerialWriter implements Runnable {\r\n            OutputStream out;\r\n        \r\n            public SerialWriter(OutputStream out) {\r\n                this.out = out;\r\n            }\r\n        \r\n            public void run() {\r\n                try {\r\n                    byte[] array = {0x1B, 0x50, 0x0D, 0x0A};\r\n                    while (true) {\r\n                        this.out.write(new byte[]{0x1B, 0x50, 0x0D, 0x0A});\r\n                        this.out.flush();\r\n                        Thread.sleep(1000);  \r\n                    }                \r\n                } catch ( IOException | InterruptedException e ) {\r\n                    e.printStackTrace();\r\n                }            \r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                (new FirstSteps()).connect(&quot;COM7&quot;);\r\n            } catch ( Exception e ) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How to send command to serial port (JAVA + RXTX)","body":"<p>I have a problem with sending data input to a weight balance. I need to send a <code>ESC P CR LF</code> command. I use the RXTX lib. I dont know why it does not work. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>public static class SerialWriter implements Runnable {\n    OutputStream out;\n\n    public SerialWriter ( OutputStream out ) {\n        this.out = out;\n    }\n\n    public void run () {\n        try {                \n            while (true) {\n               this.out.write(new byte[]{0x1B, 0x50, 0x0D, 0x0A});\n                Thread.sleep(1000);\n            }                \n        } catch ( IOException | InterruptedException e ) {\n            e.printStackTrace();\n        }            \n    }\n}\n</code></pre>\n\n<p>I tried with <code>flush</code> but nothing happened.</p>\n\n<p>I attached the full (modified) code below. </p>\n\n<pre><code>package model;\n\nimport gnu.io.CommPort;\nimport gnu.io.CommPortIdentifier;\nimport gnu.io.SerialPort;\n\nimport java.io.FileDescriptor;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class FirstSteps {\n    public FirstSteps() {\n        super();\n    }\n\n    void connect (String portName) throws Exception {\n        CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(portName);\n        if (portIdentifier.isCurrentlyOwned()) {\n            System.out.println(\"Error: Port is currently in use\");\n        } else {\n            System.out.println(\"Connect 1/2\");\n            CommPort commPort = portIdentifier.open(this.getClass().getName(),6000);\n            if (commPort instanceof SerialPort) {\n                System.out.println(\"Connect 2/2\");\n                SerialPort serialPort = (SerialPort) commPort;\n                System.out.println(\"BaudRate: \" + serialPort.getBaudRate());\n                System.out.println(\"DataBIts: \" + serialPort.getDataBits());\n                System.out.println(\"StopBits: \" + serialPort.getStopBits());\n                System.out.println(\"Parity: \" + serialPort.getParity());\n                System.out.println(\"FlowControl: \" + serialPort.getFlowControlMode());\n                serialPort.setSerialPortParams(4800,SerialPort.DATABITS_8,SerialPort.STOPBITS_1,SerialPort.PARITY_ODD);\n            serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_RTSCTS_IN);\n                System.out.println(\"BaudRate: \" + serialPort.getBaudRate());\n                System.out.println(\"DataBIts: \" + serialPort.getDataBits());\n                System.out.println(\"StopBits: \" + serialPort.getStopBits());\n                System.out.println(\"Parity: \" + serialPort.getParity());\n                System.out.println(\"FlowControl: \" + serialPort.getFlowControlMode());\n                InputStream in = serialPort.getInputStream();\n                OutputStream out = serialPort.getOutputStream();\n\n                (new Thread(new SerialReader(in))).start();\n                (new Thread(new SerialWriter(out))).start();\n            } else {\n                System.out.println(\"Error: Only serial ports are handled by this example.\");\n            }\n        }     \n    }\n\n    public static class SerialReader implements Runnable {\n        InputStream in;\n\n        public SerialReader(InputStream in) {\n            this.in = in;\n        }\n\n        public void run() {\n            byte[] buffer = new byte[1024];\n            int len = -1;\n            try {\n                while ((len = this.in.read(buffer)) &gt; -1) {\n                    //System.out.println(\"Received a signal.\");\n                    System.out.print(new String(buffer,0,len));\n                }\n            } catch ( IOException e ) {\n                e.printStackTrace();\n            }            \n        }\n    }\n\n    public static class SerialWriter implements Runnable {\n        OutputStream out;\n\n        public SerialWriter(OutputStream out) {\n            this.out = out;\n        }\n\n        public void run() {\n            try {\n                byte[] array = {0x1B, 0x50, 0x0D, 0x0A};\n                while (true) {\n                    this.out.write(new byte[]{0x1B, 0x50, 0x0D, 0x0A});\n                    this.out.flush();\n                    Thread.sleep(1000);  \n                }                \n            } catch ( IOException | InterruptedException e ) {\n                e.printStackTrace();\n            }            \n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            (new FirstSteps()).connect(\"COM7\");\n        } catch ( Exception e ) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","spring","tomcat","server"],"answers":[{"tags":[],"owner":{"account_id":9236075,"reputation":1,"user_id":14402843,"display_name":"stavromachinima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641888072,"creation_date":1641888072,"answer_id":70663399,"question_id":70452782,"body_markdown":"In case someone comes here seeking ideas. I think one of the best ways is\r\neither using WebSockets for your version of Tomcat or [omnifaces socket][1]\r\nI sticked with websockets. \r\n\r\n\r\n  [1]: https://showcase.omnifaces.org/push/socket","title":"alert clients before server (Tomcat) restart","body":"<p>In case someone comes here seeking ideas. I think one of the best ways is\neither using WebSockets for your version of Tomcat or <a href=\"https://showcase.omnifaces.org/push/socket\" rel=\"nofollow noreferrer\">omnifaces socket</a>\nI sticked with websockets.</p>\n"}],"owner":{"account_id":9236075,"reputation":1,"user_id":14402843,"display_name":"stavromachinima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70663399,"answer_count":1,"score":0,"last_activity_date":1641888072,"creation_date":1640193552,"question_id":70452782,"body_markdown":"I am running an apache Tomcat server 6 on RHEL.\r\n\r\nThe server restart is being done with a script (restart_tom.sh).\r\nI want to alert the users that are logged in to my server before the server is restarted, so they know what happens when server is not responding.\r\n\r\nSo how can i do that?\r\nI tried using plain javascript according to this answer but doesn&#39;t work as i want.\r\n\r\n[https://stackoverflow.com/questions/5224197/javascript-check-if-server-is-online][1]\r\n\r\nIs there a way i could do it on my script? Do i need node.js?\r\nor is there a better way to alert users/clients?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5224197/javascript-check-if-server-is-online","title":"alert clients before server (Tomcat) restart","body":"<p>I am running an apache Tomcat server 6 on RHEL.</p>\n<p>The server restart is being done with a script (restart_tom.sh).\nI want to alert the users that are logged in to my server before the server is restarted, so they know what happens when server is not responding.</p>\n<p>So how can i do that?\nI tried using plain javascript according to this answer but doesn't work as i want.</p>\n<p><a href=\"https://stackoverflow.com/questions/5224197/javascript-check-if-server-is-online\">Javascript: Check if server is online?</a></p>\n<p>Is there a way i could do it on my script? Do i need node.js?\nor is there a better way to alert users/clients?</p>\n"},{"tags":["java","spring-boot","spring-security","openam","forgerock"],"comments":[{"owner":{"account_id":129994,"reputation":1880,"user_id":328945,"accept_rate":89,"display_name":"simon"},"score":0,"creation_date":1521363995,"post_id":48888981,"comment_id":85692121,"body_markdown":"Are you using any kind of API gateway?","body":"Are you using any kind of API gateway?"},{"owner":{"account_id":11813298,"reputation":23,"user_id":8644223,"display_name":"Rohan Razdan"},"score":0,"creation_date":1521627107,"post_id":48888981,"comment_id":85807939,"body_markdown":"Yes, I might use an API gateway which would make rest calls to the OpenAM. Any idea of the uri&#39;s exposed by OpenAM for authentication and authorization?","body":"Yes, I might use an API gateway which would make rest calls to the OpenAM. Any idea of the uri&#39;s exposed by OpenAM for authentication and authorization?"}],"answers":[{"tags":[],"owner":{"account_id":4817451,"reputation":403,"user_id":3889142,"display_name":"Jonas Heinisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523272759,"creation_date":1523272759,"answer_id":49731713,"question_id":48888981,"body_markdown":"You can use OAuth2 or OIDC to integrate your REST-Service with OpenAM.\r\n\r\nFor information on OAuth2 and REST look at this e.g.: https://content.pivotal.io/blog/securing-restful-web-services-with-oauth2\r\n\r\nFor information on using OAuth2 with OpenAM look here: https://backstage.forgerock.com/docs/am/5.5/oauth2-guide/\r\nSame for OIDC with OpenAM: https://backstage.forgerock.com/docs/am/5.5/oidc1-guide/\r\n\r\nHope I could help you :)\r\n","title":"Integrating Spring Boot with OpenAM(ForgeRock)","body":"<p>You can use OAuth2 or OIDC to integrate your REST-Service with OpenAM.</p>\n\n<p>For information on OAuth2 and REST look at this e.g.: <a href=\"https://content.pivotal.io/blog/securing-restful-web-services-with-oauth2\" rel=\"nofollow noreferrer\">https://content.pivotal.io/blog/securing-restful-web-services-with-oauth2</a></p>\n\n<p>For information on using OAuth2 with OpenAM look here: <a href=\"https://backstage.forgerock.com/docs/am/5.5/oauth2-guide/\" rel=\"nofollow noreferrer\">https://backstage.forgerock.com/docs/am/5.5/oauth2-guide/</a>\nSame for OIDC with OpenAM: <a href=\"https://backstage.forgerock.com/docs/am/5.5/oidc1-guide/\" rel=\"nofollow noreferrer\">https://backstage.forgerock.com/docs/am/5.5/oidc1-guide/</a></p>\n\n<p>Hope I could help you :)</p>\n"},{"tags":[],"owner":{"account_id":4487107,"reputation":672,"user_id":3649347,"display_name":"Tell Me How"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641887866,"creation_date":1641887866,"answer_id":70663345,"question_id":48888981,"body_markdown":"There are probably plenty of ways to do that: Some Forgerock plugins, let gateways do the AuthX, SAML2, OAuth2/OIDC, ...\r\n\r\nThe way I&#39;d recommend is to stick to standards - because they are interchangeable and you can apply them to any application or use them with every modern identity provider.\r\n\r\nI personally favor OIDC (aka. OpenID Connect, which is based on OAuth2) for an SSO in applications. There are plenty of good resources on how to setup OIDC/OAuth2 with OpenAM and same for Spring Security.\r\n\r\nHere are some links that will help you to learn about it:\r\n\r\n - To learn about OIDC the standard has a pretty good website linking to good resources: https://openid.net/connect/\r\n - Same for OAuth2: https://www.oauth.com\r\n - Baeldung Spring Security OIDC example: https://www.baeldung.com/spring-security-openid-connect\r\n - OIDC Guide for OpenAM by Forgerock: https://wikis.forgerock.org/confluence/display/openam/OpenID+Connect+Quick+Start","title":"Integrating Spring Boot with OpenAM(ForgeRock)","body":"<p>There are probably plenty of ways to do that: Some Forgerock plugins, let gateways do the AuthX, SAML2, OAuth2/OIDC, ...</p>\n<p>The way I'd recommend is to stick to standards - because they are interchangeable and you can apply them to any application or use them with every modern identity provider.</p>\n<p>I personally favor OIDC (aka. OpenID Connect, which is based on OAuth2) for an SSO in applications. There are plenty of good resources on how to setup OIDC/OAuth2 with OpenAM and same for Spring Security.</p>\n<p>Here are some links that will help you to learn about it:</p>\n<ul>\n<li>To learn about OIDC the standard has a pretty good website linking to good resources: <a href=\"https://openid.net/connect/\" rel=\"nofollow noreferrer\">https://openid.net/connect/</a></li>\n<li>Same for OAuth2: <a href=\"https://www.oauth.com\" rel=\"nofollow noreferrer\">https://www.oauth.com</a></li>\n<li>Baeldung Spring Security OIDC example: <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-openid-connect</a></li>\n<li>OIDC Guide for OpenAM by Forgerock: <a href=\"https://wikis.forgerock.org/confluence/display/openam/OpenID+Connect+Quick+Start\" rel=\"nofollow noreferrer\">https://wikis.forgerock.org/confluence/display/openam/OpenID+Connect+Quick+Start</a></li>\n</ul>\n"}],"owner":{"account_id":11813298,"reputation":23,"user_id":8644223,"display_name":"Rohan Razdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641887866,"creation_date":1519141343,"question_id":48888981,"body_markdown":"I am new to spring security but the scenario I am trying to achieve is to provide basic authentication/authorization(security). The user story requires integration of ForgeRock OpenAM(mandatory) for security. **Scenario:** I have a spring boot microservice which exposes APIs to allow a UI to connect to a server. How can I include OpenAM within spring boot REST service so that I can provide basic security? What all do I require to achieve the same?","title":"Integrating Spring Boot with OpenAM(ForgeRock)","body":"<p>I am new to spring security but the scenario I am trying to achieve is to provide basic authentication/authorization(security). The user story requires integration of ForgeRock OpenAM(mandatory) for security. <strong>Scenario:</strong> I have a spring boot microservice which exposes APIs to allow a UI to connect to a server. How can I include OpenAM within spring boot REST service so that I can provide basic security? What all do I require to achieve the same?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user1181445"},"score":1,"creation_date":1332431395,"post_id":9825798,"comment_id":12518165,"body_markdown":"Just parse the text from the HTML tags. From there you can find the info you want and extract it from there.","body":"Just parse the text from the HTML tags. From there you can find the info you want and extract it from there."},{"owner":{"account_id":104591,"reputation":2404,"user_id":279554,"accept_rate":64,"display_name":"Jaydeep Patel"},"score":0,"creation_date":1332432395,"post_id":9825798,"comment_id":12518609,"body_markdown":"If you are looking for HTML to DOM http://stackoverflow.com/questions/457684/reading-html-file-to-dom-tree-using-java can help you.","body":"If you are looking for HTML to DOM <a href=\"http://stackoverflow.com/questions/457684/reading-html-file-to-dom-tree-using-java\" title=\"reading html file to dom tree using java\">stackoverflow.com/questions/457684/&hellip;</a> can help you."},{"owner":{"account_id":431163,"reputation":486,"user_id":815052,"accept_rate":91,"display_name":"JPProgrammer"},"score":5,"creation_date":1383800081,"post_id":9825798,"comment_id":29483329,"body_markdown":"FYI - You are calling in.readLine() twice per iteration, so you actually are skipping every odd line.\n(Just thought I should point out the bug in this code since it is one of the first results for a google search on reading webpages with Java.)","body":"FYI - You are calling in.readLine() twice per iteration, so you actually are skipping every odd line. (Just thought I should point out the bug in this code since it is one of the first results for a google search on reading webpages with Java.)"}],"answers":[{"tags":[],"owner":{"account_id":377277,"reputation":4365,"user_id":729282,"display_name":"Paaske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332431515,"creation_date":1332431515,"answer_id":9825872,"question_id":9825798,"body_markdown":"You would have to take the content you get with your current code, then parse it and look for the tags that contains the text you want. A sax parser will be well suited for this job.\r\n\r\n\r\nOr if it is not a particular piece of text you want, simply remove all tags so that you&#39;re left with only the text. I guess you could use regexp for that.\r\n","title":"How to read a text from a web page with Java?","body":"<p>You would have to take the content you get with your current code, then parse it and look for the tags that contains the text you want. A sax parser will be well suited for this job.</p>\n\n<p>Or if it is not a particular piece of text you want, simply remove all tags so that you're left with only the text. I guess you could use regexp for that.</p>\n"},{"tags":[],"owner":{"account_id":552562,"reputation":1819,"user_id":884103,"accept_rate":43,"display_name":"Nitzan Volman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332431962,"creation_date":1332431962,"answer_id":9826018,"question_id":9825798,"body_markdown":"Use [JSoup][1].\r\n\r\nYou will be able to parse the content using css style selectors.\r\n\r\nIn this example you can try\r\n\r\n\r\n    Document doc = Jsoup.connect(&quot;http://www.uefa.com/uefa/aboutuefa/organisation/congress/news/newsid=1772321.html#uefa+moving+with+tide+history&quot;).get(); \r\n    String textContents = doc.select(&quot;.newsText&quot;).first().text();\r\n\r\n\r\n  [1]: http://jsoup.org/","title":"How to read a text from a web page with Java?","body":"<p>Use <a href=\"http://jsoup.org/\" rel=\"nofollow\">JSoup</a>.</p>\n\n<p>You will be able to parse the content using css style selectors.</p>\n\n<p>In this example you can try</p>\n\n<pre><code>Document doc = Jsoup.connect(\"http://www.uefa.com/uefa/aboutuefa/organisation/congress/news/newsid=1772321.html#uefa+moving+with+tide+history\").get(); \nString textContents = doc.select(\".newsText\").first().text();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1332431995,"creation_date":1332431995,"answer_id":9826027,"question_id":9825798,"body_markdown":"You may want to have a look at [jsoup][1] for this:\r\n\r\n    String html = &quot;&lt;p&gt;An &lt;a href=&#39;http://example.com/&#39;&gt;&lt;b&gt;example&lt;/b&gt;&lt;/a&gt; link.&lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html); \r\n    String text = doc.body().text(); // &quot;An example link&quot;\r\n\r\nThis example is an extract from one on their site.\r\n\r\n\r\n  [1]: http://jsoup.org/","title":"How to read a text from a web page with Java?","body":"<p>You may want to have a look at <a href=\"http://jsoup.org/\" rel=\"noreferrer\">jsoup</a> for this:</p>\n\n<pre><code>String html = \"&lt;p&gt;An &lt;a href='http://example.com/'&gt;&lt;b&gt;example&lt;/b&gt;&lt;/a&gt; link.&lt;/p&gt;\";\nDocument doc = Jsoup.parse(html); \nString text = doc.body().text(); // \"An example link\"\n</code></pre>\n\n<p>This example is an extract from one on their site.</p>\n"},{"tags":[],"owner":{"account_id":2734698,"reputation":1,"user_id":2357625,"display_name":"Prabuddha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430402108,"creation_date":1367917185,"answer_id":16415103,"question_id":9825798,"body_markdown":"You can also use `HtmlCleaner` jar.\r\nBelow is the code.\r\n\r\n    HtmlCleaner cleaner = new HtmlCleaner();\r\n    TagNode node = cleaner.clean( url );\r\n    \r\n    System.out.println( node.getText().toString() );","title":"How to read a text from a web page with Java?","body":"<p>You can also use <code>HtmlCleaner</code> jar.\nBelow is the code.</p>\n\n<pre><code>HtmlCleaner cleaner = new HtmlCleaner();\nTagNode node = cleaner.clean( url );\n\nSystem.out.println( node.getText().toString() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6825097,"reputation":21,"user_id":5251041,"display_name":"Lukasz Ronikier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641887528,"creation_date":1641887528,"answer_id":70663286,"question_id":9825798,"body_markdown":"    } catch (MalformedURLException e) {\r\n    } catch (IOException e) {\r\n    }\r\n\r\nadd at least e.printStackTrace() Will save you many days of your life","title":"How to read a text from a web page with Java?","body":"<pre><code>} catch (MalformedURLException e) {\n} catch (IOException e) {\n}\n</code></pre>\n<p>add at least e.printStackTrace() Will save you many days of your life</p>\n"}],"owner":{"account_id":1345485,"reputation":153,"user_id":1286334,"display_name":"Rigor Mortis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63736,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9826027,"answer_count":5,"score":13,"last_activity_date":1641887528,"creation_date":1332431298,"question_id":9825798,"body_markdown":"I want to read the text from a web page. I don&#39;t want to get the web page&#39;s HTML code. I found this code:\r\n\r\n\t\ttry {\r\n\t\t    // Create a URL for the desired page\r\n\t\t    URL url = new URL(&quot;http://www.uefa.com/uefa/aboutuefa/organisation/congress/news/newsid=1772321.html#uefa+moving+with+tide+history&quot;);\t    \r\n\r\n\t\t    // Read all the text returned by the server\r\n\t\t    BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n\t\t    String str;\r\n\t\t    while ((str = in.readLine()) != null) {\r\n\t\t        str = in.readLine().toString();\r\n\t\t        System.out.println(str);\r\n\t\t    \t// str is one line of text; readLine() strips the newline character(s)\r\n\t\t    }\r\n\t\t    in.close();\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t} catch (IOException e) {\r\n\t\t}\r\n\r\nbut this code gives me the HTML code of the web page. I want to get the whole text inside this page. How can I do this with Java?\r\n\r\n","title":"How to read a text from a web page with Java?","body":"<p>I want to read the text from a web page. I don't want to get the web page's HTML code. I found this code:</p>\n\n<pre><code>    try {\n        // Create a URL for the desired page\n        URL url = new URL(\"http://www.uefa.com/uefa/aboutuefa/organisation/congress/news/newsid=1772321.html#uefa+moving+with+tide+history\");       \n\n        // Read all the text returned by the server\n        BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n        String str;\n        while ((str = in.readLine()) != null) {\n            str = in.readLine().toString();\n            System.out.println(str);\n            // str is one line of text; readLine() strips the newline character(s)\n        }\n        in.close();\n    } catch (MalformedURLException e) {\n    } catch (IOException e) {\n    }\n</code></pre>\n\n<p>but this code gives me the HTML code of the web page. I want to get the whole text inside this page. How can I do this with Java?</p>\n"},{"tags":["java","eclipse","file","class"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1641265804,"post_id":70573668,"comment_id":124755523,"body_markdown":"Deprecated does not mean removed. The Navigator View is still there.","body":"Deprecated does not mean removed. The Navigator View is still there."},{"owner":{"account_id":23819845,"reputation":17,"user_id":17827608,"display_name":"Ohing"},"score":0,"creation_date":1641273242,"post_id":70573668,"comment_id":124756568,"body_markdown":"how to activate Navigator view? I already clicked window - show view - Navigator.\nbut it didn&#39;t work.","body":"how to activate Navigator view? I already clicked window - show view - Navigator. but it didn&#39;t work."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641282577,"post_id":70573668,"comment_id":124758411,"body_markdown":"The Navigator view appears in the bottom pane rather than the left - are you looking at the correct place.","body":"The Navigator view appears in the bottom pane rather than the left - are you looking at the correct place."},{"owner":{"account_id":23819845,"reputation":17,"user_id":17827608,"display_name":"Ohing"},"score":0,"creation_date":1641288102,"post_id":70573668,"comment_id":124760162,"body_markdown":"oh my.. Thank you, I find it.","body":"oh my.. Thank you, I find it."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641282782,"creation_date":1641282782,"answer_id":70575564,"question_id":70573668,"body_markdown":"Use &#39;Project Explorer&#39; and turn off the &#39;Java output folders&#39; filter to see the output folders.","title":"How can I find (.class) file in newest version eclipse?","body":"<p>Use 'Project Explorer' and turn off the 'Java output folders' filter to see the output folders.</p>\n"}],"owner":{"account_id":23819845,"reputation":17,"user_id":17827608,"display_name":"Ohing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70575564,"answer_count":1,"score":0,"last_activity_date":1641887516,"creation_date":1641265293,"question_id":70573668,"body_markdown":"You know, in newest version eclipse, navigator is deprecated.\r\n\r\nSo I don&#39;t know how to find (.class) file.\r\n\r\nI did a search, but filters setting of package explorer is different from what is described in other post..\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wdf6R.png","title":"How can I find (.class) file in newest version eclipse?","body":"<p>You know, in newest version eclipse, navigator is deprecated.</p>\n<p>So I don't know how to find (.class) file.</p>\n<p>I did a search, but filters setting of package explorer is different from what is described in other post..</p>\n<p><img src=\"https://i.stack.imgur.com/wdf6R.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1641573040,"post_id":70624232,"comment_id":124847100,"body_markdown":"In version 3.17 `workbook.write(outputStream)` had closed the `outputStream` after writing. Newer versions do not do this anymore. Try `outputStream.close()` after `workbook.write(outputStream)`.","body":"In version 3.17 <code>workbook.write(outputStream)</code> had closed the <code>outputStream</code> after writing. Newer versions do not do this anymore. Try <code>outputStream.close()</code> after <code>workbook.write(outputStream)</code>."},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641799242,"post_id":70624232,"comment_id":124891469,"body_markdown":"@AxelRichter , apologies for late reply. I am getting an error and I know which not related to your suggestion. Please see the updated question for error.","body":"@AxelRichter , apologies for late reply. I am getting an error and I know which not related to your suggestion. Please see the updated question for error."},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641799461,"post_id":70624232,"comment_id":124891527,"body_markdown":"@AxelRichter, I saw your answer to this error in another question, there is no ooxml-schemas-1.4.jar in the classpath.","body":"@AxelRichter, I saw your answer to this error in another question, there is no ooxml-schemas-1.4.jar in the classpath."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641800202,"post_id":70624232,"comment_id":124891711,"body_markdown":"Apache POI 5 needs `poi-ooxml-lite...jar` or `poi-ooxml-full...jar` in class path.","body":"Apache POI 5 needs <code>poi-ooxml-lite...jar</code> or <code>poi-ooxml-full...jar</code> in class path."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1641800285,"post_id":70624232,"comment_id":124891732,"body_markdown":"`workbook.write(outputStream)); outputStream.flush(); ...` is something too.","body":"<code>workbook.write(outputStream)); outputStream.flush(); ...</code> is something too."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1641800968,"post_id":70624232,"comment_id":124891922,"body_markdown":"&quot;there is no ooxml-schemas-1.4.jar in the classpath&quot;: According to the error there must be some old `ooxml-schemas` library in class path. Please do check. You can ask the `ClassLoader` where a special class (`org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont` in your case) came from on run time. See https://stackoverflow.com/questions/69100632/apache-poi-unable-to-read-sheet-names/69102220#69102220.","body":"&quot;there is no ooxml-schemas-1.4.jar in the classpath&quot;: According to the error there must be some old <code>ooxml-schemas</code> library in class path. Please do check. You can ask the <code>ClassLoader</code> where a special class (<code>org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont</code> in your case) came from on run time. See <a href=\"https://stackoverflow.com/questions/69100632/apache-poi-unable-to-read-sheet-names/69102220#69102220\" title=\"apache poi unable to read sheet names\">stackoverflow.com/questions/69100632/&hellip;</a>."},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641812908,"post_id":70624232,"comment_id":124896007,"body_markdown":"@AxelRichter, You are correct, I checked with -verbose:class option. It is loading old version(3.17) of POI jars as well  even I did Maven update the project and Maven clean and build. I need to find the way how to stop old version jars from loading.","body":"@AxelRichter, You are correct, I checked with -verbose:class option. It is loading old version(3.17) of POI jars as well  even I did Maven update the project and Maven clean and build. I need to find the way how to stop old version jars from loading."},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641813213,"post_id":70624232,"comment_id":124896124,"body_markdown":"But, when I check under Maven Dependencies, old version jars are not appearing.","body":"But, when I check under Maven Dependencies, old version jars are not appearing."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641815584,"post_id":70624232,"comment_id":124897037,"body_markdown":"So it is a maven problem. Maybe apache poi 3.17 gets load because of  transitive dependencies automatically? What else libraries are you using which may have apache poi as a dependency? Maybe you can update those too?","body":"So it is a maven problem. Maybe apache poi 3.17 gets load because of  transitive dependencies automatically? What else libraries are you using which may have apache poi as a dependency? Maybe you can update those too?"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641818178,"post_id":70624232,"comment_id":124897958,"body_markdown":"updated question with both versions of POI dependencies. seems there are no transitive dependencies.","body":"updated question with both versions of POI dependencies. seems there are no transitive dependencies."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641822103,"post_id":70624232,"comment_id":124899484,"body_markdown":"So the dependency apache poi 3.17 is in your POM? Why?","body":"So the dependency apache poi 3.17 is in your POM? Why?"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641826522,"post_id":70624232,"comment_id":124901438,"body_markdown":"Apologies for confusion, apache poi 3.17 version is upgraded to 5.0.0(not in POM). Just want to show what were the dependencies with 3.17 and with 5.0.0 (before and after up-gradation).","body":"Apologies for confusion, apache poi 3.17 version is upgraded to 5.0.0(not in POM). Just want to show what were the dependencies with 3.17 and with 5.0.0 (before and after up-gradation)."},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1641833394,"post_id":70624232,"comment_id":124904625,"body_markdown":"@AxelRichter, it worked in direct Tomcat. I think issue with running Tomcat with Ecipse. Please  add your comments as an answer. Thanks.","body":"@AxelRichter, it worked in direct Tomcat. I think issue with running Tomcat with Ecipse. Please  add your comments as an answer. Thanks."},{"owner":{"account_id":6454315,"reputation":95,"user_id":5000264,"display_name":"boaz levinson"},"score":0,"creation_date":1657540113,"post_id":70624232,"comment_id":128826626,"body_markdown":"I don&#39;t understand why the question had -1 rank this helped to see that someone else experience the issue, upvoting.","body":"I don&#39;t understand why the question had -1 rank this helped to see that someone else experience the issue, upvoting."}],"answers":[{"tags":[],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641887451,"creation_date":1641887451,"answer_id":70663264,"question_id":70624232,"body_markdown":"As per comments from @AxelRichter, in version 3.17 workbook.write(outputStream) had closed the outputStream automatically after writing. In newer versions, it has to be closed manually after writing to workbook like below : \r\n\r\n```\r\nworkbook.write(outputStream);\r\nworkbook.dispose();\r\noutputStream.close();\r\n```","title":"xlsx file content is corrupted after upgrading apache poi from 3.17 to 5.0.0 version","body":"<p>As per comments from @AxelRichter, in version 3.17 workbook.write(outputStream) had closed the outputStream automatically after writing. In newer versions, it has to be closed manually after writing to workbook like below :</p>\n<pre><code>workbook.write(outputStream);\nworkbook.dispose();\noutputStream.close();\n</code></pre>\n"}],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1581,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641887451,"creation_date":1641572443,"question_id":70624232,"body_markdown":"We are using the Apache POI library to generate Excel file and writing out the created workbook to **HttpServletResponse OutputStream** to download the file.\r\n\r\nAfter upgrading Apache poi version from 3.17 to 5.0.0, Excel(xlsx) file content is being corrupted.\r\n\r\nI am seeing the below statement in version 5.0.0 change list.\r\n\r\n&gt; Upgrade to ECMA-376 5th edition (transitional) schemas - expect API breaks when using XmlBeans directly some smaller changes are necessary when code is using the low-level CT... classes\r\n\r\nIs it causing this issue? If yes, what changes need to done in my code?\r\n\r\nCode:\r\n```\r\nfinal SXSSFWorkbook workbook = new SXSSFWorkbook(100);\r\nfinal Sheet sheet = workbook.createSheet(&quot;Catalogue&quot;);\r\n\r\nfinal CellStyle style = workbook.createCellStyle();\r\nfinal Font font = workbook.createFont();\r\n\t\t\t\r\nfont.setBold(true);\r\nfont.setColor(IndexedColors.BLUE.getIndex());\r\nstyle.setFont(font);\r\nfont.setFontHeightInPoints((short) 11);\r\n\r\nint rowCount = 0;\r\nfinal Row header = sheet.createRow(rowCount++);\r\nfinal Cell c11 = header.createCell(0);\r\nc11.setCellValue(&quot;Role&quot;);\r\nc11.setCellStyle(style);\r\n\r\nfinal Cell c12 = header.createCell(1);\r\nc12.setCellValue(&quot;Business Process&quot;);\r\nc12.setCellStyle(style);\r\n\r\nint colcount=0;\r\n\r\nfinal Row row = sheet.createRow(rowCount++);\r\nrow.createCell(colcount++).setCellValue(v.getRoleName());\r\nrow.createCell(colcount++).setCellValue(v.getBusinessProcess());\r\n\r\nfinal OutputStream os = response.getOutputStream();\r\n \r\nresponse.setContentType(&quot;application/xlsx&quot;);\r\nresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;RoleCatalogues&quot; + &quot;.xlsx\\&quot;&quot;);\r\nOutputStream outputStream = new BufferedOutputStream(os);\r\n\r\nworkbook.write(outputStream));\r\nresponse.flushBuffer();\r\nworkbook.dispose();\r\n```\r\nError:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()Lorg/openxmlformats/schemas/spreadsheetml/x2006/main/CTIntProperty;\r\n```\r\n\r\n[Question with same error][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67298679/java-lang-nosuchmethoderror-org-openxmlformats-schemas-spreadsheetml-x2006-main\r\n\r\n3.17 POI dependencies\r\n----------------------\r\n```\r\n+- org.apache.poi:poi:jar:3.17:compile\r\n[INFO] |  \\- commons-codec:commons-codec:jar:1.10:compile\r\n[INFO] +- org.apache.poi:poi-ooxml:jar:3.17:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml-schemas:jar:3.17:compile\r\n[INFO] |  |  \\- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\r\n[INFO] |  |     \\- stax:stax-api:jar:1.0.1:compile\r\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.04:compile\r\n```\r\n5.0.0 POI dependencies\r\n-----------------------\r\n```\r\n+- org.apache.poi:poi:jar:5.0.0:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO] |  \\- com.zaxxer:SparseBitSet:jar:1.2:compile\r\n[INFO] +- org.apache.poi:poi-ooxml:jar:5.0.0:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.0.0:compile\r\n[INFO] |  |  \\- org.apache.xmlbeans:xmlbeans:jar:4.0.0:compile\r\n[INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:compile\r\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.20:compile\r\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.06:compile\r\n```","title":"xlsx file content is corrupted after upgrading apache poi from 3.17 to 5.0.0 version","body":"<p>We are using the Apache POI library to generate Excel file and writing out the created workbook to <strong>HttpServletResponse OutputStream</strong> to download the file.</p>\n<p>After upgrading Apache poi version from 3.17 to 5.0.0, Excel(xlsx) file content is being corrupted.</p>\n<p>I am seeing the below statement in version 5.0.0 change list.</p>\n<blockquote>\n<p>Upgrade to ECMA-376 5th edition (transitional) schemas - expect API breaks when using XmlBeans directly some smaller changes are necessary when code is using the low-level CT... classes</p>\n</blockquote>\n<p>Is it causing this issue? If yes, what changes need to done in my code?</p>\n<p>Code:</p>\n<pre><code>final SXSSFWorkbook workbook = new SXSSFWorkbook(100);\nfinal Sheet sheet = workbook.createSheet(&quot;Catalogue&quot;);\n\nfinal CellStyle style = workbook.createCellStyle();\nfinal Font font = workbook.createFont();\n            \nfont.setBold(true);\nfont.setColor(IndexedColors.BLUE.getIndex());\nstyle.setFont(font);\nfont.setFontHeightInPoints((short) 11);\n\nint rowCount = 0;\nfinal Row header = sheet.createRow(rowCount++);\nfinal Cell c11 = header.createCell(0);\nc11.setCellValue(&quot;Role&quot;);\nc11.setCellStyle(style);\n\nfinal Cell c12 = header.createCell(1);\nc12.setCellValue(&quot;Business Process&quot;);\nc12.setCellStyle(style);\n\nint colcount=0;\n\nfinal Row row = sheet.createRow(rowCount++);\nrow.createCell(colcount++).setCellValue(v.getRoleName());\nrow.createCell(colcount++).setCellValue(v.getBusinessProcess());\n\nfinal OutputStream os = response.getOutputStream();\n \nresponse.setContentType(&quot;application/xlsx&quot;);\nresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;RoleCatalogues&quot; + &quot;.xlsx\\&quot;&quot;);\nOutputStream outputStream = new BufferedOutputStream(os);\n\nworkbook.write(outputStream));\nresponse.flushBuffer();\nworkbook.dispose();\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()Lorg/openxmlformats/schemas/spreadsheetml/x2006/main/CTIntProperty;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/67298679/java-lang-nosuchmethoderror-org-openxmlformats-schemas-spreadsheetml-x2006-main\">Question with same error</a></p>\n<h2>3.17 POI dependencies</h2>\n<pre><code>+- org.apache.poi:poi:jar:3.17:compile\n[INFO] |  \\- commons-codec:commons-codec:jar:1.10:compile\n[INFO] +- org.apache.poi:poi-ooxml:jar:3.17:compile\n[INFO] |  +- org.apache.poi:poi-ooxml-schemas:jar:3.17:compile\n[INFO] |  |  \\- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\n[INFO] |  |     \\- stax:stax-api:jar:1.0.1:compile\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.04:compile\n</code></pre>\n<h2>5.0.0 POI dependencies</h2>\n<pre><code>+- org.apache.poi:poi:jar:5.0.0:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO] |  \\- com.zaxxer:SparseBitSet:jar:1.2:compile\n[INFO] +- org.apache.poi:poi-ooxml:jar:5.0.0:compile\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.0.0:compile\n[INFO] |  |  \\- org.apache.xmlbeans:xmlbeans:jar:4.0.0:compile\n[INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:compile\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.20:compile\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.06:compile\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":2174626,"reputation":2032,"user_id":1925616,"display_name":"garethTheRed"},"score":0,"creation_date":1641844917,"post_id":70658100,"comment_id":124908987,"body_markdown":"Does the application trust your certificate? Have you added it to it&#39;s trust-anchor store?","body":"Does the application trust your certificate? Have you added it to it&#39;s trust-anchor store?"},{"owner":{"account_id":20131912,"reputation":65,"user_id":14764034,"display_name":"Kaan Sercan G&#246;r&#252;r"},"score":0,"creation_date":1641846225,"post_id":70658100,"comment_id":124909385,"body_markdown":"I used &quot;trust anchor mycert.cert&quot; Can you describe me how to add my certificate in trust-anchor store?","body":"I used &quot;trust anchor mycert.cert&quot; Can you describe me how to add my certificate in trust-anchor store?"},{"owner":{"account_id":2174626,"reputation":2032,"user_id":1925616,"display_name":"garethTheRed"},"score":0,"creation_date":1641884746,"post_id":70658100,"comment_id":124917210,"body_markdown":"I&#39;m afraid I can&#39;t - you will need to read the manual for your application.","body":"I&#39;m afraid I can&#39;t - you will need to read the manual for your application."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641887185,"creation_date":1641887185,"answer_id":70663216,"question_id":70658100,"body_markdown":"When self-signing a certificate or using a self-signed CA (Certificate Authority) to sign your server&#39;s certificate, every time you perform a request through another application (be it your own or the browser), you have to tinker with your app (or browser) so that it trusts the connection that is established between itself and the server.\r\n\r\nBrowsers have their own trust stores (a.k.a key stores) where they keep the trusted certificate chains. Your certificate though, is not signed by any of these trusted certificates.\r\n\r\nMy approach would be:\r\n\r\n 1. Create a CA (self signed)\r\n 2. Sign a Server certificate with this CA\r\n 3. Add the CA to your application&#39;s trust store, so that at the moment the TLS handshake is performed, the validation of the server&#39;s certificate will be performed against this trust store and thus result valid.\r\n\r\n","title":"SSLException: Received fatal alert: certificate_unknow","body":"<p>When self-signing a certificate or using a self-signed CA (Certificate Authority) to sign your server's certificate, every time you perform a request through another application (be it your own or the browser), you have to tinker with your app (or browser) so that it trusts the connection that is established between itself and the server.</p>\n<p>Browsers have their own trust stores (a.k.a key stores) where they keep the trusted certificate chains. Your certificate though, is not signed by any of these trusted certificates.</p>\n<p>My approach would be:</p>\n<ol>\n<li>Create a CA (self signed)</li>\n<li>Sign a Server certificate with this CA</li>\n<li>Add the CA to your application's trust store, so that at the moment the TLS handshake is performed, the validation of the server's certificate will be performed against this trust store and thus result valid.</li>\n</ol>\n"}],"owner":{"account_id":20131912,"reputation":65,"user_id":14764034,"display_name":"Kaan Sercan G&#246;r&#252;r"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641887185,"creation_date":1641843889,"question_id":70658100,"body_markdown":"I have a spring boot backend project.I want to use my ssl cert.\r\n\r\nThis my application.properties file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI create robotikg.p12 using with mycert.cert and mycert.key.Also i added mycert.cert in cacerts with using keytool.\r\n\r\nWhen application send the request backend i got this error.I didn&#39;t understand where is wrong this config.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EAx7b.jpg\r\n  [2]: https://i.stack.imgur.com/tYnkd.png","title":"SSLException: Received fatal alert: certificate_unknow","body":"<p>I have a spring boot backend project.I want to use my ssl cert.</p>\n<p>This my application.properties file.</p>\n<p><a href=\"https://i.stack.imgur.com/EAx7b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAx7b.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I create robotikg.p12 using with mycert.cert and mycert.key.Also i added mycert.cert in cacerts with using keytool.</p>\n<p>When application send the request backend i got this error.I didn't understand where is wrong this config.</p>\n<p><a href=\"https://i.stack.imgur.com/tYnkd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYnkd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5066626,"reputation":735,"user_id":4094697,"display_name":"user"},"score":0,"creation_date":1445772561,"post_id":33329133,"comment_id":54455195,"body_markdown":"Remove the break and include a second if with a test if an x is present but not followed by a second x and return false","body":"Remove the break and include a second if with a test if an x is present but not followed by a second x and return false"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1445772580,"creation_date":1445772580,"answer_id":33329168,"question_id":33329133,"body_markdown":"You have two problems :\r\n\r\n1. You break after the first iteration of the loop.\r\n\r\n2. Even after you remove that break, you will return true if the first x is not followed by an x, but another x does (for example - `axaxxa` will wrongly return true).\r\n\r\nA better implementation :\r\n\r\n    boolean doubleX(String str) {\r\n        for(int i=0;i&lt;str.length()-1;i++){\r\n            if(str.charAt(i)==&#39;x&#39;)\r\n                if (str.charAt(i+1)==&#39;x&#39;) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n        }\r\n        return false;  \r\n    }","title":"Given a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;","body":"<p>You have two problems :</p>\n\n<ol>\n<li><p>You break after the first iteration of the loop.</p></li>\n<li><p>Even after you remove that break, you will return true if the first x is not followed by an x, but another x does (for example - <code>axaxxa</code> will wrongly return true).</p></li>\n</ol>\n\n<p>A better implementation :</p>\n\n<pre><code>boolean doubleX(String str) {\n    for(int i=0;i&lt;str.length()-1;i++){\n        if(str.charAt(i)=='x')\n            if (str.charAt(i+1)=='x') {\n                return true;\n            } else {\n                return false;\n            }\n    }\n    return false;  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18326680,"reputation":157,"user_id":13346152,"display_name":"ritesh_ratn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593338029,"creation_date":1593338029,"answer_id":62620905,"question_id":33329133,"body_markdown":"Try this:-\r\n\r\n    boolean doubleX(String str) {\r\n    int i = str.indexOf(&quot;x&quot;);\r\n    if (i == -1){\r\n       return false;\r\n    }\r\n    \r\n    if (i+1 &gt;= str.length()) {\r\n      return false;\r\n    }\r\n    return str.substring(i+1, i+2).equals(&quot;x&quot;);\r\n    }","title":"Given a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;","body":"<p>Try this:-</p>\n<pre><code>boolean doubleX(String str) {\nint i = str.indexOf(&quot;x&quot;);\nif (i == -1){\n   return false;\n}\n\nif (i+1 &gt;= str.length()) {\n  return false;\n}\nreturn str.substring(i+1, i+2).equals(&quot;x&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19083817,"reputation":1,"user_id":13935501,"display_name":"justNate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595855319,"creation_date":1595855319,"answer_id":63116009,"question_id":33329133,"body_markdown":"You could also use regex for simpler code. The &quot;(\\\\w)?&quot; checks for any word character before the &quot;xx&quot; and &quot;\\\\w&quot; checks for any word character after the matching &quot;xx&quot;.  \r\n\r\n    boolean doubleX(String str) {\r\n      return str.matches(&quot;(\\\\w)?(xx)\\\\w*&quot;);\r\n    }","title":"Given a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;","body":"<p>You could also use regex for simpler code. The &quot;(\\w)?&quot; checks for any word character before the &quot;xx&quot; and &quot;\\w&quot; checks for any word character after the matching &quot;xx&quot;.</p>\n<pre><code>boolean doubleX(String str) {\n  return str.matches(&quot;(\\\\w)?(xx)\\\\w*&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19123413,"reputation":55,"user_id":13966876,"display_name":"user13966876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641886941,"creation_date":1641886941,"answer_id":70663165,"question_id":33329133,"body_markdown":"I just found this thread, but I was wondering why my code below can&#39;t pass all the unit tests. Thank you! \r\n\r\n    boolean doubleX(String str) {\r\n      for (int i = 0; i&lt;str.length()-1; i++){\r\n        if (str.substring(i, i+2).equals(&quot;xx&quot;)){\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\nTests that are failed: \r\n                            \r\n\t\r\ndoubleX(&quot;xaxxx&quot;) → false (should be true)\r\n\r\ndoubleX(&quot;xaxx&quot;) →  false (should be true)\t","title":"Given a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;","body":"<p>I just found this thread, but I was wondering why my code below can't pass all the unit tests. Thank you!</p>\n<pre><code>boolean doubleX(String str) {\n  for (int i = 0; i&lt;str.length()-1; i++){\n    if (str.substring(i, i+2).equals(&quot;xx&quot;)){\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n<p>Tests that are failed:</p>\n<p>doubleX(&quot;xaxxx&quot;) → false (should be true)</p>\n<p>doubleX(&quot;xaxx&quot;) →  false (should be true)</p>\n"}],"owner":{"account_id":5409523,"reputation":35,"user_id":5055294,"display_name":"Loki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4197,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33329168,"answer_count":4,"score":0,"last_activity_date":1641886941,"creation_date":1445772422,"question_id":33329133,"body_markdown":"&gt;Given a string, return `true` if the first instance of `&quot;x&quot;` in the string is immediately followed by another `&quot;x&quot;`. For example: `doubleX(&quot;xxxxx&quot;) → true`.\r\n\r\nBelow is my code which is working for every string except `&quot;axxbb&quot;`. It returns false for this string.\r\n\r\n\tboolean doubleX(String str) {\r\n\t\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\t\tif (str.charAt(i) == &#39;x&#39; &amp;&amp; str.charAt(i + 1) == &#39;x&#39;)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Given a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;","body":"<blockquote>\n  <p>Given a string, return <code>true</code> if the first instance of <code>\"x\"</code> in the string is immediately followed by another <code>\"x\"</code>. For example: <code>doubleX(\"xxxxx\") → true</code>.</p>\n</blockquote>\n\n<p>Below is my code which is working for every string except <code>\"axxbb\"</code>. It returns false for this string.</p>\n\n<pre><code>boolean doubleX(String str) {\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if (str.charAt(i) == 'x' &amp;&amp; str.charAt(i + 1) == 'x')\n            return true;\n\n        break;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1641809398,"post_id":70650360,"comment_id":124894637,"body_markdown":"I&#39;m guessing you are using an ORM such as hibernate. In which case you need to define &#39;branch&#39; as a parameter, so that it can be bound to &#39;:branch&#39;","body":"I&#39;m guessing you are using an ORM such as hibernate. In which case you need to define &#39;branch&#39; as a parameter, so that it can be bound to &#39;:branch&#39;"},{"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"score":0,"creation_date":1641810483,"post_id":70650360,"comment_id":124895073,"body_markdown":"@jr593 I have passed the branch object as parameter in the repository . Can  I get an example of what you are talking about ? Thanks","body":"@jr593 I have passed the branch object as parameter in the repository . Can  I get an example of what you are talking about ? Thanks"}],"answers":[{"tags":[],"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641886931,"creation_date":1641886931,"answer_id":70663163,"question_id":70650360,"body_markdown":"In my queries I write this as the method signature\r\nList&lt;?&gt; getBranchReporting(@Param(&quot;branch&quot;)Branch branch);","title":"QuerySyntaxException : Query to calculate total monthly count from a table and sum from another related table","body":"<p>In my queries I write this as the method signature\nList&lt;?&gt; getBranchReporting(@Param(&quot;branch&quot;)Branch branch);</p>\n"}],"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641886931,"creation_date":1641807622,"question_id":70650360,"body_markdown":"What I want to do is display totals when a particular branch is selected from a dropdown . A relationship has been created between the Investment , Customer and User class \r\n\r\n**Repository** \r\n\r\n```\r\n@Query(&quot;select sum(investment.principal) as totalBranchPrincipal, count (customer_id) as totalBranchCustomers, &quot;\r\n    \t\t+ &quot;sum(investment.maturityInterest) as totalBranchMaturityInterest,&quot;\r\n    \t\t+ &quot;from Investment investment join investment.customer_id.marketer marketer where marketer.branch = :branch &quot;)\r\n    List&lt;?&gt; getBranchReporting(Branch branch);\r\n```\r\n\r\n**This is the service** \r\n\r\n```\r\npublic List&lt;?&gt; getTotalMonthlyBranchData(Branch branch){\r\n\tList&lt;?&gt; monthlyBranchData = investmentRepository.getBranchReporting(branch);\r\n\treturn monthlyBranchData;\r\n\t}\r\n```\r\n\r\n**This is the Controller** \r\n\r\n\r\n```\r\n   @GetMapping(value=&quot;/branchMonthlyReporting/{id}&quot;)\r\n    public List&lt;?&gt; getBranchMonthlyReport(Branch branch) {\r\n    return investmentService.getTotalMonthlyBranchData(branch);\r\n    }\r\n```","title":"QuerySyntaxException : Query to calculate total monthly count from a table and sum from another related table","body":"<p>What I want to do is display totals when a particular branch is selected from a dropdown . A relationship has been created between the Investment , Customer and User class</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Query(&quot;select sum(investment.principal) as totalBranchPrincipal, count (customer_id) as totalBranchCustomers, &quot;\n            + &quot;sum(investment.maturityInterest) as totalBranchMaturityInterest,&quot;\n            + &quot;from Investment investment join investment.customer_id.marketer marketer where marketer.branch = :branch &quot;)\n    List&lt;?&gt; getBranchReporting(Branch branch);\n</code></pre>\n<p><strong>This is the service</strong></p>\n<pre><code>public List&lt;?&gt; getTotalMonthlyBranchData(Branch branch){\n    List&lt;?&gt; monthlyBranchData = investmentRepository.getBranchReporting(branch);\n    return monthlyBranchData;\n    }\n</code></pre>\n<p><strong>This is the Controller</strong></p>\n<pre><code>   @GetMapping(value=&quot;/branchMonthlyReporting/{id}&quot;)\n    public List&lt;?&gt; getBranchMonthlyReport(Branch branch) {\n    return investmentService.getTotalMonthlyBranchData(branch);\n    }\n</code></pre>\n"},{"tags":["java","android","api","rest"],"comments":[{"owner":{"account_id":307221,"reputation":20140,"user_id":618400,"display_name":"littleadv"},"score":0,"creation_date":1641880406,"post_id":70662196,"comment_id":124916299,"body_markdown":"That&#39;s not very scalable....","body":"That&#39;s not very scalable...."},{"owner":{"account_id":10742298,"reputation":106,"user_id":7904936,"display_name":"Abhishek Ippakayal"},"score":2,"creation_date":1641881184,"post_id":70662196,"comment_id":124916449,"body_markdown":"If you just want to sync your app with latest data then you can send triggers from your back-end server and in app when you get that trigger update the data via api call. This way your app will be synced with latest data and you don&#39;t need to call api in every 30 second. (Calling apis from mobile in every 30 second will effect your app performance as mobile resources are limited.)","body":"If you just want to sync your app with latest data then you can send triggers from your back-end server and in app when you get that trigger update the data via api call. This way your app will be synced with latest data and you don&#39;t need to call api in every 30 second. (Calling apis from mobile in every 30 second will effect your app performance as mobile resources are limited.)"},{"owner":{"account_id":18561523,"reputation":13,"user_id":13525434,"display_name":"Walid Ahmed"},"score":0,"creation_date":1641881581,"post_id":70662196,"comment_id":124916526,"body_markdown":"yes that&#39;s why i am concern about calling api every 30 seconds. @AbhishekIppakayal what should i implement web sockets or by using FCM for this scenario?","body":"yes that&#39;s why i am concern about calling api every 30 seconds. @AbhishekIppakayal what should i implement web sockets or by using FCM for this scenario?"},{"owner":{"account_id":10742298,"reputation":106,"user_id":7904936,"display_name":"Abhishek Ippakayal"},"score":0,"creation_date":1641882755,"post_id":70662196,"comment_id":124916745,"body_markdown":"I would suggest to use socket connection. Also search on web which is best for your scenario, you will get better clearity","body":"I would suggest to use socket connection. Also search on web which is best for your scenario, you will get better clearity"},{"owner":{"account_id":18561523,"reputation":13,"user_id":13525434,"display_name":"Walid Ahmed"},"score":0,"creation_date":1641883403,"post_id":70662196,"comment_id":124916893,"body_markdown":"thank you @AbhishekIppakayal for your suggestion.","body":"thank you @AbhishekIppakayal for your suggestion."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1641885853,"post_id":70662196,"comment_id":124917551,"body_markdown":"On Android, FCM is probably the easiest way to do it, as websockets have limitations that FCM works around (specifically battery optimizations).  Especially if you have anything high priority that should be processed regardless of if the screen is off.","body":"On Android, FCM is probably the easiest way to do it, as websockets have limitations that FCM works around (specifically battery optimizations).  Especially if you have anything high priority that should be processed regardless of if the screen is off."}],"answers":[{"tags":[],"owner":{"account_id":23886299,"reputation":27,"user_id":17886429,"display_name":"VaweSomE"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1641880720,"creation_date":1641880720,"answer_id":70662244,"question_id":70662196,"body_markdown":"there are some ways that are shorter, however they are a little harder to implement. I don&#39;t think it even matters if it is one line longer than something else unless it&#39;s some challenge. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (!Constants.IsCafeNewOrderAlert){\r\n                        new_order_api();\r\n                    }\r\n                    reset_api();\r\n                }\r\n            },30000);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhat you have is perfectly fine and the easiest and one of the shortest ways to implement. Good luck with your app! And your welcome! If you find this helpful, please accept my answer as I need some reputation.\r\n\r\n\r\n","title":"is this good approach to fetch data every n second by hitting server or rest API in android","body":"<p>there are some ways that are shorter, however they are a little harder to implement. I don't think it even matters if it is one line longer than something else unless it's some challenge.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                if (!Constants.IsCafeNewOrderAlert){\n                    new_order_api();\n                }\n                reset_api();\n            }\n        },30000);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>What you have is perfectly fine and the easiest and one of the shortest ways to implement. Good luck with your app! And your welcome! If you find this helpful, please accept my answer as I need some reputation.</p>\n"},{"tags":[],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641881344,"creation_date":1641881344,"answer_id":70662312,"question_id":70662196,"body_markdown":"From battery point of view this approach is **very expensive (draining your battery)** because the radio has no chance to shut off to save energy.","title":"is this good approach to fetch data every n second by hitting server or rest API in android","body":"<p>From battery point of view this approach is <strong>very expensive (draining your battery)</strong> because the radio has no chance to shut off to save energy.</p>\n"},{"tags":[],"owner":{"account_id":6959132,"reputation":1204,"user_id":9765684,"display_name":"Fran Dioniz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641886602,"creation_date":1641886602,"answer_id":70663106,"question_id":70662196,"body_markdown":"You can use WorkRequest to executes periodically an action such download content for your app: [PeriodicWorkRequest][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work","title":"is this good approach to fetch data every n second by hitting server or rest API in android","body":"<p>You can use WorkRequest to executes periodically an action such download content for your app: <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work\" rel=\"nofollow noreferrer\">PeriodicWorkRequest</a></p>\n"}],"owner":{"account_id":18561523,"reputation":13,"user_id":13525434,"display_name":"Walid Ahmed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641886602,"creation_date":1641880296,"question_id":70662196,"body_markdown":"I am developing an application in which I want to fetch data after every 30 seconds so i am using this line of code:\r\n\r\n     handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (!Constants.IsCafeNewOrderAlert){\r\n                        new_order_api();\r\n                    }\r\n                    reset_api();\r\n                }\r\n            },30000);\r\n\r\nit works fine in my scenario but I just want to know is this approach is good or it can be done with some better code or approach.\r\n\r\nthank you in advance.","title":"is this good approach to fetch data every n second by hitting server or rest API in android","body":"<p>I am developing an application in which I want to fetch data after every 30 seconds so i am using this line of code:</p>\n<pre><code> handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                if (!Constants.IsCafeNewOrderAlert){\n                    new_order_api();\n                }\n                reset_api();\n            }\n        },30000);\n</code></pre>\n<p>it works fine in my scenario but I just want to know is this approach is good or it can be done with some better code or approach.</p>\n<p>thank you in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1641809234,"post_id":70650652,"comment_id":124894563,"body_markdown":"&quot;what should I do?&quot; do don&#39;t need to do anything. You can assign an instance of `Dog` to a reference of type `Animal`, because `Dog` is a subclass of `Animal`.","body":"&quot;what should I do?&quot; do don&#39;t need to do anything. You can assign an instance of <code>Dog</code> to a reference of type <code>Animal</code>, because <code>Dog</code> is a subclass of <code>Animal</code>."},{"owner":{"account_id":23891270,"reputation":3,"user_id":17890887,"display_name":"Guvera"},"score":0,"creation_date":1641872561,"post_id":70650652,"comment_id":124915001,"body_markdown":"@AndyTurner sorry, i do make a mistake, is should be  `extends Animal`","body":"@AndyTurner sorry, i do make a mistake, is should be  <code>extends Animal</code>"}],"answers":[{"tags":[],"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1641810118,"creation_date":1641810118,"answer_id":70650846,"question_id":70650652,"body_markdown":"If I&#39;m not mistaken, to do what you&#39;re asking, all you have to do is insert constructors in the parent and child classes and associate their values in this way:\r\n\r\n```\r\npublic class Animal{\r\n    private String name;\r\n    public Animal(String name){\r\n    this.name = name;\r\n    }\r\n}\r\n\r\npublic class Dog extends Animal{\r\n    private String dogClass;\r\n    public Dog(){\r\n    super(dogClass);\r\n    }\r\n}\r\n```\r\n\r\nAlso, if you already plan to never instantiate the Animal class directly, as it is a generic object, you could make it abstract.","title":"How to have an object and its subclasses as a parameter of an object","body":"<p>If I'm not mistaken, to do what you're asking, all you have to do is insert constructors in the parent and child classes and associate their values in this way:</p>\n<pre><code>public class Animal{\n    private String name;\n    public Animal(String name){\n    this.name = name;\n    }\n}\n\npublic class Dog extends Animal{\n    private String dogClass;\n    public Dog(){\n    super(dogClass);\n    }\n}\n</code></pre>\n<p>Also, if you already plan to never instantiate the Animal class directly, as it is a generic object, you could make it abstract.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641886071,"creation_date":1641810852,"answer_id":70651002,"question_id":70650652,"body_markdown":"You don&#39;t need to change anything: as `Dog` extends `Animal`, it can be assign to field `Zoo.animal`. You can however add a method in `Zoo` to get `animal` as an instance of a specific class:\r\n\r\n    public &lt;T extends Animal&gt; T getAnimal(Class&lt;T&gt; animalClass) {\r\n        return animalClass.cast(animal);\r\n    }\r\n\r\nOr, if you don&#39;t want it to throw an exception if the `animal` is not of the specified class:\r\n\r\n    public &lt;T extends Animal&gt; T getAnimal(Class&lt;T&gt; animalClass) {\r\n        if (!animalClass.isInstance(animal)) {\r\n            return null;\r\n        }\r\n        return animalClass.cast(animal);\r\n    }\r\n\r\nUPDATE:\r\n\r\nBut perhaps what you want is a typed `Zoo`:\r\n\r\n    public class Zoo&lt;T extends Animal&gt; {\r\n        private T animal;\r\n        private Long age;\r\n    \r\n        public T getAnimal() {\r\n            return animal;\r\n        }\r\n    \r\n        public setAnimal(T animal) {\r\n            this.animal = animal;\r\n        }\r\n    }\r\n\r\n","title":"How to have an object and its subclasses as a parameter of an object","body":"<p>You don't need to change anything: as <code>Dog</code> extends <code>Animal</code>, it can be assign to field <code>Zoo.animal</code>. You can however add a method in <code>Zoo</code> to get <code>animal</code> as an instance of a specific class:</p>\n<pre><code>public &lt;T extends Animal&gt; T getAnimal(Class&lt;T&gt; animalClass) {\n    return animalClass.cast(animal);\n}\n</code></pre>\n<p>Or, if you don't want it to throw an exception if the <code>animal</code> is not of the specified class:</p>\n<pre><code>public &lt;T extends Animal&gt; T getAnimal(Class&lt;T&gt; animalClass) {\n    if (!animalClass.isInstance(animal)) {\n        return null;\n    }\n    return animalClass.cast(animal);\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>But perhaps what you want is a typed <code>Zoo</code>:</p>\n<pre><code>public class Zoo&lt;T extends Animal&gt; {\n    private T animal;\n    private Long age;\n\n    public T getAnimal() {\n        return animal;\n    }\n\n    public setAnimal(T animal) {\n        this.animal = animal;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23891270,"reputation":3,"user_id":17890887,"display_name":"Guvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70651002,"answer_count":2,"score":0,"last_activity_date":1641886071,"creation_date":1641809104,"question_id":70650652,"body_markdown":"i have a basic question but i don&#39;t know how to solve it. pls help me!\r\n\r\nif i have a class `Zoo`\r\n```\r\npublic class Zoo{\r\n\tprivate Animal animal;\r\n\tprivate Long age;\r\n}\r\n```\r\n\r\nand  `Animal` para is this:\r\n\r\n```\r\npublic class Animal{\r\n    private String name;\r\n}\r\n```\r\n\r\nbut now i have a new class is: `Dog` class, extends animal\r\n```\r\npublic class Dog extends Animal {\r\n    private String dogClass;\r\n}\r\n```\r\n\r\nI want to make the `animal` property in `Zoo` also accept `Dog` class parameters, what should I do? \r\n\r\nIs there an elegant way to write it like `List&lt;? extends Animal&gt;` ? \r\n","title":"How to have an object and its subclasses as a parameter of an object","body":"<p>i have a basic question but i don't know how to solve it. pls help me!</p>\n<p>if i have a class <code>Zoo</code></p>\n<pre><code>public class Zoo{\n    private Animal animal;\n    private Long age;\n}\n</code></pre>\n<p>and  <code>Animal</code> para is this:</p>\n<pre><code>public class Animal{\n    private String name;\n}\n</code></pre>\n<p>but now i have a new class is: <code>Dog</code> class, extends animal</p>\n<pre><code>public class Dog extends Animal {\n    private String dogClass;\n}\n</code></pre>\n<p>I want to make the <code>animal</code> property in <code>Zoo</code> also accept <code>Dog</code> class parameters, what should I do?</p>\n<p>Is there an elegant way to write it like <code>List&lt;? extends Animal&gt;</code> ?</p>\n"},{"tags":["java","nullpointerexception","bufferedreader","parsefloat"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1641885003,"post_id":70662809,"comment_id":124917274,"body_markdown":"[dovumentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()) of `readLine()`: &quot;**Returns:** ... null if the end of the stream has been reached&quot; (usually input from IDE is not closed automatically, while probably that site is closing it)","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">dovumentation</a> of <code>readLine()</code>: &quot;<b>Returns:</b> ... null if the end of the stream has been reached&quot; (usually input from IDE is not closed automatically, while probably that site is closing it)"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1641885032,"post_id":70662809,"comment_id":124917282,"body_markdown":"Because there is no line to read =&gt; it returns null","body":"Because there is no line to read =&gt; it returns null"},{"owner":{"account_id":23901817,"reputation":23,"user_id":17899881,"display_name":"Sarthak Kumar Mishra"},"score":0,"creation_date":1641885300,"post_id":70662809,"comment_id":124917350,"body_markdown":"But why? It&#39;s taking input on IDE but not on Codechef. Can you tell me where I can make some changes?","body":"But why? It&#39;s taking input on IDE but not on Codechef. Can you tell me where I can make some changes?"},{"owner":{"account_id":23901817,"reputation":23,"user_id":17899881,"display_name":"Sarthak Kumar Mishra"},"score":0,"creation_date":1641885408,"post_id":70662809,"comment_id":124917385,"body_markdown":"@user16320675 can you tell me what I can do to make it work on Codechef?","body":"@user16320675 can you tell me what I can do to make it work on Codechef?"},{"owner":{"account_id":23901817,"reputation":23,"user_id":17899881,"display_name":"Sarthak Kumar Mishra"},"score":0,"creation_date":1641885603,"post_id":70662809,"comment_id":124917461,"body_markdown":"@user16320675 ok I&#39;m checking on what you said","body":"@user16320675 ok I&#39;m checking on what you said"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1641886942,"post_id":70662809,"comment_id":124917913,"body_markdown":"Why would anyone want to wrap `System.out` in a `BufferedWriter` and then later write `ot.write(String.valueOf(bal));` instead of directly using `System.out.print(bal);`?","body":"Why would anyone want to wrap <code>System.out</code> in a <code>BufferedWriter</code> and then later write <code>ot.write(String.valueOf(bal));</code> instead of directly using <code>System.out.print(bal);</code>?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1641889701,"post_id":70662809,"comment_id":124918812,"body_markdown":"My guess is that you have not implemented the requirements correctly.  But since you haven&#39;t told us what the (complete) requirements are, this is only a guess.","body":"My guess is that you have not implemented the requirements correctly.  But since you haven&#39;t told us what the (complete) requirements are, this is only a guess."}],"answers":[{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641885376,"creation_date":1641885376,"answer_id":70662921,"question_id":70662809,"body_markdown":"You should give two lines via the site.\r\n@user16320675 mentioned that you probably didn&#39;t give them.","title":"This Java code is running perfectly in IDE but not on codechef. Can anyone tell me why this exception is coming?","body":"<p>You should give two lines via the site.\n@user16320675 mentioned that you probably didn't give them.</p>\n"}],"owner":{"account_id":23901817,"reputation":23,"user_id":17899881,"display_name":"Sarthak Kumar Mishra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641885376,"creation_date":1641884670,"question_id":70662809,"body_markdown":"It&#39;s working fine in IDE but got null pointer exception on Codechef.\r\n\r\non the second line &quot;parseFloat&quot; it&#39;s getting null pointer exception\r\n\r\n\r\ncan anyone solve this issue?\r\n\r\n```\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            float am = Float.parseFloat(br.readLine());\r\n            float bal = Float.parseFloat(br.readLine());\r\n            BufferedWriter ot = new BufferedWriter(new OutputStreamWriter(System.out));\r\n            if((am &lt;= bal) &amp;&amp; am%5 == 0) {\r\n                float ball = bal - am;\r\n                ball -= 0.50;\r\n                String.format(&quot;%.5f&quot;, ball);\r\n                ot.write(String.valueOf(bal));\r\n            }\r\n```","title":"This Java code is running perfectly in IDE but not on codechef. Can anyone tell me why this exception is coming?","body":"<p>It's working fine in IDE but got null pointer exception on Codechef.</p>\n<p>on the second line &quot;parseFloat&quot; it's getting null pointer exception</p>\n<p>can anyone solve this issue?</p>\n<pre><code>            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            float am = Float.parseFloat(br.readLine());\n            float bal = Float.parseFloat(br.readLine());\n            BufferedWriter ot = new BufferedWriter(new OutputStreamWriter(System.out));\n            if((am &lt;= bal) &amp;&amp; am%5 == 0) {\n                float ball = bal - am;\n                ball -= 0.50;\n                String.format(&quot;%.5f&quot;, ball);\n                ot.write(String.valueOf(bal));\n            }\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":41696,"reputation":4770,"user_id":121275,"accept_rate":50,"display_name":"amischiefr"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1253544677,"creation_date":1253544108,"answer_id":1454871,"question_id":1454846,"body_markdown":"Have you tried to check in the getbList() method?  You could do: \r\n\r\n    if(bList.isEmpty()) \r\n        return null;\r\n    return bList;\r\n\r\nHibernate will always create an object for your references, but you are allowed to control the data inside of the getter and setters.  If the list has 0 elements you can always return null.","title":"Null vs empty collections in Hibernate","body":"<p>Have you tried to check in the getbList() method?  You could do: </p>\n\n<pre><code>if(bList.isEmpty()) \n    return null;\nreturn bList;\n</code></pre>\n\n<p>Hibernate will always create an object for your references, but you are allowed to control the data inside of the getter and setters.  If the list has 0 elements you can always return null.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253544840,"creation_date":1253544840,"answer_id":1454925,"question_id":1454846,"body_markdown":"I&#39;m curious why you consider this a &quot;limitation&#39; - does a null `bList` actually have a different *meaning* to your application than an empty `bList`?\r\n\r\nI think that in most areas, a null collection and an empty collection have the same semantic meaning, which I would guess is why the Hibernate developers sought to limit Hibernate to only using one. Doesn&#39;t make much sense to always check `if (bList == null || bList.isEmpty)` if the two always end up meaning the same thing.","title":"Null vs empty collections in Hibernate","body":"<p>I'm curious why you consider this a \"limitation' - does a null <code>bList</code> actually have a different <em>meaning</em> to your application than an empty <code>bList</code>?</p>\n\n<p>I think that in most areas, a null collection and an empty collection have the same semantic meaning, which I would guess is why the Hibernate developers sought to limit Hibernate to only using one. Doesn't make much sense to always check <code>if (bList == null || bList.isEmpty)</code> if the two always end up meaning the same thing.</p>\n"},{"tags":[],"owner":{"account_id":2143,"reputation":11430,"user_id":2955,"accept_rate":66,"display_name":"Damo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253544928,"creation_date":1253544928,"answer_id":1454934,"question_id":1454846,"body_markdown":"For handling in your code the obvious way is in the getter, however that doesn&#39;t help you if you want to evaluate it in HQL.\r\n\r\nTwo ideas:\r\n\r\n - A constructor that sets it to NULL if\r\n   empty.\r\n - A `@PostLoad / @PostConstruct` method\r\n   that does the same.","title":"Null vs empty collections in Hibernate","body":"<p>For handling in your code the obvious way is in the getter, however that doesn't help you if you want to evaluate it in HQL.</p>\n\n<p>Two ideas:</p>\n\n<ul>\n<li>A constructor that sets it to NULL if\nempty.</li>\n<li>A <code>@PostLoad / @PostConstruct</code> method\nthat does the same.</li>\n</ul>\n"}],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15659,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1454871,"answer_count":3,"score":11,"last_activity_date":1641885297,"creation_date":1253543787,"question_id":1454846,"body_markdown":"Say I have the following Hibernate-mapped class:\r\n\r\n    public class ClassA {       \r\n       @OneToMany(fetch=EAGER)\r\n       private List&lt;ClassB&gt; bList;\r\n    }\r\n\r\nWhen I read an object of `ClassA` from a Hibernate session, the `bList` field is initialized with a `PersistentList` object, as expected.\r\n\r\nI find myself with a requirement where in situations where the list is empty, I need Hibernate to initialize the `bList` field to `null`, rather than with an empty `PersistentList`. In theory, Hibernate has the information it needs to do this, since the fetch on the list is eager. The problem is that according to [section 6.1 of the Hibernate docs][1]:\r\n\r\n&gt; Collection-valued properties do not support null value semantics because Hibernate does not distinguish between a null collection reference and an empty collection.\r\n\r\nThis makes perfect sense, but I&#39;m hoping someone can come up with a cunning ruse to overcome this limitation. I&#39;m thinking perhaps some listener/callback mechanism might allow me to replace empty lists with null references.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/core/userguide/html_single/Hibernate_User_Guide.html#collections-synopsis","title":"Null vs empty collections in Hibernate","body":"<p>Say I have the following Hibernate-mapped class:</p>\n<pre><code>public class ClassA {       \n   @OneToMany(fetch=EAGER)\n   private List&lt;ClassB&gt; bList;\n}\n</code></pre>\n<p>When I read an object of <code>ClassA</code> from a Hibernate session, the <code>bList</code> field is initialized with a <code>PersistentList</code> object, as expected.</p>\n<p>I find myself with a requirement where in situations where the list is empty, I need Hibernate to initialize the <code>bList</code> field to <code>null</code>, rather than with an empty <code>PersistentList</code>. In theory, Hibernate has the information it needs to do this, since the fetch on the list is eager. The problem is that according to <a href=\"https://docs.jboss.org/hibernate/stable/core/userguide/html_single/Hibernate_User_Guide.html#collections-synopsis\" rel=\"nofollow noreferrer\">section 6.1 of the Hibernate docs</a>:</p>\n<blockquote>\n<p>Collection-valued properties do not support null value semantics because Hibernate does not distinguish between a null collection reference and an empty collection.</p>\n</blockquote>\n<p>This makes perfect sense, but I'm hoping someone can come up with a cunning ruse to overcome this limitation. I'm thinking perhaps some listener/callback mechanism might allow me to replace empty lists with null references.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1641886432,"post_id":70662878,"comment_id":124917768,"body_markdown":"This seems an XY-problem. Do you really want / need to develop a &quot;Sun Master Index&quot; application? Did you read the [Before You Begin Developing a Master Index](https://docs.oracle.com/cd/E19509-01/820-3375/dsgn_eview-prep_c/index.html) page?","body":"This seems an XY-problem. Do you really want / need to develop a &quot;Sun Master Index&quot; application? Did you read the <a href=\"https://docs.oracle.com/cd/E19509-01/820-3375/dsgn_eview-prep_c/index.html\" rel=\"nofollow noreferrer\">Before You Begin Developing a Master Index</a> page?"},{"owner":{"account_id":11599586,"reputation":151,"user_id":8497191,"display_name":"ekene"},"score":0,"creation_date":1641888047,"post_id":70662878,"comment_id":124918231,"body_markdown":"@ThomasKl&#228;ger Lol. I didn&#39;t know it was part of something. I now know the context of the class. I have decided it&#39;s not worth importing it.","body":"@ThomasKl&#228;ger Lol. I didn&#39;t know it was part of something. I now know the context of the class. I have decided it&#39;s not worth importing it."}],"owner":{"account_id":11599586,"reputation":151,"user_id":8497191,"display_name":"ekene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641885083,"creation_date":1641885083,"question_id":70662878,"body_markdown":"In my java project I want to use the ```com.sun.mdm.index.query.QueryObject``` [class][1]. I tried\r\n```\r\nimport com.sun.mdm.index.query.QueryObject;\r\n```\r\nBut I got compile error\r\n\r\n&gt; package com.sun.mdm.index.query does not exist\r\n\r\nWhat dependencies do I need to include in gradle to be able to use this class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E18150_01/javadocs/SunMasterIndex/com/sun/mdm/index/query/QueryObject.html","title":"How to import com.sun.mdm.index.query.QueryObject","body":"<p>In my java project I want to use the <code>com.sun.mdm.index.query.QueryObject</code> <a href=\"https://docs.oracle.com/cd/E18150_01/javadocs/SunMasterIndex/com/sun/mdm/index/query/QueryObject.html\" rel=\"nofollow noreferrer\">class</a>. I tried</p>\n<pre><code>import com.sun.mdm.index.query.QueryObject;\n</code></pre>\n<p>But I got compile error</p>\n<blockquote>\n<p>package com.sun.mdm.index.query does not exist</p>\n</blockquote>\n<p>What dependencies do I need to include in gradle to be able to use this class.</p>\n"},{"tags":["java","oracle","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1641885153,"post_id":70662874,"comment_id":124917311,"body_markdown":"That already exists in the form of Spring Batch Admin and Spring Cloud Task.","body":"That already exists in the form of Spring Batch Admin and Spring Cloud Task."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641885210,"post_id":70662874,"comment_id":124917328,"body_markdown":"I was about to post the same comment as M. Deinum. Don&#39;t reinvent the wheel.","body":"I was about to post the same comment as M. Deinum. Don&#39;t reinvent the wheel."},{"owner":{"account_id":23901796,"reputation":21,"user_id":17899861,"display_name":"Locnb"},"score":0,"creation_date":1641885352,"post_id":70662874,"comment_id":124917368,"body_markdown":"Thanks for your advice, I will try it. ^^","body":"Thanks for your advice, I will try it. ^^"},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1641938879,"post_id":70662874,"comment_id":124938361,"body_markdown":"spring-batch-lightmin provides centralized administration of distributed spring batch jobs\nhttps://github.com/tuxdevelop/spring-batch-lightmin","body":"spring-batch-lightmin provides centralized administration of distributed spring batch jobs <a href=\"https://github.com/tuxdevelop/spring-batch-lightmin\" rel=\"nofollow noreferrer\">github.com/tuxdevelop/spring-batch-lightmin</a>"}],"owner":{"account_id":23901796,"reputation":21,"user_id":17899861,"display_name":"Locnb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641885064,"creation_date":1641885064,"question_id":70662874,"body_markdown":"- Currently, I have an idea about building a centralized batch job management system (I temporarily call it batch service).\r\n\r\n- We own a microservice system, and the batch jobs are scattered across the services (including oracle&#39;s bacth jobs). So I intend to set up a bacth job management system.\r\n\r\n- But there is one problem that in microservices there are many databases, so I want the manipulation of data to be done by other services, and batch service only does the following things: setting, scheduling, checking status state, log, start, stop, retry.\r\n\r\n- My idea is to use message broker(kafka, rabbitmq, ...) to pass job request from batch service to other services. But I am not thinking of a solution to stop or save the log of jobs on the batch service.\r\n\r\n- Is this idea feasible and if so can you give me some advice on deployment technologies (We are deploying using spring boot at the moment).\r\n\r\nThanks for taking the time to read ^^.","title":"Centralized batch job management java","body":"<ul>\n<li><p>Currently, I have an idea about building a centralized batch job management system (I temporarily call it batch service).</p>\n</li>\n<li><p>We own a microservice system, and the batch jobs are scattered across the services (including oracle's bacth jobs). So I intend to set up a bacth job management system.</p>\n</li>\n<li><p>But there is one problem that in microservices there are many databases, so I want the manipulation of data to be done by other services, and batch service only does the following things: setting, scheduling, checking status state, log, start, stop, retry.</p>\n</li>\n<li><p>My idea is to use message broker(kafka, rabbitmq, ...) to pass job request from batch service to other services. But I am not thinking of a solution to stop or save the log of jobs on the batch service.</p>\n</li>\n<li><p>Is this idea feasible and if so can you give me some advice on deployment technologies (We are deploying using spring boot at the moment).</p>\n</li>\n</ul>\n<p>Thanks for taking the time to read ^^.</p>\n"},{"tags":["java","autocomplete","trie","breadth-first-search"],"answers":[{"tags":[],"owner":{"account_id":7729053,"reputation":107,"user_id":5852830,"display_name":"Mohamed AbdAllah Omar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1454219147,"creation_date":1454219147,"answer_id":35110769,"question_id":35066881,"body_markdown":"are you trying to solve this as part of the Coursera&#39;s university of San Diego course?\r\nIf so then all what you have to do is to follow the algorithm that was written as a comment inside the class.\r\nAny way, I added here a copy of my implementation to this method. Just don&#39;t copy and paste it as part of your solution please. Use it as guidance. I added comments in the code to help you understanding my algorithm:\r\n\t \r\n    \t //Trying to find the stem in Trie\r\n      \t String prefixToCheckLowerCase = prefix.toLowerCase();\r\n    \t int completionsCount = 0;\r\n    \t List&lt;String&gt; completions = new LinkedList&lt;String&gt;();\r\n    \t TrieNode traversal = root;\r\n    \t for (int i = 0; i &lt; prefixToCheckLowerCase.length(); i++)\r\n    \t {\r\n    \t\t if (traversal.getValidNextCharacters().contains(prefixToCheckLowerCase.charAt(i)))\r\n    \t\t{\r\n \t\t\t\ttraversal = traversal.getChild(prefixToCheckLowerCase.charAt(i));\r\n \t\t\t} \r\n    \t\t //Means  stem not found, returns an empty list\r\n    \t\t else\r\n \t\t\t\treturn completions;\r\n    \t }\r\n    \t //If current word is an end word, increment the counter and add it to compeltions list\r\n    \t if (traversal.endsWord()) \r\n    \t {\r\n    \t\t completionsCount=1;\r\n    \t\t completions.add(traversal.getText());\r\n    \t }\r\n    \t \r\n    \t List&lt;TrieNode&gt; nodesToBeSearched = new LinkedList&lt;TrieNode&gt;();\r\n    \t List&lt;Character&gt; ChildCharaterList = new LinkedList&lt;Character&gt;(traversal.getValidNextCharacters());\r\n    \t //Filling the list with children of the current node, first level of of the breadth first search \r\n    \t for (int i=0; i&lt;ChildCharaterList.size(); i++) \r\n    \t {\r\n    \t\t nodesToBeSearched.add(traversal.getChild(ChildCharaterList.get(i)));\r\n    \t }\r\n    \t //while loop for the linked list elements and see if any compeltions exists , inside it we will also check each node children and add them to the list!!!\r\n    \t while (nodesToBeSearched!=null  &amp;&amp; nodesToBeSearched.size()&gt;0 &amp;&amp; completionsCount &lt; numCompletions)\r\n    \t {\r\n    \t\t TrieNode trieNode = nodesToBeSearched.remove(0);\r\n    \t\t if (trieNode.endsWord()) \r\n    \t\t {\r\n    \t\t\t completionsCount++;\r\n    \t\t\t completions.add(trieNode.getText());\r\n    \t\t }\r\n    \t\t \r\n    \t\t List&lt;Character&gt; subTrieNodeCholdren = new LinkedList&lt;Character&gt;(trieNode.getValidNextCharacters());\r\n    \t\t //Adding all next level tries to the linked list , kinda recursive!!!\r\n        \t for (int i=0; i&lt;subTrieNodeCholdren.size();i++) \r\n        \t {\r\n        \t\t nodesToBeSearched.add(trieNode.getChild(subTrieNodeCholdren.get(i)));\r\n        \t }\r\n    \t }\r\n         return completions;\r\n ","title":"AutoComplete using a Trie in Java","body":"<p>are you trying to solve this as part of the Coursera's university of San Diego course?\nIf so then all what you have to do is to follow the algorithm that was written as a comment inside the class.\nAny way, I added here a copy of my implementation to this method. Just don't copy and paste it as part of your solution please. Use it as guidance. I added comments in the code to help you understanding my algorithm:</p>\n\n<pre><code>     //Trying to find the stem in Trie\n     String prefixToCheckLowerCase = prefix.toLowerCase();\n     int completionsCount = 0;\n     List&lt;String&gt; completions = new LinkedList&lt;String&gt;();\n     TrieNode traversal = root;\n     for (int i = 0; i &lt; prefixToCheckLowerCase.length(); i++)\n     {\n         if (traversal.getValidNextCharacters().contains(prefixToCheckLowerCase.charAt(i)))\n        {\n            traversal = traversal.getChild(prefixToCheckLowerCase.charAt(i));\n        } \n         //Means  stem not found, returns an empty list\n         else\n            return completions;\n     }\n     //If current word is an end word, increment the counter and add it to compeltions list\n     if (traversal.endsWord()) \n     {\n         completionsCount=1;\n         completions.add(traversal.getText());\n     }\n\n     List&lt;TrieNode&gt; nodesToBeSearched = new LinkedList&lt;TrieNode&gt;();\n     List&lt;Character&gt; ChildCharaterList = new LinkedList&lt;Character&gt;(traversal.getValidNextCharacters());\n     //Filling the list with children of the current node, first level of of the breadth first search \n     for (int i=0; i&lt;ChildCharaterList.size(); i++) \n     {\n         nodesToBeSearched.add(traversal.getChild(ChildCharaterList.get(i)));\n     }\n     //while loop for the linked list elements and see if any compeltions exists , inside it we will also check each node children and add them to the list!!!\n     while (nodesToBeSearched!=null  &amp;&amp; nodesToBeSearched.size()&gt;0 &amp;&amp; completionsCount &lt; numCompletions)\n     {\n         TrieNode trieNode = nodesToBeSearched.remove(0);\n         if (trieNode.endsWord()) \n         {\n             completionsCount++;\n             completions.add(trieNode.getText());\n         }\n\n         List&lt;Character&gt; subTrieNodeCholdren = new LinkedList&lt;Character&gt;(trieNode.getValidNextCharacters());\n         //Adding all next level tries to the linked list , kinda recursive!!!\n         for (int i=0; i&lt;subTrieNodeCholdren.size();i++) \n         {\n             nodesToBeSearched.add(trieNode.getChild(subTrieNodeCholdren.get(i)));\n         }\n     }\n     return completions;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11457247,"reputation":1,"user_id":8397875,"display_name":"user8397875"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535907363,"creation_date":1535907363,"answer_id":52139156,"question_id":35066881,"body_markdown":"    import java.util.ArrayList;\r\n    class TrieNode{\r\n    \tchar data;\r\n    \tboolean isTerminating;\r\n    \tTrieNode children[];\r\n    \tint childCount;\r\n    \r\n    \tpublic TrieNode(char data) {\r\n    \t\tthis.data = data;\r\n    \t\tisTerminating = false;\r\n    \t\tchildren = new TrieNode[26];\r\n    \t\tchildCount = 0;\r\n    \t}\r\n    }\r\n    \r\n    public class Trie {\r\n    \tprivate TrieNode root;\r\n      \t//ArrayList&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic Trie() {\r\n    \t\troot = new TrieNode(&#39;\\0&#39;);\r\n    \t}\r\n    \r\n    \tprivate void add(TrieNode root, String word){\r\n    \t\tif(word.length() == 0){\r\n    \t\t\troot.isTerminating = true;\r\n    \t\t\treturn;\r\n    \t\t}\t\t\r\n    \t\tint childIndex = word.charAt(0) - &#39;a&#39;;\r\n    \t\tTrieNode child = root.children[childIndex];\r\n    \t\tif(child == null){\r\n    \t\t\tchild = new TrieNode(word.charAt(0));\r\n    \t\t\troot.children[childIndex] = child;\r\n    \t\t\troot.childCount++;\r\n    \t\t}\r\n    \t\tadd(child, word.substring(1));\r\n    \t}\r\n    \r\n    \tpublic void add(String word){\r\n    \t\tadd(root, word);\r\n    \t}\r\n      \r\n      \tprivate void searchHelper(TrieNode root,String word,String ans)\r\n        {\r\n          try\r\n          {\r\n          if(word.length()==0)\r\n          {\r\n            if(root.isTerminating == true)\r\n            {\r\n              System.out.println(ans);\r\n            }\r\n            for(int i=0;i&lt;26;i++)\r\n            {\r\n              TrieNode temp=root.children[i];\r\n              if(temp !=null)\r\n              {\r\n                //ans=ans+temp.data;\r\n                //System.out.println(&quot;test check &quot;+ans );\r\n                searchHelper(temp,word,ans+temp.data);\r\n              }\r\n            }\r\n          }\r\n          int childIndex=word.charAt(0)-&#39;a&#39;;\r\n          TrieNode child=root.children[childIndex];\r\n          if(child == null)\r\n          {\r\n            //System.out.print();\r\n            return ;\r\n          }\r\n          ans=ans+word.charAt(0);\r\n          searchHelper(child,word.substring(1),ans);\r\n          \r\n        }\r\n          catch(Exception e)\r\n          {\r\n            //System.out.println(&quot;error&quot;);\r\n          }\r\n        }\r\n      \r\n    \tpublic void  search(String word)\r\n        {\r\n          String s=&quot;&quot;;\r\n          searchHelper(root,word,s);\r\n        }\r\n    \t\r\n    \tpublic void autoComplete(ArrayList&lt;String&gt; input, String word) {\r\n    \t\t// Complete this function\r\n    \t\t// Print the output as specified in question\r\n          \tTrie ansTrie = new Trie();\r\n    \t\tfor(int i=0;i&lt;input.size();i++)\r\n            {\r\n             \tansTrie.add(input.get(i)); \r\n            }\r\n          \tansTrie.search(word);\r\n    \t}\r\n    }\r\ni hope it helps in solving you doubt.\r\ni am already sorry for any indentation errors .","title":"AutoComplete using a Trie in Java","body":"<pre><code>import java.util.ArrayList;\nclass TrieNode{\n    char data;\n    boolean isTerminating;\n    TrieNode children[];\n    int childCount;\n\n    public TrieNode(char data) {\n        this.data = data;\n        isTerminating = false;\n        children = new TrieNode[26];\n        childCount = 0;\n    }\n}\n\npublic class Trie {\n    private TrieNode root;\n    //ArrayList&lt;String&gt; ans=new ArrayList&lt;&gt;();\n\n    public Trie() {\n        root = new TrieNode('\\0');\n    }\n\n    private void add(TrieNode root, String word){\n        if(word.length() == 0){\n            root.isTerminating = true;\n            return;\n        }       \n        int childIndex = word.charAt(0) - 'a';\n        TrieNode child = root.children[childIndex];\n        if(child == null){\n            child = new TrieNode(word.charAt(0));\n            root.children[childIndex] = child;\n            root.childCount++;\n        }\n        add(child, word.substring(1));\n    }\n\n    public void add(String word){\n        add(root, word);\n    }\n\n    private void searchHelper(TrieNode root,String word,String ans)\n    {\n      try\n      {\n      if(word.length()==0)\n      {\n        if(root.isTerminating == true)\n        {\n          System.out.println(ans);\n        }\n        for(int i=0;i&lt;26;i++)\n        {\n          TrieNode temp=root.children[i];\n          if(temp !=null)\n          {\n            //ans=ans+temp.data;\n            //System.out.println(\"test check \"+ans );\n            searchHelper(temp,word,ans+temp.data);\n          }\n        }\n      }\n      int childIndex=word.charAt(0)-'a';\n      TrieNode child=root.children[childIndex];\n      if(child == null)\n      {\n        //System.out.print();\n        return ;\n      }\n      ans=ans+word.charAt(0);\n      searchHelper(child,word.substring(1),ans);\n\n    }\n      catch(Exception e)\n      {\n        //System.out.println(\"error\");\n      }\n    }\n\n    public void  search(String word)\n    {\n      String s=\"\";\n      searchHelper(root,word,s);\n    }\n\n    public void autoComplete(ArrayList&lt;String&gt; input, String word) {\n        // Complete this function\n        // Print the output as specified in question\n        Trie ansTrie = new Trie();\n        for(int i=0;i&lt;input.size();i++)\n        {\n            ansTrie.add(input.get(i)); \n        }\n        ansTrie.search(word);\n    }\n}\n</code></pre>\n\n<p>i hope it helps in solving you doubt.\ni am already sorry for any indentation errors .</p>\n"},{"tags":[],"owner":{"account_id":23901867,"reputation":1,"user_id":17899926,"display_name":"Sathvik Kademane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641884990,"creation_date":1641884990,"answer_id":70662861,"question_id":35066881,"body_markdown":"\r\n            import java.util.HashMap;\r\n            import java.util.HashSet;\r\n            import java.util.LinkedList;\r\n            import java.util.List;\r\n            import java.util.Map;\r\n            import java.util.Queue;\r\n            import java.util.Set;\r\n            import java.util.stream.Collectors;\r\n            \r\n                public class TrieImpl {\r\n            \r\n            \tstatic class Element {\r\n            \t\tprivate Trie trie;\r\n            \t\tprivate String word;\r\n            \r\n            \t\tElement(Trie trie, String word) {\r\n            \t\t\tthis.trie = trie;\r\n            \t\t\tthis.word = word;\r\n            \t\t}\r\n            \t}\r\n            \r\n            \tstatic class Trie {\r\n            \t\tprivate boolean isLeaf;\r\n            \t\tprivate Map&lt;Character, Trie&gt; children;\r\n            \t\tprivate Map&lt;Character, Integer&gt; character;\r\n            \r\n            \t\tTrie() {\r\n            \t\t\tisLeaf = false;\r\n            \t\t\tchildren = new HashMap&lt;&gt;();\r\n            \t\t\tcharacter = new HashMap&lt;&gt;();\r\n            \t\t}\r\n            \r\n            \t\tpublic void insert(String word) {\r\n            \t\t\tTrie curr = this;\r\n            \t\t\tfor (Character ch : word.toCharArray()) {\r\n            \t\t\t\tcurr.children.putIfAbsent(ch, new Trie());\r\n            \t\t\t\tint count = (curr.character.get(ch) == null) ? 1 : curr.character.get(ch) + 1;\r\n            \t\t\t\tcurr.character.put(ch, count);\r\n            \t\t\t\tcurr = curr.children.get(ch);\r\n            \t\t\t}\r\n            \t\t\tcurr.isLeaf = true;\r\n            \t\t}\r\n            \r\n            \t\tpublic boolean search(String word) {\r\n            \t\t\tTrie curr = this;\r\n            \t\t\tfor (Character ch : word.toCharArray()) {\r\n            \t\t\t\tif (curr.children.get(ch) == null)\r\n            \t\t\t\t\treturn false;\r\n            \t\t\t\tcurr = curr.children.get(ch);\r\n            \t\t\t}\r\n            \t\t\treturn curr.isLeaf;\r\n            \t\t}\r\n            \r\n            \t\tpublic void delete(String word) {\r\n            \t\t\tif (search(word)) {\r\n            \t\t\t\tTrie lastSecond = this;\r\n            \t\t\t\tCharacter charToRemove = word.charAt(0);\r\n            \t\t\t\tTrie curr = this;\r\n            \t\t\t\tint i = -1;\r\n            \t\t\t\twhile (i &lt; word.length() &amp;&amp; curr != null) {\r\n            \t\t\t\t\tif (curr.isLeaf &amp;&amp; i != word.length() - 1) {\r\n            \t\t\t\t\t\tcharToRemove = word.charAt(i + 1);\r\n            \t\t\t\t\t\tlastSecond = curr;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\ti = i + 1;\r\n            \t\t\t\t\tif (i &lt; word.length())\r\n            \t\t\t\t\t\tcurr = curr.children.get(word.charAt(i));\r\n            \t\t\t\t}\r\n            \t\t\t\tlastSecond.children.remove(charToRemove);\r\n            \t\t\t}\r\n            \t\t}\r\n            \r\n            \t\tpublic int findPrefixCount(String word) {\r\n            \t\t\tTrie curr = this;\r\n            \t\t\tCharacter lastChar = null;\r\n            \t\t\tint count = 0;\r\n            \t\t\tfor (Character ch : word.toCharArray()) {\r\n            \t\t\t\tif (curr.children.get(ch) == null)\r\n            \t\t\t\t\treturn 0;\r\n            \t\t\t\tif (count &lt; word.length() - 1) {\r\n            \t\t\t\t\tcurr = curr.children.get(ch);\r\n            \t\t\t\t\tcount++;\r\n            \t\t\t\t}\r\n            \t\t\t\tlastChar = ch;\r\n            \t\t\t}\r\n            \t\t\tif (lastChar != null &amp;&amp; curr.character.get(lastChar) != null)\r\n            \t\t\t\treturn curr.character.get(lastChar);\r\n            \t\t\telse\r\n            \t\t\t\treturn 0;\r\n            \t\t}\r\n            \r\n            \t\tpublic Set&lt;String&gt; autoComplete(String word) {\r\n            \t\t\tTrie curr = this;\r\n            \t\t\tint count = 0;\r\n            \t\t\tString wo = &quot;&quot;;\r\n            \t\t\tQueue&lt;Element&gt; queue = new LinkedList&lt;&gt;();\r\n            \t\t\tSet&lt;String&gt; set = new HashSet&lt;&gt;();\r\n            \t\t\tfor (Character ch : word.toCharArray()) {\r\n            \t\t\t\tif (count &lt; word.length()) {\r\n            \t\t\t\t\tcurr = curr.children.get(ch);\r\n            \t\t\t\t\tcount++;\r\n            \t\t\t\t\two += ch;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tif (curr != null)\r\n            \t\t\t\tqueue.add(new Element(curr, wo));\r\n            \r\n            \t\t\twhile (!queue.isEmpty()) {\r\n            \t\t\t\tElement elem = queue.poll();\r\n            \t\t\t\tTrie current = elem.trie;\r\n            \t\t\t\tString temp = elem.word;\r\n            \t\t\t\tif (current != null &amp;&amp; current.isLeaf)\r\n            \t\t\t\t\tset.add(temp);\r\n            \t\t\t\tList&lt;Character&gt; keys = current.character.keySet().stream().collect(Collectors.toList());\r\n            \t\t\t\tfor (int i = 0; i &lt; current.children.size(); i++) {\r\n            \t\t\t\t\tqueue.add(new Element(current.children.get(keys.get(i)), temp + keys.get(i)));\r\n            \t\t\t\t}\r\n            \r\n            \t\t\t}\r\n            \t\t\treturn set;\r\n            \r\n            \t\t}\r\n                     \t}\r\n            \r\n                   \tpublic static void main(String[] args) {\r\n            \t\tTrie head = new Trie();\r\n            \t\thead.insert(&quot;techie&quot;);\r\n            \t\thead.insert(&quot;techi&quot;);\r\n            \t\thead.insert(&quot;tech&quot;);\r\n            \t\thead.insert(&quot;tecabc&quot;);\r\n            \t\thead.insert(&quot;tecabk&quot;);\r\n            \t\thead.insert(&quot;tecabd&quot;);\r\n            \t\thead.insert(&quot;tecalmz&quot;);\r\n            \t\tSet&lt;String&gt; words = head.autoComplete(&quot;t&quot;);\r\n            \t\twords.stream().forEach(x -&gt; System.out.println(x));\r\n            \r\n            \t}\r\n            \r\n            }\r\n","title":"AutoComplete using a Trie in Java","body":"<pre><code>        import java.util.HashMap;\n        import java.util.HashSet;\n        import java.util.LinkedList;\n        import java.util.List;\n        import java.util.Map;\n        import java.util.Queue;\n        import java.util.Set;\n        import java.util.stream.Collectors;\n        \n            public class TrieImpl {\n        \n            static class Element {\n                private Trie trie;\n                private String word;\n        \n                Element(Trie trie, String word) {\n                    this.trie = trie;\n                    this.word = word;\n                }\n            }\n        \n            static class Trie {\n                private boolean isLeaf;\n                private Map&lt;Character, Trie&gt; children;\n                private Map&lt;Character, Integer&gt; character;\n        \n                Trie() {\n                    isLeaf = false;\n                    children = new HashMap&lt;&gt;();\n                    character = new HashMap&lt;&gt;();\n                }\n        \n                public void insert(String word) {\n                    Trie curr = this;\n                    for (Character ch : word.toCharArray()) {\n                        curr.children.putIfAbsent(ch, new Trie());\n                        int count = (curr.character.get(ch) == null) ? 1 : curr.character.get(ch) + 1;\n                        curr.character.put(ch, count);\n                        curr = curr.children.get(ch);\n                    }\n                    curr.isLeaf = true;\n                }\n        \n                public boolean search(String word) {\n                    Trie curr = this;\n                    for (Character ch : word.toCharArray()) {\n                        if (curr.children.get(ch) == null)\n                            return false;\n                        curr = curr.children.get(ch);\n                    }\n                    return curr.isLeaf;\n                }\n        \n                public void delete(String word) {\n                    if (search(word)) {\n                        Trie lastSecond = this;\n                        Character charToRemove = word.charAt(0);\n                        Trie curr = this;\n                        int i = -1;\n                        while (i &lt; word.length() &amp;&amp; curr != null) {\n                            if (curr.isLeaf &amp;&amp; i != word.length() - 1) {\n                                charToRemove = word.charAt(i + 1);\n                                lastSecond = curr;\n                            }\n                            i = i + 1;\n                            if (i &lt; word.length())\n                                curr = curr.children.get(word.charAt(i));\n                        }\n                        lastSecond.children.remove(charToRemove);\n                    }\n                }\n        \n                public int findPrefixCount(String word) {\n                    Trie curr = this;\n                    Character lastChar = null;\n                    int count = 0;\n                    for (Character ch : word.toCharArray()) {\n                        if (curr.children.get(ch) == null)\n                            return 0;\n                        if (count &lt; word.length() - 1) {\n                            curr = curr.children.get(ch);\n                            count++;\n                        }\n                        lastChar = ch;\n                    }\n                    if (lastChar != null &amp;&amp; curr.character.get(lastChar) != null)\n                        return curr.character.get(lastChar);\n                    else\n                        return 0;\n                }\n        \n                public Set&lt;String&gt; autoComplete(String word) {\n                    Trie curr = this;\n                    int count = 0;\n                    String wo = &quot;&quot;;\n                    Queue&lt;Element&gt; queue = new LinkedList&lt;&gt;();\n                    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n                    for (Character ch : word.toCharArray()) {\n                        if (count &lt; word.length()) {\n                            curr = curr.children.get(ch);\n                            count++;\n                            wo += ch;\n                        }\n                    }\n                    if (curr != null)\n                        queue.add(new Element(curr, wo));\n        \n                    while (!queue.isEmpty()) {\n                        Element elem = queue.poll();\n                        Trie current = elem.trie;\n                        String temp = elem.word;\n                        if (current != null &amp;&amp; current.isLeaf)\n                            set.add(temp);\n                        List&lt;Character&gt; keys = current.character.keySet().stream().collect(Collectors.toList());\n                        for (int i = 0; i &lt; current.children.size(); i++) {\n                            queue.add(new Element(current.children.get(keys.get(i)), temp + keys.get(i)));\n                        }\n        \n                    }\n                    return set;\n        \n                }\n                    }\n        \n                public static void main(String[] args) {\n                Trie head = new Trie();\n                head.insert(&quot;techie&quot;);\n                head.insert(&quot;techi&quot;);\n                head.insert(&quot;tech&quot;);\n                head.insert(&quot;tecabc&quot;);\n                head.insert(&quot;tecabk&quot;);\n                head.insert(&quot;tecabd&quot;);\n                head.insert(&quot;tecalmz&quot;);\n                Set&lt;String&gt; words = head.autoComplete(&quot;t&quot;);\n                words.stream().forEach(x -&gt; System.out.println(x));\n        \n            }\n        \n        }\n</code></pre>\n"}],"owner":{"account_id":4725775,"reputation":319,"user_id":3822467,"accept_rate":56,"display_name":"daipayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35110769,"answer_count":3,"score":1,"last_activity_date":1641884990,"creation_date":1453998766,"question_id":35066881,"body_markdown":"I am working on this assignment which implements Autocomplete and dictionary. I have sucessfully implemented spellcheck and the addWord() and isWord() functions.\r\nBut I am just not able to implement the function which predicts words for AutoCompletions.\r\n\r\n    package spelling;\r\n\r\n    import java.util.List;\r\n    import java.util.Queue;\r\n    import java.util.Set;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    \r\n    /** \r\n     * An trie data structure that implements the Dictionary and the AutoComplete ADT\r\n     * @author You\r\n     *\r\n     */\r\n    public class AutoCompleteDictionaryTrie implements  Dictionary, AutoComplete {\r\n    private TrieNode root;\r\n    private int size;\r\n    \r\n\r\n    public AutoCompleteDictionaryTrie()\r\n\t{\r\n\t\troot = new TrieNode();\r\n\t\tsize=0;\r\n\t}\r\n\t\r\n\t\r\n\t/** Insert a word into the trie.\r\n\t * For the basic part of the assignment (part 2), you should ignore the word&#39;s case.\r\n\t * That is, you should convert the string to all lower case as you insert it. */\r\n\tpublic boolean addWord(String word)\r\n\t{\r\n\t    //TODO: Implement this method.\r\n\t\tString Word=word.toLowerCase();\r\n\t\tif(isWord(Word))\r\n\t\t\treturn false;\r\n\t\tHashMap&lt;Character, TrieNode&gt; children=root.children;\r\n\t\tfor(int i=0; i&lt;Word.length(); i++){\r\n            char c = Word.charAt(i);\r\n            TrieNode t;\r\n            if(children.containsKey(c)){\r\n                    t = children.get(c);\r\n            }else{\r\n                t = new TrieNode(&quot;&quot;+(c));\r\n                children.put(c, t);\r\n            }\r\n \r\n            children = t.children;\r\n            if(i==Word.length()-1)\r\n            {\r\n                t.isWord = true; \r\n                size++;\r\n            }\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t/** \r\n\t * Return the number of words in the dictionary.  This is NOT necessarily the same\r\n\t * as the number of TrieNodes in the trie.\r\n\t */\r\n\tpublic int size()\r\n\t{\r\n\t    //TODO: Implement this method\r\n\t    return size;\r\n\t}\r\n\t\r\n\t\r\n\t/** Returns whether the string is a word in the trie */\r\n\t@Override\r\n\tpublic boolean isWord(String s) \r\n\t{\r\n\t    // TODO: Implement this method\r\n\t\tTrieNode t = searchNode(s.toLowerCase());\r\n\t\t \r\n        if(t != null &amp;&amp; t.isWord) \r\n            return true;\r\n        else\r\n            return false;\r\n\t}\r\n\tpublic TrieNode searchNode(String str){\r\n        HashMap&lt;Character, TrieNode&gt; children = root.children; \r\n        TrieNode t = null;\r\n        for(int i=0; i&lt;str.length(); i++){\r\n            char c = str.charAt(i);\r\n            if(children.containsKey(c)){\r\n                t = children.get(c);\r\n                children = t.children;\r\n            }else{\r\n                return null;\r\n            }\r\n        }\r\n \r\n        return t;\r\n    }\r\n\r\n\t/** \r\n\t *  * Returns up to the n &quot;best&quot; predictions, including the word itself,\r\n     * in terms of length\r\n     * If this string is not in the trie, it returns null.\r\n     * @param text The text to use at the word stem\r\n     * @param n The maximum number of predictions desired.\r\n     * @return A list containing the up to n best predictions\r\n     */@Override\r\n     public List&lt;String&gt; predictCompletions(String prefix, int numCompletions) \r\n     {\r\n    \t // TODO: Implement this method\r\n    \t // This method should implement the following algorithm:\r\n    \t // 1. Find the stem in the trie.  If the stem does not appear in the trie, return an\r\n    \t //    empty list\r\n    \t // 2. Once the stem is found, perform a breadth first search to generate completions\r\n    \t //    using the following algorithm:\r\n    \t //    Create a queue (LinkedList) and add the node that completes the stem to the back\r\n    \t //       of the list.\r\n    \t //    Create a list of completions to return (initially empty)\r\n    \t //    While the queue is not empty and you don&#39;t have enough completions:\r\n    \t //       remove the first Node from the queue\r\n    \t //       If it is a word, add it to the completions list\r\n    \t //       Add all of its child nodes to the back of the queue\r\n    \t // Return the list of completions\r\n    \t List&lt;String&gt; completions=null;\r\n    \t int counter=0;\r\n    \t if (prefix==null){\r\n    \t\t return Collections.emptyList();\r\n    \t }\r\n    \t \r\n    \t prefix=prefix.toLowerCase();\r\n    \t if(isWord(prefix))\r\n    \t\t completions.add(prefix);\r\n    \t LinkedList nodes = new LinkedList();\r\n    \t\r\n    \t TrieNode curr=searchNode(prefix);\r\n    \t nodes.addLast(curr);\r\n    \t while(!nodes.isEmpty() &amp;&amp; counter!=numCompletions)\r\n    \t {\r\n    \t\t if((nodes.removeFirst()).isWord)\r\n    \t\t completions.add(curr.getText());\r\n    \t\t TrieNode next = null;\r\n    \t\t for (Character c : curr.getValidNextCharacters()) {\r\n    \t \t\t\tnext = curr.getChild(c);\r\n    \t\t }\r\n    \t }\r\n    \t \r\n \t\t \r\n    \t return Collections.emptyList();\r\n    \t \r\n     }\r\n     public void checkNull(String word){\r\n     \tif (word==null)\r\n     \t\tthrow new NullPointerException(&quot;Null word passed&quot;);\r\n     }\r\n \t// For debugging\r\n \tpublic void printTree()\r\n \t{\r\n \t\tprintNode(root);\r\n \t}\r\n \t\r\n \t/** Do a pre-order traversal from this node down */\r\n \tpublic void printNode(TrieNode curr)\r\n \t{\r\n \t\tif (curr == null) \r\n \t\t\treturn;\r\n \t\t\r\n \t\tSystem.out.println(curr.getText());\r\n \t\t\r\n \t\tTrieNode next = null;\r\n \t\tfor (Character c : curr.getValidNextCharacters()) {\r\n \t\t\tnext = curr.getChild(c);\r\n \t\t\tprintNode(next);\r\n \t\t}\r\n \t}\r\n \t\r\n\r\n\t\r\n    }\r\nAnd this is the code of the TrieNode class:\r\n\r\n    package spelling;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Set;\r\n\r\n    /** \r\n    * Represents a node in a Trie\r\n    * @author UC San Diego Intermediate Programming MOOC Team\r\n    *\r\n     */\r\n    class TrieNode {\r\n\tHashMap&lt;Character, TrieNode&gt; children; \r\n\tprivate String text;  // Maybe omit for space\r\n\tboolean isWord;\r\n\t\r\n\t/** Create a new TrieNode */\r\n\tpublic TrieNode()\r\n\t{\r\n\t\tchildren = new HashMap&lt;Character, TrieNode&gt;();\r\n\t\ttext = &quot;&quot;;\r\n\t\tisWord = false;\r\n\t}\r\n\t\r\n\t/** Create a new TrieNode given a text String to store in it */\r\n\tpublic TrieNode(String text)\r\n\t{\r\n\t\tthis();\r\n\t\tthis.text = text;\r\n\t}\r\n\t\r\n\t/** Return the TrieNode that is the child when you follow the \r\n\t * link from the given Character \r\n\t * @param c The next character in the key\r\n\t * @return The TrieNode that character links to, or null if that link\r\n\t *   is not in the trie.\r\n\t */\r\n\tpublic TrieNode getChild(Character c)\r\n\t{\r\n\t\treturn children.get(c);\r\n\t}\r\n\t\r\n\t/** Inserts this character at this node.\r\n\t * Returns the newly created node, if c wasn&#39;t already\r\n\t * in the trie.  If it was, it does not modify the trie\r\n\t * and returns null.\r\n\t * @param c The character that will link to the new node\r\n\t * @return The newly created TrieNode, or null if the node is already \r\n\t *     in the trie.\r\n\t */\r\n\tpublic TrieNode insert(Character c)\r\n\t{\r\n\t\tif (children.containsKey(c)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tTrieNode next = new TrieNode(text + c.toString());\r\n\t\tchildren.put(c, next);\r\n\t\treturn next;\r\n\t}\r\n\t\r\n\t/** Return the text string at this node */\r\n    public String getText()\r\n\t{\r\n\t\treturn text;\r\n\t}\r\n\t\r\n    /** Set whether or not this node ends a word in the trie. */\r\n\tpublic void setEndsWord(boolean b)\r\n\t{\r\n\t\tisWord = b;\r\n\t}\r\n\t\r\n\t/** Return whether or not this node ends a word in the trie. */\r\n\tpublic boolean endsWord()\r\n\t{\r\n\t\treturn isWord;\r\n\t}\r\n\t\r\n\t/** Return the set of characters that have links from this node */\r\n\tpublic Set&lt;Character&gt; getValidNextCharacters()\r\n\t{\r\n\t\treturn children.keySet();\r\n\t}\r\n\r\n    }\r\n\r\nEven though the algorithm is there I am not able to implement it. Any kind of help would be greatly appreciated.\r\n\r\n","title":"AutoComplete using a Trie in Java","body":"<p>I am working on this assignment which implements Autocomplete and dictionary. I have sucessfully implemented spellcheck and the addWord() and isWord() functions.\nBut I am just not able to implement the function which predicts words for AutoCompletions.</p>\n\n<pre><code>package spelling;\n\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.Set;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.LinkedList;\n\n/** \n * An trie data structure that implements the Dictionary and the AutoComplete ADT\n * @author You\n *\n */\npublic class AutoCompleteDictionaryTrie implements  Dictionary, AutoComplete {\nprivate TrieNode root;\nprivate int size;\n\n\npublic AutoCompleteDictionaryTrie()\n{\n    root = new TrieNode();\n    size=0;\n}\n\n\n/** Insert a word into the trie.\n * For the basic part of the assignment (part 2), you should ignore the word's case.\n * That is, you should convert the string to all lower case as you insert it. */\npublic boolean addWord(String word)\n{\n    //TODO: Implement this method.\n    String Word=word.toLowerCase();\n    if(isWord(Word))\n        return false;\n    HashMap&lt;Character, TrieNode&gt; children=root.children;\n    for(int i=0; i&lt;Word.length(); i++){\n        char c = Word.charAt(i);\n        TrieNode t;\n        if(children.containsKey(c)){\n                t = children.get(c);\n        }else{\n            t = new TrieNode(\"\"+(c));\n            children.put(c, t);\n        }\n\n        children = t.children;\n        if(i==Word.length()-1)\n        {\n            t.isWord = true; \n            size++;\n        }\n    }\n    return true;\n}\n\n/** \n * Return the number of words in the dictionary.  This is NOT necessarily the same\n * as the number of TrieNodes in the trie.\n */\npublic int size()\n{\n    //TODO: Implement this method\n    return size;\n}\n\n\n/** Returns whether the string is a word in the trie */\n@Override\npublic boolean isWord(String s) \n{\n    // TODO: Implement this method\n    TrieNode t = searchNode(s.toLowerCase());\n\n    if(t != null &amp;&amp; t.isWord) \n        return true;\n    else\n        return false;\n}\npublic TrieNode searchNode(String str){\n    HashMap&lt;Character, TrieNode&gt; children = root.children; \n    TrieNode t = null;\n    for(int i=0; i&lt;str.length(); i++){\n        char c = str.charAt(i);\n        if(children.containsKey(c)){\n            t = children.get(c);\n            children = t.children;\n        }else{\n            return null;\n        }\n    }\n\n    return t;\n}\n\n/** \n *  * Returns up to the n \"best\" predictions, including the word itself,\n * in terms of length\n * If this string is not in the trie, it returns null.\n * @param text The text to use at the word stem\n * @param n The maximum number of predictions desired.\n * @return A list containing the up to n best predictions\n */@Override\n public List&lt;String&gt; predictCompletions(String prefix, int numCompletions) \n {\n     // TODO: Implement this method\n     // This method should implement the following algorithm:\n     // 1. Find the stem in the trie.  If the stem does not appear in the trie, return an\n     //    empty list\n     // 2. Once the stem is found, perform a breadth first search to generate completions\n     //    using the following algorithm:\n     //    Create a queue (LinkedList) and add the node that completes the stem to the back\n     //       of the list.\n     //    Create a list of completions to return (initially empty)\n     //    While the queue is not empty and you don't have enough completions:\n     //       remove the first Node from the queue\n     //       If it is a word, add it to the completions list\n     //       Add all of its child nodes to the back of the queue\n     // Return the list of completions\n     List&lt;String&gt; completions=null;\n     int counter=0;\n     if (prefix==null){\n         return Collections.emptyList();\n     }\n\n     prefix=prefix.toLowerCase();\n     if(isWord(prefix))\n         completions.add(prefix);\n     LinkedList nodes = new LinkedList();\n\n     TrieNode curr=searchNode(prefix);\n     nodes.addLast(curr);\n     while(!nodes.isEmpty() &amp;&amp; counter!=numCompletions)\n     {\n         if((nodes.removeFirst()).isWord)\n         completions.add(curr.getText());\n         TrieNode next = null;\n         for (Character c : curr.getValidNextCharacters()) {\n                next = curr.getChild(c);\n         }\n     }\n\n\n     return Collections.emptyList();\n\n }\n public void checkNull(String word){\n    if (word==null)\n        throw new NullPointerException(\"Null word passed\");\n }\n// For debugging\npublic void printTree()\n{\n    printNode(root);\n}\n\n/** Do a pre-order traversal from this node down */\npublic void printNode(TrieNode curr)\n{\n    if (curr == null) \n        return;\n\n    System.out.println(curr.getText());\n\n    TrieNode next = null;\n    for (Character c : curr.getValidNextCharacters()) {\n        next = curr.getChild(c);\n        printNode(next);\n    }\n}\n\n\n\n}\n</code></pre>\n\n<p>And this is the code of the TrieNode class:</p>\n\n<pre><code>package spelling;\n\nimport java.util.HashMap;\nimport java.util.Set;\n\n/** \n* Represents a node in a Trie\n* @author UC San Diego Intermediate Programming MOOC Team\n*\n */\nclass TrieNode {\nHashMap&lt;Character, TrieNode&gt; children; \nprivate String text;  // Maybe omit for space\nboolean isWord;\n\n/** Create a new TrieNode */\npublic TrieNode()\n{\n    children = new HashMap&lt;Character, TrieNode&gt;();\n    text = \"\";\n    isWord = false;\n}\n\n/** Create a new TrieNode given a text String to store in it */\npublic TrieNode(String text)\n{\n    this();\n    this.text = text;\n}\n\n/** Return the TrieNode that is the child when you follow the \n * link from the given Character \n * @param c The next character in the key\n * @return The TrieNode that character links to, or null if that link\n *   is not in the trie.\n */\npublic TrieNode getChild(Character c)\n{\n    return children.get(c);\n}\n\n/** Inserts this character at this node.\n * Returns the newly created node, if c wasn't already\n * in the trie.  If it was, it does not modify the trie\n * and returns null.\n * @param c The character that will link to the new node\n * @return The newly created TrieNode, or null if the node is already \n *     in the trie.\n */\npublic TrieNode insert(Character c)\n{\n    if (children.containsKey(c)) {\n        return null;\n    }\n\n    TrieNode next = new TrieNode(text + c.toString());\n    children.put(c, next);\n    return next;\n}\n\n/** Return the text string at this node */\npublic String getText()\n{\n    return text;\n}\n\n/** Set whether or not this node ends a word in the trie. */\npublic void setEndsWord(boolean b)\n{\n    isWord = b;\n}\n\n/** Return whether or not this node ends a word in the trie. */\npublic boolean endsWord()\n{\n    return isWord;\n}\n\n/** Return the set of characters that have links from this node */\npublic Set&lt;Character&gt; getValidNextCharacters()\n{\n    return children.keySet();\n}\n\n}\n</code></pre>\n\n<p>Even though the algorithm is there I am not able to implement it. Any kind of help would be greatly appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8301,"page":1691,"page_size":100}
