{"items":[{"tags":["java","encryption","base64","hmac"],"comments":[{"owner":{"account_id":8737108,"reputation":30927,"user_id":6535399,"display_name":"bartonjs"},"score":0,"creation_date":1532980571,"post_id":51600957,"comment_id":90168896,"body_markdown":"Possible duplicate of [Is it possible to decrypt md5 hashes?](https://stackoverflow.com/questions/1240852/is-it-possible-to-decrypt-md5-hashes)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1240852/is-it-possible-to-decrypt-md5-hashes\">Is it possible to decrypt md5 hashes?</a>"}],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664877752,"creation_date":1532983876,"answer_id":51602104,"question_id":51600957,"body_markdown":"TL;DR: No.\r\n\r\nA [MAC](https://en.wikipedia.org/wiki/Message_authentication_code &quot;Message Authentication Code&quot;) function is also called a &quot;keyed hash function&quot;. It is not an &quot;encryption&quot; in any meaning of the word.\r\nIt transforms a key and a plain text into an authentication tag. The same key + plain text result in the same tag, this property is used to check that the plain text was not modified.\r\n\r\nHMAC is a MAC built on a hash function, in your case SHA-256. As long as the hash function is not broken, you can&#39;t get the plain text back, even if you know the key.\r\n\r\nIf there is only a small set of possible plain texts, you can of course do a brute-force attack, just trying each plain text with the key to see if the tag is matching. (If the key is also unknown but from a small set, you can also try to try all possible keys.)","title":"HMAC Decryption","body":"<p>TL;DR: No.</p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Message_authentication_code\" rel=\"nofollow noreferrer\" title=\"Message Authentication Code\">MAC</a> function is also called a &quot;keyed hash function&quot;. It is not an &quot;encryption&quot; in any meaning of the word.\nIt transforms a key and a plain text into an authentication tag. The same key + plain text result in the same tag, this property is used to check that the plain text was not modified.</p>\n<p>HMAC is a MAC built on a hash function, in your case SHA-256. As long as the hash function is not broken, you can't get the plain text back, even if you know the key.</p>\n<p>If there is only a small set of possible plain texts, you can of course do a brute-force attack, just trying each plain text with the key to see if the tag is matching. (If the key is also unknown but from a small set, you can also try to try all possible keys.)</p>\n"},{"tags":[],"owner":{"account_id":3973740,"reputation":43,"user_id":3277542,"display_name":"Simon Towler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677057676,"creation_date":1677057676,"answer_id":75530534,"question_id":51600957,"body_markdown":"The HMAC is not supposed to be &#39;decrypted&#39;, it is supposed to be checked. \r\n\r\nTo check it, you use the same secret key the original HMAC was derived with, to get your own HMAC of the message. If you check your HMAC matches the HMAC that was sent to you with the message, then you know the sender used the same secret key you did, so you have an assurance they are probably the party they claim to be, and you have an assurance the message has not been altered since it was sent.\r\n\r\nThe crypto involved in HMAC is not used to encrypt the message. Instead it is used to make it computationally infeasible with today&#39;s computers to fake the HMAC without knowing the secret key (and infeasible with classical computers to find an arbitrary plain text and key combination that would result in the same given HMAC, a type of collision attack theoretically possible in cryptanalysis).","title":"HMAC Decryption","body":"<p>The HMAC is not supposed to be 'decrypted', it is supposed to be checked.</p>\n<p>To check it, you use the same secret key the original HMAC was derived with, to get your own HMAC of the message. If you check your HMAC matches the HMAC that was sent to you with the message, then you know the sender used the same secret key you did, so you have an assurance they are probably the party they claim to be, and you have an assurance the message has not been altered since it was sent.</p>\n<p>The crypto involved in HMAC is not used to encrypt the message. Instead it is used to make it computationally infeasible with today's computers to fake the HMAC without knowing the secret key (and infeasible with classical computers to find an arbitrary plain text and key combination that would result in the same given HMAC, a type of collision attack theoretically possible in cryptanalysis).</p>\n"}],"owner":{"account_id":12654525,"reputation":31,"user_id":9197455,"display_name":"hex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9211,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1677057676,"creation_date":1532978652,"question_id":51600957,"body_markdown":"I coded HMAC decryption. I try many time to decrypt the output.\r\n\r\nThis is my code \r\n\r\n    package javaapplication_HMAC;\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import com.sun.org.apache.xml.internal.security.utils.Base64;\r\n    import java.util.Formatter;\r\n    \r\n    public class Encryption {\r\n    \r\n        public void Encryption_Base64(String x,String y){\r\n         String message = x;\r\n            String key = y;\r\n            String algorithm = &quot;HmacSHA1&quot;;  \r\n            try {\r\n                Mac sha256_hmac = Mac.getInstance(algorithm);\r\n                SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), algorithm);\r\n                 sha256_hmac.init(secret_key);\r\n                String hash = Base64.encode(sha256_hmac.doFinal(message.getBytes(&quot;UTF-8&quot;)));\r\n                System.out.println(hash);\r\n            } catch (NoSuchAlgorithmException | UnsupportedEncodingException | InvalidKeyException e) {\r\n                e.printStackTrace();\r\n            }    \r\n        }\r\n        \r\n        public static void main(String args[]) {\r\n            Encryption encryption_base64 = new Encryption();\r\n            encryption_base64.Encryption_Base64(&quot;test&quot;, &quot;123456&quot;);\r\n        }\r\n\r\n    }\r\n\r\nThe output is : QFemksWe6HuyDAJIepZd+ldchzc=\r\n\r\nIs it possible to decrypt it?  \r\n\r\n","title":"HMAC Decryption","body":"<p>I coded HMAC decryption. I try many time to decrypt the output.</p>\n\n<p>This is my code </p>\n\n<pre><code>package javaapplication_HMAC;\n\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport com.sun.org.apache.xml.internal.security.utils.Base64;\nimport java.util.Formatter;\n\npublic class Encryption {\n\n    public void Encryption_Base64(String x,String y){\n     String message = x;\n        String key = y;\n        String algorithm = \"HmacSHA1\";  \n        try {\n            Mac sha256_hmac = Mac.getInstance(algorithm);\n            SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(\"UTF-8\"), algorithm);\n             sha256_hmac.init(secret_key);\n            String hash = Base64.encode(sha256_hmac.doFinal(message.getBytes(\"UTF-8\")));\n            System.out.println(hash);\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException | InvalidKeyException e) {\n            e.printStackTrace();\n        }    \n    }\n\n    public static void main(String args[]) {\n        Encryption encryption_base64 = new Encryption();\n        encryption_base64.Encryption_Base64(\"test\", \"123456\");\n    }\n\n}\n</code></pre>\n\n<p>The output is : QFemksWe6HuyDAJIepZd+ldchzc=</p>\n\n<p>Is it possible to decrypt it?  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1676978828,"post_id":75519800,"comment_id":133241764,"body_markdown":"Can you provide the `PowerToken` class?","body":"Can you provide the <code>PowerToken</code> class?"},{"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"score":0,"creation_date":1676978907,"post_id":75519800,"comment_id":133241785,"body_markdown":"Yeah, I will modify my post to add it. I have added it","body":"Yeah, I will modify my post to add it. I have added it"},{"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"score":0,"creation_date":1676979512,"post_id":75519800,"comment_id":133241984,"body_markdown":"Yeah I will add a diagram to the question as well","body":"Yeah I will add a diagram to the question as well"},{"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"score":0,"creation_date":1676979834,"post_id":75519800,"comment_id":133242089,"body_markdown":"Yeah a 2x2 square is 4 adjacent squares/tiles","body":"Yeah a 2x2 square is 4 adjacent squares/tiles"},{"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"score":0,"creation_date":1676980198,"post_id":75519800,"comment_id":133242195,"body_markdown":"How would I go about doing that? I haven&#39;t come across either of those before","body":"How would I go about doing that? I haven&#39;t come across either of those before"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676981990,"post_id":75519800,"comment_id":133242740,"body_markdown":"Here is the theory behind it. I can write it out, though it takes a bit. https://en.wikipedia.org/wiki/Connected-component_labeling#Graphical_example_of_two-pass_algorithm","body":"Here is the theory behind it. I can write it out, though it takes a bit. <a href=\"https://en.wikipedia.org/wiki/Connected-component_labeling#Graphical_example_of_two-pass_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"score":0,"creation_date":1676982844,"post_id":75519800,"comment_id":133243048,"body_markdown":"I&#39;ve not yet worked with algorithms before so I am quite unsure where to begin even with the pseudo-code","body":"I&#39;ve not yet worked with algorithms before so I am quite unsure where to begin even with the pseudo-code"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1677057690,"post_id":75519800,"comment_id":133260475,"body_markdown":"I have updated my answer, it is complete and I believe working.","body":"I have updated my answer, it is complete and I believe working."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677057623,"creation_date":1676982987,"answer_id":75520626,"question_id":75519800,"body_markdown":"You&#39;re essentially going to do a connected components algorithm. The input will be with you 9x9 truth table for **one of the colors**.\r\n\r\n    static Map&lt;Integer, List&lt;int[]&gt;&gt; cluster( boolean[][] occupied )\r\n\r\nThis is a [2-pass connect component algorithm](https://en.wikipedia.org/wiki/Connected-component_labeling#Graphical_example_of_two-pass_algorithm). The first pass we go through and make preliminary labels, we also create a &quot;touching&quot; list that keeps track of regions adjacent to each other.\r\n    \r\n        int n = occupied.length;\r\n        int[][] label = new int[n][n];\r\n        int last = 1;\r\n        List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\r\n\r\n        //first pass\r\n        for(int i = 0; i&lt;n; i++){\r\n            for(int j = 0; j&lt;n; j++){\r\n                if(occupied[i][j]){\r\n                    //4 way connectivity.\r\n                    int north = 0;\r\n                    int west = 0;\r\n                    int next = 0;\r\n                    if( i &gt; 0 &amp;&amp; occupied[i-1][j]){\r\n                        west = label[i-1][j];\r\n                    }\r\n                    if( j &gt; 0 &amp;&amp; occupied[i][j-1]){\r\n                        north = label[i][j-1];\r\n                    }\r\n                    if(west != 0){\r\n                        if(north != 0){\r\n                            //two labelled regions.\r\n                            if(north == west){\r\n                                //they&#39;re the same, it&#39;s ok.\r\n                                next = north;\r\n                            } else if(north &lt; west){\r\n                                //label it with the minimum one\r\n                                next = north;\r\n                                touching.add( new int[]{west, north} );\r\n                            } else{\r\n                                next = west;\r\n                                touching.add( new int[]{north, west} );\r\n                            }\r\n                        } else{\r\n                            next = west;\r\n                        }\r\n                    } else if( north != 0 ){\r\n                        next = north;\r\n                    } else{\r\n                        next = last++;\r\n                    }\r\n                    label[i][j] = next; //assign the label.\r\n                } else{\r\n                    //not occupied.\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n    \r\nThat is the first pass, at the end of the first pass the regions are labelled, but there are touching regions that need to be merged. That can be done with the `touching` list, but it needs to be refined a bit. \r\n\r\nThis first step merges all of the touching labels in to associated clusters.\r\n\r\n        List&lt;TreeSet&lt;Integer&gt;&gt; clusters = new ArrayList&lt;&gt;();\r\n        \r\n        for(int[] pair: touching){\r\n            TreeSet&lt;Integer&gt; pair0 = null;\r\n            TreeSet&lt;Integer&gt; pair1 = null;\r\n            for(TreeSet&lt;Integer&gt; cluster: clusters){\r\n                if(cluster.contains(pair[0])){\r\n                    pair0 = cluster;\r\n                }\r\n                if(cluster.contains(pair[1])){\r\n                    pair1 = cluster;\r\n                }\r\n            }\r\n            if( pair0 == null &amp;&amp; pair1 == null){\r\n                //new cluster\r\n                TreeSet&lt;Integer&gt; newCluster = new TreeSet&lt;&gt;();\r\n                newCluster.add(pair[0]);\r\n                newCluster.add(pair[1]);\r\n                clusters.add(newCluster);\r\n            } else if( pair0 == null ){\r\n                pair1.add(pair[0]);\r\n            } else if( pair1 == null ){\r\n                pair0.add(pair[1]);\r\n            } else{\r\n                if(pair0 == pair1) continue;\r\n                //both labels are already in clusters but different clusters.\r\n                pair0.addAll(pair1);\r\n                clusters.remove(pair1);\r\n            }\r\n        }\r\n\r\nThis goes through and creates a mapping, so that all of the values in a cluster will map to the lowest value.\r\n\r\n        Map&lt;Integer, Integer&gt; fin = new HashMap&lt;&gt;();\r\n        for( TreeSet&lt;Integer&gt; cluster: clusters){\r\n            Integer low = cluster.first();\r\n            for(Integer i: cluster){\r\n                fin.put(i, low);\r\n            }\r\n        }\r\n\r\nSecond pass is just a matter of associating the labels to their keys.\r\n\r\n        Map&lt;Integer, List&lt;int[]&gt;&gt; result = new HashMap&lt;&gt;();\r\n        //second pass\r\n        for(int i = 0; i&lt;n; i++){\r\n            for(int j = 0; j&lt;n; j++){\r\n                if( occupied[i][j] ){\r\n                    Integer f = fin.computeIfAbsent( label[i][j], k -&gt; k );\r\n                    result.computeIfAbsent( f, k -&gt; new ArrayList&lt;&gt;() ).add( new int[]{i, j} );\r\n                    label[i][j] = f;\r\n                }\r\n            }\r\n        }\r\n\r\nResult will contain the label and a collection of int[] that represent all of the points. To use this.\r\n\r\n    Map&lt;Integer, List&lt;int[]&gt;&gt; whiteClusters = cluster(occupiedWhite);\r\n    Map&lt;Integer, List&lt;int[]&gt;&gt; redClusters = cluster(occupiedRed);\r\n\r\nFor completeness, here is a compilable working version.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class ConnComp{\r\n    static void printArray(int[][] arr){\r\n        for(int[] row: arr){\r\n            for(int i: row){\r\n                System.out.printf(&quot;%3d&quot;,i);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    static void printArray(boolean[][] arr){\r\n        for(boolean[] row: arr){\r\n            for(boolean i: row){\r\n                System.out.print(i ? &quot;  t&quot; : &quot;  f&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    static Map&lt;Integer, List&lt;int[]&gt;&gt; cluster( boolean[][] occupied ){\r\n        int n = occupied.length;\r\n        int[][] label = new int[n][n];\r\n        int last = 1;\r\n        List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\r\n\r\n        //first pass\r\n        for(int i = 0; i&lt;n; i++){\r\n            for(int j = 0; j&lt;n; j++){\r\n                if(occupied[i][j]){\r\n                    //4 way connectivity.\r\n                    int north = 0;\r\n                    int west = 0;\r\n                    int next = 0;\r\n                    if( i &gt; 0 &amp;&amp; occupied[i-1][j]){\r\n                        west = label[i-1][j];\r\n                    }\r\n                    if( j &gt; 0 &amp;&amp; occupied[i][j-1]){\r\n                        north = label[i][j-1];\r\n                    }\r\n                    if(west != 0){\r\n                        if(north != 0){\r\n                            //two labelled regions.\r\n                            if(north == west){\r\n                                //they&#39;re the same, it&#39;s ok.\r\n                                next = north;\r\n                            } else if(north &lt; west){\r\n                                //label it with the minimum one\r\n                                next = north;\r\n                                touching.add( new int[]{west, north} );\r\n                            } else{\r\n                                next = west;\r\n                                touching.add( new int[]{north, west} );\r\n                            }\r\n                        } else{\r\n                            next = west;\r\n                        }\r\n                    } else if( north != 0 ){\r\n                        next = north;\r\n                    } else{\r\n                        next = last++;\r\n                    }\r\n                    label[i][j] = next; //assign the label.\r\n                } else{\r\n                    //not occupied.\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        \r\n        //map reduce\r\n        Comparator&lt;int[]&gt; c = Comparator.comparingInt( arr -&gt; arr[0] );\r\n        Comparator&lt;int[]&gt; c2 = Comparator.comparingInt( arr -&gt; arr[1] );\r\n        c = c.thenComparing(c2);\r\n        \r\n        touching.sort( c );\r\n        List&lt;TreeSet&lt;Integer&gt;&gt; clusters = new ArrayList&lt;&gt;();\r\n        \r\n        for(int[] pair: touching){\r\n            TreeSet&lt;Integer&gt; pair0 = null;\r\n            TreeSet&lt;Integer&gt; pair1 = null;\r\n            for(TreeSet&lt;Integer&gt; cluster: clusters){\r\n                if(cluster.contains(pair[0])){\r\n                    pair0 = cluster;\r\n                }\r\n                if(cluster.contains(pair[1])){\r\n                    pair1 = cluster;\r\n                }\r\n            }\r\n            if( pair0 == null &amp;&amp; pair1 == null){\r\n                //new cluster\r\n                TreeSet&lt;Integer&gt; newCluster = new TreeSet&lt;&gt;();\r\n                newCluster.add(pair[0]);\r\n                newCluster.add(pair[1]);\r\n                clusters.add(newCluster);\r\n            } else if( pair0 == null ){\r\n                pair1.add(pair[0]);\r\n            } else if( pair1 == null ){\r\n                pair0.add(pair[1]);\r\n            } else{\r\n                if(pair0 == pair1) continue;\r\n                //both labels are already in clusters but different clusters.\r\n                pair0.addAll(pair1);\r\n                clusters.remove(pair1);\r\n            }\r\n        }\r\n        \r\n        Map&lt;Integer, Integer&gt; fin = new HashMap&lt;&gt;();\r\n        for( TreeSet&lt;Integer&gt; cluster: clusters){\r\n            Integer low = cluster.first();\r\n            for(Integer i: cluster){\r\n                fin.put(i, low);\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        System.out.println(&quot;occupied&quot;);\r\n        printArray(occupied);\r\n        System.out.println(&quot;labelled&quot;);\r\n        printArray(label);\r\n        \r\n        Map&lt;Integer, List&lt;int[]&gt;&gt; result = new HashMap&lt;&gt;();\r\n        //second pass\r\n        for(int i = 0; i&lt;n; i++){\r\n            for(int j = 0; j&lt;n; j++){\r\n                if( occupied[i][j] ){\r\n                    Integer f = fin.computeIfAbsent( label[i][j], k -&gt; k );\r\n                    result.computeIfAbsent( f, k -&gt; new ArrayList&lt;&gt;() ).add( new int[]{i, j} );\r\n                    label[i][j] = f;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;after labelling&quot;);\r\n        \r\n        printArray(label);        \r\n        \r\n        return result;\r\n    }\r\n    \r\n    static Random r = new Random(42);\r\n    static boolean[][] getBoard(){\r\n        int n = 9;\r\n        boolean[][] board = new boolean[n][n];\r\n        for(int i = 0; i&lt;50; i++){\r\n            int x = r.nextInt(n);\r\n            int y = r.nextInt(n);\r\n            board[x][y] = true;\r\n        }\r\n        return board;\r\n    }\r\n    \r\n    public static void main(String[] args){\r\n        \r\n        cluster(getBoard());\r\n        cluster(getBoard());\r\n        \r\n    }\r\n}\r\n```","title":"Checking number of adjacent tiles belonging to a player and calculating the score","body":"<p>You're essentially going to do a connected components algorithm. The input will be with you 9x9 truth table for <strong>one of the colors</strong>.</p>\n<pre><code>static Map&lt;Integer, List&lt;int[]&gt;&gt; cluster( boolean[][] occupied )\n</code></pre>\n<p>This is a <a href=\"https://en.wikipedia.org/wiki/Connected-component_labeling#Graphical_example_of_two-pass_algorithm\" rel=\"nofollow noreferrer\">2-pass connect component algorithm</a>. The first pass we go through and make preliminary labels, we also create a &quot;touching&quot; list that keeps track of regions adjacent to each other.</p>\n<pre><code>    int n = occupied.length;\n    int[][] label = new int[n][n];\n    int last = 1;\n    List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\n\n    //first pass\n    for(int i = 0; i&lt;n; i++){\n        for(int j = 0; j&lt;n; j++){\n            if(occupied[i][j]){\n                //4 way connectivity.\n                int north = 0;\n                int west = 0;\n                int next = 0;\n                if( i &gt; 0 &amp;&amp; occupied[i-1][j]){\n                    west = label[i-1][j];\n                }\n                if( j &gt; 0 &amp;&amp; occupied[i][j-1]){\n                    north = label[i][j-1];\n                }\n                if(west != 0){\n                    if(north != 0){\n                        //two labelled regions.\n                        if(north == west){\n                            //they're the same, it's ok.\n                            next = north;\n                        } else if(north &lt; west){\n                            //label it with the minimum one\n                            next = north;\n                            touching.add( new int[]{west, north} );\n                        } else{\n                            next = west;\n                            touching.add( new int[]{north, west} );\n                        }\n                    } else{\n                        next = west;\n                    }\n                } else if( north != 0 ){\n                    next = north;\n                } else{\n                    next = last++;\n                }\n                label[i][j] = next; //assign the label.\n            } else{\n                //not occupied.\n                continue;\n            }\n        }\n    }\n</code></pre>\n<p>That is the first pass, at the end of the first pass the regions are labelled, but there are touching regions that need to be merged. That can be done with the <code>touching</code> list, but it needs to be refined a bit.</p>\n<p>This first step merges all of the touching labels in to associated clusters.</p>\n<pre><code>    List&lt;TreeSet&lt;Integer&gt;&gt; clusters = new ArrayList&lt;&gt;();\n    \n    for(int[] pair: touching){\n        TreeSet&lt;Integer&gt; pair0 = null;\n        TreeSet&lt;Integer&gt; pair1 = null;\n        for(TreeSet&lt;Integer&gt; cluster: clusters){\n            if(cluster.contains(pair[0])){\n                pair0 = cluster;\n            }\n            if(cluster.contains(pair[1])){\n                pair1 = cluster;\n            }\n        }\n        if( pair0 == null &amp;&amp; pair1 == null){\n            //new cluster\n            TreeSet&lt;Integer&gt; newCluster = new TreeSet&lt;&gt;();\n            newCluster.add(pair[0]);\n            newCluster.add(pair[1]);\n            clusters.add(newCluster);\n        } else if( pair0 == null ){\n            pair1.add(pair[0]);\n        } else if( pair1 == null ){\n            pair0.add(pair[1]);\n        } else{\n            if(pair0 == pair1) continue;\n            //both labels are already in clusters but different clusters.\n            pair0.addAll(pair1);\n            clusters.remove(pair1);\n        }\n    }\n</code></pre>\n<p>This goes through and creates a mapping, so that all of the values in a cluster will map to the lowest value.</p>\n<pre><code>    Map&lt;Integer, Integer&gt; fin = new HashMap&lt;&gt;();\n    for( TreeSet&lt;Integer&gt; cluster: clusters){\n        Integer low = cluster.first();\n        for(Integer i: cluster){\n            fin.put(i, low);\n        }\n    }\n</code></pre>\n<p>Second pass is just a matter of associating the labels to their keys.</p>\n<pre><code>    Map&lt;Integer, List&lt;int[]&gt;&gt; result = new HashMap&lt;&gt;();\n    //second pass\n    for(int i = 0; i&lt;n; i++){\n        for(int j = 0; j&lt;n; j++){\n            if( occupied[i][j] ){\n                Integer f = fin.computeIfAbsent( label[i][j], k -&gt; k );\n                result.computeIfAbsent( f, k -&gt; new ArrayList&lt;&gt;() ).add( new int[]{i, j} );\n                label[i][j] = f;\n            }\n        }\n    }\n</code></pre>\n<p>Result will contain the label and a collection of int[] that represent all of the points. To use this.</p>\n<pre><code>Map&lt;Integer, List&lt;int[]&gt;&gt; whiteClusters = cluster(occupiedWhite);\nMap&lt;Integer, List&lt;int[]&gt;&gt; redClusters = cluster(occupiedRed);\n</code></pre>\n<p>For completeness, here is a compilable working version.</p>\n<pre><code>import java.util.*;\n\npublic class ConnComp{\n    static void printArray(int[][] arr){\n        for(int[] row: arr){\n            for(int i: row){\n                System.out.printf(&quot;%3d&quot;,i);\n            }\n            System.out.println();\n        }\n    }\n    \n    static void printArray(boolean[][] arr){\n        for(boolean[] row: arr){\n            for(boolean i: row){\n                System.out.print(i ? &quot;  t&quot; : &quot;  f&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    static Map&lt;Integer, List&lt;int[]&gt;&gt; cluster( boolean[][] occupied ){\n        int n = occupied.length;\n        int[][] label = new int[n][n];\n        int last = 1;\n        List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\n\n        //first pass\n        for(int i = 0; i&lt;n; i++){\n            for(int j = 0; j&lt;n; j++){\n                if(occupied[i][j]){\n                    //4 way connectivity.\n                    int north = 0;\n                    int west = 0;\n                    int next = 0;\n                    if( i &gt; 0 &amp;&amp; occupied[i-1][j]){\n                        west = label[i-1][j];\n                    }\n                    if( j &gt; 0 &amp;&amp; occupied[i][j-1]){\n                        north = label[i][j-1];\n                    }\n                    if(west != 0){\n                        if(north != 0){\n                            //two labelled regions.\n                            if(north == west){\n                                //they're the same, it's ok.\n                                next = north;\n                            } else if(north &lt; west){\n                                //label it with the minimum one\n                                next = north;\n                                touching.add( new int[]{west, north} );\n                            } else{\n                                next = west;\n                                touching.add( new int[]{north, west} );\n                            }\n                        } else{\n                            next = west;\n                        }\n                    } else if( north != 0 ){\n                        next = north;\n                    } else{\n                        next = last++;\n                    }\n                    label[i][j] = next; //assign the label.\n                } else{\n                    //not occupied.\n                    continue;\n                }\n            }\n        }\n        \n        //map reduce\n        Comparator&lt;int[]&gt; c = Comparator.comparingInt( arr -&gt; arr[0] );\n        Comparator&lt;int[]&gt; c2 = Comparator.comparingInt( arr -&gt; arr[1] );\n        c = c.thenComparing(c2);\n        \n        touching.sort( c );\n        List&lt;TreeSet&lt;Integer&gt;&gt; clusters = new ArrayList&lt;&gt;();\n        \n        for(int[] pair: touching){\n            TreeSet&lt;Integer&gt; pair0 = null;\n            TreeSet&lt;Integer&gt; pair1 = null;\n            for(TreeSet&lt;Integer&gt; cluster: clusters){\n                if(cluster.contains(pair[0])){\n                    pair0 = cluster;\n                }\n                if(cluster.contains(pair[1])){\n                    pair1 = cluster;\n                }\n            }\n            if( pair0 == null &amp;&amp; pair1 == null){\n                //new cluster\n                TreeSet&lt;Integer&gt; newCluster = new TreeSet&lt;&gt;();\n                newCluster.add(pair[0]);\n                newCluster.add(pair[1]);\n                clusters.add(newCluster);\n            } else if( pair0 == null ){\n                pair1.add(pair[0]);\n            } else if( pair1 == null ){\n                pair0.add(pair[1]);\n            } else{\n                if(pair0 == pair1) continue;\n                //both labels are already in clusters but different clusters.\n                pair0.addAll(pair1);\n                clusters.remove(pair1);\n            }\n        }\n        \n        Map&lt;Integer, Integer&gt; fin = new HashMap&lt;&gt;();\n        for( TreeSet&lt;Integer&gt; cluster: clusters){\n            Integer low = cluster.first();\n            for(Integer i: cluster){\n                fin.put(i, low);\n            }\n        }\n        \n        \n        \n        System.out.println(&quot;occupied&quot;);\n        printArray(occupied);\n        System.out.println(&quot;labelled&quot;);\n        printArray(label);\n        \n        Map&lt;Integer, List&lt;int[]&gt;&gt; result = new HashMap&lt;&gt;();\n        //second pass\n        for(int i = 0; i&lt;n; i++){\n            for(int j = 0; j&lt;n; j++){\n                if( occupied[i][j] ){\n                    Integer f = fin.computeIfAbsent( label[i][j], k -&gt; k );\n                    result.computeIfAbsent( f, k -&gt; new ArrayList&lt;&gt;() ).add( new int[]{i, j} );\n                    label[i][j] = f;\n                }\n            }\n        }\n        System.out.println(&quot;after labelling&quot;);\n        \n        printArray(label);        \n        \n        return result;\n    }\n    \n    static Random r = new Random(42);\n    static boolean[][] getBoard(){\n        int n = 9;\n        boolean[][] board = new boolean[n][n];\n        for(int i = 0; i&lt;50; i++){\n            int x = r.nextInt(n);\n            int y = r.nextInt(n);\n            board[x][y] = true;\n        }\n        return board;\n    }\n    \n    public static void main(String[] args){\n        \n        cluster(getBoard());\n        cluster(getBoard());\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27841046,"reputation":13,"user_id":21257529,"display_name":"Roman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75520626,"answer_count":1,"score":0,"last_activity_date":1677057623,"creation_date":1676978502,"question_id":75519800,"body_markdown":"So, I am trying to work out how many adjacent tiles there are for each player and calculate a total score. Calculating the score works by counting how many adjacent tiles (adjacent means sharing an edge not diagonally) there are per territory, multiplying that number by itself and adding the values of all the territories together.\r\n\r\n\r\nSo far I have the code below, which splits all the spaces out per player and can print whether or not a space is occupied by the player but I am stuck on calculating how many tiles are adjacent to each other.\r\n\r\n\r\n        public void calculate(PowerToken[][] allTokens){\r\n                boolean[][] occupiedRed = new boolean[9][9];\r\n                boolean[][] occupiedWhite = new boolean[9][9];\r\n        \r\n                boolean[][] countedRed = new boolean[9][9];\r\n                boolean[][] countedWhite = new boolean[9][9];\r\n        \r\n                for (int i = 0; i &lt; 9; i++){\r\n                    for (int j = 0; j &lt; 9; j++){\r\n                        if (allTokens[i][j].isOnBoard()) {\r\n                            if (allTokens[i][j].getPlayerColor() == Color.RED){\r\n                                occupiedRed[i][j] = true;\r\n                            } else {\r\n                                occupiedWhite[i][j] = true;\r\n                            }\r\n                        }\r\n                    }\r\n            }\r\n    \r\n    \r\n    \r\n            // Test printing\r\n            for (int i = 0; i &lt; 9; i++){\r\n                for (int j = 0; j &lt; 9; j++){\r\n                    System.out.print(occupiedWhite[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            System.out.println();\r\n    \r\n            for (int i = 0; i &lt; 9; i++){\r\n                for (int j = 0; j &lt; 9; j++){\r\n                    System.out.print(occupiedRed[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n\r\n\r\n**Power Token Class**\r\n\r\n    public class PowerToken {\r\n        private int positionX;\r\n        private int positionY;\r\n    \r\n        private boolean onBoard;\r\n    \r\n        private Color playerColor;\r\n    \r\n        public PowerToken(int positionX, int positionY) {\r\n            setPositionX(positionX);\r\n            setPositionY(positionY);\r\n        }\r\n    \r\n        public PowerToken(int positionX, int positionY, boolean onBoard, Color playerColor) {\r\n            setPositionX(positionX);\r\n            setPositionY(positionY);\r\n            setOnBoard(onBoard);\r\n            setPlayerColor(playerColor);\r\n        }\r\n    \r\n        public int getPositionX() {\r\n            return positionX;\r\n        }\r\n    \r\n        public void setPositionX(int positionX) {\r\n            this.positionX = positionX;\r\n        }\r\n    \r\n        public int getPositionY() {\r\n            return positionY;\r\n        }\r\n    \r\n        public void setPositionY(int positionY) {\r\n            this.positionY = positionY;\r\n        }\r\n    \r\n        public boolean isOnBoard() {\r\n            return onBoard;\r\n        }\r\n    \r\n        public void setOnBoard(boolean onBoard) {\r\n            this.onBoard = onBoard;\r\n        }\r\n    \r\n        public Color getPlayerColor() {\r\n            return playerColor;\r\n        }\r\n    \r\n        public void setPlayerColor(Color playerColor) {\r\n            this.playerColor = playerColor;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;PowerToken{&quot; +\r\n                    &quot;positionX=&quot; + positionX +\r\n                    &quot;, positionY=&quot; + positionY +\r\n                    &quot;, onBoard=&quot; + onBoard +\r\n                    &quot;, playerColor=&quot; + playerColor +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nSo for example in this image ![image][1] there are 2 sets of 3 adjacent tiles each and 1 set of 4 adjacent tiles\r\n\r\n\r\n**Update 2**\r\nThis is the code I have now, however i am getting an empty map as a result\r\n\r\n    public void calculate(PowerToken[][] allTokens){\r\n            boolean[][] occupiedRed = new boolean[9][9];\r\n            boolean[][] occupiedWhite = new boolean[9][9];\r\n    \r\n            boolean[][] countedRed = new boolean[9][9];\r\n            boolean[][] countedWhite = new boolean[9][9];\r\n    \r\n            int scoreRed;\r\n            int scoreWhite;\r\n    \r\n            for (int i = 0; i &lt; 9; i++){\r\n                for (int j = 0; j &lt; 9; j++){\r\n                    if (allTokens[i][j].isOnBoard()) {\r\n                        if (allTokens[i][j].getPlayerColor() == Color.RED){\r\n                            occupiedRed[i][j] = true;\r\n                        } else {\r\n                            occupiedWhite[i][j] = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            List&lt;List&lt;Point&gt;&gt; clusters = new ArrayList&lt;&gt;();\r\n    \r\n            int n = occupiedRed.length;\r\n            int[][] label = new int[n][n];\r\n            int last = 1;\r\n            List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\r\n    \r\n            //first pass\r\n            for(int i = 1; i&lt;n; i++){\r\n                for(int j = 1; j&lt;n; j++){\r\n                    if(occupiedRed[i][j]){\r\n                        //4 way connectivity.\r\n                        int north = 0;\r\n                        int west = 0;\r\n                        int next = 0;\r\n                        if( i-1 &gt; 0 &amp;&amp; occupiedRed[i-1][j]){\r\n                            west = label[i-1][j];\r\n                        }\r\n                        if( j-1 &lt; 0 &amp;&amp; occupiedRed[i][j-1]){\r\n                            north = label[i][j-1];\r\n                        }\r\n                        if(west != 0){\r\n                            if(north != 0){\r\n                                if(north == west){\r\n                                    next = north;\r\n                                } else if(north &lt; west){\r\n                                    next = north;\r\n                                    touching.add( new int[]{north, west} );\r\n                                } else{\r\n                                    next = west;\r\n                                    touching.add( new int[]{west, north} );\r\n                                }\r\n                            } else{\r\n                                next = west;\r\n                            }\r\n                        } else if( north != 0 ){\r\n                            next = north;\r\n                        } else{\r\n                            next = last++;\r\n                        }\r\n                    } else{\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            Map&lt;Integer, Integer&gt; map = touching.stream()\r\n                    .collect(Collectors.toMap(\r\n                            arr -&gt; arr[0],  // key mapping function\r\n                            arr -&gt; arr[1]   // value mapping function\r\n                    ));\r\n    \r\n            System.out.println(map);\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/USkv6.png","title":"Checking number of adjacent tiles belonging to a player and calculating the score","body":"<p>So, I am trying to work out how many adjacent tiles there are for each player and calculate a total score. Calculating the score works by counting how many adjacent tiles (adjacent means sharing an edge not diagonally) there are per territory, multiplying that number by itself and adding the values of all the territories together.</p>\n<p>So far I have the code below, which splits all the spaces out per player and can print whether or not a space is occupied by the player but I am stuck on calculating how many tiles are adjacent to each other.</p>\n<pre><code>    public void calculate(PowerToken[][] allTokens){\n            boolean[][] occupiedRed = new boolean[9][9];\n            boolean[][] occupiedWhite = new boolean[9][9];\n    \n            boolean[][] countedRed = new boolean[9][9];\n            boolean[][] countedWhite = new boolean[9][9];\n    \n            for (int i = 0; i &lt; 9; i++){\n                for (int j = 0; j &lt; 9; j++){\n                    if (allTokens[i][j].isOnBoard()) {\n                        if (allTokens[i][j].getPlayerColor() == Color.RED){\n                            occupiedRed[i][j] = true;\n                        } else {\n                            occupiedWhite[i][j] = true;\n                        }\n                    }\n                }\n        }\n\n\n\n        // Test printing\n        for (int i = 0; i &lt; 9; i++){\n            for (int j = 0; j &lt; 9; j++){\n                System.out.print(occupiedWhite[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println();\n\n        for (int i = 0; i &lt; 9; i++){\n            for (int j = 0; j &lt; 9; j++){\n                System.out.print(occupiedRed[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n<p><strong>Power Token Class</strong></p>\n<pre><code>public class PowerToken {\n    private int positionX;\n    private int positionY;\n\n    private boolean onBoard;\n\n    private Color playerColor;\n\n    public PowerToken(int positionX, int positionY) {\n        setPositionX(positionX);\n        setPositionY(positionY);\n    }\n\n    public PowerToken(int positionX, int positionY, boolean onBoard, Color playerColor) {\n        setPositionX(positionX);\n        setPositionY(positionY);\n        setOnBoard(onBoard);\n        setPlayerColor(playerColor);\n    }\n\n    public int getPositionX() {\n        return positionX;\n    }\n\n    public void setPositionX(int positionX) {\n        this.positionX = positionX;\n    }\n\n    public int getPositionY() {\n        return positionY;\n    }\n\n    public void setPositionY(int positionY) {\n        this.positionY = positionY;\n    }\n\n    public boolean isOnBoard() {\n        return onBoard;\n    }\n\n    public void setOnBoard(boolean onBoard) {\n        this.onBoard = onBoard;\n    }\n\n    public Color getPlayerColor() {\n        return playerColor;\n    }\n\n    public void setPlayerColor(Color playerColor) {\n        this.playerColor = playerColor;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PowerToken{&quot; +\n                &quot;positionX=&quot; + positionX +\n                &quot;, positionY=&quot; + positionY +\n                &quot;, onBoard=&quot; + onBoard +\n                &quot;, playerColor=&quot; + playerColor +\n                '}';\n    }\n}\n</code></pre>\n<p>So for example in this image <img src=\"https://i.stack.imgur.com/USkv6.png\" alt=\"image\" /> there are 2 sets of 3 adjacent tiles each and 1 set of 4 adjacent tiles</p>\n<p><strong>Update 2</strong>\nThis is the code I have now, however i am getting an empty map as a result</p>\n<pre><code>public void calculate(PowerToken[][] allTokens){\n        boolean[][] occupiedRed = new boolean[9][9];\n        boolean[][] occupiedWhite = new boolean[9][9];\n\n        boolean[][] countedRed = new boolean[9][9];\n        boolean[][] countedWhite = new boolean[9][9];\n\n        int scoreRed;\n        int scoreWhite;\n\n        for (int i = 0; i &lt; 9; i++){\n            for (int j = 0; j &lt; 9; j++){\n                if (allTokens[i][j].isOnBoard()) {\n                    if (allTokens[i][j].getPlayerColor() == Color.RED){\n                        occupiedRed[i][j] = true;\n                    } else {\n                        occupiedWhite[i][j] = true;\n                    }\n                }\n            }\n        }\n\n        List&lt;List&lt;Point&gt;&gt; clusters = new ArrayList&lt;&gt;();\n\n        int n = occupiedRed.length;\n        int[][] label = new int[n][n];\n        int last = 1;\n        List&lt;int[]&gt; touching = new ArrayList&lt;&gt;();\n\n        //first pass\n        for(int i = 1; i&lt;n; i++){\n            for(int j = 1; j&lt;n; j++){\n                if(occupiedRed[i][j]){\n                    //4 way connectivity.\n                    int north = 0;\n                    int west = 0;\n                    int next = 0;\n                    if( i-1 &gt; 0 &amp;&amp; occupiedRed[i-1][j]){\n                        west = label[i-1][j];\n                    }\n                    if( j-1 &lt; 0 &amp;&amp; occupiedRed[i][j-1]){\n                        north = label[i][j-1];\n                    }\n                    if(west != 0){\n                        if(north != 0){\n                            if(north == west){\n                                next = north;\n                            } else if(north &lt; west){\n                                next = north;\n                                touching.add( new int[]{north, west} );\n                            } else{\n                                next = west;\n                                touching.add( new int[]{west, north} );\n                            }\n                        } else{\n                            next = west;\n                        }\n                    } else if( north != 0 ){\n                        next = north;\n                    } else{\n                        next = last++;\n                    }\n                } else{\n                    continue;\n                }\n            }\n        }\n\n\n        Map&lt;Integer, Integer&gt; map = touching.stream()\n                .collect(Collectors.toMap(\n                        arr -&gt; arr[0],  // key mapping function\n                        arr -&gt; arr[1]   // value mapping function\n                ));\n\n        System.out.println(map);\n    }\n</code></pre>\n"},{"tags":["java","gradle","tomcat","gradle-dependencies"],"comments":[{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1677003910,"post_id":75518174,"comment_id":133250000,"body_markdown":"Just to clarify, you wrote you want tomcatLib in the tomcat lib folder, but in the tree listing (second one), it is contained in webapp/lib. I suppose that tree listing is not correct?","body":"Just to clarify, you wrote you want tomcatLib in the tomcat lib folder, but in the tree listing (second one), it is contained in webapp/lib. I suppose that tree listing is not correct?"},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1677054238,"post_id":75518174,"comment_id":133259552,"body_markdown":"sorry, I forgot to remove that one as well, will adjust it","body":"sorry, I forgot to remove that one as well, will adjust it"}],"answers":[{"tags":[],"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677008299,"creation_date":1677008299,"answer_id":75525122,"question_id":75518174,"body_markdown":"Use the Gradle War Plugin.\r\n\r\n    plugins {\r\n        id &#39;war&#39;\r\n    }\r\n\r\nIt adds two dependency configurations, `providedCompile` and `providedRuntime`, which cause the dependency not to be included in the war file. Configure your dependencies as necessary, for example:\r\n\r\n    dependencies {\r\n\t    providedRuntime &#39;tomcatLib&#39;\r\n        providedCompile &#39;org.apache.commons:commons-text:1.10.0&#39;\r\n        ...\r\n    }\r\n\r\nAs far as copying jars to the Tomcat lib directory is concerned, you can use the Copy task. See [Working With Files][1] in the Gradle docs for a good introduction how to do that. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/working_with_files.html","title":"How to configure gradle dependency for tomcat lib folder?","body":"<p>Use the Gradle War Plugin.</p>\n<pre><code>plugins {\n    id 'war'\n}\n</code></pre>\n<p>It adds two dependency configurations, <code>providedCompile</code> and <code>providedRuntime</code>, which cause the dependency not to be included in the war file. Configure your dependencies as necessary, for example:</p>\n<pre><code>dependencies {\n    providedRuntime 'tomcatLib'\n    providedCompile 'org.apache.commons:commons-text:1.10.0'\n    ...\n}\n</code></pre>\n<p>As far as copying jars to the Tomcat lib directory is concerned, you can use the Copy task. See <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html\" rel=\"nofollow noreferrer\">Working With Files</a> in the Gradle docs for a good introduction how to do that.</p>\n"}],"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677057621,"creation_date":1676969715,"question_id":75518174,"body_markdown":"Hi have a multiproject where I want one of the libs to be in the tomcat lib folder (usually would be log4j or some other common lib). Code is available at [github](https://github.com/i23098/gradle8experiment) and dependencies are:\r\n\r\n- regularLibA depends on commons-text\r\n- regularLibB depends on commons-text and commons-lang3\r\n- tomcatLib depends on regularLibA\r\n- webApp depends on regularLibA, regularLibB and tomcatLib\r\n\r\nWith the simple build files/dependencies, the generated war file is:\r\n\r\n```\r\nwebApp\r\n‚îú‚îÄ‚îÄ index.jsp\r\n‚îî‚îÄ‚îÄ WEB-INF\r\n    ‚îú‚îÄ‚îÄ classes\r\n    ‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ com\r\n    ‚îÇ&#160;&#160;     ‚îî‚îÄ‚îÄ github\r\n    ‚îÇ&#160;&#160;         ‚îî‚îÄ‚îÄ i23098\r\n    ‚îÇ&#160;&#160;             ‚îî‚îÄ‚îÄ web\r\n    ‚îÇ&#160;&#160;                 ‚îî‚îÄ‚îÄ W.class\r\n    ‚îî‚îÄ‚îÄ lib\r\n        ‚îú‚îÄ‚îÄ commons-lang3-3.12.0.jar\r\n        ‚îú‚îÄ‚îÄ commons-text-1.10.0.jar\r\n        ‚îú‚îÄ‚îÄ regularLibA.jar\r\n        ‚îú‚îÄ‚îÄ regularLibB.jar\r\n        ‚îî‚îÄ‚îÄ tomcatLib.jar\r\n```\r\n\r\nHow to configure gradle so that tomcatLib project is to be in the tomcat lib folder, so, the jar and it&#39;s dependencies should not be added to the war file? i.e. the generated war file should be:\r\n\r\n```\r\nwebApp\r\n‚îú‚îÄ‚îÄ index.jsp\r\n‚îî‚îÄ‚îÄ WEB-INF\r\n    ‚îú‚îÄ‚îÄ classes\r\n    ‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ com\r\n    ‚îÇ&#160;&#160;     ‚îî‚îÄ‚îÄ github\r\n    ‚îÇ&#160;&#160;         ‚îî‚îÄ‚îÄ i23098\r\n    ‚îÇ&#160;&#160;             ‚îî‚îÄ‚îÄ web\r\n    ‚îÇ&#160;&#160;                 ‚îî‚îÄ‚îÄ W.class\r\n    ‚îî‚îÄ‚îÄ lib\r\n        ‚îú‚îÄ‚îÄ commons-lang3-3.12.0.jar\r\n        ‚îî‚îÄ‚îÄ regularLibB.jar\r\n```\r\n\r\nAlso, how to create copy task of those files (tomcatLib.jar, regularLibA.jar and commons-text-1.10.0.jar) to the tomcat lib folder (i.e. how to get the list of excluded files from the war)?","title":"How to configure gradle dependency for tomcat lib folder?","body":"<p>Hi have a multiproject where I want one of the libs to be in the tomcat lib folder (usually would be log4j or some other common lib). Code is available at <a href=\"https://github.com/i23098/gradle8experiment\" rel=\"nofollow noreferrer\">github</a> and dependencies are:</p>\n<ul>\n<li>regularLibA depends on commons-text</li>\n<li>regularLibB depends on commons-text and commons-lang3</li>\n<li>tomcatLib depends on regularLibA</li>\n<li>webApp depends on regularLibA, regularLibB and tomcatLib</li>\n</ul>\n<p>With the simple build files/dependencies, the generated war file is:</p>\n<pre><code>webApp\n‚îú‚îÄ‚îÄ index.jsp\n‚îî‚îÄ‚îÄ WEB-INF\n    ‚îú‚îÄ‚îÄ classes\n    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ com\n    ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ github\n    ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ i23098\n    ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ web\n    ‚îÇ¬†¬†                 ‚îî‚îÄ‚îÄ W.class\n    ‚îî‚îÄ‚îÄ lib\n        ‚îú‚îÄ‚îÄ commons-lang3-3.12.0.jar\n        ‚îú‚îÄ‚îÄ commons-text-1.10.0.jar\n        ‚îú‚îÄ‚îÄ regularLibA.jar\n        ‚îú‚îÄ‚îÄ regularLibB.jar\n        ‚îî‚îÄ‚îÄ tomcatLib.jar\n</code></pre>\n<p>How to configure gradle so that tomcatLib project is to be in the tomcat lib folder, so, the jar and it's dependencies should not be added to the war file? i.e. the generated war file should be:</p>\n<pre><code>webApp\n‚îú‚îÄ‚îÄ index.jsp\n‚îî‚îÄ‚îÄ WEB-INF\n    ‚îú‚îÄ‚îÄ classes\n    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ com\n    ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ github\n    ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ i23098\n    ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ web\n    ‚îÇ¬†¬†                 ‚îî‚îÄ‚îÄ W.class\n    ‚îî‚îÄ‚îÄ lib\n        ‚îú‚îÄ‚îÄ commons-lang3-3.12.0.jar\n        ‚îî‚îÄ‚îÄ regularLibB.jar\n</code></pre>\n<p>Also, how to create copy task of those files (tomcatLib.jar, regularLibA.jar and commons-text-1.10.0.jar) to the tomcat lib folder (i.e. how to get the list of excluded files from the war)?</p>\n"},{"tags":["java","android","camera"],"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677057511,"creation_date":1677057511,"question_id":75530508,"body_markdown":"I have a problem with the built-in camera for which CameraView is used, and more precisely when starting the recording. When I start recording for the first time, I get the following error. The second and subsequent times it&#39;s ok. I&#39;m also sending some code below.\r\n\r\n\r\n```\r\nD/Camera: app passed NULL surface\r\nW/CameraViewEngin: type=1400 audit(0.0:1457): avc: denied { read } for name=&quot;u:object_r:persist_camera_prop:s0&quot; dev=&quot;tmpfs&quot; ino=12032 scontext=u:r:untrusted_app:s0:c59,c257,c512,c768 tcontext=u:object_r:persist_camera_prop:s0 tclass=file permissive=0\r\nE/libc: Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\r\n```\r\n\r\n\r\n\r\n```\r\n    private CameraView cameraView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n...\r\n        cameraView = findViewById(R.id.camera);\r\n        cameraView.setLifecycleOwner(this);\r\n...\r\ncameraView.takeVideo(file, time);\r\n```\r\n\r\n\r\n\r\nI already have all the necessary permissions set.","title":"Error with CameraView in android app, app passed null surface, avc: denied {read} 1400","body":"<p>I have a problem with the built-in camera for which CameraView is used, and more precisely when starting the recording. When I start recording for the first time, I get the following error. The second and subsequent times it's ok. I'm also sending some code below.</p>\n<pre><code>D/Camera: app passed NULL surface\nW/CameraViewEngin: type=1400 audit(0.0:1457): avc: denied { read } for name=&quot;u:object_r:persist_camera_prop:s0&quot; dev=&quot;tmpfs&quot; ino=12032 scontext=u:r:untrusted_app:s0:c59,c257,c512,c768 tcontext=u:object_r:persist_camera_prop:s0 tclass=file permissive=0\nE/libc: Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\n</code></pre>\n<pre><code>    private CameraView cameraView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n...\n        cameraView = findViewById(R.id.camera);\n        cameraView.setLifecycleOwner(this);\n...\ncameraView.takeVideo(file, time);\n</code></pre>\n<p>I already have all the necessary permissions set.</p>\n"},{"tags":["java","multithreading","guava"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1552979650,"post_id":55234771,"comment_id":97204087,"body_markdown":"It&#39;s unclear, but sounds like you&#39;re saying that the `RemovalHander` races with the `CacheLoader` to see some shared state. If you need to have the removal handler synchronously called prior to the load, you could use Caffeine&#39;s `CacheWriter`. In regards to `cleanUp`, it is mostly for testing or should be called periodically but wouldn&#39;t fix a race if that&#39;s the underlying problem.","body":"It&#39;s unclear, but sounds like you&#39;re saying that the <code>RemovalHander</code> races with the <code>CacheLoader</code> to see some shared state. If you need to have the removal handler synchronously called prior to the load, you could use Caffeine&#39;s <code>CacheWriter</code>. In regards to <code>cleanUp</code>, it is mostly for testing or should be called periodically but wouldn&#39;t fix a race if that&#39;s the underlying problem."},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":0,"creation_date":1552981076,"post_id":55234771,"comment_id":97204677,"body_markdown":"Thanks  updated post to make  it more clear.","body":"Thanks  updated post to make  it more clear."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1552981251,"post_id":55234771,"comment_id":97204763,"body_markdown":"Usually the race is okay, but if not then you‚Äôd have to handle the race somehow or consider switching to Caffeine.","body":"Usually the race is okay, but if not then you‚Äôd have to handle the race somehow or consider switching to Caffeine."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1552981400,"post_id":55234771,"comment_id":97204823,"body_markdown":"Are you saying the cache is returning expired data? That doesn&#39;t sound right...","body":"Are you saying the cache is returning expired data? That doesn&#39;t sound right..."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1552981704,"post_id":55234771,"comment_id":97204948,"body_markdown":"@shmosel I think he needs the removal listener to complete before the loader starts, which isn‚Äôt supported by Guava","body":"@shmosel I think he needs the removal listener to complete before the loader starts, which isn‚Äôt supported by Guava"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1552981763,"post_id":55234771,"comment_id":97204978,"body_markdown":"What does `RemovalHandler` do?","body":"What does <code>RemovalHandler</code> do?"},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":0,"creation_date":1552982773,"post_id":55234771,"comment_id":97205429,"body_markdown":"@Ben Manes You understood my question correctly. You are suggesting to use  caffeine but I read its  documentation and  cleanup policy looks  completely similar to Guava cache: https://github.com/ben-manes/caffeine/wiki/Cleanup\n\nOn a side note, I just noticed you are the same Ben who worked on caffeine development. :)","body":"@Ben Manes You understood my question correctly. You are suggesting to use  caffeine but I read its  documentation and  cleanup policy looks  completely similar to Guava cache: <a href=\"https://github.com/ben-manes/caffeine/wiki/Cleanup\" rel=\"nofollow noreferrer\">github.com/ben-manes/caffeine/wiki/Cleanup</a>  On a side note, I just noticed you are the same Ben who worked on caffeine development. :)"},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":0,"creation_date":1552982826,"post_id":55234771,"comment_id":97205456,"body_markdown":"@shmosel: RemovalHandler do some clean-up work e.g. closing open subscription from where I am getting data to populate cache.","body":"@shmosel: RemovalHandler do some clean-up work e.g. closing open subscription from where I am getting data to populate cache."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1552982877,"post_id":55234771,"comment_id":97205483,"body_markdown":"I also worked on Guava‚Äôs so I know its limitations &#128512;. You should look at https://github.com/ben-manes/caffeine/wiki/Writer","body":"I also worked on Guava‚Äôs so I know its limitations üòÄ. You should look at <a href=\"https://github.com/ben-manes/caffeine/wiki/Writer\" rel=\"nofollow noreferrer\">github.com/ben-manes/caffeine/wiki/Writer</a>"},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":0,"creation_date":1552984528,"post_id":55234771,"comment_id":97206320,"body_markdown":"@Ben Manes: Cool, thanks. I will take  a look  at Caffeine :)","body":"@Ben Manes: Cool, thanks. I will take  a look  at Caffeine :)"}],"answers":[{"tags":[],"owner":{"account_id":6764653,"reputation":96,"user_id":5296986,"display_name":"Aniket Nandan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677057482,"creation_date":1677057482,"answer_id":75530504,"question_id":55234771,"body_markdown":"I know its being so late to give reply to this thread, but I have some findings which may help others. Recently I am doing work with CacheBuilder and I am using Guava library (25.1) for my implementaion.\r\n\r\nAs mentioned by @G.G. that the removal operation and loading operations are being done in two separate thread due to which race condition is appearing, I have seen that Guava cache actually runs these two methods synchronously. i.e on query with expired key, cache will first call this removal listener and then only it comes to the main thread. Here is the sample code -\r\n\r\n  \r\n\t\r\n\tprivate LoadingCache&lt;String, String&gt; cache;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tCacheBuilderDemo2 cbd = new CacheBuilderDemo2();\r\n\t\t\r\n\t\tRemovalListener&lt;String, String&gt; listener = new RemovalListener&lt;String, String&gt;() {\r\n\t        @Override\r\n\t        public void onRemoval(RemovalNotification&lt;String, String&gt; n){\r\n\t        \tSystem.out.println(&quot;Came to remove for &quot; + n.getKey());\r\n\t            if (n.wasEvicted()) {\r\n\t                String cause = n.getCause().name();\r\n\t                System.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Removal &quot; + cause);\r\n\t                cbd.cache.invalidate(n.getKey());\r\n\t                System.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Invalidate happened...&quot;);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t\t\r\n\t\t\r\n\t\tCustomCacheLoader cL = cbd.new CustomCacheLoader();\r\n\t\tcbd.cache = CacheBuilder\r\n\t\t\t\t.newBuilder()\r\n\t\t\t\t.expireAfterAccess(50, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.removalListener(listener)\r\n\t\t\t\t.build(cL);\r\n\t\t\r\n\t\tcbd.cache.put(&quot;a&quot;, &quot;Old value for a&quot;);\r\n\t\ttry {\r\n\t\t\tSystem.out.println(cbd.cache.get(&quot;a&quot;));\r\n\t\t\tThread.sleep(100);\r\n\r\n\t\t\tSystem.out.println(cbd.cache.get(&quot;a&quot;));\r\n\t\t} catch (ExecutionException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class CustomCacheLoader extends CacheLoader&lt;String, String&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic String load(String key) throws Exception {\r\n\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Came to fetch... &quot; + key);\r\n\t\t\treturn &quot;New value for &quot; + key;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nAnd following is the response  - \r\n\r\n    Old value for a\r\n    Came to remove for a\r\n    [main]Removal EXPIRED\r\n    [main]Invalidate happened...\r\n    [main]Came to fetch... a\r\n    New value for a\r\n\r\nThis behavioral difference could be due to the version mismatch. Thanks for the read .\r\n\r\n","title":"Google guava LoadingCache: when should cache.cleanup() be called","body":"<p>I know its being so late to give reply to this thread, but I have some findings which may help others. Recently I am doing work with CacheBuilder and I am using Guava library (25.1) for my implementaion.</p>\n<p>As mentioned by @G.G. that the removal operation and loading operations are being done in two separate thread due to which race condition is appearing, I have seen that Guava cache actually runs these two methods synchronously. i.e on query with expired key, cache will first call this removal listener and then only it comes to the main thread. Here is the sample code -</p>\n<pre><code>private LoadingCache&lt;String, String&gt; cache;\n\npublic static void main(String[] args) {\n    CacheBuilderDemo2 cbd = new CacheBuilderDemo2();\n    \n    RemovalListener&lt;String, String&gt; listener = new RemovalListener&lt;String, String&gt;() {\n        @Override\n        public void onRemoval(RemovalNotification&lt;String, String&gt; n){\n            System.out.println(&quot;Came to remove for &quot; + n.getKey());\n            if (n.wasEvicted()) {\n                String cause = n.getCause().name();\n                System.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Removal &quot; + cause);\n                cbd.cache.invalidate(n.getKey());\n                System.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Invalidate happened...&quot;);\n            }\n        }\n    };\n    \n    \n    CustomCacheLoader cL = cbd.new CustomCacheLoader();\n    cbd.cache = CacheBuilder\n            .newBuilder()\n            .expireAfterAccess(50, TimeUnit.MILLISECONDS)\n            .removalListener(listener)\n            .build(cL);\n    \n    cbd.cache.put(&quot;a&quot;, &quot;Old value for a&quot;);\n    try {\n        System.out.println(cbd.cache.get(&quot;a&quot;));\n        Thread.sleep(100);\n\n        System.out.println(cbd.cache.get(&quot;a&quot;));\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate class CustomCacheLoader extends CacheLoader&lt;String, String&gt; {\n\n    @Override\n    public String load(String key) throws Exception {\n        System.out.println(&quot;[&quot; + Thread.currentThread().getName() +&quot;]&quot; + &quot;Came to fetch... &quot; + key);\n        return &quot;New value for &quot; + key;\n    }\n\n}\n</code></pre>\n<p>And following is the response  -</p>\n<pre><code>Old value for a\nCame to remove for a\n[main]Removal EXPIRED\n[main]Invalidate happened...\n[main]Came to fetch... a\nNew value for a\n</code></pre>\n<p>This behavioral difference could be due to the version mismatch. Thanks for the read .</p>\n"}],"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677057482,"creation_date":1552976428,"question_id":55234771,"body_markdown":"I am using LoadingCache in my project.I have  configured a RemovalListener  and CahceLoader  for the cache.\r\n\r\n\t\tLoadingCache&lt;Key, value&gt; cache = cache = (LoadingCache&lt;Key, value&gt;) CacheBuilder\r\n\t\t\t\t.newBuilder().initialCapacity(50).maximumSize(500).expireAfterAccess(4, HOURS)\r\n\t\t\t\t.removalListener(new RemovalHander())\r\n\t\t\t\t.build(new CacheLoader&lt;Key, value&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic Value load(Key request) {\r\n\t\t\t\t\t\treturn loadCache(request);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\nI am facing concurrency issue with this cache in below scenario:\r\n\r\n - On request for Key1, cache is populated with Value1\r\n - Cache is not accessed for Key1 for next 4 hours \r\n - When 4 hours are passed, Key1 is marked  as expired \r\n - After  4  hours, request comes  to access Key1 \r\n - On request for Key1(received  in **request-thread**) after 4 \r\n   hours,LoadingCache finds Key1 as  expired so it initiates a new thread(call \r\n   it **cleanup-thread)** to  do cleanup of cache for Key1  and in **request- \r\n   thread** it tries load the fresh data for Key1\r\n - As both operations remove/fetch are performed for same key i.e. Key1, \r\n   **request-thread** finds there is already an entry while **cleanup-thread** \r\n   is  removing the data.\r\n\r\nSo, in short,  RemovalHander races with the CacheLoader for Key1. \r\nI want to avoid  above case and thinking to call `cleanup()`  method of `LoadingCache`.\r\n\r\nCan you please suggest on following points :\r\n\r\n1. When should the cleanup() method be called? Periodically using some **SchedulerService** or on every request for an entry in cache?\r\n2. Is there any better way to solve  above problem?\r\n3. Is their any better replacement of GuavaCache?\r\n\r\n\r\n  ","title":"Google guava LoadingCache: when should cache.cleanup() be called","body":"<p>I am using LoadingCache in my project.I have  configured a RemovalListener  and CahceLoader  for the cache.</p>\n\n<pre><code>    LoadingCache&lt;Key, value&gt; cache = cache = (LoadingCache&lt;Key, value&gt;) CacheBuilder\n            .newBuilder().initialCapacity(50).maximumSize(500).expireAfterAccess(4, HOURS)\n            .removalListener(new RemovalHander())\n            .build(new CacheLoader&lt;Key, value&gt;() {\n                @Override\n                public Value load(Key request) {\n                    return loadCache(request);\n                }\n\n            });\n</code></pre>\n\n<p>I am facing concurrency issue with this cache in below scenario:</p>\n\n<ul>\n<li>On request for Key1, cache is populated with Value1</li>\n<li>Cache is not accessed for Key1 for next 4 hours </li>\n<li>When 4 hours are passed, Key1 is marked  as expired </li>\n<li>After  4  hours, request comes  to access Key1 </li>\n<li>On request for Key1(received  in <strong>request-thread</strong>) after 4 \nhours,LoadingCache finds Key1 as  expired so it initiates a new thread(call \nit <strong>cleanup-thread)</strong> to  do cleanup of cache for Key1  and in <strong>request- \nthread</strong> it tries load the fresh data for Key1</li>\n<li>As both operations remove/fetch are performed for same key i.e. Key1, \n<strong>request-thread</strong> finds there is already an entry while <strong>cleanup-thread</strong> \nis  removing the data.</li>\n</ul>\n\n<p>So, in short,  RemovalHander races with the CacheLoader for Key1. \nI want to avoid  above case and thinking to call <code>cleanup()</code>  method of <code>LoadingCache</code>.</p>\n\n<p>Can you please suggest on following points :</p>\n\n<ol>\n<li>When should the cleanup() method be called? Periodically using some <strong>SchedulerService</strong> or on every request for an entry in cache?</li>\n<li>Is there any better way to solve  above problem?</li>\n<li>Is their any better replacement of GuavaCache?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","jaeger","opentracing"],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677057432,"creation_date":1677057432,"question_id":75530490,"body_markdown":"I have a Spring boot application and i want to trace the webClient request with jaeger:\r\n\r\n```\r\nimplementation &quot;io.micrometer:micrometer-registry-prometheus:1.10.3&quot;\r\nimplementation &quot;org.springframework.boot:spring-boot-starter-web:2.6.6&quot;\r\nimplementation &quot;org.springframework.boot:spring-boot-starter-webflux:2.6.6&quot;\r\nimplementation &#39;io.opentracing.contrib:opentracing-spring-jaeger-web-starter:3.3.1&#39;\r\nimplementation &quot;io.opentracing.contrib:opentracing-jdbc:0.2.15&quot;\r\n```\r\n\r\nMy application.yml:\r\n```\r\nserver:\r\n  port: 4502\r\nspring:\r\n   application:\r\n    name: myServiceName\r\n  datasource:\r\n    url: jdbc:tracing:sqlserver:xxxx\r\n    username: sssr\r\n    password: blabla\r\n    driver-class-name: io.opentracing.contrib.jdbc.TracingDriver \r\n\r\nopentracing:\r\n  jaeger:\r\n    enabled: true\r\n    service-name: myServiceName\r\n    log-spans: true\r\n    udp-sender:\r\n      port: 31683\r\n      host: a.b.asd.wq\r\n    http-sender:\r\n      url: http://a.b.asd.wq:31268/api/traces\r\n```\r\n\r\nmy webClient request:\r\n```\r\nString response = webClient.get()\r\n                                    .uri(url)\r\n                                    .retrieve()\r\n                                    .bodyToMono(String.class)\r\n                                    .block();\r\n```\r\n\r\ni send a request to `http://127.0.0.1:4502/` and i got some spans reported \r\n```\r\n2023.02.22 10:02:54.350 [http-nio-4502-exec-1] INFO  i.j.i.reporters.LoggingReporter:43 - Span reported: 7d0aef60d1f97f02:7d0aef60d1f97f02:0:1 - GET\r\n```\r\n\r\nThe Jaeger UI on the host can the webClient request not reported. \r\n","title":"spring boot jaeger won&#39;t trace webClient request","body":"<p>I have a Spring boot application and i want to trace the webClient request with jaeger:</p>\n<pre><code>implementation &quot;io.micrometer:micrometer-registry-prometheus:1.10.3&quot;\nimplementation &quot;org.springframework.boot:spring-boot-starter-web:2.6.6&quot;\nimplementation &quot;org.springframework.boot:spring-boot-starter-webflux:2.6.6&quot;\nimplementation 'io.opentracing.contrib:opentracing-spring-jaeger-web-starter:3.3.1'\nimplementation &quot;io.opentracing.contrib:opentracing-jdbc:0.2.15&quot;\n</code></pre>\n<p>My application.yml:</p>\n<pre><code>server:\n  port: 4502\nspring:\n   application:\n    name: myServiceName\n  datasource:\n    url: jdbc:tracing:sqlserver:xxxx\n    username: sssr\n    password: blabla\n    driver-class-name: io.opentracing.contrib.jdbc.TracingDriver \n\nopentracing:\n  jaeger:\n    enabled: true\n    service-name: myServiceName\n    log-spans: true\n    udp-sender:\n      port: 31683\n      host: a.b.asd.wq\n    http-sender:\n      url: http://a.b.asd.wq:31268/api/traces\n</code></pre>\n<p>my webClient request:</p>\n<pre><code>String response = webClient.get()\n                                    .uri(url)\n                                    .retrieve()\n                                    .bodyToMono(String.class)\n                                    .block();\n</code></pre>\n<p>i send a request to <code>http://127.0.0.1:4502/</code> and i got some spans reported</p>\n<pre><code>2023.02.22 10:02:54.350 [http-nio-4502-exec-1] INFO  i.j.i.reporters.LoggingReporter:43 - Span reported: 7d0aef60d1f97f02:7d0aef60d1f97f02:0:1 - GET\n</code></pre>\n<p>The Jaeger UI on the host can the webClient request not reported.</p>\n"},{"tags":["java","docker","pkcs#11"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677057569,"post_id":75530420,"comment_id":133260420,"body_markdown":"You‚Äôll need to compile the library for Linux.","body":"You‚Äôll need to compile the library for Linux."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677063591,"post_id":75530420,"comment_id":133262099,"body_markdown":"...a `.dll` file sounds like a Windows dynamically-linked library, but in a Linux container you&#39;d need a Linux `.so` shared object file.","body":"...a <code>.dll</code> file sounds like a Windows dynamically-linked library, but in a Linux container you&#39;d need a Linux <code>.so</code> shared object file."},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1677117736,"post_id":75530420,"comment_id":133276534,"body_markdown":"Thanks for help. I change .so shared object file and program run ok.","body":"Thanks for help. I change .so shared object file and program run ok."}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677057381,"creation_date":1677057110,"question_id":75530420,"body_markdown":"My code java has a config to call dll file.\r\nAfter deploy used Docker, I also push this file to container.\r\nBut when run, Docker has error without everything ok in local.\r\n\r\n```\r\nCaused by: java.io.IOException: /cs_pkcs11_R2.dll: invalid ELF header/cs_pkcs11_R2.dll\r\nat sun.security.pkcs11.wrapper.PKCS11.connect(Native Method)\r\nat sun.security.pkcs11.wrapper.PKCS11.&lt;init&gt;(PKCS11.java:144)\r\nat sun.security.pkcs11.wrapper.PKCS11.getInstance(PKCS11.java:157)\r\nat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:313)\r\n```\r\n\r\nMy code call this file\r\n\r\n```\r\nStringBuilder builder = new StringBuilder();\r\nbuilder.append(&quot;name=&quot; + nameLib);\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);&lt;- path to dll file\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;slot=&quot; + slot);\t \t   \r\nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());\r\nprovider = new SunPKCS11(bais); &lt;- Exception here\r\nSecurity.addProvider(provider);\r\n```","title":"Deploy java springboot to Docker has error invalid ELF header","body":"<p>My code java has a config to call dll file.\nAfter deploy used Docker, I also push this file to container.\nBut when run, Docker has error without everything ok in local.</p>\n<pre><code>Caused by: java.io.IOException: /cs_pkcs11_R2.dll: invalid ELF header/cs_pkcs11_R2.dll\nat sun.security.pkcs11.wrapper.PKCS11.connect(Native Method)\nat sun.security.pkcs11.wrapper.PKCS11.&lt;init&gt;(PKCS11.java:144)\nat sun.security.pkcs11.wrapper.PKCS11.getInstance(PKCS11.java:157)\nat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:313)\n</code></pre>\n<p>My code call this file</p>\n<pre><code>StringBuilder builder = new StringBuilder();\nbuilder.append(&quot;name=&quot; + nameLib);\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);&lt;- path to dll file\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;slot=&quot; + slot);        \nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());\nprovider = new SunPKCS11(bais); &lt;- Exception here\nSecurity.addProvider(provider);\n</code></pre>\n"},{"tags":["java","android","kotlin","swing","sockets"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1677050994,"post_id":75529033,"comment_id":133258735,"body_markdown":"Do you run the Java server on PC and the Kotlin client in the Android device? If so, why do you connect to `localhost`?","body":"Do you run the Java server on PC and the Kotlin client in the Android device? If so, why do you connect to <code>localhost</code>?"},{"owner":{"account_id":25062339,"reputation":3,"user_id":18917065,"display_name":"Ale"},"score":0,"creation_date":1677051576,"post_id":75529033,"comment_id":133258866,"body_markdown":"no. I run both the java server and the android studio on my pc","body":"no. I run both the java server and the android studio on my pc"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677054397,"post_id":75529033,"comment_id":133259597,"body_markdown":"??? And where is your Android client app running?","body":"??? And where is your Android client app running?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677054479,"post_id":75529033,"comment_id":133259613,"body_markdown":"`how to do a java swing server` AND `java server:`. We conclude that you have two servers. Why two? And where are they running?","body":"<code>how to do a java swing server</code> AND <code>java server:</code>. We conclude that you have two servers. Why two? And where are they running?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677054532,"post_id":75529033,"comment_id":133259625,"body_markdown":"`the client (kotlin) it&#39;s not sending the text. ` Before beeing able to send anything there should be a connection. You are not telling is a connection is established.","body":"<code>the client (kotlin) it&#39;s not sending the text. </code> Before beeing able to send anything there should be a connection. You are not telling is a connection is established."}],"answers":[{"tags":[],"owner":{"account_id":27793354,"reputation":65,"user_id":21219394,"display_name":"ProgramExpert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677057322,"creation_date":1677056363,"answer_id":75530273,"question_id":75529033,"body_markdown":"I guess you&#39;re executing the Kotlin code on an android emulator. The Problem is that the localhost from your emulator is not the localhost from your PC.\r\n\r\nYou should try 10.0.2.2 according to the official android studio documentation:\r\nhttps://developer.android.com/studio/run/emulator-networking .","title":"how to do a java swing server using sockets with a kotlin client?","body":"<p>I guess you're executing the Kotlin code on an android emulator. The Problem is that the localhost from your emulator is not the localhost from your PC.</p>\n<p>You should try 10.0.2.2 according to the official android studio documentation:\n<a href=\"https://developer.android.com/studio/run/emulator-networking\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/run/emulator-networking</a> .</p>\n"}],"owner":{"account_id":25062339,"reputation":3,"user_id":18917065,"display_name":"Ale"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677159266,"accepted_answer_id":75530273,"answer_count":1,"score":-1,"last_activity_date":1677057322,"creation_date":1677047897,"question_id":75529033,"body_markdown":"first, it&#39;s even possible?\r\nI&#39;m trying to do an android app using kotlin that sends info, text, etc. to a java swing application using sockets. it&#39;s a class assignment so I can&#39;t change the technologies. Here&#39;s what I got so far but doesn&#39;t work, the client (kotlin) it&#39;s not sending the text. please help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\njava server:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class SocketServer {\r\n    private static final int PORT = 8080;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            ServerSocket serverSocket = new ServerSocket(PORT);\r\n            System.out.println(&quot;Server started on port &quot; + PORT);\r\n\r\n            while (true) {\r\n                Socket socket = serverSocket.accept();\r\n                BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                String message = input.readLine();\r\n                System.out.println(&quot;Message received: &quot; + message);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nkotlin client:\r\n\r\n```\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport java.io.PrintWriter\r\nimport java.net.Socket\r\n\r\n\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        main()\r\n    }\r\n\r\n    fun main() {\r\n        val message = &quot;Hola desde Kotlin!&quot;\r\n        val socket = Socket(&quot;localhost&quot;, 8080)\r\n        val output = PrintWriter(socket.getOutputStream(), true)\r\n        output.println(message)\r\n        socket.close()\r\n    }\r\n\r\n\r\n}```","title":"how to do a java swing server using sockets with a kotlin client?","body":"<p>first, it's even possible?\nI'm trying to do an android app using kotlin that sends info, text, etc. to a java swing application using sockets. it's a class assignment so I can't change the technologies. Here's what I got so far but doesn't work, the client (kotlin) it's not sending the text. please help.</p>\n<p>java server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class SocketServer {\n    private static final int PORT = 8080;\n\n    public static void main(String[] args) {\n        try {\n            ServerSocket serverSocket = new ServerSocket(PORT);\n            System.out.println(&quot;Server started on port &quot; + PORT);\n\n            while (true) {\n                Socket socket = serverSocket.accept();\n                BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                String message = input.readLine();\n                System.out.println(&quot;Message received: &quot; + message);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>kotlin client:</p>\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport java.io.PrintWriter\nimport java.net.Socket\n\n\n\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        main()\n    }\n\n    fun main() {\n        val message = &quot;Hola desde Kotlin!&quot;\n        val socket = Socket(&quot;localhost&quot;, 8080)\n        val output = PrintWriter(socket.getOutputStream(), true)\n        output.println(message)\n        socket.close()\n    }\n\n\n}```\n</code></pre>\n"},{"tags":["java","rest","jersey","jax-rs"],"comments":[{"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"score":0,"creation_date":1412591665,"post_id":26207252,"comment_id":41110714,"body_markdown":"How are you building?","body":"How are you building?"},{"owner":{"account_id":1573092,"reputation":1342,"user_id":1460321,"accept_rate":21,"display_name":"Fahad Mullaji"},"score":0,"creation_date":1412601785,"post_id":26207252,"comment_id":41115901,"body_markdown":"I followed http://www.vogella.com/tutorials/REST/article.html . He has not mentioned anything about building service by MAVEN or ANT. Should i be using anything for building. Thanks for replying.","body":"I followed <a href=\"http://www.vogella.com/tutorials/REST/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/REST/article.html</a> . He has not mentioned anything about building service by MAVEN or ANT. Should i be using anything for building. Thanks for replying."}],"answers":[{"tags":[],"owner":{"account_id":422244,"reputation":1337,"user_id":800903,"display_name":"Alicia Tang"},"down_vote_count":2,"up_vote_count":134,"is_accepted":false,"score":132,"last_activity_date":1426742240,"creation_date":1426742240,"answer_id":29137657,"question_id":26207252,"body_markdown":"I was able to fix it by install jersey-media-json-jackson\r\n\r\nAdd the dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"MessageBodyWriter not found for media type=application/json","body":"<p>I was able to fix it by install jersey-media-json-jackson</p>\n\n<p>Add the dependency to pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3063836"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1435259264,"creation_date":1435175972,"answer_id":31035861,"question_id":26207252,"body_markdown":"I was in the same situation where  \r\n- I was **not** using Maven or Ant,  \r\n- I finished [this Vogella tutorial on Jersey](http://www.vogella.com/tutorials/REST/article.html),  \r\n- and I was getting the `MessageBodyWriter` error when trying to use `@Produces(MediaType.APPLICATION_JSON)`.\r\n\r\n[This answer](https://stackoverflow.com/a/29136934/3063836) by @peeskillet solves the problem - **you have to use the Jackson *.jar files that are available from [the FasterXML Jackson Download page](http://wiki.fasterxml.com/JacksonDownload).** You&#39;ll need the `core` files as well as the `jaxrs` files.\r\n\r\nI added them to my `WebContent/WEB-INF/lib` folder where I have my Jersey *.jar files per the above tutorial, and made the small change to the web.xml file below (again, as originally shared by @peeskillet):\r\n\r\n    &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    &lt;param-value&gt;\r\n        your.other.package.here, com.fasterxml.jackson.jaxrs.json \r\n    &lt;/param-value&gt;\r\n\r\nThe important part being `com.fasterxml.jackson.jaxrs.json`.","title":"MessageBodyWriter not found for media type=application/json","body":"<p>I was in the same situation where<br>\n- I was <strong>not</strong> using Maven or Ant,<br>\n- I finished <a href=\"http://www.vogella.com/tutorials/REST/article.html\" rel=\"noreferrer\">this Vogella tutorial on Jersey</a>,<br>\n- and I was getting the <code>MessageBodyWriter</code> error when trying to use <code>@Produces(MediaType.APPLICATION_JSON)</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/29136934/3063836\">This answer</a> by @peeskillet solves the problem - <strong>you have to use the Jackson *.jar files that are available from <a href=\"http://wiki.fasterxml.com/JacksonDownload\" rel=\"noreferrer\">the FasterXML Jackson Download page</a>.</strong> You'll need the <code>core</code> files as well as the <code>jaxrs</code> files.</p>\n\n<p>I added them to my <code>WebContent/WEB-INF/lib</code> folder where I have my Jersey *.jar files per the above tutorial, and made the small change to the web.xml file below (again, as originally shared by @peeskillet):</p>\n\n<pre><code>&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n&lt;param-value&gt;\n    your.other.package.here, com.fasterxml.jackson.jaxrs.json \n&lt;/param-value&gt;\n</code></pre>\n\n<p>The important part being <code>com.fasterxml.jackson.jaxrs.json</code>.</p>\n"},{"tags":[],"owner":{"account_id":7038286,"reputation":179,"user_id":5391519,"display_name":"Saurabh Thakur"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1443589441,"creation_date":1443589441,"answer_id":32858160,"question_id":26207252,"body_markdown":"Uncommenting the below code helped \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwhich was present in pom.xml in my maven based project resolved this error for me.","title":"MessageBodyWriter not found for media type=application/json","body":"<p>Uncommenting the below code helped </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>which was present in pom.xml in my maven based project resolved this error for me.</p>\n"},{"tags":[],"owner":{"account_id":4100399,"reputation":2449,"user_id":3366100,"accept_rate":50,"display_name":"asad.qazi"},"down_vote_count":2,"up_vote_count":65,"is_accepted":false,"score":63,"last_activity_date":1481648420,"creation_date":1447762268,"answer_id":33756603,"question_id":26207252,"body_markdown":"You&#39;ve to create empty constructor because JAX-RS initializes the classes...\r\nYour constructor must have no arguments:\r\n\r\n    @XmlRootElement\r\n    public class Student implements Serializable {\r\n    \r\n        public String first_name;\r\n        public String last_name;\r\n    \r\n        public String getFirst_name() {\r\n            return first_name;\r\n        }\r\n    \r\n        public void setFirst_name(String first_name) {\r\n            this.first_name = first_name;\r\n        }\r\n    \r\n        public String getLast_name() {\r\n            return last_name;\r\n        }\r\n    \r\n        public void setLast_name(String last_name) {\r\n            this.last_name = last_name;\r\n        }\r\n    \r\n        public Student()\r\n        {\r\n            first_name = &quot;Fahad&quot;;\r\n            last_name = &quot;Mullaji&quot;;\r\n        }\r\n   \r\n\r\n     public Student()\r\n        {\r\n        }\r\n    }","title":"MessageBodyWriter not found for media type=application/json","body":"<p>You've to create empty constructor because JAX-RS initializes the classes...\nYour constructor must have no arguments:</p>\n\n<pre><code>@XmlRootElement\npublic class Student implements Serializable {\n\n    public String first_name;\n    public String last_name;\n\n    public String getFirst_name() {\n        return first_name;\n    }\n\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n\n    public String getLast_name() {\n        return last_name;\n    }\n\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n\n    public Student()\n    {\n        first_name = \"Fahad\";\n        last_name = \"Mullaji\";\n    }\n\n\n public Student()\n    {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3974323,"reputation":1355,"user_id":3277913,"accept_rate":0,"display_name":"sajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465364990,"creation_date":1453384604,"answer_id":34925756,"question_id":26207252,"body_markdown":"I think may be you should try to convert the data to json format. It can be done by using gson lib. Try something like below. \r\n\r\nI don&#39;t know it is a best solutions or not but you could do it this way.It worked for me\r\n\r\nexample : `\r\n\r\n\t@GET\r\n\t@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\r\n\tpublic Response info(@HeaderParam(&quot;Accept&quot;) String accept) {\r\n\t\tInfo information = new Info();\r\n\t\tinformation.setInfo(&quot;Calc Application Info&quot;);\r\n\t\tSystem.out.println(accept);\r\n\t\tif (!accept.equals(MediaType.APPLICATION_JSON)) {\r\n\t\t\treturn Response.status(Status.ACCEPTED).entity(information).build();\r\n\t\t} else {\r\n\t\t\tGson jsonConverter = new GsonBuilder().create();\r\n\t\t\treturn Response.status(Status.ACCEPTED).entity(jsonConverter.toJson(information)).build();\r\n\t\t}\r\n\t}\r\n","title":"MessageBodyWriter not found for media type=application/json","body":"<p>I think may be you should try to convert the data to json format. It can be done by using gson lib. Try something like below. </p>\n\n<p>I don't know it is a best solutions or not but you could do it this way.It worked for me</p>\n\n<p>example : `</p>\n\n<pre><code>@GET\n@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\npublic Response info(@HeaderParam(\"Accept\") String accept) {\n    Info information = new Info();\n    information.setInfo(\"Calc Application Info\");\n    System.out.println(accept);\n    if (!accept.equals(MediaType.APPLICATION_JSON)) {\n        return Response.status(Status.ACCEPTED).entity(information).build();\n    } else {\n        Gson jsonConverter = new GsonBuilder().create();\n        return Response.status(Status.ACCEPTED).entity(jsonConverter.toJson(information)).build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7867087,"reputation":1216,"user_id":5945599,"display_name":"omilus"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1489395485,"creation_date":1489395485,"answer_id":42759691,"question_id":26207252,"body_markdown":"Below should be in your pom.xml above other jersy/jackson dependencies. In my case it as below jersy-client dep-cy and i got MessageBodyWriter not found for media type=application/json.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.25&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"MessageBodyWriter not found for media type=application/json","body":"<p>Below should be in your pom.xml above other jersy/jackson dependencies. In my case it as below jersy-client dep-cy and i got MessageBodyWriter not found for media type=application/json.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;2.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1519604614,"creation_date":1519604614,"answer_id":48979904,"question_id":26207252,"body_markdown":"To overcome this issue try the following. Worked for me. \r\n\r\nAdd following dependency in the **pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd make sure **Model class** contains **no arg constructor**\r\n\r\n     public Student()\r\n        {\r\n        }","title":"MessageBodyWriter not found for media type=application/json","body":"<p>To overcome this issue try the following. Worked for me. </p>\n\n<p>Add following dependency in the <strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;2.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And make sure <strong>Model class</strong> contains <strong>no arg constructor</strong></p>\n\n<pre><code> public Student()\n    {\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7792408,"reputation":412,"user_id":5894853,"display_name":"JediCate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584025341,"creation_date":1584025341,"answer_id":60656763,"question_id":26207252,"body_markdown":"In my experience this error is pretty common, for some reason jersey sometimes has problems parsing custom java types. Usually all you have to do is make sure that you respect the following 3 conditions:\r\n\r\n1. you have jersey-media-json-jackson in you pom.xml if using maven or added to your build path;\r\n2. you have an empty constructor in the data type you are trying to de-/serialize;\r\n3. you have the relevant annotation at the class and field level for your custom data type (xmlelement and/or jsonproperty);\r\n\r\nHowever, I have ran into cases where this just was not enough. Then you can always wrap you custom data type in a GenericEntity and pass it as such to your ResponseBuilder:\r\n\r\n    GenericEntity&lt;CustomDataType&gt; entity = new GenericEntity&lt;CustomDataType&gt;(myObj) {};\r\n\treturn Response.status(httpCode).entity(entity).build();\r\n\r\nThis way you are trying to help jersey to find the proper/relevant serialization provider for you object.\r\nWell, sometimes this also is not enough. In my case I was trying to produce a text/plain from a custom data type. Theoretically jersey should have used the StringMessageProvider, but for some reason that I did not manage to discover it was giving me this error:\r\n\r\n    org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=text/plain\r\n\r\nSo what solved the problem for me was to do my own serialization with jackson&#39;s writeValueAsString(). I&#39;m not proud of it but at the end of the day I can deliver an acceptable solution.","title":"MessageBodyWriter not found for media type=application/json","body":"<p>In my experience this error is pretty common, for some reason jersey sometimes has problems parsing custom java types. Usually all you have to do is make sure that you respect the following 3 conditions:</p>\n\n<ol>\n<li>you have jersey-media-json-jackson in you pom.xml if using maven or added to your build path;</li>\n<li>you have an empty constructor in the data type you are trying to de-/serialize;</li>\n<li>you have the relevant annotation at the class and field level for your custom data type (xmlelement and/or jsonproperty);</li>\n</ol>\n\n<p>However, I have ran into cases where this just was not enough. Then you can always wrap you custom data type in a GenericEntity and pass it as such to your ResponseBuilder:</p>\n\n<pre><code>GenericEntity&lt;CustomDataType&gt; entity = new GenericEntity&lt;CustomDataType&gt;(myObj) {};\nreturn Response.status(httpCode).entity(entity).build();\n</code></pre>\n\n<p>This way you are trying to help jersey to find the proper/relevant serialization provider for you object.\nWell, sometimes this also is not enough. In my case I was trying to produce a text/plain from a custom data type. Theoretically jersey should have used the StringMessageProvider, but for some reason that I did not manage to discover it was giving me this error:</p>\n\n<pre><code>org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=text/plain\n</code></pre>\n\n<p>So what solved the problem for me was to do my own serialization with jackson's writeValueAsString(). I'm not proud of it but at the end of the day I can deliver an acceptable solution.</p>\n"},{"tags":[],"owner":{"account_id":17928204,"reputation":769,"user_id":13026255,"display_name":"Jainender Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587721911,"creation_date":1587721911,"answer_id":61405614,"question_id":26207252,"body_markdown":"Ensure that you have following JARS in place:\r\n1) jackson-core-asl-1.9.13\r\n2) jackson-jaxrs-1.9.13\r\n3) jackson-mapper-asl-1.9.13\r\n4) jackson-xc-1.9.13","title":"MessageBodyWriter not found for media type=application/json","body":"<p>Ensure that you have following JARS in place:\n1) jackson-core-asl-1.9.13\n2) jackson-jaxrs-1.9.13\n3) jackson-mapper-asl-1.9.13\n4) jackson-xc-1.9.13</p>\n"},{"tags":[],"owner":{"account_id":10115618,"reputation":13,"user_id":7474393,"display_name":"Badr Kenzallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604477458,"creation_date":1604477268,"answer_id":64676199,"question_id":26207252,"body_markdown":"You have to convert the response to JSON using `Gson.toJson(object)`.\r\n\r\nFor example:\r\n\r\n    return Response.status(Status.OK).entity(new Gson().toJson(Student)).build();","title":"MessageBodyWriter not found for media type=application/json","body":"<p>You have to convert the response to JSON using <code>Gson.toJson(object)</code>.</p>\n<p>For example:</p>\n<pre><code>return Response.status(Status.OK).entity(new Gson().toJson(Student)).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008925,"reputation":319,"user_id":5372500,"display_name":"Alexander Terp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652079274,"creation_date":1652079274,"answer_id":72167983,"question_id":26207252,"body_markdown":"My preferred alternative to pulling in the `jersey-media-json-jackson` dependency other answers are mentioning is to instead register `JacksonJsonProvider` with your Jersey `ResourceConfig`:\r\n\r\n```java\r\nimport com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\n...\r\n\r\nResourceConfig myResourceConfig = new ResourceConfig();\r\nmyResourceConfig.register(JacksonJsonProvider.class);\r\n```\r\n\r\nThe Javadoc on `JacksonJsonProvider` explains:\r\n\r\n```\r\nBasic implementation of JAX-RS abstractions (MessageBodyReader,\r\nMessageBodyWriter) needed for binding JSON (&quot;application/json&quot;) \r\ncontent to and from Java Objects (&quot;POJO&quot;s).\r\n\r\nActual data binding functionality is implemented by ObjectMapper:\r\nmapper to use can be configured in multiple ways:\r\n\r\n By explicitly passing mapper to use in constructor\r\n By explictly setting mapper to use by setMapper\r\n By defining JAX-RS Provider that returns ObjectMappers.\r\n By doing none of above, in which case a default mapper instance is\r\n    constructed (and configured if configuration methods are called)\r\n\r\nThe last method (&quot;do nothing specific&quot;) is often good enough; explicit passing\r\nof Mapper is simple and explicit; and Provider-based method may make sense\r\nwith Depedency Injection frameworks, or if Mapper has to be configured differently\r\nfor different media types.\r\n\r\nNote that the default mapper instance will be automatically created if\r\none of explicit configuration methods (like configure)\r\nis called: if so, Provider-based introspection is NOT used, but the\r\nresulting Mapper is used as configured.\r\n\r\nNote: version 1.3 added a sub-class (JacksonJaxbJsonProvider) which\r\nis configured by default to use both Jackson and JAXB annotations for configuration\r\n(base class when used as-is defaults to using just Jackson annotations)\r\n```\r\n\r\n(as it suggests, you can alternatively use `JacksonJaxbJsonProvider`).","title":"MessageBodyWriter not found for media type=application/json","body":"<p>My preferred alternative to pulling in the <code>jersey-media-json-jackson</code> dependency other answers are mentioning is to instead register <code>JacksonJsonProvider</code> with your Jersey <code>ResourceConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;\nimport org.glassfish.jersey.server.ResourceConfig;\n\n...\n\nResourceConfig myResourceConfig = new ResourceConfig();\nmyResourceConfig.register(JacksonJsonProvider.class);\n</code></pre>\n<p>The Javadoc on <code>JacksonJsonProvider</code> explains:</p>\n<pre><code>Basic implementation of JAX-RS abstractions (MessageBodyReader,\nMessageBodyWriter) needed for binding JSON (&quot;application/json&quot;) \ncontent to and from Java Objects (&quot;POJO&quot;s).\n\nActual data binding functionality is implemented by ObjectMapper:\nmapper to use can be configured in multiple ways:\n\n By explicitly passing mapper to use in constructor\n By explictly setting mapper to use by setMapper\n By defining JAX-RS Provider that returns ObjectMappers.\n By doing none of above, in which case a default mapper instance is\n    constructed (and configured if configuration methods are called)\n\nThe last method (&quot;do nothing specific&quot;) is often good enough; explicit passing\nof Mapper is simple and explicit; and Provider-based method may make sense\nwith Depedency Injection frameworks, or if Mapper has to be configured differently\nfor different media types.\n\nNote that the default mapper instance will be automatically created if\none of explicit configuration methods (like configure)\nis called: if so, Provider-based introspection is NOT used, but the\nresulting Mapper is used as configured.\n\nNote: version 1.3 added a sub-class (JacksonJaxbJsonProvider) which\nis configured by default to use both Jackson and JAXB annotations for configuration\n(base class when used as-is defaults to using just Jackson annotations)\n</code></pre>\n<p>(as it suggests, you can alternatively use <code>JacksonJaxbJsonProvider</code>).</p>\n"},{"tags":[],"owner":{"account_id":22580489,"reputation":47,"user_id":16765209,"display_name":"jaConfu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656530243,"creation_date":1656530243,"answer_id":72806730,"question_id":26207252,"body_markdown":"Can confirm, that I had this exact error for about a week-long, I added the dependency listed above and lombok, @Data. What this does is insert all getters, setters, empty constructor, and complete constructors. More-or-less, if you are working with a big JSON response it can cause a massive problem. Also, this ensures that the other classes that you built if objects are coming or dates are parsed correctly. LET THE COMPUTER DO THE WORK.","title":"MessageBodyWriter not found for media type=application/json","body":"<p>Can confirm, that I had this exact error for about a week-long, I added the dependency listed above and lombok, @Data. What this does is insert all getters, setters, empty constructor, and complete constructors. More-or-less, if you are working with a big JSON response it can cause a massive problem. Also, this ensures that the other classes that you built if objects are coming or dates are parsed correctly. LET THE COMPUTER DO THE WORK.</p>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665557250,"creation_date":1665557250,"answer_id":74037529,"question_id":26207252,"body_markdown":"\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0-M8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis worked for me.","title":"MessageBodyWriter not found for media type=application/json","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0-M8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1893719,"reputation":1,"user_id":1974190,"display_name":"styled4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677057315,"creation_date":1676982609,"answer_id":75520566,"question_id":26207252,"body_markdown":"Had the same issue, but nothing of the above helped.\r\n\r\nIn my case, to get rid of this error, I had to make sure that the return type of a getter method matches the declaration.\r\n\r\nDoes not work:\r\n\r\n```\r\npublic class Example{\r\n    private int id;\r\n\r\n    public Example(){\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n\r\nDoes work:\r\n\r\n```\r\npublic class Example{\r\n    private int id;\r\n\r\n    public Example(){\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n","title":"MessageBodyWriter not found for media type=application/json","body":"<p>Had the same issue, but nothing of the above helped.</p>\n<p>In my case, to get rid of this error, I had to make sure that the return type of a getter method matches the declaration.</p>\n<p>Does not work:</p>\n<pre><code>public class Example{\n    private int id;\n\n    public Example(){\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n<p>Does work:</p>\n<pre><code>public class Example{\n    private int id;\n\n    public Example(){\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1573092,"reputation":1342,"user_id":1460321,"accept_rate":21,"display_name":"Fahad Mullaji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159010,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"answer_count":14,"score":81,"last_activity_date":1677057315,"creation_date":1412543357,"question_id":26207252,"body_markdown":"I am facing issues while consuming JAX-RS services as JSON.\r\n\r\nBelow I have added my code.\r\n\r\nThis is my service class:\r\n\r\n    //Sets the path to base URL + /hello\r\n    @Path(&quot;/hello&quot;) \r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class Hello {\r\n\r\n\t    @GET\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic Student getStudent() {\r\n\t\t\r\n\t    \tStudent s = new Student();\r\n\t\t    s.first_name = &quot;Test First Name !!!&quot;;\r\n    \t\ts.last_name = &quot;Test Last Name!!!&quot;;\r\n\t\t\r\n\t    \treturn s;\r\n\t    }\r\n\r\n`Student` class which I am trying to get from service:\r\n  \r\n    @XmlRootElement\r\n    public class Student implements Serializable {\r\n    \t\r\n    \tpublic String first_name;\r\n    \tpublic String last_name;\r\n    \t\r\n    \tpublic String getFirst_name() {\r\n    \t\treturn first_name;\r\n    \t}\r\n    \r\n    \tpublic void setFirst_name(String first_name) {\r\n    \t\tthis.first_name = first_name;\r\n    \t}\r\n    \r\n    \tpublic String getLast_name() {\r\n    \t\treturn last_name;\r\n    \t}\r\n    \r\n    \tpublic void setLast_name(String last_name) {\r\n    \t\tthis.last_name = last_name;\r\n    \t}\r\n    \r\n    \tpublic Student()\r\n    \t{\r\n    \t\tfirst_name = &quot;Fahad&quot;;\r\n    \t\tlast_name = &quot;Mullaji&quot;;\r\n    \t}\r\n    }\r\n\r\nWeb XML on service side.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \t&lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    \t\t&lt;!-- Register resources and providers under com.vogella.jersey.first package. --&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.vogella.jersey.first&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt; \r\n\r\nI don&#39;t know how to fix this issue.\r\nI am using SOAP UI for testing JSON response but I guess that it should not matter.\r\n\r\nMany places I read that I need to add the code below. But I don&#39;t know where. I am not using Maven for building.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nServer is looking for function to parse `Student` object to JSON but it is not able to find function or jar file for it. \r\nI have added jar of Genson, Moxy, RESTEasy and Jackson but I think that&#39;s the problem.\r\nI think I am missing mapping somewhere.","title":"MessageBodyWriter not found for media type=application/json","body":"<p>I am facing issues while consuming JAX-RS services as JSON.</p>\n\n<p>Below I have added my code.</p>\n\n<p>This is my service class:</p>\n\n<pre><code>//Sets the path to base URL + /hello\n@Path(\"/hello\") \n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class Hello {\n\n    @GET\n    @Produces(\"application/json\")\n    public Student getStudent() {\n\n        Student s = new Student();\n        s.first_name = \"Test First Name !!!\";\n        s.last_name = \"Test Last Name!!!\";\n\n        return s;\n    }\n</code></pre>\n\n<p><code>Student</code> class which I am trying to get from service:</p>\n\n<pre><code>@XmlRootElement\npublic class Student implements Serializable {\n\n    public String first_name;\n    public String last_name;\n\n    public String getFirst_name() {\n        return first_name;\n    }\n\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n\n    public String getLast_name() {\n        return last_name;\n    }\n\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n\n    public Student()\n    {\n        first_name = \"Fahad\";\n        last_name = \"Mullaji\";\n    }\n}\n</code></pre>\n\n<p>Web XML on service side.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n    &lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;!-- Register resources and providers under com.vogella.jersey.first package. --&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.vogella.jersey.first&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt; \n</code></pre>\n\n<p>I don't know how to fix this issue.\nI am using SOAP UI for testing JSON response but I guess that it should not matter.</p>\n\n<p>Many places I read that I need to add the code below. But I don't know where. I am not using Maven for building.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Server is looking for function to parse <code>Student</code> object to JSON but it is not able to find function or jar file for it. \nI have added jar of Genson, Moxy, RESTEasy and Jackson but I think that's the problem.\nI think I am missing mapping somewhere.</p>\n"},{"tags":["java","exception","reflection","invoke"],"comments":[{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":2,"creation_date":1634611104,"post_id":6020719,"comment_id":123065183,"body_markdown":"I was having the same exact problem, only I didn&#39;t realize it was an invocation target exception for quite a while...","body":"I was having the same exact problem, only I didn&#39;t realize it was an invocation target exception for quite a while..."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1492079589,"creation_date":1305565212,"answer_id":6020754,"question_id":6020719,"body_markdown":"From the Javadoc of Method.invoke()\r\n\r\n&gt; Throws: InvocationTargetException - if the underlying method throws an exception. \r\n\r\nThis exception is thrown if the method called threw an exception.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>From the Javadoc of Method.invoke()</p>\n\n<blockquote>\n  <p>Throws: InvocationTargetException - if the underlying method throws an exception. </p>\n</blockquote>\n\n<p>This exception is thrown if the method called threw an exception.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":383,"is_accepted":true,"score":380,"last_activity_date":1677057306,"creation_date":1305565237,"answer_id":6020758,"question_id":6020719,"body_markdown":"You&#39;ve added an extra level of abstraction by calling the method with reflection. The reflection layer wraps any exception in an `InvocationTargetException`, which lets you tell the difference between an exception *actually* caused by a failure in the reflection call (maybe your argument list wasn&#39;t valid, for example) and a failure within the method called.\r\n\r\nJust unwrap the cause within the `InvocationTargetException` and you&#39;ll get to the original one.\r\n\r\nTo do that, you can do `exception.printStackTrace()` and look at the &quot;Caused By:&quot; section instead of the top half/normal section.\r\n\r\nYou can also catch the exception and use the getCause() method on it, which can also be re-thrown, if desired. Something like `try {...} catch (InvocationTargetException ex) { log.error(&quot;oops!&quot;, ex.getCause()) }` or `...catch... { throw ex.getCause() }`","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>You've added an extra level of abstraction by calling the method with reflection. The reflection layer wraps any exception in an <code>InvocationTargetException</code>, which lets you tell the difference between an exception <em>actually</em> caused by a failure in the reflection call (maybe your argument list wasn't valid, for example) and a failure within the method called.</p>\n<p>Just unwrap the cause within the <code>InvocationTargetException</code> and you'll get to the original one.</p>\n<p>To do that, you can do <code>exception.printStackTrace()</code> and look at the &quot;Caused By:&quot; section instead of the top half/normal section.</p>\n<p>You can also catch the exception and use the getCause() method on it, which can also be re-thrown, if desired. Something like <code>try {...} catch (InvocationTargetException ex) { log.error(&quot;oops!&quot;, ex.getCause()) }</code> or <code>...catch... { throw ex.getCause() }</code></p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1305565284,"creation_date":1305565284,"answer_id":6020766,"question_id":6020719,"body_markdown":"The exception is thrown if\r\n\r\n&gt; InvocationTargetException - if the underlying method throws an exception.\r\n\r\nSo if the method, that has been invoked with reflection API, throws an exception (runtime exception for example), the reflection API will wrap the exception into an `InvocationTargetException`.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>The exception is thrown if</p>\n\n<blockquote>\n  <p>InvocationTargetException - if the underlying method throws an exception.</p>\n</blockquote>\n\n<p>So if the method, that has been invoked with reflection API, throws an exception (runtime exception for example), the reflection API will wrap the exception into an <code>InvocationTargetException</code>.</p>\n"},{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1305565315,"creation_date":1305565315,"answer_id":6020772,"question_id":6020719,"body_markdown":"That `InvocationTargetException` is probably wrapping up your `ArrayIndexOutOfBoundsException`. There is no telling upfront when using reflection what that method can throw -- so rather than using a `throws Exception` approach, all the exceptions are being caught and wrapped up in `InvocationTargetException`.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>That <code>InvocationTargetException</code> is probably wrapping up your <code>ArrayIndexOutOfBoundsException</code>. There is no telling upfront when using reflection what that method can throw -- so rather than using a <code>throws Exception</code> approach, all the exceptions are being caught and wrapped up in <code>InvocationTargetException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1615614,"reputation":501,"user_id":1493408,"display_name":"Daniel Ward"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1352099756,"creation_date":1341081169,"answer_id":11276622,"question_id":6020719,"body_markdown":"Use the `getCause()` method on the `InvocationTargetException` to retrieve the original exception.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>Use the <code>getCause()</code> method on the <code>InvocationTargetException</code> to retrieve the original exception.</p>\n"},{"tags":[],"owner":{"account_id":2026861,"reputation":9,"user_id":1811598,"display_name":"Manik"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1352450232,"creation_date":1352449037,"answer_id":13304434,"question_id":6020719,"body_markdown":"1. List all jar files from the Eclipse Navigator mode\r\n2. Verify that all the jar files are in binary mode\r\n","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<ol>\n<li>List all jar files from the Eclipse Navigator mode</li>\n<li>Verify that all the jar files are in binary mode</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410963178,"creation_date":1386781015,"answer_id":20525219,"question_id":6020719,"body_markdown":"[This][1] describes something like,\r\n\r\n&gt; InvocationTargetException is a checked exception that wraps an\r\n&gt; exception thrown by an invoked method or constructor. As of release\r\n&gt; 1.4, this exception has been retrofitted to conform to the general purpose exception-chaining mechanism. The &quot;target exception&quot; that is\r\n&gt; provided at construction time and accessed via the\r\n&gt; getTargetException() method is now known as the cause, and may be\r\n&gt; accessed via the Throwable.getCause() method, as well as the\r\n&gt; aforementioned &quot;legacy method.&quot;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/InvocationTargetException.html","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/InvocationTargetException.html\" rel=\"nofollow\">This</a> describes something like,</p>\n\n<blockquote>\n  <p>InvocationTargetException is a checked exception that wraps an\n  exception thrown by an invoked method or constructor. As of release\n  1.4, this exception has been retrofitted to conform to the general purpose exception-chaining mechanism. The \"target exception\" that is\n  provided at construction time and accessed via the\n  getTargetException() method is now known as the cause, and may be\n  accessed via the Throwable.getCause() method, as well as the\n  aforementioned \"legacy method.\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1415178980,"creation_date":1415178980,"answer_id":26753333,"question_id":6020719,"body_markdown":"This exception is thrown if the underlying method(method called using Reflection) throws an exception.\r\n\r\nSo if the method, that has been invoked by reflection API, throws an exception (as for example runtime exception), the reflection API will wrap the exception into an InvocationTargetException.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>This exception is thrown if the underlying method(method called using Reflection) throws an exception.</p>\n\n<p>So if the method, that has been invoked by reflection API, throws an exception (as for example runtime exception), the reflection API will wrap the exception into an InvocationTargetException.</p>\n"},{"tags":[],"owner":{"account_id":2647347,"reputation":1521,"user_id":2289765,"accept_rate":72,"display_name":"Rocky Inde"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1432640667,"creation_date":1419288977,"answer_id":27611686,"question_id":6020719,"body_markdown":"This will print the exact line of code in the specific method, which when invoked, raised the exception:\r\n\r\n    try {\r\n\r\n        // try code\r\n        ..\r\n        m.invoke(testObject);\r\n        ..\r\n\r\n    } catch (InvocationTargetException e) {\r\n\r\n        // Answer:\r\n        e.getCause().printStackTrace();\r\n    } catch (Exception e) {\r\n  \r\n        // generic exception handling\r\n        e.printStackTrace();\r\n    }","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>This will print the exact line of code in the specific method, which when invoked, raised the exception:</p>\n\n<pre><code>try {\n\n    // try code\n    ..\n    m.invoke(testObject);\n    ..\n\n} catch (InvocationTargetException e) {\n\n    // Answer:\n    e.getCause().printStackTrace();\n} catch (Exception e) {\n\n    // generic exception handling\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2181886,"reputation":169,"user_id":1931161,"accept_rate":55,"display_name":"Ashutosh Anand"},"down_vote_count":9,"up_vote_count":0,"is_accepted":false,"score":-9,"last_activity_date":1462195953,"creation_date":1462195953,"answer_id":36983723,"question_id":6020719,"body_markdown":"The error vanished after I did \r\nClean-&gt;Run xDoclet-&gt;Run xPackaging.\r\n\r\nIn my workspace, in ecllipse.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>The error vanished after I did \nClean->Run xDoclet->Run xPackaging.</p>\n\n<p>In my workspace, in ecllipse.</p>\n"},{"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1514677762,"creation_date":1478704363,"answer_id":40510236,"question_id":6020719,"body_markdown":"You can compare with the original exception Class using getCause() method like this :\r\n\r\n    try{\r\n      ...\r\n    } catch(Exception e){\r\n       if(e.getCause().getClass().equals(AssertionError.class)){\r\n          // handle your exception  1\r\n       } else {\r\n          // handle the rest of the world exception \r\n       }\r\n    } \r\n\r\n ","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>You can compare with the original exception Class using getCause() method like this :</p>\n\n<pre><code>try{\n  ...\n} catch(Exception e){\n   if(e.getCause().getClass().equals(AssertionError.class)){\n      // handle your exception  1\n   } else {\n      // handle the rest of the world exception \n   }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6976419,"reputation":348,"user_id":5351034,"accept_rate":0,"display_name":"Deepak Vajpayee"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1497723019,"creation_date":1497723019,"answer_id":44607820,"question_id":6020719,"body_markdown":"I was facing the same problem. I used e.getCause().getCause() then I found that it was because of wrong parameters I was passing. There was nullPointerException in fetching the value of one of the parameters.\r\nHope this will help you.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>I was facing the same problem. I used e.getCause().getCause() then I found that it was because of wrong parameters I was passing. There was nullPointerException in fetching the value of one of the parameters.\nHope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513243726,"creation_date":1513243726,"answer_id":47809934,"question_id":6020719,"body_markdown":"I had a `java.lang.reflect.InvocationTargetException` error from a statement calling a logger object in an external `class` inside a `try` / `catch` block in my `class`.\r\n\r\nStepping through the code in the Eclipse debugger &amp; hovering the mouse over the logger statement I saw the logger `object` was `null` (some external constants needed to be instantiated at the very top of my `class`).","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>I had a <code>java.lang.reflect.InvocationTargetException</code> error from a statement calling a logger object in an external <code>class</code> inside a <code>try</code> / <code>catch</code> block in my <code>class</code>.</p>\n\n<p>Stepping through the code in the Eclipse debugger &amp; hovering the mouse over the logger statement I saw the logger <code>object</code> was <code>null</code> (some external constants needed to be instantiated at the very top of my <code>class</code>).</p>\n"},{"tags":[],"owner":{"account_id":3486878,"reputation":3337,"user_id":2917564,"accept_rate":77,"display_name":"jobbert"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1639403271,"creation_date":1639403271,"answer_id":70335708,"question_id":6020719,"body_markdown":"A problem can also be that the targetSdkVersion is upped and that you use deprecated Gradle manifest features. Try lowering the targetSdkVersion again and see if it works. In my case it was targetSdkVersion 31 -&gt; 30","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>A problem can also be that the targetSdkVersion is upped and that you use deprecated Gradle manifest features. Try lowering the targetSdkVersion again and see if it works. In my case it was targetSdkVersion 31 -&gt; 30</p>\n"},{"tags":[],"owner":{"account_id":13366317,"reputation":113,"user_id":9646463,"display_name":"Abhay Nagaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653663372,"creation_date":1653663372,"answer_id":72407303,"question_id":6020719,"body_markdown":"*Invocation Target Exception*: \r\n\r\n&gt; I strongly believe that any naming convention has diligent thoughts invested\r\n&gt; in it. And, it is more than likely that our questions have their\r\n&gt; answers in the names, if we tried finding a rationale behind the name.\r\n\r\n \r\nLet&#39;s break the name up into 3 parts.\r\n&quot;**Exception**&quot; has occurred when &quot;**Invoking**&quot; a &quot;**Target**&quot; method.\r\nAnd, the exception is thrown with this wrapper when, a method is invoked via ***reflection*** in Java. While executing the method, there could be any type of exception raised. It is by design, that the actual cause of the exception is abstracted away, to let the end user know that the exception was one that occurred during a reflection based method access. In order to get the actual cause, it is recommended that the exception is caught and `ex.getCause()` is called. Best practice is to, in fact throw the cause from the catch block that caught the `InvocationTargetException`\r\n```\r\ntry{\r\n    method.invoke();\r\n} catch(InvocationTargetException ite) {\r\n    throw ite.getCause();\r\n} catch(Exception e) {\r\n    // handle non-reflection originated exceptions\r\n    throw e;\r\n}\r\n\r\n```\r\nI know it is similar to the other answers, but I wanted to make it more clear about &quot;when&quot; this exception type is generated by Java, so that it is a mystery to none.","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p><em>Invocation Target Exception</em>:</p>\n<blockquote>\n<p>I strongly believe that any naming convention has diligent thoughts invested\nin it. And, it is more than likely that our questions have their\nanswers in the names, if we tried finding a rationale behind the name.</p>\n</blockquote>\n<p>Let's break the name up into 3 parts.\n&quot;<strong>Exception</strong>&quot; has occurred when &quot;<strong>Invoking</strong>&quot; a &quot;<strong>Target</strong>&quot; method.\nAnd, the exception is thrown with this wrapper when, a method is invoked via <em><strong>reflection</strong></em> in Java. While executing the method, there could be any type of exception raised. It is by design, that the actual cause of the exception is abstracted away, to let the end user know that the exception was one that occurred during a reflection based method access. In order to get the actual cause, it is recommended that the exception is caught and <code>ex.getCause()</code> is called. Best practice is to, in fact throw the cause from the catch block that caught the <code>InvocationTargetException</code></p>\n<pre><code>try{\n    method.invoke();\n} catch(InvocationTargetException ite) {\n    throw ite.getCause();\n} catch(Exception e) {\n    // handle non-reflection originated exceptions\n    throw e;\n}\n\n</code></pre>\n<p>I know it is similar to the other answers, but I wanted to make it more clear about &quot;when&quot; this exception type is generated by Java, so that it is a mystery to none.</p>\n"}],"owner":{"account_id":264268,"reputation":4639,"user_id":550413,"accept_rate":88,"display_name":"user550413"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1353665,"favorite_count":0,"down_vote_count":1,"up_vote_count":374,"accepted_answer_id":6020758,"answer_count":15,"score":373,"last_activity_date":1677057306,"creation_date":1305565024,"question_id":6020719,"body_markdown":"Well, I&#39;ve tried to understand and read what could cause it but I just can&#39;t get it:\r\n\r\nI have this somewhere in my code:\r\n\r\n     try{\r\n     ..\r\n     m.invoke(testObject);\r\n     ..\r\n     } catch(AssertionError e){\r\n     ...\r\n     } catch(Exception e){\r\n     ..\r\n     }\r\n\r\n Thing is that, when it tries to invoke some method it throws\r\n `InvocationTargetException` instead of some other expected exception (specifically `ArrayIndexOutOfBoundsException`).\r\n As I actually know what method is invoked I went straight to this method code and added a try-catch block for the line that suppose to throw  `ArrayIndexOutOfBoundsException` and it really threw `ArrayIndexOutOfBoundsException` as expected. Yet when going up it\r\n somehow changes to `InvocationTargetException` and in the code above `catch(Exception e)` \r\n e is `InvocationTargetException` and not `ArrayIndexOutOfBoundsException`\r\n as expected.\r\n\r\n\r\n What could cause such a behavior or how can I check such a thing?","title":"What could cause java.lang.reflect.InvocationTargetException?","body":"<p>Well, I've tried to understand and read what could cause it but I just can't get it:</p>\n\n<p>I have this somewhere in my code:</p>\n\n<pre><code> try{\n ..\n m.invoke(testObject);\n ..\n } catch(AssertionError e){\n ...\n } catch(Exception e){\n ..\n }\n</code></pre>\n\n<p>Thing is that, when it tries to invoke some method it throws\n <code>InvocationTargetException</code> instead of some other expected exception (specifically <code>ArrayIndexOutOfBoundsException</code>).\n As I actually know what method is invoked I went straight to this method code and added a try-catch block for the line that suppose to throw  <code>ArrayIndexOutOfBoundsException</code> and it really threw <code>ArrayIndexOutOfBoundsException</code> as expected. Yet when going up it\n somehow changes to <code>InvocationTargetException</code> and in the code above <code>catch(Exception e)</code> \n e is <code>InvocationTargetException</code> and not <code>ArrayIndexOutOfBoundsException</code>\n as expected.</p>\n\n<p>What could cause such a behavior or how can I check such a thing?</p>\n"},{"tags":["java","spring-boot","azure","spring-cloud","azure-eventhub"],"answers":[{"tags":[],"owner":{"account_id":21872598,"reputation":195,"user_id":16161919,"display_name":"ShaikMaheer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677056847,"creation_date":1677056847,"answer_id":75530365,"question_id":75519545,"body_markdown":"From error it seems, service principle doesn&#39;t have necessary permissions. But you mention already given roles and permissions. Still could you please kindly recheck if `Azure Event Hubs Data sender` and `Azure Event Hubs Data receiver` roles added?\r\nBelow Microsoft Documentation has steps to follow. Kindly cross verify with it if all good with setup.\r\nhttps://github.com/MicrosoftDocs/azure-docs/blob/main/articles/azure-web-pubsub/howto-develop-event-listener.md","title":"Event Hub connection issue with spring boot with service principal","body":"<p>From error it seems, service principle doesn't have necessary permissions. But you mention already given roles and permissions. Still could you please kindly recheck if <code>Azure Event Hubs Data sender</code> and <code>Azure Event Hubs Data receiver</code> roles added?\nBelow Microsoft Documentation has steps to follow. Kindly cross verify with it if all good with setup.\n<a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/azure-web-pubsub/howto-develop-event-listener.md\" rel=\"nofollow noreferrer\">https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/azure-web-pubsub/howto-develop-event-listener.md</a></p>\n"}],"owner":{"account_id":27840854,"reputation":1,"user_id":21257361,"display_name":"Mouli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677056847,"creation_date":1676977108,"question_id":75519545,"body_markdown":"When I‚Äôm using Service principal in Spring Boot Reactive way of sending events to event hub application is getting error as\r\n```\r\n&quot;amqp:unauthorized-access&quot; error Description &quot;Unauthorized access. &#39;Send&#39; claim(s) are required to perform this operation. Resource: &#39;xxx&#39; Sender link was never active. Closing endpoint states.\r\n```\r\n\r\nThis issue is occurring when we use the service principal, but when ConnectionString is used, it works fine.\r\n\r\nCode is using the reactive way Flux sinks and many suppliers are used for sending events, for example:\r\n\r\n```\r\npublic class EventProducer {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(EventProducer.class);\r\n    ExecutorService executor = Executors.newFixedThreadPool(5);\r\n    @Autowired\r\n    private Sinks.Many&lt;Message&lt;String&gt;&gt; many;\r\n\r\n    @Override\r\n    public void send(AppMessage message) {\r\n        log.info(&quot; In  EventProducer Send &quot;);\r\n\r\n        Runnable eventTask = () -&gt; {\r\n\r\n            try {\r\n\r\n                log.info(&quot;Going to add message {} to event hub.&quot;, message.getMessage().toRawString());\r\n                many.emitNext(MessageBuilder.withPayload(message.getMessage().toRawString()).build(),\r\n                        Sinks.EmitFailureHandler.FAIL_FAST);\r\n\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n               \r\n            }\r\n        };\r\n            executor.execute(eventTask);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class EventProducerConfiguration {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(EventProducerConfiguration.class);\r\n    @Bean\r\n    public Sinks.Many&lt;Message&lt;String&gt;&gt; many() {\r\n        return Sinks.many().unicast().onBackpressureBuffer();\r\n    }\r\n\r\n    @Bean\r\n    public Supplier&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; supply(Sinks.Many&lt;Message&lt;String&gt;&gt; many) {\r\n        return () -&gt; many.asFlux()\r\n                .doOnNext(m -&gt; log.info(&quot;Manually sending message {}&quot;, m))\r\n                .doOnError(t -&gt; log.error(&quot;Error encountered&quot;, t));\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAnd below are the properties:\r\n```\r\n\r\n  cloud:\r\n    azure:\r\n      credential:\r\n        client-id: xxx\r\n        client-secret: xxx\r\n        profile:\r\n          tenant-id: xxx\r\n      eventhubs:\r\n        namespace: xxx\r\n\r\n    stream:\r\n      bindings:\r\n        supply-out-0:\r\n          destination: xxx\r\n\r\n      function:\r\n        definition: supply\r\n\r\n      poller:\r\n        initial-delay: 0\r\n        fixed-delay: 1000\r\n```\r\n\r\nNote : roles `AzureEventHub Sender`, `AzureEventHub Owner`, `AzureEventHub Receiver` are working with Connection String. This problem is only with role `service principal`. \r\n","title":"Event Hub connection issue with spring boot with service principal","body":"<p>When I‚Äôm using Service principal in Spring Boot Reactive way of sending events to event hub application is getting error as</p>\n<pre><code>&quot;amqp:unauthorized-access&quot; error Description &quot;Unauthorized access. 'Send' claim(s) are required to perform this operation. Resource: 'xxx' Sender link was never active. Closing endpoint states.\n</code></pre>\n<p>This issue is occurring when we use the service principal, but when ConnectionString is used, it works fine.</p>\n<p>Code is using the reactive way Flux sinks and many suppliers are used for sending events, for example:</p>\n<pre><code>public class EventProducer {\n\n    private static final Logger log = LoggerFactory.getLogger(EventProducer.class);\n    ExecutorService executor = Executors.newFixedThreadPool(5);\n    @Autowired\n    private Sinks.Many&lt;Message&lt;String&gt;&gt; many;\n\n    @Override\n    public void send(AppMessage message) {\n        log.info(&quot; In  EventProducer Send &quot;);\n\n        Runnable eventTask = () -&gt; {\n\n            try {\n\n                log.info(&quot;Going to add message {} to event hub.&quot;, message.getMessage().toRawString());\n                many.emitNext(MessageBuilder.withPayload(message.getMessage().toRawString()).build(),\n                        Sinks.EmitFailureHandler.FAIL_FAST);\n\n            }catch (Exception e) {\n                e.printStackTrace();\n               \n            }\n        };\n            executor.execute(eventTask);\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class EventProducerConfiguration {\n\n    private static final Logger log = LoggerFactory.getLogger(EventProducerConfiguration.class);\n    @Bean\n    public Sinks.Many&lt;Message&lt;String&gt;&gt; many() {\n        return Sinks.many().unicast().onBackpressureBuffer();\n    }\n\n    @Bean\n    public Supplier&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; supply(Sinks.Many&lt;Message&lt;String&gt;&gt; many) {\n        return () -&gt; many.asFlux()\n                .doOnNext(m -&gt; log.info(&quot;Manually sending message {}&quot;, m))\n                .doOnError(t -&gt; log.error(&quot;Error encountered&quot;, t));\n    }\n\n}\n</code></pre>\n<p>And below are the properties:</p>\n<pre><code>\n  cloud:\n    azure:\n      credential:\n        client-id: xxx\n        client-secret: xxx\n        profile:\n          tenant-id: xxx\n      eventhubs:\n        namespace: xxx\n\n    stream:\n      bindings:\n        supply-out-0:\n          destination: xxx\n\n      function:\n        definition: supply\n\n      poller:\n        initial-delay: 0\n        fixed-delay: 1000\n</code></pre>\n<p>Note : roles <code>AzureEventHub Sender</code>, <code>AzureEventHub Owner</code>, <code>AzureEventHub Receiver</code> are working with Connection String. This problem is only with role <code>service principal</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1677046997,"post_id":75528685,"comment_id":133257934,"body_markdown":"Just wondering, but is the relative convolution of the code necessary to reproduce the problem? Or can it be reproduced with e.g., only one class and a functional interface implemented via a method reference?","body":"Just wondering, but is the relative convolution of the code necessary to reproduce the problem? Or can it be reproduced with e.g., only one class and a functional interface implemented via a method reference?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677057050,"post_id":75528685,"comment_id":133260253,"body_markdown":"@Slaw: I could reproduce the result by simply doing `Runnable r = () -&gt; {}; System.out.println(r.getClass().getCanonicalName());`. That prints some internal class name in Java 11 and null in Java 17.","body":"@Slaw: I could reproduce the result by simply doing <code>Runnable r = () -&gt; {}; System.out.println(r.getClass().getCanonicalName());</code>. That prints some internal class name in Java 11 and null in Java 17."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677052977,"creation_date":1677051579,"answer_id":75529510,"question_id":75528685,"body_markdown":"After a bit of investigation, it is apparently because since Java 15, method references and lambdas (or rather, `invokedynamic`) are now implemented using [hidden classes][1], at least in the OpenJDK. In short, hidden classes are classes that are defined dynamically at runtime, using [`Lookup.defineHiddenClass`][2], has no binary name, and does not need a class loader to be loaded.\r\n\r\nTry also printing `getClass().isHidden()` in `printClassName`. It should print `true`.\r\n\r\nYou can also compare the [Java 15 implementation][3] of `InnerClassLambdaMetafactory` vs the [Java 8 implementation][4]. The latter uses the deprecated `sun.misc.Unsafe.defineAnonymousClass`.\r\n\r\nAccording to the JEP that introduced hidden classes, which was also implemented in Java 15, `getCanonicalName` returning null is the expected behaviour:\r\n\r\n&gt; Via the `Class` object, the hidden class can be instantiated and its members accessed as if it was a normal class, except for four restrictions:\r\n&gt;\r\n&gt; 1. `Class::getName` returns a string that is not a binary name, as described earlier.\r\n&gt; 2. `Class::getCanonicalName` returns null, indicating the hidden class has no canonical name. (Note that the `Class `object for an anonymous class in the Java language has the same behavior.)\r\n&gt;\r\n&gt; 3. [...]\r\n\r\nAt the end of the day, the objects produced by a method reference expression only has the guarantees stated in [this section of the JLS][5]. The implementation could change at any moment, and this case is exactly an example of that.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/371\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\r\n  [3]: https://github.com/openjdk/jdk15/blob/master/src/java.base/share/classes/java/lang/invoke/InnerClassLambdaMetafactory.java#L382\r\n  [4]: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/invoke/InnerClassLambdaMetafactory.java#l324\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13.3","title":"getCanonicalName() returns null when running in a different Java version","body":"<p>After a bit of investigation, it is apparently because since Java 15, method references and lambdas (or rather, <code>invokedynamic</code>) are now implemented using <a href=\"https://openjdk.org/jeps/371\" rel=\"nofollow noreferrer\">hidden classes</a>, at least in the OpenJDK. In short, hidden classes are classes that are defined dynamically at runtime, using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"nofollow noreferrer\"><code>Lookup.defineHiddenClass</code></a>, has no binary name, and does not need a class loader to be loaded.</p>\n<p>Try also printing <code>getClass().isHidden()</code> in <code>printClassName</code>. It should print <code>true</code>.</p>\n<p>You can also compare the <a href=\"https://github.com/openjdk/jdk15/blob/master/src/java.base/share/classes/java/lang/invoke/InnerClassLambdaMetafactory.java#L382\" rel=\"nofollow noreferrer\">Java 15 implementation</a> of <code>InnerClassLambdaMetafactory</code> vs the <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/invoke/InnerClassLambdaMetafactory.java#l324\" rel=\"nofollow noreferrer\">Java 8 implementation</a>. The latter uses the deprecated <code>sun.misc.Unsafe.defineAnonymousClass</code>.</p>\n<p>According to the JEP that introduced hidden classes, which was also implemented in Java 15, <code>getCanonicalName</code> returning null is the expected behaviour:</p>\n<blockquote>\n<p>Via the <code>Class</code> object, the hidden class can be instantiated and its members accessed as if it was a normal class, except for four restrictions:</p>\n<ol>\n<li><p><code>Class::getName</code> returns a string that is not a binary name, as described earlier.</p>\n</li>\n<li><p><code>Class::getCanonicalName</code> returns null, indicating the hidden class has no canonical name. (Note that the <code>Class </code>object for an anonymous class in the Java language has the same behavior.)</p>\n</li>\n<li><p>[...]</p>\n</li>\n</ol>\n</blockquote>\n<p>At the end of the day, the objects produced by a method reference expression only has the guarantees stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13.3\" rel=\"nofollow noreferrer\">this section of the JLS</a>. The implementation could change at any moment, and this case is exactly an example of that.</p>\n"}],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1677056685,"creation_date":1677044673,"question_id":75528685,"body_markdown":"\r\n\r\n    public class MyClass{\r\n        public void action() {\r\n        }\r\n        public void test(){\r\n            MyClassNameTest.takeAction(this::action);\r\n        }\r\n    }\r\n\r\n    public interface MyInterface {\r\n        public void action();\r\n        default void printClassName(){\r\n            System.out.println(&quot;java version: &quot; + System.getProperty(&quot;java.version&quot;));\r\n            System.out.println(&quot;getCanonicalName: &quot; + getClass().getCanonicalName());\r\n            System.out.println(&quot;getName: &quot; + getClass().getName());\r\n            System.out.println(&quot;isAnonymousClass: &quot; + getClass().isAnonymousClass());\r\n        }\r\n    }\r\n\r\nRun this class:\r\n\r\n    public class MyClassNameTest {\r\n        public static void main(String[] args) {\r\n            new MyClass().test();\r\n        }\r\n        static void takeAction(MyInterface myInterface) {\r\n            myInterface.printClassName();\r\n            myInterface.action();\r\n        }\r\n    }\r\n\r\n# Steps to Reproduce\r\n1. compile above classes in java 1.8 or 11\r\n2. run MyClassNameTest in java 15 or above\r\n\r\n# Current result\r\n`getClass().getCanonicalName()` returns null\r\n\r\nIf you run them in the same Java version as you compiled, `getCanonicalName()` returns a non-null string.\r\n\r\nI found the interesting result, but I don&#39;t know the reason. Does anyone know?\r\n","title":"getCanonicalName() returns null when running in a different Java version","body":"<pre><code>public class MyClass{\n    public void action() {\n    }\n    public void test(){\n        MyClassNameTest.takeAction(this::action);\n    }\n}\n\npublic interface MyInterface {\n    public void action();\n    default void printClassName(){\n        System.out.println(&quot;java version: &quot; + System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;getCanonicalName: &quot; + getClass().getCanonicalName());\n        System.out.println(&quot;getName: &quot; + getClass().getName());\n        System.out.println(&quot;isAnonymousClass: &quot; + getClass().isAnonymousClass());\n    }\n}\n</code></pre>\n<p>Run this class:</p>\n<pre><code>public class MyClassNameTest {\n    public static void main(String[] args) {\n        new MyClass().test();\n    }\n    static void takeAction(MyInterface myInterface) {\n        myInterface.printClassName();\n        myInterface.action();\n    }\n}\n</code></pre>\n<h1>Steps to Reproduce</h1>\n<ol>\n<li>compile above classes in java 1.8 or 11</li>\n<li>run MyClassNameTest in java 15 or above</li>\n</ol>\n<h1>Current result</h1>\n<p><code>getClass().getCanonicalName()</code> returns null</p>\n<p>If you run them in the same Java version as you compiled, <code>getCanonicalName()</code> returns a non-null string.</p>\n<p>I found the interesting result, but I don't know the reason. Does anyone know?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"score":1,"creation_date":1480493842,"post_id":40729216,"comment_id":68980717,"body_markdown":"What&#39;s the version currently in use? I would try adding the upgrade JAR to classpath\n\nhttp://www.h2database.com/html/advanced.html#database_upgrade","body":"What&#39;s the version currently in use? I would try adding the upgrade JAR to classpath  <a href=\"http://www.h2database.com/html/advanced.html#database_upgrade\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#database_upgrade</a>"},{"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"score":0,"creation_date":1480494392,"post_id":40729216,"comment_id":68981015,"body_markdown":"Another idea to try would be to force disable MVCC by explicitly connecting with ;MVCC=FALSE http://www.h2database.com/html/advanced.html#mvcc","body":"Another idea to try would be to force disable MVCC by explicitly connecting with ;MVCC=FALSE <a href=\"http://www.h2database.com/html/advanced.html#mvcc\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#mvcc</a>"}],"answers":[{"tags":[],"owner":{"account_id":2928776,"reputation":672,"user_id":2509574,"accept_rate":100,"display_name":"actc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481020292,"creation_date":1481018895,"answer_id":40992684,"question_id":40729216,"body_markdown":"Try to connect with a database tool like SQuirreL to your database and execute ```SELECT H2VERSION() FROM DUAL``` or ```select value from information_schema.settings where name = \r\n&#39;info.VERSION&#39;; ``` to get the actual version.\r\n\r\nMaybe this link on how to upgrade a h2 database can also be helpful: https://stackoverflow.com/questions/15094815/how-to-check-if-a-h2-database-needs-to-be-upgraded\r\n\r\nOne more thing: your database could be corrupted. You could try to recover the data by using the recovery tool http://www.h2database.com/html/advanced.html#using_recover_tool or to check the database on corruption https://stackoverflow.com/questions/32727588/how-to-check-h2-database-health-and-corruption","title":"h2 database: Unsupported database file version or invalid file header in file","body":"<p>Try to connect with a database tool like SQuirreL to your database and execute <code>SELECT H2VERSION() FROM DUAL</code> or <code>select value from information_schema.settings where name = \n'info.VERSION';</code> to get the actual version.</p>\n\n<p>Maybe this link on how to upgrade a h2 database can also be helpful: <a href=\"https://stackoverflow.com/questions/15094815/how-to-check-if-a-h2-database-needs-to-be-upgraded\">How to check if a h2 database needs to be upgraded?</a></p>\n\n<p>One more thing: your database could be corrupted. You could try to recover the data by using the recovery tool <a href=\"http://www.h2database.com/html/advanced.html#using_recover_tool\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/advanced.html#using_recover_tool</a> or to check the database on corruption <a href=\"https://stackoverflow.com/questions/32727588/how-to-check-h2-database-health-and-corruption\">How to check h2 database health and corruption</a></p>\n"},{"tags":[],"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1660547057,"creation_date":1660547057,"answer_id":73357787,"question_id":40729216,"body_markdown":"For me, the problem was with the `JDBC URL` in the h2 login screen.\r\nIt was a random URL and after I changed it to the `spring.datasource.url` value I had set in my application.properties, it started working. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3K9we.png","title":"h2 database: Unsupported database file version or invalid file header in file","body":"<p>For me, the problem was with the <code>JDBC URL</code> in the h2 login screen.\nIt was a random URL and after I changed it to the <code>spring.datasource.url</code> value I had set in my application.properties, it started working.</p>\n<p><a href=\"https://i.stack.imgur.com/3K9we.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3K9we.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11212114,"reputation":3987,"user_id":8225898,"display_name":"Sven D&#246;ring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677056606,"creation_date":1677014203,"answer_id":75525986,"question_id":40729216,"body_markdown":"I had this error with a persistent TCP H2 database.\r\n\r\nAfter updating the H2 version, the old persisted database file still existed.\r\n\r\nI had to delete the old database file to get rid of the error.\r\n\r\nMy Error Code was ``[90048-214]``.","title":"h2 database: Unsupported database file version or invalid file header in file","body":"<p>I had this error with a persistent TCP H2 database.</p>\n<p>After updating the H2 version, the old persisted database file still existed.</p>\n<p>I had to delete the old database file to get rid of the error.</p>\n<p>My Error Code was <code>[90048-214]</code>.</p>\n"}],"owner":{"account_id":1103657,"reputation":42407,"user_id":1231450,"accept_rate":87,"display_name":"Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10181,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1677056606,"creation_date":1479761785,"question_id":40729216,"body_markdown":"As the title reads, I am trying to open a `.h2.db` file using `DataGrip` on `MacOS`. However, I keep getting the error\r\n\r\n    Unsupported database file version or invalid file header in file\r\n\r\nWith the error code\r\n\r\n    [90048-192]\r\n\r\nHow do I check the actual database file version and how to get the correct driver files(?) ? ","title":"h2 database: Unsupported database file version or invalid file header in file","body":"<p>As the title reads, I am trying to open a <code>.h2.db</code> file using <code>DataGrip</code> on <code>MacOS</code>. However, I keep getting the error</p>\n\n<pre><code>Unsupported database file version or invalid file header in file\n</code></pre>\n\n<p>With the error code</p>\n\n<pre><code>[90048-192]\n</code></pre>\n\n<p>How do I check the actual database file version and how to get the correct driver files(?) ? </p>\n"},{"tags":["java","pdfbox","digital-signature","x509certificate","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1676930753,"post_id":75505900,"comment_id":133232896,"body_markdown":"In your code you completely ignore that the _signed attributes_ shall be _**signed** attributes_. Your code simply signs the plain document hash.\n\nTo fix this, you first need to make sure that the `attrGen` creates a message-digest attribute with the value of `hashBytes` and that you replace your `ContentSigner nonSigner` by a `ContentSigner` that actually does sign the bytes it retrieves to sign. Reading [RFC 5652](https://www.rfc-editor.org/rfc/rfc5652) may help you understand what needs to be done...","body":"In your code you completely ignore that the <i>signed attributes</i> shall be <i><b>signed</b> attributes</i>. Your code simply signs the plain document hash.  To fix this, you first need to make sure that the <code>attrGen</code> creates a message-digest attribute with the value of <code>hashBytes</code> and that you replace your <code>ContentSigner nonSigner</code> by a <code>ContentSigner</code> that actually does sign the bytes it retrieves to sign. Reading <a href=\"https://www.rfc-editor.org/rfc/rfc5652\" rel=\"nofollow noreferrer\">RFC 5652</a> may help you understand what needs to be done..."},{"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"score":0,"creation_date":1676980286,"post_id":75505900,"comment_id":133242227,"body_markdown":"@mkl, I have updated the code, added message-digest attribute with the value of hashBytes and also made some changes while initialising contentSigner. But as told in description we fetch certificates and signedHash from some external provide (CSC). We don&#39;t have privateKey. So, after fetching signedHash from CSC, we are directly overriding the method getSignature of ContentSignature and returning that signedHash. ContentSigner cannot actually sign the bytes. \n\nCan you please provide way how I can resolve this?","body":"@mkl, I have updated the code, added message-digest attribute with the value of hashBytes and also made some changes while initialising contentSigner. But as told in description we fetch certificates and signedHash from some external provide (CSC). We don&#39;t have privateKey. So, after fetching signedHash from CSC, we are directly overriding the method getSignature of ContentSignature and returning that signedHash. ContentSigner cannot actually sign the bytes.   Can you please provide way how I can resolve this?"},{"owner":{"account_id":10780050,"reputation":113,"user_id":7930831,"display_name":"Himanshu Jindal"},"score":0,"creation_date":1677502614,"post_id":75505900,"comment_id":133344146,"body_markdown":"@mkl Is there any source/documentation for PDFBox which can help in better in-depth understanding of the library?","body":"@mkl Is there any source/documentation for PDFBox which can help in better in-depth understanding of the library?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1677504451,"post_id":75505900,"comment_id":133344715,"body_markdown":"@HimanshuJindal *&quot;Is there any source/documentation for PDFBox which can help in better in-depth understanding of the library?&quot;* - Well, in my opinion looking at the source code gives the best understanding, and PDFBox is open source. So simply look there. Furthermore, The PDFBox API often expects you to know the format PDF internally. Thus, have a look at ISO 32000. A part 1 equivalent can be downloaded at https://Adobe.com/go/pdfreference","body":"@HimanshuJindal <i>&quot;Is there any source/documentation for PDFBox which can help in better in-depth understanding of the library?&quot;</i> - Well, in my opinion looking at the source code gives the best understanding, and PDFBox is open source. So simply look there. Furthermore, The PDFBox API often expects you to know the format PDF internally. Thus, have a look at ISO 32000. A part 1 equivalent can be downloaded at <a href=\"https://Adobe.com/go/pdfreference\" rel=\"nofollow noreferrer\">Adobe.com/go/pdfreference</a>"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677056293,"creation_date":1677056293,"answer_id":75530257,"question_id":75505900,"body_markdown":"In a comment you explained\r\n\r\n&gt;  we fetch certificates and signedHash from some external provide (CSC). We don&#39;t have privateKey. So, after fetching signedHash from CSC, we are directly overriding the method getSignature of ContentSignature and returning that signedHash. ContentSigner cannot actually sign the bytes. \r\n\r\nContentSigner **can** actually sign the bytes. You merely have to call CSC signing from within it.\r\n\r\nSimplifying your code a bit you can do that as follows:\r\n\r\n```lang-java\r\ntry (\r\n    OutputStream output = new FileOutputStream(outFile);\r\n    PDDocument document = PDDocument.load(resource)   \r\n) {\r\n    PDSignature signature = new PDSignature();\r\n\r\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n    signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\r\n    signature.setName(&quot;Test Name&quot;);\r\n    signature.setSignDate(Calendar.getInstance());\r\n\r\n    SignatureOptions signatureOptions = new SignatureOptions();\r\n    signatureOptions.setPage(0);\r\n\r\n    document.addSignature(signature, signatureOptions);\r\n    ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(output);\r\n\r\n    // retrieve signer certificate and its chain\r\n    Certificate[] certificateChain = retrieveCertificates(requestId, providerId, credentialId, accessToken);\r\n    X509Certificate cert = (X509Certificate) certificateChain[0];\r\n\r\n    // build signed attribute table generator and SignerInfo generator builder\r\n    ESSCertIDv2 certid = new ESSCertIDv2(\r\n            new AlgorithmIdentifier(NISTObjectIdentifiers.id_sha256),\r\n            MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\r\n    );\r\n    SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\r\n    Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, new DERSet(sigcert));\r\n\r\n    ASN1EncodableVector v = new ASN1EncodableVector();\r\n    v.add(attr);\r\n    AttributeTable atttributeTable = new AttributeTable(v);\r\n    CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\r\n\r\n    org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\r\n    JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\r\n    sigb.setSignedAttributeGenerator(attrGen);\r\n\r\n    // create ContentSigner that signs by calling the CSC endpoint\r\n    ContentSigner contentSigner = new ContentSigner() {\r\n        private MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        private OutputStream stream = OutputStreamFactory.createStream(digest);\r\n\r\n        @Override\r\n        public byte[] getSignature() {\r\n            try {\r\n                byte[] hash = digest.digest();\r\n                byte[] signedHash = signHash(requestId, providerId, accessToken, hash);\r\n                return signedHash;\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Exception while signing&quot;, e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() {\r\n            return stream;\r\n        }\r\n\r\n        @Override\r\n        public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n            return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\r\n        }\r\n    };\r\n\r\n    // create the SignedData generator and execute\r\n    CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\n    gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\r\n    gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\r\n\r\n    CMSTypedData msg = new CMSTypedDataInputStream(externalSigning.getContent());\r\n    CMSSignedData signedData = gen.generate(msg, false);\r\n\r\n    byte[] cmsSignature = signedData.getEncoded();\r\n    externalSigning.setSignature(cmsSignature);\r\n}\r\n```\r\n*([RemoteSigning][1] test method `testSignLikeSkdjksDfkslImproved`)*\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/RemoteSigning.java#L224","title":"pdfbox - document getting corrupted after adding signed attributes","body":"<p>In a comment you explained</p>\n<blockquote>\n<p>we fetch certificates and signedHash from some external provide (CSC). We don't have privateKey. So, after fetching signedHash from CSC, we are directly overriding the method getSignature of ContentSignature and returning that signedHash. ContentSigner cannot actually sign the bytes.</p>\n</blockquote>\n<p>ContentSigner <strong>can</strong> actually sign the bytes. You merely have to call CSC signing from within it.</p>\n<p>Simplifying your code a bit you can do that as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    OutputStream output = new FileOutputStream(outFile);\n    PDDocument document = PDDocument.load(resource)   \n) {\n    PDSignature signature = new PDSignature();\n\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n    signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\n    signature.setName(&quot;Test Name&quot;);\n    signature.setSignDate(Calendar.getInstance());\n\n    SignatureOptions signatureOptions = new SignatureOptions();\n    signatureOptions.setPage(0);\n\n    document.addSignature(signature, signatureOptions);\n    ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(output);\n\n    // retrieve signer certificate and its chain\n    Certificate[] certificateChain = retrieveCertificates(requestId, providerId, credentialId, accessToken);\n    X509Certificate cert = (X509Certificate) certificateChain[0];\n\n    // build signed attribute table generator and SignerInfo generator builder\n    ESSCertIDv2 certid = new ESSCertIDv2(\n            new AlgorithmIdentifier(NISTObjectIdentifiers.id_sha256),\n            MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\n    );\n    SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\n    Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, new DERSet(sigcert));\n\n    ASN1EncodableVector v = new ASN1EncodableVector();\n    v.add(attr);\n    AttributeTable atttributeTable = new AttributeTable(v);\n    CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\n\n    org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\n    JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\n    sigb.setSignedAttributeGenerator(attrGen);\n\n    // create ContentSigner that signs by calling the CSC endpoint\n    ContentSigner contentSigner = new ContentSigner() {\n        private MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        private OutputStream stream = OutputStreamFactory.createStream(digest);\n\n        @Override\n        public byte[] getSignature() {\n            try {\n                byte[] hash = digest.digest();\n                byte[] signedHash = signHash(requestId, providerId, accessToken, hash);\n                return signedHash;\n            } catch (Exception e) {\n                throw new RuntimeException(&quot;Exception while signing&quot;, e);\n            }\n        }\n\n        @Override\n        public OutputStream getOutputStream() {\n            return stream;\n        }\n\n        @Override\n        public AlgorithmIdentifier getAlgorithmIdentifier() {\n            return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\n        }\n    };\n\n    // create the SignedData generator and execute\n    CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\n    gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\n    gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\n\n    CMSTypedData msg = new CMSTypedDataInputStream(externalSigning.getContent());\n    CMSSignedData signedData = gen.generate(msg, false);\n\n    byte[] cmsSignature = signedData.getEncoded();\n    externalSigning.setSignature(cmsSignature);\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/RemoteSigning.java#L224\" rel=\"nofollow noreferrer\">RemoteSigning</a> test method <code>testSignLikeSkdjksDfkslImproved</code>)</em></p>\n"}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75530257,"answer_count":1,"score":1,"last_activity_date":1677056293,"creation_date":1676874412,"question_id":75505900,"body_markdown":"I am trying to digitally sign document using pdfbox. I am using filter as *FILTER_ADOBE_PPKLITE* and subfilter as *SUBFILTER_ETSI_CADES_DETACHED*. For ETSI_CADES_Detached, a signing attribute is needs to be added. I am fetching signed hash and  certificates from CSC&gt; But after adding signing attribute, it is making the document corrupted. Sharing the screenshot for the reference \r\n\r\nerror image\r\n\r\n![1](https://i.stack.imgur.com/KKgRh.png)\r\n\r\nSeems like hash is getting chagned. Sharing code for the reference.\r\n\r\n```\r\nPDDocument document = PDDocument.load(inputStream);\r\n\r\n            outFile = File.createTempFile(&quot;signedFIle&quot;, &quot;.pdf&quot;);\r\n\r\n            Certificate[] certificateChain = retrieveCertificates(requestId, providerId, credentialId, accessToken);//Retrieve certificates from CSC.\r\n\r\n\r\n            setCertificateChain(certificateChain);\r\n\r\n            // sign\r\n            FileOutputStream output = new FileOutputStream(outFile);\r\n            IOUtils.copy(inputStream, output);\r\n\r\n            // create signature dictionary\r\n            PDSignature signature = new PDSignature();\r\n//            signature.setType(COSName.SIG);\r\n\r\n\r\n//        PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm(null);\r\n\r\n            int accessPermissions = SigUtils.getMDPPermission(document);\r\n            if (accessPermissions == 1)\r\n            {\r\n                throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\r\n            }\r\n\r\n            \r\n\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\r\n            signature.setName(&quot;Test Name&quot;);\r\n//            signature.setLocation(&quot;Bucharest, RO&quot;);\r\n//            signature.setReason(&quot;PDFBox Signing&quot;);\r\n            signature.setSignDate(Calendar.getInstance());\r\n            Rectangle2D humanRect = new Rectangle2D.Float(location.getLeft(), location.getBottom(), location.getRight(), location.getTop());\r\n\r\n            PDRectangle rect = createSignatureRectangle(document, humanRect);\r\n\r\n            SignatureOptions signatureOptions = new SignatureOptions();\r\n            signatureOptions.setVisualSignature(createVisualSignatureTemplate(document, 0, rect, signature));\r\n            signatureOptions.setPage(0);\r\n            document.addSignature(signature, signatureOptions);\r\n\r\n\r\n            ExternalSigningSupport externalSigning =\r\n                    document.saveIncrementalForExternalSigning(output);\r\n\r\n            InputStream content = externalSigning.getContent();\r\n\r\n\r\n\r\n            CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\n            X509Certificate cert = (X509Certificate) certificateChain[0];\r\n            gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\r\n\r\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n            // Use a buffer to read the input stream in chunks\r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead;\r\n            while ((bytesRead = content.read(buffer)) != -1) {\r\n                digest.update(buffer, 0, bytesRead);\r\n            }\r\n\r\n            byte[] hashBytes = digest.digest();\r\n\r\n            ESSCertIDv2 certid = new ESSCertIDv2(\r\n                    new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;*****&quot;)),\r\n                    MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\r\n            );\r\n\r\n            SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\r\n\r\n            final DERSet attrValues = new DERSet(sigcert);\r\n            Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, attrValues);\r\n            ASN1EncodableVector v = new ASN1EncodableVector();\r\n            v.add(attr);\r\n            v.add(new Attribute(CMSAttributes.messageDigest, new DERSet(new DEROctetString(hashBytes))));\r\n\r\n            AttributeTable atttributeTable = new AttributeTable(v);\r\n            //Create a standard attribute table from the passed in parameters - certhash\r\n            CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\r\n\r\n\r\n            final byte[] signedHash = signHash(requestId, providerId, accessToken, hashBytes); //Retrieve signed hash from CSC.\r\n\r\n            ContentSigner contentSigner = new ContentSigner() {\r\n\r\n                @Override\r\n                public byte[] getSignature() {\r\n                    return signedHash;\r\n                }\r\n\r\n                @Override\r\n                public OutputStream getOutputStream() {\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    byteArrayOutputStream.writeBytes(hashBytes);\r\n                    return byteArrayOutputStream;\r\n                }\r\n\r\n                @Override\r\n                public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n                    return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\r\n                }\r\n            };\r\n\r\n\r\n\r\n            org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\r\n            JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\r\n\r\n//            RevocationInfoResponse revocationInfoResponse = sealingService.getRevocationInfo(requestId, accessToken, revocationInfoRequest);\r\n\r\n\r\n\r\n            sigb.setSignedAttributeGenerator(attrGen);\r\n\r\n\r\n//            sigb.setDirectSignature( true );\r\n            gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\r\n            CMSTypedData msg = new CMSProcessableInputStream( inputStream);\r\n\r\n            CMSSignedData signedData = gen.generate((CMSTypedData)msg, false);\r\n            byte[] cmsSignature = signedData.getEncoded();\r\n\r\n            inputStream.close();\r\n\r\n            externalSigning.setSignature(cmsSignature);\r\n            IOUtils.closeQuietly(signatureOptions);\r\n\r\n            return new FileInputStream(outFile);\r\n```\r\n\r\n\r\n\r\nIf I use subfilter as SUBFILTER_ADBE_PKCS7_DETACHED and don&#39;t add addtibutesTable, then it works fine. But for SUBFILTER_ETSI_CADES_DETACHED, attributes needs to be added.","title":"pdfbox - document getting corrupted after adding signed attributes","body":"<p>I am trying to digitally sign document using pdfbox. I am using filter as <em>FILTER_ADOBE_PPKLITE</em> and subfilter as <em>SUBFILTER_ETSI_CADES_DETACHED</em>. For ETSI_CADES_Detached, a signing attribute is needs to be added. I am fetching signed hash and  certificates from CSC&gt; But after adding signing attribute, it is making the document corrupted. Sharing the screenshot for the reference</p>\n<p>error image</p>\n<p><img src=\"https://i.stack.imgur.com/KKgRh.png\" alt=\"1\" /></p>\n<p>Seems like hash is getting chagned. Sharing code for the reference.</p>\n<pre><code>PDDocument document = PDDocument.load(inputStream);\n\n            outFile = File.createTempFile(&quot;signedFIle&quot;, &quot;.pdf&quot;);\n\n            Certificate[] certificateChain = retrieveCertificates(requestId, providerId, credentialId, accessToken);//Retrieve certificates from CSC.\n\n\n            setCertificateChain(certificateChain);\n\n            // sign\n            FileOutputStream output = new FileOutputStream(outFile);\n            IOUtils.copy(inputStream, output);\n\n            // create signature dictionary\n            PDSignature signature = new PDSignature();\n//            signature.setType(COSName.SIG);\n\n\n//        PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm(null);\n\n            int accessPermissions = SigUtils.getMDPPermission(document);\n            if (accessPermissions == 1)\n            {\n                throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\n            }\n\n            \n\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\n            signature.setName(&quot;Test Name&quot;);\n//            signature.setLocation(&quot;Bucharest, RO&quot;);\n//            signature.setReason(&quot;PDFBox Signing&quot;);\n            signature.setSignDate(Calendar.getInstance());\n            Rectangle2D humanRect = new Rectangle2D.Float(location.getLeft(), location.getBottom(), location.getRight(), location.getTop());\n\n            PDRectangle rect = createSignatureRectangle(document, humanRect);\n\n            SignatureOptions signatureOptions = new SignatureOptions();\n            signatureOptions.setVisualSignature(createVisualSignatureTemplate(document, 0, rect, signature));\n            signatureOptions.setPage(0);\n            document.addSignature(signature, signatureOptions);\n\n\n            ExternalSigningSupport externalSigning =\n                    document.saveIncrementalForExternalSigning(output);\n\n            InputStream content = externalSigning.getContent();\n\n\n\n            CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\n            X509Certificate cert = (X509Certificate) certificateChain[0];\n            gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\n\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n            // Use a buffer to read the input stream in chunks\n            byte[] buffer = new byte[4096];\n            int bytesRead;\n            while ((bytesRead = content.read(buffer)) != -1) {\n                digest.update(buffer, 0, bytesRead);\n            }\n\n            byte[] hashBytes = digest.digest();\n\n            ESSCertIDv2 certid = new ESSCertIDv2(\n                    new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;*****&quot;)),\n                    MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\n            );\n\n            SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\n\n            final DERSet attrValues = new DERSet(sigcert);\n            Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, attrValues);\n            ASN1EncodableVector v = new ASN1EncodableVector();\n            v.add(attr);\n            v.add(new Attribute(CMSAttributes.messageDigest, new DERSet(new DEROctetString(hashBytes))));\n\n            AttributeTable atttributeTable = new AttributeTable(v);\n            //Create a standard attribute table from the passed in parameters - certhash\n            CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\n\n\n            final byte[] signedHash = signHash(requestId, providerId, accessToken, hashBytes); //Retrieve signed hash from CSC.\n\n            ContentSigner contentSigner = new ContentSigner() {\n\n                @Override\n                public byte[] getSignature() {\n                    return signedHash;\n                }\n\n                @Override\n                public OutputStream getOutputStream() {\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                    byteArrayOutputStream.writeBytes(hashBytes);\n                    return byteArrayOutputStream;\n                }\n\n                @Override\n                public AlgorithmIdentifier getAlgorithmIdentifier() {\n                    return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\n                }\n            };\n\n\n\n            org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\n            JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\n\n//            RevocationInfoResponse revocationInfoResponse = sealingService.getRevocationInfo(requestId, accessToken, revocationInfoRequest);\n\n\n\n            sigb.setSignedAttributeGenerator(attrGen);\n\n\n//            sigb.setDirectSignature( true );\n            gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\n            CMSTypedData msg = new CMSProcessableInputStream( inputStream);\n\n            CMSSignedData signedData = gen.generate((CMSTypedData)msg, false);\n            byte[] cmsSignature = signedData.getEncoded();\n\n            inputStream.close();\n\n            externalSigning.setSignature(cmsSignature);\n            IOUtils.closeQuietly(signatureOptions);\n\n            return new FileInputStream(outFile);\n</code></pre>\n<p>If I use subfilter as SUBFILTER_ADBE_PKCS7_DETACHED and don't add addtibutesTable, then it works fine. But for SUBFILTER_ETSI_CADES_DETACHED, attributes needs to be added.</p>\n"},{"tags":["java","jboss7.x","jboss-eap-7"],"comments":[{"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"score":0,"creation_date":1677056877,"post_id":75530253,"comment_id":133260208,"body_markdown":"Also noticed this exception - ``` 14:24:49,859 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9080\n14:31:09,062 ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.io.IOError: java.io.FileNotFoundException: Invalid file path\n        at org.xnio.channels.Channels$4.run(Channels.java:1103)```","body":"Also noticed this exception - ``` 14:24:49,859 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on <a href=\"http://127.0.0.1:9080\" rel=\"nofollow noreferrer\">127.0.0.1:9080</a> 14:31:09,062 ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.io.IOError: java.io.FileNotFoundException: Invalid file path         at org.xnio.channels.Channels$4.run(Channels.java:1103)```"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677056276,"creation_date":1677056276,"question_id":75530253,"body_markdown":"I installed JBoss 7.4 eap on my windows 10 laptop using the installer and configured the ports for the undertow http listener to 9090 and 9080 for the admin console.\r\nThis is the jdk version - \r\n```\r\nCalling &quot;C:\\JBoss\\jboss-eap-7.4\\bin\\standalone.conf.bat&quot;\r\nSetting JAVA property to &quot;C:\\Program Files\\Amazon Corretto\\jdk1.8.0_332\\bin\\java&quot;\r\n===============================================================================\r\n\r\n  JBoss Bootstrap Environment\r\n\r\n  JBOSS_HOME: &quot;C:\\JBoss\\jboss-eap-7.4&quot;\r\n\r\n  JAVA: &quot;C:\\Program Files\\Amazon Corretto\\jdk1.8.0_332\\bin\\java&quot;\r\n\r\n  JAVA_OPTS: &quot;-Dprogram.name=standalone.bat -Xms1G -Xmx1G -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -verbose:gc -Xloggc:&quot;C:\\JBoss\\jboss-eap-7.4\\standalone\\log\\gc.log&quot; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading &quot;\r\n\r\n===============================================================================\r\n``` \r\nAlso configured the user root/root under ManagementRealm user grp, when I load the    http://127.0.0.1:9080/console/index.html and provide the set credentials, the console output for standalone.bat script keeps showing the following exceptions - \r\n\r\n``` \r\n14:23:22,590 ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.lang.NoClassDefFoundError: Could not initialize class org.xnio.channels.Channels\r\n        at io.undertow.io.UndertowOutputStream.write(UndertowOutputStream.java:231)\r\n        at io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:245)\r\n        at io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:238)\r\n        at io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:75)\r\n        at io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:107)\r\n        at org.jboss.as.domain.http.server.DomainUtil.writeResponse(DomainUtil.java:89)\r\n        at org.jboss.as.domain.http.server.DomainApiHandler$1.doSendResponse(DomainApiHandler.java:177)\r\n        at org.jboss.as.domain.http.server.ResponseCallback.sendResponse(ResponseCallback.java:32)\r\n        at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:232)\r\n        at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\r\n        at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:91)\r\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)\r\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\r\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\r\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\r\n        at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n\r\n14:23:22,590 ERROR [io.undertow.request.io] (External Management Request Threads -- 1) UT005090: Unexpected failure: java.lang.NoClassDefFoundError: Could not initialize class org.xnio.channels.Channels\r\n        at io.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:348)\r\n        at io.undertow.server.HttpServerExchange$DefaultBlockingHttpExchange.close(HttpServerExchange.java:2008)\r\n        at io.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1689)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:427)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n```","title":"JBoss 7 Standalone Mode, loading Management console keeps throwing NoClassDefFoundError: Could not initialize class org.xnio.channels.Channels","body":"<p>I installed JBoss 7.4 eap on my windows 10 laptop using the installer and configured the ports for the undertow http listener to 9090 and 9080 for the admin console.\nThis is the jdk version -</p>\n<pre><code>Calling &quot;C:\\JBoss\\jboss-eap-7.4\\bin\\standalone.conf.bat&quot;\nSetting JAVA property to &quot;C:\\Program Files\\Amazon Corretto\\jdk1.8.0_332\\bin\\java&quot;\n===============================================================================\n\n  JBoss Bootstrap Environment\n\n  JBOSS_HOME: &quot;C:\\JBoss\\jboss-eap-7.4&quot;\n\n  JAVA: &quot;C:\\Program Files\\Amazon Corretto\\jdk1.8.0_332\\bin\\java&quot;\n\n  JAVA_OPTS: &quot;-Dprogram.name=standalone.bat -Xms1G -Xmx1G -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -verbose:gc -Xloggc:&quot;C:\\JBoss\\jboss-eap-7.4\\standalone\\log\\gc.log&quot; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading &quot;\n\n===============================================================================\n</code></pre>\n<p>Also configured the user root/root under ManagementRealm user grp, when I load the    <a href=\"http://127.0.0.1:9080/console/index.html\" rel=\"nofollow noreferrer\">http://127.0.0.1:9080/console/index.html</a> and provide the set credentials, the console output for standalone.bat script keeps showing the following exceptions -</p>\n<pre><code>14:23:22,590 ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.lang.NoClassDefFoundError: Could not initialize class org.xnio.channels.Channels\n        at io.undertow.io.UndertowOutputStream.write(UndertowOutputStream.java:231)\n        at io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:245)\n        at io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:238)\n        at io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:75)\n        at io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:107)\n        at org.jboss.as.domain.http.server.DomainUtil.writeResponse(DomainUtil.java:89)\n        at org.jboss.as.domain.http.server.DomainApiHandler$1.doSendResponse(DomainApiHandler.java:177)\n        at org.jboss.as.domain.http.server.ResponseCallback.sendResponse(ResponseCallback.java:32)\n        at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:232)\n        at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\n        at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:91)\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\n        at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n\n14:23:22,590 ERROR [io.undertow.request.io] (External Management Request Threads -- 1) UT005090: Unexpected failure: java.lang.NoClassDefFoundError: Could not initialize class org.xnio.channels.Channels\n        at io.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:348)\n        at io.undertow.server.HttpServerExchange$DefaultBlockingHttpExchange.close(HttpServerExchange.java:2008)\n        at io.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1689)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:427)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1691733,"reputation":3139,"user_id":1553934,"accept_rate":100,"display_name":"esin88"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1616042855,"creation_date":1488214510,"answer_id":42491359,"question_id":42490314,"body_markdown":"You forgot to convert your key and value mappings to produce `String`:\r\n\r\n    final Map&lt;String, String&gt; result = steps\r\n                    .stream()\r\n                    .collect(Collectors.toMap(s -&gt; (String) s.get(&quot;key&quot;),\r\n                                              s -&gt; (String) s.get(&quot;value&quot;)));\r\n\r\nFull example\r\n\r\n    public static void main(String[] args) {\r\n        final List&lt;Map&lt;String, Object&gt;&gt; steps = queryForList(&quot;SELECT key, value FROM table&quot;);\r\n        final Map&lt;String, String&gt; result = steps\r\n                .stream()\r\n                .collect(Collectors.toMap(s -&gt; (String) s.get(&quot;key&quot;), s -&gt; (String) s.get(&quot;value&quot;)));\r\n        result.entrySet().forEach(e -&gt; System.out.println(e.getKey() + &quot; -&gt; &quot; + e.getValue()));\r\n    }\r\n    \r\n    private static List&lt;Map&lt;String, Object&gt;&gt; queryForList(String s) {\r\n        final List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n        for (int i = 0; i &lt; 10; i++) {\r\n            final Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;key&quot;, &quot;key&quot; + i);\r\n            map.put(&quot;value&quot;, &quot;value&quot; + i);\r\n            result.add(map);\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\nWhich prints\r\n\r\n    key1 -&gt; value1\r\n    key2 -&gt; value2\r\n    key0 -&gt; value0\r\n    key5 -&gt; value5\r\n    key6 -&gt; value6\r\n    key3 -&gt; value3\r\n    key4 -&gt; value4\r\n    key9 -&gt; value9\r\n    key7 -&gt; value7\r\n    key8 -&gt; value8","title":"Convert List of Maps to single Map via streams","body":"<p>You forgot to convert your key and value mappings to produce <code>String</code>:</p>\n<pre><code>final Map&lt;String, String&gt; result = steps\n                .stream()\n                .collect(Collectors.toMap(s -&gt; (String) s.get(&quot;key&quot;),\n                                          s -&gt; (String) s.get(&quot;value&quot;)));\n</code></pre>\n<p>Full example</p>\n<pre><code>public static void main(String[] args) {\n    final List&lt;Map&lt;String, Object&gt;&gt; steps = queryForList(&quot;SELECT key, value FROM table&quot;);\n    final Map&lt;String, String&gt; result = steps\n            .stream()\n            .collect(Collectors.toMap(s -&gt; (String) s.get(&quot;key&quot;), s -&gt; (String) s.get(&quot;value&quot;)));\n    result.entrySet().forEach(e -&gt; System.out.println(e.getKey() + &quot; -&gt; &quot; + e.getValue()));\n}\n\nprivate static List&lt;Map&lt;String, Object&gt;&gt; queryForList(String s) {\n    final List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; i++) {\n        final Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;key&quot;, &quot;key&quot; + i);\n        map.put(&quot;value&quot;, &quot;value&quot; + i);\n        result.add(map);\n    }\n\n    return result;\n}\n</code></pre>\n<p>Which prints</p>\n<pre><code>key1 -&gt; value1\nkey2 -&gt; value2\nkey0 -&gt; value0\nkey5 -&gt; value5\nkey6 -&gt; value6\nkey3 -&gt; value3\nkey4 -&gt; value4\nkey9 -&gt; value9\nkey7 -&gt; value7\nkey8 -&gt; value8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6706541,"reputation":439,"user_id":5171274,"accept_rate":75,"display_name":"Lenar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488394681,"creation_date":1488324921,"answer_id":42520687,"question_id":42490314,"body_markdown":"The problem is you have a list of maps. The code below should work:    \r\n\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    steps.stream().forEach(map -&gt; {\r\n        result.putAll(map.entrySet().stream()\r\n            .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; (String) entry.getValue())));\r\n    });\r\n\r\nIf we try to run this example\r\n\r\n    Map&lt;String, Object&gt; steps1 = new HashMap&lt;&gt;();\r\n    steps1.put(&quot;key11&quot;, &quot;value11&quot;);\r\n    steps1.put(&quot;key12&quot;, &quot;value12&quot;);\r\n\r\n    Map&lt;String, Object&gt; steps2 = new HashMap&lt;&gt;();\r\n    steps2.put(&quot;key21&quot;, &quot;value21&quot;);\r\n    steps2.put(&quot;key22&quot;, &quot;value22&quot;);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; steps = new ArrayList&lt;&gt;();\r\n    steps.add(steps1);\r\n    steps.add(steps2);\r\n\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    steps.stream().forEach(map -&gt; {\r\n        result.putAll(map.entrySet().stream()\r\n            .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; (String) entry.getValue())));\r\n    });\r\n    System.out.println(result);\r\n\r\nIt happily gives us the output like that:\r\n\r\n    {key12=value12, key11=value11, key22=value22, key21=value21}","title":"Convert List of Maps to single Map via streams","body":"<p>The problem is you have a list of maps. The code below should work:    </p>\n\n<pre><code>Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\nsteps.stream().forEach(map -&gt; {\n    result.putAll(map.entrySet().stream()\n        .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; (String) entry.getValue())));\n});\n</code></pre>\n\n<p>If we try to run this example</p>\n\n<pre><code>Map&lt;String, Object&gt; steps1 = new HashMap&lt;&gt;();\nsteps1.put(\"key11\", \"value11\");\nsteps1.put(\"key12\", \"value12\");\n\nMap&lt;String, Object&gt; steps2 = new HashMap&lt;&gt;();\nsteps2.put(\"key21\", \"value21\");\nsteps2.put(\"key22\", \"value22\");\n\nList&lt;Map&lt;String, Object&gt;&gt; steps = new ArrayList&lt;&gt;();\nsteps.add(steps1);\nsteps.add(steps2);\n\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\nsteps.stream().forEach(map -&gt; {\n    result.putAll(map.entrySet().stream()\n        .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; (String) entry.getValue())));\n});\nSystem.out.println(result);\n</code></pre>\n\n<p>It happily gives us the output like that:</p>\n\n<pre><code>{key12=value12, key11=value11, key22=value22, key21=value21}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9711280,"reputation":838,"user_id":7203065,"accept_rate":83,"display_name":"Sachin Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543645132,"creation_date":1543645132,"answer_id":53568288,"question_id":42490314,"body_markdown":"Adding on to what esin88 said above, if there is a possibility that we get duplicate keys in the list of maps, we would like to get a map with key and list of values rather than key value pair which can be done like below.\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tfinal List&lt;Map&lt;String, Object&gt;&gt; steps = queryForList(&quot;SELECT key, value FROM table&quot;);\r\n\t\t/*final Map&lt;String, String&gt; result = steps.stream()\r\n\t\t\t\t.collect(Collectors.toMap(s -&gt; (String) s.get(&quot;key&quot;), s -&gt; (String) s.get(&quot;value&quot;)));*/\r\n\t\tfinal Map&lt;String, List&lt;String&gt;&gt; result1 = steps.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(k -&gt; String.valueOf(k.get(&quot;key&quot;)),\r\n\t\t\t\t\t\tCollectors.mapping(l -&gt; String.valueOf(l.get(&quot;value&quot;)), Collectors.toList())));\r\n\t\tresult1.entrySet().forEach(e -&gt; System.out.println(e.getKey() + &quot; -&gt; &quot; + e.getValue()));\r\n\t}\r\n\r\n\tprivate static List&lt;Map&lt;String, Object&gt;&gt; queryForList(String s) {\r\n\t\tfinal List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tmap = new HashMap&lt;&gt;();\r\n\t\t\tmap.put(&quot;key&quot;, &quot;key&quot; + i);\r\n\t\t\tmap.put(&quot;value&quot;, &quot;value&quot; + i);\r\n\t\t\tresult.add(map);\r\n\t\t}\r\n\t\tmap = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;key&quot;, &quot;key1&quot;);\r\n\t\tmap.put(&quot;value&quot;, &quot;value20&quot;);\r\n\t\tresult.add(map);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\nThe result would look like\r\n\r\n    key1 -&gt; [value1, value20]\r\n    key2 -&gt; [value2]\r\n    key0 -&gt; [value0]\r\n    key5 -&gt; [value5]\r\n    key6 -&gt; [value6]\r\n    key3 -&gt; [value3]\r\n    key4 -&gt; [value4]\r\n    key9 -&gt; [value9]\r\n    key7 -&gt; [value7]\r\n    key8 -&gt; [value8]","title":"Convert List of Maps to single Map via streams","body":"<p>Adding on to what esin88 said above, if there is a possibility that we get duplicate keys in the list of maps, we would like to get a map with key and list of values rather than key value pair which can be done like below.</p>\n\n<pre><code>    public static void main(String[] args) {\n    final List&lt;Map&lt;String, Object&gt;&gt; steps = queryForList(\"SELECT key, value FROM table\");\n    /*final Map&lt;String, String&gt; result = steps.stream()\n            .collect(Collectors.toMap(s -&gt; (String) s.get(\"key\"), s -&gt; (String) s.get(\"value\")));*/\n    final Map&lt;String, List&lt;String&gt;&gt; result1 = steps.stream()\n            .collect(Collectors.groupingBy(k -&gt; String.valueOf(k.get(\"key\")),\n                    Collectors.mapping(l -&gt; String.valueOf(l.get(\"value\")), Collectors.toList())));\n    result1.entrySet().forEach(e -&gt; System.out.println(e.getKey() + \" -&gt; \" + e.getValue()));\n}\n\nprivate static List&lt;Map&lt;String, Object&gt;&gt; queryForList(String s) {\n    final List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; 10; i++) {\n        map = new HashMap&lt;&gt;();\n        map.put(\"key\", \"key\" + i);\n        map.put(\"value\", \"value\" + i);\n        result.add(map);\n    }\n    map = new HashMap&lt;&gt;();\n    map.put(\"key\", \"key1\");\n    map.put(\"value\", \"value20\");\n    result.add(map);\n\n    return result;\n}\n</code></pre>\n\n<p>The result would look like</p>\n\n<pre><code>key1 -&gt; [value1, value20]\nkey2 -&gt; [value2]\nkey0 -&gt; [value0]\nkey5 -&gt; [value5]\nkey6 -&gt; [value6]\nkey3 -&gt; [value3]\nkey4 -&gt; [value4]\nkey9 -&gt; [value9]\nkey7 -&gt; [value7]\nkey8 -&gt; [value8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13563468,"reputation":101,"user_id":9784349,"display_name":"venkatesh RM"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1601540951,"creation_date":1601540951,"answer_id":64151640,"question_id":42490314,"body_markdown":"We can use the reduce() of java streams to convert a list of maps to a single map in java.\r\n\r\nPlease check the following code on how it is used.\r\n\r\nFor example:\r\n\r\n\t@Data\r\n\t@AllArgsConstructor\r\n\tpublic class Employee {\r\n\r\n\t\tprivate String employeeId;\r\n\t\tprivate String employeeName;\r\n\t\tprivate Map&lt;String,Object&gt; employeeMap;\r\n\t}\r\n\r\n\r\n\tpublic class Test{\r\n\t public static void main(String[] args) {\r\n\t \r\n\t\t\tMap&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n\t\t\tMap&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n\t\t\tMap&lt;String, Object&gt; map3 = new HashMap&lt;&gt;();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmap1.put(&quot;salary&quot;, 1000);\r\n\t\t\tEmployee e1 = new Employee(&quot;e1&quot;, &quot;employee1&quot;, map1);\r\n\r\n\t\t\tmap2.put(&quot;department&quot;, &quot;HR&quot;);\r\n\t\t\tEmployee e2 = new Employee(&quot;e2&quot;, &quot;employee2&quot;, map2);\r\n\r\n\t\t\tmap3.put(&quot;leave balance&quot;, 14);\r\n\t\t\tEmployee e3 = new Employee(&quot;e3&quot;, &quot;employee3&quot;, map3);\r\n\t\t\t\r\n\t\t\t//now we create a employees list and add the employees e1,e2 and e3.\r\n\t\t\tList&lt;Employee&gt; employeeList = Arrays.asList(e1,e2,e3);\r\n\t\t\t \r\n\t\t\t//now we retreive employeeMap from all employee objects and therefore have a List of employee maps.\r\n\t\t\tList&lt;Map&lt;String, Object&gt;&gt; employeeMaps = employeeList\r\n\t\t\t.stream()\r\n\t\t\t.map(Employee::getEmployeeMap)\r\n\t\t\t.collect(Collectors.toList());\r\n\r\n\t\t\tSystem.out.println(&quot;List of employee maps: &quot; + employeeMaps);\r\n\t\t\t\r\n\t\t\t// to reduce a list of maps to a single map, we use the reduce function of stream.\r\n\t\t\t\r\n\t\t\tMap&lt;String, Object&gt; finalMap = employeeMaps\r\n\t\t\t.stream()\r\n\t\t\t.reduce((firstMap, secondMap) -&gt; {\r\n\t\t\t\t\tfirstMap.putAll(secondMap);\r\n\t\t\t\t\t return firstMap;\r\n\t\t\t\t  }).orElse(null);\r\n\t\t\t\t   \r\n\t\t\tSystem.out.println(&quot;final Map: &quot;+ finalMap);\t   \t\t \r\n\t\t\t\r\n\t}\r\n\t}\r\n\r\nOutput:\r\nList of employee maps: [{salary=1000}, {department=HR}, {leave balance=14}].\r\n\r\nfinal Map: {salary=1000, department=HR, leave balance=14}\r\n\r\nPS: Apologies for the extended answer, this is my first time in stackoverflow.\r\n    Thank you :-)\r\n \r\n\r\n","title":"Convert List of Maps to single Map via streams","body":"<p>We can use the reduce() of java streams to convert a list of maps to a single map in java.</p>\n<p>Please check the following code on how it is used.</p>\n<p>For example:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Employee {\n\n    private String employeeId;\n    private String employeeName;\n    private Map&lt;String,Object&gt; employeeMap;\n}\n\n\npublic class Test{\n public static void main(String[] args) {\n \n        Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; map3 = new HashMap&lt;&gt;();\n        \n        \n        map1.put(&quot;salary&quot;, 1000);\n        Employee e1 = new Employee(&quot;e1&quot;, &quot;employee1&quot;, map1);\n\n        map2.put(&quot;department&quot;, &quot;HR&quot;);\n        Employee e2 = new Employee(&quot;e2&quot;, &quot;employee2&quot;, map2);\n\n        map3.put(&quot;leave balance&quot;, 14);\n        Employee e3 = new Employee(&quot;e3&quot;, &quot;employee3&quot;, map3);\n        \n        //now we create a employees list and add the employees e1,e2 and e3.\n        List&lt;Employee&gt; employeeList = Arrays.asList(e1,e2,e3);\n         \n        //now we retreive employeeMap from all employee objects and therefore have a List of employee maps.\n        List&lt;Map&lt;String, Object&gt;&gt; employeeMaps = employeeList\n        .stream()\n        .map(Employee::getEmployeeMap)\n        .collect(Collectors.toList());\n\n        System.out.println(&quot;List of employee maps: &quot; + employeeMaps);\n        \n        // to reduce a list of maps to a single map, we use the reduce function of stream.\n        \n        Map&lt;String, Object&gt; finalMap = employeeMaps\n        .stream()\n        .reduce((firstMap, secondMap) -&gt; {\n                firstMap.putAll(secondMap);\n                 return firstMap;\n              }).orElse(null);\n               \n        System.out.println(&quot;final Map: &quot;+ finalMap);             \n        \n}\n}\n</code></pre>\n<p>Output:\nList of employee maps: [{salary=1000}, {department=HR}, {leave balance=14}].</p>\n<p>final Map: {salary=1000, department=HR, leave balance=14}</p>\n<p>PS: Apologies for the extended answer, this is my first time in stackoverflow.\nThank you :-)</p>\n"}],"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66485,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":42491359,"answer_count":4,"score":21,"last_activity_date":1677055723,"creation_date":1488211421,"question_id":42490314,"body_markdown":"I query the DB for two columns where the first one is the key to the second one.\r\nHow can I convert the resulting list to a single map?\r\nIs it even possible? I have just seen examples with beans.\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; steps = jdbcTemplate.queryForList(\r\n            &quot;SELECT key, value FROM table&quot;);\r\n    \r\n    // well this doesn&#39;t work\r\n    Map&lt;String, String&gt; result = steps.stream()\r\n            .collect(Collectors.toMap(s -&gt; s.get(&quot;key&quot;), s -&gt; s.get(&quot;value&quot;)));\r\n\r\n","title":"Convert List of Maps to single Map via streams","body":"<p>I query the DB for two columns where the first one is the key to the second one.\nHow can I convert the resulting list to a single map?\nIs it even possible? I have just seen examples with beans.</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; steps = jdbcTemplate.queryForList(\n        &quot;SELECT key, value FROM table&quot;);\n\n// well this doesn't work\nMap&lt;String, String&gt; result = steps.stream()\n        .collect(Collectors.toMap(s -&gt; s.get(&quot;key&quot;), s -&gt; s.get(&quot;value&quot;)));\n</code></pre>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":2310347,"reputation":199,"user_id":2028611,"accept_rate":75,"display_name":"tomerz"},"score":0,"creation_date":1511097235,"post_id":11669722,"comment_id":81706543,"body_markdown":"see my answer here:\nhttps://stackoverflow.com/questions/6212144/how-to-disable-schema-validation-in-hibernate-for-certain-entities/47377231#47377231","body":"see my answer here: <a href=\"https://stackoverflow.com/questions/6212144/how-to-disable-schema-validation-in-hibernate-for-certain-entities/47377231#47377231\" title=\"how to disable schema validation in hibernate for certain entities\">stackoverflow.com/questions/6212144/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":174031,"reputation":7580,"user_id":403132,"display_name":"Kurt Du Bois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343307333,"creation_date":1343307333,"answer_id":11669789,"question_id":11669722,"body_markdown":"I&#39;m not sure as to why you would register that class as being an entity: it&#39;s a custom class and as such it does not have to be attached nor detached from the hibernate/jpa session.","title":"Disabling JPA Hibernate schema validation for a single entity","body":"<p>I'm not sure as to why you would register that class as being an entity: it's a custom class and as such it does not have to be attached nor detached from the hibernate/jpa session.</p>\n"},{"tags":[],"owner":{"account_id":3487048,"reputation":11,"user_id":2917696,"display_name":"Radu Cosma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468240281,"creation_date":1468240281,"answer_id":38306992,"question_id":11669722,"body_markdown":"The solution that worked for me was to remove the `hibernate.hbm2ddl.auto` property from `persistence.xml`. Of course, this disables schema validation for all the other entities, but I couldn&#39;t find something else in JPA 2.0.","title":"Disabling JPA Hibernate schema validation for a single entity","body":"<p>The solution that worked for me was to remove the <code>hibernate.hbm2ddl.auto</code> property from <code>persistence.xml</code>. Of course, this disables schema validation for all the other entities, but I couldn't find something else in JPA 2.0.</p>\n"},{"tags":[],"owner":{"account_id":931121,"reputation":21651,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677055528,"creation_date":1677055528,"answer_id":75530117,"question_id":11669722,"body_markdown":"What you can do is take control of the entire Schema generation to give you a string of the sql to be executed, and then remove the lines referencing your table. \r\n\r\nIts a big answer, but that is the way I have it now. \r\n\r\nIt involves adjusting how Hibernate executes the generated DDL, serving it to you in a file for you to execute. This file is opened, lines iterated and some removed. \r\n\r\n","title":"Disabling JPA Hibernate schema validation for a single entity","body":"<p>What you can do is take control of the entire Schema generation to give you a string of the sql to be executed, and then remove the lines referencing your table.</p>\n<p>Its a big answer, but that is the way I have it now.</p>\n<p>It involves adjusting how Hibernate executes the generated DDL, serving it to you in a file for you to execute. This file is opened, lines iterated and some removed.</p>\n"}],"owner":{"account_id":18834,"reputation":6918,"user_id":43575,"accept_rate":77,"display_name":"Thilo-Alexander Ginkel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5101,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1677055528,"creation_date":1343307110,"question_id":11669722,"body_markdown":"I have a JPA entity that I use as the result class of a native query. As such, the entity is not valid per se (as it does not have a table). I use Hibernate 4.1.x as my JPA provider, which performs a schema validation during startup and consequently fails (I did not specify an explicit table):\r\n\r\n    org.hibernate.HibernateException: Missing table: MyEntity\r\n    \tat org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1272)\r\n        [...]\r\n\r\nIs there a way to turn off schema validation for just a single entity (using JPA or hibernate annotations or a change of persistence.xml)? \r\n\r\n**Edit:** I can completely avoid using any entity as a result, but then  Hibernate will return a `List&lt;Object[]&gt;` as query result, which technically works, but is a little ugly to use:\r\n\r\n    Query query = entityManager.get().createNativeQuery(&quot;SELECT node, last_update FROM mm_repl_monitoring.my_mm_nodes&quot;);\r\n    List&lt;Object[]&gt; statuses = query.getResultList();\r\n\r\nIn other words: It would be nice if there was some mapping support that can be used even for native queries that map to non-Entity classes.","title":"Disabling JPA Hibernate schema validation for a single entity","body":"<p>I have a JPA entity that I use as the result class of a native query. As such, the entity is not valid per se (as it does not have a table). I use Hibernate 4.1.x as my JPA provider, which performs a schema validation during startup and consequently fails (I did not specify an explicit table):</p>\n\n<pre><code>org.hibernate.HibernateException: Missing table: MyEntity\n    at org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1272)\n    [...]\n</code></pre>\n\n<p>Is there a way to turn off schema validation for just a single entity (using JPA or hibernate annotations or a change of persistence.xml)? </p>\n\n<p><strong>Edit:</strong> I can completely avoid using any entity as a result, but then  Hibernate will return a <code>List&lt;Object[]&gt;</code> as query result, which technically works, but is a little ugly to use:</p>\n\n<pre><code>Query query = entityManager.get().createNativeQuery(\"SELECT node, last_update FROM mm_repl_monitoring.my_mm_nodes\");\nList&lt;Object[]&gt; statuses = query.getResultList();\n</code></pre>\n\n<p>In other words: It would be nice if there was some mapping support that can be used even for native queries that map to non-Entity classes.</p>\n"},{"tags":["java","netbeans","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1677013466,"post_id":75525285,"comment_id":133252755,"body_markdown":"[`ImageIcon`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/ImageIcon.html) does not have a constructor which supports `InputStream`.  Use `Class#getResource` instead.  I would also strongly advice using [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) instead of `ImageIcon`","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/ImageIcon.html\" rel=\"nofollow noreferrer\"><code>ImageIcon</code></a> does not have a constructor which supports <code>InputStream</code>.  Use <code>Class#getResource</code> instead.  I would also strongly advice using <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> instead of <code>ImageIcon</code>"}],"owner":{"account_id":27845057,"reputation":1,"user_id":21260720,"display_name":"Arthur Silva Berdusco de Souza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677055312,"creation_date":1677009300,"question_id":75525285,"body_markdown":"    iconPrincipal.setIcon(new javax.swing.ImageIcon(getClass().getResourceAsStream(&quot;/com/senac/img/casa.png&quot;)));\r\n\r\nI edited the code generated by netbeans to use the getResourceAsStream method to get the icon directly from the image project directory, but it gives an error and asks to create a field called javax\r\n\r\nI looked for some alternatives on the internet but I didn&#39;t find anything to solve this error.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aWBFJ.png","title":"Error inserting icon in my jframe project netbeans","body":"<pre><code>iconPrincipal.setIcon(new javax.swing.ImageIcon(getClass().getResourceAsStream(&quot;/com/senac/img/casa.png&quot;)));\n</code></pre>\n<p>I edited the code generated by netbeans to use the getResourceAsStream method to get the icon directly from the image project directory, but it gives an error and asks to create a field called javax</p>\n<p>I looked for some alternatives on the internet but I didn't find anything to solve this error.</p>\n<p><img src=\"https://i.stack.imgur.com/aWBFJ.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","json","csv"],"comments":[{"owner":{"account_id":20457051,"reputation":76,"user_id":15010460,"display_name":"donvogel"},"score":0,"creation_date":1676963934,"post_id":75517242,"comment_id":133237539,"body_markdown":"possible duplicate to:\nhttps://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java","body":"possible duplicate to: <a href=\"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java\" title=\"converting json to xls csv in java\">stackoverflow.com/questions/7172158/&hellip;</a>"},{"owner":{"account_id":23099829,"reputation":368,"user_id":17209391,"display_name":"Ruby"},"score":0,"creation_date":1676964988,"post_id":75517242,"comment_id":133237779,"body_markdown":"But if the data values in json consist &quot;,&quot; then even that will be replaced with tab. It will lead to incorrect data.","body":"But if the data values in json consist &quot;,&quot; then even that will be replaced with tab. It will lead to incorrect data."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676965592,"post_id":75517242,"comment_id":133237919,"body_markdown":"@Ruby you are right - you need some JSON-parser to parse the input data, and a csv library for writing. There are lots of libraries for both topics, one example for a combination is in the linked question.","body":"@Ruby you are right - you need some JSON-parser to parse the input data, and a csv library for writing. There are lots of libraries for both topics, one example for a combination is in the linked question."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676966574,"post_id":75517242,"comment_id":133238156,"body_markdown":"@Ruby I assume you are currently using https://stleary.github.io/JSON-java/org/json/CDL.html?","body":"@Ruby I assume you are currently using <a href=\"https://stleary.github.io/JSON-java/org/json/CDL.html\" rel=\"nofollow noreferrer\">stleary.github.io/JSON-java/org/json/CDL.html</a>?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676966957,"post_id":75517242,"comment_id":133238258,"body_markdown":"I&#39;m afraid that library does not provide an option to choose a different delimiter.","body":"I&#39;m afraid that library does not provide an option to choose a different delimiter."},{"owner":{"account_id":23099829,"reputation":368,"user_id":17209391,"display_name":"Ruby"},"score":0,"creation_date":1676973687,"post_id":75517242,"comment_id":133240272,"body_markdown":"@Hulk CDL is specifically for comma, it doen&#39;t  give us an option to change the delimiter. I&#39;m not sure what other methods I can try","body":"@Hulk CDL is specifically for comma, it doen&#39;t  give us an option to change the delimiter. I&#39;m not sure what other methods I can try"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676974181,"post_id":75517242,"comment_id":133240418,"body_markdown":"@Ruby [this related question](https://stackoverflow.com/questions/13879967/good-and-effective-csv-tsv-reader-for-java) contains a few links to libraries that might be useful.","body":"@Ruby <a href=\"https://stackoverflow.com/questions/13879967/good-and-effective-csv-tsv-reader-for-java\">this related question</a> contains a few links to libraries that might be useful."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677054930,"creation_date":1676981440,"answer_id":75520343,"question_id":75517242,"body_markdown":"You&#39;d probably want to pick a third party JSON parser library. \r\nYou could use the [jackson object mapper](https://www.baeldung.com/jackson-object-mapper-tutorial)\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString json = &quot;[{ \\&quot;Qty\\&quot;:\\&quot;12\\&quot;, ... }]&quot;;\r\nArrayNode array = objectMapper.readValue(json, ArrayNode.class);\r\nSet&lt;String&gt; fieldNames = new LinkedHashSet&lt;&gt;();\r\nfor (JsonNode node : array) {\r\n   // loop all nodes to get the unique set of fieldNames\r\n   node.fieldNames().forEachRemaining(fieldNames::add);\r\n}\r\nStringWriter sw = new StringWriter();\r\nPrintWriter pw = new PrintWriter(sw);\r\npw.println(fieldNames.stream().collect(Collectors.joining(&quot;\\t&quot;));\r\nfor (JsonNode node : array) {\r\n   String csvRow = fieldNames.stream()\r\n      .map(fieldName -&gt; node.has(fieldName) ? node.get(fieldName).asText() : &quot;&quot;)\r\n      .collect(Collectors.joining(&quot;\\t&quot;))\r\n   pw.println(csvRow);\r\n}\r\nString csv = sw.toString();\r\n```","title":"Converting JSON array to tab delimited csv in java","body":"<p>You'd probably want to pick a third party JSON parser library.\nYou could use the <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">jackson object mapper</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nString json = &quot;[{ \\&quot;Qty\\&quot;:\\&quot;12\\&quot;, ... }]&quot;;\nArrayNode array = objectMapper.readValue(json, ArrayNode.class);\nSet&lt;String&gt; fieldNames = new LinkedHashSet&lt;&gt;();\nfor (JsonNode node : array) {\n   // loop all nodes to get the unique set of fieldNames\n   node.fieldNames().forEachRemaining(fieldNames::add);\n}\nStringWriter sw = new StringWriter();\nPrintWriter pw = new PrintWriter(sw);\npw.println(fieldNames.stream().collect(Collectors.joining(&quot;\\t&quot;));\nfor (JsonNode node : array) {\n   String csvRow = fieldNames.stream()\n      .map(fieldName -&gt; node.has(fieldName) ? node.get(fieldName).asText() : &quot;&quot;)\n      .collect(Collectors.joining(&quot;\\t&quot;))\n   pw.println(csvRow);\n}\nString csv = sw.toString();\n</code></pre>\n"}],"owner":{"account_id":23099829,"reputation":368,"user_id":17209391,"display_name":"Ruby"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75520343,"answer_count":1,"score":0,"last_activity_date":1677054930,"creation_date":1676963396,"question_id":75517242,"body_markdown":"I have a JSON Array that looks like this:\r\n```[\r\n\t{\r\n        &quot;Qty&quot;: &quot;12&quot;,\r\n\t\t&quot;Size&quot;: &quot;XL&quot;,\r\n\t\t&quot;Colour&quot;: &quot;Blue&quot;,\r\n\t\t&quot;InSale&quot;: &quot;True&quot;\r\n\t},\r\n\t{   &quot;Qty&quot;: &quot;13&quot;,\r\n\t\t&quot;Size&quot;: &quot;M&quot;,\r\n\t\t&quot;Colour&quot;: &quot;Green&quot;,\r\n\t\t&quot;InSale&quot;: &quot;False&quot;}]\r\n```\r\nI want to convert this into a tab separated String. I am able to convert into comma separated string like this and able to write to a file:\r\n```\r\nString csvString = CDL.toString(ProductsJSONArray);\r\nFileUtils.writeStringToFile(file, csvString);\r\n```\r\nHow can I achieve it for tab separated String?\r\nThis is the output I am expecting:\r\n```\r\nQty\tSize\tColor\tInSale\r\n12\tXL\tBlue\tTrue\r\n13\tM\tGreen\tFalse\r\n```\r\n\r\n","title":"Converting JSON array to tab delimited csv in java","body":"<p>I have a JSON Array that looks like this:</p>\n<pre><code>    {\n        &quot;Qty&quot;: &quot;12&quot;,\n        &quot;Size&quot;: &quot;XL&quot;,\n        &quot;Colour&quot;: &quot;Blue&quot;,\n        &quot;InSale&quot;: &quot;True&quot;\n    },\n    {   &quot;Qty&quot;: &quot;13&quot;,\n        &quot;Size&quot;: &quot;M&quot;,\n        &quot;Colour&quot;: &quot;Green&quot;,\n        &quot;InSale&quot;: &quot;False&quot;}]\n</code></pre>\n<p>I want to convert this into a tab separated String. I am able to convert into comma separated string like this and able to write to a file:</p>\n<pre><code>String csvString = CDL.toString(ProductsJSONArray);\nFileUtils.writeStringToFile(file, csvString);\n</code></pre>\n<p>How can I achieve it for tab separated String?\nThis is the output I am expecting:</p>\n<pre><code>Qty Size    Color   InSale\n12  XL  Blue    True\n13  M   Green   False\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677054703,"creation_date":1657094904,"answer_id":72879923,"question_id":72879766,"body_markdown":"I think it is because you have option `optional = false` in your mapping settings. This option is meant to prevent the null value in **runtime**\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    private CustomerDetails cd;\r\n\r\nThe semantics of optional=false are the following:\r\n\r\n&gt; Whether the association is optional. If set to false then a non-null\r\n&gt; relationship must always exist.\r\n\r\nSo you should check whether you have a null value of the corresponding entity\r\n","title":"Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException:","body":"<p>I think it is because you have option <code>optional = false</code> in your mapping settings. This option is meant to prevent the null value in <strong>runtime</strong></p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY, optional = false)\nprivate CustomerDetails cd;\n</code></pre>\n<p>The semantics of optional=false are the following:</p>\n<blockquote>\n<p>Whether the association is optional. If set to false then a non-null\nrelationship must always exist.</p>\n</blockquote>\n<p>So you should check whether you have a null value of the corresponding entity</p>\n"}],"owner":{"account_id":25393711,"reputation":29,"user_id":19204271,"display_name":"user1712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677054703,"creation_date":1657094027,"question_id":72879766,"body_markdown":"\r\n\r\n&gt; **Exception SEVERE: Servlet.service() for servlet [dispatcher] in\r\n&gt; context with path [/z2] threw exception [Request processing failed;\r\n&gt; nested exception is\r\n&gt; org.springframework.dao.DataIntegrityViolationException: not-null\r\n&gt; property references a null or transient value :**\r\n&gt; com.spring.entity.Product.cd; nested exception is\r\n&gt; org.hibernate.PropertyValueException: not-null property references a\r\n&gt; null or transient value : com.spring.entity.Product.cd]\r\n&gt; with root cause org.hibernate.PropertyValueException: not-null\r\n&gt; property references a null or transient value :\r\n&gt; com.spring.entity.Product.cd \tat\r\n&gt; org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:106)\r\n&gt; \tat\r\n&gt; org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:132)\r\n&gt; \tat\r\n&gt; org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:86)\r\n&gt; \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:490)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:195)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:179)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:214)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:324)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:288)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:194)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:125)\r\n&gt; \tat\r\n&gt; org.hibernate.jpa.event.internal.core.JpaPersistEventListener.saveWithGeneratedId(JpaPersistEventListener.java:84)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:206)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:149)\r\n&gt; \tat\r\n&gt; org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:75)\r\n&gt; \tat\r\n&gt; org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:811)\r\n&gt; \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:784)\r\n&gt; \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:789)\r\n&gt; \tat\r\n&gt; org.hibernate.jpa.spi.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:1181)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) \tat\r\n&gt; org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:257)\r\n&gt; \tat com.sun.proxy.$Proxy39.persist(Unknown Source) \tat\r\n&gt; org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:431)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\r\nEntity classes\r\n\r\n        @Entity\r\n        @Table(name = &quot;tbl_Customer&quot;)\r\n        public class CustomerDetails {\r\n        \r\n        \t@Id\r\n            @GeneratedValue\r\n            @Column(name=&quot;Customer_Id&quot;)\r\n            private Long custid;\r\n        \r\n        \t@Column(name=&quot;Customer_Name&quot;)\r\n            private String customerName;\r\n        \t\r\n        \t@Column(name=&quot;Email&quot;)\r\n            private String email;\r\n        \t\r\n        \t@Column(name=&quot;Address&quot;)\r\n            private String address;\r\n        \t\r\n        \t@Column(name=&quot;Phone&quot;)\r\n            private String phoneno;\r\n           \t\r\n            public CustomerDetails() {\r\n            }\r\n        \r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\treturn &quot;CustomerDetails [custid=&quot; + custid + &quot;, customername=&quot; + customerName + &quot;, email=&quot; + email\r\n        \t\t\t\t+ &quot;, address=&quot; + address + &quot;, phoneno=&quot; + phoneno + &quot;]&quot;;\r\n        \t}\r\n        \r\n        \tpublic CustomerDetails(String customername, String email, String address, String phoneno) {\r\n        \t\tsuper();\r\n        \t\tthis.customerName = customername;\r\n        \t\tthis.email = email;\r\n        \t\tthis.address = address;\r\n        \t\tthis.phoneno = phoneno;\r\n        \t}\r\n        \r\n        \t@OneToMany(mappedBy = &quot;cd&quot;, fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n            private Set&lt;Product&gt; product;\r\n        \t\r\n        //getters and setters\r\n        }\r\n    --------------------------------------------------------------------------------------------------\r\n    \r\n    @Entity\r\n    @Table(name=&quot;tbl_Product&quot;)\r\n    public class Product {\r\n     \r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name=&quot;Product_Id&quot;)\r\n    \tprivate Long productId;\r\n    \t\r\n    \t@Column(name=&quot;Product_Name&quot;)\r\n    \tprivate String productName;\r\n    \t\r\n    \t@Column(name=&quot;Product_Brand&quot;)\r\n    \tprivate String productBrand;\r\n    \t\r\n    \t@Column(name=&quot;Product_Price&quot;)\r\n    \tprivate double productPrice;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \tprivate CustomerDetails cd;\r\n       \r\n    \t\r\n    \t\r\n    \tpublic Product(Long productId, String productName, String productBrand, double productPrice) {\r\n    \t\tsuper();\r\n    \t\tthis.productId = productId;\r\n    \t\tthis.productName = productName;\r\n    \t\tthis.productBrand = productBrand;\r\n    \t\tthis.productPrice = productPrice;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic Product(String productName, String productBrand, double productPrice) {\r\n    \t\tsuper();\r\n    \t\tthis.productName = productName;\r\n    \t\tthis.productBrand = productBrand;\r\n    \t\tthis.productPrice = productPrice;\r\n    \t}\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n","title":"Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException:","body":"<blockquote>\n<p><strong>Exception SEVERE: Servlet.service() for servlet [dispatcher] in\ncontext with path [/z2] threw exception [Request processing failed;\nnested exception is\norg.springframework.dao.DataIntegrityViolationException: not-null\nproperty references a null or transient value :</strong>\ncom.spring.entity.Product.cd; nested exception is\norg.hibernate.PropertyValueException: not-null property references a\nnull or transient value : com.spring.entity.Product.cd]\nwith root cause org.hibernate.PropertyValueException: not-null\nproperty references a null or transient value :\ncom.spring.entity.Product.cd  at\norg.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:106)\nat\norg.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:132)\nat\norg.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:86)\nat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:490)\nat\norg.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:195)\nat\norg.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:179)\nat\norg.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:214)\nat\norg.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:324)\nat\norg.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:288)\nat\norg.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:194)\nat\norg.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:125)\nat\norg.hibernate.jpa.event.internal.core.JpaPersistEventListener.saveWithGeneratedId(JpaPersistEventListener.java:84)\nat\norg.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:206)\nat\norg.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:149)\nat\norg.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:75)\nat\norg.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:811)\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:784)\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:789)\nat\norg.hibernate.jpa.spi.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:1181)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)   at\norg.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:257)\nat com.sun.proxy.$Proxy39.persist(Unknown Source)   at\norg.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:431)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)</p>\n</blockquote>\n<p>Entity classes</p>\n<pre><code>    @Entity\n    @Table(name = &quot;tbl_Customer&quot;)\n    public class CustomerDetails {\n    \n        @Id\n        @GeneratedValue\n        @Column(name=&quot;Customer_Id&quot;)\n        private Long custid;\n    \n        @Column(name=&quot;Customer_Name&quot;)\n        private String customerName;\n        \n        @Column(name=&quot;Email&quot;)\n        private String email;\n        \n        @Column(name=&quot;Address&quot;)\n        private String address;\n        \n        @Column(name=&quot;Phone&quot;)\n        private String phoneno;\n        \n        public CustomerDetails() {\n        }\n    \n        @Override\n        public String toString() {\n            return &quot;CustomerDetails [custid=&quot; + custid + &quot;, customername=&quot; + customerName + &quot;, email=&quot; + email\n                    + &quot;, address=&quot; + address + &quot;, phoneno=&quot; + phoneno + &quot;]&quot;;\n        }\n    \n        public CustomerDetails(String customername, String email, String address, String phoneno) {\n            super();\n            this.customerName = customername;\n            this.email = email;\n            this.address = address;\n            this.phoneno = phoneno;\n        }\n    \n        @OneToMany(mappedBy = &quot;cd&quot;, fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n        private Set&lt;Product&gt; product;\n        \n    //getters and setters\n    }\n--------------------------------------------------------------------------------------------------\n\n@Entity\n@Table(name=&quot;tbl_Product&quot;)\npublic class Product {\n \n    \n    @Id\n    @GeneratedValue\n    @Column(name=&quot;Product_Id&quot;)\n    private Long productId;\n    \n    @Column(name=&quot;Product_Name&quot;)\n    private String productName;\n    \n    @Column(name=&quot;Product_Brand&quot;)\n    private String productBrand;\n    \n    @Column(name=&quot;Product_Price&quot;)\n    private double productPrice;\n    \n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    private CustomerDetails cd;\n   \n    \n    \n    public Product(Long productId, String productName, String productBrand, double productPrice) {\n        super();\n        this.productId = productId;\n        this.productName = productName;\n        this.productBrand = productBrand;\n        this.productPrice = productPrice;\n    }\n    \n    \n    \n    public Product(String productName, String productBrand, double productPrice) {\n        super();\n        this.productName = productName;\n        this.productBrand = productBrand;\n        this.productPrice = productPrice;\n    }\n\n//getters and setters\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1677015524,"post_id":75525940,"comment_id":133253272,"body_markdown":"Are you sure you want to have the double role in `hasRole(&quot;ROLE_USER&quot;)`? If you use the `hasRole(..)` method it already checks for authorities starting with `ROLE_`, so `hasRole(&quot;USER&quot;)` might be enough.","body":"Are you sure you want to have the double role in <code>hasRole(&quot;ROLE_USER&quot;)</code>? If you use the <code>hasRole(..)</code> method it already checks for authorities starting with <code>ROLE_</code>, so <code>hasRole(&quot;USER&quot;)</code> might be enough."},{"owner":{"account_id":27845259,"reputation":23,"user_id":21260876,"display_name":"Expert_Introvert"},"score":0,"creation_date":1677042961,"post_id":75525940,"comment_id":133257357,"body_markdown":"@g00glen00b Thanks for replying, for some reason even `hasRole(&quot;USER&quot;)` is giving me a 403. The JWT token I am receiving on the client seems fine and I am unsure how to debug it.  Any tips on how to debug this?","body":"@g00glen00b Thanks for replying, for some reason even <code>hasRole(&quot;USER&quot;)</code> is giving me a 403. The JWT token I am receiving on the client seems fine and I am unsure how to debug it.  Any tips on how to debug this?"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677054477,"creation_date":1677054477,"answer_id":75529945,"question_id":75525940,"body_markdown":"The default `JwtGrantedAuthoritiesConverter` implementation reads the authorities from the `scope` claim (which you provided) and prefixes them with `SCOPE_`. This means that your authorities will become `SCOPE_ROLE_USER` and `SCOPE_ROLE_ADMIN`.\r\n\r\nYou can either adapt to it and change the `SecurityFilterChain` to this:\r\n\r\n```java\r\na.requestMatchers(&quot;/student/&quot;).hasAnyAuthority(&quot;SCOPE_ROLE_USER&quot;);\r\n```\r\n\r\nOr you can create a custom `JwtGrantedAuthoritiesConverter`:\r\n\r\n```java\r\n@Bean\r\npublic JwtGrantedAuthoritiesConverter authoritiesConverter() {\r\n    JwtGrantedAuthoritiesConverter converter = new JwtGrantedAuthoritiesConverter();\r\n    converter.setAuthorityPrefix(&quot;&quot;); // Cannot be null\r\n}\r\n    \r\n@Bean\r\npublic JwtAuthenticationConverter authenticationConverter(JwtGrantedAuthoritiesConverter authoritiesConverter) {\r\n    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\r\n    converter.setJwtGrantedAuthoritiesConverter(authoritiesConverter);\r\n    return converter;\r\n}\r\n```\r\n\r\nAlso be aware that the difference between authorities and roles is that roles are just authorities that follow a specific naming convention (= being prefixed with `ROLE_`).\r\nThis means that you should either use `hasAnyAuthority(&quot;ROLE_USER&quot;)` or `hasAnyRole(&quot;USER&quot;)`. \r\nSo if you disable the scope prefix, you should change your `SecurityFilterChain` to this:\r\n\r\n```java\r\na.requestMatchers(&quot;/student/&quot;).hasAnyRole(&quot;USER&quot;);\r\n\r\n// or\r\n\r\na.requestMatchers(&quot;/student/&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\r\n```\r\n\r\n---\r\n\r\nIn the comments you also asked how to debug this. To debug whether it&#39;s behaving correctly you can:\r\n\r\n- Decode your JWT token to verify that you have a `scope` claim containing your original authorities.\r\n- Put a breakpoint in the `JwtGrantedAuthoritiesConverter.getAuthorities()` method to verify whether the token is properly read.","title":"Spring security config requestMatchers.hasRole() is always giving 403 forbidden status","body":"<p>The default <code>JwtGrantedAuthoritiesConverter</code> implementation reads the authorities from the <code>scope</code> claim (which you provided) and prefixes them with <code>SCOPE_</code>. This means that your authorities will become <code>SCOPE_ROLE_USER</code> and <code>SCOPE_ROLE_ADMIN</code>.</p>\n<p>You can either adapt to it and change the <code>SecurityFilterChain</code> to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a.requestMatchers(&quot;/student/&quot;).hasAnyAuthority(&quot;SCOPE_ROLE_USER&quot;);\n</code></pre>\n<p>Or you can create a custom <code>JwtGrantedAuthoritiesConverter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JwtGrantedAuthoritiesConverter authoritiesConverter() {\n    JwtGrantedAuthoritiesConverter converter = new JwtGrantedAuthoritiesConverter();\n    converter.setAuthorityPrefix(&quot;&quot;); // Cannot be null\n}\n    \n@Bean\npublic JwtAuthenticationConverter authenticationConverter(JwtGrantedAuthoritiesConverter authoritiesConverter) {\n    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\n    converter.setJwtGrantedAuthoritiesConverter(authoritiesConverter);\n    return converter;\n}\n</code></pre>\n<p>Also be aware that the difference between authorities and roles is that roles are just authorities that follow a specific naming convention (= being prefixed with <code>ROLE_</code>).\nThis means that you should either use <code>hasAnyAuthority(&quot;ROLE_USER&quot;)</code> or <code>hasAnyRole(&quot;USER&quot;)</code>.\nSo if you disable the scope prefix, you should change your <code>SecurityFilterChain</code> to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a.requestMatchers(&quot;/student/&quot;).hasAnyRole(&quot;USER&quot;);\n\n// or\n\na.requestMatchers(&quot;/student/&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\n</code></pre>\n<hr />\n<p>In the comments you also asked how to debug this. To debug whether it's behaving correctly you can:</p>\n<ul>\n<li>Decode your JWT token to verify that you have a <code>scope</code> claim containing your original authorities.</li>\n<li>Put a breakpoint in the <code>JwtGrantedAuthoritiesConverter.getAuthorities()</code> method to verify whether the token is properly read.</li>\n</ul>\n"}],"owner":{"account_id":27845259,"reputation":23,"user_id":21260876,"display_name":"Expert_Introvert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75529945,"answer_count":1,"score":2,"last_activity_date":1677054477,"creation_date":1677013849,"question_id":75525940,"body_markdown":"I&#39;m using Oauth2 resource server JWT for authentication.\r\nI&#39;m trying to add authentication for two routes , route  &quot;/student/&quot; to give acess to role ROLE_USER and route &quot;/students/&quot; to role ROLE_ADMIN.\r\n\r\n# Security config\r\n\r\n```\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(a -&gt;\r\n                {\r\n                    a.requestMatchers(&quot;/student/&quot;).hasAnyRole(&quot;ROLE_USER&quot;);\r\n                    a.requestMatchers(&quot;/student/**&quot;).hasAnyRole(&quot;ROLE_USER&quot;);\r\n                    a.requestMatchers(&quot;/students/&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;);\r\n                    a.requestMatchers(&quot;/students/**&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;);\r\n                    a.requestMatchers(&quot;/&quot;).permitAll();\r\n                    a.requestMatchers(&quot;/token/&quot;).permitAll();\r\n                    a.requestMatchers(&quot;/token/**&quot;).permitAll();\r\n                    a.anyRequest().authenticated();\r\n                })\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n                .userDetailsService(userDetailsService)\r\n                .headers(headers -&gt; headers.frameOptions().sameOrigin())\r\n                .httpBasic(Customizer.withDefaults())\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .build();\r\n    }\r\n\r\n```\r\nI tried to change `hasRole()` to `hasAnyRole()` , `hasAuthority()` , treid `@PreAuthorize()` on controller and  checked with using roles without &quot;`ROLE_`&quot; prefix but nothing has worked.\r\n\r\n# UserDetailsService\r\n\r\n```\r\npublic class jpaUserDetailsService implements UserDetailsService {\r\n    UserRepository userRepository;\r\n\r\n    public jpaUserDetailsService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return userRepository.findUserByUsername(username)\r\n                .map(SecurityUser::new)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found &quot; + username));\r\n    }\r\n}\r\n\r\n```\r\n# UserDetails \r\n\r\n```\r\npublic class SecurityUser implements UserDetails {\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return user.getRoles().stream()\r\n                .map(Role::getRole)\r\n                .map(UserRoles::toString)\r\n                .map(SimpleGrantedAuthority::new).toList();\r\n    }\r\n}\r\n```\r\n# I am using an enum for all my Roles\r\n\r\n```\r\npublic enum UserRoles {\r\n    ROLE_ADMIN,\r\n    ROLE_USER\r\n}\r\n```\r\n\r\n# Service to generate jwt Token\r\n```\r\npublic class TokenService  {\r\n    private final JwtEncoder jwtEncoder;\r\n\r\n    public TokenService(JwtEncoder jwtEncoder) {\r\n        this.jwtEncoder = jwtEncoder;\r\n    }\r\n\r\n    public String generateToken(Authentication authentication){\r\n        Instant now = Instant.now();\r\n\r\n        String scope = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n\r\n        JwtClaimsSet claims =  JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;)\r\n                .issuedAt(now.plus(1 , ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot; , scope)\r\n                .build();\r\n\r\n        return this.jwtEncoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n    }\r\n\r\n```\r\n# User Entity\r\n\r\n```\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private long userId;\r\n    @Column(unique = true , nullable = false)\r\n    private String username;\r\n    @Column(nullable = false)\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            joinColumns = @JoinColumn(name = &quot;userId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;roleId&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    private List&lt;Role&gt; roles;\r\n\r\n}\r\n```\r\n# Role Entity\r\n\r\n```\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long roleId;\r\n    @Column(unique = true , nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private UserRoles role;\r\n}\r\n```\r\nfinally my Contoroller\r\n\r\n\r\n```\r\n    @GetMapping(&quot;/student/&quot;) // route i want to allow with role user;\r\n    public Student getStudent(Principal principal){\r\n     \r\n    }\r\n\r\n    @GetMapping(&quot;/students/&quot;) // route i want to allow only role admin\r\n    public List&lt;Student&gt; getStudents(Principal principal){\r\n       \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZJaB7.png)\r\n","title":"Spring security config requestMatchers.hasRole() is always giving 403 forbidden status","body":"<p>I'm using Oauth2 resource server JWT for authentication.\nI'm trying to add authentication for two routes , route  &quot;/student/&quot; to give acess to role ROLE_USER and route &quot;/students/&quot; to role ROLE_ADMIN.</p>\n<h1>Security config</h1>\n<pre><code>    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(a -&gt;\n                {\n                    a.requestMatchers(&quot;/student/&quot;).hasAnyRole(&quot;ROLE_USER&quot;);\n                    a.requestMatchers(&quot;/student/**&quot;).hasAnyRole(&quot;ROLE_USER&quot;);\n                    a.requestMatchers(&quot;/students/&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;);\n                    a.requestMatchers(&quot;/students/**&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;);\n                    a.requestMatchers(&quot;/&quot;).permitAll();\n                    a.requestMatchers(&quot;/token/&quot;).permitAll();\n                    a.requestMatchers(&quot;/token/**&quot;).permitAll();\n                    a.anyRequest().authenticated();\n                })\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .userDetailsService(userDetailsService)\n                .headers(headers -&gt; headers.frameOptions().sameOrigin())\n                .httpBasic(Customizer.withDefaults())\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .build();\n    }\n\n</code></pre>\n<p>I tried to change <code>hasRole()</code> to <code>hasAnyRole()</code> , <code>hasAuthority()</code> , treid <code>@PreAuthorize()</code> on controller and  checked with using roles without &quot;<code>ROLE_</code>&quot; prefix but nothing has worked.</p>\n<h1>UserDetailsService</h1>\n<pre><code>public class jpaUserDetailsService implements UserDetailsService {\n    UserRepository userRepository;\n\n    public jpaUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return userRepository.findUserByUsername(username)\n                .map(SecurityUser::new)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found &quot; + username));\n    }\n}\n\n</code></pre>\n<h1>UserDetails</h1>\n<pre><code>public class SecurityUser implements UserDetails {\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return user.getRoles().stream()\n                .map(Role::getRole)\n                .map(UserRoles::toString)\n                .map(SimpleGrantedAuthority::new).toList();\n    }\n}\n</code></pre>\n<h1>I am using an enum for all my Roles</h1>\n<pre><code>public enum UserRoles {\n    ROLE_ADMIN,\n    ROLE_USER\n}\n</code></pre>\n<h1>Service to generate jwt Token</h1>\n<pre><code>public class TokenService  {\n    private final JwtEncoder jwtEncoder;\n\n    public TokenService(JwtEncoder jwtEncoder) {\n        this.jwtEncoder = jwtEncoder;\n    }\n\n    public String generateToken(Authentication authentication){\n        Instant now = Instant.now();\n\n        String scope = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n\n        JwtClaimsSet claims =  JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now.plus(1 , ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot; , scope)\n                .build();\n\n        return this.jwtEncoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n    }\n\n</code></pre>\n<h1>User Entity</h1>\n<pre><code>public class User {\n    @Id\n    @GeneratedValue\n    private long userId;\n    @Column(unique = true , nullable = false)\n    private String username;\n    @Column(nullable = false)\n    private String password;\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            joinColumns = @JoinColumn(name = &quot;userId&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;roleId&quot;)\n    )\n    @ToString.Exclude\n    private List&lt;Role&gt; roles;\n\n}\n</code></pre>\n<h1>Role Entity</h1>\n<pre><code>public class Role {\n    @Id\n    @GeneratedValue\n    private Long roleId;\n    @Column(unique = true , nullable = false)\n    @Enumerated(EnumType.STRING)\n    private UserRoles role;\n}\n</code></pre>\n<p>finally my Contoroller</p>\n<pre><code>    @GetMapping(&quot;/student/&quot;) // route i want to allow with role user;\n    public Student getStudent(Principal principal){\n     \n    }\n\n    @GetMapping(&quot;/students/&quot;) // route i want to allow only role admin\n    public List&lt;Student&gt; getStudents(Principal principal){\n       \n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZJaB7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1677054243,"post_id":75529902,"comment_id":133259553,"body_markdown":"don&#39;t add links to images with code. Post your code formatted in your question","body":"don&#39;t add links to images with code. Post your code formatted in your question"},{"owner":{"account_id":26147295,"reputation":168,"user_id":19835740,"display_name":"Daxelarne"},"score":0,"creation_date":1677054370,"post_id":75529902,"comment_id":133259591,"body_markdown":"Hy, welcome to Stack Overflow, please [don&#39;t upload text, table or error message as image](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). \nEdit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. \nAlso see [How to Ask](https://stackoverflow.com/help/how-to-ask)","body":"Hy, welcome to Stack Overflow, please <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">don&#39;t upload text, table or error message as image</a>.  Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options.  Also see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677054404,"creation_date":1677054404,"answer_id":75529931,"question_id":75529902,"body_markdown":"The solution is quite Easy. You are creating a Array which contains 3 Arrays.\r\nThis will result in a total of 4 Arrays 1 big Array and 3 Arrays in the big Array.\r\n\r\n`int` is a primitive Datatype and doesnt need to be collected by the Garbage Cleaner. Which means that it has to remove 4 Elements. ","title":"I don&#39;t understand why the number of object that was garbage collected is 4","body":"<p>The solution is quite Easy. You are creating a Array which contains 3 Arrays.\nThis will result in a total of 4 Arrays 1 big Array and 3 Arrays in the big Array.</p>\n<p><code>int</code> is a primitive Datatype and doesnt need to be collected by the Garbage Cleaner. Which means that it has to remove 4 Elements.</p>\n"}],"owner":{"account_id":21246631,"reputation":1,"user_id":15629278,"display_name":"CrowdStrife"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677054404,"creation_date":1677054122,"question_id":75529902,"body_markdown":"There was a problem in our practice test that I did not quite understand. The problem is, &quot;How many object/s will be garbage collected if we put arr2d = null in line 36.\r\n[enter image description here](https://i.stack.imgur.com/JFz4D.png)\r\nThe answer was 4, and I am confuse on how that became the answer to the question.\r\n\r\nI was unable to answer the question so I have no clue where to start.","title":"I don&#39;t understand why the number of object that was garbage collected is 4","body":"<p>There was a problem in our practice test that I did not quite understand. The problem is, &quot;How many object/s will be garbage collected if we put arr2d = null in line 36.\n<a href=\"https://i.stack.imgur.com/JFz4D.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe answer was 4, and I am confuse on how that became the answer to the question.</p>\n<p>I was unable to answer the question so I have no clue where to start.</p>\n"},{"tags":["java","testing","apache-flink","flink-sql"],"comments":[{"owner":{"account_id":12191873,"reputation":3799,"user_id":8899044,"display_name":"Dominik Wosi≈Ñski"},"score":0,"creation_date":1677191464,"post_id":75529913,"comment_id":133294872,"body_markdown":"Is there any reason why You don&#39;t want to create `DataStream` and then convert it to table ?","body":"Is there any reason why You don&#39;t want to create <code>DataStream</code> and then convert it to table ?"},{"owner":{"account_id":3280214,"reputation":603,"user_id":2760995,"accept_rate":88,"display_name":"tilman151"},"score":0,"creation_date":1677502812,"post_id":75529913,"comment_id":133344201,"body_markdown":"We are not using DataStream at all, which is why we do not maintain POJOs for our sources or intermediate results. Therefore, I have to rely on tuples to feed to the data stream. Our source has 14 columns and dragging the type definition of a `Tuple14` around is really bothersome. I was just wondering if there is a better  way.","body":"We are not using DataStream at all, which is why we do not maintain POJOs for our sources or intermediate results. Therefore, I have to rely on tuples to feed to the data stream. Our source has 14 columns and dragging the type definition of a <code>Tuple14</code> around is really bothersome. I was just wondering if there is a better  way."}],"owner":{"account_id":3280214,"reputation":603,"user_id":2760995,"accept_rate":88,"display_name":"tilman151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677054168,"creation_date":1677054168,"question_id":75529913,"body_markdown":"I want to create an dummy table in Flink Table API for testing purposes. For this I use the `StreamingTableEnvironment.fromValues` function. My program windows the table on event time, which is assigned to the column `time_ltz`. Here is my progress so far:\r\n\r\n```java\r\n@Test\r\npublic void build() throws Exception {\r\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    env.setParallelism(2);\r\n    env.getConfig().setGlobalJobParameters(params);\r\n    StreamTableEnvironment tEnv = StreamTableEnvironment.create(env);\r\n\r\n    Table inputTable = tEnv.fromValues(\r\n        DataTypes.ROW(\r\n            DataTypes.FIELD(&quot;time_ltz&quot;, DataTypes.TIMESTAMP_LTZ()),\r\n            DataTypes.FIELD(&quot;id&quot;, DataTypes.STRING()),\r\n            DataTypes.FIELD(&quot;measurement&quot;, DataTypes.DOUBLE())),\r\n        row(new Timestamp(10000L, &quot;abc&quot;, 1.0));\r\n\r\n    Table outputTable = inputTable\r\n        .window(aggregationWindow.on($(&quot;time_ltz&quot;)).as(&quot;w&quot;))\r\n        .groupBy($(&quot;id&quot;), $(&quot;w&quot;))\r\n        .select(\r\n            $(&quot;id&quot;),\r\n            $(&quot;w&quot;).start().as(&quot;window_start&quot;),\r\n            $(&quot;w&quot;).end().as(&quot;window_end&quot;),\r\n            $(&quot;measurement&quot;).sum());\r\n\r\n    tEnv.toDataStream(outputTable).print();\r\n    env.execute();\r\n}\r\n``` \r\n\r\nRunning this test results in the following error:\r\n\r\n```\r\norg.apache.flink.table.api.ValidationException: A group window expects a time attribute for grouping in a stream environment.\r\n```\r\n\r\nThis makes sense, as `time_ltz` is not set as the event time. Unfortunately, I cannot find a way to mark it as the event time. For the real input table I do it in DDL. Previously, I tried to construct a data stream, watermark it and then convert it into a table, but that seems more like a hack to me.","title":"Assign event time for Flink table created fromValues","body":"<p>I want to create an dummy table in Flink Table API for testing purposes. For this I use the <code>StreamingTableEnvironment.fromValues</code> function. My program windows the table on event time, which is assigned to the column <code>time_ltz</code>. Here is my progress so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void build() throws Exception {\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n    env.setParallelism(2);\n    env.getConfig().setGlobalJobParameters(params);\n    StreamTableEnvironment tEnv = StreamTableEnvironment.create(env);\n\n    Table inputTable = tEnv.fromValues(\n        DataTypes.ROW(\n            DataTypes.FIELD(&quot;time_ltz&quot;, DataTypes.TIMESTAMP_LTZ()),\n            DataTypes.FIELD(&quot;id&quot;, DataTypes.STRING()),\n            DataTypes.FIELD(&quot;measurement&quot;, DataTypes.DOUBLE())),\n        row(new Timestamp(10000L, &quot;abc&quot;, 1.0));\n\n    Table outputTable = inputTable\n        .window(aggregationWindow.on($(&quot;time_ltz&quot;)).as(&quot;w&quot;))\n        .groupBy($(&quot;id&quot;), $(&quot;w&quot;))\n        .select(\n            $(&quot;id&quot;),\n            $(&quot;w&quot;).start().as(&quot;window_start&quot;),\n            $(&quot;w&quot;).end().as(&quot;window_end&quot;),\n            $(&quot;measurement&quot;).sum());\n\n    tEnv.toDataStream(outputTable).print();\n    env.execute();\n}\n</code></pre>\n<p>Running this test results in the following error:</p>\n<pre><code>org.apache.flink.table.api.ValidationException: A group window expects a time attribute for grouping in a stream environment.\n</code></pre>\n<p>This makes sense, as <code>time_ltz</code> is not set as the event time. Unfortunately, I cannot find a way to mark it as the event time. For the real input table I do it in DDL. Previously, I tried to construct a data stream, watermark it and then convert it into a table, but that seems more like a hack to me.</p>\n"},{"tags":["javascript","java","testing","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677053978,"creation_date":1677053978,"answer_id":75529878,"question_id":75529341,"body_markdown":"First let me say that looks like a very badly designed API. Anyway you can do this:\r\n\r\n    * url &#39;https://httpbin.org/anything/compliance?=id10101016/accept&#39;\r\n    * method get\r\n\r\nAnd refer this for more details: https://stackoverflow.com/a/59977660/143475\r\n\r\nAnd if you are worried about dynamic data, that&#39;s not a problem:\r\n\r\n    * def id = &#39;10101016&#39;\r\n    * url `https://httpbin.org/anything/compliance?=id${id}/accept`\r\n    * method get\r\n\r\nI would think this is the right way:\r\n\r\n    * url &#39;https://httpbin.org/anything&#39;\r\n    * path &#39;compliance?=id10101016&#39;, &#39;accept&#39;\r\n    * method get\r\n\r\nAnd yes, the `?=` will get encoded, but that&#39;s how HTTP is supposed to work.\r\n\r\n\r\n","title":"Param between url in Karate Testing","body":"<p>First let me say that looks like a very badly designed API. Anyway you can do this:</p>\n<pre><code>* url 'https://httpbin.org/anything/compliance?=id10101016/accept'\n* method get\n</code></pre>\n<p>And refer this for more details: <a href=\"https://stackoverflow.com/a/59977660/143475\">https://stackoverflow.com/a/59977660/143475</a></p>\n<p>And if you are worried about dynamic data, that's not a problem:</p>\n<pre><code>* def id = '10101016'\n* url `https://httpbin.org/anything/compliance?=id${id}/accept`\n* method get\n</code></pre>\n<p>I would think this is the right way:</p>\n<pre><code>* url 'https://httpbin.org/anything'\n* path 'compliance?=id10101016', 'accept'\n* method get\n</code></pre>\n<p>And yes, the <code>?=</code> will get encoded, but that's how HTTP is supposed to work.</p>\n"}],"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75529878,"answer_count":1,"score":1,"last_activity_date":1677053978,"creation_date":1677050464,"question_id":75529341,"body_markdown":"I have situation like this:\r\n\r\n    \r\n```\r\n* url address\r\n    * header Authorization = &#39;Bearer &#39; + accessToken\r\n    * configure ssl = true\r\n    * path &#39;compliance&#39; + &#39;/accept&#39;\r\n    * param id = 10101016\r\n    * def req = {&quot;decision&quot;: &lt;decision&gt;, &quot;reasonId&quot;: &lt;reasonId&gt;, &quot;comment&quot;: &lt;comment&gt;}\r\n\r\n    Given request req\r\n    When method PUT\r\n    Then status 200\r\n```\r\n\r\nresault:\r\n.../compliance/accept?id=10101016\r\n\r\nAnd always my param go to end in url but I want this param between url like this:\r\n.../compliance?=id10101016/accept\r\n\r\nHow can I do this ? I am trying everythink but not working :/ \r\n\r\nI am looking answer on the internet but everywhere param go to the end of url.","title":"Param between url in Karate Testing","body":"<p>I have situation like this:</p>\n<pre><code>* url address\n    * header Authorization = 'Bearer ' + accessToken\n    * configure ssl = true\n    * path 'compliance' + '/accept'\n    * param id = 10101016\n    * def req = {&quot;decision&quot;: &lt;decision&gt;, &quot;reasonId&quot;: &lt;reasonId&gt;, &quot;comment&quot;: &lt;comment&gt;}\n\n    Given request req\n    When method PUT\n    Then status 200\n</code></pre>\n<p>resault:\n.../compliance/accept?id=10101016</p>\n<p>And always my param go to end in url but I want this param between url like this:\n.../compliance?=id10101016/accept</p>\n<p>How can I do this ? I am trying everythink but not working :/</p>\n<p>I am looking answer on the internet but everywhere param go to the end of url.</p>\n"},{"tags":["java","unit-testing","debugging","intellij-idea"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1492545927,"post_id":43481209,"comment_id":74018279,"body_markdown":"You&#39;ll need to elaborate. How does one manually change a variable without a breakpoint?","body":"You&#39;ll need to elaborate. How does one manually change a variable without a breakpoint?"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1492605091,"post_id":43481209,"comment_id":74045855,"body_markdown":"if you have a setter you can add it as an evaluate expression","body":"if you have a setter you can add it as an evaluate expression"}],"answers":[{"tags":[],"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492546372,"creation_date":1492546372,"answer_id":43481377,"question_id":43481209,"body_markdown":"You can [reload classes](https://www.jetbrains.com/help/idea/2017.1/reloading-classes.html) while running your program in Debug mode and changes in code will apply if possible (there are limitations) without restarting the program.\r\n\r\n&gt; To reload changed classes\r\n&gt; \r\n&gt; Do one of the following:\r\n&gt; \r\n&gt; * On the main menu, choose Run -&gt; Reload Changed Classes.\r\n&gt; * On the main menu, choose Build -&gt; Compile &quot;class_name&quot; to recompile an altered class during debug.\r\n\r\nNot aware about any other method to change the value of a variable &quot;in real-time&quot;.","title":"Changing variables in realtime when debugging in intellij?","body":"<p>You can <a href=\"https://www.jetbrains.com/help/idea/2017.1/reloading-classes.html\" rel=\"nofollow noreferrer\">reload classes</a> while running your program in Debug mode and changes in code will apply if possible (there are limitations) without restarting the program.</p>\n\n<blockquote>\n  <p>To reload changed classes</p>\n  \n  <p>Do one of the following:</p>\n  \n  <ul>\n  <li>On the main menu, choose Run -> Reload Changed Classes.</li>\n  <li>On the main menu, choose Build -> Compile \"class_name\" to recompile an altered class during debug.</li>\n  </ul>\n</blockquote>\n\n<p>Not aware about any other method to change the value of a variable \"in real-time\".</p>\n"},{"tags":[],"owner":{"account_id":11470688,"reputation":51,"user_id":8407617,"display_name":"Jagrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677053685,"creation_date":1677053685,"answer_id":75529827,"question_id":43481209,"body_markdown":"Yes, IntelliJ IDEA allows you to see real-time changes while debugging Java code. This feature is called HotSwap, and it allows you to modify your code while the program is running, without the need to stop and restart the debugger.\r\n\r\nTo use HotSwap in IntelliJ IDEA, you first need to enable it by going to the Run/Debug Configuration dialog and selecting the configuration for your application. Then, in the &quot;Debug&quot; tab, make sure the &quot;Enable HotSwap&quot; option is checked.\r\n\r\nTo use HotSwap, simply make your code changes in the editor and then press Ctrl+F9 (Windows/Linux) or Command+F9 (macOS) to compile and reload the code in the running program.\r\n\r\nNote that not all changes can be applied using HotSwap. Some changes, such as changes to class hierarchies or changes to method signatures, will require a full restart of the debugger. Additionally, HotSwap is not supported in all Java virtual machines, so make sure to check the compatibility of your JVM if you encounter any issues","title":"Changing variables in realtime when debugging in intellij?","body":"<p>Yes, IntelliJ IDEA allows you to see real-time changes while debugging Java code. This feature is called HotSwap, and it allows you to modify your code while the program is running, without the need to stop and restart the debugger.</p>\n<p>To use HotSwap in IntelliJ IDEA, you first need to enable it by going to the Run/Debug Configuration dialog and selecting the configuration for your application. Then, in the &quot;Debug&quot; tab, make sure the &quot;Enable HotSwap&quot; option is checked.</p>\n<p>To use HotSwap, simply make your code changes in the editor and then press Ctrl+F9 (Windows/Linux) or Command+F9 (macOS) to compile and reload the code in the running program.</p>\n<p>Note that not all changes can be applied using HotSwap. Some changes, such as changes to class hierarchies or changes to method signatures, will require a full restart of the debugger. Additionally, HotSwap is not supported in all Java virtual machines, so make sure to check the compatibility of your JVM if you encounter any issues</p>\n"}],"owner":{"display_name":"user6058447"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43481377,"answer_count":2,"score":0,"last_activity_date":1677053685,"creation_date":1492545816,"question_id":43481209,"body_markdown":"When debugging in eclipse, I believe you are able to change the value of a variable in the source and have it update in realtime without setting breakpoints or anything. I was wondering if the same was possible in intellij?\r\n\r\n[Same question but for eclipse.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3778217/changing-variables-in-realtime-when-debugging-in-eclipse","title":"Changing variables in realtime when debugging in intellij?","body":"<p>When debugging in eclipse, I believe you are able to change the value of a variable in the source and have it update in realtime without setting breakpoints or anything. I was wondering if the same was possible in intellij?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3778217/changing-variables-in-realtime-when-debugging-in-eclipse\">Same question but for eclipse.</a></p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-cloud-gateway"],"owner":{"account_id":13736251,"reputation":3,"user_id":9912445,"display_name":"Pramod Koppula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677053089,"creation_date":1677053089,"question_id":75529748,"body_markdown":"As Spring Cloud Gateway not supports external server deployment, how can we deploy it in Production environment?\r\n\r\n\r\nWe are trying to use Spring cloud Gateway service in our applications, actually we can&#39;t deploy our Micro Services on Embedded Tomcat server, we should deploy it in External servers, As Spring cloud Gateway not supports external server deployments, Is their any way to implement Spring Cloud Gateway without Embedded server?","title":"As Spring Cloud Gateway not supports external server deployment (War file deployment), how can we deploy it in Production environment?","body":"<p>As Spring Cloud Gateway not supports external server deployment, how can we deploy it in Production environment?</p>\n<p>We are trying to use Spring cloud Gateway service in our applications, actually we can't deploy our Micro Services on Embedded Tomcat server, we should deploy it in External servers, As Spring cloud Gateway not supports external server deployments, Is their any way to implement Spring Cloud Gateway without Embedded server?</p>\n"},{"tags":["java","spring-boot","zip"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1677051029,"post_id":75529393,"comment_id":133258738,"body_markdown":"share your code.","body":"share your code."},{"owner":{"display_name":"user19785671"},"score":0,"creation_date":1677051735,"post_id":75529393,"comment_id":133258910,"body_markdown":"@kerbermeister zip code is every where i want solution that do not need physical storagee","body":"@kerbermeister zip code is every where i want solution that do not need physical storagee"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677052515,"creation_date":1677052515,"answer_id":75529662,"question_id":75529393,"body_markdown":"You can use `java.util.zip.ZipInpuStream` to unzip and read contents of compressed file without saving it to file but having `byte[]` instead:\r\n```java\r\npublic class UnzipFile {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String fileZip = &quot;src/main/resources/unzipTest/compressed.zip&quot;;\r\n\r\n        FileInputStream in = new FileInputStream(fileZip);\r\n        unzipAndUse(in);// here you can pass any InputStream, e.g. ByteArrayInputStream wrapping POST request body\r\n    }\r\n\r\n    private static void unzipAndUse(InputStream in) throws IOException {\r\n        try (ZipInputStream zis = new ZipInputStream(in)) {\r\n            ZipEntry zipEntry = zis.getNextEntry();\r\n            while (zipEntry != null) {\r\n                byte[] bytes = zis.readAllBytes(); // your data\r\n                zipEntry = zis.getNextEntry();\r\n            }\r\n\r\n            zis.closeEntry();\r\n        }\r\n    }\r\n}\r\n```","title":"Unzip file without physical save in spring boot","body":"<p>You can use <code>java.util.zip.ZipInpuStream</code> to unzip and read contents of compressed file without saving it to file but having <code>byte[]</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UnzipFile {\n\n    public static void main(String[] args) throws IOException {\n        String fileZip = &quot;src/main/resources/unzipTest/compressed.zip&quot;;\n\n        FileInputStream in = new FileInputStream(fileZip);\n        unzipAndUse(in);// here you can pass any InputStream, e.g. ByteArrayInputStream wrapping POST request body\n    }\n\n    private static void unzipAndUse(InputStream in) throws IOException {\n        try (ZipInputStream zis = new ZipInputStream(in)) {\n            ZipEntry zipEntry = zis.getNextEntry();\n            while (zipEntry != null) {\n                byte[] bytes = zis.readAllBytes(); // your data\n                zipEntry = zis.getNextEntry();\n            }\n\n            zis.closeEntry();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19785671"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677415366,"accepted_answer_id":75529662,"answer_count":1,"score":0,"last_activity_date":1677052515,"creation_date":1677050758,"question_id":75529393,"body_markdown":"unzip file without physical save when we post local direction of zip file\r\n\r\nI want to Unzip file without physical save in spring boot when i post the file in local directory","title":"Unzip file without physical save in spring boot","body":"<p>unzip file without physical save when we post local direction of zip file</p>\n<p>I want to Unzip file without physical save in spring boot when i post the file in local directory</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":12265172,"reputation":557,"user_id":8951897,"display_name":"G. Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677052429,"creation_date":1677052429,"answer_id":75529647,"question_id":75528724,"body_markdown":"There are 2 approaches that you can try:\r\n\r\nUse innerHTML attribute:\r\n\r\n    String output=element.getAttribute(&quot;innerHTML&quot;);\r\n\r\nSelect the value and copy to clipboard:\r\n\r\n    element.Click();\r\n    element.sendKeys(Keys.chord(Keys.CONTROL,&quot;a&quot;));\r\n    element.sendKeys(Keys.chord(Keys.CONTROL,&quot;c&quot;));\r\n    Toolkit toolkit = Toolkit.getDefaultToolkit();\r\n    Clipboard clipboard = toolkit.getSystemClipboard();\r\n    String output = (String) clipboard.getData(DataFlavor.stringFlavor);\r\n\r\n","title":"getAttribute() and javascript executor not return actual display value","body":"<p>There are 2 approaches that you can try:</p>\n<p>Use innerHTML attribute:</p>\n<pre><code>String output=element.getAttribute(&quot;innerHTML&quot;);\n</code></pre>\n<p>Select the value and copy to clipboard:</p>\n<pre><code>element.Click();\nelement.sendKeys(Keys.chord(Keys.CONTROL,&quot;a&quot;));\nelement.sendKeys(Keys.chord(Keys.CONTROL,&quot;c&quot;));\nToolkit toolkit = Toolkit.getDefaultToolkit();\nClipboard clipboard = toolkit.getSystemClipboard();\nString output = (String) clipboard.getData(DataFlavor.stringFlavor);\n</code></pre>\n"}],"owner":{"account_id":27305979,"reputation":1,"user_id":20821963,"display_name":"Akshay Kachare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677052429,"creation_date":1677045039,"question_id":75528724,"body_markdown":"I am trying to return my passed data from the text box but when i try to return value from the text box it does not return actual value. There is on condition text box automatically converts the first later into capital. Suppose when i passed value &quot;abc&quot; then text box shows &quot;Abc&quot; but when get that value by using getAttribute() or javascript executor it returns me &quot;abc&quot; instead of &quot;Abc&quot;.\r\n\r\n    String input= &quot;abc&quot;;\r\n    \r\n    element.sendKeys(input);\r\n    \r\n    //text box shows &quot;Abc&quot;\r\n    \r\n    Thread.sleep(2000);\r\n    \r\n    String output=element.getAttribute(&quot;value&quot;);\r\n    \r\n    System.out.println(&quot;output&quot;);\r\n\r\noutput is &quot;abc&quot; insted of &quot;Abc&quot;\r\n\r\n\r\n","title":"getAttribute() and javascript executor not return actual display value","body":"<p>I am trying to return my passed data from the text box but when i try to return value from the text box it does not return actual value. There is on condition text box automatically converts the first later into capital. Suppose when i passed value &quot;abc&quot; then text box shows &quot;Abc&quot; but when get that value by using getAttribute() or javascript executor it returns me &quot;abc&quot; instead of &quot;Abc&quot;.</p>\n<pre><code>String input= &quot;abc&quot;;\n\nelement.sendKeys(input);\n\n//text box shows &quot;Abc&quot;\n\nThread.sleep(2000);\n\nString output=element.getAttribute(&quot;value&quot;);\n\nSystem.out.println(&quot;output&quot;);\n</code></pre>\n<p>output is &quot;abc&quot; insted of &quot;Abc&quot;</p>\n"},{"tags":["java","spring","spring-boot","exception","annotations"],"answers":[{"tags":[],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677052289,"creation_date":1677052289,"answer_id":75529617,"question_id":75511209,"body_markdown":"Solved! Using a bean in a config file and calling it back from the excHandlr.\r\n\r\nIn the ```@Annotation``` ```@interface``` were in need of the placeholder of ```@Value``` \r\ni.e.\r\n```java\r\npublic String message() default &quot;description&quot;;\r\n```\r\nin the given example but&#39;ll probably be something like ```&quot;error.description&quot;``` or whatever ","title":"Using @Value for a @CustomAnnotation in SpringBoot","body":"<p>Solved! Using a bean in a config file and calling it back from the excHandlr.</p>\n<p>In the <code>@Annotation</code> <code>@interface</code> were in need of the placeholder of <code>@Value</code>\ni.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String message() default &quot;description&quot;;\n</code></pre>\n<p>in the given example but'll probably be something like <code>&quot;error.description&quot;</code> or whatever</p>\n"}],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75529617,"answer_count":1,"score":1,"last_activity_date":1677052289,"creation_date":1676906997,"question_id":75511209,"body_markdown":"I&#39;ve read similar questions and relative answers but didn&#39;t find one whose fit.\r\n\r\nIn the given sample:\r\n\r\n```java\r\n@Target({ElementType.FIELD, ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = DescriptionValidationImpl.class)\r\npublic @interface DescriptionValidation {\r\n\r\n    public String message() default &quot;default&quot;; \r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nHow can i read a value from the ```.properties``` file and assign it to the message,\r\nknowing that ```@Value``` isn&#39;t a compile-time constant?\r\n\r\nHeard someone doing with the ExceptionHandlrController, is it possible? How?  \r\nAnd if i were in need of different messages for the same catched exc?\r\n\r\nI&#39;ve tried the following too even if it didn&#39;t make no sense for me:\r\n```java\r\n@Component\r\n@PropertySource(value = &quot;classpath:message.properties&quot;)\r\npublic class DescriptionProcessing {\r\n\r\n    @Value(&quot;${description}&quot;)\r\n    private String descriptionErrorMsg;\r\n\r\n    public void processAnnotation(DescriptionValidation annotation) {\r\n\r\n        String defaultDescriptionErrorMsg = annotation.message();\r\n\r\n        if (defaultDescriptionErrorMsg.equals(&quot;default&quot;))\r\n            defaultDescriptionErrorMsg = descriptionErrorMsg;\r\n    }\r\n}\r\n```\r\nBut kept printing the default one.","title":"Using @Value for a @CustomAnnotation in SpringBoot","body":"<p>I've read similar questions and relative answers but didn't find one whose fit.</p>\n<p>In the given sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = DescriptionValidationImpl.class)\npublic @interface DescriptionValidation {\n\n    public String message() default &quot;default&quot;; \n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>How can i read a value from the <code>.properties</code> file and assign it to the message,\nknowing that <code>@Value</code> isn't a compile-time constant?</p>\n<p>Heard someone doing with the ExceptionHandlrController, is it possible? How?<br />\nAnd if i were in need of different messages for the same catched exc?</p>\n<p>I've tried the following too even if it didn't make no sense for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@PropertySource(value = &quot;classpath:message.properties&quot;)\npublic class DescriptionProcessing {\n\n    @Value(&quot;${description}&quot;)\n    private String descriptionErrorMsg;\n\n    public void processAnnotation(DescriptionValidation annotation) {\n\n        String defaultDescriptionErrorMsg = annotation.message();\n\n        if (defaultDescriptionErrorMsg.equals(&quot;default&quot;))\n            defaultDescriptionErrorMsg = descriptionErrorMsg;\n    }\n}\n</code></pre>\n<p>But kept printing the default one.</p>\n"},{"tags":["java","caching","hashmap","guava"],"owner":{"account_id":12924013,"reputation":95,"user_id":9345418,"display_name":"Abhishek P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677052263,"creation_date":1677052263,"question_id":75529611,"body_markdown":"I&#39;m using LoadinCache to cache the data I get from database. For my use case I needed to use getAll() and loadAll() since I was making bulk calls to database with list of ids and store it in cache.\r\n\r\nMy LoadingCache implementation\r\n\r\n     private final LoadingCache&lt;Double, Double&gt; cache =\r\n      CacheBuilder.newBuilder()\r\n          .expireAfterAccess(3600, TimeUnit.SECONDS)\r\n          .maximumSize(1000)\r\n          .build(\r\n              new CacheLoader&lt;Double, Double&gt;() {\r\n                @Override\r\n                public Double load(final Double id) throws Exception {\r\n                  return null; // I never use this, as in, I never do cache.get()\r\n                }\r\n\r\n                @Override\r\n                public Map&lt;Double, Double&gt; loadAll(Iterable&lt;? extends Double&gt; ids) {\r\n                  return getFromDatabase(ids); // this method just makes a call to DB and returns a map\r\n                }\r\n              });\r\n\r\nAnd I&#39;m invoking it like this\r\n\r\n     private Map&lt;Double, Double&gt; getIdCodes(final Iterable&lt;? extends Double&gt; ids) {\r\n    Map&lt;Double, Double&gt; idCode = new HashMap&lt;&gt;();\r\n    try {\r\n      cache.getAll(ids);\r\n      idCode.putAll(cache.asMap());\r\n    } catch (final Exception e) {\r\n      // My logger here. \r\n      return idCode;\r\n    }\r\n    return ids; }\r\n  Now every time getAll(ids) is called, there is an &quot;InvalidCacheLoadException: loadAll failed to return a value for&quot; exception caught and logged through my logger for every key in the list that is passed.\r\n\r\nHowever, cache does return the correct value to idCode map and is returned. What is making cache to through this exception? Am I doing something wrong?\r\n\r\n   ","title":"LoadingCache: &quot;InvalidCacheLoadException: loadAll failed to return a value for&quot; thrown for every key passed to cache.getAll(ids)","body":"<p>I'm using LoadinCache to cache the data I get from database. For my use case I needed to use getAll() and loadAll() since I was making bulk calls to database with list of ids and store it in cache.</p>\n<p>My LoadingCache implementation</p>\n<pre><code> private final LoadingCache&lt;Double, Double&gt; cache =\n  CacheBuilder.newBuilder()\n      .expireAfterAccess(3600, TimeUnit.SECONDS)\n      .maximumSize(1000)\n      .build(\n          new CacheLoader&lt;Double, Double&gt;() {\n            @Override\n            public Double load(final Double id) throws Exception {\n              return null; // I never use this, as in, I never do cache.get()\n            }\n\n            @Override\n            public Map&lt;Double, Double&gt; loadAll(Iterable&lt;? extends Double&gt; ids) {\n              return getFromDatabase(ids); // this method just makes a call to DB and returns a map\n            }\n          });\n</code></pre>\n<p>And I'm invoking it like this</p>\n<pre><code> private Map&lt;Double, Double&gt; getIdCodes(final Iterable&lt;? extends Double&gt; ids) {\nMap&lt;Double, Double&gt; idCode = new HashMap&lt;&gt;();\ntry {\n  cache.getAll(ids);\n  idCode.putAll(cache.asMap());\n} catch (final Exception e) {\n  // My logger here. \n  return idCode;\n}\nreturn ids; }\n</code></pre>\n<p>Now every time getAll(ids) is called, there is an &quot;InvalidCacheLoadException: loadAll failed to return a value for&quot; exception caught and logged through my logger for every key in the list that is passed.</p>\n<p>However, cache does return the correct value to idCode map and is returned. What is making cache to through this exception? Am I doing something wrong?</p>\n"},{"tags":["java","spring","spring-boot","opencv"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1593112764,"post_id":62582676,"comment_id":110674242,"body_markdown":"FYI, some of the more powerful databases have a feature to directly load files into a table. For example, [`COPY`](https://www.postgresql.org/docs/current/sql-copy.html) in Postgres.","body":"FYI, some of the more powerful databases have a feature to directly load files into a table. For example, <a href=\"https://www.postgresql.org/docs/current/sql-copy.html\" rel=\"nofollow noreferrer\"><code>COPY</code></a> in Postgres."},{"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"score":0,"creation_date":1593123813,"post_id":62582676,"comment_id":110678513,"body_markdown":"@Ali Ouda You can make use of liquibase to load that CSV data into data base tables: Please refer to this document: https://docs.liquibase.com/change-types/community/load-data.html","body":"@Ali Ouda You can make use of liquibase to load that CSV data into data base tables: Please refer to this document: <a href=\"https://docs.liquibase.com/change-types/community/load-data.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/change-types/community/load-data.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":18864219,"reputation":311,"user_id":13760307,"display_name":"Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593400840,"creation_date":1593400840,"answer_id":62630714,"question_id":62582676,"body_markdown":"You can make use of spring batch to store the .csv data into the database, which has a job Launcher, job, and step(it consist of ItemReader, ItemProcessor, Itemwritter).\r\nfor reference visit this link \r\nhttps://spring.io/guides/gs/batch-processing/","title":"uploading .csv file into data base in spring boot","body":"<p>You can make use of spring batch to store the .csv data into the database, which has a job Launcher, job, and step(it consist of ItemReader, ItemProcessor, Itemwritter).\nfor reference visit this link\n<a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/batch-processing/</a></p>\n"}],"owner":{"account_id":14247063,"reputation":69,"user_id":10291780,"display_name":"Ali Ouda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677052210,"creation_date":1593112296,"question_id":62582676,"body_markdown":"This is my way of reading and saving into table which is working but it&#39;s very slow, I had a file consists of 360K records, this way took more than a day to parse them and save into database.\r\nI&#39;m looking for a better way\r\n\r\n`    public void parseEntitiesListFile() throws CsvValidationException, IOException {\r\n\r\n\t\t    List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n\t\t    CSVReader csvReader = new CSVReader(new FileReader(fileDirctory));\r\n\t\t    csvReader.skip(1);\r\n\t\t \r\n\t\t  String[] values = null;\r\n\t\t  \r\n\t\t  while(true) {\r\n\t\t\t  values = csvReader.readNext();\r\n\t\t\t  FFIList fFIListObject = new FFIList(); \r\n\t\t\t  fFIListObject.setGIIN(values[0]);\r\n\t\t\t  fFIListObject.setFINm(values[1]);\r\n\t\t\t  fFIListObject.setCountryNm(values[2]);\r\n\t\t\t  fFIListService.saveFFIListEntity(fFIListObject);\t\t\t  \r\n\t\t  }\r\n\t\t  \r\n\t\t  \r\n\t}\r\n     \r\n` ","title":"uploading .csv file into data base in spring boot","body":"<p>This is my way of reading and saving into table which is working but it's very slow, I had a file consists of 360K records, this way took more than a day to parse them and save into database.\nI'm looking for a better way</p>\n<p>`    public void parseEntitiesListFile() throws CsvValidationException, IOException {</p>\n<pre><code>        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;List&lt;String&gt;&gt;();\n        CSVReader csvReader = new CSVReader(new FileReader(fileDirctory));\n        csvReader.skip(1);\n     \n      String[] values = null;\n      \n      while(true) {\n          values = csvReader.readNext();\n          FFIList fFIListObject = new FFIList(); \n          fFIListObject.setGIIN(values[0]);\n          fFIListObject.setFINm(values[1]);\n          fFIListObject.setCountryNm(values[2]);\n          fFIListService.saveFFIListEntity(fFIListObject);            \n      }\n      \n      \n}\n \n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","javafx","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676908786,"post_id":75511309,"comment_id":133227462,"body_markdown":"You can use Attach&#39;s [BrowserService](https://github.com/gluonhq/attach/tree/master/modules/browser) for this.","body":"You can use Attach&#39;s <a href=\"https://github.com/gluonhq/attach/tree/master/modules/browser\" rel=\"nofollow noreferrer\">BrowserService</a> for this."},{"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"score":0,"creation_date":1676916311,"post_id":75511309,"comment_id":133229551,"body_markdown":"Thanks, I tried that.  I&#39;ve been using 4.0.17-SNAPSHOT to be able to load to current Google Play and BrowserService is only in 4.0.16 I believe.  With 4.0.16 BrowserService, it does not create the BrowserService on my Android phone (12).","body":"Thanks, I tried that.  I&#39;ve been using 4.0.17-SNAPSHOT to be able to load to current Google Play and BrowserService is only in 4.0.16 I believe.  With 4.0.16 BrowserService, it does not create the BrowserService on my Android phone (12)."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1676918003,"post_id":75511309,"comment_id":133229965,"body_markdown":"the snapshot should work too, if you add the Sonatype repo. But 4.0.16 should work (there are no recent changes on the service)?","body":"the snapshot should work too, if you add the Sonatype repo. But 4.0.16 should work (there are no recent changes on the service)?"},{"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"score":0,"creation_date":1676919048,"post_id":75511309,"comment_id":133230242,"body_markdown":"Ok, tried sonatype repository, same problem.  I added an edit above to illustrate.","body":"Ok, tried sonatype repository, same problem.  I added an edit above to illustrate."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1676919569,"post_id":75511309,"comment_id":133230385,"body_markdown":"I take that you have the Browser dependency added to your pom, _and_ browser is added to the AttachList configuration of the GluonFX plugin?","body":"I take that you have the Browser dependency added to your pom, <i>and</i> browser is added to the AttachList configuration of the GluonFX plugin?"},{"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"score":0,"creation_date":1676920305,"post_id":75511309,"comment_id":133230558,"body_markdown":"Argh... yes apologies.  Too many open projects problem!  All good now, thanks!","body":"Argh... yes apologies.  Too many open projects problem!  All good now, thanks!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676947858,"post_id":75511309,"comment_id":133235280,"body_markdown":"I‚Äôm confused, is there an answer here?  In which case, please write an answer as an answer.","body":"I‚Äôm confused, is there an answer here?  In which case, please write an answer as an answer."}],"answers":[{"tags":[],"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677052152,"creation_date":1677052152,"answer_id":75529592,"question_id":75511309,"body_markdown":"The answer is to use BrowserService in place of HostServices making sure you add browser to the attachList of the POM.","title":"How to get javafx HostServices showDocument() to work on Android","body":"<p>The answer is to use BrowserService in place of HostServices making sure you add browser to the attachList of the POM.</p>\n"}],"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677052152,"creation_date":1676907539,"question_id":75511309,"body_markdown":"I wish to fire up the default browser on an Android phone from my app. I am using javafx and gluon. The following code outlines a recommended method using HostServices, passing HostServices to the View:\r\n\r\n```\r\npublic class HSTest extends Application {\r\n    private final AppManager appManager = AppManager.initialize();\r\n\r\n    @Override\r\n    public void init() {\r\n        // Set up host services for (main) view\r\n        Supplier&lt;View&gt; mv = () -&gt; new MainView(getHostServices());\r\n\r\n        // And add the view\r\n        appManager.addViewFactory(HOME_VIEW, mv);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        appManager.start(primaryStage);\r\n    }\r\n}\r\n```\r\nand\r\n```\r\npublic class MainView extends View {\r\n    public MainView(HostServices hostServices) {\r\n        Label label = new Label(&quot;Show site page: stackoverflow&quot;);\r\n        Button button = new Button(&quot;Fire up the site&quot;);\r\n\r\n        // Fire up the default browser\r\n        button.setOnAction(p -&gt; {\r\n            hostServices.showDocument(&quot;https://stackoverflow.com/&quot;);\r\n        });\r\n        \r\n        VBox controls = new VBox(15.0, label, button);\r\n        controls.setAlignment(Pos.CENTER);\r\n        setCenter(controls);\r\n    }\r\n}\r\n```\r\nOn running the code (*gluonfx **run*** on Linux), this works as expected.  On installing to my Android phone and running *gluonfx **nativerun***, it fails with\r\n```\r\njava.lang.Exception: No web browser found\r\n      at com.sun.javafx.application.HostServicesDelegate$StandaloneHostService.showDocument(HostServicesDelegate.java:152)\r\n      at javafx.application.HostServices.showDocument(HostServices.java:115)\r\n      :\r\n```\r\n*adb*, however, finds the default browser with\r\n```\r\n~$ adb shell am start -a android.intent.action.VIEW -d https://www.stackoverflow.com\r\n```\r\nI wish to avoid using Android specific code as this is a cross-platform app and would also like to avoid using WebView because of the overhead and size where the web pages being addressed from within the app may be read only once or twice (being Ts &amp; Cs, privacy etc.).\r\n\r\nHow then, can I get HostServices to &quot;find&quot; the default browser on Android?\r\n\r\nEDIT:\r\nFollowing Jose&#39;s mention of BrowserService, I create the following code:\r\n```\r\n    public void init() {\r\n        // Set up services for view\r\n        Optional&lt;BrowserService&gt; bs = BrowserService.create();\r\n        if( bs.isPresent() )\r\n        {\r\n            Supplier&lt;View&gt; mv = () -&gt; new MainView(bs.get());\r\n            appManager.addViewFactory(HOME_VIEW, mv);\r\n        }\r\n        else\r\n            System.out.println(&quot;Eh??&quot;);\r\n    }\r\n```\r\nI get the following error with **nativerun**:\r\n```\r\n[Mon Feb 20 20:43:34 EET 2023][INFO] [SUB] D/GraalCompiled(11049): WARNING: No new instance for interface com.gluonhq.attach.browser.BrowserService and class com.gluonhq.attach.browser.impl.AndroidBrowserService\r\n[Mon Feb 20 20:43:34 EET 2023][INFO] [SUB] D/GraalCompiled(11049): Eh??\r\n```\r\n\r\nSOLN:  Make sure you add the class to the attachList in the POM!","title":"How to get javafx HostServices showDocument() to work on Android","body":"<p>I wish to fire up the default browser on an Android phone from my app. I am using javafx and gluon. The following code outlines a recommended method using HostServices, passing HostServices to the View:</p>\n<pre><code>public class HSTest extends Application {\n    private final AppManager appManager = AppManager.initialize();\n\n    @Override\n    public void init() {\n        // Set up host services for (main) view\n        Supplier&lt;View&gt; mv = () -&gt; new MainView(getHostServices());\n\n        // And add the view\n        appManager.addViewFactory(HOME_VIEW, mv);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        appManager.start(primaryStage);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class MainView extends View {\n    public MainView(HostServices hostServices) {\n        Label label = new Label(&quot;Show site page: stackoverflow&quot;);\n        Button button = new Button(&quot;Fire up the site&quot;);\n\n        // Fire up the default browser\n        button.setOnAction(p -&gt; {\n            hostServices.showDocument(&quot;https://stackoverflow.com/&quot;);\n        });\n        \n        VBox controls = new VBox(15.0, label, button);\n        controls.setAlignment(Pos.CENTER);\n        setCenter(controls);\n    }\n}\n</code></pre>\n<p>On running the code (<em>gluonfx <strong>run</strong></em> on Linux), this works as expected.  On installing to my Android phone and running <em>gluonfx <strong>nativerun</strong></em>, it fails with</p>\n<pre><code>java.lang.Exception: No web browser found\n      at com.sun.javafx.application.HostServicesDelegate$StandaloneHostService.showDocument(HostServicesDelegate.java:152)\n      at javafx.application.HostServices.showDocument(HostServices.java:115)\n      :\n</code></pre>\n<p><em>adb</em>, however, finds the default browser with</p>\n<pre><code>~$ adb shell am start -a android.intent.action.VIEW -d https://www.stackoverflow.com\n</code></pre>\n<p>I wish to avoid using Android specific code as this is a cross-platform app and would also like to avoid using WebView because of the overhead and size where the web pages being addressed from within the app may be read only once or twice (being Ts &amp; Cs, privacy etc.).</p>\n<p>How then, can I get HostServices to &quot;find&quot; the default browser on Android?</p>\n<p>EDIT:\nFollowing Jose's mention of BrowserService, I create the following code:</p>\n<pre><code>    public void init() {\n        // Set up services for view\n        Optional&lt;BrowserService&gt; bs = BrowserService.create();\n        if( bs.isPresent() )\n        {\n            Supplier&lt;View&gt; mv = () -&gt; new MainView(bs.get());\n            appManager.addViewFactory(HOME_VIEW, mv);\n        }\n        else\n            System.out.println(&quot;Eh??&quot;);\n    }\n</code></pre>\n<p>I get the following error with <strong>nativerun</strong>:</p>\n<pre><code>[Mon Feb 20 20:43:34 EET 2023][INFO] [SUB] D/GraalCompiled(11049): WARNING: No new instance for interface com.gluonhq.attach.browser.BrowserService and class com.gluonhq.attach.browser.impl.AndroidBrowserService\n[Mon Feb 20 20:43:34 EET 2023][INFO] [SUB] D/GraalCompiled(11049): Eh??\n</code></pre>\n<p>SOLN:  Make sure you add the class to the attachList in the POM!</p>\n"},{"tags":["java","hibernate","caching","distributed-caching"],"answers":[{"tags":[],"owner":{"account_id":8271,"reputation":2534,"user_id":14811,"accept_rate":33,"display_name":"Jonathan Barbero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677051937,"creation_date":1275080743,"answer_id":2932519,"question_id":2928013,"body_markdown":"I&#39;m working with EhCache for Hibernate and for application level cache since 3 years ago.\r\nWe use it with RMI for cache invalidation and it works really good. If you use the cache for replication you should take care about the object graph, it could turn very heavy with high cardinality relations.\r\n\r\nIf you use EhCache for Hibernate you could use it for Query cache (it&#39;s a good improvement for read-only tables) and it the table is modified it cleans the cache automatically.\r\nUsing EhCache to cache collections is a good idea too, to avoid joins a sub-selects.\r\n\r\n To clean the caches at time intervals you could implement a cache extension of EhCache that cleans the caches. We did it, it works well.","title":"hibernate distributed 2nd level cache options","body":"<p>I'm working with EhCache for Hibernate and for application level cache since 3 years ago.\nWe use it with RMI for cache invalidation and it works really good. If you use the cache for replication you should take care about the object graph, it could turn very heavy with high cardinality relations.</p>\n<p>If you use EhCache for Hibernate you could use it for Query cache (it's a good improvement for read-only tables) and it the table is modified it cleans the cache automatically.\nUsing EhCache to cache collections is a good idea too, to avoid joins a sub-selects.</p>\n<p>To clean the caches at time intervals you could implement a cache extension of EhCache that cleans the caches. We did it, it works well.</p>\n"},{"tags":[],"owner":{"account_id":24585,"reputation":1709,"user_id":62638,"display_name":"Talip Ozturk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275511850,"creation_date":1275511850,"answer_id":2961494,"question_id":2928013,"body_markdown":"Also check out [Hazelcast][1],  [Coherence][2] and [GemStone][3]. These are distributed caching solutions with Query support. They also have ready-to-go second level cache plug-in for Hibernate. Hazelcast is open source.\r\n\r\n\r\n  [1]: http://www.hazelcast.com/documentation.jsp#HibernateSecondLevelCache\r\n  [2]: http://www.oracle.com/technology/products/coherence/index.html\r\n  [3]: http://gemstone.com/products/gemfire","title":"hibernate distributed 2nd level cache options","body":"<p>Also check out <a href=\"http://www.hazelcast.com/documentation.jsp#HibernateSecondLevelCache\" rel=\"nofollow noreferrer\">Hazelcast</a>,  <a href=\"http://www.oracle.com/technology/products/coherence/index.html\" rel=\"nofollow noreferrer\">Coherence</a> and <a href=\"http://gemstone.com/products/gemfire\" rel=\"nofollow noreferrer\">GemStone</a>. These are distributed caching solutions with Query support. They also have ready-to-go second level cache plug-in for Hibernate. Hazelcast is open source.</p>\n"}],"owner":{"account_id":93850,"reputation":599,"user_id":256578,"display_name":"ishmeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4314,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2932519,"answer_count":2,"score":4,"last_activity_date":1677051937,"creation_date":1275040298,"question_id":2928013,"body_markdown":"Not really a question but I&#39;m looking for comments/suggestions from anyone who has experiences using one or more of the following:\r\n\r\n - EhCache with RMI \r\n - EhCache with JGroups\r\n - EhCache with Terracotta\r\n - Gigaspaces Data Grid\r\n\r\nA bit of background: our applications is read only for the most part but there is some user data that is read-write and some that is only written (and can also be reasonably inaccurate). In addition, it would be nice to have tools that enable us to flush and fill the cache at intervals or by admin intervention.\r\n\r\nRegarding the first option - are there any concerns about the overhead of RMI and performance of Java serialization?\r\n\r\n","title":"hibernate distributed 2nd level cache options","body":"<p>Not really a question but I'm looking for comments/suggestions from anyone who has experiences using one or more of the following:</p>\n\n<ul>\n<li>EhCache with RMI </li>\n<li>EhCache with JGroups</li>\n<li>EhCache with Terracotta</li>\n<li>Gigaspaces Data Grid</li>\n</ul>\n\n<p>A bit of background: our applications is read only for the most part but there is some user data that is read-write and some that is only written (and can also be reasonably inaccurate). In addition, it would be nice to have tools that enable us to flush and fill the cache at intervals or by admin intervention.</p>\n\n<p>Regarding the first option - are there any concerns about the overhead of RMI and performance of Java serialization?</p>\n"},{"tags":["java","runtime-error"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677050176,"post_id":75528927,"comment_id":133258547,"body_markdown":"*first* part (`NoSuchElementException`): `&quot; &quot;` is not a blank line (or blank string) - it contains a whitespace character, probably this is never being input by user || *second* part (`StringIndexOutOfBoundsException`): the posted stack trace seems to come from calling `substring()` (line 65 of SplitString.java,) but but that method is not being called in posted code - it is not the code where this Exception is being thrown","body":"<i>first</i> part (<code>NoSuchElementException</code>): <code>&quot; &quot;</code> is not a blank line (or blank string) - it contains a whitespace character, probably this is never being input by user || <i>second</i> part (<code>StringIndexOutOfBoundsException</code>): the posted stack trace seems to come from calling <code>substring()</code> (line 65 of SplitString.java,) but but that method is not being called in posted code - it is not the code where this Exception is being thrown"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1677122084,"post_id":75528927,"comment_id":133277037,"body_markdown":"Strange. For clarity, are you saying that the second code is having an error for a function that doesn&#39;t exist in the code - or that perhaps the test is looking  for a function that doesn&#39;t exist? Sorry, I&#39;m so new to this. And thank you for your clarity on the first part.","body":"Strange. For clarity, are you saying that the second code is having an error for a function that doesn&#39;t exist in the code - or that perhaps the test is looking  for a function that doesn&#39;t exist? Sorry, I&#39;m so new to this. And thank you for your clarity on the first part."}],"answers":[{"tags":[],"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677051936,"creation_date":1677051936,"answer_id":75529558,"question_id":75528927,"body_markdown":"It seems blank line means empty line.\r\nBecause it is not clear from requirements what the terminator should be, use trim() to remove all whitespaces, and if after trim the line is empty, then stop.\r\nHere is the corrected code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class SplitString{\r\n\r\n        public static void main( String[] args ){\r\n            String output = &quot;&quot;;\r\n            try (  Scanner scanner = new Scanner( System.in ); ){\r\n                do{\r\n                    String inputString = scanner.nextLine();\r\n                    if( inputString.trim().isEmpty() ){\r\n                        break;\r\n                    }\r\n                    output += inputString;\r\n                } while( true );\r\n            }\r\n            System.out.println( output );\r\n        }\r\n    }","title":"Java Concatenating Ever Growing String java.lang.RuntimeException","body":"<p>It seems blank line means empty line.\nBecause it is not clear from requirements what the terminator should be, use trim() to remove all whitespaces, and if after trim the line is empty, then stop.\nHere is the corrected code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SplitString{\n\n    public static void main( String[] args ){\n        String output = &quot;&quot;;\n        try (  Scanner scanner = new Scanner( System.in ); ){\n            do{\n                String inputString = scanner.nextLine();\n                if( inputString.trim().isEmpty() ){\n                    break;\n                }\n                output += inputString;\n            } while( true );\n        }\n        System.out.println( output );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75529558,"answer_count":1,"score":-1,"last_activity_date":1677051936,"creation_date":1677046940,"question_id":75528927,"body_markdown":"*I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments. We upload our draft code to a cloud program tester which automatically checks and grades the assignments.*\r\n\r\n**Note: I am allowed to ask questions on StackOverflow per instructor.**\r\n\r\nThis is week ~3 of first semester. I&#39;ve never coded in Java before. We have only discussed up to functions (including  if/else, while, loops, switch) so I can&#39;t use features from future modules. \r\n\r\nWe were not given a class tutorial on this specific assignment. The unit was on flow control.\r\n\r\nMy code (below) runs okay in the VSCODE IDE cloud the school provided.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SplitString {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String output = &quot;&quot;;\r\n\r\n    do {\r\n  \r\n      String inputString = scanner.nextLine();\r\n\r\n      if (!inputString.equals(&quot; &quot;)) {\r\n        output += inputString;\r\n      } else {\r\n        break;\r\n      }\r\n    } while (true);\r\n    System.out.println(output);\r\n    scanner.close();\r\n  }\r\n}\r\n```\r\n\r\nI get this back\r\n\r\n```\r\njava.lang.RuntimeException \r\njava.lang.RuntimeException: Your application is expecting user input when no user input suppose to be given. Please take a look at the &#39;Caused by...&#39; section of this stack trace for details of where the problem occurred in your code.\r\nI get this feedback (which I don&#39;t understand)\r\njava.lang.RuntimeException: Your application is expecting user input when no user input suppose to be given. Please take a look at the &#39;Caused by...&#39; section of this stack trace for details of where the problem occurred in your code.\r\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:248)\r\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.util.NoSuchElementException: No line found\r\nat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\nat defaultPackage.SplitString.main(SplitString.java:13)\r\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:245)\r\n```\r\n\r\nThe program **test** enters strings such as hello hello hello and supposed to stop at a blank line. Per the assignment *&quot;When this application receives a blank input, this application should stop receiving input and print the growing string to the console. The last string that this program should print is the result of the growing string.&quot;*\r\n\r\nAt first I tried another method that just stopped at ENTER but then I got a different error (other code below.) That showed me the test was ending with a &quot; &quot; blank space not ENTER. Although the instructor said in discussion it presses enter. So I&#39;m basically lost.\r\n\r\nHere is the old code\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SplitString {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner sx = new Scanner(System.in);\r\n    String stringInput;\r\n    String output = &quot;&quot;;\r\n\r\n    do {\r\n      stringInput = sx.nextLine();\r\n     \r\n      output += stringInput;\r\n      \r\n    } while (!stringInput.isEmpty());\r\n\r\n    System.out.println(output);\r\n    sx.close();\r\n  }\r\n}\r\n```\r\n\r\nGives this error\r\n\r\n```\r\njava.lang.StringIndexOutOfBoundsException: begin 0, end 12, length 3\r\nat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\r\nat java.base/java.lang.String.substring(String.java:1874)\r\nat homework.SplitString.main(SplitString.java:65)\r\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:288)\r\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nAny help would be appreciated to:\r\n- Explain where I&#39;m going wrong or what I need to fix or something I could try\r\n- Explain what the errors mean that I&#39;m getting (or where I can learn more about understanding the errors and how to read what to fix from them\r\n\r\nThank you for your time and support and patience &lt;3. \r\n\r\nI expected for the program to concatenate the user provided string until a blank is entered then print the resulting string to the console. ","title":"Java Concatenating Ever Growing String java.lang.RuntimeException","body":"<p><em>I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments. We upload our draft code to a cloud program tester which automatically checks and grades the assignments.</em></p>\n<p><strong>Note: I am allowed to ask questions on StackOverflow per instructor.</strong></p>\n<p>This is week ~3 of first semester. I've never coded in Java before. We have only discussed up to functions (including  if/else, while, loops, switch) so I can't use features from future modules.</p>\n<p>We were not given a class tutorial on this specific assignment. The unit was on flow control.</p>\n<p>My code (below) runs okay in the VSCODE IDE cloud the school provided.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SplitString {\n\n  public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    String output = &quot;&quot;;\n\n    do {\n  \n      String inputString = scanner.nextLine();\n\n      if (!inputString.equals(&quot; &quot;)) {\n        output += inputString;\n      } else {\n        break;\n      }\n    } while (true);\n    System.out.println(output);\n    scanner.close();\n  }\n}\n</code></pre>\n<p>I get this back</p>\n<pre><code>java.lang.RuntimeException \njava.lang.RuntimeException: Your application is expecting user input when no user input suppose to be given. Please take a look at the 'Caused by...' section of this stack trace for details of where the problem occurred in your code.\nI get this feedback (which I don't understand)\njava.lang.RuntimeException: Your application is expecting user input when no user input suppose to be given. Please take a look at the 'Caused by...' section of this stack trace for details of where the problem occurred in your code.\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:248)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.util.NoSuchElementException: No line found\nat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\nat defaultPackage.SplitString.main(SplitString.java:13)\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:245)\n</code></pre>\n<p>The program <strong>test</strong> enters strings such as hello hello hello and supposed to stop at a blank line. Per the assignment <em>&quot;When this application receives a blank input, this application should stop receiving input and print the growing string to the console. The last string that this program should print is the result of the growing string.&quot;</em></p>\n<p>At first I tried another method that just stopped at ENTER but then I got a different error (other code below.) That showed me the test was ending with a &quot; &quot; blank space not ENTER. Although the instructor said in discussion it presses enter. So I'm basically lost.</p>\n<p>Here is the old code</p>\n<pre><code>import java.util.Scanner;\n\npublic class SplitString {\n\n  public static void main(String[] args) {\n    Scanner sx = new Scanner(System.in);\n    String stringInput;\n    String output = &quot;&quot;;\n\n    do {\n      stringInput = sx.nextLine();\n     \n      output += stringInput;\n      \n    } while (!stringInput.isEmpty());\n\n    System.out.println(output);\n    sx.close();\n  }\n}\n</code></pre>\n<p>Gives this error</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: begin 0, end 12, length 3\nat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\nat java.base/java.lang.String.substring(String.java:1874)\nat homework.SplitString.main(SplitString.java:65)\nat tests.HomeworkTests.lambda$test_splitString$5(HomeworkTests.java:288)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Any help would be appreciated to:</p>\n<ul>\n<li>Explain where I'm going wrong or what I need to fix or something I could try</li>\n<li>Explain what the errors mean that I'm getting (or where I can learn more about understanding the errors and how to read what to fix from them</li>\n</ul>\n<p>Thank you for your time and support and patience &lt;3.</p>\n<p>I expected for the program to concatenate the user provided string until a blank is entered then print the resulting string to the console.</p>\n"},{"tags":["java","excel","apache-poi","openxml"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677051427,"creation_date":1677051427,"answer_id":75529485,"question_id":75528597,"body_markdown":"The &quot;Classic PivotTable Layout&quot; consists of following settings:\r\n\r\nIn Pivot Table Definition:\r\n\r\n - Set Grid Drop Zones true to show the drop zones for pivot fields.\r\n - Set Compact and Compact Data to false so the whole layout is not a\r\n   compact layout.\r\n - Microsoft Excel itself also sets Multiple Field Filters to false and\r\n   Item Print Titles to true. But this seems not really necessary.\r\n\r\nIn Pivot Fields:\r\n\r\nFor each pivot field set Compact false and set Outline false.\r\nEach pivot field layout neither needs to be compact nor outline.\r\n\r\nFollowing complete example shows this. It results in a privot table using the &quot;Classic PivotTable Layout&quot;:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    class CreatePivotTable {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (Workbook workbook = new XSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\r\n    \r\n       Sheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;);\r\n       Sheet dataSheet = workbook.createSheet(&quot;Data&quot;);\r\n    \r\n       Row row;\r\n       Cell cell;\r\n       Object[][] data = new Object[][]{\r\n        new Object[]{&quot;Name&quot;, &quot;Country&quot;, &quot;Count&quot;, &quot;Value&quot;},\r\n        new Object[]{&quot;A&quot;, &quot;C1&quot;, 2d, 123.56},\r\n        new Object[]{&quot;B&quot;, &quot;C1&quot;, 4d, 34.56},\r\n        new Object[]{&quot;A&quot;, &quot;C2&quot;, 1d, 56.78},\r\n        new Object[]{&quot;B&quot;, &quot;C2&quot;, 7d, 23.45},\r\n        new Object[]{&quot;A&quot;, &quot;C1&quot;, 3d, 234.56},\r\n        new Object[]{&quot;B&quot;, &quot;C1&quot;, 5d, 78.90}\r\n       };\r\n       for (int r = 0; r &lt; data.length; r++) {\r\n        row = dataSheet.createRow(r);\r\n        Object[] rowData = data[r];\r\n        for (int c = 0; c &lt; rowData.length; c++) {\r\n         cell = row.createCell(c);\r\n         if (rowData[c] instanceof String) {\r\n          cell.setCellValue((String)rowData[c]);\r\n         } else if (rowData[c] instanceof Double) {\r\n          cell.setCellValue((Double)rowData[c]);\r\n         }\r\n        }\r\n       }\r\n    \r\n       AreaReference areaReference = new AreaReference(\r\n        new CellReference(0,0),\r\n        new CellReference(data.length-1, data[0].length-1),\r\n        SpreadsheetVersion.EXCEL2007);\r\n    \r\n       XSSFPivotTable pivotTable = ((XSSFSheet)pivotSheet).createPivotTable(areaReference, new CellReference(&quot;A4&quot;), dataSheet);\r\n    \r\n       pivotTable.addRowLabel(0);\r\n       pivotTable.addRowLabel(1);\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2, &quot;Sum of count&quot;);\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum of value&quot;);\r\n    \r\n       pivotTable.getCTPivotTableDefinition().getPivotTableStyleInfo().setName(&quot;PivotStyleDark7&quot;);\r\n       \r\n       pivotTable.getCTPivotTableDefinition().setCompact(false);\r\n       pivotTable.getCTPivotTableDefinition().setCompactData(false);\r\n       pivotTable.getCTPivotTableDefinition().setGridDropZones(true);\r\n       //pivotTable.getCTPivotTableDefinition().setMultipleFieldFilters(false);\r\n       //pivotTable.getCTPivotTableDefinition().setItemPrintTitles(true);\r\n       for (org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotField pivotField : pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldList()) {\r\n    \tpivotField.setCompact(false);  \r\n    \tpivotField.setOutline(false);  \r\n       }\r\n    \r\n       workbook.write(fileout);\r\n    \r\n      }\r\n    \r\n     }\r\n    }","title":"Need to enable &#39;Classic Pivot Table Layout&#39; option in excel using Apache POI JAVA","body":"<p>The &quot;Classic PivotTable Layout&quot; consists of following settings:</p>\n<p>In Pivot Table Definition:</p>\n<ul>\n<li>Set Grid Drop Zones true to show the drop zones for pivot fields.</li>\n<li>Set Compact and Compact Data to false so the whole layout is not a\ncompact layout.</li>\n<li>Microsoft Excel itself also sets Multiple Field Filters to false and\nItem Print Titles to true. But this seems not really necessary.</li>\n</ul>\n<p>In Pivot Fields:</p>\n<p>For each pivot field set Compact false and set Outline false.\nEach pivot field layout neither needs to be compact nor outline.</p>\n<p>Following complete example shows this. It results in a privot table using the &quot;Classic PivotTable Layout&quot;:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nclass CreatePivotTable {\n\n public static void main(String[] args) throws Exception {\n\n  try (Workbook workbook = new XSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\n\n   Sheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;);\n   Sheet dataSheet = workbook.createSheet(&quot;Data&quot;);\n\n   Row row;\n   Cell cell;\n   Object[][] data = new Object[][]{\n    new Object[]{&quot;Name&quot;, &quot;Country&quot;, &quot;Count&quot;, &quot;Value&quot;},\n    new Object[]{&quot;A&quot;, &quot;C1&quot;, 2d, 123.56},\n    new Object[]{&quot;B&quot;, &quot;C1&quot;, 4d, 34.56},\n    new Object[]{&quot;A&quot;, &quot;C2&quot;, 1d, 56.78},\n    new Object[]{&quot;B&quot;, &quot;C2&quot;, 7d, 23.45},\n    new Object[]{&quot;A&quot;, &quot;C1&quot;, 3d, 234.56},\n    new Object[]{&quot;B&quot;, &quot;C1&quot;, 5d, 78.90}\n   };\n   for (int r = 0; r &lt; data.length; r++) {\n    row = dataSheet.createRow(r);\n    Object[] rowData = data[r];\n    for (int c = 0; c &lt; rowData.length; c++) {\n     cell = row.createCell(c);\n     if (rowData[c] instanceof String) {\n      cell.setCellValue((String)rowData[c]);\n     } else if (rowData[c] instanceof Double) {\n      cell.setCellValue((Double)rowData[c]);\n     }\n    }\n   }\n\n   AreaReference areaReference = new AreaReference(\n    new CellReference(0,0),\n    new CellReference(data.length-1, data[0].length-1),\n    SpreadsheetVersion.EXCEL2007);\n\n   XSSFPivotTable pivotTable = ((XSSFSheet)pivotSheet).createPivotTable(areaReference, new CellReference(&quot;A4&quot;), dataSheet);\n\n   pivotTable.addRowLabel(0);\n   pivotTable.addRowLabel(1);\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2, &quot;Sum of count&quot;);\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum of value&quot;);\n\n   pivotTable.getCTPivotTableDefinition().getPivotTableStyleInfo().setName(&quot;PivotStyleDark7&quot;);\n   \n   pivotTable.getCTPivotTableDefinition().setCompact(false);\n   pivotTable.getCTPivotTableDefinition().setCompactData(false);\n   pivotTable.getCTPivotTableDefinition().setGridDropZones(true);\n   //pivotTable.getCTPivotTableDefinition().setMultipleFieldFilters(false);\n   //pivotTable.getCTPivotTableDefinition().setItemPrintTitles(true);\n   for (org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotField pivotField : pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldList()) {\n    pivotField.setCompact(false);  \n    pivotField.setOutline(false);  \n   }\n\n   workbook.write(fileout);\n\n  }\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":16562127,"reputation":73,"user_id":11967792,"display_name":"abhijit.bhatta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75529485,"answer_count":1,"score":1,"last_activity_date":1677051427,"creation_date":1677043715,"question_id":75528597,"body_markdown":"I have some data in an ExcelSheet, and I am trying to create a pivot table with multiple column labels and row labels. \r\nI need to generate the pivot with Classic Pivot Table Layout option enabled. \r\nI tried doing it using the below code , but this does not seem to work.\r\n\r\n     org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\r\n    \t\t   org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\r\n    \t\t   String extXML = &quot;&lt;x14:pivotTableDefinition&quot;\r\n    \t\t\t\t    + &quot; xmlns:x14=\\&quot;http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\&quot;&gt;&quot;\r\n    \t\t\t\t    + &quot;&lt;x14:pivotTableStyleInfo showColStripes=\\&quot;0\\&quot; showRowStripes=\\&quot;0\\&quot; showLastColumn=\\&quot;0\\&quot; showRowHeaders=\\&quot;1\\&quot; showColumnHeaders=\\&quot;1\\&quot;/&gt;&lt;/x14:pivotTableDefinition&gt;&quot;;\r\n    \t\t  System.out.println(extXML);\r\n    \t\t   org.apache.xmlbeans.XmlObject xmlObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);\t\t   \r\n    \t\t\t\text.set(xmlObject);\r\n    \t\t\t\text.setUri(&quot;{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}&quot;);\r\n\r\nIs there a way to enable Classic Pivot Table Layout in excel using APACHE POI/ooxml .","title":"Need to enable &#39;Classic Pivot Table Layout&#39; option in excel using Apache POI JAVA","body":"<p>I have some data in an ExcelSheet, and I am trying to create a pivot table with multiple column labels and row labels.\nI need to generate the pivot with Classic Pivot Table Layout option enabled.\nI tried doing it using the below code , but this does not seem to work.</p>\n<pre><code> org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\n           org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\n           String extXML = &quot;&lt;x14:pivotTableDefinition&quot;\n                    + &quot; xmlns:x14=\\&quot;http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\&quot;&gt;&quot;\n                    + &quot;&lt;x14:pivotTableStyleInfo showColStripes=\\&quot;0\\&quot; showRowStripes=\\&quot;0\\&quot; showLastColumn=\\&quot;0\\&quot; showRowHeaders=\\&quot;1\\&quot; showColumnHeaders=\\&quot;1\\&quot;/&gt;&lt;/x14:pivotTableDefinition&gt;&quot;;\n          System.out.println(extXML);\n           org.apache.xmlbeans.XmlObject xmlObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);          \n                ext.set(xmlObject);\n                ext.setUri(&quot;{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}&quot;);\n</code></pre>\n<p>Is there a way to enable Classic Pivot Table Layout in excel using APACHE POI/ooxml .</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1676744849,"post_id":75342509,"comment_id":133200723,"body_markdown":"Sharing a minimum reproducible example of you problem might get you the solution faster. Also, post your logs as text, not as an image, even if it&#39;s long. An image is not searchable and is much harder to analyze.","body":"Sharing a minimum reproducible example of you problem might get you the solution faster. Also, post your logs as text, not as an image, even if it&#39;s long. An image is not searchable and is much harder to analyze."},{"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"score":0,"creation_date":1677030633,"post_id":75342509,"comment_id":133255797,"body_markdown":"@S. Cannon, could you provide some context about package structure and how you&#39;re using @ComponentScan?","body":"@S. Cannon, could you provide some context about package structure and how you&#39;re using @ComponentScan?"}],"answers":[{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895262,"creation_date":1676529482,"answer_id":75468641,"question_id":75342509,"body_markdown":"You can add `@Order(SecurityProperties.BASIC_AUTH_ORDER)` annotation to **SecurityConfig** class above `@Configuration` annotation. So, your security configuration becomes higher precedence than the default configuration. Also, you may think add `@Bean` annotation to  **ArchlandsUserDetailsService**, in case to be sure it is properly registered.\r\n","title":"Spring Boot Not Invoking SecurityFilterChain","body":"<p>You can add <code>@Order(SecurityProperties.BASIC_AUTH_ORDER)</code> annotation to <strong>SecurityConfig</strong> class above <code>@Configuration</code> annotation. So, your security configuration becomes higher precedence than the default configuration. Also, you may think add <code>@Bean</code> annotation to  <strong>ArchlandsUserDetailsService</strong>, in case to be sure it is properly registered.</p>\n"},{"tags":[],"owner":{"account_id":6666037,"reputation":1880,"user_id":5143658,"display_name":"gybandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676883934,"creation_date":1676883934,"answer_id":75507200,"question_id":75342509,"body_markdown":"If I see it correctly, the `System.out.println(&quot;In securityFilterChain&quot;)` in SecurityConfig doesn&#39;t get printed. If that&#39;s the case, the problem is that the SecurityConfig Configuration doesn&#39;t get picked up by Spring.\r\n\r\nIf you don&#39;t use custom *@ComponentScan*-s, check your main Spring class&#39; (the one that is annotated with *@SpringBootApplication*) package - it should be at least the same package level, as your SecurityConfig. Eg.\r\n\r\nIf your @SpringBootApplication is in package:\r\n\r\n    org.dummy.app.SpringBootApp\r\n\r\nThen the Security config should be under the org.dummy.app package, like:\r\n\r\n    org.dummy.app.SecurityConfig\r\n\r\nor like:\r\n\r\n    org.dummy.app.config.SecurityConfig\r\n\r\n","title":"Spring Boot Not Invoking SecurityFilterChain","body":"<p>If I see it correctly, the <code>System.out.println(&quot;In securityFilterChain&quot;)</code> in SecurityConfig doesn't get printed. If that's the case, the problem is that the SecurityConfig Configuration doesn't get picked up by Spring.</p>\n<p>If you don't use custom <em>@ComponentScan</em>-s, check your main Spring class' (the one that is annotated with <em>@SpringBootApplication</em>) package - it should be at least the same package level, as your SecurityConfig. Eg.</p>\n<p>If your @SpringBootApplication is in package:</p>\n<pre><code>org.dummy.app.SpringBootApp\n</code></pre>\n<p>Then the Security config should be under the org.dummy.app package, like:</p>\n<pre><code>org.dummy.app.SecurityConfig\n</code></pre>\n<p>or like:</p>\n<pre><code>org.dummy.app.config.SecurityConfig\n</code></pre>\n"}],"owner":{"account_id":6841559,"reputation":59,"user_id":5261779,"accept_rate":67,"display_name":"S. Cannon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677051272,"creation_date":1675476279,"question_id":75342509,"body_markdown":"I setup a springboot application and am trying to get basic user logins setup. From everything I have researched, having the @Configuration and @EnableWebSecurity tags are enough to alert Spring about your class which overrides its configurations (With a @Bean method returning a SecurityFilterChain). However, when running the application, it still uses the DefaultSecurityFilterChain and wants me to login with &quot;user&quot; and autogenerated password that is dumped in the console. I&#39;m not sure what I&#39;m missing to get Spring to recognize my SecurityConfig. However I don&#39;t get any System.out/log.info messages when running (other than the main method&#39;s Hello World), and it doesn&#39;t recognize users from the UserDetailsService.  \r\n\r\nSecurityConfig:\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\tpublic class SecurityConfig {\r\n\t\t@Autowired\r\n\t\tprivate ArchlandsUserDetailsService userDetailsService;\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t\tSystem.out.println(&quot;In securityFilterChain&quot;);\t\r\n\t\t\t\r\n\t\t\thttp\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t\t.requestMatchers(&quot;archlands/api/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t)\r\n\t\t\t\t.formLogin((form) -&gt; form\r\n\t\t\t\t\t.loginPage(&quot;/login&quot;).permitAll()\r\n\t\t\t\t)\r\n\t\t\t\t.logout((logout) -&gt; logout.permitAll())\r\n\t\t\t\t.authenticationProvider(authenticationProvider());\r\n\t\t\t\r\n\t\t\treturn http.build();\r\n\t\t}\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\t\treturn authenticationProvider;\r\n\t\t}\r\n\t}\r\n\r\nUserDetailsService\r\n\r\n    @RequiredArgsConstructor\r\n\t@Service\r\n\t@Slf4j\r\n\tpublic class ArchlandsUserDetailsService implements UserDetailsService {\r\n\t\t@Autowired\r\n\t\tprivate UserService userService;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic UserDetails loadUserByUsername(String username) {\r\n\t\t\tString cleanedUsername = ArchlandsInputSanitizer.clean(username);\r\n\t\t\tlog.info(&quot;User &quot; + cleanedUsername + &quot; is attempting to access the Archlands.&quot;);\r\n\t\t\tSystem.out.println(&quot;User &quot; + cleanedUsername + &quot; is attempting to access the Archlands.&quot;);\r\n\t\t\t\r\n\t\t\tSet&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\r\n\t\t\tUserDto user = userService.findById(cleanedUsername);\r\n\t\t\t\r\n\t\t\tif (user == null) {\r\n\t\t\t\tlog.error(&quot;No user exists with user id: &quot; + cleanedUsername);\r\n\t\t\t\tthrow new UsernameNotFoundException(&quot;No user exists with user id: &quot; + cleanedUsername);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (user.getStatus().equals(&quot;Active&quot;)) {\r\n\t\t\t\tgrantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; user.getRoles().length; i++) {\r\n\t\t\t\tif (user.getRoles()[i].equals(Role.DM_ROLE)) {\r\n\t\t\t\t\tgrantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_DM&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlog.info(&quot;User: &quot; + cleanedUsername + &quot; has authorities: &quot; + grantedAuthorities.toString());\r\n\t\t\t\r\n\t\t\treturn new User(user.getId(), user.getPassword(), grantedAuthorities);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nConsole Output\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ZW4M.png","title":"Spring Boot Not Invoking SecurityFilterChain","body":"<p>I setup a springboot application and am trying to get basic user logins setup. From everything I have researched, having the @Configuration and @EnableWebSecurity tags are enough to alert Spring about your class which overrides its configurations (With a @Bean method returning a SecurityFilterChain). However, when running the application, it still uses the DefaultSecurityFilterChain and wants me to login with &quot;user&quot; and autogenerated password that is dumped in the console. I'm not sure what I'm missing to get Spring to recognize my SecurityConfig. However I don't get any System.out/log.info messages when running (other than the main method's Hello World), and it doesn't recognize users from the UserDetailsService.</p>\n<p>SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    private ArchlandsUserDetailsService userDetailsService;\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        System.out.println(&quot;In securityFilterChain&quot;);   \n        \n        http\n            .csrf().disable()\n            .authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;archlands/api/**&quot;).hasRole(&quot;USER&quot;)\n                .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                .loginPage(&quot;/login&quot;).permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll())\n            .authenticationProvider(authenticationProvider());\n        \n        return http.build();\n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>UserDetailsService</p>\n<pre><code>@RequiredArgsConstructor\n@Service\n@Slf4j\npublic class ArchlandsUserDetailsService implements UserDetailsService {\n    @Autowired\n    private UserService userService;\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) {\n        String cleanedUsername = ArchlandsInputSanitizer.clean(username);\n        log.info(&quot;User &quot; + cleanedUsername + &quot; is attempting to access the Archlands.&quot;);\n        System.out.println(&quot;User &quot; + cleanedUsername + &quot; is attempting to access the Archlands.&quot;);\n        \n        Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\n        UserDto user = userService.findById(cleanedUsername);\n        \n        if (user == null) {\n            log.error(&quot;No user exists with user id: &quot; + cleanedUsername);\n            throw new UsernameNotFoundException(&quot;No user exists with user id: &quot; + cleanedUsername);\n        }\n        \n        if (user.getStatus().equals(&quot;Active&quot;)) {\n            grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        }\n        \n        for (int i = 0; i &lt; user.getRoles().length; i++) {\n            if (user.getRoles()[i].equals(Role.DM_ROLE)) {\n                grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_DM&quot;));\n            }\n        }\n        \n        log.info(&quot;User: &quot; + cleanedUsername + &quot; has authorities: &quot; + grantedAuthorities.toString());\n        \n        return new User(user.getId(), user.getPassword(), grantedAuthorities);\n    }\n    \n}\n</code></pre>\n<p>Console Output\n<a href=\"https://i.stack.imgur.com/2ZW4M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ZW4M.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1676912714,"post_id":75511652,"comment_id":133228584,"body_markdown":"This is failing: `(List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);` You can&#39;t cast document data directly to a custom java class.  You have to manually populate the class by pulling each field out of the document snapshot and putting it into the class.  Document fields are only ever going to be String, Long, Double, Timestamp, Boolean, DocumentReference, Map&lt;Object&gt;, List&lt;Object&gt;.","body":"This is failing: <code>(List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);</code> You can&#39;t cast document data directly to a custom java class.  You have to manually populate the class by pulling each field out of the document snapshot and putting it into the class.  Document fields are only ever going to be String, Long, Double, Timestamp, Boolean, DocumentReference, Map&lt;Object&gt;, List&lt;Object&gt;."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1676914699,"post_id":75511652,"comment_id":133229118,"body_markdown":"@DougStevenson I hope you can provide a solution in the form of code to precisely demonstrate what you mean.","body":"@DougStevenson I hope you can provide a solution in the form of code to precisely demonstrate what you mean."},{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1676915949,"post_id":75511652,"comment_id":133229464,"body_markdown":"I suggest reviewing the [documentation](https://firebase.google.com/docs/firestore/query-data/get-data) on how to deal with data coming from document snapshots. It&#39;s pretty straightforward.  I also recommend updating your question to be more clear about where you are stuck with this.","body":"I suggest reviewing the <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">documentation</a> on how to deal with data coming from document snapshots. It&#39;s pretty straightforward.  I also recommend updating your question to be more clear about where you are stuck with this."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677051125,"creation_date":1676968018,"answer_id":75517905,"question_id":75511652,"body_markdown":"The [DocumentSnapshot#get(String field)][1] method, returns an object of type [Object][2]. So the following line of code will definitely fail:\r\n\r\n    (List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);\r\n\r\nBecause in Java, there is no way you can perform such a cast. If you however try to perform such a cast, you&#39;ll most likely get a [ClassCastException][3]. To get the `IMAGES` array as a `List&lt;SelectableImageModel&gt;`, I recommend you create another class that looks like this:\r\n\r\n    public class Document {\r\n        public List&lt;SelectableImageModel&gt; imagesList;\r\n    }\r\n\r\nAnd to read the document, you have to use [DocumentSnapshot#toObject(Class&lt;T&gt; valueType)][4] method instead. So in code, it should look like this:\r\n\r\n    List&lt;SelectableImageModel&gt; imagesList = documentSnapshot.toObject(Document.class).imagesList;\r\n\r\nSo first you have to convert the `DocumentSnapshot` object into an object of type `Document`, and then read the public `imagesList` field from within the object. For more information, I also recommend you read this [resource][5].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#get(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#toObject(java.lang.Class%3CT%3E)\r\n  [5]: https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10","title":"How to convert an array of maps to a list?","body":"<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#get(java.lang.String)\" rel=\"nofollow noreferrer\">DocumentSnapshot#get(String field)</a> method, returns an object of type <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">Object</a>. So the following line of code will definitely fail:</p>\n<pre><code>(List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);\n</code></pre>\n<p>Because in Java, there is no way you can perform such a cast. If you however try to perform such a cast, you'll most likely get a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\">ClassCastException</a>. To get the <code>IMAGES</code> array as a <code>List&lt;SelectableImageModel&gt;</code>, I recommend you create another class that looks like this:</p>\n<pre><code>public class Document {\n    public List&lt;SelectableImageModel&gt; imagesList;\n}\n</code></pre>\n<p>And to read the document, you have to use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#toObject(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">DocumentSnapshot#toObject(Class valueType)</a> method instead. So in code, it should look like this:</p>\n<pre><code>List&lt;SelectableImageModel&gt; imagesList = documentSnapshot.toObject(Document.class).imagesList;\n</code></pre>\n<p>So first you have to convert the <code>DocumentSnapshot</code> object into an object of type <code>Document</code>, and then read the public <code>imagesList</code> field from within the object. For more information, I also recommend you read this <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">resource</a>.</p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75517905,"answer_count":1,"score":0,"last_activity_date":1677051125,"creation_date":1676909340,"question_id":75511652,"body_markdown":"SelectableImageModel:\r\n\r\n    public class SelectableImageModel {\r\n    \r\n        @PropertyName(&quot;FILE_NAME&quot;)\r\n        public String fileName;\r\n        @PropertyName(&quot;DURATION&quot;)\r\n        public int duration;\r\n        @PropertyName(&quot;EXPIRATION_DATE&quot;)\r\n        public String expirationDate;\r\n    \r\n        @PropertyName(&quot;FILE_NAME&quot;)\r\n        public String getFileName() {\r\n            return fileName;\r\n        }\r\n    \r\n        @PropertyName(&quot;FILE_NAME&quot;)\r\n        public void setFileName(String fileName) {\r\n            this.fileName = fileName;\r\n        }\r\n    \r\n        @PropertyName(&quot;DURATION&quot;)\r\n        public int getDuration() {\r\n            return duration;\r\n        }\r\n    \r\n        @PropertyName(&quot;DURATION&quot;)\r\n        public void setDuration(int duration) {\r\n            this.duration = duration;\r\n        }\r\n    \r\n        @PropertyName(&quot;EXPIRATION_DATE&quot;)\r\n        public String getExpirationDate() {\r\n            return expirationDate;\r\n        }\r\n    \r\n        @PropertyName(&quot;EXPIRATION_DATE&quot;)\r\n        public void setExpirationDate(String expirationDate) {\r\n            this.expirationDate = expirationDate;\r\n        }\r\n    \r\n    }\r\n\r\n**Code**\r\n\r\n    if (documentSnapshot.get(&quot;IMAGES&quot;) != null) {\r\n        List&lt;SelectableImageModel&gt; imagesList = (List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);\r\n        Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;));\r\n        Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;).getClass());\r\n        Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;).getClass().getName());\r\n        Log.w(&quot;ABC&quot;, imagesList == null ? &quot;null&quot; : &quot;notnull&quot;);\r\n        Log.w(&quot;ABC&quot;, &quot;. &quot; + imagesList.size()); //Output is 3\r\n        Log.w(&quot;ABC&quot;, &quot;. &quot; + imagesList.get(0));\r\n        try {\r\n            Log.w(&quot;ABC&quot;, imagesList.get(0).getFileName().getClass().getName());\r\n        } catch (Exception e) {\r\n            Log.w(&quot;ABC&quot;, &quot;... &quot; + e); // Always print this exception -&gt; java.lang.ClassCastException: java.util.HashMap cannot be cast to com.xxx.adminpanel.app.models.SelectableImageModel\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `IMAGES` field is an array where each item inside it is a map. As you can see in the code above, I&#39;m attempting to convert this array to a list. However, I&#39;m encountering an exception. What am I missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TcePr.png","title":"How to convert an array of maps to a list?","body":"<p>SelectableImageModel:</p>\n<pre><code>public class SelectableImageModel {\n\n    @PropertyName(&quot;FILE_NAME&quot;)\n    public String fileName;\n    @PropertyName(&quot;DURATION&quot;)\n    public int duration;\n    @PropertyName(&quot;EXPIRATION_DATE&quot;)\n    public String expirationDate;\n\n    @PropertyName(&quot;FILE_NAME&quot;)\n    public String getFileName() {\n        return fileName;\n    }\n\n    @PropertyName(&quot;FILE_NAME&quot;)\n    public void setFileName(String fileName) {\n        this.fileName = fileName;\n    }\n\n    @PropertyName(&quot;DURATION&quot;)\n    public int getDuration() {\n        return duration;\n    }\n\n    @PropertyName(&quot;DURATION&quot;)\n    public void setDuration(int duration) {\n        this.duration = duration;\n    }\n\n    @PropertyName(&quot;EXPIRATION_DATE&quot;)\n    public String getExpirationDate() {\n        return expirationDate;\n    }\n\n    @PropertyName(&quot;EXPIRATION_DATE&quot;)\n    public void setExpirationDate(String expirationDate) {\n        this.expirationDate = expirationDate;\n    }\n\n}\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>if (documentSnapshot.get(&quot;IMAGES&quot;) != null) {\n    List&lt;SelectableImageModel&gt; imagesList = (List&lt;SelectableImageModel&gt;) documentSnapshot.get(&quot;IMAGES&quot;);\n    Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;));\n    Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;).getClass());\n    Log.w(&quot;ABC&quot;, &quot;... &quot; + documentSnapshot.get(&quot;IMAGES&quot;).getClass().getName());\n    Log.w(&quot;ABC&quot;, imagesList == null ? &quot;null&quot; : &quot;notnull&quot;);\n    Log.w(&quot;ABC&quot;, &quot;. &quot; + imagesList.size()); //Output is 3\n    Log.w(&quot;ABC&quot;, &quot;. &quot; + imagesList.get(0));\n    try {\n        Log.w(&quot;ABC&quot;, imagesList.get(0).getFileName().getClass().getName());\n    } catch (Exception e) {\n        Log.w(&quot;ABC&quot;, &quot;... &quot; + e); // Always print this exception -&gt; java.lang.ClassCastException: java.util.HashMap cannot be cast to com.xxx.adminpanel.app.models.SelectableImageModel\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TcePr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcePr.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>IMAGES</code> field is an array where each item inside it is a map. As you can see in the code above, I'm attempting to convert this array to a list. However, I'm encountering an exception. What am I missing?</p>\n"},{"tags":["java","exception","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":2,"creation_date":1677050751,"post_id":75528949,"comment_id":133258678,"body_markdown":"don&#39;t post images, post the actual code","body":"don&#39;t post images, post the actual code"}],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677047748,"creation_date":1677047748,"answer_id":75529018,"question_id":75528949,"body_markdown":"Driver path should be set before browser launch as given below.\r\n\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;);\r\n\r\n","title":"I&#39;m trying to start selenium but it is showing this error i am thinking this is related to chrome driver exe or version mismatch plzz clarify","body":"<p>Driver path should be set before browser launch as given below.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;);\n</code></pre>\n"}],"owner":{"account_id":27459631,"reputation":1,"user_id":20950441,"display_name":"Manichandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677050770,"creation_date":1677047155,"question_id":75528949,"body_markdown":"[enter image description here](https://i.stack.imgur.com/5foo0.png)\r\n\r\ni wrote code like this\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path\r\n&gt; to the driver executable must be set by the webdriver.chrome.driver\r\n&gt; system property; for more information, see\r\n&gt; https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest\r\n&gt; version can be downloaded from\r\n&gt; http://chromedriver.storage.googleapis.com/index.html \tat\r\n&gt; com.google.common.base.Preconditions.checkState(Preconditions.java:847)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n&gt; \tat Selenium.Open_browser.main(Open_browser.java:14)\r\n\r\n","title":"I&#39;m trying to start selenium but it is showing this error i am thinking this is related to chrome driver exe or version mismatch plzz clarify","body":"<p><a href=\"https://i.stack.imgur.com/5foo0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i wrote code like this</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path\nto the driver executable must be set by the webdriver.chrome.driver\nsystem property; for more information, see\n<a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest\nversion can be downloaded from\n<a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>     at\ncom.google.common.base.Preconditions.checkState(Preconditions.java:847)\nat\norg.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)\nat\norg.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\nat\norg.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\nat\norg.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\nat\norg.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\nat\norg.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:123)\nat Selenium.Open_browser.main(Open_browser.java:14)</p>\n</blockquote>\n"},{"tags":["java","android","navigation","fragment","fragment-backstack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677018331,"post_id":75526467,"comment_id":133253939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17516324,"reputation":119,"user_id":12703274,"display_name":"Ajay Chandran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677050498,"creation_date":1677050498,"answer_id":75529348,"question_id":75526467,"body_markdown":"Try using Shared Preference or Data Store.","title":"How to return to the last fragment after pressing home button or exit the android app?","body":"<p>Try using Shared Preference or Data Store.</p>\n"}],"owner":{"account_id":25609089,"reputation":1,"user_id":19382785,"display_name":"Alaa Hosnii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677050498,"creation_date":1677018161,"question_id":75526467,"body_markdown":"when returning to the app after pressing home button or exit the app it returns to the first fragment of the app (splash screen) I need it to return to the last fragment before pressing home button, if I were on the home fragment and pressed the home button when returning I need to open on the home fragment not the splash screen fragment.\r\n\r\nI am using navigation component, but I cannot handle this issue.","title":"How to return to the last fragment after pressing home button or exit the android app?","body":"<p>when returning to the app after pressing home button or exit the app it returns to the first fragment of the app (splash screen) I need it to return to the last fragment before pressing home button, if I were on the home fragment and pressed the home button when returning I need to open on the home fragment not the splash screen fragment.</p>\n<p>I am using navigation component, but I cannot handle this issue.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1675299536,"post_id":75317567,"comment_id":132901408,"body_markdown":"@g00se Not really, that would grab ALL of the second input.  It needs to end on space or end-of-string.","body":"@g00se Not really, that would grab ALL of the second input.  It needs to end on space or end-of-string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675299891,"post_id":75317567,"comment_id":132901468,"body_markdown":"Matcher matcher = Pattern.compile(&quot;(Mywebsite[^ ]*)&quot;).matcher(mydata2);","body":"Matcher matcher = Pattern.compile(&quot;(Mywebsite[^ ]*)&quot;).matcher(mydata2);"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675319487,"post_id":75317567,"comment_id":132904189,"body_markdown":"&quot;(?:^|.*\\\\s)(Mywebsite\\\\S*)(?:\\\\s.*|$)&quot;","body":"&quot;(?:^|.*\\\\s)(Mywebsite\\\\S*)(?:\\\\s.*|$)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675306569,"creation_date":1675306569,"answer_id":75318224,"question_id":75317567,"body_markdown":"You can use the `Mywebsite\\.([a-z]+\\.[a-z]+)`\r\n\r\n```Java\r\npublic static void extractDomain(String domain){\r\n  Pattern domainPattern = Pattern.compile(&quot;Mywebsite\\.([a-z]+\\.[a-z]+)&quot;);\r\n  Matcher match = domainPattern.matcher(domain);\r\n System.out.println(&quot;Mywebsite&quot;+ match.group(1));\r\n\r\n}\r\n```","title":"How to extract string using regex with space before or after","body":"<p>You can use the <code>Mywebsite\\.([a-z]+\\.[a-z]+)</code></p>\n<pre><code>public static void extractDomain(String domain){\n  Pattern domainPattern = Pattern.compile(&quot;Mywebsite\\.([a-z]+\\.[a-z]+)&quot;);\n  Matcher match = domainPattern.matcher(domain);\n System.out.println(&quot;Mywebsite&quot;+ match.group(1));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675315018,"creation_date":1675315018,"answer_id":75318935,"question_id":75317567,"body_markdown":"You can try this pattern match for the input array of possible strings. The first four strings will match.\r\n\r\n    String patternStr = &quot;(\\\\s|^)mywebsite([.][a-z][a-z]){1,2}(\\\\s|$)&quot;;\r\n    Pattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\r\n    String [] stringsToMatch = {\r\n    \t&quot;Mywebsite.co.uk xyz&quot;,\r\n    \t&quot;abc Mywebsite.co.uk&quot;,\r\n    \t&quot;abc Mywebsite.co.uk xyz&quot;,\r\n    \t&quot;Mywebsite.co.uk&quot;,\r\n    \t&quot;Mywebsite.co.uk.us&quot;,\r\n    \t&quot;Mywebsite&quot;\r\n    };\r\n    \r\n    for (String str : stringsToMatch) {\r\n    \tMatcher matcher = pattern.matcher(str);\r\n    \tSystem.out.println(str);\r\n    \tif (matcher.find()) {\r\n    \t\tSystem.out.println(&quot;    &quot; + str.substring(matcher.start(), matcher.end()));\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;    No match&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to extract string using regex with space before or after","body":"<p>You can try this pattern match for the input array of possible strings. The first four strings will match.</p>\n<pre><code>String patternStr = &quot;(\\\\s|^)mywebsite([.][a-z][a-z]){1,2}(\\\\s|$)&quot;;\nPattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\nString [] stringsToMatch = {\n    &quot;Mywebsite.co.uk xyz&quot;,\n    &quot;abc Mywebsite.co.uk&quot;,\n    &quot;abc Mywebsite.co.uk xyz&quot;,\n    &quot;Mywebsite.co.uk&quot;,\n    &quot;Mywebsite.co.uk.us&quot;,\n    &quot;Mywebsite&quot;\n};\n\nfor (String str : stringsToMatch) {\n    Matcher matcher = pattern.matcher(str);\n    System.out.println(str);\n    if (matcher.find()) {\n        System.out.println(&quot;    &quot; + str.substring(matcher.start(), matcher.end()));\n    }\n    else {\n        System.out.println(&quot;    No match&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675315409,"creation_date":1675315409,"answer_id":75318986,"question_id":75317567,"body_markdown":"To find the domain name from a string you can use regex like \r\n\r\n`(?:http[s]?:\\/\\/)?(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+`\r\n\r\nThis  program will capture list of domain from your string\r\n\r\n    public static List&lt;String&gt; extractDomainNames(String input) {\r\n            List&lt;String&gt; domainNames = new ArrayList&lt;&gt;();\r\n            String domainNamePattern = &quot;(?:http[s]?://)?(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\\\\(\\\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+&quot;;\r\n            Pattern pattern = Pattern.compile(domainNamePattern);\r\n            Matcher matcher = pattern.matcher(input);\r\n            while (matcher.find()) {\r\n                domainNames.add(matcher.group());\r\n            }\r\n            return domainNames;\r\n        }","title":"How to extract string using regex with space before or after","body":"<p>To find the domain name from a string you can use regex like</p>\n<p><code>(?:http[s]?:\\/\\/)?(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+</code></p>\n<p>This  program will capture list of domain from your string</p>\n<pre><code>public static List&lt;String&gt; extractDomainNames(String input) {\n        List&lt;String&gt; domainNames = new ArrayList&lt;&gt;();\n        String domainNamePattern = &quot;(?:http[s]?://)?(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\\\\(\\\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+&quot;;\n        Pattern pattern = Pattern.compile(domainNamePattern);\n        Matcher matcher = pattern.matcher(input);\n        while (matcher.find()) {\n            domainNames.add(matcher.group());\n        }\n        return domainNames;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10051056,"reputation":3485,"user_id":7430869,"display_name":"Trung Duong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675318075,"creation_date":1675318075,"answer_id":75319264,"question_id":75317567,"body_markdown":"You could try this regex: `Mywebsite\\.[^\\s]+`\r\n\r\n    String input = &quot;Mywebsite.de durchsuchen&quot;;\r\n    Pattern regexPattern = Pattern.compile(&quot;Mywebsite\\.[^\\s]+&quot;);\r\n    Matcher regexMatcher = regexPattern.matcher(input);\r\n    while (regexMatcher.find()) {\r\n        System.out.println(regexMatcher.group());\r\n    }\r\n\r\nSee regex demo [here][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/xRriE9/1","title":"How to extract string using regex with space before or after","body":"<p>You could try this regex: <code>Mywebsite\\.[^\\s]+</code></p>\n<pre><code>String input = &quot;Mywebsite.de durchsuchen&quot;;\nPattern regexPattern = Pattern.compile(&quot;Mywebsite\\.[^\\s]+&quot;);\nMatcher regexMatcher = regexPattern.matcher(input);\nwhile (regexMatcher.find()) {\n    System.out.println(regexMatcher.group());\n}\n</code></pre>\n<p>See regex demo <a href=\"https://regex101.com/r/xRriE9/1\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677049930,"creation_date":1677049930,"answer_id":75529294,"question_id":75317567,"body_markdown":"Alternative:\r\n\r\nUsed regex:\r\n\r\n    &quot;\\\\bMywebsite\\\\S+&quot;\r\n\r\nSee regex in context and testbench, below:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; inputs = Arrays.asList(\r\n                &quot;Search Mywebsite.de&quot;,\r\n                &quot;Mywebsite.de durchsuchen&quot;,\r\n                &quot;Search Mywebsite.co.uk&quot;,\r\n                &quot;Mywebsite.co.uk something&quot;\r\n        );\r\n    \r\n        Pattern pattern = Pattern.compile(&quot;\\\\bMywebsite\\\\S+&quot;);\r\n        for (String input : inputs) {\r\n            Matcher matcher = pattern.matcher(input);\r\n            if(matcher.find()) {\r\n                System.out.println(matcher.group());\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Mywebsite.de\r\n    Mywebsite.de\r\n    Mywebsite.co.uk\r\n    Mywebsite.co.uk\r\n\r\nComment:\r\n\r\n    Used Pattern:\r\n    \\b\tA word boundary\r\n    \\S\tA non-whitespace character: [^\\s]\r\n\r\nRead more about Pattern here:\r\nhttps://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\r\n\r\nOther tools for testing regex:\r\nhttps://regex101.com/\r\n\r\n    \r\n","title":"How to extract string using regex with space before or after","body":"<p>Alternative:</p>\n<p>Used regex:</p>\n<pre><code>&quot;\\\\bMywebsite\\\\S+&quot;\n</code></pre>\n<p>See regex in context and testbench, below:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; inputs = Arrays.asList(\n            &quot;Search Mywebsite.de&quot;,\n            &quot;Mywebsite.de durchsuchen&quot;,\n            &quot;Search Mywebsite.co.uk&quot;,\n            &quot;Mywebsite.co.uk something&quot;\n    );\n\n    Pattern pattern = Pattern.compile(&quot;\\\\bMywebsite\\\\S+&quot;);\n    for (String input : inputs) {\n        Matcher matcher = pattern.matcher(input);\n        if(matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Mywebsite.de\nMywebsite.de\nMywebsite.co.uk\nMywebsite.co.uk\n</code></pre>\n<p>Comment:</p>\n<pre><code>Used Pattern:\n\\b  A word boundary\n\\S  A non-whitespace character: [^\\s]\n</code></pre>\n<p>Read more about Pattern here:\n<a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html</a></p>\n<p>Other tools for testing regex:\n<a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n"}],"owner":{"account_id":5955699,"reputation":659,"user_id":4682461,"accept_rate":25,"display_name":"golu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1677049930,"creation_date":1675297686,"question_id":75317567,"body_markdown":"in the following examples, I want to extract &quot;Mywebsite.xx&quot;. How do I do it?\r\n\r\n```\r\nSearch Mywebsite.de  ----&gt; Mywebsite.de\r\nMywebsite.de durchsuchen ----&gt; Mywebsite.de\r\nSearch Mywebsite.co.uk ----&gt; Mywebsite.co.uk\r\nMywebsite.co.uk something ----&gt; Mywebsite.co.uk\r\n```\r\n\r\nI tried this but it&#39;s not working:\r\n```\r\nString mydata2 = &quot;Mywebsite.de durchsuchen&quot;;\r\nMatcher matcher = Pattern.compile(&quot;Mywebsite(.*?)&quot;).matcher(mydata2);\r\nif (matcher.find())\r\n{\r\n    System.out.println(matcher.group(1));\r\n}\r\n```","title":"How to extract string using regex with space before or after","body":"<p>in the following examples, I want to extract &quot;Mywebsite.xx&quot;. How do I do it?</p>\n<pre><code>Search Mywebsite.de  ----&gt; Mywebsite.de\nMywebsite.de durchsuchen ----&gt; Mywebsite.de\nSearch Mywebsite.co.uk ----&gt; Mywebsite.co.uk\nMywebsite.co.uk something ----&gt; Mywebsite.co.uk\n</code></pre>\n<p>I tried this but it's not working:</p>\n<pre><code>String mydata2 = &quot;Mywebsite.de durchsuchen&quot;;\nMatcher matcher = Pattern.compile(&quot;Mywebsite(.*?)&quot;).matcher(mydata2);\nif (matcher.find())\n{\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n"},{"tags":["java","ftp","sftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677049747,"creation_date":1368434678,"answer_id":16517972,"question_id":16517191,"body_markdown":"From the fact you need to enter a port in FileZilla (which defaults to the FTP port `21`), I assume, you are not providing some information to the `FTPClient`:\r\n\r\n1) Port number (assuming it&#39;s different from the default `21`). To connect to a non-default port, use the `Connect` overload with two arguments:\r\n\r\n       public void connect(String hostname, int port)\r\n\r\n2) You may be using an implicit SSL/TLS encryption, what FileZilla (but not the `FTPClient`) could assume from a port number `990`\r\n\r\n3) You actually want to use the SFTP (based on the `sftp` tag with your question). The `FTPClient` does not support the SFTP protocol, it&#39;s totally distinct from the FTP. See https://stackoverflow.com/q/14617/850848","title":"Upload file FTP server","body":"<p>From the fact you need to enter a port in FileZilla (which defaults to the FTP port <code>21</code>), I assume, you are not providing some information to the <code>FTPClient</code>:</p>\n<ol>\n<li><p>Port number (assuming it's different from the default <code>21</code>). To connect to a non-default port, use the <code>Connect</code> overload with two arguments:</p>\n<pre><code>public void connect(String hostname, int port)\n</code></pre>\n</li>\n<li><p>You may be using an implicit SSL/TLS encryption, what FileZilla (but not the <code>FTPClient</code>) could assume from a port number <code>990</code></p>\n</li>\n<li><p>You actually want to use the SFTP (based on the <code>sftp</code> tag with your question). The <code>FTPClient</code> does not support the SFTP protocol, it's totally distinct from the FTP. See <a href=\"https://stackoverflow.com/q/14617/850848\">How to retrieve a file from a server via SFTP?</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":1240801,"reputation":1229,"user_id":1203446,"accept_rate":55,"display_name":"Souvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16517972,"answer_count":1,"score":2,"last_activity_date":1677049747,"creation_date":1368431603,"question_id":16517191,"body_markdown":"I am stuck during connecting to my FTP server through apache FTP client. I found lots of program out there but I am not able to connect to my FTP server through the below code.\r\n\r\n    FTPClient ftpClient = new FTPClient();\r\n    ftpClient.connect(&quot;169.144.76.33&quot;);\r\n    ftpClient.login(&quot;root&quot;, &quot;re123set&quot;);\r\n    \r\nException:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    \r\n    java.net.ConnectException: Connection refused\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:327)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:193)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\r\n        at java.net.Socket.connect(Socket.java:546)\r\n        at org.apache.commons.net.SocketClient.connect(SocketClient.java:176)\r\n        at org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\r\n\r\nBut whenever I am trying to connect through FileZilla with IP, user name, password, port (without port can&#39;t connect). I am getting able to connect to the FTP server.\r\n\r\nSo please help me to resolve the issue..\r\n\r\n","title":"Upload file FTP server","body":"<p>I am stuck during connecting to my FTP server through apache FTP client. I found lots of program out there but I am not able to connect to my FTP server through the below code.</p>\n<pre><code>FTPClient ftpClient = new FTPClient();\nftpClient.connect(&quot;169.144.76.33&quot;);\nftpClient.login(&quot;root&quot;, &quot;re123set&quot;);\n</code></pre>\n<p>Exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.net.ConnectException: Connection refused\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:327)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:193)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\n    at java.net.Socket.connect(Socket.java:546)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:176)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\n</code></pre>\n<p>But whenever I am trying to connect through FileZilla with IP, user name, password, port (without port can't connect). I am getting able to connect to the FTP server.</p>\n<p>So please help me to resolve the issue..</p>\n"},{"tags":["java","oracle","jdbc","compression"],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1412700200,"creation_date":1261590688,"answer_id":1954318,"question_id":1954279,"body_markdown":"I don&#39;t know specifics about Oracle&#39;s thin and OCI drivers. But you could use [SSH][1] tunnels to achieve [compression][2].\r\n\r\n 1. So, in your Oracle machine, you setup a SSH daemon. If your Oracle server is running under RedHat Linux, you&#39;re done\r\n 2. On your client machine (the one that hosts your application that connects through JDBC) setup a SSH connection, enabling a compressed tunnel. You can use command line SSH or [Putty][3] (if you are under windows) to do that.\r\n\r\nSetup the connection to something like this:\r\n\r\n    $ ssh -L1521:localhost:1521 username@oracleserver_ip\r\n\r\nThen, in your application, use localhost:1521 as Oracle&#39;s address.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Secure_Shell\r\n  [2]: http://unixhelp.ed.ac.uk/CGI/man-cgi?ssh+1\r\n  [3]: http://www.chiark.greenend.org.uk/~sgtatham/putty/","title":"Oracle connection compression?","body":"<p>I don't know specifics about Oracle's thin and OCI drivers. But you could use <a href=\"http://en.wikipedia.org/wiki/Secure_Shell\" rel=\"nofollow noreferrer\">SSH</a> tunnels to achieve <a href=\"http://unixhelp.ed.ac.uk/CGI/man-cgi?ssh+1\" rel=\"nofollow noreferrer\">compression</a>.</p>\n\n<ol>\n<li>So, in your Oracle machine, you setup a SSH daemon. If your Oracle server is running under RedHat Linux, you're done</li>\n<li>On your client machine (the one that hosts your application that connects through JDBC) setup a SSH connection, enabling a compressed tunnel. You can use command line SSH or <a href=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/\" rel=\"nofollow noreferrer\">Putty</a> (if you are under windows) to do that.</li>\n</ol>\n\n<p>Setup the connection to something like this:</p>\n\n<pre><code>$ ssh -L1521:localhost:1521 username@oracleserver_ip\n</code></pre>\n\n<p>Then, in your application, use localhost:1521 as Oracle's address.</p>\n"},{"tags":[],"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1261591984,"creation_date":1261591984,"answer_id":1954436,"question_id":1954279,"body_markdown":"In my experience, high latency harms performance using the Oracle JDBC drivers far more than low bandwidth. (at least in the application I work on). You say you aren&#39;t worried about latency, but could you give an estimate on the latency of your low-bandwidth environment?\r\n\r\nHow big is the data you&#39;re sending? Are there BLOB columns? Are there other technologies involved, like a connection pool, or Hibernate? There are a lot of potential factors, not just if your data is being compressed.\r\n\r\nHave you done any WAN emulation to try to isolate what is degrading your performance most? \r\n[WANem][1] is pretty easy to setup.\r\n\r\nI&#39;ve spent weeks on this problem, and 100-200ms latency hurt us much more than a 1Mbit bandwidth limitation. Hopefully you are in a different boat - compression an easier problem to solve.\r\n\r\n\r\n  [1]: http://wanem.sourceforge.net/","title":"Oracle connection compression?","body":"<p>In my experience, high latency harms performance using the Oracle JDBC drivers far more than low bandwidth. (at least in the application I work on). You say you aren't worried about latency, but could you give an estimate on the latency of your low-bandwidth environment?</p>\n\n<p>How big is the data you're sending? Are there BLOB columns? Are there other technologies involved, like a connection pool, or Hibernate? There are a lot of potential factors, not just if your data is being compressed.</p>\n\n<p>Have you done any WAN emulation to try to isolate what is degrading your performance most? \n<a href=\"http://wanem.sourceforge.net/\" rel=\"noreferrer\">WANem</a> is pretty easy to setup.</p>\n\n<p>I've spent weeks on this problem, and 100-200ms latency hurt us much more than a 1Mbit bandwidth limitation. Hopefully you are in a different boat - compression an easier problem to solve.</p>\n"},{"tags":[],"owner":{"account_id":4454,"reputation":7238,"user_id":6703,"accept_rate":100,"display_name":"Adam Hawkes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1261667383,"creation_date":1261667383,"answer_id":1958652,"question_id":1954279,"body_markdown":"To directly answer the question, the drivers (thin or OCI) have no such mechanism for compression. And since the data sent is likely in some funky binary format I&#39;m not sure that it will compress well over SSL. Some other mechanism for improving network performance will need to be employed.","title":"Oracle connection compression?","body":"<p>To directly answer the question, the drivers (thin or OCI) have no such mechanism for compression. And since the data sent is likely in some funky binary format I'm not sure that it will compress well over SSL. Some other mechanism for improving network performance will need to be employed.</p>\n"},{"tags":[],"owner":{"account_id":5785479,"reputation":154,"user_id":5941222,"display_name":"Itagyba Abondanza Kuhlmann"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1520870254,"creation_date":1520870254,"answer_id":49239521,"question_id":1954279,"body_markdown":"Just an Update.\r\n\r\nOracle JDBC connections in 12.2 now have compression feature as disclaimed in this post: http://www.oracle.com/technetwork/topics/jdbc-faq-090281.html#0000_00","title":"Oracle connection compression?","body":"<p>Just an Update.</p>\n\n<p>Oracle JDBC connections in 12.2 now have compression feature as disclaimed in this post: <a href=\"http://www.oracle.com/technetwork/topics/jdbc-faq-090281.html#0000_00\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/topics/jdbc-faq-090281.html#0000_00</a></p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531428274,"creation_date":1522155211,"answer_id":49513418,"question_id":1954279,"body_markdown":"Refer to [Oracle JDBC Developer&#39;s guide][1] for enabling the network compression. Note that this is an Oracle12c Release 2 feature. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdbc/data-sources-and-URLs.html#GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E","title":"Oracle connection compression?","body":"<p>Refer to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdbc/data-sources-and-URLs.html#GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E\" rel=\"nofollow noreferrer\">Oracle JDBC Developer's guide</a> for enabling the network compression. Note that this is an Oracle12c Release 2 feature. </p>\n"},{"tags":[],"owner":{"account_id":400023,"reputation":1753,"user_id":765762,"display_name":"Rajeev Sreedharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616652652,"creation_date":1616652652,"answer_id":66793996,"question_id":1954279,"body_markdown":"Since the question and answers are out of date or links broken, adding method to enable connection compression.\r\n\r\n**Database server side:**\r\n\r\nCheck with your DBA to configure file : $DB_HOME\\NETWORK\\ADMIN\\sqlnet.ora\r\n\r\nAdd below lines : \r\n\r\n    SQLNET.COMPRESSION=on\r\n    SQLNET.COMPRESSION_THRESHOLD=1024\r\n    SQLNET.COMPRESSION_LEVELS=(high)\r\n\r\nThe default value of `SQLNET.COMPRESSION_LEVELS` at server is `(low)`. This can work fine if using OCI driver, but if using the generally recommended *thin* driver, it needs to be specifically configured to `(high)`.\r\n\r\n**Client side Java code:**\r\n \r\n\r\n    DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\r\n    OracleDataSource ds = new OracleDataSource();\r\n    \r\n    Properties prop = new Properties();\r\n    prop.setProperty(&quot;user&quot;, &quot;myuser&quot;);\r\n    prop.setProperty(&quot;password&quot;, &quot;mypassword&quot;);\r\n    prop.setProperty(&quot;oracle.net.networkCompression&quot;, &quot;on&quot;); \r\n    prop.setProperty(&quot;oracle.net.networkCompressionThreshold&quot;, &quot;1024&quot;);\r\n    \r\n    ds.setConnectionProperties(prop);\r\n    ds.setURL(&quot;jdbc:oracle:thin:@&lt;HOSTNAME&gt;:&lt;PORT&gt;/&lt;SERVICENAME&gt;&quot;);\r\n    \r\n    Connection conn = ds.getConnection();\r\n    \r\nNote that, if you enable compression high, the CPU usage can increase on both client and particularly on database server. Unless the network latency is really an issue, this is a choice you need to make.","title":"Oracle connection compression?","body":"<p>Since the question and answers are out of date or links broken, adding method to enable connection compression.</p>\n<p><strong>Database server side:</strong></p>\n<p>Check with your DBA to configure file : $DB_HOME\\NETWORK\\ADMIN\\sqlnet.ora</p>\n<p>Add below lines :</p>\n<pre><code>SQLNET.COMPRESSION=on\nSQLNET.COMPRESSION_THRESHOLD=1024\nSQLNET.COMPRESSION_LEVELS=(high)\n</code></pre>\n<p>The default value of <code>SQLNET.COMPRESSION_LEVELS</code> at server is <code>(low)</code>. This can work fine if using OCI driver, but if using the generally recommended <em>thin</em> driver, it needs to be specifically configured to <code>(high)</code>.</p>\n<p><strong>Client side Java code:</strong></p>\n<pre><code>DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\nOracleDataSource ds = new OracleDataSource();\n\nProperties prop = new Properties();\nprop.setProperty(&quot;user&quot;, &quot;myuser&quot;);\nprop.setProperty(&quot;password&quot;, &quot;mypassword&quot;);\nprop.setProperty(&quot;oracle.net.networkCompression&quot;, &quot;on&quot;); \nprop.setProperty(&quot;oracle.net.networkCompressionThreshold&quot;, &quot;1024&quot;);\n\nds.setConnectionProperties(prop);\nds.setURL(&quot;jdbc:oracle:thin:@&lt;HOSTNAME&gt;:&lt;PORT&gt;/&lt;SERVICENAME&gt;&quot;);\n\nConnection conn = ds.getConnection();\n</code></pre>\n<p>Note that, if you enable compression high, the CPU usage can increase on both client and particularly on database server. Unless the network latency is really an issue, this is a choice you need to make.</p>\n"},{"tags":[],"owner":{"account_id":27817506,"reputation":1,"user_id":21238585,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677049526,"creation_date":1676707051,"answer_id":75491960,"question_id":1954279,"body_markdown":"This JDBC connect string syntax is acceptable and seems to work:\r\n\r\n    jdbc:oracle:thin:@(description=(COMPRESSION=on)(COMPRESSION_LEVELS=(LEVEL=high))(address=(host=host1)(protocol=tcp)(port=1521)) (connect_data=(SERVICE_NAME=SERV1)(SERVER = DEDICATED)))","title":"Oracle connection compression?","body":"<p>This JDBC connect string syntax is acceptable and seems to work:</p>\n<pre><code>jdbc:oracle:thin:@(description=(COMPRESSION=on)(COMPRESSION_LEVELS=(LEVEL=high))(address=(host=host1)(protocol=tcp)(port=1521)) (connect_data=(SERVICE_NAME=SERV1)(SERVER = DEDICATED)))\n</code></pre>\n"}],"owner":{"account_id":2478,"reputation":1384,"user_id":3449,"display_name":"joev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9183,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1958652,"answer_count":7,"score":10,"last_activity_date":1677049526,"creation_date":1261590256,"question_id":1954279,"body_markdown":"I have an application that uses JDBC to connect to Oracle 11g.  Unfortunately, the machine my app is running on and the Oracle machine are connected via a somewhat low bandwidth connection.  I haven&#39;t sniffed the connection, but I am pretty sure the data streaming across the connection is not compressed.  For my application, I&#39;m more concerned about bandwidth than latency.\r\n\r\nIs there any way to tell the JDBC driver and Oracle to compress the data going through the connection?  Google comes up with a lot of answers for data file compression, but I couldn&#39;t find anything about network protocol compression.\r\n\r\nI&#39;m using Oracle&#39;s thin driver, but if this is only supported by the OCI driver, I could switch to that.  Thanks for any suggestions!","title":"Oracle connection compression?","body":"<p>I have an application that uses JDBC to connect to Oracle 11g.  Unfortunately, the machine my app is running on and the Oracle machine are connected via a somewhat low bandwidth connection.  I haven't sniffed the connection, but I am pretty sure the data streaming across the connection is not compressed.  For my application, I'm more concerned about bandwidth than latency.</p>\n\n<p>Is there any way to tell the JDBC driver and Oracle to compress the data going through the connection?  Google comes up with a lot of answers for data file compression, but I couldn't find anything about network protocol compression.</p>\n\n<p>I'm using Oracle's thin driver, but if this is only supported by the OCI driver, I could switch to that.  Thanks for any suggestions!</p>\n"},{"tags":["java","debugging","ide","remote-debugging","sublimetext"],"answers":[{"tags":[],"owner":{"account_id":1479560,"reputation":181,"user_id":1389242,"display_name":"allotria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1345729310,"creation_date":1345729310,"answer_id":12092999,"question_id":10227530,"body_markdown":"You could look for a standalone Java Debugger like [JDebugTool][1].\r\n\r\nOr you could simply create an additional Eclipse workspace with only the bare minimal you need for remote debugging your application (just one project with all the source jars linked in).\r\nThis workspace will start considerably faster than the full blown.\r\n\r\nI have never worked with a standalone debugger for Java and personally I tend to keep the number of tools I have to learn as low as possible and Eclipse&#39;s debugger is pretty good.\r\n\r\n\r\n  [1]: http://www.debugtools.com/","title":"How to debug Java application from Sublime Text editor","body":"<p>You could look for a standalone Java Debugger like <a href=\"http://www.debugtools.com/\" rel=\"nofollow\">JDebugTool</a>.</p>\n\n<p>Or you could simply create an additional Eclipse workspace with only the bare minimal you need for remote debugging your application (just one project with all the source jars linked in).\nThis workspace will start considerably faster than the full blown.</p>\n\n<p>I have never worked with a standalone debugger for Java and personally I tend to keep the number of tools I have to learn as low as possible and Eclipse's debugger is pretty good.</p>\n"},{"tags":[],"owner":{"account_id":27037029,"reputation":1,"user_id":20592479,"display_name":"asim_ar007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677049451,"creation_date":1676657240,"answer_id":75487851,"question_id":10227530,"body_markdown":"JDebug - A Java Debugging plugin for Sublime Text\r\nDebugging is a painful art. The programmers(coders) know about it. Even perfectly written code may misbehave sometimes and it is difficult to identify the piece of code causing the issue just by log statements. So the only possible way to identify the issue is to do step by step debugging of the code dynamically. There are so many debugging tools available for Java, some are standalone and few are integrated within the IDE like Eclipse. In this article, I will show you how to debug java codes remotely using JDebug in Sublime Text.\r\n\r\nSetting up Sublime Text JDebug plugin can be installed using Package Control or manually. I will show you how to install JDebug plugin using Package Control. If you haven‚Äôt install the Package Control, you can install packages by installing package control.\r\nOnce you have the package control installed, you should start Sublime Text. Open up the command palette from the Preferences --&gt; Package Control menu and search for ‚ÄúInstall Package‚Äù.\r\n\r\n\r\n\r\nNow you can search for any package you like. In our case, we are going to search for the package ‚ÄúJDebug‚Äù.\r\n\r\n\r\n\r\nSetting up App Server (Weblogic/Tomcat/any other) in debug mode\r\nPass -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 as JVM argument to server startup command. You can change the debug port from 8000 to anything you prefer.\r\nTomcat\r\nAdd/update the JAVA_OPTS env variable in catalina.bat or catalina.sh set `JAVA_OPTS=%JAVA_OPTS% -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000`\r\nWeblogic\r\nAdd/update the SAVE_JAVA_OPTIONS env variable in catalina.bat or catalina.sh set `SAVE_JAVA_OPTIONS=%JAVA_OPTIONS% -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000`\r\n\r\nSetting up JDebug Setting up JDebug is very simple as it has only few settings to start with. You can copy and paste the default settings into user settings and update the following settings based on your environment.\r\n\r\n\r\nworkingdir -     You need to set your current project directory like c:/worksapce/TestService (Windows) or /home/user/abc/workspace/TestService (Linux or Ubuntu)\r\ncommandline -     Set the jdb command with arguments. If JDK/bin is not in your environment PATH then you need to specify full path to the jdb command. Also change the hostname and port in which the java application service is running and listening.\r\nsourcepath -     The path to the source file with in the project. For ant project it usually /src/ and for maven usually /src/main/java.\r\n\r\n\r\n\r\nBreakpoints Ready to set the breakpoint?. Breakpoints are the way to inform the jvm to halt the execution at a particular point (line number or method in a class). When the execution halts, the application variables can be inspected.\r\nAdd a breakpoint using &#39;Toggle Breakpoint&#39; menu option from context menu. Context menu can be accessible using right click. A circle icon will be placed on the line number gutter when a breakpoint is added\r\n\r\n\r\n\r\nWhen the jvm hits the breakpoint during the execution, the gutter icon will be changed to &#39;pointer&#39; to indicate that the breakpoint is hit.\r\n\r\n\r\nInspect Variables\r\nVariables &amp; expressions can be inspected using inline popup. Click on the variable or highlight the expression to evaluate/inspect inline.\r\n\r\n\r\n\r\n\r\nWatch Expressions Expressions can be evaluated using the &#39;Add Expression&#39; context menu. You can enter any valid expression to evaluate.\r\n\r\n\r\nEnter the Expression\r\n\r\n\r\nJDebug Variables It is interesting to watch the variables in the &#39;JDebug Variables&#39; window. If a variable is complex object it will be displayed with &#39;+&#39; icon on gutter. These variables can be expanded further to get the additional details using &#39;Expand&#39; context menu. The &#39;Expand&#39; context menu will be enabled only in &#39;JDebug&#39; variables window.\r\n\r\n\r\n\r\nHow to Continue?\r\nThe application execution can be continued using one of the following menu options\r\nStep Over Continue execution to next line\r\nStep Into Continue the execution into a method call\r\nStep Out Step out of the current method and continue\r\nContinue Continue to next breakpoint or till completion\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HS0x6.png","title":"How to debug Java application from Sublime Text editor","body":"<p>JDebug - A Java Debugging plugin for Sublime Text\nDebugging is a painful art. The programmers(coders) know about it. Even perfectly written code may misbehave sometimes and it is difficult to identify the piece of code causing the issue just by log statements. So the only possible way to identify the issue is to do step by step debugging of the code dynamically. There are so many debugging tools available for Java, some are standalone and few are integrated within the IDE like Eclipse. In this article, I will show you how to debug java codes remotely using JDebug in Sublime Text.</p>\n<p>Setting up Sublime Text JDebug plugin can be installed using Package Control or manually. I will show you how to install JDebug plugin using Package Control. If you haven‚Äôt install the Package Control, you can install packages by installing package control.\nOnce you have the package control installed, you should start Sublime Text. Open up the command palette from the Preferences --&gt; Package Control menu and search for ‚ÄúInstall Package‚Äù.</p>\n<p>Now you can search for any package you like. In our case, we are going to search for the package ‚ÄúJDebug‚Äù.</p>\n<p>Setting up App Server (Weblogic/Tomcat/any other) in debug mode\nPass -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 as JVM argument to server startup command. You can change the debug port from 8000 to anything you prefer.\nTomcat\nAdd/update the JAVA_OPTS env variable in catalina.bat or catalina.sh set <code>JAVA_OPTS=%JAVA_OPTS% -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000</code>\nWeblogic\nAdd/update the SAVE_JAVA_OPTIONS env variable in catalina.bat or catalina.sh set <code>SAVE_JAVA_OPTIONS=%JAVA_OPTIONS% -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000</code></p>\n<p>Setting up JDebug Setting up JDebug is very simple as it has only few settings to start with. You can copy and paste the default settings into user settings and update the following settings based on your environment.</p>\n<p>workingdir -     You need to set your current project directory like c:/worksapce/TestService (Windows) or /home/user/abc/workspace/TestService (Linux or Ubuntu)\ncommandline -     Set the jdb command with arguments. If JDK/bin is not in your environment PATH then you need to specify full path to the jdb command. Also change the hostname and port in which the java application service is running and listening.\nsourcepath -     The path to the source file with in the project. For ant project it usually /src/ and for maven usually /src/main/java.</p>\n<p>Breakpoints Ready to set the breakpoint?. Breakpoints are the way to inform the jvm to halt the execution at a particular point (line number or method in a class). When the execution halts, the application variables can be inspected.\nAdd a breakpoint using 'Toggle Breakpoint' menu option from context menu. Context menu can be accessible using right click. A circle icon will be placed on the line number gutter when a breakpoint is added</p>\n<p>When the jvm hits the breakpoint during the execution, the gutter icon will be changed to 'pointer' to indicate that the breakpoint is hit.</p>\n<p>Inspect Variables\nVariables &amp; expressions can be inspected using inline popup. Click on the variable or highlight the expression to evaluate/inspect inline.</p>\n<p>Watch Expressions Expressions can be evaluated using the 'Add Expression' context menu. You can enter any valid expression to evaluate.</p>\n<p>Enter the Expression</p>\n<p>JDebug Variables It is interesting to watch the variables in the 'JDebug Variables' window. If a variable is complex object it will be displayed with '+' icon on gutter. These variables can be expanded further to get the additional details using 'Expand' context menu. The 'Expand' context menu will be enabled only in 'JDebug' variables window.</p>\n<p>How to Continue?\nThe application execution can be continued using one of the following menu options\nStep Over Continue execution to next line\nStep Into Continue the execution into a method call\nStep Out Step out of the current method and continue\nContinue Continue to next breakpoint or till completion\n<a href=\"https://i.stack.imgur.com/HS0x6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kocha≈Ñski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10770,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12092999,"answer_count":2,"score":8,"last_activity_date":1677049451,"creation_date":1334836643,"question_id":10227530,"body_markdown":"Sometimes I am doing simple fixes for rather huge Java application and I don&#39;t want to open Eclipse for this task. Eclipse starts long and since the project is build out of large number of subprojects, which are build anyway by Maven, it takes ages before Eclipse is usable (at least ages in impatient Java developer scale).\r\n\r\nAlmost everything I need can be done in Sublime Text editor, however one place where Eclipse shines is debugger. My workflow is: make a fix, then test it running application (on server) using debugger, to check if everything is ok.\r\n\r\nSo is there any Sublime plugin, or other non-IDE solution for easy debugging of Java application.\r\n\r\nNote: I have seen [this post](https://stackoverflow.com/questions/545056/how-to-debug-java-application-using-vim-gvim) - its pretty old, maybe there is something better.","title":"How to debug Java application from Sublime Text editor","body":"<p>Sometimes I am doing simple fixes for rather huge Java application and I don't want to open Eclipse for this task. Eclipse starts long and since the project is build out of large number of subprojects, which are build anyway by Maven, it takes ages before Eclipse is usable (at least ages in impatient Java developer scale).</p>\n\n<p>Almost everything I need can be done in Sublime Text editor, however one place where Eclipse shines is debugger. My workflow is: make a fix, then test it running application (on server) using debugger, to check if everything is ok.</p>\n\n<p>So is there any Sublime plugin, or other non-IDE solution for easy debugging of Java application.</p>\n\n<p>Note: I have seen <a href=\"https://stackoverflow.com/questions/545056/how-to-debug-java-application-using-vim-gvim\">this post</a> - its pretty old, maybe there is something better.</p>\n"},{"tags":["java","arraylist","design-patterns","iterator","concurrentmodificationexception"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677038778,"post_id":75528137,"comment_id":133256849,"body_markdown":"You only want to add the product to the list after checking _all_ of the items for duplicates, not after checking _each_ item.","body":"You only want to add the product to the list after checking <i>all</i> of the items for duplicates, not after checking <i>each</i> item."},{"owner":{"account_id":2277794,"reputation":1044,"user_id":2003642,"accept_rate":75,"display_name":"Bhavik Patel"},"score":0,"creation_date":1677042030,"post_id":75528137,"comment_id":133257239,"body_markdown":"the `exception` says it all. Try to understand the error. You should get your answer, if not, read previous comment from @TimMoore , that implementation will solve it.","body":"the <code>exception</code> says it all. Try to understand the error. You should get your answer, if not, read previous comment from @TimMoore , that implementation will solve it."}],"answers":[{"tags":[],"owner":{"account_id":2277794,"reputation":1044,"user_id":2003642,"accept_rate":75,"display_name":"Bhavik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677042496,"creation_date":1677042496,"answer_id":75528490,"question_id":75528137,"body_markdown":"&quot;Add the product after checking all of the items, not after checking each item&quot;.\r\n\r\nThe ConcurrentModificationException occurs when an object is tried to be modified concurrently when it is not permissible. This exception usually comes when one is working with Java Collection classes.\r\n\r\nJust modifying part of the code.\r\n\r\n```\r\n /**\r\n * 0 = does not\r\n * 1 = is in the list\r\n * 2 = same name\r\n * */\r\nint productExistsStatus = 0;\r\nfor (Product product1: productListArray) {\r\n    if (product1.getProductId() == product.getProductId()) {\r\n        System.out.println(&quot; the product is already in the list&quot;);\r\n        productExistsStatus = 1;\r\n        break;\r\n    } else if (product1.getProductName().equals(product.getProductName())) {\r\n        System.out.println(&quot;choose another name for product&quot;);\r\n        productExistsStatus = 2;\r\n        break;\r\n    }\r\n}\r\nif (productExistsStatus == 0) {\r\n    productListArray.add(product);\r\n}\r\n```","title":"I have productListArray and I would like to add product into it but each product has unique ID and unique name and I am getting some errors","body":"<p>&quot;Add the product after checking all of the items, not after checking each item&quot;.</p>\n<p>The ConcurrentModificationException occurs when an object is tried to be modified concurrently when it is not permissible. This exception usually comes when one is working with Java Collection classes.</p>\n<p>Just modifying part of the code.</p>\n<pre><code> /**\n * 0 = does not\n * 1 = is in the list\n * 2 = same name\n * */\nint productExistsStatus = 0;\nfor (Product product1: productListArray) {\n    if (product1.getProductId() == product.getProductId()) {\n        System.out.println(&quot; the product is already in the list&quot;);\n        productExistsStatus = 1;\n        break;\n    } else if (product1.getProductName().equals(product.getProductName())) {\n        System.out.println(&quot;choose another name for product&quot;);\n        productExistsStatus = 2;\n        break;\n    }\n}\nif (productExistsStatus == 0) {\n    productListArray.add(product);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677048503,"creation_date":1677048503,"answer_id":75529117,"question_id":75528137,"body_markdown":"From the code in your question:\r\n```java\r\nprivate ArrayList&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\r\n```\r\nIt is recommended to [code to the interface](https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean) and not to the implementation. Hence that line should be:\r\n```java\r\nprivate java.util.List&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\r\n```\r\nYou didn&#39;t post the code for class `Product`. In the below code, I added it as a [record](https://docs.oracle.com/en/java/javase/14/language/records.html).\r\n\r\nI don&#39;t understand the need to make class `ProductList` a singleton but since it is, note the different ways to write a [thread-safe singleton](https://stackoverflow.com/questions/11165852/java-singleton-and-synchronization) class.\r\n\r\nI also don&#39;t understand why class `ProductList` implements interface [Iterator](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html). The implementation is wrong and you don&#39;t use it anyway, so I just removed it in the below code.\r\n\r\nWhen you ask for help in finding out why your code is throwing an [exception](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html) it is usually a good idea to post the stack trace of that exception.\r\n\r\nYour actual problem is that you are trying to [modify `productListArray` while you are iterating over it](https://stackoverflow.com/questions/20639098/in-java-can-you-modify-a-list-while-iterating-through-it). Note that the same problem exists in method `remove`.\r\n\r\nIn the below code I also added a `main` method so that you can copy the code and run it.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.ListIterator;\r\n\r\npublic class ProductList {\r\n\r\n    private List&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\r\n\r\n    /* Singleton Design begin */\r\n    private static ProductList productListSingleton = new ProductList();\r\n\r\n    private ProductList() {\r\n\r\n    }// end of private constructor\r\n\r\n    public static ProductList instance() {\r\n        return productListSingleton;\r\n    }\r\n\r\n    /* Singleton Design Phase end */\r\n    /*\r\n     * method add product into list\r\n     * \r\n     * @param Product Type\r\n     */\r\n    public void addProduct(Product product) {\r\n// if the list is  empty just add the product into the list\r\n        if (productListArray.isEmpty()) {\r\n            productListArray.add(product);\r\n        }\r\n        /*\r\n         * add product only if the id and name not existed in the productList\r\n         */\r\n        else {\r\n            boolean canAdd = true;\r\n            for (Product product1 : productListArray) {\r\n                if (product1.productId() == product.productId()) {\r\n                    System.out.println(&quot; the product is already in the list&quot;);\r\n                    canAdd = false;\r\n                    break;\r\n                }\r\n                if (product1.productName().equals(product.productName())) {\r\n                    System.out.println(&quot;choose another name for product&quot;);\r\n                    canAdd = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (canAdd) {\r\n                productListArray.add(product);\r\n            }\r\n        }\r\n    } // end of addProductMethod\r\n\r\n    /*\r\n     * remove the product from the ProductList Parameter product id\r\n     */\r\n    public void remove(int productId) {\r\n        ListIterator&lt;Product&gt; iteratorList = productListArray.listIterator();\r\n        while (iteratorList.hasNext()) {\r\n            Product product = iteratorList.next();\r\n            if (product.productId() == productId)\r\n                iteratorList.remove();\r\n        } // end of while\r\n    } // end of remove method\r\n\r\n    /* retrieve the productlist */\r\n    public void retrieve() {\r\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\r\n        while (iteratorList.hasNext()) {\r\n            System.out.println(iteratorList.next());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ProductList pl = ProductList.instance();\r\n        pl.addProduct(new Product(1, &quot;First&quot;));\r\n        pl.retrieve();\r\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n        pl.addProduct(new Product(1, &quot;Second&quot;));\r\n        pl.retrieve();\r\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n        pl.addProduct(new Product(2, &quot;First&quot;));\r\n        pl.retrieve();\r\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n        pl.addProduct(new Product(2, &quot;Second&quot;));\r\n        pl.retrieve();\r\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n        pl.remove(1);\r\n        pl.retrieve();\r\n    }\r\n}\r\n```\r\nHere is the output I get when I run the above code.\r\n```none\r\nProduct[productId=1, productName=First]\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n the product is already in the list\r\nProduct[productId=1, productName=First]\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nchoose another name for product\r\nProduct[productId=1, productName=First]\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nProduct[productId=1, productName=First]\r\nProduct[productId=2, productName=Second]\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nProduct[productId=2, productName=Second]\r\n```\r\n","title":"I have productListArray and I would like to add product into it but each product has unique ID and unique name and I am getting some errors","body":"<p>From the code in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ArrayList&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\n</code></pre>\n<p>It is recommended to <a href=\"https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean\">code to the interface</a> and not to the implementation. Hence that line should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private java.util.List&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\n</code></pre>\n<p>You didn't post the code for class <code>Product</code>. In the below code, I added it as a <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>I don't understand the need to make class <code>ProductList</code> a singleton but since it is, note the different ways to write a <a href=\"https://stackoverflow.com/questions/11165852/java-singleton-and-synchronization\">thread-safe singleton</a> class.</p>\n<p>I also don't understand why class <code>ProductList</code> implements interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Iterator</a>. The implementation is wrong and you don't use it anyway, so I just removed it in the below code.</p>\n<p>When you ask for help in finding out why your code is throwing an <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exception</a> it is usually a good idea to post the stack trace of that exception.</p>\n<p>Your actual problem is that you are trying to <a href=\"https://stackoverflow.com/questions/20639098/in-java-can-you-modify-a-list-while-iterating-through-it\">modify <code>productListArray</code> while you are iterating over it</a>. Note that the same problem exists in method <code>remove</code>.</p>\n<p>In the below code I also added a <code>main</code> method so that you can copy the code and run it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.ListIterator;\n\npublic class ProductList {\n\n    private List&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\n\n    /* Singleton Design begin */\n    private static ProductList productListSingleton = new ProductList();\n\n    private ProductList() {\n\n    }// end of private constructor\n\n    public static ProductList instance() {\n        return productListSingleton;\n    }\n\n    /* Singleton Design Phase end */\n    /*\n     * method add product into list\n     * \n     * @param Product Type\n     */\n    public void addProduct(Product product) {\n// if the list is  empty just add the product into the list\n        if (productListArray.isEmpty()) {\n            productListArray.add(product);\n        }\n        /*\n         * add product only if the id and name not existed in the productList\n         */\n        else {\n            boolean canAdd = true;\n            for (Product product1 : productListArray) {\n                if (product1.productId() == product.productId()) {\n                    System.out.println(&quot; the product is already in the list&quot;);\n                    canAdd = false;\n                    break;\n                }\n                if (product1.productName().equals(product.productName())) {\n                    System.out.println(&quot;choose another name for product&quot;);\n                    canAdd = false;\n                    break;\n                }\n            }\n            if (canAdd) {\n                productListArray.add(product);\n            }\n        }\n    } // end of addProductMethod\n\n    /*\n     * remove the product from the ProductList Parameter product id\n     */\n    public void remove(int productId) {\n        ListIterator&lt;Product&gt; iteratorList = productListArray.listIterator();\n        while (iteratorList.hasNext()) {\n            Product product = iteratorList.next();\n            if (product.productId() == productId)\n                iteratorList.remove();\n        } // end of while\n    } // end of remove method\n\n    /* retrieve the productlist */\n    public void retrieve() {\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\n        while (iteratorList.hasNext()) {\n            System.out.println(iteratorList.next());\n        }\n    }\n\n    public static void main(String[] args) {\n        ProductList pl = ProductList.instance();\n        pl.addProduct(new Product(1, &quot;First&quot;));\n        pl.retrieve();\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n        pl.addProduct(new Product(1, &quot;Second&quot;));\n        pl.retrieve();\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n        pl.addProduct(new Product(2, &quot;First&quot;));\n        pl.retrieve();\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n        pl.addProduct(new Product(2, &quot;Second&quot;));\n        pl.retrieve();\n        System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n        pl.remove(1);\n        pl.retrieve();\n    }\n}\n</code></pre>\n<p>Here is the output I get when I run the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Product[productId=1, productName=First]\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n the product is already in the list\nProduct[productId=1, productName=First]\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nchoose another name for product\nProduct[productId=1, productName=First]\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nProduct[productId=1, productName=First]\nProduct[productId=2, productName=Second]\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nProduct[productId=2, productName=Second]\n</code></pre>\n"}],"owner":{"account_id":18423286,"reputation":41,"user_id":13420334,"display_name":"Abshir M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75529117,"answer_count":2,"score":0,"last_activity_date":1677048503,"creation_date":1677038308,"question_id":75528137,"body_markdown":"before I added the product to the non-empty list, I tried to validate  if the product id and name of the product already existed in the list by going through the list and if there is no such id and name in the list then added the product to the list, but, I got this  error #ConcurrentModificationException\r\n\r\n-thanks for advance\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\n\r\npublic class ProductList implements Iterator&lt;Product&gt; {\r\n\r\n    private ArrayList&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\r\n\r\n    /* Singleton Design begin */\r\n    private static ProductList productListSingleton;\r\n\r\n    private ProductList() {\r\n\r\n    }// end of private constructor\r\n\r\n    public static ProductList instance() {\r\n        if (productListSingleton == null) {\r\n            productListSingleton = new ProductList();\r\n        }\r\n        return productListSingleton;\r\n    }\r\n\r\n    /* Singleton Design Phase end */\r\n    /*\r\n     * method add product into list\r\n     * \r\n     * @param Product Type\r\n     */\r\n    public void addProduct(Product product) {\r\n// if the list is  empty just add the product into the list\r\n        if (productListArray.isEmpty()) {\r\n            productListArray.add(product);\r\n        }\r\n        /*\r\n         * add product only if the id and name not existed in the productList\r\n         */\r\n        else {\r\n            for (Product product1 : productListArray) {\r\n                if (product1.getProductId() == product.getProductId()) {\r\n                    System.out.println(&quot; the product is already in the list&quot;);\r\n                }\r\n                else if (product1.getProductName().equals(product.getProductName())) {\r\n                    System.out.println(&quot;choose another name for product&quot;);\r\n                }\r\n                else {\r\n                    productListArray.add(product);\r\n                }\r\n            }\r\n        }\r\n    } // end of addProductMethod\r\n\r\n    /*\r\n     * remove the product from the ProductList Parameter product id\r\n     */\r\n    public void remove(int productId) {\r\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\r\n        while (iteratorList.hasNext()) {\r\n            Product product = iteratorList.next();\r\n            if (product.getProductId() == productId)\r\n                iteratorList.remove();\r\n        } // end of while\r\n    } // end of remove method\r\n\r\n    /* retrieve the productlist */\r\n    public void retrieve() {\r\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\r\n        while (iteratorList.hasNext()) {\r\n            System.out.println(iteratorList.next());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        // TODO Auto-generated method stub\r\n        if (next() == null) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Product next() {\r\n        // TODO Auto-generated method stub\r\n        return next();\r\n    }\r\n}\r\n```","title":"I have productListArray and I would like to add product into it but each product has unique ID and unique name and I am getting some errors","body":"<p>before I added the product to the non-empty list, I tried to validate  if the product id and name of the product already existed in the list by going through the list and if there is no such id and name in the list then added the product to the list, but, I got this  error #ConcurrentModificationException</p>\n<p>-thanks for advance</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Iterator;\n\npublic class ProductList implements Iterator&lt;Product&gt; {\n\n    private ArrayList&lt;Product&gt; productListArray = new ArrayList&lt;&gt;();\n\n    /* Singleton Design begin */\n    private static ProductList productListSingleton;\n\n    private ProductList() {\n\n    }// end of private constructor\n\n    public static ProductList instance() {\n        if (productListSingleton == null) {\n            productListSingleton = new ProductList();\n        }\n        return productListSingleton;\n    }\n\n    /* Singleton Design Phase end */\n    /*\n     * method add product into list\n     * \n     * @param Product Type\n     */\n    public void addProduct(Product product) {\n// if the list is  empty just add the product into the list\n        if (productListArray.isEmpty()) {\n            productListArray.add(product);\n        }\n        /*\n         * add product only if the id and name not existed in the productList\n         */\n        else {\n            for (Product product1 : productListArray) {\n                if (product1.getProductId() == product.getProductId()) {\n                    System.out.println(&quot; the product is already in the list&quot;);\n                }\n                else if (product1.getProductName().equals(product.getProductName())) {\n                    System.out.println(&quot;choose another name for product&quot;);\n                }\n                else {\n                    productListArray.add(product);\n                }\n            }\n        }\n    } // end of addProductMethod\n\n    /*\n     * remove the product from the ProductList Parameter product id\n     */\n    public void remove(int productId) {\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\n        while (iteratorList.hasNext()) {\n            Product product = iteratorList.next();\n            if (product.getProductId() == productId)\n                iteratorList.remove();\n        } // end of while\n    } // end of remove method\n\n    /* retrieve the productlist */\n    public void retrieve() {\n        Iterator&lt;Product&gt; iteratorList = productListArray.iterator();\n        while (iteratorList.hasNext()) {\n            System.out.println(iteratorList.next());\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        // TODO Auto-generated method stub\n        if (next() == null) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    @Override\n    public Product next() {\n        // TODO Auto-generated method stub\n        return next();\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","garbage-collection"],"comments":[{"owner":{"account_id":4458247,"reputation":423,"user_id":3627863,"accept_rate":100,"display_name":"Arunkumar Muthuvel"},"score":0,"creation_date":1677047628,"post_id":75529005,"comment_id":133258037,"body_markdown":"An exert from my garbage collection logs can be found https://pastebin.com/raw/Mhhb4Dj0","body":"An exert from my garbage collection logs can be found <a href=\"https://pastebin.com/raw/Mhhb4Dj0\" rel=\"nofollow noreferrer\">pastebin.com/raw/Mhhb4Dj0</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1677078189,"post_id":75529005,"comment_id":133266739,"body_markdown":"Start with removing all options you don‚Äôt understand.","body":"Start with removing all options you don‚Äôt understand."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677095051,"post_id":75529005,"comment_id":133271972,"body_markdown":"@AnatolyG the string deduplication is only applied to strings which survive long enough to get to the old generation. That‚Äôs normally not a problem‚Äîunless someone messes around with the survivor rates or the size of the New generation, of course. That doesn‚Äôt preclude that some applications might run better without‚Ä¶","body":"@AnatolyG the string deduplication is only applied to strings which survive long enough to get to the old generation. That‚Äôs normally not a problem‚Äîunless someone messes around with the survivor rates or the size of the New generation, of course. That doesn‚Äôt preclude that some applications might run better without‚Ä¶"}],"owner":{"account_id":4458247,"reputation":423,"user_id":3627863,"accept_rate":100,"display_name":"Arunkumar Muthuvel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677047606,"creation_date":1677047606,"question_id":75529005,"body_markdown":"I am currently running an application which requires a maximum heap size of 4GB in 8GB RAM.\r\n\r\nCurrently I use the following flags to handle garbage collection.\r\n\r\n&gt; NS_PARAMS=&quot;-Xms4096M -Xmx4096M -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+DisableExplicitGC -verbose:gc  -Xloggc:../logs/gc.txt -XX:SurvivorRatio=12 -XX:+ScavengeBeforeFullGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled\t-XX:ConcGCThreads=4 -XX:ParallelGCThreads=16  -XX:+PrintGCDetails -XX:MetaspaceSize=700M -XX:MaxMetaspaceSize=700M -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:CompressedClassSpaceSize=128M -XX:NewSize=512M -XX:MaxNewSize=512M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=$HEAP_DUMP_PATH -XX:InitiatingHeapOccupancyPercent=65&quot;\r\n\r\n\r\nG1 Old Generation Garbage Collection time is 55 sec in 1 minute.\r\n\r\n\r\n\r\nAny advice on what I should change in order to reduce these long pauses would be greatly appreciated.\r\n\r\n","title":"Long running GC in Application","body":"<p>I am currently running an application which requires a maximum heap size of 4GB in 8GB RAM.</p>\n<p>Currently I use the following flags to handle garbage collection.</p>\n<blockquote>\n<p>NS_PARAMS=&quot;-Xms4096M -Xmx4096M -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+DisableExplicitGC -verbose:gc  -Xloggc:../logs/gc.txt -XX:SurvivorRatio=12 -XX:+ScavengeBeforeFullGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled    -XX:ConcGCThreads=4 -XX:ParallelGCThreads=16  -XX:+PrintGCDetails -XX:MetaspaceSize=700M -XX:MaxMetaspaceSize=700M -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:CompressedClassSpaceSize=128M -XX:NewSize=512M -XX:MaxNewSize=512M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=$HEAP_DUMP_PATH -XX:InitiatingHeapOccupancyPercent=65&quot;</p>\n</blockquote>\n<p>G1 Old Generation Garbage Collection time is 55 sec in 1 minute.</p>\n<p>Any advice on what I should change in order to reduce these long pauses would be greatly appreciated.</p>\n"},{"tags":["java","jvm","corretto"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677047924,"post_id":75528883,"comment_id":133258088,"body_markdown":"Based on reading the duplicates, the class found &quot;first&quot; on the class-path is the one used. But in general, it seems to completely depend on the `ClassLoader` implementation being used. Some frameworks (e.g., Java EE/Jakarta EE containers) can do some pretty, let&#39;s say &quot;unorthodox&quot;, stuff with class loading.","body":"Based on reading the duplicates, the class found &quot;first&quot; on the class-path is the one used. But in general, it seems to completely depend on the <code>ClassLoader</code> implementation being used. Some frameworks (e.g., Java EE/Jakarta EE containers) can do some pretty, let&#39;s say &quot;unorthodox&quot;, stuff with class loading."}],"owner":{"account_id":9874390,"reputation":41,"user_id":10333309,"display_name":"Charan2628"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677047409,"answer_count":0,"score":0,"last_activity_date":1677047536,"creation_date":1677046632,"question_id":75528883,"body_markdown":"We have one URLUtils class which is coming from one internal maven dependency jar (Jar A), and this URLUtils class is also coming from another third-party maven dependency jar (Jar B). These both classes have same package name in these two jars.\r\n\r\nNow there is another 3rd part dependency which has Jar B as dependency, and it is using URLUtils class from it.\r\nEven though the class and package names of URLUtils class in Jar A and Jar B is same but method signature is different.\r\n\r\nInitially we don&#39;t know we have to URLUtils classes coming from two different jars and deployed it and it worked fine but after 12 days it started picking URLUtils class from Jar A and failing with ClassCastException.\r\n\r\nWe found the issue and removed the Jar A dependency from the project. But I am curious to know why JVM initially choosed URLUtils class from Jar B and suddenly switched to Jar A URLUtils class.\r\n\r\nJVM: Corretto JDK 8\r\n","title":"How JVM resolves same class coming from two Jars","body":"<p>We have one URLUtils class which is coming from one internal maven dependency jar (Jar A), and this URLUtils class is also coming from another third-party maven dependency jar (Jar B). These both classes have same package name in these two jars.</p>\n<p>Now there is another 3rd part dependency which has Jar B as dependency, and it is using URLUtils class from it.\nEven though the class and package names of URLUtils class in Jar A and Jar B is same but method signature is different.</p>\n<p>Initially we don't know we have to URLUtils classes coming from two different jars and deployed it and it worked fine but after 12 days it started picking URLUtils class from Jar A and failing with ClassCastException.</p>\n<p>We found the issue and removed the Jar A dependency from the project. But I am curious to know why JVM initially choosed URLUtils class from Jar B and suddenly switched to Jar A URLUtils class.</p>\n<p>JVM: Corretto JDK 8</p>\n"},{"tags":["java","javac","jdeps"],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677047224,"creation_date":1677047224,"question_id":75528958,"body_markdown":"Though `jdeps` can be used to get the class level dependencies, considering follow case:\r\n\r\n**A.java:**\r\n\r\n```java\r\npublic class A {\r\n    public static final int AA = 1;\r\n}\r\n```\r\n\r\n**B.java**\r\n\r\n```java\r\npublic class B {\r\n    public static void main(String[] args) {\r\n        System.out.println(A.AA);\r\n    }\r\n}\r\n```\r\n\r\nIn this case, when using `javac` to do the complilation. The `A.AA` in `B.java` will be directly replaced by constant `1`.\r\n\r\nIn this case, jdeps can not find that B actually depends on A. How to find the dependency information when it comes to this kind of public static final field accessing?","title":"How to get the dependency information about public static final fields","body":"<p>Though <code>jdeps</code> can be used to get the class level dependencies, considering follow case:</p>\n<p><strong>A.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    public static final int AA = 1;\n}\n</code></pre>\n<p><strong>B.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class B {\n    public static void main(String[] args) {\n        System.out.println(A.AA);\n    }\n}\n</code></pre>\n<p>In this case, when using <code>javac</code> to do the complilation. The <code>A.AA</code> in <code>B.java</code> will be directly replaced by constant <code>1</code>.</p>\n<p>In this case, jdeps can not find that B actually depends on A. How to find the dependency information when it comes to this kind of public static final field accessing?</p>\n"},{"tags":["java","json","jsonpath","json-path-expression"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677046186,"creation_date":1677046186,"answer_id":75528843,"question_id":75527525,"body_markdown":"You may consider another library _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(yourJsonString);\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot; +\r\n        &quot;.entries()&quot; +\r\n        &quot;.[value=~&#39;.*\\\\{.*}.*&#39;]*&quot; +\r\n        &quot;.concat(&#39;$.&#39;,key)&quot;);\r\n    node.forEach(elem -&gt; System.out.println(elem.asText()));\r\n\r\n__Output__\r\n\r\n    $.description\r\n    $.filter\r\n    $.contextData.docType\r\n    $.contextData.docNumber\r\n    $.contextData.organizationName\r\n    $.contextData.contractedServices\r\n    $.children[0].description\r\n    $.children[1].description\r\n","title":"JAVA JsonPath get selected paths using regex","body":"<p>You may consider another library <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(yourJsonString);\n\nJsonNode node = josson.getNode(\n    &quot;flatten('.','[%d]')&quot; +\n    &quot;.entries()&quot; +\n    &quot;.[value=~'.*\\\\{.*}.*']*&quot; +\n    &quot;.concat('$.',key)&quot;);\nnode.forEach(elem -&gt; System.out.println(elem.asText()));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>$.description\n$.filter\n$.contextData.docType\n$.contextData.docNumber\n$.contextData.organizationName\n$.contextData.contractedServices\n$.children[0].description\n$.children[1].description\n</code></pre>\n"}],"owner":{"account_id":8974840,"reputation":359,"user_id":6692088,"display_name":"Kevin Valdez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677046186,"creation_date":1677029978,"question_id":75527525,"body_markdown":"Given the following Json\r\n\r\n    {\r\n       &quot;id&quot;:&quot;MENU_FULL_V2&quot;,\r\n       &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\r\n       &quot;type&quot;:&quot;MAIN&quot;,\r\n       &quot;icon&quot;:&quot;shopping-bag-r&quot;,\r\n       &quot;description&quot;:&quot;This is the description {$.description}&quot;,\r\n       &quot;order&quot;:15000,\r\n       &quot;code&quot;:&quot;code&quot;,\r\n       &quot;filter&quot;:&quot;{$.contractedServices[*].contractId}&quot;,\r\n       &quot;status&quot;:&quot;ENABLED&quot;,\r\n       &quot;contextData&quot;:{\r\n          &quot;docType&quot;:&quot;{$.documentType}&quot;,\r\n          &quot;docNumber&quot;:&quot;{$.documentNumber}&quot;,\r\n          &quot;organizationName&quot;:&quot;{$.name}&quot;,\r\n          &quot;contractedServices&quot;:&quot;{$.contractedServices[*]}&quot;\r\n       },\r\n       &quot;children&quot;:[\r\n          {\r\n             &quot;id&quot;:&quot;MENU_CHILD_1&quot;,\r\n             &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\r\n             &quot;type&quot;:&quot;CHILD&quot;,\r\n             &quot;description&quot;:&quot;This is the description {$.description}&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;:&quot;MENU_CHILD_2&quot;,\r\n             &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\r\n             &quot;type&quot;:&quot;CHILD&quot;,\r\n             &quot;description&quot;:&quot;This is the description {$.description}&quot;\r\n          }\r\n       ]\r\n    }\r\n\r\nHow can I return a List of string which contains all the paths to the values that has `{ }` in their value.\r\n\r\nIs there a way to get all the values that match this regular expresion [see][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/2GhsKu/1\r\n\r\nSo far I have this.\r\n\r\n    Configuration conf = Configuration.builder()\r\n       .options(Option.AS_PATH_LIST).build();\r\n    \r\n    List&lt;String&gt; pathList = JsonPath.using(conf).parse(json).read(&quot;//GET ALL PATHS THAT MATCH REGEX&quot;);\r\n\r\nThe expected output for `pathList` should contain all paths that have values that have `{ }`\r\n\r\nie:\r\n\r\n    &quot;$[&#39;description&#39;]&quot;,\r\n    &quot;$[&#39;filter&#39;]&quot;,\r\n    &quot;$[&#39;contextData&#39;][&#39;docType&#39;]&quot;,\r\n    &quot;$[&#39;contextData&#39;][&#39;docNumber&#39;]&quot;\r\n\r\nNote that the list is not complete, but it should contain all the paths that have values with `{ }`","title":"JAVA JsonPath get selected paths using regex","body":"<p>Given the following Json</p>\n<pre><code>{\n   &quot;id&quot;:&quot;MENU_FULL_V2&quot;,\n   &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\n   &quot;type&quot;:&quot;MAIN&quot;,\n   &quot;icon&quot;:&quot;shopping-bag-r&quot;,\n   &quot;description&quot;:&quot;This is the description {$.description}&quot;,\n   &quot;order&quot;:15000,\n   &quot;code&quot;:&quot;code&quot;,\n   &quot;filter&quot;:&quot;{$.contractedServices[*].contractId}&quot;,\n   &quot;status&quot;:&quot;ENABLED&quot;,\n   &quot;contextData&quot;:{\n      &quot;docType&quot;:&quot;{$.documentType}&quot;,\n      &quot;docNumber&quot;:&quot;{$.documentNumber}&quot;,\n      &quot;organizationName&quot;:&quot;{$.name}&quot;,\n      &quot;contractedServices&quot;:&quot;{$.contractedServices[*]}&quot;\n   },\n   &quot;children&quot;:[\n      {\n         &quot;id&quot;:&quot;MENU_CHILD_1&quot;,\n         &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\n         &quot;type&quot;:&quot;CHILD&quot;,\n         &quot;description&quot;:&quot;This is the description {$.description}&quot;\n      },\n      {\n         &quot;id&quot;:&quot;MENU_CHILD_2&quot;,\n         &quot;version&quot;:&quot;MENU_FULL_V2&quot;,\n         &quot;type&quot;:&quot;CHILD&quot;,\n         &quot;description&quot;:&quot;This is the description {$.description}&quot;\n      }\n   ]\n}\n</code></pre>\n<p>How can I return a List of string which contains all the paths to the values that has <code>{ }</code> in their value.</p>\n<p>Is there a way to get all the values that match this regular expresion <a href=\"https://regex101.com/r/2GhsKu/1\" rel=\"nofollow noreferrer\">see</a></p>\n<p>So far I have this.</p>\n<pre><code>Configuration conf = Configuration.builder()\n   .options(Option.AS_PATH_LIST).build();\n\nList&lt;String&gt; pathList = JsonPath.using(conf).parse(json).read(&quot;//GET ALL PATHS THAT MATCH REGEX&quot;);\n</code></pre>\n<p>The expected output for <code>pathList</code> should contain all paths that have values that have <code>{ }</code></p>\n<p>ie:</p>\n<pre><code>&quot;$['description']&quot;,\n&quot;$['filter']&quot;,\n&quot;$['contextData']['docType']&quot;,\n&quot;$['contextData']['docNumber']&quot;\n</code></pre>\n<p>Note that the list is not complete, but it should contain all the paths that have values with <code>{ }</code></p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"score":0,"creation_date":1676532438,"post_id":75468995,"comment_id":133156449,"body_markdown":"I noticed IntelliJ was updated late January, 2023. Done automatically through JetBrains Toolbox. Full paid subscription.","body":"I noticed IntelliJ was updated late January, 2023. Done automatically through JetBrains Toolbox. Full paid subscription."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676535780,"post_id":75468995,"comment_id":133157335,"body_markdown":"If you have already added the A library or jar in the B project&#39;s `pom.xml`, can the project compile successfully from the command line via `mvn compile`? Please also open `File | Project Structure | Modules | your_current_module` and check if that library/jar is in `Dependencies` tab.","body":"If you have already added the A library or jar in the B project&#39;s <code>pom.xml</code>, can the project compile successfully from the command line via <code>mvn compile</code>? Please also open <code>File | Project Structure | Modules | your_current_module</code> and check if that library/jar is in <code>Dependencies</code> tab."},{"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"score":0,"creation_date":1676571044,"post_id":75468995,"comment_id":133168506,"body_markdown":"LJ, &#39;mvn compile&#39; shows the same problem. The jar is in the dependencies tab.","body":"LJ, &#39;mvn compile&#39; shows the same problem. The jar is in the dependencies tab."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676606353,"post_id":75468995,"comment_id":133175312,"body_markdown":"You haven&#39;t added this jar/project B library correctly in this `pom.xml`. The IDEA uses the Maven configuration `pom.xml` as the single source of truth. Please recheck `pom.xml` and make sure that that library is added correctly there. Once you could use the `mvn compile` to build this project successfully, after reloading the Maven in IDEA, the IDEA should resolve it too.","body":"You haven&#39;t added this jar/project B library correctly in this <code>pom.xml</code>. The IDEA uses the Maven configuration <code>pom.xml</code> as the single source of truth. Please recheck <code>pom.xml</code> and make sure that that library is added correctly there. Once you could use the <code>mvn compile</code> to build this project successfully, after reloading the Maven in IDEA, the IDEA should resolve it too."},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1676850307,"post_id":75468995,"comment_id":133215272,"body_markdown":"are these projects a part of multi-module project? are they independent projects? could you please show pom.xml (without unnecessary details) for these projects?","body":"are these projects a part of multi-module project? are they independent projects? could you please show pom.xml (without unnecessary details) for these projects?"},{"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"score":0,"creation_date":1677043195,"post_id":75468995,"comment_id":133257383,"body_markdown":"@ursa pom.xml snippets added above. Separate projects at the same dir level. Again, proj-a is installed in local repo in the proper dir structure and the jar file contains the correct .class file, with the proper namespaces.","body":"@ursa pom.xml snippets added above. Separate projects at the same dir level. Again, proj-a is installed in local repo in the proper dir structure and the jar file contains the correct .class file, with the proper namespaces."},{"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"score":0,"creation_date":1677043230,"post_id":75468995,"comment_id":133257387,"body_markdown":"it is a maven issue, not IntelliJ.","body":"it is a maven issue, not IntelliJ."}],"answers":[{"tags":[],"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677044603,"creation_date":1677044603,"answer_id":75528679,"question_id":75468995,"body_markdown":"Figured it out. There was a misconfigured plugin I overlooked. All good now. Thanks all for looking at this.","title":"Intellij package does not exist","body":"<p>Figured it out. There was a misconfigured plugin I overlooked. All good now. Thanks all for looking at this.</p>\n"}],"owner":{"account_id":229162,"reputation":749,"user_id":491924,"accept_rate":45,"display_name":"emiles"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677044603,"creation_date":1676532246,"question_id":75468995,"body_markdown":"IntelliJ 2022.3.2 Ultimate\r\nMacOS (latest)\r\n\r\nStumped ...\r\n\r\nProject A builds fine, installs jar file in local repo, ~/.m2/repository/...\r\nProject B has a dependency on Project A. Looks like it&#39;s there in Maven -&gt; Dependencies.\r\nProject B does not compile, &quot;package ? does not exist&quot;.\r\nI manually copy the jar to ./lib and add it in the module dependencies for Project B. Again, Maven -&gt; dependencies lists the jar file.\r\nInside the jar file in BOOT-INF/classes/... the class files are there.\r\n\r\nIntelliJ does not recognize the jar file, no matter what I do. Basic stuff here. I&#39;ve tried all tricks except the one that fixes the problem. I&#39;ve changed the java version to 11 from 17. Used maven compiler plugin with source and target set to 11. Disabled additional IntelliJ plugins I had installed. Nothing in idea.log that stands out. Project B simply can&#39;t find the jar for Project A.\r\n\r\nProject A and Project B are spring boot projects. I&#39;ve done local dependencies before and everything has worked fine, except in this case.\r\n\r\nTIA,\r\nEric\r\n\r\n\r\nProject A pom.xml:\r\n\r\n    ...\r\n    &lt;name&gt;proj-a&lt;/name&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proj-a&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    ...\r\n\r\nProject B pom.xml:\r\n\r\n    ...\r\n    &lt;name&gt;proj-b&lt;/name&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proj-b&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;proj-a&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n","title":"Intellij package does not exist","body":"<p>IntelliJ 2022.3.2 Ultimate\nMacOS (latest)</p>\n<p>Stumped ...</p>\n<p>Project A builds fine, installs jar file in local repo, ~/.m2/repository/...\nProject B has a dependency on Project A. Looks like it's there in Maven -&gt; Dependencies.\nProject B does not compile, &quot;package ? does not exist&quot;.\nI manually copy the jar to ./lib and add it in the module dependencies for Project B. Again, Maven -&gt; dependencies lists the jar file.\nInside the jar file in BOOT-INF/classes/... the class files are there.</p>\n<p>IntelliJ does not recognize the jar file, no matter what I do. Basic stuff here. I've tried all tricks except the one that fixes the problem. I've changed the java version to 11 from 17. Used maven compiler plugin with source and target set to 11. Disabled additional IntelliJ plugins I had installed. Nothing in idea.log that stands out. Project B simply can't find the jar for Project A.</p>\n<p>Project A and Project B are spring boot projects. I've done local dependencies before and everything has worked fine, except in this case.</p>\n<p>TIA,\nEric</p>\n<p>Project A pom.xml:</p>\n<pre><code>...\n&lt;name&gt;proj-a&lt;/name&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;proj-a&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n...\n</code></pre>\n<p>Project B pom.xml:</p>\n<pre><code>...\n&lt;name&gt;proj-b&lt;/name&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;proj-b&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;proj-a&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java","logging","objectmapper"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1677061652,"post_id":75528550,"comment_id":133261546,"body_markdown":"Jackson&#39;s &quot;Pretty print&quot; is for writing JSON. The format you want isn&#39;t valid JSON so it can&#39;t be done with Jackson. You already are printing `field2` how you want it, so you&#39;ll have to print the rest yourself, too.","body":"Jackson&#39;s &quot;Pretty print&quot; is for writing JSON. The format you want isn&#39;t valid JSON so it can&#39;t be done with Jackson. You already are printing <code>field2</code> how you want it, so you&#39;ll have to print the rest yourself, too."},{"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"score":0,"creation_date":1677121107,"post_id":75528550,"comment_id":133276917,"body_markdown":"Its a valid JSON but printed differently. It just that, its not linear. \nMy question is not on values rather on printing. I know jackson doesn&#39;t support this now, is there any lib or anything - that we can achieve this.\n\nI could be achieving this after customizing Pretty Writer to be human readable   if prettyPrint() to be void - just to make sure it would not modify state of data. \n\n\n```\nobjectMapper.writeValueAsString(new TestClass()).prettyPrint();","body":"Its a valid JSON but printed differently. It just that, its not linear.  My question is not on values rather on printing. I know jackson doesn&#39;t support this now, is there any lib or anything - that we can achieve this.  I could be achieving this after customizing Pretty Writer to be human readable   if prettyPrint() to be void - just to make sure it would not modify state of data.    ``` objectMapper.writeValueAsString(new TestClass()).prettyPrint();"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1677591114,"post_id":75528550,"comment_id":133364920,"body_markdown":"No, it&#39;s not valid JSON. In JSON it&#39;s illegal to have a literal line break character in strings.","body":"No, it&#39;s not valid JSON. In JSON it&#39;s illegal to have a literal line break character in strings."},{"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"score":0,"creation_date":1677645849,"post_id":75528550,"comment_id":133377226,"body_markdown":"Its a data that represent, so its valid. I know there is limitation on computation now for this. That&#39;s why I was more interested to have void method on objectmapper to print data that is human readable. As long as, if that doesn&#39;t updates the state of data - its a pretty print anyway. So i am asking if there is lib or existing code that someone is already done. Thanks","body":"Its a data that represent, so its valid. I know there is limitation on computation now for this. That&#39;s why I was more interested to have void method on objectmapper to print data that is human readable. As long as, if that doesn&#39;t updates the state of data - its a pretty print anyway. So i am asking if there is lib or existing code that someone is already done. Thanks"}],"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677043241,"creation_date":1677043241,"question_id":75528550,"body_markdown":"This is the sample code what I am doing to log the JSON object to the console and including error stack trace as part of field2. While I log to the console, that is not readable.\r\n\r\nSample Code to understand issue.  \r\n```\r\npackage goal.test;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class TestClass {\r\n\r\n    String field1 = &quot;hello&quot;;\r\n    String field2 = &quot;hi\\r\\ntest&quot;;\r\n\r\n    public String getField1() {\r\n        return field1;\r\n    }\r\n\r\n    public void setField1(String field1) {\r\n        this.field1 = field1;\r\n    }\r\n\r\n    public String getField2() {\r\n        return field2;\r\n    }\r\n\r\n    public void setField2(String field2) {\r\n        this.field2 = field2;\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        whatIsPossibleNow();\r\n        whatINeed();\r\n    }\r\n\r\n    static void whatIsPossibleNow() throws JsonProcessingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String result = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(new TestClass());\r\n        System.out.println(result);\r\n        /**\r\n         * output\r\n         * {\r\n         *   &quot;field1&quot; : &quot;hello&quot;,\r\n         *   &quot;field2&quot; : &quot;hi\\r\\ntest&quot;\r\n         * }\r\n         */\r\n    }\r\n\r\n    static void whatINeed() throws JsonProcessingException {\r\n        TestClass obj = new TestClass();\r\n        /**\r\n         *\r\n         *  field2 also need to formatted while printing\r\n         *         expected output\r\n         *         {\r\n         *             &quot;field1&quot; : &quot;hello&quot;,\r\n         *             &quot;field2&quot; : &quot;hi\r\n         *                         test&quot;\r\n         *         }\r\n         *  output of the field2 should be something this what this prints\r\n         */\r\n        System.out.println(obj.getField2());\r\n    }\r\n\r\n    static void howCouldBe() throws JsonProcessingException {\r\n        /**\r\n         *  how to achieve this now ??\r\n         */\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.writeValueAsString(new TestClass()).prettyPrint();\r\n    }\r\n}\r\n```\r\n\r\nI am confused if there is any other way achieving as I need to pretty print object while deserializing.","title":"How to pretty format values on deserialize using jackson mapper","body":"<p>This is the sample code what I am doing to log the JSON object to the console and including error stack trace as part of field2. While I log to the console, that is not readable.</p>\n<p>Sample Code to understand issue.</p>\n<pre><code>package goal.test;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class TestClass {\n\n    String field1 = &quot;hello&quot;;\n    String field2 = &quot;hi\\r\\ntest&quot;;\n\n    public String getField1() {\n        return field1;\n    }\n\n    public void setField1(String field1) {\n        this.field1 = field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n\n    public void setField2(String field2) {\n        this.field2 = field2;\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        whatIsPossibleNow();\n        whatINeed();\n    }\n\n    static void whatIsPossibleNow() throws JsonProcessingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String result = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(new TestClass());\n        System.out.println(result);\n        /**\n         * output\n         * {\n         *   &quot;field1&quot; : &quot;hello&quot;,\n         *   &quot;field2&quot; : &quot;hi\\r\\ntest&quot;\n         * }\n         */\n    }\n\n    static void whatINeed() throws JsonProcessingException {\n        TestClass obj = new TestClass();\n        /**\n         *\n         *  field2 also need to formatted while printing\n         *         expected output\n         *         {\n         *             &quot;field1&quot; : &quot;hello&quot;,\n         *             &quot;field2&quot; : &quot;hi\n         *                         test&quot;\n         *         }\n         *  output of the field2 should be something this what this prints\n         */\n        System.out.println(obj.getField2());\n    }\n\n    static void howCouldBe() throws JsonProcessingException {\n        /**\n         *  how to achieve this now ??\n         */\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.writeValueAsString(new TestClass()).prettyPrint();\n    }\n}\n</code></pre>\n<p>I am confused if there is any other way achieving as I need to pretty print object while deserializing.</p>\n"},{"tags":["java"],"owner":{"account_id":21194056,"reputation":740,"user_id":15585965,"display_name":"genshuwoodswind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677042889,"creation_date":1677042889,"question_id":75528521,"body_markdown":"I was curious to see if someone knew a good way or a library in java 8 I should use to compare a string variable, and confirm if it is a unary operator, or binary operator. The string variable would hold NOT, AND, NAND, OR, NOR, XOR, COND, BICOND.  I am trying to avoid comparing multiple strings in multiple if statements. But if that&#39;s the only way I will do it. Just curious if someone knows. \r\n\r\nI will be doing the operations based on binary operators and unary operators.\r\n\r\nExample 1: \r\n\r\nif x is a unary operator\r\n do something\r\n\r\nelse if x is a binary operator\r\n do something\r\n\r\n","title":"UranyOperator and BinaryOperator comparing a String variable in Java 8","body":"<p>I was curious to see if someone knew a good way or a library in java 8 I should use to compare a string variable, and confirm if it is a unary operator, or binary operator. The string variable would hold NOT, AND, NAND, OR, NOR, XOR, COND, BICOND.  I am trying to avoid comparing multiple strings in multiple if statements. But if that's the only way I will do it. Just curious if someone knows.</p>\n<p>I will be doing the operations based on binary operators and unary operators.</p>\n<p>Example 1:</p>\n<p>if x is a unary operator\ndo something</p>\n<p>else if x is a binary operator\ndo something</p>\n"},{"tags":["java","jpa","eclipselink","jpql","sql-like"],"comments":[{"owner":{"account_id":757313,"reputation":6028,"user_id":758831,"accept_rate":75,"display_name":"wmorrison365"},"score":2,"creation_date":1357751966,"post_id":1341104,"comment_id":19761326,"body_markdown":"@Manuele Piastra: Is the answer below not what you were looking for?","body":"@Manuele Piastra: Is the answer below not what you were looking for?"}],"answers":[{"tags":[],"owner":{"account_id":51776,"reputation":3994,"user_id":154722,"accept_rate":82,"display_name":"shipmaster"},"down_vote_count":1,"up_vote_count":178,"is_accepted":false,"score":177,"last_activity_date":1251413850,"creation_date":1251413850,"answer_id":1344198,"question_id":1341104,"body_markdown":"If you do \r\n\r\n    LIKE :code\r\n\r\nand then do \r\n\r\n    namedQuery.setParameter(&quot;code&quot;, &quot;%&quot; + this.value + &quot;%&quot;);\r\n\r\nThen value remains free from the &#39;%&#39; sign. If you need to use it somewhere else in the same query simply use another parameter name other than &#39;code&#39; .\r\n\r\n","title":"Parameter in like clause JPQL","body":"<p>If you do </p>\n\n<pre><code>LIKE :code\n</code></pre>\n\n<p>and then do </p>\n\n<pre><code>namedQuery.setParameter(\"code\", \"%\" + this.value + \"%\");\n</code></pre>\n\n<p>Then value remains free from the '%' sign. If you need to use it somewhere else in the same query simply use another parameter name other than 'code' .</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1365179306,"creation_date":1365179306,"answer_id":15838944,"question_id":1341104,"body_markdown":"I don&#39;t use named parameters for all queries. For example it is unusual to use named parameters in [JpaRepository][1].\r\n\r\nTo workaround I use JPQL **CONCAT** function (this code emulate *start with*):\r\n\r\n    @Repository\r\n    public interface BranchRepository extends JpaRepository&lt;Branch, String&gt; {\r\n        private static final String QUERY = &quot;select b from Branch b&quot;\r\n           + &quot; left join b.filial f&quot;\r\n           + &quot; where f.id = ?1 and b.id like CONCAT(?2, &#39;%&#39;)&quot;;\r\n        @Query(QUERY)\r\n        List&lt;Branch&gt; findByFilialAndBranchLike(String filialId, String branchCode);\r\n    }\r\n\r\nI found this technique in excellent docs: http://openjpa.apache.org/builds/1.0.1/apache-openjpa-1.0.1/docs/manual/jpa_overview_query.html\r\n\r\n  [1]: http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"Parameter in like clause JPQL","body":"<p>I don't use named parameters for all queries. For example it is unusual to use named parameters in <a href=\"http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\">JpaRepository</a>.</p>\n\n<p>To workaround I use JPQL <strong>CONCAT</strong> function (this code emulate <em>start with</em>):</p>\n\n<pre><code>@Repository\npublic interface BranchRepository extends JpaRepository&lt;Branch, String&gt; {\n    private static final String QUERY = \"select b from Branch b\"\n       + \" left join b.filial f\"\n       + \" where f.id = ?1 and b.id like CONCAT(?2, '%')\";\n    @Query(QUERY)\n    List&lt;Branch&gt; findByFilialAndBranchLike(String filialId, String branchCode);\n}\n</code></pre>\n\n<p>I found this technique in excellent docs: <a href=\"http://openjpa.apache.org/builds/1.0.1/apache-openjpa-1.0.1/docs/manual/jpa_overview_query.html\">http://openjpa.apache.org/builds/1.0.1/apache-openjpa-1.0.1/docs/manual/jpa_overview_query.html</a></p>\n"},{"tags":[],"owner":{"account_id":3397,"reputation":1461,"user_id":4901,"display_name":"David Carlson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1464105250,"creation_date":1464040732,"answer_id":37401244,"question_id":1341104,"body_markdown":"You could use the [JPA LOCATE function][1]. \r\n\r\n&gt; **LOCATE(searchString, candidateString [, startIndex])**: Returns the\r\n&gt; first index of searchString in candidateString. Positions are 1-based.\r\n&gt; If the string is not found, returns 0.\r\n\r\nFYI: The documentation on [my top google hit][2] had the parameters reversed.\r\n\r\n    SELECT \r\n      e\r\n    FROM \r\n      entity e\r\n    WHERE\r\n      (0 &lt; LOCATE(:searchStr, e.property))\r\n\r\n  [1]: http://openjpa.apache.org/builds/2.4.1/apache-openjpa/docs/manual.html#d5e3202\r\n  [2]: http://www.objectdb.com/java/jpa/query/jpql/string#LOCATE_-_Locating_Substrings_","title":"Parameter in like clause JPQL","body":"<p>You could use the <a href=\"http://openjpa.apache.org/builds/2.4.1/apache-openjpa/docs/manual.html#d5e3202\" rel=\"noreferrer\">JPA LOCATE function</a>. </p>\n\n<blockquote>\n  <p><strong>LOCATE(searchString, candidateString [, startIndex])</strong>: Returns the\n  first index of searchString in candidateString. Positions are 1-based.\n  If the string is not found, returns 0.</p>\n</blockquote>\n\n<p>FYI: The documentation on <a href=\"http://www.objectdb.com/java/jpa/query/jpql/string#LOCATE_-_Locating_Substrings_\" rel=\"noreferrer\">my top google hit</a> had the parameters reversed.</p>\n\n<pre><code>SELECT \n  e\nFROM \n  entity e\nWHERE\n  (0 &lt; LOCATE(:searchStr, e.property))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5674477,"reputation":53,"user_id":4729730,"display_name":"Sehtim"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1496336217,"creation_date":1496336217,"answer_id":44313229,"question_id":1341104,"body_markdown":"Just leave out the &#39;&#39;\r\n\r\n    LIKE %:code%","title":"Parameter in like clause JPQL","body":"<p>Just leave out the ''</p>\n\n<pre><code>LIKE %:code%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137710,"reputation":1037,"user_id":6128863,"display_name":"Ishimwe Aubain Consolateur"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1518164386,"creation_date":1513764820,"answer_id":47903572,"question_id":1341104,"body_markdown":"I don&#39;t know if I am late or out of scope but in my opinion I could do it like:\r\n\r\n    String orgName = &quot;anyParamValue&quot;;\r\n    \r\n    Query q = em.createQuery(&quot;Select O from Organization O where O.orgName LIKE &#39;%:orgName%&#39;&quot;);\r\n    \r\n    q.setParameter(&quot;orgName&quot;, orgName);","title":"Parameter in like clause JPQL","body":"<p>I don't know if I am late or out of scope but in my opinion I could do it like:</p>\n\n<pre><code>String orgName = \"anyParamValue\";\n\nQuery q = em.createQuery(\"Select O from Organization O where O.orgName LIKE '%:orgName%'\");\n\nq.setParameter(\"orgName\", orgName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8721383,"reputation":111,"user_id":6524433,"display_name":"Haroon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534453265,"creation_date":1534453265,"answer_id":51885278,"question_id":1341104,"body_markdown":"There is nice like() method in JPA criteria API. Try to use that, hope it will help.\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery criteriaQuery = cb.createQuery(Employees.class);\r\n    Root&lt;Employees&gt; rootOfQuery = criteriaQuery.from(Employees.class);\r\n    criteriaQuery.select(rootOfQuery).where(cb.like(rootOfQuery.get(&quot;firstName&quot;), &quot;H%&quot;));","title":"Parameter in like clause JPQL","body":"<p>There is nice like() method in JPA criteria API. Try to use that, hope it will help.</p>\n\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery criteriaQuery = cb.createQuery(Employees.class);\nRoot&lt;Employees&gt; rootOfQuery = criteriaQuery.from(Employees.class);\ncriteriaQuery.select(rootOfQuery).where(cb.like(rootOfQuery.get(\"firstName\"), \"H%\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5660675,"reputation":575,"user_id":4478439,"display_name":"Vaneet Kataria"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598437035,"creation_date":1548712009,"answer_id":54410750,"question_id":1341104,"body_markdown":"1. Use below JPQL query.\r\n\r\n```\r\nselect i from Instructor i where i.address LIKE CONCAT(&#39;%&#39;,:address ,&#39;%&#39;)&quot;);\r\n```\r\n\r\n2. Use below Criteria code for the same:\r\n\r\n```java\r\n@Test\r\npublic void findAllHavingAddressLike() {\r\n    CriteriaBuilder cb = criteriaUtils.criteriaBuilder();\r\n    CriteriaQuery&lt;Instructor&gt; cq = cb.createQuery(Instructor.class);\r\n    Root&lt;Instructor&gt; root = cq.from(Instructor.class);\r\n    printResultList(cq.select(root).where(\r\n        cb.like(root.get(Instructor_.address), &quot;%#1074%&quot;)));\r\n}\r\n```","title":"Parameter in like clause JPQL","body":"<ol>\n<li>Use below JPQL query.</li>\n</ol>\n<pre><code>select i from Instructor i where i.address LIKE CONCAT('%',:address ,'%')&quot;);\n</code></pre>\n<ol start=\"2\">\n<li>Use below Criteria code for the same:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void findAllHavingAddressLike() {\n    CriteriaBuilder cb = criteriaUtils.criteriaBuilder();\n    CriteriaQuery&lt;Instructor&gt; cq = cb.createQuery(Instructor.class);\n    Root&lt;Instructor&gt; root = cq.from(Instructor.class);\n    printResultList(cq.select(root).where(\n        cb.like(root.get(Instructor_.address), &quot;%#1074%&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19303060,"reputation":31,"user_id":14110519,"display_name":"KarishmaP"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598439897,"creation_date":1597502664,"answer_id":63427267,"question_id":1341104,"body_markdown":"Use `JpaRepository` or `CrudRepository` as repository interface:\r\n\r\n\r\n```java\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {\r\n\r\n    @Query(&quot;SELECT t from Customer t where LOWER(t.name) LIKE %:name%&quot;)\r\n    public List&lt;Customer&gt; findByName(@Param(&quot;name&quot;) String name);\r\n\r\n}\r\n\r\n\r\n@Service(value=&quot;customerService&quot;)\r\npublic class CustomerServiceImpl implements CustomerService {\r\n\r\n    private CustomerRepository customerRepository;\r\n    \r\n    //...\r\n\r\n    @Override\r\n    public List&lt;Customer&gt; pattern(String text) throws Exception {\r\n        return customerRepository.findByName(text.toLowerCase());\r\n    }\r\n}\r\n```","title":"Parameter in like clause JPQL","body":"<p>Use <code>JpaRepository</code> or <code>CrudRepository</code> as repository interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {\n\n    @Query(&quot;SELECT t from Customer t where LOWER(t.name) LIKE %:name%&quot;)\n    public List&lt;Customer&gt; findByName(@Param(&quot;name&quot;) String name);\n\n}\n\n\n@Service(value=&quot;customerService&quot;)\npublic class CustomerServiceImpl implements CustomerService {\n\n    private CustomerRepository customerRepository;\n    \n    //...\n\n    @Override\n    public List&lt;Customer&gt; pattern(String text) throws Exception {\n        return customerRepository.findByName(text.toLowerCase());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26327338,"reputation":1,"user_id":19988450,"display_name":"pervez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677041681,"creation_date":1677041391,"answer_id":75528387,"question_id":1341104,"body_markdown":"**Use JPQL query.**\r\n\r\n    @Query(&quot;select e from Entity e where e.id = ?1 and e.code like CONCAT(&#39;%&#39;, CONCAT(?2, &#39;%&#39;))&quot;)\r\n    List&lt;Entity&gt; findByIdAndCodeLike(Long id, String code);\r\n\r\n\r\n","title":"Parameter in like clause JPQL","body":"<p><strong>Use JPQL query.</strong></p>\n<pre><code>@Query(&quot;select e from Entity e where e.id = ?1 and e.code like CONCAT('%', CONCAT(?2, '%'))&quot;)\nList&lt;Entity&gt; findByIdAndCodeLike(Long id, String code);\n</code></pre>\n"}],"owner":{"display_name":"Manuele Piastra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147494,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"answer_count":9,"score":106,"last_activity_date":1677041681,"creation_date":1251379763,"question_id":1341104,"body_markdown":"I am trying to write a JPQL query with a like clause:\r\n\r\n    LIKE &#39;%:code%&#39;\r\n\r\nI would like to have code=4 and find\r\n\r\n&lt;pre&gt;\r\n455\r\n554\r\n646\r\n...\r\n&lt;/pre&gt;\r\n\r\nI cannot pass `:code = &#39;%value%&#39;`\r\n\r\n    namedQuery.setParameter(&quot;%&quot; + this.value + &quot;%&quot;);\r\n\r\nbecause in another place I need `:value` not wrapped by the `%` chars. Any help?","title":"Parameter in like clause JPQL","body":"<p>I am trying to write a JPQL query with a like clause:</p>\n\n<pre><code>LIKE '%:code%'\n</code></pre>\n\n<p>I would like to have code=4 and find</p>\n\n<pre>\n455\n554\n646\n...\n</pre>\n\n<p>I cannot pass <code>:code = '%value%'</code></p>\n\n<pre><code>namedQuery.setParameter(\"%\" + this.value + \"%\");\n</code></pre>\n\n<p>because in another place I need <code>:value</code> not wrapped by the <code>%</code> chars. Any help?</p>\n"},{"tags":["java","algorithm","lexical-analysis","lexical"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1677032297,"post_id":75527419,"comment_id":133256015,"body_markdown":"I&#39;d print out the `tokens` array after the `token.split` line.","body":"I&#39;d print out the <code>tokens</code> array after the <code>token.split</code> line."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1677032445,"post_id":75527419,"comment_id":133256039,"body_markdown":"I also see that `token.matches(&quot;[++]&quot;)` is oddly different than `t.matches(&quot;[+]&quot;)`. That may be the problem.","body":"I also see that <code>token.matches(&quot;[++]&quot;)</code> is oddly different than <code>t.matches(&quot;[+]&quot;)</code>. That may be the problem."},{"owner":{"account_id":8627288,"reputation":97,"user_id":6460115,"display_name":"hamsoace"},"score":0,"creation_date":1677039065,"post_id":75527419,"comment_id":133256882,"body_markdown":"@user3386109 yea i&#39;ve corrected it but now my issue is with &#39;&gt;= &#39; and INC is printing twice","body":"@user3386109 yea i&#39;ve corrected it but now my issue is with &#39;&gt;= &#39; and INC is printing twice"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1677039837,"post_id":75527419,"comment_id":133256985,"body_markdown":"What did you see when you printed the `tokens` array?","body":"What did you see when you printed the <code>tokens</code> array?"}],"answers":[{"tags":[],"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677041618,"creation_date":1677040879,"answer_id":75528343,"question_id":75527419,"body_markdown":"You are having issues with your regexes.\r\n1. In the one you are using for split &lt;br&gt;\r\ni)it splits if there is a +&gt;=&lt; behind or before (lookahead &amp; look behind) so ++ will be split  as +,+. &lt;br&gt;\r\nii) +-/  &quot;-&quot; has a special meaning inside [] in regex it means match any character from the Unicode value of + till the Unicode value of /\r\n2. In the if-else section inside the matches you have used the unnecessary &quot;[]&quot; which means any one of the characters inside so &quot;[++]&quot; means match + character or + character \r\n\r\nSplit regex can be modified like this : &quot;([^+&gt;&lt;]+?=[-\\[\\](){}&lt;&gt;=,;+/*%|&amp;!])|((?&lt;=[-\\[\\](){}&lt;&gt;=,;/+*%|&amp;!])(?![+=]))&quot;\r\n\r\nand in the if-else section can be modified as shown in the working example\r\n\r\nA minimal working example is as below\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class Lexer {\r\n\r\n    public static void Tokenize(String fileName) {\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(fileName));\r\n            int r;\r\n            String token = &quot;&quot;;\r\n            while ((r = reader.read()) != -1) {\r\n                char ch = (char) r;\r\n                if (Character.isWhitespace(ch)) {\r\n                    if (!token.isBlank()) {\r\n                        String[] tokens = tokenizeToken(token);\r\n                        for (String t : tokens) {\r\n                            if (!t.isBlank()) {\r\n                                System.out.println(t);\r\n                            }\r\n                        }\r\n                    }\r\n                    token = &quot;&quot;;\r\n                } else {\r\n                    token += ch;\r\n                }\r\n            }\r\n            if (!token.isBlank()) {\r\n                String[] tokens = tokenizeToken(token);\r\n                for (String t : tokens) {\r\n                    if (!t.isBlank()) {\r\n                        System.out.println(t);\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error reading file: &quot; + e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (reader != null) {\r\n                    reader.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;Error closing file: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String[] tokenizeToken(String token) {\r\n        String[] tokens = token.split(&quot;([^+&gt;&lt;]+?=[-\\\\[\\\\](){}&lt;&gt;=,;+/*%|&amp;!])|((?&lt;=[-\\\\[\\\\](){}&lt;&gt;=,;/+*%|&amp;!])(?![+=]))&quot;);\r\n        for (int i = 0; i &lt; tokens.length; i++) {\r\n            String t = tokens[i].trim();\r\n\r\n            if (t.matches(&quot;=&quot;)) {\r\n                tokens[i] = &quot;ASSIGN&quot;;\r\n            } else if (t.matches(&quot;[&lt;]&quot;)) {\r\n                tokens[i] = &quot;LT&quot;;\r\n            } else if (t.matches(&quot;[&gt;]&quot;)) {\r\n                tokens[i] = &quot;RT&quot;;\r\n            } else if (token.matches(&quot;[+]{2}&quot;)) {\r\n                tokens[i] = &quot;INC&quot;;\r\n            } else if (t.matches(&quot;[+]&quot;)) {\r\n                tokens[i] = &quot;ADD_OP&quot;;\r\n            } else if (token.matches(&quot;&gt;=&quot;)) {\r\n                tokens[i] = &quot;GE&quot;;\r\n            } else {\r\n                System.out.println(&quot;SYSTEM ERROR: INVALID IDENTIFIER NAME&quot;);\r\n            }\r\n        }\r\n\r\n        return tokens;\r\n    }\r\n}\r\n```","title":"Lexical Analyzer in Java. Operators Shouldn&#39;t be Tokenized as individuals like &#39;++&#39; or &#39;&gt;=&#39; and any unlisted tokens shouldnt print out anything","body":"<p>You are having issues with your regexes.</p>\n<ol>\n<li>In the one you are using for split <br>\ni)it splits if there is a +&gt;=&lt; behind or before (lookahead &amp; look behind) so ++ will be split  as +,+. <br>\nii) +-/  &quot;-&quot; has a special meaning inside [] in regex it means match any character from the Unicode value of + till the Unicode value of /</li>\n<li>In the if-else section inside the matches you have used the unnecessary &quot;[]&quot; which means any one of the characters inside so &quot;[++]&quot; means match + character or + character</li>\n</ol>\n<p>Split regex can be modified like this : &quot;([^+&gt;&lt;]+?=[-[](){}&lt;&gt;=,;+/<em>%|&amp;!])|((?&lt;=[-[](){}&lt;&gt;=,;/+</em>%|&amp;!])(?![+=]))&quot;</p>\n<p>and in the if-else section can be modified as shown in the working example</p>\n<p>A minimal working example is as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Lexer {\n\n    public static void Tokenize(String fileName) {\n        BufferedReader reader = null;\n        try {\n            reader = new BufferedReader(new FileReader(fileName));\n            int r;\n            String token = &quot;&quot;;\n            while ((r = reader.read()) != -1) {\n                char ch = (char) r;\n                if (Character.isWhitespace(ch)) {\n                    if (!token.isBlank()) {\n                        String[] tokens = tokenizeToken(token);\n                        for (String t : tokens) {\n                            if (!t.isBlank()) {\n                                System.out.println(t);\n                            }\n                        }\n                    }\n                    token = &quot;&quot;;\n                } else {\n                    token += ch;\n                }\n            }\n            if (!token.isBlank()) {\n                String[] tokens = tokenizeToken(token);\n                for (String t : tokens) {\n                    if (!t.isBlank()) {\n                        System.out.println(t);\n                    }\n                }\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Error reading file: &quot; + e.getMessage());\n        } finally {\n            try {\n                if (reader != null) {\n                    reader.close();\n                }\n            } catch (IOException e) {\n                System.err.println(&quot;Error closing file: &quot; + e.getMessage());\n            }\n        }\n    }\n\n    private static String[] tokenizeToken(String token) {\n        String[] tokens = token.split(&quot;([^+&gt;&lt;]+?=[-\\\\[\\\\](){}&lt;&gt;=,;+/*%|&amp;!])|((?&lt;=[-\\\\[\\\\](){}&lt;&gt;=,;/+*%|&amp;!])(?![+=]))&quot;);\n        for (int i = 0; i &lt; tokens.length; i++) {\n            String t = tokens[i].trim();\n\n            if (t.matches(&quot;=&quot;)) {\n                tokens[i] = &quot;ASSIGN&quot;;\n            } else if (t.matches(&quot;[&lt;]&quot;)) {\n                tokens[i] = &quot;LT&quot;;\n            } else if (t.matches(&quot;[&gt;]&quot;)) {\n                tokens[i] = &quot;RT&quot;;\n            } else if (token.matches(&quot;[+]{2}&quot;)) {\n                tokens[i] = &quot;INC&quot;;\n            } else if (t.matches(&quot;[+]&quot;)) {\n                tokens[i] = &quot;ADD_OP&quot;;\n            } else if (token.matches(&quot;&gt;=&quot;)) {\n                tokens[i] = &quot;GE&quot;;\n            } else {\n                System.out.println(&quot;SYSTEM ERROR: INVALID IDENTIFIER NAME&quot;);\n            }\n        }\n\n        return tokens;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8627288,"reputation":97,"user_id":6460115,"display_name":"hamsoace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75528343,"answer_count":1,"score":-2,"last_activity_date":1677041618,"creation_date":1677028517,"question_id":75527419,"body_markdown":"I am using a Lexical analyzer to tokenize some operators, conditions, and syntaxes. My approach is checking each and every character and when it finds a space between characters, it tokenizes the combined characters. eg. when it finds &#39;String&#39; it tokenizes it as STR or &#39;;&#39; and tokenizes it as SEMI. so whenever it finds an operator like &#39;++&#39; it just tokenizes it as ADD_OP ADD_OP but I want it to tokenize it as one token i.e &#39;++&#39; should be INC or &#39;&gt;=&#39; it prints out GT ASSIGN rather than GE. here is my code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    public class Lexer {\r\n\r\n    public static void Tokenize(String fileName) {\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(fileName));\r\n            int r;\r\n            String token = &quot;&quot;;\r\n            while ((r = reader.read()) != -1) {\r\n                char ch = (char) r;\r\n                if (Character.isWhitespace(ch)) {\r\n                    if (!token.isBlank()) {\r\n                        String[] tokens = tokenizeToken(token);\r\n                        for (String t : tokens) {\r\n                            if (!t.isBlank()) {\r\n                                System.out.println(t);\r\n                            }\r\n                        }\r\n                    }\r\n                    token = &quot;&quot;;\r\n                } else {\r\n                    token += ch;\r\n                }\r\n            }\r\n            if (!token.isBlank()) {\r\n                String[] tokens = tokenizeToken(token);\r\n                for (String t : tokens) {\r\n                    if (!t.isBlank()) {\r\n                        System.out.println(t);\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error reading file: &quot; + e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (reader != null) {\r\n                    reader.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;Error closing file: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String[] tokenizeToken(String token) {\r\n        String[] tokens = token.split(&quot;(?=[\\\\[\\\\](){}&lt;&gt;=,;+-/*%|&amp;!])|(?&lt;=[\\\\[\\\\](){}&lt;&gt;=,;+-/*%|&amp;!])&quot;);\r\n        for (int i = 0; i &lt; tokens.length; i++) {\r\n            String t = tokens[i].trim();\r\n            if (t.matches(&quot;procedure&quot;)) {\r\n                tokens[i] = &quot;PROC&quot;;\r\n            } else if (t.matches(&quot;int&quot;)) {\r\n                tokens[i] = &quot;INT&quot;;\r\n            } else if (t.matches(&quot;[0-9]+&quot;)) {\r\n                tokens[i] = &quot;INT_CONST&quot;;\r\n            } else if (t.matches(&quot;end&quot;)) {\r\n                tokens[i] = &quot;END&quot;;\r\n            } else if (t.matches(&quot;String&quot;) || t.matches(&quot;string&quot;)) {\r\n                tokens[i] = &quot;STR&quot;;\r\n            } else if (t.matches(&quot;[(]&quot;)) {\r\n                tokens[i] = &quot;LP&quot;;\r\n            } else if (t.matches(&quot;[)]&quot;)) {\r\n                tokens[i] = &quot;RP&quot;;\r\n            } else if (t.matches(&quot;\\&quot;.*\\&quot;&quot;)) {\r\n                tokens[i] = &quot;STR_CONST&quot;;\r\n            } else if (t.matches(&quot;if&quot;)) {\r\n                tokens[i] = &quot;IF&quot;;\r\n            } else if (t.matches(&quot;for&quot;)) {\r\n                tokens[i] = &quot;FOR&quot;;\r\n            } else if (t.matches(&quot;while&quot;)) {\r\n                tokens[i] = &quot;WHILE&quot;;\r\n            } else if (t.matches(&quot;return&quot;)) {\r\n                tokens[i] = &quot;RETURN&quot;;\r\n            } else if (t.matches(&quot;[;]&quot;)) {\r\n                tokens[i] = &quot;SEMI&quot;;\r\n            } else if (t.matches(&quot;do&quot;)) {\r\n                tokens[i] = &quot;DO&quot;;\r\n            } else if (t.matches(&quot;break&quot;)) {\r\n                tokens[i] = &quot;BREAK&quot;;\r\n            } else if (t.matches(&quot;[a-zA-Z][a-zA-Z0-9]*&quot;)) {\r\n                tokens[i] = &quot;IDENT&quot;;\r\n            } else if (t.matches(&quot;[=]&quot;)) {\r\n                tokens[i] = &quot;ASSIGN&quot;;\r\n            } else if (t.matches(&quot;[&lt;]&quot;)) {\r\n                tokens[i] = &quot;LT&quot;;\r\n            } else if (t.matches(&quot;[&gt;]&quot;)) {\r\n                tokens[i] = &quot;RT&quot;;\r\n            } else if (token.matches(&quot;[++]&quot;)) {\r\n                tokens[i] = &quot;INC&quot;;\r\n            } else if (t.matches(&quot;[+]&quot;)) {\r\n                tokens[i] = &quot;ADD_OP&quot;;\r\n            } else if (token.matches(&quot;[{]&quot;)) {\r\n                tokens[i] = &quot;RB&quot;;\r\n            } else if (token.matches(&quot;[}]&quot;)) {\r\n                tokens[i] = &quot;LB&quot;;\r\n            } else if (token.matches(&quot;[*]&quot;)) {\r\n                tokens[i] = &quot;MUL_OP&quot;;\r\n            } else if (token.matches(&quot;[/]&quot;)) {\r\n                tokens[i] = &quot;DIV_OP&quot;;\r\n            } else if (token.matches(&quot;[&gt;=]&quot;)) {\r\n                tokens[i] = &quot;GE&quot;;\r\n            } else {\r\n                System.out.println(&quot;SYSTEM ERROR: INVALID IDENTIFIER NAME&quot;);\r\n            }\r\n        }\r\n\r\n        return tokens;\r\n    }\r\n    }\r\nand here is the output:\r\n\r\n    PROC\r\n    IDENT\r\n    LP\r\n    INT\r\n    IDENT\r\n    RP\r\n    FOR\r\n    LP\r\n    INT\r\n    IDENT\r\n    ASSIGN\r\n    INT_CONST\r\n    SEMI\r\n    IDENT\r\n    LT\r\n    IDENT\r\n    SEMI\r\n    IDENT\r\n    ASSIGN\r\n    IDENT\r\n    ADD_OP\r\n    ADD_OP\r\n    RP\r\n    RB\r\n    IDENT\r\n    ASSIGN\r\n    IDENT\r\n    MUL_OP\r\n    LP\r\n    IDENT\r\n    DIV_OP\r\n    INT_CONST\r\n    RP\r\n    SEMI\r\n    IF\r\n    LP\r\n    IDENT\r\n    RT\r\n    ASSIGN\r\n    INT_CONST\r\n    RP\r\n    BREAK\r\n    SEMI\r\n    LB\r\n    RETURN\r\n    IDENT\r\n    SEMI\r\n    END\r\n    IDENT\r\n    INT\r\n    SYSTEM ERROR: INVALID IDENTIFIER NAME\r\n    9user\r\n    ASSIGN\r\n    INT_CONST\r\n    SEMI\r\nAlso if any syntax or operator isn&#39;t listed should not print out in the output. e.g. the 9user shouldn&#39;t be printed out.","title":"Lexical Analyzer in Java. Operators Shouldn&#39;t be Tokenized as individuals like &#39;++&#39; or &#39;&gt;=&#39; and any unlisted tokens shouldnt print out anything","body":"<p>I am using a Lexical analyzer to tokenize some operators, conditions, and syntaxes. My approach is checking each and every character and when it finds a space between characters, it tokenizes the combined characters. eg. when it finds 'String' it tokenizes it as STR or ';' and tokenizes it as SEMI. so whenever it finds an operator like '++' it just tokenizes it as ADD_OP ADD_OP but I want it to tokenize it as one token i.e '++' should be INC or '&gt;=' it prints out GT ASSIGN rather than GE. here is my code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Lexer {\n\npublic static void Tokenize(String fileName) {\n    BufferedReader reader = null;\n    try {\n        reader = new BufferedReader(new FileReader(fileName));\n        int r;\n        String token = &quot;&quot;;\n        while ((r = reader.read()) != -1) {\n            char ch = (char) r;\n            if (Character.isWhitespace(ch)) {\n                if (!token.isBlank()) {\n                    String[] tokens = tokenizeToken(token);\n                    for (String t : tokens) {\n                        if (!t.isBlank()) {\n                            System.out.println(t);\n                        }\n                    }\n                }\n                token = &quot;&quot;;\n            } else {\n                token += ch;\n            }\n        }\n        if (!token.isBlank()) {\n            String[] tokens = tokenizeToken(token);\n            for (String t : tokens) {\n                if (!t.isBlank()) {\n                    System.out.println(t);\n                }\n            }\n        }\n    } catch (IOException e) {\n        System.err.println(&quot;Error reading file: &quot; + e.getMessage());\n    } finally {\n        try {\n            if (reader != null) {\n                reader.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Error closing file: &quot; + e.getMessage());\n        }\n    }\n}\n\nprivate static String[] tokenizeToken(String token) {\n    String[] tokens = token.split(&quot;(?=[\\\\[\\\\](){}&lt;&gt;=,;+-/*%|&amp;!])|(?&lt;=[\\\\[\\\\](){}&lt;&gt;=,;+-/*%|&amp;!])&quot;);\n    for (int i = 0; i &lt; tokens.length; i++) {\n        String t = tokens[i].trim();\n        if (t.matches(&quot;procedure&quot;)) {\n            tokens[i] = &quot;PROC&quot;;\n        } else if (t.matches(&quot;int&quot;)) {\n            tokens[i] = &quot;INT&quot;;\n        } else if (t.matches(&quot;[0-9]+&quot;)) {\n            tokens[i] = &quot;INT_CONST&quot;;\n        } else if (t.matches(&quot;end&quot;)) {\n            tokens[i] = &quot;END&quot;;\n        } else if (t.matches(&quot;String&quot;) || t.matches(&quot;string&quot;)) {\n            tokens[i] = &quot;STR&quot;;\n        } else if (t.matches(&quot;[(]&quot;)) {\n            tokens[i] = &quot;LP&quot;;\n        } else if (t.matches(&quot;[)]&quot;)) {\n            tokens[i] = &quot;RP&quot;;\n        } else if (t.matches(&quot;\\&quot;.*\\&quot;&quot;)) {\n            tokens[i] = &quot;STR_CONST&quot;;\n        } else if (t.matches(&quot;if&quot;)) {\n            tokens[i] = &quot;IF&quot;;\n        } else if (t.matches(&quot;for&quot;)) {\n            tokens[i] = &quot;FOR&quot;;\n        } else if (t.matches(&quot;while&quot;)) {\n            tokens[i] = &quot;WHILE&quot;;\n        } else if (t.matches(&quot;return&quot;)) {\n            tokens[i] = &quot;RETURN&quot;;\n        } else if (t.matches(&quot;[;]&quot;)) {\n            tokens[i] = &quot;SEMI&quot;;\n        } else if (t.matches(&quot;do&quot;)) {\n            tokens[i] = &quot;DO&quot;;\n        } else if (t.matches(&quot;break&quot;)) {\n            tokens[i] = &quot;BREAK&quot;;\n        } else if (t.matches(&quot;[a-zA-Z][a-zA-Z0-9]*&quot;)) {\n            tokens[i] = &quot;IDENT&quot;;\n        } else if (t.matches(&quot;[=]&quot;)) {\n            tokens[i] = &quot;ASSIGN&quot;;\n        } else if (t.matches(&quot;[&lt;]&quot;)) {\n            tokens[i] = &quot;LT&quot;;\n        } else if (t.matches(&quot;[&gt;]&quot;)) {\n            tokens[i] = &quot;RT&quot;;\n        } else if (token.matches(&quot;[++]&quot;)) {\n            tokens[i] = &quot;INC&quot;;\n        } else if (t.matches(&quot;[+]&quot;)) {\n            tokens[i] = &quot;ADD_OP&quot;;\n        } else if (token.matches(&quot;[{]&quot;)) {\n            tokens[i] = &quot;RB&quot;;\n        } else if (token.matches(&quot;[}]&quot;)) {\n            tokens[i] = &quot;LB&quot;;\n        } else if (token.matches(&quot;[*]&quot;)) {\n            tokens[i] = &quot;MUL_OP&quot;;\n        } else if (token.matches(&quot;[/]&quot;)) {\n            tokens[i] = &quot;DIV_OP&quot;;\n        } else if (token.matches(&quot;[&gt;=]&quot;)) {\n            tokens[i] = &quot;GE&quot;;\n        } else {\n            System.out.println(&quot;SYSTEM ERROR: INVALID IDENTIFIER NAME&quot;);\n        }\n    }\n\n    return tokens;\n}\n}\n</code></pre>\n<p>and here is the output:</p>\n<pre><code>PROC\nIDENT\nLP\nINT\nIDENT\nRP\nFOR\nLP\nINT\nIDENT\nASSIGN\nINT_CONST\nSEMI\nIDENT\nLT\nIDENT\nSEMI\nIDENT\nASSIGN\nIDENT\nADD_OP\nADD_OP\nRP\nRB\nIDENT\nASSIGN\nIDENT\nMUL_OP\nLP\nIDENT\nDIV_OP\nINT_CONST\nRP\nSEMI\nIF\nLP\nIDENT\nRT\nASSIGN\nINT_CONST\nRP\nBREAK\nSEMI\nLB\nRETURN\nIDENT\nSEMI\nEND\nIDENT\nINT\nSYSTEM ERROR: INVALID IDENTIFIER NAME\n9user\nASSIGN\nINT_CONST\nSEMI\n</code></pre>\n<p>Also if any syntax or operator isn't listed should not print out in the output. e.g. the 9user shouldn't be printed out.</p>\n"},{"tags":["java","spring-boot","date","time","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676971057,"post_id":75518330,"comment_id":133239406,"body_markdown":"I strongly recommend that you don‚Äôt use `Timestamp`, `Date`, `DatFormat` and `SimpleDateFormat`. Those classes are poorly designed, the last two in particular notoriously troublesome, and all are long outdated. Use `LocalDateTime` and `DateTimeFormatter` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend that you don‚Äôt use <code>Timestamp</code>, <code>Date</code>, <code>DatFormat</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed, the last two in particular notoriously troublesome, and all are long outdated. Use <code>LocalDateTime</code> and <code>DateTimeFormatter</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676971112,"post_id":75518330,"comment_id":133239427,"body_markdown":"It‚Äôs no doubt a time zone issue. (UTF-8 is a character encoding, not a time zone. Perhaps you mean that it is at UTC+8 or UTC-8.)","body":"It‚Äôs no doubt a time zone issue. (UTF-8 is a character encoding, not a time zone. Perhaps you mean that it is at UTC+8 or UTC-8.)"},{"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"ÈªÉÂ•ïÁøî"},"score":0,"creation_date":1676971264,"post_id":75518330,"comment_id":133239496,"body_markdown":"8 hours ahead of my time zone, but the return is a string, will this also cause problems","body":"8 hours ahead of my time zone, but the return is a string, will this also cause problems"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676971348,"post_id":75518330,"comment_id":133239523,"body_markdown":"Is the data type in the database `timestamp with time zone` or perhaps without time zone? For a timestamp prefer with time zone so that it truly defines a point in time. And what are the database time zone and the database session time zone?","body":"Is the data type in the database <code>timestamp with time zone</code> or perhaps without time zone? For a timestamp prefer with time zone so that it truly defines a point in time. And what are the database time zone and the database session time zone?"}],"answers":[{"tags":[],"owner":{"account_id":24323550,"reputation":1,"user_id":18263470,"display_name":"user18263470"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676971597,"creation_date":1676971597,"answer_id":75518502,"question_id":75518330,"body_markdown":"Set the time zone of the database to be consistent with your region.\r\nI guess you are in Dongba District. If you are a MySQL database, you can set it this way \r\n\r\n    set global time_zone = ‚Äò+8:00‚Äô;","title":"The date obtained by sprigboot console is inconsistent with the date obtained by the browser","body":"<p>Set the time zone of the database to be consistent with your region.\nI guess you are in Dongba District. If you are a MySQL database, you can set it this way</p>\n<pre><code>set global time_zone = ‚Äò+8:00‚Äô;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"ÈªÉÂ•ïÁøî"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677034860,"creation_date":1677034860,"answer_id":75527861,"question_id":75518330,"body_markdown":"Everyone, I found the answer. The reason is that the time zone of my computer system is UTC+8, and the time zone of my subordinates in JENKINS is UTC+0, so there will be a difference of 8 hours. The following is my approach. Set the entire springboot before initialization. Time zone\r\n\r\n```\r\n@Configuration\r\npublic class GlobalZoneConfig {\r\n\r\n    @PostConstruct\r\n    void started() {\r\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;Asia/Taipei&quot;);\r\n        TimeZone.setDefault(timeZone);\r\n    }\r\n}\r\n```","title":"The date obtained by sprigboot console is inconsistent with the date obtained by the browser","body":"<p>Everyone, I found the answer. The reason is that the time zone of my computer system is UTC+8, and the time zone of my subordinates in JENKINS is UTC+0, so there will be a difference of 8 hours. The following is my approach. Set the entire springboot before initialization. Time zone</p>\n<pre><code>@Configuration\npublic class GlobalZoneConfig {\n\n    @PostConstruct\n    void started() {\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;Asia/Taipei&quot;);\n        TimeZone.setDefault(timeZone);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"ÈªÉÂ•ïÁøî"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677041535,"creation_date":1676970614,"question_id":75518330,"body_markdown":"When I get a timestamp date data from the database, I convert it to the format I want through simpledateformat, and everything is normal here, and the date and time are correct when I test it with postman, but when I deploy it, when the program is in The date output after simpledateformat will be 8 hours less than now\r\nMy country timezone is in UTC-8\r\n\r\n```\r\nprivate String timestampToDateFormat(Timestamp timestamp) {\r\n        Date date = new Date(timestamp.getTime());\r\n        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;, Locale.TAIWAN);\r\n        return df.format(date);\r\n    }\r\n```\r\n[CONSOLE TIME OUTPUT][1]\r\n\r\n\r\nThe time displayed on the browser after deploying\r\n\r\n[browser time][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S1LKK.jpg\r\n  [2]: https://i.stack.imgur.com/0HVEq.jpg","title":"The date obtained by sprigboot console is inconsistent with the date obtained by the browser","body":"<p>When I get a timestamp date data from the database, I convert it to the format I want through simpledateformat, and everything is normal here, and the date and time are correct when I test it with postman, but when I deploy it, when the program is in The date output after simpledateformat will be 8 hours less than now\nMy country timezone is in UTC-8</p>\n<pre><code>private String timestampToDateFormat(Timestamp timestamp) {\n        Date date = new Date(timestamp.getTime());\n        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;, Locale.TAIWAN);\n        return df.format(date);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/S1LKK.jpg\" rel=\"nofollow noreferrer\">CONSOLE TIME OUTPUT</a></p>\n<p>The time displayed on the browser after deploying</p>\n<p><a href=\"https://i.stack.imgur.com/0HVEq.jpg\" rel=\"nofollow noreferrer\">browser time</a></p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":22019476,"reputation":41,"user_id":16288509,"display_name":"Pirooz Azar Abad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677041245,"creation_date":1677041245,"answer_id":75528375,"question_id":75525791,"body_markdown":"The java.lang.ClassNotFoundException: jakarta.persistence.spi.PersistenceProvider error occurs because the jakarta.persistence.spi.PersistenceProvider class is not found on the classpath at runtime.\r\n\r\nIn Hibernate 6, there have been some changes to the way JPA APIs are packaged and organized, which may cause issues when upgrading from previous versions. One possible cause of this issue is that you are missing a required dependency for the jakarta.persistence.spi.PersistenceProvider class.\r\n\r\nTo resolve this issue, you can try adding the following dependency to your project&#39;s build file (e.g. pom.xml for Maven or build.gradle for Gradle):\r\n&lt;br&gt;\r\nFor Maven :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nFor Gradle : \r\n\r\n    implementation &#39;jakarta.persistence:jakarta.persistence-api:3.0.0&#39;\r\n\r\n\r\n This should provide the necessary JPA API classes and resolve the ClassNotFoundException.\r\n\r\nIf this doesn&#39;t resolve the issue, you may also need to check if any other dependencies are conflicting with the Hibernate 6 version you are using.\r\n\r\nI hope this helps!","title":"nested exception is java.lang.NoClassDefFoundError: jakarta/persistence/spi/PersistenceProvider","body":"<p>The java.lang.ClassNotFoundException: jakarta.persistence.spi.PersistenceProvider error occurs because the jakarta.persistence.spi.PersistenceProvider class is not found on the classpath at runtime.</p>\n<p>In Hibernate 6, there have been some changes to the way JPA APIs are packaged and organized, which may cause issues when upgrading from previous versions. One possible cause of this issue is that you are missing a required dependency for the jakarta.persistence.spi.PersistenceProvider class.</p>\n<p>To resolve this issue, you can try adding the following dependency to your project's build file (e.g. pom.xml for Maven or build.gradle for Gradle):\n<br>\nFor Maven :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For Gradle :</p>\n<pre><code>implementation 'jakarta.persistence:jakarta.persistence-api:3.0.0'\n</code></pre>\n<p>This should provide the necessary JPA API classes and resolve the ClassNotFoundException.</p>\n<p>If this doesn't resolve the issue, you may also need to check if any other dependencies are conflicting with the Hibernate 6 version you are using.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":26802194,"reputation":11,"user_id":20393990,"display_name":"vaishali jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677041245,"creation_date":1677012718,"question_id":75525791,"body_markdown":"java.lang.ClassNotFoundException: jakarta.persistence.spi.PersistenceProvider when upgrading org.hibernate:hibernate-core from version 5.6.14.Final to 6.2.0.CR2\r\nI am running my application on java11","title":"nested exception is java.lang.NoClassDefFoundError: jakarta/persistence/spi/PersistenceProvider","body":"<p>java.lang.ClassNotFoundException: jakarta.persistence.spi.PersistenceProvider when upgrading org.hibernate:hibernate-core from version 5.6.14.Final to 6.2.0.CR2\nI am running my application on java11</p>\n"},{"tags":["java","api","keycloak","user-management"],"answers":[{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1618413598,"creation_date":1555228626,"answer_id":55673148,"question_id":55643277,"body_markdown":"You can use the Admin REST API. The detailed description of the relevant API is available [here][1]. Also you can use the JAVA wrapper API. Please find couple of examples below.\r\n\r\n**Example 1, REST:**\r\n\r\nGet an access token:\r\n\r\n    curl \\\r\n      -d &quot;client_id=admin-cli&quot; \\\r\n      -d &quot;username=admin&quot; \\\r\n      -d &quot;password=secret&quot; \\\r\n      -d &quot;grant_type=password&quot; \\\r\n      &quot;http://localhost:8080/auth/realms/master/protocol/openid-connect/token&quot;\r\n\r\nGet all users:\r\n\r\n    curl \\\r\n      -H &quot;Authorization: bearer eyJhbGciOiJSUzI....&quot; \\\r\n      &quot;http://localhost:8080/auth/admin/realms/master/users&quot;\r\n\r\nSample output:\r\n\r\n    [\r\n         {\r\n            &quot;id&quot;:&quot;349f67de-36e6-4552-ac54-e52085109616&quot;,\r\n            &quot;username&quot;:&quot;admin&quot;,\r\n            &quot;enabled&quot;:true,\r\n            ...\r\n         },\r\n         {\r\n            &quot;id&quot;:&quot;08afb701-fae5-40b4-8895-e387ba1902fb&quot;,\r\n            &quot;username&quot;:&quot;lbalev&quot;,\r\n            &quot;enabled&quot;:true,\r\n            ....\r\n         }\r\n      ]\r\n\r\nGet a user based by user id:\r\n\r\n    curl \\\r\n      -H &quot;Authorization: bearer eyJhbGciOiJSU....&quot; \\\r\n      &quot;http://localhost:8080/auth/admin/realms/master/users/349f67de-36e6-4552-ac54-e52085109616&quot;\r\n\r\n**Example 2, JAVA API:**\r\n\r\nGet a user based on user ID:\r\n\r\n    public class TestUserAccess {\r\n    \r\n      private static final String SERVER_URL = &quot;http://localhost:8080/auth&quot;;\r\n      private static final String REALM = &quot;master&quot;;\r\n      private static final String USERNAME = &quot;admin&quot;;\r\n      private static final String PASSWORD = &quot;secret&quot;;\r\n      private static final String CLIENT_ID = &quot;admin-cli&quot;;\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        Keycloak keycloak = KeycloakBuilder\r\n            .builder()\r\n            .serverUrl(SERVER_URL)\r\n            .realm(REALM)\r\n            .username(USERNAME)\r\n            .password(PASSWORD)\r\n            .clientId(CLIENT_ID)\r\n            .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build())\r\n            .build();\r\n    \r\n        UsersResource usersResource = keycloak.realm(REALM).users();\r\n        UserResource userResource = usersResource.get(&quot;08afb701-fae5-40b4-8895-e387ba1902fb&quot;);\r\n        System.out.println(userResource.toRepresentation().getEmail());\r\n      }\r\n    }\r\n\r\nThe relevant dependencies for the example above are (please note that the versions might not be up-to-date):\r\n\r\n    dependencies {\r\n        compile group: &#39;org.keycloak&#39;, name: &#39;keycloak-admin-client&#39;, version: &#39;3.3.0.CR2&#39;\r\n        compile group: &#39;org.jboss.resteasy&#39;, name: &#39;resteasy-jaxrs&#39;, version: &#39;3.1.4.Final&#39;\r\n        compile group: &#39;org.jboss.resteasy&#39;, name: &#39;resteasy-client&#39;, version: &#39;3.1.4.Final&#39;\r\n        compile group: &#39;org.jboss.resteasy&#39;, name: &#39;resteasy-jackson2-provider&#39;, version: &#39;3.1.4.Final&#39;\r\n    }\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/5.0/rest-api/index.html#_users_resource\r\n","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>You can use the Admin REST API. The detailed description of the relevant API is available <a href=\"https://www.keycloak.org/docs-api/5.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">here</a>. Also you can use the JAVA wrapper API. Please find couple of examples below.</p>\n<p><strong>Example 1, REST:</strong></p>\n<p>Get an access token:</p>\n<pre><code>curl \\\n  -d &quot;client_id=admin-cli&quot; \\\n  -d &quot;username=admin&quot; \\\n  -d &quot;password=secret&quot; \\\n  -d &quot;grant_type=password&quot; \\\n  &quot;http://localhost:8080/auth/realms/master/protocol/openid-connect/token&quot;\n</code></pre>\n<p>Get all users:</p>\n<pre><code>curl \\\n  -H &quot;Authorization: bearer eyJhbGciOiJSUzI....&quot; \\\n  &quot;http://localhost:8080/auth/admin/realms/master/users&quot;\n</code></pre>\n<p>Sample output:</p>\n<pre><code>[\n     {\n        &quot;id&quot;:&quot;349f67de-36e6-4552-ac54-e52085109616&quot;,\n        &quot;username&quot;:&quot;admin&quot;,\n        &quot;enabled&quot;:true,\n        ...\n     },\n     {\n        &quot;id&quot;:&quot;08afb701-fae5-40b4-8895-e387ba1902fb&quot;,\n        &quot;username&quot;:&quot;lbalev&quot;,\n        &quot;enabled&quot;:true,\n        ....\n     }\n  ]\n</code></pre>\n<p>Get a user based by user id:</p>\n<pre><code>curl \\\n  -H &quot;Authorization: bearer eyJhbGciOiJSU....&quot; \\\n  &quot;http://localhost:8080/auth/admin/realms/master/users/349f67de-36e6-4552-ac54-e52085109616&quot;\n</code></pre>\n<p><strong>Example 2, JAVA API:</strong></p>\n<p>Get a user based on user ID:</p>\n<pre><code>public class TestUserAccess {\n\n  private static final String SERVER_URL = &quot;http://localhost:8080/auth&quot;;\n  private static final String REALM = &quot;master&quot;;\n  private static final String USERNAME = &quot;admin&quot;;\n  private static final String PASSWORD = &quot;secret&quot;;\n  private static final String CLIENT_ID = &quot;admin-cli&quot;;\n\n  public static void main(String[] args) {\n\n    Keycloak keycloak = KeycloakBuilder\n        .builder()\n        .serverUrl(SERVER_URL)\n        .realm(REALM)\n        .username(USERNAME)\n        .password(PASSWORD)\n        .clientId(CLIENT_ID)\n        .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build())\n        .build();\n\n    UsersResource usersResource = keycloak.realm(REALM).users();\n    UserResource userResource = usersResource.get(&quot;08afb701-fae5-40b4-8895-e387ba1902fb&quot;);\n    System.out.println(userResource.toRepresentation().getEmail());\n  }\n}\n</code></pre>\n<p>The relevant dependencies for the example above are (please note that the versions might not be up-to-date):</p>\n<pre><code>dependencies {\n    compile group: 'org.keycloak', name: 'keycloak-admin-client', version: '3.3.0.CR2'\n    compile group: 'org.jboss.resteasy', name: 'resteasy-jaxrs', version: '3.1.4.Final'\n    compile group: 'org.jboss.resteasy', name: 'resteasy-client', version: '3.1.4.Final'\n    compile group: 'org.jboss.resteasy', name: 'resteasy-jackson2-provider', version: '3.1.4.Final'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11698628,"reputation":107,"user_id":8564538,"display_name":"Nikhil Shinde"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1646030933,"creation_date":1600541809,"answer_id":63972351,"question_id":55643277,"body_markdown":"The is simple method as well, because in above answer all the user info is getting fetched which is not the proper way because in case thousands of users it will be heavy call.\r\n\r\nso just pass username as query parameter\r\n\r\n    GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\r\n\r\nmake sure you user admin access token for the call ","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>The is simple method as well, because in above answer all the user info is getting fetched which is not the proper way because in case thousands of users it will be heavy call.</p>\n<p>so just pass username as query parameter</p>\n<pre><code>GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\n</code></pre>\n<p>make sure you user admin access token for the call</p>\n"},{"tags":[],"owner":{"account_id":23183713,"reputation":41,"user_id":17281180,"display_name":"Sathish Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635614772,"creation_date":1635519840,"answer_id":69771054,"question_id":55643277,"body_markdown":"Thanks @Nikhil Shinde for sharing the restapi endpoint. \r\n\r\nLike he said the below will give look a like users. \r\n\r\n```\r\nGET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\r\n````\r\n\r\nIf you want exact username match, then try with exact=true \r\n```\r\nGET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser&amp;exact=true\r\n```\r\nSource : https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>Thanks @Nikhil Shinde for sharing the restapi endpoint.</p>\n<p>Like he said the below will give look a like users.</p>\n<pre><code>GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\n</code></pre>\n<p>If you want exact username match, then try with exact=true</p>\n<pre><code>GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser&amp;exact=true\n</code></pre>\n<p>Source : <a href=\"https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource</a></p>\n"},{"tags":[],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675257083,"creation_date":1675257083,"answer_id":75310679,"question_id":55643277,"body_markdown":"Keycloak Rest API\r\n\r\n \r\n\r\nVersion &gt; 17 Quarkus base\r\n\r\n    // Below will return&#39;s look a like users\r\n    GET: http://localhost:8080/admin/realms/{real-name}/users?username=testUser\r\n    \r\n    // Below Will return&#39;s exact same user\r\n    GET: http://localhost:8080/admin/realms/{real-name}/users?username=testUser&amp;exact=true\r\n\r\nFor Legacy Version use /auth/ in url\r\n\r\n    // Below will return&#39;s look a like users\r\n    GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\r\n    \r\n    // Below Will return&#39;s exact same user\r\n    GET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser&amp;exact=true\r\n\r\n","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>Keycloak Rest API</p>\n<p>Version &gt; 17 Quarkus base</p>\n<pre><code>// Below will return's look a like users\nGET: http://localhost:8080/admin/realms/{real-name}/users?username=testUser\n\n// Below Will return's exact same user\nGET: http://localhost:8080/admin/realms/{real-name}/users?username=testUser&amp;exact=true\n</code></pre>\n<p>For Legacy Version use /auth/ in url</p>\n<pre><code>// Below will return's look a like users\nGET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser\n\n// Below Will return's exact same user\nGET: http://localhost:8080/auth/admin/realms/{real-name}/users?username=testUser&amp;exact=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14710490,"reputation":108,"user_id":10623971,"display_name":"Gayan Kodithuwakku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677040438,"creation_date":1677039377,"answer_id":75528219,"question_id":55643277,"body_markdown":"You can just simply search by id in search bar of the keycloak admin console,\r\nlike this,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/urPXP.png\r\n\r\n    id:ac796f21-c4ef-4182-a70a-970bac598bd6\r\n\r\nUse `id:` before enter the user id.\r\n\r\nif user id is 12345\r\n\r\n**Search by id,**\r\n\r\n    id:12345&#160;\r\n\r\n**Assume you have this user**&lt;br&gt;\r\nuser01 - gayankod@gmail.com\r\n\r\n**Search by email or username with wildcard**\r\n\r\n    user%\r\n    %gmail.com\r\n    %kod%","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>You can just simply search by id in search bar of the keycloak admin console,\nlike this,\n<a href=\"https://i.stack.imgur.com/urPXP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/urPXP.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>id:ac796f21-c4ef-4182-a70a-970bac598bd6\n</code></pre>\n<p>Use <code>id:</code> before enter the user id.</p>\n<p>if user id is 12345</p>\n<p><strong>Search by id,</strong></p>\n<pre><code>id:12345¬†\n</code></pre>\n<p><strong>Assume you have this user</strong><br>\nuser01 - gayankod@gmail.com</p>\n<p><strong>Search by email or username with wildcard</strong></p>\n<pre><code>user%\n%gmail.com\n%kod%\n</code></pre>\n"}],"owner":{"account_id":10087273,"reputation":335,"user_id":7455400,"display_name":"User6300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49937,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":55673148,"answer_count":5,"score":21,"last_activity_date":1677040438,"creation_date":1555032974,"question_id":55643277,"body_markdown":"How can I get user keycloak attributes (username, firstname, email...) based on user id? \r\nThe user I&#39;m using in the Keycloak session has already the role &lt;i&gt;view-users&lt;/i&gt; assigned so I should be able to list at least all users, is there any Keycloak class that I can use?\r\n\r\nWhat I&#39;m trying to achieve here is to avoid to replicate the keycloak users database to another local database, but doesn&#39;t seem possible to access any other user info, besides the one in the current session...","title":"How can I get other users info(username, firstname) by id? [Keycloak]","body":"<p>How can I get user keycloak attributes (username, firstname, email...) based on user id? \nThe user I'm using in the Keycloak session has already the role <i>view-users</i> assigned so I should be able to list at least all users, is there any Keycloak class that I can use?</p>\n\n<p>What I'm trying to achieve here is to avoid to replicate the keycloak users database to another local database, but doesn't seem possible to access any other user info, besides the one in the current session...</p>\n"},{"tags":["java","api","sqlite","android-studio","okhttp"],"answers":[{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653650960,"creation_date":1653650960,"answer_id":72404741,"question_id":72388842,"body_markdown":"You have no way to spy on the remote DB &quot;unless you make API calls on a regular basis you need to sample it every few minutes to truly know if it has changed&quot; **OR** &quot;you assume that every time you use the app your remote DB changed and sync it&quot; if even this is not a viable solution for you and you need it as it updates. You need to use a Realtime DB","title":"Update local DB only when there is a change in remote DB (Android Studio)","body":"<p>You have no way to spy on the remote DB &quot;unless you make API calls on a regular basis you need to sample it every few minutes to truly know if it has changed&quot; <strong>OR</strong> &quot;you assume that every time you use the app your remote DB changed and sync it&quot; if even this is not a viable solution for you and you need it as it updates. You need to use a Realtime DB</p>\n"},{"tags":[],"owner":{"account_id":21829211,"reputation":1,"user_id":16124323,"display_name":"James Godson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677040349,"creation_date":1677040349,"answer_id":75528298,"question_id":72388842,"body_markdown":"Use socket.io.When something changes in remote db, it sends the data to the app automatically.\r\nTake a look at the following link: https://socket.io/blog/native-socket-io-and-android/","title":"Update local DB only when there is a change in remote DB (Android Studio)","body":"<p>Use socket.io.When something changes in remote db, it sends the data to the app automatically.\nTake a look at the following link: <a href=\"https://socket.io/blog/native-socket-io-and-android/\" rel=\"nofollow noreferrer\">https://socket.io/blog/native-socket-io-and-android/</a></p>\n"}],"owner":{"account_id":24267715,"reputation":11,"user_id":18216328,"display_name":"Nataly Ayyad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677040349,"creation_date":1653553281,"question_id":72388842,"body_markdown":"I&#39;m using OkHttpClient to fetch data from remote DB and display the response to the user. \r\nThe user will never make changes to the remote DB. I&#39;m now implementing SQL lite local DB, since I don&#39;t think it&#39;s good to use APIs to fetch the same data all the time (since the user will send requests frequently and the data change in remote DB will be minimal). My question is how can I update my local DB when remote DB updates/changes. \r\n\r\nI have read that updating local DB periodically is bad practice. so, what&#39;s the best way to do this? ","title":"Update local DB only when there is a change in remote DB (Android Studio)","body":"<p>I'm using OkHttpClient to fetch data from remote DB and display the response to the user.\nThe user will never make changes to the remote DB. I'm now implementing SQL lite local DB, since I don't think it's good to use APIs to fetch the same data all the time (since the user will send requests frequently and the data change in remote DB will be minimal). My question is how can I update my local DB when remote DB updates/changes.</p>\n<p>I have read that updating local DB periodically is bad practice. so, what's the best way to do this?</p>\n"},{"tags":["java","android","android-studio","gradle","keystore"],"owner":{"account_id":4539491,"reputation":1258,"user_id":3687784,"display_name":"Suhaib Raadan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677039405,"creation_date":1677039405,"question_id":75528220,"body_markdown":"I can not generate signed apk.\r\nThis is the first time happen with me, after upgrading IDE **Android Studio Electric Eel | 2022.1.1 Patch 1**\r\n\r\nEvery thing is Ok as every time but what happened now? I don&#39;t know.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IRYTu.jpg","title":"Android Studio: Given final block not properly padded. Such issues can arise if a bad key is used during decryption","body":"<p>I can not generate signed apk.\nThis is the first time happen with me, after upgrading IDE <strong>Android Studio Electric Eel | 2022.1.1 Patch 1</strong></p>\n<p>Every thing is Ok as every time but what happened now? I don't know.</p>\n<p><a href=\"https://i.stack.imgur.com/IRYTu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRYTu.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","parsing","gson"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":3,"creation_date":1374518272,"post_id":17794916,"comment_id":25960234,"body_markdown":"[Use this tool](http://www.jsonschema2pojo.org/) to generate schema for your JSON","body":"<a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">Use this tool</a> to generate schema for your JSON"},{"owner":{"account_id":377027,"reputation":5863,"user_id":728863,"accept_rate":92,"display_name":"footy"},"score":0,"creation_date":1374518704,"post_id":17794916,"comment_id":25960491,"body_markdown":"@JigarJoshi When I press preview with my JSON nothing shows up","body":"@JigarJoshi When I press preview with my JSON nothing shows up"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":2,"creation_date":1374518836,"post_id":17794916,"comment_id":25960557,"body_markdown":"It does for me,paste your JSON in that field, select source type = JSON, Annotation style= None","body":"It does for me,paste your JSON in that field, select source type = JSON, Annotation style= None"},{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":0,"creation_date":1677039780,"post_id":17794916,"comment_id":133256974,"body_markdown":"JsonCollection&#39;s ErrorMessage should be named `errorMessage`, not `error`.","body":"JsonCollection&#39;s ErrorMessage should be named <code>errorMessage</code>, not <code>error</code>."}],"answers":[{"tags":[],"owner":{"account_id":377027,"reputation":5863,"user_id":728863,"accept_rate":92,"display_name":"footy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374520062,"creation_date":1374520062,"answer_id":17795470,"question_id":17794916,"body_markdown":"I used [this tool][1] shown by @JigarJoshi to generate my schema.\r\n\r\nThe only difference I found is I had to change the class name from `ErrorValues` to `Error`\r\n\r\n  [1]: http://www.jsonschema2pojo.org/","title":"What should be my class structure to parse JSON in GSON","body":"<p>I used <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow\">this tool</a> shown by @JigarJoshi to generate my schema.</p>\n\n<p>The only difference I found is I had to change the class name from <code>ErrorValues</code> to <code>Error</code></p>\n"}],"owner":{"account_id":377027,"reputation":5863,"user_id":728863,"accept_rate":92,"display_name":"footy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17795470,"answer_count":1,"score":0,"last_activity_date":1677039306,"creation_date":1374518231,"question_id":17794916,"body_markdown":"I have the following JSON data:\r\n\r\n    {\r\n        &quot;response&quot;: {},\r\n        &quot;errorMessage&quot;: {\r\n            &quot;error&quot;: [\r\n                {\r\n                    &quot;errorId&quot;: 260003,\r\n                    &quot;domain&quot;: &quot;ads&quot;,\r\n                    &quot;subdomain&quot;: &quot;asd&quot;,\r\n                    &quot;severity&quot;: &quot;asd&quot;,\r\n                    &quot;category&quot;: &quot;asd&quot;,\r\n                    &quot;message&quot;: &quot;asdsa  asd ad&quot;,\r\n                    &quot;errorName&quot;: &quot;UnAuthorized&quot;\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\nCurrently I have the following class structure:\r\n\r\n    public class JSONCollection\r\n    \tprivate Response response;\r\n    \tprivate ErrorMessage error;\r\n    \r\n    public class Response \r\n    \tprivate String collectionId;\r\n    \tprivate String url;\r\n    \r\n    public class ErrorMessage \r\n    \tprivate List&lt;ErrorValues&gt; error;\r\n    \r\n    public class ErrorValues \r\n    \tprivate String errorId;\r\n    \tprivate String domain;\r\n    \tprivate String subdomain;\r\n    \tprivate String severity;\r\n    \tprivate String category;\r\n    \tprivate String message;\r\n    \tprivate String errorName;\r\n\r\nI have setters/get set for all private variables\r\n\r\nBut when I do a `JSONCollection cJson = gson.fromJson(JSONValue,JSONCollection.class);` I get cJson as a `null`.\r\n\r\nHow to get it right?","title":"What should be my class structure to parse JSON in GSON","body":"<p>I have the following JSON data:</p>\n\n<pre><code>{\n    \"response\": {},\n    \"errorMessage\": {\n        \"error\": [\n            {\n                \"errorId\": 260003,\n                \"domain\": \"ads\",\n                \"subdomain\": \"asd\",\n                \"severity\": \"asd\",\n                \"category\": \"asd\",\n                \"message\": \"asdsa  asd ad\",\n                \"errorName\": \"UnAuthorized\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>Currently I have the following class structure:</p>\n\n<pre><code>public class JSONCollection\n    private Response response;\n    private ErrorMessage error;\n\npublic class Response \n    private String collectionId;\n    private String url;\n\npublic class ErrorMessage \n    private List&lt;ErrorValues&gt; error;\n\npublic class ErrorValues \n    private String errorId;\n    private String domain;\n    private String subdomain;\n    private String severity;\n    private String category;\n    private String message;\n    private String errorName;\n</code></pre>\n\n<p>I have setters/get set for all private variables</p>\n\n<p>But when I do a <code>JSONCollection cJson = gson.fromJson(JSONValue,JSONCollection.class);</code> I get cJson as a <code>null</code>.</p>\n\n<p>How to get it right?</p>\n"},{"tags":["java","android","webview","imageview"],"answers":[{"tags":[],"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677002085,"creation_date":1677002085,"answer_id":75524180,"question_id":75524012,"body_markdown":"According to the guide here [custom-tabs][1] \r\n\r\nfirst add the dependencies to your app/build.gradle file\r\n\r\n    dependencies {\r\n       ...\r\n        implementation &quot;androidx.browser:browser:1.4.0&quot;\r\n    }\r\n\r\nyour solution should look something like this.\r\n\r\n    import android.support.customtabs.CustomTabsIntent;\r\n    \r\n    ImageView playtowin;\r\n    \r\n    playtowin = findViewById(R.id.ptw);\r\n    \r\n    playtowin.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            openCustomTab(&quot;https://www.xbox.com/pt-BR/play&quot;);\r\n        }\r\n    });\r\n    \r\n    private void openCustomTab(String url) {\r\n        CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\n        CustomTabsIntent customTabsIntent = builder.build();\r\n        customTabsIntent.launchUrl(this, Uri.parse(url));\r\n    }\r\n\r\n\r\n  [1]: https://developer.chrome.com/docs/android/custom-tabs/integration-guide/","title":"How can I rewrite the code to open link on Chrome custom tab?","body":"<p>According to the guide here <a href=\"https://developer.chrome.com/docs/android/custom-tabs/integration-guide/\" rel=\"nofollow noreferrer\">custom-tabs</a></p>\n<p>first add the dependencies to your app/build.gradle file</p>\n<pre><code>dependencies {\n   ...\n    implementation &quot;androidx.browser:browser:1.4.0&quot;\n}\n</code></pre>\n<p>your solution should look something like this.</p>\n<pre><code>import android.support.customtabs.CustomTabsIntent;\n\nImageView playtowin;\n\nplaytowin = findViewById(R.id.ptw);\n\nplaytowin.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        openCustomTab(&quot;https://www.xbox.com/pt-BR/play&quot;);\n    }\n});\n\nprivate void openCustomTab(String url) {\n    CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\n    CustomTabsIntent customTabsIntent = builder.build();\n    customTabsIntent.launchUrl(this, Uri.parse(url));\n}\n</code></pre>\n"}],"owner":{"account_id":23533539,"reputation":55,"user_id":17917893,"display_name":"Mikael David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75524180,"answer_count":1,"score":0,"last_activity_date":1677038539,"creation_date":1677000948,"question_id":75524012,"body_markdown":"So I have this code in my mainActivity that I use to open the link, but it opens in chrome app and I want it to open in custom-chrome-tabs webView option.\r\n\r\n    ImageView playtowin;\r\n\r\n    playtowin = findViewById(R.id.ptw);\r\n\r\n        playtowin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gotoUrl(&quot;https://www.xbox.com/pt-BR/play&quot;);\r\n            }\r\n        });\r\n\r\n          private void gotoUrl(String s) {\r\n            Uri uri = Uri.parse(s);\r\n            startActivity(new Intent(Intent.ACTION_VIEW,uri));\r\n          }","title":"How can I rewrite the code to open link on Chrome custom tab?","body":"<p>So I have this code in my mainActivity that I use to open the link, but it opens in chrome app and I want it to open in custom-chrome-tabs webView option.</p>\n<pre><code>ImageView playtowin;\n\nplaytowin = findViewById(R.id.ptw);\n\n    playtowin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            gotoUrl(&quot;https://www.xbox.com/pt-BR/play&quot;);\n        }\n    });\n\n      private void gotoUrl(String s) {\n        Uri uri = Uri.parse(s);\n        startActivity(new Intent(Intent.ACTION_VIEW,uri));\n      }\n</code></pre>\n"},{"tags":["java","android","unit-testing","out-of-memory","robolectric"],"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1485726101,"post_id":41919744,"comment_id":71033043,"body_markdown":"Hard to say what can be the issue: https://github.com/robolectric/robolectric/issues/1700, https://github.com/robolectric/robolectric/issues/2068","body":"Hard to say what can be the issue: <a href=\"https://github.com/robolectric/robolectric/issues/1700\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/issues/1700</a>, <a href=\"https://github.com/robolectric/robolectric/issues/2068\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/issues/2068</a>"},{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1485726130,"post_id":41919744,"comment_id":71033063,"body_markdown":"Also usage of jdk8 instead of jdk7 might help, unless you&#39;re already on it","body":"Also usage of jdk8 instead of jdk7 might help, unless you&#39;re already on it"},{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1485776082,"post_id":41919744,"comment_id":71049946,"body_markdown":"I am using jdk8. The test is really small and the class is also very small... It is really wierd... I&#39;ll show you in a little time.","body":"I am using jdk8. The test is really small and the class is also very small... It is really wierd... I&#39;ll show you in a little time."}],"answers":[{"tags":[],"owner":{"account_id":7742408,"reputation":11085,"user_id":5861618,"accept_rate":80,"display_name":"Ros&#225;rio Pereira Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485685541,"creation_date":1485685541,"answer_id":41919840,"question_id":41919744,"body_markdown":"This kind of problem usually happens when you&#39;re displaying too many images on your activities. Probably using some ViewPager? If that&#39;s the case, you can read [this][1], which explains how to use cache to store images and reduce memory consumption. \r\n\r\nAnother solution is increasing the heap size, by setting this on the AndroidManifest.xml: `android:largeHeap=‚Äùtrue‚Äù` .. But keep in mind that this is used mostly on apps that require a lot of memory like games, video processors, etc\r\n\r\n\r\n  [1]: https://developer.android.com/training/displaying-bitmaps/display-bitmap.html#viewpager","title":"Robolectric java heap size error","body":"<p>This kind of problem usually happens when you're displaying too many images on your activities. Probably using some ViewPager? If that's the case, you can read <a href=\"https://developer.android.com/training/displaying-bitmaps/display-bitmap.html#viewpager\" rel=\"nofollow noreferrer\">this</a>, which explains how to use cache to store images and reduce memory consumption. </p>\n\n<p>Another solution is increasing the heap size, by setting this on the AndroidManifest.xml: <code>android:largeHeap=‚Äùtrue‚Äù</code> .. But keep in mind that this is used mostly on apps that require a lot of memory like games, video processors, etc</p>\n"},{"tags":[],"owner":{"account_id":27847137,"reputation":1,"user_id":21262365,"display_name":"user21262365"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677038316,"creation_date":1677038316,"answer_id":75528138,"question_id":41919744,"body_markdown":"the answer should be(at least for me):\r\n\r\nin build.gradle(Project:xxx), add as below:\r\n\r\n    subprojects {\r\n      tasks.withType(Test) {\r\n        maxParallelForks = 2\r\n        forkEvery = 80\r\n        maxHeapSize = &quot;2048m&quot;\r\n        minHeapSize = &quot;1024m&quot;\r\n      }\r\n    }\r\n\r\nrefer from:https://github.com/robolectric/robolectric/issues/5131","title":"Robolectric java heap size error","body":"<p>the answer should be(at least for me):</p>\n<p>in build.gradle(Project:xxx), add as below:</p>\n<pre><code>subprojects {\n  tasks.withType(Test) {\n    maxParallelForks = 2\n    forkEvery = 80\n    maxHeapSize = &quot;2048m&quot;\n    minHeapSize = &quot;1024m&quot;\n  }\n}\n</code></pre>\n<p>refer from:<a href=\"https://github.com/robolectric/robolectric/issues/5131\" rel=\"nofollow noreferrer\">https://github.com/robolectric/robolectric/issues/5131</a></p>\n"}],"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677038316,"creation_date":1485684895,"question_id":41919744,"body_markdown":"So I am running my tests using Robolectric 3.1.4. In another project I had no problems running all my test with robolectric, but right now I always get this error:\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\r\nWhen I remove some views of the activity, the problem stops... \r\n\r\nWell, my question is: How can I increase the heap size in the project or how can I make robolectric consume less memory?\r\n\r\nAny help is appreciated! \r\n","title":"Robolectric java heap size error","body":"<p>So I am running my tests using Robolectric 3.1.4. In another project I had no problems running all my test with robolectric, but right now I always get this error:</p>\n\n<p>java.lang.OutOfMemoryError: Java heap space</p>\n\n<p>When I remove some views of the activity, the problem stops... </p>\n\n<p>Well, my question is: How can I increase the heap size in the project or how can I make robolectric consume less memory?</p>\n\n<p>Any help is appreciated! </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677037968,"post_id":75528090,"comment_id":133256738,"body_markdown":"What is the issue?","body":"What is the issue?"},{"owner":{"account_id":26941144,"reputation":1,"user_id":20511936,"display_name":"therockhidesamongtherocks"},"score":0,"creation_date":1677038093,"post_id":75528090,"comment_id":133256752,"body_markdown":"When running the code, the output is not what I except. It does not print the value of &quot;country&quot;.","body":"When running the code, the output is not what I except. It does not print the value of &quot;country&quot;."},{"owner":{"account_id":8870716,"reputation":3084,"user_id":6624509,"display_name":"Thum Choon Tat"},"score":0,"creation_date":1677038225,"post_id":75528090,"comment_id":133256768,"body_markdown":"What are the inputs and what are the expected outputs?","body":"What are the inputs and what are the expected outputs?"},{"owner":{"account_id":26941144,"reputation":1,"user_id":20511936,"display_name":"therockhidesamongtherocks"},"score":0,"creation_date":1677038642,"post_id":75528090,"comment_id":133256827,"body_markdown":"An example input could be:        \n        \nname        \nsurname        \n18        \nusername        \nfranklin        \ntexas        \n        \nThe output would be:        \n        \nname\nsurname\n18\n\nusername\nfranklin","body":"An example input could be:                  name         surname         18         username         franklin         texas                  The output would be:                  name surname 18  username franklin"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677038687,"post_id":75528090,"comment_id":133256838,"body_markdown":"`scanner.nextInt();` will leave a new line character in the buffer which will cause the next `scanner.nextLine();` to skip (return an empty string)","body":"<code>scanner.nextInt();</code> will leave a new line character in the buffer which will cause the next <code>scanner.nextLine();</code> to skip (return an empty string)"}],"owner":{"account_id":26941144,"reputation":1,"user_id":20511936,"display_name":"therockhidesamongtherocks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677038875,"answer_count":0,"score":0,"last_activity_date":1677037839,"creation_date":1677037839,"question_id":75528090,"body_markdown":"When parsing command line input using Scanner class in Java, there was an issue printing the last value. It can be fixed by changing the variable age to a String, but I would like to know the cause of the initial problem. The code is below.\r\n\r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        \r\n        // Create new instance of scanner\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        // Ask for user details\r\n        \r\n        System.out.println(&quot;What is your first name?&quot;);\r\n        String name = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What is your last name?&quot;);\r\n        String surname = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;How old are you?&quot;);\r\n        int age = scanner.nextInt();\r\n        \r\n        System.out.println(&quot;Make a username.&quot;);\r\n        String username = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What city do you live in?&quot;);\r\n        String city = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What country is this city located in?\\n&quot;);\r\n        String country = scanner.nextLine();\r\n        \r\n        // print variable values\r\n        \r\n        System.out.println(name);\r\n        System.out.println(surname);\r\n        System.out.println(age);\r\n        System.out.println(username);\r\n        System.out.println(city);\r\n        System.out.println(country);\r\n        \r\n        \r\n    }\r\n}\r\n```\r\n\r\nThank you in advance.","title":"Issue With Printing Text to Command Line","body":"<p>When parsing command line input using Scanner class in Java, there was an issue printing the last value. It can be fixed by changing the variable age to a String, but I would like to know the cause of the initial problem. The code is below.</p>\n<pre><code>import java.util.Scanner; \n\npublic class Main {\n    public static void main(String[] args) {\n        \n        // Create new instance of scanner\n        \n        Scanner scanner = new Scanner(System.in);\n        \n        // Ask for user details\n        \n        System.out.println(&quot;What is your first name?&quot;);\n        String name = scanner.nextLine();\n        \n        System.out.println(&quot;What is your last name?&quot;);\n        String surname = scanner.nextLine();\n        \n        System.out.println(&quot;How old are you?&quot;);\n        int age = scanner.nextInt();\n        \n        System.out.println(&quot;Make a username.&quot;);\n        String username = scanner.nextLine();\n        \n        System.out.println(&quot;What city do you live in?&quot;);\n        String city = scanner.nextLine();\n        \n        System.out.println(&quot;What country is this city located in?\\n&quot;);\n        String country = scanner.nextLine();\n        \n        // print variable values\n        \n        System.out.println(name);\n        System.out.println(surname);\n        System.out.println(age);\n        System.out.println(username);\n        System.out.println(city);\n        System.out.println(country);\n        \n        \n    }\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","android","architecture","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":9228721,"reputation":1203,"user_id":6855603,"display_name":"estn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1534710023,"creation_date":1534710023,"answer_id":51921517,"question_id":51919381,"body_markdown":"If I understand your problem correctly, I would probably add another another class between your repository and your database / api controller. This class can implement your interface to get your `List&lt;Breeds&gt;` and it also does the &quot;coordination&quot; between database and api. \r\n\r\nfor example: you want to get list of breeds, okay, this &quot;DataSourceCordinator&quot; object does this: is the database empty?\r\n\r\n - If it is empty, call api , fill database and retrieve the list\r\n - otherwise retrieve what is currently in database.\r\n\r\nYou probably need something that can coordinate these two data sources somehow.\r\n\r\nOne more note, I imagine repository a bit differently than you do, I would add different data sources into single repository but for the same type of data - not mixing different types of data in one repository - only adding different ways to retrieve same type of data\r\n\r\nfor example\r\n\r\n - for breeds you would have one repository with two data sources -\r\n   database and api\r\n - for dogs you would have different repository with one data source - api\r\n\r\nNow in each repository I would coordinate these different data sources. Btw thats a nice diagram!","title":"How to arrange classes and interface in order to clean architecture in my data model?","body":"<p>If I understand your problem correctly, I would probably add another another class between your repository and your database / api controller. This class can implement your interface to get your <code>List&lt;Breeds&gt;</code> and it also does the \"coordination\" between database and api. </p>\n\n<p>for example: you want to get list of breeds, okay, this \"DataSourceCordinator\" object does this: is the database empty?</p>\n\n<ul>\n<li>If it is empty, call api , fill database and retrieve the list</li>\n<li>otherwise retrieve what is currently in database.</li>\n</ul>\n\n<p>You probably need something that can coordinate these two data sources somehow.</p>\n\n<p>One more note, I imagine repository a bit differently than you do, I would add different data sources into single repository but for the same type of data - not mixing different types of data in one repository - only adding different ways to retrieve same type of data</p>\n\n<p>for example</p>\n\n<ul>\n<li>for breeds you would have one repository with two data sources -\ndatabase and api</li>\n<li>for dogs you would have different repository with one data source - api</li>\n</ul>\n\n<p>Now in each repository I would coordinate these different data sources. Btw thats a nice diagram!</p>\n"}],"owner":{"account_id":5459104,"reputation":964,"user_id":4341740,"accept_rate":80,"display_name":"Stanly T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51921517,"answer_count":1,"score":1,"last_activity_date":1677037642,"creation_date":1534694005,"question_id":51919381,"body_markdown":"I&#39;ve created my app&#39;s structure in next way:\r\n\r\n`DataRepository` class has 3 members&#39; which are interfaces. Each interface serves the appropiate datas. The first member interface works with &quot;`Owner`&quot; model datas, the second one works with &quot;`Dog`&quot; model datas. And the third must work with &quot;`Breed`&quot; model. First and second datas (`Owner` and `Dog`) are input from user and stored locally in SQLiteDatabase and i have classes `Dog/Owner/SQLDataSources` classes, that implement those interfaces. \r\n\r\nThe third data model is my problem. This models&#39; list named &quot;Breed&quot; i download from internet, then i have to write it in database and then to get `List&lt;Breed&gt;`. \r\nAs a result my `WebBreedDataSource` uploads `List&lt;Breed&gt;` from API and `SQLBreedDataSource` fills the database (TableBreed) with that list. So these both classes have the same method `getBreeds()`.\r\nSo i don&#39;t know which class of those does have to implements `IBreedsDataSource` interface? How to arrange this architecture clean? May be i should create some another class that uses those both and implements IBreed interface\r\n\r\nThanks a lot for advice!\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z1LpA.jpg","title":"How to arrange classes and interface in order to clean architecture in my data model?","body":"<p>I've created my app's structure in next way:</p>\n\n<p><code>DataRepository</code> class has 3 members' which are interfaces. Each interface serves the appropiate datas. The first member interface works with \"<code>Owner</code>\" model datas, the second one works with \"<code>Dog</code>\" model datas. And the third must work with \"<code>Breed</code>\" model. First and second datas (<code>Owner</code> and <code>Dog</code>) are input from user and stored locally in SQLiteDatabase and i have classes <code>Dog/Owner/SQLDataSources</code> classes, that implement those interfaces. </p>\n\n<p>The third data model is my problem. This models' list named \"Breed\" i download from internet, then i have to write it in database and then to get <code>List&lt;Breed&gt;</code>. \nAs a result my <code>WebBreedDataSource</code> uploads <code>List&lt;Breed&gt;</code> from API and <code>SQLBreedDataSource</code> fills the database (TableBreed) with that list. So these both classes have the same method <code>getBreeds()</code>.\nSo i don't know which class of those does have to implements <code>IBreedsDataSource</code> interface? How to arrange this architecture clean? May be i should create some another class that uses those both and implements IBreed interface</p>\n\n<p>Thanks a lot for advice!\n<a href=\"https://i.stack.imgur.com/z1LpA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z1LpA.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1676982565,"post_id":75519498,"comment_id":133242940,"body_markdown":"I think this will be possible only with native query, otherwise the auditing will always be called when working with JPA.","body":"I think this will be possible only with native query, otherwise the auditing will always be called when working with JPA."},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1676992849,"post_id":75519498,"comment_id":133246533,"body_markdown":"@bilak I tried the native query also as I have edited the OP, but still the same.","body":"@bilak I tried the native query also as I have edited the OP, but still the same."}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677037438,"creation_date":1677036756,"answer_id":75528003,"question_id":75519498,"body_markdown":"I tried to replicate your question, and here is one possible solution.\r\n\r\nFirst define `setLastModifiedDate` method in `AbstractAuditingEntity`:\r\n\r\n    public void setLastModifiedDate(Instant lastModifiedDate) {\r\n      this.lastModifiedDate = lastModifiedDate;\r\n    }\r\n\r\nBy calling `student.setLastModifiedDate(date)`, you will be able to set the last modified date of your choice and save to `StudentRepo`, which I tested with the following method at `StudentServ`:\r\n\r\n    public void testUpdateLastModifiedDate(String id, Student student, Instant instant){\r\n      student.setId(id);\r\n      student.setLastModifiedDate(instant);\r\n      studentRepo.save(student);\r\n    }\r\n\r\nThe `lastModifiedDate` would be updated to the `instant` of your input.\r\n\r\nThe `lastModifiedBy` field should be handled similarly.\r\n\r\nHope it is of help.\r\n\r\nEDIT:\r\n\r\nFurther to the modified query, the following should be more similar to what you want to achieve:\r\n\r\n    public void update(String id, Instant lastModifiedDate, String lastModifiedBy){\r\n      Optional&lt;Student&gt; opt = studentRepo.findById(id);\r\n      if(opt.isEmpty()) return;\r\n    \r\n      Student student = opt.get();\r\n      student.setLastModifiedDate(lastModifiedDate);\r\n      student.setLastModifiedBy(lastModifiedBy);\r\n      studentRepo.save(student);\r\n    }","title":"Cannot explicitly update values of @LastModifiedBy and @LastModifiedDate annotated columns of an entity in Spring Boot application","body":"<p>I tried to replicate your question, and here is one possible solution.</p>\n<p>First define <code>setLastModifiedDate</code> method in <code>AbstractAuditingEntity</code>:</p>\n<pre><code>public void setLastModifiedDate(Instant lastModifiedDate) {\n  this.lastModifiedDate = lastModifiedDate;\n}\n</code></pre>\n<p>By calling <code>student.setLastModifiedDate(date)</code>, you will be able to set the last modified date of your choice and save to <code>StudentRepo</code>, which I tested with the following method at <code>StudentServ</code>:</p>\n<pre><code>public void testUpdateLastModifiedDate(String id, Student student, Instant instant){\n  student.setId(id);\n  student.setLastModifiedDate(instant);\n  studentRepo.save(student);\n}\n</code></pre>\n<p>The <code>lastModifiedDate</code> would be updated to the <code>instant</code> of your input.</p>\n<p>The <code>lastModifiedBy</code> field should be handled similarly.</p>\n<p>Hope it is of help.</p>\n<p>EDIT:</p>\n<p>Further to the modified query, the following should be more similar to what you want to achieve:</p>\n<pre><code>public void update(String id, Instant lastModifiedDate, String lastModifiedBy){\n  Optional&lt;Student&gt; opt = studentRepo.findById(id);\n  if(opt.isEmpty()) return;\n\n  Student student = opt.get();\n  student.setLastModifiedDate(lastModifiedDate);\n  student.setLastModifiedBy(lastModifiedBy);\n  studentRepo.save(student);\n}\n</code></pre>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677037438,"creation_date":1676976870,"question_id":75519498,"body_markdown":"I am using the following Hibernate Entity in one of my Spring boot applications. \r\n\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Student&quot;)\r\n    public class Student extends AbstractAuditingEntity implements Serializable {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @Id\r\n      private String id;\r\n    \r\n      @Column(name = &quot;name&quot;)\r\n      private String name;\r\n    \r\n      @Column(name = &quot;description&quot;)\r\n      private String description;\r\n    \r\n      ...\r\n    }\r\n\r\n`AbstractAuditingEntity` is as follows:\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class AbstractAuditingEntity implements Serializable {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @CreatedBy\r\n      @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\r\n      @JsonIgnore\r\n      private String createdBy;\r\n    \r\n      @CreatedDate\r\n      @Column(name = &quot;created_date&quot;, updatable = false)\r\n      @JsonIgnore\r\n      private Instant createdDate = Instant.now();\r\n    \r\n      @LastModifiedBy\r\n      @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n      @JsonIgnore\r\n      private String lastModifiedBy;\r\n    \r\n      @LastModifiedDate\r\n      @Column(name = &quot;last_modified_date&quot;)\r\n      @JsonIgnore\r\n      private Instant lastModifiedDate = Instant.now();\r\n      ...\r\n      }\r\n\r\nIn all the existing flows the `lastModifiedBy` and `lastModifiedDate` are getting populated correctly.\r\n\r\nNow, in a new flow, I am syncing the above entity from another system and I would like to update the `lastModifiedDate` and `lastModifiedBy` values explicitly. I have tried the below update query in order to update these two fields, but it&#39;s not working.\r\n\r\n\r\n    @Modifying(flushAutomatically = true)\r\n    @Query(&quot;update Student u set &quot; +\r\n          &quot;u.lastModifiedBy = :lastModifiedBy, &quot; +\r\n          &quot;u.lastModifiedDate = :lastModifiedDate &quot; +\r\n          &quot;where u.id = :id&quot;)\r\n      void updateLastModifiedInformation(@Param(&quot;lastModifiedBy&quot;) String lastModifiedBy,\r\n                                                @Param(&quot;lastModifiedDate&quot;) Instant lastModifiedDate,\r\n                                                @Param(&quot;id&quot;) String id);\r\n\r\nEven after the update, I see the `lastModifiedDate` and `lastModifiedBy` columns are getting populated with the current date and currently signed-in user respectively, which I don&#39;t want.\r\n\r\nI am not getting any clue as to how to make this work.\r\n\r\n\r\n**EDIT**:\r\n\r\nAfter the suggestion in the comment, I tried the native query as well as follows, but still the same:\r\n\r\n    @Modifying\r\n    @Query(value = &quot;update Student u set &quot; +\r\n          &quot;u.last_modified_by = :lastModifiedBy, &quot; +\r\n          &quot;u.last_modified_date = :lastModifiedDate &quot; +\r\n          &quot;where u.id = :id&quot;, nativeQuery = true)\r\n      void updateLastModifiedInformation(@Param(&quot;lastModifiedBy&quot;) String lastModifiedBy,\r\n                                                @Param(&quot;lastModifiedDate&quot;) Instant lastModifiedDate,\r\n                                                @Param(&quot;id&quot;) String id);\r\n\r\nCould anyone please help here? Thanks.","title":"Cannot explicitly update values of @LastModifiedBy and @LastModifiedDate annotated columns of an entity in Spring Boot application","body":"<p>I am using the following Hibernate Entity in one of my Spring boot applications.</p>\n<pre><code>@Entity\n@Table(name = &quot;Student&quot;)\npublic class Student extends AbstractAuditingEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  private String id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @Column(name = &quot;description&quot;)\n  private String description;\n\n  ...\n}\n</code></pre>\n<p><code>AbstractAuditingEntity</code> is as follows:</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AbstractAuditingEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @CreatedBy\n  @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\n  @JsonIgnore\n  private String createdBy;\n\n  @CreatedDate\n  @Column(name = &quot;created_date&quot;, updatable = false)\n  @JsonIgnore\n  private Instant createdDate = Instant.now();\n\n  @LastModifiedBy\n  @Column(name = &quot;last_modified_by&quot;, length = 50)\n  @JsonIgnore\n  private String lastModifiedBy;\n\n  @LastModifiedDate\n  @Column(name = &quot;last_modified_date&quot;)\n  @JsonIgnore\n  private Instant lastModifiedDate = Instant.now();\n  ...\n  }\n</code></pre>\n<p>In all the existing flows the <code>lastModifiedBy</code> and <code>lastModifiedDate</code> are getting populated correctly.</p>\n<p>Now, in a new flow, I am syncing the above entity from another system and I would like to update the <code>lastModifiedDate</code> and <code>lastModifiedBy</code> values explicitly. I have tried the below update query in order to update these two fields, but it's not working.</p>\n<pre><code>@Modifying(flushAutomatically = true)\n@Query(&quot;update Student u set &quot; +\n      &quot;u.lastModifiedBy = :lastModifiedBy, &quot; +\n      &quot;u.lastModifiedDate = :lastModifiedDate &quot; +\n      &quot;where u.id = :id&quot;)\n  void updateLastModifiedInformation(@Param(&quot;lastModifiedBy&quot;) String lastModifiedBy,\n                                            @Param(&quot;lastModifiedDate&quot;) Instant lastModifiedDate,\n                                            @Param(&quot;id&quot;) String id);\n</code></pre>\n<p>Even after the update, I see the <code>lastModifiedDate</code> and <code>lastModifiedBy</code> columns are getting populated with the current date and currently signed-in user respectively, which I don't want.</p>\n<p>I am not getting any clue as to how to make this work.</p>\n<p><strong>EDIT</strong>:</p>\n<p>After the suggestion in the comment, I tried the native query as well as follows, but still the same:</p>\n<pre><code>@Modifying\n@Query(value = &quot;update Student u set &quot; +\n      &quot;u.last_modified_by = :lastModifiedBy, &quot; +\n      &quot;u.last_modified_date = :lastModifiedDate &quot; +\n      &quot;where u.id = :id&quot;, nativeQuery = true)\n  void updateLastModifiedInformation(@Param(&quot;lastModifiedBy&quot;) String lastModifiedBy,\n                                            @Param(&quot;lastModifiedDate&quot;) Instant lastModifiedDate,\n                                            @Param(&quot;id&quot;) String id);\n</code></pre>\n<p>Could anyone please help here? Thanks.</p>\n"},{"tags":["java","oop","interface","architecture","clean-architecture"],"comments":[{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":2,"creation_date":1485186514,"post_id":34872913,"comment_id":70808417,"body_markdown":"I&#39;m voting to close this question as off-topic because code review questions should be asked on CodeReview.SE, not Stack Overflow.","body":"I&#39;m voting to close this question as off-topic because code review questions should be asked on CodeReview.SE, not Stack Overflow."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453196040,"creation_date":1453196040,"answer_id":34873110,"question_id":34872913,"body_markdown":"This pattern is a common and acceptable pattern - it is even used in the Java libraries. See [ArrayList](https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html) that `extends` [AbstractList](https://docs.oracle.com/javase/7/docs/api/java/util/AbstractList.html) and `implements` [List](https://docs.oracle.com/javase/7/docs/api/java/util/List.html).","title":"Clean architecture practice for my Java project","body":"<p>This pattern is a common and acceptable pattern - it is even used in the Java libraries. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow\">ArrayList</a> that <code>extends</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractList.html\" rel=\"nofollow\">AbstractList</a> and <code>implements</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html\" rel=\"nofollow\">List</a>.</p>\n"},{"tags":[],"owner":{"account_id":410572,"reputation":111,"user_id":782480,"display_name":"Sebastian Malaca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453242476,"creation_date":1453242476,"answer_id":34888163,"question_id":34872913,"body_markdown":"You can try following:\r\n\r\n 1. Use [Strategy Pattern][1] instead of [Template Method][2] - it is always better to use composition over inheritance.\r\n 2. You should go through RdfDataChecker class and find out is it possible to extract some code to different class.\r\n 3. Make List data private - each class should encapsulate its own fields.\r\n\r\n  [1]: http://bfy.tw/3oTn\r\n  [2]: http://bfy.tw/3oTk","title":"Clean architecture practice for my Java project","body":"<p>You can try following:</p>\n\n<ol>\n<li>Use <a href=\"http://bfy.tw/3oTn\" rel=\"nofollow\">Strategy Pattern</a> instead of <a href=\"http://bfy.tw/3oTk\" rel=\"nofollow\">Template Method</a> - it is always better to use composition over inheritance.</li>\n<li>You should go through RdfDataChecker class and find out is it possible to extract some code to different class.</li>\n<li>Make List data private - each class should encapsulate its own fields.</li>\n</ol>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1485195907,"accepted_answer_id":34873110,"answer_count":2,"score":0,"last_activity_date":1677036299,"creation_date":1453195488,"question_id":34872913,"body_markdown":"I would like to ask, if you have any idea, to make the architecture of my Java project cleaner. \r\n\r\n  \r\n\r\n      abstract class rdfDataChecker {\r\n        List&lt;T&gt; data;\r\n        // all abstract methods to check data... more than 20 methods. They all use the list &quot;data&quot;. \r\n        }\r\n        \r\n        // the idea of this interface is, that all the data loaders can just use feedable.feed(List&lt;T&gt;). (we inject this dataChecker to the data Loader).\r\n        interface Feedable {\r\n        void feed(List&lt;T&gt;);\r\n        }\r\n        \r\n       //implementations in different java frameworks.\r\n        class specificRdfDataChecker extends rdfDataChecker implements Feedable{\r\n        // implement all the methods.\r\n        }\r\n    \r\n    \r\n       class DataLoader {\r\n       private Feedable feedable;\r\n       public DataLoader(Feedable feedable) { \r\n       this.feedable = feedable;\r\n       }\r\n       }\r\n\r\n\r\n\r\nThank you in advance for your suggestions.\r\n","title":"Clean architecture practice for my Java project","body":"<p>I would like to ask, if you have any idea, to make the architecture of my Java project cleaner. </p>\n\n<pre><code>  abstract class rdfDataChecker {\n    List&lt;T&gt; data;\n    // all abstract methods to check data... more than 20 methods. They all use the list \"data\". \n    }\n\n    // the idea of this interface is, that all the data loaders can just use feedable.feed(List&lt;T&gt;). (we inject this dataChecker to the data Loader).\n    interface Feedable {\n    void feed(List&lt;T&gt;);\n    }\n\n   //implementations in different java frameworks.\n    class specificRdfDataChecker extends rdfDataChecker implements Feedable{\n    // implement all the methods.\n    }\n\n\n   class DataLoader {\n   private Feedable feedable;\n   public DataLoader(Feedable feedable) { \n   this.feedable = feedable;\n   }\n   }\n</code></pre>\n\n<p>Thank you in advance for your suggestions.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1676966050,"post_id":75516427,"comment_id":133238048,"body_markdown":"Have you tried the `Package` view (click the `Project` text in the Project tool window and choose the `Pacakge` to switch to it)? There is also a related feature request here that could help your use case https://youtrack.jetbrains.com/issue/IDEA-107947 though it is not supported yet.","body":"Have you tried the <code>Package</code> view (click the <code>Project</code> text in the Project tool window and choose the <code>Pacakge</code> to switch to it)? There is also a related feature request here that could help your use case <a href=\"https://youtrack.jetbrains.com/issue/IDEA-107947\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-107947</a> though it is not supported yet."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1677039630,"post_id":75516427,"comment_id":133256960,"body_markdown":"@LJreplica It&#39;s an interesting display, already, and I think it might be good enough for me atm. Thanks!","body":"@LJreplica It&#39;s an interesting display, already, and I think it might be good enough for me atm. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":28204,"reputation":1062,"user_id":75113,"display_name":"Ted M. Young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677036289,"creation_date":1677036289,"answer_id":75527971,"question_id":75516427,"body_markdown":"You can select the parent node (SparkDatasetCatalogue...), then use the &quot;Find Action&quot; command (`CMD+SHIFT+A` or `CTRL+SHIFT+A`), then search for &quot;Full Expand Tree Node&quot; and hit `Enter`.\r\n\r\n[![Find Actions dialog][1]][1]\r\n\r\nI do this often enough that I assigned it to a shortcut (I used `CMD+SHIFT+8`). You can assign it to a shortcut right in the &quot;Find Action&quot; dialog by pressing `OPTION+ENTER` (I think it&#39;s `ALT+ENTER` on Windows). Or you can go into the key mapping preferences and assign it there.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/81HXB.png","title":"In a Java project, on IntelliJ Idea, does a faster way exist to list Java sources in their packages than the one I&#39;m using?","body":"<p>You can select the parent node (SparkDatasetCatalogue...), then use the &quot;Find Action&quot; command (<code>CMD+SHIFT+A</code> or <code>CTRL+SHIFT+A</code>), then search for &quot;Full Expand Tree Node&quot; and hit <code>Enter</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/81HXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81HXB.png\" alt=\"Find Actions dialog\" /></a></p>\n<p>I do this often enough that I assigned it to a shortcut (I used <code>CMD+SHIFT+8</code>). You can assign it to a shortcut right in the &quot;Find Action&quot; dialog by pressing <code>OPTION+ENTER</code> (I think it's <code>ALT+ENTER</code> on Windows). Or you can go into the key mapping preferences and assign it there.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677036289,"creation_date":1676955360,"question_id":75516427,"body_markdown":"I enjoy the view listing _Java_ sources in their flatten packages, under _IntelliJ Idea 2022.3.2_.\r\n\r\nBut, due to some settings or lack of knowledge, it takes me a lot of manipulations to reach the display I&#39;m looking for, each time I&#39;m considering some project sources.\r\n\r\n1. I&#39;m willing to see the sources of that central project, so I&#39;m opening it:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Then, I do a second click of my mouse, on the `src` folder:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. Then, a third one on the `main` folder:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4. Then, a fourth one on the `java` folder:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nand here the _Java_ sources are conveniently listed, the way I like them to be.\r\n\r\n__But it took me a lot of mouse clicks.  \r\nWhat&#39;s the way to reach here without doing so many ones?__\r\n\r\n(I don&#39;t want to use the _Expand All_ toolbar button at the top of the Project View, that would open all the projects).\r\n\r\n  [1]: https://i.stack.imgur.com/oB2hl.png\r\n  [2]: https://i.stack.imgur.com/NWbIy.png\r\n  [3]: https://i.stack.imgur.com/Aaqhl.png\r\n  [4]: https://i.stack.imgur.com/u0JGc.png","title":"In a Java project, on IntelliJ Idea, does a faster way exist to list Java sources in their packages than the one I&#39;m using?","body":"<p>I enjoy the view listing <em>Java</em> sources in their flatten packages, under <em>IntelliJ Idea 2022.3.2</em>.</p>\n<p>But, due to some settings or lack of knowledge, it takes me a lot of manipulations to reach the display I'm looking for, each time I'm considering some project sources.</p>\n<ol>\n<li>I'm willing to see the sources of that central project, so I'm opening it:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oB2hl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oB2hl.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Then, I do a second click of my mouse, on the <code>src</code> folder:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/NWbIy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NWbIy.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Then, a third one on the <code>main</code> folder:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Aaqhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aaqhl.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Then, a fourth one on the <code>java</code> folder:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/u0JGc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u0JGc.png\" alt=\"enter image description here\" /></a></p>\n<p>and here the <em>Java</em> sources are conveniently listed, the way I like them to be.</p>\n<p><strong>But it took me a lot of mouse clicks.<br />\nWhat's the way to reach here without doing so many ones?</strong></p>\n<p>(I don't want to use the <em>Expand All</em> toolbar button at the top of the Project View, that would open all the projects).</p>\n"},{"tags":["java","android","architecture","coding-style","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":1316082,"reputation":2988,"user_id":1262901,"accept_rate":40,"display_name":"Fabian Kleiser"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1443441735,"creation_date":1443441735,"answer_id":32822506,"question_id":32795712,"body_markdown":"### Publish / Subscribe\r\n\r\nTypically, for n:m communication (n senders may send a message to m receivers, while all senders and receivers do not know each other) you&#39;ll use a [publish/subscribe pattern](https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern).\r\nThere are lots of libraries implementing such a communication style, for Java there is for example an [EventBus implementation in the Guava library](https://github.com/google/guava/wiki/EventBusExplained).\r\nFor in-app communication these libraries are typically called EventBus or EventManager and send/receive *events*.\r\n\r\n### Domain Events\r\n\r\nSuppose you now created an event `VideoRatedEvent`, which signals that a user has either liked or disliked a video. \r\nThese type of events are referred to as [Domain Events](http://martinfowler.com/eaaDev/DomainEvent.html). The event class is a simple POJO and might look like this:\r\n\r\n\r\n    class VideoRatedEvent {\r\n        /** The video that was rated */\r\n        public Video video;\r\n        /** The user that triggered this event */\r\n        public User user;\r\n        /** True if the user liked the video, false if the user disliked the video */\r\n        public boolean liked;\r\n    }\r\n\r\n### Dispatch events\r\n\r\nNow each time your users like or dislike a video, you&#39;ll need to dispatch a `VideoRatedEvent`.\r\nWith Guava, you&#39;ll simply pass an instantiated event object to object to `EventBus.post(myVideoRatedEvent)`.\r\nIdeally the events are generated in your domain objects and are dispatched within the persisting transaction (see [this blog post](https://lostechies.com/jimmybogard/2014/05/13/a-better-domain-events-pattern/) for details).\r\nThat means that as your domain model state is persisted, the events are dispatched.\r\n\r\n### Event Listeners\r\n\r\nIn your application, all components affected by an event can now listen to the domain events.\r\nIn your particular example, the `VideoDetailView` or `StatsRepository` might be event listeners for the `VideoRatedEvent`.\r\nOf course, you will need to register those to the Guava EventBus with `EventBus.register(Object)`.","title":"Clean Architecture: How to reflect the data layer&#39;s changes in the UI","body":"<h3>Publish / Subscribe</h3>\n\n<p>Typically, for n:m communication (n senders may send a message to m receivers, while all senders and receivers do not know each other) you'll use a <a href=\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">publish/subscribe pattern</a>.\nThere are lots of libraries implementing such a communication style, for Java there is for example an <a href=\"https://github.com/google/guava/wiki/EventBusExplained\">EventBus implementation in the Guava library</a>.\nFor in-app communication these libraries are typically called EventBus or EventManager and send/receive <em>events</em>.</p>\n\n<h3>Domain Events</h3>\n\n<p>Suppose you now created an event <code>VideoRatedEvent</code>, which signals that a user has either liked or disliked a video. \nThese type of events are referred to as <a href=\"http://martinfowler.com/eaaDev/DomainEvent.html\">Domain Events</a>. The event class is a simple POJO and might look like this:</p>\n\n<pre><code>class VideoRatedEvent {\n    /** The video that was rated */\n    public Video video;\n    /** The user that triggered this event */\n    public User user;\n    /** True if the user liked the video, false if the user disliked the video */\n    public boolean liked;\n}\n</code></pre>\n\n<h3>Dispatch events</h3>\n\n<p>Now each time your users like or dislike a video, you'll need to dispatch a <code>VideoRatedEvent</code>.\nWith Guava, you'll simply pass an instantiated event object to object to <code>EventBus.post(myVideoRatedEvent)</code>.\nIdeally the events are generated in your domain objects and are dispatched within the persisting transaction (see <a href=\"https://lostechies.com/jimmybogard/2014/05/13/a-better-domain-events-pattern/\">this blog post</a> for details).\nThat means that as your domain model state is persisted, the events are dispatched.</p>\n\n<h3>Event Listeners</h3>\n\n<p>In your application, all components affected by an event can now listen to the domain events.\nIn your particular example, the <code>VideoDetailView</code> or <code>StatsRepository</code> might be event listeners for the <code>VideoRatedEvent</code>.\nOf course, you will need to register those to the Guava EventBus with <code>EventBus.register(Object)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2279253,"reputation":425,"user_id":2004795,"accept_rate":77,"display_name":"J-S"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1443620452,"creation_date":1443619726,"answer_id":32867404,"question_id":32795712,"body_markdown":"This is my personal 5cents and maybe not closely enough related to your example of &quot;The Clean Architecure&quot;.&lt;br&gt;\r\n&lt;br&gt;\r\nI usually try to force a kind of MVC upon androids activities and fragments and use publish/subscribe for communication. As components I have model classes that handle business logic and the data state. They data changing methods are only to be called by the controller classes which usually is the activity class and also handles session state. I use fragments to manage different view parts of the application and views under those fragments (obviously). All fragments subscribe to one or more topics. I use my own simple DataDistributionService which handles different topics, takes messages from registered publishers and relays them to all subscribers. (partly influenced by the OMGs DDS but MUCH MUCH more primitive) A simple application would only have a single topic e.g. &quot;Main&quot;.&lt;br&gt;\r\n&lt;br&gt;\r\nEvery part of view interaction (touches etc) is handled by its fragment first. The fragment can potentially change a few things without sending notifications. E.g. switching the subrange of rendered data elements if the rest of the app does not need to know/react. Otherwise the fragment publishes a ViewRequest(...) containing the necessary parameters to the DDS.&lt;br&gt;\r\n&lt;br&gt;\r\nThe DDS broadcasts that message and at some point reaches a controller. This can simply be the main activity or a specific controller instance. There should be only ONE controller so that the request is only handled once. The controller basically has a long list of request handling code. When a request arrives the controller calls to the business logic in the model. The controller also handles other view related things like arranging the view (tabs) or starting dialogs for user input (overwrite file?) and other things that the model is not supposed to know about but influences (Throw new NoOverWritePermissionException())&lt;br&gt;\r\n&lt;br&gt;\r\nOnce the model changes are done the controller decides if an update notification has to be send. (usually it does). That way the model classes do not need to listen or send messages and only take care of busines logic and consistent state. The update notification ist broadcasted and received by the fragments which then run &quot;updateFromModel()&quot;.&lt;br&gt;\r\n&lt;br&gt;\r\nEffects:&lt;br&gt;\r\nCommands are global. Any ViewRequest or other kind of request can be send from anywhere the DDS can be accessed. Fragments do not have to provide a listener class and no higher instance has to implement listeners for their instanced fragments. If a new fragment does not require new Requests it can be added without any change to controller classes.&lt;br&gt;\r\n&lt;br&gt;\r\nModel classes do not need to know about the communication at all. It can be hard enough to keep consistent state and handle all the data management. No message handling or session state handling is necessary. However the model might not be proteced against malicous calls from the view. But that is a general problem and cannot really be prevented if the model has to give out references at some point. If your app is fine with a model that only passes copies/flat data its possible. But at some point the ArrayAdapter simply needs access to the bitmaps he is supposed to draw in the gridview. If you cannot afford copies, you always have the risk of &quot;view makes a changing call to the model&quot;. Different battlefield...&lt;br&gt;\r\n&lt;br&gt;\r\nUpdate calls might be too simple. If the update of a fragment is expensive (OpenGL fragment reloading textures...) you want to have more detailed update information. The controler COULD send a more detailed notification however it actually should not have to/be able to know what parts of the model exactly changed. Sending update notes from the model is ugly. Not only would the model have to implement messaging but it also gets very chaotic with mixed notifications. The controler can divide update notifications and others a bit by using topics. E.g. a specific topic for changes to your video resources. That way fragments can decide which topics they subscribe to. Other than that you want to have a model that can be queried for changed values. Timestamp etc. I have an app where the user draws shapes on canvas. They get rendered to bitmaps and are used as textures in an OpenGL view. I certainly don&#39;t want to reload textures everytime &quot;updateFromModel()&quot; is called in the GLViewFragment.&lt;br&gt;\r\n&lt;br&gt;\r\nDependency Rule:&lt;br&gt;\r\nProbably not respected all the time. If the controller handles a tab switch it can simply call &quot;seletTab()&quot; on a TabHost and therefore have a dependency to outer circles. You can turn it into a message but then it is still a logical dependency. If the controller part has to organize some elements of the view (show the image-editor-fragment-tab automatically after loading an image via the image-gallery-fragmen-tab) you cannot avoid dependencies completely. Maybe you can get it done by modelling viewstate and have your view parts organize themselves from viewstate.currentUseCase or smth like that. But if you need global control over the view of your app you will get problems with this dependency rule I&#39;d say. What if you try to save some data and your model asks for overwrite permission? You need to create some kind of UI for that. Dependency again. You can send a message to the view and hope that a DialogFragment picks it up. If it exists in the extremely modular world described at your link.&lt;br&gt;\r\n&lt;br&gt;\r\nEntities:&lt;br&gt;\r\n are the model classes in my approach. That is pretty close to the link you provided.&lt;br&gt;\r\n&lt;br&gt;\r\nUse Cases:&lt;br&gt;\r\nI do not have those explicitly modelled for now. Atm I am working on editors for videogame assets. Drawing shapes in one fragment, applying shading values in another fragment, saving/loading in a galleryfragment, exporting to a texture atlas in another one ... stuff like that. I would add Use Cases as some kind of Request subset. Basically a Use Case as a set of rules which request in which order are allowed/required/expected/forbidden etc. I would build them like transactions so that a Use Case can keep progressing, can be finished, can be cancelled and maybe even rolled back. E.g. a Use Case would define the order of saving a fresh drawn image. Including posting a Dialog to ask for overwrite permission and roll back if permission is not give or time out is reached. But Use Cases are defined in many different ways. Some apps have a single Use Case for an hour of active user interaction, some apps have 50 Use Cases just to get money from an atm. ;)&lt;br&gt;\r\n&lt;br&gt;\r\nInterface Adapters:&lt;br&gt;\r\nHere it gets a bit complicated. To me this seems to be extremely high level for android apps. It states &quot;The Ring of Interface Adapters contains the whole MVC architecture of a GUI&quot;. I cannot really wrap my head around that. Maybe you are building far more complicated apps than I do.&lt;br&gt;\r\n&lt;br&gt;\r\nFrameworks and Drivers:&lt;br&gt;\r\nNot sure what to think of this one. &quot;The web is a detail, the database is a detail...&quot; and the graphic contains &quot;UI&quot; in this Ring as well. Too much for my little head&lt;br&gt;\r\n&lt;br&gt;\r\nLets check the other &quot;asserts&quot;&lt;br&gt;\r\n*Independent of Frameworks. The architecture does not depend on the existence of some library of feature laden software. This allows you to use such frameworks as tools, rather than having to cram your system into their limited constraints.*&lt;br&gt;\r\nHm yeah well, if you run your own architecture that is what you get.&lt;br&gt;\r\n&lt;br&gt;\r\n*Testable. The business rules can be tested without the UI, Database, Web Server, or any other external element.*&lt;br&gt;\r\nAs in my approach model classes neither know about controllers or views nor about the message passing. One can test state consistency with just those classes alone.&lt;br&gt;\r\n&lt;br&gt;\r\n*Independent of UI. The UI can change easily, without changing the rest of the system. A Web UI could be replaced with a console UI, for example, without changing the business rules.*&lt;br&gt;\r\nAgain a bit overkill for android is it not? Independence yes. In my approach you can add or remove fragments as long as they do not require explicit handling somewhere higher up. But replacing a Web UI with a console UI and have the system run like before is a wet dream of architecture freaks. Some UI elements are integral part of the provided service. Of course i can easily swap the canvas drawing fragment for a console drawing fragment, or the classic photo fragment for a &#39;take picture with console&#39; fragment but that does not mean the application still works. Technically its fine in my approach. If you implement an ascii console video player you can render the videos there and no other part of the app will necessarily care. However it COULD be that the set of requests that the controller supports does not align well with the new console UI or that a Use Case is not designed for the order in which a video needs to be accessed via a console interface. The view is not always the unimportant presenting slave that many architecture gurus like to see it as.&lt;br&gt;\r\n&lt;br&gt;\r\n*Independent of Database. You can swap out Oracle or SQL Server, for Mongo, BigTable, CouchDB, or something else. Your business rules are not bound to the database.*&lt;br&gt;\r\nYeah, so? How is that directly related to your architecture? Use the right adapters and abstraction and you can have that in a hello world app.&lt;br&gt;\r\n&lt;br&gt;\r\n*Independent of any external agency. In fact your business rules simply don‚Äôt know anything at all about the outside world.*&lt;br&gt;\r\nSame here. If you want modularized independent code then write it. Hard to say anything specific about that. \r\n","title":"Clean Architecture: How to reflect the data layer&#39;s changes in the UI","body":"<p>This is my personal 5cents and maybe not closely enough related to your example of \"The Clean Architecure\".<br>\n<br>\nI usually try to force a kind of MVC upon androids activities and fragments and use publish/subscribe for communication. As components I have model classes that handle business logic and the data state. They data changing methods are only to be called by the controller classes which usually is the activity class and also handles session state. I use fragments to manage different view parts of the application and views under those fragments (obviously). All fragments subscribe to one or more topics. I use my own simple DataDistributionService which handles different topics, takes messages from registered publishers and relays them to all subscribers. (partly influenced by the OMGs DDS but MUCH MUCH more primitive) A simple application would only have a single topic e.g. \"Main\".<br>\n<br>\nEvery part of view interaction (touches etc) is handled by its fragment first. The fragment can potentially change a few things without sending notifications. E.g. switching the subrange of rendered data elements if the rest of the app does not need to know/react. Otherwise the fragment publishes a ViewRequest(...) containing the necessary parameters to the DDS.<br>\n<br>\nThe DDS broadcasts that message and at some point reaches a controller. This can simply be the main activity or a specific controller instance. There should be only ONE controller so that the request is only handled once. The controller basically has a long list of request handling code. When a request arrives the controller calls to the business logic in the model. The controller also handles other view related things like arranging the view (tabs) or starting dialogs for user input (overwrite file?) and other things that the model is not supposed to know about but influences (Throw new NoOverWritePermissionException())<br>\n<br>\nOnce the model changes are done the controller decides if an update notification has to be send. (usually it does). That way the model classes do not need to listen or send messages and only take care of busines logic and consistent state. The update notification ist broadcasted and received by the fragments which then run \"updateFromModel()\".<br>\n<br>\nEffects:<br>\nCommands are global. Any ViewRequest or other kind of request can be send from anywhere the DDS can be accessed. Fragments do not have to provide a listener class and no higher instance has to implement listeners for their instanced fragments. If a new fragment does not require new Requests it can be added without any change to controller classes.<br>\n<br>\nModel classes do not need to know about the communication at all. It can be hard enough to keep consistent state and handle all the data management. No message handling or session state handling is necessary. However the model might not be proteced against malicous calls from the view. But that is a general problem and cannot really be prevented if the model has to give out references at some point. If your app is fine with a model that only passes copies/flat data its possible. But at some point the ArrayAdapter simply needs access to the bitmaps he is supposed to draw in the gridview. If you cannot afford copies, you always have the risk of \"view makes a changing call to the model\". Different battlefield...<br>\n<br>\nUpdate calls might be too simple. If the update of a fragment is expensive (OpenGL fragment reloading textures...) you want to have more detailed update information. The controler COULD send a more detailed notification however it actually should not have to/be able to know what parts of the model exactly changed. Sending update notes from the model is ugly. Not only would the model have to implement messaging but it also gets very chaotic with mixed notifications. The controler can divide update notifications and others a bit by using topics. E.g. a specific topic for changes to your video resources. That way fragments can decide which topics they subscribe to. Other than that you want to have a model that can be queried for changed values. Timestamp etc. I have an app where the user draws shapes on canvas. They get rendered to bitmaps and are used as textures in an OpenGL view. I certainly don't want to reload textures everytime \"updateFromModel()\" is called in the GLViewFragment.<br>\n<br>\nDependency Rule:<br>\nProbably not respected all the time. If the controller handles a tab switch it can simply call \"seletTab()\" on a TabHost and therefore have a dependency to outer circles. You can turn it into a message but then it is still a logical dependency. If the controller part has to organize some elements of the view (show the image-editor-fragment-tab automatically after loading an image via the image-gallery-fragmen-tab) you cannot avoid dependencies completely. Maybe you can get it done by modelling viewstate and have your view parts organize themselves from viewstate.currentUseCase or smth like that. But if you need global control over the view of your app you will get problems with this dependency rule I'd say. What if you try to save some data and your model asks for overwrite permission? You need to create some kind of UI for that. Dependency again. You can send a message to the view and hope that a DialogFragment picks it up. If it exists in the extremely modular world described at your link.<br>\n<br>\nEntities:<br>\n are the model classes in my approach. That is pretty close to the link you provided.<br>\n<br>\nUse Cases:<br>\nI do not have those explicitly modelled for now. Atm I am working on editors for videogame assets. Drawing shapes in one fragment, applying shading values in another fragment, saving/loading in a galleryfragment, exporting to a texture atlas in another one ... stuff like that. I would add Use Cases as some kind of Request subset. Basically a Use Case as a set of rules which request in which order are allowed/required/expected/forbidden etc. I would build them like transactions so that a Use Case can keep progressing, can be finished, can be cancelled and maybe even rolled back. E.g. a Use Case would define the order of saving a fresh drawn image. Including posting a Dialog to ask for overwrite permission and roll back if permission is not give or time out is reached. But Use Cases are defined in many different ways. Some apps have a single Use Case for an hour of active user interaction, some apps have 50 Use Cases just to get money from an atm. ;)<br>\n<br>\nInterface Adapters:<br>\nHere it gets a bit complicated. To me this seems to be extremely high level for android apps. It states \"The Ring of Interface Adapters contains the whole MVC architecture of a GUI\". I cannot really wrap my head around that. Maybe you are building far more complicated apps than I do.<br>\n<br>\nFrameworks and Drivers:<br>\nNot sure what to think of this one. \"The web is a detail, the database is a detail...\" and the graphic contains \"UI\" in this Ring as well. Too much for my little head<br>\n<br>\nLets check the other \"asserts\"<br>\n<em>Independent of Frameworks. The architecture does not depend on the existence of some library of feature laden software. This allows you to use such frameworks as tools, rather than having to cram your system into their limited constraints.</em><br>\nHm yeah well, if you run your own architecture that is what you get.<br>\n<br>\n<em>Testable. The business rules can be tested without the UI, Database, Web Server, or any other external element.</em><br>\nAs in my approach model classes neither know about controllers or views nor about the message passing. One can test state consistency with just those classes alone.<br>\n<br>\n<em>Independent of UI. The UI can change easily, without changing the rest of the system. A Web UI could be replaced with a console UI, for example, without changing the business rules.</em><br>\nAgain a bit overkill for android is it not? Independence yes. In my approach you can add or remove fragments as long as they do not require explicit handling somewhere higher up. But replacing a Web UI with a console UI and have the system run like before is a wet dream of architecture freaks. Some UI elements are integral part of the provided service. Of course i can easily swap the canvas drawing fragment for a console drawing fragment, or the classic photo fragment for a 'take picture with console' fragment but that does not mean the application still works. Technically its fine in my approach. If you implement an ascii console video player you can render the videos there and no other part of the app will necessarily care. However it COULD be that the set of requests that the controller supports does not align well with the new console UI or that a Use Case is not designed for the order in which a video needs to be accessed via a console interface. The view is not always the unimportant presenting slave that many architecture gurus like to see it as.<br>\n<br>\n<em>Independent of Database. You can swap out Oracle or SQL Server, for Mongo, BigTable, CouchDB, or something else. Your business rules are not bound to the database.</em><br>\nYeah, so? How is that directly related to your architecture? Use the right adapters and abstraction and you can have that in a hello world app.<br>\n<br>\n<em>Independent of any external agency. In fact your business rules simply don‚Äôt know anything at all about the outside world.</em><br>\nSame here. If you want modularized independent code then write it. Hard to say anything specific about that. </p>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4370,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":32822506,"answer_count":2,"score":25,"last_activity_date":1677036004,"creation_date":1443260251,"question_id":32795712,"body_markdown":"I&#39;m trying to make a design based on the [Uncle Bob&#39;s Clean Architecture][1] in Android. \r\n\r\n**The problem:**\r\n\r\nI&#39;d like to solve is how to make the changes generated in one repository to be reflected in other parts of the app, like other repositories or Views.\r\n\r\n**The example**\r\n\r\nI&#39;ve designed a VERY simplified example for this example. Please notice that boundary interfaces has been removed to keep the diagrams small.\r\n\r\nImagine an app that shows a list of videos (with title, thumnail and like count), clicking a video you can see the detail (there you can like/dislike the video).\r\n\r\nAdditionally the app has an statistics system that counts the number of videos the user liked or disliked.\r\n\r\nThe main classes for this app could be:\r\n\r\n**For the Videos part/module:**\r\n[![enter image description here][2]][2]\r\n\r\n**For the Stats part/module:**\r\n[![enter image description here][3]][3]\r\n\r\n**The target**\r\n\r\nNow imagine you check your stats, then navigate the list of videos, open the detail of one, and click the like button.\r\n\r\nAfter the like is sent to the server, there are several elements of the apps that should be aware of the change:\r\n\r\n - Of course the detail view, should be updated with the changes (this can be made through callbacks so no problem)\r\n - The list of videos should update the &quot;likes&quot; count for the given video\r\n - The `StatsRepository` may want to update/invalidate the caches after voting a new video\r\n - If the list of stats is visible (imagine a split screen) it should also show the updated stats (or at least receive the event for re-query the data)\r\n\r\n**The Question**\r\n\r\nWhat are the common patterns to solve this kind of communication? \r\nPlease make your answer as complete as you can, specifying where the events are generated, how they get propagated though the app, etc.\r\n\r\n**Note:** Bounties will be given to complete answers\r\n\r\n  [1]: https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\r\n  [2]: http://i.stack.imgur.com/MPqTe.png\r\n  [3]: http://i.stack.imgur.com/uuxOc.png","title":"Clean Architecture: How to reflect the data layer&#39;s changes in the UI","body":"<p>I'm trying to make a design based on the <a href=\"https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"noreferrer\">Uncle Bob's Clean Architecture</a> in Android. </p>\n\n<p><strong>The problem:</strong></p>\n\n<p>I'd like to solve is how to make the changes generated in one repository to be reflected in other parts of the app, like other repositories or Views.</p>\n\n<p><strong>The example</strong></p>\n\n<p>I've designed a VERY simplified example for this example. Please notice that boundary interfaces has been removed to keep the diagrams small.</p>\n\n<p>Imagine an app that shows a list of videos (with title, thumnail and like count), clicking a video you can see the detail (there you can like/dislike the video).</p>\n\n<p>Additionally the app has an statistics system that counts the number of videos the user liked or disliked.</p>\n\n<p>The main classes for this app could be:</p>\n\n<p><strong>For the Videos part/module:</strong>\n<a href=\"https://i.stack.imgur.com/MPqTe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MPqTe.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>For the Stats part/module:</strong>\n<a href=\"https://i.stack.imgur.com/uuxOc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uuxOc.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The target</strong></p>\n\n<p>Now imagine you check your stats, then navigate the list of videos, open the detail of one, and click the like button.</p>\n\n<p>After the like is sent to the server, there are several elements of the apps that should be aware of the change:</p>\n\n<ul>\n<li>Of course the detail view, should be updated with the changes (this can be made through callbacks so no problem)</li>\n<li>The list of videos should update the \"likes\" count for the given video</li>\n<li>The <code>StatsRepository</code> may want to update/invalidate the caches after voting a new video</li>\n<li>If the list of stats is visible (imagine a split screen) it should also show the updated stats (or at least receive the event for re-query the data)</li>\n</ul>\n\n<p><strong>The Question</strong></p>\n\n<p>What are the common patterns to solve this kind of communication? \nPlease make your answer as complete as you can, specifying where the events are generated, how they get propagated though the app, etc.</p>\n\n<p><strong>Note:</strong> Bounties will be given to complete answers</p>\n"},{"tags":["java","android"],"owner":{"account_id":11677579,"reputation":1,"user_id":8550543,"display_name":"Mahesh Thorat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677035622,"creation_date":1677035622,"question_id":75527924,"body_markdown":"I am trying to convert PDF pages to Images. \r\n\r\n\r\n**Eg. Combining 2 PDF pages to single image like in any number of pages.**\r\n- 1 PDF page  = 1 Image\r\n- 2 PDF pages = 1 Image\r\n- 3 PDF pages = 2 Images\r\n- 4 PDF pages = 2 Images\r\n\r\n\r\n\r\nI am trying below code please have a look once\r\n\r\n```\r\nParcelFileDescriptor fileDescriptor = null;\r\ntry {\r\n    fileDescriptor = ParcelFileDescriptor.open(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;fuelinReport/&quot; + pdfname), MODE_READ_ONLY);\r\n} catch (FileNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\nPdfRenderer renderer = null;\r\ntry {\r\n    renderer = new PdfRenderer(fileDescriptor);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\nfinal int pageCount = renderer.getPageCount();\r\nBitmap bitmap1 = null, bitmap2 = null;\r\nBitmap mergedImages = null;\r\nint j = 1;\r\nfor (int i = 0; i &lt; pageCount; i++) {\r\n    PdfRenderer.Page page = renderer.openPage(i);\r\n    Bitmap bitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(),Bitmap.Config.ARGB_8888);\r\n    Canvas canvas = new Canvas(bitmap);\r\n    canvas.drawColor(Color.WHITE);\r\n    canvas.drawBitmap(bitmap, 0, 0, null);\r\n    page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n    page.close();\r\n    if(i%2==0)\r\n    {\r\n        bitmap1 = bitmap;\r\n    }\r\n    else if(i%2 == 1){\r\n        bitmap2 = bitmap;\r\n    }\r\n\r\n    int result = (int) Math.ceil((double)pageCount/2);\r\n    if(i%2 == 1 || i == pageCount) {\r\n        String root = Environment.getExternalStorageDirectory().toString();\r\n        String[] imagename = pdfname.split(&quot;.pdf&quot;);\r\n        File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;fuelinReport/&quot;  + imagename[0] + &quot;-&quot; + j + &quot;.png&quot;);\r\n\r\n        if (file.exists()) file.delete();\r\n        try {\r\n            if(bitmap2 != null)\r\n            {\r\n                mergedImages = createSingleImageFromMultipleImages(bitmap1, bitmap2);\r\n            }\r\n            else {\r\n                mergedImages = bitmap1;\r\n            }\r\n\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            mergedImages.compress(Bitmap.CompressFormat.PNG, 100, out);\r\n            Log.v(&quot;Saved Image - &quot;, file.getAbsolutePath());\r\n            out.flush();\r\n            out.close();\r\n            j++;\r\n            bitmap1 = null;\r\n            bitmap2 = null;\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if(i==pageCount) {\r\n            messageToUser(&quot;&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIssue in the below snippet I guess \r\n\r\n\r\n```\r\nFileOutputStream out = new FileOutputStream(file);\r\nmergedImages.compress(Bitmap.CompressFormat.PNG, 100, out);\r\n```\r\n","title":"Android Java Multiple Images not creating with PdfRenderer","body":"<p>I am trying to convert PDF pages to Images.</p>\n<p><strong>Eg. Combining 2 PDF pages to single image like in any number of pages.</strong></p>\n<ul>\n<li>1 PDF page  = 1 Image</li>\n<li>2 PDF pages = 1 Image</li>\n<li>3 PDF pages = 2 Images</li>\n<li>4 PDF pages = 2 Images</li>\n</ul>\n<p>I am trying below code please have a look once</p>\n<pre><code>ParcelFileDescriptor fileDescriptor = null;\ntry {\n    fileDescriptor = ParcelFileDescriptor.open(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;fuelinReport/&quot; + pdfname), MODE_READ_ONLY);\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\nPdfRenderer renderer = null;\ntry {\n    renderer = new PdfRenderer(fileDescriptor);\n} catch (IOException e) {\n    e.printStackTrace();\n}\nfinal int pageCount = renderer.getPageCount();\nBitmap bitmap1 = null, bitmap2 = null;\nBitmap mergedImages = null;\nint j = 1;\nfor (int i = 0; i &lt; pageCount; i++) {\n    PdfRenderer.Page page = renderer.openPage(i);\n    Bitmap bitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(),Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(bitmap);\n    canvas.drawColor(Color.WHITE);\n    canvas.drawBitmap(bitmap, 0, 0, null);\n    page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n    page.close();\n    if(i%2==0)\n    {\n        bitmap1 = bitmap;\n    }\n    else if(i%2 == 1){\n        bitmap2 = bitmap;\n    }\n\n    int result = (int) Math.ceil((double)pageCount/2);\n    if(i%2 == 1 || i == pageCount) {\n        String root = Environment.getExternalStorageDirectory().toString();\n        String[] imagename = pdfname.split(&quot;.pdf&quot;);\n        File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;fuelinReport/&quot;  + imagename[0] + &quot;-&quot; + j + &quot;.png&quot;);\n\n        if (file.exists()) file.delete();\n        try {\n            if(bitmap2 != null)\n            {\n                mergedImages = createSingleImageFromMultipleImages(bitmap1, bitmap2);\n            }\n            else {\n                mergedImages = bitmap1;\n            }\n\n            FileOutputStream out = new FileOutputStream(file);\n            mergedImages.compress(Bitmap.CompressFormat.PNG, 100, out);\n            Log.v(&quot;Saved Image - &quot;, file.getAbsolutePath());\n            out.flush();\n            out.close();\n            j++;\n            bitmap1 = null;\n            bitmap2 = null;\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if(i==pageCount) {\n            messageToUser(&quot;&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Issue in the below snippet I guess</p>\n<pre><code>FileOutputStream out = new FileOutputStream(file);\nmergedImages.compress(Bitmap.CompressFormat.PNG, 100, out);\n</code></pre>\n"},{"tags":["java","android","clean-architecture","system-design"],"answers":[{"tags":[],"owner":{"account_id":248705,"reputation":643,"user_id":524266,"accept_rate":88,"display_name":"Jaime Mendes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440526031,"creation_date":1440525201,"answer_id":32210855,"question_id":32210197,"body_markdown":"That&#39;s [Uncle Bob&#39;s Clean Architecture][1]. Fernando Cejas made a simplified example in Android but you should read the concepts from the original.\r\n\r\nFor your problem, what is actually your use case? Save the user with the books and the pages? You can do this, if is the requirements of the use case. Your entity User can have a collection of Books which in turn each book will have a collection of Pages and your UserRepository must be able to resolve each to its own table (or you can inject repositories to your own repositories, but in this case you must be able save all or rollback)\r\n\r\nCan you save a book only with just a user reference? Have a property that identifies the book&#39;s owner or pass it by argument to a UseCase for just the book.\r\n\r\n          public class SaveBookCase extends UseCase\r\n          {\r\n              public SaveBookCase(IBookRepository repository, Book book, int userId) \r\n              {\r\n              /// \r\n              }\r\n              \r\n              //or\r\n\r\n              public SaveBookCase(IBookRepository repository, SaveBookRequest request)\r\n              {\r\n              /// SaveBookRequest is a class that has the book and the user id\r\n              }\r\n          }\r\n\r\nRegarding your second bonus question, if you only have a list of PageBase than you must pass it to the usecase SavePages, which will resolve each item to the correct repository (in this case you will inject 2 repositories).\r\n\r\nBut in your example, it can be the same database entity with a field identifying if its left or right and in this scenario, use only one repository.\r\n\r\n\r\n  [1]: https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html","title":"How do you implement one to many relationships in Clean Architecture","body":"<p>That's <a href=\"https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow\">Uncle Bob's Clean Architecture</a>. Fernando Cejas made a simplified example in Android but you should read the concepts from the original.</p>\n\n<p>For your problem, what is actually your use case? Save the user with the books and the pages? You can do this, if is the requirements of the use case. Your entity User can have a collection of Books which in turn each book will have a collection of Pages and your UserRepository must be able to resolve each to its own table (or you can inject repositories to your own repositories, but in this case you must be able save all or rollback)</p>\n\n<p>Can you save a book only with just a user reference? Have a property that identifies the book's owner or pass it by argument to a UseCase for just the book.</p>\n\n<pre><code>      public class SaveBookCase extends UseCase\n      {\n          public SaveBookCase(IBookRepository repository, Book book, int userId) \n          {\n          /// \n          }\n\n          //or\n\n          public SaveBookCase(IBookRepository repository, SaveBookRequest request)\n          {\n          /// SaveBookRequest is a class that has the book and the user id\n          }\n      }\n</code></pre>\n\n<p>Regarding your second bonus question, if you only have a list of PageBase than you must pass it to the usecase SavePages, which will resolve each item to the correct repository (in this case you will inject 2 repositories).</p>\n\n<p>But in your example, it can be the same database entity with a field identifying if its left or right and in this scenario, use only one repository.</p>\n"}],"owner":{"account_id":400583,"reputation":1458,"user_id":766639,"accept_rate":62,"display_name":"MikeWallaceDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1677035154,"creation_date":1440523056,"question_id":32210197,"body_markdown":"I&#39;m having problems using Clean Architecture. For those of you who have read Fernando Cejas&#39; blog post\r\nhttp://fernandocejas.com/2014/09/03/architecting-android-the-clean-way/, my question is based on it, and his code.\r\n\r\nHis example project has only one Domain Object a User. And everything is clear with POJOs. Where I am having a problem is, let&#39;s say that the user has books. A one to many relationship. How would you deal with this in Clean Architecture?\r\n\r\nJust like him I have a few layers, so 3 classes per Domain Object (User, UserModel, UserEntity) and a repository per Domain Object (UserDataRepository).\r\nOur new example would also have Book, BookModel, BookEntity and BookDataRepository.\r\n\r\nI also have use case classes with CRUD variations.\r\n\r\nThe problem for me is at the UI/Presenter level. At this point in the program I have a UserModel object AND a list of BookModels. I do not have userModel.getBooks().  I do not have userModel.save() (which would save all the book changes too).\r\n\r\nTo accentuate the problem, to make this analogy look even more like my actual use case, I also have the list of all the pages in the books! :)  So when I save the User, I want to save to books, and all the pages for every book that might have been modified.\r\n\r\nHow would I go about this? \r\n\r\n\r\nSecond BONUS question : In my real world problem, I have classes that derive from a base class. To use the above analogy:  LeftPage and RightPage would derive from PageBase.  A Book has a list&lt;PageBase&gt;.  However LeftPage and RightPage both have their separate repositories, separate use cases, etc.  (But this doesn&#39;t work)    How do I save a list&lt;PageBase&gt; ??  Do I have to make a separate use case SavePages which would have a :\r\n\r\nif (pages.elementAt(i) instanceof LeftPage) {\r\n\tSaveLeftPage saveLeft = new.....\r\n}\r\nelse {\r\n\tSaveRightPage saveRight = new.....\r\n}\r\n\r\nI don&#39;t think that I can use Polymorphism because in all the documentation that I have seen, the Models don&#39;t know of the use cases.\r\n\r\nI hope that you can help, thank you very much for your time :)\r\n\r\n-MIke","title":"How do you implement one to many relationships in Clean Architecture","body":"<p>I'm having problems using Clean Architecture. For those of you who have read Fernando Cejas' blog post\n<a href=\"http://fernandocejas.com/2014/09/03/architecting-android-the-clean-way/\" rel=\"noreferrer\">http://fernandocejas.com/2014/09/03/architecting-android-the-clean-way/</a>, my question is based on it, and his code.</p>\n\n<p>His example project has only one Domain Object a User. And everything is clear with POJOs. Where I am having a problem is, let's say that the user has books. A one to many relationship. How would you deal with this in Clean Architecture?</p>\n\n<p>Just like him I have a few layers, so 3 classes per Domain Object (User, UserModel, UserEntity) and a repository per Domain Object (UserDataRepository).\nOur new example would also have Book, BookModel, BookEntity and BookDataRepository.</p>\n\n<p>I also have use case classes with CRUD variations.</p>\n\n<p>The problem for me is at the UI/Presenter level. At this point in the program I have a UserModel object AND a list of BookModels. I do not have userModel.getBooks().  I do not have userModel.save() (which would save all the book changes too).</p>\n\n<p>To accentuate the problem, to make this analogy look even more like my actual use case, I also have the list of all the pages in the books! :)  So when I save the User, I want to save to books, and all the pages for every book that might have been modified.</p>\n\n<p>How would I go about this? </p>\n\n<p>Second BONUS question : In my real world problem, I have classes that derive from a base class. To use the above analogy:  LeftPage and RightPage would derive from PageBase.  A Book has a list.  However LeftPage and RightPage both have their separate repositories, separate use cases, etc.  (But this doesn't work)    How do I save a list ??  Do I have to make a separate use case SavePages which would have a :</p>\n\n<p>if (pages.elementAt(i) instanceof LeftPage) {\n    SaveLeftPage saveLeft = new.....\n}\nelse {\n    SaveRightPage saveRight = new.....\n}</p>\n\n<p>I don't think that I can use Polymorphism because in all the documentation that I have seen, the Models don't know of the use cases.</p>\n\n<p>I hope that you can help, thank you very much for your time :)</p>\n\n<p>-MIke</p>\n"},{"tags":["java","math","fibonacci"],"comments":[{"owner":{"account_id":27846321,"reputation":21,"user_id":21261693,"display_name":"nobody"},"score":0,"creation_date":1677025552,"post_id":75527137,"comment_id":133255145,"body_markdown":"@khelwood I am summing up only every third number of the Fibonacci sequence so both 1s are skipped.","body":"@khelwood I am summing up only every third number of the Fibonacci sequence so both 1s are skipped."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1677025740,"post_id":75527137,"comment_id":133255177,"body_markdown":"Well if you were only adding even numbers there&#39;s no way you&#39;d get an odd total. How about you check which of the terms you&#39;re adding is odd?","body":"Well if you were only adding even numbers there&#39;s no way you&#39;d get an odd total. How about you check which of the terms you&#39;re adding is odd?"},{"owner":{"account_id":27846321,"reputation":21,"user_id":21261693,"display_name":"nobody"},"score":0,"creation_date":1677025855,"post_id":75527137,"comment_id":133255193,"body_markdown":"@khelwood that is a good point","body":"@khelwood that is a good point"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1677025975,"post_id":75527137,"comment_id":133255208,"body_markdown":"I would recommend using `double`, not `float`.  You&#39;ve shown those constants to more decimal places than a `float` can represent accurately, and Binet&#39;s formula is actually quite sensitive to inaccuracies in the values of these constants.","body":"I would recommend using <code>double</code>, not <code>float</code>.  You&#39;ve shown those constants to more decimal places than a <code>float</code> can represent accurately, and Binet&#39;s formula is actually quite sensitive to inaccuracies in the values of these constants."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677026744,"post_id":75527137,"comment_id":133255319,"body_markdown":"Reminder: real-world arithmetic and computer arithmetic are not the same thing.","body":"Reminder: real-world arithmetic and computer arithmetic are not the same thing."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677028230,"post_id":75527137,"comment_id":133255504,"body_markdown":"Another wee problem with your code - you&#39;re only adding up 11 Fibonacci numbers, but you&#39;re calculating 1.33 million of them, and just throwing away the result for most of them.  That means your code is 120k times slower than it needs to be.","body":"Another wee problem with your code - you&#39;re only adding up 11 Fibonacci numbers, but you&#39;re calculating 1.33 million of them, and just throwing away the result for most of them.  That means your code is 120k times slower than it needs to be."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677028456,"post_id":75527137,"comment_id":133255533,"body_markdown":"And lastly, I don&#39;t think the `- Math.pow(reciprocalGoldenRaio, nth)` part is going to change the result at all.  That term gets really small really fast, and your rounding will kill it completely anyway.","body":"And lastly, I don&#39;t think the <code>- Math.pow(reciprocalGoldenRaio, nth)</code> part is going to change the result at all.  That term gets really small really fast, and your rounding will kill it completely anyway."}],"answers":[{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677034569,"creation_date":1677027788,"answer_id":75527370,"question_id":75527137,"body_markdown":"You can change the floats to doubles and also use the built-in Math class.\r\n\r\nI think that double can store more decimals than float, since double stores 64 bits of information whereas float stores 32 bits of information.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\r\n\r\nIt is also the case that the static method Math.sqrt(n) returns a double, so it makes sense to use double.\r\n\r\nHere is a code example.\r\n\r\n    public class BinetsFormula {\r\n      \r\n        public int fib(int n) {\r\n            double a = (1 + Math.sqrt(5))/2;\r\n            double b = (1 - Math.sqrt(5))/2;\r\n            double c = (Math.pow(a, n) - Math.pow(b, n))/Math.sqrt(5);\r\n            return (int) c;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            BinetsFormula formula = new BinetsFormula();\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                if (i &lt; 19)\r\n                    System.out.print(formula.fib(i) + &quot; &quot;);\r\n                else if (i == 19) \r\n                    System.out.println(formula.fib(i));\r\n            }\r\n        }\r\n    }\r\n\r\nThe above code prints out the first 20 fibonacci numbers.\r\n\r\nNow we can get the sum of all even fibonacci numbers less than 4,000,000.\r\n\r\n    public class BinetsFormula {\r\n     \r\n        private final double sqrt5 = Math.sqrt(5);\r\n        private final double a = (1 + sqrt5)/2;\r\n        private final double b = (1 - sqrt5)/2;\r\n    \r\n        public long fib(int n) {\r\n            return Math.round((Math.pow(a, n) - Math.pow(b, n))/sqrt5);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            BinetsFormula formula = new BinetsFormula();\r\n            int n = 0;\r\n            long f = 0;\r\n            long sum = 0;\r\n            long max = 4000000;\r\n            while ((f = formula.fib(n)) &lt; max) {\r\n                if (f % 2 == 0)\r\n                    sum += f;\r\n                n++;\r\n            }\r\n            System.out.printf(&quot;Sum: %d\\n&quot;, sum);\r\n        }\r\n    }\r\n\r\nThe second example is optimized. \r\n\r\nI created the constants sqrt5, a, and b so that these computations are only performed once.","title":"Sum of Fibonacci Sequence off by a value of 1","body":"<p>You can change the floats to doubles and also use the built-in Math class.</p>\n<p>I think that double can store more decimals than float, since double stores 64 bits of information whereas float stores 32 bits of information.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n<p>It is also the case that the static method Math.sqrt(n) returns a double, so it makes sense to use double.</p>\n<p>Here is a code example.</p>\n<pre><code>public class BinetsFormula {\n  \n    public int fib(int n) {\n        double a = (1 + Math.sqrt(5))/2;\n        double b = (1 - Math.sqrt(5))/2;\n        double c = (Math.pow(a, n) - Math.pow(b, n))/Math.sqrt(5);\n        return (int) c;\n    }\n\n    public static void main(String[] args) {\n        BinetsFormula formula = new BinetsFormula();\n        for (int i = 0; i &lt; 20; i++) {\n            if (i &lt; 19)\n                System.out.print(formula.fib(i) + &quot; &quot;);\n            else if (i == 19) \n                System.out.println(formula.fib(i));\n        }\n    }\n}\n</code></pre>\n<p>The above code prints out the first 20 fibonacci numbers.</p>\n<p>Now we can get the sum of all even fibonacci numbers less than 4,000,000.</p>\n<pre><code>public class BinetsFormula {\n \n    private final double sqrt5 = Math.sqrt(5);\n    private final double a = (1 + sqrt5)/2;\n    private final double b = (1 - sqrt5)/2;\n\n    public long fib(int n) {\n        return Math.round((Math.pow(a, n) - Math.pow(b, n))/sqrt5);\n    }\n\n    public static void main(String[] args) {\n        BinetsFormula formula = new BinetsFormula();\n        int n = 0;\n        long f = 0;\n        long sum = 0;\n        long max = 4000000;\n        while ((f = formula.fib(n)) &lt; max) {\n            if (f % 2 == 0)\n                sum += f;\n            n++;\n        }\n        System.out.printf(&quot;Sum: %d\\n&quot;, sum);\n    }\n}\n</code></pre>\n<p>The second example is optimized.</p>\n<p>I created the constants sqrt5, a, and b so that these computations are only performed once.</p>\n"}],"owner":{"account_id":27846321,"reputation":21,"user_id":21261693,"display_name":"nobody"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75527370,"answer_count":1,"score":0,"last_activity_date":1677034569,"creation_date":1677025081,"question_id":75527137,"body_markdown":"I have a code to calculate the sum of all even numbers of the Fibonacci Sequence less than 4,000,000.\r\n\r\n```java\r\n/*\r\n  Through the use of Binet&#39;s formula for the Fibonacci Sequence and the fact\r\n  that every third number of the sequence is an even number.\r\n*/\r\n\r\nimport java.lang.Math.*;\r\n\r\npublic class Optimised002 {\r\n  public static void main(String[] args) {\r\n    long sum = 0;\r\n    for (int i = 0; i &lt; 4_000_000; i += 3) {\r\n      long number = binetsFormula(i);\r\n      if (number &lt; 4_000_000L) {\r\n        sum += number;\r\n      }\r\n    }\r\n    System.out.println(sum);\r\n  }\r\n\r\n  public static float sqrt5 = 2.2360679775f;\r\n  public static float goldenRatio = 1.61803398875f;\r\n  public static float reciprocalGoldenRaio = -0.61803398875f;\r\n\r\n  public static long binetsFormula(int nth) {\r\n    return Math.round((Math.pow(goldenRatio, nth) - Math.pow(reciprocalGoldenRaio, nth)) / sqrt5);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\nThe correct answer that I had obtained through bruteforce previously is 4613732, for this method I am obtaining the sum of 4613733: off by a value of 1. Maybe its because of sqrt5 or goldenRatio not being precise enough or some computers being bad at maths sort of thing: I have no idea why. Insights are greatly appreciated.","title":"Sum of Fibonacci Sequence off by a value of 1","body":"<p>I have a code to calculate the sum of all even numbers of the Fibonacci Sequence less than 4,000,000.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n  Through the use of Binet's formula for the Fibonacci Sequence and the fact\n  that every third number of the sequence is an even number.\n*/\n\nimport java.lang.Math.*;\n\npublic class Optimised002 {\n  public static void main(String[] args) {\n    long sum = 0;\n    for (int i = 0; i &lt; 4_000_000; i += 3) {\n      long number = binetsFormula(i);\n      if (number &lt; 4_000_000L) {\n        sum += number;\n      }\n    }\n    System.out.println(sum);\n  }\n\n  public static float sqrt5 = 2.2360679775f;\n  public static float goldenRatio = 1.61803398875f;\n  public static float reciprocalGoldenRaio = -0.61803398875f;\n\n  public static long binetsFormula(int nth) {\n    return Math.round((Math.pow(goldenRatio, nth) - Math.pow(reciprocalGoldenRaio, nth)) / sqrt5);\n  }\n}\n</code></pre>\n<p>The correct answer that I had obtained through bruteforce previously is 4613732, for this method I am obtaining the sum of 4613733: off by a value of 1. Maybe its because of sqrt5 or goldenRatio not being precise enough or some computers being bad at maths sort of thing: I have no idea why. Insights are greatly appreciated.</p>\n"},{"tags":["java","enums","mapstruct"],"comments":[{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1656578297,"post_id":72812190,"comment_id":128608805,"body_markdown":"`statusToState(Status status)` should return a State? am i wrong?","body":"<code>statusToState(Status status)</code> should return a State? am i wrong?"}],"answers":[{"tags":[],"owner":{"account_id":9891936,"reputation":388,"user_id":7324645,"display_name":"Another coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677034448,"creation_date":1656578360,"answer_id":72812733,"question_id":72812190,"body_markdown":"You can get rid of `StatusMapper` and instead of  `EntityMapper` you can use the following interface.\r\n\r\n```\r\nimport com.package.domain.Domain;\r\nimport com.package.entity.Entity;\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.springframework.core.convert.converter.Converter;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface EntityToDomainConverter extends Converter&lt;Entity, Domain&gt; {\r\n\r\n    @Mapping(source = &quot;state&quot;, target = &quot;status&quot;)\r\n    Domain convert(Entity source);\r\n}\r\n```\r\nThe generated class will look like\r\n```\r\nimport com.package.domain.Domain;\r\nimport com.package.entity.Entity;\r\nimport com.package.State;\r\nimport com.package.Status;\r\nimport javax.annotation.Generated;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-06-30TXX:XX:XX+YYYY&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 16.0.2 (Homebrew)&quot;\r\n)\r\n@Component\r\npublic class EntityToDomainConverterImpl implements EntityToDomainConverter {\r\n\r\n    @Override\r\n    public Domain convert(Entity source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        Domain domain = new Domain();\r\n\r\n        domain.setStatus( stateToStatus( source.getState() ) );\r\n        domain.setName( source.getName() );\r\n\r\n        return domain;\r\n    }\r\n\r\n    protected Status stateToStatus(State state) {\r\n        if ( state == null ) {\r\n            return null;\r\n        }\r\n\r\n        Status status;\r\n\r\n        switch ( state ) {\r\n            case PENDING: status = Status.PENDING;\r\n            break;\r\n            case CANCELLED: status = Status.CANCELLED;\r\n            break;\r\n            default: throw new IllegalArgumentException( &quot;Unexpected enum constant: &quot; + state );\r\n        }\r\n\r\n        return status;\r\n    }\r\n}\r\n```\r\n","title":"How to map Enum attribute into an Enum of another type with Mapstruct - Java","body":"<p>You can get rid of <code>StatusMapper</code> and instead of  <code>EntityMapper</code> you can use the following interface.</p>\n<pre><code>import com.package.domain.Domain;\nimport com.package.entity.Entity;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.springframework.core.convert.converter.Converter;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface EntityToDomainConverter extends Converter&lt;Entity, Domain&gt; {\n\n    @Mapping(source = &quot;state&quot;, target = &quot;status&quot;)\n    Domain convert(Entity source);\n}\n</code></pre>\n<p>The generated class will look like</p>\n<pre><code>import com.package.domain.Domain;\nimport com.package.entity.Entity;\nimport com.package.State;\nimport com.package.Status;\nimport javax.annotation.Generated;\nimport org.springframework.stereotype.Component;\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-06-30TXX:XX:XX+YYYY&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 16.0.2 (Homebrew)&quot;\n)\n@Component\npublic class EntityToDomainConverterImpl implements EntityToDomainConverter {\n\n    @Override\n    public Domain convert(Entity source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Domain domain = new Domain();\n\n        domain.setStatus( stateToStatus( source.getState() ) );\n        domain.setName( source.getName() );\n\n        return domain;\n    }\n\n    protected Status stateToStatus(State state) {\n        if ( state == null ) {\n            return null;\n        }\n\n        Status status;\n\n        switch ( state ) {\n            case PENDING: status = Status.PENDING;\n            break;\n            case CANCELLED: status = Status.CANCELLED;\n            break;\n            default: throw new IllegalArgumentException( &quot;Unexpected enum constant: &quot; + state );\n        }\n\n        return status;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13363912,"reputation":399,"user_id":9644899,"display_name":"Henimbola Tsihala Andrianatoan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72812733,"answer_count":1,"score":1,"last_activity_date":1677034448,"creation_date":1656575797,"question_id":72812190,"body_markdown":"I have two similar enums used respectively in Domain and Entity class.\r\nHere is an Example :\r\n\r\n***Classes***\r\n\r\n```\r\npublic class Entity {\r\n   String name;\r\n   State state;\r\n}\r\n```\r\n\r\n```\r\npublic class Domain {\r\n   String name;\r\n   Status status;\r\n}\r\n```\r\n\r\n```\r\npublic enum Status {\r\n   PENDING,\r\n   CANCELLED\r\n}\r\n```\r\n```\r\npublic enum State {\r\n   PENDING,\r\n   CANCELLED\r\n}\r\n```\r\n\r\n**Mappers**\r\n```\r\npublic interface StatusMapper {\r\n   public Status statusToState(Status status);\r\n}\r\n```\r\n```\r\npublic interface EntityMapper {\r\n   public Domain EntityToDomain(Entity entity);\r\n}\r\n```\r\n\r\nWhat do I have to do if I want to know how to map Entity to Domain so that :\r\n```\r\nEntity { name: &quot;Name&quot;, state: &quot;PENDING&quot; } \r\n```\r\nbecomes and maps into :\r\n```\r\nDomain { name: &quot;Name&quot;, status: &quot;PENDING&quot; }\r\n```\r\n\r\nYou can see here that State and Status are the same. I have tested it but status becomes null when mapping Entity to Domain.\r\n\r\nThanks for your answers.","title":"How to map Enum attribute into an Enum of another type with Mapstruct - Java","body":"<p>I have two similar enums used respectively in Domain and Entity class.\nHere is an Example :</p>\n<p><em><strong>Classes</strong></em></p>\n<pre><code>public class Entity {\n   String name;\n   State state;\n}\n</code></pre>\n<pre><code>public class Domain {\n   String name;\n   Status status;\n}\n</code></pre>\n<pre><code>public enum Status {\n   PENDING,\n   CANCELLED\n}\n</code></pre>\n<pre><code>public enum State {\n   PENDING,\n   CANCELLED\n}\n</code></pre>\n<p><strong>Mappers</strong></p>\n<pre><code>public interface StatusMapper {\n   public Status statusToState(Status status);\n}\n</code></pre>\n<pre><code>public interface EntityMapper {\n   public Domain EntityToDomain(Entity entity);\n}\n</code></pre>\n<p>What do I have to do if I want to know how to map Entity to Domain so that :</p>\n<pre><code>Entity { name: &quot;Name&quot;, state: &quot;PENDING&quot; } \n</code></pre>\n<p>becomes and maps into :</p>\n<pre><code>Domain { name: &quot;Name&quot;, status: &quot;PENDING&quot; }\n</code></pre>\n<p>You can see here that State and Status are the same. I have tested it but status becomes null when mapping Entity to Domain.</p>\n<p>Thanks for your answers.</p>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677034072,"creation_date":1677034072,"answer_id":75527799,"question_id":75527616,"body_markdown":"This is beyond the scope of what Karate is designed for, but I think the solution is to do a Maven &quot;shade&quot;: https://maven.apache.org/plugins/maven-shade-plugin/\r\n\r\nThis will create a fat-jar where you can ensure the Karate &quot;main&quot; method (or any one you choose) is in the right place.\r\n\r\nOr maybe you don&#39;t need to do even that, you can refer to any class within the JAR by NOT using `-jar` and using `-cp` instead. You will find an explanation here: https://stackoverflow.com/a/56458094/143475\r\n\r\nI think that will get you a solution.\r\n\r\nAlso refer to this if it has some hints: https://stackoverflow.com/a/58339662/143475","title":"How can I build karate, with my custom class to implement HttpLogModifier, into a stand-alone jar?","body":"<p>This is beyond the scope of what Karate is designed for, but I think the solution is to do a Maven &quot;shade&quot;: <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/</a></p>\n<p>This will create a fat-jar where you can ensure the Karate &quot;main&quot; method (or any one you choose) is in the right place.</p>\n<p>Or maybe you don't need to do even that, you can refer to any class within the JAR by NOT using <code>-jar</code> and using <code>-cp</code> instead. You will find an explanation here: <a href=\"https://stackoverflow.com/a/56458094/143475\">https://stackoverflow.com/a/56458094/143475</a></p>\n<p>I think that will get you a solution.</p>\n<p>Also refer to this if it has some hints: <a href=\"https://stackoverflow.com/a/58339662/143475\">https://stackoverflow.com/a/58339662/143475</a></p>\n"}],"owner":{"account_id":2732436,"reputation":81,"user_id":14662876,"display_name":"Jon Detert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677034072,"creation_date":1677031225,"question_id":75527616,"body_markdown":"I want to run karate as a stand-alone executable or jar, telling it what feature(s) to run via the command-line.\r\n\r\nHowever, I need to build my own executable or jar, because I need to implement the HttpLogModifier interface in order to apply custom [log masking](https://github.com/karatelabs/karate#log-masking).\r\n\r\nThe [documentation](https://github.com/karatelabs/karate/blob/master/README.md) tells me:\r\n* I can download a [stand-alone executable](https://github.com/karatelabs/karate/tree/master/karate-netty), or\r\n* I can run karate as a [stand-alone jar](https://github.com/karatelabs/karate/tree/master/karate-netty#standalone-jar),\r\n* but it doesn&#39;t tell me how to build my own executable or stand-alone jar.\r\n\r\nHere&#39;s what I did:\r\n1. followed the [Quickstart](https://github.com/karatelabs/karate/blob/master/README.md#quickstart) documentation to create a maven archetype project.\r\n1. deleted the example features and .java files.\r\n1. created a java package with my implementation of HttpLogModifier.\r\n1. here is what my directory structure looked like:\r\n```\r\n$ ls -R .\r\npom.xml src\r\n\r\n./src:\r\ntest\r\n\r\n./src/test:\r\njava\r\n\r\n./src/test/java:\r\nheaders          karate-config.js logback-test.xml\r\n\r\n./src/test/java/headers:\r\nDemoLogModifier.java\r\n$\r\n```\r\n\r\nI ran mvn clean, compile, test, and install and then tried to run my feature file, using the genarated jar file and giving the path to my feature file:\r\n```\r\n$ java -jar aca-karate-1.0-SNAPSHOT.jar -m ~/aca/lab/karate/karate-poc/fldfin-view.feature\r\nno main manifest attribute, in aca-karate-1.0-SNAPSHOT.jar\r\n$\r\n```\r\nbut as you can see the jar doesn&#39;t have a main method.\r\n\r\nI tried another way, but it also did not work:\r\n```\r\n$ java -cp aca-karate-1.0-SNAPSHOT.jar com.intuit.karate.Main -m ~/aca/lab/karate/karate-poc/fldfin-view.feature\r\nError: Could not find or load main class com.intuit.karate.Main\r\n$\r\n```\r\nI&#39;m guessing I need to add a java class file that implements Main, but I have no idea what to name it, where to put it, or what its contents should be.\r\n\r\nThanks for your reading and whatever help you lend.","title":"How can I build karate, with my custom class to implement HttpLogModifier, into a stand-alone jar?","body":"<p>I want to run karate as a stand-alone executable or jar, telling it what feature(s) to run via the command-line.</p>\n<p>However, I need to build my own executable or jar, because I need to implement the HttpLogModifier interface in order to apply custom <a href=\"https://github.com/karatelabs/karate#log-masking\" rel=\"nofollow noreferrer\">log masking</a>.</p>\n<p>The <a href=\"https://github.com/karatelabs/karate/blob/master/README.md\" rel=\"nofollow noreferrer\">documentation</a> tells me:</p>\n<ul>\n<li>I can download a <a href=\"https://github.com/karatelabs/karate/tree/master/karate-netty\" rel=\"nofollow noreferrer\">stand-alone executable</a>, or</li>\n<li>I can run karate as a <a href=\"https://github.com/karatelabs/karate/tree/master/karate-netty#standalone-jar\" rel=\"nofollow noreferrer\">stand-alone jar</a>,</li>\n<li>but it doesn't tell me how to build my own executable or stand-alone jar.</li>\n</ul>\n<p>Here's what I did:</p>\n<ol>\n<li>followed the <a href=\"https://github.com/karatelabs/karate/blob/master/README.md#quickstart\" rel=\"nofollow noreferrer\">Quickstart</a> documentation to create a maven archetype project.</li>\n<li>deleted the example features and .java files.</li>\n<li>created a java package with my implementation of HttpLogModifier.</li>\n<li>here is what my directory structure looked like:</li>\n</ol>\n<pre><code>$ ls -R .\npom.xml src\n\n./src:\ntest\n\n./src/test:\njava\n\n./src/test/java:\nheaders          karate-config.js logback-test.xml\n\n./src/test/java/headers:\nDemoLogModifier.java\n$\n</code></pre>\n<p>I ran mvn clean, compile, test, and install and then tried to run my feature file, using the genarated jar file and giving the path to my feature file:</p>\n<pre><code>$ java -jar aca-karate-1.0-SNAPSHOT.jar -m ~/aca/lab/karate/karate-poc/fldfin-view.feature\nno main manifest attribute, in aca-karate-1.0-SNAPSHOT.jar\n$\n</code></pre>\n<p>but as you can see the jar doesn't have a main method.</p>\n<p>I tried another way, but it also did not work:</p>\n<pre><code>$ java -cp aca-karate-1.0-SNAPSHOT.jar com.intuit.karate.Main -m ~/aca/lab/karate/karate-poc/fldfin-view.feature\nError: Could not find or load main class com.intuit.karate.Main\n$\n</code></pre>\n<p>I'm guessing I need to add a java class file that implements Main, but I have no idea what to name it, where to put it, or what its contents should be.</p>\n<p>Thanks for your reading and whatever help you lend.</p>\n"},{"tags":["java","command-line","command-line-arguments"],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1677033733,"creation_date":1286327459,"answer_id":3868882,"question_id":3868878,"body_markdown":"The arguments can never be `null`.  They just won&#39;t exist.\r\n\r\nIn other words, what you need to do is check the length of your arguments.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  // Check how many arguments were passed in\r\n  if (args.length == 0) {\r\n    System.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n    System.exit(0);\r\n  }\r\n}\r\n```","title":"Java: Check if command line arguments are null","body":"<p>The arguments can never be <code>null</code>.  They just won't exist.</p>\n<p>In other words, what you need to do is check the length of your arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  // Check how many arguments were passed in\n  if (args.length == 0) {\n    System.out.println(&quot;Proper Usage is: java program filename&quot;);\n    System.exit(0);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213882,"reputation":11,"user_id":467519,"display_name":"Puspendu Banerjee"},"down_vote_count":11,"up_vote_count":1,"is_accepted":false,"score":-10,"last_activity_date":1288262397,"creation_date":1286334797,"answer_id":3869272,"question_id":3868878,"body_markdown":"If you don&#39;t pass any argument then even in that case args gets initialized but without any item/element.\r\nTry the following one, you will get the **same effect**:\r\n\r\n&lt;pre&gt;&lt;code&gt; \r\npublic static void main(String[] args) throws InterruptedException {\r\n        String [] dummy= new String [] {};\r\n        if(dummy[0] == null)\r\n        {\r\n            System.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n    }\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"Java: Check if command line arguments are null","body":"<p>If you don't pass any argument then even in that case args gets initialized but without any item/element.\nTry the following one, you will get the <strong>same effect</strong>:</p>\n\n<pre><code> \npublic static void main(String[] args) throws InterruptedException {\n        String [] dummy= new String [] {};\n        if(dummy[0] == null)\n        {\n            System.out.println(\"Proper Usage is: java program filename\");\n            System.exit(0);\n        }\n\n    }\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1519997236,"creation_date":1286334803,"answer_id":3869273,"question_id":3868878,"body_markdown":"@jjnguy&#39;s answer is correct in most circumstances.  You won&#39;t ever see a `null` String in the argument array (or a `null` array) if `main` is called by running the application is run from the command line in the normal way.  \r\n\r\nHowever, if some other part of the application calls a `main` method, it is conceivable that it might pass a `null` argument or `null` argument array.\r\n\r\nHowever(2), this is clearly a highly unusual use-case, *and* it is an egregious violation of the implied contract for a `main` entry-point method.  Therefore, I don&#39;t think you should bother checking for `null` argument values in `main`.  In the unlikely event that they do occur, it is acceptable for the calling code to get a `NullPointerException`.  After all, it is a bug in the caller to violate the contract.","title":"Java: Check if command line arguments are null","body":"<p>@jjnguy's answer is correct in most circumstances.  You won't ever see a <code>null</code> String in the argument array (or a <code>null</code> array) if <code>main</code> is called by running the application is run from the command line in the normal way.  </p>\n\n<p>However, if some other part of the application calls a <code>main</code> method, it is conceivable that it might pass a <code>null</code> argument or <code>null</code> argument array.</p>\n\n<p>However(2), this is clearly a highly unusual use-case, <em>and</em> it is an egregious violation of the implied contract for a <code>main</code> entry-point method.  Therefore, I don't think you should bother checking for <code>null</code> argument values in <code>main</code>.  In the unlikely event that they do occur, it is acceptable for the calling code to get a <code>NullPointerException</code>.  After all, it is a bug in the caller to violate the contract.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1288227829,"creation_date":1288227829,"answer_id":4038930,"question_id":3868878,"body_markdown":"You should check for `(args == null || args.length == 0)`. Although the `null` check isn&#39;t really needed, it is a good practice.","title":"Java: Check if command line arguments are null","body":"<p>You should check for <code>(args == null || args.length == 0)</code>. Although the <code>null</code> check isn't really needed, it is a good practice.</p>\n"},{"tags":[],"owner":{"account_id":1164579,"reputation":129,"user_id":1143472,"display_name":"Sean Crouse"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1351228288,"creation_date":1326294887,"answer_id":8821644,"question_id":3868878,"body_markdown":"To expand upon this point:\r\n\r\nIt is possible that the args variable itself will be null, but not via normal execution.  Normal execution will use `java.exe` as the entry point from the command line.  However, I have seen some programs that use compiled `C++` code with JNI to use the `jvm.dll`, bypassing the java.exe entirely.  In this case, it is possible to pass `NULL` to the main method, in which case args will be null.\r\n\r\nI recommend always checking `if ((args == null) || (args.length == 0))`, or `if ((args != null) &amp;&amp; (args.length &gt; 0))` depending on your need.","title":"Java: Check if command line arguments are null","body":"<p>To expand upon this point:</p>\n\n<p>It is possible that the args variable itself will be null, but not via normal execution.  Normal execution will use <code>java.exe</code> as the entry point from the command line.  However, I have seen some programs that use compiled <code>C++</code> code with JNI to use the <code>jvm.dll</code>, bypassing the java.exe entirely.  In this case, it is possible to pass <code>NULL</code> to the main method, in which case args will be null.</p>\n\n<p>I recommend always checking <code>if ((args == null) || (args.length == 0))</code>, or <code>if ((args != null) &amp;&amp; (args.length &gt; 0))</code> depending on your need.</p>\n"},{"tags":[],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603208232,"creation_date":1603208232,"answer_id":64448556,"question_id":3868878,"body_markdown":"if i want to check if any speicfic position of command line arguement is passed or not then how to check?\r\nlike for example\r\nin some scenarios 2 command line args will be passed and in some only one will be passed then how do it check wheather the specfic commnad line is passed or not?\r\n\r\n    public class check {\r\n    \r\n    public static void main(String[] args) {\r\n    if(args[0].length()!=0)\r\n    {\r\n    System.out.println(&quot;entered first if&quot;);\r\n    }\r\n    if(args[0].length()!=0 &amp;&amp; args[1].length()!=0)\r\n    {\r\n    System.out.println(&quot;entered second if&quot;);\r\n    }\r\n    }\r\n    }\r\n\r\nSo in the above code if args[1] is not passed then i get java.lang.ArrayIndexOutOfBoundsException:\r\n\r\nso how do i tackle this where i can check if second arguement is passed or not and if passed then enter it.\r\nneed assistance asap.","title":"Java: Check if command line arguments are null","body":"<p>if i want to check if any speicfic position of command line arguement is passed or not then how to check?\nlike for example\nin some scenarios 2 command line args will be passed and in some only one will be passed then how do it check wheather the specfic commnad line is passed or not?</p>\n<pre><code>public class check {\n\npublic static void main(String[] args) {\nif(args[0].length()!=0)\n{\nSystem.out.println(&quot;entered first if&quot;);\n}\nif(args[0].length()!=0 &amp;&amp; args[1].length()!=0)\n{\nSystem.out.println(&quot;entered second if&quot;);\n}\n}\n}\n</code></pre>\n<p>So in the above code if args[1] is not passed then i get java.lang.ArrayIndexOutOfBoundsException:</p>\n<p>so how do i tackle this where i can check if second arguement is passed or not and if passed then enter it.\nneed assistance asap.</p>\n"}],"owner":{"account_id":190952,"reputation":4016,"user_id":431203,"accept_rate":89,"display_name":"Bobby S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207059,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":3868882,"answer_count":6,"score":99,"last_activity_date":1677033733,"creation_date":1286327388,"question_id":3868878,"body_markdown":"I am looking to do some error checking for my command line arguments\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tif(args[0] == null)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Proper Usage is: java program filename&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nHowever, this returns an array out of bounds exception, which makes sense.  I am just looking for the proper usage.\r\n","title":"Java: Check if command line arguments are null","body":"<p>I am looking to do some error checking for my command line arguments</p>\n\n<pre><code>public static void main(String[] args)\n{\n    if(args[0] == null)\n    {\n        System.out.println(\"Proper Usage is: java program filename\");\n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>However, this returns an array out of bounds exception, which makes sense.  I am just looking for the proper usage.</p>\n"},{"tags":["java","android","repository","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":6178465,"reputation":124,"user_id":4814697,"accept_rate":25,"display_name":"jam01"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474872626,"creation_date":1474872626,"answer_id":39696375,"question_id":37058892,"body_markdown":"I&#39;d recommend you read up on Aggregates.\r\n\r\nBasically you should only have Repositories for objects that are considered aggregates. An aggregate is an object that can always stand alone and make sense, it contains one or more objects. In your case, even with not a lot of information, I&#39;d say that you have 2 aggregates: user, and device. User is a thing that always makes sense and doesn&#39;t need device or cost to make sense. Cost on the other hand doesn&#39;t make sense without the thing that it is a cost for, therefore the aggregate would be device which has a cost. In practice this means that you have 2 Repositories, one for retrieving users and one for retrieving devices which come wirh costs.\r\n\r\nAgain, since there&#39;s not a lot of information it could very well be that in your application devices don&#39;t make sense without a user so your aggregate would just be user and when you add/retrieve one you get a user that has devices that have a cost. Or all objects could make sense on their own in which case you would have 3 Repositories but I doubt that&#39;s the case. ","title":"Clean architecture interactor implementation","body":"<p>I'd recommend you read up on Aggregates.</p>\n\n<p>Basically you should only have Repositories for objects that are considered aggregates. An aggregate is an object that can always stand alone and make sense, it contains one or more objects. In your case, even with not a lot of information, I'd say that you have 2 aggregates: user, and device. User is a thing that always makes sense and doesn't need device or cost to make sense. Cost on the other hand doesn't make sense without the thing that it is a cost for, therefore the aggregate would be device which has a cost. In practice this means that you have 2 Repositories, one for retrieving users and one for retrieving devices which come wirh costs.</p>\n\n<p>Again, since there's not a lot of information it could very well be that in your application devices don't make sense without a user so your aggregate would just be user and when you add/retrieve one you get a user that has devices that have a cost. Or all objects could make sense on their own in which case you would have 3 Repositories but I doubt that's the case. </p>\n"}],"owner":{"account_id":8147119,"reputation":1,"user_id":6135461,"display_name":"Montreal Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677033317,"creation_date":1462476910,"question_id":37058892,"body_markdown":"I&#39;m trying to separate each layer with Android Clean Arch. I follow the project from https://github.com/dmilicic/Android-Clean-Boilerplate, and Uncle-Bob&#39;s article/code. For now, I didn&#39;t use RxJava, Dragger, etc. just dbflow orm database. Don&#39;t want make a mess now. \r\n\r\nThere are several data repositories&#39; interface in domain for storage implementation. For each kind of data, there are several methods like insert/add, delete, update, getXXXByXX etc. In the example code, it&#39;s just User or Cost repository, and for each data, eg. User has three files(implementation) in interactor.\r\n\r\ninteractor:\r\nDefaultSubscriber\r\nGetUserDetails\r\nGetUserList\r\nUseCase\r\n\r\nrepository:\r\nUserRepository\r\n\r\nSuppose there are User, Cost, Device such three repositories, and in interactor there will be 3X4--12 methods files. If there&#39;s way to reduce files and make one repository&#39;s methods into one Impl file like UserOps which involves methods? Or any other recommendation.","title":"Clean architecture interactor implementation","body":"<p>I'm trying to separate each layer with Android Clean Arch. I follow the project from <a href=\"https://github.com/dmilicic/Android-Clean-Boilerplate\" rel=\"nofollow\">https://github.com/dmilicic/Android-Clean-Boilerplate</a>, and Uncle-Bob's article/code. For now, I didn't use RxJava, Dragger, etc. just dbflow orm database. Don't want make a mess now. </p>\n\n<p>There are several data repositories' interface in domain for storage implementation. For each kind of data, there are several methods like insert/add, delete, update, getXXXByXX etc. In the example code, it's just User or Cost repository, and for each data, eg. User has three files(implementation) in interactor.</p>\n\n<p>interactor:\nDefaultSubscriber\nGetUserDetails\nGetUserList\nUseCase</p>\n\n<p>repository:\nUserRepository</p>\n\n<p>Suppose there are User, Cost, Device such three repositories, and in interactor there will be 3X4--12 methods files. If there's way to reduce files and make one repository's methods into one Impl file like UserOps which involves methods? Or any other recommendation.</p>\n"},{"tags":["java","spring","singleton"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1677030100,"post_id":75527265,"comment_id":133255736,"body_markdown":"yes by defaultÔºÅ","body":"yes by defaultÔºÅ"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1677033434,"post_id":75527265,"comment_id":133256156,"body_markdown":"Here&#39;s a good overview of the different bean scopes (https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes).  You&#39;ll notice that `Singleton` is the default.","body":"Here&#39;s a good overview of the different bean scopes (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html&zwnj;&#8203;/&hellip;</a>).  You&#39;ll notice that <code>Singleton</code> is the default."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677033193,"creation_date":1677030899,"answer_id":75527590,"question_id":75527265,"body_markdown":"Yes! by default,\r\n\r\nTry this code:\r\n\r\nthe service:\r\n\r\n    @Service\r\n    public class SomeService() {\r\n        public int num;\r\n    }\r\n\r\nthe controller1: \r\n\r\n    @RestController\r\n    public class SomeController {\r\n        private final SomeService someService;\r\n        public SomeController(SomeService someService){\r\n            this.someService = someService;\r\n            someService.num++;\r\n            System.out.println(someService.num);\r\n        }\r\n    }\r\n\r\nthe controller2:\r\n\r\n    @RestController\r\n    public class AnotherController {\r\n        private final SomeService someService;\r\n        public SomeController(SomeService someService){\r\n            this.someService = someService;\r\n            someService.num++;\r\n            System.out.println(someService.num);\r\n        }\r\n    }\r\n\r\n\r\nput `@Scope(&quot;prototype&quot;)` on service can make service not be  Singleton","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>Yes! by default,</p>\n<p>Try this code:</p>\n<p>the service:</p>\n<pre><code>@Service\npublic class SomeService() {\n    public int num;\n}\n</code></pre>\n<p>the controller1:</p>\n<pre><code>@RestController\npublic class SomeController {\n    private final SomeService someService;\n    public SomeController(SomeService someService){\n        this.someService = someService;\n        someService.num++;\n        System.out.println(someService.num);\n    }\n}\n</code></pre>\n<p>the controller2:</p>\n<pre><code>@RestController\npublic class AnotherController {\n    private final SomeService someService;\n    public SomeController(SomeService someService){\n        this.someService = someService;\n        someService.num++;\n        System.out.println(someService.num);\n    }\n}\n</code></pre>\n<p>put <code>@Scope(&quot;prototype&quot;)</code> on service can make service not be  Singleton</p>\n"},{"tags":[],"owner":{"account_id":16198126,"reputation":31,"user_id":11695193,"display_name":"lamic Zo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677031069,"creation_date":1677030935,"answer_id":75527594,"question_id":75527265,"body_markdown":"yes,the default bean scope is Singleton in Spring,and Singleton means the two [someService] is the same ,you can print their hashCode and check.and may be you need this https://www.baeldung.com/spring-bean-scopes","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>yes,the default bean scope is Singleton in Spring,and Singleton means the two [someService] is the same ,you can print their hashCode and check.and may be you need this <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bean-scopes</a></p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527590,"answer_count":2,"score":0,"last_activity_date":1677033193,"creation_date":1677026544,"question_id":75527265,"body_markdown":"I have a little confusion or doubt, for example if I have the service:\r\n\r\n    @Service\r\n    public class SomeService() {\r\n    }\r\n\r\nAnd then I have a controller like so:\r\n\r\n        @RestController\r\n        public class SomeController {\r\n          private final SomeService someService;\r\n          public SomeController(SomeService someService){\r\n          this.someService = someService;\r\n          }\r\n        }\r\n\r\nAnd then I have another controller like:\r\n\r\n        @RestController\r\n        public class AnotherController {\r\n          private final SomeService someService;\r\n          public AnotherController(SomeService someService){\r\n          this.someService = someService;\r\n          }\r\n        }\r\n\r\n\r\nSince Spring works with Singleton then I assume that the instance of someService that is at SomeController is the same that is at AnotherController right?","title":"Does Spring inject the same instance of a service into multiple components that use it?","body":"<p>I have a little confusion or doubt, for example if I have the service:</p>\n<pre><code>@Service\npublic class SomeService() {\n}\n</code></pre>\n<p>And then I have a controller like so:</p>\n<pre><code>    @RestController\n    public class SomeController {\n      private final SomeService someService;\n      public SomeController(SomeService someService){\n      this.someService = someService;\n      }\n    }\n</code></pre>\n<p>And then I have another controller like:</p>\n<pre><code>    @RestController\n    public class AnotherController {\n      private final SomeService someService;\n      public AnotherController(SomeService someService){\n      this.someService = someService;\n      }\n    }\n</code></pre>\n<p>Since Spring works with Singleton then I assume that the instance of someService that is at SomeController is the same that is at AnotherController right?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677007045,"post_id":75524939,"comment_id":133250996,"body_markdown":"You probably want to set `spring.datasource.url` in application.properties.","body":"You probably want to set <code>spring.datasource.url</code> in application.properties."},{"owner":{"account_id":27844763,"reputation":1,"user_id":21260481,"display_name":"rohan patel"},"score":0,"creation_date":1677014432,"post_id":75524939,"comment_id":133253008,"body_markdown":"I already have added spring.datasource.url","body":"I already have added spring.datasource.url"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677033191,"creation_date":1677033191,"answer_id":75527740,"question_id":75524939,"body_markdown":"one of possible the cause problem is that  may  has some other``` DataSourceAutoConfig```, first of all ,chekout out your ```dependency``` ,ensure there no extra ``` DataSourceAutoConfig```. if you wont use database ,it is recommanded exclude all of them which ```DataSourceAutoCOnfig Dependency``` in your applicationÔºõ\r\nand more stack error log  that can be verrrry useful for  troubleshooting the cause of  error .","title":"Spring Boot error@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"<p>one of possible the cause problem is that  may  has some other<code> DataSourceAutoConfig</code>, first of all ,chekout out your <code>dependency</code> ,ensure there no extra <code> DataSourceAutoConfig</code>. if you wont use database ,it is recommanded exclude all of them which <code>DataSourceAutoCOnfig Dependency</code> in your applicationÔºõ\nand more stack error log  that can be verrrry useful for  troubleshooting the cause of  error .</p>\n"}],"owner":{"account_id":27844763,"reputation":1,"user_id":21260481,"display_name":"rohan patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677033191,"creation_date":1677006799,"question_id":75524939,"body_markdown":"    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-21 14:07:24.292 ERROR 81885 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\n\r\nI tried to run the program using dependencies","title":"Spring Boot error@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-02-21 14:07:24.292 ERROR 81885 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I tried to run the program using dependencies</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication","clean-architecture"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638651993,"post_id":70229081,"comment_id":124146446,"body_markdown":"&quot;the AuthStateChangeListener needs to be in the oncreate of my files&quot; There is nothing in Firebase that specific requires this. Why can&#39;t you put them in the separate class? What happens when you do that? Can you show a [minimal repro](http://stackoverflow.com/help/mcve) of *that* problem?","body":"&quot;the AuthStateChangeListener needs to be in the oncreate of my files&quot; There is nothing in Firebase that specific requires this. Why can&#39;t you put them in the separate class? What happens when you do that? Can you show a <a href=\"http://stackoverflow.com/help/mcve\">minimal repro</a> of <i>that</i> problem?"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1638652953,"post_id":70229081,"comment_id":124146622,"body_markdown":"You have started with a highly coupled example. You are better off following some architecture like MVVM, MVP, MVC - The former being adopted by jetpack architecture. It might make more sense to setup the architecture first rather than trying to refactor to a this highly coupled code.","body":"You have started with a highly coupled example. You are better off following some architecture like MVVM, MVP, MVC - The former being adopted by jetpack architecture. It might make more sense to setup the architecture first rather than trying to refactor to a this highly coupled code."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638863747,"post_id":70229081,"comment_id":124194328,"body_markdown":"If you are interested in implementing a clean architecture, you might consider reading this article, [How to handle Firebase Authentication in clean architecture using Jetpack Compose?](https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8) or [How to create a clean Firebase authentication using MVVM?](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336).","body":"If you are interested in implementing a clean architecture, you might consider reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">How to handle Firebase Authentication in clean architecture using Jetpack Compose?</a> or <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">How to create a clean Firebase authentication using MVVM?</a>."}],"owner":{"account_id":11697714,"reputation":11,"user_id":8563896,"display_name":"Pierre junior Sarrailh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677032542,"creation_date":1638648484,"question_id":70229081,"body_markdown":"Hi I want to implement clean architecture while using the realtime database but is seems that it is impossible to seperate the database from the my account screen class. Ideally I would want a DatabaseManager class that would handle all database operation (getting reading and posting to the db) but it seems that because the AuthStateChangeListener needs to be in the oncreate of my files it can&#39;t work. Does anyone know of any work-arounds? Here is the code I am using this on:\r\n\r\n   \r\n    public class CreateAccountScreen extends AppCompatActivity {\r\n\r\n    private Button mRegister;\r\n    private EditText mEmail, mPassword, mCPassword, mName;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener firebaseAuthStateListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.create_account);\r\n        \r\n        //------------------------------------------------------\r\n        //I would want to put this in a seperate class \r\n        //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n        //------------------------------------------------------\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (user !=null){\r\n                    Intent intent = new Intent(CreateAccountScreen.this, HomeScreen.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n        //-----------------------------------------------------\r\n        //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        //I would want this in a seperate class\r\n        //------------------------------------------------------\r\n\r\n        mRegister = (Button) findViewById(R.id.goSignIn2);\r\n\r\n        mEmail = (EditText) findViewById(R.id.username3);\r\n        mPassword = (EditText) findViewById(R.id.password2);\r\n        mCPassword = (EditText) findViewById(R.id.password3);\r\n        mName = (EditText) findViewById(R.id.username2);\r\n\r\n        mRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final String email = mEmail.getText().toString();\r\n                final String password = mPassword.getText().toString();\r\n                final String cPassword = mCPassword.getText().toString();\r\n                final String name = mName.getText().toString();\r\n                if (name.equals(&quot;&quot;) || password.equals(&quot;&quot;) || email.equals(&quot;&quot;) || !password.equals(cPassword)) {\r\n                    Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                //------------------------------------------------------\r\n                //I would want to also put this in a seperate class \r\n                //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n                //------------------------------------------------------\r\n                //DatabaseManager.createUser(email, password, name, CreateAccountScreen.this);\r\n                mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(CreateAccountScreen.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(!task.isSuccessful()) {\r\n                            Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\r\n                        }else{\r\n                            String userId = mAuth.getCurrentUser().getUid();\r\n                            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId);\r\n                            DatabaseReference currentUserDb2 = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId).child(&quot;connections&quot;).child(&quot;no&quot;).child(userId);\r\n                            Map userInfo = new HashMap&lt;&gt;();\r\n                            userInfo.put(&quot;name&quot;, name);\r\n                            userInfo.put(&quot;profileImageUrl&quot;, &quot;default&quot;);\r\n                            currentUserDb2.setValue(true);\r\n                            currentUserDb.updateChildren(userInfo);\r\n\r\n\r\n\r\n                        }\r\n                    }\r\n                });\r\n                //-----------------------------------------------------\r\n                //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n                //I would want this in a seperate class\r\n                //------------------------------------------------------\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"implementing clean architecture with realtime Firebase in AndroidStudio","body":"<p>Hi I want to implement clean architecture while using the realtime database but is seems that it is impossible to seperate the database from the my account screen class. Ideally I would want a DatabaseManager class that would handle all database operation (getting reading and posting to the db) but it seems that because the AuthStateChangeListener needs to be in the oncreate of my files it can't work. Does anyone know of any work-arounds? Here is the code I am using this on:</p>\n<pre><code>public class CreateAccountScreen extends AppCompatActivity {\n\nprivate Button mRegister;\nprivate EditText mEmail, mPassword, mCPassword, mName;\n\nprivate FirebaseAuth mAuth;\nprivate FirebaseAuth.AuthStateListener firebaseAuthStateListener;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState){\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    setContentView(R.layout.create_account);\n    \n    //------------------------------------------------------\n    //I would want to put this in a seperate class \n    //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n    //------------------------------------------------------\n    mAuth = FirebaseAuth.getInstance();\n    firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n            if (user !=null){\n                Intent intent = new Intent(CreateAccountScreen.this, HomeScreen.class);\n                startActivity(intent);\n                finish();\n                return;\n            }\n        }\n    };\n    //-----------------------------------------------------\n    //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    //I would want this in a seperate class\n    //------------------------------------------------------\n\n    mRegister = (Button) findViewById(R.id.goSignIn2);\n\n    mEmail = (EditText) findViewById(R.id.username3);\n    mPassword = (EditText) findViewById(R.id.password2);\n    mCPassword = (EditText) findViewById(R.id.password3);\n    mName = (EditText) findViewById(R.id.username2);\n\n    mRegister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            final String email = mEmail.getText().toString();\n            final String password = mPassword.getText().toString();\n            final String cPassword = mCPassword.getText().toString();\n            final String name = mName.getText().toString();\n            if (name.equals(&quot;&quot;) || password.equals(&quot;&quot;) || email.equals(&quot;&quot;) || !password.equals(cPassword)) {\n                Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n            //------------------------------------------------------\n            //I would want to also put this in a seperate class \n            //VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n            //------------------------------------------------------\n            //DatabaseManager.createUser(email, password, name, CreateAccountScreen.this);\n            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(CreateAccountScreen.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(!task.isSuccessful()) {\n                        Toast.makeText(CreateAccountScreen.this, &quot;sign up error&quot;, Toast.LENGTH_SHORT).show();\n                    }else{\n                        String userId = mAuth.getCurrentUser().getUid();\n                        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId);\n                        DatabaseReference currentUserDb2 = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userId).child(&quot;connections&quot;).child(&quot;no&quot;).child(userId);\n                        Map userInfo = new HashMap&lt;&gt;();\n                        userInfo.put(&quot;name&quot;, name);\n                        userInfo.put(&quot;profileImageUrl&quot;, &quot;default&quot;);\n                        currentUserDb2.setValue(true);\n                        currentUserDb.updateChildren(userInfo);\n\n\n\n                    }\n                }\n            });\n            //-----------------------------------------------------\n            //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            //I would want this in a seperate class\n            //------------------------------------------------------\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-viewmodel","android-mvvm"],"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677032245,"creation_date":1677032245,"question_id":75527678,"body_markdown":"I have the following line of code:\r\n\r\n`ViewModelProvider.Factory factory = ViewModelProvider.AndroidViewModelFactory(requireActivity().getApplication());`\r\n\r\nwhich is presenting as an error saying that AndroidViewModelFactory is not a `Factory` despite `AndroidViewModelFactory` inheriting from `NewInstanceFactory` which implements `Factory`. My guess of why this error is showing up is that under the hood `AndroidViewModelFactory`&#39;s constructor that inherits from `NewInstanceFactory` is private for some compatibility reason, and the constructor I&#39;m using [inherits from that private constructor](https://github.com/androidx/androidx/blob/644ad6b0a7d1eb61b89ac9d804e8d4622d0074d6/lifecycle/lifecycle-viewmodel/src/main/java/androidx/lifecycle/ViewModelProvider.kt#L252-L275). Anyone know how I can fix or suppress this issue? ","title":"AndroidViewModelFactory incorrect type warning","body":"<p>I have the following line of code:</p>\n<p><code>ViewModelProvider.Factory factory = ViewModelProvider.AndroidViewModelFactory(requireActivity().getApplication());</code></p>\n<p>which is presenting as an error saying that AndroidViewModelFactory is not a <code>Factory</code> despite <code>AndroidViewModelFactory</code> inheriting from <code>NewInstanceFactory</code> which implements <code>Factory</code>. My guess of why this error is showing up is that under the hood <code>AndroidViewModelFactory</code>'s constructor that inherits from <code>NewInstanceFactory</code> is private for some compatibility reason, and the constructor I'm using <a href=\"https://github.com/androidx/androidx/blob/644ad6b0a7d1eb61b89ac9d804e8d4622d0074d6/lifecycle/lifecycle-viewmodel/src/main/java/androidx/lifecycle/ViewModelProvider.kt#L252-L275\" rel=\"nofollow noreferrer\">inherits from that private constructor</a>. Anyone know how I can fix or suppress this issue?</p>\n"},{"tags":["java","keystore","jce","ibm-jdk"],"owner":{"account_id":13799479,"reputation":74,"user_id":9959786,"display_name":"priyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677032026,"creation_date":1629710572,"question_id":68890159,"body_markdown":"I am trying to load JCKES keystore which is using SunJCE provider in my application which is running IBM JDK 8 (power linux).\r\n\r\nTo enable my application to load keystore, I have done below steps:\r\n- Extracted sun package from oracle jdk&#39;s rt.jar, created sun.jar with extracted package and added sun.jar in IBM JDK lib ext folder. \r\n- Copied sunjce_provider jar from oracle JDK to IBM JDK lib ext folder. \r\n- Sun jars are taken from oracle JDK installed on windows.\r\n- Added com.sun.crypto.provider.SunJCE provider in java.security file of IBM JDK.\r\n\r\n**Please let me know what more changes are needed to load the keystore.**\r\n\r\n*Here is the code which is trying to load the keystore:*\r\n```    \r\n    File file = new File(keystorelocation);\r\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n    FileInputStream is = new FileInputStream(file);\r\n    ks.load(is, password);\r\n```\r\n\r\nHowever, my application fails to start with error:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: Class com/sun/crypto/provider/SunJCE illegally accessing &quot;package private&quot; member of class sun/security/provider/SunEntries\r\n    at com.sun.crypto.provider.SunJCE.putEntries(SunJCE.java:128)\r\n    at com.sun.crypto.provider.SunJCE.&lt;init&gt;(SunJCE.java:111)\r\n    at java.lang.J9VMInternals.newInstanceImpl(Native Method)\r\n    at java.lang.Class.newInstance(Class.java:2038)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:233)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:218)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\r\n```\r\nIf I remove SunJCE provider entry from java.security file, application starts successfully, but I get below error while trying to load keystore:\r\n```\r\nInvalid secret key format\r\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\r\n    at java.security.KeyStore.load(KeyStore.java:1456)\r\n```\r\n\r\nAnd If I do not add any Sun jars in IBM JDK, I get below error while trying to load keystore:\r\n```\r\njava.io.IOException: com.sun.crypto.provider.SealedObjectForKeyProtector\r\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\r\n    at java.security.KeyStore.load(KeyStore.java:1456)\r\n```\r\nThanks!\r\n","title":"Load JCKES keystore using SunJCE provider on IBM JDK","body":"<p>I am trying to load JCKES keystore which is using SunJCE provider in my application which is running IBM JDK 8 (power linux).</p>\n<p>To enable my application to load keystore, I have done below steps:</p>\n<ul>\n<li>Extracted sun package from oracle jdk's rt.jar, created sun.jar with extracted package and added sun.jar in IBM JDK lib ext folder.</li>\n<li>Copied sunjce_provider jar from oracle JDK to IBM JDK lib ext folder.</li>\n<li>Sun jars are taken from oracle JDK installed on windows.</li>\n<li>Added com.sun.crypto.provider.SunJCE provider in java.security file of IBM JDK.</li>\n</ul>\n<p><strong>Please let me know what more changes are needed to load the keystore.</strong></p>\n<p><em>Here is the code which is trying to load the keystore:</em></p>\n<pre><code>    File file = new File(keystorelocation);\n    KeyStore ks = KeyStore.getInstance(&quot;JCEKS&quot;);\n    FileInputStream is = new FileInputStream(file);\n    ks.load(is, password);\n</code></pre>\n<p>However, my application fails to start with error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: Class com/sun/crypto/provider/SunJCE illegally accessing &quot;package private&quot; member of class sun/security/provider/SunEntries\n    at com.sun.crypto.provider.SunJCE.putEntries(SunJCE.java:128)\n    at com.sun.crypto.provider.SunJCE.&lt;init&gt;(SunJCE.java:111)\n    at java.lang.J9VMInternals.newInstanceImpl(Native Method)\n    at java.lang.Class.newInstance(Class.java:2038)\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:233)\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:218)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n</code></pre>\n<p>If I remove SunJCE provider entry from java.security file, application starts successfully, but I get below error while trying to load keystore:</p>\n<pre><code>Invalid secret key format\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\n    at java.security.KeyStore.load(KeyStore.java:1456)\n</code></pre>\n<p>And If I do not add any Sun jars in IBM JDK, I get below error while trying to load keystore:</p>\n<pre><code>java.io.IOException: com.sun.crypto.provider.SealedObjectForKeyProtector\n    at com.ibm.crypto.provider.JceKeyStore.engineLoad(Unknown Source)\n    at java.security.KeyStore.load(KeyStore.java:1456)\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","flutter","java-home","flutter-doctor"],"comments":[{"owner":{"account_id":15047923,"reputation":33,"user_id":10860442,"display_name":"Mahan"},"score":0,"creation_date":1676066329,"post_id":75416453,"comment_id":133069994,"body_markdown":"Before this, I installed **Java version 17** and this problem did not exist in this version, but I had problems building the project with that version of Java.","body":"Before this, I installed <b>Java version 17</b> and this problem did not exist in this version, but I had problems building the project with that version of Java."}],"answers":[{"tags":[],"owner":{"account_id":27846809,"reputation":21,"user_id":21262100,"display_name":"03 11"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677031839,"creation_date":1677031839,"answer_id":75527653,"question_id":75416453,"body_markdown":"1„ÄÅUncheck Android SDK command-line Tools (latest)\r\n2„ÄÅCheck Android SDK command-line Tools 8.0\r\n3„ÄÅClick Apply\r\nIn Windows, go to ‚ÄúC:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools‚Äù and rename the 8.0 folder to ‚Äúlatest‚Äù\r\n4„ÄÅRun Flutter doctor again.","title":"Flutter doctor --android-licenses error: A JNI error has occurred, please check your installation and try again","body":"<p>1„ÄÅUncheck Android SDK command-line Tools (latest)\n2„ÄÅCheck Android SDK command-line Tools 8.0\n3„ÄÅClick Apply\nIn Windows, go to ‚ÄúC:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk\\cmdline-tools‚Äù and rename the 8.0 folder to ‚Äúlatest‚Äù\n4„ÄÅRun Flutter doctor again.</p>\n"}],"owner":{"account_id":15047923,"reputation":33,"user_id":10860442,"display_name":"Mahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677031839,"creation_date":1676065997,"question_id":75416453,"body_markdown":"I set **JAVA_HOME** and install **android SDK command-line Tools** but I still get an error\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\n```\r\nThis is my **```java -version```**:\r\n```\r\njava version &quot;1.8.0_351&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\r\n```\r\nThis is my **```javac -version```**:\r\n```\r\njavac 1.8.0_351\r\n```\r\n\r\nI also add ```C:\\Program Files\\Java\\jdk1.8.0_351\\bin``` in **```path```** on Environment","title":"Flutter doctor --android-licenses error: A JNI error has occurred, please check your installation and try again","body":"<p>I set <strong>JAVA_HOME</strong> and install <strong>android SDK command-line Tools</strong> but I still get an error</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\n</code></pre>\n<p>This is my <strong><code>java -version</code></strong>:</p>\n<pre><code>java version &quot;1.8.0_351&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\n</code></pre>\n<p>This is my <strong><code>javac -version</code></strong>:</p>\n<pre><code>javac 1.8.0_351\n</code></pre>\n<p>I also add <code>C:\\Program Files\\Java\\jdk1.8.0_351\\bin</code> in <strong><code>path</code></strong> on Environment</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634734482,"post_id":69646277,"comment_id":123104298,"body_markdown":"Some plugin probably can&#39;t handle JDK17 compiled classes yet. Wait a while and use an eralier JDK for now.","body":"Some plugin probably can&#39;t handle JDK17 compiled classes yet. Wait a while and use an eralier JDK for now."},{"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"score":0,"creation_date":1634735729,"post_id":69646277,"comment_id":123104903,"body_markdown":"Unfortunately after I change Gradle&#39;s JDK to 16 and I set compileOptions to VERSION_16 I still get the same error. I use Gradle 7.2 and Gradle Plugin 7.0.3 which should be fine according to [compatibility](https://docs.gradle.org/current/userguide/compatibility.html). Any idea how I can solve it?","body":"Unfortunately after I change Gradle&#39;s JDK to 16 and I set compileOptions to VERSION_16 I still get the same error. I use Gradle 7.2 and Gradle Plugin 7.0.3 which should be fine according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility</a>. Any idea how I can solve it?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634735849,"post_id":69646277,"comment_id":123104953,"body_markdown":"Again: the problem is almost certainly not gradle itself, but some of the android-related plugins. If you get the **same** error message (including the class version number), then you probably just need to clean and re-build.","body":"Again: the problem is almost certainly not gradle itself, but some of the android-related plugins. If you get the <b>same</b> error message (including the class version number), then you probably just need to clean and re-build."},{"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"score":0,"creation_date":1634743505,"post_id":69646277,"comment_id":123108853,"body_markdown":"I tried cleaning + rebuilding on JDK16 but still the same error. Can I even use this dependency with JDK &lt; 17? @5377037 What code should I provide? My build.gradle?","body":"I tried cleaning + rebuilding on JDK16 but still the same error. Can I even use this dependency with JDK &lt; 17? @5377037 What code should I provide? My build.gradle?"},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1634744726,"post_id":69646277,"comment_id":123109357,"body_markdown":"Yes try to minimal code according to stackoverflow guidelines or if possible share your debugging details.","body":"Yes try to minimal code according to stackoverflow guidelines or if possible share your debugging details."},{"owner":{"account_id":4973700,"reputation":1935,"user_id":4000694,"accept_rate":50,"display_name":"HappyCactus"},"score":0,"creation_date":1634843733,"post_id":69646277,"comment_id":123142817,"body_markdown":"I had the same issue today, OpenJDK 18 and Gradle 7.0.2. Upgrading Gradle to 7.2 just fixed the issue.","body":"I had the same issue today, OpenJDK 18 and Gradle 7.0.2. Upgrading Gradle to 7.2 just fixed the issue."}],"answers":[{"tags":[],"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675744054,"creation_date":1642057763,"answer_id":70692657,"question_id":69646277,"body_markdown":"As per the [docs][1], JDK 17 isn&#39;t supported yet in Android Studio. Actually, [JDK 11 was supported starting from version 4.2][2] which was released in April 2021.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases\r\n  [2]: https://developer.android.com/studio/past-releases/past-android-studio-releases/as-4-2-0-release-notes#4.2-bundled-jdk-11","title":"Android Studio and JDK17","body":"<p>As per the <a href=\"https://developer.android.com/studio/releases\" rel=\"nofollow noreferrer\">docs</a>, JDK 17 isn't supported yet in Android Studio. Actually, <a href=\"https://developer.android.com/studio/past-releases/past-android-studio-releases/as-4-2-0-release-notes#4.2-bundled-jdk-11\" rel=\"nofollow noreferrer\">JDK 11 was supported starting from version 4.2</a> which was released in April 2021.</p>\n"},{"tags":[],"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1675685649,"creation_date":1670105191,"answer_id":74671130,"question_id":69646277,"body_markdown":"Perhaps you can try **Android Studio Flamingo | 2022.2.1**. It&#39;s still in Beta at the time of writing but JDK 17 is bundled into it as the default according to the [release notes][1].\r\n\r\n&gt; Starting from Android Studio Flamingo Canary 3, the Studio IDE is bundled with JDK 17. If Android Studio is configured to use the embedded JDK, new projects will use the latest stable version of the Android Gradle plugin and JDK 17. However, existing projects might break, and you might have to manually set the JDK to a compatible version.\r\n\r\n  [1]: https://developer.android.com/studio/preview/features/#jdk-17","title":"Android Studio and JDK17","body":"<p>Perhaps you can try <strong>Android Studio Flamingo | 2022.2.1</strong>. It's still in Beta at the time of writing but JDK 17 is bundled into it as the default according to the <a href=\"https://developer.android.com/studio/preview/features/#jdk-17\" rel=\"noreferrer\">release notes</a>.</p>\n<blockquote>\n<p>Starting from Android Studio Flamingo Canary 3, the Studio IDE is bundled with JDK 17. If Android Studio is configured to use the embedded JDK, new projects will use the latest stable version of the Android Gradle plugin and JDK 17. However, existing projects might break, and you might have to manually set the JDK to a compatible version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4567341,"reputation":76,"user_id":3708027,"display_name":"Clayton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677031350,"creation_date":1677031350,"answer_id":75527624,"question_id":69646277,"body_markdown":"Android 14, Upside Down cake will contain Java 17 features. According to https://www.xda-developers.com/android-14/, these classes should be available to older devices as well.","title":"Android Studio and JDK17","body":"<p>Android 14, Upside Down cake will contain Java 17 features. According to <a href=\"https://www.xda-developers.com/android-14/\" rel=\"nofollow noreferrer\">https://www.xda-developers.com/android-14/</a>, these classes should be available to older devices as well.</p>\n"}],"owner":{"account_id":21456373,"reputation":141,"user_id":15807930,"display_name":"DiZZie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22658,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1677031350,"creation_date":1634734133,"question_id":69646277,"body_markdown":"I&#39;ve been trying to use this [API][1] in Android Studio via Gradle, but when I build my project it throws Unsupported class file major version 61.\r\n\r\nFrom what I&#39;ve researched it&#39;s because I use JDK version 17 and Gradle does not yet support it, but in the API it&#39;s stated that it requires Java 17. Is there any way I could still use this API in Android Studio?\r\n\r\nSorry if this is a newbie question but I&#39;m fairly new to Android.\r\n\r\n\r\n  [1]: https://github.com/tors42/chariot","title":"Android Studio and JDK17","body":"<p>I've been trying to use this <a href=\"https://github.com/tors42/chariot\" rel=\"noreferrer\">API</a> in Android Studio via Gradle, but when I build my project it throws Unsupported class file major version 61.</p>\n<p>From what I've researched it's because I use JDK version 17 and Gradle does not yet support it, but in the API it's stated that it requires Java 17. Is there any way I could still use this API in Android Studio?</p>\n<p>Sorry if this is a newbie question but I'm fairly new to Android.</p>\n"},{"tags":["java","download","p2"],"comments":[{"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"score":0,"creation_date":1406747479,"post_id":25045003,"comment_id":38955334,"body_markdown":"Any other API exists for downloading Huge Files ?","body":"Any other API exists for downloading Huge Files ?"},{"owner":{"account_id":469838,"reputation":6333,"user_id":876686,"accept_rate":82,"display_name":"tier1"},"score":1,"creation_date":1406747646,"post_id":25045003,"comment_id":38955440,"body_markdown":"What is your actual question or what is not working about this code?","body":"What is your actual question or what is not working about this code?"},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1406747765,"post_id":25045003,"comment_id":38955504,"body_markdown":"Call `flush()` on your `FileOutputStream` and then `close()` it.","body":"Call <code>flush()</code> on your <code>FileOutputStream</code> and then <code>close()</code> it."}],"answers":[{"tags":[],"owner":{"account_id":3694211,"reputation":299,"user_id":3076069,"accept_rate":90,"display_name":"Rakesh Sharma"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1406747804,"creation_date":1406747804,"answer_id":25045101,"question_id":25045003,"body_markdown":"Firstly,\r\nI&#39;d suggest you use:\r\n\r\n    FileInputStream in = new FileInputStream(file);  \r\n\r\n \r\n\r\ninstead of:\r\n\r\n    BufferedInputStream in = new BufferedInputStream(new FileInputStream(file));\r\n\r\n(To avoid building up memory usage)\r\n\r\n    try\r\n    {\r\n        FileInputStream fileInputStream  = new FileInputStream(file);\r\n        byte[] buf=new byte[8192];\r\n        int bytesread = 0, bytesBuffered = 0;\r\n        while( (bytesread = fileInputStream.read( buf )) &gt; -1 ) {\r\n            out.write( buf, 0, bytesread );\r\n            bytesBuffered += bytesread;\r\n            if (bytesBuffered &gt; 1024 * 1024) { //flush after 1MB\r\n                bytesBuffered = 0;\r\n                out.flush();\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        if (out != null) {\r\n            out.flush();\r\n        }\r\n    }\r\n    \r\n    \r\n       ","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>Firstly,\nI'd suggest you use:</p>\n\n<pre><code>FileInputStream in = new FileInputStream(file);  \n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>BufferedInputStream in = new BufferedInputStream(new FileInputStream(file));\n</code></pre>\n\n<p>(To avoid building up memory usage)</p>\n\n<pre><code>try\n{\n    FileInputStream fileInputStream  = new FileInputStream(file);\n    byte[] buf=new byte[8192];\n    int bytesread = 0, bytesBuffered = 0;\n    while( (bytesread = fileInputStream.read( buf )) &gt; -1 ) {\n        out.write( buf, 0, bytesread );\n        bytesBuffered += bytesread;\n        if (bytesBuffered &gt; 1024 * 1024) { //flush after 1MB\n            bytesBuffered = 0;\n            out.flush();\n        }\n    }\n}\nfinally {\n    if (out != null) {\n        out.flush();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406748069,"creation_date":1406748069,"answer_id":25045180,"question_id":25045003,"body_markdown":"Please read BufferedInputStream&#39;s method .available() in the API.\r\n\r\nIt returns the number of available bytes already downloaded (ie. the number of bytes you can read out of the stream without accessing/waiting for the network).\r\n\r\nYou should create a fixed size byte array, fx. 2048 bytes, and use the read() methods until it returns -1.","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>Please read BufferedInputStream's method .available() in the API.</p>\n\n<p>It returns the number of available bytes already downloaded (ie. the number of bytes you can read out of the stream without accessing/waiting for the network).</p>\n\n<p>You should create a fixed size byte array, fx. 2048 bytes, and use the read() methods until it returns -1.</p>\n"},{"tags":[],"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1406748533,"creation_date":1406748209,"answer_id":25045224,"question_id":25045003,"body_markdown":"You can use [apache commons IO library][1].\r\nIt&#39;s easy. I have used it in many projects.\r\n\r\n    File dstFile = null;\r\n    // check the directory for existence.\r\n    String dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\r\n    if(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(&quot;/&quot;)))\r\n        dstFolder += File.separator;\r\n    \r\n    // Creates the destination folder if doesn&#39;t not exists\r\n    dstFile = new File(dstFolder);\r\n    if (!dstFile.exists()) {\r\n        dstFile.mkdirs();\r\n    }\r\n    try {\r\n        URL url = new URL(URL_LOCATION);\r\n    \tFileUtils.copyURLToFile(url, dstFile);\r\n    } catch (Exception e) {\r\n        System.err.println(e);\r\n        VeBLogger.getInstance().log( e.getMessage());\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/download_io.cgi\r\n","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-io/download_io.cgi\" rel=\"nofollow\">apache commons IO library</a>.\nIt's easy. I have used it in many projects.</p>\n\n<pre><code>File dstFile = null;\n// check the directory for existence.\nString dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\nif(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(\"/\")))\n    dstFolder += File.separator;\n\n// Creates the destination folder if doesn't not exists\ndstFile = new File(dstFolder);\nif (!dstFile.exists()) {\n    dstFile.mkdirs();\n}\ntry {\n    URL url = new URL(URL_LOCATION);\n    FileUtils.copyURLToFile(url, dstFile);\n} catch (Exception e) {\n    System.err.println(e);\n    VeBLogger.getInstance().log( e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27315455,"reputation":1,"user_id":20830007,"display_name":"Nguy·ªÖn Tu·∫•n H∆∞ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677030853,"creation_date":1677030853,"answer_id":75527585,"question_id":25045003,"body_markdown":"\r\n\r\n  \r\n\r\n    public String DownloadFile(String path, String outputFileName) {\t\r\n    \t\ttry {\r\n                Connection.Response response = Jsoup.connect(path).cookie()\r\n                \t.maxBodySize(0)\r\n                    .ignoreContentType(true)\r\n                    .execute();\r\n                FileOutputStream out = new FileOutputStream(new File(outputFileName));\r\n    \t\t\tout.write(response.bodyAsBytes());\r\n    \t\t\tout.close();\r\n                return outputFileName;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;&quot;;\r\n            }\r\n    \t}","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<pre><code>public String DownloadFile(String path, String outputFileName) {    \n        try {\n            Connection.Response response = Jsoup.connect(path).cookie()\n                .maxBodySize(0)\n                .ignoreContentType(true)\n                .execute();\n            FileOutputStream out = new FileOutputStream(new File(outputFileName));\n            out.write(response.bodyAsBytes());\n            out.close();\n            return outputFileName;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3116211,"reputation":157,"user_id":2636907,"accept_rate":57,"display_name":"Raguram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19235,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25045224,"answer_count":4,"score":4,"last_activity_date":1677030853,"creation_date":1406747408,"question_id":25045003,"body_markdown":"I&#39;m downloading files from a remote location, and the download is complete for smaller sized files and in-complete for large sized files (&gt;10 MB). Here is my code that i have used for downloading files from remote server .\r\n\r\n\r\n\t\tFile dstFile = null;\r\n\t\t// check the directory for existence.\r\n\t\tString dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\r\n\t\tif(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(&quot;/&quot;)))\r\n\t\t\tdstFolder += File.separator;\r\n\t\t\r\n\t\t// Creates the destination folder if doesn&#39;t not exists\r\n\t\tdstFile = new File(dstFolder);\r\n\t\tif (!dstFile.exists()) {\r\n\t\t\tdstFile.mkdirs();\r\n\t\t}\r\n        try {\r\n            URL url = new URL(URL_LOCATION);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection(); \r\n            connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/4.76&quot;); \r\n            //URLConnection connection = url.openConnection();\r\n            BufferedInputStream stream = new BufferedInputStream(connection.getInputStream());\r\n            int available = stream.available();\r\n            byte b[]= new byte[available];\r\n            stream.read(b);\r\n            File file = new File(LOCAL_FILE);\r\n            OutputStream out  = new FileOutputStream(file);\r\n            out.write(b);\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n            VeBLogger.getInstance().log( e.getMessage());\r\n        }\r\n\t","title":"How to download large sized Files (size &gt; 50MB) in java","body":"<p>I'm downloading files from a remote location, and the download is complete for smaller sized files and in-complete for large sized files (>10 MB). Here is my code that i have used for downloading files from remote server .</p>\n\n<pre><code>    File dstFile = null;\n    // check the directory for existence.\n    String dstFolder = LOCAL_FILE.substring(0,LOCAL_FILE.lastIndexOf(File.separator));\n    if(!(dstFolder.endsWith(File.separator) || dstFolder.endsWith(\"/\")))\n        dstFolder += File.separator;\n\n    // Creates the destination folder if doesn't not exists\n    dstFile = new File(dstFolder);\n    if (!dstFile.exists()) {\n        dstFile.mkdirs();\n    }\n    try {\n        URL url = new URL(URL_LOCATION);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection(); \n        connection.addRequestProperty(\"User-Agent\", \"Mozilla/4.76\"); \n        //URLConnection connection = url.openConnection();\n        BufferedInputStream stream = new BufferedInputStream(connection.getInputStream());\n        int available = stream.available();\n        byte b[]= new byte[available];\n        stream.read(b);\n        File file = new File(LOCAL_FILE);\n        OutputStream out  = new FileOutputStream(file);\n        out.write(b);\n    } catch (Exception e) {\n        System.err.println(e);\n        VeBLogger.getInstance().log( e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676934121,"post_id":75514932,"comment_id":133233565,"body_markdown":"What does your config look like? Maybe you need to make a bean with useRepository","body":"What does your config look like? Maybe you need to make a bean with useRepository"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676934140,"post_id":75514932,"comment_id":133233566,"body_markdown":"or you don&#39;t have the proper annotations on the userRepository class","body":"or you don&#39;t have the proper annotations on the userRepository class"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1676934265,"post_id":75514932,"comment_id":133233583,"body_markdown":"@devin I edited the question and added my repository","body":"@devin I edited the question and added my repository"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676949738,"post_id":75514932,"comment_id":133235485,"body_markdown":"What does your runner look like? or your config?","body":"What does your runner look like? or your config?"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1676949796,"post_id":75514932,"comment_id":133235496,"body_markdown":"do you have something called @ComponentScan anywhere in your app(usually in the main entry point) . Show me this if not I would add @ComponentScan(&quot;com.packagename&quot;);","body":"do you have something called @ComponentScan anywhere in your app(usually in the main entry point) . Show me this if not I would add @ComponentScan(&quot;com.packagename&quot;);"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676961728,"post_id":75514932,"comment_id":133237110,"body_markdown":"What scares me in your structure is your `config` package, what does it contain? What does your `Application` class look like. You don&#39;t need the `spring-boot-starter` dependencies (that is implied by the others), remove the version from the `spring-boot-starter-validation` dependency. The `@Repository` on the `UserRepository` only adds clutter. And I suspect your open feign dependency isn&#39;t compatible with Spring Boot 3 (and pulling in older/conflicting dependencies).","body":"What scares me in your structure is your <code>config</code> package, what does it contain? What does your <code>Application</code> class look like. You don&#39;t need the <code>spring-boot-starter</code> dependencies (that is implied by the others), remove the version from the <code>spring-boot-starter-validation</code> dependency. The <code>@Repository</code> on the <code>UserRepository</code> only adds clutter. And I suspect your open feign dependency isn&#39;t compatible with Spring Boot 3 (and pulling in older/conflicting dependencies)."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1677008340,"post_id":75514932,"comment_id":133251331,"body_markdown":"I edited the question and added my main class, tried bumping up feign dependency version to 4.0.1 but still same error. My config dir only contains one file that simply allows all origins for CORS. I don&#39;t have ComponentScan anywhere and I tried adding scanBasePackages = {&quot;personal.tunelink&quot;} to SpringBootApplication but issue persists.","body":"I edited the question and added my main class, tried bumping up feign dependency version to 4.0.1 but still same error. My config dir only contains one file that simply allows all origins for CORS. I don&#39;t have ComponentScan anywhere and I tried adding scanBasePackages = {&quot;personal.tunelink&quot;} to SpringBootApplication but issue persists."}],"answers":[{"tags":[],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677029672,"creation_date":1677029672,"answer_id":75527503,"question_id":75514932,"body_markdown":"Try adding this in your application.java class.\r\n\r\n    @ComponentScan({&quot;personal.tunelink.*&quot;})\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\nalso you have mispelled the package name in your repository class, as well as your application class please correct this:\r\n\r\n    package perosnal.tunelink.user;\r\n\r\nI believe you mean it to be this:\r\n\r\n    package personal.tunelink.user","title":"@SpringBootTest UnsatisfiedDependencyException","body":"<p>Try adding this in your application.java class.</p>\n<pre><code>@ComponentScan({&quot;personal.tunelink.*&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>also you have mispelled the package name in your repository class, as well as your application class please correct this:</p>\n<pre><code>package perosnal.tunelink.user;\n</code></pre>\n<p>I believe you mean it to be this:</p>\n<pre><code>package personal.tunelink.user\n</code></pre>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677029672,"creation_date":1676933895,"question_id":75514932,"body_markdown":"I have this IntegrationTestBase abstract class:\r\n\r\n```java\r\npackage personal.tunelink;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.ApplicationContextInitializer;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.support.TestPropertySourceUtils;\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\n\r\n@ActiveProfiles(&quot;itest&quot;)\r\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\r\n@EnableAutoConfiguration\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class IntegrationTestBase {\r\n\r\n    private static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\r\n            .withUsername(&quot;itest&quot;)\r\n            .withPassword(&quot;itest&quot;)\r\n            .withDatabaseName(&quot;tunelink&quot;);\r\n\r\n    static {\r\n        postgresTestContainer.start();\r\n    }\r\n\r\n    @Configuration\r\n    public static class ContextInitializer implements\r\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            final String url = postgresTestContainer.getJdbcUrl();\r\n            final String username = postgresTestContainer.getUsername();\r\n            final String password = postgresTestContainer.getPassword();\r\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                    configurableApplicationContext,\r\n                    &quot;spring.datasource.url=&quot; + url,\r\n                    &quot;spring.datasource.username=&quot; + username,\r\n                    &quot;spring.datasource.password=&quot; + password\r\n            );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy build.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup &#39;tunelink&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\r\n\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n\r\n    implementation &#39;org.postgresql:postgresql:42.5.1&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\r\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.17.6&quot;\r\n    testImplementation &quot;org.testcontainers:postgresql:1.17.6&quot;\r\n}\r\n\r\nsourceSets {\r\n    testcommons{\r\n        java{\r\n            srcDir &#39;src/testcommons/java&#39;\r\n            compileClasspath += sourceSets.main.output\r\n            runtimeClasspath += sourceSets.main.output\r\n        }\r\n    }\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n\r\n            dependencies {\r\n                implementation(sourceSets[&quot;testcommons&quot;].output)\r\n            }\r\n        }\r\n\r\n        itest(JvmTestSuite) {\r\n            testType = TestSuiteType.INTEGRATION_TEST\r\n\r\n            dependencies {\r\n                implementation project()\r\n                implementation(sourceSets[&quot;testcommons&quot;].output)\r\n            }\r\n\r\n            configurations {\r\n                itestImplementation.extendsFrom testImplementation\r\n                itestRuntime.extendsFrom testRuntime\r\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRepository test class:\r\n```java\r\npackage personal.tunelink.user;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport perosnal.tunelink.user.UserRepository;\r\nimport personal.tunelink.IntegrationTestBase;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\npublic class UserRepositoryITest extends IntegrationTestBase {\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Test\r\n    void test() {\r\n        assertNotNull(userRepository);\r\n    }\r\n}\r\n```\r\nRepository class:\r\n\r\n```java\r\npackage perosnal.tunelink.user;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n\r\n    @Query(value = &quot;SELECT * FROM user u &quot; +\r\n            &quot;JOIN user_top_tracks utt ON u.id = utt.user_id &quot; +\r\n            &quot;WHERE u.id =?1&quot;, nativeQuery = true)\r\n    User getById(String id);\r\n\r\n\r\n    @Query(value = &quot;SELECT * from user where id IN (&quot; +\r\n            &quot;SELECT that.user_id &quot; +\r\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\r\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\r\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\r\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\r\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\r\n\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```java\r\npackage perosnal.tunelink;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.openfeign.EnableFeignClients;\r\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\r\n\r\n@EnableFeignClients\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nConfig only contains 1 file that allows all origins for CORS.\r\n\r\nProject structure: \r\n\r\n[![structure][1]][1]\r\n\r\nError:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personal.tunelink.user.UserRepositoryITest&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: No qualifying bean of type &#39;perosnal.tunelink.user.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yxBHP.jpg\r\n","title":"@SpringBootTest UnsatisfiedDependencyException","body":"<p>I have this IntegrationTestBase abstract class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package personal.tunelink;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.support.TestPropertySourceUtils;\nimport org.testcontainers.containers.PostgreSQLContainer;\n\n@ActiveProfiles(&quot;itest&quot;)\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\n@EnableAutoConfiguration\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class IntegrationTestBase {\n\n    private static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\n            .withUsername(&quot;itest&quot;)\n            .withPassword(&quot;itest&quot;)\n            .withDatabaseName(&quot;tunelink&quot;);\n\n    static {\n        postgresTestContainer.start();\n    }\n\n    @Configuration\n    public static class ContextInitializer implements\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            final String url = postgresTestContainer.getJdbcUrl();\n            final String username = postgresTestContainer.getUsername();\n            final String password = postgresTestContainer.getPassword();\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                    configurableApplicationContext,\n                    &quot;spring.datasource.url=&quot; + url,\n                    &quot;spring.datasource.username=&quot; + username,\n                    &quot;spring.datasource.password=&quot; + password\n            );\n        }\n    }\n}\n</code></pre>\n<p>My build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'jvm-test-suite'\n    id 'org.springframework.boot' version '3.0.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup 'tunelink'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n\n\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n\n    implementation 'org.postgresql:postgresql:42.5.1'\n\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.17.6&quot;\n    testImplementation &quot;org.testcontainers:postgresql:1.17.6&quot;\n}\n\nsourceSets {\n    testcommons{\n        java{\n            srcDir 'src/testcommons/java'\n            compileClasspath += sourceSets.main.output\n            runtimeClasspath += sourceSets.main.output\n        }\n    }\n}\n\ntesting {\n    suites {\n        test {\n            useJUnitJupiter()\n\n            dependencies {\n                implementation(sourceSets[&quot;testcommons&quot;].output)\n            }\n        }\n\n        itest(JvmTestSuite) {\n            testType = TestSuiteType.INTEGRATION_TEST\n\n            dependencies {\n                implementation project()\n                implementation(sourceSets[&quot;testcommons&quot;].output)\n            }\n\n            configurations {\n                itestImplementation.extendsFrom testImplementation\n                itestRuntime.extendsFrom testRuntime\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\n            }\n        }\n    }\n}\n</code></pre>\n<p>Repository test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package personal.tunelink.user;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport perosnal.tunelink.user.UserRepository;\nimport personal.tunelink.IntegrationTestBase;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\npublic class UserRepositoryITest extends IntegrationTestBase {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Test\n    void test() {\n        assertNotNull(userRepository);\n    }\n}\n</code></pre>\n<p>Repository class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package perosnal.tunelink.user;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\n\n    @Query(value = &quot;SELECT * FROM user u &quot; +\n            &quot;JOIN user_top_tracks utt ON u.id = utt.user_id &quot; +\n            &quot;WHERE u.id =?1&quot;, nativeQuery = true)\n    User getById(String id);\n\n\n    @Query(value = &quot;SELECT * from user where id IN (&quot; +\n            &quot;SELECT that.user_id &quot; +\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\n\n}\n</code></pre>\n<p>Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package perosnal.tunelink;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\n\n@EnableFeignClients\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Config only contains 1 file that allows all origins for CORS.</p>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/yxBHP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxBHP.jpg\" alt=\"structure\" /></a></p>\n<p>Error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personal.tunelink.user.UserRepositoryITest': Unsatisfied dependency expressed through field 'userRepository': No qualifying bean of type 'perosnal.tunelink.user.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1653330183,"post_id":72353149,"comment_id":127821075,"body_markdown":"Search for `&quot;OP&quot;` in `&quot;X AD EP OP DAD&quot;`.","body":"Search for <code>&quot;OP&quot;</code> in <code>&quot;X AD EP OP DAD&quot;</code>."},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653330454,"post_id":72353149,"comment_id":127821169,"body_markdown":"@ScottHunter is there any shorter way or more efficient, stirng will be so much longer than in example.","body":"@ScottHunter is there any shorter way or more efficient, stirng will be so much longer than in example."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653330696,"post_id":72353149,"comment_id":127821266,"body_markdown":"How do you know you *need* it to be more efficient?  (Don&#39;t know what you mean by &quot;shorter&quot;.)","body":"How do you know you <i>need</i> it to be more efficient?  (Don&#39;t know what you mean by &quot;shorter&quot;.)"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653333136,"post_id":72353149,"comment_id":127822008,"body_markdown":"@ScottHunter but wait, if I would search for OP in your example I would get: 8 not 4. You misunderstood. I want to get index of PO from whole string (but starting looking from X). So PO starts from 4 index (but it is first occurence of this substring from left side of X). So it works like indexOf but from left, not from right.","body":"@ScottHunter but wait, if I would search for OP in your example I would get: 8 not 4. You misunderstood. I want to get index of PO from whole string (but starting looking from X). So PO starts from 4 index (but it is first occurence of this substring from left side of X). So it works like indexOf but from left, not from right."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1653333804,"post_id":72353149,"comment_id":127822174,"body_markdown":"I think your use of the word `backward` is somehow confusing. Which substring / index would you like to get if the input was `&quot;DAD PO PE PO X PO ZA&quot;` and why?","body":"I think your use of the word <code>backward</code> is somehow confusing. Which substring / index would you like to get if the input was <code>&quot;DAD PO PE PO X PO ZA&quot;</code> and why?"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653333896,"post_id":72353149,"comment_id":127822198,"body_markdown":"@Eritrean If I would search for &#39;PO&#39; I would like to get 10 as it is closer to X, but the index is taken from whole string.","body":"@Eritrean If I would search for &#39;PO&#39; I would like to get 10 as it is closer to X, but the index is taken from whole string."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1653334269,"post_id":72353149,"comment_id":127822298,"body_markdown":"And if there is no substring, which have an index lower than index of `X` you want to get the greater index? For example `&quot;DAD PP PP PP X PO ZA&quot;` a search for `&quot;PO&quot;` should return 15, did I get it right?","body":"And if there is no substring, which have an index lower than index of <code>X</code> you want to get the greater index? For example <code>&quot;DAD PP PP PP X PO ZA&quot;</code> a search for <code>&quot;PO&quot;</code> should return 15, did I get it right?"},{"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"score":0,"creation_date":1653334355,"post_id":72353149,"comment_id":127822321,"body_markdown":"@Eritrean there always will be such a substring, so dont have to think about such a situation","body":"@Eritrean there always will be such a substring, so dont have to think about such a situation"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653348305,"post_id":72353149,"comment_id":127825566,"body_markdown":"I did not misunderstand; once you know the location in the reversed string, it is a simple matter to compute the corresponding location in the original string.","body":"I did not misunderstand; once you know the location in the reversed string, it is a simple matter to compute the corresponding location in the original string."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653334325,"creation_date":1653333986,"answer_id":72353857,"question_id":72353149,"body_markdown":"You could implement a custom `Iterator` for backward search within a `String`. This, not only will allow you to iterate your `String` backward, but it will also tell you whether there are further matches or not (via `hasNext()`) and retrieve all of them with the `next()` method. The class could contain 3 fields: the string to search, the string to look for and an internal cursor. Through the constructor, you could set the two strings (obviously) and the starting point of the `Iterator`&#39;s cursor.\r\n\r\nHere is a possible implementation:\r\n\r\n```\r\nclass StringBackwardSearcher implements Iterator&lt;Integer&gt; {\r\n    private String str, match;\r\n    private int index;\r\n\r\n    public BackwardSearcher(String str, String match, int index) {\r\n        this.str = Objects.requireNonNull(str);\r\n        this.match = Objects.requireNonNull(match);\r\n        this.index = Objects.checkIndex(index, str.length());\r\n    }\r\n\r\n    public void setIndex(int index) {\r\n        this.index = Objects.checkIndex(index, str.length());\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return str.substring(0, index).contains(match);\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        for (; index &gt;= 0; index--) {\r\n            if (str.substring(index - match.length(), index).equals(match)) {\r\n                Integer temp = index;\r\n                index--;\r\n                return temp - match.length();\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nYour main would simply consist of\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\n    StringBackwardSearcher bs = new StringBackwardSearcher(s, &quot;PO&quot;, 16);\r\n    while (bs.hasNext()) {\r\n        System.out.println(bs.next());\r\n    }\r\n}\r\n```\r\n\r\nIf the iterator started at the index of `X` and had to look for `PO`, then the output would be:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O1kwr.png","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>You could implement a custom <code>Iterator</code> for backward search within a <code>String</code>. This, not only will allow you to iterate your <code>String</code> backward, but it will also tell you whether there are further matches or not (via <code>hasNext()</code>) and retrieve all of them with the <code>next()</code> method. The class could contain 3 fields: the string to search, the string to look for and an internal cursor. Through the constructor, you could set the two strings (obviously) and the starting point of the <code>Iterator</code>'s cursor.</p>\n<p>Here is a possible implementation:</p>\n<pre><code>class StringBackwardSearcher implements Iterator&lt;Integer&gt; {\n    private String str, match;\n    private int index;\n\n    public BackwardSearcher(String str, String match, int index) {\n        this.str = Objects.requireNonNull(str);\n        this.match = Objects.requireNonNull(match);\n        this.index = Objects.checkIndex(index, str.length());\n    }\n\n    public void setIndex(int index) {\n        this.index = Objects.checkIndex(index, str.length());\n    }\n\n    @Override\n    public boolean hasNext() {\n        return str.substring(0, index).contains(match);\n    }\n\n    @Override\n    public Integer next() {\n        for (; index &gt;= 0; index--) {\n            if (str.substring(index - match.length(), index).equals(match)) {\n                Integer temp = index;\n                index--;\n                return temp - match.length();\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>Your main would simply consist of</p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\n    StringBackwardSearcher bs = new StringBackwardSearcher(s, &quot;PO&quot;, 16);\n    while (bs.hasNext()) {\n        System.out.println(bs.next());\n    }\n}\n</code></pre>\n<p>If the iterator started at the index of <code>X</code> and had to look for <code>PO</code>, then the output would be:</p>\n<p><a href=\"https://i.stack.imgur.com/O1kwr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1kwr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653335240,"creation_date":1653334269,"answer_id":72353908,"question_id":72353149,"body_markdown":"This should work:\r\n\r\n    public static int indexOfFromBackOf(String s,String match){\r\n       for(int i = s.length()-1; i&gt;0;i--) {\r\n         int prevI = i;\r\n         boolean found = true;\r\n         for(int j=match.length()-1;j&gt;0 &amp;&amp; i&gt;0;j--){\r\n           if(s.charAt(i)!=match.charAt(j)) {found = false; break;}\r\n           else i--;\r\n         }\r\n         if(found) return i;\r\n         i = prevI;\r\n       }\r\n       return -1;\r\n    }\r\n\r\nand then:\r\n\r\n  \r\n\r\n      String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\r\n      String match = &quot;PO&quot;; \r\n      System.out.println(indexOfFromBackOf(s.substring(0,s.indexOf(&quot;X&quot;)-1),match));\r\n\r\nBut its messy and complex. why not using Scott&#39;s method?\r\nin one line:\r\n\r\n        String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\r\n        String match = &quot;PO&quot;;\r\n        String cropped = s.substring(0,s.indexOf(&quot;X&quot;)-1;\r\n        int index = cropped.length() - (new StringBuilder(cropped).reverse().indexOf(new StringBuilder(match).reverse().toString()) + match.length()));\r\n\r\n","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>This should work:</p>\n<pre><code>public static int indexOfFromBackOf(String s,String match){\n   for(int i = s.length()-1; i&gt;0;i--) {\n     int prevI = i;\n     boolean found = true;\n     for(int j=match.length()-1;j&gt;0 &amp;&amp; i&gt;0;j--){\n       if(s.charAt(i)!=match.charAt(j)) {found = false; break;}\n       else i--;\n     }\n     if(found) return i;\n     i = prevI;\n   }\n   return -1;\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>  String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\n  String match = &quot;PO&quot;; \n  System.out.println(indexOfFromBackOf(s.substring(0,s.indexOf(&quot;X&quot;)-1),match));\n</code></pre>\n<p>But its messy and complex. why not using Scott's method?\nin one line:</p>\n<pre><code>    String s = &quot;DAD PO PE DA X PO ZA RA ZA&quot;;\n    String match = &quot;PO&quot;;\n    String cropped = s.substring(0,s.indexOf(&quot;X&quot;)-1;\n    int index = cropped.length() - (new StringBuilder(cropped).reverse().indexOf(new StringBuilder(match).reverse().toString()) + match.length()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677029443,"creation_date":1653335141,"answer_id":72354063,"question_id":72353149,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\n\t\tSystem.out.println(usingSubstring(s));\r\n\r\n\t\t\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; 10000; i++) {\r\n\t\t\tusingSubstring(s);\r\n\t\t}\r\n\t\tlong end = System.currentTimeMillis();\r\n\t\tSystem.out.println(&quot;`usingSubstring()` took &quot; + (end - start) + &quot;ms.&quot;);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 1. Get the first index of `X`.\r\n\t * 2. Substring from 0 ... (1).\r\n\t * 3. Get the last index from (2) for `PO`.\r\n\t *\r\n\t * @param s input string\r\n\t * @return last index of `PO` backwards from `X`\r\n\t */\r\n\tprivate static int usingSubstring(String s) {\r\n\t\tString toSearch = &quot;PO&quot;;\r\n\t\tString searchUntil = &quot;X&quot;;\r\n\t\treturn s.substring(0, s.indexOf(searchUntil)).lastIndexOf(toSearch);\r\n\t}\r\n\r\nOutputs: \r\n\r\n    7\r\n    `usingSubstring()` took 2ms.\r\n\r\n----------\r\n\r\nAs pointed out by [@Holger](https://stackoverflow.com/users/2711488/holger), there&#39;s an even simpler way to achieve this using [String#lastIndexOf](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int)).\r\n\r\n```\r\nString s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\r\nSystem.out.print(s.lastIndexOf(&quot;PO&quot;, s.indexOf(&quot;X&quot;)));    // 7\r\n```","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<pre><code>public static void main(String[] args) {\n    String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\n    System.out.println(usingSubstring(s));\n\n    \n    long start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 10000; i++) {\n        usingSubstring(s);\n    }\n    long end = System.currentTimeMillis();\n    System.out.println(&quot;`usingSubstring()` took &quot; + (end - start) + &quot;ms.&quot;);\n}\n\n\n/**\n * 1. Get the first index of `X`.\n * 2. Substring from 0 ... (1).\n * 3. Get the last index from (2) for `PO`.\n *\n * @param s input string\n * @return last index of `PO` backwards from `X`\n */\nprivate static int usingSubstring(String s) {\n    String toSearch = &quot;PO&quot;;\n    String searchUntil = &quot;X&quot;;\n    return s.substring(0, s.indexOf(searchUntil)).lastIndexOf(toSearch);\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>7\n`usingSubstring()` took 2ms.\n</code></pre>\n<hr />\n<p>As pointed out by <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a>, there's an even simpler way to achieve this using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">String#lastIndexOf</a>.</p>\n<pre><code>String s = &quot;PO DAD PO PE DA X PO ZA RA&quot;;\nSystem.out.print(s.lastIndexOf(&quot;PO&quot;, s.indexOf(&quot;X&quot;)));    // 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653338909,"creation_date":1653338909,"answer_id":72354656,"question_id":72353149,"body_markdown":"To throw another solution into the mix, one could compile a regular expression with following logic: match starting with &quot;PO&quot;, not followed by &quot;PO&quot;, and terminated by &quot;X&quot;.\r\n\r\nIn this way, only the closest (from left side) &quot;PO&quot; would match until an &quot;X&quot;.\r\n\r\nFor example:\r\n```java\r\nString subj = &quot;AA PO DAD PO PE DA X PO ZA RA ZA&quot;;\r\n        \r\nfinal Pattern pattern = Pattern.compile(&quot;(PO)([^P]|P(?!O))*(X)&quot;);\r\nfinal Matcher matcher = pattern.matcher(subj);\r\nif (matcher.find()) {\r\n   System.err.println(&quot;match at [&quot; + matcher.start() + &quot;,&quot; + matcher.end() + &quot;): &quot; + matcher.group());\r\n}\r\n```","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>To throw another solution into the mix, one could compile a regular expression with following logic: match starting with &quot;PO&quot;, not followed by &quot;PO&quot;, and terminated by &quot;X&quot;.</p>\n<p>In this way, only the closest (from left side) &quot;PO&quot; would match until an &quot;X&quot;.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String subj = &quot;AA PO DAD PO PE DA X PO ZA RA ZA&quot;;\n        \nfinal Pattern pattern = Pattern.compile(&quot;(PO)([^P]|P(?!O))*(X)&quot;);\nfinal Matcher matcher = pattern.matcher(subj);\nif (matcher.find()) {\n   System.err.println(&quot;match at [&quot; + matcher.start() + &quot;,&quot; + matcher.end() + &quot;): &quot; + matcher.group());\n}\n</code></pre>\n"}],"owner":{"account_id":24746145,"reputation":33,"user_id":18632294,"display_name":"vig2004"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72354063,"answer_count":4,"score":1,"last_activity_date":1677029443,"creation_date":1653329874,"question_id":72353149,"body_markdown":"I would like to search for substring of string starting from specific index.\r\n\r\nLet&#39;s say I have string: `&quot;PO DAD PO PE DA X PO ZA RA&quot;`\r\n\r\nIndex from which I want to start is character `X`, so is 13. If I would like to search normally for &#39;ZA&#39; I would do something like: \r\n`&quot;DAD PO PE DA X PO ZA RA ZA&quot;.indexOf(&quot;ZA&quot;)` and I would get 18.\r\n\r\nNext I want to search for first substring `&#39;PO&#39;` but backward from `&quot;X&quot;` index. So, I would get 4 (as it is closer to `X` from left side) not 15.\r\n\r\nHow could I do this?","title":"How to search backward for substring of string (backword indexOf) starting from specific index","body":"<p>I would like to search for substring of string starting from specific index.</p>\n<p>Let's say I have string: <code>&quot;PO DAD PO PE DA X PO ZA RA&quot;</code></p>\n<p>Index from which I want to start is character <code>X</code>, so is 13. If I would like to search normally for 'ZA' I would do something like:\n<code>&quot;DAD PO PE DA X PO ZA RA ZA&quot;.indexOf(&quot;ZA&quot;)</code> and I would get 18.</p>\n<p>Next I want to search for first substring <code>'PO'</code> but backward from <code>&quot;X&quot;</code> index. So, I would get 4 (as it is closer to <code>X</code> from left side) not 15.</p>\n<p>How could I do this?</p>\n"},{"tags":["java","rust","apache-arrow"],"owner":{"account_id":2278928,"reputation":2021,"user_id":2655102,"accept_rate":22,"display_name":"Renkai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677029436,"creation_date":1677029436,"question_id":75527485,"body_markdown":"In the [C Data Interface](https://arrow.apache.org/docs/java/cdata.html#c-data-interface) page of Arrow Java Document, the Java code allocated some memory, and the C++ code fill the allocated memory. While it seems [arrow-rs](https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579) works in a different way, it fills the data first and then pass the pointer to a foreign language. So I can&#39;t just reuse the Java part of C++/Java communication naively.\r\n\r\nIn the rust part I return the addresses of `FFI_ArrowArray` and `FFI_ArrowSchema` use pointer `as i64` because JNI can&#39;t recognize a pointer.\r\n\r\n```rust\r\npub fn array_example() -&gt; Int32Array\r\n{\r\n    let array = Int32Array::from(vec![Some(1), None, Some(3)]);\r\n    assert_eq!(array.len(), 3);\r\n    assert_eq!(array.value(0), 1);\r\n    assert_eq!(array.is_null(1), true);\r\n\r\n    let collected: Vec&lt;_&gt; = array.iter().collect();\r\n    assert_eq!(collected, vec![Some(1), None, Some(3)]);\r\n    assert_eq!(array.values(), [1, 0, 3]);\r\n    array\r\n}\r\n\r\npub fn export_array_example() -&gt; [i64; 2] {\r\n    // Export it\r\n    let array = array_example();\r\n    let data = array.data();\r\n    let out_array = FFI_ArrowArray::new(&amp;data);\r\n    let out_schema = FFI_ArrowSchema::try_from(data.data_type()).unwrap();\r\n\r\n    // Use ManuallyDrop to avoid Box:Drop recursing\r\n    let schema = Box::new(ManuallyDrop::new(out_schema));\r\n    let array = Box::new(ManuallyDrop::new(out_array));\r\n\r\n    let schema_ptr = &amp;**schema as *const _;\r\n    let array_ptr = &amp;**array as *const _;\r\n    let schema_addr = schema_ptr as i64;\r\n    let array_addr = array_ptr as i64;\r\n\r\n    let schema_addr2 = schema_addr as *const FFI_ArrowSchema;\r\n    let array_addr2 = array_addr as *const FFI_ArrowArray;\r\n    let array = unsafe {\r\n        ArrowArray::new(std::ptr::read(array_addr2), std::ptr::read(schema_addr2))\r\n    };\r\n\r\n    let array = Int32Array::from(ArrayData::try_from(array).unwrap());\r\n    println!(&quot;pointer schema as long: {}&quot;, schema_addr);\r\n    println!(&quot;pointer array as long: {}&quot;, array_addr);\r\n    println!(&quot;recovered arr: {:?}&quot;,array);\r\n\r\n    [schema_addr, array_addr]\r\n    //https://docs.rs/arrow/33.0.0/arrow/ffi/index.html\r\n    //https://arrow.apache.org/docs/java/cdata.html#java-to-c\r\n    //https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579-L580\r\n}\r\n```\r\n\r\nIn the Java part I use `ArrowSchema.wrap` and `ArrowArray.wrap`\r\n\r\n```java\r\npublic class Converter {\r\n\r\n    static {\r\n        System.loadLibrary(&quot;lance_jni&quot;);\r\n    }\r\n\r\n    public static void getInt32ArrayExample() {\r\n        BufferAllocator allocator = new RootAllocator();\r\n        ConverterJni.getInt32Arr();\r\n        long[] arr = ConverterJni.getInt32Arr();\r\n        System.out.println(arr[0]);\r\n        System.out.println(arr[1]);\r\n        ArrowSchema arrowSchema = ArrowSchema.wrap(arr[0]);\r\n        ArrowArray array = ArrowArray.wrap(arr[1]);\r\n        var vec = Data.importVector(allocator, array, arrowSchema, null);\r\n    }\r\n}\r\n```\r\n\r\nEventually I get\r\n\r\n```\r\n[info] #\r\n[info] # A fatal error has been detected by the Java Runtime Environment:\r\n[info] #\r\n[info] #  SIGSEGV (0xb) at pc=0x00000001127708e7, pid=47483, tid=5891\r\n[info] #\r\n[info] # JRE version: OpenJDK Runtime Environment Homebrew (11.0.12) (build 11.0.12+0)\r\n[info] # Java VM: OpenJDK 64-Bit Server VM Homebrew (11.0.12+0, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\r\n[info] # Problematic frame:\r\n[info] # J 414 c2 java.nio.DirectByteBuffer.get()B java.base@11.0.12 (28 bytes) @ 0x00000001127708e7 [0x00000001127708a0+0x0000000000000047]\r\n```\r\n\r\nFull example at [github](https://github.com/Renkai/lancelab/tree/1f32af83769ed2fce0672212f8a125de51fbda63)","title":"How to export arrow-rs array to Java?","body":"<p>In the <a href=\"https://arrow.apache.org/docs/java/cdata.html#c-data-interface\" rel=\"nofollow noreferrer\">C Data Interface</a> page of Arrow Java Document, the Java code allocated some memory, and the C++ code fill the allocated memory. While it seems <a href=\"https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579\" rel=\"nofollow noreferrer\">arrow-rs</a> works in a different way, it fills the data first and then pass the pointer to a foreign language. So I can't just reuse the Java part of C++/Java communication naively.</p>\n<p>In the rust part I return the addresses of <code>FFI_ArrowArray</code> and <code>FFI_ArrowSchema</code> use pointer <code>as i64</code> because JNI can't recognize a pointer.</p>\n<pre class=\"lang-rust prettyprint-override\"><code>pub fn array_example() -&gt; Int32Array\n{\n    let array = Int32Array::from(vec![Some(1), None, Some(3)]);\n    assert_eq!(array.len(), 3);\n    assert_eq!(array.value(0), 1);\n    assert_eq!(array.is_null(1), true);\n\n    let collected: Vec&lt;_&gt; = array.iter().collect();\n    assert_eq!(collected, vec![Some(1), None, Some(3)]);\n    assert_eq!(array.values(), [1, 0, 3]);\n    array\n}\n\npub fn export_array_example() -&gt; [i64; 2] {\n    // Export it\n    let array = array_example();\n    let data = array.data();\n    let out_array = FFI_ArrowArray::new(&amp;data);\n    let out_schema = FFI_ArrowSchema::try_from(data.data_type()).unwrap();\n\n    // Use ManuallyDrop to avoid Box:Drop recursing\n    let schema = Box::new(ManuallyDrop::new(out_schema));\n    let array = Box::new(ManuallyDrop::new(out_array));\n\n    let schema_ptr = &amp;**schema as *const _;\n    let array_ptr = &amp;**array as *const _;\n    let schema_addr = schema_ptr as i64;\n    let array_addr = array_ptr as i64;\n\n    let schema_addr2 = schema_addr as *const FFI_ArrowSchema;\n    let array_addr2 = array_addr as *const FFI_ArrowArray;\n    let array = unsafe {\n        ArrowArray::new(std::ptr::read(array_addr2), std::ptr::read(schema_addr2))\n    };\n\n    let array = Int32Array::from(ArrayData::try_from(array).unwrap());\n    println!(&quot;pointer schema as long: {}&quot;, schema_addr);\n    println!(&quot;pointer array as long: {}&quot;, array_addr);\n    println!(&quot;recovered arr: {:?}&quot;,array);\n\n    [schema_addr, array_addr]\n    //https://docs.rs/arrow/33.0.0/arrow/ffi/index.html\n    //https://arrow.apache.org/docs/java/cdata.html#java-to-c\n    //https://github.com/apache/arrow-rs/blob/3761ac53cab55c269b06d9a13825dd81b03e0c11/arrow/src/ffi.rs#L579-L580\n}\n</code></pre>\n<p>In the Java part I use <code>ArrowSchema.wrap</code> and <code>ArrowArray.wrap</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Converter {\n\n    static {\n        System.loadLibrary(&quot;lance_jni&quot;);\n    }\n\n    public static void getInt32ArrayExample() {\n        BufferAllocator allocator = new RootAllocator();\n        ConverterJni.getInt32Arr();\n        long[] arr = ConverterJni.getInt32Arr();\n        System.out.println(arr[0]);\n        System.out.println(arr[1]);\n        ArrowSchema arrowSchema = ArrowSchema.wrap(arr[0]);\n        ArrowArray array = ArrowArray.wrap(arr[1]);\n        var vec = Data.importVector(allocator, array, arrowSchema, null);\n    }\n}\n</code></pre>\n<p>Eventually I get</p>\n<pre><code>[info] #\n[info] # A fatal error has been detected by the Java Runtime Environment:\n[info] #\n[info] #  SIGSEGV (0xb) at pc=0x00000001127708e7, pid=47483, tid=5891\n[info] #\n[info] # JRE version: OpenJDK Runtime Environment Homebrew (11.0.12) (build 11.0.12+0)\n[info] # Java VM: OpenJDK 64-Bit Server VM Homebrew (11.0.12+0, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\n[info] # Problematic frame:\n[info] # J 414 c2 java.nio.DirectByteBuffer.get()B java.base@11.0.12 (28 bytes) @ 0x00000001127708e7 [0x00000001127708a0+0x0000000000000047]\n</code></pre>\n<p>Full example at <a href=\"https://github.com/Renkai/lancelab/tree/1f32af83769ed2fce0672212f8a125de51fbda63\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","android-studio","aapt"],"comments":[{"owner":{"account_id":1810784,"reputation":1558,"user_id":1646896,"accept_rate":100,"display_name":"adinutzyc21"},"score":0,"creation_date":1423966724,"post_id":28522144,"comment_id":45361586,"body_markdown":"All you need to do is type R. to see the autocompletion suggestions.","body":"All you need to do is type R. to see the autocompletion suggestions."}],"answers":[{"tags":[],"owner":{"account_id":2899080,"reputation":2109,"user_id":2486234,"accept_rate":44,"display_name":"Belal Khan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533156555,"creation_date":1423964572,"answer_id":28522249,"question_id":28522144,"body_markdown":"It is inside `app\\build\\generated\\source\\r` folder","title":"Where is the R.java file in Android Studio?","body":"<p>It is inside <code>app\\build\\generated\\source\\r</code> folder</p>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1423964621,"creation_date":1423964621,"answer_id":28522254,"question_id":28522144,"body_markdown":"`R.java` is the generated file by ADT or Android studio. It will be located under `app\\build\\generated\\source\\r` directory.\r\n\r\n    ./app/build/generated/source/r/debug/android/support/v7/appcompat/R.java\r\n    ./app/build/generated/source/r/debug/your/packagename/name/R.java\r\n","title":"Where is the R.java file in Android Studio?","body":"<p><code>R.java</code> is the generated file by ADT or Android studio. It will be located under <code>app\\build\\generated\\source\\r</code> directory.</p>\n\n<pre><code>./app/build/generated/source/r/debug/android/support/v7/appcompat/R.java\n./app/build/generated/source/r/debug/your/packagename/name/R.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9314964,"reputation":7453,"user_id":6915572,"accept_rate":100,"display_name":"Shubhamhackz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485148377,"creation_date":1485148377,"answer_id":41799605,"question_id":28522144,"body_markdown":"Project/app/build/generated/source/r/debug/com.android.&#39;projectname&#39;/R.java","title":"Where is the R.java file in Android Studio?","body":"<p>Project/app/build/generated/source/r/debug/com.android.'projectname'/R.java</p>\n"},{"tags":[],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533570357,"creation_date":1501780703,"answer_id":45490793,"question_id":28522144,"body_markdown":"[![//The picture ][1]][1]\r\n\r\nI use Android Studio 2.3.3. The `R.java` file is shown in the picture above.\r\n\r\nIn the left upper side, there is a select list. Select the `[project]` option so that you can see all the folders and files. \r\n\r\n\r\n[1]: https://i.stack.imgur.com/IGLud.jpg \r\n    ","title":"Where is the R.java file in Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/IGLud.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IGLud.jpg\" alt=\"//The picture \"></a></p>\n\n<p>I use Android Studio 2.3.3. The <code>R.java</code> file is shown in the picture above.</p>\n\n<p>In the left upper side, there is a select list. Select the <code>[project]</code> option so that you can see all the folders and files. </p>\n"},{"tags":[],"owner":{"account_id":12160656,"reputation":31,"user_id":8878306,"display_name":"Engr Saeed Anwar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509680933,"creation_date":1509679314,"answer_id":47087999,"question_id":28522144,"body_markdown":"I am using Android Studio 2.2.3 , the R.java file is shown in the picture below.\r\nGoto in the left upper side there is a selecting list , \r\n\r\n1. select [package] \r\n2. Open &quot;App Folder&quot; \r\n3. com.example.saeedanwar.myapplication; \r\n4. r\r\n\r\n![screenshot][1] \r\n\r\n  [1]: https://i.stack.imgur.com/fnV2M.jpg","title":"Where is the R.java file in Android Studio?","body":"<p>I am using Android Studio 2.2.3 , the R.java file is shown in the picture below.\nGoto in the left upper side there is a selecting list , </p>\n\n<ol>\n<li>select [package] </li>\n<li>Open \"App Folder\" </li>\n<li>com.example.saeedanwar.myapplication; </li>\n<li>r</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/fnV2M.jpg\" alt=\"screenshot\"> </p>\n"},{"tags":[],"owner":{"account_id":10535020,"reputation":324,"user_id":7763196,"display_name":"OulinaArt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1553187162,"creation_date":1552308878,"answer_id":55102301,"question_id":28522144,"body_markdown":"\r\nI use Android Studio 3.3.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3S9Lv.png\r\n\r\n    \\app\\build\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\android\\support\\constraint\\R.java\r\n\r\n![enter image description here][1]\r\n\r\n","title":"Where is the R.java file in Android Studio?","body":"<p>I use Android Studio 3.3.2</p>\n\n<pre><code>\\app\\build\\generated\\not_namespaced_r_class_sources\\debug\\processDebugResources\\r\\android\\support\\constraint\\R.java\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/3S9Lv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1600862817,"creation_date":1567087052,"answer_id":57711817,"question_id":28522144,"body_markdown":"As noted above, &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file&quot;.\r\n\r\nUsing the [ubuntudroid solution][1] you can find an `id` also this way. Find `R.txt` and copy absolute path. Project &gt; app &gt; build &gt; intermediates &gt; runtime_symbol_list &gt; debug &gt; R.txt. Then right click and select `Copy Path...`, `1. Absolute Path Ctrl+Shift+C`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis way you will obtain a path to `R.txt`, for instance, &quot;C:\\Users\\user\\AndroidStudioProjects\\your_project\\app\\build\\intermediates\\runtime_symbol_list\\debug\\R.txt&quot;. Copy the path without `R.txt` to a text file for future references, for example, with Notepad++.\r\n\r\nPress &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; to find in directory. Insert an `id` and the path.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n== Old answer ==\r\n\r\nChange a project view from `Android` to `Project` or `Project Files`. Find one of these two files.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen you can revert back to `Android` view.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61277205/2914140\r\n  [2]: https://i.stack.imgur.com/44NWk.png\r\n  [3]: https://i.stack.imgur.com/oUlTq.png\r\n  [4]: https://i.stack.imgur.com/zFjN7.png","title":"Where is the R.java file in Android Studio?","body":"<p>As noted above, &quot;The new Android Gradle Plugin generates the corresponding bytecode directly and does not make the intermediate R.java file&quot;.</p>\n<p>Using the <a href=\"https://stackoverflow.com/a/61277205/2914140\">ubuntudroid solution</a> you can find an <code>id</code> also this way. Find <code>R.txt</code> and copy absolute path. Project &gt; app &gt; build &gt; intermediates &gt; runtime_symbol_list &gt; debug &gt; R.txt. Then right click and select <code>Copy Path...</code>, <code>1. Absolute Path Ctrl+Shift+C</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/oUlTq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oUlTq.png\" alt=\"enter image description here\" /></a></p>\n<p>This way you will obtain a path to <code>R.txt</code>, for instance, &quot;C:\\Users\\user\\AndroidStudioProjects\\your_project\\app\\build\\intermediates\\runtime_symbol_list\\debug\\R.txt&quot;. Copy the path without <code>R.txt</code> to a text file for future references, for example, with Notepad++.</p>\n<p>Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd> to find in directory. Insert an <code>id</code> and the path.</p>\n<p><a href=\"https://i.stack.imgur.com/44NWk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/44NWk.png\" alt=\"enter image description here\" /></a></p>\n<p>== Old answer ==</p>\n<p>Change a project view from <code>Android</code> to <code>Project</code> or <code>Project Files</code>. Find one of these two files.</p>\n<p><a href=\"https://i.stack.imgur.com/zFjN7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zFjN7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can revert back to <code>Android</code> view.</p>\n"},{"tags":[],"owner":{"account_id":6369068,"reputation":133,"user_id":4942114,"accept_rate":53,"display_name":"Bad0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579594056,"creation_date":1579594056,"answer_id":59836594,"question_id":28522144,"body_markdown":"--The R.Java that contains your xml layouts and views id&#39;s in Android Studio 3.5.3 -- Project/app/build/generated/not_namespaced_r_class_sources/debug/r/com/&quot;your package&quot;/R.java","title":"Where is the R.java file in Android Studio?","body":"<p>--The R.Java that contains your xml layouts and views id's in Android Studio 3.5.3 -- Project/app/build/generated/not_namespaced_r_class_sources/debug/r/com/\"your package\"/R.java</p>\n"},{"tags":[],"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1586374653,"creation_date":1586261374,"answer_id":61079734,"question_id":28522144,"body_markdown":"Based on the [new stable release of Android Studio (3.6)][1] we have:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nSo, now to find your generated resource classes you need the following steps:\r\n\r\n**1) Open your project.**\r\n\r\n**2) Go to your module build path.**\r\n\r\n**3) Open the *outputs/apk/debug/app-name-debug.apk* file.**\r\n\r\n**4) Choose your classes.dex file.**\r\n\r\n**5) Look at the down placed area and go to your full package path.**\r\n\r\n**6) You can see all bytecoded resource classes. So, scroll down to what you are looking for.**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**7) Expand the resource class you need to proceed (for example, let it be R.id)**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**8) Go to you id&#39;s.**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**That&#39;s it.**\r\n\r\n\r\n**UPDATE:**\r\n\r\nIf you would like to see actual id integer number you should follows steps below:\r\n\r\n**1) By (7) Go to the resource class you need to proceed and right click to show the context menu**\r\n\r\n**2) Choose &quot;Show Bytecode&quot; to see the flexible dialog &quot;DEX Byte Code for R$id&quot;, for example, for id class**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n**3) Scroll down to the actual id to look its number**\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2020/02/android-studio-36.html\r\n  [2]: https://i.stack.imgur.com/cDY5Z.png\r\n  [3]: https://i.stack.imgur.com/7YdVI.png\r\n  [4]: https://i.stack.imgur.com/xsQhH.png\r\n  [5]: https://i.stack.imgur.com/8AJBY.png\r\n  [6]: https://i.stack.imgur.com/8ROmg.png\r\n  [7]: https://i.stack.imgur.com/ue1kR.png","title":"Where is the R.java file in Android Studio?","body":"<p>Based on the <a href=\"https://android-developers.googleblog.com/2020/02/android-studio-36.html\" rel=\"noreferrer\">new stable release of Android Studio (3.6)</a> we have:\n<a href=\"https://i.stack.imgur.com/cDY5Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cDY5Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, now to find your generated resource classes you need the following steps:</p>\n\n<p><strong>1) Open your project.</strong></p>\n\n<p><strong>2) Go to your module build path.</strong></p>\n\n<p><strong>3) Open the <em>outputs/apk/debug/app-name-debug.apk</em> file.</strong></p>\n\n<p><strong>4) Choose your classes.dex file.</strong></p>\n\n<p><strong>5) Look at the down placed area and go to your full package path.</strong></p>\n\n<p><strong>6) You can see all bytecoded resource classes. So, scroll down to what you are looking for.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7YdVI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7YdVI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>7) Expand the resource class you need to proceed (for example, let it be R.id)</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xsQhH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xsQhH.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>8) Go to you id's.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8AJBY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8AJBY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>That's it.</strong></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If you would like to see actual id integer number you should follows steps below:</p>\n\n<p><strong>1) By (7) Go to the resource class you need to proceed and right click to show the context menu</strong></p>\n\n<p><strong>2) Choose \"Show Bytecode\" to see the flexible dialog \"DEX Byte Code for R$id\", for example, for id class</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8ROmg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8ROmg.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>3) Scroll down to the actual id to look its number</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ue1kR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ue1kR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":115966,"reputation":3740,"user_id":304266,"accept_rate":88,"display_name":"ubuntudroid"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1587144152,"creation_date":1587144152,"answer_id":61277205,"question_id":28522144,"body_markdown":"Although the current Android Gradle Plugin doesn&#39;t generate a `R.java` anymore you can still inspect the corresponding class file (see Sergey V.`s answer).\r\n\r\nHowever, if you (like probably in most cases) just want to look up the generated IDs for your resources, there is an easier way:\r\n\r\nIn the project pane on the left hand side switch from _Android_ to _Project_ view using the drop-down at the top. Then navigate to `app/build/intermediates/runtime_symbol_list/&lt;insert build type here&gt;/R.txt`. This file lists **all IDs generated by AGP** during the build process.","title":"Where is the R.java file in Android Studio?","body":"<p>Although the current Android Gradle Plugin doesn't generate a <code>R.java</code> anymore you can still inspect the corresponding class file (see Sergey V.`s answer).</p>\n\n<p>However, if you (like probably in most cases) just want to look up the generated IDs for your resources, there is an easier way:</p>\n\n<p>In the project pane on the left hand side switch from <em>Android</em> to <em>Project</em> view using the drop-down at the top. Then navigate to <code>app/build/intermediates/runtime_symbol_list/&lt;insert build type here&gt;/R.txt</code>. This file lists <strong>all IDs generated by AGP</strong> during the build process.</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603802906,"creation_date":1603802906,"answer_id":64554776,"question_id":28522144,"body_markdown":"1) In my project in Android Studio 4.1\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2) R.jar that you can actually unzip resides in app build folder, as follows:\r\n\r\n    jar -xf R.jar\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3) Once the jar is unpacked you can find R.java inside of app package:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYwQr.png\r\n  [2]: https://i.stack.imgur.com/30IG1.png\r\n  [3]: https://i.stack.imgur.com/5n7lF.png","title":"Where is the R.java file in Android Studio?","body":"<ol>\n<li><p>In my project in Android Studio 4.1\n<a href=\"https://i.stack.imgur.com/tYwQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYwQr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>R.jar that you can actually unzip resides in app build folder, as follows:</p>\n<p>jar -xf R.jar</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/30IG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30IG1.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Once the jar is unpacked you can find R.java inside of app package:\n<a href=\"https://i.stack.imgur.com/5n7lF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5n7lF.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4863127,"reputation":15025,"user_id":3922207,"accept_rate":63,"display_name":"Anggrayudi H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613462911,"creation_date":1613462911,"answer_id":66220683,"question_id":28522144,"body_markdown":"If you&#39;re using Mac or Linux, try the following command line on your terminal:\r\n\r\n```bash\r\nfind . -name &quot;R.*&quot;\r\n```\r\n\r\nIt will print something like:\r\n```\r\n./app/build/intermediaries/runtime_symbol_list/debug/R.txt\r\n./app/build/intermediaries/compile_and_runtime_not_namespaced_r_class_jar/debug/R.jar\r\n```","title":"Where is the R.java file in Android Studio?","body":"<p>If you're using Mac or Linux, try the following command line on your terminal:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>find . -name &quot;R.*&quot;\n</code></pre>\n<p>It will print something like:</p>\n<pre><code>./app/build/intermediaries/runtime_symbol_list/debug/R.txt\n./app/build/intermediaries/compile_and_runtime_not_namespaced_r_class_jar/debug/R.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2758645,"reputation":3065,"user_id":2376004,"accept_rate":62,"display_name":"Bad Loser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677028898,"creation_date":1677027743,"answer_id":75527368,"question_id":28522144,"body_markdown":"This answer will be in a constant state of flux until Android standardize a method of matching their *annoying* decimal/hexadecimal *id* references to a tangible resource such as *my_layout.xml*.\r\n\r\nFor Android Studio **Dolphin** | 2021.3.1 Patch 1 have a look at this file:\r\n\r\n    /project/package/build/intermediates/stable_resource_ids_file/debug/stableIds.txt\r\n\r\nIt is produced by RUN (not just BUILD). Sample:\r\n\r\n    layout/mtrl_picker_header_fullscreen = 0x7f0d00de\r\n    string/cancel = 0x7f1101f0\r\n    style/ThemeOverlay.MaterialComponents.MaterialCalendar = 0x7f1202f3\r\n    id/gpxBtn = 0x7f0a0346\r\n\r\n","title":"Where is the R.java file in Android Studio?","body":"<p>This answer will be in a constant state of flux until Android standardize a method of matching their <em>annoying</em> decimal/hexadecimal <em>id</em> references to a tangible resource such as <em>my_layout.xml</em>.</p>\n<p>For Android Studio <strong>Dolphin</strong> | 2021.3.1 Patch 1 have a look at this file:</p>\n<pre><code>/project/package/build/intermediates/stable_resource_ids_file/debug/stableIds.txt\n</code></pre>\n<p>It is produced by RUN (not just BUILD). Sample:</p>\n<pre><code>layout/mtrl_picker_header_fullscreen = 0x7f0d00de\nstring/cancel = 0x7f1101f0\nstyle/ThemeOverlay.MaterialComponents.MaterialCalendar = 0x7f1202f3\nid/gpxBtn = 0x7f0a0346\n</code></pre>\n"}],"owner":{"account_id":4525971,"reputation":681,"user_id":3677798,"accept_rate":0,"display_name":"TheChessDoctor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84458,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":13,"score":55,"last_activity_date":1677028898,"creation_date":1423963450,"question_id":28522144,"body_markdown":"Where is the R.java file in Android Studio? Can someone please help with this? I already tried google for the answer but can&#39;t find any solution.","title":"Where is the R.java file in Android Studio?","body":"<p>Where is the R.java file in Android Studio? Can someone please help with this? I already tried google for the answer but can't find any solution.</p>\n"},{"tags":["python","java","architecture","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":3314736,"reputation":3800,"user_id":2787364,"accept_rate":75,"display_name":"Cosmin Ioni»õƒÉ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638566323,"creation_date":1638566323,"answer_id":70220788,"question_id":70211262,"body_markdown":"You can create a dedicated notification service, fully decoupled of the client/user entities, that handles notifications in a generic way.\r\n\r\nWhenever the assignment is completed, you use that service to fire 2 notifications, one for each entity.\r\n\r\nHaving this service decoupled will make the architecture more robust, because you can test it in a generic way, but also reuse it for other use-cases, not to mention that it follows the separation of concerns.","title":"Notifications with clean architecture","body":"<p>You can create a dedicated notification service, fully decoupled of the client/user entities, that handles notifications in a generic way.</p>\n<p>Whenever the assignment is completed, you use that service to fire 2 notifications, one for each entity.</p>\n<p>Having this service decoupled will make the architecture more robust, because you can test it in a generic way, but also reuse it for other use-cases, not to mention that it follows the separation of concerns.</p>\n"}],"owner":{"account_id":7412496,"reputation":222,"user_id":5639448,"display_name":"Alexander Kiselev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70220788,"answer_count":1,"score":0,"last_activity_date":1677027234,"creation_date":1638519169,"question_id":70211262,"body_markdown":"There is a case for creating a client.\r\n\r\n`Controller -&gt; CreateClientRequest -&gt; CreateClientUseCase -&gt; ClientEntity [assigned: UserEntity]`\r\n\r\nThe client is assigned a responsible person assigned.\r\n\r\nAfter creation, i need to notify the client about the assigned user, and the user about the incoming client.\r\n\r\nIn this case, the user has notification settings like: Email, Push, SMS.\r\n\r\nQ: How do i implement this kind of aggregation in a clean architecture?","title":"Notifications with clean architecture","body":"<p>There is a case for creating a client.</p>\n<p><code>Controller -&gt; CreateClientRequest -&gt; CreateClientUseCase -&gt; ClientEntity [assigned: UserEntity]</code></p>\n<p>The client is assigned a responsible person assigned.</p>\n<p>After creation, i need to notify the client about the assigned user, and the user about the incoming client.</p>\n<p>In this case, the user has notification settings like: Email, Push, SMS.</p>\n<p>Q: How do i implement this kind of aggregation in a clean architecture?</p>\n"},{"tags":["java","jpa","design-patterns","architecture","clean-architecture"],"comments":[{"owner":{"account_id":10300271,"reputation":612,"user_id":7599197,"display_name":"niemar"},"score":1,"creation_date":1538302896,"post_id":52576738,"comment_id":92089178,"body_markdown":"JPA is a standard and not framework so you there is no need to refactor entity classes.","body":"JPA is a standard and not framework so you there is no need to refactor entity classes."},{"owner":{"account_id":1768905,"reputation":1867,"user_id":2177240,"display_name":"Eneko"},"score":2,"creation_date":1592320345,"post_id":52576738,"comment_id":110380240,"body_markdown":"@niemar, I don&#39;t think that changes a lot. The project requirements can force you to change the used standard the same way they force you to change the used framework. For example, &quot;the marketing person&quot; may decide the project should use NoSQL because many customers love this fancy word. JPA does not support NoSQL so you would be required to use another standard/framework.","body":"@niemar, I don&#39;t think that changes a lot. The project requirements can force you to change the used standard the same way they force you to change the used framework. For example, &quot;the marketing person&quot; may decide the project should use NoSQL because many customers love this fancy word. JPA does not support NoSQL so you would be required to use another standard/framework."}],"answers":[{"tags":[],"owner":{"account_id":63583,"reputation":2477,"user_id":188138,"accept_rate":67,"display_name":"Brad Irby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538475825,"creation_date":1538475825,"answer_id":52606482,"question_id":52576738,"body_markdown":"The interface for the repository to persist the entities goes in the center.  Implementation of that interface goes in the outside layer, and the implementation is injected where it is needed.","title":"JPA Clean Architecture","body":"<p>The interface for the repository to persist the entities goes in the center.  Implementation of that interface goes in the outside layer, and the implementation is injected where it is needed.</p>\n"},{"tags":[],"owner":{"account_id":8852490,"reputation":204,"user_id":6611224,"display_name":"Jhovanni"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556459469,"creation_date":1556459469,"answer_id":55890927,"question_id":52576738,"body_markdown":"If you really want to follow clean architecture, then no reference to external libraries should be in your domain classes.\r\nTo overcome that, a couple of strategies could be:\r\n\r\n- User jpa/hibernate XML mappings. This way you can externalize your mappings and change between sql/noSql easily just importing a different config file (each file will setup a different set of XML mappings).\r\n\r\nThe downside of this approach, is that your domain will still require to implement **Serializable**, and most of them will require setters/getters for its fields, or force hibernate/jpa to ignore Java limitations and access private fields. Also, there are things you can do with Annotations that is not possible with XML, or the workaround is problematic. It works, but still your domain layer looks like simple DTOs.\r\n\r\n- When crossing a boundary, use DTO objects. This means you will have your domain object **Demo**, and a DTO object **DemoData** for example. Data will be retrieved using DemoData instances, and repository should convert between those two when saving/retrieving.\r\n\r\nThis last approach makes you project very easy to change. You can change persistence layer any time, but doing so will require a whole new datastore layer to integrate. Let&#39;s say you want to change to cassandra, you will need a new DTO **DemoDataCassandra**, its mappers between it to Demo, new annotations for mappings, etc.","title":"JPA Clean Architecture","body":"<p>If you really want to follow clean architecture, then no reference to external libraries should be in your domain classes.\nTo overcome that, a couple of strategies could be:</p>\n\n<ul>\n<li>User jpa/hibernate XML mappings. This way you can externalize your mappings and change between sql/noSql easily just importing a different config file (each file will setup a different set of XML mappings).</li>\n</ul>\n\n<p>The downside of this approach, is that your domain will still require to implement <strong>Serializable</strong>, and most of them will require setters/getters for its fields, or force hibernate/jpa to ignore Java limitations and access private fields. Also, there are things you can do with Annotations that is not possible with XML, or the workaround is problematic. It works, but still your domain layer looks like simple DTOs.</p>\n\n<ul>\n<li>When crossing a boundary, use DTO objects. This means you will have your domain object <strong>Demo</strong>, and a DTO object <strong>DemoData</strong> for example. Data will be retrieved using DemoData instances, and repository should convert between those two when saving/retrieving.</li>\n</ul>\n\n<p>This last approach makes you project very easy to change. You can change persistence layer any time, but doing so will require a whole new datastore layer to integrate. Let's say you want to change to cassandra, you will need a new DTO <strong>DemoDataCassandra</strong>, its mappers between it to Demo, new annotations for mappings, etc.</p>\n"},{"tags":[],"owner":{"account_id":4989307,"reputation":171,"user_id":4012027,"display_name":"Cory Serratore"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1574960177,"creation_date":1574960177,"answer_id":59093465,"question_id":52576738,"body_markdown":"I think the general confusion here is due to the overloading of the term Entity, which has different semantics across different contexts.\r\nIn the context of JPA, an Entity is a persistence abstraction representing rows in a table and ORM.\r\nIn the context of Clean Architecture, an Entity is a business domain abstraction and is completely independent of persistence.\r\n\r\nThey can co-exist in a Clean Architecture, but they each serve distinct purposes. Attempting to combine them and leverage JPA capabilities in your business domain entities violates the principles of Clean Architecture and will couple your domain to your persistence implementation.\r\n\r\n","title":"JPA Clean Architecture","body":"<p>I think the general confusion here is due to the overloading of the term Entity, which has different semantics across different contexts.\nIn the context of JPA, an Entity is a persistence abstraction representing rows in a table and ORM.\nIn the context of Clean Architecture, an Entity is a business domain abstraction and is completely independent of persistence.</p>\n\n<p>They can co-exist in a Clean Architecture, but they each serve distinct purposes. Attempting to combine them and leverage JPA capabilities in your business domain entities violates the principles of Clean Architecture and will couple your domain to your persistence implementation.</p>\n"}],"owner":{"account_id":6492732,"reputation":982,"user_id":5026265,"accept_rate":78,"display_name":"Barney Stinson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3774,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":3,"score":9,"last_activity_date":1677027171,"creation_date":1538301008,"question_id":52576738,"body_markdown":"I&#39;m refactoring a microservice according to *Clean Architecture*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/38sT3.jpg\r\n\r\nFrameworks should be at the utmost layer. So I used the Adapter Pattern and Dependency Inversion to put \r\n`org.springframework.data.repository.CrudRepository` at the utmost layer. But how can I use `@Entity` (from **J**ava **P**ersistence **A**PI) to persist my entities, if entities are in the center and frameworks are at the utmost layer?\r\n\r\n__________\r\n\r\nExample:\r\nDemo-Entity:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.validation.constraints.NotNull;\r\n\r\n    @Entity\r\n    public class Demo implements Serializable {\r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        \r\n        @NotNull\r\n        private String foo;\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nGenericRepostioryInterface (in the Usecase Layer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface CrudRepositoryInterface&lt;S,T&gt; {\r\n        public &lt;U extends S&gt; U save(U u) ;    \r\n        public &lt;U extends S&gt; Iterable&lt;U&gt; saveAll(Iterable&lt;U&gt; itrbl) ;    \r\n        public Optional&lt;S&gt; findById(T id) ;    \r\n        public boolean existsById(T id) ;    \r\n        public Iterable&lt;S&gt; findAll() ;    \r\n        public Iterable&lt;S&gt; findAllById(Iterable&lt;T&gt; itrbl) ;    \r\n        public long count() ;    \r\n        public void deleteById(T id) ;    \r\n        public void delete(S t);    \r\n        public void deleteAll(Iterable&lt;? extends S&gt; itrbl) ;    \r\n        public void deleteAll() ;  \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSome usecase:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        @Autowired\r\n        private CrudRepositoryInterface&lt;Demo,Long&gt; demoRepository;\r\n        ...\r\n        \r\n        private void deleteAll(){\r\n          this.demoRepository.deleteAll();\r\n        }\r\n        ...\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAdapter (DB Layer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface DemoRepositoryAdapter extends CrudRepository&lt;Demo,Long&gt;,CrudRepositoryInterface&lt;Demo,Long&gt;{    \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nConfig for Injection (I put that in the DB Package/Layer as well)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    public class InjectRepositoryConfig {    \r\n        @Bean\r\n        public CrudRepositoryInterface&lt;Demo,Long&gt; animalOwnerRepository(@Autowired DemoRepositoryAdapter demoRepositoryAdapter){\r\n            return demoRepositoryAdapter;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n__________\r\n\r\nThis works fine so far but I&#39;m unsure how to remove / replace / refactor JPA out of the core layer?\r\n\r\n","title":"JPA Clean Architecture","body":"<p>I'm refactoring a microservice according to <em>Clean Architecture</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/38sT3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/38sT3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Frameworks should be at the utmost layer. So I used the Adapter Pattern and Dependency Inversion to put\n<code>org.springframework.data.repository.CrudRepository</code> at the utmost layer. But how can I use <code>@Entity</code> (from <strong>J</strong>ava <strong>P</strong>ersistence <strong>A</strong>PI) to persist my entities, if entities are in the center and frameworks are at the utmost layer?</p>\n<hr />\n<p>Example:\nDemo-Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class Demo implements Serializable {\n    @Id\n    @GeneratedValue\n    private long id;\n    \n    @NotNull\n    private String foo;\n\n}\n</code></pre>\n\n<p>GenericRepostioryInterface (in the Usecase Layer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CrudRepositoryInterface&lt;S,T&gt; {\n    public &lt;U extends S&gt; U save(U u) ;    \n    public &lt;U extends S&gt; Iterable&lt;U&gt; saveAll(Iterable&lt;U&gt; itrbl) ;    \n    public Optional&lt;S&gt; findById(T id) ;    \n    public boolean existsById(T id) ;    \n    public Iterable&lt;S&gt; findAll() ;    \n    public Iterable&lt;S&gt; findAllById(Iterable&lt;T&gt; itrbl) ;    \n    public long count() ;    \n    public void deleteById(T id) ;    \n    public void delete(S t);    \n    public void deleteAll(Iterable&lt;? extends S&gt; itrbl) ;    \n    public void deleteAll() ;  \n}\n</code></pre>\n\n<p>Some usecase:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private CrudRepositoryInterface&lt;Demo,Long&gt; demoRepository;\n    ...\n    \n    private void deleteAll(){\n      this.demoRepository.deleteAll();\n    }\n    ...\n</code></pre>\n\n<p>Adapter (DB Layer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DemoRepositoryAdapter extends CrudRepository&lt;Demo,Long&gt;,CrudRepositoryInterface&lt;Demo,Long&gt;{    \n}\n</code></pre>\n\n<p>Config for Injection (I put that in the DB Package/Layer as well)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class InjectRepositoryConfig {    \n    @Bean\n    public CrudRepositoryInterface&lt;Demo,Long&gt; animalOwnerRepository(@Autowired DemoRepositoryAdapter demoRepositoryAdapter){\n        return demoRepositoryAdapter;\n    }\n}\n</code></pre>\n\n<hr />\n<p>This works fine so far but I'm unsure how to remove / replace / refactor JPA out of the core layer?</p>\n"},{"tags":["java","junit","mockito","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675668628,"post_id":75353469,"comment_id":132970895,"body_markdown":"What&#39;s the use case for mocking an interceptor?","body":"What&#39;s the use case for mocking an interceptor?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1675762487,"post_id":75353469,"comment_id":132993513,"body_markdown":"I think this is a valid question. Interceptors have logic, sometimes complex logic, and the benefits of testing them are the same as testing any other piece of code! And indeed, there is no facility that I know of to help with that, at least in the JEE world. What I do is (a) create a dummy bean only for tests - the bean has one method that records whether it was called, and maybe its arguments, and getters for the arguments (b) apply the interceptor to that method and (c) test. It is cumbersome, but at least it works.","body":"I think this is a valid question. Interceptors have logic, sometimes complex logic, and the benefits of testing them are the same as testing any other piece of code! And indeed, there is no facility that I know of to help with that, at least in the JEE world. What I do is (a) create a dummy bean only for tests - the bean has one method that records whether it was called, and maybe its arguments, and getters for the arguments (b) apply the interceptor to that method and (c) test. It is cumbersome, but at least it works."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1675762686,"post_id":75353469,"comment_id":132993574,"body_markdown":"An example from my own code [here](https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-article-module/realworld-v2-article-services/src/test/java/realworld/article/services/authz/impl/ArticleServiceAuthorizerTest.java). It is for a *decorator* and using *weld-junit*, but the principle is the same.","body":"An example from my own code <a href=\"https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-article-module/realworld-v2-article-services/src/test/java/realworld/article/services/authz/impl/ArticleServiceAuthorizerTest.java\" rel=\"nofollow noreferrer\">here</a>. It is for a <i>decorator</i> and using <i>weld-junit</i>, but the principle is the same."}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677026752,"creation_date":1675611685,"question_id":75353469,"body_markdown":"How to mock interceptor methods during test?\r\n\r\nExample of class with interceptor:\r\n\r\n    \r\n    @ApplicationScoped\r\n    public class MyServiceImpl implements MyService {\r\n    \r\n    \r\n        @Override\r\n        @MyAnnotation\r\n        public Uni&lt;List&lt;SomeDto&gt;&gt; getAll() {\r\n            return //\r\n        }\r\n\r\nExample of interceptor which works via @MyAnnotation:\r\n\r\n    @Priority(100)\r\n    @MyAnnotation\r\n    @Interceptor\r\n    public class MyInterceptor {\r\n    \r\n        @AroundInvoke\r\n        public Object someMethod(InvocationContext ic)throws Exception {\r\n           // some logic\r\n            return ic.proceed();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHow test should be designed to mock invocation of someMethod in MyInterceptor?\r\n\r\n    @QuarkusTest\r\n    class SomeServiceTest {\r\n    \r\n        @Test\r\n        void getAllNotBlacklisted() {\r\n           // ???\r\n        }","title":"How to mock interceptors?","body":"<p>How to mock interceptor methods during test?</p>\n<p>Example of class with interceptor:</p>\n<pre><code>@ApplicationScoped\npublic class MyServiceImpl implements MyService {\n\n\n    @Override\n    @MyAnnotation\n    public Uni&lt;List&lt;SomeDto&gt;&gt; getAll() {\n        return //\n    }\n</code></pre>\n<p>Example of interceptor which works via @MyAnnotation:</p>\n<pre><code>@Priority(100)\n@MyAnnotation\n@Interceptor\npublic class MyInterceptor {\n\n    @AroundInvoke\n    public Object someMethod(InvocationContext ic)throws Exception {\n       // some logic\n        return ic.proceed();\n    }\n\n}\n</code></pre>\n<p>How test should be designed to mock invocation of someMethod in MyInterceptor?</p>\n<pre><code>@QuarkusTest\nclass SomeServiceTest {\n\n    @Test\n    void getAllNotBlacklisted() {\n       // ???\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-linux-2"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677090624,"post_id":75520461,"comment_id":133270758,"body_markdown":"Compiled binaries for what platform?  I&#39;ve not done what you&#39;re trying to do but Lambda&#39;s run in 64 bit Linux environments and I don&#39;t know how they handle 32 bits.","body":"Compiled binaries for what platform?  I&#39;ve not done what you&#39;re trying to do but Lambda&#39;s run in 64 bit Linux environments and I don&#39;t know how they handle 32 bits."},{"owner":{"account_id":18301519,"reputation":1,"user_id":13326199,"display_name":"ARPIT MISHRA"},"score":0,"creation_date":1677134189,"post_id":75520461,"comment_id":133278600,"body_markdown":"Amazon linux 2, i want to run selenium and headless chrome on aws lambda to execute ui test suites.","body":"Amazon linux 2, i want to run selenium and headless chrome on aws lambda to execute ui test suites."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677165526,"post_id":75520461,"comment_id":133287590,"body_markdown":"I don&#39;t see a AWS Linux 2 package on the [downloads page](https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/linux/chromium_packages.md) and you appear to be using a 32 bit driver.  Again, what did you package?","body":"I don&#39;t see a AWS Linux 2 package on the <a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/linux/chromium_packages.md\" rel=\"nofollow noreferrer\">downloads page</a> and you appear to be using a 32 bit driver.  Again, what did you package?"}],"owner":{"account_id":18301519,"reputation":1,"user_id":13326199,"display_name":"ARPIT MISHRA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677026688,"creation_date":1676982100,"question_id":75520461,"body_markdown":"unable to run chromium on traditional aws lambda. also i dont want to use docker.\r\n\r\nFor instance, I have uploaded the compiled binaries of the chrome driver and headless chromium into a lambda layer and have used system.setProperties in my code also have set the binaries for headless chromium but getting this error in lambda logs:\r\n\r\n    /opt/lib/chromedriver: error while loading shared libraries: libglib-2.0.so.0: wrong ELF class: ELFCLASS32 Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.  Host info: host: &#39;169.254.145.9&#39;, ip: &#39;169.254.145.9&#39;: org.openqa.selenium.SessionNotCreatedException\r\n\r\n \r\n\r\n\r\ncan any body help me with this.","title":"How to run headless chromium browser in AWS lambda using selenium and java without docker?","body":"<p>unable to run chromium on traditional aws lambda. also i dont want to use docker.</p>\n<p>For instance, I have uploaded the compiled binaries of the chrome driver and headless chromium into a lambda layer and have used system.setProperties in my code also have set the binaries for headless chromium but getting this error in lambda logs:</p>\n<pre><code>/opt/lib/chromedriver: error while loading shared libraries: libglib-2.0.so.0: wrong ELF class: ELFCLASS32 Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.  Host info: host: '169.254.145.9', ip: '169.254.145.9': org.openqa.selenium.SessionNotCreatedException\n</code></pre>\n<p>can any body help me with this.</p>\n"},{"tags":["java","intellij-idea","junit","junit5","intellij-14"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677029164,"post_id":75527244,"comment_id":133255622,"body_markdown":"You&#39;ll want to make sure that junit-jupiter-api is in your class path.  Have a look under `File &gt; Project Structure` for `Project Settings &gt; Libraries`.  Add the jar there if it&#39;s not already listed.","body":"You&#39;ll want to make sure that junit-jupiter-api is in your class path.  Have a look under <code>File &gt; Project Structure</code> for <code>Project Settings &gt; Libraries</code>.  Add the jar there if it&#39;s not already listed."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1677035353,"post_id":75527244,"comment_id":133256409,"body_markdown":"You could check the documentation here https://www.jetbrains.com/help/idea/library.html#define-a-project-library to know how to add the library to the project.","body":"You could check the documentation here <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a> to know how to add the library to the project."}],"owner":{"account_id":27291934,"reputation":1,"user_id":20810174,"display_name":"Mr.Trollo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677026331,"creation_date":1677026331,"question_id":75527244,"body_markdown":"(https://i.stack.imgur.com/ON544.png) I don&#39;t know if Im supposed to put the jar file somewhere in my path or if I can place it anywhere currently Its not directly on my path maybe thats why its not working I would like to know how to fix.\r\n\r\nI want to be able to make a simple tester but I can&#39;t.","title":"Why is my JUNIT 5 not working Im trying to create a tester but I get &quot;cannot resolve symbol `Assertions`? I Did it in root source code and then fix","body":"<p>(<a href=\"https://i.stack.imgur.com/ON544.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ON544.png</a>) I don't know if Im supposed to put the jar file somewhere in my path or if I can place it anywhere currently Its not directly on my path maybe thats why its not working I would like to know how to fix.</p>\n<p>I want to be able to make a simple tester but I can't.</p>\n"},{"tags":["java","sql","sql-server","dll"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1677024503,"post_id":75527060,"comment_id":133255009,"body_markdown":"see if this helps https://stackoverflow.com/questions/61117080/no-mssql-jdbc-auth-8-2-1-x64-in-java-library-path","body":"see if this helps <a href=\"https://stackoverflow.com/questions/61117080/no-mssql-jdbc-auth-8-2-1-x64-in-java-library-path\" title=\"no mssql jdbc auth 8 2 1 x64 in java library path\">stackoverflow.com/questions/61117080/&hellip;</a>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1677034975,"post_id":75527060,"comment_id":133256370,"body_markdown":"I guess the question is: why do you need it? Azure AD authentication, etc., is built into the Microsoft JDBC driver itself as of around v8.2. If you&#39;re trying to do this for Windows Authentication against an SQL Server then you can only do that from Windows machines.","body":"I guess the question is: why do you need it? Azure AD authentication, etc., is built into the Microsoft JDBC driver itself as of around v8.2. If you&#39;re trying to do this for Windows Authentication against an SQL Server then you can only do that from Windows machines."}],"owner":{"account_id":17528560,"reputation":79,"user_id":12713111,"display_name":"DeeP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677025459,"creation_date":1677024015,"question_id":75527060,"body_markdown":"I&#39;m trying to connect to a SQL Server from a MAC and keep getting this error. \r\n\r\n&gt; Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64\r\n\r\nFor Windows, the solution is to add the dll file in the jdk/bin folder, but this doesn&#39;t work for mac. \r\n\r\nWhat&#39;s the solution for MAC users? ","title":"Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64 (For MAC)","body":"<p>I'm trying to connect to a SQL Server from a MAC and keep getting this error.</p>\n<blockquote>\n<p>Unable to load authentication DLL mssql-jdbc_auth-10.2.1.x64</p>\n</blockquote>\n<p>For Windows, the solution is to add the dll file in the jdk/bin folder, but this doesn't work for mac.</p>\n<p>What's the solution for MAC users?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"score":0,"creation_date":1677017751,"post_id":75526403,"comment_id":133253809,"body_markdown":"I got the sorted output mixed up but the site won&#39;t let me edit: Sorted output in the OP example should be [{&quot;Bob&quot;, 81}, {&quot;David&quot;, 47}, {&quot;John&quot;, 81}]. Wanted to demonstrate what happens in a tiebreaker but that&#39;d be applicable if the input was [&quot;byAge&quot;, &quot;byName&quot;]","body":"I got the sorted output mixed up but the site won&#39;t let me edit: Sorted output in the OP example should be [{&quot;Bob&quot;, 81}, {&quot;David&quot;, 47}, {&quot;John&quot;, 81}]. Wanted to demonstrate what happens in a tiebreaker but that&#39;d be applicable if the input was [&quot;byAge&quot;, &quot;byName&quot;]"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1677017815,"post_id":75526403,"comment_id":133253816,"body_markdown":"Why can&#39;t you edit? Just click the [edit] button beneath your post.","body":"Why can&#39;t you edit? Just click the <a href=\"https://stackoverflow.com/posts/75526403/edit\">edit</a> button beneath your post."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1677017824,"post_id":75526403,"comment_id":133253818,"body_markdown":"If you need to clarify anything - simply [edit] your question. Do not put it in comments.","body":"If you need to clarify anything - simply <a href=\"https://stackoverflow.com/posts/75526403/edit\">edit</a> your question. Do not put it in comments."},{"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"score":0,"creation_date":1677021704,"post_id":75526403,"comment_id":133254530,"body_markdown":"I get the error message &quot;There are too many pending edits on Stack Overflow. Please try again later.&quot; when I attempt to edit &#175;\\_(„ÉÑ)_/&#175;. Guess that&#39;s just me then","body":"I get the error message &quot;There are too many pending edits on Stack Overflow. Please try again later.&quot; when I attempt to edit &#175;_(„ÉÑ)_/&#175;. Guess that&#39;s just me then"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677018161,"creation_date":1677018161,"answer_id":75526466,"question_id":75526403,"body_markdown":"You can create a map of comparators by name:\r\n\r\n    Map&lt;String, Comparator&lt;Person&gt;&gt; comparators = new HashMap&lt;&gt;();\r\n    comparators.put(&quot;byName&quot;, Comparator.comparing(Person::getName));\r\n    comparators.put(&quot;byAge&quot;, Comparator.comparing(Person::getAge));\r\n    \r\nThen chain them on the fly:\r\n\r\n    List&lt;String&gt; input = Arrays.asList(&quot;byName&quot;, &quot;byAge&quot;);\r\n    Comparator&lt;Person&gt; comparator = input.stream()\r\n            .map(comparators::get)\r\n            .reduce(Comparator::thenComparing)\r\n            .orElse((a, b) -&gt; 0);","title":"How to dynamically choose a comparator to sort a collection of data by?","body":"<p>You can create a map of comparators by name:</p>\n<pre><code>Map&lt;String, Comparator&lt;Person&gt;&gt; comparators = new HashMap&lt;&gt;();\ncomparators.put(&quot;byName&quot;, Comparator.comparing(Person::getName));\ncomparators.put(&quot;byAge&quot;, Comparator.comparing(Person::getAge));\n</code></pre>\n<p>Then chain them on the fly:</p>\n<pre><code>List&lt;String&gt; input = Arrays.asList(&quot;byName&quot;, &quot;byAge&quot;);\nComparator&lt;Person&gt; comparator = input.stream()\n        .map(comparators::get)\n        .reduce(Comparator::thenComparing)\n        .orElse((a, b) -&gt; 0);\n</code></pre>\n"}],"owner":{"account_id":26209102,"reputation":27,"user_id":19888263,"display_name":"pleasedontbemeantome"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75526466,"answer_count":1,"score":0,"last_activity_date":1677024006,"creation_date":1677017664,"question_id":75526403,"body_markdown":"So I have user input that&#39;s a list of 2 elements, and the order of the 2 elements might change. If the input is like [&quot;byName&quot;, &quot;byAge&quot;], then I&#39;d need to first sort a collection of data based off name, and if there&#39;s a tie between 2 elements, then sort by age. \r\n\r\nSo if input is \r\n\r\n    [&quot;byName&quot;, &quot;byAge&quot;] \r\n\r\nand data is \r\n\r\n    [{&quot;John&quot;, 81}, \r\n     {&quot;Bob&quot;, 81}, \r\n     {&quot;David&quot;, 47}] \r\n\r\nsorted output would be \r\n\r\n    [{&quot;Bob&quot;, 81}, \r\n     {&quot;David&quot;, 47}, \r\n     {&quot;John&quot;, 81}]\r\n\r\nLikewise, if the input list is reversed like `[&quot;byAge&quot;, &quot;byName&quot;]`, then I&#39;d sort the data by age, and use the name as a tiebreaker. \r\n\r\nI&#39;m unsure of what&#39;s the cleanest way to dynamically choose a comparator (I need comparators because there&#39;s other custom comparison logic I need to implement) based off the input? The most obvious way would be to directly perform a check on which element exists at index 0, i.e. in some lambda chain if `input.get(0) == &quot;byAge&quot;` then sort like this. But that&#39;s not really extensible, is it? ","title":"How to dynamically choose a comparator to sort a collection of data by?","body":"<p>So I have user input that's a list of 2 elements, and the order of the 2 elements might change. If the input is like [&quot;byName&quot;, &quot;byAge&quot;], then I'd need to first sort a collection of data based off name, and if there's a tie between 2 elements, then sort by age.</p>\n<p>So if input is</p>\n<pre><code>[&quot;byName&quot;, &quot;byAge&quot;] \n</code></pre>\n<p>and data is</p>\n<pre><code>[{&quot;John&quot;, 81}, \n {&quot;Bob&quot;, 81}, \n {&quot;David&quot;, 47}] \n</code></pre>\n<p>sorted output would be</p>\n<pre><code>[{&quot;Bob&quot;, 81}, \n {&quot;David&quot;, 47}, \n {&quot;John&quot;, 81}]\n</code></pre>\n<p>Likewise, if the input list is reversed like <code>[&quot;byAge&quot;, &quot;byName&quot;]</code>, then I'd sort the data by age, and use the name as a tiebreaker.</p>\n<p>I'm unsure of what's the cleanest way to dynamically choose a comparator (I need comparators because there's other custom comparison logic I need to implement) based off the input? The most obvious way would be to directly perform a check on which element exists at index 0, i.e. in some lambda chain if <code>input.get(0) == &quot;byAge&quot;</code> then sort like this. But that's not really extensible, is it?</p>\n"},{"tags":["java","database","connection-pooling","hikaricp","lettuce"],"comments":[{"owner":{"account_id":2204808,"reputation":31386,"user_id":1948292,"accept_rate":69,"display_name":"Daniel W."},"score":0,"creation_date":1676634488,"post_id":75483841,"comment_id":133181429,"body_markdown":"Please link the source of your information","body":"Please link the source of your information"},{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":2,"creation_date":1677236729,"post_id":75483841,"comment_id":133302455,"body_markdown":"Basically, Lettuce is powered by Netty - that&#39;s why. If you read Jedis client recommendation, it would sound a lot like Hikari, since underneath the client operates more like JDBC in a blocking fashion.","body":"Basically, Lettuce is powered by Netty - that&#39;s why. If you read Jedis client recommendation, it would sound a lot like Hikari, since underneath the client operates more like JDBC in a blocking fashion."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676925129,"creation_date":1676841960,"answer_id":75503571,"question_id":75483841,"body_markdown":"Hikari is a JDBC connection pool. Connection pooling is required because database has long things to do and while that connection open and running a query you can not run another query over it, so it is better to have multiple &quot;open&quot; connections ready. Read more [here](https://stackoverflow.com/a/16093097/175554)\r\n\r\nOn the other hand Redis is not a database. Redis is a key value based in memory store/cache used for fast access. There you do not need connection pool because it is simple and fast, you ask to redis is &quot;key1&quot; exist give me the data and you get it or not. On the other hand with database you run long running SQLs sometime stored procedures depends to complexity but it is not one step work.","title":"Single connection vs Connection Pool","body":"<p>Hikari is a JDBC connection pool. Connection pooling is required because database has long things to do and while that connection open and running a query you can not run another query over it, so it is better to have multiple &quot;open&quot; connections ready. Read more <a href=\"https://stackoverflow.com/a/16093097/175554\">here</a></p>\n<p>On the other hand Redis is not a database. Redis is a key value based in memory store/cache used for fast access. There you do not need connection pool because it is simple and fast, you ask to redis is &quot;key1&quot; exist give me the data and you get it or not. On the other hand with database you run long running SQLs sometime stored procedures depends to complexity but it is not one step work.</p>\n"},{"tags":[],"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677023861,"creation_date":1677023861,"answer_id":75527052,"question_id":75483841,"body_markdown":"JDBC is blocking, so only 1 request can be in flight at a time on a connection. Because of this, Hikari pools are used to efficiently share the resources of multiple connections so many threads can make requests simultaneously. The more requests you need to serve, and the longer they take, the larger your pool needs to be.\r\n\r\nLettuce, on the other hand, is non-blocking, a single connection can have many requests in flight at once. And because the connections are thread-safe, the connection can be safely shared by multiple threads too.","title":"Single connection vs Connection Pool","body":"<p>JDBC is blocking, so only 1 request can be in flight at a time on a connection. Because of this, Hikari pools are used to efficiently share the resources of multiple connections so many threads can make requests simultaneously. The more requests you need to serve, and the longer they take, the larger your pool needs to be.</p>\n<p>Lettuce, on the other hand, is non-blocking, a single connection can have many requests in flight at once. And because the connections are thread-safe, the connection can be safely shared by multiple threads too.</p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527052,"answer_count":2,"score":1,"last_activity_date":1677023861,"creation_date":1676633999,"question_id":75483841,"body_markdown":"According to **lettuce**, we don&#39;t need connection pool and it uses ```single thread safe shared connection```\r\nhttps://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling\r\n\r\nBut, according to **hikari-cp** we need to have pool of connections of preferably size ```connections = ((core_count * 2) + effective_spindle_count)```\r\nhttps://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\r\n\r\nI am confused why we don&#39;t need pooling in one case but required in other?\r\n\r\n","title":"Single connection vs Connection Pool","body":"<p>According to <strong>lettuce</strong>, we don't need connection pool and it uses <code>single thread safe shared connection</code>\n<a href=\"https://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling\" rel=\"nofollow noreferrer\">https://github.com/lettuce-io/lettuce-core/wiki/Connection-Pooling</a></p>\n<p>But, according to <strong>hikari-cp</strong> we need to have pool of connections of preferably size <code>connections = ((core_count * 2) + effective_spindle_count)</code>\n<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing</a></p>\n<p>I am confused why we don't need pooling in one case but required in other?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677023817,"creation_date":1677023817,"answer_id":75527046,"question_id":75526991,"body_markdown":"This is an ordering problem: since the `getDownloadUrl` method is asynchronous your `setValue` call runs before the `imageUrl[0] = task.getResult().toString()` ever executes. You can most easily validate this by adding some logging to the code, or by setting breakpoints on these lines and running in a debugger.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n\r\nThe fix for such problems is always the same: any code that needs a value, needs to be inside the callback that is executed when that value is available. In your case that means:\r\n\r\n    fileRef.putFile(uri)\r\n        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\r\n                fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                        Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\r\n\r\n                        String eventId = eventRef.push().getKey();\r\n                        eventRef.child(finalUid).child(eventId).setValue(new Evento(\r\n                                author[0],\r\n                                titolo,\r\n                                desc,\r\n                                add,\r\n                                task.getResult().toString(), // &#128072;\r\n                                data,\r\n                                timeStart,\r\n                                timeEnd,\r\n                                finalTick\r\n                        ));\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.e(&quot;Upload failure&quot;, e.getMessage());\r\n            }\r\n        });","title":"imageUrl not getting written into RTDB document","body":"<p>This is an ordering problem: since the <code>getDownloadUrl</code> method is asynchronous your <code>setValue</code> call runs before the <code>imageUrl[0] = task.getResult().toString()</code> ever executes. You can most easily validate this by adding some logging to the code, or by setting breakpoints on these lines and running in a debugger.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n</ul>\n<p>The fix for such problems is always the same: any code that needs a value, needs to be inside the callback that is executed when that value is available. In your case that means:</p>\n<pre><code>fileRef.putFile(uri)\n    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n            Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\n            fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\n\n                    String eventId = eventRef.push().getKey();\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\n                            author[0],\n                            titolo,\n                            desc,\n                            add,\n                            task.getResult().toString(), // üëà\n                            data,\n                            timeStart,\n                            timeEnd,\n                            finalTick\n                    ));\n                }\n            });\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Log.e(&quot;Upload failure&quot;, e.getMessage());\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":26484475,"reputation":5,"user_id":20123283,"display_name":"msp7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527046,"answer_count":1,"score":0,"last_activity_date":1677023817,"creation_date":1677023283,"question_id":75526991,"body_markdown":"Pretty new to Firebase here, I&#39;m developing an Android app for events going on in my city with Associations and regular Users either posting or saving events. This said, I got a problem with my Realtime Database not writing an imageUrl field inside my Event documents. \r\n\r\nThis my createEvent() method: \r\n```\r\n\r\nprivate void createEvent(View view) {\r\n    if(!checkDateIsNotInThePast())\r\n        return;\r\n\r\n    FirebaseUser user = mAuth.getCurrentUser();\r\n    String uid = null;\r\n    final String[] author = new String[1];\r\n    if(user != null) {\r\n        uid = user.getUid();\r\n        assocRef.child(uid).child(&quot;nome&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                author[0] = snapshot.getValue().toString();\r\n                Log.d(&quot;author&quot;, author[0]);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    String titolo = title.getText().toString();\r\n    String desc = description.getText().toString();\r\n    String add = address.getText().toString();\r\n    final String[] imageUrl = new String[1];\r\n    String data = date.getText().toString();\r\n    String timeStart = timeFrom.getText().toString();\r\n    String timeEnd = timeTo.getText().toString();\r\n    String tick = ticket.getText().toString();\r\n\r\n    if(tick.equals(&quot;&quot;)) {\r\n        ticket.setText(R.string.hint_free);\r\n        tick = &quot;Free&quot;;\r\n    }\r\n\r\n    StorageReference assocFolderRef = storageRef.child(uid);\r\n    StorageReference fileRef = assocFolderRef.child(System.currentTimeMillis() + &quot;.&quot; + getFileExtension(uri));\r\n\r\n    String finalUid = uid;\r\n    String finalTick = tick;\r\n    fileRef.putFile(uri)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\r\n                    fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                            imageUrl[0] = task.getResult().toString();\r\n                            Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\r\n                        }\r\n                    });\r\n\r\n                    String eventId = eventRef.push().getKey();\r\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\r\n                            author[0],\r\n                            titolo,\r\n                            desc,\r\n                            add,\r\n                            imageUrl[0],\r\n                            data,\r\n                            timeStart,\r\n                            timeEnd,\r\n                            finalTick\r\n                    ));\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.e(&quot;Upload failure&quot;, e.getMessage());\r\n                }\r\n            });\r\n    \r\n    title.setText(null);\r\n    description.setText(null);\r\n    address.setText(null);\r\n    date.setText(null);\r\n    timeFrom.setText(null);\r\n    timeTo.setText(null);\r\n    ticket.setText(null);\r\n\r\n    Toast.makeText(getContext(), &quot;Evento creato con successo&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n```\r\n\r\nI really don&#39;t know where I messed up since the constructor expects all fields to be passed inside of it, but for some reason every field gets written except the imageUrl one and gives me no errors? I&#39;m utterly confused. \r\n\r\nAny kind of help and/or pointing into any other question if this a duplicate is very well accepted. Thanks in advance.\r\n\r\nTried to pass an Object into a Realtime Database but it passes with a field less than those expected.","title":"imageUrl not getting written into RTDB document","body":"<p>Pretty new to Firebase here, I'm developing an Android app for events going on in my city with Associations and regular Users either posting or saving events. This said, I got a problem with my Realtime Database not writing an imageUrl field inside my Event documents.</p>\n<p>This my createEvent() method:</p>\n<pre><code>\nprivate void createEvent(View view) {\n    if(!checkDateIsNotInThePast())\n        return;\n\n    FirebaseUser user = mAuth.getCurrentUser();\n    String uid = null;\n    final String[] author = new String[1];\n    if(user != null) {\n        uid = user.getUid();\n        assocRef.child(uid).child(&quot;nome&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                author[0] = snapshot.getValue().toString();\n                Log.d(&quot;author&quot;, author[0]);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    String titolo = title.getText().toString();\n    String desc = description.getText().toString();\n    String add = address.getText().toString();\n    final String[] imageUrl = new String[1];\n    String data = date.getText().toString();\n    String timeStart = timeFrom.getText().toString();\n    String timeEnd = timeTo.getText().toString();\n    String tick = ticket.getText().toString();\n\n    if(tick.equals(&quot;&quot;)) {\n        ticket.setText(R.string.hint_free);\n        tick = &quot;Free&quot;;\n    }\n\n    StorageReference assocFolderRef = storageRef.child(uid);\n    StorageReference fileRef = assocFolderRef.child(System.currentTimeMillis() + &quot;.&quot; + getFileExtension(uri));\n\n    String finalUid = uid;\n    String finalTick = tick;\n    fileRef.putFile(uri)\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    Log.d(&quot;Upload success&quot;, taskSnapshot.toString());\n                    fileRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                            imageUrl[0] = task.getResult().toString();\n                            Log.d(&quot;imageUrl&quot;, &quot;onComplete: &quot; + imageUrl[0]);\n                        }\n                    });\n\n                    String eventId = eventRef.push().getKey();\n                    eventRef.child(finalUid).child(eventId).setValue(new Evento(\n                            author[0],\n                            titolo,\n                            desc,\n                            add,\n                            imageUrl[0],\n                            data,\n                            timeStart,\n                            timeEnd,\n                            finalTick\n                    ));\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.e(&quot;Upload failure&quot;, e.getMessage());\n                }\n            });\n    \n    title.setText(null);\n    description.setText(null);\n    address.setText(null);\n    date.setText(null);\n    timeFrom.setText(null);\n    timeTo.setText(null);\n    ticket.setText(null);\n\n    Toast.makeText(getContext(), &quot;Evento creato con successo&quot;, Toast.LENGTH_SHORT).show();\n}\n\n</code></pre>\n<p>I really don't know where I messed up since the constructor expects all fields to be passed inside of it, but for some reason every field gets written except the imageUrl one and gives me no errors? I'm utterly confused.</p>\n<p>Any kind of help and/or pointing into any other question if this a duplicate is very well accepted. Thanks in advance.</p>\n<p>Tried to pass an Object into a Realtime Database but it passes with a field less than those expected.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677023632,"creation_date":1677023632,"answer_id":75527029,"question_id":75526973,"body_markdown":"I think this should work\r\n```java\r\nfinal var values = Set.of(v1, v2, v3, ..., vN);\r\nfinal Map&lt;String, List&lt;Value&gt;&gt; results = values.stream()\r\n  .collect(Collectors.groupingBy(it -&gt; keyIdentifierFrom(it, someOtherStringValue)));\r\n```","title":"Return Map with (unique) key and collection of values that match the same","body":"<p>I think this should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var values = Set.of(v1, v2, v3, ..., vN);\nfinal Map&lt;String, List&lt;Value&gt;&gt; results = values.stream()\n  .collect(Collectors.groupingBy(it -&gt; keyIdentifierFrom(it, someOtherStringValue)));\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75527029,"answer_count":1,"score":0,"last_activity_date":1677023719,"creation_date":1677023069,"question_id":75526973,"body_markdown":"I have a simple object: \r\n \r\n    Value { a: int, \r\n            b: string, \r\n            c: boolean, ... \r\n            some other fields/members }\r\n\r\nThe _key identifier_ is generated from the values of `a`, `b`, and `c` ‚Äî `${a}${b}${c}__${someOtherStringValue}`.\r\n\r\nI&#39;m receiving a set of `Value` and I would like (ideally) to use the Stream API to output a map with _key identifier_ as key, and the corresponding collection of `Value` objects that matches the key as value: `Map&lt;String, Collection&lt;Value&gt;&gt;`.\r\n\r\nThis is what I have so far, but it doesn&#39;t quite work yet...\r\n\r\n```java\r\nfinal var values = Set.of(v1, v2, v3, ..., vN);\r\nfinal Map&lt;String, Collection&lt;Value&gt;&gt; results = values.stream()\r\n  .map(it -&gt; keyIdentifierFrom(it, someOtherStringValue))\r\n  .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n```\r\n\r\nAnyone with streaming super-powers can help?","title":"Return Map with (unique) key and collection of values that match the same","body":"<p>I have a simple object:</p>\n<pre><code>Value { a: int, \n        b: string, \n        c: boolean, ... \n        some other fields/members }\n</code></pre>\n<p>The <em>key identifier</em> is generated from the values of <code>a</code>, <code>b</code>, and <code>c</code> ‚Äî <code>${a}${b}${c}__${someOtherStringValue}</code>.</p>\n<p>I'm receiving a set of <code>Value</code> and I would like (ideally) to use the Stream API to output a map with <em>key identifier</em> as key, and the corresponding collection of <code>Value</code> objects that matches the key as value: <code>Map&lt;String, Collection&lt;Value&gt;&gt;</code>.</p>\n<p>This is what I have so far, but it doesn't quite work yet...</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var values = Set.of(v1, v2, v3, ..., vN);\nfinal Map&lt;String, Collection&lt;Value&gt;&gt; results = values.stream()\n  .map(it -&gt; keyIdentifierFrom(it, someOtherStringValue))\n  .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n<p>Anyone with streaming super-powers can help?</p>\n"},{"tags":["java","image","colors","grayscale"],"answers":[{"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677001957,"creation_date":1677001957,"answer_id":75524158,"question_id":75521903,"body_markdown":"The way Grayscale works in RGB is that when all the values of red green and blue are equal, it is a shade of gray. (0,0,0) is black, and (255,255,255) is white. Something like (127,127,127) would be an in-between shade of gray. The higher the numbers, the lighter the gray, so (55,55,55) is darker than (190,190,190)\r\n\r\nIf you wanted to tint a grayscale image red, for example, you could create a function which increases the red value of each pixel by an amount which is randomly generated. I would go about this by using nested `for` loops to read each pixel of the image and add some red to it. you could also subtract the other values slightly so the image does not get too light. \r\n\r\nHere is a pseudo-code method that you could use to achieve this:\r\n\r\n    int randRed = rand.nextInt(50)\r\n    Color[][] colorArray = new Color[image width][image height];\r\n\r\n    //nested for loops to assign each pixel into Color[][] array\r\n    for (int i=0; i &lt; [image width]; i++) {\r\n        for (int j=0; j &lt; [image height]; j++) {\r\n            colorArray[i][j] = image.getRGB();\r\n        }\r\n    }\r\n    \r\n    //nested for loops to add &#39;randRed&#39; to each pixel into Color[][] array\r\n    for (int i=0; i &lt; [image width]; i++) {\r\n        for (int j=0; j &lt; [image height]; j++) {\r\n            colorArray[i][j] = new Color(image.getR()+randRed, image.getG(), image.getB());\r\n        }\r\n    }\r\n\r\n\r\nYou would need to add checks to ensure that your rib values do not exceed 255 or go below 0, which could be achieved with some `if` statements. Also create functions like `getR()`  to get the red value, etc. which shouldn&#39;t be too difficult. And figure out how to print the image back, but this should give you a good start!","title":"Colorize a Grayscale Image in Java","body":"<p>The way Grayscale works in RGB is that when all the values of red green and blue are equal, it is a shade of gray. (0,0,0) is black, and (255,255,255) is white. Something like (127,127,127) would be an in-between shade of gray. The higher the numbers, the lighter the gray, so (55,55,55) is darker than (190,190,190)</p>\n<p>If you wanted to tint a grayscale image red, for example, you could create a function which increases the red value of each pixel by an amount which is randomly generated. I would go about this by using nested <code>for</code> loops to read each pixel of the image and add some red to it. you could also subtract the other values slightly so the image does not get too light.</p>\n<p>Here is a pseudo-code method that you could use to achieve this:</p>\n<pre><code>int randRed = rand.nextInt(50)\nColor[][] colorArray = new Color[image width][image height];\n\n//nested for loops to assign each pixel into Color[][] array\nfor (int i=0; i &lt; [image width]; i++) {\n    for (int j=0; j &lt; [image height]; j++) {\n        colorArray[i][j] = image.getRGB();\n    }\n}\n\n//nested for loops to add 'randRed' to each pixel into Color[][] array\nfor (int i=0; i &lt; [image width]; i++) {\n    for (int j=0; j &lt; [image height]; j++) {\n        colorArray[i][j] = new Color(image.getR()+randRed, image.getG(), image.getB());\n    }\n}\n</code></pre>\n<p>You would need to add checks to ensure that your rib values do not exceed 255 or go below 0, which could be achieved with some <code>if</code> statements. Also create functions like <code>getR()</code>  to get the red value, etc. which shouldn't be too difficult. And figure out how to print the image back, but this should give you a good start!</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677023534,"creation_date":1677023534,"answer_id":75527017,"question_id":75521903,"body_markdown":"Miguel‚Äôs answer on the question to which you‚Äôve linked provides the solution, albeit not directly as Java code:\r\n\r\n* Convert the grayscale value of each pixel in the original image into a brightness value in an HSB color for corresponding pixel in the converted image.\r\n* Keep the hue of each HSB color the same at all times;  that‚Äôs the color you want to apply.\r\n* I found setting the saturation to 100% looked good, but you are free to try other saturation values.\r\n\r\n&lt;!-- lang: java --&gt;\r\n    public static void colorize(BufferedImage image,\r\n                                float hue) {\r\n\r\n        Objects.requireNonNull(image, &quot;Image cannot be null.&quot;);\r\n\r\n        if (hue &lt; 0 || hue &gt; 1 || Float.isNaN(hue)) {\r\n            throw new IllegalArgumentException(\r\n                &quot;Hue must be between 0 and 1 inclusive.&quot;);\r\n        }\r\n\r\n        int width = image.getWidth();\r\n        int height = image.getHeight();\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                int argb = image.getRGB(x, y);\r\n\r\n                int alpha = (argb &amp; 0xff000000);\r\n                int grayLevel = (argb &gt;&gt; 8) &amp; 0xff;\r\n\r\n                float brightness = grayLevel / 255f;\r\n                int rgb = Color.HSBtoRGB(hue, 1, brightness);\r\n\r\n                argb = (rgb &amp; 0x00ffffff) | alpha;\r\n                image.setRGB(x, y, argb);\r\n            }\r\n        }\r\n    }\r\n","title":"Colorize a Grayscale Image in Java","body":"<p>Miguel‚Äôs answer on the question to which you‚Äôve linked provides the solution, albeit not directly as Java code:</p>\n<ul>\n<li>Convert the grayscale value of each pixel in the original image into a brightness value in an HSB color for corresponding pixel in the converted image.</li>\n<li>Keep the hue of each HSB color the same at all times;  that‚Äôs the color you want to apply.</li>\n<li>I found setting the saturation to 100% looked good, but you are free to try other saturation values.</li>\n</ul>\n\n<pre><code>public static void colorize(BufferedImage image,\n                            float hue) {\n\n    Objects.requireNonNull(image, &quot;Image cannot be null.&quot;);\n\n    if (hue &lt; 0 || hue &gt; 1 || Float.isNaN(hue)) {\n        throw new IllegalArgumentException(\n            &quot;Hue must be between 0 and 1 inclusive.&quot;);\n    }\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n\n    for (int y = 0; y &lt; height; y++) {\n        for (int x = 0; x &lt; width; x++) {\n            int argb = image.getRGB(x, y);\n\n            int alpha = (argb &amp; 0xff000000);\n            int grayLevel = (argb &gt;&gt; 8) &amp; 0xff;\n\n            float brightness = grayLevel / 255f;\n            int rgb = Color.HSBtoRGB(hue, 1, brightness);\n\n            argb = (rgb &amp; 0x00ffffff) | alpha;\n            image.setRGB(x, y, argb);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27842510,"reputation":13,"user_id":21258711,"display_name":"Joseph Parente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527017,"answer_count":2,"score":1,"last_activity_date":1677023534,"creation_date":1676989876,"question_id":75521903,"body_markdown":"I&#39;m making a program in Java that takes a grayscale image and assigns a random color to it, but I can&#39;t seem to find a way to make it work. I&#39;ve looked at a couple of pages I found on the subject ([this page](https://stackoverflow.com/questions/7621774/whats-the-appropriate-way-to-colorize-a-grayscale-image-with-transparency-in-ja) and [this page](https://stackoverflow.com/questions/7521058/colorize-grayscale-image)), but I can&#39;t really understand how those work. \r\n\r\nIdeally, I want a grayscale image like this:\r\n\r\n[grayscale](https://i.stack.imgur.com/kOYir.png)\r\n\r\nto turn into this:\r\n\r\n[colored](https://i.stack.imgur.com/OtwM8.png)\r\n\r\nI&#39;ve tried using a hue changer, but it doesn&#39;t work on grayscale images. Everything else I&#39;ve tried doesn&#39;t seem to work either.","title":"Colorize a Grayscale Image in Java","body":"<p>I'm making a program in Java that takes a grayscale image and assigns a random color to it, but I can't seem to find a way to make it work. I've looked at a couple of pages I found on the subject (<a href=\"https://stackoverflow.com/questions/7621774/whats-the-appropriate-way-to-colorize-a-grayscale-image-with-transparency-in-ja\">this page</a> and <a href=\"https://stackoverflow.com/questions/7521058/colorize-grayscale-image\">this page</a>), but I can't really understand how those work.</p>\n<p>Ideally, I want a grayscale image like this:</p>\n<p><a href=\"https://i.stack.imgur.com/kOYir.png\" rel=\"nofollow noreferrer\">grayscale</a></p>\n<p>to turn into this:</p>\n<p><a href=\"https://i.stack.imgur.com/OtwM8.png\" rel=\"nofollow noreferrer\">colored</a></p>\n<p>I've tried using a hue changer, but it doesn't work on grayscale images. Everything else I've tried doesn't seem to work either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"score":0,"creation_date":1677223226,"post_id":75527000,"comment_id":133298972,"body_markdown":"still waiting for somebody to solve it.","body":"still waiting for somebody to solve it."}],"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677023362,"creation_date":1677023362,"question_id":75527000,"body_markdown":"I got this error in my android studio:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;\r\n\r\nBuild.gradle(:app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    android {\r\n        compileSdkVersion 32\r\n        buildToolsVersion &quot;33.0.1&quot;\r\n        defaultConfig {\r\n            configurations.all {\r\n                resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n            }\r\n            applicationId &quot;com.example.move_sensor&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nbuild.gradle(Mov_Sensor):\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n        }\r\n    }\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nthe error after building:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;\r\n\r\nAndriodMainifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.move_sensor&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Move_Sensor&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMainActivity.java:\r\n\r\n    package com.example.move_sensor;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.hardware.SensorEvent;\r\n    import android.hardware.SensorEventListener;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    ////\r\n            MovementDetector.getInstance().addListener(new MovementDetector.Listener() {\r\n    \r\n    \r\n    \r\n                @Override\r\n                public void onMotionDetected(SensorEvent event, float acceleration) {\r\n    \r\n                    TextView mMotionDetectionTextView = null;\r\n                    mMotionDetectionTextView.setText(&quot;Acceleration: [&quot;+String.format(&quot;%.3f&quot;,event.values[0])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[1])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[2])+&quot;] &quot;+String.format(&quot;%.3f&quot;, acceleration));\r\n                    //if (acceleration &gt; SettingsHelper.getInstance().getMotionDetectionThreshold()){\r\n                    //    mMotionDetectionTextView.setTextColor(Color.RED);\r\n                   // } else {\r\n                        mMotionDetectionTextView.setTextColor(Color.WHITE);\r\n                    //}\r\n    \r\n                }\r\n            });\r\n            ////\r\n        }\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            MovementDetector.getInstance().start();\r\n        }\r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            MovementDetector.getInstance().stop();\r\n        }\r\n        protected final String TAG = getClass().getSimpleName();\r\n    }\r\n\r\nafter searching for it online I thought that decrease of the `dependencies`\r\n to previouse version will fix that. so I changed my dependencies from:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n\r\nto:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n\r\nbut I got similar error:\r\n\r\n    Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_bottom_app_bar_container_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;&#39;\r\n\r\n\r\nany help with this?\r\nthank you\r\n\r\n\r\n","title":"Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;","body":"<p>I got this error in my android studio:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;'\n</code></pre>\n<p>Build.gradle(:app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\nandroid {\n    compileSdkVersion 32\n    buildToolsVersion &quot;33.0.1&quot;\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy { force 'androidx.core:core:1.6.0' }\n        }\n        applicationId &quot;com.example.move_sensor&quot;\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>build.gradle(Mov_Sensor):</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n    }\n}\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>the error after building:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;'\n</code></pre>\n<p>AndriodMainifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.move_sensor&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Move_Sensor&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.move_sensor;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n////\n        MovementDetector.getInstance().addListener(new MovementDetector.Listener() {\n\n\n\n            @Override\n            public void onMotionDetected(SensorEvent event, float acceleration) {\n\n                TextView mMotionDetectionTextView = null;\n                mMotionDetectionTextView.setText(&quot;Acceleration: [&quot;+String.format(&quot;%.3f&quot;,event.values[0])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[1])+&quot;,&quot;+String.format(&quot;%.3f&quot;,event.values[2])+&quot;] &quot;+String.format(&quot;%.3f&quot;, acceleration));\n                //if (acceleration &gt; SettingsHelper.getInstance().getMotionDetectionThreshold()){\n                //    mMotionDetectionTextView.setTextColor(Color.RED);\n               // } else {\n                    mMotionDetectionTextView.setTextColor(Color.WHITE);\n                //}\n\n            }\n        });\n        ////\n    }\n    @Override\n    public void onResume() {\n        super.onResume();\n        MovementDetector.getInstance().start();\n    }\n    @Override\n    public void onPause() {\n        super.onPause();\n        MovementDetector.getInstance().stop();\n    }\n    protected final String TAG = getClass().getSimpleName();\n}\n</code></pre>\n<p>after searching for it online I thought that decrease of the <code>dependencies</code>\nto previouse version will fix that. so I changed my dependencies from:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n</code></pre>\n<p>to:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n</code></pre>\n<p>but I got similar error:</p>\n<pre><code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_bottom_app_bar_container_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;'\n</code></pre>\n<p>any help with this?\nthank you</p>\n"},{"tags":["java","string","parsing","numberformatexception"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1676578572,"post_id":75477448,"comment_id":133170688,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676578915,"post_id":75477448,"comment_id":133170772,"body_markdown":"You&#39;re file seems to contain floating point values and yet you are using `Integer.parseInt`. What do you think `Integer.parseInt(&quot;8.0&quot;);` does?","body":"You&#39;re file seems to contain floating point values and yet you are using <code>Integer.parseInt</code>. What do you think <code>Integer.parseInt(&quot;8.0&quot;);</code> does?"},{"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"score":0,"creation_date":1676912202,"post_id":75477448,"comment_id":133228445,"body_markdown":"when I am reading the lines with floating points, I use Double.parseDouble() and it works.  When I am reading the lines where I need them to be natural numbers or indexes, I use pareseInt.","body":"when I am reading the lines with floating points, I use Double.parseDouble() and it works.  When I am reading the lines where I need them to be natural numbers or indexes, I use pareseInt."},{"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"score":0,"creation_date":1676912464,"post_id":75477448,"comment_id":133228525,"body_markdown":"@OHGODSPIDERS I should paste the text?","body":"@OHGODSPIDERS I should paste the text?"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1676913970,"post_id":75477448,"comment_id":133228929,"body_markdown":"T.J.Foster yes indeed! Just paste it as text, and please also read the link that OH GOD SPIDERS posted :)","body":"T.J.Foster yes indeed! Just paste it as text, and please also read the link that OH GOD SPIDERS posted :)"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677022141,"creation_date":1677022141,"answer_id":75526903,"question_id":75477448,"body_markdown":"You have some numbers separated by tabs. If you want to split on _any_ whitespace, you can use the `\\s` regex metacharacter:\r\n\r\n    String[] theseEdges = line.split(&quot;\\\\s+&quot;); // split along whitespaces","title":"Splitting a string of numbers into an array of strings to turn into integers - Java","body":"<p>You have some numbers separated by tabs. If you want to split on <em>any</em> whitespace, you can use the <code>\\s</code> regex metacharacter:</p>\n<pre><code>String[] theseEdges = line.split(&quot;\\\\s+&quot;); // split along whitespaces\n</code></pre>\n"}],"owner":{"account_id":27806089,"reputation":119,"user_id":21229467,"display_name":"T. J. Foster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75526903,"answer_count":1,"score":-2,"last_activity_date":1677022141,"creation_date":1676578440,"question_id":75477448,"body_markdown":"I am trying to break down lines in a file from strings to arrays of strings, each with a number. Then I am trying to convert each string to an integer value to use for my code.  It is giving me a number format exception.  Is there some way I&#39;m doing it wrong.\r\n\r\n16.0 0.0 30.0\r\n0.0 0.0 30.0\r\n0.0 10.0 30.0\r\n8.0 16.0 54.0\r\n16.0 0.0 54.0\r\n16.0 0.0 54.0\r\n0.0 0.0 54.0 \r\n0.0 10.0 54.0\r\n5\t1\t5\t4\t3\t2\r\n5\t6\t7\t8\t9\t10\r\n4\t7\t2\t3\t8split works for edges\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;5\t1\t5\t4\t3\t2&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n\r\n\r\n    for (int i = 0; i &lt; Transformation.numPoly; i ++) {\r\n             String line = Transformation.scanner.nextLine();  // file from another object. \r\n             System.out.println(line); // ensure line is read. \r\n               String[] theseEdges = line.split(&quot; &quot;); // split along spaces. \r\n               System.out.println(&quot;split works for edges&quot;); \r\n               int numEdges = Integer.parseInt(theseEdges[0].trim());// find first number of of string to use for program. \r\n               System.out.println(Arrays.toString(theseEdges)); // \r\n\r\n\r\nIt gave me a number format exception.  The spacing in the string it reads in the error message is different than the one in the file or printed by the code.","title":"Splitting a string of numbers into an array of strings to turn into integers - Java","body":"<p>I am trying to break down lines in a file from strings to arrays of strings, each with a number. Then I am trying to convert each string to an integer value to use for my code.  It is giving me a number format exception.  Is there some way I'm doing it wrong.</p>\n<p>16.0 0.0 30.0\n0.0 0.0 30.0\n0.0 10.0 30.0\n8.0 16.0 54.0\n16.0 0.0 54.0\n16.0 0.0 54.0\n0.0 0.0 54.0\n0.0 10.0 54.0\n5   1   5   4   3   2\n5   6   7   8   9   10\n4   7   2   3   8split works for edges\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;5    1   5   4   3   2&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\nat java.base/java.lang.Integer.parseInt(Integer.java:652)\nat java.base/java.lang.Integer.parseInt(Integer.java:770)</p>\n<pre><code>for (int i = 0; i &lt; Transformation.numPoly; i ++) {\n         String line = Transformation.scanner.nextLine();  // file from another object. \n         System.out.println(line); // ensure line is read. \n           String[] theseEdges = line.split(&quot; &quot;); // split along spaces. \n           System.out.println(&quot;split works for edges&quot;); \n           int numEdges = Integer.parseInt(theseEdges[0].trim());// find first number of of string to use for program. \n           System.out.println(Arrays.toString(theseEdges)); // \n</code></pre>\n<p>It gave me a number format exception.  The spacing in the string it reads in the error message is different than the one in the file or printed by the code.</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1595289730,"post_id":63005056,"comment_id":111417486,"body_markdown":"Why no Map? Seems like a useful data structure for this problem.","body":"Why no Map? Seems like a useful data structure for this problem."}],"answers":[{"tags":[],"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595289592,"creation_date":1595287635,"answer_id":63005198,"question_id":63005056,"body_markdown":"Since Java 9 you can use [`Locale::getISOCountries`][1] method, passing a flag for the 3-letter kind, [`Locale.IsoCountryCode.PART1_ALPHA3`][2]. \r\n\r\n    boolean contains = Locale.getISOCountries(Locale.IsoCountryCode.PART1_ALPHA3).contains(&quot;USA&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Locale.html#getISOCountries-java.util.Locale.IsoCountryCode-\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.IsoCountryCode.html#PART1_ALPHA3","title":"Iso 3 letter country code validation in JAVA","body":"<p>Since Java 9 you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Locale.html#getISOCountries-java.util.Locale.IsoCountryCode-\" rel=\"noreferrer\"><code>Locale::getISOCountries</code></a> method, passing a flag for the 3-letter kind, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.IsoCountryCode.html#PART1_ALPHA3\" rel=\"noreferrer\"><code>Locale.IsoCountryCode.PART1_ALPHA3</code></a>.</p>\n<pre><code>boolean contains = Locale.getISOCountries(Locale.IsoCountryCode.PART1_ALPHA3).contains(&quot;USA&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677021804,"creation_date":1595289441,"answer_id":63005428,"question_id":63005056,"body_markdown":"You can use both the `Locale.getISOCountries()` and `Locale.getISO3Country()` methods contained within the `Locale` class to get all the three letter country codes. Here is a method that will return a `String[]` array of all the three letter country codes:\r\n\r\n    public static String[] getISO3CountryCodes() {\r\n        String[] countries = Locale.getISOCountries();\r\n        String[] iso3 = new String[countries.length];\r\n        for (int i = 0; i &lt; countries.length; i++) {\r\n            Locale locale = new Locale(&quot;&quot;, countries[i]);\r\n            iso3[i] = locale.getISO3Country();\r\n        }\r\n        return iso3;\r\n    }\r\n\r\nAnd to fire it up with a validation example:\r\n\r\n    // Get the Country Codes and place them into a Collection (List Interface)\r\n    List&lt;String&gt; countryCodes = java.util.Arrays.asList(getISO3CountryCodes());\r\n    System.out.println(countryCodes);  //Display the collection in Console\r\n\r\n    // Get Country Code input from User and test for validity.\r\n    Scanner input = new Scanner(System.in);\r\n    String cCode = &quot;&quot;;\r\n    while (cCode.equals(&quot;&quot;)) {\r\n        System.out.print(&quot;Enter a Country code: --&gt; &quot;);\r\n        cCode = input.nextLine().trim().toUpperCase();\r\n        // Is the supplied Country Code contained within the\r\n        // List. If not then it&#39;s invalid.\r\n        if (!countryCodes.contains(cCode)) {\r\n            // Nope...supplied country code is not in the List. \r\n            System.err.println(&quot;Invalid Country Code Supplied (&quot; + cCode + &quot;)!&quot;);\r\n            System.out.println();\r\n            cCode = &quot;&quot;;  // Null String to ensure re-prompting\r\n        }\r\n    }\r\n    System.out.println(&quot;Valid Country Code Supplied (&quot; + cCode + &quot;). Thank-You&quot;);","title":"Iso 3 letter country code validation in JAVA","body":"<p>You can use both the <code>Locale.getISOCountries()</code> and <code>Locale.getISO3Country()</code> methods contained within the <code>Locale</code> class to get all the three letter country codes. Here is a method that will return a <code>String[]</code> array of all the three letter country codes:</p>\n<pre><code>public static String[] getISO3CountryCodes() {\n    String[] countries = Locale.getISOCountries();\n    String[] iso3 = new String[countries.length];\n    for (int i = 0; i &lt; countries.length; i++) {\n        Locale locale = new Locale(&quot;&quot;, countries[i]);\n        iso3[i] = locale.getISO3Country();\n    }\n    return iso3;\n}\n</code></pre>\n<p>And to fire it up with a validation example:</p>\n<pre><code>// Get the Country Codes and place them into a Collection (List Interface)\nList&lt;String&gt; countryCodes = java.util.Arrays.asList(getISO3CountryCodes());\nSystem.out.println(countryCodes);  //Display the collection in Console\n\n// Get Country Code input from User and test for validity.\nScanner input = new Scanner(System.in);\nString cCode = &quot;&quot;;\nwhile (cCode.equals(&quot;&quot;)) {\n    System.out.print(&quot;Enter a Country code: --&gt; &quot;);\n    cCode = input.nextLine().trim().toUpperCase();\n    // Is the supplied Country Code contained within the\n    // List. If not then it's invalid.\n    if (!countryCodes.contains(cCode)) {\n        // Nope...supplied country code is not in the List. \n        System.err.println(&quot;Invalid Country Code Supplied (&quot; + cCode + &quot;)!&quot;);\n        System.out.println();\n        cCode = &quot;&quot;;  // Null String to ensure re-prompting\n    }\n}\nSystem.out.println(&quot;Valid Country Code Supplied (&quot; + cCode + &quot;). Thank-You&quot;);\n</code></pre>\n"}],"owner":{"account_id":19065253,"reputation":51,"user_id":13920461,"display_name":"Coder_99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7850,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677021804,"creation_date":1595286509,"question_id":63005056,"body_markdown":"Using Java, is there a way to check if a given string is a valid ISO 3 letter country code? \r\n(example: check if USA is correct or not)\r\n\r\nIf possible, please provide a solution without having to make country code map. \r\n","title":"Iso 3 letter country code validation in JAVA","body":"<p>Using Java, is there a way to check if a given string is a valid ISO 3 letter country code?\n(example: check if USA is correct or not)</p>\n<p>If possible, please provide a solution without having to make country code map.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9364,"page":628,"page_size":100}
