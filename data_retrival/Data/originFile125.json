{"items":[{"tags":["java","arraylist","error-handling","compiler-errors","numberformatexception"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1697216888,"post_id":77289539,"comment_id":136256816,"body_markdown":"What it means is that you (and only you) need to do more debugging. Use your debugger and find out *exactly* what text is causing the problem, get the text itself, analyze each char to make sure that they are standard digits that represent numeric entities, etc... Again, this is something that you and only you can do at this time.","body":"What it means is that you (and only you) need to do more debugging. Use your debugger and find out <i>exactly</i> what text is causing the problem, get the text itself, analyze each char to make sure that they are standard digits that represent numeric entities, etc... Again, this is something that you and only you can do at this time."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1697216970,"post_id":77289539,"comment_id":136256832,"body_markdown":"Also, for our purposes, you *must* post the complete stack trace from the exception in your question, the full beast as code-formatted text. Also, post the actual text in the text file that is causing the issue.","body":"Also, for our purposes, you <i>must</i> post the complete stack trace from the exception in your question, the full beast as code-formatted text. Also, post the actual text in the text file that is causing the issue."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1697218177,"post_id":77289539,"comment_id":136257052,"body_markdown":"Yes, as @OldDogProgrammer states, all important information, especially error information and code, should be in the question itself as an [edit], and not in comments. Use comments to notify us when you&#39;ve made such changes to the question.","body":"Yes, as @OldDogProgrammer states, all important information, especially error information and code, should be in the question itself as an <a href=\"https://stackoverflow.com/posts/77289539/edit\">edit</a>, and not in comments. Use comments to notify us when you&#39;ve made such changes to the question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1697218667,"post_id":77289539,"comment_id":136257142,"body_markdown":"Can you include a sample of the data in the input file?","body":"Can you include a sample of the data in the input file?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1697218715,"post_id":77289539,"comment_id":136257154,"body_markdown":"Your original error was because of *i &lt;= numbers.size()*. The upper bound is *out* of bounds. But it&#39;s no good if you don&#39;t show us to *what* you &quot;switched&quot; your code as a result","body":"Your original error was because of <i>i &lt;= numbers.size()</i>. The upper bound is <i>out</i> of bounds. But it&#39;s no good if you don&#39;t show us to <i>what</i> you &quot;switched&quot; your code as a result"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1697219047,"post_id":77289539,"comment_id":136257199,"body_markdown":"There&#39;s likely an unprintable character in the text line - such as the following produces your exact error showing as `&quot;150&quot;`: `Long.parseLong(&quot;150\\1&quot;);` - be sure to view your text file in hex mode as well.  It&#39;s also likely not a `\\r` since it would have affected the output error message.","body":"There&#39;s likely an unprintable character in the text line - such as the following produces your exact error showing as <code>&quot;150&quot;</code>: <code>Long.parseLong(&quot;150\\1&quot;);</code> - be sure to view your text file in hex mode as well.  It&#39;s also likely not a <code>\\r</code> since it would have affected the output error message."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1697219069,"post_id":77289539,"comment_id":136257200,"body_markdown":"This, is a problem: `split(&quot;\\n&quot;);`. You should use the system&#39;s line separator, not `&quot;\\n&quot;`","body":"This, is a problem: <code>split(&quot;\\n&quot;);</code>. You should use the system&#39;s line separator, not <code>&quot;\\n&quot;</code>"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1697220296,"post_id":77289539,"comment_id":136257395,"body_markdown":"`String[] lines = string.split(System.getProperty(&quot;line.separator&quot;));`","body":"<code>String[] lines = string.split(System.getProperty(&quot;line.separator&quot;));</code>"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1697220432,"post_id":77289539,"comment_id":136257422,"body_markdown":"Or `String[] lines = string.split(&quot;\\\\R&quot;);` or `String[] lines = string.split(&quot;\\\\s*\\\\R\\\\s*&quot;);` to swallow any extra whitespace","body":"Or <code>String[] lines = string.split(&quot;\\\\R&quot;);</code> or <code>String[] lines = string.split(&quot;\\\\s*\\\\R\\\\s*&quot;);</code> to swallow any extra whitespace"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697224288,"post_id":77289539,"comment_id":136258027,"body_markdown":"@HovercraftFullOfEels I just learned something new from you today, `\\R`. Cheers!","body":"@HovercraftFullOfEels I just learned something new from you today, <code>\\R</code>. Cheers!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1697226300,"post_id":77289539,"comment_id":136258303,"body_markdown":"You can do `System.lineSeparator()` too","body":"You can do <code>System.lineSeparator()</code> too"}],"owner":{"account_id":29665848,"reputation":31,"user_id":22736399,"display_name":"Peyton Cusick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697216826,"answer_count":0,"score":0,"last_activity_date":1697218511,"creation_date":1697216645,"question_id":77289539,"body_markdown":"```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;150&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Long.parseLong(Long.java:711)\r\n        at java.base/java.lang.Long.parseLong(Long.java:836)\r\n        at Median.main(Median.java:45)\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Median {\r\n    \r\n    public static Long selection(ArrayList&lt;Long&gt; numbers, int k) throws IOException {\r\n        long pivot = numbers.get(0); //Line 8\r\n        ArrayList&lt;Long&gt; left = new ArrayList&lt;Long&gt;();\r\n        ArrayList&lt;Long&gt; middle = new ArrayList&lt;Long&gt;();\r\n        ArrayList&lt;Long&gt; right = new ArrayList&lt;Long&gt;();\r\n\r\n        for(int i = 1; i &lt;= numbers.size(); i++) {\r\n            if(numbers.get(i) &lt; pivot) {\r\n                left.add(numbers.get(i)); \r\n            }\r\n            else if(numbers.get(i) == pivot) {\r\n                middle.add(numbers.get(i));\r\n            }\r\n            else {\r\n                right.add(numbers.get(i));\r\n            }\r\n        }\r\n        middle.add(pivot);\r\n\r\n        if(k &lt;= left.size()) {\r\n            return selection(left, k);\r\n        }\r\n        else if(left.size() &lt; k &amp;&amp; k &lt;= right.size()) {\r\n            return middle.get(0);\r\n        }\r\n        else {\r\n            return selection(right, k-left.size() - middle.size());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ArrayList&lt;Long&gt; numsList = new ArrayList&lt;Long&gt;();\r\n\r\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;manhattanAirBnbPrivateRoomPrices.txt&quot;))) {\r\n        String line = br.readLine();\r\n        String [] integers = line.trim().split(&quot;\\n&quot;);\r\n        for(String integer: integers) {\r\n            numsList.add(Long.parseLong(integer)); // Line 45\r\n        }\r\n        } catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        int position = numsList.size();\r\n        if((numsList.size() % 2) == 0) {\r\n            position = numsList.size() / 2;\r\n        }\r\n        else {\r\n            position = (int) numsList.size() / 2;\r\n        }\r\n\r\n        selection(numsList, position); \r\n    }\r\n}\r\n```\r\nI&#39;ve tried everything with Integer as the data type for everything (return type in selection method, ArrayList types, etc.) and it has the same error on line 45. I am reading from a text file using BufferedReader, but I tried using Scanner at first, but there was an ArrayIndexOutOfBounds error when trying to execute line 8 (long pivot = numbers.get(0);), so I switched it and that error went away, but came with this other one. What can I do to fix it, it sees like there&#39;s no way I can read the first line in the text file (150) because apparently its too large to be an integer and it just doesn&#39;t work when I changed everything to be of type long?!?!","title":"java.lang.NumberFormatException: For input string: &quot;150&quot;, but I&#39;ve tried everything, How can I fix this error?","body":"<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;150&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n        at java.base/java.lang.Long.parseLong(Long.java:711)\n        at java.base/java.lang.Long.parseLong(Long.java:836)\n        at Median.main(Median.java:45)\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Median {\n    \n    public static Long selection(ArrayList&lt;Long&gt; numbers, int k) throws IOException {\n        long pivot = numbers.get(0); //Line 8\n        ArrayList&lt;Long&gt; left = new ArrayList&lt;Long&gt;();\n        ArrayList&lt;Long&gt; middle = new ArrayList&lt;Long&gt;();\n        ArrayList&lt;Long&gt; right = new ArrayList&lt;Long&gt;();\n\n        for(int i = 1; i &lt;= numbers.size(); i++) {\n            if(numbers.get(i) &lt; pivot) {\n                left.add(numbers.get(i)); \n            }\n            else if(numbers.get(i) == pivot) {\n                middle.add(numbers.get(i));\n            }\n            else {\n                right.add(numbers.get(i));\n            }\n        }\n        middle.add(pivot);\n\n        if(k &lt;= left.size()) {\n            return selection(left, k);\n        }\n        else if(left.size() &lt; k &amp;&amp; k &lt;= right.size()) {\n            return middle.get(0);\n        }\n        else {\n            return selection(right, k-left.size() - middle.size());\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        ArrayList&lt;Long&gt; numsList = new ArrayList&lt;Long&gt;();\n\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;manhattanAirBnbPrivateRoomPrices.txt&quot;))) {\n        String line = br.readLine();\n        String [] integers = line.trim().split(&quot;\\n&quot;);\n        for(String integer: integers) {\n            numsList.add(Long.parseLong(integer)); // Line 45\n        }\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n\n        int position = numsList.size();\n        if((numsList.size() % 2) == 0) {\n            position = numsList.size() / 2;\n        }\n        else {\n            position = (int) numsList.size() / 2;\n        }\n\n        selection(numsList, position); \n    }\n}\n</code></pre>\n<p>I've tried everything with Integer as the data type for everything (return type in selection method, ArrayList types, etc.) and it has the same error on line 45. I am reading from a text file using BufferedReader, but I tried using Scanner at first, but there was an ArrayIndexOutOfBounds error when trying to execute line 8 (long pivot = numbers.get(0);), so I switched it and that error went away, but came with this other one. What can I do to fix it, it sees like there's no way I can read the first line in the text file (150) because apparently its too large to be an integer and it just doesn't work when I changed everything to be of type long?!?!</p>\n"},{"tags":["java","rest","tomcat","http-status-code-404"],"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697218432,"creation_date":1697211371,"question_id":77289032,"body_markdown":"I&#39;m getting a 404 error after deploying my web services to Apache 10.1.\r\n\r\nThey use to work in Apache 9. I had update some libraries to get my project to work for JDK17.\r\n\r\nHere is my code:\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.stableapps&lt;/groupId&gt;\r\n    &lt;artifactId&gt;EsarClientService&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;EsarClientService&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;smartbear-sweden-repository&lt;/id&gt;\r\n            &lt;url&gt;http://www.soapui.org/repository/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.39&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.39&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.39&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.39&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.39&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;2.39&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;  \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\r\n            &lt;artifactId&gt;soapui&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t     &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.stableapps.esarclientservice;\r\n\r\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmission;\r\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmissionResponse;\r\nimport javax.ws.rs.ClientErrorException;\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.WebTarget;\r\n\r\n/**\r\n * Jersey REST client generated for REST resource:COREEnvelopeBatchSubmissionService\r\n * [COREEnvelopeBatchSubmission]&lt;br&gt;\r\n * USAGE:\r\n * &lt;pre&gt;\r\n *        EsarServiceRestClient client = new EsarServiceRestClient();\r\n *        Object response = client.XXX(...);\r\n *        // do whatever with response\r\n *        client.close();\r\n * &lt;/pre&gt;\r\n *\r\n */\r\npublic class EsarServiceRestClient {\r\n\r\n\tprivate WebTarget webTarget;\r\n\tprivate Client client;\r\n\tprivate static final String BASE_URI = &quot;http://localhost:8080/EsarClientService/webresources&quot;;\r\n\r\n\tpublic EsarServiceRestClient() {\r\n\t\tclient = javax.ws.rs.client.ClientBuilder.newClient();\r\n\t\twebTarget = client.target(BASE_URI).path(&quot;COREEnvelopeBatchSubmission&quot;);\r\n\t}\r\n\r\n\tpublic COREEnvelopeBatchSubmissionResponse post(COREEnvelopeBatchSubmission submission)\r\n\t\t\tthrows ClientErrorException {\r\n\t\treturn webTarget\r\n\t\t\t\t.request(javax.ws.rs.core.MediaType.APPLICATION_JSON)\r\n\t\t\t\t.post(\r\n\t\t\t\t\t\tjavax.ws.rs.client.Entity.entity(\r\n\t\t\t\t\t\t\t\tsubmission, \r\n\t\t\t\t\t\t\t\tjavax.ws.rs.core.MediaType.APPLICATION_JSON\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tCOREEnvelopeBatchSubmissionResponse.class\r\n\t\t\t\t);\r\n\t}\r\n\r\n\tpublic COREEnvelopeBatchSubmissionResponse postAckRetrieval(COREEnvelopeBatchSubmission submission) throws ClientErrorException {\r\n\t\treturn webTarget.path(&quot;AckRetrieval&quot;)\r\n\t\t\t\t.request(javax.ws.rs.core.MediaType.APPLICATION_JSON)\r\n\t\t\t\t.post(\r\n\t\t\t\t\t\tjavax.ws.rs.client.Entity.entity(\r\n\t\t\t\t\t\t\t\tsubmission,\r\n\t\t\t\t\t\t\t\tjavax.ws.rs.core.MediaType.APPLICATION_JSON\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tCOREEnvelopeBatchSubmissionResponse.class);\r\n\t}\r\n\r\n\tpublic void close() {\r\n\t\tclient.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.stableapps.esarclientservice;\r\n\r\nimport com.eviware.soapui.impl.wsdl.WsdlInterface;\r\nimport com.eviware.soapui.impl.wsdl.WsdlOperation;\r\nimport com.eviware.soapui.impl.wsdl.WsdlProject;\r\nimport com.eviware.soapui.impl.wsdl.WsdlRequest;\r\nimport com.eviware.soapui.impl.wsdl.WsdlSubmit;\r\nimport com.eviware.soapui.impl.wsdl.WsdlSubmitContext;\r\nimport com.eviware.soapui.impl.wsdl.support.wss.DefaultWssContainer;\r\nimport com.eviware.soapui.impl.wsdl.support.wss.crypto.KeyMaterialWssCrypto;\r\nimport com.eviware.soapui.model.iface.Attachment;\r\nimport com.eviware.soapui.model.iface.Request;\r\nimport com.eviware.soapui.model.iface.Submit;\r\nimport com.eviware.soapui.model.project.ProjectFactoryRegistry;\r\nimport com.eviware.soapui.support.SoapUIException;\r\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmission;\r\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmissionResponse;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.util.Base64;\r\nimport java.util.Map;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.UriInfo;\r\nimport org.apache.commons.beanutils.BeanUtils;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.apache.xmlbeans.XmlException;\r\n\r\n@Path(&quot;COREEnvelopeBatchSubmission&quot;)\r\npublic class COREEnvelopeBatchSubmissionService {\r\n\r\n\t@Context\r\n\tprivate UriInfo context;\r\n\r\n\t/**\r\n\t * Creates a new instance of COREEnvelopeBatchSubmission\r\n\t */\r\n\tpublic COREEnvelopeBatchSubmissionService() {\r\n\t}\r\n\r\n\t/**\r\n\t * POST method for updating or creating an instance of COREEnvelopeBatchSubmissionService\r\n\t *\r\n\t * @param submission representation for the resource\r\n\t * @return\r\n\t * @throws org.apache.xmlbeans.XmlException\r\n\t * @throws java.io.IOException\r\n\t * @throws com.eviware.soapui.support.SoapUIException\r\n\t * @throws com.eviware.soapui.model.iface.Request.SubmitException\r\n\t */\r\n\t@POST\r\n\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic COREEnvelopeBatchSubmissionResponse post(COREEnvelopeBatchSubmission submission) throws XmlException, IOException, SoapUIException, Request.SubmitException, Exception {\r\n\t\tFile attachment = createAttachmentFromBytes(submission.getAttachment());\r\n\r\n\t\tMap valuesMap = BeanUtils.describe(submission);\r\n\r\n\t\t//Submits the request \r\n\t\tWsdlSubmit&lt;WsdlRequest&gt; submit\r\n\t\t\t\t= callCOREEnvelopeBatchSubmission(valuesMap, attachment);\r\n\r\n\t\t//Check first if the status is error.  If ERROR then print the stacktrace of the error\r\n\t\tCOREEnvelopeBatchSubmissionResponse response = COREEnvelopeBatchSubmissionResponse.builder()\r\n\t\t\t\t.PayloadID(submission.getPayloadID())\r\n\t\t\t\t.Status(submit.getStatus().name())\r\n\t\t\t\t.build();\r\n\r\n\t\tif (submit.getStatus() == Submit.Status.ERROR) {\r\n\t\t\tresponse.setContent(submit.getError().getMessage());\r\n\t\t\tsubmit.getError().printStackTrace(System.err);\r\n\t\t\treturn response;\r\n\t\t}\r\n\r\n\t\tresponse.setContent(submit.getResponse().getContentAsXml());\r\n\t\t//Print the response XML\r\n\t\tSystem.out.println(submit.getResponse().getContentAsXml());\r\n\r\n\t\treturn response;\r\n\t}\r\n```\r\n\r\n[404 page][1]\r\n\r\n[Server is running][2]\r\n\r\nTrying to get code to work on Apache 10.1.  Not sure what I&#39;m doing wrong.  Any ideas?  Feels like something changes from Apache 9 to Apache 10.1.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DLK0Y.png\r\n  [2]: https://i.stack.imgur.com/YUacr.png","title":"HTTP 404 Not Found error when running Java rest services","body":"<p>I'm getting a 404 error after deploying my web services to Apache 10.1.</p>\n<p>They use to work in Apache 9. I had update some libraries to get my project to work for JDK17.</p>\n<p>Here is my code:</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.stableapps&lt;/groupId&gt;\n    &lt;artifactId&gt;EsarClientService&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;EsarClientService&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;smartbear-sweden-repository&lt;/id&gt;\n            &lt;url&gt;http://www.soapui.org/repository/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.16.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n           &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n           &lt;version&gt;2.39&lt;/version&gt;\n        &lt;/dependency&gt;  \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\n            &lt;artifactId&gt;soapui&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                 &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.stableapps.esarclientservice;\n\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmission;\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmissionResponse;\nimport javax.ws.rs.ClientErrorException;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.WebTarget;\n\n/**\n * Jersey REST client generated for REST resource:COREEnvelopeBatchSubmissionService\n * [COREEnvelopeBatchSubmission]&lt;br&gt;\n * USAGE:\n * &lt;pre&gt;\n *        EsarServiceRestClient client = new EsarServiceRestClient();\n *        Object response = client.XXX(...);\n *        // do whatever with response\n *        client.close();\n * &lt;/pre&gt;\n *\n */\npublic class EsarServiceRestClient {\n\n    private WebTarget webTarget;\n    private Client client;\n    private static final String BASE_URI = &quot;http://localhost:8080/EsarClientService/webresources&quot;;\n\n    public EsarServiceRestClient() {\n        client = javax.ws.rs.client.ClientBuilder.newClient();\n        webTarget = client.target(BASE_URI).path(&quot;COREEnvelopeBatchSubmission&quot;);\n    }\n\n    public COREEnvelopeBatchSubmissionResponse post(COREEnvelopeBatchSubmission submission)\n            throws ClientErrorException {\n        return webTarget\n                .request(javax.ws.rs.core.MediaType.APPLICATION_JSON)\n                .post(\n                        javax.ws.rs.client.Entity.entity(\n                                submission, \n                                javax.ws.rs.core.MediaType.APPLICATION_JSON\n                        ),\n                        COREEnvelopeBatchSubmissionResponse.class\n                );\n    }\n\n    public COREEnvelopeBatchSubmissionResponse postAckRetrieval(COREEnvelopeBatchSubmission submission) throws ClientErrorException {\n        return webTarget.path(&quot;AckRetrieval&quot;)\n                .request(javax.ws.rs.core.MediaType.APPLICATION_JSON)\n                .post(\n                        javax.ws.rs.client.Entity.entity(\n                                submission,\n                                javax.ws.rs.core.MediaType.APPLICATION_JSON\n                        ),\n                        COREEnvelopeBatchSubmissionResponse.class);\n    }\n\n    public void close() {\n        client.close();\n    }\n\n}\n</code></pre>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.stableapps.esarclientservice;\n\nimport com.eviware.soapui.impl.wsdl.WsdlInterface;\nimport com.eviware.soapui.impl.wsdl.WsdlOperation;\nimport com.eviware.soapui.impl.wsdl.WsdlProject;\nimport com.eviware.soapui.impl.wsdl.WsdlRequest;\nimport com.eviware.soapui.impl.wsdl.WsdlSubmit;\nimport com.eviware.soapui.impl.wsdl.WsdlSubmitContext;\nimport com.eviware.soapui.impl.wsdl.support.wss.DefaultWssContainer;\nimport com.eviware.soapui.impl.wsdl.support.wss.crypto.KeyMaterialWssCrypto;\nimport com.eviware.soapui.model.iface.Attachment;\nimport com.eviware.soapui.model.iface.Request;\nimport com.eviware.soapui.model.iface.Submit;\nimport com.eviware.soapui.model.project.ProjectFactoryRegistry;\nimport com.eviware.soapui.support.SoapUIException;\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmission;\nimport com.stableapps.esarclientservice.model.COREEnvelopeBatchSubmissionResponse;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.StandardOpenOption;\nimport java.util.Base64;\nimport java.util.Map;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.UriInfo;\nimport org.apache.commons.beanutils.BeanUtils;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.xmlbeans.XmlException;\n\n@Path(&quot;COREEnvelopeBatchSubmission&quot;)\npublic class COREEnvelopeBatchSubmissionService {\n\n    @Context\n    private UriInfo context;\n\n    /**\n     * Creates a new instance of COREEnvelopeBatchSubmission\n     */\n    public COREEnvelopeBatchSubmissionService() {\n    }\n\n    /**\n     * POST method for updating or creating an instance of COREEnvelopeBatchSubmissionService\n     *\n     * @param submission representation for the resource\n     * @return\n     * @throws org.apache.xmlbeans.XmlException\n     * @throws java.io.IOException\n     * @throws com.eviware.soapui.support.SoapUIException\n     * @throws com.eviware.soapui.model.iface.Request.SubmitException\n     */\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public COREEnvelopeBatchSubmissionResponse post(COREEnvelopeBatchSubmission submission) throws XmlException, IOException, SoapUIException, Request.SubmitException, Exception {\n        File attachment = createAttachmentFromBytes(submission.getAttachment());\n\n        Map valuesMap = BeanUtils.describe(submission);\n\n        //Submits the request \n        WsdlSubmit&lt;WsdlRequest&gt; submit\n                = callCOREEnvelopeBatchSubmission(valuesMap, attachment);\n\n        //Check first if the status is error.  If ERROR then print the stacktrace of the error\n        COREEnvelopeBatchSubmissionResponse response = COREEnvelopeBatchSubmissionResponse.builder()\n                .PayloadID(submission.getPayloadID())\n                .Status(submit.getStatus().name())\n                .build();\n\n        if (submit.getStatus() == Submit.Status.ERROR) {\n            response.setContent(submit.getError().getMessage());\n            submit.getError().printStackTrace(System.err);\n            return response;\n        }\n\n        response.setContent(submit.getResponse().getContentAsXml());\n        //Print the response XML\n        System.out.println(submit.getResponse().getContentAsXml());\n\n        return response;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DLK0Y.png\" rel=\"nofollow noreferrer\">404 page</a></p>\n<p><a href=\"https://i.stack.imgur.com/YUacr.png\" rel=\"nofollow noreferrer\">Server is running</a></p>\n<p>Trying to get code to work on Apache 10.1.  Not sure what I'm doing wrong.  Any ideas?  Feels like something changes from Apache 9 to Apache 10.1.</p>\n"},{"tags":["java","linux","serial-port","rxtx"],"comments":[{"owner":{"account_id":503138,"reputation":16391,"user_id":1599004,"display_name":"sawdust"},"score":2,"creation_date":1697168102,"post_id":77284352,"comment_id":136248681,"body_markdown":"Are you using HW flow-control? Have you tried to disable HW flow-control before you start your program using `stty -F /dev/ttyXXX -crtscts -cdtrdsr +clocal` from the shell? What about using a serial cable that does not connect those signals (aka a 3-wire cable)?","body":"Are you using HW flow-control? Have you tried to disable HW flow-control before you start your program using <code>stty -F &#47;dev&#47;ttyXXX -crtscts -cdtrdsr +clocal</code> from the shell? What about using a serial cable that does not connect those signals (aka a 3-wire cable)?"},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1697218211,"post_id":77284352,"comment_id":136257063,"body_markdown":"We can&#39;t remove those wires bc we use them to switch the board into a programming mode and back. Will look into disabling hw flow control which we do not intend to use.","body":"We can&#39;t remove those wires bc we use them to switch the board into a programming mode and back. Will look into disabling hw flow control which we do not intend to use."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1697219192,"post_id":77284352,"comment_id":136257219,"body_markdown":"This is a well-known issue deeply rooted in hardware, operating system and USB protocol. The application software cannot do anything about it. That&#39;s why all ESP32 boards use a special *auto reset circuit* with two transistors. You don&#39;t happen to be working with an ESP32, do you?","body":"This is a well-known issue deeply rooted in hardware, operating system and USB protocol. The application software cannot do anything about it. That&#39;s why all ESP32 boards use a special <i>auto reset circuit</i> with two transistors. You don&#39;t happen to be working with an ESP32, do you?"},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1697264939,"post_id":77284352,"comment_id":136260863,"body_markdown":"[jSerialComm](https://github.com/Fazecast/jSerialComm) is a better maintained and more powerful alternative to RXTX. They are faced with the same challenges and discuss some workarounds. See [Issue #523](https://github.com/Fazecast/jSerialComm/issues/523).","body":"<a href=\"https://github.com/Fazecast/jSerialComm\" rel=\"nofollow noreferrer\">jSerialComm</a> is a better maintained and more powerful alternative to RXTX. They are faced with the same challenges and discuss some workarounds. See <a href=\"https://github.com/Fazecast/jSerialComm/issues/523\" rel=\"nofollow noreferrer\">Issue #523</a>."},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1698128445,"post_id":77284352,"comment_id":136362383,"body_markdown":"[nrjavaserial](https://github.com/NeuronRobotics/nrjavaserial) is a fork of jrxtx that is also still maintained. Maybe this is an alternative for you. But I am not sure if this library has the same issues","body":"<a href=\"https://github.com/NeuronRobotics/nrjavaserial\" rel=\"nofollow noreferrer\">nrjavaserial</a> is a fork of jrxtx that is also still maintained. Maybe this is an alternative for you. But I am not sure if this library has the same issues"}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697218412,"creation_date":1697153949,"question_id":77284352,"body_markdown":"We have a device that is sensitive to the RS232 DTR and RTS lines and are using the RXTX API to connect to a linux serial port however opening the connection causes pulses on these lines and is resetting our device. Is there a way to configure the connection to not pulse the lines when the connection is open?\r\n\r\nThis is the approach we currently use:\r\n\r\n        // Set up the serial port\r\n        CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(serialPortID);\r\n        if (portId.isCurrentlyOwned()) {\r\n            TRACE.severe(&quot;Port &quot; + portId.getName() + &quot; (port ID = &quot; + serialPortID\r\n                    + &quot;) is already in use by owner: &quot; + portId.getCurrentOwner());\r\n            throw new PortInUseException();\r\n        }\r\n        CommPort commPort = portId.open(this.getClass().getName(), responseTimeout);\r\n        if (!(commPort instanceof SerialPort)) {\r\n            TRACE.severe(&quot;Error: Only serial ports are supported.&quot;);\r\n            throw new RuntimeException(&quot;Error: Only serial ports are supported.&quot;);\r\n        }\r\n        SerialPort serialPort = commPort;\r\n\r\n        try {\r\n            serialPort.setDTR(false);\r\n            serialPort.setRTS(false);\r\n            serialPort.setSerialPortParams(baudRate, dataBits, stopBits, parity);\r\n            serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_NONE);\r\n            // set the port blocking mode recommended from stack overflow.\r\n            // http://stackoverflow.com/questions/5219450/rxtx-serial-connection-issue-with-blocking-read\r\n            serialPort.enableReceiveTimeout(responseTimeout);\r\n        } catch (UnsupportedCommOperationException e) {\r\n            ApplicationManager.logStackTrace(e);\r\n        }\r\n\r\nIf this is not supported by RXTX are alternative java libraries able to suppress these pulses? Does anyone know if these pulses are expected behavior per the RS232 specification?","title":"How to not pulse DTR &amp; RTS lines when opening serial port w RXTX","body":"<p>We have a device that is sensitive to the RS232 DTR and RTS lines and are using the RXTX API to connect to a linux serial port however opening the connection causes pulses on these lines and is resetting our device. Is there a way to configure the connection to not pulse the lines when the connection is open?</p>\n<p>This is the approach we currently use:</p>\n<pre><code>    // Set up the serial port\n    CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(serialPortID);\n    if (portId.isCurrentlyOwned()) {\n        TRACE.severe(&quot;Port &quot; + portId.getName() + &quot; (port ID = &quot; + serialPortID\n                + &quot;) is already in use by owner: &quot; + portId.getCurrentOwner());\n        throw new PortInUseException();\n    }\n    CommPort commPort = portId.open(this.getClass().getName(), responseTimeout);\n    if (!(commPort instanceof SerialPort)) {\n        TRACE.severe(&quot;Error: Only serial ports are supported.&quot;);\n        throw new RuntimeException(&quot;Error: Only serial ports are supported.&quot;);\n    }\n    SerialPort serialPort = commPort;\n\n    try {\n        serialPort.setDTR(false);\n        serialPort.setRTS(false);\n        serialPort.setSerialPortParams(baudRate, dataBits, stopBits, parity);\n        serialPort.setFlowControlMode(SerialPort.FLOWCONTROL_NONE);\n        // set the port blocking mode recommended from stack overflow.\n        // http://stackoverflow.com/questions/5219450/rxtx-serial-connection-issue-with-blocking-read\n        serialPort.enableReceiveTimeout(responseTimeout);\n    } catch (UnsupportedCommOperationException e) {\n        ApplicationManager.logStackTrace(e);\n    }\n</code></pre>\n<p>If this is not supported by RXTX are alternative java libraries able to suppress these pulses? Does anyone know if these pulses are expected behavior per the RS232 specification?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697173190,"post_id":77274930,"comment_id":136249031,"body_markdown":"Have you tried to set auto.offset.reset=earliest?","body":"Have you tried to set auto.offset.reset=earliest?"},{"owner":{"account_id":18886212,"reputation":1,"user_id":13777586,"display_name":"Vooply"},"score":0,"creation_date":1697203376,"post_id":77274930,"comment_id":136253994,"body_markdown":"@OneCricketeer thanks for the response. yes, I tried, but nothing happened. it looks like I dont have a connection. When I tried on a fresh project all worked, but in my project(have a lot of dependencies) it doesnt work. But with simple spring kafka (KafkaListener) it works perfectly, so I guess maybe it is some conflicts, but I am not sure","body":"@OneCricketeer thanks for the response. yes, I tried, but nothing happened. it looks like I dont have a connection. When I tried on a fresh project all worked, but in my project(have a lot of dependencies) it doesnt work. But with simple spring kafka (KafkaListener) it works perfectly, so I guess maybe it is some conflicts, but I am not sure"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697218405,"post_id":77274930,"comment_id":136257095,"body_markdown":"Did you debug with `kafka-consumer-groups` to check the committed offsets for your consumer group?","body":"Did you debug with <code>kafka-consumer-groups</code> to check the committed offsets for your consumer group?"},{"owner":{"account_id":18886212,"reputation":1,"user_id":13777586,"display_name":"Vooply"},"score":0,"creation_date":1697440410,"post_id":77274930,"comment_id":136275334,"body_markdown":"@OneCricketeer it seems spring clod kafka doesnt work, like didnt start, or cant connect. For example: on fresh project, I have consumer logs (about configuring, subscription, etc) on the start server, but in my project, I didnt have any of these logs ( properties, versions and code the same)\nif I use spring kafka, without spring cloud, it works perfectly ) I use spring 6, boot 3. maybe some other package blocks access for spring cloud, but I cant find conflicts","body":"@OneCricketeer it seems spring clod kafka doesnt work, like didnt start, or cant connect. For example: on fresh project, I have consumer logs (about configuring, subscription, etc) on the start server, but in my project, I didnt have any of these logs ( properties, versions and code the same) if I use spring kafka, without spring cloud, it works perfectly ) I use spring 6, boot 3. maybe some other package blocks access for spring cloud, but I cant find conflicts"},{"owner":{"account_id":18886212,"reputation":1,"user_id":13777586,"display_name":"Vooply"},"score":0,"creation_date":1697442560,"post_id":77274930,"comment_id":136275685,"body_markdown":"@OneCricketeer also I tried with `kafka-consumer-groups` with `--describe`, when I tried from my project, it didnt return any result, only `Error: Consumer group &#39;my-group&#39; does not exist`\nbut in the fresh project, it returned detailed information","body":"@OneCricketeer also I tried with <code>kafka-consumer-groups</code> with <code>--describe</code>, when I tried from my project, it didnt return any result, only <code>Error: Consumer group &#39;my-group&#39; does not exist</code> but in the fresh project, it returned detailed information"},{"owner":{"account_id":18886212,"reputation":1,"user_id":13777586,"display_name":"Vooply"},"score":0,"creation_date":1697445536,"post_id":77274930,"comment_id":136276180,"body_markdown":"@OneCricketeer if we click to propertie `spring.cloud.stream.kafka.binder.brokers=localhost:9092` it direct us to class `KafkaBinderConfigurationProperties`to setter `setBrokers` and in debug mode it didnt  stop here, so class didnt initialize","body":"@OneCricketeer if we click to propertie <code>spring.cloud.stream.kafka.binder.brokers=localhost:9092</code> it direct us to class <code>KafkaBinderConfigurationProperties</code>to setter <code>setBrokers</code> and in debug mode it didnt  stop here, so class didnt initialize"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697464973,"post_id":77274930,"comment_id":136279774,"body_markdown":"I don&#39;t use Spring, so cannot answer that, but based on the frequency of other questions posted here, I think it works fine, and should correctly create a consumer group, but only when offsets get acknowledged and committed. Otherwise, the code provided isn&#39;t anything that seems to need more than spring-kafka","body":"I don&#39;t use Spring, so cannot answer that, but based on the frequency of other questions posted here, I think it works fine, and should correctly create a consumer group, but only when offsets get acknowledged and committed. Otherwise, the code provided isn&#39;t anything that seems to need more than spring-kafka"}],"owner":{"account_id":18886212,"reputation":1,"user_id":13777586,"display_name":"Vooply"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697218375,"creation_date":1697042825,"question_id":77274930,"body_markdown":"Hello everyone and thank you for your time. My problem is that I don&#39;t get any messages from kafka topics when I use spring cloud stream with kafka binding and I really don&#39;t understand why. Everything works fine with spring-kafka, but I want to try spring cloud stream. I&#39;m using spring boot 3.1.4, so for spring cloud I&#39;m taking the latest version. I tried to do everything according to the spring documentation, but it seems I missed something\r\n\r\n    implementation (&#39;org.springframework.cloud:spring-cloud-stream-binder-kafka:4.0.4&#39;)\r\n\r\napplication.properties\r\n\r\n\r\n\r\n    spring.cloud.stream.kafka.binder.brokers=localhost:9092\r\n    spring.cloud.function.definition=ordersConsumer;productsConsumer\r\n    spring.cloud.stream.bindings.ordersConsumer-in-0.destination=data.order\r\n    spring.cloud.stream.bindings.productsConsumer-in-0.destination=data.product\r\n    spring.cloud.stream.bindings.ordersConsumer-in-0.group=my-group\r\n    spring.cloud.stream.bindings.productsConsume-in-0.group=my-group\r\n    spring.cloud.stream.kafka.bindings.ordersConsumer-in-0.consumer.configuration.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.cloud.stream.kafka.bindings.productsConsumer-in-0.consumer.configuration.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\njava code, simple configuration class for only printing\r\n\r\n    @Configuration\r\n    @Lazy(false)\r\n    public class MessageProcessing implements IMessageProcessing {\r\n    \r\n        @Bean\r\n        public Consumer&lt;String&gt; ordersConsumer() {\r\n            return input -&gt; {\r\n                System.out.println(input);\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public Consumer&lt;String&gt; productsConsumer() {\r\n            return input -&gt; {\r\n                System.out.println(input);\r\n            };\r\n        }\r\n    }\r\n\r\nThanks!","title":"Spring cloud stream binding kafka doesnt consume messages","body":"<p>Hello everyone and thank you for your time. My problem is that I don't get any messages from kafka topics when I use spring cloud stream with kafka binding and I really don't understand why. Everything works fine with spring-kafka, but I want to try spring cloud stream. I'm using spring boot 3.1.4, so for spring cloud I'm taking the latest version. I tried to do everything according to the spring documentation, but it seems I missed something</p>\n<pre><code>implementation ('org.springframework.cloud:spring-cloud-stream-binder-kafka:4.0.4')\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.cloud.stream.kafka.binder.brokers=localhost:9092\nspring.cloud.function.definition=ordersConsumer;productsConsumer\nspring.cloud.stream.bindings.ordersConsumer-in-0.destination=data.order\nspring.cloud.stream.bindings.productsConsumer-in-0.destination=data.product\nspring.cloud.stream.bindings.ordersConsumer-in-0.group=my-group\nspring.cloud.stream.bindings.productsConsume-in-0.group=my-group\nspring.cloud.stream.kafka.bindings.ordersConsumer-in-0.consumer.configuration.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.cloud.stream.kafka.bindings.productsConsumer-in-0.consumer.configuration.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n<p>java code, simple configuration class for only printing</p>\n<pre><code>@Configuration\n@Lazy(false)\npublic class MessageProcessing implements IMessageProcessing {\n\n    @Bean\n    public Consumer&lt;String&gt; ordersConsumer() {\n        return input -&gt; {\n            System.out.println(input);\n        };\n    }\n\n    @Bean\n    public Consumer&lt;String&gt; productsConsumer() {\n        return input -&gt; {\n            System.out.println(input);\n        };\n    }\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","scala","jvm","ssl-certificate","sbt"],"answers":[{"tags":[],"owner":{"account_id":7808038,"reputation":1546,"user_id":5905245,"accept_rate":90,"display_name":"kmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697218263,"creation_date":1697218263,"answer_id":77289681,"question_id":77284100,"body_markdown":"What worked for me and resolved both points 1 &amp; 2 was to just modify the `cacerts` file directly instead of copying it, modifying it, and pointing to the copy.  Now SBT works fine with no additional arguments.\r\n\r\n    keytool -importcert -file myRootCA.pem -alias myRootCA -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass &#39;changeit&#39;\r\n\r\nI think if I need to back it out, this would work.\r\n\r\n    keytool -delete -alias myRootCA -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass &#39;changeit&#39;\r\n\r\nI don&#39;t know if this is the best idea, but it works, so I&#39;ll go with it for now.","title":"Security is Blocking SBT &amp; JVM - How to Import SSL Certificates via .pem File","body":"<p>What worked for me and resolved both points 1 &amp; 2 was to just modify the <code>cacerts</code> file directly instead of copying it, modifying it, and pointing to the copy.  Now SBT works fine with no additional arguments.</p>\n<pre><code>keytool -importcert -file myRootCA.pem -alias myRootCA -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass 'changeit'\n</code></pre>\n<p>I think if I need to back it out, this would work.</p>\n<pre><code>keytool -delete -alias myRootCA -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass 'changeit'\n</code></pre>\n<p>I don't know if this is the best idea, but it works, so I'll go with it for now.</p>\n"}],"owner":{"account_id":7808038,"reputation":1546,"user_id":5905245,"accept_rate":90,"display_name":"kmh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77289681,"answer_count":1,"score":0,"last_activity_date":1697218263,"creation_date":1697149024,"question_id":77284100,"body_markdown":"My company has installed a bunch of new security stuff on my machine that I don&#39;t understand (zscalar, appgate sdp, other stuff), but it&#39;s blocked most of the internet.  I need to use a .pem file that includes some certificate info that lets me through the firewalls or whatever.  (it&#39;s over my head what&#39;s happening)\r\n\r\nOne thing that has broken is the SBT / JVM stuff.  When I try to use SBT to compile a fat jar, it fails with the following error:\r\n\r\n```[error] Server access Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target url=https://repo1.maven.org/maven2/org/glassfish/javax.el/```\r\n\r\nI use `SDKMan` to manage java versions, and I use `sbt assembly` to package up fat jars (some projects use sbt 0.13, some use 1.3).  Laptops are macbooks (one old, one new).\r\n\r\nI tried following the instructions [here][1], but it makes no difference.  Same error before &amp; after.\r\n\r\n    # myRootCA.pem is in ~/.myCert/\r\n    cd ~/.myCert\r\n    cp $JAVA_HOME/jre/lib/security/cacerts ~/.myCert/\r\n    keytool -keystore cacerts -import -file myRootCA.pem -alias myProxy\r\n\r\n    # tried before &amp; after restarting machine; no difference\r\n    cd &lt;scala repo&gt;\r\n    sbt  &quot;-Djavax.net.ssl.trustStore=~/.myCert/cacerts&quot; assembly\r\n\r\nSo my questions are:\r\n\r\n 1. How do I get that .pem file of CA certificates into the JVM in a way that let&#39;s me use SBT\r\n 2. Can I get that into an `sbtopts` file somewhere (in individual repo&#39;s or /usr/local/etc/ or elsewhere) so I don&#39;t need an unwieldy addition to all my sbt commands\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41981320/scala-sbt-and-corporate-proxy-suncertpathbuilderexception","title":"Security is Blocking SBT &amp; JVM - How to Import SSL Certificates via .pem File","body":"<p>My company has installed a bunch of new security stuff on my machine that I don't understand (zscalar, appgate sdp, other stuff), but it's blocked most of the internet.  I need to use a .pem file that includes some certificate info that lets me through the firewalls or whatever.  (it's over my head what's happening)</p>\n<p>One thing that has broken is the SBT / JVM stuff.  When I try to use SBT to compile a fat jar, it fails with the following error:</p>\n<p><code>[error] Server access Error: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target url=https://repo1.maven.org/maven2/org/glassfish/javax.el/</code></p>\n<p>I use <code>SDKMan</code> to manage java versions, and I use <code>sbt assembly</code> to package up fat jars (some projects use sbt 0.13, some use 1.3).  Laptops are macbooks (one old, one new).</p>\n<p>I tried following the instructions <a href=\"https://stackoverflow.com/questions/41981320/scala-sbt-and-corporate-proxy-suncertpathbuilderexception\">here</a>, but it makes no difference.  Same error before &amp; after.</p>\n<pre><code># myRootCA.pem is in ~/.myCert/\ncd ~/.myCert\ncp $JAVA_HOME/jre/lib/security/cacerts ~/.myCert/\nkeytool -keystore cacerts -import -file myRootCA.pem -alias myProxy\n\n# tried before &amp; after restarting machine; no difference\ncd &lt;scala repo&gt;\nsbt  &quot;-Djavax.net.ssl.trustStore=~/.myCert/cacerts&quot; assembly\n</code></pre>\n<p>So my questions are:</p>\n<ol>\n<li>How do I get that .pem file of CA certificates into the JVM in a way that let's me use SBT</li>\n<li>Can I get that into an <code>sbtopts</code> file somewhere (in individual repo's or /usr/local/etc/ or elsewhere) so I don't need an unwieldy addition to all my sbt commands</li>\n</ol>\n<p>Thanks in advance.</p>\n"},{"tags":["java","arrays","generics","standard-library"],"comments":[{"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"score":0,"creation_date":1697206525,"post_id":77288223,"comment_id":136254627,"body_markdown":"Really just throwing several things at the wall in an attempt to get `sort` to throw the `ClassCastException` the javadoc warns of.\nClearly this was not one that worked, as execution doesn&#39;t even enter `sort` as you point out.","body":"Really just throwing several things at the wall in an attempt to get <code>sort</code> to throw the <code>ClassCastException</code> the javadoc warns of. Clearly this was not one that worked, as execution doesn&#39;t even enter <code>sort</code> as you point out."},{"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"score":0,"creation_date":1697207106,"post_id":77288223,"comment_id":136254741,"body_markdown":"That&#39;s exactly the kind of thing I&#39;m looking for, thanks!","body":"That&#39;s exactly the kind of thing I&#39;m looking for, thanks!"},{"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1697214894,"post_id":77288223,"comment_id":136256471,"body_markdown":"It&#39;s possible with a contrived Comparator such as `(a, b) -&gt; { throw new ClassCastException(&quot;Fake!&quot;); }`.","body":"It&#39;s possible with a contrived Comparator such as <code>(a, b) -&gt; { throw new ClassCastException(&quot;Fake!&quot;); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":350281,"reputation":2772,"user_id":686041,"accept_rate":90,"display_name":"Konstantin Tarashchanskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697210104,"creation_date":1697210104,"answer_id":77288891,"question_id":77288223,"body_markdown":"If you pay attention to the definition of `mutually comparable`, it is that &quot;[The Comparator] must not throw a ClassCastException&quot;. None of your tests actually violate that rule.\r\n\r\n    class ArraysTest {\r\n    \t@Test\r\n    \tpublic void sortingWithBadComparitor() {\r\n    \t\tNumber[] numbers = new Number[] { 4.0, 2, 3.0f };\r\n    \t\tThrowable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\r\n    \t\t\tArrays.sort(numbers, (o1, o2) -&gt; {\r\n    \t\t\t\tthrow new ClassCastException();\r\n    \t\t\t});\r\n    \t\t});\r\n    \t\t\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\r\n    \tstatic final Comparator&lt;Number&gt; compareAsWholeNumberWithBug = new Comparator&lt;Number&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(java.lang.Number o1, java.lang.Number o2) {\r\n    \t\t\tif (o1 instanceof Integer) { // Bug: assumes that if o1 is an integer, so is o2\r\n    \t\t\t\treturn ((Integer) o1).intValue() - ((Integer) o2).intValue();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn Long.compare(o1.longValue(), o2.longValue());\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \t@Test\r\n        public void sortingWithBuggyComparitor() {\r\n            Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\r\n                Arrays.sort(new Number[] { 4.0, 2, 3.0f }, compareAsWholeNumberWithBug);\r\n            });\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nYou might object because the sort method is not actually throwing a new `ClassCastException`, but that is true in plenty of other places in the Java documentation. The `@throws` tag is frequently used for Exceptions thrown by calls in the implementation that the method does not catch.","title":"Can Arrays.sort(T[] a, Comparator&lt;? super T&gt; c) ever throw ClassCastException if c is not null?","body":"<p>If you pay attention to the definition of <code>mutually comparable</code>, it is that &quot;[The Comparator] must not throw a ClassCastException&quot;. None of your tests actually violate that rule.</p>\n<pre><code>class ArraysTest {\n    @Test\n    public void sortingWithBadComparitor() {\n        Number[] numbers = new Number[] { 4.0, 2, 3.0f };\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\n            Arrays.sort(numbers, (o1, o2) -&gt; {\n                throw new ClassCastException();\n            });\n        });\n        \n        e.printStackTrace();\n    }\n    \n    static final Comparator&lt;Number&gt; compareAsWholeNumberWithBug = new Comparator&lt;Number&gt;() {\n        @Override\n        public int compare(java.lang.Number o1, java.lang.Number o2) {\n            if (o1 instanceof Integer) { // Bug: assumes that if o1 is an integer, so is o2\n                return ((Integer) o1).intValue() - ((Integer) o2).intValue();\n            }\n            \n            return Long.compare(o1.longValue(), o2.longValue());\n        }\n    };\n    \n    @Test\n    public void sortingWithBuggyComparitor() {\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\n            Arrays.sort(new Number[] { 4.0, 2, 3.0f }, compareAsWholeNumberWithBug);\n        });\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>You might object because the sort method is not actually throwing a new <code>ClassCastException</code>, but that is true in plenty of other places in the Java documentation. The <code>@throws</code> tag is frequently used for Exceptions thrown by calls in the implementation that the method does not catch.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697218068,"creation_date":1697212414,"answer_id":77289145,"question_id":77288223,"body_markdown":"The exception is super simple to trigger if you have raw types (whether accidental or not):\r\n\r\n```\r\nclass FawltyComparators {\r\n    @Test\r\n    void test() {\r\n        final Comparator numberComparer = new NumberComparator();\r\n        final Object[] array = { 1, 2, &quot;3&quot;, &quot;4&quot; };\r\n        Arrays.sort(array, numberComparer);\r\n    }\r\n\r\n    private static final class NumberComparator implements Comparator&lt;Number&gt; {\r\n        @Override\r\n        public int compare(final Number o1, final Number o2) {\r\n            return 0; // doesn&#39;t matter\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut this will still give you compiler warnings:\r\n\r\n```\r\nFawltyCompators.java:17: warning: [unchecked] unchecked method invocation: method sort in class Arrays is applied to given types\r\n        Arrays.sort(array, numberComparer);\r\n                   ^\r\n  required: T[],Comparator&lt;? super T&gt;\r\n  found:    Object[],Comparator\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;sort(T[],Comparator&lt;? super T&gt;)\r\nFawltyCompators.java:17: warning: [unchecked] unchecked conversion\r\n        Arrays.sort(array, numberComparer);\r\n                           ^\r\n  required: Comparator&lt;? super T&gt;\r\n  found:    Comparator\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;sort(T[],Comparator&lt;? super T&gt;)\r\n```","title":"Can Arrays.sort(T[] a, Comparator&lt;? super T&gt; c) ever throw ClassCastException if c is not null?","body":"<p>The exception is super simple to trigger if you have raw types (whether accidental or not):</p>\n<pre><code>class FawltyComparators {\n    @Test\n    void test() {\n        final Comparator numberComparer = new NumberComparator();\n        final Object[] array = { 1, 2, &quot;3&quot;, &quot;4&quot; };\n        Arrays.sort(array, numberComparer);\n    }\n\n    private static final class NumberComparator implements Comparator&lt;Number&gt; {\n        @Override\n        public int compare(final Number o1, final Number o2) {\n            return 0; // doesn't matter\n        }\n    }\n}\n</code></pre>\n<p>But this will still give you compiler warnings:</p>\n<pre><code>FawltyCompators.java:17: warning: [unchecked] unchecked method invocation: method sort in class Arrays is applied to given types\n        Arrays.sort(array, numberComparer);\n                   ^\n  required: T[],Comparator&lt;? super T&gt;\n  found:    Object[],Comparator\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;sort(T[],Comparator&lt;? super T&gt;)\nFawltyCompators.java:17: warning: [unchecked] unchecked conversion\n        Arrays.sort(array, numberComparer);\n                           ^\n  required: Comparator&lt;? super T&gt;\n  found:    Comparator\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;sort(T[],Comparator&lt;? super T&gt;)\n</code></pre>\n"}],"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77289145,"answer_count":2,"score":1,"last_activity_date":1697218068,"creation_date":1697204389,"question_id":77288223,"body_markdown":"The javadoc for `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)` from the package `java.util` in the standard library for Java 20 [API docs](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(T%5B%5D,java.util.Comparator)) reads as follows:\r\n&gt; public static &lt;T&gt; void sort(T[] a, Comparator&lt;? super T&gt; c)\r\n&gt; Sorts the specified array of objects according to the order induced by the specified comparator. **All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array)**.\r\n&gt; \r\n&gt; This sort is guaranteed to be stable: equal elements will not be reordered as a result of the sort.\r\n&gt; \r\n&gt; Implementation note: This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons. Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.\r\n&gt; \r\n&gt; The implementation takes equal advantage of ascending and descending order in its input array, and can take advantage of ascending and descending order in different parts of the same input array. It is well-suited to merging two or more sorted arrays: simply concatenate the arrays and sort the resulting array.\r\n&gt; \r\n&gt; The implementation was adapted from Tim Peters&#39;s list sort for Python ( TimSort). It uses techniques from Peter McIlroy&#39;s &quot;Optimistic Sorting and Information Theoretic Complexity&quot;, in Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms, pp 467-474, January 1993.\r\n&gt; \r\n&gt; Type Parameters:\r\n&gt; T - the class of the objects to be sorted\r\n&gt; Parameters:\r\n&gt; a - the array to be sorted\r\n&gt; c - the comparator to determine the order of the array. A null value indicates that the elements&#39; natural ordering should be used.\r\n&gt; Throws:\r\n&gt; **ClassCastException - if the array contains elements that are not mutually comparable using the specified comparator**\r\n&gt; IllegalArgumentException - (optional) if the comparator is found to violate the Comparator contract \r\n\r\nEmphasis mine.\r\n\r\nDoesn&#39;t the compiler guarantee (through the use of the type system and the generic signature of the method) that all elements of `a` are in fact mutually comparable using `c` and that `c.compare(e1, e2)` will never throw `ClassCastException`, provided `c` is not null?\r\n\r\nPresumably, the &quot;actual&quot; signature of `toArray`, with the type parameters erased, would look like so: `static void sort(Object[] a, Comparator c)` and the signature of `c.compare` (let&#39;s assume `c` has the static type `Number` in our program) would look like so: `int compare(Object o1, Object  o2)` and would contain two casts to `Number` in its implementation:\r\n\r\n```\r\nNumber e1 = (Number) o1;\r\nNumber e2 = (Number) o2;\r\n//...\r\n```\r\nThese casts succeed if and only if the runtime type of `o1` and `o2` is either `Number` or a sub-type of `Number`.\r\n\r\nThe runtime type of `o1` and `o2` is either `Number` or a sub-type of `Number` if and only if the runtime type of `a` is either `Number[]` or a sub-type of `Number[]`, e.g. `Integer[]`.\r\n\r\nThe runtime type of `a` is either `Number[]` or a sub-type of `Number[]` if and only if the static type of `a` is either `Number[]` or a sub-type of `Number[]`. (if the runtime type of `a` is *not* `Number[]` or a sub-type of `Number[]` but the static type of `a` is, a `ClassCastException` will be thrown *before* the body of `Arrays.sort` is entered)\r\n\r\nThat the static type of `a` is either `Number[]` or a sub-type of `Number[]` follows from the method signature `static &lt;T&gt; void sort(T[] a, Comparator&lt;? super T&gt; c)` because the static type of `c` is `Number` (`? super T` is `Number` so `T` is either `Number` or a sub-type of `Number`).\r\n\r\n\r\nI&#39;ve written some tests to try and get `Arrays.sort` to throw a `ClassCastException`, and only really got it when passing `null` for `c` instead of an actual comparator.\r\n\r\n```\r\npackage org.example.basics.generics.arrays;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\nclass ArraysTest {\r\n\r\n    private static final Comparator&lt;Number&gt; compareAsWholeNumber = new Comparator&lt;Number&gt;() {\r\n        @Override\r\n        public int compare(java.lang.Number o1, java.lang.Number o2) {\r\n            return Long.compare(o1.longValue(), o2.longValue());\r\n        }\r\n    };\r\n\r\n    @Test\r\n    public void sortingIntsThrowsNoException() {\r\n        Integer[] ints = new Integer[]{4, 2, 3};\r\n        Assertions.assertDoesNotThrow(() -&gt; {\r\n            Arrays.sort(ints, compareAsWholeNumber);\r\n        });\r\n\r\n    }\r\n\r\n    @Test\r\n    public void sortingDoublesThrowsNoException() {\r\n        Double[] doubles = new Double[]{4.0, 2.0, 3.0};\r\n        Assertions.assertDoesNotThrow(() -&gt; {\r\n            Arrays.sort(doubles, compareAsWholeNumber);\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void sortingNumbersThrowsNoException() {\r\n        Number[] numbers = new Number[]{4.0, 2, 3.0f};\r\n        Assertions.assertDoesNotThrow(() -&gt; {\r\n            Arrays.sort(numbers, compareAsWholeNumber);\r\n        });\r\n    }\r\n\r\n//    @Test\r\n//    public void sortingObjectsIsCompileError() {\r\n//        Object[] numbers = new Number[]{4.0, 2, 3.0f};\r\n//        Arrays.sort(numbers, compareAsWholeNumber);\r\n//    }\r\n\r\n    @Test\r\n    public void sortingDisguisedStringsThrowsClassCastException() {\r\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\r\n            Arrays.sort((Number[]) new Object[]{&quot;4.0&quot;, &quot;2&quot;, &quot;3.0f&quot;}, compareAsWholeNumber);\r\n        });\r\n        e.printStackTrace();\r\n    }\r\n\r\n    @Test\r\n    public void sortingDisguisedStringsThrowsClassCastExceptionAtArrayAssignment() {\r\n        Assertions.assertThrows(ClassCastException.class, () -&gt; {\r\n            Number[] numbers = (Number[]) new Object[]{&quot;4.0&quot;, &quot;2&quot;, &quot;3.0f&quot;};\r\n        });\r\n    }\r\n    @Test\r\n    public void sortingNonComparableWithNullComparatorThrowsClassCastException() {\r\n        Number[] numbers = new Number[]{4.0, 2, 3.0f};\r\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\r\n            Arrays.sort(numbers, null);\r\n        });\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nThe above test suite runs successfully on my machine using Eclipse Temurin 20.0.2.\r\n\r\nNote especially the last 4 tests.\r\n\r\n`sortingObjectsIsCompileError`: Passing an array with a static type that is neither `Number[]` nor a sub-type of `Number[]` to `sort` is a compile error.\r\nUncommenting that test and trying to compile produces the following for me:\r\n&gt; TestToArray.java:46: error: no suitable method found for sort(Object[],Comparator&lt;Number&gt;)\r\n&gt; Arrays.sort(numbers, compareAsWholeNumber);\r\n&gt;               ^\r\n&gt; method Arrays.&lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;) is not applicable\r\n&gt;       (inference variable T#1 has incompatible bounds\r\n&gt; upper bounds: Number,Object\r\n&gt; lower bounds: Object)\r\n&gt; method Arrays.&lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;) is not applicable\r\n&gt;       (cannot infer type-variable(s) T#2\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt; where T#1,T#2 are type-variables:\r\n&gt; T#1 extends Object declared in method &lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;)\r\n&gt; T#2 extends Object declared in method &lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;)\r\n\r\n`sortingDisguisedStringsThrowsClassCastException`: As the name suggests, a `ClassCastException` is indeed thrown here, but this is misleading: Printing the stacktrace to std_out yields the following (reduced for brevity):\r\n&gt; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Number; ([Ljava.lang.Object; and [Ljava.lang.Number; are in module java.base of loader &#39;bootstrap&#39;)\r\n&gt; \tat org.example.basics.generics.arrays.TestToArray.lambda$sortingDisguisedStringsThrowsClassCastException$3(TestToArray.java:52) &lt;3 internal lines&gt;\r\n&gt; \tat org.example.basics.generics.arrays.TestToArray.sortingDisguisedStringsThrowsClassCastException(TestToArray.java:51)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) &lt;9 internal lines&gt;\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) &lt;30 internal lines&gt;\r\n&gt; \tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source) &lt;7 internal lines&gt;\r\n&gt; \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n&gt; \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\nNote that: 1. the failed cast is from `[Ljava.lang.Object` to `[Ljava.lang.Number` rather than from `java.lang.Object` to `java.lang.Number` as we would expect it to be for a failed cast inside the `compare` method and 2. the `ClassCastException` is thrown from inside the `TestToArray` class and *not* from the `Arrays` class.\r\n\r\nThe test `sortingDisguisedStringsThrowsClassCastExceptionAtArrayAssignment` shows that simply assigning the array of `String[]` to an array of `Number[]` throws that same `ClassCastException`.\r\n\r\nThe last test, `sortingNonComparableWithNullComparatorThrowsClassCastException` does in fact throw the expected `ClassCastException` and this is the only case where I was able to get the `sort` method itself to throw this exception. Printing the stacktrace to std_out yields the following (reduced for brevity):\r\n&gt; java.lang.ClassCastException: class java.lang.Double cannot be cast to class java.lang.Integer (java.lang.Double and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;)\r\n&gt; \tat java.base/java.lang.Integer.compareTo(Integer.java:72)\r\n&gt; \tat java.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\r\n&gt; \tat java.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\r\n&gt; \tat java.base/java.util.Arrays.sort(Arrays.java:1041)\r\n&gt; \tat java.base/java.util.Arrays.sort(Arrays.java:1228)\r\n&gt; \tat org.example.basics.generics.arrays.TestToArray.lambda$sortingNonComparableWithNullComparatorThrowsClassCastException$5(TestToArray.java:67) &lt;30 internal lines&gt;\r\n&gt; \tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source) &lt;7 internal lines&gt;\r\n&gt; \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n&gt; \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\nNote that in this case the failed cast is from java.lang.Double to java.lang.Integer and the exception is actually thrown from the `Arrays` class.\r\n\r\n\r\n\r\nIs the only case where `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)` can throw `ClassCastException` the case where the value `null` is passed for the comparator `c`?\r\n\r\nContext: I&#39;m hoping to find out what kind of mistakes I need to make in order for the type system to no longer be able to function as a safeguard against `ClassCastException` for `sort`. So far it seems that the compiler will at the very least issue an &quot;unchecked&quot; warning which is reassuring. Is there any way to get a `ClassCastException` from `sort` without the compiler issuing &quot;unchecked&quot; warnings (and without passing `null` in place of `c`)?","title":"Can Arrays.sort(T[] a, Comparator&lt;? super T&gt; c) ever throw ClassCastException if c is not null?","body":"<p>The javadoc for <code>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</code> from the package <code>java.util</code> in the standard library for Java 20 <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(T%5B%5D,java.util.Comparator)\" rel=\"nofollow noreferrer\">API docs</a> reads as follows:</p>\n<blockquote>\n<p>public static  void sort(T[] a, Comparator&lt;? super T&gt; c)\nSorts the specified array of objects according to the order induced by the specified comparator. <strong>All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array)</strong>.</p>\n<p>This sort is guaranteed to be stable: equal elements will not be reordered as a result of the sort.</p>\n<p>Implementation note: This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons. Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.</p>\n<p>The implementation takes equal advantage of ascending and descending order in its input array, and can take advantage of ascending and descending order in different parts of the same input array. It is well-suited to merging two or more sorted arrays: simply concatenate the arrays and sort the resulting array.</p>\n<p>The implementation was adapted from Tim Peters's list sort for Python ( TimSort). It uses techniques from Peter McIlroy's &quot;Optimistic Sorting and Information Theoretic Complexity&quot;, in Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms, pp 467-474, January 1993.</p>\n<p>Type Parameters:\nT - the class of the objects to be sorted\nParameters:\na - the array to be sorted\nc - the comparator to determine the order of the array. A null value indicates that the elements' natural ordering should be used.\nThrows:\n<strong>ClassCastException - if the array contains elements that are not mutually comparable using the specified comparator</strong>\nIllegalArgumentException - (optional) if the comparator is found to violate the Comparator contract</p>\n</blockquote>\n<p>Emphasis mine.</p>\n<p>Doesn't the compiler guarantee (through the use of the type system and the generic signature of the method) that all elements of <code>a</code> are in fact mutually comparable using <code>c</code> and that <code>c.compare(e1, e2)</code> will never throw <code>ClassCastException</code>, provided <code>c</code> is not null?</p>\n<p>Presumably, the &quot;actual&quot; signature of <code>toArray</code>, with the type parameters erased, would look like so: <code>static void sort(Object[] a, Comparator c)</code> and the signature of <code>c.compare</code> (let's assume <code>c</code> has the static type <code>Number</code> in our program) would look like so: <code>int compare(Object o1, Object  o2)</code> and would contain two casts to <code>Number</code> in its implementation:</p>\n<pre><code>Number e1 = (Number) o1;\nNumber e2 = (Number) o2;\n//...\n</code></pre>\n<p>These casts succeed if and only if the runtime type of <code>o1</code> and <code>o2</code> is either <code>Number</code> or a sub-type of <code>Number</code>.</p>\n<p>The runtime type of <code>o1</code> and <code>o2</code> is either <code>Number</code> or a sub-type of <code>Number</code> if and only if the runtime type of <code>a</code> is either <code>Number[]</code> or a sub-type of <code>Number[]</code>, e.g. <code>Integer[]</code>.</p>\n<p>The runtime type of <code>a</code> is either <code>Number[]</code> or a sub-type of <code>Number[]</code> if and only if the static type of <code>a</code> is either <code>Number[]</code> or a sub-type of <code>Number[]</code>. (if the runtime type of <code>a</code> is <em>not</em> <code>Number[]</code> or a sub-type of <code>Number[]</code> but the static type of <code>a</code> is, a <code>ClassCastException</code> will be thrown <em>before</em> the body of <code>Arrays.sort</code> is entered)</p>\n<p>That the static type of <code>a</code> is either <code>Number[]</code> or a sub-type of <code>Number[]</code> follows from the method signature <code>static &lt;T&gt; void sort(T[] a, Comparator&lt;? super T&gt; c)</code> because the static type of <code>c</code> is <code>Number</code> (<code>? super T</code> is <code>Number</code> so <code>T</code> is either <code>Number</code> or a sub-type of <code>Number</code>).</p>\n<p>I've written some tests to try and get <code>Arrays.sort</code> to throw a <code>ClassCastException</code>, and only really got it when passing <code>null</code> for <code>c</code> instead of an actual comparator.</p>\n<pre><code>package org.example.basics.generics.arrays;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\nclass ArraysTest {\n\n    private static final Comparator&lt;Number&gt; compareAsWholeNumber = new Comparator&lt;Number&gt;() {\n        @Override\n        public int compare(java.lang.Number o1, java.lang.Number o2) {\n            return Long.compare(o1.longValue(), o2.longValue());\n        }\n    };\n\n    @Test\n    public void sortingIntsThrowsNoException() {\n        Integer[] ints = new Integer[]{4, 2, 3};\n        Assertions.assertDoesNotThrow(() -&gt; {\n            Arrays.sort(ints, compareAsWholeNumber);\n        });\n\n    }\n\n    @Test\n    public void sortingDoublesThrowsNoException() {\n        Double[] doubles = new Double[]{4.0, 2.0, 3.0};\n        Assertions.assertDoesNotThrow(() -&gt; {\n            Arrays.sort(doubles, compareAsWholeNumber);\n        });\n    }\n\n    @Test\n    public void sortingNumbersThrowsNoException() {\n        Number[] numbers = new Number[]{4.0, 2, 3.0f};\n        Assertions.assertDoesNotThrow(() -&gt; {\n            Arrays.sort(numbers, compareAsWholeNumber);\n        });\n    }\n\n//    @Test\n//    public void sortingObjectsIsCompileError() {\n//        Object[] numbers = new Number[]{4.0, 2, 3.0f};\n//        Arrays.sort(numbers, compareAsWholeNumber);\n//    }\n\n    @Test\n    public void sortingDisguisedStringsThrowsClassCastException() {\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\n            Arrays.sort((Number[]) new Object[]{&quot;4.0&quot;, &quot;2&quot;, &quot;3.0f&quot;}, compareAsWholeNumber);\n        });\n        e.printStackTrace();\n    }\n\n    @Test\n    public void sortingDisguisedStringsThrowsClassCastExceptionAtArrayAssignment() {\n        Assertions.assertThrows(ClassCastException.class, () -&gt; {\n            Number[] numbers = (Number[]) new Object[]{&quot;4.0&quot;, &quot;2&quot;, &quot;3.0f&quot;};\n        });\n    }\n    @Test\n    public void sortingNonComparableWithNullComparatorThrowsClassCastException() {\n        Number[] numbers = new Number[]{4.0, 2, 3.0f};\n        Throwable e = Assertions.assertThrows(ClassCastException.class, () -&gt; {\n            Arrays.sort(numbers, null);\n        });\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The above test suite runs successfully on my machine using Eclipse Temurin 20.0.2.</p>\n<p>Note especially the last 4 tests.</p>\n<p><code>sortingObjectsIsCompileError</code>: Passing an array with a static type that is neither <code>Number[]</code> nor a sub-type of <code>Number[]</code> to <code>sort</code> is a compile error.\nUncommenting that test and trying to compile produces the following for me:</p>\n<blockquote>\n<p>TestToArray.java:46: error: no suitable method found for sort(Object[],Comparator)\nArrays.sort(numbers, compareAsWholeNumber);\n^\nmethod Arrays.&lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;) is not applicable\n(inference variable T#1 has incompatible bounds\nupper bounds: Number,Object\nlower bounds: Object)\nmethod Arrays.&lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;) is not applicable\n(cannot infer type-variable(s) T#2\n(actual and formal argument lists differ in length))\nwhere T#1,T#2 are type-variables:\nT#1 extends Object declared in method &lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;)\nT#2 extends Object declared in method &lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;)</p>\n</blockquote>\n<p><code>sortingDisguisedStringsThrowsClassCastException</code>: As the name suggests, a <code>ClassCastException</code> is indeed thrown here, but this is misleading: Printing the stacktrace to std_out yields the following (reduced for brevity):</p>\n<blockquote>\n<p>java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Number; ([Ljava.lang.Object; and [Ljava.lang.Number; are in module java.base of loader 'bootstrap')\nat org.example.basics.generics.arrays.TestToArray.lambda$sortingDisguisedStringsThrowsClassCastException$3(TestToArray.java:52) &lt;3 internal lines&gt;\nat org.example.basics.generics.arrays.TestToArray.sortingDisguisedStringsThrowsClassCastException(TestToArray.java:51)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) &lt;9 internal lines&gt;\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) &lt;30 internal lines&gt;\nat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source) &lt;7 internal lines&gt;\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)</p>\n</blockquote>\n<p>Note that: 1. the failed cast is from <code>[Ljava.lang.Object</code> to <code>[Ljava.lang.Number</code> rather than from <code>java.lang.Object</code> to <code>java.lang.Number</code> as we would expect it to be for a failed cast inside the <code>compare</code> method and 2. the <code>ClassCastException</code> is thrown from inside the <code>TestToArray</code> class and <em>not</em> from the <code>Arrays</code> class.</p>\n<p>The test <code>sortingDisguisedStringsThrowsClassCastExceptionAtArrayAssignment</code> shows that simply assigning the array of <code>String[]</code> to an array of <code>Number[]</code> throws that same <code>ClassCastException</code>.</p>\n<p>The last test, <code>sortingNonComparableWithNullComparatorThrowsClassCastException</code> does in fact throw the expected <code>ClassCastException</code> and this is the only case where I was able to get the <code>sort</code> method itself to throw this exception. Printing the stacktrace to std_out yields the following (reduced for brevity):</p>\n<blockquote>\n<p>java.lang.ClassCastException: class java.lang.Double cannot be cast to class java.lang.Integer (java.lang.Double and java.lang.Integer are in module java.base of loader 'bootstrap')\nat java.base/java.lang.Integer.compareTo(Integer.java:72)\nat java.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\nat java.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\nat java.base/java.util.Arrays.sort(Arrays.java:1041)\nat java.base/java.util.Arrays.sort(Arrays.java:1228)\nat org.example.basics.generics.arrays.TestToArray.lambda$sortingNonComparableWithNullComparatorThrowsClassCastException$5(TestToArray.java:67) &lt;30 internal lines&gt;\nat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source) &lt;7 internal lines&gt;\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)</p>\n</blockquote>\n<p>Note that in this case the failed cast is from java.lang.Double to java.lang.Integer and the exception is actually thrown from the <code>Arrays</code> class.</p>\n<p>Is the only case where <code>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</code> can throw <code>ClassCastException</code> the case where the value <code>null</code> is passed for the comparator <code>c</code>?</p>\n<p>Context: I'm hoping to find out what kind of mistakes I need to make in order for the type system to no longer be able to function as a safeguard against <code>ClassCastException</code> for <code>sort</code>. So far it seems that the compiler will at the very least issue an &quot;unchecked&quot; warning which is reassuring. Is there any way to get a <code>ClassCastException</code> from <code>sort</code> without the compiler issuing &quot;unchecked&quot; warnings (and without passing <code>null</code> in place of <code>c</code>)?</p>\n"},{"tags":["java","junit","zerocode"],"answers":[{"tags":[],"owner":{"account_id":16084074,"reputation":69,"user_id":11609249,"display_name":"ivlahek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573021820,"creation_date":1573021820,"answer_id":58724271,"question_id":58657690,"body_markdown":"I think you can not do this with Zerocode. \r\n\r\nIf you want to reuse your JUnit test you need to create a LoadScenario test class. In this class, you need to tell which test you are going to use and which method it should run.\r\n\r\nFor example \r\n\r\n```\r\n@LoadWith(&quot;load_generation.properties&quot;)\r\n@TestMapping(testClass = PostCorpLoanServiceTest.class, testMethod = &quot;testPostNewLoan_crudOperations&quot;)\r\n@TestMapping(testClass = PutCorpLoanServiceTest.class, testMethod = &quot;testPutAmendExistingLoan&quot;)\r\n@TestMapping(testClass = GetScreeningServiceTest.class, testMethod = &quot;testGetScreeningLocalAndGlobal&quot;)\r\n@RunWith(ZeroCodeMultiLoadRunner.class)\r\npublic class JunitParallelMultiScenarioTest {\r\n\r\n}\r\n\r\n```\r\n\r\nTake a look a this repo hosted on github: \r\nhttps://github.com/authorjapps/performance-tests. \r\nIt is a showcase project for ZeroCode framework (load testing part of the framework). It contains load test samples created with the help of Zerocode framework. \r\n\r\n","title":"Running a Junit Test Suite with Zerocode","body":"<p>I think you can not do this with Zerocode. </p>\n\n<p>If you want to reuse your JUnit test you need to create a LoadScenario test class. In this class, you need to tell which test you are going to use and which method it should run.</p>\n\n<p>For example </p>\n\n<pre><code>@LoadWith(\"load_generation.properties\")\n@TestMapping(testClass = PostCorpLoanServiceTest.class, testMethod = \"testPostNewLoan_crudOperations\")\n@TestMapping(testClass = PutCorpLoanServiceTest.class, testMethod = \"testPutAmendExistingLoan\")\n@TestMapping(testClass = GetScreeningServiceTest.class, testMethod = \"testGetScreeningLocalAndGlobal\")\n@RunWith(ZeroCodeMultiLoadRunner.class)\npublic class JunitParallelMultiScenarioTest {\n\n}\n\n</code></pre>\n\n<p>Take a look a this repo hosted on github: \n<a href=\"https://github.com/authorjapps/performance-tests\" rel=\"nofollow noreferrer\">https://github.com/authorjapps/performance-tests</a>. \nIt is a showcase project for ZeroCode framework (load testing part of the framework). It contains load test samples created with the help of Zerocode framework. </p>\n"},{"tags":[],"owner":{"account_id":12533796,"reputation":51,"user_id":9121086,"display_name":"Sidd Gautama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573489029,"creation_date":1573486596,"answer_id":58804384,"question_id":58657690,"body_markdown":"You do not need Zerocode to achieve this. You can simply use `Maven SureFire` plugin for the parallel running of your Suite class(which has reference to other tests classes).\r\n\r\n```xml\r\n           &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;org.jsmart.samples.tests.AnyTestSuite&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n\t\t\t\t\t&lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt; &lt;!-- Or use methods --&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n**Note:**\r\nIn this case you need to make sure all your test-methods/classes are actually/potentially can be run parallely. Which means- In terms of the data you need to make sure you have designed them correctly so they are independent or not intended to overlap or block each other.\r\n\r\nThis also holds good for the below situation, but here you are cherry-picking the tests yourself and you make sure they can be fed into a parallel runner.\r\n\r\n1) But if you use `@RunWith(ZeroCodeUnitRunner.class)` on your individual test classes(not the Suite class), then you get a nice CSV report at the &#39;target&#39; folder.\r\n\r\nThen you can use this report to generate various throughput `graphs/statistics` etc for your project or business audience. See the section `Extract useful information from the data` in this [blog](https://medium.com/@igorvlahek1/load-testing-with-junit-393a83261745).\r\n\r\n2) If you need to control your parallel runs, e.g. you want to fire `50 users in 60secs` or `100 users in 60 secs` or `1000 users in 300 secs` etc, then you need Zerocode runners which helps you to easily achieve this.\r\n```java\r\n@RunWith(ZeroCodeLoadRunner.class)\r\n-or-\r\n@RunWith(ZeroCodeMultiLoadRunner.class)\r\n```","title":"Running a Junit Test Suite with Zerocode","body":"<p>You do not need Zerocode to achieve this. You can simply use <code>Maven SureFire</code> plugin for the parallel running of your Suite class(which has reference to other tests classes).</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;org.jsmart.samples.tests.AnyTestSuite&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt; &lt;!-- Or use methods --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Note:</strong>\nIn this case you need to make sure all your test-methods/classes are actually/potentially can be run parallely. Which means- In terms of the data you need to make sure you have designed them correctly so they are independent or not intended to overlap or block each other.</p>\n\n<p>This also holds good for the below situation, but here you are cherry-picking the tests yourself and you make sure they can be fed into a parallel runner.</p>\n\n<p>1) But if you use <code>@RunWith(ZeroCodeUnitRunner.class)</code> on your individual test classes(not the Suite class), then you get a nice CSV report at the 'target' folder.</p>\n\n<p>Then you can use this report to generate various throughput <code>graphs/statistics</code> etc for your project or business audience. See the section <code>Extract useful information from the data</code> in this <a href=\"https://medium.com/@igorvlahek1/load-testing-with-junit-393a83261745\" rel=\"nofollow noreferrer\">blog</a>.</p>\n\n<p>2) If you need to control your parallel runs, e.g. you want to fire <code>50 users in 60secs</code> or <code>100 users in 60 secs</code> or <code>1000 users in 300 secs</code> etc, then you need Zerocode runners which helps you to easily achieve this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(ZeroCodeLoadRunner.class)\n-or-\n@RunWith(ZeroCodeMultiLoadRunner.class)\n</code></pre>\n"}],"owner":{"account_id":9616878,"reputation":145,"user_id":7139351,"accept_rate":50,"display_name":"Sathya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1697217864,"creation_date":1572604255,"question_id":58657690,"body_markdown":"I am trying to run a load test with Junit(4) using Zerocode. I was able to run existing Junit test classes by following these tutorials \r\n\r\n - [Load testing with JUnit using Zerocode framework][1] \r\n - [Reusing the Existing JUnit Tests for Load/Stress Generation][2]\r\n\r\nI have a Junit test suite working properly and I would like to know how to use zerocode to start this test suite so it will run all the tests in all test classes for a load test. The examples above are describing how to run a selected test method or few only.\r\n\r\n  [1]: https://medium.com/@igorvlahek1/load-testing-with-junit-393a83261745\r\n  [2]: https://dzone.com/articles/how-we-do-performance-testing-easily-efficiently-a","title":"Running a Junit Test Suite with Zerocode","body":"<p>I am trying to run a load test with Junit(4) using Zerocode. I was able to run existing Junit test classes by following these tutorials </p>\n\n<ul>\n<li><a href=\"https://medium.com/@igorvlahek1/load-testing-with-junit-393a83261745\" rel=\"nofollow noreferrer\">Load testing with JUnit using Zerocode framework</a> </li>\n<li><a href=\"https://dzone.com/articles/how-we-do-performance-testing-easily-efficiently-a\" rel=\"nofollow noreferrer\">Reusing the Existing JUnit Tests for Load/Stress Generation</a></li>\n</ul>\n\n<p>I have a Junit test suite working properly and I would like to know how to use zerocode to start this test suite so it will run all the tests in all test classes for a load test. The examples above are describing how to run a selected test method or few only.</p>\n"},{"tags":["java","sql-server","hibernate","spring-data-jpa","nocount"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1680319073,"post_id":75904080,"comment_id":133882774,"body_markdown":"Have you tried using Extended Events or the SQL Profiler tool to capture the actual T-SQL that Spring is submitting to SQL Server? If you tried executing that captured code in SSMS you might get insights into what the real error is, because it sounds like something to do with the ORM mapping (identity columns, composite keys, etc.) not being setup correctly.","body":"Have you tried using Extended Events or the SQL Profiler tool to capture the actual T-SQL that Spring is submitting to SQL Server? If you tried executing that captured code in SSMS you might get insights into what the real error is, because it sounds like something to do with the ORM mapping (identity columns, composite keys, etc.) not being setup correctly."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680323673,"post_id":75904080,"comment_id":133883108,"body_markdown":"I haven&#39;t tried Extended Events or the SQL Profiler tool yet but if I turn off NOCOUNT setting at Server Database Level then everything works normally. So I personally don&#39;t think it&#39;s something related to ORM mapping","body":"I haven&#39;t tried Extended Events or the SQL Profiler tool yet but if I turn off NOCOUNT setting at Server Database Level then everything works normally. So I personally don&#39;t think it&#39;s something related to ORM mapping"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1680345839,"post_id":75904080,"comment_id":133885171,"body_markdown":"The `NOCOUNT ON` property in your question is not necessarily the server property. It is the initial value for your SQL Server Management Studio client connections, which will reflect the server configuration if set to a non-default value. The server-level default configuration is bit 512 of `user options` (`SELECT CASE WHEN CAST(value AS int) &amp; 512 = 512 THEN &#39;NOCOUNT ON&#39; ELSE &#39;NOCOUNT OFF&#39; END FROM sys.configurations WHERE name = &#39;user options&#39;;`).","body":"The <code>NOCOUNT ON</code> property in your question is not necessarily the server property. It is the initial value for your SQL Server Management Studio client connections, which will reflect the server configuration if set to a non-default value. The server-level default configuration is bit 512 of <code>user options</code> (<code>SELECT CASE WHEN CAST(value AS int) &amp; 512 = 512 THEN &#39;NOCOUNT ON&#39; ELSE &#39;NOCOUNT OFF&#39; END FROM sys.configurations WHERE name = &#39;user options&#39;;</code>)."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680354934,"post_id":75904080,"comment_id":133886318,"body_markdown":"Thanks @DanGuzman I don&#39;t really know how to describe it &quot;professionally&quot; but is there any ways to deal with my problem?","body":"Thanks @DanGuzman I don&#39;t really know how to describe it &quot;professionally&quot; but is there any ways to deal with my problem?"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1680355394,"post_id":75904080,"comment_id":133886374,"body_markdown":"@infD, as already suggested, use a trace to capture the actual requests generated by the ORM.","body":"@infD, as already suggested, use a trace to capture the actual requests generated by the ORM."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680356815,"post_id":75904080,"comment_id":133886558,"body_markdown":"@DanGuzman Could you please go into a bit more detail? I&#39;m sorry I don&#39;t really understand what you&#39;re saying","body":"@DanGuzman Could you please go into a bit more detail? I&#39;m sorry I don&#39;t really understand what you&#39;re saying"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1680357274,"post_id":75904080,"comment_id":133886637,"body_markdown":"@infD, [these instructions](https://learn.microsoft.com/en-us/sql/relational-databases/extended-events/use-the-ssms-xe-profiler) describe how to run a TSQL xEvent Profiler session from SSMS.","body":"@infD, <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/extended-events/use-the-ssms-xe-profiler\" rel=\"nofollow noreferrer\">these instructions</a> describe how to run a TSQL xEvent Profiler session from SSMS."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680357341,"post_id":75904080,"comment_id":133886648,"body_markdown":"Aw thank you, you were using another account I believe.","body":"Aw thank you, you were using another account I believe."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1680358486,"post_id":75904080,"comment_id":133886811,"body_markdown":"@DanGuzman nothing fishy about the ORM mapping as I observed, but thank you for your suggestion","body":"@DanGuzman nothing fishy about the ORM mapping as I observed, but thank you for your suggestion"}],"answers":[{"tags":[],"owner":{"account_id":24505385,"reputation":1,"user_id":18420492,"display_name":"fixitfeliks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697217027,"creation_date":1697217027,"answer_id":77289583,"question_id":75904080,"body_markdown":"I just struggled with this problem for 2 days X_X\r\n\r\nOur old DB got moved to a larger instance that is managed by another team that has NOCOUNT set to ON and I have no sway to change that since I own 1 out of ~30 DBs on that server!\r\n\r\nI am using Hibernate 5.6 and running on SQL Server 2016.\r\n\r\nYou are on the right track by setting something up to prepend that statement to your queries.\r\n\r\nUse a StatementInspector instead\r\n\r\n    public class NoCountStatementInspector implements StatementInspector {\r\n    private static final Logger logger = MyLoggerFactory.getLogger(NoCountStatementInspector.class.getSimpleName());\r\n\r\n    @Override\r\n    public String inspect(String sql) {\r\n        if (sql.toLowerCase().indexOf(&quot;insert&quot;) == 0 || sql.toLowerCase().indexOf(&quot;update&quot;) == 0) {\r\n            logger.finer(&quot;Inspecting SQL Statement (add NOCOUNT OFF) - BEFORE: &quot; + sql);\r\n            String newSql = &quot;set nocount off; &quot; + sql;\r\n            logger.finer(&quot;Inspecting SQL Statement (add NOCOUNT OFF) - AFTER : &quot; + newSql);\r\n            return newSql;\r\n        }\r\n        return sql;\r\n    }\r\n}\r\n\r\nAnd then set your hibernate properties to use your inspector. I have my hibernate setup programatically, if you use a file add it to the file.\r\n\r\n    hibernateProperties.put(&quot;hibernate.session_factory.statement_inspector&quot;,\r\n                &quot;com.persistentsystems.data.NoCountStatementInspector&quot;);\r\n\r\nMake sure the class is supplied to hibernate managed classes in whichever way. I am not using spring so I set it up manually.\r\n\r\nHope this helps someone lol         \r\n","title":"Unexpected row count: -1; expected: 1 with Spring Data JPA SQL Server with NOCOUNT ON","body":"<p>I just struggled with this problem for 2 days X_X</p>\n<p>Our old DB got moved to a larger instance that is managed by another team that has NOCOUNT set to ON and I have no sway to change that since I own 1 out of ~30 DBs on that server!</p>\n<p>I am using Hibernate 5.6 and running on SQL Server 2016.</p>\n<p>You are on the right track by setting something up to prepend that statement to your queries.</p>\n<p>Use a StatementInspector instead</p>\n<pre><code>public class NoCountStatementInspector implements StatementInspector {\nprivate static final Logger logger = MyLoggerFactory.getLogger(NoCountStatementInspector.class.getSimpleName());\n\n@Override\npublic String inspect(String sql) {\n    if (sql.toLowerCase().indexOf(&quot;insert&quot;) == 0 || sql.toLowerCase().indexOf(&quot;update&quot;) == 0) {\n        logger.finer(&quot;Inspecting SQL Statement (add NOCOUNT OFF) - BEFORE: &quot; + sql);\n        String newSql = &quot;set nocount off; &quot; + sql;\n        logger.finer(&quot;Inspecting SQL Statement (add NOCOUNT OFF) - AFTER : &quot; + newSql);\n        return newSql;\n    }\n    return sql;\n}\n</code></pre>\n<p>}</p>\n<p>And then set your hibernate properties to use your inspector. I have my hibernate setup programatically, if you use a file add it to the file.</p>\n<pre><code>hibernateProperties.put(&quot;hibernate.session_factory.statement_inspector&quot;,\n            &quot;com.persistentsystems.data.NoCountStatementInspector&quot;);\n</code></pre>\n<p>Make sure the class is supplied to hibernate managed classes in whichever way. I am not using spring so I set it up manually.</p>\n<p>Hope this helps someone lol</p>\n"}],"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697217027,"creation_date":1680318522,"question_id":75904080,"body_markdown":"**PROBLEM**: I am having a problem regarding the database under the server in SQL Server which has Server Property &gt; Connection &gt; NOCOUNT ON (is ticked). The table has no trigger, absolutely nothing FYI.\r\n\r\nWhat I am trying to do it just to do a simple insert using\r\n```repository.save(entity)``` or ```entityManager.persist(entity)``` but I got an error:\r\n\r\n&gt; Unexpected row count: -1; expected: 1.\r\n\r\nI cannot get an entity out and edit it also =&gt; there will be an error &lt;br&gt;\r\n\r\n&gt; org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect)\r\n\r\nI have tried to make a custom Dialect to insert a ```SET NOCOUNT OFF``` before every query but it didn&#39;t work.\r\n\r\nThe custom dialect:\r\n```\r\npackage com.ata2.art22;\r\n\r\nimport org.hibernate.dialect.SQLServer2012Dialect;\r\nimport org.hibernate.dialect.function.StandardSQLFunction;\r\nimport org.hibernate.type.StandardBasicTypes;\r\n\r\npublic class CustomSQLServerDialect extends SQLServer2012Dialect {\r\n    \r\n    public CustomSQLServerDialect() {\r\n        super();\r\n        registerFunction(&quot;concat&quot;, new StandardSQLFunction(&quot;concat&quot;, StandardBasicTypes.STRING));\r\n    }\r\n\r\n    @Override\r\n    public String getSequenceNextValString(String sequenceName) {\r\n        return &quot;SET NOCOUNT OFF;\\n&quot; + super.getSequenceNextValString(sequenceName);\r\n    }\r\n}\r\n```\r\n\r\nThe property file setting:\r\n\r\n```spring.jpa.properties.hibernate.dialect=com.ata2.art22.CustomSQLServerDialect```\r\n\r\n\r\n**QUESTION**:\r\nIs there any other ways or changes I need to do to be able to use methods from repository or entityManager WITHOUT turning off the NOCOUNT ON at the Database Server configuration or using native query?","title":"Unexpected row count: -1; expected: 1 with Spring Data JPA SQL Server with NOCOUNT ON","body":"<p><strong>PROBLEM</strong>: I am having a problem regarding the database under the server in SQL Server which has Server Property &gt; Connection &gt; NOCOUNT ON (is ticked). The table has no trigger, absolutely nothing FYI.</p>\n<p>What I am trying to do it just to do a simple insert using\n<code>repository.save(entity)</code> or <code>entityManager.persist(entity)</code> but I got an error:</p>\n<blockquote>\n<p>Unexpected row count: -1; expected: 1.</p>\n</blockquote>\n<p>I cannot get an entity out and edit it also =&gt; there will be an error <br></p>\n<blockquote>\n<p>org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect)</p>\n</blockquote>\n<p>I have tried to make a custom Dialect to insert a <code>SET NOCOUNT OFF</code> before every query but it didn't work.</p>\n<p>The custom dialect:</p>\n<pre><code>package com.ata2.art22;\n\nimport org.hibernate.dialect.SQLServer2012Dialect;\nimport org.hibernate.dialect.function.StandardSQLFunction;\nimport org.hibernate.type.StandardBasicTypes;\n\npublic class CustomSQLServerDialect extends SQLServer2012Dialect {\n    \n    public CustomSQLServerDialect() {\n        super();\n        registerFunction(&quot;concat&quot;, new StandardSQLFunction(&quot;concat&quot;, StandardBasicTypes.STRING));\n    }\n\n    @Override\n    public String getSequenceNextValString(String sequenceName) {\n        return &quot;SET NOCOUNT OFF;\\n&quot; + super.getSequenceNextValString(sequenceName);\n    }\n}\n</code></pre>\n<p>The property file setting:</p>\n<p><code>spring.jpa.properties.hibernate.dialect=com.ata2.art22.CustomSQLServerDialect</code></p>\n<p><strong>QUESTION</strong>:\nIs there any other ways or changes I need to do to be able to use methods from repository or entityManager WITHOUT turning off the NOCOUNT ON at the Database Server configuration or using native query?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697180337,"post_id":77277072,"comment_id":136249887,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11571418,"reputation":1,"user_id":8478081,"display_name":"Frederic Peugny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697216572,"creation_date":1697071141,"question_id":77277072,"body_markdown":"I was forced to go with an old version of configuration code since the newest had a problem with classpath (I suppose) to detect hibernate.cfg.xml\r\n\r\nI developed a tutorial of Hibernate with two entities (Person and Phone, with a join table tblperson_phones). What I have tried is to &quot;actualize&quot; the boot method but at the execution it complains with indicating that the hibernate.cfg.xml file was not found. (I tried also with persistence.xml but no success)\r\nThus I went to the classic version of buildSessionFactory with Configuration an. This time the hibernate cfg xml file was found but it went into an error at buildSessionFactory.\r\n\r\n    public class PersonManagerBasic {\r\n\r\n\tpublic org.apache.logging.log4j.Logger logger;\r\n\r\n\tpublic List&lt;Person&gt; list_persons;\r\n\r\n\tpublic PersonManagerBasic() {\r\n\t\tlogger = LogManager.getLogger(PersonManagerBasic.class);\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tPersonManagerBasic mgr = new PersonManagerBasic();\r\n\r\n\t\t//if (args[0].equals(&quot;list&quot;)) {\r\n\t    \r\n\t\t\tmgr.list_persons=mgr.listAllPersons();\r\n\r\n\t\t\tIterator&lt;Person&gt; it=mgr.list_persons.iterator();\r\n\r\n\t\t\twhile (it.hasNext()) {\r\n\t\t\t\tPerson personex = it.next();\r\n\t\t\t\tSystem.out.println(personex.getName());\r\n\t\t\t}\r\n\t\t//}\r\n\t\t// get the singleton of sessionFactory to close it\r\n\t\tHibernateUtil.getSessionFactory().close();\r\n\t\tmgr.logger.log(Level.ERROR, &quot;LoggerName :: &quot;+mgr.logger.getName()+&quot;:: program successfully executed&quot;);\r\n\r\n\t}\r\n\r\n\t// returns all entities from table &quot;tblpersons&quot;\r\n\tpublic List&lt;Person&gt; listAllPersons() {\r\n\t\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\t\tsession.beginTransaction();\r\n\r\n\t\tList&lt;Person&gt; listresult = session.createQuery(&quot;from Person p&quot;).list();\r\n\r\n\t\tsession.getTransaction().commit();\r\n\r\n\t\treturn listresult;\r\n\t}\r\n}\r\n","title":"Hibernate SessionFactory not constructed (-- forced to go with configuration)","body":"<p>I was forced to go with an old version of configuration code since the newest had a problem with classpath (I suppose) to detect hibernate.cfg.xml</p>\n<p>I developed a tutorial of Hibernate with two entities (Person and Phone, with a join table tblperson_phones). What I have tried is to &quot;actualize&quot; the boot method but at the execution it complains with indicating that the hibernate.cfg.xml file was not found. (I tried also with persistence.xml but no success)\nThus I went to the classic version of buildSessionFactory with Configuration an. This time the hibernate cfg xml file was found but it went into an error at buildSessionFactory.</p>\n<pre><code>public class PersonManagerBasic {\n\npublic org.apache.logging.log4j.Logger logger;\n\npublic List&lt;Person&gt; list_persons;\n\npublic PersonManagerBasic() {\n    logger = LogManager.getLogger(PersonManagerBasic.class);\n}\n\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    PersonManagerBasic mgr = new PersonManagerBasic();\n\n    //if (args[0].equals(&quot;list&quot;)) {\n    \n        mgr.list_persons=mgr.listAllPersons();\n\n        Iterator&lt;Person&gt; it=mgr.list_persons.iterator();\n\n        while (it.hasNext()) {\n            Person personex = it.next();\n            System.out.println(personex.getName());\n        }\n    //}\n    // get the singleton of sessionFactory to close it\n    HibernateUtil.getSessionFactory().close();\n    mgr.logger.log(Level.ERROR, &quot;LoggerName :: &quot;+mgr.logger.getName()+&quot;:: program successfully executed&quot;);\n\n}\n\n// returns all entities from table &quot;tblpersons&quot;\npublic List&lt;Person&gt; listAllPersons() {\n    Session session = HibernateUtil.getSessionFactory().openSession();\n    session.beginTransaction();\n\n    List&lt;Person&gt; listresult = session.createQuery(&quot;from Person p&quot;).list();\n\n    session.getTransaction().commit();\n\n    return listresult;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692198801,"post_id":76914896,"comment_id":135591851,"body_markdown":"Where do you see `title_blocks` in the JSON itself?","body":"Where do you see <code>title_blocks</code> in the JSON itself?"},{"owner":{"account_id":9519666,"reputation":77,"user_id":7074950,"display_name":"spoons"},"score":0,"creation_date":1692207741,"post_id":76914896,"comment_id":135593553,"body_markdown":"Hi @HovercraftFullOfEels, sorry I must have missed this. I changed the key lookup to match the json structure.","body":"Hi @HovercraftFullOfEels, sorry I must have missed this. I changed the key lookup to match the json structure."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692208027,"post_id":76914896,"comment_id":135593596,"body_markdown":"Thank you for the edit. Note that a decent [mre] could help you get better answers quicker.","body":"Thank you for the edit. Note that a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> could help you get better answers quicker."}],"answers":[{"tags":[],"owner":{"account_id":26528740,"reputation":367,"user_id":20161294,"display_name":"v-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697215777,"creation_date":1692209991,"answer_id":76916127,"question_id":76914896,"body_markdown":"If you use an online parser, like for example, [jsonViewer][1] you could see that your JSON is valid.\r\n\r\nThe library seems a false problem: while there are many better libraries that exists to parse JSON, json-simple while old could be a candidate at least to execute the task. \r\n\r\nJSON file data is in composed of name/value pairs.\r\n\r\nData is separated by commas, curly braces hold objects, square brackets hold arrays and values could be of primitive type.\r\n \r\nHere we have a single JSON Object named &quot;characterizations_values&quot; which holds an Array with one element.\r\n\r\nA better solution would be to get the root element first while accessing the leafs from there. \r\n \r\n        JSONParser jsonParser = new JSONParser();\r\n        try (FileReader reader = new FileReader(&quot;yourfile.json&quot;))\r\n        {\r\n            Object obj = jsonParser.parse(reader);\r\n            JSONObject documentList = (JSONObject) obj;\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n  [1]: https://codebeautify.org/jsonviewer","title":"JSON structure not being recognised as JSONObject or JSONArray","body":"<p>If you use an online parser, like for example, <a href=\"https://codebeautify.org/jsonviewer\" rel=\"nofollow noreferrer\">jsonViewer</a> you could see that your JSON is valid.</p>\n<p>The library seems a false problem: while there are many better libraries that exists to parse JSON, json-simple while old could be a candidate at least to execute the task.</p>\n<p>JSON file data is in composed of name/value pairs.</p>\n<p>Data is separated by commas, curly braces hold objects, square brackets hold arrays and values could be of primitive type.</p>\n<p>Here we have a single JSON Object named &quot;characterizations_values&quot; which holds an Array with one element.</p>\n<p>A better solution would be to get the root element first while accessing the leafs from there.</p>\n<pre><code>    JSONParser jsonParser = new JSONParser();\n    try (FileReader reader = new FileReader(&quot;yourfile.json&quot;))\n    {\n        Object obj = jsonParser.parse(reader);\n        JSONObject documentList = (JSONObject) obj;\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":9519666,"reputation":77,"user_id":7074950,"display_name":"spoons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76916127,"answer_count":1,"score":0,"last_activity_date":1697215777,"creation_date":1692198589,"question_id":76914896,"body_markdown":"I&#39;m having difficulty in parsing my json file into something that I can work with. The json file looks like this: \r\n\r\n```\r\n{\r\n    &quot;characterizations_values&quot;: [\r\n        {\r\n            &quot;filename&quot;: &quot;TestDoc&quot;,\r\n            &quot;sheet&quot;: {\r\n                &quot;my-title&quot;: [\r\n                    {\r\n                        &quot;number&quot;: &quot;ddddko9&quot;,\r\n                        &quot;numbered-part&quot;: &quot;test number&quot;,\r\n                        &quot;documents&quot;: [\r\n                            [\r\n                                {\r\n                                    &quot;document_name&quot;: &quot;20 Minutes&quot;,\r\n                                    &quot;document-category&quot;: [\r\n                                        &quot;Accounting&quot;,\r\n                                        &quot;Cost-Management&quot;\r\n                                    ]\r\n                                }\r\n                            ]\r\n                        ] \r\n                    }\r\n                ],\r\n                &quot;my-notes&quot;: [\r\n                    {\r\n                        &quot;dimensions&quot;: {\r\n                            &quot;enclosing&quot;: {\r\n                                &quot;test-one&quot;: 34.33,\r\n                                &quot;test-two&quot;: 34\r\n                            },\r\n                            &quot;enclosing-extra&quot;: {\r\n                                &quot;test-one&quot;: 27.33,\r\n                                &quot;test-two&quot;: 88\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nWhat I&#39;ve attempted with the library json-simple is the following:\r\n```\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.JSONArray;\r\n\r\n\t\t\t\tMap&lt;String, String&gt; curValues = (Map&lt;String,String&gt;) curBlock.get(&quot;characterizations_values&quot;);\r\n\t\t\t\t\r\n\t\t\t\t// break down sheet\r\n\t\t\t\tJSONObject sheet = new JSONObject();\r\n\t\t\t\tsheet.put(&quot;sheet&quot;, curValues.get(&quot;sheet&quot;));\r\n\t\t\t\tLOG.info(String.format(&quot;sheet: %s&quot;, sheet.toString()));\r\n\r\n\t\t\t\t// Get my title\t\t\r\n\t\t\t\tJSONObject myTitle = new JSONObject();\r\n\t\t\t\tmyTitle.put(&quot;title_blocks&quot;, sheet.get(&quot;my-title&quot;));\r\n\t\t\t\t\r\n\t\t\t\t// Get my notes\r\n\t\t\t\tJSONObject myNotes = new JSONObject();\r\n\t\t\t\tmyNotes.put(&quot;my-notes&quot;, sheet.get(&quot;my-notes&quot;));\r\n```\r\n\r\nThis doesn&#39;t however work and while I get a json object with a key I get a null value for the value. I&#39;ve also attempted to cast this into a JSONArray but then I get an error message saying that &quot;java.util.LinkedHashMap cannot be cast to..&quot;. After reading a few [posts][1] I understand that the library doesn&#39;t have enough information to deserialise the object. But given the structure, I think that I would first need to get a JSON object and then single out the JSONArray. So the order would be:\r\n\r\n 1. get my-title JSONObject\r\n 2. get value of mytitle which is a JSONArray\r\n 3. Keep working down the document path\r\n\r\nIf there is a better way to do this I&#39;m very much open to suggestions.\r\n\r\nThanks in advance! \r\n\r\n  [1]: https://stackoverflow.com/questions/28821715/java-lang-classcastexception-java-util-linkedhashmap-cannot-be-cast-to-com-test","title":"JSON structure not being recognised as JSONObject or JSONArray","body":"<p>I'm having difficulty in parsing my json file into something that I can work with. The json file looks like this:</p>\n<pre><code>{\n    &quot;characterizations_values&quot;: [\n        {\n            &quot;filename&quot;: &quot;TestDoc&quot;,\n            &quot;sheet&quot;: {\n                &quot;my-title&quot;: [\n                    {\n                        &quot;number&quot;: &quot;ddddko9&quot;,\n                        &quot;numbered-part&quot;: &quot;test number&quot;,\n                        &quot;documents&quot;: [\n                            [\n                                {\n                                    &quot;document_name&quot;: &quot;20 Minutes&quot;,\n                                    &quot;document-category&quot;: [\n                                        &quot;Accounting&quot;,\n                                        &quot;Cost-Management&quot;\n                                    ]\n                                }\n                            ]\n                        ] \n                    }\n                ],\n                &quot;my-notes&quot;: [\n                    {\n                        &quot;dimensions&quot;: {\n                            &quot;enclosing&quot;: {\n                                &quot;test-one&quot;: 34.33,\n                                &quot;test-two&quot;: 34\n                            },\n                            &quot;enclosing-extra&quot;: {\n                                &quot;test-one&quot;: 27.33,\n                                &quot;test-two&quot;: 88\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n<p>What I've attempted with the library json-simple is the following:</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.JSONArray;\n\n                Map&lt;String, String&gt; curValues = (Map&lt;String,String&gt;) curBlock.get(&quot;characterizations_values&quot;);\n                \n                // break down sheet\n                JSONObject sheet = new JSONObject();\n                sheet.put(&quot;sheet&quot;, curValues.get(&quot;sheet&quot;));\n                LOG.info(String.format(&quot;sheet: %s&quot;, sheet.toString()));\n\n                // Get my title     \n                JSONObject myTitle = new JSONObject();\n                myTitle.put(&quot;title_blocks&quot;, sheet.get(&quot;my-title&quot;));\n                \n                // Get my notes\n                JSONObject myNotes = new JSONObject();\n                myNotes.put(&quot;my-notes&quot;, sheet.get(&quot;my-notes&quot;));\n</code></pre>\n<p>This doesn't however work and while I get a json object with a key I get a null value for the value. I've also attempted to cast this into a JSONArray but then I get an error message saying that &quot;java.util.LinkedHashMap cannot be cast to..&quot;. After reading a few <a href=\"https://stackoverflow.com/questions/28821715/java-lang-classcastexception-java-util-linkedhashmap-cannot-be-cast-to-com-test\">posts</a> I understand that the library doesn't have enough information to deserialise the object. But given the structure, I think that I would first need to get a JSON object and then single out the JSONArray. So the order would be:</p>\n<ol>\n<li>get my-title JSONObject</li>\n<li>get value of mytitle which is a JSONArray</li>\n<li>Keep working down the document path</li>\n</ol>\n<p>If there is a better way to do this I'm very much open to suggestions.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","spring-data-redis","redis-streams"],"owner":{"account_id":3403986,"reputation":1485,"user_id":2855535,"accept_rate":79,"display_name":"PeonProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697215495,"creation_date":1697215495,"question_id":77289436,"body_markdown":"I have an application that I built using spring boot and it reads from a redis-stream.\r\nI am calling the xpending operation via spring boot&#39;s helper &quot;opsForStream()&quot; api - it looks like this:\r\n\r\n    private PendingMessages getPending() {\r\n        return this.redisTransactionTemplate.opsForStream().pending(streamKey, groupName, Range.unbounded(), 1000);\r\n    }\r\n\r\nI then want to take these 1000 (or less) pending messages and then call xrange. However, I&#39;m not sure if these pending messages are in order from earliest to latest. I want to ideally use the pending messages in order but I don&#39;t want to assume that these are in order.\r\n\r\nDoes anyone know if I can assume that the first item in the pending messages is the earliest message in the PEL and the last message is the latest?","title":"What order are the messages returned with the xpending command?","body":"<p>I have an application that I built using spring boot and it reads from a redis-stream.\nI am calling the xpending operation via spring boot's helper &quot;opsForStream()&quot; api - it looks like this:</p>\n<pre><code>private PendingMessages getPending() {\n    return this.redisTransactionTemplate.opsForStream().pending(streamKey, groupName, Range.unbounded(), 1000);\n}\n</code></pre>\n<p>I then want to take these 1000 (or less) pending messages and then call xrange. However, I'm not sure if these pending messages are in order from earliest to latest. I want to ideally use the pending messages in order but I don't want to assume that these are in order.</p>\n<p>Does anyone know if I can assume that the first item in the pending messages is the earliest message in the PEL and the last message is the latest?</p>\n"},{"tags":["java","oauth-2.0","auth0","okta","pkce"],"answers":[{"tags":[],"owner":{"account_id":11375641,"reputation":1,"user_id":8340037,"display_name":"Shubham Pathak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696970343,"creation_date":1696970343,"answer_id":77268833,"question_id":77268611,"body_markdown":"To verify an Okta Access Token using the auth0 Java JWT library without using starter libraries, you can manually fetch Okta&#39;s public key and then create a custom JWTVerifier instance. Here&#39;s a general outline of the steps:\r\n\r\nRetrieve Okta&#39;s public keys:\r\nYou can retrieve Okta&#39;s public keys using the JWKS (JSON Web Key Set) URL provided by Okta. This URL typically looks like: https://your-okta-issuer/.well-known/jwks.json.\r\nParse the JWKS and extract the public key(s):\r\nUse a JSON parser to parse the JWKS response and extract the public key(s) associated with Okta. Each key in the JWKS represents a different public key that might have been used to sign Okta&#39;s JWTs.\r\nCreate a custom JWTVerifier:\r\nUse the extracted public key(s) to create a custom JWTVerifier instance from the auth0 library.","title":"Can I use auth0 java sdk to verify an Okta token?","body":"<p>To verify an Okta Access Token using the auth0 Java JWT library without using starter libraries, you can manually fetch Okta's public key and then create a custom JWTVerifier instance. Here's a general outline of the steps:</p>\n<p>Retrieve Okta's public keys:\nYou can retrieve Okta's public keys using the JWKS (JSON Web Key Set) URL provided by Okta. This URL typically looks like: https://your-okta-issuer/.well-known/jwks.json.\nParse the JWKS and extract the public key(s):\nUse a JSON parser to parse the JWKS response and extract the public key(s) associated with Okta. Each key in the JWKS represents a different public key that might have been used to sign Okta's JWTs.\nCreate a custom JWTVerifier:\nUse the extracted public key(s) to create a custom JWTVerifier instance from the auth0 library.</p>\n"},{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697215468,"creation_date":1697028554,"answer_id":77273218,"question_id":77268611,"body_markdown":"It can help to first understand the process with a non-vendor library, such as [jose4j](https://bitbucket.org/b_c/jose4j/src/master/), which will work for any standards-based provider:\r\n\r\nThe best practice is for your resource server to specify the expected algorithm, issuer and audience like this, while also providing a URL to a JWKS or issuer endpoint.\r\n\r\n```java\r\nvar httpsJkws = new HttpsJwks(jwksEndpoint);\r\nvar jwksKeyResolver = new HttpsJwksVerificationKeyResolver(httpsJkws);\r\n\r\nvar claims = new JwtConsumerBuilder()\r\n.setVerificationKeyResolver(jwksKeyResolver)\r\n.setJwsAlgorithmConstraints(AlgorithmConstraints.ConstraintType.PERMIT, AlgorithmIdentifiers.RSA_USING_SHA256) \r\n.setExpectedIssuer(&quot;myissuer&quot;);\r\n.setExpectedAudience(&quot;myaudience&quot;)\r\n.processToClaims(accessToken);\r\n```\r\n\r\nI suspect that both Okta and Auth0 libraries are compatible with each other&#39;s authorization server, since normal JWT validation is only usually done as above. Just look for the above inputs and use them. You should then quickly get a working solution.","title":"Can I use auth0 java sdk to verify an Okta token?","body":"<p>It can help to first understand the process with a non-vendor library, such as <a href=\"https://bitbucket.org/b_c/jose4j/src/master/\" rel=\"nofollow noreferrer\">jose4j</a>, which will work for any standards-based provider:</p>\n<p>The best practice is for your resource server to specify the expected algorithm, issuer and audience like this, while also providing a URL to a JWKS or issuer endpoint.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var httpsJkws = new HttpsJwks(jwksEndpoint);\nvar jwksKeyResolver = new HttpsJwksVerificationKeyResolver(httpsJkws);\n\nvar claims = new JwtConsumerBuilder()\n.setVerificationKeyResolver(jwksKeyResolver)\n.setJwsAlgorithmConstraints(AlgorithmConstraints.ConstraintType.PERMIT, AlgorithmIdentifiers.RSA_USING_SHA256) \n.setExpectedIssuer(&quot;myissuer&quot;);\n.setExpectedAudience(&quot;myaudience&quot;)\n.processToClaims(accessToken);\n</code></pre>\n<p>I suspect that both Okta and Auth0 libraries are compatible with each other's authorization server, since normal JWT validation is only usually done as above. Just look for the above inputs and use them. You should then quickly get a working solution.</p>\n"}],"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697215468,"creation_date":1696967397,"question_id":77268611,"body_markdown":"I have a grant/PKCE workflow for our SPA app to request an Access Token in Okta and have it sent to a resource server.\r\n\r\nThe SPA -&gt; Okta part is settled, and sending the token to my Java resource server is simple. However, verifying the token is a little tricky for me.\r\n\r\nIf I simply use the great sdk provided by okta, `okta-jwt-verifier`, the process is fairly simple:\r\n\r\n```\r\nAccessTokenVerifier jwtVerifier = JwtVerifiers.accessTokenVerifierBuilder()\r\n                .setIssuer(&quot;https://&quot; + issuer + &quot;/oauth2/default&quot;)\r\n                .build();\r\n```\r\nThe AccessTokenVerifier uses the issuer to gather the public keys transparently and validate a token.\r\n\r\nHowever, our system has to support JWT from multiple sources and, as such we already have a dependency on the auth0 `java-jwt` v3.18 library. I was investigating ways to have auth0 get the public key and verify an access token but can&#39;t find a process for that. \r\n\r\nWhat is the best way to create an instance of `com.auth0.jwt.JWTVerifier` to verify an Okta token?\r\n\r\nBecause of the logistics of what we are trying to support I need to avoid any starter libraries. ","title":"Can I use auth0 java sdk to verify an Okta token?","body":"<p>I have a grant/PKCE workflow for our SPA app to request an Access Token in Okta and have it sent to a resource server.</p>\n<p>The SPA -&gt; Okta part is settled, and sending the token to my Java resource server is simple. However, verifying the token is a little tricky for me.</p>\n<p>If I simply use the great sdk provided by okta, <code>okta-jwt-verifier</code>, the process is fairly simple:</p>\n<pre><code>AccessTokenVerifier jwtVerifier = JwtVerifiers.accessTokenVerifierBuilder()\n                .setIssuer(&quot;https://&quot; + issuer + &quot;/oauth2/default&quot;)\n                .build();\n</code></pre>\n<p>The AccessTokenVerifier uses the issuer to gather the public keys transparently and validate a token.</p>\n<p>However, our system has to support JWT from multiple sources and, as such we already have a dependency on the auth0 <code>java-jwt</code> v3.18 library. I was investigating ways to have auth0 get the public key and verify an access token but can't find a process for that.</p>\n<p>What is the best way to create an instance of <code>com.auth0.jwt.JWTVerifier</code> to verify an Okta token?</p>\n<p>Because of the logistics of what we are trying to support I need to avoid any starter libraries.</p>\n"},{"tags":["java","datetime","timestamp","utc","datetimeoffset"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":2,"creation_date":1503613209,"post_id":45871744,"comment_id":78702377,"body_markdown":"don&#39;t forget about India - where the time zone is a half hour off from everywhere else.  (e.g. it&#39;s 3:19pm in Seattle right now, but 3:49am in India).","body":"don&#39;t forget about India - where the time zone is a half hour off from everywhere else.  (e.g. it&#39;s 3:19pm in Seattle right now, but 3:49am in India)."},{"owner":{"display_name":"user7605325"},"score":3,"creation_date":1503613698,"post_id":45871744,"comment_id":78702522,"body_markdown":"There are also timezones with [45 minutes of difference](https://www.timeanddate.com/time/time-zones-interesting.html). Anyway, you can&#39;t determine the timezone from the offset because usually more than one timezone can have the same offset: https://en.m.wikipedia.org/wiki/List_of_UTC_time_offsets","body":"There are also timezones with <a href=\"https://www.timeanddate.com/time/time-zones-interesting.html\" rel=\"nofollow noreferrer\">45 minutes of difference</a>. Anyway, you can&#39;t determine the timezone from the offset because usually more than one timezone can have the same offset: <a href=\"https://en.m.wikipedia.org/wiki/List_of_UTC_time_offsets\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/List_of_UTC_time_offsets</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1503614017,"post_id":45871744,"comment_id":78702622,"body_markdown":"You can determine the *offset*, but not the time zone. A time zone is not just the offset, but also the transitions to/from daylight savings, *and* the historical changes of the offset and transitions (time zones haven&#39;t always had the same rules).","body":"You can determine the <i>offset</i>, but not the time zone. A time zone is not just the offset, but also the transitions to/from daylight savings, <i>and</i> the historical changes of the offset and transitions (time zones haven&#39;t always had the same rules)."},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":1,"creation_date":1503614026,"post_id":45871744,"comment_id":78702626,"body_markdown":"Sorry for the ambiguity in my question.  I&#39;m looking for the UTC offset.  I guess to get the Timezone as well, I&#39;d need lon/lat (which I have available).","body":"Sorry for the ambiguity in my question.  I&#39;m looking for the UTC offset.  I guess to get the Timezone as well, I&#39;d need lon/lat (which I have available)."},{"owner":{"display_name":"user7605325"},"score":0,"creation_date":1503614183,"post_id":45871744,"comment_id":78702682,"body_markdown":"@EdwardQ.Bridges could you please [edit] the question then?","body":"@EdwardQ.Bridges could you please <a href=\"https://stackoverflow.com/posts/45871744/edit\">edit</a> the question then?"},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":0,"creation_date":1503615139,"post_id":45871744,"comment_id":78702936,"body_markdown":"question updated!","body":"question updated!"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1503616463,"post_id":45871744,"comment_id":78703271,"body_markdown":"A `java.sql.Timestamp` doesn&#39;t have a time zone, and value is always in UTC. Time zone is applied when *displaying* the value. Please edit question and clarify what you mean by &quot;timestamp&quot;, e.g. by showing example values.","body":"A <code>java.sql.Timestamp</code> doesn&#39;t have a time zone, and value is always in UTC. Time zone is applied when <i>displaying</i> the value. Please edit question and clarify what you mean by &quot;timestamp&quot;, e.g. by showing example values."},{"owner":{"display_name":"user7605325"},"score":1,"creation_date":1503617366,"post_id":45871744,"comment_id":78703503,"body_markdown":"Indeed, the inputs and expected outputs would help, because it&#39;s still unclear to me. e.g., if you have 2017-08-24 at 10 AM UTC and a local time (at the same date) 11:35 AM, would you round the offset to 1 or 2 hours? (Not considering 30/45 minutes offsets) Where do those dates come from? Are you going to compare with the current date/time in UTC or a predefined value? And so on...","body":"Indeed, the inputs and expected outputs would help, because it&#39;s still unclear to me. e.g., if you have 2017-08-24 at 10 AM UTC and a local time (at the same date) 11:35 AM, would you round the offset to 1 or 2 hours? (Not considering 30/45 minutes offsets) Where do those dates come from? Are you going to compare with the current date/time in UTC or a predefined value? And so on..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1503661092,"post_id":45871744,"comment_id":78719333,"body_markdown":"For the calculation I clearly recommend `java.time`, the modern Java date &amp; time API. It has supplanted both the old classes (like `Timestamp`)  and Joda-Time. And yes, it sounds pretty straightforward if you could explain what input you are having more clearly.","body":"For the calculation I clearly recommend <code>java.time</code>, the modern Java date &amp; time API. It has supplanted both the old classes (like <code>Timestamp</code>)  and Joda-Time. And yes, it sounds pretty straightforward if you could explain what input you are having more clearly."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":2,"creation_date":1503662784,"post_id":45871744,"comment_id":78720309,"body_markdown":"Timestamps, by definition, don&#39;t have UTC offset: they&#39;re in UTC! If you said &quot;two string representations&quot;, that would have more sense.","body":"Timestamps, by definition, don&#39;t have UTC offset: they&#39;re in UTC! If you said &quot;two string representations&quot;, that would have more sense."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1503669006,"post_id":45871744,"comment_id":78724336,"body_markdown":"For the sake of completeness [Wikipedia](https://en.wikipedia.org/wiki/Timestamp) does not define a timestamp as necessarily in UTC (though most of the examples are). I agree that the question is utterly unclear about what is meant by timestamp. And if two timestamps denote the same point in time, subtracting them ought to yield 0, no matter any time zone offsets. @OlivierGr&#233;goire","body":"For the sake of completeness <a href=\"https://en.wikipedia.org/wiki/Timestamp\" rel=\"nofollow noreferrer\">Wikipedia</a> does not define a timestamp as necessarily in UTC (though most of the examples are). I agree that the question is utterly unclear about what is meant by timestamp. And if two timestamps denote the same point in time, subtracting them ought to yield 0, no matter any time zone offsets. @OlivierGr&#233;goire"},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":0,"creation_date":1503757155,"post_id":45871744,"comment_id":78751568,"body_markdown":"Indeed a Unix Timestamp is in UTC.  However an ordinary timestamp (as @OleVV points out) is just a record of an instant of time -- given that I point out in my question the presence/absence of timezone offset, I&#39;m not sure where your confusion is @OlivierGr&#233;goire?","body":"Indeed a Unix Timestamp is in UTC.  However an ordinary timestamp (as @OleVV points out) is just a record of an instant of time -- given that I point out in my question the presence/absence of timezone offset, I&#39;m not sure where your confusion is @OlivierGr&#233;goire?"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503758816,"post_id":45871744,"comment_id":78752042,"body_markdown":"@EdwardQ.Bridges If it&#39;s an instant in time (and it is), it&#39;s not &quot;an instant in time *at a specific location*&quot;. Meaning that it is not dependant on the timezone. So by usual computer definition (since you use it in computers, since you post it on SE), it&#39;s in UTC. That&#39;s about the timestamp. Now you&#39;re actually working with string representations which, you imply, are incomplete because they don&#39;t define the timezone, which is... allowed for a local string representation. So you should not use the word &quot;timestamp&quot;. That&#39;s all I&#39;m saying. I&#39;m not confused: I&#39;m pointing out inaccuracies.","body":"@EdwardQ.Bridges If it&#39;s an instant in time (and it is), it&#39;s not &quot;an instant in time <i>at a specific location</i>&quot;. Meaning that it is not dependant on the timezone. So by usual computer definition (since you use it in computers, since you post it on SE), it&#39;s in UTC. That&#39;s about the timestamp. Now you&#39;re actually working with string representations which, you imply, are incomplete because they don&#39;t define the timezone, which is... allowed for a local string representation. So you should not use the word &quot;timestamp&quot;. That&#39;s all I&#39;m saying. I&#39;m not confused: I&#39;m pointing out inaccuracies."},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":0,"creation_date":1503760553,"post_id":45871744,"comment_id":78752503,"body_markdown":"The fact is, my question clearly states that I have two timestamps, one with a timezone and one without, which is merely the extent of the question.  As such it&#39;s not inaccurate.  You&#39;re pulling in context (pedantry regarding &quot;timestamp&quot; vs. a &quot;Unix Timestamp&quot;) that is unnecessary for answering the question and just adds confusion.  I think if you were to step back and re-read the question you&#39;d see that @OlivierGr&#233;goire.","body":"The fact is, my question clearly states that I have two timestamps, one with a timezone and one without, which is merely the extent of the question.  As such it&#39;s not inaccurate.  You&#39;re pulling in context (pedantry regarding &quot;timestamp&quot; vs. a &quot;Unix Timestamp&quot;) that is unnecessary for answering the question and just adds confusion.  I think if you were to step back and re-read the question you&#39;d see that @OlivierGr&#233;goire."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503761532,"post_id":45871744,"comment_id":78752785,"body_markdown":"&quot;The fact is, my question clearly states&quot;... The fact is that 3 people already found that your question is unclear and voted to close because it is unclear.","body":"&quot;The fact is, my question clearly states&quot;... The fact is that 3 people already found that your question is unclear and voted to close because it is unclear."},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":0,"creation_date":1503762010,"post_id":45871744,"comment_id":78752932,"body_markdown":"I&#39;m just not sure of a more concise way to describe an instant of time that does not include a timezone, which is what I have, other than &quot;timestamp&quot; (which usage is consistent with the dictionary definition).  A Unix Timestamp by definition, includes a timezone/offset (UTC). I did not refer to it that way.  Neither of the values I have are a Unix Timestamp, they are simply instants of time.  One of which includes a timezone.  I&#39;ve clarified in my answer.  Unfortunately, there are 3 people out there who appear to be as confused as you.  Not sure what I can do about that.  Have a nice day.","body":"I&#39;m just not sure of a more concise way to describe an instant of time that does not include a timezone, which is what I have, other than &quot;timestamp&quot; (which usage is consistent with the dictionary definition).  A Unix Timestamp by definition, includes a timezone/offset (UTC). I did not refer to it that way.  Neither of the values I have are a Unix Timestamp, they are simply instants of time.  One of which includes a timezone.  I&#39;ve clarified in my answer.  Unfortunately, there are 3 people out there who appear to be as confused as you.  Not sure what I can do about that.  Have a nice day."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503762949,"post_id":45871744,"comment_id":78753218,"body_markdown":"Well, for one, you haven&#39;t put any code in the question. You mix terms. The two first comments show that you should get some litterature about how timezones work, and you don&#39;t act. More... Your answer show that you discarded these comments entirely, without even explaining how you would round. Also, this question could probably (but not surely) have been better received on [Software Engineering SE](https://softwareengineering.stackexchange.com/). All in all, this is rather surprising from someone with ~4k rep. So yes, this is a bad question. It happens. No worries. You got your result, cool.","body":"Well, for one, you haven&#39;t put any code in the question. You mix terms. The two first comments show that you should get some litterature about how timezones work, and you don&#39;t act. More... Your answer show that you discarded these comments entirely, without even explaining how you would round. Also, this question could probably (but not surely) have been better received on <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering SE</a>. All in all, this is rather surprising from someone with ~4k rep. So yes, this is a bad question. It happens. No worries. You got your result, cool."},{"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"score":0,"creation_date":1503763435,"post_id":45871744,"comment_id":78753345,"body_markdown":"Unfortunately, this has gotten blown way out of proportion, where I was asking if there were any edge cases that I hadn&#39;t considered around getting the offset in hours between two timestamps.  RE: the first two comments, were referring to my original title mistakenly referring to timezones, which was updated.  My answer illustrates how I would round (getting the ceiling at hourly precision), so I&#39;m surprised about your point there, but it seems like you want to drag this out.  If you want to push your points further, feel free to take to chat.","body":"Unfortunately, this has gotten blown way out of proportion, where I was asking if there were any edge cases that I hadn&#39;t considered around getting the offset in hours between two timestamps.  RE: the first two comments, were referring to my original title mistakenly referring to timezones, which was updated.  My answer illustrates how I would round (getting the ceiling at hourly precision), so I&#39;m surprised about your point there, but it seems like you want to drag this out.  If you want to push your points further, feel free to take to chat."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697214827,"creation_date":1503662399,"answer_id":45880938,"question_id":45871744,"body_markdown":"Disclaimer: I probably have not understood the exact format or data type of your two timestamps. With this reservation heres a suggestion. \r\n\r\n\t\tString dateTimeStringUtc = &quot;2017-08-25T11:46:47.307&quot;;\r\n\t\t// for the sake of the example I took North Korean time; dont tell anyone just yet :-)\r\n\t\tString dateTimeStringUnknownOffset = &quot;2017-08-25T20:16:47.307&quot;;\r\n\t\t\r\n\t\tLocalDateTime utcTime = LocalDateTime.parse(dateTimeStringUtc);\r\n\t\tLocalDateTime unknownOffsetTime = LocalDateTime.parse(dateTimeStringUnknownOffset);\r\n\t\tlong offsetSeconds = ChronoUnit.SECONDS.between(utcTime, unknownOffsetTime);\r\n\t\tif (Math.abs(offsetSeconds) &gt; 64800) { // out of range\r\n\t\t\tSystem.out.println(&quot;The time strings cannot represent the same time&quot;);\r\n\t\t} else {\r\n\t\t\tZoneOffset offset = ZoneOffset.ofTotalSeconds((int) offsetSeconds);\r\n\t\t\tSystem.out.println(&quot;The zone offset is &quot; + offset);\r\n\t\t}\r\n\r\nThis prints:\r\n\r\n```none\r\nThe zone offset is +08:30\r\n```\r\n\r\nAs discussed in the comments, its generally a poor idea to round to whole hours. These days it may be safe to round to a quarter of an hour, but Id hesitate, who knows whether some place will introduce an offset of 8:20 next year? Historically zone offsets with seconds have existed, so if your timestamps denote the good old days, you should probably avoid any rounding.","title":"Is it possible to determine the UTC offset from two timestamps?","body":"<p>Disclaimer: I probably have not understood the exact format or data type of your two timestamps. With this reservation heres a suggestion.</p>\n<pre><code>    String dateTimeStringUtc = &quot;2017-08-25T11:46:47.307&quot;;\n    // for the sake of the example I took North Korean time; dont tell anyone just yet :-)\n    String dateTimeStringUnknownOffset = &quot;2017-08-25T20:16:47.307&quot;;\n    \n    LocalDateTime utcTime = LocalDateTime.parse(dateTimeStringUtc);\n    LocalDateTime unknownOffsetTime = LocalDateTime.parse(dateTimeStringUnknownOffset);\n    long offsetSeconds = ChronoUnit.SECONDS.between(utcTime, unknownOffsetTime);\n    if (Math.abs(offsetSeconds) &gt; 64800) { // out of range\n        System.out.println(&quot;The time strings cannot represent the same time&quot;);\n    } else {\n        ZoneOffset offset = ZoneOffset.ofTotalSeconds((int) offsetSeconds);\n        System.out.println(&quot;The zone offset is &quot; + offset);\n    }\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The zone offset is +08:30\n</code></pre>\n<p>As discussed in the comments, its generally a poor idea to round to whole hours. These days it may be safe to round to a quarter of an hour, but Id hesitate, who knows whether some place will introduce an offset of 8:20 next year? Historically zone offsets with seconds have existed, so if your timestamps denote the good old days, you should probably avoid any rounding.</p>\n"},{"tags":[],"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1503756977,"creation_date":1503756977,"answer_id":45896346,"question_id":45871744,"body_markdown":"This is what I ended up doing:\r\n\r\n\r\n    public static ZoneOffset determineTimeZoneOffset(OffsetDateTime localTime, OffsetDateTime utcTime) {\r\n      if(utcTime == null || localTime == null) {\r\n        return null;\r\n      }\r\n    \r\n      OffsetDateTime ceilingUtc = utcTime.truncatedTo(ChronoUnit.HOURS).plusHours(1);\r\n      OffsetDateTime ceilingLocal = localTime.truncatedTo(ChronoUnit.HOURS).plusHours(1);\r\n    \r\n      int offsetHours = (int)ChronoUnit.HOURS.between(ceilingUtc, ceilingLocal);\r\n    \r\n      return ZoneOffset.ofHours(offsetHours);\r\n    }\r\n\r\n* Warnings about truncating to hours are well taken, but for the purposes of the application this is for we don&#39;t need to go that far with it.  However, it&#39;d be easy enough I imagine to truncate using `ChronoUnit.MINUTES` or even seconds. An interesting exercise that Ole V.V. helpfully pointed out.\r\n\r\n* Not sure why this was being downvoted -- maybe the confusion around the meaning of a timestamp.  I think it was pretty clear from the question that I was referring to a generic timestamp (as Ole V.V. and others noted).  I hope the downvoters reread the question and adjust their assessment.\r\n\r\n* While I don&#39;t really consider it relevant to the question, these dates come from EXIF metadata of images.  EXIF stores the `CreateDate` of an image in the format: `YYYY:MM:DD HH:MM:SS` with no timezone information.  It also stores a UTC timestamp (sometimes) under `GPSTimeStamp`.  Using these two values, I was hoping to derive the offset in order to store the create date with it.  Although there is EXIF metadata for TZ offsets, cameras rarely record that.","title":"Is it possible to determine the UTC offset from two timestamps?","body":"<p>This is what I ended up doing:</p>\n\n<pre><code>public static ZoneOffset determineTimeZoneOffset(OffsetDateTime localTime, OffsetDateTime utcTime) {\n  if(utcTime == null || localTime == null) {\n    return null;\n  }\n\n  OffsetDateTime ceilingUtc = utcTime.truncatedTo(ChronoUnit.HOURS).plusHours(1);\n  OffsetDateTime ceilingLocal = localTime.truncatedTo(ChronoUnit.HOURS).plusHours(1);\n\n  int offsetHours = (int)ChronoUnit.HOURS.between(ceilingUtc, ceilingLocal);\n\n  return ZoneOffset.ofHours(offsetHours);\n}\n</code></pre>\n\n<ul>\n<li><p>Warnings about truncating to hours are well taken, but for the purposes of the application this is for we don't need to go that far with it.  However, it'd be easy enough I imagine to truncate using <code>ChronoUnit.MINUTES</code> or even seconds. An interesting exercise that Ole V.V. helpfully pointed out.</p></li>\n<li><p>Not sure why this was being downvoted -- maybe the confusion around the meaning of a timestamp.  I think it was pretty clear from the question that I was referring to a generic timestamp (as Ole V.V. and others noted).  I hope the downvoters reread the question and adjust their assessment.</p></li>\n<li><p>While I don't really consider it relevant to the question, these dates come from EXIF metadata of images.  EXIF stores the <code>CreateDate</code> of an image in the format: <code>YYYY:MM:DD HH:MM:SS</code> with no timezone information.  It also stores a UTC timestamp (sometimes) under <code>GPSTimeStamp</code>.  Using these two values, I was hoping to derive the offset in order to store the create date with it.  Although there is EXIF metadata for TZ offsets, cameras rarely record that.</p></li>\n</ul>\n"}],"owner":{"account_id":31740,"reputation":17082,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":45896346,"answer_count":2,"score":0,"last_activity_date":1697214827,"creation_date":1503613042,"question_id":45871744,"body_markdown":"Let&#39;s say I have two timestamps.  One is in UTC, and the other&#39;s timezone is unknown, but has a date and a time. The format of the latter is `YYYY:MM:DD HH:MM:SS`.\r\n\r\nIs it reasonable to get the offset from UTC by simply subtracting the second timestamp from the UTC one, then rounding the hours?\r\n\r\nIs there a straightforward way to do this using Java? (e.g. Joda or JUT?)\r\n\r\nThanks!\r\n\r\nA little background: These dates come from EXIF metadata of images. EXIF stores the `CreateDate` of an image in the format: `YYYY:MM:DD HH:MM:SS` with no timezone information.  It also stores a UTC timestamp (sometimes) under `GPSTimeStamp`.  Using these two values, I was hoping to derive the offset in order to store the create date with it.  Although there is EXIF metadata for TZ offsets, cameras rarely record that.","title":"Is it possible to determine the UTC offset from two timestamps?","body":"<p>Let's say I have two timestamps.  One is in UTC, and the other's timezone is unknown, but has a date and a time. The format of the latter is <code>YYYY:MM:DD HH:MM:SS</code>.</p>\n\n<p>Is it reasonable to get the offset from UTC by simply subtracting the second timestamp from the UTC one, then rounding the hours?</p>\n\n<p>Is there a straightforward way to do this using Java? (e.g. Joda or JUT?)</p>\n\n<p>Thanks!</p>\n\n<p>A little background: These dates come from EXIF metadata of images. EXIF stores the <code>CreateDate</code> of an image in the format: <code>YYYY:MM:DD HH:MM:SS</code> with no timezone information.  It also stores a UTC timestamp (sometimes) under <code>GPSTimeStamp</code>.  Using these two values, I was hoping to derive the offset in order to store the create date with it.  Although there is EXIF metadata for TZ offsets, cameras rarely record that.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697214559,"creation_date":1480804567,"answer_id":40953250,"question_id":40952808,"body_markdown":"This suggestion doesnt fit exactly into your program, but I am sure you can make it fit. The code is at the bottom.\r\n\r\nWhen I call `printOut()` with argument `&quot;TILT&quot;`, it prints:\r\n\r\n    ----- ----- |     ----- \r\n      |     |   |       |   \r\n      |     |   |       |   \r\n      |     |   |       |   \r\n      |   ----- -----   |   \r\n\r\nIf you want, you can put the string arrays into a `HashMap&lt;Character, String[]&gt;` for easier lookup instead of the switch/case statement.\r\n\r\n \tstatic String[] linesT = { &quot;-----&quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot; };\r\n \r\n \tstatic String[] linesI = { &quot;-----&quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;  |  &quot;,\r\n \t\t\t\t\t\t\t   &quot;-----&quot; };\r\n \r\n \tstatic String[] linesL = { &quot;|    &quot;,\r\n \t\t\t\t\t\t\t   &quot;|    &quot;,\r\n \t\t\t\t\t\t\t   &quot;|    &quot;,\r\n \t\t\t\t\t\t\t   &quot;|    &quot;,\r\n \t\t\t\t\t\t\t   &quot;-----&quot; };\r\n \r\n \tprivate static void printOut(String letters) {\r\n \t\tfor (int line = 0; line &lt; 5; line++) {\r\n \t\t\tfor (int letter = 0; letter &lt; letters.length(); letter++)\r\n  \t\t\t\tswitch (letters.charAt(letter)) {\r\n \t\t\t\t\tcase &#39;T&#39;:\r\n \t\t\t\t\t\tSystem.out.print(linesT[line]);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase &#39;I&#39;:\r\n \t\t\t\t\t\tSystem.out.print(linesI[line]);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase &#39;L&#39;:\r\n \t\t\t\t\t\tSystem.out.print(linesL[line]);\r\n \t\t\t\t\t\tbreak;\r\n \t\r\n \t\t\t\t\tdefault:\r\n \t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Cannot print letter &quot; + letters.charAt(letter));\r\n \t\t\t\t}\r\n \t\t\t\tSystem.out.print(&#39; &#39;);\r\n \t\t\t}\r\n \t\t\tSystem.out.println();\r\n \t\t}\r\n \t}\r\n\r\n","title":"How to use Java to print out letters?","body":"<p>This suggestion doesnt fit exactly into your program, but I am sure you can make it fit. The code is at the bottom.</p>\n<p>When I call <code>printOut()</code> with argument <code>&quot;TILT&quot;</code>, it prints:</p>\n<pre><code>----- ----- |     ----- \n  |     |   |       |   \n  |     |   |       |   \n  |     |   |       |   \n  |   ----- -----   |   \n</code></pre>\n<p>If you want, you can put the string arrays into a <code>HashMap&lt;Character, String[]&gt;</code> for easier lookup instead of the switch/case statement.</p>\n<pre><code>static String[] linesT = { &quot;-----&quot;,\n                           &quot;  |  &quot;,\n                           &quot;  |  &quot;,\n                           &quot;  |  &quot;,\n                           &quot;  |  &quot; };\n\nstatic String[] linesI = { &quot;-----&quot;,\n                           &quot;  |  &quot;,\n                           &quot;  |  &quot;,\n                           &quot;  |  &quot;,\n                           &quot;-----&quot; };\n\nstatic String[] linesL = { &quot;|    &quot;,\n                           &quot;|    &quot;,\n                           &quot;|    &quot;,\n                           &quot;|    &quot;,\n                           &quot;-----&quot; };\n\nprivate static void printOut(String letters) {\n    for (int line = 0; line &lt; 5; line++) {\n        for (int letter = 0; letter &lt; letters.length(); letter++)\n            switch (letters.charAt(letter)) {\n                case 'T':\n                    System.out.print(linesT[line]);\n                    break;\n                case 'I':\n                    System.out.print(linesI[line]);\n                    break;\n                case 'L':\n                    System.out.print(linesL[line]);\n                    break;\n\n                default:\n                    throw new IllegalArgumentException(&quot;Cannot print letter &quot; + letters.charAt(letter));\n            }\n            System.out.print(' ');\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9765597,"reputation":11,"user_id":7239147,"display_name":"Khali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":40953250,"answer_count":1,"score":-2,"last_activity_date":1697214559,"creation_date":1480801434,"question_id":40952808,"body_markdown":"The code must allow the user to type in a four letter combination of T,I,L and translate that into the word TILT. However, the code must print out the word TILT using - and |. The - is for the top parts of the letters T and I and the bottom of L. | is used for everything else. There needs to be if and else statements and int line statements. \r\n\r\nDoes anyone have any advice on how to achieve this? Anything helps!\r\nThis is what I have so far, it runs only up to where it prints back what the user has entered but it does not print it out using - and |. \r\n\r\n    import.java.util.Scanner\r\n    public class letters\r\n    {\r\n\tprivate char letter1, letter2, letter3, letter4;\r\n\tpublic void readIn()\r\n\t{\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter four letters that consist of any combination of T, I, or L&quot;);\r\n\t\t\r\n\t\tletter1 = keyboard.next().charAt(0);\r\n\t\tletter2 = keyboard.next().charAt(0);\r\n\t\tletter3 = keyboard.next().charAt(0);\r\n\t\tletter4 = keyboard.next().charAt(0);\r\n\r\n\t\tSystem.out.println(&quot;You entered the following:&quot; + letter1 +letter2 + letter3 + letter4);\r\n\r\n\t\t\r\n\t}\r\n    // This method tracks which line to print out at a given time\r\n    public void printOut()\r\n     {\r\n\t     for (int line = 0; line , 5; line++)\r\n\t\t      drawLine(line);\r\n         }\r\n\r\n     public void drawLine(int Line)\r\n       {\r\n\t    if (line == 0)\r\n\t   {\r\n\t\t  if (letter1 == &#39;T&#39; || letter1 == &#39;I&#39;)\r\n\t\t\t  System.out.println(&quot;-----&quot;);\r\n\t\t   else\r\n\t\t  System.out.println(&quot;|&quot;);\r\n\t    }\t\r\n\t\t   else if (line &lt; 4)\r\n\t   {\r\n\t\t   if(letter1 == &#39;L&#39;)\r\n\t\t  System.out.println(&quot;  |  &quot;)\r\n\t      }\r\n\t         if (line == 4)\r\n        \r\n\t         {\r\n\t\t       if(letter1 == &#39;T&#39;)\r\n\t\t       System.out.println(&quot;  |  &quot;);\r\n  \r\n\t\t      else\r\n\t\t         System.out.println(&quot;-----&quot;);\r\n              }\r\n      }","title":"How to use Java to print out letters?","body":"<p>The code must allow the user to type in a four letter combination of T,I,L and translate that into the word TILT. However, the code must print out the word TILT using - and |. The - is for the top parts of the letters T and I and the bottom of L. | is used for everything else. There needs to be if and else statements and int line statements. </p>\n\n<p>Does anyone have any advice on how to achieve this? Anything helps!\nThis is what I have so far, it runs only up to where it prints back what the user has entered but it does not print it out using - and |. </p>\n\n<pre><code>import.java.util.Scanner\npublic class letters\n{\nprivate char letter1, letter2, letter3, letter4;\npublic void readIn()\n{\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(\"Enter four letters that consist of any combination of T, I, or L\");\n\n    letter1 = keyboard.next().charAt(0);\n    letter2 = keyboard.next().charAt(0);\n    letter3 = keyboard.next().charAt(0);\n    letter4 = keyboard.next().charAt(0);\n\n    System.out.println(\"You entered the following:\" + letter1 +letter2 + letter3 + letter4);\n\n\n}\n// This method tracks which line to print out at a given time\npublic void printOut()\n {\n     for (int line = 0; line , 5; line++)\n          drawLine(line);\n     }\n\n public void drawLine(int Line)\n   {\n    if (line == 0)\n   {\n      if (letter1 == 'T' || letter1 == 'I')\n          System.out.println(\"-----\");\n       else\n      System.out.println(\"|\");\n    }   \n       else if (line &lt; 4)\n   {\n       if(letter1 == 'L')\n      System.out.println(\"  |  \")\n      }\n         if (line == 4)\n\n         {\n           if(letter1 == 'T')\n           System.out.println(\"  |  \");\n\n          else\n             System.out.println(\"-----\");\n          }\n  }\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-listview","nestedrecyclerview"],"owner":{"account_id":11838749,"reputation":35,"user_id":8663248,"display_name":"user8663248"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697213391,"creation_date":1697116588,"question_id":77280945,"body_markdown":"i am trying to **fetch subcategories** whenever user click on **category** item, I am using recyclerview to call the category items and i am getting all the data from external database in the form of json. \r\n\r\n1 Currently i have two different tabs in sidebar like category and subcategories both tabs load data separately.\r\n\r\njson data example\r\n\r\n```\r\nMain category json data \r\n\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;category_name&quot;: &quot;Maths&quot;,\r\n    &quot;q_count&quot;: 1,\r\n    &quot;category_image&quot;: &quot;qcategory_Category test 1. dPy#NQHA7#PXwRG.png&quot;,\r\n    &quot;sub_categorys&quot;: 2\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;category_name&quot;: &quot;General knowledge&quot;,\r\n    &quot;q_count&quot;: 2,\r\n    &quot;category_image&quot;: &quot;qcategory_Category test 2.png&quot;,\r\n    &quot;sub_categorys&quot;: 2\r\n  }\r\n]\r\n\r\nsub category json\r\n\r\n[\r\n  {\r\n    &quot;id&quot;: 6,\r\n    &quot;sub_category_name&quot;: &quot;Arithmetic&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Applenull&quot;,\r\n    &quot;category_id&quot;: 1,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 7,\r\n    &quot;sub_category_name&quot;: &quot;Geometry&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Banananull&quot;,\r\n    &quot;category_id&quot;: 1,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 8,\r\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 1&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Carrotnull&quot;,\r\n    &quot;category_id&quot;: 2,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 9,\r\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 2&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Radishnull&quot;,\r\n    &quot;category_id&quot;: 2,\r\n    &quot;question&quot;: 0\r\n  }\r\n]\r\n```\r\n\r\nData madel code\r\n\r\n```\r\nMain category\r\n\r\n`public class Quiz_Category implements Serializable {\r\n    \r\n\t//public Long id;\r\n\tpublic Long id;\r\n    public String category_name;\r\n    public String category_image;\r\n    public String q_count;\r\n    public String question;\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getCategory_image() {\r\n\t\treturn category_image;\r\n\t}\r\n\r\n\tpublic void setCategory_image(String category_image) {\r\n\t\tthis.category_image = category_image;\r\n\t}\r\n    public List&lt;QuestionsPojo&gt; question_list = new ArrayList&lt;&gt;();\r\n}`\r\n\r\nSubcategories data\r\n\r\n`\r\npublic int id;\r\n    public String sub_category_name;\r\n    public String sub_category_image;\r\n    public Long category_id;\r\n    public String question;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getSub_Category_image() {\r\n\t\treturn sub_category_image;\r\n\t}\r\n\r\n\tpublic void setSub_Category_image(String sub_category_image) {\r\n\t\tthis.sub_category_image = sub_category_image;\r\n\t}\r\n\r\n`\r\n\r\n```\r\n\r\nmy category adptor \r\n\r\n```\r\n   public ViewHolder(View v) {\r\n            super(v);\r\n            category_name = (TextView) v.findViewById(R.id.txtcustomrow);\r\n            bellow_name = (TextView) v.findViewById(R.id.q_count);\r\n\t\t\tcategory_image = (ImageView) v.findViewById(R.id.img);\r\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\r\n        }\r\n    }\r\n\r\n    public Filter getFilter() {\r\n        return mFilter;\r\n    }\r\n    // Provide a suitable constructor (depends on the kind of dataset)\r\n    public QuizAdapter(Context ctx, List&lt;Quiz_Category&gt; items) {\r\n        this.ctx = ctx;\r\n        original_items = items;\r\n\t\tfiltered_items = items;\r\n        categorylist = items;\r\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\r\n        mBackground = mTypedValue.resourceId;\r\n    }\r\n\r\n    @Override\r\n    public QuizAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.quiz_list, parent, false);\r\n        v.setBackgroundResource(mBackground);\r\n        ViewHolder vh = new ViewHolder(v);\r\n        return vh;\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\r\n\t\t\r\n\t\tfinal Quiz_Category p = filtered_items.get(position);\r\n        \r\n\t\t//final Quiz_Category p = categorylist.get(position);\r\n        holder.category_name.setText(p.category_name);\r\n\t\timgloader.displayImage(Constant.getURLimgQuizCategory(p.category_image), holder.category_image);\r\n        \r\n\t\tholder.bellow_name.setText(p.question);\r\n\t\tString url = DataManager.catphotourl+ categorylist.get(position).category_image;\r\n\t\ttry {\r\n\t\t\turl = URLDecoder.decode(url, &quot;UTF-8&quot;);\r\n\t\t\turl = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n\t\t} catch (UnsupportedEncodingException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t//holder.category_image.setImage(url);\r\n\t\t\r\n\t\tholder.lyt_parent.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View view) {\r\n\t\t\t\t\tIntent i = new Intent(ctx, ActivitySubCategoryDetails.class);\r\n\t\t\t\t\ti.putExtra(ActivitySubCategoryDetails.EXTRA_OBJCT, p);\r\n\t\t\t\t\tctx.startActivity(i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n    // Return the size of your dataset (invoked by the layout manager)\r\n    @Override\r\n    public int getItemCount() {\r\n\t\treturn categorylist != null ? categorylist.size() : 0;\r\n\t\t//return filtered_items.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return filtered_items.get(position).id;\r\n    }\r\n\t\r\n    private class ItemFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            String query = constraint.toString().toLowerCase();\r\n            FilterResults results = new FilterResults();\r\n            final List&lt;Quiz_Category&gt; list = original_items;\r\n            final List&lt;Quiz_Category&gt; result_list = new ArrayList&lt;&gt;(list.size());\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                String str_title = list.get(i).category_name;\r\n                if (str_title.toLowerCase().contains(query)) {\r\n                    result_list.add(list.get(i));\r\n                }\r\n            }\r\n            results.values = result_list;\r\n            results.count = result_list.size();\r\n            return results;\r\n        }\r\n\r\n```\r\n\r\ncurrently i am using FilterResults to filter subcategories.\r\n\r\nCategory loader\r\n\r\n```\r\npublic class QuizListLoader extends AsyncTask&lt;String, String, List&lt;Quiz_Category&gt;&gt; {\r\n    String URL = Constant.getURLquizcategory();\r\n    private Gson gson = new Gson();\r\n\r\n    public interface TaskListener {\r\n        public void onFinished(List&lt;Quiz_Category&gt; result);\r\n    }\r\n\r\n    // This is the reference to the associated listener\r\n    private final TaskListener taskListener;\r\n\r\n    public QuizListLoader(TaskListener listener) {\r\n        this.taskListener = listener;\r\n    }\r\n\r\n    @Override\r\n    protected List&lt;Quiz_Category&gt; doInBackground(String... params) {\r\n        ArrayList&lt;Quiz_Category&gt; list = new ArrayList&lt;Quiz_Category&gt;();\r\n        Quiz_Category[] f = null;\r\n\t\ttry {\r\n            URL url = new URL(URL);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            Gson gson = new Gson();\r\n\r\n            JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\r\n            f = gson.fromJson(reader, Quiz_Category[].class);\r\n\r\n            for (Quiz_Category flower : f) {\r\n                list.add(flower);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\t\treturn list;\r\n\t}\r\n\r\n    @Override\r\n    protected void onPostExecute(List&lt;Quiz_Category&gt; result) {\r\n        super.onPostExecute(result);\r\n        // In onPostExecute we check if the listener is valid\r\n        if (this.taskListener != null) {\r\n            this.taskListener.onFinished(result);\r\n        }\r\n    }\r\n```\r\n\r\nSub category loader\r\n\r\n```\r\npublic class SubCat_List_Loader extends AsyncTask&lt;String, String, List&lt;SubCategory&gt;&gt; {\r\n    String URL = Constant.getURLsubcategory();\r\n    private Gson gson = new Gson();\r\n\r\n    public interface TaskListener {\r\n        public void onFinished(List&lt;SubCategory&gt; result);\r\n    }\r\n\r\n    // This is the reference to the associated listener\r\n    private final TaskListener taskListener;\r\n\r\n    public SubCat_List_Loader(TaskListener listener) {\r\n        this.taskListener = listener;\r\n    }\r\n\r\n    @Override\r\n    protected List&lt;SubCategory&gt; doInBackground(String... params) {\r\n        ArrayList&lt;SubCategory&gt; list = new ArrayList&lt;SubCategory&gt;();\r\n        SubCategory[] f = null;\r\n\t\ttry {\r\n            URL url = new URL(URL);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            Gson gson = new Gson();\r\n\r\n            JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\r\n            f = gson.fromJson(reader, SubCategory[].class);\r\n\r\n            for (SubCategory flower : f) {\r\n                list.add(flower);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\t\treturn list;\r\n\t}\r\n\r\n    @Override\r\n    protected void onPostExecute(List&lt;SubCategory&gt; result) {\r\n        super.onPostExecute(result);\r\n        // In onPostExecute we check if the listener is valid\r\n        if (this.taskListener != null) {\r\n            this.taskListener.onFinished(result);\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\ni am trying to open subcategories in seprate recyclerview whenever user click on category. All subcategories have there own category_id.\r\n\r\nthankyou.","title":"Not able to open a list of subcategory whenever user click on category item","body":"<p>i am trying to <strong>fetch subcategories</strong> whenever user click on <strong>category</strong> item, I am using recyclerview to call the category items and i am getting all the data from external database in the form of json.</p>\n<p>1 Currently i have two different tabs in sidebar like category and subcategories both tabs load data separately.</p>\n<p>json data example</p>\n<pre><code>Main category json data \n\n[\n  {\n    &quot;id&quot;: 1,\n    &quot;category_name&quot;: &quot;Maths&quot;,\n    &quot;q_count&quot;: 1,\n    &quot;category_image&quot;: &quot;qcategory_Category test 1. dPy#NQHA7#PXwRG.png&quot;,\n    &quot;sub_categorys&quot;: 2\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;category_name&quot;: &quot;General knowledge&quot;,\n    &quot;q_count&quot;: 2,\n    &quot;category_image&quot;: &quot;qcategory_Category test 2.png&quot;,\n    &quot;sub_categorys&quot;: 2\n  }\n]\n\nsub category json\n\n[\n  {\n    &quot;id&quot;: 6,\n    &quot;sub_category_name&quot;: &quot;Arithmetic&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Applenull&quot;,\n    &quot;category_id&quot;: 1,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 7,\n    &quot;sub_category_name&quot;: &quot;Geometry&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Banananull&quot;,\n    &quot;category_id&quot;: 1,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 8,\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 1&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Carrotnull&quot;,\n    &quot;category_id&quot;: 2,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 9,\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 2&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Radishnull&quot;,\n    &quot;category_id&quot;: 2,\n    &quot;question&quot;: 0\n  }\n]\n</code></pre>\n<p>Data madel code</p>\n<pre><code>Main category\n\n`public class Quiz_Category implements Serializable {\n    \n    //public Long id;\n    public Long id;\n    public String category_name;\n    public String category_image;\n    public String q_count;\n    public String question;\n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getCategory_image() {\n        return category_image;\n    }\n\n    public void setCategory_image(String category_image) {\n        this.category_image = category_image;\n    }\n    public List&lt;QuestionsPojo&gt; question_list = new ArrayList&lt;&gt;();\n}`\n\nSubcategories data\n\n`\npublic int id;\n    public String sub_category_name;\n    public String sub_category_image;\n    public Long category_id;\n    public String question;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getSub_Category_image() {\n        return sub_category_image;\n    }\n\n    public void setSub_Category_image(String sub_category_image) {\n        this.sub_category_image = sub_category_image;\n    }\n\n`\n\n</code></pre>\n<p>my category adptor</p>\n<pre><code>   public ViewHolder(View v) {\n            super(v);\n            category_name = (TextView) v.findViewById(R.id.txtcustomrow);\n            bellow_name = (TextView) v.findViewById(R.id.q_count);\n            category_image = (ImageView) v.findViewById(R.id.img);\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\n        }\n    }\n\n    public Filter getFilter() {\n        return mFilter;\n    }\n    // Provide a suitable constructor (depends on the kind of dataset)\n    public QuizAdapter(Context ctx, List&lt;Quiz_Category&gt; items) {\n        this.ctx = ctx;\n        original_items = items;\n        filtered_items = items;\n        categorylist = items;\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\n        mBackground = mTypedValue.resourceId;\n    }\n\n    @Override\n    public QuizAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.quiz_list, parent, false);\n        v.setBackgroundResource(mBackground);\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\n        \n        final Quiz_Category p = filtered_items.get(position);\n        \n        //final Quiz_Category p = categorylist.get(position);\n        holder.category_name.setText(p.category_name);\n        imgloader.displayImage(Constant.getURLimgQuizCategory(p.category_image), holder.category_image);\n        \n        holder.bellow_name.setText(p.question);\n        String url = DataManager.catphotourl+ categorylist.get(position).category_image;\n        try {\n            url = URLDecoder.decode(url, &quot;UTF-8&quot;);\n            url = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\n        } catch (UnsupportedEncodingException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        //holder.category_image.setImage(url);\n        \n        holder.lyt_parent.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Intent i = new Intent(ctx, ActivitySubCategoryDetails.class);\n                    i.putExtra(ActivitySubCategoryDetails.EXTRA_OBJCT, p);\n                    ctx.startActivity(i);\n                }\n            });\n        \n        \n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return categorylist != null ? categorylist.size() : 0;\n        //return filtered_items.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return filtered_items.get(position).id;\n    }\n    \n    private class ItemFilter extends Filter {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            String query = constraint.toString().toLowerCase();\n            FilterResults results = new FilterResults();\n            final List&lt;Quiz_Category&gt; list = original_items;\n            final List&lt;Quiz_Category&gt; result_list = new ArrayList&lt;&gt;(list.size());\n            for (int i = 0; i &lt; list.size(); i++) {\n                String str_title = list.get(i).category_name;\n                if (str_title.toLowerCase().contains(query)) {\n                    result_list.add(list.get(i));\n                }\n            }\n            results.values = result_list;\n            results.count = result_list.size();\n            return results;\n        }\n\n</code></pre>\n<p>currently i am using FilterResults to filter subcategories.</p>\n<p>Category loader</p>\n<pre><code>public class QuizListLoader extends AsyncTask&lt;String, String, List&lt;Quiz_Category&gt;&gt; {\n    String URL = Constant.getURLquizcategory();\n    private Gson gson = new Gson();\n\n    public interface TaskListener {\n        public void onFinished(List&lt;Quiz_Category&gt; result);\n    }\n\n    // This is the reference to the associated listener\n    private final TaskListener taskListener;\n\n    public QuizListLoader(TaskListener listener) {\n        this.taskListener = listener;\n    }\n\n    @Override\n    protected List&lt;Quiz_Category&gt; doInBackground(String... params) {\n        ArrayList&lt;Quiz_Category&gt; list = new ArrayList&lt;Quiz_Category&gt;();\n        Quiz_Category[] f = null;\n        try {\n            URL url = new URL(URL);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            Gson gson = new Gson();\n\n            JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\n            f = gson.fromJson(reader, Quiz_Category[].class);\n\n            for (Quiz_Category flower : f) {\n                list.add(flower);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n        return list;\n    }\n\n    @Override\n    protected void onPostExecute(List&lt;Quiz_Category&gt; result) {\n        super.onPostExecute(result);\n        // In onPostExecute we check if the listener is valid\n        if (this.taskListener != null) {\n            this.taskListener.onFinished(result);\n        }\n    }\n</code></pre>\n<p>Sub category loader</p>\n<pre><code>public class SubCat_List_Loader extends AsyncTask&lt;String, String, List&lt;SubCategory&gt;&gt; {\n    String URL = Constant.getURLsubcategory();\n    private Gson gson = new Gson();\n\n    public interface TaskListener {\n        public void onFinished(List&lt;SubCategory&gt; result);\n    }\n\n    // This is the reference to the associated listener\n    private final TaskListener taskListener;\n\n    public SubCat_List_Loader(TaskListener listener) {\n        this.taskListener = listener;\n    }\n\n    @Override\n    protected List&lt;SubCategory&gt; doInBackground(String... params) {\n        ArrayList&lt;SubCategory&gt; list = new ArrayList&lt;SubCategory&gt;();\n        SubCategory[] f = null;\n        try {\n            URL url = new URL(URL);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            Gson gson = new Gson();\n\n            JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\n            f = gson.fromJson(reader, SubCategory[].class);\n\n            for (SubCategory flower : f) {\n                list.add(flower);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n        return list;\n    }\n\n    @Override\n    protected void onPostExecute(List&lt;SubCategory&gt; result) {\n        super.onPostExecute(result);\n        // In onPostExecute we check if the listener is valid\n        if (this.taskListener != null) {\n            this.taskListener.onFinished(result);\n        }\n    }\n\n</code></pre>\n<p>i am trying to open subcategories in seprate recyclerview whenever user click on category. All subcategories have there own category_id.</p>\n<p>thankyou.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1697153862,"post_id":77284339,"comment_id":136247621,"body_markdown":"Your `break` is extraneous. If you return from the loop on any condition on the first iteration, why have a loop?","body":"Your <code>break</code> is extraneous. If you return from the loop on any condition on the first iteration, why have a loop?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1697153912,"post_id":77284339,"comment_id":136247626,"body_markdown":"Not only extraneous but it should fail to compile. And the method doesn&#39;t return if `size &lt; 1`. Also, it never gets past the first iteration. What you want to do is remove the `else` and move the return after the loop.","body":"Not only extraneous but it should fail to compile. And the method doesn&#39;t return if <code>size &lt; 1</code>. Also, it never gets past the first iteration. What you want to do is remove the <code>else</code> and move the return after the loop."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1697154406,"post_id":77284339,"comment_id":136247668,"body_markdown":"What will be returned if `Units` is empty (or `this.size == 0`)?","body":"What will be returned if <code>Units</code> is empty (or <code>this.size == 0</code>)?"},{"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"score":0,"creation_date":1697155013,"post_id":77284339,"comment_id":136247718,"body_markdown":"@Chris Yeah I get why the break is extraneous but i dont understand what you meant by your second sentence. could you please explain?","body":"@Chris Yeah I get why the break is extraneous but i dont understand what you meant by your second sentence. could you please explain?"},{"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"score":0,"creation_date":1697155106,"post_id":77284339,"comment_id":136247728,"body_markdown":"It should return -1 which figured out from the below comment. @Robert","body":"It should return -1 which figured out from the below comment. @Robert"},{"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"score":0,"creation_date":1697155271,"post_id":77284339,"comment_id":136247744,"body_markdown":"@Chris Is there any other way to check all the elements in my list?","body":"@Chris Is there any other way to check all the elements in my list?"}],"answers":[{"tags":[],"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1697155131,"creation_date":1697154169,"answer_id":77284365,"question_id":77284339,"body_markdown":"Your code fails because the `return` statement is used both in the `if` and in the `else`. This would result in exiting in the first iteration, no matter the result. Moreover, the `break` is unnecessary since you use `return` already.\r\n\r\nYou could try this version as @shmosel also suggested. In this case, you return -1 only after checking all elements without finding a match.\r\n\r\n    public int indexOf(Unit g) {\r\n        for (int i = 0; i &lt; this.size; i++) {\r\n            if (g.equals(this.Units[i])) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"Java requiring a return statement when i&#39;m already providing one","body":"<p>Your code fails because the <code>return</code> statement is used both in the <code>if</code> and in the <code>else</code>. This would result in exiting in the first iteration, no matter the result. Moreover, the <code>break</code> is unnecessary since you use <code>return</code> already.</p>\n<p>You could try this version as @shmosel also suggested. In this case, you return -1 only after checking all elements without finding a match.</p>\n<pre><code>public int indexOf(Unit g) {\n    for (int i = 0; i &lt; this.size; i++) {\n        if (g.equals(this.Units[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697154679,"creation_date":1697154679,"answer_id":77284388,"question_id":77284339,"body_markdown":"The problem is the loop (`for`). It won&#39;t be executed always, for instance, when `this.size=0`. Therefore, you must have a `return` at the end of the method.","title":"Java requiring a return statement when i&#39;m already providing one","body":"<p>The problem is the loop (<code>for</code>). It won't be executed always, for instance, when <code>this.size=0</code>. Therefore, you must have a <code>return</code> at the end of the method.</p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697213294,"creation_date":1697155268,"answer_id":77284421,"question_id":77284339,"body_markdown":"The compiler complains because there is no `return` when you don&#39;t enter the loop.\r\n\r\nYou may say that this can never happen because you initialize `this.size` and `this.Units`, and that may be true, but the compiler doesn&#39;t see that; it only looks at that method and that doesn&#39;t have a return statement for all possible branches.\r\n\r\nIf you add `return -1;` in the loop, your program probably doesn&#39;t do what you expect. It will check the first array element, and if that&#39;s what you&#39;re looking for, it returns 0 (the position). So far, so good. If the first element is not what you are looking for, your code enters the `else` branch and returns -1, without even looking at any other element.\r\n\r\nTo really find an element, you can only `return` after you&#39;ve either found it or looked at all possible candidates. Remove the `else` branch and move the `return -1;` to after the loop.\r\n","title":"Java requiring a return statement when i&#39;m already providing one","body":"<p>The compiler complains because there is no <code>return</code> when you don't enter the loop.</p>\n<p>You may say that this can never happen because you initialize <code>this.size</code> and <code>this.Units</code>, and that may be true, but the compiler doesn't see that; it only looks at that method and that doesn't have a return statement for all possible branches.</p>\n<p>If you add <code>return -1;</code> in the loop, your program probably doesn't do what you expect. It will check the first array element, and if that's what you're looking for, it returns 0 (the position). So far, so good. If the first element is not what you are looking for, your code enters the <code>else</code> branch and returns -1, without even looking at any other element.</p>\n<p>To really find an element, you can only <code>return</code> after you've either found it or looked at all possible candidates. Remove the <code>else</code> branch and move the <code>return -1;</code> to after the loop.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697171389,"creation_date":1697171389,"answer_id":77285058,"question_id":77284339,"body_markdown":"&gt; _&quot;... I am trying to make a function that iterates throught that list and takes an input Unit g and return the first index in which g first comes. If g is not found i am returning -1. ...&quot;_\r\n\r\nReturn the _&amp;minus;1_ value, after the _loop_.\r\n\r\n```java\r\npublic int indexOf(Unit g) {\r\n    for (int i = 0; i &lt; this.size; i++)\r\n        if (g.equals(this.Units[i])) return i;\r\n    return -1;\r\n}\r\n```\r\n\r\nYou could even use a _do-while loop_ here.\r\n\r\n```java\r\npublic int indexOf(Unit g) {\r\n    int i = Units.length - 1;\r\n    do if (g.equals(Units[i])) return i;\r\n    while (--i &gt;= 0);\r\n    return -1;\r\n}\r\n```","title":"Java requiring a return statement when i&#39;m already providing one","body":"<blockquote>\n<p><em>&quot;... I am trying to make a function that iterates throught that list and takes an input Unit g and return the first index in which g first comes. If g is not found i am returning -1. ...&quot;</em></p>\n</blockquote>\n<p>Return the <em>1</em> value, after the <em>loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int indexOf(Unit g) {\n    for (int i = 0; i &lt; this.size; i++)\n        if (g.equals(this.Units[i])) return i;\n    return -1;\n}\n</code></pre>\n<p>You could even use a <em>do-while loop</em> here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int indexOf(Unit g) {\n    int i = Units.length - 1;\n    do if (g.equals(Units[i])) return i;\n    while (--i &gt;= 0);\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1697213294,"creation_date":1697153695,"question_id":77284339,"body_markdown":"I have made an array class called ListsofUnits which has private fields of a list of Units(object type) and int size. \r\nI am trying to make a function that iterates throught that list and takes an input Unit g and return the first index in which g first comes. If g is not found i am returning -1. \r\n\r\n         public int indexOf(Unit g) {\r\n             for (int i = 0; i &lt; this.size; i++){\r\n                 if (g.equals(this.Units[i])) {\r\n                     return i;\r\n                     break;\r\n                 } else {\r\n                     return -1;\r\n                 }\r\n             }\r\n         }\r\n\r\n\r\nI suspect there might be a syntax error as it keeps asking for a return statement when i already provided one for both cases. Also i would like stop the iteration at the first index where g occurs. I was hoping someone could tell me if this the right way or not. I cannot import any class.","title":"Java requiring a return statement when i&#39;m already providing one","body":"<p>I have made an array class called ListsofUnits which has private fields of a list of Units(object type) and int size.\nI am trying to make a function that iterates throught that list and takes an input Unit g and return the first index in which g first comes. If g is not found i am returning -1.</p>\n<pre><code>     public int indexOf(Unit g) {\n         for (int i = 0; i &lt; this.size; i++){\n             if (g.equals(this.Units[i])) {\n                 return i;\n                 break;\n             } else {\n                 return -1;\n             }\n         }\n     }\n</code></pre>\n<p>I suspect there might be a syntax error as it keeps asking for a return statement when i already provided one for both cases. Also i would like stop the iteration at the first index where g occurs. I was hoping someone could tell me if this the right way or not. I cannot import any class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1559432529,"post_id":56411197,"comment_id":99419528,"body_markdown":"What should happen when there isn&#39;t one of those entered?","body":"What should happen when there isn&#39;t one of those entered?"},{"owner":{"account_id":16055963,"reputation":29,"user_id":11588322,"display_name":"Jessica Garnica"},"score":0,"creation_date":1559433031,"post_id":56411197,"comment_id":99419586,"body_markdown":"It gives me an error and says &quot; your program expects input&quot;","body":"It gives me an error and says &quot; your program expects input&quot;"},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1559433085,"post_id":56411197,"comment_id":99419595,"body_markdown":"No I mean what do you want to happen if you don&#39;t enter one of them?","body":"No I mean what do you want to happen if you don&#39;t enter one of them?"},{"owner":{"account_id":16055963,"reputation":29,"user_id":11588322,"display_name":"Jessica Garnica"},"score":0,"creation_date":1559433134,"post_id":56411197,"comment_id":99419600,"body_markdown":"Oh, if there is no middle name then it needs to print lastName, firstName","body":"Oh, if there is no middle name then it needs to print lastName, firstName"},{"owner":{"account_id":16055963,"reputation":29,"user_id":11588322,"display_name":"Jessica Garnica"},"score":0,"creation_date":1559433854,"post_id":56411197,"comment_id":99419668,"body_markdown":"I believe what it wants me to do is use indexOf(), to find the space and then again for the last name.","body":"I believe what it wants me to do is use indexOf(), to find the space and then again for the last name."},{"owner":{"account_id":4443626,"reputation":637,"user_id":3617557,"display_name":"Paul Dempsey"},"score":0,"creation_date":1678992351,"post_id":56411197,"comment_id":133645242,"body_markdown":"Some people&#39;s name is a single word -- no first/last. Some people&#39;s name includes Jr, Dr. III. Some people have many middle names, not just a single word. Some people&#39;s first name is two words (e.g. Billy Joe). The premise that you can split names this way is fundamentally broken.","body":"Some people&#39;s name is a single word -- no first/last. Some people&#39;s name includes Jr, Dr. III. Some people have many middle names, not just a single word. Some people&#39;s first name is two words (e.g. Billy Joe). The premise that you can split names this way is fundamentally broken."}],"answers":[{"tags":[],"owner":{"account_id":14895917,"reputation":546,"user_id":10756238,"display_name":"Henrique Sabino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559437696,"creation_date":1559435856,"answer_id":56411399,"question_id":56411197,"body_markdown":"If you cannot use the `split()` you can read the first two entries with `scnr.next()` and then the third input will be the rest of the line, and then you can take a substring of it taking the space off.\r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\r\n\t\tString name1;\r\n\t\tString name2;\r\n\t\tString name3;\r\n\r\n\t\tname1 = scnr.next();\r\n\t\tname2 = scnr.next();\r\n\t\tname3 = scnr.nextLine();\r\n\r\n\t\tif (name3.equals(&quot;&quot;)){\r\n\t\t\tSystem.out.println(name2 + &quot;, &quot; + name1);\r\n\t\t}\r\n\t\telse{\r\n            name3 = name3.substring(1);\r\n\t\t\tSystem.out.println(name3 + &quot;, &quot; + name1 + &quot; &quot; + name2.charAt(0) + &quot;.&quot;);\r\n\t\t}\r\n   }\r\n}\r\n```","title":"How to pull from a string into first, middle, and last name. And how to recognize when there is no middle name inputed","body":"<p>If you cannot use the <code>split()</code> you can read the first two entries with <code>scnr.next()</code> and then the third input will be the rest of the line, and then you can take a substring of it taking the space off.</p>\n\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        String name1;\n        String name2;\n        String name3;\n\n        name1 = scnr.next();\n        name2 = scnr.next();\n        name3 = scnr.nextLine();\n\n        if (name3.equals(\"\")){\n            System.out.println(name2 + \", \" + name1);\n        }\n        else{\n            name3 = name3.substring(1);\n            System.out.println(name3 + \", \" + name1 + \" \" + name2.charAt(0) + \".\");\n        }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16055963,"reputation":29,"user_id":11588322,"display_name":"Jessica Garnica"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1559439689,"creation_date":1559439689,"answer_id":56411654,"question_id":56411197,"body_markdown":"This is the correct code:    \r\n\r\n    import java.util.Scanner; \r\n\r\n    public class LabProgram {\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      String firstName;\r\n      String middleName;\r\n      String lastName;\r\n      String name;\r\n      \r\n      name = scnr.nextLine();\r\n      \r\n      int firstSpace = name.indexOf(&quot; &quot;);\r\n      firstName = name.substring(0, firstSpace);\r\n      \r\n      int secondSpace = name.indexOf(&quot; &quot;, firstSpace + 1);\r\n      \r\n      if (secondSpace &lt; 0) { \r\n         lastName = name.substring(firstSpace + 1);\r\n         System.out.println(lastName + &quot;, &quot; + firstName);\r\n      }\r\n      else {\r\n         middleName = name.substring(firstSpace, secondSpace);\r\n         lastName = name.substring(secondSpace + 1);\r\n         System.out.println(lastName + &quot;, &quot; + firstName + &quot; &quot; +     middleName.charAt(1) + &quot;.&quot;);\r\n      }\r\n      \r\n      \r\n      \r\n      }\r\n    }\r\n","title":"How to pull from a string into first, middle, and last name. And how to recognize when there is no middle name inputed","body":"<p>This is the correct code:    </p>\n\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\npublic static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n\n  String firstName;\n  String middleName;\n  String lastName;\n  String name;\n\n  name = scnr.nextLine();\n\n  int firstSpace = name.indexOf(\" \");\n  firstName = name.substring(0, firstSpace);\n\n  int secondSpace = name.indexOf(\" \", firstSpace + 1);\n\n  if (secondSpace &lt; 0) { \n     lastName = name.substring(firstSpace + 1);\n     System.out.println(lastName + \", \" + firstName);\n  }\n  else {\n     middleName = name.substring(firstSpace, secondSpace);\n     lastName = name.substring(secondSpace + 1);\n     System.out.println(lastName + \", \" + firstName + \" \" +     middleName.charAt(1) + \".\");\n  }\n\n\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673761900,"creation_date":1673761900,"answer_id":75123193,"question_id":56411197,"body_markdown":"Be simple!!!\r\n\r\nAll you need here is split given string and count the words (2 or 3) and print the name in the reuired format.\r\n\r\n```java\r\nScanner scan = new Scanner(System.in);\r\nString[] arr = scan.nextLine().split(&quot;\\\\s+&quot;);\r\n\r\nif (arr.length == 3) {\r\n    String firstName = arr[0];\r\n    String middleName = arr[1];\r\n    String lastName = arr[2];\r\n    System.out.format(&quot;%s, %s, %s.\\n&quot;,\r\n                      lastName, firstName, middleName.charAt(0));\r\n} else if (arr.length == 2) {\r\n    String firstName = arr[0];\r\n    String lastName = arr[1];\r\n    System.out.format(&quot;%s, %s\\n&quot;, lastName, firstName);\r\n} else\r\n    System.err.println(&quot;Unknown name format&quot;);\r\n```","title":"How to pull from a string into first, middle, and last name. And how to recognize when there is no middle name inputed","body":"<p>Be simple!!!</p>\n<p>All you need here is split given string and count the words (2 or 3) and print the name in the reuired format.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scan = new Scanner(System.in);\nString[] arr = scan.nextLine().split(&quot;\\\\s+&quot;);\n\nif (arr.length == 3) {\n    String firstName = arr[0];\n    String middleName = arr[1];\n    String lastName = arr[2];\n    System.out.format(&quot;%s, %s, %s.\\n&quot;,\n                      lastName, firstName, middleName.charAt(0));\n} else if (arr.length == 2) {\n    String firstName = arr[0];\n    String lastName = arr[1];\n    System.out.format(&quot;%s, %s\\n&quot;, lastName, firstName);\n} else\n    System.err.println(&quot;Unknown name format&quot;);\n</code></pre>\n"}],"owner":{"account_id":16055963,"reputation":29,"user_id":11588322,"display_name":"Jessica Garnica"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697213230,"creation_date":1559432441,"question_id":56411197,"body_markdown":"I need to do the following:\r\n\r\nMany documents use a specific format for a person&#39;s name. Write a program whose input is: firstName middleName lastName, and whose output is: lastName, firstName middleInitial.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt&#39;s through a textbook so I haven&#39;t been taught how to split strings. That&#39;s all I can find online, but that&#39;s not what the textbook is asking for. So far I&#39;ve been taught how to compare strings, get a strings length, branches, switch statements, string operations. \r\n```java\r\n    import java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      String firstName;\r\n      String middleName;\r\n      String lastName;\r\n      String name;\r\n      \r\n      name = scnr.nextLine();\r\n      \r\n      int firstSpace = name.indexOf(&quot; &quot;);\r\n      firstName = name.substring(0, firstSpace);\r\n      \r\n      int secondSpace = name.indexOf(&quot; &quot;, firstSpace + 1);\r\n      \r\n      if (secondSpace &lt; 0) { \r\n         lastName = name.substring(firstSpace);\r\n         System.out.println(lastName + &quot;, &quot; + firstName);\r\n      }\r\n      else {\r\n         middleName = name.substring(firstSpace, secondSpace);\r\n         lastName = name.substring(secondSpace);\r\n         System.out.println(lastName + &quot;, &quot; + firstName + &quot; &quot; + middleName.charAt(0) + &quot;.&quot;);\r\n      }\r\n      \r\n   }\r\n}\r\n\r\n```\r\n\r\nThis is what I have so far. \r\n\r\n  [1]: https://i.stack.imgur.com/gSGA3.png","title":"How to pull from a string into first, middle, and last name. And how to recognize when there is no middle name inputed","body":"<p>I need to do the following:</p>\n\n<p>Many documents use a specific format for a person's name. Write a program whose input is: firstName middleName lastName, and whose output is: lastName, firstName middleInitial.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gSGA3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSGA3.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's through a textbook so I haven't been taught how to split strings. That's all I can find online, but that's not what the textbook is asking for. So far I've been taught how to compare strings, get a strings length, branches, switch statements, string operations. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n\n      String firstName;\n      String middleName;\n      String lastName;\n      String name;\n\n      name = scnr.nextLine();\n\n      int firstSpace = name.indexOf(\" \");\n      firstName = name.substring(0, firstSpace);\n\n      int secondSpace = name.indexOf(\" \", firstSpace + 1);\n\n      if (secondSpace &lt; 0) { \n         lastName = name.substring(firstSpace);\n         System.out.println(lastName + \", \" + firstName);\n      }\n      else {\n         middleName = name.substring(firstSpace, secondSpace);\n         lastName = name.substring(secondSpace);\n         System.out.println(lastName + \", \" + firstName + \" \" + middleName.charAt(0) + \".\");\n      }\n\n   }\n}\n\n</code></pre>\n\n<p>This is what I have so far. </p>\n"},{"tags":["java","spring","freemarker"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1443739026,"post_id":32897859,"comment_id":53624846,"body_markdown":"And `line 47, column 37` is...?","body":"And <code>line 47, column 37</code> is...?"},{"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"score":0,"creation_date":1443739178,"post_id":32897859,"comment_id":53624883,"body_markdown":"line 47 is:&lt;#list itemMap&gt;","body":"line 47 is:&lt;#list itemMap&gt;"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1443739239,"post_id":32897859,"comment_id":53624895,"body_markdown":"As this information is fairly relevant to the question I would suggest you edit it into the answer - perhaps annotate that particular like of code.","body":"As this information is fairly relevant to the question I would suggest you edit it into the answer - perhaps annotate that particular like of code."},{"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"score":0,"creation_date":1443739619,"post_id":32897859,"comment_id":53624993,"body_markdown":"it is in the question, maybe not very visible but it is above the code block :/","body":"it is in the question, maybe not very visible but it is above the code block :/"},{"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"score":0,"creation_date":1443739671,"post_id":32897859,"comment_id":53625014,"body_markdown":"as stated in my question I was following form 2:&lt;#list sequence&gt;\n    Part executed once if we have more than 0 items\n    &lt;#items as item&gt;\n        Part repeated for each item\n    &lt;/#items&gt;\n    Part executed once if we have more than 0 items\n&lt;#else&gt;\n    Part executed when there are 0 items\n&lt;/#list&gt;","body":"as stated in my question I was following form 2:&lt;#list sequence&gt;     Part executed once if we have more than 0 items     &lt;#items as item&gt;         Part repeated for each item     &lt;/#items&gt;     Part executed once if we have more than 0 items &lt;#else&gt;     Part executed when there are 0 items &lt;/#list&gt;"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1443739726,"post_id":32897859,"comment_id":53625024,"body_markdown":"Okay, sorry - are you running the newest version?","body":"Okay, sorry - are you running the newest version?"},{"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"score":0,"creation_date":1443739947,"post_id":32897859,"comment_id":53625089,"body_markdown":"im not seeing a version in my dependencies, it says \t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;","body":"im not seeing a version in my dependencies, it says \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"score":0,"creation_date":1443740138,"post_id":32897859,"comment_id":53625141,"body_markdown":"thats probably the problem right there :/","body":"thats probably the problem right there :/"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1443740192,"post_id":32897859,"comment_id":53625156,"body_markdown":"If you&#39;re inheriting from Spring Boot Parent or using the BOM then the version is set automagically - that would then depend on your Boot version.","body":"If you&#39;re inheriting from Spring Boot Parent or using the BOM then the version is set automagically - that would then depend on your Boot version."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1686950068,"post_id":32897859,"comment_id":134874167,"body_markdown":"Please check `#list` syntax in the official documentation. Sorry, I don&#39;t see why anyone else would look for why `#item?keys` doesn&#39;t work.","body":"Please check <code>#list</code> syntax in the official documentation. Sorry, I don&#39;t see why anyone else would look for why <code>#item?keys</code> doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443742968,"creation_date":1443742968,"answer_id":32898467,"question_id":32897859,"body_markdown":"Certainly it&#39;s because you are using a FreeMarker version before 2.3.23. Before 2.3.23, you couldn&#39;t omit the `as` from the `#list` tag. (You also have some messy parts later like `&lt;#itemMap?keys as key&gt;` or `&lt;/#listy?keys&gt;`, but I assume you can fix those.)\r\n\r\nTo check the FreeMarker version, try `${.version}` (after removing the syntactically wrong parts). To increase the FreeMarker version coming from the Spring BOM, override it in your POM&#39;s `dependencyManagement` section. Something like:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      ...\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.23&lt;/version&gt;\r\n      &lt;dependency&gt;\r\n      ...\r\n    &lt;/dependencyManagement&gt;\r\n","title":"freemarker template syntax spring boot","body":"<p>Certainly it's because you are using a FreeMarker version before 2.3.23. Before 2.3.23, you couldn't omit the <code>as</code> from the <code>#list</code> tag. (You also have some messy parts later like <code>&lt;#itemMap?keys as key&gt;</code> or <code>&lt;/#listy?keys&gt;</code>, but I assume you can fix those.)</p>\n\n<p>To check the FreeMarker version, try <code>${.version}</code> (after removing the syntactically wrong parts). To increase the FreeMarker version coming from the Spring BOM, override it in your POM's <code>dependencyManagement</code> section. Something like:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;version&gt;2.3.23&lt;/version&gt;\n  &lt;dependency&gt;\n  ...\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":3827248,"reputation":103,"user_id":3173806,"accept_rate":0,"display_name":"user3173806"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697213230,"creation_date":1443738763,"question_id":32897859,"body_markdown":"I have a springboot application that creates a hashmap. I want to create a table that has one header and multiple rows (one for each value in the map). The following code returns an ISE: \r\n\r\n&gt; There was an unexpected error (type=Internal Server Error,\r\n&gt; status=500). Failed to parse FreeMarker template for URL\r\n&gt; [toDoListView.ftl]; nested exception is\r\n&gt; freemarker.core.ParseException: Syntax error in template\r\n&gt; &quot;toDoListView.ftl&quot; in line 47, column 37: Encountered &quot;&gt;&quot;, but was\r\n&gt; expecting one of: &quot;..&quot; &lt;DOT_DOT_LESS&gt; &quot;..*&quot; &quot;as&quot; &quot;.&quot; &quot;[&quot; &quot;(&quot; &quot;?&quot; &quot;!&quot;\r\n&gt; &lt;TERMINATING_EXCLAM&gt; &quot;??&quot; &quot;+&quot; &quot;-&quot; &quot;*&quot; &quot;/&quot; &quot;%&quot; &quot;!=&quot; &quot;=&quot; &quot;==&quot; &quot;&gt;=&quot;\r\n&gt; &lt;ESCAPED_GTE&gt; &quot;&gt;&quot; &lt;ESCAPED_GT&gt; &lt;LESS_THAN_EQUALS&gt; &lt;LESS_THAN&gt; &lt;AND&gt;\r\n&gt; &lt;OR&gt;\r\n\r\nline 47 is:&lt;#list itemMap&gt;\r\n\r\n    &lt;#if itemMap??&gt;\r\n        &lt;table class=&quot;table table-bordered&quot;&gt;\r\n            &lt;#list itemMap&gt;\r\n                &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;&lt;/th&gt;\r\n                        &lt;th&gt;Item1&lt;/th&gt;\r\n                        &lt;th&gt;Item2&lt;/th&gt;\r\n                        &lt;th&gt;Item3&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n            &lt;#item?keys as key&gt;\r\n                &lt;#if !itemMap?values[key_index].done&gt;\r\n                    &lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td id=&quot;checkbox_column&quot; width=&quot;40&quot;&gt;\r\n                                &lt;input type=&quot;checkbox&quot; name=&quot;im&quot; value=&quot;${key}&quot;&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;#if itemMap?values[key_index].color == &quot;BLUE&quot;&gt;\r\n                                &lt;td&gt;${itemMap?values[key_index].blue}&lt;/td&gt;\r\n                            &lt;#elseif itemMap?values[key_index].color == &quot;RED&quot;&gt;\r\n                                &lt;td&gt;${itemMap?values[key_index].red}&lt;/td&gt; \r\n                            &lt;/#if&gt;\r\n                        &lt;/tr&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/#if&gt; \r\n            &lt;/#item?keys&gt;\r\n        &lt;/table&gt;\r\n    &lt;#else&gt;\r\n        No Items!\r\n    &lt;/#list&gt;\r\n\r\nI am not sure what is causing this error. I was trying to follow the example listed here under Form 2: http://freemarker.org/docs/ref_directive_list.html","title":"freemarker template syntax spring boot","body":"<p>I have a springboot application that creates a hashmap. I want to create a table that has one header and multiple rows (one for each value in the map). The following code returns an ISE: </p>\n\n<blockquote>\n  <p>There was an unexpected error (type=Internal Server Error,\n  status=500). Failed to parse FreeMarker template for URL\n  [toDoListView.ftl]; nested exception is\n  freemarker.core.ParseException: Syntax error in template\n  \"toDoListView.ftl\" in line 47, column 37: Encountered \">\", but was\n  expecting one of: \"..\"  \"..<em>\" \"as\" \".\" \"[\" \"(\" \"?\" \"!\"\n   \"??\" \"+\" \"-\" \"</em>\" \"/\" \"%\" \"!=\" \"=\" \"==\" \">=\"\n   \">\"    \n  </p>\n</blockquote>\n\n<p>line 47 is:&lt;#list itemMap></p>\n\n<pre><code>&lt;#if itemMap??&gt;\n    &lt;table class=\"table table-bordered\"&gt;\n        &lt;#list itemMap&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                    &lt;th&gt;Item1&lt;/th&gt;\n                    &lt;th&gt;Item2&lt;/th&gt;\n                    &lt;th&gt;Item3&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n        &lt;#item?keys as key&gt;\n            &lt;#if !itemMap?values[key_index].done&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td id=\"checkbox_column\" width=\"40\"&gt;\n                            &lt;input type=\"checkbox\" name=\"im\" value=\"${key}\"&gt;\n                        &lt;/td&gt;\n                        &lt;#if itemMap?values[key_index].color == \"BLUE\"&gt;\n                            &lt;td&gt;${itemMap?values[key_index].blue}&lt;/td&gt;\n                        &lt;#elseif itemMap?values[key_index].color == \"RED\"&gt;\n                            &lt;td&gt;${itemMap?values[key_index].red}&lt;/td&gt; \n                        &lt;/#if&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/#if&gt; \n        &lt;/#item?keys&gt;\n    &lt;/table&gt;\n&lt;#else&gt;\n    No Items!\n&lt;/#list&gt;\n</code></pre>\n\n<p>I am not sure what is causing this error. I was trying to follow the example listed here under Form 2: <a href=\"http://freemarker.org/docs/ref_directive_list.html\" rel=\"nofollow\">http://freemarker.org/docs/ref_directive_list.html</a></p>\n"},{"tags":["java","input","overloading"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1340727720,"post_id":11211639,"comment_id":14721117,"body_markdown":"Side comment - Java conventions -&gt; class names in CamelCase","body":"Side comment - Java conventions -&gt; class names in CamelCase"}],"answers":[{"tags":[],"owner":{"account_id":1306910,"reputation":3662,"user_id":1255713,"accept_rate":94,"display_name":"Frank Visaggio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340727761,"creation_date":1340727761,"answer_id":11211734,"question_id":11211639,"body_markdown":"So what you want to do is make it so the input is a string. \r\n\r\nso the user can input 9, or 9.0 or if you want to get crazy maybe nine. \r\n\r\nthen you would parse the string and cast it to an int or a double. then call either of the overloaded methods. \r\n\r\n\r\nhttp://www.java2s.com/Code/Java/Language-Basics/Convertstringtoint.htm\r\n\r\nthat shows you how to convert a string to an int","title":"overloading method user input","body":"<p>So what you want to do is make it so the input is a string. </p>\n\n<p>so the user can input 9, or 9.0 or if you want to get crazy maybe nine. </p>\n\n<p>then you would parse the string and cast it to an int or a double. then call either of the overloaded methods. </p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/Language-Basics/Convertstringtoint.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Java/Language-Basics/Convertstringtoint.htm</a></p>\n\n<p>that shows you how to convert a string to an int</p>\n"},{"tags":[],"owner":{"account_id":1254987,"reputation":858,"user_id":1214649,"display_name":"David Cheung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340727798,"creation_date":1340727798,"answer_id":11211744,"question_id":11211639,"body_markdown":"You can overload with different type parameters for example String, or even some object. This would be a precaution in case the programmer using your rectangle method passed in the wrong parameter type, the method won&#39;t break.","title":"overloading method user input","body":"<p>You can overload with different type parameters for example String, or even some object. This would be a precaution in case the programmer using your rectangle method passed in the wrong parameter type, the method won't break.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340728670,"creation_date":1340728670,"answer_id":11211982,"question_id":11211639,"body_markdown":"**Its better to handle the checking of the input in the program, rather than letting the user bother about it**.\r\n\r\nEg:\r\n\r\n`1. First let the user give values as String.`\r\n\r\n   \r\n\r\n    Scanner scan = new Scanner(System.in);\r\n       String val_1 = scan.nextLine();\r\n       String val_2 = scan.nextLine();\r\n\r\n\r\n`2. Now Check the type using this custom method. Place this method in the class mtdovrld,`\r\n   `Call this method after taking user input, and from here call the rect() method.`\r\n\r\n**Method to Validate:**\r\n\r\n  \r\n\r\n    public void chkAndSet(String str1, String str2)\r\n        {\r\n    \r\n           try{\r\n    \r\n                 rect(Integer.parseInt(str1), Integer.parseInt(str2));\r\n    \r\n    \r\n              }\r\n            catch(NumberFormatException ex)\r\n              {\r\n    \r\n                 rect(Double.parseDouble(str1), Double.parseDouble(str2));\r\n    \r\n              }\r\n        }","title":"overloading method user input","body":"<p><strong>Its better to handle the checking of the input in the program, rather than letting the user bother about it</strong>.</p>\n\n<p>Eg:</p>\n\n<p><code>1. First let the user give values as String.</code></p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\n   String val_1 = scan.nextLine();\n   String val_2 = scan.nextLine();\n</code></pre>\n\n<p><code>2. Now Check the type using this custom method. Place this method in the class mtdovrld,</code>\n   <code>Call this method after taking user input, and from here call the rect() method.</code></p>\n\n<p><strong>Method to Validate:</strong></p>\n\n<pre><code>public void chkAndSet(String str1, String str2)\n    {\n\n       try{\n\n             rect(Integer.parseInt(str1), Integer.parseInt(str2));\n\n\n          }\n        catch(NumberFormatException ex)\n          {\n\n             rect(Double.parseDouble(str1), Double.parseDouble(str2));\n\n          }\n    }\n</code></pre>\n"}],"owner":{"account_id":1602566,"reputation":1,"user_id":1483342,"display_name":"Francis Bautista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697213230,"creation_date":1340727478,"question_id":11211639,"body_markdown":"I am trying to use method overloading to find the area of a rectangle. Only thing is the values have to be entered by the user. But if it has to accepted from the user, shouldn&#39;t we know the datatype of his input? And if we do, then the purpose of overloading becomes useless, because I already know the datatype.\r\n\r\nCan you guys help me out?\r\n\r\nYou can add onto this code:  \r\n\r\n    import java.io.*;\r\n    import java.lang.*;\r\n    import java.util.*;\r\n    \r\n    class mtdovrld\r\n    {\r\n       void rect(int a,int b)\r\n       {\r\n          int result = a*b;\r\n          System.out.println(result);\r\n       }\r\n    \r\n       void rect(double a,double b)\r\n       {\r\n          double result = a*b;\r\n          System.out.println(result);\r\n       }\r\n    }\r\n    \r\n    class rectarea\r\n    {\r\n       public static void main(String[] args)throws IOException\r\n       {\r\n          mtdovrld zo = new mtdovrld();\r\n    \r\n          Scanner input= new Scanner(System.in);\r\n    \r\n          System.out.println(&quot;Please enter values:&quot;);\r\n    \r\n          // Here is the problem, how can I accept values from user where I do not have to specify datatype and will still be accepted by method?\r\n          double a = input.nextDouble();\r\n          double b = input.nextDouble();\r\n    \r\n          zo.rect(a,b);\r\n    \r\n       }\r\n    }","title":"overloading method user input","body":"<p>I am trying to use method overloading to find the area of a rectangle. Only thing is the values have to be entered by the user. But if it has to accepted from the user, shouldn't we know the datatype of his input? And if we do, then the purpose of overloading becomes useless, because I already know the datatype.</p>\n\n<p>Can you guys help me out?</p>\n\n<p>You can add onto this code:  </p>\n\n<pre><code>import java.io.*;\nimport java.lang.*;\nimport java.util.*;\n\nclass mtdovrld\n{\n   void rect(int a,int b)\n   {\n      int result = a*b;\n      System.out.println(result);\n   }\n\n   void rect(double a,double b)\n   {\n      double result = a*b;\n      System.out.println(result);\n   }\n}\n\nclass rectarea\n{\n   public static void main(String[] args)throws IOException\n   {\n      mtdovrld zo = new mtdovrld();\n\n      Scanner input= new Scanner(System.in);\n\n      System.out.println(\"Please enter values:\");\n\n      // Here is the problem, how can I accept values from user where I do not have to specify datatype and will still be accepted by method?\n      double a = input.nextDouble();\n      double b = input.nextDouble();\n\n      zo.rect(a,b);\n\n   }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1697203555,"post_id":77285953,"comment_id":136254033,"body_markdown":"post the full exception...","body":"post the full exception..."}],"answers":[{"tags":[],"owner":{"account_id":17107958,"reputation":17,"user_id":12379548,"display_name":"Suman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697213152,"creation_date":1697213152,"answer_id":77289221,"question_id":77285953,"body_markdown":"Your Question requires more details. \r\nwhen you say &quot; *and on second try it can&#39;t find element with id nav-hamburger-menu,* &quot;\r\n\r\nare you able to see one element when you verify through dev tools and script run is failing with an exception?  or your element html values are modified and you are unable to use same locator to identify it uniquely?\r\n\r\nYou can also post the html snippet for before and after your settings update.","title":"Selenium Java can&#39;t find same element on second try","body":"<p>Your Question requires more details.\nwhen you say &quot; <em>and on second try it can't find element with id nav-hamburger-menu,</em> &quot;</p>\n<p>are you able to see one element when you verify through dev tools and script run is failing with an exception?  or your element html values are modified and you are unable to use same locator to identify it uniquely?</p>\n<p>You can also post the html snippet for before and after your settings update.</p>\n"}],"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697213152,"creation_date":1697183381,"question_id":77285953,"body_markdown":"I have loop where it interacts with page by changing some settings and saving them and trying head back to same setting page, and on second try it can&#39;t find element with id nav-hamburger-menu, although it didnt change after settings has changed. what could be an issue?\r\n\r\nHere is the code:\r\n\r\n    for(int i = 0; i &lt; 3; i++) {\r\n    \t    \tSystem.out.print(&quot; Prasisuko &quot;);\r\n    \t    \tWebElement openMenu = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[id=&#39;nav-hamburger-menu&#39;]&quot;)));\r\n    \t\t    openMenu.click();\r\n    \t\t    \r\n    \t\t    WebElement changeLang = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a#hmenu-icp-language.hmenu-item&quot;)));\r\n    \t\t    changeLang.click();\r\n    \t\t    \r\n    \t\t    WebElement enUsRadioButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[name=&#39;lop&#39;][value=&#39;en_US&#39;]&quot;)));\r\n    \t\t    System.out.print(enUsRadioButton.isSelected());\r\n    \r\n    //\t        // Check if the &quot;en_US&quot; radio button is checked\r\n    \t        if (enUsRadioButton.isSelected()) {\r\n    \t        \tWebElement deDERadioButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[name=&#39;lop&#39;][value=&#39;de_DE&#39;]&quot;)));\r\n    \t        \t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, deDERadioButton);\r\n    \t        } else {\r\n    \t        \tenUsRadioButton.click();\r\n    \t        }\r\n    \t        \r\n    \t        WebElement spanElement = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;span#icp-currency-dropdown-selected-item-prompt&quot;)));\r\n    \t        spanElement.click();\r\n    \r\n    \t        WebElement aElement = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a#icp-currency-dropdown_19[data-value*=&#39;EUR&#39;]&quot;)));\r\n    \t        aElement.click();\r\n    \t        \r\n    \t        WebElement saveSettingsButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input.a-button-input&quot;)));\r\n    \t        saveSettingsButton.click();\r\n    \t    }\r\n\r\n\r\nI&#39;ve tried many ways finding that element, but same thing that on second try it fails\r\n","title":"Selenium Java can&#39;t find same element on second try","body":"<p>I have loop where it interacts with page by changing some settings and saving them and trying head back to same setting page, and on second try it can't find element with id nav-hamburger-menu, although it didnt change after settings has changed. what could be an issue?</p>\n<p>Here is the code:</p>\n<pre><code>for(int i = 0; i &lt; 3; i++) {\n            System.out.print(&quot; Prasisuko &quot;);\n            WebElement openMenu = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[id='nav-hamburger-menu']&quot;)));\n            openMenu.click();\n            \n            WebElement changeLang = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a#hmenu-icp-language.hmenu-item&quot;)));\n            changeLang.click();\n            \n            WebElement enUsRadioButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[name='lop'][value='en_US']&quot;)));\n            System.out.print(enUsRadioButton.isSelected());\n\n//          // Check if the &quot;en_US&quot; radio button is checked\n            if (enUsRadioButton.isSelected()) {\n                WebElement deDERadioButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[name='lop'][value='de_DE']&quot;)));\n                ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, deDERadioButton);\n            } else {\n                enUsRadioButton.click();\n            }\n            \n            WebElement spanElement = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;span#icp-currency-dropdown-selected-item-prompt&quot;)));\n            spanElement.click();\n\n            WebElement aElement = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a#icp-currency-dropdown_19[data-value*='EUR']&quot;)));\n            aElement.click();\n            \n            WebElement saveSettingsButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input.a-button-input&quot;)));\n            saveSettingsButton.click();\n        }\n</code></pre>\n<p>I've tried many ways finding that element, but same thing that on second try it fails</p>\n"},{"tags":["java","maven","tomcat","war","classloading"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697205250,"post_id":77287797,"comment_id":136254371,"body_markdown":"Have you tried grep-ing with **imagio** instead? Also, have you tracked down if any specific API call is causing this error?","body":"Have you tried grep-ing with <b>imagio</b> instead? Also, have you tracked down if any specific API call is causing this error?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697207482,"post_id":77287797,"comment_id":136254830,"body_markdown":"The not found class is a javax and the github docs warns that some classes may exist in other deps. Also it says that [same functionality is provided by java 9](https://docs.oracle.com/javase/9/docs/api/javax/imageio/package-summary.html). try adding `-verbose:class` to the jvm options to spot which jar is used to load the class.","body":"The not found class is a javax and the github docs warns that some classes may exist in other deps. Also it says that <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">same functionality is provided by java 9</a>. try adding <code>-verbose:class</code> to the jvm options to spot which jar is used to load the class."},{"owner":{"account_id":3528560,"reputation":31,"user_id":2948900,"display_name":"K&#229;re Jonsson"},"score":0,"creation_date":1697212988,"post_id":77287797,"comment_id":136256077,"body_markdown":"Grepping for imag makes no more hits in the dependency tree than the ones described.","body":"Grepping for imag makes no more hits in the dependency tree than the ones described."},{"owner":{"account_id":3528560,"reputation":31,"user_id":2948900,"display_name":"K&#229;re Jonsson"},"score":0,"creation_date":1697213182,"post_id":77287797,"comment_id":136256120,"body_markdown":"And grepping for jai adds\n\njavax.media:jai_core:jar:1.1.3:compile","body":"And grepping for jai adds  javax.media:jai_core:jar:1.1.3:compile"}],"owner":{"account_id":3528560,"reputation":31,"user_id":2948900,"display_name":"K&#229;re Jonsson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697213037,"creation_date":1697200576,"question_id":77287797,"body_markdown":"Upon deployment my application works but after some time it happens that there are `java.lang.NoClassDefFoundError at javax/imageio/impl/IIOInvalidTreeException at \r\ncom.github.jaiimageio.impl.plugins.tiff.TIFFImageWriterSpi.createWriterInstance`\r\n\r\nIt is a maven built war file deployed in Tomcat so there is no tampering with the supplied jar-files. The time it works before the problem appears vary between the occasions. By doing\r\n\r\n`$ mvn dependency:tree`\r\n\r\nand grep-ing for &quot;image&quot; I can with certainity say that the only jar-files included are \r\n\r\n`com.github.jai-imageio:jai-imageio-core:jar:1.4.0\r\ncom.github.jai-imageio:jai-imageio-jpeg2000:jar:1.4.0`\r\n\r\nI would like to know if this should be an impossible situation? Could this happen with errors by programming? There are also considerations in the deployment environment but I do not want to point to those before I have done some work with my part of this.\r\n\r\nI am mostly dissappointed with the lack of determinism of this.","title":"Java/Tomcat. After some time there are exceptions of Class loading","body":"<p>Upon deployment my application works but after some time it happens that there are <code>java.lang.NoClassDefFoundError at javax/imageio/impl/IIOInvalidTreeException at  com.github.jaiimageio.impl.plugins.tiff.TIFFImageWriterSpi.createWriterInstance</code></p>\n<p>It is a maven built war file deployed in Tomcat so there is no tampering with the supplied jar-files. The time it works before the problem appears vary between the occasions. By doing</p>\n<p><code>$ mvn dependency:tree</code></p>\n<p>and grep-ing for &quot;image&quot; I can with certainity say that the only jar-files included are</p>\n<p><code>com.github.jai-imageio:jai-imageio-core:jar:1.4.0 com.github.jai-imageio:jai-imageio-jpeg2000:jar:1.4.0</code></p>\n<p>I would like to know if this should be an impossible situation? Could this happen with errors by programming? There are also considerations in the deployment environment but I do not want to point to those before I have done some work with my part of this.</p>\n<p>I am mostly dissappointed with the lack of determinism of this.</p>\n"},{"tags":["java","spring","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":2794745,"reputation":46,"user_id":13197555,"display_name":"Springinjecter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672160808,"creation_date":1672160773,"answer_id":74932171,"question_id":71077641,"body_markdown":"spring-boot-2.x uses javax.validation Annotations and so you need an implementation for javax.validation.spi.ValidationProvider.\r\nhibernate-validator:7.0.2 has moved from javax.validation to jakarta.validation and for that it is not downward compatible.\r\n\r\nIt depends on your project now:\r\nupgrade to spring-boot 3.x ( also upgrade from javax.* to jakarta.* - this might be a huge upgrade )\r\nor downgrade hibernate-validator to version 6.x\r\n\r\nI hope I have explained it well :-)","title":"Hibernate 7.0.2: javax.validation.NoProviderFoundException","body":"<p>spring-boot-2.x uses javax.validation Annotations and so you need an implementation for javax.validation.spi.ValidationProvider.\nhibernate-validator:7.0.2 has moved from javax.validation to jakarta.validation and for that it is not downward compatible.</p>\n<p>It depends on your project now:\nupgrade to spring-boot 3.x ( also upgrade from javax.* to jakarta.* - this might be a huge upgrade )\nor downgrade hibernate-validator to version 6.x</p>\n<p>I hope I have explained it well :-)</p>\n"},{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"&#252;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697212937,"creation_date":1697212937,"answer_id":77289190,"question_id":71077641,"body_markdown":"`Springinjecter`&#39;s answer is correct, but now I think it is better to rely only on Spring-Boot which also has a dedicated validator: \r\n \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI prefer that option instead relying on other third party libraries.\r\n","title":"Hibernate 7.0.2: javax.validation.NoProviderFoundException","body":"<p><code>Springinjecter</code>'s answer is correct, but now I think it is better to rely only on Spring-Boot which also has a dedicated validator:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I prefer that option instead relying on other third party libraries.</p>\n"}],"owner":{"account_id":18358975,"reputation":332,"user_id":13371454,"display_name":"Vladimir Shadrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74932171,"answer_count":2,"score":2,"last_activity_date":1697212937,"creation_date":1644571009,"question_id":71077641,"body_markdown":"I&#39;m using spring-boot-starter-web:jar:2.6.2 in my project, this jar uses hibernate-validator:6.2.0.Final. Recently we decided to move to Hibernate 7.0.2.Final, so I added the following maven config:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;version&gt;${rest.starter.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut now I get the following error during integration testing or run: \r\n&gt;javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n\r\nWhy does it happen and how to fix it?","title":"Hibernate 7.0.2: javax.validation.NoProviderFoundException","body":"<p>I'm using spring-boot-starter-web:jar:2.6.2 in my project, this jar uses hibernate-validator:6.2.0.Final. Recently we decided to move to Hibernate 7.0.2.Final, so I added the following maven config:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;${rest.starter.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;7.0.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But now I get the following error during integration testing or run:</p>\n<blockquote>\n<p>javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.</p>\n</blockquote>\n<p>Why does it happen and how to fix it?</p>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697212421,"creation_date":1697212421,"question_id":77289147,"body_markdown":"I have a Spring Boot Camel application that is consuming messages from an SQS Queue. The queue is set up to extend the Message Visibility.\r\n\r\nDue to an as-yet un-diagnosed problem it seems like a number of messages have had their Message Visibility Timeout extended to be greater than the maximum allowed by SQS ( 12 hours ). I see this in my log, with this message\r\n\r\n`Total VisibilityTimeout for the message is beyond the limit [43200 seconds]. (Service: AmazonSQS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: 55988753-658c-562b-8c04-daf37c9efc70)`\r\n\r\nI can then see that the Camel component continues trying the extend the Message Visibility Timeout, and it looks like it&#39;s going to keep trying the extend it for ever. These requests result in the following exception message in my logs.\r\n\r\n`ReceiptHandle is invalid. Reason: The receipt handle has expired. `\r\n\r\nAs far as I can see, the route is using the default Camel error handler.\r\n\r\nI know that I need to understand why these messages aren&#39;t being processed correctly by my consumer, but should I expect Camel to react ike it is doing?","title":"Camel SQS continues trying to extend Message Visibility Timeout even though the VisibilityTimeout is greater than the maximum","body":"<p>I have a Spring Boot Camel application that is consuming messages from an SQS Queue. The queue is set up to extend the Message Visibility.</p>\n<p>Due to an as-yet un-diagnosed problem it seems like a number of messages have had their Message Visibility Timeout extended to be greater than the maximum allowed by SQS ( 12 hours ). I see this in my log, with this message</p>\n<p><code>Total VisibilityTimeout for the message is beyond the limit [43200 seconds]. (Service: AmazonSQS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: 55988753-658c-562b-8c04-daf37c9efc70)</code></p>\n<p>I can then see that the Camel component continues trying the extend the Message Visibility Timeout, and it looks like it's going to keep trying the extend it for ever. These requests result in the following exception message in my logs.</p>\n<p><code>ReceiptHandle is invalid. Reason: The receipt handle has expired. </code></p>\n<p>As far as I can see, the route is using the default Camel error handler.</p>\n<p>I know that I need to understand why these messages aren't being processed correctly by my consumer, but should I expect Camel to react ike it is doing?</p>\n"},{"tags":["java","pdf","itext","flying-saucer"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697206124,"post_id":77287894,"comment_id":136254549,"body_markdown":"Does this answer your question? [Using Flying Saucer to Render Images to PDF In Memory](https://stackoverflow.com/questions/11477065/using-flying-saucer-to-render-images-to-pdf-in-memory)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11477065/using-flying-saucer-to-render-images-to-pdf-in-memory\">Using Flying Saucer to Render Images to PDF In Memory</a>"},{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1697211721,"post_id":77287894,"comment_id":136255796,"body_markdown":"no, seems it is different case. I am trying to add baseurl using setUserAgentCallback() but is not helping.","body":"no, seems it is different case. I am trying to add baseurl using setUserAgentCallback() but is not helping."}],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697211667,"creation_date":1697201547,"question_id":77287894,"body_markdown":" I want to make a PDF for my webpage using  Flying Saucer to generate a PDF. With this below code I am able to generate a PDF but without any style and css. \r\n\r\nHTML source code,\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/jquery-ui.aeeab65fc7671696263825aac469a40d.css&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/site.bc5eb8ab7795d16a0a599fbaef2adfe6.css&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;script src=&quot;js/sidebar.974c35aeb63e852d3fd100cc1c3ab02b.js&quot;&gt;&lt;/script&gt;\r\n\r\nI am trying to set my base URL using renderer.getSharedContext().setUserAgentCallback(new NaiveUserAgent(baseUrl)) but it is not working.\r\n\r\nJava code\r\n\r\n    try {\r\n            // Define the URL\r\n            String urlcheck = &quot;http://localhost:8888/index.html&quot;;\r\n           \r\n            // Establish a URL connection\r\n            HttpURLConnection connection = (HttpURLConnection) new URL(urlcheck).openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n    \r\n            // Set up Basic Authentication with username &quot;admin&quot; and password &quot;admin&quot;\r\n            String username = &quot;admin&quot;;\r\n            String password = &quot;admin&quot;;\r\n            String authString = username + &quot;:&quot; + password;\r\n            String encodedAuthString = Base64.getEncoder().encodeToString(authString.getBytes());\r\n    \r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthString);\r\n    \r\n            // Check the response code (200 indicates success)\r\n            int responseCode = connection.getResponseCode();\r\n            if (responseCode == 200) {\r\n    \r\n              // Get the input stream from the connection\r\n              InputStream urlInputStream = connection.getInputStream();\r\n    \r\n              LOG.info(&quot;PDF START &quot;);\r\n              // Create an ITextRenderer instance\r\n              ITextRenderer renderer = new ITextRenderer();\r\n    \r\n              // Convert the InputStream to a String\r\n              String htmlContent = convertInputStreamToString(urlInputStream);\r\n              HtmlCleaner cleaner = new HtmlCleaner();\r\n              TagNode rootTagNode = cleaner.clean(htmlContent);\r\n    \r\n              // set up properties for the serializer (optional, see online docs)\r\n              CleanerProperties cleanerProperties = cleaner.getProperties();\r\n    \r\n              // use the getAsString method on an XmlSerializer class\r\n              XmlSerializer xmlSerializer = new PrettyXmlSerializer(cleanerProperties);\r\n              String cleanedHtml = xmlSerializer.getAsString(rootTagNode);\r\n              LOG.info(&quot;cleanedHtml::&quot;+cleanedHtml);\r\n    \r\n              // Set the HTML content as the document\r\n              renderer.setDocumentFromString(cleanedHtml);\r\n    \r\n              // Render to PDF\r\n              String baseUrl = &quot;http://localhost:8888&quot;;\r\n              renderer.getSharedContext().setUserAgentCallback(new NaiveUserAgent(baseUrl)); // Error\r\n    \r\n              ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n              renderer.layout();\r\n              renderer.createPDF(outputStream);\r\n              renderer.finishPDF();\r\n    \r\n            } else {\r\n              LOG.error(&quot;Failed to retrieve URL content. Response code: &quot; + responseCode);\r\n            }\r\n          } ","title":"CSS and Image is not rendering in generated PDF - Flying Saucer","body":"<p>I want to make a PDF for my webpage using  Flying Saucer to generate a PDF. With this below code I am able to generate a PDF but without any style and css.</p>\n<p>HTML source code,</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/jquery-ui.aeeab65fc7671696263825aac469a40d.css&quot; type=&quot;text/css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/site.bc5eb8ab7795d16a0a599fbaef2adfe6.css&quot; type=&quot;text/css&quot;&gt;\n&lt;script src=&quot;js/sidebar.974c35aeb63e852d3fd100cc1c3ab02b.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>I am trying to set my base URL using renderer.getSharedContext().setUserAgentCallback(new NaiveUserAgent(baseUrl)) but it is not working.</p>\n<p>Java code</p>\n<pre><code>try {\n        // Define the URL\n        String urlcheck = &quot;http://localhost:8888/index.html&quot;;\n       \n        // Establish a URL connection\n        HttpURLConnection connection = (HttpURLConnection) new URL(urlcheck).openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n\n        // Set up Basic Authentication with username &quot;admin&quot; and password &quot;admin&quot;\n        String username = &quot;admin&quot;;\n        String password = &quot;admin&quot;;\n        String authString = username + &quot;:&quot; + password;\n        String encodedAuthString = Base64.getEncoder().encodeToString(authString.getBytes());\n\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthString);\n\n        // Check the response code (200 indicates success)\n        int responseCode = connection.getResponseCode();\n        if (responseCode == 200) {\n\n          // Get the input stream from the connection\n          InputStream urlInputStream = connection.getInputStream();\n\n          LOG.info(&quot;PDF START &quot;);\n          // Create an ITextRenderer instance\n          ITextRenderer renderer = new ITextRenderer();\n\n          // Convert the InputStream to a String\n          String htmlContent = convertInputStreamToString(urlInputStream);\n          HtmlCleaner cleaner = new HtmlCleaner();\n          TagNode rootTagNode = cleaner.clean(htmlContent);\n\n          // set up properties for the serializer (optional, see online docs)\n          CleanerProperties cleanerProperties = cleaner.getProperties();\n\n          // use the getAsString method on an XmlSerializer class\n          XmlSerializer xmlSerializer = new PrettyXmlSerializer(cleanerProperties);\n          String cleanedHtml = xmlSerializer.getAsString(rootTagNode);\n          LOG.info(&quot;cleanedHtml::&quot;+cleanedHtml);\n\n          // Set the HTML content as the document\n          renderer.setDocumentFromString(cleanedHtml);\n\n          // Render to PDF\n          String baseUrl = &quot;http://localhost:8888&quot;;\n          renderer.getSharedContext().setUserAgentCallback(new NaiveUserAgent(baseUrl)); // Error\n\n          ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n          renderer.layout();\n          renderer.createPDF(outputStream);\n          renderer.finishPDF();\n\n        } else {\n          LOG.error(&quot;Failed to retrieve URL content. Response code: &quot; + responseCode);\n        }\n      } \n</code></pre>\n"},{"tags":["java","android","ftp","ftp-client"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697211587,"creation_date":1556794403,"answer_id":55950845,"question_id":55950683,"body_markdown":"The argument of `FTPClient.connect` method (or actually the inherited [`SocketClient.connect`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html#connect(java.lang.String)) is `hostname`, not URL.\r\n\r\nSo it should be:\r\n\r\n    ftpServer = &quot;ftp.myServer.co.uk&quot;;","title":"FTPClient cannot resolve host even with internet permission","body":"<p>The argument of <code>FTPClient.connect</code> method (or actually the inherited <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html#connect(java.lang.String)\" rel=\"nofollow noreferrer\"><code>SocketClient.connect</code></a> is <code>hostname</code>, not URL.</p>\n<p>So it should be:</p>\n<pre><code>ftpServer = &quot;ftp.myServer.co.uk&quot;;\n</code></pre>\n"}],"owner":{"account_id":8729548,"reputation":2308,"user_id":6530111,"accept_rate":95,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55950845,"answer_count":1,"score":2,"last_activity_date":1697211587,"creation_date":1556793788,"question_id":55950683,"body_markdown":"I&#39;ve added the correct permission into my `AndroidManifest.XML` file to enable me connect to the internet from my app\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.my_test_app&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.LogOn&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.ftpDetails&quot;/&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nBut, when trying to establish an FTP connection like so \r\n\r\n    FTPClient FtpClient = new FTPClient();\r\n\r\n    FtpClient.connect(ftpServer + ftpFolder); // THIS IS WHERE THE ERROR OCCURS\r\n    FtpClient.login(ftpUser, ftpPass);\r\n\r\n    int reply = FtpClient.getReplyCode();\r\n\r\nThe error occurs on `FtpClient.connect(ftpServer + ftpFolder);`\r\n\r\nThe values in the variables are in the format of\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ftpServer = ftp://ftp.myServer.co.uk/mySite.co.uk/\r\n    ftpFolder = My Folder (Test)\r\n\r\nI can get to this folder through Windows File Explorer on my PC so I know it&#39;s a valid path, but when testing in the app I get the following error\r\n\r\n&gt; Unable to resolve host &quot;ftp://ftp.myServer.co.uk/mySite.co.uk/My Folder&quot;: No address associated with hostname\r\n","title":"FTPClient cannot resolve host even with internet permission","body":"<p>I've added the correct permission into my <code>AndroidManifest.XML</code> file to enable me connect to the internet from my app</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.my_test_app\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".LogOn\"&gt;&lt;/activity&gt;\n    &lt;activity android:name=\".ftpDetails\"/&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>But, when trying to establish an FTP connection like so </p>\n\n<pre><code>FTPClient FtpClient = new FTPClient();\n\nFtpClient.connect(ftpServer + ftpFolder); // THIS IS WHERE THE ERROR OCCURS\nFtpClient.login(ftpUser, ftpPass);\n\nint reply = FtpClient.getReplyCode();\n</code></pre>\n\n<p>The error occurs on <code>FtpClient.connect(ftpServer + ftpFolder);</code></p>\n\n<p>The values in the variables are in the format of</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ftpServer = ftp://ftp.myServer.co.uk/mySite.co.uk/\nftpFolder = My Folder (Test)\n</code></pre>\n\n<p>I can get to this folder through Windows File Explorer on my PC so I know it's a valid path, but when testing in the app I get the following error</p>\n\n<blockquote>\n  <p>Unable to resolve host \"<a href=\"ftp://ftp.myServer.co.uk/mySite.co.uk/My\" rel=\"nofollow noreferrer\">ftp://ftp.myServer.co.uk/mySite.co.uk/My</a> Folder\": No address associated with hostname</p>\n</blockquote>\n"},{"tags":["java","logging","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1697211546,"creation_date":1542872607,"answer_id":53426063,"question_id":53426062,"body_markdown":"All protocol implementations in Apache Commons Net, including `FTPClient`, derive from [`SocketClient`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html), which has a method [`addProtocolCommandListener`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html#addProtocolCommandListener(org.apache.commons.net.ProtocolCommandListener)). You can pass it an implementation of [`ProtocolCommandListener`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ProtocolCommandListener.html) to implement logging.\r\n\r\nThere&#39;s a ready-made implementation [`PrintCommandListener`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/PrintCommandListener.html), which prints the protocol log to provided `PrintStream`.\r\n\r\nWith a code like this:\r\n\r\n    ftpClient.addProtocolCommandListener(\r\n        new PrintCommandListener(\r\n            new PrintWriter(new OutputStreamWriter(System.out, &quot;UTF-8&quot;)), true));\r\n\r\n..., you will get exactly the output that you have asked for.\r\n","title":"Enable logging in Apache Commons Net for FTP protocol","body":"<p>All protocol implementations in Apache Commons Net, including <code>FTPClient</code>, derive from <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html\" rel=\"nofollow noreferrer\"><code>SocketClient</code></a>, which has a method <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/SocketClient.html#addProtocolCommandListener(org.apache.commons.net.ProtocolCommandListener)\" rel=\"nofollow noreferrer\"><code>addProtocolCommandListener</code></a>. You can pass it an implementation of <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ProtocolCommandListener.html\" rel=\"nofollow noreferrer\"><code>ProtocolCommandListener</code></a> to implement logging.</p>\n<p>There's a ready-made implementation <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/PrintCommandListener.html\" rel=\"nofollow noreferrer\"><code>PrintCommandListener</code></a>, which prints the protocol log to provided <code>PrintStream</code>.</p>\n<p>With a code like this:</p>\n<pre><code>ftpClient.addProtocolCommandListener(\n    new PrintCommandListener(\n        new PrintWriter(new OutputStreamWriter(System.out, &quot;UTF-8&quot;)), true));\n</code></pre>\n<p>..., you will get exactly the output that you have asked for.</p>\n"}],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4608,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53426063,"answer_count":1,"score":7,"last_activity_date":1697211546,"creation_date":1542872607,"question_id":53426062,"body_markdown":"Apache Commons Net library does not seem to send anything to any &quot;logger&quot;.\r\n\r\nCan I somehow obtain a log file from an (FTP) session, for debugging purposes? For example raw FTP commands and responses from the server, like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    220 Welcome\r\n    USER *******\r\n    331 Password required for ...\r\n    PASS *******\r\n    230 Logged on\r\n    TYPE I\r\n    200 Type set to I\r\n    QUIT\r\n    221 Goodbye","title":"Enable logging in Apache Commons Net for FTP protocol","body":"<p>Apache Commons Net library does not seem to send anything to any \"logger\".</p>\n\n<p>Can I somehow obtain a log file from an (FTP) session, for debugging purposes? For example raw FTP commands and responses from the server, like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>220 Welcome\nUSER *******\n331 Password required for ...\nPASS *******\n230 Logged on\nTYPE I\n200 Type set to I\nQUIT\n221 Goodbye\n</code></pre>\n"},{"tags":["java","ssl","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697211448,"creation_date":1495476948,"answer_id":44119529,"question_id":44119152,"body_markdown":"You are connecting to port 990, what is an implicit FTPS port. Yet, you are passing `false` to `isImplicit` argument of [`FTPSClient` constructor](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(java.lang.String,boolean)).\r\n\r\nEither pass `true`, if you really want to use the implicit FTPS:\r\n\r\n    FTPSClient ftpClient = new FTPSClient(&quot;TLS&quot;, true);\r\n\r\nOr actually, you should really use an explicit FTPS and the default FTP port 21 (as the implicit FTPS is non-standard legacy compatibility hack):\r\n\r\n    FTPSClient ftpClient = new FTPSClient();\r\n    // ...\r\n    ftpClient.connect(&quot;myhost&quot;);\r\n    \r\nIn other words, all you need to use FTPS is use [`FTPSClient`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html), no additional arguments or calls are needed.","title":"&quot;Remote host closed connection during handshake&quot; when connecting to FTP server using Commons Net FTPSClient","body":"<p>You are connecting to port 990, what is an implicit FTPS port. Yet, you are passing <code>false</code> to <code>isImplicit</code> argument of <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(java.lang.String,boolean)\" rel=\"nofollow noreferrer\"><code>FTPSClient</code> constructor</a>.</p>\n<p>Either pass <code>true</code>, if you really want to use the implicit FTPS:</p>\n<pre><code>FTPSClient ftpClient = new FTPSClient(&quot;TLS&quot;, true);\n</code></pre>\n<p>Or actually, you should really use an explicit FTPS and the default FTP port 21 (as the implicit FTPS is non-standard legacy compatibility hack):</p>\n<pre><code>FTPSClient ftpClient = new FTPSClient();\n// ...\nftpClient.connect(&quot;myhost&quot;);\n</code></pre>\n<p>In other words, all you need to use FTPS is use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html\" rel=\"nofollow noreferrer\"><code>FTPSClient</code></a>, no additional arguments or calls are needed.</p>\n"}],"owner":{"account_id":2445942,"reputation":51,"user_id":2133331,"display_name":"jyoshiriro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2674,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697211448,"creation_date":1495475508,"question_id":44119152,"body_markdown":"My **code** (I use `-Dhttps.protocols=TLSv1.2` VM argument when run):\r\n\r\n    FTPSClient ftpClient = new FTPSClient(&quot;TLS&quot;, false);\r\n    ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n    ftpClient.setAuthValue(&quot;TLS&quot;);\r\n    \r\n    ftpClient.connect(&quot;myhost&quot;, 990);\r\n    ftpClient.login(&quot;mylogin&quot;, &quot;mypassword&quot;);\r\n    \r\nStack trace:\r\n\r\n&gt; javax.net.ssl.SSLHandshakeException: Remote host closed connection\r\n&gt; during handshake  \r\n&gt;     \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:992)  \r\n&gt;     // too many traces...  \r\n&gt;     Caused by: java.io.EOFException: SSL peer shut down incorrectly  \r\n&gt;     \tat sun.security.ssl.InputRecord.read(InputRecord.java:505)  \r\n&gt;     \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)  \r\n&gt;     \t... 33 more\r\n\r\nLog from WinSCP (I can send files using WinSCP):\r\n\r\n&gt; 536 Copying 1 files/directories to remote directory &quot;/&quot; 536   PrTime:\r\n&gt; Yes; PrRO: No; Rght: rw-r--r--; PrR: No (No); FnCs: N; RIC: 0100;\r\n&gt; Resume: S (102400); CalcS: Yes; Mask: *.* 536   TM: B; ClAr: No;\r\n&gt; RemEOF: No; RemBOM: No; CPS: 0; NewerOnly: No; InclM: ; ResumeL: 0 536\r\n&gt; AscM: *.*html; *.htm; *.txt; *.php; *.php3; *.cgi; *.c; *.cpp; *.h;\r\n&gt; *.pas; *.bas; *.tex; *.pl; *.js; .htaccess; *.xtml; *.css; *.cfg; *.ini; *.sh; *.xml 539 File: &#39;C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql&#39;\r\n&gt; [2016-10-06T16:34:29.298Z] [4869] 557 Copying\r\n&gt; &quot;C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql&quot; to remote\r\n&gt; directory started. 560 Binary transfer mode selected. 560 Iniciando\r\n&gt; carregamento de C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql\r\n&gt; 560 TYPE I 562 200 Type set to I 563 PASV 568 227 Entering Passive\r\n&gt; Mode (10,28,14,218,250,0) 569 STOR cliente-dados.sql 569 Conectando a\r\n&gt; 10.28.14.218:64000... 575 150 Opening data channel for file upload to server of &quot;/cliente-dados.sql&quot; 579 Session ID reused 579 Using\r\n&gt; TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit\r\n&gt; RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA \r\n&gt; Enc=AESGCM(256) Mac=AEAD 580 Conex&#227;o SSL estabelecida 586 226\r\n&gt; Successfully transferred &quot;/cliente-dados.sql&quot; 586 MFMT 20161006163429\r\n&gt; cliente-dados.sql 590 213 modify=20161006163429; /cliente-dados.sql\r\n&gt; 590 Carregamento bem-sucedido 591 Transfer done:\r\n&gt; &#39;C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql&#39; [4869]\r\n\r\n","title":"&quot;Remote host closed connection during handshake&quot; when connecting to FTP server using Commons Net FTPSClient","body":"<p>My <strong>code</strong> (I use <code>-Dhttps.protocols=TLSv1.2</code> VM argument when run):</p>\n\n<pre><code>FTPSClient ftpClient = new FTPSClient(\"TLS\", false);\nftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\nftpClient.setAuthValue(\"TLS\");\n\nftpClient.connect(\"myhost\", 990);\nftpClient.login(\"mylogin\", \"mypassword\");\n</code></pre>\n\n<p>Stack trace:</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLHandshakeException: Remote host closed connection\n  during handshake<br>\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:992)<br>\n      // too many traces...<br>\n      Caused by: java.io.EOFException: SSL peer shut down incorrectly<br>\n        at sun.security.ssl.InputRecord.read(InputRecord.java:505)<br>\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)<br>\n        ... 33 more</p>\n</blockquote>\n\n<p>Log from WinSCP (I can send files using WinSCP):</p>\n\n<blockquote>\n  <p>536 Copying 1 files/directories to remote directory \"/\" 536   PrTime:\n  Yes; PrRO: No; Rght: rw-r--r--; PrR: No (No); FnCs: N; RIC: 0100;\n  Resume: S (102400); CalcS: Yes; Mask: <em>.</em> 536   TM: B; ClAr: No;\n  RemEOF: No; RemBOM: No; CPS: 0; NewerOnly: No; InclM: ; ResumeL: 0 536\n  AscM: *.*html; *.htm; *.txt; *.php; *.php3; *.cgi; *.c; *.cpp; *.h;\n  *.pas; *.bas; *.tex; *.pl; *.js; .htaccess; *.xtml; *.css; *.cfg; *.ini; *.sh; *.xml 539 File: 'C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql'\n  [2016-10-06T16:34:29.298Z] [4869] 557 Copying\n  \"C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql\" to remote\n  directory started. 560 Binary transfer mode selected. 560 Iniciando\n  carregamento de C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql\n  560 TYPE I 562 200 Type set to I 563 PASV 568 227 Entering Passive\n  Mode (10,28,14,218,250,0) 569 STOR cliente-dados.sql 569 Conectando a\n  10.28.14.218:64000... 575 150 Opening data channel for file upload to server of \"/cliente-dados.sql\" 579 Session ID reused 579 Using\n  TLSv1.2, cipher TLSv1/SSLv3: ECDHE-RSA-AES256-GCM-SHA384, 2048 bit\n  RSA, ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA \n  Enc=AESGCM(256) Mac=AEAD 580 Conexo SSL estabelecida 586 226\n  Successfully transferred \"/cliente-dados.sql\" 586 MFMT 20161006163429\n  cliente-dados.sql 590 213 modify=20161006163429; /cliente-dados.sql\n  590 Carregamento bem-sucedido 591 Transfer done:\n  'C:\\Users\\trescon.jramos\\Documents\\cliente-dados.sql' [4869]</p>\n</blockquote>\n"},{"tags":["java","ssl","ftp","ftps"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1697211413,"creation_date":1459342612,"answer_id":36309570,"question_id":36302985,"body_markdown":"*The `SimpleFTP` class/library does not support TLS/SSL at all.*\r\n\r\n---\r\n\r\nUse the [`FTPSClient` class](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html) from the [Apache Commons Net library](https://commons.apache.org/proper/commons-net/) instead.\r\n\r\nSee the [official example for the `FTPClient` class](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html) and just substitute the `FTPClient` with the `FTPSClient`.\r\n\r\n    FTPSClient ftpClient = new FTPSClient();\r\n    ftpClient.connect(host);\r\n    ftpClient.login(user, password);\r\n\r\n---\r\n\r\nThe `FTPSClient` class defaults to an explicit TLS/SSL (recommended). In a rare case you need an implicit TLS/SSL, use [`new FTPSClient(true)`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(boolean)).","title":"How to connect to FTP over TLS/SSL (FTPS) server in Java","body":"<p><em>The <code>SimpleFTP</code> class/library does not support TLS/SSL at all.</em></p>\n<hr />\n<p>Use the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html\" rel=\"nofollow noreferrer\"><code>FTPSClient</code> class</a> from the <a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\">Apache Commons Net library</a> instead.</p>\n<p>See the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\">official example for the <code>FTPClient</code> class</a> and just substitute the <code>FTPClient</code> with the <code>FTPSClient</code>.</p>\n<pre><code>FTPSClient ftpClient = new FTPSClient();\nftpClient.connect(host);\nftpClient.login(user, password);\n</code></pre>\n<hr />\n<p>The <code>FTPSClient</code> class defaults to an explicit TLS/SSL (recommended). In a rare case you need an implicit TLS/SSL, use <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#%3Cinit%3E(boolean)\" rel=\"nofollow noreferrer\"><code>new FTPSClient(true)</code></a>.</p>\n"}],"owner":{"account_id":7072178,"reputation":276,"user_id":5413426,"accept_rate":100,"display_name":"Abdul Rafay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56610,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":36309570,"answer_count":1,"score":13,"last_activity_date":1697211413,"creation_date":1459325000,"question_id":36302985,"body_markdown":"I&#39;m stuck in connecting to FTP over TLS/SSL (FTPS) server. I am using SimpleFTP library through am able to connect FTP server without SSL but could not connect FTPS.\r\n\r\nIt is giving me this error at line 2 (ftp.connect),\r\n\r\n&gt; SimpleFTP received an unknown response when connecting to the FTP server:   \r\n&gt; 220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\r\n\r\nand am using below code\r\n\r\n    SimpleFTP ftp = new SimpleFTP();\r\n\r\n    // Connect to an FTP server on port 21.\r\n    ftp.connect(&quot;xxx.xxx.xxx.xxx&quot;, 21, &quot;username&quot;, &quot;pwd&quot;);\r\n    //getting error at (ftp.connect) above line\r\n \r\n    // Set binary mode.\r\n    ftp.bin();\r\n\r\n    // Change to a new working directory on the FTP server.\r\n    ftp.cwd(&quot;web&quot;);\r\n    ftp.disconnect();\r\n\r\n","title":"How to connect to FTP over TLS/SSL (FTPS) server in Java","body":"<p>I'm stuck in connecting to FTP over TLS/SSL (FTPS) server. I am using SimpleFTP library through am able to connect FTP server without SSL but could not connect FTPS.</p>\n\n<p>It is giving me this error at line 2 (ftp.connect),</p>\n\n<blockquote>\n  <p>SimpleFTP received an unknown response when connecting to the FTP server:<br>\n  220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------</p>\n</blockquote>\n\n<p>and am using below code</p>\n\n<pre><code>SimpleFTP ftp = new SimpleFTP();\n\n// Connect to an FTP server on port 21.\nftp.connect(\"xxx.xxx.xxx.xxx\", 21, \"username\", \"pwd\");\n//getting error at (ftp.connect) above line\n\n// Set binary mode.\nftp.bin();\n\n// Change to a new working directory on the FTP server.\nftp.cwd(\"web\");\nftp.disconnect();\n</code></pre>\n"},{"tags":["java","linux","exec","runtime.exec"],"answers":[{"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357164298,"creation_date":1278450338,"answer_id":3190236,"question_id":3190190,"body_markdown":"Make an array!\r\n\r\nexec can take an array of strings, which are used as an array of command &amp; arguments (as opposed to an array of commands)\r\n\r\nSomething like this ...\r\n\r\n    String[] arguments = new String[] { &quot;ffmpeg&quot;, \r\n    &quot;-i&quot;, \r\n    &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot;,\r\n    &quot;-re&quot;,\r\n    ...\r\n    };","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>Make an array!</p>\n\n<p>exec can take an array of strings, which are used as an array of command &amp; arguments (as opposed to an array of commands)</p>\n\n<p>Something like this ...</p>\n\n<pre><code>String[] arguments = new String[] { \"ffmpeg\", \n\"-i\", \n\"rtmp://127.0.0.1/vod/sample start=1500 stop=24000\",\n\"-re\",\n...\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278452721,"creation_date":1278452721,"answer_id":3190478,"question_id":3190190,"body_markdown":"It sounds like you need to escape quotes inside your argument string. This is simple enough to do with a preceding backslash.\r\n\r\nE.g.\r\n\r\n    String containsQuote = &quot;\\&quot;&quot;;\r\n\r\nThis will evaluate to a string containing just the quote character.\r\n\r\nOr in your particular case:\r\n\r\n    String argument = &quot;ffmpeg -i \\&quot;rtmp://127.0.0.1/vod/&quot;\r\n              + nextVideo.getFilename()\r\n              + &quot; start=&quot; + nextVideo.getStart()\r\n              + &quot; stop=&quot; + nextVideo.getStop() + &quot;\\&quot;&quot;\r\n              + &quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv&quot;;\r\n\r\n","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>It sounds like you need to escape quotes inside your argument string. This is simple enough to do with a preceding backslash.</p>\n\n<p>E.g.</p>\n\n<pre><code>String containsQuote = \"\\\"\";\n</code></pre>\n\n<p>This will evaluate to a string containing just the quote character.</p>\n\n<p>Or in your particular case:</p>\n\n<pre><code>String argument = \"ffmpeg -i \\\"rtmp://127.0.0.1/vod/\"\n          + nextVideo.getFilename()\n          + \" start=\" + nextVideo.getStart()\n          + \" stop=\" + nextVideo.getStop() + \"\\\"\"\n          + \" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1863275,"reputation":1,"user_id":18591735,"display_name":"francogrex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697211357,"creation_date":1697207826,"answer_id":77288614,"question_id":3190190,"body_markdown":"I bet none of the suggestions worked for you because as you had specified, &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; has to have quotes around it and passing a parameter argument to exec with quotes such as &quot;\\\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\\\&quot;&quot; won&#39;t do the trick because exec will ignore them, even if inside a String[] array. I don&#39;t think there is a straightforward solution unfortunately. What I had done in my own code was try to pass arguments that exec can handle and on the receiving end the program side transform them so that they can be processed adequately. ","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>I bet none of the suggestions worked for you because as you had specified, &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; has to have quotes around it and passing a parameter argument to exec with quotes such as &quot;\\&quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000\\&quot;&quot; won't do the trick because exec will ignore them, even if inside a String[] array. I don't think there is a straightforward solution unfortunately. What I had done in my own code was try to pass arguments that exec can handle and on the receiving end the program side transform them so that they can be processed adequately.</p>\n"}],"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4589,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1697211357,"creation_date":1278449955,"question_id":3190190,"body_markdown":"I am trying to run ffmpeg via the exec call on linux. However I have to use quotes in the command (ffmpeg requires it). I&#39;ve been looking through the java doc for processbuilder and exec and questions on stackoverflow but I can&#39;t seem to find a solution.\r\n\r\nI need to run \r\n\r\n    ffmpeg -i &quot;rtmp://127.0.0.1/vod/sample start=1500 stop=24000&quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\r\n\r\nI need to insert quotes into the below argument string. Note simply adding single or double quotes preceded by a backslash doesn&#39;t work due to the nature of how processbuilder parses and runs the commands.\r\n\r\n    String argument = &quot;ffmpeg -i rtmp://127.0.0.1/vod/&quot;\r\n\t\t\t\t\t\t+ nextVideo.getFilename()\r\n\t\t\t\t\t\t+ &quot; start=&quot; + nextVideo.getStart()\r\n\t\t\t\t\t\t+ &quot; stop=&quot; + nextVideo.getStop()\r\n\t\t\t\t\t\t+ &quot; -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv&quot;;\r\n\r\n\r\nAny help would be greatly appreciated.","title":"Java Runtime.getRuntime().exec() with quotes","body":"<p>I am trying to run ffmpeg via the exec call on linux. However I have to use quotes in the command (ffmpeg requires it). I've been looking through the java doc for processbuilder and exec and questions on stackoverflow but I can't seem to find a solution.</p>\n\n<p>I need to run </p>\n\n<pre><code>ffmpeg -i \"rtmp://127.0.0.1/vod/sample start=1500 stop=24000\" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\n</code></pre>\n\n<p>I need to insert quotes into the below argument string. Note simply adding single or double quotes preceded by a backslash doesn't work due to the nature of how processbuilder parses and runs the commands.</p>\n\n<pre><code>String argument = \"ffmpeg -i rtmp://127.0.0.1/vod/\"\n                    + nextVideo.getFilename()\n                    + \" start=\" + nextVideo.getStart()\n                    + \" stop=\" + nextVideo.getStop()\n                    + \" -re -vcodec copy -acodec copy -f flv rtmp://127.0.0.1/live/qltv\";\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","ftp","ftps","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":15648991,"reputation":53,"user_id":11290716,"display_name":"Damien Tacheron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610053359,"creation_date":1610053359,"answer_id":65619896,"question_id":65600765,"body_markdown":"Thanks to Martin Prikryl&lt;br&gt;\r\nThere was two problems :\r\n\r\n 1. apache-commons-net doesn&#39;t manage ssl session reuse. There are some hacks documented (see comments)\r\n 2. don&#39;t call sendCommand(&quot;xxx&quot;) but use api verbs (eg. execProt, not sendCommand&quot;PROT&quot;, or enterLocalPassiveMode, not sendCommand(&quot;PASV&quot;)\r\n\r\n","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>Thanks to Martin Prikryl<br>\nThere was two problems :</p>\n<ol>\n<li>apache-commons-net doesn't manage ssl session reuse. There are some hacks documented (see comments)</li>\n<li>don't call sendCommand(&quot;xxx&quot;) but use api verbs (eg. execProt, not sendCommand&quot;PROT&quot;, or enterLocalPassiveMode, not sendCommand(&quot;PASV&quot;)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697211254,"creation_date":1610091943,"answer_id":65625144,"question_id":65600765,"body_markdown":"You have mismatch in data connection encryption by sending `PROT P` command to the server.\r\n\r\nAs you only send the command to the server using the [`FTP.sendCommand`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTP.html#sendCommand(java.lang.String,java.lang.String)), the command affects the server only. But not the client (Apache Common `FTPClient`). So when starting the data connection, the server waits for TLS/SSL exchange, but the client does not respond, as it is only expecting plain data. That&#39;s why the connection hangs.\r\n\r\nYou have to call [`FTPClient.execPROT(&quot;P&quot;)`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPROT(java.lang.String)). It internally calls `FTP.sendCommand(&quot;PROT&quot;, &quot;P&quot;)`, but it also *enables the encryption on the client side*.\r\n\r\n---\r\n\r\nSimilarly you should use `FTPSClient.execPBSZ` instead of sending raw `PBSZ 0`. Though currently, the [`FTPSClient.execPBSZ`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPBSZ(long)) does not do anything on top of calling `FTP.sendCommand(&quot;PBSZ&quot;, ...)` (apart from checking results).\r\n\r\n---\r\n\r\nWinSCP also reuses the session ID. If that is required by your server, see:  \r\nhttps://stackoverflow.com/q/32398754/850848","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>You have mismatch in data connection encryption by sending <code>PROT P</code> command to the server.</p>\n<p>As you only send the command to the server using the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTP.html#sendCommand(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTP.sendCommand</code></a>, the command affects the server only. But not the client (Apache Common <code>FTPClient</code>). So when starting the data connection, the server waits for TLS/SSL exchange, but the client does not respond, as it is only expecting plain data. That's why the connection hangs.</p>\n<p>You have to call <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPROT(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.execPROT(&quot;P&quot;)</code></a>. It internally calls <code>FTP.sendCommand(&quot;PROT&quot;, &quot;P&quot;)</code>, but it also <em>enables the encryption on the client side</em>.</p>\n<hr />\n<p>Similarly you should use <code>FTPSClient.execPBSZ</code> instead of sending raw <code>PBSZ 0</code>. Though currently, the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPSClient.html#execPBSZ(long)\" rel=\"nofollow noreferrer\"><code>FTPSClient.execPBSZ</code></a> does not do anything on top of calling <code>FTP.sendCommand(&quot;PBSZ&quot;, ...)</code> (apart from checking results).</p>\n<hr />\n<p>WinSCP also reuses the session ID. If that is required by your server, see:<br />\n<a href=\"https://stackoverflow.com/q/32398754/850848\">How to connect to FTPS server with data connection using same TLS session?</a></p>\n"}],"owner":{"account_id":15648991,"reputation":53,"user_id":11290716,"display_name":"Damien Tacheron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65625144,"answer_count":2,"score":2,"last_activity_date":1697211254,"creation_date":1609955069,"question_id":65600765,"body_markdown":"I try to connect with a FTP server with apache-commons-net-3.7.2 (implicit TLS, double factor authentication with client cert + login/password).\r\n\r\nI can authenticate myself, enter in passive mode, but the client doesn&#39;t succeed in connecting to the server in order to get data by the data socket.\r\n\r\nI can connect myself, on the same computer, with WinSCP (same settings), I have activated WinSCP logs to see protocol details, and I have adjusted my source code with the same options. I can verify that my protocol is OK with a ProtocolCommandListener.\r\n\r\nWinSCP logs are below\r\n\r\nConnect and browse root directory  \r\nChiffrement : Chiffrement SSL/TLS implicite  \r\nVersion min TLS/SSL : TLS 1.0  \r\nVersion max TLS/SSL : TLS 1.2  \r\n***R&#233;utiliser l&#39;ID de session TLS/SL pour le connexions de donn&#233;es activ&#233;***  \r\n(reuse ssl session id for data connexions activated)\r\n\r\nI use the same certificate as for my Java (PFX format with WinSCP, JCEKS for Java, which is Java 8)\r\n\r\n```none\r\n. 2021-01-07 15:36:03.031 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.032 WinSCP Version 5.17.9 (Compilation 10905) (OS 10.0.19041 - Windows 10 Enterprise)\r\n. 2021-01-07 15:36:03.032 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\r\n. 2021-01-07 15:36:03.032 Log level: Normal\r\n. 2021-01-07 15:36:03.032 Local account: FANLESS\\damie\r\n. 2021-01-07 15:36:03.032 Working directory: C:\\Users\\damie\\Desktop\r\n. 2021-01-07 15:36:03.032 Process ID: 22344\r\n. 2021-01-07 15:36:03.033 Command-line: &quot;C:\\Program Files (x86)\\WinSCP\\WinSCP.exe&quot; &quot;xxxxxx&quot; /Desktop /UploadIfAny /log=&quot;d:\\temp\\debugftp.log&quot; /loglevel=0\r\n. 2021-01-07 15:36:03.033 Time zone: Current: GMT+1, Standard: GMT+1 (Paris, Madrid), DST: GMT+2 (Paris, Madrid (heure d&#233;t&#233;)), DST Start: 28/03/2021, DST End: 31/10/2021\r\n. 2021-01-07 15:36:03.033 Login time: jeudi 7 janvier 2021 15:36:03\r\n. 2021-01-07 15:36:03.033 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.033 Session name: XXX@XXX (Site)\r\n. 2021-01-07 15:36:03.034 Host name: XXX (Port: 999)\r\n. 2021-01-07 15:36:03.034 User name: XXX (Password: Yes, Key file: No, Passphrase: No)\r\n. 2021-01-07 15:36:03.034 Transfer Protocol: FTP\r\n. 2021-01-07 15:36:03.034 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\r\n. 2021-01-07 15:36:03.034 Disable Nagle: No\r\n. 2021-01-07 15:36:03.034 Proxy: None\r\n. 2021-01-07 15:36:03.034 Send buffer: 262144\r\n. 2021-01-07 15:36:03.034 UTF: Auto\r\n. 2021-01-07 15:36:03.034 FTPS: Implicit TLS/SSL [Client certificate: Yes]\r\n. 2021-01-07 15:36:03.034 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\r\n. 2021-01-07 15:36:03.034 Session reuse: Yes\r\n. 2021-01-07 15:36:03.034 TLS/SSL versions: TLSv1.0-TLSv1.2\r\n. 2021-01-07 15:36:03.034 Local directory: D:\\Local\\Documents, Remote directory: /, Update: Yes, Cache: Yes\r\n. 2021-01-07 15:36:03.034 Cache directory changes: Yes, Permanent: Yes\r\n. 2021-01-07 15:36:03.034 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \r\n. 2021-01-07 15:36:03.034 Timezone offset: 0h 0m\r\n. 2021-01-07 15:36:03.034 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.381 Connexion &#224; XXX:999...\r\n. 2021-01-07 15:36:03.382 Connect&#233; &#224; XXX:999, n&#233;gociation de la connexion SSL...\r\n. 2021-01-07 15:36:03.382 Server asks for authentication with a client certificate.\r\n. 2021-01-07 15:36:03.382 Verifying certificate for &quot;RESEAU GDS&quot; with fingerprint 58:12:03:0e:b3:dd:cc:d9:c4:a1:ce:a0:4a:d8:83:77:46:0b:9e:4c and 20 failures\r\n. 2021-01-07 15:36:03.382 Certificate common name &quot;XXX&quot; matches hostname\r\n. 2021-01-07 15:36:03.463 Certificate verified against Windows certificate store\r\n. 2021-01-07 15:36:03.463 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n. 2021-01-07 15:36:03.479 Connexion SSL &#233;tablie. En attente du message de bienvenue...\r\n&lt; 2021-01-07 15:36:03.479 220 w2003-ftp X2 WS_FTP Server 7.7(73371983)\r\n&gt; 2021-01-07 15:36:03.479 USER XXX\r\n&lt; 2021-01-07 15:36:03.483 331 Enter password\r\n&gt; 2021-01-07 15:36:03.483 PASS ********************\r\n&lt; 2021-01-07 15:36:03.533 230-User logged in\r\n&lt; 2021-01-07 15:36:03.533  Bonjour Serveur FTP de ReseauGDS\r\n&lt; 2021-01-07 15:36:03.533 230 User logged in\r\n&gt; 2021-01-07 15:36:03.533 SYST\r\n&lt; 2021-01-07 15:36:03.548 215 UNIX\r\n&gt; 2021-01-07 15:36:03.548 FEAT\r\n&lt; 2021-01-07 15:36:03.567 211-Extensions supported\r\n&lt; 2021-01-07 15:36:03.567     SIZE\r\n&lt; 2021-01-07 15:36:03.567     XMD5\r\n&lt; 2021-01-07 15:36:03.567     XSHA1\r\n&lt; 2021-01-07 15:36:03.567     XSHA256\r\n&lt; 2021-01-07 15:36:03.567     XSHA512\r\n&lt; 2021-01-07 15:36:03.567     XQUOTA\r\n&lt; 2021-01-07 15:36:03.567     LANG EN, ES, FR, GE\r\n&lt; 2021-01-07 15:36:03.567     MDTM\r\n&lt; 2021-01-07 15:36:03.567     MLST size*;type*;perm*;create*;modify*;\r\n&lt; 2021-01-07 15:36:03.567     REST STREAM\r\n&lt; 2021-01-07 15:36:03.567     TVFS\r\n&lt; 2021-01-07 15:36:03.567     UTF8\r\n&lt; 2021-01-07 15:36:03.568     AUTH SSL;TLS-P;\r\n&lt; 2021-01-07 15:36:03.568     PBSZ\r\n&lt; 2021-01-07 15:36:03.568     PROT C;P;\r\n&lt; 2021-01-07 15:36:03.568 211 end\r\n&gt; 2021-01-07 15:36:03.568 OPTS UTF8 ON\r\n&lt; 2021-01-07 15:36:03.584 200 Command OPTS succeed\r\n&gt; 2021-01-07 15:36:03.584 PBSZ 0\r\n&lt; 2021-01-07 15:36:03.598 200 PBSZ=0\r\n&gt; 2021-01-07 15:36:03.598 PROT P\r\n&lt; 2021-01-07 15:36:03.615 200 PRIVATE data channel protection level set\r\n. 2021-01-07 15:36:03.664 Connect&#233;\r\n. 2021-01-07 15:36:03.664 --------------------------------------------------------------------------\r\n. 2021-01-07 15:36:03.664 Using FTP protocol.\r\n. 2021-01-07 15:36:03.664 Doing startup conversation with host.\r\n&gt; 2021-01-07 15:36:03.679 PWD\r\n&lt; 2021-01-07 15:36:03.694 257 &quot;/&quot; is current directory\r\n. 2021-01-07 15:36:03.694 Changing directory to &quot;/&quot;.\r\n&gt; 2021-01-07 15:36:03.695 CWD /\r\n&lt; 2021-01-07 15:36:03.723 250 Command CWD succeed\r\n. 2021-01-07 15:36:03.723 Getting current directory name.\r\n&gt; 2021-01-07 15:36:03.723 PWD\r\n&lt; 2021-01-07 15:36:03.740 257 &quot;/&quot; is current directory\r\n. 2021-01-07 15:36:03.787 Listage du r&#233;pertoire en cours...\r\n&gt; 2021-01-07 15:36:03.787 TYPE A\r\n&lt; 2021-01-07 15:36:03.802 200 Transfer mode set to ASCII\r\n&gt; 2021-01-07 15:36:03.802 PASV\r\n&lt; 2021-01-07 15:36:03.817 227 Entering Passive Mode (192,168,4,122,235,142).\r\n. 2021-01-07 15:36:03.817 Server sent passive reply with unroutable address 192.168.4.122, using host address instead.\r\n&gt; 2021-01-07 15:36:03.817 MLSD\r\n. 2021-01-07 15:36:03.817 Connexion &#224; 83.XXX.XXX.XXX:60302...\r\n&lt; 2021-01-07 15:36:03.845 150 Transferring directory\r\n. 2021-01-07 15:36:03.846 Session ID reused\r\n. 2021-01-07 15:36:03.847 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n. 2021-01-07 15:36:03.847 Connexion SSL &#233;tablie\r\n&lt; 2021-01-07 15:36:03.869 226 Transfer completed\r\n. 2021-01-07 15:36:03.869 Data connection closed\r\n. 2021-01-07 15:36:03.869 size=0;type=cdir;create=20200623122630;modify=20201020142437; .\r\n. 2021-01-07 15:36:03.869 size=0;type=pdir;create=20160308132406;modify=20200812101755; ..\r\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141336;modify=20201208104858; Mensuel\r\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141315;modify=20210107105026; Quotidien\r\n. 2021-01-07 15:36:03.869 Listage du r&#233;pertoire r&#233;ussi\r\n. 2021-01-07 15:36:03.870 ..;D;0;1899-12-30T01:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.870 Mensuel;D;0;2020-12-08T10:48:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.870 Quotidien;D;0;2021-01-07T10:50:26.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\r\n. 2021-01-07 15:36:03.893 Startup conversation with host finished.\r\n```\r\n\r\nJava code extract below. You can see that I use a ProtocolCommandListener in order to output the protocol details\r\n\r\n```java\r\n\tpublic static void main(String[] args) throws SocketException, IOException, GeneralSecurityException {\r\n\r\n\t\tString hostname = args[0];\r\n\t\tint port = Integer.parseInt(args[1]);\r\n\t\tString login = args[2];\r\n\t\tString pwd = args[3];\r\n\t\t\r\n\t\tSystem.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\t\t\r\n\r\n\t\t//CompliantFTPSClient client = new CompliantFTPSClient(&quot;TLS&quot;, true);\r\n\t\tFTPSClient client = new FTPSClient(&quot;TLS&quot;, true);\r\n\t\t\r\n\t\tFile clientCertStore = new File(\r\n\t\t\t\t&quot;path to store&quot;);\r\n\t\tKeyManager keyManager = KeyManagerUtils.createClientKeyManager(&quot;JCEKS&quot;, clientCertStore, &quot;&quot;,\r\n\t\t\t\t&quot;alias&quot;, &quot;&quot;);\r\n\t\tclient.setKeyManager(keyManager);\r\n\r\n\t\tclient.connect(hostname, port);\r\n\t\tint reply = client.getReplyCode();\r\n\r\n\t\tif (!FTPReply.isPositiveCompletion(reply)) {\r\n\t\t\tclient.disconnect();\r\n\t\t\tSystem.err.println(&quot;FTP server refused connection.&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t} else {\r\n\t\t\tif (client.login(login, pwd)) {\r\n\r\n\t\t\t\tclient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.err), true));\r\n\t\t\t\tclient.sendCommand(&quot;OPTS&quot;, &quot;UTF8 ON&quot;);\r\n\t\t\t\tclient.sendCommand(&quot;PBSZ&quot;, &quot;0&quot;);\r\n\t\t\t\tclient.sendCommand(&quot;PROT&quot;, &quot;P&quot;);\r\n\r\n\t\t\t\tclient.enterLocalPassiveMode();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Current directory : &quot;+client.printWorkingDirectory());\r\n\r\n\t\t\t\tSystem.out.println(client.listHelp());\r\n\r\n\t\t\t\tFTPFile[] remoteFiles = client.mlistDir();\r\n\r\n\t\t\t\treply = client.getReplyCode();\r\n\t\t\t\tSystem.out.println(&quot;fichiers : &quot;+reply);\r\n\t\t\t\tSystem.out.println(&quot;nombre : &quot;+remoteFiles.length);\r\n\r\n\t\t\t\tSystem.out.println(&quot;LOGOUT&quot;);\r\n\t\t\t\tclient.logout();\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;echec login&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nJava detailed logs below (system.err and System.out):\r\n\r\n```none\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Signature algorithm, ed25519, is not supported by the underlying providers\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Signature algorithm, ed448, is not supported by the underlying providers\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nINFOS: No available application protocols\r\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\r\nAVERTISSEMENT: Ignore impact of unsupported extension: renegotiation_info\r\nOPTS UTF8 ON\r\n200 Command OPTS succeed\r\nPBSZ 0\r\n200 PBSZ=0\r\nPROT P\r\n200 PRIVATE data channel protection level set\r\nPWD\r\n257 &quot;/&quot; is current directory\r\nCurrent directory : /\r\nHELP\r\n214-The following commands are implemented\r\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\r\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\r\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\r\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\r\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\r\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\r\n214 Help complete\r\n\r\n214-The following commands are implemented\r\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\r\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\r\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\r\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\r\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\r\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\r\n214 Help complete\r\nPASV\r\n227 Entering Passive Mode (192,168,4,122,236,242).\r\n[Replacing PASV mode reply address 192.168.4.122 with 83.206.162.234]\r\nMLSD\r\n150 Transferring directory\r\n```\r\n\r\nThe MLSD command never replies.\r\n\r\nPerhaps the problem is with ssl session id reuse? It seems that this is a known issue with apache-commons-net, cf https://www.javaer101.com/en/article/970693.html\r\n\r\nI asked the FTP admin if this is activated on his side. He said &quot;yes&quot;, this is a &quot;&quot;ipswitch ftp server&quot;. We planned a debug session on Monday the 11th.\r\n\r\nI also tried the workaround that Martin Prikryl indicated to me, subclassing `FTPSClient` and overloading the `prepareDataSocket` method, but it doesn&#39;t work. The socket passed to the method is not a SSLSocket, so nothings happens (first test).\r\n\r\nThe code:\r\n```java\r\npublic class CompliantFTPSClient extends FTPSClient {\r\n\r\n\tpublic CompliantFTPSClient(String protocol, boolean isImplicit) {\r\n\t\tsuper(protocol, isImplicit);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void _prepareDataSocket_(Socket socket) throws IOException {\r\n\t\tif (socket instanceof SSLSocket) {\r\n\t\t\t// Control socket is SSL\r\n\t\t\tfinal SSLSession session = ((SSLSocket) _socket_).getSession();\r\n\t\t\tif (session.isValid()) {\r\n\t\t\t\tfinal SSLSessionContext context = session.getSessionContext();\r\n\t\t\t\tcontext.setSessionCacheSize(0);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n\t\t\t\t\tsessionHostPortCache.setAccessible(true);\r\n\t\t\t\t\tfinal Object cache = sessionHostPortCache.get(context);\r\n\t\t\t\t\tfinal Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n\t\t\t\t\tmethod.setAccessible(true);\r\n\t\t\t\t\tmethod.invoke(cache, String\r\n\t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\r\n\t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n\t\t\t\t\tmethod.invoke(cache, String\r\n\t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\r\n\t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n\t\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\t\tSystem.err.println(&quot;WARN : No field sessionHostPortCache in SSLSessionContext&quot;);\r\n\t\t\t\t\te.printStackTrace(System.err);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.err.println(&quot;WARN : &quot; + e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhat I&#39;m trying to do: Just recursively browse directory on server, list files, and download some files, the kind of things that usually I can do in a few minutes in SFTP or SCP. But in FTPS with this API, this is just painful.\r\n\r\n\r\n","title":"Fail to get remote data (passive mode, TLS implicit, client certificate + login/pwd authentication)","body":"<p>I try to connect with a FTP server with apache-commons-net-3.7.2 (implicit TLS, double factor authentication with client cert + login/password).</p>\n<p>I can authenticate myself, enter in passive mode, but the client doesn't succeed in connecting to the server in order to get data by the data socket.</p>\n<p>I can connect myself, on the same computer, with WinSCP (same settings), I have activated WinSCP logs to see protocol details, and I have adjusted my source code with the same options. I can verify that my protocol is OK with a ProtocolCommandListener.</p>\n<p>WinSCP logs are below</p>\n<p>Connect and browse root directory<br />\nChiffrement : Chiffrement SSL/TLS implicite<br />\nVersion min TLS/SSL : TLS 1.0<br />\nVersion max TLS/SSL : TLS 1.2<br />\n<em><strong>Rutiliser l'ID de session TLS/SL pour le connexions de donnes activ</strong></em><br />\n(reuse ssl session id for data connexions activated)</p>\n<p>I use the same certificate as for my Java (PFX format with WinSCP, JCEKS for Java, which is Java 8)</p>\n<pre class=\"lang-none prettyprint-override\"><code>. 2021-01-07 15:36:03.031 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.032 WinSCP Version 5.17.9 (Compilation 10905) (OS 10.0.19041 - Windows 10 Enterprise)\n. 2021-01-07 15:36:03.032 Configuration: HKCU\\Software\\Martin Prikryl\\WinSCP 2\\\n. 2021-01-07 15:36:03.032 Log level: Normal\n. 2021-01-07 15:36:03.032 Local account: FANLESS\\damie\n. 2021-01-07 15:36:03.032 Working directory: C:\\Users\\damie\\Desktop\n. 2021-01-07 15:36:03.032 Process ID: 22344\n. 2021-01-07 15:36:03.033 Command-line: &quot;C:\\Program Files (x86)\\WinSCP\\WinSCP.exe&quot; &quot;xxxxxx&quot; /Desktop /UploadIfAny /log=&quot;d:\\temp\\debugftp.log&quot; /loglevel=0\n. 2021-01-07 15:36:03.033 Time zone: Current: GMT+1, Standard: GMT+1 (Paris, Madrid), DST: GMT+2 (Paris, Madrid (heure dt)), DST Start: 28/03/2021, DST End: 31/10/2021\n. 2021-01-07 15:36:03.033 Login time: jeudi 7 janvier 2021 15:36:03\n. 2021-01-07 15:36:03.033 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.033 Session name: XXX@XXX (Site)\n. 2021-01-07 15:36:03.034 Host name: XXX (Port: 999)\n. 2021-01-07 15:36:03.034 User name: XXX (Password: Yes, Key file: No, Passphrase: No)\n. 2021-01-07 15:36:03.034 Transfer Protocol: FTP\n. 2021-01-07 15:36:03.034 Ping type: Dummy, Ping interval: 30 sec; Timeout: 15 sec\n. 2021-01-07 15:36:03.034 Disable Nagle: No\n. 2021-01-07 15:36:03.034 Proxy: None\n. 2021-01-07 15:36:03.034 Send buffer: 262144\n. 2021-01-07 15:36:03.034 UTF: Auto\n. 2021-01-07 15:36:03.034 FTPS: Implicit TLS/SSL [Client certificate: Yes]\n. 2021-01-07 15:36:03.034 FTP: Passive: Yes [Force IP: Auto]; MLSD: Auto [List all: Auto]; HOST: Auto\n. 2021-01-07 15:36:03.034 Session reuse: Yes\n. 2021-01-07 15:36:03.034 TLS/SSL versions: TLSv1.0-TLSv1.2\n. 2021-01-07 15:36:03.034 Local directory: D:\\Local\\Documents, Remote directory: /, Update: Yes, Cache: Yes\n. 2021-01-07 15:36:03.034 Cache directory changes: Yes, Permanent: Yes\n. 2021-01-07 15:36:03.034 Recycle bin: Delete to: No, Overwritten to: No, Bin path: \n. 2021-01-07 15:36:03.034 Timezone offset: 0h 0m\n. 2021-01-07 15:36:03.034 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.381 Connexion  XXX:999...\n. 2021-01-07 15:36:03.382 Connect  XXX:999, ngociation de la connexion SSL...\n. 2021-01-07 15:36:03.382 Server asks for authentication with a client certificate.\n. 2021-01-07 15:36:03.382 Verifying certificate for &quot;RESEAU GDS&quot; with fingerprint 58:12:03:0e:b3:dd:cc:d9:c4:a1:ce:a0:4a:d8:83:77:46:0b:9e:4c and 20 failures\n. 2021-01-07 15:36:03.382 Certificate common name &quot;XXX&quot; matches hostname\n. 2021-01-07 15:36:03.463 Certificate verified against Windows certificate store\n. 2021-01-07 15:36:03.463 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\n. 2021-01-07 15:36:03.479 Connexion SSL tablie. En attente du message de bienvenue...\n&lt; 2021-01-07 15:36:03.479 220 w2003-ftp X2 WS_FTP Server 7.7(73371983)\n&gt; 2021-01-07 15:36:03.479 USER XXX\n&lt; 2021-01-07 15:36:03.483 331 Enter password\n&gt; 2021-01-07 15:36:03.483 PASS ********************\n&lt; 2021-01-07 15:36:03.533 230-User logged in\n&lt; 2021-01-07 15:36:03.533  Bonjour Serveur FTP de ReseauGDS\n&lt; 2021-01-07 15:36:03.533 230 User logged in\n&gt; 2021-01-07 15:36:03.533 SYST\n&lt; 2021-01-07 15:36:03.548 215 UNIX\n&gt; 2021-01-07 15:36:03.548 FEAT\n&lt; 2021-01-07 15:36:03.567 211-Extensions supported\n&lt; 2021-01-07 15:36:03.567     SIZE\n&lt; 2021-01-07 15:36:03.567     XMD5\n&lt; 2021-01-07 15:36:03.567     XSHA1\n&lt; 2021-01-07 15:36:03.567     XSHA256\n&lt; 2021-01-07 15:36:03.567     XSHA512\n&lt; 2021-01-07 15:36:03.567     XQUOTA\n&lt; 2021-01-07 15:36:03.567     LANG EN, ES, FR, GE\n&lt; 2021-01-07 15:36:03.567     MDTM\n&lt; 2021-01-07 15:36:03.567     MLST size*;type*;perm*;create*;modify*;\n&lt; 2021-01-07 15:36:03.567     REST STREAM\n&lt; 2021-01-07 15:36:03.567     TVFS\n&lt; 2021-01-07 15:36:03.567     UTF8\n&lt; 2021-01-07 15:36:03.568     AUTH SSL;TLS-P;\n&lt; 2021-01-07 15:36:03.568     PBSZ\n&lt; 2021-01-07 15:36:03.568     PROT C;P;\n&lt; 2021-01-07 15:36:03.568 211 end\n&gt; 2021-01-07 15:36:03.568 OPTS UTF8 ON\n&lt; 2021-01-07 15:36:03.584 200 Command OPTS succeed\n&gt; 2021-01-07 15:36:03.584 PBSZ 0\n&lt; 2021-01-07 15:36:03.598 200 PBSZ=0\n&gt; 2021-01-07 15:36:03.598 PROT P\n&lt; 2021-01-07 15:36:03.615 200 PRIVATE data channel protection level set\n. 2021-01-07 15:36:03.664 Connect\n. 2021-01-07 15:36:03.664 --------------------------------------------------------------------------\n. 2021-01-07 15:36:03.664 Using FTP protocol.\n. 2021-01-07 15:36:03.664 Doing startup conversation with host.\n&gt; 2021-01-07 15:36:03.679 PWD\n&lt; 2021-01-07 15:36:03.694 257 &quot;/&quot; is current directory\n. 2021-01-07 15:36:03.694 Changing directory to &quot;/&quot;.\n&gt; 2021-01-07 15:36:03.695 CWD /\n&lt; 2021-01-07 15:36:03.723 250 Command CWD succeed\n. 2021-01-07 15:36:03.723 Getting current directory name.\n&gt; 2021-01-07 15:36:03.723 PWD\n&lt; 2021-01-07 15:36:03.740 257 &quot;/&quot; is current directory\n. 2021-01-07 15:36:03.787 Listage du rpertoire en cours...\n&gt; 2021-01-07 15:36:03.787 TYPE A\n&lt; 2021-01-07 15:36:03.802 200 Transfer mode set to ASCII\n&gt; 2021-01-07 15:36:03.802 PASV\n&lt; 2021-01-07 15:36:03.817 227 Entering Passive Mode (192,168,4,122,235,142).\n. 2021-01-07 15:36:03.817 Server sent passive reply with unroutable address 192.168.4.122, using host address instead.\n&gt; 2021-01-07 15:36:03.817 MLSD\n. 2021-01-07 15:36:03.817 Connexion  83.XXX.XXX.XXX:60302...\n&lt; 2021-01-07 15:36:03.845 150 Transferring directory\n. 2021-01-07 15:36:03.846 Session ID reused\n. 2021-01-07 15:36:03.847 Using TLSv1.2, cipher TLSv1.2: AES256-GCM-SHA384, 2048 bit RSA, AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\n. 2021-01-07 15:36:03.847 Connexion SSL tablie\n&lt; 2021-01-07 15:36:03.869 226 Transfer completed\n. 2021-01-07 15:36:03.869 Data connection closed\n. 2021-01-07 15:36:03.869 size=0;type=cdir;create=20200623122630;modify=20201020142437; .\n. 2021-01-07 15:36:03.869 size=0;type=pdir;create=20160308132406;modify=20200812101755; ..\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141336;modify=20201208104858; Mensuel\n. 2021-01-07 15:36:03.869 size=0;type=dir;create=20201020141315;modify=20210107105026; Quotidien\n. 2021-01-07 15:36:03.869 Listage du rpertoire russi\n. 2021-01-07 15:36:03.870 ..;D;0;1899-12-30T01:00:00.000Z;0;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.870 Mensuel;D;0;2020-12-08T10:48:58.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.870 Quotidien;D;0;2021-01-07T10:50:26.000Z;3;&quot;&quot; [0];&quot;&quot; [0];---------;0\n. 2021-01-07 15:36:03.893 Startup conversation with host finished.\n</code></pre>\n<p>Java code extract below. You can see that I use a ProtocolCommandListener in order to output the protocol details</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws SocketException, IOException, GeneralSecurityException {\n\n        String hostname = args[0];\n        int port = Integer.parseInt(args[1]);\n        String login = args[2];\n        String pwd = args[3];\n        \n        System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);     \n\n        //CompliantFTPSClient client = new CompliantFTPSClient(&quot;TLS&quot;, true);\n        FTPSClient client = new FTPSClient(&quot;TLS&quot;, true);\n        \n        File clientCertStore = new File(\n                &quot;path to store&quot;);\n        KeyManager keyManager = KeyManagerUtils.createClientKeyManager(&quot;JCEKS&quot;, clientCertStore, &quot;&quot;,\n                &quot;alias&quot;, &quot;&quot;);\n        client.setKeyManager(keyManager);\n\n        client.connect(hostname, port);\n        int reply = client.getReplyCode();\n\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            client.disconnect();\n            System.err.println(&quot;FTP server refused connection.&quot;);\n            System.exit(1);\n        } else {\n            if (client.login(login, pwd)) {\n\n                client.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.err), true));\n                client.sendCommand(&quot;OPTS&quot;, &quot;UTF8 ON&quot;);\n                client.sendCommand(&quot;PBSZ&quot;, &quot;0&quot;);\n                client.sendCommand(&quot;PROT&quot;, &quot;P&quot;);\n\n                client.enterLocalPassiveMode();\n\n                System.out.println(&quot;Current directory : &quot;+client.printWorkingDirectory());\n\n                System.out.println(client.listHelp());\n\n                FTPFile[] remoteFiles = client.mlistDir();\n\n                reply = client.getReplyCode();\n                System.out.println(&quot;fichiers : &quot;+reply);\n                System.out.println(&quot;nombre : &quot;+remoteFiles.length);\n\n                System.out.println(&quot;LOGOUT&quot;);\n                client.logout();\n            } else {\n                System.out.println(&quot;echec login&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Java detailed logs below (system.err and System.out):</p>\n<pre class=\"lang-none prettyprint-override\"><code>janv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Signature algorithm, ed25519, is not supported by the underlying providers\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Signature algorithm, ed448, is not supported by the underlying providers\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nINFOS: No available application protocols\njanv. 07, 2021 8:31:50 PM sun.security.ssl.SSLLogger log\nAVERTISSEMENT: Ignore impact of unsupported extension: renegotiation_info\nOPTS UTF8 ON\n200 Command OPTS succeed\nPBSZ 0\n200 PBSZ=0\nPROT P\n200 PRIVATE data channel protection level set\nPWD\n257 &quot;/&quot; is current directory\nCurrent directory : /\nHELP\n214-The following commands are implemented\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\n214 Help complete\n\n214-The following commands are implemented\n    ABOR  ACCT  ALLO* APPE  CDUP  CWD   DELE  FEAT+ HELP\n    HOST+ LANG+ LIST  MDTM+ MLST+ MKD   MODE  NLST  NOOP\n    OPTS+ PASS  PASV  PORT  PWD   QUIT  REIN  REST  RETR\n    RMD   RNFR  RNTO  SITE  SIZE  SMNT  STAT  STOR  STOU\n    STRU* SYST  TYPE  USER  XCUP  XCRC  XCWD  XMD5  XMKD\n    XPWD  XRMD  XSIGN XSHA1 XSHA256 XSHA512 XQUOTA\n214 Help complete\nPASV\n227 Entering Passive Mode (192,168,4,122,236,242).\n[Replacing PASV mode reply address 192.168.4.122 with 83.206.162.234]\nMLSD\n150 Transferring directory\n</code></pre>\n<p>The MLSD command never replies.</p>\n<p>Perhaps the problem is with ssl session id reuse? It seems that this is a known issue with apache-commons-net, cf <a href=\"https://www.javaer101.com/en/article/970693.html\" rel=\"nofollow noreferrer\">https://www.javaer101.com/en/article/970693.html</a></p>\n<p>I asked the FTP admin if this is activated on his side. He said &quot;yes&quot;, this is a &quot;&quot;ipswitch ftp server&quot;. We planned a debug session on Monday the 11th.</p>\n<p>I also tried the workaround that Martin Prikryl indicated to me, subclassing <code>FTPSClient</code> and overloading the <code>prepareDataSocket</code> method, but it doesn't work. The socket passed to the method is not a SSLSocket, so nothings happens (first test).</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompliantFTPSClient extends FTPSClient {\n\n    public CompliantFTPSClient(String protocol, boolean isImplicit) {\n        super(protocol, isImplicit);\n    }\n\n    @Override\n    protected void _prepareDataSocket_(Socket socket) throws IOException {\n        if (socket instanceof SSLSocket) {\n            // Control socket is SSL\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\n            if (session.isValid()) {\n                final SSLSessionContext context = session.getSessionContext();\n                context.setSessionCacheSize(0);\n                try {\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                    sessionHostPortCache.setAccessible(true);\n                    final Object cache = sessionHostPortCache.get(context);\n                    final Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                    method.setAccessible(true);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                    method.invoke(cache, String\n                            .format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                } catch (NoSuchFieldException e) {\n                    System.err.println(&quot;WARN : No field sessionHostPortCache in SSLSessionContext&quot;);\n                    e.printStackTrace(System.err);\n                } catch (Exception e) {\n                    System.err.println(&quot;WARN : &quot; + e.getMessage());\n                }\n            } else {\n                System.err.println(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I'm trying to do: Just recursively browse directory on server, list files, and download some files, the kind of things that usually I can do in a few minutes in SFTP or SCP. But in FTPS with this API, this is just painful.</p>\n"},{"tags":["java","bamboo","bamboo-specs"],"answers":[{"tags":[],"owner":{"account_id":5111676,"reputation":1097,"user_id":4098062,"display_name":"Oleksiy Chystoprudov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697087944,"creation_date":1697087944,"answer_id":77277876,"question_id":77272781,"body_markdown":"You don&#39;t need to be Java expert to find correct snippet for Bamboo plan or deployment configuration. You can configure everything at UI and then use Export to Java Specs or Export to YAML Specs button at deployment project actions button to see how your configuration is translated into code. Then use generated snippet at your Java code","title":"Disable bamboo script task when env condition is met","body":"<p>You don't need to be Java expert to find correct snippet for Bamboo plan or deployment configuration. You can configure everything at UI and then use Export to Java Specs or Export to YAML Specs button at deployment project actions button to see how your configuration is translated into code. Then use generated snippet at your Java code</p>\n"},{"tags":[],"owner":{"account_id":10764585,"reputation":1333,"user_id":7920004,"accept_rate":29,"display_name":"marcin2x4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697210665,"creation_date":1697210665,"answer_id":77288958,"question_id":77272781,"body_markdown":"As mentioned by Oleksiy:\r\n\r\nhttps://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html\r\n\r\n\r\nGenerated code:\r\n\r\n    import com.atlassian.bamboo.specs.api.builders.condition.AnyTaskCondition;\r\n    import com.atlassian.bamboo.specs.api.builders.AtlassianModule;\r\n    import com.atlassian.bamboo.specs.util.MapBuilder;\r\n    \r\n    //add below method to ScriptTask()\r\n    .conditions(new AnyTaskCondition(new AtlassianModule(&quot;com.atlassian.bamboo.plugins.bamboo-conditional-tasks:variableCondition&quot;))\r\n    \t\t\t\t\t\t\t.configuration(new MapBuilder()\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;variable&quot;, &quot;${forge.environment.key}&quot;)\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;operation&quot;, &quot;not_equals&quot;)\r\n    \t\t\t\t\t\t\t\t\t.put(&quot;value&quot;, &quot;test&quot;)\r\n    \t\t\t\t\t\t\t\t\t.build()))","title":"Disable bamboo script task when env condition is met","body":"<p>As mentioned by Oleksiy:</p>\n<p><a href=\"https://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/bamboo/exporting-existing-plan-configurations-to-bamboo-specs-894743917.html</a></p>\n<p>Generated code:</p>\n<pre><code>import com.atlassian.bamboo.specs.api.builders.condition.AnyTaskCondition;\nimport com.atlassian.bamboo.specs.api.builders.AtlassianModule;\nimport com.atlassian.bamboo.specs.util.MapBuilder;\n\n//add below method to ScriptTask()\n.conditions(new AnyTaskCondition(new AtlassianModule(&quot;com.atlassian.bamboo.plugins.bamboo-conditional-tasks:variableCondition&quot;))\n                            .configuration(new MapBuilder()\n                                    .put(&quot;variable&quot;, &quot;${forge.environment.key}&quot;)\n                                    .put(&quot;operation&quot;, &quot;not_equals&quot;)\n                                    .put(&quot;value&quot;, &quot;test&quot;)\n                                    .build()))\n</code></pre>\n"}],"owner":{"account_id":10764585,"reputation":1333,"user_id":7920004,"accept_rate":29,"display_name":"marcin2x4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277876,"answer_count":2,"score":0,"last_activity_date":1697210665,"creation_date":1697024944,"question_id":77272781,"body_markdown":"I want one of deployment tasks to be `enabled(false)` only for `${bamboo.forge.environment.key} = test` environment in my bamboo specs config or entire step be skipped if condition is met.\r\n\r\nUnfortunately, I&#39;m not Java experienced thus any help will be appreciated.\r\n\r\nFrom [documentation][1] it seems that `ScriptTask` inherits `conditions` method from `Task` but from there I got stuck...\r\n\r\n        private static ScriptTask runStepFunctions() {\r\n        return new ScriptTask()\r\n                .description(&quot;Run Step Function&quot;)\r\n                .inlineBody(\r\n                    &quot;set -x \\n&quot; +\r\n                    ....\r\n                )\r\n                .environmentVariables(&quot;...&quot;)\r\n                .enabled(false)\r\n                .conditions();\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nIn the end, task should look as below: \r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://docs.atlassian.com/bamboo-specs/6.6.1/com/atlassian/bamboo/specs/builders/task/ScriptTask.html\r\n  [2]: https://i.stack.imgur.com/5blGp.png\r\n  [3]: https://i.stack.imgur.com/zjw9D.png\r\n  [4]: https://i.stack.imgur.com/Sh8xV.png","title":"Disable bamboo script task when env condition is met","body":"<p>I want one of deployment tasks to be <code>enabled(false)</code> only for <code>${bamboo.forge.environment.key} = test</code> environment in my bamboo specs config or entire step be skipped if condition is met.</p>\n<p>Unfortunately, I'm not Java experienced thus any help will be appreciated.</p>\n<p>From <a href=\"https://docs.atlassian.com/bamboo-specs/6.6.1/com/atlassian/bamboo/specs/builders/task/ScriptTask.html\" rel=\"nofollow noreferrer\">documentation</a> it seems that <code>ScriptTask</code> inherits <code>conditions</code> method from <code>Task</code> but from there I got stuck...</p>\n<pre><code>    private static ScriptTask runStepFunctions() {\n    return new ScriptTask()\n            .description(&quot;Run Step Function&quot;)\n            .inlineBody(\n                &quot;set -x \\n&quot; +\n                ....\n            )\n            .environmentVariables(&quot;...&quot;)\n            .enabled(false)\n            .conditions();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5blGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5blGp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/zjw9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zjw9D.png\" alt=\"enter image description here\" /></a></p>\n<p>In the end, task should look as below:\n<a href=\"https://i.stack.imgur.com/Sh8xV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sh8xV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","weblogic12c","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":0,"creation_date":1697210315,"post_id":77288601,"comment_id":136255461,"body_markdown":"do you have a complete stacktrace to share ?","body":"do you have a complete stacktrace to share ?"},{"owner":{"account_id":29664568,"reputation":1,"user_id":22735425,"display_name":"Kiran Y"},"score":0,"creation_date":1697479347,"post_id":77288601,"comment_id":136282395,"body_markdown":"Other than the error i posted , i see the below error in the admi logs on the server. \n\n&lt;admin&gt; &lt;[ACTIVE] ExecuteThread: &#39;23&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;wlsadmin&gt; &lt;&gt; &lt;&gt; &lt;1697046804056&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;","body":"Other than the error i posted , i see the below error in the admi logs on the server.   &lt;admin&gt; &lt;[ACTIVE] ExecuteThread: &#39;23&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;wlsadmin&gt; &lt;&gt; &lt;&gt; &lt;1697046804056&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;"}],"owner":{"account_id":29664568,"reputation":1,"user_id":22735425,"display_name":"Kiran Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697210268,"creation_date":1697207774,"question_id":77288601,"body_markdown":"I am trying to deploy the spring boot 2.x application on weblogic 12.1.3. But the deployment is failing with the below error \r\n\r\n    Unable to access the selected application.\r\n    java.io.IOException\r\n    weblogic.utils.compiler.ToolFailureException\r\n\r\nI have found the root cause of this issue, this error is coming when i include the below springdoc dependency \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI tried deploying the application after removing this dependency and its working. \r\n\r\nHere question is, with out this dependency , i cant get the /swagger-ui/index.html link of the api document. \r\n\r\n\r\nI have even tried using the latest version of this dependency \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSame issue even with this. Any one has faced similar issue, if so can some one recommend a solution for this. ","title":"Spring boot 2.x deployment issue on weblogic12.1.3 with springdoc-openapi-ui v1.70 jar,failing with error weblogic.utils.compiler.ToolFailureException","body":"<p>I am trying to deploy the spring boot 2.x application on weblogic 12.1.3. But the deployment is failing with the below error</p>\n<pre><code>Unable to access the selected application.\njava.io.IOException\nweblogic.utils.compiler.ToolFailureException\n</code></pre>\n<p>I have found the root cause of this issue, this error is coming when i include the below springdoc dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried deploying the application after removing this dependency and its working.</p>\n<p>Here question is, with out this dependency , i cant get the /swagger-ui/index.html link of the api document.</p>\n<p>I have even tried using the latest version of this dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Same issue even with this. Any one has faced similar issue, if so can some one recommend a solution for this.</p>\n"},{"tags":["java","android","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697209916,"creation_date":1697209916,"answer_id":77288865,"question_id":77288401,"body_markdown":"You got two problems. \r\nWhen creating the BarEntry object, you must initialise the X value from 0, not 1. Also, you are making a logic error when adding a space to the barLabels variable, you can add the space as follows.\r\n\r\n\r\n```\r\ndataVals.add(new BarEntry(0, 3)); // Bar 1\r\ndataVals.add(new BarEntry(1, 4)); // Bar 2\r\ndataVals.add(new BarEntry(2, 5)); // Bar 3\r\ndataVals.add(new BarEntry(3, 3)); // Bar 4\r\n//add more bar if you want\r\n\r\n// ...\r\n\r\n       // Add labels for the bars (change your add space character method)\r\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; dataVals.size(); i++) {\r\n            //ADD SPACE HERE\r\n            barLabels.add(&quot;Bar &quot; + (i + 1));\r\n        }\r\n\r\n        // Convert the list to an array\r\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\r\n\r\n// ...\r\n\r\n```\r\n\r\nTo centre the labels exactly according to the bars, you can add the following method to your code: (You added this for yAxis but not for xAxis.)\r\n\r\n```\r\nxAxis.setGranularity(1f);\r\n```\r\n\r\nIt worked when I tried it, I hope it works for you.\r\n\r\n[![barchart view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePsZc.png","title":"How to correctly add labels on a barchart in MPAndroidChart","body":"<p>You got two problems.\nWhen creating the BarEntry object, you must initialise the X value from 0, not 1. Also, you are making a logic error when adding a space to the barLabels variable, you can add the space as follows.</p>\n<pre><code>dataVals.add(new BarEntry(0, 3)); // Bar 1\ndataVals.add(new BarEntry(1, 4)); // Bar 2\ndataVals.add(new BarEntry(2, 5)); // Bar 3\ndataVals.add(new BarEntry(3, 3)); // Bar 4\n//add more bar if you want\n\n// ...\n\n       // Add labels for the bars (change your add space character method)\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; dataVals.size(); i++) {\n            //ADD SPACE HERE\n            barLabels.add(&quot;Bar &quot; + (i + 1));\n        }\n\n        // Convert the list to an array\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\n\n// ...\n\n</code></pre>\n<p>To centre the labels exactly according to the bars, you can add the following method to your code: (You added this for yAxis but not for xAxis.)</p>\n<pre><code>xAxis.setGranularity(1f);\n</code></pre>\n<p>It worked when I tried it, I hope it works for you.</p>\n<p><a href=\"https://i.stack.imgur.com/ePsZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePsZc.png\" alt=\"barchart view\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77288865,"answer_count":1,"score":2,"last_activity_date":1697209916,"creation_date":1697205827,"question_id":77288401,"body_markdown":"I am using MPAndroidChart and I want to create a barchart. Actually this works fine. But the problem are the labels on the different bars. Somehow they just don&#39;t match. Only if I have exactly 3 bars, the labels are being displayed correctly. Here you can see a picture:\r\n[![enter image description here][1]][1]\r\n\r\nHere is the Java Android code:\r\n\r\n    import android.graphics.Color;\r\n    import android.graphics.Typeface;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import com.example.drinkserver.databinding.FragmentTestBinding;\r\n    import com.github.mikephil.charting.components.LimitLine;\r\n    import com.github.mikephil.charting.components.XAxis;\r\n    import com.github.mikephil.charting.components.YAxis;\r\n    import com.github.mikephil.charting.data.BarData;\r\n    import com.github.mikephil.charting.data.BarDataSet;\r\n    import com.github.mikephil.charting.data.BarEntry;\r\n    import com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class FR_Test extends Fragment {\r\n    \r\n    \r\n        public FR_Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n    \r\n        }\r\n        private FragmentTestBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n            /*\r\n            Create barcharts with MP Android Chart\r\n             */\r\n    \r\n            //Add data points\r\n            ArrayList&lt;BarEntry&gt; dataVals = new ArrayList&lt;&gt;();\r\n            dataVals.add(new BarEntry(1, 3));\r\n            //dataVals.add(new BarEntry(2, 4));\r\n            //dataVals.add(new BarEntry(3, 5));\r\n            //dataVals.add(new BarEntry(4, 3));\r\n    \r\n    \r\n            // Create a BarDataSet with the data\r\n            BarDataSet barDataSet = new BarDataSet(dataVals, &quot;&quot;);\r\n            barDataSet.setDrawValues(true); \r\n            barDataSet.setValueTextColor(Color.BLACK); \r\n    \r\n            // Customize the appearance of the bars\r\n            barDataSet.setColors(Color.rgb(0, 155, 0)); // Set bar color\r\n    \r\n            // Create BarData and add your BarDataSet to it\r\n            BarData barData = new BarData(barDataSet);\r\n            barData.setBarWidth(0.6f);\r\n    \r\n            // Get the XAxis\r\n            XAxis xAxis = binding.barChartRatings.getXAxis();\r\n            xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\r\n            xAxis.setDrawAxisLine(true); \r\n            xAxis.setDrawGridLines(false); \r\n            xAxis.setTextSize(10f); \r\n            xAxis.setTypeface(Typeface.DEFAULT_BOLD); \r\n            \r\n            // Add labels for the bars\r\n            List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\r\n            barLabels.add(&quot;&quot;);\r\n            for (int i = 0; i &lt; dataVals.size(); i++) {\r\n                barLabels.add(&quot;Bar &quot; + (i + 1));\r\n            }\r\n    \r\n            // Convert the list to an array\r\n            final String[] barLabelsA = barLabels.toArray(new String[0]);\r\n    \r\n            // Set the custom labels for the X-axis\r\n            xAxis.setValueFormatter(new IndexAxisValueFormatter(barLabelsA));\r\n    \r\n    \r\n            // Get the YAxis (left axis)\r\n            YAxis leftYAxis = binding.barChartRatings.getAxisLeft();\r\n            leftYAxis.setDrawLabels(true); \r\n            leftYAxis.setDrawGridLines(true); \r\n            leftYAxis.setAxisMinimum(0f); \r\n            leftYAxis.setAxisMaximum(5.5f); \r\n            leftYAxis.setGranularity(1f);\r\n            // Set the number of labels without forcing them to be integers\r\n            leftYAxis.setLabelCount(6, false); \r\n            leftYAxis.setTextSize(14f);\r\n    \r\n            // Create a LimitLine for the upper rim\r\n            LimitLine upperRim = new LimitLine(5.5f, &quot;&quot;);\r\n            upperRim.setLineColor(Color.BLACK);\r\n            upperRim.setLineWidth(1f);\r\n    \r\n            // Add the upper rim to the left YAxis\r\n            leftYAxis.addLimitLine(upperRim);\r\n    \r\n            // Get the YAxis and hide it\r\n            YAxis rightYAxis = binding.barChartRatings.getAxisRight();\r\n            rightYAxis.setDrawLabels(false);\r\n            rightYAxis.setDrawGridLines(false);\r\n    \r\n            // Add a continuous upper rim to the plot\r\n            binding.barChartRatings.getAxisRight().setDrawTopYLabelEntry(true);\r\n            binding.barChartRatings.getAxisLeft().setDrawTopYLabelEntry(true);\r\n    \r\n            // Remove the legend\r\n            binding.barChartRatings.getLegend().setEnabled(false);\r\n    \r\n            // Hide the description label\r\n            binding.barChartRatings.getDescription().setEnabled(false);\r\n    \r\n            // Set data for the bar chart\r\n            binding.barChartRatings.setData(barData);\r\n    \r\n    \r\n            // Invalidate the chart to refresh its appearance\r\n            binding.barChartRatings.invalidate();\r\n    \r\n    \r\n            return binding.getRoot();\r\n        }\r\n    }\r\n\r\nand here the corresponding XML layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:background=&quot;@color/colorGrey&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n        &lt;com.github.mikephil.charting.charts.BarChart\r\n            android:id=&quot;@+id/barChartRatings&quot;\r\n            android:layout_width=&quot;220dp&quot;\r\n            android:layout_height=&quot;220dp&quot;\r\n    \r\n    \r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThe `List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();` always has the correct number of bar strings. So when only having one datapoint, it has an empty String &quot;&quot; (such that the Bar labels are not being displayed at position 0) and &quot;Bar1&quot;. So it is quite strange, why &quot;Bar1&quot; is repeated 3 times. What makes the problem even more strange, is that when having a different numbeer of bars, the behaviour changes altough `barLabels ` always has the correct number of Strings. Do you know what is causing this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L4fSx.png","title":"How to correctly add labels on a barchart in MPAndroidChart","body":"<p>I am using MPAndroidChart and I want to create a barchart. Actually this works fine. But the problem are the labels on the different bars. Somehow they just don't match. Only if I have exactly 3 bars, the labels are being displayed correctly. Here you can see a picture:\n<a href=\"https://i.stack.imgur.com/L4fSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4fSx.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Java Android code:</p>\n<pre><code>import android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\n\nimport com.example.drinkserver.databinding.FragmentTestBinding;\nimport com.github.mikephil.charting.components.LimitLine;\nimport com.github.mikephil.charting.components.XAxis;\nimport com.github.mikephil.charting.components.YAxis;\nimport com.github.mikephil.charting.data.BarData;\nimport com.github.mikephil.charting.data.BarDataSet;\nimport com.github.mikephil.charting.data.BarEntry;\nimport com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class FR_Test extends Fragment {\n\n\n    public FR_Test() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n    }\n    private FragmentTestBinding binding;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n        /*\n        Create barcharts with MP Android Chart\n         */\n\n        //Add data points\n        ArrayList&lt;BarEntry&gt; dataVals = new ArrayList&lt;&gt;();\n        dataVals.add(new BarEntry(1, 3));\n        //dataVals.add(new BarEntry(2, 4));\n        //dataVals.add(new BarEntry(3, 5));\n        //dataVals.add(new BarEntry(4, 3));\n\n\n        // Create a BarDataSet with the data\n        BarDataSet barDataSet = new BarDataSet(dataVals, &quot;&quot;);\n        barDataSet.setDrawValues(true); \n        barDataSet.setValueTextColor(Color.BLACK); \n\n        // Customize the appearance of the bars\n        barDataSet.setColors(Color.rgb(0, 155, 0)); // Set bar color\n\n        // Create BarData and add your BarDataSet to it\n        BarData barData = new BarData(barDataSet);\n        barData.setBarWidth(0.6f);\n\n        // Get the XAxis\n        XAxis xAxis = binding.barChartRatings.getXAxis();\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\n        xAxis.setDrawAxisLine(true); \n        xAxis.setDrawGridLines(false); \n        xAxis.setTextSize(10f); \n        xAxis.setTypeface(Typeface.DEFAULT_BOLD); \n        \n        // Add labels for the bars\n        List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();\n        barLabels.add(&quot;&quot;);\n        for (int i = 0; i &lt; dataVals.size(); i++) {\n            barLabels.add(&quot;Bar &quot; + (i + 1));\n        }\n\n        // Convert the list to an array\n        final String[] barLabelsA = barLabels.toArray(new String[0]);\n\n        // Set the custom labels for the X-axis\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(barLabelsA));\n\n\n        // Get the YAxis (left axis)\n        YAxis leftYAxis = binding.barChartRatings.getAxisLeft();\n        leftYAxis.setDrawLabels(true); \n        leftYAxis.setDrawGridLines(true); \n        leftYAxis.setAxisMinimum(0f); \n        leftYAxis.setAxisMaximum(5.5f); \n        leftYAxis.setGranularity(1f);\n        // Set the number of labels without forcing them to be integers\n        leftYAxis.setLabelCount(6, false); \n        leftYAxis.setTextSize(14f);\n\n        // Create a LimitLine for the upper rim\n        LimitLine upperRim = new LimitLine(5.5f, &quot;&quot;);\n        upperRim.setLineColor(Color.BLACK);\n        upperRim.setLineWidth(1f);\n\n        // Add the upper rim to the left YAxis\n        leftYAxis.addLimitLine(upperRim);\n\n        // Get the YAxis and hide it\n        YAxis rightYAxis = binding.barChartRatings.getAxisRight();\n        rightYAxis.setDrawLabels(false);\n        rightYAxis.setDrawGridLines(false);\n\n        // Add a continuous upper rim to the plot\n        binding.barChartRatings.getAxisRight().setDrawTopYLabelEntry(true);\n        binding.barChartRatings.getAxisLeft().setDrawTopYLabelEntry(true);\n\n        // Remove the legend\n        binding.barChartRatings.getLegend().setEnabled(false);\n\n        // Hide the description label\n        binding.barChartRatings.getDescription().setEnabled(false);\n\n        // Set data for the bar chart\n        binding.barChartRatings.setData(barData);\n\n\n        // Invalidate the chart to refresh its appearance\n        binding.barChartRatings.invalidate();\n\n\n        return binding.getRoot();\n    }\n}\n</code></pre>\n<p>and here the corresponding XML layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:background=&quot;@color/colorGrey&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n\n    &lt;com.github.mikephil.charting.charts.BarChart\n        android:id=&quot;@+id/barChartRatings&quot;\n        android:layout_width=&quot;220dp&quot;\n        android:layout_height=&quot;220dp&quot;\n\n\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The <code>List&lt;String&gt; barLabels = new ArrayList&lt;&gt;();</code> always has the correct number of bar strings. So when only having one datapoint, it has an empty String &quot;&quot; (such that the Bar labels are not being displayed at position 0) and &quot;Bar1&quot;. So it is quite strange, why &quot;Bar1&quot; is repeated 3 times. What makes the problem even more strange, is that when having a different numbeer of bars, the behaviour changes altough <code>barLabels </code> always has the correct number of Strings. Do you know what is causing this problem?</p>\n"},{"tags":["java","spring","spring-boot","maven","annotations"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676822003,"creation_date":1676822003,"answer_id":75501377,"question_id":75500453,"body_markdown":"`javax.validation.constraints.Email` annotation depends on Jakarta Bean Validation providers for validation. \r\n\r\nYou could try to add `spring-boot-starter-validation` dependency to your pom.xml. This dependency contains all the required dependencies (including jakarta and hibernate-validator which is a compliant validator for this)\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Not able to resolve javax.validation.constraints.Email; package","body":"<p><code>javax.validation.constraints.Email</code> annotation depends on Jakarta Bean Validation providers for validation.</p>\n<p>You could try to add <code>spring-boot-starter-validation</code> dependency to your pom.xml. This dependency contains all the required dependencies (including jakarta and hibernate-validator which is a compliant validator for this)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19504866,"reputation":31,"user_id":14270126,"display_name":"Abhinav Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697209864,"creation_date":1676813273,"question_id":75500453,"body_markdown":"Belo is my whole Entity class code.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/to9M0.png)](https://i.stack.imgur.com/to9M0.png)\r\n\r\n```\r\npackage com.email.esp.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Transient;\r\nimport javax.persistence.UniqueConstraint;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;email&quot; }) })\r\npublic class User {\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long userId;\r\n\r\n\t@Column(nullable = false, length = 30)\r\n\tprivate String name;\r\n\r\n\t@Email(message = &quot;Email is not valid&quot;, regexp = &quot;(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;)\r\n\t@NotEmpty(message = &quot;Email cannot be empty&quot;)\r\n\tprivate String email;\r\n\r\n\t@Transient // meaning it will not be saved in DB\r\n\t//@Size(min = 5, max = 15, message = &quot;{register.password.size}&quot;)\r\n\tprivate String plainPassword; // unencrytped\r\n\r\n\t@Transient\r\n\tprivate String repeatPassword;\r\n\r\n\t@Column(nullable = true)\r\n\tprivate String phone;\r\n\r\n\t@Column(nullable = false, length = 500)\r\n\tprivate String about;\r\n\r\n\t@Column(nullable = true)\r\n\tprivate String profilePic;\r\n\t\r\n\t@Column(name=&quot;enabled&quot;)\r\n    private Boolean enabled = true;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;m trying to use the spring Email core package in my spring boot project. I have added the dependency in my pom file but for some weird reason the import statement for import javax.validation.constraints.Email; is not getting resolved. Any idea why is this happening?? Here is the dependency , i have ...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.email&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;esp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;esp&lt;/name&gt;\r\n\t&lt;description&gt;Email Service Provider Using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"Not able to resolve javax.validation.constraints.Email; package","body":"<p>Belo is my whole Entity class code.</p>\n<p><a href=\"https://i.stack.imgur.com/to9M0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/to9M0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.email.esp.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport javax.persistence.UniqueConstraint;\n\n@Entity\n@Table(name = &quot;users&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;email&quot; }) })\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long userId;\n\n    @Column(nullable = false, length = 30)\n    private String name;\n\n    @Email(message = &quot;Email is not valid&quot;, regexp = &quot;(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;)\n    @NotEmpty(message = &quot;Email cannot be empty&quot;)\n    private String email;\n\n    @Transient // meaning it will not be saved in DB\n    //@Size(min = 5, max = 15, message = &quot;{register.password.size}&quot;)\n    private String plainPassword; // unencrytped\n\n    @Transient\n    private String repeatPassword;\n\n    @Column(nullable = true)\n    private String phone;\n\n    @Column(nullable = false, length = 500)\n    private String about;\n\n    @Column(nullable = true)\n    private String profilePic;\n    \n    @Column(name=&quot;enabled&quot;)\n    private Boolean enabled = true;\n\n}\n\n</code></pre>\n<p>I'm trying to use the spring Email core package in my spring boot project. I have added the dependency in my pom file but for some weird reason the import statement for import javax.validation.constraints.Email; is not getting resolved. Any idea why is this happening?? Here is the dependency , i have ...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.email&lt;/groupId&gt;\n    &lt;artifactId&gt;esp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;esp&lt;/name&gt;\n    &lt;description&gt;Email Service Provider Using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n          \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","multi-project","hotswap"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1695724618,"post_id":77171895,"comment_id":136059743,"body_markdown":"Does the issue persist if you use &quot;Reload single file&quot; option described here: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes","body":"Does the issue persist if you use &quot;Reload single file&quot; option described here: <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":9581453,"reputation":33,"user_id":7115822,"display_name":"Darkmessage"},"score":0,"creation_date":1695730143,"post_id":77171895,"comment_id":136060868,"body_markdown":"@romanv-jb Well, it kinda works. It executes `:classes` for whichever module your file is in. So if it&#39;s a file in my GUICountry, it will reload everything needed. But if I make adjustments to a file in my GUICountry and to a file in CoreModuleB and use &quot;Compile and Reload File&quot; in the CoreModuleB, then the changes to my GUICountry are not reloaded (because the GUI depends on the Core and not vice-versa).\nSo it works if you only change 1 file and kinda works if you change multiple files.\nHaving the &quot;Reload Changed Classes&quot; work as expected would be better though.","body":"@romanv-jb Well, it kinda works. It executes <code>:classes</code> for whichever module your file is in. So if it&#39;s a file in my GUICountry, it will reload everything needed. But if I make adjustments to a file in my GUICountry and to a file in CoreModuleB and use &quot;Compile and Reload File&quot; in the CoreModuleB, then the changes to my GUICountry are not reloaded (because the GUI depends on the Core and not vice-versa). So it works if you only change 1 file and kinda works if you change multiple files. Having the &quot;Reload Changed Classes&quot; work as expected would be better though."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697209750,"creation_date":1697209750,"answer_id":77288846,"question_id":77171895,"body_markdown":"Seems to be a known issue [IDEA-304595][1].\r\n\r\nMake sure to upvote it to raise its&#39; priority for the developers!\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-304595/Reload-Changed-Classes-has-compilation-scope-of-whole-project-instead-of-only-required-modules","title":"IntelliJ Gradle HotSwap building unrelated modules","body":"<p>Seems to be a known issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-304595/Reload-Changed-Classes-has-compilation-scope-of-whole-project-instead-of-only-required-modules\" rel=\"nofollow noreferrer\">IDEA-304595</a>.</p>\n<p>Make sure to upvote it to raise its' priority for the developers!</p>\n"}],"owner":{"account_id":9581453,"reputation":33,"user_id":7115822,"display_name":"Darkmessage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288846,"answer_count":1,"score":0,"last_activity_date":1697209750,"creation_date":1695637949,"question_id":77171895,"body_markdown":"I am having trouble getting Gradle HotSwap to work reasonably with IntelliJ IDEA.\r\n\r\nWe have a Java setup which consists of some basic modules, then some country variants that use these basic modules and then even country variants of the GUI.\r\n\r\nThe structure looks like this:\r\n\r\n```\r\nRoot\r\n+--- buildSrc\r\n|    \\--- [Some custom precompiled groovy script plugins]\r\n+--- CoreModules\r\n|    \\--- [Some modules]\r\n+--- CountryVariants\r\n|    \\--- [A module for each country variant]\r\n+--- GuiCountryVariants\r\n|    \\--- [A module for each special country GUI variant] \r\n\\--- build.gradle (to be able to run tests for all modules at once)\r\n```\r\n\r\nWhich means, we always build and run a specific country.\r\nFor example, here are the dependencies for the GUI specific runnable CH country variant:\r\n\r\n```\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n+--- project :CoreModuleG\r\n|    \\--- project :GUICore\r\n|         +--- project :CoreModuleB\r\n|         |    \\--- project :CoreModuleC\r\n|         |         \\--- project :CoreModuleP\r\n|         |              \\--- project :CoreModuleE\r\n|         \\--- project :GUICoreModuleG\r\n+--- project :CountryVariantCH\r\n|    \\--- project :CoreModuleB (*)\r\n\\--- project :GUICore (*)\r\n```\r\n\r\nAnd by contrast, country variant US has:\r\n\r\n```\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n+--- project :CoreModuleB\r\n|    \\--- project :CoreModuleC\r\n|         \\--- project :CoreModuleP\r\n|              \\--- project :CoreModuleE\r\n\\--- project :CoreModuleG\r\n     \\--- project :GUICore\r\n          +--- project :CoreModuleB (*)\r\n          \\--- project :GUICoreModuleG\r\n```\r\n\r\nNow, if I start my country variant for CH with a Gradle JavaExec task, it will of course only compile all modules needed for CH, and it will for example **not** compile country variant US, as expected.\r\nThe following is a (shortened) excerpt of the startup:\r\n\r\n```\r\nGradle Daemon started in 2 s 367 ms\r\n&gt; Task :buildSrc:jar UP-TO-DATE\r\n&gt; Task :GuiVariantCH:processResources UP-TO-DATE\r\n&gt; Task :CoreModuleE:jar SKIPPED\r\n&gt; Task :GUICoreModuleG:jar\r\n&gt; Task :CoreModuleP:jar\r\n&gt; Task :CoreModuleC:jar\r\n&gt; Task :GUICore:jar\r\n&gt; Task :CoreModuleG:jar\r\n&gt; Task :CountryVariantCH:jar\r\n&gt; Task :CoreModuleB:jar\r\n&gt; Task :GUIVariantCH:classes\r\nConnected to the target VM, address: &#39;localhost:56923&#39;, transport: &#39;socket&#39;\r\n&gt; Task :GUIVariantCH:run\r\n```\r\n\r\nBut if I then change a class and use &quot;Run \\&gt; Debugging Actions \\&gt; Reload Changed Classes&quot; it builds every single module, including all 24 country variants:\r\n\r\n```\r\n11:03:47: Executing &#39;:classes :testClasses [list of all core modules for tasks :classes and :testClasses] [list of all country variant modules for tasks :classes and :testClasses] [list of all GUI country variant modules for tasks :classes and :testClasses]&#39;...\r\n\r\n[long list of executions of all :classes and :testClasses tasks]\r\n\r\n&gt; Task :CountryVariantZA:classes\r\n&gt; Task :CountryVariantZA:compileTestJava UP-TO-DATE\r\n&gt; Task :CountryVariantZA:testClasses UP-TO-DATE\r\n&gt; Task :GUICountryVariantCH:classes\r\n&gt; Task :GUICountryVariantCH:compileTestJava NO-SOURCE\r\n&gt; Task :GUICountryVariantCH:testClasses UP-TO-DATE\r\n\r\nBUILD SUCCESSFUL in 17s\r\n```\r\n\r\nBut since I&#39;m running the `:GUICountryVariantCH:run` task, I would expect that only `:GUICountryVariantCH:classes` and `:GUICountryVariantCH:testClasses` tasks are run.\r\n\r\nOf course, if I previously compiled all country variants, it is faster than 17 seconds. But it still is executing tasks it shouldn&#39;t and thus takes longer than needed.\r\n\r\nSo, is this caused by a wrong Gradle configuration, a wrong IntelliJ configuration (IntelliJ IDEA 2023.2.2 (Community Edition)) or is this an actual IntelliJ bug?\r\n\r\nHas anybody had success with hot swap in a similar situation?\r\n\r\nI searched far and wide but nobody seems to have this specific problem.\r\n\r\nWhat I found is [this plugin](https://plugins.jetbrains.com/plugin/14832-single-hotswap) which lets you hotswap a single file, so I could use this plugin or of course &quot;Compile and reload file&quot; in the context menu within a file.\r\n\r\nBut I still feel hotswap should be able to work by not invoking `:classes` but rather `:specificModuleStarted:classes`. Because if you changed multiple files, reloading just this one particular file is not what you want.","title":"IntelliJ Gradle HotSwap building unrelated modules","body":"<p>I am having trouble getting Gradle HotSwap to work reasonably with IntelliJ IDEA.</p>\n<p>We have a Java setup which consists of some basic modules, then some country variants that use these basic modules and then even country variants of the GUI.</p>\n<p>The structure looks like this:</p>\n<pre><code>Root\n+--- buildSrc\n|    \\--- [Some custom precompiled groovy script plugins]\n+--- CoreModules\n|    \\--- [Some modules]\n+--- CountryVariants\n|    \\--- [A module for each country variant]\n+--- GuiCountryVariants\n|    \\--- [A module for each special country GUI variant] \n\\--- build.gradle (to be able to run tests for all modules at once)\n</code></pre>\n<p>Which means, we always build and run a specific country.\nFor example, here are the dependencies for the GUI specific runnable CH country variant:</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n+--- project :CoreModuleG\n|    \\--- project :GUICore\n|         +--- project :CoreModuleB\n|         |    \\--- project :CoreModuleC\n|         |         \\--- project :CoreModuleP\n|         |              \\--- project :CoreModuleE\n|         \\--- project :GUICoreModuleG\n+--- project :CountryVariantCH\n|    \\--- project :CoreModuleB (*)\n\\--- project :GUICore (*)\n</code></pre>\n<p>And by contrast, country variant US has:</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n+--- project :CoreModuleB\n|    \\--- project :CoreModuleC\n|         \\--- project :CoreModuleP\n|              \\--- project :CoreModuleE\n\\--- project :CoreModuleG\n     \\--- project :GUICore\n          +--- project :CoreModuleB (*)\n          \\--- project :GUICoreModuleG\n</code></pre>\n<p>Now, if I start my country variant for CH with a Gradle JavaExec task, it will of course only compile all modules needed for CH, and it will for example <strong>not</strong> compile country variant US, as expected.\nThe following is a (shortened) excerpt of the startup:</p>\n<pre><code>Gradle Daemon started in 2 s 367 ms\n&gt; Task :buildSrc:jar UP-TO-DATE\n&gt; Task :GuiVariantCH:processResources UP-TO-DATE\n&gt; Task :CoreModuleE:jar SKIPPED\n&gt; Task :GUICoreModuleG:jar\n&gt; Task :CoreModuleP:jar\n&gt; Task :CoreModuleC:jar\n&gt; Task :GUICore:jar\n&gt; Task :CoreModuleG:jar\n&gt; Task :CountryVariantCH:jar\n&gt; Task :CoreModuleB:jar\n&gt; Task :GUIVariantCH:classes\nConnected to the target VM, address: 'localhost:56923', transport: 'socket'\n&gt; Task :GUIVariantCH:run\n</code></pre>\n<p>But if I then change a class and use &quot;Run &gt; Debugging Actions &gt; Reload Changed Classes&quot; it builds every single module, including all 24 country variants:</p>\n<pre><code>11:03:47: Executing ':classes :testClasses [list of all core modules for tasks :classes and :testClasses] [list of all country variant modules for tasks :classes and :testClasses] [list of all GUI country variant modules for tasks :classes and :testClasses]'...\n\n[long list of executions of all :classes and :testClasses tasks]\n\n&gt; Task :CountryVariantZA:classes\n&gt; Task :CountryVariantZA:compileTestJava UP-TO-DATE\n&gt; Task :CountryVariantZA:testClasses UP-TO-DATE\n&gt; Task :GUICountryVariantCH:classes\n&gt; Task :GUICountryVariantCH:compileTestJava NO-SOURCE\n&gt; Task :GUICountryVariantCH:testClasses UP-TO-DATE\n\nBUILD SUCCESSFUL in 17s\n</code></pre>\n<p>But since I'm running the <code>:GUICountryVariantCH:run</code> task, I would expect that only <code>:GUICountryVariantCH:classes</code> and <code>:GUICountryVariantCH:testClasses</code> tasks are run.</p>\n<p>Of course, if I previously compiled all country variants, it is faster than 17 seconds. But it still is executing tasks it shouldn't and thus takes longer than needed.</p>\n<p>So, is this caused by a wrong Gradle configuration, a wrong IntelliJ configuration (IntelliJ IDEA 2023.2.2 (Community Edition)) or is this an actual IntelliJ bug?</p>\n<p>Has anybody had success with hot swap in a similar situation?</p>\n<p>I searched far and wide but nobody seems to have this specific problem.</p>\n<p>What I found is <a href=\"https://plugins.jetbrains.com/plugin/14832-single-hotswap\" rel=\"nofollow noreferrer\">this plugin</a> which lets you hotswap a single file, so I could use this plugin or of course &quot;Compile and reload file&quot; in the context menu within a file.</p>\n<p>But I still feel hotswap should be able to work by not invoking <code>:classes</code> but rather <code>:specificModuleStarted:classes</code>. Because if you changed multiple files, reloading just this one particular file is not what you want.</p>\n"},{"tags":["java","javassist"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697210718,"post_id":77288727,"comment_id":136255561,"body_markdown":"What makes you think that `StackMapTable` and `StackDependencies` are equivalent? Because theres stack in the name?","body":"What makes you think that <code>StackMapTable</code> and <code>StackDependencies</code> are equivalent? Because theres stack in the name?"},{"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"score":0,"creation_date":1697248519,"post_id":77288727,"comment_id":136260115,"body_markdown":"That&#39;s exactly it. I was trying to remove custom code since implementing Javassist into the project.","body":"That&#39;s exactly it. I was trying to remove custom code since implementing Javassist into the project."}],"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697209187,"creation_date":1697208744,"question_id":77288727,"body_markdown":"Referring to [this question](https://stackoverflow.com/questions/45995417/how-to-create-or-retrieve-a-stackmaptable-in-javassist), I still do not get the idea of looping through StackMapTable although I am able to get the Walker\r\n\r\n```\r\nStackMapTable stackMapTable = (StackMapTable) instructionToVisit.toCodeAttribute().getAttribute(StackMapTable.tag);\r\n\r\nStackMapTable.Walker walker = new StackMapTable.Walker(stackMapTable);\r\n```\r\n\r\nSince integrating Javassist into [the project](https://github.com/amyjko/whyline/tree/master), I am assuming that StackMapTablehttps://www.javassist.org/html/javassist/bytecode/StackMapTable.html is equivalent to [StackDependencies](https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/bytecode/StackDependencies.java)\r\n\r\nBut I am not sure, is it able to be written like the [for-loop block in this class](https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/analysis/ValueSourceAnalyzer.java#L460)\r\n\r\nI tried to understand how to use Javassist StackMapTable to loop through dependencies in the Stack memory of Java. Besides that, I was hoping to get a validation whether my assumption on replacing Javassist StackMapTable to the existing Whyline StackDependencies.","title":"How to loop through Javassist StackMapTable?","body":"<p>Referring to <a href=\"https://stackoverflow.com/questions/45995417/how-to-create-or-retrieve-a-stackmaptable-in-javassist\">this question</a>, I still do not get the idea of looping through StackMapTable although I am able to get the Walker</p>\n<pre><code>StackMapTable stackMapTable = (StackMapTable) instructionToVisit.toCodeAttribute().getAttribute(StackMapTable.tag);\n\nStackMapTable.Walker walker = new StackMapTable.Walker(stackMapTable);\n</code></pre>\n<p>Since integrating Javassist into <a href=\"https://github.com/amyjko/whyline/tree/master\" rel=\"nofollow noreferrer\">the project</a>, I am assuming that StackMapTablehttps://www.javassist.org/html/javassist/bytecode/StackMapTable.html is equivalent to <a href=\"https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/bytecode/StackDependencies.java\" rel=\"nofollow noreferrer\">StackDependencies</a></p>\n<p>But I am not sure, is it able to be written like the <a href=\"https://github.com/amyjko/whyline/blob/master/edu/cmu/hcii/whyline/analysis/ValueSourceAnalyzer.java#L460\" rel=\"nofollow noreferrer\">for-loop block in this class</a></p>\n<p>I tried to understand how to use Javassist StackMapTable to loop through dependencies in the Stack memory of Java. Besides that, I was hoping to get a validation whether my assumption on replacing Javassist StackMapTable to the existing Whyline StackDependencies.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1319203144,"post_id":7849452,"comment_id":9572817,"body_markdown":"Are you sure your listener is being deployed?","body":"Are you sure your listener is being deployed?"}],"answers":[{"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367218540,"creation_date":1319200980,"answer_id":7849547,"question_id":7849452,"body_markdown":"My guess is that you have packaged the servlet-api jar in your webapp (in the WEB-INF/lib) folder and this is causing conflicts since the servlet-api will already be present in the container. Make sure you don&#39;t include any servlet-api or jsp-api (or Java EE api) jars in your webapp when you deploy it.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>My guess is that you have packaged the servlet-api jar in your webapp (in the WEB-INF/lib) folder and this is causing conflicts since the servlet-api will already be present in the container. Make sure you don't include any servlet-api or jsp-api (or Java EE api) jars in your webapp when you deploy it.</p>\n"},{"tags":[],"owner":{"account_id":898340,"reputation":126,"user_id":935129,"display_name":"Lauro Caetano"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1319202856,"creation_date":1319202856,"answer_id":7849898,"question_id":7849452,"body_markdown":"Try to clear the tomcat work directory and clean. After that, publish your project and run again.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>Try to clear the tomcat work directory and clean. After that, publish your project and run again.</p>\n"},{"tags":[],"owner":{"account_id":4872873,"reputation":11,"user_id":3928792,"display_name":"Celia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408621827,"creation_date":1408621827,"answer_id":25425638,"question_id":7849452,"body_markdown":"I had the same problem running JUnit in a Tomcat 7 environment and I solved it adding a dependency in maven (pom.xml) like this:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.54&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had the same problem running JUnit in a Tomcat 7 environment and I solved it adding a dependency in maven (pom.xml) like this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0.54&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4294050,"reputation":527,"user_id":3509556,"accept_rate":43,"display_name":"gauti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433485845,"creation_date":1433485845,"answer_id":30659803,"question_id":7849452,"body_markdown":"I had the same issue when I tried with eclipse LUNA version and tomcat 7. The same code without any extra changes worked in eclipse JUNO with tomcat 7.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had the same issue when I tried with eclipse LUNA version and tomcat 7. The same code without any extra changes worked in eclipse JUNO with tomcat 7.</p>\n"},{"tags":[],"owner":{"account_id":6876093,"reputation":2613,"user_id":5284493,"accept_rate":33,"display_name":"Emir Marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462385940,"creation_date":1462385940,"answer_id":37035147,"question_id":7849452,"body_markdown":"Verify the **space in disk**. When eclipse copy the folder libs if not space in disk this error may occur","title":"ClassNotFoundException with ServletContextlistener","body":"<p>Verify the <strong>space in disk</strong>. When eclipse copy the folder libs if not space in disk this error may occur</p>\n"},{"tags":[],"owner":{"account_id":6783661,"reputation":285,"user_id":5223127,"accept_rate":25,"display_name":"Rama Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467958698,"creation_date":1467958698,"answer_id":38260074,"question_id":7849452,"body_markdown":"If you are working in Eclipse, Then just clean your project.\r\n\r\nFollow this simple step, \r\nGo to Project &gt; \r\n          clean...&gt; clean all projects &gt; Ok","title":"ClassNotFoundException with ServletContextlistener","body":"<p>If you are working in Eclipse, Then just clean your project.</p>\n\n<p>Follow this simple step, \nGo to Project > \n          clean...> clean all projects > Ok</p>\n"},{"tags":[],"owner":{"account_id":15600842,"reputation":99,"user_id":11255038,"display_name":"George Kibira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643895983,"creation_date":1643895983,"answer_id":70972411,"question_id":7849452,"body_markdown":"I had a similar problem. It Maybe not be related to what you had but it might save someone some time. I had my listener-class wrong in the web descriptor file:)","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had a similar problem. It Maybe not be related to what you had but it might save someone some time. I had my listener-class wrong in the web descriptor file:)</p>\n"},{"tags":[],"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697209085,"creation_date":1697209085,"answer_id":77288777,"question_id":7849452,"body_markdown":"I had similar problem, the previous solutions didn&#39;t work for me.    \r\nIt was simpler in my case, tomcat wasn&#39;t bound to my app (I used eclipse).\r\n\r\nTo solve this try the following as it may work for you:  \r\nIn `Project &gt; Properties &gt; Java build path &gt; Libraries` look for `Server Runtime`, and bind a tomcat server to your project (go ahead and add tomcat server to your eclipse project if you didn&#39;t already have).\r\n\r\nThis fixed my issue.","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I had similar problem, the previous solutions didn't work for me.<br />\nIt was simpler in my case, tomcat wasn't bound to my app (I used eclipse).</p>\n<p>To solve this try the following as it may work for you:<br />\nIn <code>Project &gt; Properties &gt; Java build path &gt; Libraries</code> look for <code>Server Runtime</code>, and bind a tomcat server to your project (go ahead and add tomcat server to your eclipse project if you didn't already have).</p>\n<p>This fixed my issue.</p>\n"}],"owner":{"account_id":938201,"reputation":323,"user_id":966742,"accept_rate":65,"display_name":"Rehme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48601,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7849898,"answer_count":8,"score":7,"last_activity_date":1697209085,"creation_date":1319200466,"question_id":7849452,"body_markdown":"I get an exception whenever I try getting context parameter from `we.XML` into a `ServletContextListener` class, I am really having hard times understanding why It is not working,\r\nhere&#39;s the exception in Apache Tomcat 7.0.11 log :\r\n\r\n     Oct 21, 2011 1:24:23 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class alaa.ServletContextListener\r\n    java.lang.ClassNotFoundException: alaa.ServletContextListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\r\n\tat   \r\n       org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\r\n\tat      \r\n \r\n\tat    org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4618)\r\n\tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5184)\r\n\tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5179)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\n   \r\n   Here&#39;s a part of my web.xml :  \r\n       \r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;catName&lt;/param-name&gt;\r\n        &lt;param-value&gt;meshmesh&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;catBreed&lt;/param-name&gt;\r\n        &lt;param-value&gt;egyptian&lt;/param-value&gt;\r\n    &lt;/context-param&gt;  \r\n    &lt;listener&gt;\r\n       &lt;listener-class&gt;alaa.CatLisenter&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;session-config&gt;\r\n          &lt;session-timeout&gt;\r\n            30\r\n          &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n          \r\n\r\n   Here&#39;s my ServletContextListener.java: \r\n\r\n\r\n    package alaa;\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    public class CatLisenter implements ServletContextListener {\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        ServletContext sc = sce.getServletContext();\r\n        String name = sc.getInitParameter(&quot;catName&quot;);\r\n        \r\n        String breed = sc.getInitParameter(&quot;catBreed&quot;);\r\n        \r\n        Cat maCat = new Cat();\r\n        maCat.setName(name);\r\n        maCat.setBreed(breed);\r\n        \r\n        sc.setAttribute(&quot;cat&quot;, maCat);\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n    }   \r\n    }\r\n\r\n\r\n\r\n    Here&#39;s Cat.java : \r\n\r\n\r\n  \r\n\r\n    \r\n    package alaa;\r\n\r\n    public class Cat {\r\n    private String name;\r\n    private String breed;\r\n\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBreed() {\r\n        return breed;\r\n    }\r\n\r\n   \r\n    public void setBreed(String breed) {\r\n        this.breed = breed;\r\n    }\r\n     }\r\n\r\n    many thanks \r\n\r\n\r\n\r\n","title":"ClassNotFoundException with ServletContextlistener","body":"<p>I get an exception whenever I try getting context parameter from <code>we.XML</code> into a <code>ServletContextListener</code> class, I am really having hard times understanding why It is not working,\nhere's the exception in Apache Tomcat 7.0.11 log :</p>\n\n<pre><code> Oct 21, 2011 1:24:23 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class alaa.ServletContextListener\njava.lang.ClassNotFoundException: alaa.ServletContextListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\nat   \n   org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\nat      \n\nat    org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4618)\nat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5184)\nat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5179)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>Here's a part of my web.xml :  </p>\n\n<pre><code> &lt;context-param&gt;\n    &lt;param-name&gt;catName&lt;/param-name&gt;\n    &lt;param-value&gt;meshmesh&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;catBreed&lt;/param-name&gt;\n    &lt;param-value&gt;egyptian&lt;/param-value&gt;\n&lt;/context-param&gt;  \n&lt;listener&gt;\n   &lt;listener-class&gt;alaa.CatLisenter&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;session-config&gt;\n      &lt;session-timeout&gt;\n        30\n      &lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>Here's my ServletContextListener.java: </p>\n\n<pre><code>package alaa;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\npublic class CatLisenter implements ServletContextListener {\n\n@Override\npublic void contextInitialized(ServletContextEvent sce) {\n    ServletContext sc = sce.getServletContext();\n    String name = sc.getInitParameter(\"catName\");\n\n    String breed = sc.getInitParameter(\"catBreed\");\n\n    Cat maCat = new Cat();\n    maCat.setName(name);\n    maCat.setBreed(breed);\n\n    sc.setAttribute(\"cat\", maCat);\n}\n\n@Override\npublic void contextDestroyed(ServletContextEvent sce) {\n    throw new UnsupportedOperationException(\"Not supported yet.\");\n}   \n}\n\n\n\nHere's Cat.java : \n\n\n\n\n\npackage alaa;\n\npublic class Cat {\nprivate String name;\nprivate String breed;\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getBreed() {\n    return breed;\n}\n\n\npublic void setBreed(String breed) {\n    this.breed = breed;\n}\n }\n\nmany thanks \n</code></pre>\n"},{"tags":["java","sql-server","docker","aws-lambda"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1697067741,"post_id":77276794,"comment_id":136234257,"body_markdown":"Is the Java code actually running on the Docker host itself, or is it running inside a Docker container? When running inside a Docker container... unless you also have an SQL Server instance installed in the same container then `localhost:1433` isn&#39;t going to connect to anything. In these cases you  might have more success with `host.docker.internal`.","body":"Is the Java code actually running on the Docker host itself, or is it running inside a Docker container? When running inside a Docker container... unless you also have an SQL Server instance installed in the same container then <code>localhost:1433</code> isn&#39;t going to connect to anything. In these cases you  might have more success with <code>host.docker.internal</code>."},{"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"score":0,"creation_date":1697118989,"post_id":77276794,"comment_id":136241764,"body_markdown":"This is an aws-lambda function. That being said, when I start it up in IntelliJ, the lambda function is started in its own container.","body":"This is an aws-lambda function. That being said, when I start it up in IntelliJ, the lambda function is started in its own container."}],"answers":[{"tags":[],"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208791,"creation_date":1697208791,"answer_id":77288739,"question_id":77276794,"body_markdown":"I resolved this issue by using `ifconfig` in the terminal to find the ip address of my running docker instance. Due to the fact that when I start my AWS Lambda function from my IDE, the Lambda is started in a totally different container than the one that my database is running in. Therefore, I have to reference the ip address of the docker instance that is running the database.","title":"Docker Running SQL Server: Connection Refused Error","body":"<p>I resolved this issue by using <code>ifconfig</code> in the terminal to find the ip address of my running docker instance. Due to the fact that when I start my AWS Lambda function from my IDE, the Lambda is started in a totally different container than the one that my database is running in. Therefore, I have to reference the ip address of the docker instance that is running the database.</p>\n"}],"owner":{"account_id":289004,"reputation":457,"user_id":589724,"accept_rate":80,"display_name":"dionysus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697208791,"creation_date":1697065381,"question_id":77276794,"body_markdown":"I am running Microsoft SQL Server on via Docker on my local system. I can connect to my database locally using Azure Data Studio. However, when attempting to connect via my IDE using JAVA and I get the following error:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall\r\n\r\nThe code that I am running is the following:\r\n\r\n```\r\ntry {\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    new ScriptRunner(DriverManager.getConnection(\r\n                    &quot;jdbc:sqlserver://localhost:1433;database=mars_db;user=sa;password=sysAdmin123;encrypt=false&quot;))\r\n                    .runScript(new BufferedReader(new FileReader(script)));\r\n} catch (Exception e) {\r\n    System.err.println(e);\r\n}\r\n```\r\nAs stated above, I can connect to my local instance via Azure Data Studio. What am I doing wrong with the Java code.\r\n\r\nHere is the build.gradle as well\r\n\r\n```none\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.amazonaws:aws-lambda-java-core:1.2.2&#39;\r\n    implementation &#39;com.amazonaws:aws-lambda-java-events:3.11.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;com.microsoft.sqlserver:mssql-jdbc:12.4.1.jre11&#39;\r\n\r\n    implementation &#39;org.mybatis:mybatis:3.5.13&#39;\r\n}\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n```\r\n","title":"Docker Running SQL Server: Connection Refused Error","body":"<p>I am running Microsoft SQL Server on via Docker on my local system. I can connect to my database locally using Azure Data Studio. However, when attempting to connect via my IDE using JAVA and I get the following error:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall</p>\n</blockquote>\n<p>The code that I am running is the following:</p>\n<pre><code>try {\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n    new ScriptRunner(DriverManager.getConnection(\n                    &quot;jdbc:sqlserver://localhost:1433;database=mars_db;user=sa;password=sysAdmin123;encrypt=false&quot;))\n                    .runScript(new BufferedReader(new FileReader(script)));\n} catch (Exception e) {\n    System.err.println(e);\n}\n</code></pre>\n<p>As stated above, I can connect to my local instance via Azure Data Studio. What am I doing wrong with the Java code.</p>\n<p>Here is the build.gradle as well</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.amazonaws:aws-lambda-java-core:1.2.2'\n    implementation 'com.amazonaws:aws-lambda-java-events:3.11.0'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'com.microsoft.sqlserver:mssql-jdbc:12.4.1.jre11'\n\n    implementation 'org.mybatis:mybatis:3.5.13'\n}\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1544629003,"post_id":53746393,"comment_id":94345223,"body_markdown":"Intellij has a separate build process that it uses. There is a menu at the top called build, and you can re-trigger a build with CTRL+F9","body":"Intellij has a separate build process that it uses. There is a menu at the top called build, and you can re-trigger a build with CTRL+F9"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1544629086,"post_id":53746393,"comment_id":94345280,"body_markdown":"Show me your build configuration - maybe you dont have build step in it(thus no build prior run, thus no changes)","body":"Show me your build configuration - maybe you dont have build step in it(thus no build prior run, thus no changes)"},{"owner":{"account_id":2762209,"reputation":401,"user_id":2378870,"display_name":"Daniel Schmidt"},"score":0,"creation_date":1544629178,"post_id":53746393,"comment_id":94345342,"body_markdown":"It&#39;s been a while since I used IntelliJ, but i THINK I remember that there was something you could do in the build configuration that will auto-build after each change? Sorry for the vagueness, but I think Antoniossss is on to something","body":"It&#39;s been a while since I used IntelliJ, but i THINK I remember that there was something you could do in the build configuration that will auto-build after each change? Sorry for the vagueness, but I think Antoniossss is on to something"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1544630225,"post_id":53746393,"comment_id":94346051,"body_markdown":"Thanks for tips. I just realized that I cant even make a &quot;Build&quot;. Probably thats the real issue. I get all sorts of package and symbol not found errors. Since I only use maven didnt notice there was a problem in build. I did an invalidate caches restart on Intellij but still same problem!","body":"Thanks for tips. I just realized that I cant even make a &quot;Build&quot;. Probably thats the real issue. I get all sorts of package and symbol not found errors. Since I only use maven didnt notice there was a problem in build. I did an invalidate caches restart on Intellij but still same problem!"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1544632105,"post_id":53746393,"comment_id":94347160,"body_markdown":"@DanielSchmidt Problem solved. I deleted the &quot;.idea&quot; folder and restarted. Then Builds started to work fine, hence the tests. Thanks for leading in right direction, if someone answers this I will accept it.","body":"@DanielSchmidt Problem solved. I deleted the &quot;.idea&quot; folder and restarted. Then Builds started to work fine, hence the tests. Thanks for leading in right direction, if someone answers this I will accept it."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1544701267,"post_id":53746393,"comment_id":94373906,"body_markdown":"You can also edit the run configuration and make it run `mvn clean test-compile` automatically each time you hit run","body":"You can also edit the run configuration and make it run <code>mvn clean test-compile</code> automatically each time you hit run"}],"answers":[{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544824447,"creation_date":1544701788,"answer_id":53761219,"question_id":53746393,"body_markdown":"After reading the comments I realized that I cant even make a &quot;Build&quot;, that was the real issue. I got all sorts of package and symbol not found errors. I tried to &quot;Invalidate caches restart&quot; on Intellij but didnt help. So I deleted the **&quot;.idea&quot;** folder and restarted IntelliJ. Then the errors in &quot;build&quot; disappeared, hence the tests was able to make a build after a change. Thanks for leading in right direction.","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>After reading the comments I realized that I cant even make a \"Build\", that was the real issue. I got all sorts of package and symbol not found errors. I tried to \"Invalidate caches restart\" on Intellij but didnt help. So I deleted the <strong>\".idea\"</strong> folder and restarted IntelliJ. Then the errors in \"build\" disappeared, hence the tests was able to make a build after a change. Thanks for leading in right direction.</p>\n"},{"tags":[],"owner":{"account_id":5190620,"reputation":168,"user_id":4153681,"accept_rate":100,"display_name":"Ueffes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208756,"creation_date":1697208756,"answer_id":77288729,"question_id":53746393,"body_markdown":"I&#39;m having the issue of IntelliJ caching some classes in combination with unit test execution quite often. Especially after deleting or moving classes, IntelliJ does not seem to realize that classes are now gone or located within a different package.\r\n\r\nSo far, I was able to solve the issue via triggering a rebuild of the project:\r\n\r\n*Go to:* `Build` &gt; `Rebuild Project`","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>I'm having the issue of IntelliJ caching some classes in combination with unit test execution quite often. Especially after deleting or moving classes, IntelliJ does not seem to realize that classes are now gone or located within a different package.</p>\n<p>So far, I was able to solve the issue via triggering a rebuild of the project:</p>\n<p><em>Go to:</em> <code>Build</code> &gt; <code>Rebuild Project</code></p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53761219,"answer_count":2,"score":2,"last_activity_date":1697208756,"creation_date":1544628808,"question_id":53746393,"body_markdown":"I have a problem with my Java(Spring-Boot) unit tests on IntelliJ. My actual code and the test-code are on the same module. When I make a change in my code and I want to test it, I right click on the test class and &quot;Run Test&quot; But it doesn&#39;t see the actual code change I made earlier, unless I do a &quot;mvn clean install&quot; before I run the test each time(?!)\r\n\r\nI might be wrong but I think this problem started after I converted my project into a multi module project. Though as I said in this case all code is in the same module. So cant see the relavance, Any suggestions how can I overcome with weird inconvenient behaviour?","title":"IntelliJ unit tests don&#39;t see changes","body":"<p>I have a problem with my Java(Spring-Boot) unit tests on IntelliJ. My actual code and the test-code are on the same module. When I make a change in my code and I want to test it, I right click on the test class and \"Run Test\" But it doesn't see the actual code change I made earlier, unless I do a \"mvn clean install\" before I run the test each time(?!)</p>\n\n<p>I might be wrong but I think this problem started after I converted my project into a multi module project. Though as I said in this case all code is in the same module. So cant see the relavance, Any suggestions how can I overcome with weird inconvenient behaviour?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697208486,"creation_date":1697208486,"answer_id":77288692,"question_id":77287054,"body_markdown":"If getting rid of `@Query` annotation is an option you can just try to use JPA name-derived query like this:\r\n\r\n```java\r\nList&lt;Customer&gt; findByCompanyCompanyNameContainingIgnoreCase(String companyName);\r\n```\r\n\r\nSpring JPA support for nested objects (property expressions): https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\r\n","title":"Springboot case insensitive domain query","body":"<p>If getting rid of <code>@Query</code> annotation is an option you can just try to use JPA name-derived query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; findByCompanyCompanyNameContainingIgnoreCase(String companyName);\n</code></pre>\n<p>Spring JPA support for nested objects (property expressions): <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions</a></p>\n"}],"owner":{"account_id":15921410,"reputation":153,"user_id":11488312,"display_name":"WolfyDoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697208486,"creation_date":1697193424,"question_id":77287054,"body_markdown":"I try to retrieve all entities based on a nested entity name. I want this query to be case insensitive. It looks like `LOWER(c.company.companyName)` does not work, since when I type &#39;abc&#39;, but &#39;ABC&#39; is in a company name somewhere, I still get no result. I&#39;ve looked all over, but no result. When I remove all the `LOWER` parts, it does work, so for that I&#39;m sure that it has to do with `LOWER(c.company.companyName)`. What am I missing here?\r\n\r\n    @Query(value = &quot;SELECT c FROM Customer c WHERE LOWER(c.company.companyName) LIKE CONCAT(&#39;%&#39;, LOWER(:search), &#39;%&#39;)&quot;)\r\n    List&lt;Customer&gt; findByCompanyNameContainingIgnoreCase(@Param(&quot;search&quot;) String search);","title":"Springboot case insensitive domain query","body":"<p>I try to retrieve all entities based on a nested entity name. I want this query to be case insensitive. It looks like <code>LOWER(c.company.companyName)</code> does not work, since when I type 'abc', but 'ABC' is in a company name somewhere, I still get no result. I've looked all over, but no result. When I remove all the <code>LOWER</code> parts, it does work, so for that I'm sure that it has to do with <code>LOWER(c.company.companyName)</code>. What am I missing here?</p>\n<pre><code>@Query(value = &quot;SELECT c FROM Customer c WHERE LOWER(c.company.companyName) LIKE CONCAT('%', LOWER(:search), '%')&quot;)\nList&lt;Customer&gt; findByCompanyNameContainingIgnoreCase(@Param(&quot;search&quot;) String search);\n</code></pre>\n"},{"tags":["java","xmlreader","java-10"],"answers":[{"tags":[],"owner":{"account_id":10340570,"reputation":538,"user_id":7627081,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1530143198,"creation_date":1530139692,"answer_id":51072441,"question_id":51072419,"body_markdown":"The [documentation for `XMLReaderFactory`](https://docs.oracle.com/javase/9/docs/api/org/xml/sax/helpers/XMLReaderFactory.html) recommends [`SAXParserFactory`](https://docs.oracle.com/javase/9/docs/api/javax/xml/parsers/SAXParserFactory.html)\r\n\r\n    SAXParserFactory parserFactory = SAXParserFactory.newInstance();\r\n    SAXParser parser = parserFactory.newSAXParser();\r\n    XMLReader reader = parser.getXMLReader();","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/org/xml/sax/helpers/XMLReaderFactory.html\" rel=\"noreferrer\">documentation for <code>XMLReaderFactory</code></a> recommends <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/parsers/SAXParserFactory.html\" rel=\"noreferrer\"><code>SAXParserFactory</code></a></p>\n\n<pre><code>SAXParserFactory parserFactory = SAXParserFactory.newInstance();\nSAXParser parser = parserFactory.newSAXParser();\nXMLReader reader = parser.getXMLReader();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685344035,"creation_date":1685344035,"answer_id":76355303,"question_id":51072419,"body_markdown":"`XMLReader xmlReader = org.apache.poi.util.XMLHelper.newXMLReader();` Creates a new SAX XMLReader, with sensible defaults. ","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p><code>XMLReader xmlReader = org.apache.poi.util.XMLHelper.newXMLReader();</code> Creates a new SAX XMLReader, with sensible defaults.</p>\n"},{"tags":[],"owner":{"account_id":10007561,"reputation":51,"user_id":7401501,"display_name":"MattVon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697208448,"creation_date":1697208448,"answer_id":77288688,"question_id":51072419,"body_markdown":"Same issue here as we just make a big jump from Jdk8 to jdk17, for compatibility here is my code from my own factory: \r\n```\r\nXMLReader saxReader;\r\ntry {\r\n\tSAXParserFactory parserFactory = SAXParserFactory.newInstance();\r\n\tparserFactory.setNamespaceAware(true);\r\n\tSAXParser parser = parserFactory.newSAXParser();\r\n\tXMLReader saxReader  = parser.getXMLReader();\t\t\t\r\n\tsaxReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n} catch (javax.xml.parsers.ParserConfigurationException parseEx) {\r\n\tthrow new SAXException(parseEx);\r\n} \r\n```\r\n\r\nmaking the parser ns aware solved the compatibility issue link to the usage of a DefaultHandler.\r\nThe XXE protection was already there (see: [owasp XXE][1]) but worth mentioning anyway I think.  \r\nthe try catch wrapping is due to the fact that a new exception is now thrown (you can remove this part and manage exception somewhere else if you can)\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>Same issue here as we just make a big jump from Jdk8 to jdk17, for compatibility here is my code from my own factory:</p>\n<pre><code>XMLReader saxReader;\ntry {\n    SAXParserFactory parserFactory = SAXParserFactory.newInstance();\n    parserFactory.setNamespaceAware(true);\n    SAXParser parser = parserFactory.newSAXParser();\n    XMLReader saxReader  = parser.getXMLReader();           \n    saxReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n} catch (javax.xml.parsers.ParserConfigurationException parseEx) {\n    throw new SAXException(parseEx);\n} \n</code></pre>\n<p>making the parser ns aware solved the compatibility issue link to the usage of a DefaultHandler.\nThe XXE protection was already there (see: <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">owasp XXE</a>) but worth mentioning anyway I think.<br />\nthe try catch wrapping is due to the fact that a new exception is now thrown (you can remove this part and manage exception somewhere else if you can)</p>\n"}],"owner":{"account_id":12991745,"reputation":131,"user_id":9499931,"display_name":"Igor Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5461,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":3,"score":11,"last_activity_date":1697208448,"creation_date":1530139505,"question_id":51072419,"body_markdown":"I&#39;m trying use XMLReaderFactory, but this is deprecated. \r\nNow, how Can I create a instance of XMLReader?","title":"How use XMLReaderFactory now? because this is deprecated","body":"<p>I'm trying use XMLReaderFactory, but this is deprecated. \nNow, how Can I create a instance of XMLReader?</p>\n"},{"tags":["java","spring","spring-boot","service","propagation"],"owner":{"account_id":6270427,"reputation":143,"user_id":10099714,"display_name":"Mike J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697208440,"creation_date":1697208440,"question_id":77288687,"body_markdown":"I&#39;m currently facing an issue which I&#39;m unable to solve.\r\n\r\nHere the problem.\r\nI have a class **Picker** inside **Microservice PickerManager** that requires services. This **Picker** class sends events via RabbitMQ to **Microservice B**.\r\n\r\n```java\r\n@Component\r\nclass Picker {\r\n    @Autowired\r\n    public Picker(Services services,\r\n                  ApplicationEventPublisher eventPublisher,\r\n                  UtilsPickerManager utilsPickerManager,\r\n                  UtilsAW utilsAW) throws Exception {\r\n        this.services = services;\r\n        this.eventPublisher = eventPublisher;\r\n    }\r\n    private PickerCommandEO movePickerToTargetSegment() {\r\n        // ... code\r\n        eventPublisher.publishEvent(commands.get(0).getEvent()); // &lt;- Send an event\r\n        // ... code\r\n    }\r\n}\r\n```\r\n\r\nSending this event invokes the following method:\r\n```java\r\n@Component\r\npublic class DriverCommandSenderImpl {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(DriverCommandSenderImpl.class);\r\n    private final String exchangeName;\r\n    private final AmqpTemplate amqpTemplate;\r\n    DriverCommandSenderImpl(@Value(&quot;${corren.driver.pickers.commands.exchange-name}&quot;) String exchangeName, AmqpTemplate amqpTemplate) {\r\n        this.exchangeName = exchangeName;\r\n        this.amqpTemplate = amqpTemplate;\r\n    }\r\n\r\n    @EventListener\r\n    public void onPickerCommand(PickerCommand mo) {\r\n        final Gson gson = new GsonBuilder().create();\r\n        String moAsString = gson.toJson(mo);\r\n        try {\r\n            amqpTemplate.convertAndSend(exchangeName, &quot;csa.commands.&quot;+mo.getType(), moAsString); //&lt;- Send Event to Microservice B\r\n        } catch (Exception e) {\r\n            throw new TechnicalRuntimeException(e.getMessage(), e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen, the event is sent to **Microservice B**. The **Microservice B** responds with another event to the **PickerManager microservice** once the message processing has been completed. This message arrives in the Picker&#39;s queue.\r\n\r\n```java\r\n@TxService\r\npublic class ListenerConfiguration {\r\n    private final AcknowledgmentHandler acknowledgmentHandler;\r\n    private final Services services;\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ListenerConfiguration.class);\r\n\r\n    @Autowired\r\n    public ListenerConfiguration(\r\n        AcknowledgmentHandler acknowledgmentHandler,\r\n        Services services\r\n    ) {\r\n        this.acknowledgmentHandler = acknowledgmentHandler;\r\n        this.services = services;\r\n    }\r\n\r\n    // The queue is triggered when a new message is received.\r\n    @RabbitListener(queues = &quot;${corren.driver.pickers.acknowledgements.queue-name}&quot;)\r\n    public void receiveAcknowledgmentCommand(String message) throws Exception {\r\n        final Gson gson = new GsonBuilder().create();\r\n        AcknowledgementMO acknowledgementMO = gson.fromJson(message, AcknowledgementMO.class);\r\n        acknowledgmentHandler.handler(acknowledgementMO);\r\n    }\r\n}\r\n```\r\n\r\nWell. Now, I let&#39;s save a Picker inside DB. For doing that I&#39;m using the following method inside **Picker class**\r\n```java\r\n@Component\r\nclass Picker {\r\n    @Autowired\r\n    public Picker(Services services,\r\n                  ApplicationEventPublisher eventPublisher,\r\n                  UtilsPickerManager utilsPickerManager,\r\n                  UtilsAW utilsAW) throws Exception {\r\n        this.services = services;\r\n        this.eventPublisher = eventPublisher;\r\n    }\r\n    public void savePicker() {\r\n      PickerEO picker = new PickerEO();\r\n      services.getPickerManager().save(pickerEO);\r\n    }\r\n}\r\n```\r\n\r\nAlright. Now, I&#39;m checking if Picker exist in DB from the **services** contained inside the **Picker** class. And, yes ! It well exist. Great.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat is really really weired now. I want to check from the class **ListenerConfiguration** through the service attribute (which is @Autowired also) if the **Picker** exist in DB. And... Guess what. No! The picker value is not inside the results.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWe are agree to say that is not normal at all because the both service inside the both class have been injected by using the @Autowired decorator. So it&#39;s should be the same instance of the object. Of course I&#39;ve check that. Inside the both class, the service attribute have the same ID value. So it confirm that it&#39;s the same object.\r\n\r\nScreen of the service ID from **Picker** class\r\n[![enter image description here][3]][3]\r\n\r\nScreen of the service ID from **ListenerConfiguration** class\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI&#39;m blocked at that point.\r\n\r\nIf someone have an idea. Thank you for your time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xq6hM.png\r\n  [2]: https://i.stack.imgur.com/VPp5M.png\r\n  [3]: https://i.stack.imgur.com/Fd9yW.png\r\n  [4]: https://i.stack.imgur.com/X3tBw.png","title":"Services not synchronized Spring","body":"<p>I'm currently facing an issue which I'm unable to solve.</p>\n<p>Here the problem.\nI have a class <strong>Picker</strong> inside <strong>Microservice PickerManager</strong> that requires services. This <strong>Picker</strong> class sends events via RabbitMQ to <strong>Microservice B</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass Picker {\n    @Autowired\n    public Picker(Services services,\n                  ApplicationEventPublisher eventPublisher,\n                  UtilsPickerManager utilsPickerManager,\n                  UtilsAW utilsAW) throws Exception {\n        this.services = services;\n        this.eventPublisher = eventPublisher;\n    }\n    private PickerCommandEO movePickerToTargetSegment() {\n        // ... code\n        eventPublisher.publishEvent(commands.get(0).getEvent()); // &lt;- Send an event\n        // ... code\n    }\n}\n</code></pre>\n<p>Sending this event invokes the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DriverCommandSenderImpl {\n    private static final Logger LOGGER = LoggerFactory.getLogger(DriverCommandSenderImpl.class);\n    private final String exchangeName;\n    private final AmqpTemplate amqpTemplate;\n    DriverCommandSenderImpl(@Value(&quot;${corren.driver.pickers.commands.exchange-name}&quot;) String exchangeName, AmqpTemplate amqpTemplate) {\n        this.exchangeName = exchangeName;\n        this.amqpTemplate = amqpTemplate;\n    }\n\n    @EventListener\n    public void onPickerCommand(PickerCommand mo) {\n        final Gson gson = new GsonBuilder().create();\n        String moAsString = gson.toJson(mo);\n        try {\n            amqpTemplate.convertAndSend(exchangeName, &quot;csa.commands.&quot;+mo.getType(), moAsString); //&lt;- Send Event to Microservice B\n        } catch (Exception e) {\n            throw new TechnicalRuntimeException(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>Then, the event is sent to <strong>Microservice B</strong>. The <strong>Microservice B</strong> responds with another event to the <strong>PickerManager microservice</strong> once the message processing has been completed. This message arrives in the Picker's queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TxService\npublic class ListenerConfiguration {\n    private final AcknowledgmentHandler acknowledgmentHandler;\n    private final Services services;\n    private static final Logger LOGGER = LoggerFactory.getLogger(ListenerConfiguration.class);\n\n    @Autowired\n    public ListenerConfiguration(\n        AcknowledgmentHandler acknowledgmentHandler,\n        Services services\n    ) {\n        this.acknowledgmentHandler = acknowledgmentHandler;\n        this.services = services;\n    }\n\n    // The queue is triggered when a new message is received.\n    @RabbitListener(queues = &quot;${corren.driver.pickers.acknowledgements.queue-name}&quot;)\n    public void receiveAcknowledgmentCommand(String message) throws Exception {\n        final Gson gson = new GsonBuilder().create();\n        AcknowledgementMO acknowledgementMO = gson.fromJson(message, AcknowledgementMO.class);\n        acknowledgmentHandler.handler(acknowledgementMO);\n    }\n}\n</code></pre>\n<p>Well. Now, I let's save a Picker inside DB. For doing that I'm using the following method inside <strong>Picker class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass Picker {\n    @Autowired\n    public Picker(Services services,\n                  ApplicationEventPublisher eventPublisher,\n                  UtilsPickerManager utilsPickerManager,\n                  UtilsAW utilsAW) throws Exception {\n        this.services = services;\n        this.eventPublisher = eventPublisher;\n    }\n    public void savePicker() {\n      PickerEO picker = new PickerEO();\n      services.getPickerManager().save(pickerEO);\n    }\n}\n</code></pre>\n<p>Alright. Now, I'm checking if Picker exist in DB from the <strong>services</strong> contained inside the <strong>Picker</strong> class. And, yes ! It well exist. Great.\n<a href=\"https://i.stack.imgur.com/Xq6hM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xq6hM.png\" alt=\"enter image description here\" /></a></p>\n<p>What is really really weired now. I want to check from the class <strong>ListenerConfiguration</strong> through the service attribute (which is @Autowired also) if the <strong>Picker</strong> exist in DB. And... Guess what. No! The picker value is not inside the results.</p>\n<p><a href=\"https://i.stack.imgur.com/VPp5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPp5M.png\" alt=\"enter image description here\" /></a></p>\n<p>We are agree to say that is not normal at all because the both service inside the both class have been injected by using the @Autowired decorator. So it's should be the same instance of the object. Of course I've check that. Inside the both class, the service attribute have the same ID value. So it confirm that it's the same object.</p>\n<p>Screen of the service ID from <strong>Picker</strong> class\n<a href=\"https://i.stack.imgur.com/Fd9yW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fd9yW.png\" alt=\"enter image description here\" /></a></p>\n<p>Screen of the service ID from <strong>ListenerConfiguration</strong> class\n<a href=\"https://i.stack.imgur.com/X3tBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X3tBw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm blocked at that point.</p>\n<p>If someone have an idea. Thank you for your time.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":251784,"reputation":321,"user_id":529398,"accept_rate":40,"display_name":"St&#233;phane Derosiaux"},"score":0,"creation_date":1697005090,"post_id":77265091,"comment_id":136223273,"body_markdown":"I believe this is linked: https://issues.apache.org/jira/browse/CAMEL-19393 &quot;camel-kafka - Configuring kafka option should no longer all be string types&quot;","body":"I believe this is linked: <a href=\"https://issues.apache.org/jira/browse/CAMEL-19393\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CAMEL-19393</a> &quot;camel-kafka - Configuring kafka option should no longer all be string types&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697208311,"creation_date":1697208311,"answer_id":77288677,"question_id":77265091,"body_markdown":"Well I face the same issue as you when I upgraded my Camel to 3.21.0 and then move to 3.21.1 and still having the same issue \r\n\r\nIn short answer there is no a fix from Camel side. \r\n\r\nOn KafkaConfiguration of Camel https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java\r\n\r\n    private Long maxPollIntervalMs;\r\n    @UriParam(\r\n        label = &quot;consumer&quot;,\r\n        defaultValue = &quot;latest&quot;,\r\n        enums = &quot;latest,earliest,none&quot;\r\n    )\r\n\r\nIt is Long and Kafka is expecting Integer for max.poll.interval.ms  : \r\n\r\n                case INT:\r\n                    if (value instanceof Integer) {\r\n                        return value;\r\n                    } else {\r\n                        if (value instanceof String) {\r\n                            return Integer.parseInt(trimmed);\r\n                        }\r\n\r\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\r\n\r\nSo for to make this work it is just fork and change that parameter to use Integer instead of Long if you need that parameter. ","title":"Apache Camel 3.21.0 Kafka Consumer max.poll.interval.ms","body":"<p>Well I face the same issue as you when I upgraded my Camel to 3.21.0 and then move to 3.21.1 and still having the same issue</p>\n<p>In short answer there is no a fix from Camel side.</p>\n<p>On KafkaConfiguration of Camel <a href=\"https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/camel-3.21.1/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConfiguration.java</a></p>\n<pre><code>private Long maxPollIntervalMs;\n@UriParam(\n    label = &quot;consumer&quot;,\n    defaultValue = &quot;latest&quot;,\n    enums = &quot;latest,earliest,none&quot;\n)\n</code></pre>\n<p>It is Long and Kafka is expecting Integer for max.poll.interval.ms  :</p>\n<pre><code>            case INT:\n                if (value instanceof Integer) {\n                    return value;\n                } else {\n                    if (value instanceof String) {\n                        return Integer.parseInt(trimmed);\n                    }\n\n                    throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\n</code></pre>\n<p>So for to make this work it is just fork and change that parameter to use Integer instead of Long if you need that parameter.</p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697208311,"creation_date":1696934752,"question_id":77265091,"body_markdown":"In my springboot project with camel-kafka I was using camel-spring-boot-starter and camel-kafka-starter dependencies.\r\nI created a consumer with the form:\r\n```\r\nfrom(&quot;kafka:my-topic?brokers=myBroker&amp;consumersCount=1&amp;groupId=myGroupId&amp;maxPollRecords=1&amp;maxPollIntervalMs=3600000&amp;autoCommitEnable=false&amp;allowManualCommit=true&quot;)\r\n```\r\nIt was working until the version of Camel 3.20.6.\r\nWith the newest versions 3.21.0 and 3.21.1 at the start of the application I have this Exception:\r\n```\r\norg.apache.kafka.common.config.ConfigException: Invalid value 3600000 for configuration max.poll.interval.ms: Expected value to be a 32-bit integer, but it was a java.lang.Long\r\n\tat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:688)\r\n\tat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n\tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\r\n\tat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:630)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:645)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:625)\r\n\tat org.apache.camel.component.kafka.DefaultKafkaClientFactory.getConsumer(DefaultKafkaClientFactory.java:34)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.createConsumer(KafkaFetchRecords.java:245)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.createConsumerTask(KafkaFetchRecords.java:205)\r\n\tat org.apache.camel.support.task.ForegroundTask.run(ForegroundTask.java:93)\r\n\tat org.apache.camel.component.kafka.KafkaFetchRecords.run(KafkaFetchRecords.java:127)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\nLooking for the Exception it seems to be a problem not directly related to Camel, but I don&#39;t know how to solve it.\r\nThis is the related problem in kafka-client:\r\n&lt;https://github.com/logstash-plugins/logstash-input-kafka/issues/199&gt;.\r\nIt seems to be a configuration in\r\n```\r\norg/apache/kafka/common/config/ConfigDef.java\r\n```\r\n```\r\npublic static Object parseType(String name, Object value, Type type) {\r\n        ...\r\n                case INT:\r\n                    if (value instanceof Integer) {\r\n                        return value;\r\n                    } else if (value instanceof String) {\r\n                        return Integer.parseInt(trimmed);\r\n                    } else {\r\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\r\n                    }\r\n        ...\r\n    }\r\n```\r\nbut maybe is Camel that is parsing it to a Long instead of an Integer.\r\n\r\nI tried to pass a smaller value, like 360, but the problem is still the same.\r\nIf I try to pass a String to bypass the problem, like &quot;3600000&quot; it reads the value like 0.\r\n\r\nDoes anyone solved this problem?\r\n","title":"Apache Camel 3.21.0 Kafka Consumer max.poll.interval.ms","body":"<p>In my springboot project with camel-kafka I was using camel-spring-boot-starter and camel-kafka-starter dependencies.\nI created a consumer with the form:</p>\n<pre><code>from(&quot;kafka:my-topic?brokers=myBroker&amp;consumersCount=1&amp;groupId=myGroupId&amp;maxPollRecords=1&amp;maxPollIntervalMs=3600000&amp;autoCommitEnable=false&amp;allowManualCommit=true&quot;)\n</code></pre>\n<p>It was working until the version of Camel 3.20.6.\nWith the newest versions 3.21.0 and 3.21.1 at the start of the application I have this Exception:</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value 3600000 for configuration max.poll.interval.ms: Expected value to be a 32-bit integer, but it was a java.lang.Long\n    at org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:688)\n    at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\n    at org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:630)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:645)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:625)\n    at org.apache.camel.component.kafka.DefaultKafkaClientFactory.getConsumer(DefaultKafkaClientFactory.java:34)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.createConsumer(KafkaFetchRecords.java:245)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.createConsumerTask(KafkaFetchRecords.java:205)\n    at org.apache.camel.support.task.ForegroundTask.run(ForegroundTask.java:93)\n    at org.apache.camel.component.kafka.KafkaFetchRecords.run(KafkaFetchRecords.java:127)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Looking for the Exception it seems to be a problem not directly related to Camel, but I don't know how to solve it.\nThis is the related problem in kafka-client:\n<a href=\"https://github.com/logstash-plugins/logstash-input-kafka/issues/199\" rel=\"nofollow noreferrer\">https://github.com/logstash-plugins/logstash-input-kafka/issues/199</a>.\nIt seems to be a configuration in</p>\n<pre><code>org/apache/kafka/common/config/ConfigDef.java\n</code></pre>\n<pre><code>public static Object parseType(String name, Object value, Type type) {\n        ...\n                case INT:\n                    if (value instanceof Integer) {\n                        return value;\n                    } else if (value instanceof String) {\n                        return Integer.parseInt(trimmed);\n                    } else {\n                        throw new ConfigException(name, value, &quot;Expected value to be a 32-bit integer, but it was a &quot; + value.getClass().getName());\n                    }\n        ...\n    }\n</code></pre>\n<p>but maybe is Camel that is parsing it to a Long instead of an Integer.</p>\n<p>I tried to pass a smaller value, like 360, but the problem is still the same.\nIf I try to pass a String to bypass the problem, like &quot;3600000&quot; it reads the value like 0.</p>\n<p>Does anyone solved this problem?</p>\n"},{"tags":["java","spring","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697208184,"creation_date":1697208184,"answer_id":77288663,"question_id":77286387,"body_markdown":"This is a [known issue](https://github.com/spring-projects/spring-security/issues/12343). You can publish the `AuthenticationManager` bean correctly to resolve it. For examples, see [this comment](https://github.com/spring-projects/spring-security/issues/11926#issue-1392720412), [this blog post](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter), [this answer](https://stackoverflow.com/a/73037749/15835039) and the [5.8 migration guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#_publish_an_authenticationmanager_bean).\r\n\r\nPlease note that Spring Security has [built-in support for JWT](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html) as well, so you can avoid writing your own filter.","title":"AuthenticationManager.authenticate() returns stackoverflow","body":"<p>This is a <a href=\"https://github.com/spring-projects/spring-security/issues/12343\" rel=\"nofollow noreferrer\">known issue</a>. You can publish the <code>AuthenticationManager</code> bean correctly to resolve it. For examples, see <a href=\"https://github.com/spring-projects/spring-security/issues/11926#issue-1392720412\" rel=\"nofollow noreferrer\">this comment</a>, <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">this blog post</a>, <a href=\"https://stackoverflow.com/a/73037749/15835039\">this answer</a> and the <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#_publish_an_authenticationmanager_bean\" rel=\"nofollow noreferrer\">5.8 migration guide</a>.</p>\n<p>Please note that Spring Security has <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">built-in support for JWT</a> as well, so you can avoid writing your own filter.</p>\n"}],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288663,"answer_count":1,"score":0,"last_activity_date":1697208184,"creation_date":1697187356,"question_id":77286387,"body_markdown":"I&#39;m trying to make a simple login system on my project, using Spring 3.1.1 and Spring Security 3.1.1 as well. Read on the documentation that we should not &quot;extends WebSecurityAdapter&quot; anymore and instead implement it like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Autowired\r\n        RequestFilter requestFilter;\r\n    \r\n        /**\r\n         * List with whitelisted endpoints.\r\n         */\r\n        private static final String[] AUTH_WHITELIST = {\r\n                // -- Swagger UI v2\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/swagger-resources&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;/webjars/**&quot;,\r\n                // -- Swagger UI v3 (OpenAPI)\r\n                &quot;/v3/api-docs/**&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                // other public endpoints of your API may be appended to this array\r\n                &quot;/users/register&quot;,\r\n                &quot;/users/login&quot;,\r\n                &quot;/plans/free-plan&quot;\r\n        };\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            return httpSecurity\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(authorize -&gt; authorize\r\n                            .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .addFilterBefore(requestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return web -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nIn this class I create an &quot;AuthenticationManager&quot; on the bean but when I try to use this on my service it gives an Stackoverflow error. My service:\r\n\r\n    @Service\r\n    public class UserService extends GenericService&lt;User&gt; {\r\n\r\n        /**\r\n         * Authentication Manager instance.\r\n         */\r\n        private final AuthenticationManager authenticationManager;\r\n\r\n        /**\r\n         * User Repository instance.\r\n         */\r\n        private final UserRepository userRepository;\r\n\r\n        /**\r\n         * JWTUtils Instance.\r\n         */\r\n        private JWTTokenUtils jwtTokenUtils;\r\n\r\n        /**\r\n         * Plan Service instance.\r\n         */\r\n        private PlanService planService;\r\n\r\n        @Autowired\r\n        public UserService(AuthenticationManager authenticationManager, UserRepository userRepository,\r\n                           JWTTokenUtils jwtTokenUtils, PlanService planService) {\r\n            this.authenticationManager = authenticationManager;\r\n            this.userRepository = userRepository;\r\n            this.jwtTokenUtils = jwtTokenUtils;\r\n            this.planService = planService;\r\n        }\r\n\r\n        @Override\r\n        protected GenericRepository getGenericRepository() {\r\n            return userRepository;\r\n        }\r\n\r\n        @Override\r\n        protected SearchPredicate&lt;User&gt; getSearchPredicate(String search) {\r\n            return null;\r\n        }\r\n\r\n        /* Methods */\r\n\r\n        /**\r\n         * Method to login on Coupler API.\r\n         *\r\n         * @param jwtRequestDTO Login request DTO.\r\n         * @return {@link JwtResponseDTO}. JWT Token with all the info.\r\n         * @throws RestRequestException The API can throw an exception if it cannot find necessary data.\r\n         */\r\n        public JwtResponseDTO login(JwtRequestDTO jwtRequestDTO) throws RestRequestException {\r\n            var userPassword = new UsernamePasswordAuthenticationToken(jwtRequestDTO.getEmail(), jwtRequestDTO.getPassword());\r\n            // The error is here!\r\n            var auth = authenticationManager.authenticate(userPassword);\r\n            var token = jwtTokenUtils.generateToken(((User) auth.getPrincipal()).getEmail());\r\n            User user = userRepository.findByEmail(jwtRequestDTO.getEmail())\r\n                    .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.FIM_ERROR_U01.getMessage()));\r\n            return new JwtResponseDTO(token, user.getId());\r\n        }\r\n    }\r\nI&#39;m not defining any other AuthenticationManager in my system and when I comment or remove the &quot;@Bean&quot; with the AuthenticationManager, it claims that my UserService requires a bean that was not provided and this beam is the AuthenticationManager.\r\nThe &quot;RequestFilter&quot; is my &quot;extended OncePerRequestFilter&quot; implementation, don&#39;t think the problem is there so I&#39;ll ignore it for the sake of keeping it simple.","title":"AuthenticationManager.authenticate() returns stackoverflow","body":"<p>I'm trying to make a simple login system on my project, using Spring 3.1.1 and Spring Security 3.1.1 as well. Read on the documentation that we should not &quot;extends WebSecurityAdapter&quot; anymore and instead implement it like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    RequestFilter requestFilter;\n\n    /**\n     * List with whitelisted endpoints.\n     */\n    private static final String[] AUTH_WHITELIST = {\n            // -- Swagger UI v2\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/webjars/**&quot;,\n            // -- Swagger UI v3 (OpenAPI)\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;,\n            // other public endpoints of your API may be appended to this array\n            &quot;/users/register&quot;,\n            &quot;/users/login&quot;,\n            &quot;/plans/free-plan&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(AUTH_WHITELIST).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .addFilterBefore(requestFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return web -&gt; web.ignoring().requestMatchers(&quot;/v3/api-docs/**&quot;);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>In this class I create an &quot;AuthenticationManager&quot; on the bean but when I try to use this on my service it gives an Stackoverflow error. My service:</p>\n<pre><code>@Service\npublic class UserService extends GenericService&lt;User&gt; {\n\n    /**\n     * Authentication Manager instance.\n     */\n    private final AuthenticationManager authenticationManager;\n\n    /**\n     * User Repository instance.\n     */\n    private final UserRepository userRepository;\n\n    /**\n     * JWTUtils Instance.\n     */\n    private JWTTokenUtils jwtTokenUtils;\n\n    /**\n     * Plan Service instance.\n     */\n    private PlanService planService;\n\n    @Autowired\n    public UserService(AuthenticationManager authenticationManager, UserRepository userRepository,\n                       JWTTokenUtils jwtTokenUtils, PlanService planService) {\n        this.authenticationManager = authenticationManager;\n        this.userRepository = userRepository;\n        this.jwtTokenUtils = jwtTokenUtils;\n        this.planService = planService;\n    }\n\n    @Override\n    protected GenericRepository getGenericRepository() {\n        return userRepository;\n    }\n\n    @Override\n    protected SearchPredicate&lt;User&gt; getSearchPredicate(String search) {\n        return null;\n    }\n\n    /* Methods */\n\n    /**\n     * Method to login on Coupler API.\n     *\n     * @param jwtRequestDTO Login request DTO.\n     * @return {@link JwtResponseDTO}. JWT Token with all the info.\n     * @throws RestRequestException The API can throw an exception if it cannot find necessary data.\n     */\n    public JwtResponseDTO login(JwtRequestDTO jwtRequestDTO) throws RestRequestException {\n        var userPassword = new UsernamePasswordAuthenticationToken(jwtRequestDTO.getEmail(), jwtRequestDTO.getPassword());\n        // The error is here!\n        var auth = authenticationManager.authenticate(userPassword);\n        var token = jwtTokenUtils.generateToken(((User) auth.getPrincipal()).getEmail());\n        User user = userRepository.findByEmail(jwtRequestDTO.getEmail())\n                .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.FIM_ERROR_U01.getMessage()));\n        return new JwtResponseDTO(token, user.getId());\n    }\n}\n</code></pre>\n<p>I'm not defining any other AuthenticationManager in my system and when I comment or remove the &quot;@Bean&quot; with the AuthenticationManager, it claims that my UserService requires a bean that was not provided and this beam is the AuthenticationManager.\nThe &quot;RequestFilter&quot; is my &quot;extended OncePerRequestFilter&quot; implementation, don't think the problem is there so I'll ignore it for the sake of keeping it simple.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697203606,"post_id":77286937,"comment_id":136254046,"body_markdown":"I did not look deeply at your code, but I am not sure why you would need a `Runnabler` to play animations or sounds. I would suggest looking into JavaFX&#39;s `Animation` `API`.","body":"I did not look deeply at your code, but I am not sure why you would need a <code>Runnabler</code> to play animations or sounds. I would suggest looking into JavaFX&#39;s <code>Animation</code> <code>API</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1697210825,"post_id":77286937,"comment_id":136255586,"body_markdown":"If you want to play a sound, maybe an AudioClip is better than a MediaPlayer.","body":"If you want to play a sound, maybe an AudioClip is better than a MediaPlayer."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697206720,"creation_date":1697206720,"answer_id":77288489,"question_id":77286937,"body_markdown":"I would remove all use of `static` fields, and I would remove all uses of ScheduledExecutorService.\r\n\r\nI realize that the static fields were necessary since the `main` method of Test has no way to access the instance of NotificationApp created by JavaFX, but the better way to do this is to have only one main method, so you wont need to worry about accessing a NotificationApp instance from other classes.\r\n\r\nIf you want to make NotificationApp capable of performing different actions, use its [command line arguments](https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html#getParameters()).  Instead of ScheduledExecutorService.schedule, use the [setOnFinished](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Animation.html#setOnFinished(javafx.event.EventHandler)) method of [PauseTransition](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/PauseTransition.html), which will remove the need for Platform.runLater there.  Instead of ScheduledExecutorService.scheduleAtFixedRate, create a [Timeline with a single KeyFrame](https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Timeline.html#%3Cinit%3E(javafx.animation.KeyFrame...)) whose listener performs the task.\r\n\r\n    import java.io.File;\r\n\r\n    import java.util.List;\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.PauseTransition;\r\n    import javafx.animation.Timeline;\r\n    import javafx.animation.KeyFrame;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    import javafx.stage.Screen;\r\n\r\n    import javafx.scene.Scene;\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n\r\n    import javafx.scene.layout.Pane;\r\n\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n\r\n    import javafx.util.Duration;\r\n\r\n    public class NotificationApp extends Application {\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n        private Stage primaryStage;\r\n        private MediaPlayer mediaPlayer;\r\n\r\n        // Schedule closing the stage after 5 seconds\r\n        private Animation closer;\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            // Create a custom dialog with an ImageView\r\n            Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\r\n            ImageView gifImageView = new ImageView(gifImage);\r\n            Pane pane = new Pane(gifImageView);\r\n            Scene scene = new Scene(pane);\r\n\r\n            // Set stage properties\r\n            primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\r\n            primaryStage.setAlwaysOnTop(true);\r\n\r\n            // Determine screen dimensions\r\n            double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\r\n            double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\r\n            double stageWidth = gifImage.getWidth();\r\n            double stageHeight = gifImage.getHeight();\r\n\r\n            // Set the stage position to the right corner\r\n            double xOffset = screenWidth - stageWidth;\r\n            double yOffset = screenHeight - stageHeight;\r\n            primaryStage.setX(xOffset);\r\n            primaryStage.setY(yOffset);\r\n\r\n            primaryStage.setScene(scene);\r\n            this.primaryStage = primaryStage;\r\n\r\n            Media sound = new Media(NotificationApp.class.getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\r\n            mediaPlayer = new MediaPlayer(sound);\r\n\r\n            closer = new PauseTransition(Duration.seconds(5));\r\n            closer.setOnFinished(e -&gt; {\r\n                mediaPlayer.stop();\r\n                primaryStage.close();\r\n            });\r\n\r\n            List&lt;String&gt; args = getParameters().getRaw();\r\n            if (args.isEmpty()) {\r\n                //Play animation and Sound during application start\r\n                Platform.runLater(() -&gt; playAnimation());\r\n            } else {\r\n                Platform.setImplicitExit(false);\r\n                for (String arg : args) {\r\n                    Duration interval = Duration.valueOf(arg);\r\n                    Timeline repeater = new Timeline(\r\n                        new KeyFrame(interval, e -&gt; playAnimation()));\r\n                    repeater.setCycleCount(Animation.INDEFINITE);\r\n                    repeater.play();\r\n                }\r\n            }\r\n        }\r\n\r\n        private void playAnimation() {\r\n            mediaPlayer.play();\r\n            primaryStage.show();\r\n\r\n            closer.playFromStart();\r\n        }\r\n\r\n    }\r\n\r\nThe event handlers of PauseTransition and Timeline are called in the JavaFX application thread, so there is no need for Platform.runLater.\r\n\r\nThe application can be invoked like this:\r\n\r\n    java -p /opt/java/javafx/lib --add-modules javafx.graphics,javafx.media NotificationApp 2m 4m 9m 13m\r\n\r\nThe meaning of arguments like `2m` is explained in [the documentation of Duration.valueOf](https://openjfx.io/javadoc/21/javafx.base/javafx/util/Duration.html#valueOf(java.lang.String)).  Note that this is the javafx.util.Duration class, not java.time.Duration.\r\n\r\n**Caution:** Using an interval of 2 minutes already guarantees the notification will be shown every 4 minutes.  Specifying both 2 minutes *and* 4 minutes means that every 4 minutes, **two notifications** will be displayed at the same time, on top of each other.  And, as you might imagine, specifying both 2 minutes and 9 minutes means two simultaneous notifications will appear every 18 minutes.  Specifying both 2 minutes and 13 minutes means two simultaneous notifications will appear every 26 minutes.\r\n\r\nYou probably should only specify a single interval, like `2m`, when testing.\r\n","title":"JavaFX correct way to call statge.show() and mediaPlayer.play()","body":"<p>I would remove all use of <code>static</code> fields, and I would remove all uses of ScheduledExecutorService.</p>\n<p>I realize that the static fields were necessary since the <code>main</code> method of Test has no way to access the instance of NotificationApp created by JavaFX, but the better way to do this is to have only one main method, so you wont need to worry about accessing a NotificationApp instance from other classes.</p>\n<p>If you want to make NotificationApp capable of performing different actions, use its <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html#getParameters()\" rel=\"nofollow noreferrer\">command line arguments</a>.  Instead of ScheduledExecutorService.schedule, use the <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Animation.html#setOnFinished(javafx.event.EventHandler)\" rel=\"nofollow noreferrer\">setOnFinished</a> method of <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/PauseTransition.html\" rel=\"nofollow noreferrer\">PauseTransition</a>, which will remove the need for Platform.runLater there.  Instead of ScheduledExecutorService.scheduleAtFixedRate, create a <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/animation/Timeline.html#%3Cinit%3E(javafx.animation.KeyFrame...)\" rel=\"nofollow noreferrer\">Timeline with a single KeyFrame</a> whose listener performs the task.</p>\n<pre><code>import java.io.File;\n\nimport java.util.List;\n\nimport javafx.animation.Animation;\nimport javafx.animation.PauseTransition;\nimport javafx.animation.Timeline;\nimport javafx.animation.KeyFrame;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\n\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Screen;\n\nimport javafx.scene.Scene;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\nimport javafx.scene.layout.Pane;\n\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\n\nimport javafx.util.Duration;\n\npublic class NotificationApp extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private Stage primaryStage;\n    private MediaPlayer mediaPlayer;\n\n    // Schedule closing the stage after 5 seconds\n    private Animation closer;\n\n    @Override\n    public void start(Stage primaryStage) {\n        // Create a custom dialog with an ImageView\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\n        ImageView gifImageView = new ImageView(gifImage);\n        Pane pane = new Pane(gifImageView);\n        Scene scene = new Scene(pane);\n\n        // Set stage properties\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\n        primaryStage.setAlwaysOnTop(true);\n\n        // Determine screen dimensions\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\n        double stageWidth = gifImage.getWidth();\n        double stageHeight = gifImage.getHeight();\n\n        // Set the stage position to the right corner\n        double xOffset = screenWidth - stageWidth;\n        double yOffset = screenHeight - stageHeight;\n        primaryStage.setX(xOffset);\n        primaryStage.setY(yOffset);\n\n        primaryStage.setScene(scene);\n        this.primaryStage = primaryStage;\n\n        Media sound = new Media(NotificationApp.class.getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\n        mediaPlayer = new MediaPlayer(sound);\n\n        closer = new PauseTransition(Duration.seconds(5));\n        closer.setOnFinished(e -&gt; {\n            mediaPlayer.stop();\n            primaryStage.close();\n        });\n\n        List&lt;String&gt; args = getParameters().getRaw();\n        if (args.isEmpty()) {\n            //Play animation and Sound during application start\n            Platform.runLater(() -&gt; playAnimation());\n        } else {\n            Platform.setImplicitExit(false);\n            for (String arg : args) {\n                Duration interval = Duration.valueOf(arg);\n                Timeline repeater = new Timeline(\n                    new KeyFrame(interval, e -&gt; playAnimation()));\n                repeater.setCycleCount(Animation.INDEFINITE);\n                repeater.play();\n            }\n        }\n    }\n\n    private void playAnimation() {\n        mediaPlayer.play();\n        primaryStage.show();\n\n        closer.playFromStart();\n    }\n\n}\n</code></pre>\n<p>The event handlers of PauseTransition and Timeline are called in the JavaFX application thread, so there is no need for Platform.runLater.</p>\n<p>The application can be invoked like this:</p>\n<pre><code>java -p /opt/java/javafx/lib --add-modules javafx.graphics,javafx.media NotificationApp 2m 4m 9m 13m\n</code></pre>\n<p>The meaning of arguments like <code>2m</code> is explained in <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/util/Duration.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">the documentation of Duration.valueOf</a>.  Note that this is the javafx.util.Duration class, not java.time.Duration.</p>\n<p><strong>Caution:</strong> Using an interval of 2 minutes already guarantees the notification will be shown every 4 minutes.  Specifying both 2 minutes <em>and</em> 4 minutes means that every 4 minutes, <strong>two notifications</strong> will be displayed at the same time, on top of each other.  And, as you might imagine, specifying both 2 minutes and 9 minutes means two simultaneous notifications will appear every 18 minutes.  Specifying both 2 minutes and 13 minutes means two simultaneous notifications will appear every 26 minutes.</p>\n<p>You probably should only specify a single interval, like <code>2m</code>, when testing.</p>\n"}],"owner":{"account_id":29663197,"reputation":1,"user_id":22734333,"display_name":"Lalit k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697206720,"creation_date":1697192399,"question_id":77286937,"body_markdown":"I am trying to show notification on right corner of windows, in which I am playing animation and sound. Below code is working perfectly when I am starting Test.main() for first time, but when I am trying to play same animation and sound it not working. Please help me.. thanks in advance\r\n\r\nTest.java\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(4);\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 2 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 4 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 9 * 60, TimeUnit.SECONDS);\r\n\r\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 13 * 60, TimeUnit.SECONDS);\r\n       \r\n        //Launching application first time\r\n        NotificationApp.runFromScheduledExecutor();\r\n        \r\n    }\r\n\r\n}\r\n```\r\nNotificationRunnable.java\r\n\r\n```\r\npublic class NotificationRunnable implements Runnable{\r\n    @Override\r\n    public void run() {\r\n        Platform.runLater(() -&gt; {\r\n            NotificationApp.playAnimation();\r\n        });\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n}\r\n\r\nNotification.java\r\n\r\npublic class NotificationApp extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    static Stage primaryStage = null;\r\n    static MediaPlayer mediaPlayer = null;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        // Create a custom dialog with an ImageView\r\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\r\n        ImageView gifImageView = new ImageView(gifImage);\r\n        Pane pane = new Pane(gifImageView);\r\n        Scene scene = new Scene(pane);\r\n\r\n        // Set stage properties\r\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\r\n        primaryStage.setAlwaysOnTop(true);\r\n\r\n        // Determine screen dimensions\r\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\r\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\r\n        double stageWidth = gifImage.getWidth();\r\n        double stageHeight = gifImage.getHeight();\r\n\r\n        // Set the stage position to the right corner\r\n        double xOffset = screenWidth - stageWidth;\r\n        double yOffset = screenHeight - stageHeight;\r\n        primaryStage.setX(xOffset);\r\n        primaryStage.setY(yOffset);\r\n\r\n        primaryStage.setScene(scene);\r\n        this.primaryStage = primaryStage;\r\n\r\n        Media sound = new Media(new Test().getClass().getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\r\n        mediaPlayer = new MediaPlayer(sound);\r\n        //Play animation and Sound during application start\r\n        Platform.runLater(() -&gt; {\r\n            playAnimation();\r\n        });\r\n    }\r\n\r\n    public static void playAnimation(){\r\n        Platform.runLater(() -&gt; {\r\n            mediaPlayer.play();\r\n            primaryStage.show();\r\n        });\r\n        // Schedule closing the stage after 5 seconds\r\n        ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n        scheduler.schedule(() -&gt; {\r\n            Platform.runLater(() -&gt; {\r\n                mediaPlayer.stop();\r\n                primaryStage.close();\r\n            });\r\n        }, 5, TimeUnit.SECONDS);\r\n    }\r\n    public static void runFromScheduledExecutor() {\r\n        Application.launch(NotificationApp.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI am trying to play animation and sound from Runnable by calling playAnimation(). but this code is not playing animation, when I launch the application for first time it play animation and sound as per requirment but not working for second time.","title":"JavaFX correct way to call statge.show() and mediaPlayer.play()","body":"<p>I am trying to show notification on right corner of windows, in which I am playing animation and sound. Below code is working perfectly when I am starting Test.main() for first time, but when I am trying to play same animation and sound it not working. Please help me.. thanks in advance</p>\n<p>Test.java</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(4);\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 2 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 4 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 9 * 60, TimeUnit.SECONDS);\n\n        executor.scheduleAtFixedRate(new NotificationRunnable(), 0, 13 * 60, TimeUnit.SECONDS);\n       \n        //Launching application first time\n        NotificationApp.runFromScheduledExecutor();\n        \n    }\n\n}\n</code></pre>\n<p>NotificationRunnable.java</p>\n<pre><code>public class NotificationRunnable implements Runnable{\n    @Override\n    public void run() {\n        Platform.runLater(() -&gt; {\n            NotificationApp.playAnimation();\n        });\n        System.out.println(&quot;Done&quot;);\n    }\n}\n\nNotification.java\n\npublic class NotificationApp extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    static Stage primaryStage = null;\n    static MediaPlayer mediaPlayer = null;\n\n    @Override\n    public void start(Stage primaryStage) {\n        // Create a custom dialog with an ImageView\n        Image gifImage = new Image(String.valueOf(new File(&quot;img/giphy.gif&quot;))); // Replace with your GIF file path\n        ImageView gifImageView = new ImageView(gifImage);\n        Pane pane = new Pane(gifImageView);\n        Scene scene = new Scene(pane);\n\n        // Set stage properties\n        primaryStage.initStyle(StageStyle.TRANSPARENT); // Hide the window decoration\n        primaryStage.setAlwaysOnTop(true);\n\n        // Determine screen dimensions\n        double screenWidth = Screen.getPrimary().getVisualBounds().getWidth();\n        double screenHeight = Screen.getPrimary().getVisualBounds().getHeight();\n        double stageWidth = gifImage.getWidth();\n        double stageHeight = gifImage.getHeight();\n\n        // Set the stage position to the right corner\n        double xOffset = screenWidth - stageWidth;\n        double yOffset = screenHeight - stageHeight;\n        primaryStage.setX(xOffset);\n        primaryStage.setY(yOffset);\n\n        primaryStage.setScene(scene);\n        this.primaryStage = primaryStage;\n\n        Media sound = new Media(new Test().getClass().getResource(&quot;/snd/Notification.mp3&quot;).toExternalForm());\n        mediaPlayer = new MediaPlayer(sound);\n        //Play animation and Sound during application start\n        Platform.runLater(() -&gt; {\n            playAnimation();\n        });\n    }\n\n    public static void playAnimation(){\n        Platform.runLater(() -&gt; {\n            mediaPlayer.play();\n            primaryStage.show();\n        });\n        // Schedule closing the stage after 5 seconds\n        ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n        scheduler.schedule(() -&gt; {\n            Platform.runLater(() -&gt; {\n                mediaPlayer.stop();\n                primaryStage.close();\n            });\n        }, 5, TimeUnit.SECONDS);\n    }\n    public static void runFromScheduledExecutor() {\n        Application.launch(NotificationApp.class);\n    }\n\n}\n</code></pre>\n<p>I am trying to play animation and sound from Runnable by calling playAnimation(). but this code is not playing animation, when I launch the application for first time it play animation and sound as per requirment but not working for second time.</p>\n"},{"tags":["java","android","firebase","firebase-authentication","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697206619,"creation_date":1697168421,"answer_id":77284937,"question_id":77267222,"body_markdown":"I was reading the following docs:\r\n\r\n- **[FirebaseUI for Auth Open Source Docs][1]**\r\n- **[Firebase Local Emulator Suite Docs][2]**\r\n\r\nSo, you need to run the emulator (if running, then ignore) and tell `AuthUI` to use the emulator that you are running.\r\n\r\nUpdate the part of your code to this:\r\n\r\n    AuthUI authUI = AuthUI.getInstance();\r\n    \r\n    // Change the ip and port accordingly. \r\n    // I&#39;m using the one mentioned in the docs\r\n    authUI.useEmulator(&quot;10.0.2.2&quot;, 9099);\r\n    \r\n    Intent intentSignIn = authUI.createSignInIntentBuilder()\r\n                .setAvailableProviders(listProviders)\r\n                .setTheme(R.style.LoginTheme)\r\n                .setLogo(R.drawable.login_icon)\r\n                .setTosAndPrivacyPolicyUrls(\r\n                        &quot;URL&quot;,\r\n                        &quot;URL&quot;)\r\n                .build();\r\n\r\nSee if this works.\r\n\r\n\r\n  [1]: https://firebaseopensource.com/projects/firebase/firebaseui-android/auth/readme/\r\n  [2]: https://firebase.google.com/docs/emulator-suite","title":"Firebase Auth does not work without Google Play Services","body":"<p>I was reading the following docs:</p>\n<ul>\n<li><strong><a href=\"https://firebaseopensource.com/projects/firebase/firebaseui-android/auth/readme/\" rel=\"nofollow noreferrer\">FirebaseUI for Auth Open Source Docs</a></strong></li>\n<li><strong><a href=\"https://firebase.google.com/docs/emulator-suite\" rel=\"nofollow noreferrer\">Firebase Local Emulator Suite Docs</a></strong></li>\n</ul>\n<p>So, you need to run the emulator (if running, then ignore) and tell <code>AuthUI</code> to use the emulator that you are running.</p>\n<p>Update the part of your code to this:</p>\n<pre><code>AuthUI authUI = AuthUI.getInstance();\n\n// Change the ip and port accordingly. \n// I'm using the one mentioned in the docs\nauthUI.useEmulator(&quot;10.0.2.2&quot;, 9099);\n\nIntent intentSignIn = authUI.createSignInIntentBuilder()\n            .setAvailableProviders(listProviders)\n            .setTheme(R.style.LoginTheme)\n            .setLogo(R.drawable.login_icon)\n            .setTosAndPrivacyPolicyUrls(\n                    &quot;URL&quot;,\n                    &quot;URL&quot;)\n            .build();\n</code></pre>\n<p>See if this works.</p>\n"}],"owner":{"account_id":5644605,"reputation":341,"user_id":4467171,"display_name":"Miha M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697206619,"creation_date":1696952668,"question_id":77267222,"body_markdown":"My app got rejected from Amazon Appstore due to an error while trying to login with Firebase AuthUI.\r\n\r\nI decided to do some research and found out that all Amazon Fire devices run without Google Play Services. I installed a new emulator without Google services and also got an error.\r\n\r\nThe strange part is, that the version 20.0.0 of the Firebase Auth introduced a feature &quot;[The Firebase Authentication Android library now works on devices without Google Play services.][1]&quot;.\r\n\r\nCode\r\n\r\n    public void signIn() {\r\n        List&lt;AuthUI.IdpConfig&gt; listProviders = Arrays.asList(\r\n                new AuthUI.IdpConfig.GoogleBuilder().build(),\r\n                new AuthUI.IdpConfig.FacebookBuilder().build(),\r\n                new AuthUI.IdpConfig.TwitterBuilder().build(),\r\n                new AuthUI.IdpConfig.YahooBuilder().build(),\r\n                new AuthUI.IdpConfig.EmailBuilder().build()\r\n        );\r\n\r\n        // Create and launch sign-in intent\r\n        Intent intentSignIn = AuthUI.getInstance()\r\n                .createSignInIntentBuilder()\r\n                .setAvailableProviders(listProviders)\r\n                .setTheme(R.style.LoginTheme)\r\n                .setLogo(R.drawable.login_icon)\r\n                .setTosAndPrivacyPolicyUrls(\r\n                        &quot;URL&quot;,\r\n                        &quot;URL&quot;)\r\n                .build();\r\n        activityResultLauncherSignIn.launch(intentSignIn);\r\n    }\r\n\r\n    // https://developer.android.com/training/basics/intents/result\r\n    private final ActivityResultLauncher&lt;Intent&gt; activityResultLauncherSignIn = registerForActivityResult(\r\n            new FirebaseAuthUIActivityResultContract(),\r\n            this::onSignInResult\r\n    );\r\n\r\n    private void onSignInResult(FirebaseAuthUIAuthenticationResult firebaseAuthUIAuthenticationResult) {\r\n        IdpResponse idpResponse = firebaseAuthUIAuthenticationResult.getIdpResponse();\r\n        if (firebaseAuthUIAuthenticationResult.getResultCode() == RESULT_OK) {\r\n            if (firebaseUser != null &amp;&amp; firebaseUser.getEmail() != null &amp;&amp; !firebaseUser.isEmailVerified())\r\n                sendVerificationEmail();\r\n        } else {\r\n            // Sign in failed. If response is null the user canceled the sign-in flow using the back button. Otherwise check response.getError().getErrorCode() and handle the error.\r\n            if (idpResponse != null &amp;&amp; idpResponse.getError() != null) {\r\n                Log.e(TAG, &quot;Problem with Firebase authentication: &quot; + idpResponse.getError().getErrorCode());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nError:\r\nProblem with Firebase authentication: 0\r\n\r\n&gt; com.google.android.play.core.install.InstallException: -9: Install Error(-9): The Play Store app is either not installed or not the official version.\r\n\r\n\r\nI am using these dependencies:\r\n\r\n```\r\nimplementation platform(&#39;com.google.firebase:firebase-bom:32.3.1&#39;)\r\nimplementation &#39;com.firebaseui:firebase-ui-auth:8.0.2&#39;\r\nimplementation &#39;com.google.android.gms:play-services-auth:20.7.0&#39;\r\n```\r\n\r\n  [1]: https://firebase.google.com/support/release-notes/android#auth_v20-0-0","title":"Firebase Auth does not work without Google Play Services","body":"<p>My app got rejected from Amazon Appstore due to an error while trying to login with Firebase AuthUI.</p>\n<p>I decided to do some research and found out that all Amazon Fire devices run without Google Play Services. I installed a new emulator without Google services and also got an error.</p>\n<p>The strange part is, that the version 20.0.0 of the Firebase Auth introduced a feature &quot;<a href=\"https://firebase.google.com/support/release-notes/android#auth_v20-0-0\" rel=\"nofollow noreferrer\">The Firebase Authentication Android library now works on devices without Google Play services.</a>&quot;.</p>\n<p>Code</p>\n<pre><code>public void signIn() {\n    List&lt;AuthUI.IdpConfig&gt; listProviders = Arrays.asList(\n            new AuthUI.IdpConfig.GoogleBuilder().build(),\n            new AuthUI.IdpConfig.FacebookBuilder().build(),\n            new AuthUI.IdpConfig.TwitterBuilder().build(),\n            new AuthUI.IdpConfig.YahooBuilder().build(),\n            new AuthUI.IdpConfig.EmailBuilder().build()\n    );\n\n    // Create and launch sign-in intent\n    Intent intentSignIn = AuthUI.getInstance()\n            .createSignInIntentBuilder()\n            .setAvailableProviders(listProviders)\n            .setTheme(R.style.LoginTheme)\n            .setLogo(R.drawable.login_icon)\n            .setTosAndPrivacyPolicyUrls(\n                    &quot;URL&quot;,\n                    &quot;URL&quot;)\n            .build();\n    activityResultLauncherSignIn.launch(intentSignIn);\n}\n\n// https://developer.android.com/training/basics/intents/result\nprivate final ActivityResultLauncher&lt;Intent&gt; activityResultLauncherSignIn = registerForActivityResult(\n        new FirebaseAuthUIActivityResultContract(),\n        this::onSignInResult\n);\n\nprivate void onSignInResult(FirebaseAuthUIAuthenticationResult firebaseAuthUIAuthenticationResult) {\n    IdpResponse idpResponse = firebaseAuthUIAuthenticationResult.getIdpResponse();\n    if (firebaseAuthUIAuthenticationResult.getResultCode() == RESULT_OK) {\n        if (firebaseUser != null &amp;&amp; firebaseUser.getEmail() != null &amp;&amp; !firebaseUser.isEmailVerified())\n            sendVerificationEmail();\n    } else {\n        // Sign in failed. If response is null the user canceled the sign-in flow using the back button. Otherwise check response.getError().getErrorCode() and handle the error.\n        if (idpResponse != null &amp;&amp; idpResponse.getError() != null) {\n            Log.e(TAG, &quot;Problem with Firebase authentication: &quot; + idpResponse.getError().getErrorCode());\n        }\n    }\n}\n</code></pre>\n<p>Error:\nProblem with Firebase authentication: 0</p>\n<blockquote>\n<p>com.google.android.play.core.install.InstallException: -9: Install Error(-9): The Play Store app is either not installed or not the official version.</p>\n</blockquote>\n<p>I am using these dependencies:</p>\n<pre><code>implementation platform('com.google.firebase:firebase-bom:32.3.1')\nimplementation 'com.firebaseui:firebase-ui-auth:8.0.2'\nimplementation 'com.google.android.gms:play-services-auth:20.7.0'\n</code></pre>\n"},{"tags":["java","proguard"],"owner":{"account_id":29664750,"reputation":1,"user_id":22735561,"display_name":"Dulcinea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697206477,"creation_date":1697206477,"question_id":77288466,"body_markdown":"I&#39;m stuck trying to obfuscate a java program with proguard 7.3.2 on windows 10 and jdk 9.\r\n\r\nSome facts:\r\n1. original jar runs well on the default folder (/dist)\r\n2. original jar DOES NOT run on any other folder. The program does not start (&quot;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook&quot;)\r\n3. if i create an exe file of the original jar file with Launch4j, it runs on the default folder\r\n4. the exe file of the original jar runs everywhere.\r\n5. if i obfuscate the jar file, it runs fine on the default folder (/dist) same as the original jar, which is great.\r\n6. the obfuscated jar does not run on another folder. The program does not start (same error as above)\r\n7. if i create an exe file of the obfuscated jar file with Launch4j, it runs well on the default folder\r\n8. the exe file of the obfuscated jar does not run on any other folder. The program does not start (same error as before).\r\n9. when i compile the java program, another jar file with all the libraries is created.\r\n10. the full jar file runs on it&#39;s default folder (/Executable)\r\n11. the full jar file runs on any folder, no error shows\r\n12. if I obfuscate this full jar file and it runs on the default folder (/Executable), a different error shows when tries the connection with the database. The program actually runs. Therefore, nothing to do with the previous error.\r\n13. if I run this obfuscated jar of the full jar on a different folder, the program runs and I get the error when tries the database connection.\r\n\r\nI&#39;m aware poi dependencies are crucial therefore I&#39;ve checked twice all of them are installed (attached).\r\n\r\nI&#39;ve made several changes on the proguard configuration with no success (with/without keep directories ...attached the last configuration).\r\n\r\nI need that either the obfuscated jar or the exe file created with it, runs on any folder.\r\n\r\nAny idea will be welcome.\r\n\r\nThanks a lot,\r\n\r\nPOI dependencies:\r\n\r\n[poi dependencies](https://i.stack.imgur.com/1qHea.png)\r\n\r\nProguard configuration:\r\n\r\n```\r\n-dontskipnonpubliclibraryclassmembers\r\n-keepdirectories **\r\n-forceprocessing\r\n-dontoptimize\r\n-keeppackagenames **\r\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,LocalVariableTable,*Annotation*,Synthetic,EnclosingMethod,SourceDir,EnclosigMethod\r\n-renamesourcefileattribute SourceFile\r\n-dontnote\r\n-dontwarn\r\n\r\n\r\n\r\n# Keep - Applications. Keep all application classes, along with their &#39;main&#39; methods.\r\n-keepclasseswithmembers public class * {\r\n    public static void main(java.lang.String[]);\r\n}\r\n\r\n# Also keep - Enumerations. Keep the special static methods that are required in\r\n# enumeration classes.\r\n-keepclassmembers enum  * {\r\n    public static **[] values();\r\n    public static ** valueOf(java.lang.String);\r\n}\r\n\r\n# Also keep - Database drivers. Keep all implementations of java.sql.Driver.\r\n-keep class * extends java.sql.Driver\r\n\r\n# Also keep - Swing UI L&amp;F. Keep all extensions of javax.swing.plaf.ComponentUI,\r\n# along with the special &#39;createUI&#39; method.\r\n-keep class * extends javax.swing.plaf.ComponentUI {\r\n    public static javax.swing.plaf.ComponentUI createUI(javax.swing.JComponent);\r\n}\r\n\r\n# Keep - Native method names. Keep all native class/method names.\r\n-keepclasseswithmembers,includedescriptorclasses,allowshrinking class * {\r\n    native &lt;methods&gt;;\r\n}\r\n\r\n# Remove - System method calls. Remove all invocations of System\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.System {\r\n    ...\r\n}\r\n\r\n# Remove - Math method calls. Remove all invocations of Math\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.Math {\r\n    ...\r\n}\r\n\r\n# Remove - Number method calls. Remove all invocations of Number\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.* extends java.lang.Number {\r\n    ...\r\n}\r\n\r\n# Remove - String method calls. Remove all invocations of String\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.String {\r\n    ...\r\n}\r\n\r\n# Remove - StringBuffer method calls. Remove all invocations of StringBuffer\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.StringBuffer {\r\n    ...\r\n}\r\n\r\n# Remove - StringBuilder method calls. Remove all invocations of StringBuilder\r\n# methods without side effects whose return values are not used.\r\n-assumenosideeffects public class java.lang.StringBuilder {\r\n    ...\r\n}\r\n\r\n\r\n\r\nI need an obfuscated file that runs everywhere, not only on the default folder (/dist).","title":"Java obfuscated file with proguard runs on default folder but does not run on any folder","body":"<p>I'm stuck trying to obfuscate a java program with proguard 7.3.2 on windows 10 and jdk 9.</p>\n<p>Some facts:</p>\n<ol>\n<li>original jar runs well on the default folder (/dist)</li>\n<li>original jar DOES NOT run on any other folder. The program does not start (&quot;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook&quot;)</li>\n<li>if i create an exe file of the original jar file with Launch4j, it runs on the default folder</li>\n<li>the exe file of the original jar runs everywhere.</li>\n<li>if i obfuscate the jar file, it runs fine on the default folder (/dist) same as the original jar, which is great.</li>\n<li>the obfuscated jar does not run on another folder. The program does not start (same error as above)</li>\n<li>if i create an exe file of the obfuscated jar file with Launch4j, it runs well on the default folder</li>\n<li>the exe file of the obfuscated jar does not run on any other folder. The program does not start (same error as before).</li>\n<li>when i compile the java program, another jar file with all the libraries is created.</li>\n<li>the full jar file runs on it's default folder (/Executable)</li>\n<li>the full jar file runs on any folder, no error shows</li>\n<li>if I obfuscate this full jar file and it runs on the default folder (/Executable), a different error shows when tries the connection with the database. The program actually runs. Therefore, nothing to do with the previous error.</li>\n<li>if I run this obfuscated jar of the full jar on a different folder, the program runs and I get the error when tries the database connection.</li>\n</ol>\n<p>I'm aware poi dependencies are crucial therefore I've checked twice all of them are installed (attached).</p>\n<p>I've made several changes on the proguard configuration with no success (with/without keep directories ...attached the last configuration).</p>\n<p>I need that either the obfuscated jar or the exe file created with it, runs on any folder.</p>\n<p>Any idea will be welcome.</p>\n<p>Thanks a lot,</p>\n<p>POI dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/1qHea.png\" rel=\"nofollow noreferrer\">poi dependencies</a></p>\n<p>Proguard configuration:</p>\n<pre><code>-dontskipnonpubliclibraryclassmembers\n-keepdirectories **\n-forceprocessing\n-dontoptimize\n-keeppackagenames **\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,LocalVariableTable,*Annotation*,Synthetic,EnclosingMethod,SourceDir,EnclosigMethod\n-renamesourcefileattribute SourceFile\n-dontnote\n-dontwarn\n\n\n\n# Keep - Applications. Keep all application classes, along with their 'main' methods.\n-keepclasseswithmembers public class * {\n    public static void main(java.lang.String[]);\n}\n\n# Also keep - Enumerations. Keep the special static methods that are required in\n# enumeration classes.\n-keepclassmembers enum  * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n# Also keep - Database drivers. Keep all implementations of java.sql.Driver.\n-keep class * extends java.sql.Driver\n\n# Also keep - Swing UI L&amp;F. Keep all extensions of javax.swing.plaf.ComponentUI,\n# along with the special 'createUI' method.\n-keep class * extends javax.swing.plaf.ComponentUI {\n    public static javax.swing.plaf.ComponentUI createUI(javax.swing.JComponent);\n}\n\n# Keep - Native method names. Keep all native class/method names.\n-keepclasseswithmembers,includedescriptorclasses,allowshrinking class * {\n    native &lt;methods&gt;;\n}\n\n# Remove - System method calls. Remove all invocations of System\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.System {\n    ...\n}\n\n# Remove - Math method calls. Remove all invocations of Math\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.Math {\n    ...\n}\n\n# Remove - Number method calls. Remove all invocations of Number\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.* extends java.lang.Number {\n    ...\n}\n\n# Remove - String method calls. Remove all invocations of String\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.String {\n    ...\n}\n\n# Remove - StringBuffer method calls. Remove all invocations of StringBuffer\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.StringBuffer {\n    ...\n}\n\n# Remove - StringBuilder method calls. Remove all invocations of StringBuilder\n# methods without side effects whose return values are not used.\n-assumenosideeffects public class java.lang.StringBuilder {\n    ...\n}\n\n\n\nI need an obfuscated file that runs everywhere, not only on the default folder (/dist).\n</code></pre>\n"},{"tags":["java","json","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697205852,"creation_date":1697205852,"answer_id":77288403,"question_id":77288204,"body_markdown":"You have marked `@JsonIgnore` for `ipaddress` in the `User` entity class, hence it is not showing up in the JSON response in Postman. Try again by removing the annotation.","title":"One to Many API not working through POSTMAN","body":"<p>You have marked <code>@JsonIgnore</code> for <code>ipaddress</code> in the <code>User</code> entity class, hence it is not showing up in the JSON response in Postman. Try again by removing the annotation.</p>\n"}],"owner":{"account_id":29479524,"reputation":1,"user_id":22590578,"display_name":"AyushmaanKarn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697206207,"creation_date":1697204148,"question_id":77288204,"body_markdown":"If I input my data through my code then it works perfectly as I am able to see the data in my parent as well as child database in PostgreSQL but when I do it through Postman, the child database is not being read.\r\n\r\n```java\r\npackage com.example.project.relation;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.SequenceGenerator;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;user_data&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String organization_name;\r\n    private String user_name;\r\n    private String password;\r\n    private Long phone_num;\r\n    private String email;\r\n    private Long registration_num;\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private Set&lt;IPaddress&gt; ipaddress = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(Long id, String org_name, String user_name, String password, Long phone_num, String email, Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\r\n        this.id = id;\r\n        this.organization_name = org_name;\r\n        this.user_name = user_name;\r\n        this.password = password;\r\n        this.phone_num = phone_num;\r\n        this.email = email;\r\n        this.registration_num = registration_num;\r\n        this.ipaddress = ipaddress;\r\n    }\r\n\r\n\r\n    public User(String organization_name, String user_name, String password, Long phone_num, String email,\r\n                Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\r\n        this.organization_name = organization_name;\r\n        this.user_name = user_name;\r\n        this.password = password;\r\n        this.phone_num = phone_num;\r\n        this.email = email;\r\n        this.registration_num = registration_num;\r\n        this.ipaddress = ipaddress;\r\n    }\r\n    \r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getOrganization_name() {\r\n\t\treturn organization_name;\r\n\t}\r\n\r\n\tpublic void setOrganization_name(String organization_name) {\r\n\t\tthis.organization_name = organization_name;\r\n\t}\r\n\r\n\tpublic String getUser_name() {\r\n\t\treturn user_name;\r\n\t}\r\n\r\n\tpublic void setUser_name(String user_name) {\r\n\t\tthis.user_name = user_name;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic Long getPhone_num() {\r\n\t\treturn phone_num;\r\n\t}\r\n\r\n\tpublic void setPhone_num(Long phone_num) {\r\n\t\tthis.phone_num = phone_num;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic Long getRegistration_num() {\r\n\t\treturn registration_num;\r\n\t}\r\n\r\n\tpublic void setRegistration_num(Long registration_num) {\r\n\t\tthis.registration_num = registration_num;\r\n\t}\r\n\t\r\n\tpublic Set&lt;IPaddress&gt; getIpaddress() {\r\n        return ipaddress;\r\n    }\r\n\r\n    public void setIpaddress(Set&lt;IPaddress&gt; ipaddress) {\r\n        this.ipaddress = ipaddress;\r\n    }\r\n\t\r\n\t@Override\r\n    public String toString() {\r\n        return &quot;User [id=&quot; + id +\r\n                &quot;, organization_name=&quot; + organization_name +\r\n                &quot;, user_name=&quot; + user_name +\r\n                &quot;, password=&quot; + password +\r\n                &quot;, phone_num=&quot; + phone_num +\r\n                &quot;, email=&quot; + email +\r\n                &quot;, registration_num=&quot; + registration_num +\r\n                &quot;, ipaddress=&quot; + ipaddress + &quot;]&quot;;\r\n    }\r\n}\r\n&#39;&#39;&#39;\r\n\r\n\r\n&#39;&#39;&#39;java  \r\npackage com.example.project.relation;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.SequenceGenerator;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;ipaddress&quot;)\r\npublic class IPaddress {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;IP_sequence&quot;,\r\n            sequenceName = &quot;IP_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;IP_sequence&quot;\r\n    )\r\n\r\n    private Long id;\r\n    private String IP_address;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    public User user;\r\n\r\n    public IPaddress() {\r\n\r\n    }\r\n\r\n    public IPaddress(Long id, String iP_address) {\r\n        this.id = id;\r\n        this.IP_address = iP_address;\r\n    }\r\n\r\n    public IPaddress(String iP_address) {\r\n        this.IP_address = iP_address;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getIP_address() {\r\n        return IP_address;\r\n    }\r\n\r\n    public void setIP_address(String iP_address) {\r\n        IP_address = iP_address;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.dto;\r\n\r\nimport com.example.project.relation.User;\r\n\r\npublic class DataRequest {\r\n\t\r\n\tprivate User user;\r\n\r\n\tpublic DataRequest() \r\n\t{\r\n\t\t\r\n\t}\r\n\r\n\tpublic DataRequest(User user) \r\n\t{\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;DataRequest [user=&quot; + user + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.controller;\r\n\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport com.example.project.relation.User;\r\nimport com.example.project.service.DataService;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class DataController {\r\n\r\n    private final DataService dataService;\r\n\r\n    public DataController(DataService dataService) {\r\n        this.dataService = dataService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return dataService.getAllUsers();\r\n\r\n    }\r\n\r\n    @PostMapping\r\n    public User createUser(@RequestBody User user) {\r\n        return dataService.createUser(user);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public User updateUser(@PathVariable Long id, @RequestBody User user) {\r\n        return dataService.updateUser(id, user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable Long id) {\r\n    \tdataService.deleteUser(id);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport com.example.project.relation.IPaddress;\r\nimport com.example.project.relation.User;\r\nimport com.example.project.repository.IPaddressRepository;\r\nimport com.example.project.repository.UserRepository;\r\n\r\nimport jakarta.transaction.Transactional;\r\n\r\n@Service\r\npublic class DataService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final IPaddressRepository ipaddressRepository;\r\n\r\n    \r\n    public DataService(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\r\n        this.userRepository = userRepository;\r\n        this.ipaddressRepository = ipaddressRepository;\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User createUser(User user) {\r\n        Set&lt;IPaddress&gt; ipAddresses = user.getIpaddress();\r\n\r\n        for (IPaddress ipAddress : ipAddresses) {\r\n            ipAddress.setUser(user);\r\n        }\r\n\r\n        User savedUser = userRepository.save(user);\r\n\r\n        for (IPaddress ipAddress : ipAddresses) {\r\n            ipaddressRepository.save(ipAddress);\r\n        }\r\n\r\n        return savedUser;\r\n    }\r\n\r\n\r\n    public User updateUser(Long id, User user) {\r\n        User existingUser = userRepository.findById(id).orElse(null);\r\n        if (existingUser != null) {\r\n            existingUser.setOrganization_name(user.getOrganization_name());\r\n            existingUser.setUser_name(user.getUser_name());\r\n            return userRepository.save(existingUser);\r\n        }\r\n        return null; // Handle not found scenario\r\n    }\r\n\r\n    @Transactional\r\n    public void deleteUser(Long id) {\r\n        boolean exists = userRepository.existsById(id);\r\n\r\n        if (!exists) {\r\n            throw new IllegalStateException(&quot;User with ID &quot; + id + &quot; does not exist&quot;);\r\n        }\r\n        \r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.relation;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.example.project.repository.IPaddressRepository;\r\nimport com.example.project.repository.UserRepository;\r\n\r\n@Configuration\r\npublic class UserConfig {\r\n    \r\n    @Bean\r\n    CommandLineRunner commandLineRunner(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\r\n        return args -&gt; {\r\n            User Steve = new User(\r\n                &quot;Brave&quot;, &quot;Steve&quot;, &quot;qwert12345&quot;, 9898987676L, &quot;stevecole@bing.com&quot;, 12345678901234L, new HashSet&lt;&gt;());\r\n            IPaddress ip1 = new IPaddress(&quot;192.168.1.1&quot;);\r\n            IPaddress ip2 = new IPaddress(&quot;192.168.1.2&quot;);\r\n            Steve.getIpaddress().add(ip1);\r\n            Steve.getIpaddress().add(ip2);\r\n            ip1.setUser(Steve);\r\n            ip2.setUser(Steve);\r\n\r\n            User Susan = new User(\r\n                &quot;Brave&quot;, &quot;Susan&quot;, &quot;abcd12345&quot;, 5432109876L, &quot;susanspecter@bing.com&quot;, 767676767671212L, new HashSet&lt;&gt;());\r\n            IPaddress ip3 = new IPaddress(&quot;192.168.1.3&quot;);\r\n            IPaddress ip4 = new IPaddress(&quot;192.168.1.4&quot;);\r\n            IPaddress ip5 = new IPaddress(&quot;192.168.1.5&quot;);\r\n            IPaddress ip6 = new IPaddress(&quot;192.168.1.6&quot;);\r\n            Susan.getIpaddress().add(ip3);\r\n            Susan.getIpaddress().add(ip4);\r\n            Susan.getIpaddress().add(ip5);\r\n            Susan.getIpaddress().add(ip6);\r\n            ip3.setUser(Susan);\r\n            ip4.setUser(Susan);\r\n            ip5.setUser(Susan);\r\n            ip6.setUser(Susan);\r\n\r\n            userRepository.saveAll(List.of(Steve, Susan));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.project.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport com.example.project.relation.User;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n\r\n}\r\n\r\npackage com.example.project.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.project.relation.IPaddress;\r\n\r\n@Repository\r\npublic interface IPaddressRepository extends JpaRepository&lt;IPaddress, Long&gt;{\r\n\t\r\n}\r\n```\r\n\r\nPayload for the request\r\n\r\n    {\r\n        &quot;organization_name&quot;: &quot;Fall&quot;,\r\n        &quot;user_name&quot;: &quot;Peter&quot;,\r\n        &quot;password&quot;: &quot;qwert12345&quot;,\r\n        &quot;phone_num&quot;: 9898987676,\r\n        &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\r\n        &quot;registration_num&quot;: 98765123450192,\r\n        &quot;ipaddress&quot;: [\r\n            {\r\n                &quot;IP_address&quot;: &quot;1.2.3.4&quot;\r\n            },\r\n            {\r\n                &quot;IP_address&quot;: &quot;0.2.3.4&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nResponse from the request\r\n\r\n    {\r\n        &quot;id&quot;: 29,\r\n        &quot;organization_name&quot;: &quot;Fall&quot;,\r\n        &quot;user_name&quot;: &quot;Peter&quot;,\r\n        &quot;password&quot;: &quot;qwert12345&quot;,\r\n        &quot;phone_num&quot;: 9898987676,\r\n        &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\r\n        &quot;registration_num&quot;: 98765123450192\r\n    }\r\n\r\nLet me know if any details needed in addition.\r\n","title":"One to Many API not working through POSTMAN","body":"<p>If I input my data through my code then it works perfectly as I am able to see the data in my parent as well as child database in PostgreSQL but when I do it through Postman, the child database is not being read.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.relation;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;user_data&quot;)\npublic class User {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long id;\n    private String organization_name;\n    private String user_name;\n    private String password;\n    private Long phone_num;\n    private String email;\n    private Long registration_num;\n    \n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;IPaddress&gt; ipaddress = new HashSet&lt;&gt;();\n\n    public User() {\n\n    }\n\n    public User(Long id, String org_name, String user_name, String password, Long phone_num, String email, Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\n        this.id = id;\n        this.organization_name = org_name;\n        this.user_name = user_name;\n        this.password = password;\n        this.phone_num = phone_num;\n        this.email = email;\n        this.registration_num = registration_num;\n        this.ipaddress = ipaddress;\n    }\n\n\n    public User(String organization_name, String user_name, String password, Long phone_num, String email,\n                Long registration_num, Set&lt;IPaddress&gt; ipaddress) {\n        this.organization_name = organization_name;\n        this.user_name = user_name;\n        this.password = password;\n        this.phone_num = phone_num;\n        this.email = email;\n        this.registration_num = registration_num;\n        this.ipaddress = ipaddress;\n    }\n    \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getOrganization_name() {\n        return organization_name;\n    }\n\n    public void setOrganization_name(String organization_name) {\n        this.organization_name = organization_name;\n    }\n\n    public String getUser_name() {\n        return user_name;\n    }\n\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Long getPhone_num() {\n        return phone_num;\n    }\n\n    public void setPhone_num(Long phone_num) {\n        this.phone_num = phone_num;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Long getRegistration_num() {\n        return registration_num;\n    }\n\n    public void setRegistration_num(Long registration_num) {\n        this.registration_num = registration_num;\n    }\n    \n    public Set&lt;IPaddress&gt; getIpaddress() {\n        return ipaddress;\n    }\n\n    public void setIpaddress(Set&lt;IPaddress&gt; ipaddress) {\n        this.ipaddress = ipaddress;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id +\n                &quot;, organization_name=&quot; + organization_name +\n                &quot;, user_name=&quot; + user_name +\n                &quot;, password=&quot; + password +\n                &quot;, phone_num=&quot; + phone_num +\n                &quot;, email=&quot; + email +\n                &quot;, registration_num=&quot; + registration_num +\n                &quot;, ipaddress=&quot; + ipaddress + &quot;]&quot;;\n    }\n}\n'''\n\n\n'''java  \npackage com.example.project.relation;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;ipaddress&quot;)\npublic class IPaddress {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;IP_sequence&quot;,\n            sequenceName = &quot;IP_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;IP_sequence&quot;\n    )\n\n    private Long id;\n    private String IP_address;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    public User user;\n\n    public IPaddress() {\n\n    }\n\n    public IPaddress(Long id, String iP_address) {\n        this.id = id;\n        this.IP_address = iP_address;\n    }\n\n    public IPaddress(String iP_address) {\n        this.IP_address = iP_address;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getIP_address() {\n        return IP_address;\n    }\n\n    public void setIP_address(String iP_address) {\n        IP_address = iP_address;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.dto;\n\nimport com.example.project.relation.User;\n\npublic class DataRequest {\n    \n    private User user;\n\n    public DataRequest() \n    {\n        \n    }\n\n    public DataRequest(User user) \n    {\n        this.user = user;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DataRequest [user=&quot; + user + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.controller;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport com.example.project.relation.User;\nimport com.example.project.service.DataService;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class DataController {\n\n    private final DataService dataService;\n\n    public DataController(DataService dataService) {\n        this.dataService = dataService;\n    }\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers() {\n        return dataService.getAllUsers();\n\n    }\n\n    @PostMapping\n    public User createUser(@RequestBody User user) {\n        return dataService.createUser(user);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public User updateUser(@PathVariable Long id, @RequestBody User user) {\n        return dataService.updateUser(id, user);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteUser(@PathVariable Long id) {\n        dataService.deleteUser(id);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.service;\n\nimport org.springframework.stereotype.Service;\nimport java.util.List;\nimport java.util.Set;\nimport com.example.project.relation.IPaddress;\nimport com.example.project.relation.User;\nimport com.example.project.repository.IPaddressRepository;\nimport com.example.project.repository.UserRepository;\n\nimport jakarta.transaction.Transactional;\n\n@Service\npublic class DataService {\n\n    private final UserRepository userRepository;\n    private final IPaddressRepository ipaddressRepository;\n\n    \n    public DataService(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\n        this.userRepository = userRepository;\n        this.ipaddressRepository = ipaddressRepository;\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public User createUser(User user) {\n        Set&lt;IPaddress&gt; ipAddresses = user.getIpaddress();\n\n        for (IPaddress ipAddress : ipAddresses) {\n            ipAddress.setUser(user);\n        }\n\n        User savedUser = userRepository.save(user);\n\n        for (IPaddress ipAddress : ipAddresses) {\n            ipaddressRepository.save(ipAddress);\n        }\n\n        return savedUser;\n    }\n\n\n    public User updateUser(Long id, User user) {\n        User existingUser = userRepository.findById(id).orElse(null);\n        if (existingUser != null) {\n            existingUser.setOrganization_name(user.getOrganization_name());\n            existingUser.setUser_name(user.getUser_name());\n            return userRepository.save(existingUser);\n        }\n        return null; // Handle not found scenario\n    }\n\n    @Transactional\n    public void deleteUser(Long id) {\n        boolean exists = userRepository.existsById(id);\n\n        if (!exists) {\n            throw new IllegalStateException(&quot;User with ID &quot; + id + &quot; does not exist&quot;);\n        }\n        \n        userRepository.deleteById(id);\n    }\n\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.relation;\n\nimport java.util.HashSet;\nimport java.util.List;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.example.project.repository.IPaddressRepository;\nimport com.example.project.repository.UserRepository;\n\n@Configuration\npublic class UserConfig {\n    \n    @Bean\n    CommandLineRunner commandLineRunner(UserRepository userRepository, IPaddressRepository ipaddressRepository) {\n        return args -&gt; {\n            User Steve = new User(\n                &quot;Brave&quot;, &quot;Steve&quot;, &quot;qwert12345&quot;, 9898987676L, &quot;stevecole@bing.com&quot;, 12345678901234L, new HashSet&lt;&gt;());\n            IPaddress ip1 = new IPaddress(&quot;192.168.1.1&quot;);\n            IPaddress ip2 = new IPaddress(&quot;192.168.1.2&quot;);\n            Steve.getIpaddress().add(ip1);\n            Steve.getIpaddress().add(ip2);\n            ip1.setUser(Steve);\n            ip2.setUser(Steve);\n\n            User Susan = new User(\n                &quot;Brave&quot;, &quot;Susan&quot;, &quot;abcd12345&quot;, 5432109876L, &quot;susanspecter@bing.com&quot;, 767676767671212L, new HashSet&lt;&gt;());\n            IPaddress ip3 = new IPaddress(&quot;192.168.1.3&quot;);\n            IPaddress ip4 = new IPaddress(&quot;192.168.1.4&quot;);\n            IPaddress ip5 = new IPaddress(&quot;192.168.1.5&quot;);\n            IPaddress ip6 = new IPaddress(&quot;192.168.1.6&quot;);\n            Susan.getIpaddress().add(ip3);\n            Susan.getIpaddress().add(ip4);\n            Susan.getIpaddress().add(ip5);\n            Susan.getIpaddress().add(ip6);\n            ip3.setUser(Susan);\n            ip4.setUser(Susan);\n            ip5.setUser(Susan);\n            ip6.setUser(Susan);\n\n            userRepository.saveAll(List.of(Steve, Susan));\n        };\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.project.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport com.example.project.relation.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n\n}\n\npackage com.example.project.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.project.relation.IPaddress;\n\n@Repository\npublic interface IPaddressRepository extends JpaRepository&lt;IPaddress, Long&gt;{\n    \n}\n</code></pre>\n<p>Payload for the request</p>\n<pre><code>{\n    &quot;organization_name&quot;: &quot;Fall&quot;,\n    &quot;user_name&quot;: &quot;Peter&quot;,\n    &quot;password&quot;: &quot;qwert12345&quot;,\n    &quot;phone_num&quot;: 9898987676,\n    &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\n    &quot;registration_num&quot;: 98765123450192,\n    &quot;ipaddress&quot;: [\n        {\n            &quot;IP_address&quot;: &quot;1.2.3.4&quot;\n        },\n        {\n            &quot;IP_address&quot;: &quot;0.2.3.4&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Response from the request</p>\n<pre><code>{\n    &quot;id&quot;: 29,\n    &quot;organization_name&quot;: &quot;Fall&quot;,\n    &quot;user_name&quot;: &quot;Peter&quot;,\n    &quot;password&quot;: &quot;qwert12345&quot;,\n    &quot;phone_num&quot;: 9898987676,\n    &quot;email&quot;: &quot;peterhugo@gmail.com&quot;,\n    &quot;registration_num&quot;: 98765123450192\n}\n</code></pre>\n<p>Let me know if any details needed in addition.</p>\n"},{"tags":["java","testing","rest-assured"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1615540215,"post_id":66597035,"comment_id":117727514,"body_markdown":"So how to test if a number is at least 200 but no more that 299?","body":"So how to test if a number is at least 200 but no more that 299?"},{"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"score":0,"creation_date":1615540351,"post_id":66597035,"comment_id":117727562,"body_markdown":"@jonrsharpe: Yes. From 200 to 299. Or sometimes in the 4xx series.","body":"@jonrsharpe: Yes. From 200 to 299. Or sometimes in the 4xx series."},{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1615540489,"post_id":66597035,"comment_id":117727620,"body_markdown":"That was intended as a hint - how might you check whether a number is between x and y without exhaustively checking whether it&#39;s equal to x, x+1, ..., y-1, y?","body":"That was intended as a hint - how might you check whether a number is between x and y without exhaustively checking whether it&#39;s equal to x, x+1, ..., y-1, y?"}],"answers":[{"tags":[],"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615540596,"creation_date":1615540596,"answer_id":66597149,"question_id":66597035,"body_markdown":"import io.restassured.internal.http.Status;\r\n\r\n    Assert.assertTrue(Status.SUCCESS.matches(response.statusCode())); // true for family of \r\n    2xx eg 200 or 201\r\n\r\nReference: [Mapping of HTTP response codes to a constant &#39;success&#39; or &#39;failure&#39; value.][1]\r\n\r\n\r\n  [1]: https://javadoc.io/static/io.rest-assured/rest-assured/3.3.0/io/restassured/internal/http/Status.html","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>import io.restassured.internal.http.Status;</p>\n<pre><code>Assert.assertTrue(Status.SUCCESS.matches(response.statusCode())); // true for family of \n2xx eg 200 or 201\n</code></pre>\n<p>Reference: <a href=\"https://javadoc.io/static/io.rest-assured/rest-assured/3.3.0/io/restassured/internal/http/Status.html\" rel=\"nofollow noreferrer\">Mapping of HTTP response codes to a constant 'success' or 'failure' value.</a></p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693141652,"creation_date":1693141652,"answer_id":76987248,"question_id":66597035,"body_markdown":"You can use a **CustomTypeSafeMatcher**\r\n\r\n     given()\r\n    .\r\n    .\r\n    .\r\n    .statusCode(new CustomTypeSafeMatcher&lt;&gt;(&quot;2xx StatusCode&quot;) {\r\n       @Override\r\n       protected boolean matchesSafely(Integer item) {\r\n             return Status.SUCCESS.matches(item);\r\n       }\r\n    })","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>You can use a <strong>CustomTypeSafeMatcher</strong></p>\n<pre><code> given()\n.\n.\n.\n.statusCode(new CustomTypeSafeMatcher&lt;&gt;(&quot;2xx StatusCode&quot;) {\n   @Override\n   protected boolean matchesSafely(Integer item) {\n         return Status.SUCCESS.matches(item);\n   }\n})\n</code></pre>\n"}],"owner":{"account_id":18072487,"reputation":103,"user_id":13136767,"display_name":"dipindashoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5111,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1697206137,"creation_date":1615540149,"question_id":66597035,"body_markdown":"I would like to assert if the status code returned is any of the 2xx series i.e 200 or 201 or 204. I don&#39;t want to do it the old fashioned way\r\ne.g.\r\n\r\n    if(response.statusCode() == 200 || response.statusCode() == 201 || \r\n       response.statusCode() == 204) {\r\n         \r\n         \\\\...\r\n      }\r\n\r\nIs there any better way to do?","title":"How to validate if the status code returned is Successful i.e any of the 2xx HTTP status codes using Rest Assured?","body":"<p>I would like to assert if the status code returned is any of the 2xx series i.e 200 or 201 or 204. I don't want to do it the old fashioned way\ne.g.</p>\n<pre><code>if(response.statusCode() == 200 || response.statusCode() == 201 || \n   response.statusCode() == 204) {\n     \n     \\\\...\n  }\n</code></pre>\n<p>Is there any better way to do?</p>\n"},{"tags":["java","spring-boot","http","backend","server-sent-events"],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697205923,"creation_date":1697198481,"question_id":77287552,"body_markdown":"I have created an SSE endpoint for periodically pushing status information to the browser frontend. I&#39;d like to know if, from the frontend&#39;s perspective, it needs to manually initiate a reconnection to my /sse/notify endpoint, or if the frontend&#39;s EventSource API will automatically initiate reconnections.\r\n\r\n\r\nHere is my interface implementation.\r\n\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(&quot;/sse&quot;)\r\n@Slf4j\r\npublic class SSEController {\r\n\r\n\r\n    public static Map&lt;Integer,SseEmitter&gt; sseMap=new ConcurrentHashMap&lt;&gt;();\r\n\r\n    /**\r\n     * \r\n     * @apiNote SSE\r\n     */\r\n    @GetMapping(&quot;/notify&quot;)\r\n    @SaCheckLogin\r\n    public SseEmitter alarm() throws IOException {\r\n        int userId = StpUtil.getLoginIdAsInt();\r\n        SseEmitter sse = sseMap.get(userId);\r\n        if (sse==null){\r\n            sse=new SseEmitter(3600_000L);\r\n            sse.onTimeout(()-&gt;{\r\n                sseMap.remove(userId);\r\n            });\r\n            sse.onCompletion(()-&gt;{\r\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\r\n            });\r\n            sseMap.put(userId,sse);\r\n        }\r\n        return sse;\r\n    }\r\n\r\n    public static void alarmNotify(SSEVo sseVo,SseEmitter sseEmitter){\r\n        try {\r\n            sseEmitter.send(sseVo);\r\n        } catch (IOException e) {\r\n            log.error(&quot;send sse notify error,msg={}&quot;,e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen I set up a scheduled task to push data every 2 seconds.\r\n```java\r\n    @Scheduled(cron = &quot;*/2 * * * * ?&quot;)\r\n    public void checkStatus(){\r\n        SSEController.sseMap.forEach((useId,sseEmitter)-&gt;{\r\n            List&lt;Integer&gt; accessUnits = sessionService.getAccessById(useId);\r\n            SSEVo sseVo = new SSEVo();\r\n            sseVo.setError(Boolean.FALSE);\r\n            sseVo.setAlarm(Boolean.FALSE);\r\n            handleSSEEmitter(accessUnits,sseEmitter,sseVo);\r\n        });\r\n    }\r\n```\r\nMy SSE endpoint encounters an error message after pushing data for some time.\r\n```log\r\n2023-10-13 07:36:54.163 ERROR [][] [pool-2-thread-1] o.s.s.s.TaskUtils$LoggingErrorHandler:95 - Unexpected error occurred in scheduled task\r\njava.lang.IllegalStateException: ResponseBodyEmitter has already completed\r\n        at org.springframework.util.Assert.state(Assert.java:76)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:196)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:127)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:110)\r\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:91)\r\n\r\n```\r\n\r\n\r\nDoes this mean that I should manually remove the current SseEmitter after the onCompletion() method is triggered, like the following?\r\n\r\n```java\r\n sse.onCompletion(()-&gt;{\r\n                sseMap.remove(userId);\r\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\r\n            });\r\n\r\n```\r\nAnd have the frontend initiate a new SSE request, right?\r\n\r\nI expect that the frontend can continuously receive data after connecting to the SSE endpoint and automatically reconnect.","title":"Will the SseEmitter connection provided by Spring Boot automatically initiate a reconnection after triggering onCompletion?","body":"<p>I have created an SSE endpoint for periodically pushing status information to the browser frontend. I'd like to know if, from the frontend's perspective, it needs to manually initiate a reconnection to my /sse/notify endpoint, or if the frontend's EventSource API will automatically initiate reconnections.</p>\n<p>Here is my interface implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(&quot;/sse&quot;)\n@Slf4j\npublic class SSEController {\n\n\n    public static Map&lt;Integer,SseEmitter&gt; sseMap=new ConcurrentHashMap&lt;&gt;();\n\n    /**\n     * \n     * @apiNote SSE\n     */\n    @GetMapping(&quot;/notify&quot;)\n    @SaCheckLogin\n    public SseEmitter alarm() throws IOException {\n        int userId = StpUtil.getLoginIdAsInt();\n        SseEmitter sse = sseMap.get(userId);\n        if (sse==null){\n            sse=new SseEmitter(3600_000L);\n            sse.onTimeout(()-&gt;{\n                sseMap.remove(userId);\n            });\n            sse.onCompletion(()-&gt;{\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\n            });\n            sseMap.put(userId,sse);\n        }\n        return sse;\n    }\n\n    public static void alarmNotify(SSEVo sseVo,SseEmitter sseEmitter){\n        try {\n            sseEmitter.send(sseVo);\n        } catch (IOException e) {\n            log.error(&quot;send sse notify error,msg={}&quot;,e.getMessage());\n        }\n    }\n\n}\n\n</code></pre>\n<p>Then I set up a scheduled task to push data every 2 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Scheduled(cron = &quot;*/2 * * * * ?&quot;)\n    public void checkStatus(){\n        SSEController.sseMap.forEach((useId,sseEmitter)-&gt;{\n            List&lt;Integer&gt; accessUnits = sessionService.getAccessById(useId);\n            SSEVo sseVo = new SSEVo();\n            sseVo.setError(Boolean.FALSE);\n            sseVo.setAlarm(Boolean.FALSE);\n            handleSSEEmitter(accessUnits,sseEmitter,sseVo);\n        });\n    }\n</code></pre>\n<p>My SSE endpoint encounters an error message after pushing data for some time.</p>\n<pre><code>2023-10-13 07:36:54.163 ERROR [][] [pool-2-thread-1] o.s.s.s.TaskUtils$LoggingErrorHandler:95 - Unexpected error occurred in scheduled task\njava.lang.IllegalStateException: ResponseBodyEmitter has already completed\n        at org.springframework.util.Assert.state(Assert.java:76)\n        at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:196)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:127)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:110)\n        at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:91)\n\n</code></pre>\n<p>Does this mean that I should manually remove the current SseEmitter after the onCompletion() method is triggered, like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code> sse.onCompletion(()-&gt;{\n                sseMap.remove(userId);\n                log.info(&quot;alarm sse complete! userId={}&quot;,userId);\n            });\n\n</code></pre>\n<p>And have the frontend initiate a new SSE request, right?</p>\n<p>I expect that the frontend can continuously receive data after connecting to the SSE endpoint and automatically reconnect.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686731537,"post_id":76470918,"comment_id":134838034,"body_markdown":"Does this answer your question? [java.sql.SQLException: ORA-01005: null password given; logon denied](https://stackoverflow.com/questions/38609280/java-sql-sqlexception-ora-01005-null-password-given-logon-denied)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38609280/java-sql-sqlexception-ora-01005-null-password-given-logon-denied\">java.sql.SQLException: ORA-01005: null password given; logon denied</a>"},{"owner":{"account_id":15857656,"reputation":126,"user_id":11441639,"display_name":"kiranNswamy"},"score":0,"creation_date":1686732075,"post_id":76470918,"comment_id":134838144,"body_markdown":"//JDBC and database properties.\n\tprivate static final String DB_DRIVER = \n\t\t           &quot;oracle.jdbc.driver.OracleDriver&quot;;\n\tprivate static final String DB_URL = \n\t\t        &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\n\tuse url without forward slahs and try","body":"//JDBC and database properties. \tprivate static final String DB_DRIVER =  \t\t           &quot;oracle.jdbc.driver.OracleDriver&quot;; \tprivate static final String DB_URL =  \t\t        &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;; \tuse url without forward slahs and try"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686744234,"post_id":76470918,"comment_id":134840662,"body_markdown":"none of these worked","body":"none of these worked"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686745516,"post_id":76470918,"comment_id":134840957,"body_markdown":"how much more minimal can i be?  the code is exactly as i gave it to you","body":"how much more minimal can i be?  the code is exactly as i gave it to you"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686749019,"post_id":76470918,"comment_id":134841851,"body_markdown":"Ill ty using a different oracle jdbc driver later today ....  ive never had such a pain connecting to oracle before","body":"Ill ty using a different oracle jdbc driver later today ....  ive never had such a pain connecting to oracle before"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":1,"creation_date":1686752896,"post_id":76470918,"comment_id":134842799,"body_markdown":"i did state that already:      I am using the following driver ojdbc8-23.2.0.0.jar Oracle XE 21c ....   like i said, ill try a different driver later, thanks","body":"i did state that already:      I am using the following driver ojdbc8-23.2.0.0.jar Oracle XE 21c ....   like i said, ill try a different driver later, thanks"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1686754231,"post_id":76470918,"comment_id":134843147,"body_markdown":"Sorry - I missed that - my apologies. That is almost certainly the problem, in that case. My other comments are probably not relevant - I will delete them. Using `ojdbc11` should work for you.","body":"Sorry - I missed that - my apologies. That is almost certainly the problem, in that case. My other comments are probably not relevant - I will delete them. Using <code>ojdbc11</code> should work for you."},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1686969092,"post_id":76470918,"comment_id":134875632,"body_markdown":"No luck, i even uninstalled it to 18C using oracle 8 driver ... same type of errors","body":"No luck, i even uninstalled it to 18C using oracle 8 driver ... same type of errors"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688833502,"post_id":76470918,"comment_id":135128436,"body_markdown":"jdbc:oracle:thin:username/password@localhost:1521:xe works for me, but agree, oracle driver is a joke","body":"jdbc:oracle:thin:username/password@localhost:1521:xe works for me, but agree, oracle driver is a joke"}],"answers":[{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697205748,"creation_date":1697205748,"answer_id":77288392,"question_id":76470918,"body_markdown":"*String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;* is wrong.\r\n\r\nTry removing // from the url.","title":"Unable to connect to Oracle XE via JDBC driver","body":"<p><em>String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;</em> is wrong.</p>\n<p>Try removing // from the url.</p>\n"}],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697205748,"creation_date":1686726276,"question_id":76470918,"body_markdown":"This is my Java Code: The error says the password is null but clearly it is not. Any help is appreciated...\r\n\r\n    public class OracleConnect {\r\n        public static void main(String[] args) {\r\n            String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;;\r\n            String user = &quot;constantin&quot;;\r\n            String password = &quot;tiger&quot;;\r\n    \r\n            try {\r\n                Connection conn = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;Connected to the database.&quot;);\r\n    \r\n                Statement stmt = conn.createStatement();\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM menagerie&quot;);\r\n    \r\n                while(rs.next()) {\r\n                    System.out.println(rs.getInt(&quot;id&quot;));\r\n                }\r\n    \r\n                rs.close();\r\n                stmt.close();\r\n                conn.close();\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Could not connect to the database.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nand the error ...\r\n\r\nCould not connect to the database.\r\njava.sql.SQLException: ORA-01005: null password given; logon denied\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:603)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:598)\r\n\tat oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1710)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:819)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:462)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTHWithO5Logon(T4CTTIoauthenticate.java:1628)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1375)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1322)\r\n\tat oracle.jdbc.driver.T4CConnection.authenticateWithPassword(T4CConnection.java:1500)\r\n\tat oracle.jdbc.driver.T4CConnection.authenticateUserForLogon(T4CConnection.java:1443)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:812)\r\n\tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1101)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:104)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:837)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat ca.menagerie.core.main.OracleConnect.main(OracleConnect.java:12)\r\n\r\nI am using the following driver ojdbc8-23.2.0.0.jar\r\nOracle XE 21c\r\n\r\nThis is how I initialized everything:\r\n\r\n    SQL*Plus: Release 21.0.0.0.0 - Production on Wed Jun 14 02:10:21 2023\r\n    Version 21.3.0.0.0\r\n    \r\n    Copyright (c) 1982, 2021, Oracle.  All rights reserved.\r\n    \r\n    Enter user-name: / as sysdba\r\n    \r\n    Connected to:\r\n    Oracle Database 21c Express Edition Release 21.0.0.0.0 - Production\r\n    Version 21.3.0.0.0\r\n    \r\n    SQL&gt; select name from v$pdbs;\r\n    \r\n    NAME\r\n    --------------------------------------------------------------------------------\r\n    PDB$SEED\r\n    XEPDB1\r\n    \r\n    SQL&gt; connect sys/kryptonite@localhost:1521/XEPDB1 as sysdba\r\n    Connected.\r\n    \r\n    SQL&gt; create user constantin identified by tiger default tablespace users quota unlimited on users;\r\n    \r\n    User created.\r\n    \r\n    SQL&gt; grant create session, create table to constantin;\r\n    \r\n    Grant succeeded.\r\n    \r\n    SQL&gt; connect constantin/tiger@localhost:1521/XEPDB1;\r\n    \r\n    Connected.\r\n    \r\n    SQL&gt; create table menagerie(id number);\r\n    \r\n    Table created.\r\n    \r\n    SQL&gt; insert into menagerie values (1234);\r\n    \r\n    1 row created.\r\n    \r\n    SQL&gt; commit;\r\n    \r\n    Commit complete.\r\n    \r\n    SQL&gt; select * from menagerie;\r\n            ID\r\n    ----------\r\n          1234\r\n    SQL&gt;\r\n\r\n","title":"Unable to connect to Oracle XE via JDBC driver","body":"<p>This is my Java Code: The error says the password is null but clearly it is not. Any help is appreciated...</p>\n<pre><code>public class OracleConnect {\n    public static void main(String[] args) {\n        String url = &quot;jdbc:oracle:thin:@//localhost:1521/XEPDB1&quot;;\n        String user = &quot;constantin&quot;;\n        String password = &quot;tiger&quot;;\n\n        try {\n            Connection conn = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected to the database.&quot;);\n\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM menagerie&quot;);\n\n            while(rs.next()) {\n                System.out.println(rs.getInt(&quot;id&quot;));\n            }\n\n            rs.close();\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            System.out.println(&quot;Could not connect to the database.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and the error ...</p>\n<p>Could not connect to the database.\njava.sql.SQLException: ORA-01005: null password given; logon denied</p>\n<pre><code>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:603)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:598)\nat oracle.jdbc.driver.T4CTTIfun.processError(T4CTTIfun.java:1710)\nat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:819)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:462)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTHWithO5Logon(T4CTTIoauthenticate.java:1628)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1375)\nat oracle.jdbc.driver.T4CTTIoauthenticate.doOAUTH(T4CTTIoauthenticate.java:1322)\nat oracle.jdbc.driver.T4CConnection.authenticateWithPassword(T4CConnection.java:1500)\nat oracle.jdbc.driver.T4CConnection.authenticateUserForLogon(T4CConnection.java:1443)\nat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:812)\nat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1101)\nat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:104)\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:837)\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:664)\nat java.sql.DriverManager.getConnection(DriverManager.java:664)\nat java.sql.DriverManager.getConnection(DriverManager.java:247)\nat ca.menagerie.core.main.OracleConnect.main(OracleConnect.java:12)\n</code></pre>\n<p>I am using the following driver ojdbc8-23.2.0.0.jar\nOracle XE 21c</p>\n<p>This is how I initialized everything:</p>\n<pre><code>SQL*Plus: Release 21.0.0.0.0 - Production on Wed Jun 14 02:10:21 2023\nVersion 21.3.0.0.0\n\nCopyright (c) 1982, 2021, Oracle.  All rights reserved.\n\nEnter user-name: / as sysdba\n\nConnected to:\nOracle Database 21c Express Edition Release 21.0.0.0.0 - Production\nVersion 21.3.0.0.0\n\nSQL&gt; select name from v$pdbs;\n\nNAME\n--------------------------------------------------------------------------------\nPDB$SEED\nXEPDB1\n\nSQL&gt; connect sys/kryptonite@localhost:1521/XEPDB1 as sysdba\nConnected.\n\nSQL&gt; create user constantin identified by tiger default tablespace users quota unlimited on users;\n\nUser created.\n\nSQL&gt; grant create session, create table to constantin;\n\nGrant succeeded.\n\nSQL&gt; connect constantin/tiger@localhost:1521/XEPDB1;\n\nConnected.\n\nSQL&gt; create table menagerie(id number);\n\nTable created.\n\nSQL&gt; insert into menagerie values (1234);\n\n1 row created.\n\nSQL&gt; commit;\n\nCommit complete.\n\nSQL&gt; select * from menagerie;\n        ID\n----------\n      1234\nSQL&gt;\n</code></pre>\n"},{"tags":["java","jsp","pdf","pdf.js","struts-1"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697196718,"post_id":77286548,"comment_id":136252752,"body_markdown":"It requires details, GetImageAction.java, struts-config.xml, etc.","body":"It requires details, GetImageAction.java, struts-config.xml, etc."},{"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"score":0,"creation_date":1697198385,"post_id":77286548,"comment_id":136253010,"body_markdown":"@RomanC \n    \n`&lt;action  \n\t\tpath=&quot;/getImage&quot;\n\t\ttype=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\n\t\tscope=&quot;request&quot;&gt;\n\t&lt;/action&gt;`\n\nthis is the struts config file","body":"@RomanC       <code>&lt;action   \t\tpath=&quot;&#47;getImage&quot; \t\ttype=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot; \t\tscope=&quot;request&quot;&gt; \t&lt;&#47;action&gt;</code>  this is the struts config file"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697203778,"creation_date":1697203778,"answer_id":77288159,"question_id":77286548,"body_markdown":"You can use a direct path to the image action.\r\n```\r\ninitialDoc = &#39;${pageContext.request.contextPath}/getImage.do?imageDocID=&#39;+document.getElementById(&#39;imageDocID&#39;).value;\r\n```","title":"Upgrade From PDF.js to PDF.js Express","body":"<p>You can use a direct path to the image action.</p>\n<pre><code>initialDoc = '${pageContext.request.contextPath}/getImage.do?imageDocID='+document.getElementById('imageDocID').value;\n</code></pre>\n"}],"owner":{"account_id":24241590,"reputation":23,"user_id":18193883,"display_name":"Ravindu Yasith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697205418,"creation_date":1697188896,"question_id":77286548,"body_markdown":"I&#39;m working on a Java JSP Struts project which has previously implemented [PDF.js][1] for previewing documents. Because of the the PDF.js library didn&#39;t support watermarks option I decided to move to [PDF.js Express][2].\r\n\r\nThe below code snippet is the previous implementation\r\n\r\n**html body**\r\n\r\n    &lt;iframe id=&quot;content&quot; style=&#39;height: 600px; width: 98%; min-width: 900px;&#39; scrolling=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt;\r\n\r\n**script**\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t$(document).ready(function() {\r\n    \t\tvar base=&#39;web/viewer.html?file=&#39;;\r\n            var subUrl=encodeURIComponent(&#39;${pageContext.request.contextPath}/getImage.do?imageDocID=&#39;+document.getElementById(&#39;imageDocID&#39;).value);\r\n            var url=base+subUrl+&#39;#page=1&#39;;\r\n            $(&#39;#content&#39;).attr(&#39;src&#39;,url);\r\n    \t});\r\n    &lt;/script&gt;\r\n\r\nThe `getImage.do` will go to the `GetImageAction.java` page and generate and get the PDF file,\r\n\r\n**struts-config**\r\n\r\n    &lt;action  \r\n        path=&quot;/getImage&quot;\r\n        type=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\r\n        scope=&quot;request&quot;&gt;\r\n    &lt;/action&gt;\r\n\r\n**GetImageAction.java**\r\n\r\n    public class GetImageAction extends GenericAction {\r\n    \t\r\n    \tstatic Object imageServerLock = new Object();\r\n    \t\r\n    \tpublic ActionForward execute(ActionMapping mapping, ActionForm form,\r\n    \t\t\tHttpServletRequest request, HttpServletResponse response)\r\n    \tthrows IOException, ServletException, Exception {\r\n    \r\n    \t\tUserProfile userProfile = (UserProfile) request.getSession().getAttribute(&quot;UserProfile&quot;);\r\n    \t\t\r\n    \t\tActionForward actionForward = null;\r\n    \t\tString imageDocID = request.getParameter(&quot;imageDocID&quot;);\r\n    \t\tif (actionForward == null)\r\n    \t\t{\r\n    \t\t\tbyte[] appletData = ImageManager.getMod2TifImage(imageDocID);\r\n    \t\t\tObjectOutputStream outputToApplet = new ObjectOutputStream(response.getOutputStream());\r\n    \t\t\toutputToApplet.writeObject(appletData);\r\n    \t\t\toutputToApplet.flush();\r\n    \t        outputToApplet.close();\r\n    \r\n    \t\t\tactionForward = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\treturn actionForward;\r\n    \r\n    \t\tActionForward actionForward = null;\r\n    \t\ttry{\r\n    \r\n    \t\t\tactionForward = super.execute(mapping, form, request, response);\r\n    \t\t\t\r\n    \t\t\tString imageDocID = request.getParameter(&quot;imageDocID&quot;);\r\n    \r\n    \t\t\tSystem.out.println(new Timestamp(System.currentTimeMillis()).toString() + &quot;\\trequest.getRemoteAddr() &quot;\r\n    \t\t\t\t\t+ request.getRemoteAddr() \r\n    \t\t\t\t\t+ &quot; Utility.getClientIp(request) : &quot;\r\n    \t\t\t\t\t+ Utility.getClientIp(request) + &quot; - &quot; + imageDocID\r\n    \t\t\t\t\t+ &quot; UserProfileID: &quot; + userProfile.getUserProfileID());\r\n    \t\t\tbyte[] image = null;\r\n    \t\t\tsynchronized (imageServerLock) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\r\n    \t\t\t\t\timage = (byte[]) request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID);\r\n    \t\t\t\t\r\n    \t\t\t\tif (actionForward == null) {\r\n    \t\t\t\t\tbyte[] dest = addWatemark(image);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttry{\r\n    \t\t\t\t\t\tPdfReader reader = new PdfReader(dest);\r\n    \t\t\t\t\t\tint pages = reader.getNumberOfPages();\r\n    \t\t\t\t\t}catch(Exception ex){\r\n    \t\t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t\t\timage = ImageManager.optimizePDF(image);\r\n    \t\t\t\t\t\tdest = addWatemark(image);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tresponse.setContentType(&quot;application/pdf&quot;);\r\n    \t\t\t\t\tOutputStream outs = response.getOutputStream();\r\n    \t\t\t\t\touts.write(dest);\r\n    \t\t\t\t\touts.close();\r\n    \t\t\t\t\tactionForward = null;\r\n    \t\t\t\t\tif(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\r\n    \t\t    \t\t\trequest.getSession().removeAttribute(&quot;IMAGE-&quot;+imageDocID);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tLoggerUtils.info(this.getClass().getName() + &quot; - execute method --&gt; Exit&quot;);\r\n    \t\treturn actionForward;\r\n    \t}\r\n\r\nWhen I added the new PDF.js Express it says to use the [this][3] format.\r\n\r\nBecause I don&#39;t have a direct path of the generated pdf file I cannot use the `initialDoc` property.\r\n\r\nCan you suggest me any solution to use PDF.js Express\r\n\r\n\r\n  [1]: https://mozilla.github.io/pdf.js/\r\n  [2]: https://pdfjs.express/\r\n  [3]: https://pdfjs.express/documentation/get-started/manually","title":"Upgrade From PDF.js to PDF.js Express","body":"<p>I'm working on a Java JSP Struts project which has previously implemented <a href=\"https://mozilla.github.io/pdf.js/\" rel=\"nofollow noreferrer\">PDF.js</a> for previewing documents. Because of the the PDF.js library didn't support watermarks option I decided to move to <a href=\"https://pdfjs.express/\" rel=\"nofollow noreferrer\">PDF.js Express</a>.</p>\n<p>The below code snippet is the previous implementation</p>\n<p><strong>html body</strong></p>\n<pre><code>&lt;iframe id=&quot;content&quot; style='height: 600px; width: 98%; min-width: 900px;' scrolling=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n<p><strong>script</strong></p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n    $(document).ready(function() {\n        var base='web/viewer.html?file=';\n        var subUrl=encodeURIComponent('${pageContext.request.contextPath}/getImage.do?imageDocID='+document.getElementById('imageDocID').value);\n        var url=base+subUrl+'#page=1';\n        $('#content').attr('src',url);\n    });\n&lt;/script&gt;\n</code></pre>\n<p>The <code>getImage.do</code> will go to the <code>GetImageAction.java</code> page and generate and get the PDF file,</p>\n<p><strong>struts-config</strong></p>\n<pre><code>&lt;action  \n    path=&quot;/getImage&quot;\n    type=&quot;web.ead.webapp.ssd.common.action.GetImageAction&quot;\n    scope=&quot;request&quot;&gt;\n&lt;/action&gt;\n</code></pre>\n<p><strong>GetImageAction.java</strong></p>\n<pre><code>public class GetImageAction extends GenericAction {\n    \n    static Object imageServerLock = new Object();\n    \n    public ActionForward execute(ActionMapping mapping, ActionForm form,\n            HttpServletRequest request, HttpServletResponse response)\n    throws IOException, ServletException, Exception {\n\n        UserProfile userProfile = (UserProfile) request.getSession().getAttribute(&quot;UserProfile&quot;);\n        \n        ActionForward actionForward = null;\n        String imageDocID = request.getParameter(&quot;imageDocID&quot;);\n        if (actionForward == null)\n        {\n            byte[] appletData = ImageManager.getMod2TifImage(imageDocID);\n            ObjectOutputStream outputToApplet = new ObjectOutputStream(response.getOutputStream());\n            outputToApplet.writeObject(appletData);\n            outputToApplet.flush();\n            outputToApplet.close();\n\n            actionForward = null;\n        }\n        \n        \n\n        return actionForward;\n\n        ActionForward actionForward = null;\n        try{\n\n            actionForward = super.execute(mapping, form, request, response);\n            \n            String imageDocID = request.getParameter(&quot;imageDocID&quot;);\n\n            System.out.println(new Timestamp(System.currentTimeMillis()).toString() + &quot;\\trequest.getRemoteAddr() &quot;\n                    + request.getRemoteAddr() \n                    + &quot; Utility.getClientIp(request) : &quot;\n                    + Utility.getClientIp(request) + &quot; - &quot; + imageDocID\n                    + &quot; UserProfileID: &quot; + userProfile.getUserProfileID());\n            byte[] image = null;\n            synchronized (imageServerLock) {\n                \n                if(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\n                    image = (byte[]) request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID);\n                \n                if (actionForward == null) {\n                    byte[] dest = addWatemark(image);\n                    \n                    try{\n                        PdfReader reader = new PdfReader(dest);\n                        int pages = reader.getNumberOfPages();\n                    }catch(Exception ex){\n                        ex.printStackTrace();\n                        image = ImageManager.optimizePDF(image);\n                        dest = addWatemark(image);\n                    }\n                    \n                    response.setContentType(&quot;application/pdf&quot;);\n                    OutputStream outs = response.getOutputStream();\n                    outs.write(dest);\n                    outs.close();\n                    actionForward = null;\n                    if(request.getSession().getAttribute(&quot;IMAGE-&quot;+imageDocID) != null)\n                        request.getSession().removeAttribute(&quot;IMAGE-&quot;+imageDocID);\n                    \n                }\n            }\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n\n        LoggerUtils.info(this.getClass().getName() + &quot; - execute method --&gt; Exit&quot;);\n        return actionForward;\n    }\n</code></pre>\n<p>When I added the new PDF.js Express it says to use the <a href=\"https://pdfjs.express/documentation/get-started/manually\" rel=\"nofollow noreferrer\">this</a> format.</p>\n<p>Because I don't have a direct path of the generated pdf file I cannot use the <code>initialDoc</code> property.</p>\n<p>Can you suggest me any solution to use PDF.js Express</p>\n"},{"tags":["java","json","apache-beam","dataflow"],"answers":[{"tags":[],"owner":{"account_id":162830,"reputation":4310,"user_id":384554,"accept_rate":88,"display_name":"PUG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1519688501,"creation_date":1519688501,"answer_id":48998866,"question_id":48068634,"body_markdown":"Use `GSON` and do a `gson.toJson(yourTableRow)` details [here][1] \r\n\r\n\r\n  [1]: https://github.com/bomboradata/pubsub-to-bigquery/blob/master/src/main/java/com/bombora/pubsub/to/bq/PrepData.java","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>Use <code>GSON</code> and do a <code>gson.toJson(yourTableRow)</code> details <a href=\"https://github.com/bomboradata/pubsub-to-bigquery/blob/master/src/main/java/com/bombora/pubsub/to/bq/PrepData.java\" rel=\"nofollow noreferrer\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":6397540,"reputation":61,"user_id":4961384,"display_name":"Rafael Alves"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539804513,"creation_date":1539804513,"answer_id":52862291,"question_id":48068634,"body_markdown":"I ran into the same problem, I solved by using [org.apache.beam.sdk.extensions.jackson.AsJsons][1].\r\n\r\nTo use it, it is not necessary to create a new transform, you can apply it directly on the pipeline.\r\n\r\n    import org.apache.beam.sdk.extensions.jackson.AsJsons;\r\n\r\n    Pipeline p = Pipeline.create(options);\r\n    \r\n    p.apply(&quot;The transform that returns a PCollection of TableRow&quot;)\r\n    .apply(&quot;JSon Transform&quot;, AsJsons.of(TableRow.class));\r\n\r\n\r\n----------\r\n\r\n\r\nAnd if you are managing your project with maven, you can add this to the `&lt;dependencies&gt;` in the `pom.xml` file\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html &quot;Apache Beam Documentation&quot;","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>I ran into the same problem, I solved by using <a href=\"https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/extensions/jackson/AsJsons.html\" rel=\"nofollow noreferrer\" title=\"Apache Beam Documentation\">org.apache.beam.sdk.extensions.jackson.AsJsons</a>.</p>\n\n<p>To use it, it is not necessary to create a new transform, you can apply it directly on the pipeline.</p>\n\n<pre><code>import org.apache.beam.sdk.extensions.jackson.AsJsons;\n\nPipeline p = Pipeline.create(options);\n\np.apply(\"The transform that returns a PCollection of TableRow\")\n.apply(\"JSon Transform\", AsJsons.of(TableRow.class));\n</code></pre>\n\n<hr>\n\n<p>And if you are managing your project with maven, you can add this to the <code>&lt;dependencies&gt;</code> in the <code>pom.xml</code> file</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n  &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\n  &lt;version&gt;2.5.0&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124608,"reputation":692,"user_id":319806,"accept_rate":100,"display_name":"pranjal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697205363,"creation_date":1697204977,"answer_id":77288294,"question_id":48068634,"body_markdown":"I am trying to use similar set up where I am trying to convert beam `Row` instead of `TableRow`\r\n\r\nLike below:\r\n\r\n`PCollection&lt;String&gt; jsonStrings = result.apply(&quot;RowToJSON&quot;, AsJsons.of(Row.class));`\r\n\r\n\r\nBut What I rather get is complete JSON object; schema with fields \r\n\r\n\r\n`{\r\n  &quot;schema&quot;: {\r\n    &quot;encodingPositions&quot;: {\r\n      &quot;drug_name&quot;: 0,\r\n      &quot;eid&quot;: 1,\r\n      &quot;generic_id&quot;: 9,\r\n      &quot;patientid&quot;: 4,\r\n      &quot;docid&quot;: 2,\r\n      &quot;therapeutic_class&quot;: 7,\r\n      &quot;generic_name&quot;: 6,\r\n      &quot;prid&quot;: 3,\r\n      &quot;created_at&quot;: 10,\r\n      &quot;source&quot;: 11,\r\n      &quot;updated_ekaid&quot;: 5,\r\n      &quot;disease_name&quot;: 8\r\n    },\r\n    &quot;encodingPositionsOverridden&quot;: false,\r\n    &quot;fields&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;drug_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;eid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;docid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;prid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;patientid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;updated_ekaid&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;generic_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;therapeutic_class&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;disease_name&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;generic_id&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: true,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;created_at&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;STRING&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: null,\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;source&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;type&quot;: {\r\n          &quot;typeName&quot;: &quot;LOGICAL_TYPE&quot;,\r\n          &quot;nullable&quot;: false,\r\n          &quot;logicalType&quot;: {\r\n            &quot;identifier&quot;: &quot;SqlCharType&quot;,\r\n            &quot;argumentType&quot;: {\r\n              &quot;typeName&quot;: &quot;STRING&quot;,\r\n              &quot;nullable&quot;: false,\r\n              &quot;logicalType&quot;: null,\r\n              &quot;collectionElementType&quot;: null,\r\n              &quot;mapKeyType&quot;: null,\r\n              &quot;mapValueType&quot;: null,\r\n              &quot;rowSchema&quot;: null,\r\n              &quot;allMetadata&quot;: {\r\n                \r\n              }\r\n            },\r\n            &quot;argument&quot;: &quot;&quot;,\r\n            &quot;baseType&quot;: {\r\n              &quot;typeName&quot;: &quot;STRING&quot;,\r\n              &quot;nullable&quot;: false,\r\n              &quot;logicalType&quot;: null,\r\n              &quot;collectionElementType&quot;: null,\r\n              &quot;mapKeyType&quot;: null,\r\n              &quot;mapValueType&quot;: null,\r\n              &quot;rowSchema&quot;: null,\r\n              &quot;allMetadata&quot;: {\r\n                \r\n              }\r\n            }\r\n          },\r\n          &quot;collectionElementType&quot;: null,\r\n          &quot;mapKeyType&quot;: null,\r\n          &quot;mapValueType&quot;: null,\r\n          &quot;rowSchema&quot;: null,\r\n          &quot;allMetadata&quot;: {\r\n            \r\n          }\r\n        },\r\n        &quot;options&quot;: {\r\n          &quot;optionNames&quot;: [\r\n            \r\n          ]\r\n        }\r\n      }\r\n    ],\r\n    &quot;uuid&quot;: null,\r\n    &quot;options&quot;: {\r\n      &quot;optionNames&quot;: [\r\n        \r\n      ]\r\n    },\r\n    &quot;fieldNames&quot;: [\r\n      &quot;drug_name&quot;,\r\n      &quot;eid&quot;,\r\n      &quot;docid&quot;,\r\n      &quot;prid&quot;,\r\n      &quot;patientid&quot;,\r\n      &quot;updated_ekaid&quot;,\r\n      &quot;generic_name&quot;,\r\n      &quot;therapeutic_class&quot;,\r\n      &quot;disease_name&quot;,\r\n      &quot;generic_id&quot;,\r\n      &quot;created_at&quot;,\r\n      &quot;source&quot;\r\n    ],\r\n    &quot;fieldCount&quot;: 12\r\n  },\r\n  &quot;values&quot;: [\r\n    &quot;drug_name&quot;,\r\n    &quot;mid&quot;,\r\n    &quot;did&quot;,\r\n    &quot;prid&quot;,\r\n    &quot;pid&quot;,\r\n    &quot;bid&quot;,\r\n    &quot;medicineclassname&quot;,\r\n    &quot;medicine class&quot;,\r\n    &quot;[&#39;disease name&#39;]&quot;,\r\n    &quot;genericid&quot;,\r\n    &quot;2023-10-13&quot;,\r\n    &quot;current_medications&quot;\r\n  ],\r\n  &quot;fieldCount&quot;: 12,\r\n  &quot;baseValues&quot;: [\r\n    &quot;drug_name&quot;,\r\n    &quot;mid&quot;,\r\n    &quot;did&quot;,\r\n    &quot;prid&quot;,\r\n    &quot;pid&quot;,\r\n    &quot;bid&quot;,\r\n    &quot;medicineclassname&quot;,\r\n    &quot;medicine class&quot;,\r\n    &quot;[&#39;disease name&#39;]&quot;,\r\n    &quot;genericid&quot;,\r\n    &quot;2023-10-13&quot;,\r\n    &quot;current_medications&quot;\r\n  ]\r\n}`\r\n\r\n\r\nWhereas I am expecting \r\n\r\n`{&quot;drug_name&quot;: &quot;drug_name&quot;, &quot;eid&quot;: &quot;mid&quot;, &quot;docid&quot;: &quot;did&quot;, &quot;prid&quot;: &quot;prid&quot;, &quot;patientid&quot;: &quot;pid&quot;, &quot;updated_ekaid&quot;: &quot;bid&quot;, &quot;generic_name&quot;: &quot;medicineclassname&quot;, &quot;therapeutic_class&quot;: &quot;medicine class&quot;, &quot;disease_name&quot;: &quot;[\\&#39;disease name\\&#39;]&quot;, &quot;generic_id&quot;: &quot;genericid&quot;, &quot;created_at&quot;: &quot;2023-10-13&quot;, &quot;source&quot;: &quot;current_medications&quot;}`\r\n\r\n\r\nHow to achieve the desired only Values as JSON ?","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>I am trying to use similar set up where I am trying to convert beam <code>Row</code> instead of <code>TableRow</code></p>\n<p>Like below:</p>\n<p><code>PCollection&lt;String&gt; jsonStrings = result.apply(&quot;RowToJSON&quot;, AsJsons.of(Row.class));</code></p>\n<p>But What I rather get is complete JSON object; schema with fields</p>\n<p>`{\n&quot;schema&quot;: {\n&quot;encodingPositions&quot;: {\n&quot;drug_name&quot;: 0,\n&quot;eid&quot;: 1,\n&quot;generic_id&quot;: 9,\n&quot;patientid&quot;: 4,\n&quot;docid&quot;: 2,\n&quot;therapeutic_class&quot;: 7,\n&quot;generic_name&quot;: 6,\n&quot;prid&quot;: 3,\n&quot;created_at&quot;: 10,\n&quot;source&quot;: 11,\n&quot;updated_ekaid&quot;: 5,\n&quot;disease_name&quot;: 8\n},\n&quot;encodingPositionsOverridden&quot;: false,\n&quot;fields&quot;: [\n{\n&quot;name&quot;: &quot;drug_name&quot;,\n&quot;description&quot;: &quot;&quot;,\n&quot;type&quot;: {\n&quot;typeName&quot;: &quot;STRING&quot;,\n&quot;nullable&quot;: false,\n&quot;logicalType&quot;: null,\n&quot;collectionElementType&quot;: null,\n&quot;mapKeyType&quot;: null,\n&quot;mapValueType&quot;: null,\n&quot;rowSchema&quot;: null,\n&quot;allMetadata&quot;: {</p>\n<pre><code>      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;eid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;docid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;prid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;patientid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;updated_ekaid&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;generic_name&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;therapeutic_class&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;disease_name&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;generic_id&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: true,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;created_at&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;STRING&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: null,\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  },\n  {\n    &quot;name&quot;: &quot;source&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;type&quot;: {\n      &quot;typeName&quot;: &quot;LOGICAL_TYPE&quot;,\n      &quot;nullable&quot;: false,\n      &quot;logicalType&quot;: {\n        &quot;identifier&quot;: &quot;SqlCharType&quot;,\n        &quot;argumentType&quot;: {\n          &quot;typeName&quot;: &quot;STRING&quot;,\n          &quot;nullable&quot;: false,\n          &quot;logicalType&quot;: null,\n          &quot;collectionElementType&quot;: null,\n          &quot;mapKeyType&quot;: null,\n          &quot;mapValueType&quot;: null,\n          &quot;rowSchema&quot;: null,\n          &quot;allMetadata&quot;: {\n            \n          }\n        },\n        &quot;argument&quot;: &quot;&quot;,\n        &quot;baseType&quot;: {\n          &quot;typeName&quot;: &quot;STRING&quot;,\n          &quot;nullable&quot;: false,\n          &quot;logicalType&quot;: null,\n          &quot;collectionElementType&quot;: null,\n          &quot;mapKeyType&quot;: null,\n          &quot;mapValueType&quot;: null,\n          &quot;rowSchema&quot;: null,\n          &quot;allMetadata&quot;: {\n            \n          }\n        }\n      },\n      &quot;collectionElementType&quot;: null,\n      &quot;mapKeyType&quot;: null,\n      &quot;mapValueType&quot;: null,\n      &quot;rowSchema&quot;: null,\n      &quot;allMetadata&quot;: {\n        \n      }\n    },\n    &quot;options&quot;: {\n      &quot;optionNames&quot;: [\n        \n      ]\n    }\n  }\n],\n&quot;uuid&quot;: null,\n&quot;options&quot;: {\n  &quot;optionNames&quot;: [\n    \n  ]\n},\n&quot;fieldNames&quot;: [\n  &quot;drug_name&quot;,\n  &quot;eid&quot;,\n  &quot;docid&quot;,\n  &quot;prid&quot;,\n  &quot;patientid&quot;,\n  &quot;updated_ekaid&quot;,\n  &quot;generic_name&quot;,\n  &quot;therapeutic_class&quot;,\n  &quot;disease_name&quot;,\n  &quot;generic_id&quot;,\n  &quot;created_at&quot;,\n  &quot;source&quot;\n],\n&quot;fieldCount&quot;: 12\n</code></pre>\n<p>},\n&quot;values&quot;: [\n&quot;drug_name&quot;,\n&quot;mid&quot;,\n&quot;did&quot;,\n&quot;prid&quot;,\n&quot;pid&quot;,\n&quot;bid&quot;,\n&quot;medicineclassname&quot;,\n&quot;medicine class&quot;,\n&quot;['disease name']&quot;,\n&quot;genericid&quot;,\n&quot;2023-10-13&quot;,\n&quot;current_medications&quot;\n],\n&quot;fieldCount&quot;: 12,\n&quot;baseValues&quot;: [\n&quot;drug_name&quot;,\n&quot;mid&quot;,\n&quot;did&quot;,\n&quot;prid&quot;,\n&quot;pid&quot;,\n&quot;bid&quot;,\n&quot;medicineclassname&quot;,\n&quot;medicine class&quot;,\n&quot;['disease name']&quot;,\n&quot;genericid&quot;,\n&quot;2023-10-13&quot;,\n&quot;current_medications&quot;\n]\n}`</p>\n<p>Whereas I am expecting</p>\n<p><code>{&quot;drug_name&quot;: &quot;drug_name&quot;, &quot;eid&quot;: &quot;mid&quot;, &quot;docid&quot;: &quot;did&quot;, &quot;prid&quot;: &quot;prid&quot;, &quot;patientid&quot;: &quot;pid&quot;, &quot;updated_ekaid&quot;: &quot;bid&quot;, &quot;generic_name&quot;: &quot;medicineclassname&quot;, &quot;therapeutic_class&quot;: &quot;medicine class&quot;, &quot;disease_name&quot;: &quot;[\\'disease name\\']&quot;, &quot;generic_id&quot;: &quot;genericid&quot;, &quot;created_at&quot;: &quot;2023-10-13&quot;, &quot;source&quot;: &quot;current_medications&quot;}</code></p>\n<p>How to achieve the desired only Values as JSON ?</p>\n"}],"owner":{"account_id":2566401,"reputation":808,"user_id":2226323,"accept_rate":42,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48998866,"answer_count":3,"score":4,"last_activity_date":1697205363,"creation_date":1514931645,"question_id":48068634,"body_markdown":"Short of writing my own function to do it, what is the easiest way to convert a `TableRow` object, inside a dataflow 2.x pipeline, to a JSON-formatted String?\r\n\r\nI thought the code below would work, but it isn&#39;t correctly inserting quotes in between key/values, especially where there are nested fields.\r\n\r\n    public static class TableRowToString extends DoFn&lt;TableRow, String&gt; {    \r\n      private static final long serialVersionUID = 1L;\r\n        \r\n      @ProcessElement\r\n        public void processElement(ProcessContext c) {\r\n          c.output(c.element().toString());\r\n        }\r\n      }\r\n    }","title":"Easiest way to convert a TableRow to JSON-formatted String, in dataflow 2.x?","body":"<p>Short of writing my own function to do it, what is the easiest way to convert a <code>TableRow</code> object, inside a dataflow 2.x pipeline, to a JSON-formatted String?</p>\n\n<p>I thought the code below would work, but it isn't correctly inserting quotes in between key/values, especially where there are nested fields.</p>\n\n<pre><code>public static class TableRowToString extends DoFn&lt;TableRow, String&gt; {    \n  private static final long serialVersionUID = 1L;\n\n  @ProcessElement\n    public void processElement(ProcessContext c) {\n      c.output(c.element().toString());\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1287590291,"post_id":3979748,"comment_id":4257852,"body_markdown":"http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map/3725732#3725732 related","body":"<a href=\"http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map/3725732#3725732\" title=\"how to store more than one string in a map\">stackoverflow.com/questions/3725703/&hellip;</a> related"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1287592463,"post_id":3979748,"comment_id":4258297,"body_markdown":"Why do you want to do this?  Generally when I see this it is a design problem (speaking from my own mistakes as well as others :-)","body":"Why do you want to do this?  Generally when I see this it is a design problem (speaking from my own mistakes as well as others :-)"}],"answers":[{"tags":[],"owner":{"account_id":27152,"reputation":3411,"user_id":71354,"accept_rate":85,"display_name":"Yrlec"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287590113,"creation_date":1287589828,"answer_id":3979760,"question_id":3979748,"body_markdown":"You can create a wrapper class which holds these three variables and then store that wrapper-object in the list. \r\n\r\nFor instance\r\n\r\n\r\n\t    public class ListWrapperClass {\r\n        private String firstStringValue;\r\n        private String secondStringValue;\r\n        private Integer integerValue;\r\n\r\n        public String getFirstStringValue() {\r\n            return firstStringValue;\r\n        }\r\n\r\n        public void setFirstStringValue(String firstStringValue) {\r\n            this.firstStringValue = firstStringValue;\r\n        }\r\n\r\n        public String getSecondStringValue() {\r\n            return secondStringValue;\r\n        }\r\n\r\n        public void setSecondStringValue(String secondStringValue) {\r\n            this.secondStringValue = secondStringValue;\r\n        }\r\n\r\n        public Integer getIntegerValue() {\r\n            return integerValue;\r\n        }\r\n\r\n        public void setIntegerValue(Integer integerValue) {\r\n            this.integerValue = integerValue;\r\n        }\r\n    }\r\n\r\nand then use `List&lt;ListWrapperClass&gt;`.\r\n","title":"Multiple parameters in List","body":"<p>You can create a wrapper class which holds these three variables and then store that wrapper-object in the list. </p>\n\n<p>For instance</p>\n\n<pre><code>    public class ListWrapperClass {\n    private String firstStringValue;\n    private String secondStringValue;\n    private Integer integerValue;\n\n    public String getFirstStringValue() {\n        return firstStringValue;\n    }\n\n    public void setFirstStringValue(String firstStringValue) {\n        this.firstStringValue = firstStringValue;\n    }\n\n    public String getSecondStringValue() {\n        return secondStringValue;\n    }\n\n    public void setSecondStringValue(String secondStringValue) {\n        this.secondStringValue = secondStringValue;\n    }\n\n    public Integer getIntegerValue() {\n        return integerValue;\n    }\n\n    public void setIntegerValue(Integer integerValue) {\n        this.integerValue = integerValue;\n    }\n}\n</code></pre>\n\n<p>and then use <code>List&lt;ListWrapperClass&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287589865,"creation_date":1287589865,"answer_id":3979769,"question_id":3979748,"body_markdown":"You can use a `List&lt;Object&gt;` and then cast whatever you retrieve based on the index, but you may just consider creating a class that holds these three things.","title":"Multiple parameters in List","body":"<p>You can use a <code>List&lt;Object&gt;</code> and then cast whatever you retrieve based on the index, but you may just consider creating a class that holds these three things.</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1287590057,"creation_date":1287590057,"answer_id":3979806,"question_id":3979748,"body_markdown":"What you need is a Tuple class:\r\n\r\n    public class Tuple&lt;E, F, G&gt; {\r\n        public E First;\r\n        public F Second;\r\n        public G Third;    \r\n    }\r\n    \r\nThen you can iterate over the list of the tuple, and look at each entry in the tuple.\r\n\r\n    List&lt;Tuple&lt;Integer, String, String&gt; listOfTuple;\r\n    for (Tuple&lt;Integer, String, String&gt; tpl: listOfTuple){\r\n        // process each tuple\r\n        tpl.First ... etc\r\n    }","title":"Multiple parameters in List","body":"<p>What you need is a Tuple class:</p>\n\n<pre><code>public class Tuple&lt;E, F, G&gt; {\n    public E First;\n    public F Second;\n    public G Third;    \n}\n</code></pre>\n\n<p>Then you can iterate over the list of the tuple, and look at each entry in the tuple.</p>\n\n<pre><code>List&lt;Tuple&lt;Integer, String, String&gt; listOfTuple;\nfor (Tuple&lt;Integer, String, String&gt; tpl: listOfTuple){\n    // process each tuple\n    tpl.First ... etc\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4490895,"reputation":111,"user_id":3834776,"display_name":"Jonas S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697203870,"creation_date":1697203870,"answer_id":77288173,"question_id":3979748,"body_markdown":"Another alternative is to use a Tuple from a dependency in Maven central repo \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javatuples&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javatuples&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou then create an object with two or more types like this: \r\n\r\n    Pair&lt;String, Integer&gt; person = new Pair&lt;&gt;(&quot;John&quot;, 50);\r\n    Triplet&lt;Integer, String, String&gt; person1 = new Triplet&lt;&gt;(&quot;John&quot;, 50, &quot;single&quot;)\r\n\r\nThere are 10 types of tuples, each for a corresponding number of items:\r\n\r\n    Unit (one element)\r\n    Pair (two elements)\r\n    Triplet (three elements)\r\n    Quartet (four elements)\r\n    Quintet (five elements)\r\n    Sextet (six elements)\r\n    Septet (seven elements)\r\n    Octet (eight elements)\r\n    Ennead (nine elements)\r\n    Decade (ten elements)\r\n\r\nAnd then you can just use it in a list like any other type.","title":"Multiple parameters in List","body":"<p>Another alternative is to use a Tuple from a dependency in Maven central repo</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.javatuples&lt;/groupId&gt;\n    &lt;artifactId&gt;javatuples&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You then create an object with two or more types like this:</p>\n<pre><code>Pair&lt;String, Integer&gt; person = new Pair&lt;&gt;(&quot;John&quot;, 50);\nTriplet&lt;Integer, String, String&gt; person1 = new Triplet&lt;&gt;(&quot;John&quot;, 50, &quot;single&quot;)\n</code></pre>\n<p>There are 10 types of tuples, each for a corresponding number of items:</p>\n<pre><code>Unit (one element)\nPair (two elements)\nTriplet (three elements)\nQuartet (four elements)\nQuintet (five elements)\nSextet (six elements)\nSeptet (seven elements)\nOctet (eight elements)\nEnnead (nine elements)\nDecade (ten elements)\n</code></pre>\n<p>And then you can just use it in a list like any other type.</p>\n"}],"owner":{"account_id":177169,"reputation":4841,"user_id":408324,"accept_rate":64,"display_name":"y2p"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23795,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3979806,"answer_count":4,"score":11,"last_activity_date":1697203870,"creation_date":1287589735,"question_id":3979748,"body_markdown":"I want to do something like this\r\n\r\n    List&lt;Integer, String, String&gt;\r\n\r\nI want to be able to iteratively retrieve either of these three parameters.\r\nHow can I go about it?\r\nThanks","title":"Multiple parameters in List","body":"<p>I want to do something like this</p>\n\n<pre><code>List&lt;Integer, String, String&gt;\n</code></pre>\n\n<p>I want to be able to iteratively retrieve either of these three parameters.\nHow can I go about it?\nThanks</p>\n"},{"tags":["java","c++","graalvm"],"comments":[{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1697205176,"post_id":77288160,"comment_id":136254348,"body_markdown":"Does `emcc` understand if you make it `std::vector&lt;uint8_t&gt; bytes` instead of `uint8_t* bytes` ?","body":"Does <code>emcc</code> understand if you make it <code>std::vector&lt;uint8_t&gt; bytes</code> instead of <code>uint8_t* bytes</code> ?"}],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697203780,"creation_date":1697203780,"question_id":77288160,"body_markdown":"I&#39;ve written a simple test C++ file. The C++ file contains a simple function that sets the value of the pointer to `42`.\r\n\r\n```cpp\r\nextern &quot;C&quot; {\r\n    void foo(uint8_t* bytes) {\r\n        bytes[0] = 42;\r\n    }\r\n}\r\n```\r\n\r\nThen I used Emscripten to compile the C++ file to wasm.\r\n\r\n```\r\nemcc foo.cpp -o foo.wasm -s EXPORT_ALL=1\r\n```\r\n\r\nI tried the following code to call the function, but it seems that the `uint8_t*` parameter is converted to `Integer` and passing `byte[]` to it is not allowed. I guess it stands for a pointer to the WASM internal memory, but I don&#39;t know how to allocate a buffer, copy the java array to it, and copy the content back after the function call.\r\n\r\n```java\r\nstatic final Context CONTEXT = Context.newBuilder(&quot;wasm&quot;)\r\n    .allowAllAccess(true).option(&quot;wasm.Builtins&quot;, &quot;wasi_snapshot_preview1,env:emscripten&quot;).build();\r\n\r\nvar bin = IOUtils.resourceToByteArray(&quot;/foo.wasm&quot;);\r\nCONTEXT.eval(Source.newBuilder(&quot;wasm&quot;, ByteSequence.create(bin), &quot;foo&quot;).build());\r\nvar foo = CONTEXT.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;foo&quot;);\r\nbyte[] arr = {0};\r\nSystem.out.println(arr[0]);  // 0\r\nfoo.execute(...);  // TODO how to achieve this?\r\nSystem.out.println(arr[0]);  // 42\r\n```\r\n\r\nI want my program to be cross-platform, so I don&#39;t want to use LLVM on GraalVM (it&#39;s said that LLVM bitcode is platform-dependent). Do anyone have idea on how to achieve this? It&#39;s OK to copy the java array to the WASM memory, but passing the array directly will be better. ","title":"How can I pass an array to a C++ function on GraalWasm with the polyglot API?","body":"<p>I've written a simple test C++ file. The C++ file contains a simple function that sets the value of the pointer to <code>42</code>.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>extern &quot;C&quot; {\n    void foo(uint8_t* bytes) {\n        bytes[0] = 42;\n    }\n}\n</code></pre>\n<p>Then I used Emscripten to compile the C++ file to wasm.</p>\n<pre><code>emcc foo.cpp -o foo.wasm -s EXPORT_ALL=1\n</code></pre>\n<p>I tried the following code to call the function, but it seems that the <code>uint8_t*</code> parameter is converted to <code>Integer</code> and passing <code>byte[]</code> to it is not allowed. I guess it stands for a pointer to the WASM internal memory, but I don't know how to allocate a buffer, copy the java array to it, and copy the content back after the function call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Context CONTEXT = Context.newBuilder(&quot;wasm&quot;)\n    .allowAllAccess(true).option(&quot;wasm.Builtins&quot;, &quot;wasi_snapshot_preview1,env:emscripten&quot;).build();\n\nvar bin = IOUtils.resourceToByteArray(&quot;/foo.wasm&quot;);\nCONTEXT.eval(Source.newBuilder(&quot;wasm&quot;, ByteSequence.create(bin), &quot;foo&quot;).build());\nvar foo = CONTEXT.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;foo&quot;);\nbyte[] arr = {0};\nSystem.out.println(arr[0]);  // 0\nfoo.execute(...);  // TODO how to achieve this?\nSystem.out.println(arr[0]);  // 42\n</code></pre>\n<p>I want my program to be cross-platform, so I don't want to use LLVM on GraalVM (it's said that LLVM bitcode is platform-dependent). Do anyone have idea on how to achieve this? It's OK to copy the java array to the WASM memory, but passing the array directly will be better.</p>\n"},{"tags":["java","excel","scala","apache-poi","xssf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1697445440,"post_id":77288158,"comment_id":136276165,"body_markdown":"[ClientAnchor.setDx1](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html#setDx1-int-) states &quot;Note - XSSF and HSSF have a slightly different coordinate system, values in XSSF are larger by a factor of Units.EMU_PER_PIXEL&quot;. So what happens if you do `moveX = (colWidthInPixels - scaledWidth) / 2 * Units.EMU_PER_PIXEL`?","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/ClientAnchor.html#setDx1-int-\" rel=\"nofollow noreferrer\">ClientAnchor.setDx1</a> states &quot;Note - XSSF and HSSF have a slightly different coordinate system, values in XSSF are larger by a factor of Units.EMU_PER_PIXEL&quot;. So what happens if you do <code>moveX = (colWidthInPixels - scaledWidth) &#47; 2 * Units.EMU_PER_PIXEL</code>?"},{"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"score":0,"creation_date":1697458906,"post_id":77288158,"comment_id":136278517,"body_markdown":"@AxelRichter - That seems to move the image across the x-axis. Which is really great. Thanks.","body":"@AxelRichter - That seems to move the image across the x-axis. Which is really great. Thanks."}],"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697203776,"creation_date":1697203776,"question_id":77288158,"body_markdown":"I am attempting to position an image to the middle of a cell within an excel sheet in a Scala app. I am using ApachePOI version `5.0.0`. However, my logic only renders the image to the top left of the cell.\r\n\r\nHow can I position the image in the middle within a given cell.\r\nThis is my code logic:\r\n\r\n```\r\n  def addImageToCell(imagePath: String, sheet: XSSFSheet, columnIdx: Int, rowNum: Int): Unit = {\r\n    val fis = Files.newInputStream(Path.of(imagePath))\r\n\r\n    val pictureBytes = IOUtils.toByteArray(fis)\r\n    val pictureIdx   = sheet.getWorkbook.addPicture(pictureBytes, Workbook.PICTURE_TYPE_PNG)\r\n    fis.close()\r\n\r\n    val helper  = sheet.getWorkbook.getCreationHelper\r\n    val drawing = sheet.createDrawingPatriarch()\r\n\r\n    val anchor = helper.createClientAnchor\r\n    anchor.setCol1(columnIdx)\r\n    anchor.setRow1(rowNum)\r\n\r\n    anchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE)\r\n\r\n    // load image and get its dimensions\r\n    val bufferedImg       = ImageIO.read(new File(imagePath))\r\n    val originalDimension = new Dimension(bufferedImg.getWidth, bufferedImg.getHeight)\r\n\r\n    // get the cell&#39;s width &amp; height in pixels\r\n    val colWidthInPixels  = Math.round(sheet.getColumnWidthInPixels(columnIdx))\r\n    val rowHeightInPixels = Math.round(sheet.getRow(rowNum).getHeightInPoints / 72 * 96)\r\n\r\n    // calculate scale factor\r\n    val scaleX = colWidthInPixels.toDouble / originalDimension.width\r\n    val scaleY = rowHeightInPixels.toDouble / originalDimension.height\r\n\r\n    // use the smaller scale factor to ensure the image fits within the cell\r\n    val scale = Math.min(scaleX, scaleY)\r\n    // makes certain that the scale factor cannot be below &quot;0.1&quot; - else the images will be too tiny\r\n    val revisedScale = Math.max(scale, 0.1)\r\n\r\n    // resize image\r\n    val picture: Picture = drawing.createPicture(anchor, pictureIdx)\r\n    picture.resize(revisedScale)\r\n\r\n    // calculate the scaled image&#39;s new height &amp; width\r\n    val scaledWidth  = (originalDimension.width * revisedScale).toInt\r\n    val scaledHeight = (originalDimension.height * revisedScale).toInt\r\n\r\n    // calculate how much to move the image by in order to center it in the cell\r\n    val moveX = (colWidthInPixels - scaledWidth) / 2\r\n    val moveY = (rowHeightInPixels - scaledHeight) / 2\r\n\r\n    // move the image to be centered in the cell\r\n    anchor.setDx1(moveX)\r\n    anchor.setDy1(moveY)\r\n  }\r\n```\r\n\r\nAny assistance will be highly appreciated.","title":"Positioning an Image in the middle of a cell using ApachePOI","body":"<p>I am attempting to position an image to the middle of a cell within an excel sheet in a Scala app. I am using ApachePOI version <code>5.0.0</code>. However, my logic only renders the image to the top left of the cell.</p>\n<p>How can I position the image in the middle within a given cell.\nThis is my code logic:</p>\n<pre><code>  def addImageToCell(imagePath: String, sheet: XSSFSheet, columnIdx: Int, rowNum: Int): Unit = {\n    val fis = Files.newInputStream(Path.of(imagePath))\n\n    val pictureBytes = IOUtils.toByteArray(fis)\n    val pictureIdx   = sheet.getWorkbook.addPicture(pictureBytes, Workbook.PICTURE_TYPE_PNG)\n    fis.close()\n\n    val helper  = sheet.getWorkbook.getCreationHelper\n    val drawing = sheet.createDrawingPatriarch()\n\n    val anchor = helper.createClientAnchor\n    anchor.setCol1(columnIdx)\n    anchor.setRow1(rowNum)\n\n    anchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE)\n\n    // load image and get its dimensions\n    val bufferedImg       = ImageIO.read(new File(imagePath))\n    val originalDimension = new Dimension(bufferedImg.getWidth, bufferedImg.getHeight)\n\n    // get the cell's width &amp; height in pixels\n    val colWidthInPixels  = Math.round(sheet.getColumnWidthInPixels(columnIdx))\n    val rowHeightInPixels = Math.round(sheet.getRow(rowNum).getHeightInPoints / 72 * 96)\n\n    // calculate scale factor\n    val scaleX = colWidthInPixels.toDouble / originalDimension.width\n    val scaleY = rowHeightInPixels.toDouble / originalDimension.height\n\n    // use the smaller scale factor to ensure the image fits within the cell\n    val scale = Math.min(scaleX, scaleY)\n    // makes certain that the scale factor cannot be below &quot;0.1&quot; - else the images will be too tiny\n    val revisedScale = Math.max(scale, 0.1)\n\n    // resize image\n    val picture: Picture = drawing.createPicture(anchor, pictureIdx)\n    picture.resize(revisedScale)\n\n    // calculate the scaled image's new height &amp; width\n    val scaledWidth  = (originalDimension.width * revisedScale).toInt\n    val scaledHeight = (originalDimension.height * revisedScale).toInt\n\n    // calculate how much to move the image by in order to center it in the cell\n    val moveX = (colWidthInPixels - scaledWidth) / 2\n    val moveY = (rowHeightInPixels - scaledHeight) / 2\n\n    // move the image to be centered in the cell\n    anchor.setDx1(moveX)\n    anchor.setDy1(moveY)\n  }\n</code></pre>\n<p>Any assistance will be highly appreciated.</p>\n"},{"tags":["java","angular","typescript","spring"],"owner":{"account_id":15922986,"reputation":280,"user_id":11489425,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697204994,"answer_count":0,"score":0,"last_activity_date":1697203710,"creation_date":1697202191,"question_id":77287969,"body_markdown":"I try to call the function from front to back, on the front side the logs are received successfully, but on the back side I receive nothing.\r\n```\r\n updateLastConnection(): Observable&lt;any&gt; {\r\n\r\n        const url = `${this.baseUrl}/update-last-connexion`;\r\n\r\n        console.log(&#39;Update URL:&#39;, url); // Logging the URL\r\n\r\n        console.log(&#39;Update called&#39;); // Logging the function call\r\n\r\n        return this.http.post(url, {}).pipe(\r\n\r\n          tap(_ =&gt; console.log(&#39;Update request successful&#39;)), // Logging success\r\n\r\n          catchError(error =&gt; {\r\n\r\n            console.error(&#39;Update request error:&#39;, error); // Logging errors\r\n\r\n            return throwError(error);\r\n\r\n          })\r\n\r\n        );\r\n\r\n    }\r\n  ```\r\nFront logs:\r\n\r\nUpdate URL: http://localhost:4200/api/users/update-last-connexion\r\n\r\nUpdate called\r\n\r\nBack-end side with no logs:\r\n```\r\n  @PostMapping(value = &quot;/users/update-last-connexion&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n    @Timed\r\n    public ResponseEntity&lt;UserDTO&gt; updateLastConnexion() {\r\n        logger.info(&quot;Update last connection endpoint called.&quot;);\r\n        String userId = SecurityControlle.getUserId();\r\n        logger.info(&quot;User ID: {}&quot;, userId);\r\n        try {\r\n            this.userFacade.updateLastConnexion(this.userFacade.getCurrentUser(userId));\r\n            logger.info(&quot;Last connection updated successfully.&quot;);\r\n            return ResponseEntity.ok().build();\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error updating last connection: {}&quot;, e.getMessage());\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n   ","title":"Angular Front-End call not calling the method in Spring Java Back-end and receiveing no logs","body":"<p>I try to call the function from front to back, on the front side the logs are received successfully, but on the back side I receive nothing.</p>\n<pre><code> updateLastConnection(): Observable&lt;any&gt; {\n\n        const url = `${this.baseUrl}/update-last-connexion`;\n\n        console.log('Update URL:', url); // Logging the URL\n\n        console.log('Update called'); // Logging the function call\n\n        return this.http.post(url, {}).pipe(\n\n          tap(_ =&gt; console.log('Update request successful')), // Logging success\n\n          catchError(error =&gt; {\n\n            console.error('Update request error:', error); // Logging errors\n\n            return throwError(error);\n\n          })\n\n        );\n\n    }\n</code></pre>\n<p>Front logs:</p>\n<p>Update URL: http://localhost:4200/api/users/update-last-connexion</p>\n<p>Update called</p>\n<p>Back-end side with no logs:</p>\n<pre><code>  @PostMapping(value = &quot;/users/update-last-connexion&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n    @Timed\n    public ResponseEntity&lt;UserDTO&gt; updateLastConnexion() {\n        logger.info(&quot;Update last connection endpoint called.&quot;);\n        String userId = SecurityControlle.getUserId();\n        logger.info(&quot;User ID: {}&quot;, userId);\n        try {\n            this.userFacade.updateLastConnexion(this.userFacade.getCurrentUser(userId));\n            logger.info(&quot;Last connection updated successfully.&quot;);\n            return ResponseEntity.ok().build();\n        } catch (Exception e) {\n            logger.error(&quot;Error updating last connection: {}&quot;, e.getMessage());\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n   \n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","compiler-errors","ide"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651585639,"post_id":72100223,"comment_id":127394518,"body_markdown":"Go to File -&gt; Project Settings -&gt; SDKs and check that &quot;18&quot; is properly configured.","body":"Go to File -&gt; Project Settings -&gt; SDKs and check that &quot;18&quot; is properly configured."},{"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"score":0,"creation_date":1651585925,"post_id":72100223,"comment_id":127394645,"body_markdown":"@k314159 do you mean project structure? its already 18","body":"@k314159 do you mean project structure? its already 18"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651587674,"post_id":72100223,"comment_id":127395390,"body_markdown":"Check the folder paths for &quot;18&quot; under &quot;Platform Settings&quot;","body":"Check the folder paths for &quot;18&quot; under &quot;Platform Settings&quot;"},{"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"score":0,"creation_date":1651624524,"post_id":72100223,"comment_id":127406351,"body_markdown":"@k314159 and then?","body":"@k314159 and then?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651650718,"post_id":72100223,"comment_id":127411002,"body_markdown":"Check that the folders and files named under &quot;18&quot; (in particular, those in the Classpath tab) actually exist on your machine.","body":"Check that the folders and files named under &quot;18&quot; (in particular, those in the Classpath tab) actually exist on your machine."}],"answers":[{"tags":[],"owner":{"account_id":25239493,"reputation":401,"user_id":19073552,"display_name":"ARKHAN"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1679529174,"creation_date":1652076461,"answer_id":72167596,"question_id":72100223,"body_markdown":"The problem is with version of JDK you are using. The Intellij version 2020.2 supports only upto  JDK 14. So either you have to lower the JDK version to 14 or update the IntelliJ to a newer version like 2021.\r\n\r\nSource: https://www.jetbrains.com/help/idea/supported-java-versions.html","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>The problem is with version of JDK you are using. The Intellij version 2020.2 supports only upto  JDK 14. So either you have to lower the JDK version to 14 or update the IntelliJ to a newer version like 2021.</p>\n<p>Source: <a href=\"https://www.jetbrains.com/help/idea/supported-java-versions.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/supported-java-versions.html</a></p>\n"},{"tags":[],"owner":{"account_id":3068714,"reputation":1557,"user_id":2599865,"accept_rate":100,"display_name":"V-Q-A NGUYEN"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669293768,"creation_date":1669293768,"answer_id":74560991,"question_id":72100223,"body_markdown":"I faced the same error recently (Nov 2022)\r\n\r\n    Error:Cannot determine path to &#39;tools.jar&#39; library for 17 (C:\\Program Files\\Java\\jdk-17.0.5)\r\n\r\nwhen using IntelliJ IDEA 2020.1.4 with JDK 17.0.5. Issue is resolved by switching to open JDK amazon-corretto-11, you can download it from here https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html \r\n\r\nAmazon Corretto is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto comes with long-term support that includes performance enhancements and security fixes.","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>I faced the same error recently (Nov 2022)</p>\n<pre><code>Error:Cannot determine path to 'tools.jar' library for 17 (C:\\Program Files\\Java\\jdk-17.0.5)\n</code></pre>\n<p>when using IntelliJ IDEA 2020.1.4 with JDK 17.0.5. Issue is resolved by switching to open JDK amazon-corretto-11, you can download it from here <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html</a></p>\n<p>Amazon Corretto is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto comes with long-term support that includes performance enhancements and security fixes.</p>\n"},{"tags":[],"owner":{"account_id":1800169,"reputation":21,"user_id":1638713,"display_name":"prem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697203486,"creation_date":1697203486,"answer_id":77288130,"question_id":72100223,"body_markdown":"I solved the same problem this morning, i had tried many approaches like upgrading to latest JDK and downgrading to older JDKs. None of them helped me. Finally I updated to IntelliJ IDEA 2023.2.3 (Community Edition), and things started working smoothly.","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>I solved the same problem this morning, i had tried many approaches like upgrading to latest JDK and downgrading to older JDKs. None of them helped me. Finally I updated to IntelliJ IDEA 2023.2.3 (Community Edition), and things started working smoothly.</p>\n"}],"owner":{"account_id":23187514,"reputation":151,"user_id":17284378,"display_name":"Crooky1123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44724,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1697203486,"creation_date":1651584851,"question_id":72100223,"body_markdown":"i want to run my code in intellij ide (community edition)\r\nand when i try to run it, i got this error\r\n\r\n&gt; Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program\r\n&gt; Files/jdk-18.0.1.1)\r\n\r\n[This is the ScreenShot of the error][1]\r\n\r\nhelp me pls... i want to learn kotlin use intellij ide\r\n\r\n[And this is my JAVA_HOME][2]\r\n\r\nversion ide : 2020.2\r\nThank you :)\r\n\r\n  [1]: https://i.stack.imgur.com/P24Cq.png\r\n  [2]: https://i.stack.imgur.com/l9MQC.png","title":"Cannot determine path to &#39;tools.jar&#39; library for 18 (C:/Program Files/jdk-18.0.1.1)","body":"<p>i want to run my code in intellij ide (community edition)\nand when i try to run it, i got this error</p>\n<blockquote>\n<p>Cannot determine path to 'tools.jar' library for 18 (C:/Program\nFiles/jdk-18.0.1.1)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/P24Cq.png\" rel=\"noreferrer\">This is the ScreenShot of the error</a></p>\n<p>help me pls... i want to learn kotlin use intellij ide</p>\n<p><a href=\"https://i.stack.imgur.com/l9MQC.png\" rel=\"noreferrer\">And this is my JAVA_HOME</a></p>\n<p>version ide : 2020.2\nThank you :)</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697203361,"creation_date":1697203361,"answer_id":77288115,"question_id":77287464,"body_markdown":"When you configure authorization via security filter chain it&#39;s handled before your request reaches a controller, that&#39;s why `@ControllerAdvice` and `@RestControllerAdvice` won&#39;t work here.\r\nWith your set-up if you want to change the way Spring resolves denied access you should create your custom `AccessDeniedHandler`, which can do anything (like write straight to `HttpServletResponse response`), and pass it to security chain config like this:\r\n```java\r\n@Bean\r\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n                .authorizeHttpRequests((authorize) -&gt;\r\n                        //authorize.anyRequest().authenticated())\r\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .exceptionHandling(customizer -&gt; customizer.accessDeniedHandler(yourCustomAccessDeniedHandler))\r\n                .httpBasic(Customizer.withDefaults());\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nOr you can configure role-based or permission-based authorization using annotations like `@Secured`, `@PreAuthorize`, `@PostAuthorize` on your controller or service methods - then `@ControllerAdvice` and `@RestControllerAdvice` will work as expected. Don&#39;t forget to set `@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)` on your security config class in that case.","title":"Spring boot doesn&#39;t call the handleAccessDeniedException() method","body":"<p>When you configure authorization via security filter chain it's handled before your request reaches a controller, that's why <code>@ControllerAdvice</code> and <code>@RestControllerAdvice</code> won't work here.\nWith your set-up if you want to change the way Spring resolves denied access you should create your custom <code>AccessDeniedHandler</code>, which can do anything (like write straight to <code>HttpServletResponse response</code>), and pass it to security chain config like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        //authorize.anyRequest().authenticated())\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                                .anyRequest().authenticated())\n                .exceptionHandling(customizer -&gt; customizer.accessDeniedHandler(yourCustomAccessDeniedHandler))\n                .httpBasic(Customizer.withDefaults());\n\n    return http.build();\n}\n</code></pre>\n<p>Or you can configure role-based or permission-based authorization using annotations like <code>@Secured</code>, <code>@PreAuthorize</code>, <code>@PostAuthorize</code> on your controller or service methods - then <code>@ControllerAdvice</code> and <code>@RestControllerAdvice</code> will work as expected. Don't forget to set <code>@EnableMethodSecurity(securedEnabled = true, prePostEnabled = true)</code> on your security config class in that case.</p>\n"}],"owner":{"account_id":26069556,"reputation":79,"user_id":19769480,"display_name":"Answer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77288115,"answer_count":1,"score":0,"last_activity_date":1697203361,"creation_date":1697197660,"question_id":77287464,"body_markdown":"I have a global exception handler in my spring boot app that looks like this: \r\n\r\n    package com.springboot.blog.exception;\r\n    \r\n    import com.springboot.blog.payload.ErrorDetails;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.HttpStatusCode;\r\n    import org.springframework.http.ResponseEntity;\r\n    \r\n    import org.springframework.security.access.AccessDeniedException;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n    \r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        //handle specific exceptions\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleResourceNotFoundException(ResourceNotFoundException exception,\r\n                                                                            WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n        @ExceptionHandler(BlogAPIException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleBlogAPIException(BlogAPIException exception,\r\n                                                                   WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n        // global exceptions\r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleGlobalException(Exception exception,\r\n                                                                  WebRequest webRequest) {\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                      HttpHeaders headers,\r\n                                                                      HttpStatusCode status,\r\n                                                                      WebRequest request) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String message = error.getDefaultMessage();\r\n                errors.put(fieldName, message);\r\n            });\r\n    \r\n            return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n    \r\n        @ExceptionHandler(AccessDeniedException.class)\r\n        public ResponseEntity&lt;ErrorDetails&gt; handleAccessDeniedException(AccessDeniedException exception,\r\n                                                                        WebRequest webRequest) {\r\n            System.out.println(&quot;Called handleAccessDeniedException&quot;);\r\n            ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\r\n                    webRequest.getDescription(false));\r\n            return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.UNAUTHORIZED);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe security config file looks like this:\r\n\r\n    package com.springboot.blog.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable()\r\n                    .authorizeHttpRequests((authorize) -&gt;\r\n                            //authorize.anyRequest().authenticated())\r\n                            authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    ).httpBasic(Customizer.withDefaults());\r\n    \r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            UserDetails pavel = User.builder()\r\n                    .username(&quot;pavel&quot;)\r\n                    .password(passwordEncoder().encode(&quot;pavel&quot;))\r\n                    .roles(&quot;USER&quot;)\r\n                    .build();\r\n    \r\n            UserDetails admin = User.builder()\r\n                    .username(&quot;admin&quot;)\r\n                    .password(passwordEncoder().encode(&quot;admin&quot;))\r\n                    .roles(&quot;ADMIN&quot;)\r\n                    .build();\r\n    \r\n    \r\n            return new InMemoryUserDetailsManager(pavel, admin);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe problem is that when I login with incorrect credentials, spring boot uses the standard exception handler and doesn&#39;t call the custom handleAccessDeniedException() method that I have. Other exception methods from the GlobalExceptionHandler seem to work fine. Please help! ","title":"Spring boot doesn&#39;t call the handleAccessDeniedException() method","body":"<p>I have a global exception handler in my spring boot app that looks like this:</p>\n<pre><code>package com.springboot.blog.exception;\n\nimport com.springboot.blog.payload.ErrorDetails;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.http.ResponseEntity;\n\nimport org.springframework.security.access.AccessDeniedException;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    //handle specific exceptions\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleResourceNotFoundException(ResourceNotFoundException exception,\n                                                                        WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(BlogAPIException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleBlogAPIException(BlogAPIException exception,\n                                                               WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\n    }\n\n    // global exceptions\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleGlobalException(Exception exception,\n                                                              WebRequest webRequest) {\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers,\n                                                                  HttpStatusCode status,\n                                                                  WebRequest request) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String message = error.getDefaultMessage();\n            errors.put(fieldName, message);\n        });\n\n        return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n    }\n\n\n    @ExceptionHandler(AccessDeniedException.class)\n    public ResponseEntity&lt;ErrorDetails&gt; handleAccessDeniedException(AccessDeniedException exception,\n                                                                    WebRequest webRequest) {\n        System.out.println(&quot;Called handleAccessDeniedException&quot;);\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), exception.getMessage(),\n                webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.UNAUTHORIZED);\n    }\n\n\n}\n</code></pre>\n<p>The security config file looks like this:</p>\n<pre><code>package com.springboot.blog.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public static PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        //authorize.anyRequest().authenticated())\n                        authorize.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).httpBasic(Customizer.withDefaults());\n\n\n        return http.build();\n    }\n\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails pavel = User.builder()\n                .username(&quot;pavel&quot;)\n                .password(passwordEncoder().encode(&quot;pavel&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(passwordEncoder().encode(&quot;admin&quot;))\n                .roles(&quot;ADMIN&quot;)\n                .build();\n\n\n        return new InMemoryUserDetailsManager(pavel, admin);\n    }\n\n\n}\n</code></pre>\n<p>The problem is that when I login with incorrect credentials, spring boot uses the standard exception handler and doesn't call the custom handleAccessDeniedException() method that I have. Other exception methods from the GlobalExceptionHandler seem to work fine. Please help!</p>\n"},{"tags":["java","android","generics","kotlin","retrofit2"],"comments":[{"owner":{"account_id":8407929,"reputation":2558,"user_id":6310865,"display_name":"Dilan"},"score":2,"creation_date":1586857774,"post_id":61204825,"comment_id":108275606,"body_markdown":"Add your code as text.not screenshots","body":"Add your code as text.not screenshots"},{"owner":{"account_id":13128207,"reputation":791,"user_id":9483413,"display_name":"Parth"},"score":0,"creation_date":1586859319,"post_id":61204825,"comment_id":108276350,"body_markdown":"Please don&#39;t post image. insted add a code for better understanding","body":"Please don&#39;t post image. insted add a code for better understanding"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586868046,"post_id":61204825,"comment_id":108280962,"body_markdown":"you can see again. @DilanAnuruddha","body":"you can see again. @DilanAnuruddha"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586868113,"post_id":61204825,"comment_id":108280995,"body_markdown":"you can see again. @Parth","body":"you can see again. @Parth"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1586868501,"post_id":61204825,"comment_id":108281223,"body_markdown":"You could probably use `Observable&lt;Any&gt;`","body":"You could probably use <code>Observable&lt;Any&gt;</code>"},{"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"score":0,"creation_date":1586960715,"post_id":61204825,"comment_id":108322013,"body_markdown":"No. Problems with &quot;fun &lt;T&gt; post&quot;: T Generic Type. @EpicPandaForce","body":"No. Problems with &quot;fun &lt;T&gt; post&quot;: T Generic Type. @EpicPandaForce"}],"answers":[{"tags":[],"owner":{"account_id":13128207,"reputation":791,"user_id":9483413,"display_name":"Parth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586869030,"creation_date":1586869030,"answer_id":61208282,"question_id":61204825,"body_markdown":"&gt; Type information needs to be fully known at runtime in order for\r\n&gt; deserialization to work.\r\n\r\nYou cannot do this,the type info needs to be fully static and not a generic, otherwise retrofit cannot correctly generate the Service. Look at [here][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/square/retrofit/issues/2012","title":"Android Retrofit2 generics method","body":"<blockquote>\n  <p>Type information needs to be fully known at runtime in order for\n  deserialization to work.</p>\n</blockquote>\n\n<p>You cannot do this,the type info needs to be fully static and not a generic, otherwise retrofit cannot correctly generate the Service. Look at <a href=\"https://github.com/square/retrofit/issues/2012\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697202694,"creation_date":1697200657,"answer_id":77287816,"question_id":61204825,"body_markdown":"\r\n\r\n\r\n\r\nJust adding some common class and by this code snippet you can easily call any api\r\n       \r\n     val repository = Repository(UseCase&lt;YourModel&gt;())\r\n    \r\n            CoroutineScope(Dispatchers.Main).launch {\r\n                RetrofitClient.apiEndpoint?.getXyz(\r\n                    YourModel(value)\r\n                )?.let {\r\n                    repository.fetchData(\r\n                        it\r\n                    ) { yourModel, error -&gt;\r\n                        if (error != null) {\r\n                            // Handle error\r\n                            Log.d(&quot;CheckingResponse&quot;, &quot;$error&quot;)\r\n                        } else {\r\n                            // ..success\r\n                        }\r\n                      }\r\n                    }\r\n            }\r\n\r\nClient \r\n\r\n    object RetrofitClient {\r\n        private const val BASE_URL = &quot;https://xyz/&quot;\r\n        private var client = OkHttpClient.Builder() // add our curl logger here\r\n            .addInterceptor(CurlLoggerInterceptor()) // curl logger to get curl when any api hits (You need to add dependency to use this)\r\n        private val retrofit: Retrofit = Retrofit.Builder()\r\n            .baseUrl(BASE_URL)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .client(client.build())\r\n            .build()\r\n    \r\n        val apiEndpoint: ApiEndpoint? = retrofit.create(ApiEndpoint::class.java)\r\n    \r\n    }\r\n\r\nusecase\r\n\r\n    class UseCase&lt;T&gt; {\r\n        fun fetchData(endpoint: Call&lt;ApiResponse&lt;T&gt;&gt;, callback: (T?, String?) -&gt; Unit) {\r\n            endpoint.enqueue(object : Callback&lt;ApiResponse&lt;T&gt;&gt; {\r\n                override fun onResponse(call: Call&lt;ApiResponse&lt;T&gt;&gt;, response: Response&lt;ApiResponse&lt;T&gt;&gt;) {\r\n                    if (response.isSuccessful) {\r\n                        val responseData = response.body()?.data\r\n                        callback(responseData, null)\r\n                    } else {\r\n                        Log.d(&quot;CheckingResponse&quot;, &quot;fetchData: ${response.message()}&quot;)\r\n                        callback(null, &quot;Error: ${response.message()}&quot;)\r\n                    }\r\n                }\r\n    \r\n                override fun onFailure(call: Call&lt;ApiResponse&lt;T&gt;&gt;, t: Throwable) {\r\n                    callback(null, &quot;Network error: ${t.localizedMessage}&quot;)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\ncheck out this for all common class.\r\nhttps://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation","title":"Android Retrofit2 generics method","body":"<p>Just adding some common class and by this code snippet you can easily call any api</p>\n<pre><code> val repository = Repository(UseCase&lt;YourModel&gt;())\n\n        CoroutineScope(Dispatchers.Main).launch {\n            RetrofitClient.apiEndpoint?.getXyz(\n                YourModel(value)\n            )?.let {\n                repository.fetchData(\n                    it\n                ) { yourModel, error -&gt;\n                    if (error != null) {\n                        // Handle error\n                        Log.d(&quot;CheckingResponse&quot;, &quot;$error&quot;)\n                    } else {\n                        // ..success\n                    }\n                  }\n                }\n        }\n</code></pre>\n<p>Client</p>\n<pre><code>object RetrofitClient {\n    private const val BASE_URL = &quot;https://xyz/&quot;\n    private var client = OkHttpClient.Builder() // add our curl logger here\n        .addInterceptor(CurlLoggerInterceptor()) // curl logger to get curl when any api hits (You need to add dependency to use this)\n    private val retrofit: Retrofit = Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(client.build())\n        .build()\n\n    val apiEndpoint: ApiEndpoint? = retrofit.create(ApiEndpoint::class.java)\n\n}\n</code></pre>\n<p>usecase</p>\n<pre><code>class UseCase&lt;T&gt; {\n    fun fetchData(endpoint: Call&lt;ApiResponse&lt;T&gt;&gt;, callback: (T?, String?) -&gt; Unit) {\n        endpoint.enqueue(object : Callback&lt;ApiResponse&lt;T&gt;&gt; {\n            override fun onResponse(call: Call&lt;ApiResponse&lt;T&gt;&gt;, response: Response&lt;ApiResponse&lt;T&gt;&gt;) {\n                if (response.isSuccessful) {\n                    val responseData = response.body()?.data\n                    callback(responseData, null)\n                } else {\n                    Log.d(&quot;CheckingResponse&quot;, &quot;fetchData: ${response.message()}&quot;)\n                    callback(null, &quot;Error: ${response.message()}&quot;)\n                }\n            }\n\n            override fun onFailure(call: Call&lt;ApiResponse&lt;T&gt;&gt;, t: Throwable) {\n                callback(null, &quot;Network error: ${t.localizedMessage}&quot;)\n            }\n        })\n    }\n}\n</code></pre>\n<p>check out this for all common class.\n<a href=\"https://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation\" rel=\"nofollow noreferrer\">https://github.com/Mohammad-Taqi/Generic-Retrofit-Implementation</a></p>\n"}],"owner":{"account_id":15785625,"reputation":43,"user_id":11390503,"display_name":"Mohammad ali Riazati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61208282,"answer_count":2,"score":1,"last_activity_date":1697202694,"creation_date":1586857608,"question_id":61204825,"body_markdown":"# I use Retrofit2 to connect to the server,\r\nTo simplify the number of request methods, I use generics. But the problem is that retrofit does not accept the generic method. I put the sample code below. Does anyone know a solution?\r\n\r\n### Photo 1):\r\n[APIInterface][1]\r\n\r\n    import io.reactivex.Observable\r\n    import okhttp3.RequestBody\r\n    import retrofit2.http.Body\r\n    import retrofit2.http.GET\r\n    import retrofit2.http.POST\r\n    import retrofit2.http.Path\r\n\r\n    interface APIInterface {\r\n\r\n       @POST(&quot;{url}&quot;) fun &lt;T&gt; post(\r\n          @Path(&quot;url&quot;) url: String,\r\n          @Body body: RequestBody\r\n       ): Observable&lt;T&gt;\r\n\r\n       @GET(&quot;{url}&quot;) fun &lt;T&gt; get(\r\n          @Path(&quot;url&quot;) url: String\r\n       ): Observable&lt;T&gt;\r\n    }\r\n\r\n### Photo 2: \r\n[APIService][2]\r\n\r\n    import io.reactivex.Observable\r\n    import io.reactivex.android.schedulers.AndroidSchedulers\r\n    import io.reactivex.schedulers.Schedulers\r\n    import okhttp3.RequestBody\r\n    import java.io.Serializable\r\n\r\n    class APIService constructor(private val mApi: APIInterface) {\r\n\r\n       fun &lt;T: Serializable&gt; post(url: String, body: RequestBody): Observable&lt;T&gt;{\r\n          val observable = mApi.post&lt;T&gt;(url, body)\r\n          observable.subscribeOn(Schedulers.io())\r\n             .observeOn(AndroidSchedulers.mainThread())\r\n          return observable\r\n       }\r\n\r\n       fun &lt;T: Serializable&gt; get(url: String): Observable&lt;T&gt; {\r\n          val observable = mApi.get&lt;T&gt;(url)\r\n          observable.subscribeOn(Schedulers.io())\r\n             .observeOn(AndroidSchedulers.mainThread())\r\n          return observable\r\n       }\r\n    }\r\n\r\n### Photo 3:\r\n[call in controller][3]\r\n\r\n    mAPIService.post&lt;SignUpModel&gt;(URL_SIGN_UP, body)\r\n            .subscribe(object : APIObserver&lt;SignUpModel&gt; {\r\n                override fun onNext(it: SignUpModel) {\r\n        .\r\n        .\r\n        .\r\n\r\n### Photo 4: \r\n[crash :(][4]\r\n\r\n\r\n    W: java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: io.reactivex.Observable&lt;T&gt;\r\n    W: for method APIInterface.post\r\n        .\r\n        .\r\n        .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRR8a.png\r\n  [2]: https://i.stack.imgur.com/B0iZR.png\r\n  [3]: https://i.stack.imgur.com/EFOTr.png\r\n  [4]: https://i.stack.imgur.com/9IOjM.png","title":"Android Retrofit2 generics method","body":"<h1>I use Retrofit2 to connect to the server,</h1>\n\n<p>To simplify the number of request methods, I use generics. But the problem is that retrofit does not accept the generic method. I put the sample code below. Does anyone know a solution?</p>\n\n<h3>Photo 1):</h3>\n\n<p><a href=\"https://i.stack.imgur.com/cRR8a.png\" rel=\"nofollow noreferrer\">APIInterface</a></p>\n\n<pre><code>import io.reactivex.Observable\nimport okhttp3.RequestBody\nimport retrofit2.http.Body\nimport retrofit2.http.GET\nimport retrofit2.http.POST\nimport retrofit2.http.Path\n\ninterface APIInterface {\n\n   @POST(\"{url}\") fun &lt;T&gt; post(\n      @Path(\"url\") url: String,\n      @Body body: RequestBody\n   ): Observable&lt;T&gt;\n\n   @GET(\"{url}\") fun &lt;T&gt; get(\n      @Path(\"url\") url: String\n   ): Observable&lt;T&gt;\n}\n</code></pre>\n\n<h3>Photo 2:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/B0iZR.png\" rel=\"nofollow noreferrer\">APIService</a></p>\n\n<pre><code>import io.reactivex.Observable\nimport io.reactivex.android.schedulers.AndroidSchedulers\nimport io.reactivex.schedulers.Schedulers\nimport okhttp3.RequestBody\nimport java.io.Serializable\n\nclass APIService constructor(private val mApi: APIInterface) {\n\n   fun &lt;T: Serializable&gt; post(url: String, body: RequestBody): Observable&lt;T&gt;{\n      val observable = mApi.post&lt;T&gt;(url, body)\n      observable.subscribeOn(Schedulers.io())\n         .observeOn(AndroidSchedulers.mainThread())\n      return observable\n   }\n\n   fun &lt;T: Serializable&gt; get(url: String): Observable&lt;T&gt; {\n      val observable = mApi.get&lt;T&gt;(url)\n      observable.subscribeOn(Schedulers.io())\n         .observeOn(AndroidSchedulers.mainThread())\n      return observable\n   }\n}\n</code></pre>\n\n<h3>Photo 3:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/EFOTr.png\" rel=\"nofollow noreferrer\">call in controller</a></p>\n\n<pre><code>mAPIService.post&lt;SignUpModel&gt;(URL_SIGN_UP, body)\n        .subscribe(object : APIObserver&lt;SignUpModel&gt; {\n            override fun onNext(it: SignUpModel) {\n    .\n    .\n    .\n</code></pre>\n\n<h3>Photo 4:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/9IOjM.png\" rel=\"nofollow noreferrer\">crash :(</a></p>\n\n<pre><code>W: java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: io.reactivex.Observable&lt;T&gt;\nW: for method APIInterface.post\n    .\n    .\n    .\n</code></pre>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":1500739,"reputation":921,"user_id":1405492,"accept_rate":62,"display_name":"rcorrie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523881349,"creation_date":1523881349,"answer_id":49857261,"question_id":49809745,"body_markdown":"Even though I had add the permission on my AndroidManifest.xml I still had to add this extra bit to it:\r\n\r\n    &lt;service android:name=&quot;com.my.app.RNCallConnectionService&quot;\r\n        android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>Even though I had add the permission on my AndroidManifest.xml I still had to add this extra bit to it:</p>\n\n<pre><code>&lt;service android:name=\"com.my.app.RNCallConnectionService\"\n    android:permission=\"android.permission.BIND_TELECOM_CONNECTION_SERVICE\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.telecom.ConnectionService\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159139,"reputation":1892,"user_id":3409600,"accept_rate":41,"display_name":"nawaab saab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697202582,"creation_date":1697202582,"answer_id":77288015,"question_id":49809745,"body_markdown":"You need to add this code in Android manifest in application tags\r\n\r\n    &lt;service android:name=&quot;io.wazo.callkeep.VoiceConnectionService&quot;\r\n                android:label=&quot;Wazo&quot;\r\n                android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;\r\n                android:foregroundServiceType=&quot;camera|microphone&quot;\r\n                android:exported=&quot;true&quot;\r\n            &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>You need to add this code in Android manifest in application tags</p>\n<pre><code>&lt;service android:name=&quot;io.wazo.callkeep.VoiceConnectionService&quot;\n            android:label=&quot;Wazo&quot;\n            android:permission=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;\n            android:foregroundServiceType=&quot;camera|microphone&quot;\n            android:exported=&quot;true&quot;\n        &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.telecom.ConnectionService&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n"}],"owner":{"account_id":1500739,"reputation":921,"user_id":1405492,"accept_rate":62,"display_name":"rcorrie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49857261,"answer_count":2,"score":2,"last_activity_date":1697202582,"creation_date":1523596535,"question_id":49809745,"body_markdown":"I am trying to register a new `phoneAccount` but I keep receiving the following error:\r\n\r\n    04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: phoneAccount ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService} not found: TSI.rPA@Agc\r\n    04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: Phone account ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} does not have BIND_TELECOM_CONNECTION_SE\r\n    RVICE permission.: TSI.rPA@Agc\r\n    04-13 01:06:11.330  1267  2435 E Telecom : com.android.server.telecom.TelecomServiceImpl$1: registerPhoneAccount [[ ] PhoneAccount: ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} Capabilities: C\r\n    allProvider  Schemes: tel  Extras: null]: TSI.rPA@Agc\r\n    04-13 01:06:11.330  1267  2435 E Telecom : java.lang.SecurityException: PhoneAccount connection service requires BIND_TELECOM_CONNECTION_SERVICE permission.\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.PhoneAccountRegistrar.registerPhoneAccount(PhoneAccountRegistrar.java:587)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.TelecomServiceImpl$1.registerPhoneAccount(TelecomServiceImpl.java:399)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.internal.telecom.ITelecomService$Stub.onTransact(ITelecomService.java:226)\r\n    04-13 01:06:11.330  1267  2435 E Telecom :      at android.os.Binder.execTransact(Binder.java:573)\r\n\r\nI have made sure to add `&lt;uses-permission android:name=&quot;android.permission.BIND_TELECOM_CONNECTION_SERVICE&quot;/&gt;` to my manifest.\r\n\r\nHere is the relevant code\r\n\r\n    public class RNCallModule extends ReactContextBaseJavaModule {\r\n    \r\n        static private String TAG = &quot;RNCallModule +++++&quot;;\r\n    \r\n        private ReactApplicationContext reactContext;\r\n    \r\n        private String appName;\r\n    \r\n        private TelecomManager tm;\r\n    \r\n        private PhoneAccountHandle handle;\r\n    \r\n        private PhoneAccount phoneAccount;\r\n    \r\n        public RNCallModule(ReactApplicationContext reactContext) {\r\n            super(reactContext);\r\n    \r\n            this.reactContext = reactContext;\r\n    \r\n            Boolean a = PackageManager.PERMISSION_GRANTED == this.reactContext.checkCallingOrSelfPermission(Manifest.permission.BIND_TELECOM_CONNECTION_SERVICE);\r\n    \r\n            appName = getApplicationName(this.reactContext.getApplicationContext());\r\n    \r\n            ComponentName cName = new ComponentName(this.reactContext.getApplicationContext(), RNCallConnectionService.class);\r\n    \r\n            handle = new PhoneAccountHandle(cName, appName);\r\n    \r\n            tm = (TelecomManager)this.reactContext.getApplicationContext().getSystemService(this.reactContext.getApplicationContext().TELECOM_SERVICE);\r\n    \r\n            if(android.os.Build.VERSION.SDK_INT &gt;= 26) {\r\n                phoneAccount = new PhoneAccount.Builder(handle, appName)\r\n                        .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\r\n                        .build();\r\n                tm.registerPhoneAccount(phoneAccount);\r\n            }\r\n    \r\n            phoneAccount = new PhoneAccount.Builder(handle, appName)\r\n                    .setCapabilities(PhoneAccount.CAPABILITY_CALL_PROVIDER)\r\n                    .build();\r\n    \r\n\r\n            tm.registerPhoneAccount(phoneAccount); // &lt;&lt;&lt;&lt;&lt;&lt; Here is where the error happens \r\n    \r\n        }\r\n    \r\n        // ... \r\n    \r\n    }","title":"Can&#39;t register new phoneAccount on Telecom service","body":"<p>I am trying to register a new <code>phoneAccount</code> but I keep receiving the following error:</p>\n\n<pre><code>04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: phoneAccount ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService} not found: TSI.rPA@Agc\n04-13 01:06:11.329  1267  2435 W Telecom : com.android.server.telecom.PhoneAccountRegistrar: Phone account ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} does not have BIND_TELECOM_CONNECTION_SE\nRVICE permission.: TSI.rPA@Agc\n04-13 01:06:11.330  1267  2435 E Telecom : com.android.server.telecom.TelecomServiceImpl$1: registerPhoneAccount [[ ] PhoneAccount: ComponentInfo{com.my.otherApp/com.my.app.RNCallConnectionService}, [a50dcea6cba1c8c30324624e9e54bfd19bb0b363], UserHandle{0} Capabilities: C\nallProvider  Schemes: tel  Extras: null]: TSI.rPA@Agc\n04-13 01:06:11.330  1267  2435 E Telecom : java.lang.SecurityException: PhoneAccount connection service requires BIND_TELECOM_CONNECTION_SERVICE permission.\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.PhoneAccountRegistrar.registerPhoneAccount(PhoneAccountRegistrar.java:587)\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.server.telecom.TelecomServiceImpl$1.registerPhoneAccount(TelecomServiceImpl.java:399)\n04-13 01:06:11.330  1267  2435 E Telecom :      at com.android.internal.telecom.ITelecomService$Stub.onTransact(ITelecomService.java:226)\n04-13 01:06:11.330  1267  2435 E Telecom :      at android.os.Binder.execTransact(Binder.java:573)\n</code></pre>\n\n<p>I have made sure to add <code>&lt;uses-permission android:name=\"android.permission.BIND_TELECOM_CONNECTION_SERVICE\"/&gt;</code> to my manifest.</p>\n\n<p>Here is the relevant code</p>\n\n<pre><code>public class RNCallModule extends ReactContextBaseJavaModule {\n\n    static private String TAG = \"RNCallModule +++++\";\n\n    private ReactApplicationContext reactContext;\n\n    private String appName;\n\n    private TelecomManager tm;\n\n    private PhoneAccountHandle handle;\n\n    private PhoneAccount phoneAccount;\n\n    public RNCallModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n\n        this.reactContext = reactContext;\n\n        Boolean a = PackageManager.PERMISSION_GRANTED == this.reactContext.checkCallingOrSelfPermission(Manifest.permission.BIND_TELECOM_CONNECTION_SERVICE);\n\n        appName = getApplicationName(this.reactContext.getApplicationContext());\n\n        ComponentName cName = new ComponentName(this.reactContext.getApplicationContext(), RNCallConnectionService.class);\n\n        handle = new PhoneAccountHandle(cName, appName);\n\n        tm = (TelecomManager)this.reactContext.getApplicationContext().getSystemService(this.reactContext.getApplicationContext().TELECOM_SERVICE);\n\n        if(android.os.Build.VERSION.SDK_INT &gt;= 26) {\n            phoneAccount = new PhoneAccount.Builder(handle, appName)\n                    .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\n                    .build();\n            tm.registerPhoneAccount(phoneAccount);\n        }\n\n        phoneAccount = new PhoneAccount.Builder(handle, appName)\n                .setCapabilities(PhoneAccount.CAPABILITY_CALL_PROVIDER)\n                .build();\n\n\n        tm.registerPhoneAccount(phoneAccount); // &lt;&lt;&lt;&lt;&lt;&lt; Here is where the error happens \n\n    }\n\n    // ... \n\n}\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":8440459,"reputation":330,"user_id":6333170,"display_name":"rohit.jaryal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515566713,"creation_date":1515566713,"answer_id":48181695,"question_id":48151021,"body_markdown":"You can do this by using RequestSpecBuilder. It supports all the request parameters and you can easily create multipart request.\r\n\r\nSample code taken from https://github.com/rest-assured/rest-assured/wiki/Usage\r\n\r\n    RequestSpecBuilder builder = new RequestSpecBuilder();\r\n    builder.addParam(&quot;parameter1&quot;, &quot;parameterValue&quot;);\r\n    builder.addHeader(&quot;header1&quot;, &quot;headerValue&quot;);\r\n    RequestSpecification requestSpec = builder.build();\r\n      \r\n    given().\r\n            spec(requestSpec).\r\n            param(&quot;parameter2&quot;, &quot;paramValue&quot;).\r\n    when().\r\n            get(&quot;/something&quot;).\r\n    then().\r\n            body(&quot;x.y.z&quot;, equalTo(&quot;something&quot;));\r\n\r\n","title":"Post multipart file and JSON in Rest Assured","body":"<p>You can do this by using RequestSpecBuilder. It supports all the request parameters and you can easily create multipart request.</p>\n\n<p>Sample code taken from <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki/Usage</a></p>\n\n<pre><code>RequestSpecBuilder builder = new RequestSpecBuilder();\nbuilder.addParam(\"parameter1\", \"parameterValue\");\nbuilder.addHeader(\"header1\", \"headerValue\");\nRequestSpecification requestSpec = builder.build();\n\ngiven().\n        spec(requestSpec).\n        param(\"parameter2\", \"paramValue\").\nwhen().\n        get(\"/something\").\nthen().\n        body(\"x.y.z\", equalTo(\"something\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515639344,"creation_date":1515574523,"answer_id":48183573,"question_id":48151021,"body_markdown":"Thanks for your response rohit. I was post this question for handling inner object with formParams. I&#39;ve completed by creating a Hash Map for formParams. Because formParams method of rest assured can accept Hash map.\r\n\r\n**Form params map creation:**\r\n\r\n    private static Map&lt;String, String&gt; createFormParamsMap(VideoTagInput videoTag) {\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\r\n    \t\tformParams.put(createFormParamKey(&quot;name&quot;), &quot;name&quot;);\r\n    \t\tformParams.put(createFormParamKey(&quot;kind&quot;), &quot;kind&quot;);\r\n    \t\t\r\n    \t\treturn formParams;\r\n    }\r\n\r\n\tprivate static String createFormParamKey(String paramKey) {\r\n\t\treturn &quot;sample[&quot; + paramKey + &quot;]&quot;; \r\n        // output is like &quot;sample[name]&quot; - I&#39;m forming inner object here for my purpose.\r\n\t}\r\n\r\n**Finally send the map to Rest Assured post call function**\r\n\r\n    given()\r\n                            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                            .header(auth)\r\n                            .config(rConfig)\r\n                            .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\r\n                            .formParams(requestParamsMap) // requestParamsMap here.\r\n                            .log().all().\r\n                            expect()\r\n                            .statusCode(expectedStatusCode)\r\n                            .post(url);","title":"Post multipart file and JSON in Rest Assured","body":"<p>Thanks for your response rohit. I was post this question for handling inner object with formParams. I've completed by creating a Hash Map for formParams. Because formParams method of rest assured can accept Hash map.</p>\n\n<p><strong>Form params map creation:</strong></p>\n\n<pre><code>private static Map&lt;String, String&gt; createFormParamsMap(VideoTagInput videoTag) {\n\n        Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\n        formParams.put(createFormParamKey(\"name\"), \"name\");\n        formParams.put(createFormParamKey(\"kind\"), \"kind\");\n\n        return formParams;\n}\n\nprivate static String createFormParamKey(String paramKey) {\n    return \"sample[\" + paramKey + \"]\"; \n    // output is like \"sample[name]\" - I'm forming inner object here for my purpose.\n}\n</code></pre>\n\n<p><strong>Finally send the map to Rest Assured post call function</strong></p>\n\n<pre><code>given()\n                        .header(\"Accept\", \"application/json\")\n                        .header(auth)\n                        .config(rConfig)\n                        .multiPart(\"sample[video_file]\", new File(\"path\"), \"video/mp4\")\n                        .formParams(requestParamsMap) // requestParamsMap here.\n                        .log().all().\n                        expect()\n                        .statusCode(expectedStatusCode)\n                        .post(url);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049902,"reputation":919,"user_id":6740561,"display_name":"svaponi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697195190,"creation_date":1575465305,"answer_id":59176915,"question_id":48151021,"body_markdown":"Your approach is not standard.\r\n\r\nYou cannot have a multipart request and a JSON body, you need to pick one over the two approaches: `multipart/form-data` or `application/json` request.\r\n\r\nThe standard way is to go with `multipart/form-data`, in which case you will have a multipart request with a *json* param containing the serialized JSON payload, and a *file* param with the multipart file.\r\n\r\n    given()\r\n    .contentType(MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    .multiPart(file)\r\n    .param(&quot;json&quot;, &quot;{\\&quot;sample\\&quot;:{\\&quot;name\\&quot;:\\&quot;sample- name\\&quot;,\\&quot;kind\\&quot;:\\&quot;upload\\&quot;,\\&quot;video_file\\&quot;:&lt;this is not needed&gt;}}&quot;)\r\n\r\nBut this involves changing your server-side logic.\r\n\r\nIf you cannot change your server-side logic, and you want the `application/json` approach, you need to serialize your file (as an array of bytes or as base64 string) to be set as *video_file* in your JSON payload.\r\n","title":"Post multipart file and JSON in Rest Assured","body":"<p>Your approach is not standard.</p>\n<p>You cannot have a multipart request and a JSON body, you need to pick one over the two approaches: <code>multipart/form-data</code> or <code>application/json</code> request.</p>\n<p>The standard way is to go with <code>multipart/form-data</code>, in which case you will have a multipart request with a <em>json</em> param containing the serialized JSON payload, and a <em>file</em> param with the multipart file.</p>\n<pre><code>given()\n.contentType(MediaType.MULTIPART_FORM_DATA_VALUE)\n.multiPart(file)\n.param(&quot;json&quot;, &quot;{\\&quot;sample\\&quot;:{\\&quot;name\\&quot;:\\&quot;sample- name\\&quot;,\\&quot;kind\\&quot;:\\&quot;upload\\&quot;,\\&quot;video_file\\&quot;:&lt;this is not needed&gt;}}&quot;)\n</code></pre>\n<p>But this involves changing your server-side logic.</p>\n<p>If you cannot change your server-side logic, and you want the <code>application/json</code> approach, you need to serialize your file (as an array of bytes or as base64 string) to be set as <em>video_file</em> in your JSON payload.</p>\n"}],"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19873,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1697202398,"creation_date":1515417092,"question_id":48151021,"body_markdown":"I need to send a video file and JSON object in Rest Assured post call.\r\n\r\nStructure is like the following:\r\n\r\n&gt; { &quot;sample&quot; : {  \r\n&gt;       &quot;name&quot; : &quot;sample-name&quot;,  \r\n&gt;       &quot;kind&quot; : &quot;upload&quot;,  \r\n&gt;       &quot;video_file&quot; : multipart file here } }\r\n\r\nSo I did like the following \r\n\r\nCode:\r\n\r\n    given()\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .header(auth)\r\n            .config(rConfig)\r\n            .body(body)\r\n            .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\r\n            .formParam(&quot;sample[name]&quot;, &quot;Video Upload&quot;)\r\n            .formParam(&quot;sample[kind]&quot;, &quot;upload&quot;)\r\n            .log().all().\r\n            expect()\r\n            .statusCode(expectedStatusCode)\r\n            .post(url);\r\n\r\nI can&#39;t use application/JSON while using multipart in Rest Assured. I explicitly hardcoded the value in the form param and sent the media file in multipart and now it is working fine. \r\n\r\nHow can I send all the form param data in a single inner object.","title":"Post multipart file and JSON in Rest Assured","body":"<p>I need to send a video file and JSON object in Rest Assured post call.</p>\n<p>Structure is like the following:</p>\n<blockquote>\n<p>{ &quot;sample&quot; : {<br />\n&quot;name&quot; : &quot;sample-name&quot;,<br />\n&quot;kind&quot; : &quot;upload&quot;,<br />\n&quot;video_file&quot; : multipart file here } }</p>\n</blockquote>\n<p>So I did like the following</p>\n<p>Code:</p>\n<pre><code>given()\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .header(auth)\n        .config(rConfig)\n        .body(body)\n        .multiPart(&quot;sample[video_file]&quot;, new File(&quot;path&quot;), &quot;video/mp4&quot;)\n        .formParam(&quot;sample[name]&quot;, &quot;Video Upload&quot;)\n        .formParam(&quot;sample[kind]&quot;, &quot;upload&quot;)\n        .log().all().\n        expect()\n        .statusCode(expectedStatusCode)\n        .post(url);\n</code></pre>\n<p>I can't use application/JSON while using multipart in Rest Assured. I explicitly hardcoded the value in the form param and sent the media file in multipart and now it is working fine.</p>\n<p>How can I send all the form param data in a single inner object.</p>\n"},{"tags":["java","spring-boot","docker","keycloak"],"comments":[{"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"score":0,"creation_date":1697152558,"post_id":77283750,"comment_id":136247492,"body_markdown":"What is the other error on the image above?","body":"What is the other error on the image above?"},{"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"score":0,"creation_date":1697186491,"post_id":77283750,"comment_id":136250920,"body_markdown":"@LejdiPrifti here are the full crash logs from docker https://pastebin.com/raw/gx36DXzr","body":"@LejdiPrifti here are the full crash logs from docker <a href=\"https://pastebin.com/raw/gx36DXzr\" rel=\"nofollow noreferrer\">pastebin.com/raw/gx36DXzr</a>"}],"answers":[{"tags":[],"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697202260,"creation_date":1697195000,"answer_id":77287224,"question_id":77283750,"body_markdown":"I think I fixed this issue. I couldn&#39;t any solution online. I fixed it by experimenting myself and trying stuff until it works.\r\n\r\nI learned 4 important factors that need to be set for this to get fixed:\r\n\r\n1. First of all this is the docker-compose.yml now:\r\n\r\n```yaml\r\nservices:\r\n  postgres:\r\n    container_name: postgres\r\n    image: postgres:latest\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_DB: banking_microservice_db\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\n  keycloak:\r\n    container_name: keycloak\r\n    image: jboss/keycloak:latest\r\n    ports:\r\n      - &quot;9990:8080&quot;\r\n      - &quot;9991:8443&quot;\r\n    environment:\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres\r\n      DB_PORT: 5432\r\n      DB_DATABASE: keycloak_db\r\n      DB_USER: postgres\r\n      DB_PASSWORD: root\r\n      KEYCLOAK_LOGLEVEL: INFO\r\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\r\n    depends_on:\r\n      - postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  keycloak-network:\r\n\r\nvolumes:\r\n  postgres-data:\r\n```\r\n\r\nThis part:\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n# ...\r\n```\r\n\r\nwas causing the most trouble.\r\n\r\n- If this part DOES get set:\r\n  - Keycloak container can NOT boot up, throwing the error i just explained in the original post.\r\n  - BUT the banking-core microservice CAN boot up, because it can now connect to postgres via volume.\r\n\r\n\r\n- If this part does NOT get set:\r\n  - Keycloak container CAN boot up, without any errors.\r\n  - BUT the banking-core microservice can NOT boot up, because now it can&#39;t connect to the postgres db since there&#39;s no volume mounted.\r\n\r\n2. For some very strange reason, the volume for postgres db can NOT be anything other than `postgres-data`.\r\n\r\nBefore:\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n# ...\r\n\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nAfter:\r\n\r\n\r\n```yaml\r\n# ...\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres-data:/data/postgres\r\n# ...\r\n\r\n\r\nvolumes:\r\n  postgres-data:\r\n```\r\n\r\n- If `db` is set -&gt; keycloak container fails to boot.\r\n- If `postgres-data` is set -&gt; keycloak container boots up.\r\n\r\nDon&#39;t know why this matters. If anyone knows, please explain.\r\n\r\n3. Keycloak db username and password must be the same one that has been set on postgres, while database names can remain different:\r\n\r\nBefore:\r\n\r\n\r\n```yaml\r\n  postgres:\r\n    # ...\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n    # ...\r\n\r\n\r\n  keycloak:\r\n    # ...\r\n    environment:\r\n      # ...\r\n      DB_USER: keycloak\r\n      DB_PASSWORD: keycloak\r\n    # ...\r\n```\r\n\r\nAfter:\r\n\r\n\r\n```yaml\r\n  postgres:\r\n    # ...\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n    # ...\r\n\r\n\r\n  keycloak:\r\n    # ...\r\n    environment:\r\n      # ...\r\n      DB_USER: postgres\r\n      DB_PASSWORD: root\r\n    # ...\r\n```\r\n\r\nThe reason why i have a separate database `banking_microservice_db` and `keycloak_db` is because i want to use the first database only for my microservices while the second database gets used only by keycloak. Keycloak generates tens of tables and i dont want them to get mixed up with my own.\r\n\r\n4. Final thing to do is to manually create a database before starting the docker compose:\r\n\r\n```shell\r\ndocker exec -it postgres bash\r\npsql -U postgres\r\nCREATE DATABASE banking_microservice_db;\r\nCREATE DATABASE keycloak_db;\r\n```\r\n\r\nNow everything should work fine.\r\n\r\nYou might have noticed that i changed docker compose a bit, but that&#39;s for better convenience for me and does not impact in solving this problem:\r\n- I changed ports from `8080:8080` -&gt; `9990:8080` for HTTP\r\n- And added a new port `9991:8443` for SSL","title":"Keycloak 16.1.1: User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;","body":"<p>I think I fixed this issue. I couldn't any solution online. I fixed it by experimenting myself and trying stuff until it works.</p>\n<p>I learned 4 important factors that need to be set for this to get fixed:</p>\n<ol>\n<li>First of all this is the docker-compose.yml now:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: banking_microservice_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\n  keycloak:\n    container_name: keycloak\n    image: jboss/keycloak:latest\n    ports:\n      - &quot;9990:8080&quot;\n      - &quot;9991:8443&quot;\n    environment:\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres\n      DB_PORT: 5432\n      DB_DATABASE: keycloak_db\n      DB_USER: postgres\n      DB_PASSWORD: root\n      KEYCLOAK_LOGLEVEL: INFO\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\n    depends_on:\n      - postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\nnetworks:\n  keycloak-network:\n\nvolumes:\n  postgres-data:\n</code></pre>\n<p>This part:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n# ...\n</code></pre>\n<p>was causing the most trouble.</p>\n<ul>\n<li><p>If this part DOES get set:</p>\n<ul>\n<li>Keycloak container can NOT boot up, throwing the error i just explained in the original post.</li>\n<li>BUT the banking-core microservice CAN boot up, because it can now connect to postgres via volume.</li>\n</ul>\n</li>\n<li><p>If this part does NOT get set:</p>\n<ul>\n<li>Keycloak container CAN boot up, without any errors.</li>\n<li>BUT the banking-core microservice can NOT boot up, because now it can't connect to the postgres db since there's no volume mounted.</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>For some very strange reason, the volume for postgres db can NOT be anything other than <code>postgres-data</code>.</li>\n</ol>\n<p>Before:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n# ...\n\n\nvolumes:\n  db:\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># ...\n      PGDATA: /data/postgres\n    volumes:\n      - postgres-data:/data/postgres\n# ...\n\n\nvolumes:\n  postgres-data:\n</code></pre>\n<ul>\n<li>If <code>db</code> is set -&gt; keycloak container fails to boot.</li>\n<li>If <code>postgres-data</code> is set -&gt; keycloak container boots up.</li>\n</ul>\n<p>Don't know why this matters. If anyone knows, please explain.</p>\n<ol start=\"3\">\n<li>Keycloak db username and password must be the same one that has been set on postgres, while database names can remain different:</li>\n</ol>\n<p>Before:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  postgres:\n    # ...\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n    # ...\n\n\n  keycloak:\n    # ...\n    environment:\n      # ...\n      DB_USER: keycloak\n      DB_PASSWORD: keycloak\n    # ...\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  postgres:\n    # ...\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n    # ...\n\n\n  keycloak:\n    # ...\n    environment:\n      # ...\n      DB_USER: postgres\n      DB_PASSWORD: root\n    # ...\n</code></pre>\n<p>The reason why i have a separate database <code>banking_microservice_db</code> and <code>keycloak_db</code> is because i want to use the first database only for my microservices while the second database gets used only by keycloak. Keycloak generates tens of tables and i dont want them to get mixed up with my own.</p>\n<ol start=\"4\">\n<li>Final thing to do is to manually create a database before starting the docker compose:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>docker exec -it postgres bash\npsql -U postgres\nCREATE DATABASE banking_microservice_db;\nCREATE DATABASE keycloak_db;\n</code></pre>\n<p>Now everything should work fine.</p>\n<p>You might have noticed that i changed docker compose a bit, but that's for better convenience for me and does not impact in solving this problem:</p>\n<ul>\n<li>I changed ports from <code>8080:8080</code> -&gt; <code>9990:8080</code> for HTTP</li>\n<li>And added a new port <code>9991:8443</code> for SSL</li>\n</ul>\n"}],"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287224,"answer_count":1,"score":0,"last_activity_date":1697202260,"creation_date":1697143469,"question_id":77283750,"body_markdown":"I&#39;m trying to start keycloak for my java spring boot 3.1.4 backend app via docker compose. Here&#39;s my docker compose:\r\n\r\n```yaml\r\nservices:\r\n  postgres:\r\n    container_name: postgres\r\n    image: postgres:latest\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_DB: banking_microservice_db\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: root\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\n  keycloak:\r\n    container_name: keycloak\r\n    image: jboss/keycloak:latest\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      KEYCLOAK_USER: admin\r\n      KEYCLOAK_PASSWORD: admin\r\n      DB_VENDOR: POSTGRES\r\n      DB_ADDR: postgres\r\n      DB_PORT: 5432\r\n      DB_DATABASE: keycloak\r\n      DB_USER: keycloak\r\n      DB_PASSWORD: keycloak\r\n      KEYCLOAK_LOGLEVEL: INFO\r\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\r\n    depends_on:\r\n      - postgres\r\n    networks:\r\n      - keycloak-network\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  keycloak-network:\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nWhen i run `docker compose up -d` i keep getting the error:\r\n\r\n```2023-10-12 22:41:05 User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZbkFc.jpg\r\n\r\n- I tried deleting images, containers and redownloading them again, same problem\r\n- I tried using different versions of keycloak, same problem\r\n- I tried changing `KEYCLOAK_USER`, `KEYCLOAK_PASSWORD`, same problem\r\n- I tried commenting out those two ENV variables and restarting key cloak, same problem\r\n- I tried deleting postgres db volume, same problem\r\n\r\nWhat is the problem?","title":"Keycloak 16.1.1: User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;","body":"<p>I'm trying to start keycloak for my java spring boot 3.1.4 backend app via docker compose. Here's my docker compose:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: banking_microservice_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: root\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\n  keycloak:\n    container_name: keycloak\n    image: jboss/keycloak:latest\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: admin\n      DB_VENDOR: POSTGRES\n      DB_ADDR: postgres\n      DB_PORT: 5432\n      DB_DATABASE: keycloak\n      DB_USER: keycloak\n      DB_PASSWORD: keycloak\n      KEYCLOAK_LOGLEVEL: INFO\n      PROXY_ADDRESS_FORWARDING: &quot;true&quot;\n    depends_on:\n      - postgres\n    networks:\n      - keycloak-network\n    restart: unless-stopped\n\nnetworks:\n  keycloak-network:\n\nvolumes:\n  db:\n</code></pre>\n<p>When i run <code>docker compose up -d</code> i keep getting the error:</p>\n<p><code>2023-10-12 22:41:05 User with username 'admin' already added to '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'</code></p>\n<p><a href=\"https://i.stack.imgur.com/ZbkFc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZbkFc.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>I tried deleting images, containers and redownloading them again, same problem</li>\n<li>I tried using different versions of keycloak, same problem</li>\n<li>I tried changing <code>KEYCLOAK_USER</code>, <code>KEYCLOAK_PASSWORD</code>, same problem</li>\n<li>I tried commenting out those two ENV variables and restarting key cloak, same problem</li>\n<li>I tried deleting postgres db volume, same problem</li>\n</ul>\n<p>What is the problem?</p>\n"},{"tags":["java","docker","dockerfile","read-access"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201835,"creation_date":1697201835,"answer_id":77287929,"question_id":77287427,"body_markdown":"Just don&#39;t install anything else in the container.  The container runs in a restricted environment, and can&#39;t normally access files outside the container (enforced by Docker), so you don&#39;t need to specifically set permissions or disallow other things.\r\n\r\nSay the Dockerfile contains only:\r\n\r\n```sh\r\nFROM eclipse-temurin:17\r\nRUN adduser --system custom\r\nWORKDIR /app\r\nCOPY ./target/app.jar ./\r\nUSER custom\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\nThere is nothing in the image beyond a set of base tools, the JVM, and the jar file, so you can&#39;t do anything else inside the container.  Furthermore, the jar file is owned by root but the container (by default) runs as a non-root user, so you can&#39;t overwrite anything in the image.\r\n\r\nThe user name and ID in the container normally do not need to match any particular host user, and in this example I&#39;ve chosen a fixed name and let **adduser**(8) pick the ID for me.  If you need a different user ID (to write to a bind-mounted host directory for example) you can specify the numeric user ID when you run the container.  You do not need to &quot;create the user&quot; _per se_, and you do not want to rebuild the image just because someone else is running it.  Do not try to pass a user ID as a build-time `ARG`.","title":"How to add user to Docker image with limited read only permissions?","body":"<p>Just don't install anything else in the container.  The container runs in a restricted environment, and can't normally access files outside the container (enforced by Docker), so you don't need to specifically set permissions or disallow other things.</p>\n<p>Say the Dockerfile contains only:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM eclipse-temurin:17\nRUN adduser --system custom\nWORKDIR /app\nCOPY ./target/app.jar ./\nUSER custom\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>There is nothing in the image beyond a set of base tools, the JVM, and the jar file, so you can't do anything else inside the container.  Furthermore, the jar file is owned by root but the container (by default) runs as a non-root user, so you can't overwrite anything in the image.</p>\n<p>The user name and ID in the container normally do not need to match any particular host user, and in this example I've chosen a fixed name and let <strong>adduser</strong>(8) pick the ID for me.  If you need a different user ID (to write to a bind-mounted host directory for example) you can specify the numeric user ID when you run the container.  You do not need to &quot;create the user&quot; <em>per se</em>, and you do not want to rebuild the image just because someone else is running it.  Do not try to pass a user ID as a build-time <code>ARG</code>.</p>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697201835,"creation_date":1697197211,"question_id":77287427,"body_markdown":"My goal is to configure docker image, where I will use it via rootless user and this user can read only jar files.\r\n\r\nWhat I have done in Dockerfile:\r\n\r\n```\r\n...something...\r\nARG USERNAME=MyCustomUser\r\nARG USER_UID=10001\r\nARG USER_GID=$USER_UID\r\n\r\nRUN groupadd --gid $USER_GID $USERNAME \\\r\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\r\n...something...\r\n``` \r\n\r\nBut how can I configure read permissions in file system only to jar files?","title":"How to add user to Docker image with limited read only permissions?","body":"<p>My goal is to configure docker image, where I will use it via rootless user and this user can read only jar files.</p>\n<p>What I have done in Dockerfile:</p>\n<pre><code>...something...\nARG USERNAME=MyCustomUser\nARG USER_UID=10001\nARG USER_GID=$USER_UID\n\nRUN groupadd --gid $USER_GID $USERNAME \\\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n...something...\n</code></pre>\n<p>But how can I configure read permissions in file system only to jar files?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1697131878,"post_id":77281905,"comment_id":136244560,"body_markdown":"Nobody is reading the pipe, so it blocks. What exactly are you trying to accomplish here?","body":"Nobody is reading the pipe, so it blocks. What exactly are you trying to accomplish here?"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1697178928,"post_id":77281905,"comment_id":136249673,"body_markdown":"I would like to read the content of the FilePart into a BufferedReader, that I&#39;ll use with openCSV in bulkImportService.importData","body":"I would like to read the content of the FilePart into a BufferedReader, that I&#39;ll use with openCSV in bulkImportService.importData"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697205939,"post_id":77281905,"comment_id":136254507,"body_markdown":"But you dont need pipes for that.","body":"But you dont need pipes for that."}],"answers":[{"tags":[],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697201792,"creation_date":1697201792,"answer_id":77287921,"question_id":77281905,"body_markdown":"I eventually found the solution on this site:\r\n\r\n[https://manhtai.github.io/posts/flux-databuffer-to-inputstream/][1]\r\n\r\nI was missing the \r\n\r\n    .subscribeOn(Schedulers.elastic())\r\n\r\nas first instruction after the *DataBufferUtils.write(file.content(), osPipe)*, before the *doOnComplete*.\r\n\r\n  [1]: https://manhtai.github.io/posts/flux-databuffer-to-inputstream/","title":"Convert FilePart to BufferedReader","body":"<p>I eventually found the solution on this site:</p>\n<p><a href=\"https://manhtai.github.io/posts/flux-databuffer-to-inputstream/\" rel=\"nofollow noreferrer\">https://manhtai.github.io/posts/flux-databuffer-to-inputstream/</a></p>\n<p>I was missing the</p>\n<pre><code>.subscribeOn(Schedulers.elastic())\n</code></pre>\n<p>as first instruction after the <em>DataBufferUtils.write(file.content(), osPipe)</em>, before the <em>doOnComplete</em>.</p>\n"}],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287921,"answer_count":1,"score":0,"last_activity_date":1697201792,"creation_date":1697124040,"question_id":77281905,"body_markdown":"I read tons of post on this same problem: how to access data within a FilePart. I saw a lot of answers but none of them is suitable for my case.\r\n\r\nThe method in my controller is:\r\n\r\n    @PostMapping(&quot;/importData&quot;)\r\n        public List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; importData(@RequestPart(value = &quot;file&quot;, required = true) FilePart file) {\r\n    \r\n            log.debug(&quot;[importData] BEGIN &quot;);\r\n    \r\n            List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            try {\r\n    \r\n                PipedOutputStream osPipe = new PipedOutputStream();\r\n                PipedInputStream isPipe = new PipedInputStream(osPipe);\r\n                DataBufferUtils.write(file.content(), osPipe).doOnComplete(() -&gt; {\r\n                    try {\r\n                        osPipe.close();\r\n                    } catch (IOException e) {\r\n                        log.error(&quot;&quot;, e);\r\n                    }\r\n                }).subscribe(DataBufferUtils.releaseConsumer());\r\n    \r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(isPipe));\r\n    \r\n                result = bulkImportService.importData(bufferedReader);\r\n    \r\n            } catch (Exception ex) {\r\n                log.error(&quot;[importData] An error occured during execution:&quot;, ex);\r\n            }\r\n    \r\n            log.debug(&quot;[importData] END &quot;);\r\n    \r\n            return result;\r\n        }\r\n\r\nThe problem is that when receiving a file it never exits from the DataBufferUtils.write block. It remains there forever.\r\n\r\nDo you have any suggestions how to solve this problem? ","title":"Convert FilePart to BufferedReader","body":"<p>I read tons of post on this same problem: how to access data within a FilePart. I saw a lot of answers but none of them is suitable for my case.</p>\n<p>The method in my controller is:</p>\n<pre><code>@PostMapping(&quot;/importData&quot;)\n    public List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; importData(@RequestPart(value = &quot;file&quot;, required = true) FilePart file) {\n\n        log.debug(&quot;[importData] BEGIN &quot;);\n\n        List&lt;BulkImportResponse&lt;ContainerBulkImportObj&gt;&gt; result = new ArrayList&lt;&gt;();\n        try {\n\n            PipedOutputStream osPipe = new PipedOutputStream();\n            PipedInputStream isPipe = new PipedInputStream(osPipe);\n            DataBufferUtils.write(file.content(), osPipe).doOnComplete(() -&gt; {\n                try {\n                    osPipe.close();\n                } catch (IOException e) {\n                    log.error(&quot;&quot;, e);\n                }\n            }).subscribe(DataBufferUtils.releaseConsumer());\n\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(isPipe));\n\n            result = bulkImportService.importData(bufferedReader);\n\n        } catch (Exception ex) {\n            log.error(&quot;[importData] An error occured during execution:&quot;, ex);\n        }\n\n        log.debug(&quot;[importData] END &quot;);\n\n        return result;\n    }\n</code></pre>\n<p>The problem is that when receiving a file it never exits from the DataBufferUtils.write block. It remains there forever.</p>\n<p>Do you have any suggestions how to solve this problem?</p>\n"},{"tags":["java","dependency-injection","jax-rs","quarkus","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1695668932,"post_id":77174523,"comment_id":136052685,"body_markdown":"One option is to override the `MyTomatoesRestApp.getClasses()`. What version of Quarkus are you using?","body":"One option is to override the <code>MyTomatoesRestApp.getClasses()</code>. What version of Quarkus are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201784,"creation_date":1697201784,"answer_id":77287920,"question_id":77174523,"body_markdown":"**1. Extend solution**\r\n\r\nI implemented this using a simple and straightforward approach, and there&#39;s more code in the exception mapper that I want to avoid duplicating. \r\n\r\nMy solution is to remove the `@Provider` annotation from the library. In `MyApplesRestApp` and `MyBananasRestApp`, I extend the class and add the `@Provider` annotation to enable it in a project.\r\n\r\nThe exception mapper in the library:\r\n\r\n```java\r\nimport javax.ws.rs.ext.ExtensionMapper;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider\r\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n    @Override\r\n    public Response toResponse(IllegalArgumentException) {\r\n        return Response.status(Status.BAD_REQUEST).build();\r\n    }\r\n}\r\n```\r\n\r\nThe exception mapper in `MyApplesRestApp` and `MyBananasRestApp`:\r\n\r\n```java\r\nimport com.mylib.IllegalArgumentExceptionMapper;\r\n\r\n@Provider\r\npublic class MyIllegalArgumentExceptionMapper extends IllegalArgumentExceptionMapper {}\r\n```\r\n\r\n\r\n**2. Another solution that I use also sometimes is to use @IfBuildProperty**\r\n\r\n```\r\n@Provider\r\n@IfBuildProperty(name = &quot;common.illegal-exception-mapper.enabled&quot;, stringValue = &quot;true&quot;)\r\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n...\r\n```\r\n\r\napplication.properties of the application\r\n```\r\ncommon.illegal-exception-mapper.enabled=true\r\n```","title":"Shared class with @Provider annotation","body":"<p><strong>1. Extend solution</strong></p>\n<p>I implemented this using a simple and straightforward approach, and there's more code in the exception mapper that I want to avoid duplicating.</p>\n<p>My solution is to remove the <code>@Provider</code> annotation from the library. In <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>, I extend the class and add the <code>@Provider</code> annotation to enable it in a project.</p>\n<p>The exception mapper in the library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.ext.ExtensionMapper;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n    @Override\n    public Response toResponse(IllegalArgumentException) {\n        return Response.status(Status.BAD_REQUEST).build();\n    }\n}\n</code></pre>\n<p>The exception mapper in <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mylib.IllegalArgumentExceptionMapper;\n\n@Provider\npublic class MyIllegalArgumentExceptionMapper extends IllegalArgumentExceptionMapper {}\n</code></pre>\n<p><strong>2. Another solution that I use also sometimes is to use @IfBuildProperty</strong></p>\n<pre><code>@Provider\n@IfBuildProperty(name = &quot;common.illegal-exception-mapper.enabled&quot;, stringValue = &quot;true&quot;)\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n...\n</code></pre>\n<p>application.properties of the application</p>\n<pre><code>common.illegal-exception-mapper.enabled=true\n</code></pre>\n"}],"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697201784,"creation_date":1695661417,"question_id":77174523,"body_markdown":"I have three quarkus apps: \r\n * `MyApplesRestApp`\r\n * `MyBananasRestApp`\r\n * `MyTomatoesRestApp` \r\n\r\nThose apps reuse some of the classes in a shared common library `FruitServicesLib`.\r\n\r\nIn `MyApplesRestApp`, I have a straightforward exception handler to map exceptions to an HTTP error 400:\r\n\r\n    import javax.ws.rs.ext.ExtensionMapper\r\n    import javax.ws.rs.ext.Provider\r\n\r\n    @Provider\r\n    public class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\r\n        @Override\r\n        public Response toResponse(IllegalArgumentException) {\r\n            returnResponse.status(Status.BAD_REQUEST).build();\r\n        }\r\n    }\r\n\r\nI want to move the exception handler class above to the common library `FruitServicesLib`, but I also want to enable this exception handler in `MyApplesRestApp` and `MyBananasRestApp`, but not in MyTomatoesRestApp.\r\n\r\nWhat&#39;s the best way to do that? How can I move a @Provider annotated class to a common library but not have it activated all the time - conditionally enable it when needed (via java code or by using some config)?","title":"Shared class with @Provider annotation","body":"<p>I have three quarkus apps:</p>\n<ul>\n<li><code>MyApplesRestApp</code></li>\n<li><code>MyBananasRestApp</code></li>\n<li><code>MyTomatoesRestApp</code></li>\n</ul>\n<p>Those apps reuse some of the classes in a shared common library <code>FruitServicesLib</code>.</p>\n<p>In <code>MyApplesRestApp</code>, I have a straightforward exception handler to map exceptions to an HTTP error 400:</p>\n<pre><code>import javax.ws.rs.ext.ExtensionMapper\nimport javax.ws.rs.ext.Provider\n\n@Provider\npublic class IllegalArgumentExceptionMapper implements ExtensionMapper&lt;IllegalArgumentException&gt; {\n    @Override\n    public Response toResponse(IllegalArgumentException) {\n        returnResponse.status(Status.BAD_REQUEST).build();\n    }\n}\n</code></pre>\n<p>I want to move the exception handler class above to the common library <code>FruitServicesLib</code>, but I also want to enable this exception handler in <code>MyApplesRestApp</code> and <code>MyBananasRestApp</code>, but not in MyTomatoesRestApp.</p>\n<p>What's the best way to do that? How can I move a @Provider annotated class to a common library but not have it activated all the time - conditionally enable it when needed (via java code or by using some config)?</p>\n"},{"tags":["java","rest-assured","jackson-databind"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1697130009,"post_id":77275023,"comment_id":136244169,"body_markdown":"Looks like a key-value pair to me, with the colon separating key and value. I don&#39;t understand what you are asking. It would be helpful to add your code as a [mcve].","body":"Looks like a key-value pair to me, with the colon separating key and value. I don&#39;t understand what you are asking. It would be helpful to add your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697168704,"creation_date":1697168704,"answer_id":77284947,"question_id":77275023,"body_markdown":"Since it&#39;s a String, you cannot use default deserialization in Rest-Assured. To get token, just split String and get it.\r\n\r\n```java\r\nString res = given()...asString();\r\nString token = res.split(&quot; &quot;)[1];\r\nSystem.out.println(&quot;token);\r\n//aG9yYWNpb3NzMTE2OTc2NDM=\r\n```\r\n\r\nif you want to do something like POJO (it&#39;s little bit over skill), then here you are:\r\n\r\n```java\r\n@Test\r\nvoid q77275023() {\r\n    String res = given()...asString();\r\n    String token = new Auth(res).getAuthToken();\r\n    System.out.println(&quot;token = &quot; + token);\r\n}\r\n\r\nstatic class Auth {\r\n    private String authToken;\r\n\r\n    public Auth(String res) {\r\n        String value = res.split(&quot; &quot;)[1];\r\n        this.authToken = value;\r\n    }\r\n\r\n    public String getAuthToken() {\r\n        return authToken;\r\n    }\r\n}\r\n```","title":"how to deserialize the response via rest assured and Java","body":"<p>Since it's a String, you cannot use default deserialization in Rest-Assured. To get token, just split String and get it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = given()...asString();\nString token = res.split(&quot; &quot;)[1];\nSystem.out.println(&quot;token);\n//aG9yYWNpb3NzMTE2OTc2NDM=\n</code></pre>\n<p>if you want to do something like POJO (it's little bit over skill), then here you are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid q77275023() {\n    String res = given()...asString();\n    String token = new Auth(res).getAuthToken();\n    System.out.println(&quot;token = &quot; + token);\n}\n\nstatic class Auth {\n    private String authToken;\n\n    public Auth(String res) {\n        String value = res.split(&quot; &quot;)[1];\n        this.authToken = value;\n    }\n\n    public String getAuthToken() {\n        return authToken;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24536873,"reputation":3,"user_id":18447844,"display_name":"Ali Eleish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284947,"answer_count":1,"score":0,"last_activity_date":1697201561,"creation_date":1697043617,"question_id":77275023,"body_markdown":"I&#39;m sending a post request for the Login API of Demoblaze Website https://www.demoblaze.com/. I&#39;ve searched over the internet about their official API documentation, and have found the postman collection that is used for this.\r\n\r\nThe login API specs found in postman:\r\n\r\nendpoint: https://api.demoblaze.com/login\r\n\r\npayload:\r\n\r\n```\r\n{\r\n   &quot;username&quot;: &quot;horacioss1&quot;,\r\n    &quot;password&quot;: &quot;1234567890&quot;\r\n}\r\n```\r\n\r\nwhen I send the request I get the following response:\r\n\r\n```\r\n&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\r\n```\r\n\r\nThe question here is how can I create a POJO class for the following response:\r\n\r\n```\r\n&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\r\n```\r\n\r\nas it&#39;s just a string not a key-value pair.","title":"how to deserialize the response via rest assured and Java","body":"<p>I'm sending a post request for the Login API of Demoblaze Website <a href=\"https://www.demoblaze.com/\" rel=\"nofollow noreferrer\">https://www.demoblaze.com/</a>. I've searched over the internet about their official API documentation, and have found the postman collection that is used for this.</p>\n<p>The login API specs found in postman:</p>\n<p>endpoint: <a href=\"https://api.demoblaze.com/login\" rel=\"nofollow noreferrer\">https://api.demoblaze.com/login</a></p>\n<p>payload:</p>\n<pre><code>{\n   &quot;username&quot;: &quot;horacioss1&quot;,\n    &quot;password&quot;: &quot;1234567890&quot;\n}\n</code></pre>\n<p>when I send the request I get the following response:</p>\n<pre><code>&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\n</code></pre>\n<p>The question here is how can I create a POJO class for the following response:</p>\n<pre><code>&quot;Auth_token: aG9yYWNpb3NzMTE2OTc2NDM=&quot;\n</code></pre>\n<p>as it's just a string not a key-value pair.</p>\n"},{"tags":["java","xml","opendocument","ods","jopendocument"],"answers":[{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497992357,"creation_date":1497992357,"answer_id":44662892,"question_id":38477727,"body_markdown":"jopendocument has a function for that: *getUsedRange()*\r\n\r\n    Range range=sheet.getUsedRange();\r\n    System.out.println(&quot;RANGE: &quot;+range.toString());\r\n\r\n=&gt; RANGE: Feuille1.A1:.C8 (example)\r\n\r\n","title":"JOpenDocument: problems with blank rows and cells","body":"<p>jopendocument has a function for that: <em>getUsedRange()</em></p>\n\n<pre><code>Range range=sheet.getUsedRange();\nSystem.out.println(\"RANGE: \"+range.toString());\n</code></pre>\n\n<p>=> RANGE: Feuille1.A1:.C8 (example)</p>\n"},{"tags":[],"owner":{"account_id":29095998,"reputation":1,"user_id":22288881,"display_name":"ivanmc-007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697201425,"creation_date":1697201425,"answer_id":77287880,"question_id":38477727,"body_markdown":"In org.jopendocument:jOpenDocument:1.3. Sheet.getUsedRange() works too slowly. So you can customize the method below. For example, to pass indexRow as a parameter. \r\n\r\n    import org.jopendocument.dom.spreadsheet.Cell;\r\n    import org.jopendocument.dom.spreadsheet.Range;\r\n    import org.jopendocument.dom.spreadsheet.Sheet;\r\n    /**\r\n     * Find used range\r\n     * @return Range or null if it wasn&#39;t detected\r\n     */\r\n    private Range findUsedRange(Sheet sheet) {\r\n        int rowIndexStart = -1;\r\n        int cellIndexStart = -1;\r\n        int rowIndexEnd = -1;\r\n        int cellIndexEnd = -1;\r\n        // Size 4096 was taken at random. The larger the size, the slower the method works\r\n        for (int indexRow = 0; indexRow &lt; 4096; indexRow++) {\r\n            for (int indexCell = 0; indexCell &lt; sheet.getColumnCount(); indexCell++) {\r\n                Cell&lt;?&gt; cell = sheet.getImmutableCellAt(indexCell, indexRow);\r\n                if (cell == null)\r\n                    continue;\r\n                if (!cell.isEmpty()) {\r\n                    if (cellIndexStart &lt; 0 || indexCell &lt; cellIndexStart)\r\n                        cellIndexStart = indexCell;\r\n                    if (rowIndexStart &lt; 0 || indexRow &lt; rowIndexStart)\r\n                        rowIndexStart = indexRow;\r\n                    if (cellIndexEnd &lt; 0 || indexCell &gt; cellIndexEnd)\r\n                        cellIndexEnd = indexCell;\r\n                    if (rowIndexEnd &lt; 0 || indexRow &gt; rowIndexEnd)\r\n                        rowIndexEnd = indexRow;\r\n                }\r\n            }\r\n        }\r\n        if (rowIndexStart == -1 || cellIndexStart == -1 || rowIndexEnd == -1 || cellIndexEnd == -1)\r\n            return null;\r\n        return new Range(sheet.getName(), new Point(cellIndexStart, rowIndexStart), new Point(cellIndexEnd, rowIndexEnd));\r\n    }\r\n","title":"JOpenDocument: problems with blank rows and cells","body":"<p>In org.jopendocument:jOpenDocument:1.3. Sheet.getUsedRange() works too slowly. So you can customize the method below. For example, to pass indexRow as a parameter.</p>\n<pre><code>import org.jopendocument.dom.spreadsheet.Cell;\nimport org.jopendocument.dom.spreadsheet.Range;\nimport org.jopendocument.dom.spreadsheet.Sheet;\n/**\n * Find used range\n * @return Range or null if it wasn't detected\n */\nprivate Range findUsedRange(Sheet sheet) {\n    int rowIndexStart = -1;\n    int cellIndexStart = -1;\n    int rowIndexEnd = -1;\n    int cellIndexEnd = -1;\n    // Size 4096 was taken at random. The larger the size, the slower the method works\n    for (int indexRow = 0; indexRow &lt; 4096; indexRow++) {\n        for (int indexCell = 0; indexCell &lt; sheet.getColumnCount(); indexCell++) {\n            Cell&lt;?&gt; cell = sheet.getImmutableCellAt(indexCell, indexRow);\n            if (cell == null)\n                continue;\n            if (!cell.isEmpty()) {\n                if (cellIndexStart &lt; 0 || indexCell &lt; cellIndexStart)\n                    cellIndexStart = indexCell;\n                if (rowIndexStart &lt; 0 || indexRow &lt; rowIndexStart)\n                    rowIndexStart = indexRow;\n                if (cellIndexEnd &lt; 0 || indexCell &gt; cellIndexEnd)\n                    cellIndexEnd = indexCell;\n                if (rowIndexEnd &lt; 0 || indexRow &gt; rowIndexEnd)\n                    rowIndexEnd = indexRow;\n            }\n        }\n    }\n    if (rowIndexStart == -1 || cellIndexStart == -1 || rowIndexEnd == -1 || cellIndexEnd == -1)\n        return null;\n    return new Range(sheet.getName(), new Point(cellIndexStart, rowIndexStart), new Point(cellIndexEnd, rowIndexEnd));\n}\n</code></pre>\n"}],"owner":{"account_id":8802584,"reputation":103,"user_id":6612552,"display_name":"Mexoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44662892,"answer_count":2,"score":0,"last_activity_date":1697201425,"creation_date":1469007785,"question_id":38477727,"body_markdown":"I have a problem when I parse .ods file with [JOpenDocument][1] . There are three rows and four columns in my file, but when I parse this file I get 1024 columns and too many rows. There are many blank cells. &lt;br&gt;\r\nI opened this .ods file like xml and it didn&#39;t have many lines.&lt;br&gt;\r\nAnd I couldn&#39;t find method for check empty cell in JOpenDocument API.&lt;br&gt;&lt;br&gt;\r\nHere is my code where I create row with data:\r\n\r\n    ArrayList rowData = new ArrayList();\r\n    int countCol = sheet.getColumnCount();\r\n\r\n    for (int i = 0; i &lt; countCol; i++) {\r\n        rowData.add(getCellData(sheet.getName(), num, i));\r\n    }\r\n\r\nHow can I fix this problem? Maybe I have to change library?\r\n\r\n\r\n  [1]: http://www.jopendocument.org","title":"JOpenDocument: problems with blank rows and cells","body":"<p>I have a problem when I parse .ods file with <a href=\"http://www.jopendocument.org\" rel=\"nofollow\">JOpenDocument</a> . There are three rows and four columns in my file, but when I parse this file I get 1024 columns and too many rows. There are many blank cells. <br>\nI opened this .ods file like xml and it didn't have many lines.<br>\nAnd I couldn't find method for check empty cell in JOpenDocument API.<br><br>\nHere is my code where I create row with data:</p>\n\n<pre><code>ArrayList rowData = new ArrayList();\nint countCol = sheet.getColumnCount();\n\nfor (int i = 0; i &lt; countCol; i++) {\n    rowData.add(getCellData(sheet.getName(), num, i));\n}\n</code></pre>\n\n<p>How can I fix this problem? Maybe I have to change library?</p>\n"},{"tags":["java","android","achartengine"],"answers":[{"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384803805,"creation_date":1384803805,"answer_id":20056372,"question_id":19488342,"body_markdown":"The solution is to not add the 0 values. If you do add them then they exist and they must be displayed.\r\n\r\n","title":"Android AChartEngine - How to hide display of value when pie chart slice is 0%","body":"<p>The solution is to not add the 0 values. If you do add them then they exist and they must be displayed.</p>\n"}],"owner":{"account_id":3466611,"reputation":1,"user_id":2901965,"display_name":"user2901965"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697200808,"creation_date":1382339958,"question_id":19488342,"body_markdown":"Am working on an Android App which displays a piechart using AChartEngine. The piechart displays 8 different values. Sometimes one of the value is 100% and the rest are 0%. In such a case, seven 0% values are displayed on the pie chart. This doesn&#39;t look nice as you can see here:\r\n\r\n[![here][1]][1]  \n&lt;sub&gt;(source: [zoho.com](https://docs.zoho.com/viewembeddoc.do?docId=o319t178cd6596bd94d8abd9bbb3e8074b823&amp;ftype=image&amp;filename=piechart_screenshot.png&amp;imgWidth=770&amp;imgHeight=515&amp;version=1.0))&lt;/sub&gt;  \n\r\n\r\nHow do I prevent display of the value when it is 0% ?\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3wK9a.png","title":"Android AChartEngine - How to hide display of value when pie chart slice is 0%","body":"<p>Am working on an Android App which displays a piechart using AChartEngine. The piechart displays 8 different values. Sometimes one of the value is 100% and the rest are 0%. In such a case, seven 0% values are displayed on the pie chart. This doesn't look nice as you can see here:</p>\n<p><a href=\"https://i.stack.imgur.com/3wK9a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wK9a.png\" alt=\"here\" /></a><br />\n<sub>(source: <a href=\"https://docs.zoho.com/viewembeddoc.do?docId=o319t178cd6596bd94d8abd9bbb3e8074b823&amp;ftype=image&amp;filename=piechart_screenshot.png&amp;imgWidth=770&amp;imgHeight=515&amp;version=1.0\" rel=\"nofollow noreferrer\">zoho.com</a>)</sub></p>\n<p>How do I prevent display of the value when it is 0% ?</p>\n"},{"tags":["java","apache","jms","activemq","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":1528164,"reputation":906,"user_id":1426079,"display_name":"Brinnis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1395847822,"creation_date":1375798867,"answer_id":18082833,"question_id":18082404,"body_markdown":"I believe your problem is there is already something running on port 61616.  (It could be another instance of ActiveMQ you started on accident). \r\n\r\nYou can change the port for ActiveMQ in the activemq.xml file.  Just do a find on 61616 and replace it with the port you would like to use (it should be in the `&lt;transportConnector&gt;` tag with the name `openwire`).\r\n\r\nYou do not have to install ActiveMQ, simply launch `activemq.bat` in the bin folder to start the standalone service.","title":"How can I change default port number of Activemq","body":"<p>I believe your problem is there is already something running on port 61616.  (It could be another instance of ActiveMQ you started on accident). </p>\n\n<p>You can change the port for ActiveMQ in the activemq.xml file.  Just do a find on 61616 and replace it with the port you would like to use (it should be in the <code>&lt;transportConnector&gt;</code> tag with the name <code>openwire</code>).</p>\n\n<p>You do not have to install ActiveMQ, simply launch <code>activemq.bat</code> in the bin folder to start the standalone service.</p>\n"},{"tags":[],"owner":{"account_id":7583456,"reputation":305,"user_id":5753409,"display_name":"ajpieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697200755,"creation_date":1697123551,"answer_id":77281844,"question_id":18082404,"body_markdown":"In the bin folder, there is an activemq.bat file. Just run that like so\r\n\r\n    activemq.bat start broker:tcp//&lt;ipAddres&gt;:&lt;desiredPort&gt;\r\n    example: activemq.bat start broker:tcp//localhost:61617","title":"How can I change default port number of Activemq","body":"<p>In the bin folder, there is an activemq.bat file. Just run that like so</p>\n<pre><code>activemq.bat start broker:tcp//&lt;ipAddres&gt;:&lt;desiredPort&gt;\nexample: activemq.bat start broker:tcp//localhost:61617\n</code></pre>\n"}],"owner":{"account_id":3122922,"reputation":1117,"user_id":2642355,"accept_rate":35,"display_name":"Hanumath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39636,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":18082833,"answer_count":2,"score":14,"last_activity_date":1697200755,"creation_date":1375797776,"question_id":18082404,"body_markdown":"I am using `Windows 7` OS. I downloaded `apache-activemq-5.8.0.zip` from these [Link][1] and extracted in `C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0` directory.\r\n\r\nWhile `Activemq` initialization time I read `Pre-Installation Requirements` concept from these [Link][2].\r\n\r\nI already installed `apache-maven-3.0.5` in my system.For my conformation I run the following command in my system.\r\n\r\n       mvn -version\r\nI am getting the following message,So `Maven` is installed successfully.\r\n\r\n     Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:\r\n     28+0530)\r\n     Maven home: P:\\Software\\apache-maven-3.0.5\r\n     Java version: 1.7.0_21, vendor: Oracle Corporation\r\n     Java home: C:\\Program Files\\Java\\jdk1.7.0_21\\jre\r\n     Default locale: en_US, platform encoding: Cp1252\r\n     OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot; \r\n\r\nI downloaded `geronimo-spec-corba-1.0.jar` from these [Link][3] and set `classpth`.\r\n\r\n  ![enter image description here][4]\r\n\r\nI started `Activemq` initialization in the following way.\r\n\r\n      C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0\\bin&gt;activemq\r\nI am getting error,So I tested whether `61616(Activemq default port no)` is in active with the following statement.\r\n\r\n      C:\\Users\\Infratab Bangalore&gt;netstat -an|find &quot;61616&quot;\r\n       TCP    0.0.0.0:61616          0.0.0.0:0              LISTENING\r\n       TCP    [::]:61616             [::]:0                 LISTENING\r\n\r\nFinally I understand `61616` port is active so I want to change my port number.\r\n\r\n1. Am I right, what I am thinking?\r\n\r\n2. How can I install `Activemq`.\r\n\r\nThanks.\r\n\r\n     \r\n\r\n\r\n  [1]: http://activemq.apache.org/activemq-580-release.html\r\n  [2]: http://activemq.apache.org/getting-started.html#GettingStarted-TestingtheInstallation\r\n  [3]: http://people.apache.org/repository/geronimo-spec/jars/\r\n  [4]: http://i.stack.imgur.com/E8xFK.jpg","title":"How can I change default port number of Activemq","body":"<p>I am using <code>Windows 7</code> OS. I downloaded <code>apache-activemq-5.8.0.zip</code> from these <a href=\"http://activemq.apache.org/activemq-580-release.html\" rel=\"noreferrer\">Link</a> and extracted in <code>C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0</code> directory.</p>\n\n<p>While <code>Activemq</code> initialization time I read <code>Pre-Installation Requirements</code> concept from these <a href=\"http://activemq.apache.org/getting-started.html#GettingStarted-TestingtheInstallation\" rel=\"noreferrer\">Link</a>.</p>\n\n<p>I already installed <code>apache-maven-3.0.5</code> in my system.For my conformation I run the following command in my system.</p>\n\n<pre><code>   mvn -version\n</code></pre>\n\n<p>I am getting the following message,So <code>Maven</code> is installed successfully.</p>\n\n<pre><code> Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 19:21:\n 28+0530)\n Maven home: P:\\Software\\apache-maven-3.0.5\n Java version: 1.7.0_21, vendor: Oracle Corporation\n Java home: C:\\Program Files\\Java\\jdk1.7.0_21\\jre\n Default locale: en_US, platform encoding: Cp1252\n OS name: \"windows 7\", version: \"6.1\", arch: \"x86\", family: \"windows\" \n</code></pre>\n\n<p>I downloaded <code>geronimo-spec-corba-1.0.jar</code> from these <a href=\"http://people.apache.org/repository/geronimo-spec/jars/\" rel=\"noreferrer\">Link</a> and set <code>classpth</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/E8xFK.jpg\" alt=\"enter image description here\"></p>\n\n<p>I started <code>Activemq</code> initialization in the following way.</p>\n\n<pre><code>  C:\\Users\\Infratab Bangalore\\Desktop\\Queueing\\apache-activemq-5.8.0\\bin&gt;activemq\n</code></pre>\n\n<p>I am getting error,So I tested whether <code>61616(Activemq default port no)</code> is in active with the following statement.</p>\n\n<pre><code>  C:\\Users\\Infratab Bangalore&gt;netstat -an|find \"61616\"\n   TCP    0.0.0.0:61616          0.0.0.0:0              LISTENING\n   TCP    [::]:61616             [::]:0                 LISTENING\n</code></pre>\n\n<p>Finally I understand <code>61616</code> port is active so I want to change my port number.</p>\n\n<ol>\n<li><p>Am I right, what I am thinking?</p></li>\n<li><p>How can I install <code>Activemq</code>.</p></li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["java","inheritance","reflection"],"comments":[{"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"score":0,"creation_date":1697203455,"post_id":77287696,"comment_id":136254012,"body_markdown":"You are calling `myFields[i].setAccessible(true);` in the loop for the superclass&#39; fields, maybe it is just a typo?","body":"You are calling <code>myFields[i].setAccessible(true);</code> in the loop for the superclass&#39; fields, maybe it is just a typo?"},{"owner":{"account_id":18853078,"reputation":13,"user_id":13751739,"display_name":"NoBeardNoParty"},"score":0,"creation_date":1697207818,"post_id":77287696,"comment_id":136254898,"body_markdown":"Wow I can&#39;t believe it man that was indeed the problem thanks a bunch","body":"Wow I can&#39;t believe it man that was indeed the problem thanks a bunch"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697211019,"post_id":77287696,"comment_id":136255623,"body_markdown":"You should be aware that classes can have fields with the same name. And that letting Reflection determine the persistent format is a bad idea in general. This will break on the slightest changes of the classes internals.","body":"You should be aware that classes can have fields with the same name. And that letting Reflection determine the persistent format is a bad idea in general. This will break on the slightest changes of the classes internals."}],"owner":{"account_id":18853078,"reputation":13,"user_id":13751739,"display_name":"NoBeardNoParty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697200026,"creation_date":1697199746,"question_id":77287696,"body_markdown":"I&#39;m facing an issue while trying to use Java reflection.\r\n\r\nI have a PermanentObject class, that implements a general method to turn an object into a JSON string (the syntax is not yet completely implemented so glide past it)\r\n\r\nThis is the code of the method:\r\n\r\n```\r\n@Override\r\npublic String toFileFormat() {\r\n        String info = &quot;&quot;;\r\n        \r\n        try {\r\n            \r\n            Class myClass = this.getClass();\r\n            Class mySuperclass = myClass.getSuperclass();\r\n            Field[] superclassFields = mySuperclass.getDeclaredFields();\r\n            Field[] myFields = myClass.getDeclaredFields();\r\n            \r\n            info += &quot;{\\n&quot;;\r\n            \r\n            for (int i = 0; i &lt; superclassFields.length; i++) {\r\n                myFields[i].setAccessible(true);\r\n                info += &quot;\\&quot;&quot; + superclassFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + superclassFields[i].get(this) + &quot;\\&quot;,\\n&quot;;\r\n            }\r\n            \r\n            for (int i = 0; i &lt; myFields.length; i++) {\r\n                myFields[i].setAccessible(true);\r\n                info += &quot;\\&quot;&quot; + myFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + myFields[i].get(this) + &quot;\\&quot;&quot;;\r\n                if (i &lt; myFields.length - 1) info += &quot;,&quot;;\r\n                info += &quot;\\n&quot;;\r\n            }\r\n            \r\n            info += &quot;}&quot;;\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return info;\r\n}\r\n```\r\n\r\nI then have a User abstract subclass that extends PermanentObject, and a Professor subclass that extends User.\r\n\r\nWhen invoking the method tho I get this error:\r\n`java.lang.IllegalAccessException: class esercizio2.permanence.PermanentObject cannot access a member of class esercizio2.logic.users.User with modifiers &quot;private&quot;`\r\n\r\nI was wondering why this is\r\n\r\nI can solve the problem by implementing the method in the User class rather than in the PermanentObject class, but this leads to duplication of code since there are other PermanentObject subclasses that will need to use this.\r\n\r\nThanks for the help :&gt;","title":"Java: reflection on grandchild class attributes","body":"<p>I'm facing an issue while trying to use Java reflection.</p>\n<p>I have a PermanentObject class, that implements a general method to turn an object into a JSON string (the syntax is not yet completely implemented so glide past it)</p>\n<p>This is the code of the method:</p>\n<pre><code>@Override\npublic String toFileFormat() {\n        String info = &quot;&quot;;\n        \n        try {\n            \n            Class myClass = this.getClass();\n            Class mySuperclass = myClass.getSuperclass();\n            Field[] superclassFields = mySuperclass.getDeclaredFields();\n            Field[] myFields = myClass.getDeclaredFields();\n            \n            info += &quot;{\\n&quot;;\n            \n            for (int i = 0; i &lt; superclassFields.length; i++) {\n                myFields[i].setAccessible(true);\n                info += &quot;\\&quot;&quot; + superclassFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + superclassFields[i].get(this) + &quot;\\&quot;,\\n&quot;;\n            }\n            \n            for (int i = 0; i &lt; myFields.length; i++) {\n                myFields[i].setAccessible(true);\n                info += &quot;\\&quot;&quot; + myFields[i].getName() + &quot;\\&quot;:\\&quot;&quot; + myFields[i].get(this) + &quot;\\&quot;&quot;;\n                if (i &lt; myFields.length - 1) info += &quot;,&quot;;\n                info += &quot;\\n&quot;;\n            }\n            \n            info += &quot;}&quot;;\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return info;\n}\n</code></pre>\n<p>I then have a User abstract subclass that extends PermanentObject, and a Professor subclass that extends User.</p>\n<p>When invoking the method tho I get this error:\n<code>java.lang.IllegalAccessException: class esercizio2.permanence.PermanentObject cannot access a member of class esercizio2.logic.users.User with modifiers &quot;private&quot;</code></p>\n<p>I was wondering why this is</p>\n<p>I can solve the problem by implementing the method in the User class rather than in the PermanentObject class, but this leads to duplication of code since there are other PermanentObject subclasses that will need to use this.</p>\n<p>Thanks for the help :&gt;</p>\n"},{"tags":["java","android","kotlin","gradle","google-play"],"owner":{"account_id":10925292,"reputation":1,"user_id":8030184,"display_name":"sahar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697199561,"creation_date":1697189589,"question_id":77286625,"body_markdown":"I am trying to upload a new version of my Android app to the Google Play Store. The previous version had a **version code of 15 and app version in 2.1.12**, and I am attempting to release **version 2.1.13 with a version code of 16** in my app&#39;s build.gradle file. However, I&#39;m encountering an error that says, `Version code 8 has already been used. Try another version code.`\r\n\r\n    android {\r\n\r\n    defaultConfig {\r\n        compileSdk 34\r\n        applicationId &quot;com.google.www&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 34\r\n        versionCode 16\r\n        versionName &quot;2.1.13&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace &#39;com.google.www&#39;\r\n    }\r\n\r\ngoogle play store version\r\n[Google Play Store version code](https://i.stack.imgur.com/ZEIXa.png)\r\n\r\nIs there anything I should check or configure to resolve this version code conflict error? Any advice or guidance would be greatly appreciated.\r\n\r\nI have confirmed that my app&#39;s build.gradle file specifies the correct version code of `16`, and there are no conflicting version codes in my project&#39;s libraries or modules. I have also cleared the cache and tried on different devices, but the issue persists.","title":"Google Play Store version code conflict error when uploading new Android app version?","body":"<p>I am trying to upload a new version of my Android app to the Google Play Store. The previous version had a <strong>version code of 15 and app version in 2.1.12</strong>, and I am attempting to release <strong>version 2.1.13 with a version code of 16</strong> in my app's build.gradle file. However, I'm encountering an error that says, <code>Version code 8 has already been used. Try another version code.</code></p>\n<pre><code>android {\n\ndefaultConfig {\n    compileSdk 34\n    applicationId &quot;com.google.www&quot;\n    minSdkVersion 24\n    targetSdkVersion 34\n    versionCode 16\n    versionName &quot;2.1.13&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\nnamespace 'com.google.www'\n}\n</code></pre>\n<p>google play store version\n<a href=\"https://i.stack.imgur.com/ZEIXa.png\" rel=\"nofollow noreferrer\">Google Play Store version code</a></p>\n<p>Is there anything I should check or configure to resolve this version code conflict error? Any advice or guidance would be greatly appreciated.</p>\n<p>I have confirmed that my app's build.gradle file specifies the correct version code of <code>16</code>, and there are no conflicting version codes in my project's libraries or modules. I have also cleared the cache and tried on different devices, but the issue persists.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697199051,"creation_date":1697198688,"answer_id":77287571,"question_id":77287044,"body_markdown":"Judging from the code you provided, it looks like you are trying to get the reaction in codepoint notation. You can [`ReactionEmote#getAsCodepoints`][1] do do this. Example:\r\n\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String codepoints = event.getReactionEmote().getAsCodepoints();\r\n        String answer;\r\n\r\n        switch(codepoints) {\r\n            case &quot;U+1F600&quot;:\r\n                answer = &quot;one&quot;;\r\n                break;\r\n            case &quot;U+1F601&quot;: \r\n                answer = &quot;two&quot;;\r\n                break;\r\n            case &quot;U+1F60D&quot;:\r\n                answer = &quot;three&quot;;\r\n                break;\r\n            case &quot;U+1F62D&quot;:\r\n                answer = &quot;four&quot;;\r\n                break;\r\n            default:\r\n                answer = &quot;nothing&quot;\r\n                break;\r\n        }    \r\n    \r\n        // ...\r\n    }\r\n\r\nKeep in mind that `getAsCodepoints` can throw an IllegalStateException if the reaction is not a valid UTF-8 character (e.i. a custom server emote). You may want to use escaped unicode characters instead of codepoints and stick with [`ReactionEmote#getAsReactionCode`][2], as this does not throw any exceptions and would seem to work best in this context. Example:\r\n\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\r\n        String answer;\r\n        \r\n        switch(codepoints) {\r\n            case &quot;\\uD83D\\uDE00&quot;:\r\n                answer = &quot;one&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE01&quot;: \r\n                answer = &quot;two&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE0D&quot;:\r\n                answer = &quot;three&quot;;\r\n                break;\r\n            case &quot;\\uD83D\\uDE2D&quot;:\r\n                answer = &quot;four&quot;;\r\n                break;\r\n            default:\r\n                answer = &quot;nothing&quot;\r\n                break;\r\n        }    \r\n    \r\n        // ...\r\n    }\r\n\r\nI like to use the website [fileformat.info][3] when dealing with Java and unicode because it has an **Encodings** table which lists a `C/C++/Java source code` column.\r\n\r\nNote on `?`\r\n---\r\n---\r\n\r\nIf you are using a terminal that is not configured to use UTF-8 (such as out-of-the-box Eclipse), then unicode characters will be displayed as `?`.\r\n\r\nYou can configure the Eclipse console to use UTF-8 encoding by going to **Run** &gt; **Run Configurations**, selecting the configuration for your. application, then going to the **Common** tab and setting **Encoding** to UTF-8:\r\n\r\n[![run configurations][4]][4]\r\n\r\n\r\n  [1]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsCodepoints()\r\n  [2]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsReactionCode()\r\n  [3]: https://www.fileformat.info/info/unicode/\r\n  [4]: https://i.stack.imgur.com/kKc4T.png","title":"JDA getReaction().getEmoji().getAsReactionCode() not returning unicode emoji","body":"<p>Judging from the code you provided, it looks like you are trying to get the reaction in codepoint notation. You can <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsCodepoints()\" rel=\"nofollow noreferrer\"><code>ReactionEmote#getAsCodepoints</code></a> do do this. Example:</p>\n<pre><code>@Override\npublic void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n    String codepoints = event.getReactionEmote().getAsCodepoints();\n    String answer;\n\n    switch(codepoints) {\n        case &quot;U+1F600&quot;:\n            answer = &quot;one&quot;;\n            break;\n        case &quot;U+1F601&quot;: \n            answer = &quot;two&quot;;\n            break;\n        case &quot;U+1F60D&quot;:\n            answer = &quot;three&quot;;\n            break;\n        case &quot;U+1F62D&quot;:\n            answer = &quot;four&quot;;\n            break;\n        default:\n            answer = &quot;nothing&quot;\n            break;\n    }    \n\n    // ...\n}\n</code></pre>\n<p>Keep in mind that <code>getAsCodepoints</code> can throw an IllegalStateException if the reaction is not a valid UTF-8 character (e.i. a custom server emote). You may want to use escaped unicode characters instead of codepoints and stick with <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageReaction.ReactionEmote.html#getAsReactionCode()\" rel=\"nofollow noreferrer\"><code>ReactionEmote#getAsReactionCode</code></a>, as this does not throw any exceptions and would seem to work best in this context. Example:</p>\n<pre><code>@Override\npublic void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n    String reaction = event.getReaction().getEmoji().getAsReactionCode();\n    String answer;\n    \n    switch(codepoints) {\n        case &quot;\\uD83D\\uDE00&quot;:\n            answer = &quot;one&quot;;\n            break;\n        case &quot;\\uD83D\\uDE01&quot;: \n            answer = &quot;two&quot;;\n            break;\n        case &quot;\\uD83D\\uDE0D&quot;:\n            answer = &quot;three&quot;;\n            break;\n        case &quot;\\uD83D\\uDE2D&quot;:\n            answer = &quot;four&quot;;\n            break;\n        default:\n            answer = &quot;nothing&quot;\n            break;\n    }    \n\n    // ...\n}\n</code></pre>\n<p>I like to use the website <a href=\"https://www.fileformat.info/info/unicode/\" rel=\"nofollow noreferrer\">fileformat.info</a> when dealing with Java and unicode because it has an <strong>Encodings</strong> table which lists a <code>C/C++/Java source code</code> column.</p>\n<h2>Note on <code>?</code></h2>\n<hr />\n<p>If you are using a terminal that is not configured to use UTF-8 (such as out-of-the-box Eclipse), then unicode characters will be displayed as <code>?</code>.</p>\n<p>You can configure the Eclipse console to use UTF-8 encoding by going to <strong>Run</strong> &gt; <strong>Run Configurations</strong>, selecting the configuration for your. application, then going to the <strong>Common</strong> tab and setting <strong>Encoding</strong> to UTF-8:</p>\n<p><a href=\"https://i.stack.imgur.com/kKc4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKc4T.png\" alt=\"run configurations\" /></a></p>\n"}],"owner":{"account_id":29663365,"reputation":13,"user_id":22734468,"display_name":"Claradcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77287571,"answer_count":1,"score":1,"last_activity_date":1697199051,"creation_date":1697193290,"question_id":77287044,"body_markdown":"I&#39;m trying to make a bot that when reacted to a message with some emojis it will post a slightly different message.\r\n\r\nBut seems that the method is not returning the unicode for those emojis, I placed a System.out.println but the only thing that seems to be returning is ? (alongside a unknown symbol according to debugger) anyone can help with it?\r\n\r\n```\r\npublic class EmoteReactControler extends ListenerAdapter {\r\n    @Override\r\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\r\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\r\n        User userReacted = event.getUser();\r\n        Channel channel = event.getChannel();\r\n        String channelMention = channel.getAsMention();\r\n        String jumpLink = event.getJumpUrl();\r\n        String answer = &quot;nothing&quot;;\r\n        System.out.println(reaction);\r\n        if ( reaction.equals(&quot;U+1F600&quot;)) {\r\n            answer = &quot;one&quot;;\r\n        } else if (reaction.equals(&quot;U+1F601&quot;)) {\r\n            answer = &quot;two&quot;;\r\n        } else if (reaction.equals(&quot;U+1F60D&quot;)) {\r\n            answer = &quot;three&quot;;\r\n        } else if (reaction.equals(&quot;U+1F62D&quot;)){\r\n            answer = &quot;four&quot;;\r\n        }\r\n\r\n        String message = userReacted.getName() + &quot; did &quot; + answer + &quot; see here: &quot; + jumpLink + &quot; in &quot; + channelMention;\r\n        event.getGuild().getTextChannelById(channel.getId()).sendMessage(message).queue();\r\n    }\r\n}\r\n```","title":"JDA getReaction().getEmoji().getAsReactionCode() not returning unicode emoji","body":"<p>I'm trying to make a bot that when reacted to a message with some emojis it will post a slightly different message.</p>\n<p>But seems that the method is not returning the unicode for those emojis, I placed a System.out.println but the only thing that seems to be returning is ? (alongside a unknown symbol according to debugger) anyone can help with it?</p>\n<pre><code>public class EmoteReactControler extends ListenerAdapter {\n    @Override\n    public void onMessageReactionAdd(@NotNull MessageReactionAddEvent event){\n        String reaction = event.getReaction().getEmoji().getAsReactionCode();\n        User userReacted = event.getUser();\n        Channel channel = event.getChannel();\n        String channelMention = channel.getAsMention();\n        String jumpLink = event.getJumpUrl();\n        String answer = &quot;nothing&quot;;\n        System.out.println(reaction);\n        if ( reaction.equals(&quot;U+1F600&quot;)) {\n            answer = &quot;one&quot;;\n        } else if (reaction.equals(&quot;U+1F601&quot;)) {\n            answer = &quot;two&quot;;\n        } else if (reaction.equals(&quot;U+1F60D&quot;)) {\n            answer = &quot;three&quot;;\n        } else if (reaction.equals(&quot;U+1F62D&quot;)){\n            answer = &quot;four&quot;;\n        }\n\n        String message = userReacted.getName() + &quot; did &quot; + answer + &quot; see here: &quot; + jumpLink + &quot; in &quot; + channelMention;\n        event.getGuild().getTextChannelById(channel.getId()).sendMessage(message).queue();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","jasper-reports","jaspersoft-studio"],"comments":[{"owner":{"account_id":6534609,"reputation":149,"user_id":5054651,"accept_rate":0,"display_name":"diegoqueres"},"score":0,"creation_date":1508261286,"post_id":46560906,"comment_id":80538304,"body_markdown":"I would like to know that too.","body":"I would like to know that too."}],"answers":[{"tags":[],"owner":{"account_id":3145307,"reputation":386,"user_id":2659894,"accept_rate":33,"display_name":"iaL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542123529,"creation_date":1542123529,"answer_id":53284486,"question_id":46560906,"body_markdown":"I too faced similar issue.\r\nSince maven (M2Eclipse) needs other dependent tools to function like WTP etc (you can see those in error log details), I figured it would be more time-consuming in finding all those dependencies &amp; install them.\r\n\r\nUltimately, I installed jaspersoft plugin into my eclipse.\r\n\r\nFrom the following link, you can install jaspersoft plugin from into your eclipse by drag-drop of the install button on your eclipse platform.\r\n\r\n[https://marketplace.eclipse.org/content/jaspersoft-studio][1]\r\n\r\nOr you can find it in eclipse marketplace &amp; install it from there.\r\n\r\nI installed it on STS. And it installed successfully.\r\n\r\nHope, someone finds this useful.\r\n\r\n  [1]: https://marketplace.eclipse.org/content/jaspersoft-studio","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>I too faced similar issue.\nSince maven (M2Eclipse) needs other dependent tools to function like WTP etc (you can see those in error log details), I figured it would be more time-consuming in finding all those dependencies &amp; install them.</p>\n\n<p>Ultimately, I installed jaspersoft plugin into my eclipse.</p>\n\n<p>From the following link, you can install jaspersoft plugin from into your eclipse by drag-drop of the install button on your eclipse platform.</p>\n\n<p><a href=\"https://marketplace.eclipse.org/content/jaspersoft-studio\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/jaspersoft-studio</a></p>\n\n<p>Or you can find it in eclipse marketplace &amp; install it from there.</p>\n\n<p>I installed it on STS. And it installed successfully.</p>\n\n<p>Hope, someone finds this useful.</p>\n"},{"tags":[],"owner":{"account_id":1317626,"reputation":187,"user_id":1264157,"accept_rate":50,"display_name":"Tulshiram Pawde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697198960,"creation_date":1697198960,"answer_id":77287606,"question_id":46560906,"body_markdown":"Install the Maven plugin in Jaspersoft Studio v6.20.6\r\n\r\nOpen &quot;Jaspersoft Studio&quot; &gt; Go to the &quot;Help&quot; Menu &gt; &quot;Install New Software&quot;\r\n1. Select &quot;All Available Sites&quot; (or search specific) -&gt; It will display the result below\r\n2. type filter text as &quot;m2e&quot;\r\n3. Select &quot;Maven Integration for Eclipse&quot; &amp; &quot;Maven integration for WTP&quot;\r\n4. Continue further installation \r\n\r\nRefer image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDownload Jaspersoft Studio: https://community.jaspersoft.com/project/jaspersoft-studio/releases\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFmFG.png","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>Install the Maven plugin in Jaspersoft Studio v6.20.6</p>\n<p>Open &quot;Jaspersoft Studio&quot; &gt; Go to the &quot;Help&quot; Menu &gt; &quot;Install New Software&quot;</p>\n<ol>\n<li>Select &quot;All Available Sites&quot; (or search specific) -&gt; It will display the result below</li>\n<li>type filter text as &quot;m2e&quot;</li>\n<li>Select &quot;Maven Integration for Eclipse&quot; &amp; &quot;Maven integration for WTP&quot;</li>\n<li>Continue further installation</li>\n</ol>\n<p>Refer image</p>\n<p><a href=\"https://i.stack.imgur.com/ZFmFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFmFG.png\" alt=\"enter image description here\" /></a></p>\n<p>Download Jaspersoft Studio: <a href=\"https://community.jaspersoft.com/project/jaspersoft-studio/releases\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/project/jaspersoft-studio/releases</a></p>\n"}],"owner":{"account_id":8191881,"reputation":195,"user_id":6165885,"display_name":"Mikel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3152,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1697198960,"creation_date":1507107653,"question_id":46560906,"body_markdown":"I&#39;m building a complex project that depends of various modules. For exporting to PDF I&#39;m using *JasperReport API* and for developing reports I&#39;m using Jaspersoft Studio, version 6.4.0. \r\n\r\nIn the way to avoid duplicated queries, I&#39;m sending all data via parameters to the report, the type of this parameters are custom beans. Those beans are contained in another project (This must be so, because those beans are being used in view layer of another application). When I import those beans as jar library dependency contained in a &quot;.jar&quot; file directly in *Jaspersoft Studio* project, reports compile perfectly.\r\n\r\nNow I&#39;m trying to use Maven to include this dependencies, but *Jaspersoft Studio* doesn&#39;t contain Maven libraries, and I can&#39;t do this.\r\n\r\nI&#39;ve tried install maven from repository (http://download.eclipse.org/technology/m2e/releases) but this doesn&#39;t work:\r\n\r\n&gt; Help &gt; Install new software &gt; ...\r\n\r\n[![Maven Installing ERROR][1]][1]\r\n\r\nIt tell me that require more bundles, I&#39;ve install lot of bundles manually but always require more and I don&#39;t know if this is viable.\r\n\r\nHas someone complete Maven configuration in *Jaspersoft Studio*? If so, I\r\nwould appreciate to know how. I can also use other options while using\r\nMaven to manage the dependencies\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68OiQ.jpg","title":"How to configure Maven in Jaspersoft Studio?","body":"<p>I'm building a complex project that depends of various modules. For exporting to PDF I'm using <em>JasperReport API</em> and for developing reports I'm using Jaspersoft Studio, version 6.4.0. </p>\n\n<p>In the way to avoid duplicated queries, I'm sending all data via parameters to the report, the type of this parameters are custom beans. Those beans are contained in another project (This must be so, because those beans are being used in view layer of another application). When I import those beans as jar library dependency contained in a \".jar\" file directly in <em>Jaspersoft Studio</em> project, reports compile perfectly.</p>\n\n<p>Now I'm trying to use Maven to include this dependencies, but <em>Jaspersoft Studio</em> doesn't contain Maven libraries, and I can't do this.</p>\n\n<p>I've tried install maven from repository (<a href=\"http://download.eclipse.org/technology/m2e/releases\" rel=\"noreferrer\">http://download.eclipse.org/technology/m2e/releases</a>) but this doesn't work:</p>\n\n<blockquote>\n  <p>Help > Install new software > ...</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/68OiQ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/68OiQ.jpg\" alt=\"Maven Installing ERROR\"></a></p>\n\n<p>It tell me that require more bundles, I've install lot of bundles manually but always require more and I don't know if this is viable.</p>\n\n<p>Has someone complete Maven configuration in <em>Jaspersoft Studio</em>? If so, I\nwould appreciate to know how. I can also use other options while using\nMaven to manage the dependencies</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1697200623,"post_id":77287310,"comment_id":136253429,"body_markdown":"Just pass the call to the other method as an argument like `employee.setAddress(mapToAddress(//some condition));`","body":"Just pass the call to the other method as an argument like <code>employee.setAddress(mapToAddress(&#47;&#47;some condition));</code>"}],"answers":[{"tags":[],"owner":{"account_id":18141415,"reputation":11,"user_id":13195240,"display_name":"kdritsas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697198576,"creation_date":1697198576,"answer_id":77287563,"question_id":77287310,"body_markdown":"If I understood your question correctly, you want to add addresses to an `Employee` object. You can create a method that adds `Address` objects to your list:\r\n\r\n```java\r\npublic void addAddress(Address a) {\r\n   this.address.add(a);\r\n}\r\n```\r\nOr if you&#39;d like to add a list of addresses:\r\n\r\n```java\r\npublic void addAddresses(List&lt;Address&gt; addresses) {\r\n  this.address.addAll(addresses);\r\n}\r\n```\r\nHope it helps :) \r\n\r\n**EDIT**: If you still want to use the `setAddress` method, you could use the code above from `addAddresses(List&lt;Address&gt; addresses)`. However, that could be confusing, semantically speaking.","title":"Setting list of child objects to parent object using it&#39;s setter method","body":"<p>If I understood your question correctly, you want to add addresses to an <code>Employee</code> object. You can create a method that adds <code>Address</code> objects to your list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addAddress(Address a) {\n   this.address.add(a);\n}\n</code></pre>\n<p>Or if you'd like to add a list of addresses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addAddresses(List&lt;Address&gt; addresses) {\n  this.address.addAll(addresses);\n}\n</code></pre>\n<p>Hope it helps :)</p>\n<p><strong>EDIT</strong>: If you still want to use the <code>setAddress</code> method, you could use the code above from <code>addAddresses(List&lt;Address&gt; addresses)</code>. However, that could be confusing, semantically speaking.</p>\n"}],"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697198576,"creation_date":1697195729,"question_id":77287310,"body_markdown":"I have Employee class like this\r\n```\r\npublic class Employee{\r\n           private int id;\r\n           private List&lt;Address&gt;  address;\r\n    //getter\r\n      public List&lt;Address&gt; getAddress() {\r\n        return address;\r\n      }\r\n    //setter\r\n      public void setAddress(List&lt;Address&gt; address) {\r\n        this.address = address;\r\n      }\r\n   }\r\n```    \r\nI am getting list of address by calling other abstract methods which gets me address based on condition\r\n    \r\n    \r\n\r\n    mapToAddress(//some condition) //gets me permanent address employee\r\n    \r\n    mapTOAddress(//some condition) //gets me present address employee\r\n    \r\ni have object of Employee so i want to set this two address object to Employee using its setter method\r\n    \r\n        employee.setAddress(//what i need to write here to set the list of address objects to employee object);\r\n\r\nI need to set Address objects to Employee object using its setter method.please help me on this","title":"Setting list of child objects to parent object using it&#39;s setter method","body":"<p>I have Employee class like this</p>\n<pre><code>public class Employee{\n           private int id;\n           private List&lt;Address&gt;  address;\n    //getter\n      public List&lt;Address&gt; getAddress() {\n        return address;\n      }\n    //setter\n      public void setAddress(List&lt;Address&gt; address) {\n        this.address = address;\n      }\n   }\n</code></pre>\n<p>I am getting list of address by calling other abstract methods which gets me address based on condition</p>\n<pre><code>mapToAddress(//some condition) //gets me permanent address employee\n\nmapTOAddress(//some condition) //gets me present address employee\n</code></pre>\n<p>i have object of Employee so i want to set this two address object to Employee using its setter method</p>\n<pre><code>    employee.setAddress(//what i need to write here to set the list of address objects to employee object);\n</code></pre>\n<p>I need to set Address objects to Employee object using its setter method.please help me on this</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1697190212,"post_id":77286667,"comment_id":136251612,"body_markdown":"Two problems I see here: 1) I don&#39;t see the `@Entity` annotation being used anywhere, and 2) the `sharedField` field is boolean, so it makes no sense to compare it against a string literal.","body":"Two problems I see here: 1) I don&#39;t see the <code>@Entity</code> annotation being used anywhere, and 2) the <code>sharedField</code> field is boolean, so it makes no sense to compare it against a string literal."},{"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"score":0,"creation_date":1697193126,"post_id":77286667,"comment_id":136252126,"body_markdown":"Its pseudo code, everything is written well and i didnt actually copy code from my project i just described problem.","body":"Its pseudo code, everything is written well and i didnt actually copy code from my project i just described problem."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1697193288,"post_id":77286667,"comment_id":136252142,"body_markdown":"You will get help here for whatever code you post.  If your real code be something different, then you should have posted that.","body":"You will get help here for whatever code you post.  If your real code be something different, then you should have posted that."},{"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"score":0,"creation_date":1697195033,"post_id":77286667,"comment_id":136252454,"body_markdown":"Maybe instead of focusing on trivial things you should give some suggestion on real issue.","body":"Maybe instead of focusing on trivial things you should give some suggestion on real issue."}],"answers":[{"tags":[],"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697197862,"creation_date":1697197862,"answer_id":77287490,"question_id":77286667,"body_markdown":"@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = &#39;something&#39;)&quot;)","title":"Field from abstract class inside where clause","body":"<p>@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = 'something')&quot;)</p>\n"}],"owner":{"account_id":29663004,"reputation":1,"user_id":22734173,"display_name":"Igor Milovanovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697197862,"creation_date":1697189958,"question_id":77286667,"body_markdown":"Hello i have following entites:\r\n\r\n\r\n```\r\nabstract Entity A {\r\n\r\nlong id;\r\n\r\nboolean sharedField;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nEntity B extends A {\r\n\r\nstring specificField;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;id_c&quot;)\r\nprivate C c;\r\n    \r\n}\r\n```\r\n\r\n\r\n```\r\nEntity C {\r\n\r\nlong id;\r\n\r\n@OneToMany(mappedBy = &quot;c&quot;, cascade = CascadeType.ALL)\r\n@Where(clause = &quot;sharedField = &#39;something&#39;&quot;)\r\nprivate List&lt;B&gt; bList;\r\n\r\n}\r\n```\r\n\r\nSo from Hibernate i get **Unknown column &#39;b.shared_field&#39; in &#39;where clause&#39;**\r\n\r\nNote that i have table A in my DB with id and shared_field columns, and in table B i have id (same as one in table A), id_c and specific_field.\r\n\r\nIs there some way that i could indicate to Hibernate (trough Where clause or some other way) that i only want to have only those rows from B table that meet following criteria.\r\n\r\n\r\n\r\n\r\nI tried adding NamedQuery but that didnt work.\r\n------------------------------------------------------\r\n**UPDATE**\r\n\r\nIve manged to find the way. This is @Where clause i used:\r\n```\r\n@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = &#39;something&#39;)&quot;)\r\n```\r\n  ","title":"Field from abstract class inside where clause","body":"<p>Hello i have following entites:</p>\n<pre><code>abstract Entity A {\n\nlong id;\n\nboolean sharedField;\n\n}\n</code></pre>\n<pre><code>Entity B extends A {\n\nstring specificField;\n\n@ManyToOne\n@JoinColumn(name = &quot;id_c&quot;)\nprivate C c;\n    \n}\n</code></pre>\n<pre><code>Entity C {\n\nlong id;\n\n@OneToMany(mappedBy = &quot;c&quot;, cascade = CascadeType.ALL)\n@Where(clause = &quot;sharedField = 'something'&quot;)\nprivate List&lt;B&gt; bList;\n\n}\n</code></pre>\n<p>So from Hibernate i get <strong>Unknown column 'b.shared_field' in 'where clause'</strong></p>\n<p>Note that i have table A in my DB with id and shared_field columns, and in table B i have id (same as one in table A), id_c and specific_field.</p>\n<p>Is there some way that i could indicate to Hibernate (trough Where clause or some other way) that i only want to have only those rows from B table that meet following criteria.</p>\n<h2>I tried adding NamedQuery but that didnt work.</h2>\n<p><strong>UPDATE</strong></p>\n<p>Ive manged to find the way. This is @Where clause i used:</p>\n<pre><code>@Where(clause = &quot;id IN (SELECT a.id FROM A a WHERE a.id = id AND a.shared_field = 'something')&quot;)\n</code></pre>\n"},{"tags":["java","log4j","cxf","slf4j","jakarta-migration"],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697197468,"creation_date":1697197468,"answer_id":77287446,"question_id":77287370,"body_markdown":"You might want to use **%c** instead of *%c{2}*, as this pattern only shows the last 2 elements of the logger name.\r\n\r\nAfter the change the full class name will be displayed, something like **com.example.EmployeeAPIImpl**.\r\n\r\nGood Luck!","title":"Why Logger name prints incorrect class name &amp; How to customize that.?","body":"<p>You might want to use <strong>%c</strong> instead of <em>%c{2}</em>, as this pattern only shows the last 2 elements of the logger name.</p>\n<p>After the change the full class name will be displayed, something like <strong>com.example.EmployeeAPIImpl</strong>.</p>\n<p>Good Luck!</p>\n"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697197843,"creation_date":1697196317,"question_id":77287370,"body_markdown":"Here is my codes of LogUtils class. Which I used to format my log line. But it prints incorrect Class name in there. How to fix it.?\r\n\r\n\r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.apache.cxf.ext.logging.LoggingInInterceptor;\r\n    import org.apache.cxf.ext.logging.LoggingOutInterceptor;\r\n    import org.apache.cxf.ext.logging.event.LogEvent;\r\n    import org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender;\r\n    import org.apache.cxf.interceptor.Fault;\r\n    import org.apache.cxf.message.Message;\r\n    import org.apache.cxf.transport.http.AbstractHTTPDestination;\r\n    import org.slf4j.MDC;\r\n        public class LogUtils {\r\n        \r\n            private static final String TRACK_ID = &quot;TRACK_ID&quot;;\r\n        \r\n            public static void setLogTrackingId(Object aLogTrackingId) {\r\n                MDC.put(TRACK_ID, String.valueOf(aLogTrackingId));\r\n            }\r\n        \r\n            public static LoggingInInterceptor getLoggingInInterceptor() {\r\n                return new LoggingInInterceptor(getMsgSender()) {\r\n                    @Override\r\n                    public void handleMessage(Message message) throws Fault {\r\n                        HttpServletRequest request = (HttpServletRequest) message.get(AbstractHTTPDestination.HTTP_REQUEST);\r\n                        String logTrackingId = request.getHeader(Constants.SYS_USER_ID);\r\n                        if (StringUtils.isNotBlank(logTrackingId)) {\r\n                            setLogTrackingId(logTrackingId);\r\n                        } else {\r\n                            setLogTrackingId(String.valueOf(System.nanoTime()));\r\n                        }\r\n                        super.handleMessage(message);\r\n                    }\r\n                };\r\n            }\r\n        \r\n            private static Slf4jVerboseEventSender getMsgSender() {\r\n                return new Slf4jVerboseEventSender() {\r\n                    @Override\r\n                    protected String getLogMessage(LogEvent event) {\r\n                        event.setAddress(event.getAddress());\r\n                        event.setPayload(event.getPayload());\r\n                        return super.getLogMessage(event);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\nSo I&#39;m getting below log line in my console. but that EmployeeAPIImpl is not expected but it prints when invoke other API classes as well. (EG : when invoke departmentAPI or attendanceAPI)\r\n\r\n    01:943 INFO  xyz123456789-01 EmployeeAPIImpl.REQ_IN [HRMService-UBUNTU_PC] [123123123123] REQ_IN\r\n\r\nand here is the logger configurations on log4j\r\n\r\n    log4j.appender.A1.layout.ConversionPattern=%d{ss:SSS} %-5p %t %c{2} [%X{hrModuleName}_%X{hrModuleId}] [%X{TRACK_ID}] %m %n\r\n\r\nHow do I customize the Logger name from EmployeeAPIImpl to proper class name.?\r\n\r\n***EDIT*** When I tried with `%c` it will appear like below `org.apache.cxf.services.EmployeeApiImpl`\r\n\r\n- Thanks","title":"Why Logger name prints incorrect class name &amp; How to customize that.?","body":"<p>Here is my codes of LogUtils class. Which I used to format my log line. But it prints incorrect Class name in there. How to fix it.?</p>\n<pre><code>import org.apache.commons.lang.StringUtils;\nimport org.apache.cxf.ext.logging.LoggingInInterceptor;\nimport org.apache.cxf.ext.logging.LoggingOutInterceptor;\nimport org.apache.cxf.ext.logging.event.LogEvent;\nimport org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender;\nimport org.apache.cxf.interceptor.Fault;\nimport org.apache.cxf.message.Message;\nimport org.apache.cxf.transport.http.AbstractHTTPDestination;\nimport org.slf4j.MDC;\n    public class LogUtils {\n    \n        private static final String TRACK_ID = &quot;TRACK_ID&quot;;\n    \n        public static void setLogTrackingId(Object aLogTrackingId) {\n            MDC.put(TRACK_ID, String.valueOf(aLogTrackingId));\n        }\n    \n        public static LoggingInInterceptor getLoggingInInterceptor() {\n            return new LoggingInInterceptor(getMsgSender()) {\n                @Override\n                public void handleMessage(Message message) throws Fault {\n                    HttpServletRequest request = (HttpServletRequest) message.get(AbstractHTTPDestination.HTTP_REQUEST);\n                    String logTrackingId = request.getHeader(Constants.SYS_USER_ID);\n                    if (StringUtils.isNotBlank(logTrackingId)) {\n                        setLogTrackingId(logTrackingId);\n                    } else {\n                        setLogTrackingId(String.valueOf(System.nanoTime()));\n                    }\n                    super.handleMessage(message);\n                }\n            };\n        }\n    \n        private static Slf4jVerboseEventSender getMsgSender() {\n            return new Slf4jVerboseEventSender() {\n                @Override\n                protected String getLogMessage(LogEvent event) {\n                    event.setAddress(event.getAddress());\n                    event.setPayload(event.getPayload());\n                    return super.getLogMessage(event);\n                }\n            };\n        }\n    }\n</code></pre>\n<p>So I'm getting below log line in my console. but that EmployeeAPIImpl is not expected but it prints when invoke other API classes as well. (EG : when invoke departmentAPI or attendanceAPI)</p>\n<pre><code>01:943 INFO  xyz123456789-01 EmployeeAPIImpl.REQ_IN [HRMService-UBUNTU_PC] [123123123123] REQ_IN\n</code></pre>\n<p>and here is the logger configurations on log4j</p>\n<pre><code>log4j.appender.A1.layout.ConversionPattern=%d{ss:SSS} %-5p %t %c{2} [%X{hrModuleName}_%X{hrModuleId}] [%X{TRACK_ID}] %m %n\n</code></pre>\n<p>How do I customize the Logger name from EmployeeAPIImpl to proper class name.?</p>\n<p><em><strong>EDIT</strong></em> When I tried with <code>%c</code> it will appear like below <code>org.apache.cxf.services.EmployeeApiImpl</code></p>\n<ul>\n<li>Thanks</li>\n</ul>\n"},{"tags":["java","simulator","robotics"],"owner":{"account_id":29610989,"reputation":11,"user_id":22694257,"display_name":"Andres Masis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697197735,"creation_date":1697197735,"question_id":77287474,"body_markdown":"Hi I am trying to use the CoppeliaSim ZMQ Remote Api with Java: https://github.com/CoppeliaRobotics/zmq ... /main/java\r\n\r\nI followed all the necessary steps to set up the API. Set up the simStubsGen, the ZMQ plugin and the set ups necessary for the Java client. The setup should be alright because I already have a Python client working.\r\n\r\nBut I just used the Java client from the Coppelia repository, without making any changes. And when I try to run it, I always get this error.\r\n```\r\nPython was not found; run without arguments to install from the Microsoft Store, or disable this shortcut from Settings &gt; Manage App Execution Aliases.\r\n[ERROR] Command execution failed.\r\n```\r\n\r\nBesides, NetBeans identifies that there are more problems in the code.\r\nIn RemoteAPIClient.java, NetBeans identifies the following lines as errors:\r\n```\r\n80 this.send(req);\r\n81 this.recv();\r\n\r\n\r\n153 UnicodeString respFunc = (UnicodeString) rep.get(k_func);\r\n\r\n\r\n163 co.nstant.in.cbor.model.Array v_args = new co.nstant.in.cbor.model.Array();\r\n\r\n443 objs = new RemoteAPIObjects(this);\r\n\r\n453 RemoteAPIObjects objs = null;\r\n```\r\n\r\nThe last errors are because it is not recogniying RemoteAPIObjects as a data type (which is weird but I can solve). Also, there are other additional problems.\r\n\r\n\r\nAlso, in the class Example.java I still have the same problem in this line:\r\n```\r\n11 var sim = client.getObject().sim();\r\n\r\nBecause getObject() does not recogniye a method .sim()\r\n```\r\n\r\nAlso note that the class RemoteAPIObjects.java is full of Python wrappers that so far have not worked.\r\n\r\nCan someone please help me to make this Java client work.\r\n\r\nThanks.\r\n\r\n\r\n\r\n","title":"CoppeliaSim ZMQ Remote API Java client example not working","body":"<p>Hi I am trying to use the CoppeliaSim ZMQ Remote Api with Java: <a href=\"https://github.com/CoppeliaRobotics/zmq\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/zmq</a> ... /main/java</p>\n<p>I followed all the necessary steps to set up the API. Set up the simStubsGen, the ZMQ plugin and the set ups necessary for the Java client. The setup should be alright because I already have a Python client working.</p>\n<p>But I just used the Java client from the Coppelia repository, without making any changes. And when I try to run it, I always get this error.</p>\n<pre><code>Python was not found; run without arguments to install from the Microsoft Store, or disable this shortcut from Settings &gt; Manage App Execution Aliases.\n[ERROR] Command execution failed.\n</code></pre>\n<p>Besides, NetBeans identifies that there are more problems in the code.\nIn RemoteAPIClient.java, NetBeans identifies the following lines as errors:</p>\n<pre><code>80 this.send(req);\n81 this.recv();\n\n\n153 UnicodeString respFunc = (UnicodeString) rep.get(k_func);\n\n\n163 co.nstant.in.cbor.model.Array v_args = new co.nstant.in.cbor.model.Array();\n\n443 objs = new RemoteAPIObjects(this);\n\n453 RemoteAPIObjects objs = null;\n</code></pre>\n<p>The last errors are because it is not recogniying RemoteAPIObjects as a data type (which is weird but I can solve). Also, there are other additional problems.</p>\n<p>Also, in the class Example.java I still have the same problem in this line:</p>\n<pre><code>11 var sim = client.getObject().sim();\n\nBecause getObject() does not recogniye a method .sim()\n</code></pre>\n<p>Also note that the class RemoteAPIObjects.java is full of Python wrappers that so far have not worked.</p>\n<p>Can someone please help me to make this Java client work.</p>\n<p>Thanks.</p>\n"},{"tags":["java","authentication","httpurlconnection","request-headers"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696592598,"post_id":77244124,"comment_id":136176316,"body_markdown":"I don&#39;t know what Fidel is, but perhaps it has produced some logs explaining the status? Perhaps the response contains an explanation?","body":"I don&#39;t know what Fidel is, but perhaps it has produced some logs explaining the status? Perhaps the response contains an explanation?"},{"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"score":0,"creation_date":1696596469,"post_id":77244124,"comment_id":136177075,"body_markdown":"No there is no specific detail in the response and we don&#39;t have access to the logs. the same request with same key is successful in postman, but in java it fails. so I was wondering if there is any issue with the code.","body":"No there is no specific detail in the response and we don&#39;t have access to the logs. the same request with same key is successful in postman, but in java it fails. so I was wondering if there is any issue with the code."}],"answers":[{"tags":[],"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697197158,"creation_date":1697120732,"answer_id":77281470,"question_id":77244124,"body_markdown":"This was happening because I was not sending one of the fields in request body, didn&#39;t notice that earlier.","title":"Fidel API giving 401 when calling from java code","body":"<p>This was happening because I was not sending one of the fields in request body, didn't notice that earlier.</p>\n"}],"owner":{"account_id":29602689,"reputation":1,"user_id":22687747,"display_name":"Ankita Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697197158,"creation_date":1696592248,"question_id":77244124,"body_markdown":"I am trying to call Fidel&#39;s APIs from my java code, this API needs just a key for authentication that we need to pass in headers. \r\nwhen I hit the API from postman it works. but from my java code, it throws 401.\r\n\r\n\r\nhere is postman call:\r\n[enter image description here](https://i.stack.imgur.com/XCnNq.png)\r\n\r\nand this is my java code:\r\n\r\n    URL url = new URL(environment.getBaseUrl() + &quot;offers&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Fidel-Key&quot;, &quot;my-secret-key-here&quot;);\r\n        con.setDoOutput(true);\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        String json = ow.writeValueAsString(fidelCreateOfferRequest);\r\n\r\n        try (OutputStream os = con.getOutputStream()) {\r\n            byte[] input = json.getBytes(StandardCharsets.UTF_8);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n        int status = con.getResponseCode();\r\n        System.out.println(&quot;Http Status: &quot; + status);\r\n\r\n        BufferedReader in;\r\n        if (status == 200) {\r\n            in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        } else {\r\n            in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\r\n            System.out.println(&quot;cannot create offer. failed with status: &quot; + status);\r\n        }\r\n","title":"Fidel API giving 401 when calling from java code","body":"<p>I am trying to call Fidel's APIs from my java code, this API needs just a key for authentication that we need to pass in headers.\nwhen I hit the API from postman it works. but from my java code, it throws 401.</p>\n<p>here is postman call:\n<a href=\"https://i.stack.imgur.com/XCnNq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is my java code:</p>\n<pre><code>URL url = new URL(environment.getBaseUrl() + &quot;offers&quot;);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;POST&quot;);\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n    con.setRequestProperty(&quot;Fidel-Key&quot;, &quot;my-secret-key-here&quot;);\n    con.setDoOutput(true);\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    String json = ow.writeValueAsString(fidelCreateOfferRequest);\n\n    try (OutputStream os = con.getOutputStream()) {\n        byte[] input = json.getBytes(StandardCharsets.UTF_8);\n        os.write(input, 0, input.length);\n    }\n\n    int status = con.getResponseCode();\n    System.out.println(&quot;Http Status: &quot; + status);\n\n    BufferedReader in;\n    if (status == 200) {\n        in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n    } else {\n        in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\n        System.out.println(&quot;cannot create offer. failed with status: &quot; + status);\n    }\n</code></pre>\n"},{"tags":["java","android","database","android-asynctask","local-database"],"comments":[{"owner":{"account_id":11973189,"reputation":737,"user_id":8761120,"display_name":"Erselan Khan"},"score":0,"creation_date":1697405651,"post_id":77285412,"comment_id":136272573,"body_markdown":"Kindly share this class and Database Manager class","body":"Kindly share this class and Database Manager class"},{"owner":{"account_id":29661519,"reputation":1,"user_id":22732967,"display_name":"Shreyas Balar"},"score":0,"creation_date":1697716535,"post_id":77285412,"comment_id":136316362,"body_markdown":"@ErselanKhan I am inserting all data in bulk insert [Code image](https://ibb.co/sqWkPB0) and [Update Image](https://ibb.co/LxHCB70)","body":"@ErselanKhan I am inserting all data in bulk insert <a href=\"https://ibb.co/sqWkPB0\" rel=\"nofollow noreferrer\">Code image</a> and <a href=\"https://ibb.co/LxHCB70\" rel=\"nofollow noreferrer\">Update Image</a>"}],"owner":{"account_id":29661519,"reputation":1,"user_id":22732967,"display_name":"Shreyas Balar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697196692,"creation_date":1697177124,"question_id":77285412,"body_markdown":"I have one query regarding the local database.\r\nAs my system works, when the user logs in for the first time in the application that time in the dashboard we get an API call for getting data. But in this case, our API call response is so much bigger like response size is something like 3 to 4 MB and response line like 15K+, And we are storing this all data in our local database. But sometimes it takes an ANR error when we are storing data in the database. Our data is stored in the background using a broadcast receiver and we insert data using an async task we use the bulk insert for insert data so we store all data at the same time. We are also using an executor for a background process.\r\n\r\n\r\n![image](https://i.stack.imgur.com/18CoG.png)\r\n\r\n\r\nThis issue only occurs when data is taking more time to load data in the database.\r\nwhat can I use for this fix?\r\nis there any way to change the default ANR timing?","title":"ANR Genrated : Local Database data load is not working properly in android","body":"<p>I have one query regarding the local database.\nAs my system works, when the user logs in for the first time in the application that time in the dashboard we get an API call for getting data. But in this case, our API call response is so much bigger like response size is something like 3 to 4 MB and response line like 15K+, And we are storing this all data in our local database. But sometimes it takes an ANR error when we are storing data in the database. Our data is stored in the background using a broadcast receiver and we insert data using an async task we use the bulk insert for insert data so we store all data at the same time. We are also using an executor for a background process.</p>\n<p><img src=\"https://i.stack.imgur.com/18CoG.png\" alt=\"image\" /></p>\n<p>This issue only occurs when data is taking more time to load data in the database.\nwhat can I use for this fix?\nis there any way to change the default ANR timing?</p>\n"},{"tags":["java","smartcard","javacard","apdu","jcop"],"owner":{"account_id":18686983,"reputation":23,"user_id":13686027,"display_name":"Billie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697195906,"creation_date":1697195906,"question_id":77287331,"body_markdown":"My development environment:\r\n\r\n 1. I downloaded an example for APDU I/O API: https://github.com/RimGazzeh/JavaCard_Wallet.git\r\n 2. Eclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2023-09 (4.29.0)\r\nBuild id: 20230907-1323\r\nOS: Windows 10, v.10.0, x86_64 / win32\r\nJava vendor: Eclipse Adoptium\r\nJava runtime version: 17.0.8.1+1\r\nJava version: 17.0.8.1\r\n 3. Java Card Development Kit Simulator 3.1.0\r\n 4. Java Card Development Kit Tools 3.1.0\r\n\r\nThis is the issue that I have:\r\n\r\nIf I check &quot;Do not open APDU console&quot;\r\n[![enter image description here][1]][1]\r\nthen I get the error message\r\n\r\n&gt; Exception in thread &quot;main&quot; 0xffffff82 \tat\r\n&gt; com.sun.javacard.apduio.ClientT1Protocol.exchangeApdu(ClientT1Protocol.java:55)\r\n&gt; \tat\r\n&gt; com.sun.javacard.apduio.CadT1Client.exchangeApdu(CadT1Client.java:33)\r\n&gt; \tat monpackageclient.MyClient.Select(MyClient.java:61) \tat\r\n&gt; monpackageclient.RunClient.main(RunClient.java:17)\r\n\r\n\r\nIf I uncheck &quot;Do not open APDU console&quot; then the Client is hanging on powerUp().\r\n\r\nI started in both scenarios the Eclipse Simulator manually. But in the second scenario I also run the scripts: cap-monpackage.script (I commented the line //powerdown; out) and afterwards the script create-monpackage.monpackage.MyServer.script.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3GlL.png","title":"Java Card Eclipse Plug-in: APDU I/O API is hanging on powerUp()","body":"<p>My development environment:</p>\n<ol>\n<li>I downloaded an example for APDU I/O API: <a href=\"https://github.com/RimGazzeh/JavaCard_Wallet.git\" rel=\"nofollow noreferrer\">https://github.com/RimGazzeh/JavaCard_Wallet.git</a></li>\n<li>Eclipse IDE for Java Developers (includes Incubating components)\nVersion: 2023-09 (4.29.0)\nBuild id: 20230907-1323\nOS: Windows 10, v.10.0, x86_64 / win32\nJava vendor: Eclipse Adoptium\nJava runtime version: 17.0.8.1+1\nJava version: 17.0.8.1</li>\n<li>Java Card Development Kit Simulator 3.1.0</li>\n<li>Java Card Development Kit Tools 3.1.0</li>\n</ol>\n<p>This is the issue that I have:</p>\n<p>If I check &quot;Do not open APDU console&quot;\n<a href=\"https://i.stack.imgur.com/F3GlL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3GlL.png\" alt=\"enter image description here\" /></a>\nthen I get the error message</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; 0xffffff82     at\ncom.sun.javacard.apduio.ClientT1Protocol.exchangeApdu(ClientT1Protocol.java:55)\nat\ncom.sun.javacard.apduio.CadT1Client.exchangeApdu(CadT1Client.java:33)\nat monpackageclient.MyClient.Select(MyClient.java:61)   at\nmonpackageclient.RunClient.main(RunClient.java:17)</p>\n</blockquote>\n<p>If I uncheck &quot;Do not open APDU console&quot; then the Client is hanging on powerUp().</p>\n<p>I started in both scenarios the Eclipse Simulator manually. But in the second scenario I also run the scripts: cap-monpackage.script (I commented the line //powerdown; out) and afterwards the script create-monpackage.monpackage.MyServer.script.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"D"},"score":0,"creation_date":1697199197,"post_id":77287221,"comment_id":136253174,"body_markdown":"Why don&#39;t you use vectors?","body":"Why don&#39;t you use vectors?"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"D"},"score":0,"creation_date":1697199750,"post_id":77287221,"comment_id":136253277,"body_markdown":"You can do it using Layer-List. [Question Link](https://stackoverflow.com/questions/43474854/custom-shape-using-layerlist-in-xml-android)","body":"You can do it using Layer-List. <a href=\"https://stackoverflow.com/questions/43474854/custom-shape-using-layerlist-in-xml-android\">Question Link</a>"}],"answers":[{"tags":[],"owner":{"account_id":14967827,"reputation":143,"user_id":10805570,"display_name":"Zibran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1697195606,"creation_date":1697195606,"answer_id":77287290,"question_id":77287221,"body_markdown":"Yes, you can create this using XML in Android. Heres an example of how you can do it:\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/your_image&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 1&quot;\r\n            android:layout_centerInParent=&quot;true&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 2&quot;\r\n            android:layout_below=&quot;@id/button1&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nIn this example, `RelativeLayout` is used as the parent layout. Inside this layout, an ImageView is defined that covers the entire area of the layout. Then, two Button views are defined. \r\n&gt; The first button (button1) is centered in the parent layout, and the second button (button2) is positioned below the first button.\r\n\r\nPlease replace `&quot;@drawable/your_image&quot;` with your actual image resource.\r\n\r\nRemember to define the buttons actions in your Java or Kotlin code!","title":"How can I create button shape","body":"<p>Yes, you can create this using XML in Android. Heres an example of how you can do it:</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:src=&quot;@drawable/your_image&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button 1&quot;\n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button 2&quot;\n        android:layout_below=&quot;@id/button1&quot;\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>In this example, <code>RelativeLayout</code> is used as the parent layout. Inside this layout, an ImageView is defined that covers the entire area of the layout. Then, two Button views are defined.</p>\n<blockquote>\n<p>The first button (button1) is centered in the parent layout, and the second button (button2) is positioned below the first button.</p>\n</blockquote>\n<p>Please replace <code>&quot;@drawable/your_image&quot;</code> with your actual image resource.</p>\n<p>Remember to define the buttons actions in your Java or Kotlin code!</p>\n"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77287290,"answer_count":1,"score":0,"last_activity_date":1697195884,"creation_date":1697194966,"question_id":77287221,"body_markdown":"I need to create two buttons on an image that completely covers the image, as in the example. How can I create this? Is there a chance to create it with XML?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXNUn.png","title":"How can I create button shape","body":"<p>I need to create two buttons on an image that completely covers the image, as in the example. How can I create this? Is there a chance to create it with XML?</p>\n<p><a href=\"https://i.stack.imgur.com/BXNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXNUn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692199034,"creation_date":1692199034,"answer_id":76914959,"question_id":76910407,"body_markdown":"This should give you the current span&#39;s trace id:\r\n\r\n```\r\nimport io.opentelemetry.api.trace.Span\r\n\r\nSpan.current().getSpanContext().getTraceId()\r\n```\r\n\r\n","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>This should give you the current span's trace id:</p>\n<pre><code>import io.opentelemetry.api.trace.Span\n\nSpan.current().getSpanContext().getTraceId()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7507459,"reputation":26,"user_id":5703545,"display_name":"jaydeluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697195637,"creation_date":1697195637,"answer_id":77287300,"question_id":76910407,"body_markdown":"Depending on whether this is something you&#39;d want included in all logs, you could add different trace details from the MDC to log lines via springboot config:\r\n\r\n    \r\n\r\n&gt; logging.pattern.level = trace_id=%mdc{trace_id} span_id=%mdc{span_id}\r\n&gt; trace_flags=%mdc{trace_flags} %5p\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>Depending on whether this is something you'd want included in all logs, you could add different trace details from the MDC to log lines via springboot config:</p>\n<blockquote>\n<p>logging.pattern.level = trace_id=%mdc{trace_id} span_id=%mdc{span_id}\ntrace_flags=%mdc{trace_flags} %5p</p>\n</blockquote>\n<p><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":24469674,"reputation":21,"user_id":18389598,"display_name":"zhengziyi0117"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697195637,"creation_date":1692157618,"question_id":76910407,"body_markdown":"I want to return the traceId when the user reports an error in my springboot project, so that I can troubleshoot the error, but I use the javaagent of opentelemetry, and I haven&#39;t found a way to get the traceId in my project. So is there a way to get this traceId in my global exception handler?\r\n\r\nI hope to be able to get the traceId inside my project and return the traceId to the user when an exception is thrown","title":"How to use the java agent of opentelemetry to actively obtain traceId","body":"<p>I want to return the traceId when the user reports an error in my springboot project, so that I can troubleshoot the error, but I use the javaagent of opentelemetry, and I haven't found a way to get the traceId in my project. So is there a way to get this traceId in my global exception handler?</p>\n<p>I hope to be able to get the traceId inside my project and return the traceId to the user when an exception is thrown</p>\n"},{"tags":["java","httpclient","httpconnection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686654461,"post_id":76464211,"comment_id":134825685,"body_markdown":"https://stackoverflow.com/questions/53617574/how-to-keep-connection-alive-in-java-11-http-client may help","body":"<a href=\"https://stackoverflow.com/questions/53617574/how-to-keep-connection-alive-in-java-11-http-client\" title=\"how to keep connection alive in java 11 http client\">stackoverflow.com/questions/53617574/&hellip;</a> may help"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1686654504,"post_id":76464211,"comment_id":134825692,"body_markdown":"But why do you think this is important?","body":"But why do you think this is important?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1686654725,"post_id":76464211,"comment_id":134825736,"body_markdown":"1. Provided link doesn&#39;t help as it answers different question (although I still got some information from that post.. so, thanks); 2. Because, as I said, I want to make sure previously allocated ports/resources get released.. leaving connection, in the connection pool, by default for 20 minutes and having no way to close connection is beyond crazy.","body":"1. Provided link doesn&#39;t help as it answers different question (although I still got some information from that post.. so, thanks); 2. Because, as I said, I want to make sure previously allocated ports/resources get released.. leaving connection, in the connection pool, by default for 20 minutes and having no way to close connection is beyond crazy."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1686655477,"post_id":76464211,"comment_id":134825926,"body_markdown":"[HttpResponse.BodySubscriber](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html) talks about closing underlying connections, but there doesn&#39;t seem to be any way of explicitly doing so for now, as stated with the Holger&#39;s answer.","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html\" rel=\"nofollow noreferrer\">HttpResponse.BodySubscriber</a> talks about closing underlying connections, but there doesn&#39;t seem to be any way of explicitly doing so for now, as stated with the Holger&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1686655218,"creation_date":1686655218,"answer_id":76464391,"question_id":76464211,"body_markdown":"This is indeed a missing feature and youll have to wait for Java&#160;21 to be able to close `HttpClient` explicitly.\r\n\r\nSee bug report [JDK-8304165], Support closing the HttpClient by making it auto-closable:\r\n\r\n&gt; Make the `java.net.http.HttpClient` implement `AutoCloseable` in order to make it possible to reclaim its resources early (selector, idle connections sitting in pools, etc...) rather than having to wait for GC to garbage collect it.\r\n\r\nIt has the status Approved and Fix Version 21. You can also verify with the [early access documentation of `HttpClient`] which shows that it now implements `AutoCloseable` and therefore has a [`close` method] which also says Since: 21.\r\n\r\n[early access documentation of `HttpClient`]: https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html\r\n[JDK-8304165]: https://bugs.openjdk.org/browse/JDK-8304165\r\n[`close` method]: https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html#close()","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>This is indeed a missing feature and youll have to wait for Java21 to be able to close <code>HttpClient</code> explicitly.</p>\n<p>See bug report <a href=\"https://bugs.openjdk.org/browse/JDK-8304165\" rel=\"noreferrer\">JDK-8304165</a>, Support closing the HttpClient by making it auto-closable:</p>\n<blockquote>\n<p>Make the <code>java.net.http.HttpClient</code> implement <code>AutoCloseable</code> in order to make it possible to reclaim its resources early (selector, idle connections sitting in pools, etc...) rather than having to wait for GC to garbage collect it.</p>\n</blockquote>\n<p>It has the status Approved and Fix Version 21. You can also verify with the <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\">early access documentation of <code>HttpClient</code></a> which shows that it now implements <code>AutoCloseable</code> and therefore has a <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.net.http/java/net/http/HttpClient.html#close()\" rel=\"noreferrer\"><code>close</code> method</a> which also says Since: 21.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697195368,"creation_date":1697194918,"answer_id":77287210,"question_id":76464211,"body_markdown":"Finally, since the Java 21 LTS, the `java.net.http.HttpClient` is now `AutoCloseable`, and the [following methods have been added](https://www.oracle.com/java/technologies/javase/21all-relnotes.html#JDK-8267140) to the API:\r\n- `void close()` - closes the client gracefully, waiting for submitted requests to complete;\r\n- `void shutdown()` - initiates a graceful shutdown, then returns immediately without waiting for the client to terminate;\r\n- `void shutdownNow()` - initiates an immediate shutdown, trying to interrupt active operations, and returns immediately without waiting for the client to terminate;\r\n- `boolean awaitTermination(Duration duration)` - waits for the client to terminate, within the given duration; returns true if the client is terminated, false otherwise;\r\n- `boolean isTerminated()` - returns true if the client is terminated.\r\n\r\n---\r\n\r\nTwo additional notes:\r\n\r\n1. The instances returned by `HttpClient.newHttpClient()`, and the instances built from `HttpClient.newBuilder()`, provide a best effort implementation for these methods. They allow the reclamation of resources allocated by the `HttpClient` early, without waiting for its garbage collection;\r\n2. An `HttpClient` instance typically manages its own pools of connections, which it may then reuse when necessary. Connection pools are typically not shared between `HttpClient` instances. Creating a new client for each operation, though possible, will usually prevent reusing such connections.","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>Finally, since the Java 21 LTS, the <code>java.net.http.HttpClient</code> is now <code>AutoCloseable</code>, and the <a href=\"https://www.oracle.com/java/technologies/javase/21all-relnotes.html#JDK-8267140\" rel=\"nofollow noreferrer\">following methods have been added</a> to the API:</p>\n<ul>\n<li><code>void close()</code> - closes the client gracefully, waiting for submitted requests to complete;</li>\n<li><code>void shutdown()</code> - initiates a graceful shutdown, then returns immediately without waiting for the client to terminate;</li>\n<li><code>void shutdownNow()</code> - initiates an immediate shutdown, trying to interrupt active operations, and returns immediately without waiting for the client to terminate;</li>\n<li><code>boolean awaitTermination(Duration duration)</code> - waits for the client to terminate, within the given duration; returns true if the client is terminated, false otherwise;</li>\n<li><code>boolean isTerminated()</code> - returns true if the client is terminated.</li>\n</ul>\n<hr />\n<p>Two additional notes:</p>\n<ol>\n<li>The instances returned by <code>HttpClient.newHttpClient()</code>, and the instances built from <code>HttpClient.newBuilder()</code>, provide a best effort implementation for these methods. They allow the reclamation of resources allocated by the <code>HttpClient</code> early, without waiting for its garbage collection;</li>\n<li>An <code>HttpClient</code> instance typically manages its own pools of connections, which it may then reuse when necessary. Connection pools are typically not shared between <code>HttpClient</code> instances. Creating a new client for each operation, though possible, will usually prevent reusing such connections.</li>\n</ol>\n"}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77287210,"answer_count":2,"score":4,"last_activity_date":1697195368,"creation_date":1686653982,"question_id":76464211,"body_markdown":"I want to use so called &quot;new HttpClient since Java 11&quot; `java.net.http.HttpClient`.\r\n\r\nTo me, it is *very important* to make sure that the TCP connection gets closed after an HTTP roundtrip completes, so that corresponding port gets released and resources - deallocated.\r\n\r\nThere is no `.close()` or `.disconnect()` or something like that available on the [API](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html).\r\n\r\nIt is very weird not to have a possibility to close the connection, and it is also weird why the expected behaviour (*what is happening? is the connection getting closed automatically? when? how?*) is never documented anywhere, including [Introduction to the Java HTTP Client\r\n](https://openjdk.org/groups/net/httpclient/intro.html) and [Examples and Recipes\r\n](https://openjdk.org/groups/net/httpclient/intro.html).\r\n\r\nAny tips?","title":"How to close HttpClient? Why there is no .close() method in the API?","body":"<p>I want to use so called &quot;new HttpClient since Java 11&quot; <code>java.net.http.HttpClient</code>.</p>\n<p>To me, it is <em>very important</em> to make sure that the TCP connection gets closed after an HTTP roundtrip completes, so that corresponding port gets released and resources - deallocated.</p>\n<p>There is no <code>.close()</code> or <code>.disconnect()</code> or something like that available on the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n<p>It is very weird not to have a possibility to close the connection, and it is also weird why the expected behaviour (<em>what is happening? is the connection getting closed automatically? when? how?</em>) is never documented anywhere, including <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">Introduction to the Java HTTP Client\n</a> and <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">Examples and Recipes\n</a>.</p>\n<p>Any tips?</p>\n"},{"tags":["java","spring-boot","jpa","projection"],"owner":{"account_id":28849734,"reputation":1,"user_id":22095886,"display_name":"Nha Phan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697195364,"creation_date":1697195311,"question_id":77287263,"body_markdown":"I have 2 entities: Book and Country\r\n```\r\n@Entity\r\npublic class Book {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String author;\r\n    private String mdmName;\r\n}\r\n\r\n@Entity\r\npublic class Country {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String mdmName;\r\n}\r\n\r\n\r\npublic interface BookCountry {\r\n    Book getBook();\r\n    String getCountryName();\r\n}\r\n```\r\n\r\nThere is no relation between them. I fetch a list of books and name and country of the book\r\n```\r\n@Query(&quot;select book, c.name from Book book join Country c on c.mdmName = book.mdmName&quot;)\r\nList&lt;BookCountry&gt; findBookAndCountryName();\r\n```\r\n\r\n\r\nI want to create an interface project to fetch the List of books and the name of the country, when I get the book from the query it returns null. How do we get the Book from an interface projection?","title":"Interface injection with an entity","body":"<p>I have 2 entities: Book and Country</p>\n<pre><code>@Entity\npublic class Book {\n    @Id\n    private Long id;\n    private String name;\n    private String author;\n    private String mdmName;\n}\n\n@Entity\npublic class Country {\n    @Id\n    private Long id;\n    private String name;\n    private String mdmName;\n}\n\n\npublic interface BookCountry {\n    Book getBook();\n    String getCountryName();\n}\n</code></pre>\n<p>There is no relation between them. I fetch a list of books and name and country of the book</p>\n<pre><code>@Query(&quot;select book, c.name from Book book join Country c on c.mdmName = book.mdmName&quot;)\nList&lt;BookCountry&gt; findBookAndCountryName();\n</code></pre>\n<p>I want to create an interface project to fetch the List of books and the name of the country, when I get the book from the query it returns null. How do we get the Book from an interface projection?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1669626102,"post_id":34088780,"comment_id":131676320,"body_markdown":"In main class add method: `@Bean\n    public CommandLineRunner run(ApplicationContext appContext) {\n        return args -&gt; {\n\n            String[] beans = appContext.getBeanDefinitionNames();\n            Arrays.stream(beans).sorted().forEach(System.out::println);\n\n        };\n    }` [how-to-display-all-beans-loaded-by-spring-boot/](https://mkyong.com/spring-boot/how-to-display-all-beans-loaded-by-spring-boot/)","body":"In main class add method: <code>@Bean     public CommandLineRunner run(ApplicationContext appContext) {         return args -&gt; {              String[] beans = appContext.getBeanDefinitionNames();             Arrays.stream(beans).sorted().forEach(System.out::println);          };     }</code> <a href=\"https://mkyong.com/spring-boot/how-to-display-all-beans-loaded-by-spring-boot/\" rel=\"nofollow noreferrer\">how-to-display-all-beans-loaded-by-spring-boot/</a>"}],"answers":[{"tags":[],"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"down_vote_count":2,"up_vote_count":136,"is_accepted":false,"score":134,"last_activity_date":1449235016,"creation_date":1449235016,"answer_id":34089279,"question_id":34088780,"body_markdown":"You can Autowire the ApplicationContext, either as a field\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\nor a method\r\n\r\n    @Autowired\r\n    public void context(ApplicationContext context) { this.context = context; }\r\n\r\nFinally use\r\n\r\n    context.getBean(SomeClass.class)","title":"How to get bean using application context in spring boot","body":"<p>You can Autowire the ApplicationContext, either as a field</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n</code></pre>\n\n<p>or a method</p>\n\n<pre><code>@Autowired\npublic void context(ApplicationContext context) { this.context = context; }\n</code></pre>\n\n<p>Finally use</p>\n\n<pre><code>context.getBean(SomeClass.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449268978,"creation_date":1449268978,"answer_id":34098726,"question_id":34088780,"body_markdown":"If you are inside of Spring bean (in this case `@Controller` bean) you shouldn&#39;t use Spring context instance at all. Just autowire `className` bean directly.\r\n\r\nBTW, avoid using field injection as it&#39;s considered as bad practice.","title":"How to get bean using application context in spring boot","body":"<p>If you are inside of Spring bean (in this case <code>@Controller</code> bean) you shouldn't use Spring context instance at all. Just autowire <code>className</code> bean directly.</p>\n\n<p>BTW, avoid using field injection as it's considered as bad practice.</p>\n"},{"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1531248816,"creation_date":1468008878,"answer_id":38274721,"question_id":34088780,"body_markdown":"You can use **ApplicationContextAware**.\n\n\n\n&gt; **ApplicationContextAware**:\n&gt;\n&gt; Interface to be implemented by any object that wishes to be notified\n&gt; of the ApplicationContext that it runs in. Implementing this interface\n&gt; makes sense for example when an object requires access to a set of\n&gt; collaborating beans.\n\n\n\nThere are a few methods for obtaining a reference to the application context. You can implement ApplicationContextAware as in the following example:\n \n\n    package hello;\n\n    import org.springframework.beans.BeansException;\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.ApplicationContextAware;\n     \n    @Component\n    public class ApplicationContextProvider implements ApplicationContextAware {\n    \n        private ApplicationContext applicationContext;\n    \n        @Override\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n            this.applicationContext = applicationContext;\n        } \n\n     public ApplicationContext getContext() {\n            return applicationContext;\n        }\n        \n    }\n\n**Update:**\n\nWhen **Spring instantiates beans**, it looks for **ApplicationContextAware** implementations, If they are found, the setApplicationContext() methods will be invoked. \n\nIn this way, Spring is setting **current** applicationcontext.\n\nCode snippet from Spring&#39;s `source code`:\n\n    private void invokeAwareInterfaces(Object bean) {\n            .....\n            .....\n     if (bean instanceof ApplicationContextAware) {                \n      ((ApplicationContextAware)bean).setApplicationContext(this.applicationContext);\n       }\n    }\n\nOnce you get the reference to Application context, you get fetch the bean whichever you want by using getBean().\n\n\n","title":"How to get bean using application context in spring boot","body":"<p>You can use <strong>ApplicationContextAware</strong>.</p>\n<blockquote>\n<p><strong>ApplicationContextAware</strong>:</p>\n<p>Interface to be implemented by any object that wishes to be notified\nof the ApplicationContext that it runs in. Implementing this interface\nmakes sense for example when an object requires access to a set of\ncollaborating beans.</p>\n</blockquote>\n<p>There are a few methods for obtaining a reference to the application context. You can implement ApplicationContextAware as in the following example:</p>\n<pre><code>package hello;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n \n@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    } \n\n public ApplicationContext getContext() {\n        return applicationContext;\n    }\n    \n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>When <strong>Spring instantiates beans</strong>, it looks for <strong>ApplicationContextAware</strong> implementations, If they are found, the setApplicationContext() methods will be invoked.</p>\n<p>In this way, Spring is setting <strong>current</strong> applicationcontext.</p>\n<p>Code snippet from Spring's <code>source code</code>:</p>\n<pre><code>private void invokeAwareInterfaces(Object bean) {\n        .....\n        .....\n if (bean instanceof ApplicationContextAware) {                \n  ((ApplicationContextAware)bean).setApplicationContext(this.applicationContext);\n   }\n}\n</code></pre>\n<p>Once you get the reference to Application context, you get fetch the bean whichever you want by using getBean().</p>\n"},{"tags":[],"owner":{"account_id":6671819,"reputation":279,"user_id":5147741,"display_name":"Debendra Parida"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1548240206,"creation_date":1494329620,"answer_id":43868712,"question_id":34088780,"body_markdown":"actually you want to get the object from the Spring engine, where the engine already maintaining the object of your required class at that starting of the spring application(Initialization of the Spring engine).Now the thing is you just have to get that object to a reference.\r\n\r\nin a service class\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    SomeClass sc = (SomeClass)context.getBean(SomeClass.class);\r\n\r\nnow in the reference of the sc you are having the object.\r\nHope explained well. If any doubt please let me know.\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>actually you want to get the object from the Spring engine, where the engine already maintaining the object of your required class at that starting of the spring application(Initialization of the Spring engine).Now the thing is you just have to get that object to a reference.</p>\n\n<p>in a service class</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n\nSomeClass sc = (SomeClass)context.getBean(SomeClass.class);\n</code></pre>\n\n<p>now in the reference of the sc you are having the object.\nHope explained well. If any doubt please let me know.</p>\n"},{"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1538388573,"creation_date":1538388573,"answer_id":52588840,"question_id":34088780,"body_markdown":"You can use ServiceLocatorFactoryBean. First you need to create an interface for your class\r\n\r\n    public interface YourClassFactory {\r\n        YourClass getClassByName(String name);\r\n    }\r\nThen you have to create a config file for ServiceLocatorBean\r\n\r\n    @Configuration\r\n    @Component\r\n    public class ServiceLocatorFactoryBeanConfig {\r\n    \r\n        @Bean\r\n        public ServiceLocatorFactoryBean serviceLocatorBean(){\r\n            ServiceLocatorFactoryBean bean = new ServiceLocatorFactoryBean();\r\n            bean.setServiceLocatorInterface(YourClassFactory.class);\r\n            return bean;\r\n        }\r\n    }\r\n\r\nNow you can find your class by name like that\r\n\r\n    @Autowired\r\n    private YourClassfactory factory;\r\n    \r\n    YourClass getYourClass(String name){\r\n        return factory.getClassByName(name);\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>You can use ServiceLocatorFactoryBean. First you need to create an interface for your class</p>\n\n<pre><code>public interface YourClassFactory {\n    YourClass getClassByName(String name);\n}\n</code></pre>\n\n<p>Then you have to create a config file for ServiceLocatorBean</p>\n\n<pre><code>@Configuration\n@Component\npublic class ServiceLocatorFactoryBeanConfig {\n\n    @Bean\n    public ServiceLocatorFactoryBean serviceLocatorBean(){\n        ServiceLocatorFactoryBean bean = new ServiceLocatorFactoryBean();\n        bean.setServiceLocatorInterface(YourClassFactory.class);\n        return bean;\n    }\n}\n</code></pre>\n\n<p>Now you can find your class by name like that</p>\n\n<pre><code>@Autowired\nprivate YourClassfactory factory;\n\nYourClass getYourClass(String name){\n    return factory.getClassByName(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558706195,"creation_date":1558706195,"answer_id":56294151,"question_id":34088780,"body_markdown":"You can use the ApplicationContextAware class that can provide the application context.\r\n```\r\npublic class ApplicationContextProvider implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext ctx = null;\r\n\r\n    public static ApplicationContext getApplicationContext() {\r\n        return ctx;\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext ctx) throws BeansException {\r\n        ApplicationContextProvider.ctx = ctx;\r\n    }\r\n\r\n    /**\r\n     * Tries to autowire the specified instance of the class if one of the specified\r\n     * beans which need to be autowired are null.\r\n     *\r\n     * @param classToAutowire        the instance of the class which holds @Autowire\r\n     *                               annotations\r\n     * @param beansToAutowireInClass the beans which have the @Autowire annotation\r\n     *                               in the specified {#classToAutowire}\r\n     */\r\n    public static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\r\n        for (Object bean : beansToAutowireInClass) {\r\n            if (bean == null) {\r\n                ctx.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to get bean using application context in spring boot","body":"<p>You can use the ApplicationContextAware class that can provide the application context.</p>\n\n<pre><code>public class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext ctx = null;\n\n    public static ApplicationContext getApplicationContext() {\n        return ctx;\n    }\n\n    @Override\n    public void setApplicationContext(final ApplicationContext ctx) throws BeansException {\n        ApplicationContextProvider.ctx = ctx;\n    }\n\n    /**\n     * Tries to autowire the specified instance of the class if one of the specified\n     * beans which need to be autowired are null.\n     *\n     * @param classToAutowire        the instance of the class which holds @Autowire\n     *                               annotations\n     * @param beansToAutowireInClass the beans which have the @Autowire annotation\n     *                               in the specified {#classToAutowire}\n     */\n    public static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\n        for (Object bean : beansToAutowireInClass) {\n            if (bean == null) {\n                ctx.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049902,"reputation":919,"user_id":6740561,"display_name":"svaponi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1697194827,"creation_date":1567175224,"answer_id":57728634,"question_id":34088780,"body_markdown":"Just use:\r\n\r\n&gt; org.springframework.beans.factory.BeanFactory#getBean(java.lang.Class&lt;T&gt;)\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    public class Example {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        public MyService getMyServiceBean() {\r\n            return context.getBean(MyService.class);\r\n        }\r\n        \r\n        // your code uses getMyServiceBean()\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Update 2023.10.13**\r\n\r\nIf you do not have *MyService* class at compile time, you can look up the class by name at runtime. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    public class Example2 {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        public Object getMyServiceBean() throws ClassNotFoundException {\r\n            return context.getBean(Class.forName(&quot;my.package.MyService&quot;));\r\n        }\r\n\r\n        // your code uses getMyServiceBean()\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote that in this case, you need to return *Object* (or another superclass or interface available at compile time) and handle *ClassNotFoundException* in case your class is not available at runtime either.\r\n\r\nYou may also want to handle *NoSuchBeanDefinitionException* (runtime exception) in case the service is not defined as a bean.","title":"How to get bean using application context in spring boot","body":"<p>Just use:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanFactory#getBean(java.lang.Class)</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Example {\n\n    @Autowired\n    private ApplicationContext context;\n\n    public MyService getMyServiceBean() {\n        return context.getBean(MyService.class);\n    }\n    \n    // your code uses getMyServiceBean()\n}\n</code></pre>\n\n<p><strong>Update 2023.10.13</strong></p>\n<p>If you do not have <em>MyService</em> class at compile time, you can look up the class by name at runtime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Example2 {\n\n    @Autowired\n    private ApplicationContext context;\n\n    public Object getMyServiceBean() throws ClassNotFoundException {\n        return context.getBean(Class.forName(&quot;my.package.MyService&quot;));\n    }\n\n    // your code uses getMyServiceBean()\n}\n</code></pre>\n\n<p>Note that in this case, you need to return <em>Object</em> (or another superclass or interface available at compile time) and handle <em>ClassNotFoundException</em> in case your class is not available at runtime either.</p>\n<p>You may also want to handle <em>NoSuchBeanDefinitionException</em> (runtime exception) in case the service is not defined as a bean.</p>\n"},{"tags":[],"owner":{"account_id":8876480,"reputation":87,"user_id":6628440,"display_name":"Aman Malhotra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594132970,"creation_date":1594132970,"answer_id":62777843,"question_id":34088780,"body_markdown":"Even after adding @Autowire if your class is not a RestController or Configuration Class, the applicationContext object was coming as null. Tried Creating new class with below and it is working fine:\r\n\r\n    @Component\r\n    public class SpringContext implements ApplicationContextAware{\r\n\r\n       private static ApplicationContext applicationContext;\r\n\r\n       @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws \r\n         BeansException {\r\n        this.applicationContext=applicationContext;\r\n       }\r\n     }\r\n\r\nyou can then implement a getter method in the same class as per your need to get the bean. Like:\r\n\r\n        applicationContext.getBean(String serviceName,Interface.Class)","title":"How to get bean using application context in spring boot","body":"<p>Even after adding @Autowire if your class is not a RestController or Configuration Class, the applicationContext object was coming as null. Tried Creating new class with below and it is working fine:</p>\n<pre><code>@Component\npublic class SpringContext implements ApplicationContextAware{\n\n   private static ApplicationContext applicationContext;\n\n   @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws \n     BeansException {\n    this.applicationContext=applicationContext;\n   }\n }\n</code></pre>\n<p>you can then implement a getter method in the same class as per your need to get the bean. Like:</p>\n<pre><code>    applicationContext.getBean(String serviceName,Interface.Class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600436568,"creation_date":1600436568,"answer_id":63956953,"question_id":34088780,"body_markdown":"Using `SpringApplication.run(Class&lt;?&gt; primarySource, String... arg)` worked for me. E.g.:\r\n\r\n    @SpringBootApplication\r\n    public class YourApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext context = SpringApplication.run(YourApplication.class, args);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>Using <code>SpringApplication.run(Class&lt;?&gt; primarySource, String... arg)</code> worked for me. E.g.:</p>\n<pre><code>@SpringBootApplication\npublic class YourApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(YourApplication.class, args);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2833171,"reputation":578,"user_id":2434307,"display_name":"Jose Quijada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623094065,"creation_date":1606359684,"answer_id":65015546,"question_id":34088780,"body_markdown":"One API method I use when I&#39;m not sure what the bean name is `org.springframework.beans.factory.ListableBeanFactory#getBeanNamesForType(java.lang.Class&lt;?&gt;)`. I simple pass it the class type and it retrieves a list of beans for me. You can be as specific or general as you&#39;d like to retrieve all the beans associated with that type and its subtypes, example\r\n\r\n```\r\n@Autowired\r\nApplicationContext ctx\r\n\r\n...\r\n\r\nSomeController controller = ctx.getBeanNamesForType(SomeController)\r\n```","title":"How to get bean using application context in spring boot","body":"<p>One API method I use when I'm not sure what the bean name is <code>org.springframework.beans.factory.ListableBeanFactory#getBeanNamesForType(java.lang.Class&lt;?&gt;)</code>. I simple pass it the class type and it retrieves a list of beans for me. You can be as specific or general as you'd like to retrieve all the beans associated with that type and its subtypes, example</p>\n<pre><code>@Autowired\nApplicationContext ctx\n\n...\n\nSomeController controller = ctx.getBeanNamesForType(SomeController)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20854728,"reputation":87,"user_id":15318369,"display_name":"simerbhatti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618430357,"creation_date":1618430357,"answer_id":67098339,"question_id":34088780,"body_markdown":"Easy way in configration class call the BEAN annoted method . Yes u heard it right---- :P  calling SpringBoot @Bean annoted method return the same bean from config .I was trying to call a logout in @predestroy method in config class from a bean and direcltly called the method to get the same bean .\r\nP.S. : I added debug in the @bean annotated method but it didn&#39;t entered the method even when i called it.Sure to blame -----&gt; Spring Magic &lt;----","title":"How to get bean using application context in spring boot","body":"<p>Easy way in configration class call the BEAN annoted method . Yes u heard it right---- :P  calling SpringBoot @Bean annoted method return the same bean from config .I was trying to call a logout in @predestroy method in config class from a bean and direcltly called the method to get the same bean .\nP.S. : I added debug in the @bean annotated method but it didn't entered the method even when i called it.Sure to blame -----&gt; Spring Magic &lt;----</p>\n"},{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640715929,"creation_date":1640715100,"answer_id":70510910,"question_id":34088780,"body_markdown":"As an alternative approach you can use `ConfigurableApplicationContext` to get bean of any class which is annotated with `@Component`, `@Repository` or `@Service`.\r\n\r\nLet&#39;s say you want to get a bean of the class *BaseComponent* :\r\n\r\n    @Service\r\n    public class BaseComponent {\r\n    \tpublic String getMessage() {\r\n    \t\treturn &quot;hello world&quot;;\r\n    \t}\r\n    }\r\nNow you can use `ConfigurableApplicationContext` to get the bean: \r\n   \r\n    @Component\r\n    public class DemoComponent {\r\n    \t@Autowired\r\n    \tConfigurableApplicationContext applicationContext;\r\n    \t\r\n    \tpublic BaseComponent getBeanOfBaseComponent() {\r\n            return applicationContext.getBean(BaseComponent.class);\r\n    \t}\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<p>As an alternative approach you can use <code>ConfigurableApplicationContext</code> to get bean of any class which is annotated with <code>@Component</code>, <code>@Repository</code> or <code>@Service</code>.</p>\n<p>Let's say you want to get a bean of the class <em>BaseComponent</em> :</p>\n<pre><code>@Service\npublic class BaseComponent {\n    public String getMessage() {\n        return &quot;hello world&quot;;\n    }\n}\n</code></pre>\n<p>Now you can use <code>ConfigurableApplicationContext</code> to get the bean:</p>\n<pre><code>@Component\npublic class DemoComponent {\n    @Autowired\n    ConfigurableApplicationContext applicationContext;\n    \n    public BaseComponent getBeanOfBaseComponent() {\n        return applicationContext.getBean(BaseComponent.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14452573,"reputation":59,"user_id":10439615,"display_name":"Soumadip Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689265898,"creation_date":1689265898,"answer_id":76681566,"question_id":34088780,"body_markdown":"    package com.codewithsouma.firstspringproject;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class TestBinarySearch {\r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n    \r\n        public void execute(){\r\n            BinarySearchImpl binarySearch = applicationContext.getBean(BinarySearchImpl.class);\r\n            int index = binarySearch.binarySearch(new int[]{10,20,30,40,50},30);\r\n            System.out.println(&quot;The number is present at index: &quot;+index);\r\n        }\r\n    }\r\n\r\n","title":"How to get bean using application context in spring boot","body":"<pre><code>package com.codewithsouma.firstspringproject;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TestBinarySearch {\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    public void execute(){\n        BinarySearchImpl binarySearch = applicationContext.getBean(BinarySearchImpl.class);\n        int index = binarySearch.binarySearch(new int[]{10,20,30,40,50},30);\n        System.out.println(&quot;The number is present at index: &quot;+index);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403584,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"answer_count":13,"score":85,"last_activity_date":1697194827,"creation_date":1449233243,"question_id":34088780,"body_markdown":"I am developing a SpringBoot project and I want to get the bean by its name using `applicationContext`. I have tried many solution from web but could not succeed. My Requirement is that I have a controller \r\n\r\n    ControllerA\r\n\r\nand inside the controller I have a method `getBean(String className)`. I want to get instance of registered bean. I have hibernate entities and I want to get an instance of the bean by passing the name of class only in `getBean` method.\r\n\r\nPlease help if someone know the solution.","title":"How to get bean using application context in spring boot","body":"<p>I am developing a SpringBoot project and I want to get the bean by its name using <code>applicationContext</code>. I have tried many solution from web but could not succeed. My Requirement is that I have a controller </p>\n\n<pre><code>ControllerA\n</code></pre>\n\n<p>and inside the controller I have a method <code>getBean(String className)</code>. I want to get instance of registered bean. I have hibernate entities and I want to get an instance of the bean by passing the name of class only in <code>getBean</code> method.</p>\n\n<p>Please help if someone know the solution.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"owner":{"account_id":1096096,"reputation":745,"user_id":1089668,"accept_rate":60,"display_name":"zambotn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697194754,"creation_date":1697194754,"question_id":77287194,"body_markdown":"So let&#39;s say I have bidirectional relations between two objects (getter and setters omitted):\r\n\r\n```java\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property=&quot;$id&quot;)\r\n    public class Author {\r\n        @JsonProperty(&quot;$id&quot;)\r\n        private int id;\r\n        private String name;\r\n        private List&lt;Book&gt; books;\r\n    }\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property=&quot;$id&quot;)\r\n    public class Book {\r\n        @JsonProperty(&quot;$id&quot;)\r\n        private int id;\r\n        private String title;\r\n        private List&lt;Author&gt; authors;\r\n    }\r\n```\r\n\r\nI can then create an object I want to serialize:\r\n```java\r\n        Author tolkien = new Author();\r\n        tolkien.id = 1;\r\n        tolkien.name = &quot;J.R.R. Tolkien&quot;;\r\n        tolkien.books = Arrays.asList(new Book(), new Book());\r\n        tolkien.books.get(0).id = 2;\r\n        tolkien.books.get(0).title = &quot;Lord of the Rings&quot;;\r\n        tolkien.books.get(0).authors = List.of(tolkien);\r\n        tolkien.books.get(1).id = 3;\r\n        tolkien.books.get(1).title = &quot;The Dragon Hunter&quot;;\r\n        tolkien.books.get(1).authors = List.of(tolkien);\r\n\r\n        System.out.println(objectMapper.writeValueAsString(tolkien));\r\n```\r\nthis will print:\r\n```json\r\n{\r\n  &quot;$id&quot; : 1,\r\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\r\n  &quot;books&quot; : [ {\r\n    &quot;$id&quot; : 2,\r\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\r\n    &quot;authors&quot; : [ 1 ]\r\n  }, {\r\n    &quot;$id&quot; : 3,\r\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\r\n    &quot;authors&quot; : [ 1 ]\r\n  } ]\r\n}\r\n```\r\nThis is 99% of the work, but the way JSON.NET is serializing the object references is closer to JSON Schema standard and makes use of a similar API, writing the reference as an object instead of just an id (which IMHO is much better because it allows to recognize references from data):\r\n```json\r\n{\r\n  &quot;$id&quot; : 1,\r\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\r\n  &quot;books&quot; : [ {\r\n    &quot;$id&quot; : 2,\r\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\r\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\r\n  }, {\r\n    &quot;$id&quot; : 3,\r\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\r\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\r\n  } ]\r\n}\r\n```\r\n\r\nHow can I make the two services interoperable **from Java/Jackson&#39;s side** (I cannot modify the .NET code)? \r\n","title":"How to make Jackson databind communicate with Json.Net","body":"<p>So let's say I have bidirectional relations between two objects (getter and setters omitted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n            property=&quot;$id&quot;)\n    public class Author {\n        @JsonProperty(&quot;$id&quot;)\n        private int id;\n        private String name;\n        private List&lt;Book&gt; books;\n    }\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n            property=&quot;$id&quot;)\n    public class Book {\n        @JsonProperty(&quot;$id&quot;)\n        private int id;\n        private String title;\n        private List&lt;Author&gt; authors;\n    }\n</code></pre>\n<p>I can then create an object I want to serialize:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Author tolkien = new Author();\n        tolkien.id = 1;\n        tolkien.name = &quot;J.R.R. Tolkien&quot;;\n        tolkien.books = Arrays.asList(new Book(), new Book());\n        tolkien.books.get(0).id = 2;\n        tolkien.books.get(0).title = &quot;Lord of the Rings&quot;;\n        tolkien.books.get(0).authors = List.of(tolkien);\n        tolkien.books.get(1).id = 3;\n        tolkien.books.get(1).title = &quot;The Dragon Hunter&quot;;\n        tolkien.books.get(1).authors = List.of(tolkien);\n\n        System.out.println(objectMapper.writeValueAsString(tolkien));\n</code></pre>\n<p>this will print:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$id&quot; : 1,\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\n  &quot;books&quot; : [ {\n    &quot;$id&quot; : 2,\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\n    &quot;authors&quot; : [ 1 ]\n  }, {\n    &quot;$id&quot; : 3,\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\n    &quot;authors&quot; : [ 1 ]\n  } ]\n}\n</code></pre>\n<p>This is 99% of the work, but the way JSON.NET is serializing the object references is closer to JSON Schema standard and makes use of a similar API, writing the reference as an object instead of just an id (which IMHO is much better because it allows to recognize references from data):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$id&quot; : 1,\n  &quot;name&quot; : &quot;J.R.R. Tolkien&quot;,\n  &quot;books&quot; : [ {\n    &quot;$id&quot; : 2,\n    &quot;title&quot; : &quot;Lord of the Rings&quot;,\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\n  }, {\n    &quot;$id&quot; : 3,\n    &quot;title&quot; : &quot;The Dragon Hunter&quot;,\n    &quot;authors&quot; : [ {&quot;$ref&quot;: 1} ]\n  } ]\n}\n</code></pre>\n<p>How can I make the two services interoperable <strong>from Java/Jackson's side</strong> (I cannot modify the .NET code)?</p>\n"},{"tags":["java","spring","properties","feature-flags"],"owner":{"account_id":3540628,"reputation":98,"user_id":2957840,"display_name":"z48o0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697194663,"creation_date":1697194091,"question_id":77287124,"body_markdown":"To enable feature flag on controller level I will use for example ConditionalOnProperty annotation to give me options to control it via properties sth like this.\r\n\r\n```java\r\n@RestController\r\n@ConditionalOnProperty(name = &quot;featureFlag&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class TestController {\r\n\r\n    @GetMapping()\r\n    public String echo(@RequestParam String message) {\r\n        return message;\r\n    }\r\n}\r\n```\r\n\r\nHow do I disable only the echo method, and not the whole controller?","title":"How to use ConditionalOnProperty on method level","body":"<p>To enable feature flag on controller level I will use for example ConditionalOnProperty annotation to give me options to control it via properties sth like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@ConditionalOnProperty(name = &quot;featureFlag&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\npublic class TestController {\n\n    @GetMapping()\n    public String echo(@RequestParam String message) {\n        return message;\n    }\n}\n</code></pre>\n<p>How do I disable only the echo method, and not the whole controller?</p>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697195291,"post_id":77286965,"comment_id":136252496,"body_markdown":"Naive benchmarks (like this one) tend give specious results.  While this may or may not be this case, it is not worth speculating on (or investigating) a performance difference which could be an illusion.  I suggest you carefully read duplink above, rewrite the benchmark (using JMH), and see if there is still a performance difference that is significant enough to investigate.  (And you should also include the actual performance results.)","body":"Naive benchmarks (like this one) tend give specious results.  While this may or may not be this case, it is not worth speculating on (or investigating) a performance difference which could be an illusion.  I suggest you carefully read duplink above, rewrite the benchmark (using JMH), and see if there is still a performance difference that is significant enough to investigate.  (And you should also include the actual performance results.)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697196024,"post_id":77286965,"comment_id":136252632,"body_markdown":"You are mostly measuring the garbage collection time. The GC algorithms involved are optimized for real life applications, not for artificial micro-benchmarks. For this specific case, Id even expect `-XX:+UseSerialGC` to be the fastest, so try it with that on both Java versions","body":"You are mostly measuring the garbage collection time. The GC algorithms involved are optimized for real life applications, not for artificial micro-benchmarks. For this specific case, Id even expect <code>-XX:+UseSerialGC</code> to be the fastest, so try it with that on both Java versions"},{"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"score":0,"creation_date":1697201048,"post_id":77286965,"comment_id":136253501,"body_markdown":"@Holger Thank you !!!  After JDK 17 use the XX:+UseSerialGC, they used the same time.  \n\nYou are such a genius !","body":"@Holger Thank you !!!  After JDK 17 use the XX:+UseSerialGC, they used the same time.    You are such a genius !"}],"owner":{"account_id":25832083,"reputation":11,"user_id":19569078,"display_name":"xiaoming wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697195402,"answer_count":0,"score":0,"last_activity_date":1697194420,"creation_date":1697192617,"question_id":77286965,"body_markdown":"When I use the Arraylist.add() method in a large loop, Java 8 is faster than Java 17.\r\n\r\nThat&#39;s why? Is this because of the method `calculateCapacity(Object[] elementData, int minCapacity)`?\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class T2 {\r\n    static Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        map.put(&quot;key&quot;, &quot;value&quot;);\r\n    }\r\n\r\n    // loop for 10000000 times\r\n    public static long TIMES = 10000000;\r\n\r\n    /**\r\n     * run with jdk17 and jdk8\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        long l1 = 0;\r\n        int ii = 10;\r\n        for (int i = 0; i &lt; ii; i++) {\r\n            StopWatch s = new StopWatch();\r\n            s.start();\r\n            t3();\r\n            s.stop();\r\n            l1 += s.getTotalTimeMillis();\r\n            System.out.println(s.getTotalTimeMillis());\r\n            System.out.println(s.prettyPrint());\r\n        }\r\n        System.out.println(&quot;loop&quot; + ii + &quot;times&quot;);\r\n        System.out.println(&quot;Average time :&quot; + l1 / ii+&quot;ms&quot;);\r\n    }\r\n\r\n    static void t3() {\r\n        Object o = map.get(&quot;key&quot;);\r\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; TIMES; i++) {\r\n            s.add(o.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have run this with Windows 11 and macOS, achieving the same results: Java 8 is faster than Java 17.","title":"Why is Arraylist.add() of Java 8 faster than Java 17?","body":"<p>When I use the Arraylist.add() method in a large loop, Java 8 is faster than Java 17.</p>\n<p>That's why? Is this because of the method <code>calculateCapacity(Object[] elementData, int minCapacity)</code>?</p>\n<p>This is my code:</p>\n<pre><code>public class T2 {\n    static Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n    static {\n        map.put(&quot;key&quot;, &quot;value&quot;);\n    }\n\n    // loop for 10000000 times\n    public static long TIMES = 10000000;\n\n    /**\n     * run with jdk17 and jdk8\n     * @param args\n     */\n    public static void main(String[] args) {\n        long l1 = 0;\n        int ii = 10;\n        for (int i = 0; i &lt; ii; i++) {\n            StopWatch s = new StopWatch();\n            s.start();\n            t3();\n            s.stop();\n            l1 += s.getTotalTimeMillis();\n            System.out.println(s.getTotalTimeMillis());\n            System.out.println(s.prettyPrint());\n        }\n        System.out.println(&quot;loop&quot; + ii + &quot;times&quot;);\n        System.out.println(&quot;Average time :&quot; + l1 / ii+&quot;ms&quot;);\n    }\n\n    static void t3() {\n        Object o = map.get(&quot;key&quot;);\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; TIMES; i++) {\n            s.add(o.toString());\n        }\n    }\n}\n</code></pre>\n<p>I have run this with Windows 11 and macOS, achieving the same results: Java 8 is faster than Java 17.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","swagger"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1697099182,"post_id":77277897,"comment_id":136237642,"body_markdown":"just change `/v3/api-docs` to `/v3/api-docs/**` in your `AUTH_WHITELIST` it is going to help you.","body":"just change <code>&#47;v3&#47;api-docs</code> to <code>&#47;v3&#47;api-docs&#47;**</code> in your <code>AUTH_WHITELIST</code> it is going to help you."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1697103011,"post_id":77277897,"comment_id":136238443,"body_markdown":"Does this answer your question? [Swagger UI empty and gives 403](https://stackoverflow.com/questions/48567900/swagger-ui-empty-and-gives-403)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48567900/swagger-ui-empty-and-gives-403\">Swagger UI empty and gives 403</a>"}],"answers":[{"tags":[],"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697100762,"creation_date":1697100762,"answer_id":77279108,"question_id":77277897,"body_markdown":"first after running your application check your services endpoints. there is mappings in intellij idea ide &gt; services &gt; your service &gt; actuator &gt; mappings. check swagger endpoints and create your security white list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oa31P.png","title":"Why am I getting 403 forbidden error while accessing swagger ui from browser?","body":"<p>first after running your application check your services endpoints. there is mappings in intellij idea ide &gt; services &gt; your service &gt; actuator &gt; mappings. check swagger endpoints and create your security white list.</p>\n<p><a href=\"https://i.stack.imgur.com/Oa31P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oa31P.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16603650,"reputation":31,"user_id":11998677,"display_name":"nisshar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697194306,"creation_date":1697088369,"question_id":77277897,"body_markdown":"This is my SecurityConfig class. I have whitelisted several endpoints using spring security but still getting 403 forbidden error when accessing swagger ui from browser. /auth/login and /auth/signup endpoints are working fine. \r\n```\r\npackage com.navyug.security.authn.config;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport com.navyug.security.authn.service.UserServiceImpl;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\t@Autowired\r\n\tprivate UserServiceImpl userDetailsServiceImpl;\r\n\r\n\tprivate static final String[] AUTH_WHITELIST = { &quot;/v2/api-docs&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources&quot;,\r\n\t\t\t&quot;/swagger-resources/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/**&quot;, &quot;/api-docs.yaml&quot;, &quot;/ws&quot;,\r\n\t\t\t&quot;auth/login&quot;, &quot;auth/signup&quot;, &quot;/&quot;, &quot;/*.js&quot;, &quot;/*.ico&quot;, &quot;/*.json&quot;, &quot;/*.png&quot;, &quot;/*.jpg&quot;, &quot;/*.txt*&quot;, &quot;/*.css&quot; };\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(configurer -&gt; configurer.requestMatchers(AUTH_WHITELIST).permitAll())\r\n\t\t\t\t.httpBasic(withDefaults()).csrf((csrf) -&gt; csrf.disable());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n\t\treturn authConfig.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n\t\tauthProvider.setUserDetailsService(userDetailsServiceImpl);\r\n\t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t\treturn authProvider;\r\n\t}\r\n}\r\n```\r\nThis is my application.properties file. \r\n```\r\nspringdoc.api-docs.path=/api-docs\r\nspringdoc.swagger-ui.path=/swagger-ui.html\r\nspringdoc.swagger-ui.enabled=true\r\nspringdoc.swagger-ui.with-credentials=false\r\n```\r\n\r\nI am using spring boot 3.1.4 and SpringDoc OpenAPI Starter WebMVC UI 2.2.0. \r\n\r\nThanks in advance.\r\n","title":"Why am I getting 403 forbidden error while accessing swagger ui from browser?","body":"<p>This is my SecurityConfig class. I have whitelisted several endpoints using spring security but still getting 403 forbidden error when accessing swagger ui from browser. /auth/login and /auth/signup endpoints are working fine.</p>\n<pre><code>package com.navyug.security.authn.config;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport com.navyug.security.authn.service.UserServiceImpl;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Autowired\n    private UserServiceImpl userDetailsServiceImpl;\n\n    private static final String[] AUTH_WHITELIST = { &quot;/v2/api-docs&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/webjars/**&quot;, &quot;/api-docs.yaml&quot;, &quot;/ws&quot;,\n            &quot;auth/login&quot;, &quot;auth/signup&quot;, &quot;/&quot;, &quot;/*.js&quot;, &quot;/*.ico&quot;, &quot;/*.json&quot;, &quot;/*.png&quot;, &quot;/*.jpg&quot;, &quot;/*.txt*&quot;, &quot;/*.css&quot; };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(configurer -&gt; configurer.requestMatchers(AUTH_WHITELIST).permitAll())\n                .httpBasic(withDefaults()).csrf((csrf) -&gt; csrf.disable());\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsServiceImpl);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n}\n</code></pre>\n<p>This is my application.properties file.</p>\n<pre><code>springdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.swagger-ui.enabled=true\nspringdoc.swagger-ui.with-credentials=false\n</code></pre>\n<p>I am using spring boot 3.1.4 and SpringDoc OpenAPI Starter WebMVC UI 2.2.0.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","multithreading","clickhouse"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697193113,"post_id":77286919,"comment_id":136252124,"body_markdown":"There is only one database server, only one network, and only one disk. You can multithread all you like at the client, but, as youve just proven, you will only make it worse.","body":"There is only one database server, only one network, and only one disk. You can multithread all you like at the client, but, as youve just proven, you will only make it worse."},{"owner":{"account_id":10191053,"reputation":45,"user_id":7524466,"display_name":"Boris"},"score":0,"creation_date":1697196889,"post_id":77286919,"comment_id":136252779,"body_markdown":"@user207421 ok but how can I solve this issue? and why with bash script the perfomance is better?","body":"@user207421 ok but how can I solve this issue? and why with bash script the perfomance is better?"}],"answers":[{"tags":[],"owner":{"account_id":16423363,"reputation":1,"user_id":11864019,"display_name":"Giuseppe Previti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697194054,"creation_date":1697194054,"answer_id":77287118,"question_id":77286919,"body_markdown":"Depending on the origin of your data (see &quot;In transactionally consistent caches&quot; or &quot;In transactionally inconsistent caches&quot;), you may consider using the **use_query_cache** setting, for example:\r\n\r\n    SELECT some_expensive_calculation(column_1, column_2)\r\n    FROM table\r\n    SETTINGS use_query_cache = true;\r\n\r\nhere you will find all the details: https://clickhouse.com/docs/en/operations/query-cache.\r\n\r\nReducing latency and resource consumption could further increase performance","title":"Clickhouse java client multiple threads select perfomance","body":"<p>Depending on the origin of your data (see &quot;In transactionally consistent caches&quot; or &quot;In transactionally inconsistent caches&quot;), you may consider using the <strong>use_query_cache</strong> setting, for example:</p>\n<pre><code>SELECT some_expensive_calculation(column_1, column_2)\nFROM table\nSETTINGS use_query_cache = true;\n</code></pre>\n<p>here you will find all the details: <a href=\"https://clickhouse.com/docs/en/operations/query-cache\" rel=\"nofollow noreferrer\">https://clickhouse.com/docs/en/operations/query-cache</a>.</p>\n<p>Reducing latency and resource consumption could further increase performance</p>\n"}],"owner":{"account_id":10191053,"reputation":45,"user_id":7524466,"display_name":"Boris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697194054,"creation_date":1697192244,"question_id":77286919,"body_markdown":"    try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\r\n    \t\t\tClickHouseResponse response = client.connect(getServer())// or client.connect(endpoints)\r\n    \t\t\t\t\t.format(ClickHouseFormat.RowBinaryWithNamesAndTypes)\r\n    \t\t\t\t\t.query(selectQuery)\r\n    \t\t\t\t\t.executeAndWait();\r\n    \t\t\t{\r\n    \t\t\t\treturn castResult(response);\r\n    \t\t\t}\r\n    \t\t}\r\n  \r\nI am using kafka with 100 partition or 100 threads that means that I execute the select query till 100 times in the same time maximum.\r\nWhen I try with 1 threads, the performance is less than 100 ms while when I am using with multiple threads the performance is around 1500ms. In the code there is no other complicated query.\r\nWhen I tried the perfomance with a script of curl from bash, the perfomance was still good less 200ms. \r\nWhat it is the best way to achieve great perfomance with java and clickhouse and multiple threads?\r\nAlso I do a insert like one in 30 seconds for 200-300 elements","title":"Clickhouse java client multiple threads select perfomance","body":"<pre><code>try (ClickHouseClient client = ClickHouseClient.newInstance(ClickHouseProtocol.HTTP)) {\n            ClickHouseResponse response = client.connect(getServer())// or client.connect(endpoints)\n                    .format(ClickHouseFormat.RowBinaryWithNamesAndTypes)\n                    .query(selectQuery)\n                    .executeAndWait();\n            {\n                return castResult(response);\n            }\n        }\n</code></pre>\n<p>I am using kafka with 100 partition or 100 threads that means that I execute the select query till 100 times in the same time maximum.\nWhen I try with 1 threads, the performance is less than 100 ms while when I am using with multiple threads the performance is around 1500ms. In the code there is no other complicated query.\nWhen I tried the perfomance with a script of curl from bash, the perfomance was still good less 200ms.\nWhat it is the best way to achieve great perfomance with java and clickhouse and multiple threads?\nAlso I do a insert like one in 30 seconds for 200-300 elements</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697153828,"post_id":77284242,"comment_id":136247619,"body_markdown":"You&#39;re already using a lambda. What do you mean exactly by &quot;functional Java-8 way&quot;?","body":"You&#39;re already using a lambda. What do you mean exactly by &quot;functional Java-8 way&quot;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697163161,"post_id":77284242,"comment_id":136248334,"body_markdown":"As you have working code, you could ask this on the code review stack exchange site.","body":"As you have working code, you could ask this on the code review stack exchange site."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697164101,"post_id":77284242,"comment_id":136248405,"body_markdown":"btw, a minor simplification: `Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));`","body":"btw, a minor simplification: <code>Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));</code>"}],"answers":[{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697193890,"creation_date":1697153548,"answer_id":77284327,"question_id":77284242,"body_markdown":"You can use [Stream API][1] which introduced in Java 8 for writing in functional way.\r\nThe code has re-written in functional for your example , i hope it helps :\r\n\r\n    public int eraseOverlapIntervals(int[][] intervals) {\r\n           Comparator&lt;int[]&gt; comparator = Comparator.comparingInt(e -&gt; e[0]);\r\n            Arrays.sort(intervals, comparator);\r\n        \r\n            final int[] current = { intervals[0][0], intervals[0][1] };\r\n            final int[] result = { 0 };\r\n            \r\n            Arrays.stream(intervals)\r\n                .skip(1)\r\n                .forEach(next -&gt; {\r\n                    if (current[1] &lt;= next[0]) {\r\n                        current[0] = next[0];\r\n                        current[1] = next[1];\r\n                    } else {\r\n                        result[0]++;\r\n                        if (current[1] &gt; next[1]) {\r\n                            current[0] = next[0];\r\n                            current[1] = next[1];\r\n                        }\r\n                    }\r\n                });\r\n            \r\n            return intervals.length - result[0];\r\n\r\n    }\r\n\r\n        \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n\r\n\r\nI&#39;ve already re-edited my answer for honest compiling error.I hope this answer will be help\r\n","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Stream API</a> which introduced in Java 8 for writing in functional way.\nThe code has re-written in functional for your example , i hope it helps :</p>\n<pre><code>public int eraseOverlapIntervals(int[][] intervals) {\n       Comparator&lt;int[]&gt; comparator = Comparator.comparingInt(e -&gt; e[0]);\n        Arrays.sort(intervals, comparator);\n    \n        final int[] current = { intervals[0][0], intervals[0][1] };\n        final int[] result = { 0 };\n        \n        Arrays.stream(intervals)\n            .skip(1)\n            .forEach(next -&gt; {\n                if (current[1] &lt;= next[0]) {\n                    current[0] = next[0];\n                    current[1] = next[1];\n                } else {\n                    result[0]++;\n                    if (current[1] &gt; next[1]) {\n                        current[0] = next[0];\n                        current[1] = next[1];\n                    }\n                }\n            });\n        \n        return intervals.length - result[0];\n\n}\n\n    \n</code></pre>\n<p>I've already re-edited my answer for honest compiling error.I hope this answer will be help</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697173202,"creation_date":1697173202,"answer_id":77285150,"question_id":77284242,"body_markdown":"Try the following.\r\n\r\n```java\r\nint eraseOverlapIntervals(int[][] intervals) {\r\n    // Get max non overlapping intervals\r\n    class Current { int []current; }\r\n    final Current c = new Current() {{ current = intervals[0]; }};\r\n    return\r\n        intervals.length -\r\n        (int) Stream.of(intervals)\r\n                    .sorted(Comparator.comparingInt(e -&gt; e[0]))\r\n                    .skip(1)\r\n                    .filter(x -&gt; {\r\n                        if(c.current[1] &lt;= x[0]) {\r\n                            c.current = x;\r\n                            return true;\r\n                        } else if (c.current[1] &gt; x[1])\r\n                            c.current = x;\r\n                        return false;\r\n                    })\r\n                    .count();\r\n}\r\n```","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int eraseOverlapIntervals(int[][] intervals) {\n    // Get max non overlapping intervals\n    class Current { int []current; }\n    final Current c = new Current() {{ current = intervals[0]; }};\n    return\n        intervals.length -\n        (int) Stream.of(intervals)\n                    .sorted(Comparator.comparingInt(e -&gt; e[0]))\n                    .skip(1)\n                    .filter(x -&gt; {\n                        if(c.current[1] &lt;= x[0]) {\n                            c.current = x;\n                            return true;\n                        } else if (c.current[1] &gt; x[1])\n                            c.current = x;\n                        return false;\n                    })\n                    .count();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697174146,"creation_date":1697174146,"answer_id":77285204,"question_id":77284242,"body_markdown":"Please spend sometime on documentation and explore Java 8 functions, because in this way you will get the solution but you will not learn. \r\nHave a look on below solution It might help you:\r\n\r\n    public static void main(String[] args) {\r\n        int[][] intervals = {{1, 3}, {2, 4}, {5, 7}, {6, 8}};\r\n\r\n        int count = eraseOverlapIntervals(intervals);\r\n\r\n        System.out.println(&quot;The number of non-overlapping intervals is: &quot; + count);\r\n    }\r\n\r\n    public static int eraseOverlapIntervals(int[][] intervals) {\r\n        // Sort the intervals by their start values\r\n        Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));\r\n        AtomicInteger count = new AtomicInteger(1);\r\n        final int[][] current = {intervals[0]};\r\n        Arrays.stream(intervals, 1, intervals.length)\r\n                .forEach(next -&gt; {\r\n                    if (current[0][1] &lt;= next[0]) {\r\n                        current[0] = next;\r\n                        count.getAndIncrement();\r\n                    } else if (current[0][1] &gt; next[1]) {\r\n                        current[0] = next;\r\n                    }\r\n                });\r\n\r\n        return intervals.length - count.get();\r\n    }\r\n\r\n ","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>Please spend sometime on documentation and explore Java 8 functions, because in this way you will get the solution but you will not learn.\nHave a look on below solution It might help you:</p>\n<pre><code>public static void main(String[] args) {\n    int[][] intervals = {{1, 3}, {2, 4}, {5, 7}, {6, 8}};\n\n    int count = eraseOverlapIntervals(intervals);\n\n    System.out.println(&quot;The number of non-overlapping intervals is: &quot; + count);\n}\n\npublic static int eraseOverlapIntervals(int[][] intervals) {\n    // Sort the intervals by their start values\n    Arrays.sort(intervals, Comparator.comparingInt(e -&gt; e[0]));\n    AtomicInteger count = new AtomicInteger(1);\n    final int[][] current = {intervals[0]};\n    Arrays.stream(intervals, 1, intervals.length)\n            .forEach(next -&gt; {\n                if (current[0][1] &lt;= next[0]) {\n                    current[0] = next;\n                    count.getAndIncrement();\n                } else if (current[0][1] &gt; next[1]) {\n                    current[0] = next;\n                }\n            });\n\n    return intervals.length - count.get();\n}\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1697193890,"creation_date":1697151760,"question_id":77284242,"body_markdown":"I have the following snippet\r\n```\r\n    public int eraseOverlapIntervals(int[][] intervals) {\r\n        Comparator&lt;int []&gt; c = (e1,e2)-&gt;Integer.compare(e1[0],e2[0]);\r\n\r\n        Arrays.sort(intervals,c);\r\n        // Get max non overlapping intervals\r\n        int count = 1;\r\n        int []current = intervals[0];\r\n        for(int i = 1; i&lt;intervals.length; i++) {\r\n            int []next = intervals[i];\r\n            if(current[1]&lt;=next[0]) {\r\n                current = next;\r\n                count++;\r\n            } else {\r\n                if(current[1]&gt;next[1]) {\r\n                    current = next;\r\n                }\r\n            }\r\n        }\r\n        return intervals.length-count;\r\n    }\r\n}\r\n```\r\nHow do I re-write it in a purely functional Java-8 way? ","title":"How will I convert this snippet (for loop and logic inside it mostly including the for loop) to functional style Java 8","body":"<p>I have the following snippet</p>\n<pre><code>    public int eraseOverlapIntervals(int[][] intervals) {\n        Comparator&lt;int []&gt; c = (e1,e2)-&gt;Integer.compare(e1[0],e2[0]);\n\n        Arrays.sort(intervals,c);\n        // Get max non overlapping intervals\n        int count = 1;\n        int []current = intervals[0];\n        for(int i = 1; i&lt;intervals.length; i++) {\n            int []next = intervals[i];\n            if(current[1]&lt;=next[0]) {\n                current = next;\n                count++;\n            } else {\n                if(current[1]&gt;next[1]) {\n                    current = next;\n                }\n            }\n        }\n        return intervals.length-count;\n    }\n}\n</code></pre>\n<p>How do I re-write it in a purely functional Java-8 way?</p>\n"},{"tags":["java","generics","builder"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697193462,"post_id":77286981,"comment_id":136252178,"body_markdown":"Do you realize that this `with` method does not simplify anything? Compare with `ComponentStatus  result; { var b = new ComponentStatus.Builder(); b.name = element.getName(); b.state = element.getState(); b.status = element.getStatus(); b.description = element.getStatusDescription(); result = b.build(); }`","body":"Do you realize that this <code>with</code> method does not simplify anything? Compare with <code>ComponentStatus  result; { var b = new ComponentStatus.Builder(); b.name = element.getName(); b.state = element.getState(); b.status = element.getStatus(); b.description = element.getStatusDescription(); result = b.build(); }</code>"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1697199011,"post_id":77286981,"comment_id":136253136,"body_markdown":"@Holger ok, but its fluent","body":"@Holger ok, but its fluent"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697199498,"post_id":77286981,"comment_id":136253231,"body_markdown":"But once you took the time to write a builder, why not provide it with dedicated methods, so the code using it can look like `ComponentStatus result = ComponentStatus.builder() .name(element.getName()) .state(element.getState()) .status(element.getStatus()) .description(element.getStatusDescription()) .build();` Why do you focus on the code size of the builder rather than the code using it?","body":"But once you took the time to write a builder, why not provide it with dedicated methods, so the code using it can look like <code>ComponentStatus result = ComponentStatus.builder() .name(element.getName()) .state(element.getState()) .status(element.getStatus()) .description(element.getStatusDescription()) .build();</code> Why do you focus on the code size of the builder rather than the code using it?"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1697200364,"post_id":77286981,"comment_id":136253380,"body_markdown":"@Holger I suppose I could add withName() etc. https://medium.com/beingprofessional/think-functional-advanced-builder-pattern-using-lambda-284714b85ed5 Simple usage is higher priority. I&#39;m exploring my options","body":"@Holger I suppose I could add withName() etc. <a href=\"https://medium.com/beingprofessional/think-functional-advanced-builder-pattern-using-lambda-284714b85ed5\" rel=\"nofollow noreferrer\">medium.com/beingprofessional/&hellip;</a> Simple usage is higher priority. I&#39;m exploring my options"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697193711,"creation_date":1697192783,"question_id":77286981,"body_markdown":"I made a functional builder for a class which works like so\r\n\r\n```java\r\nnew ComponentStatus.Builder()\r\n        .with($ -&gt; {\r\n          $.name = element.getName();\r\n          $.state = element.getState();\r\n          $.status = element.getStatus();\r\n          $.description = element.getStatusDescription();\r\n        }).build();\r\n```\r\n\r\nThe class is\r\n\r\n```java\r\npublic class ComponentStatus {\r\n\r\n  private final String name;\r\n  private final int state;\r\n  private final int status;\r\n  private final String description;\r\n\r\n  ComponentStatus(String name, int state, int status, String description) {\r\n    this.name = name;\r\n    this.state = state;\r\n    this.status = status;\r\n    this.description = description;\r\n  }\r\n\r\n  public static class Builder {\r\n\r\n    public String name;\r\n    public int state;\r\n    public int status;\r\n    public String description;\r\n\r\n    Builder with(\r\n        Consumer&lt;Builder&gt; builderFunction) {\r\n      builderFunction.accept(this);\r\n      return this;\r\n    }\r\n\r\n    ComponentStatus build() {\r\n      return new ComponentStatus(name, state, status, description);\r\n    }\r\n\r\n  }\r\n}\r\n```\r\n\r\nIt works. Now I want to add a builder to other classes.\r\nThe `with()` method will always be the same, so I try to make an interface to save on boilerplate\r\n\r\n```java\r\npublic interface Buildable {\r\n\r\n  default Buildable with(\r\n      Consumer&lt;Buildable&gt; builderFunction) {\r\n    builderFunction.accept(this);\r\n    return this;\r\n  }\r\n\r\n    Object build();\r\n}\r\n```\r\n\r\nThis doesn&#39;t work since `with()` returns `Buildable` and not `&lt;? extends Buildable&gt;` but changing the return type doesn&#39;t work either. What to do?\r\n","title":"Java return an implementation of a builder","body":"<p>I made a functional builder for a class which works like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ComponentStatus.Builder()\n        .with($ -&gt; {\n          $.name = element.getName();\n          $.state = element.getState();\n          $.status = element.getStatus();\n          $.description = element.getStatusDescription();\n        }).build();\n</code></pre>\n<p>The class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentStatus {\n\n  private final String name;\n  private final int state;\n  private final int status;\n  private final String description;\n\n  ComponentStatus(String name, int state, int status, String description) {\n    this.name = name;\n    this.state = state;\n    this.status = status;\n    this.description = description;\n  }\n\n  public static class Builder {\n\n    public String name;\n    public int state;\n    public int status;\n    public String description;\n\n    Builder with(\n        Consumer&lt;Builder&gt; builderFunction) {\n      builderFunction.accept(this);\n      return this;\n    }\n\n    ComponentStatus build() {\n      return new ComponentStatus(name, state, status, description);\n    }\n\n  }\n}\n</code></pre>\n<p>It works. Now I want to add a builder to other classes.\nThe <code>with()</code> method will always be the same, so I try to make an interface to save on boilerplate</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Buildable {\n\n  default Buildable with(\n      Consumer&lt;Buildable&gt; builderFunction) {\n    builderFunction.accept(this);\n    return this;\n  }\n\n    Object build();\n}\n</code></pre>\n<p>This doesn't work since <code>with()</code> returns <code>Buildable</code> and not <code>&lt;? extends Buildable&gt;</code> but changing the return type doesn't work either. What to do?</p>\n"},{"tags":["java","spring","spring-boot","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1532528143,"creation_date":1532528143,"answer_id":51521175,"question_id":51519981,"body_markdown":"Hm. Looks like you don&#39;t register any endpoints via a `WebSocketMessageBrokerConfigurer` implementation and overriding its `registerStompEndpoints(StompEndpointRegistry registry)`.\r\n\r\nExactly this is a place where `StompSubProtocolHandler` is added to that `SubProtocolWebSocketHandler`:\r\n\r\n    @Override\r\n\tpublic StompWebSocketEndpointRegistration addEndpoint(String... paths) {\r\n\t\tthis.subProtocolWebSocketHandler.addProtocolHandler(this.stompHandler);\r\n\t\tWebMvcStompWebSocketEndpointRegistration registration =\r\n\t\t\t\tnew WebMvcStompWebSocketEndpointRegistration(paths, this.webSocketHandler, this.sockJsScheduler);\r\n\t\tthis.registrations.add(registration);\r\n\t\treturn registration;\r\n\t}","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<p>Hm. Looks like you don't register any endpoints via a <code>WebSocketMessageBrokerConfigurer</code> implementation and overriding its <code>registerStompEndpoints(StompEndpointRegistry registry)</code>.</p>\n\n<p>Exactly this is a place where <code>StompSubProtocolHandler</code> is added to that <code>SubProtocolWebSocketHandler</code>:</p>\n\n<pre><code>@Override\npublic StompWebSocketEndpointRegistration addEndpoint(String... paths) {\n    this.subProtocolWebSocketHandler.addProtocolHandler(this.stompHandler);\n    WebMvcStompWebSocketEndpointRegistration registration =\n            new WebMvcStompWebSocketEndpointRegistration(paths, this.webSocketHandler, this.sockJsScheduler);\n    this.registrations.add(registration);\n    return registration;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697192908,"creation_date":1697192908,"answer_id":77286993,"question_id":51519981,"body_markdown":"For latest as of now **spring-websocket 6.0.12**, you have to override `registerStompEndpoints` in the config class implementing `WebSocketMessageBrokerConfigurer` and add your paths:\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/path&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<p>For latest as of now <strong>spring-websocket 6.0.12</strong>, you have to override <code>registerStompEndpoints</code> in the config class implementing <code>WebSocketMessageBrokerConfigurer</code> and add your paths:</p>\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/path&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n}\n</code></pre>\n"}],"owner":{"account_id":5451770,"reputation":65,"user_id":4336329,"display_name":"Rajan Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9336,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51521175,"answer_count":2,"score":6,"last_activity_date":1697192908,"creation_date":1532524892,"question_id":51519981,"body_markdown":"    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-07-25 09:17:32.977 ERROR 8176 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:184) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:173) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:52) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:157) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:121) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:885) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat com.rajan.WebsocketDemoApplication.main(WebsocketDemoApplication.java:10) [classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: No handlers\r\n    \tat org.springframework.util.Assert.isTrue(Assert.java:116) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.start(SubProtocolWebSocketHandler.java:247) ~[spring-websocket-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 15 common frames omitted\r\n\r\n","title":"Failed to start bean &#39;subProtocolWebSocketHandler&#39;; nested exception is java.lang.IllegalArgumentException: No handlers","body":"<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-07-25 09:17:32.977 ERROR 8176 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'subProtocolWebSocketHandler'; nested exception is java.lang.IllegalArgumentException: No handlers\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:184) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:173) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:52) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:157) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:121) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:885) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at com.rajan.WebsocketDemoApplication.main(WebsocketDemoApplication.java:10) [classes/:na]\nCaused by: java.lang.IllegalArgumentException: No handlers\n    at org.springframework.util.Assert.isTrue(Assert.java:116) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.start(SubProtocolWebSocketHandler.java:247) ~[spring-websocket-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 15 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","one-to-many","lazy-initialization"],"comments":[{"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"score":0,"creation_date":1697102488,"post_id":77277884,"comment_id":136238346,"body_markdown":"if you get user and userrole in getUserRoleName function then this exception is not understandable. You may be trying different configuration as not default","body":"if you get user and userrole in getUserRoleName function then this exception is not understandable. You may be trying different configuration as not default"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697103002,"creation_date":1697103002,"answer_id":77279375,"question_id":77277884,"body_markdown":"The stack trace are telling you all that you need to know: `You are trying to access the roles after the session is closed, and as a result, the code throws a LazyInitializationException.`\r\n\r\nYou have multiple choices to fix it:\r\n\r\n**Declare Fetch Type as Eager**:\r\n\r\n      @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n      private List&lt;UserRole&gt; userRoles;\r\n\r\nBut in my opinion EAGER fetch type is not a good idea, because it tells JPA to always fetch the data, even when this data is not necessary.\r\n\r\nSecond solution is to use **JOIN FETCH directive in JPQL**\r\n\r\nDeclare a custom query into repository and then you can fetch it\r\n\r\nInstead of writing\r\n\r\n    User user = repository.findById(userId); // default method from repository\r\n\r\nDo it (create custom method in repository something like this):\r\n**Repository**:\r\n\r\n    @Query(&quot;SELECT u FROM User u JOIN FETCH u.roles WHERE u.userId = :userId&quot;)\r\n    List&lt;User&gt; findUserAndUserRolesByUserId(@Param(&quot;userId&quot;) Long userId)\r\n\r\nAnd then in your method replace:\r\n\r\n    User user = repository.findById(userId);\r\n\r\nTO:\r\n\r\n    User user = repository.findUserAndUserRolesByUserId(userId);\r\n\r\nMore ways to fix it you can find [here][1] also here on stackoverflow are many Q/A about this topic because it is one of the most popular when is working with hibernate as ORM.\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-initialize-proxy-exception","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: in Spring boot","body":"<p>The stack trace are telling you all that you need to know: <code>You are trying to access the roles after the session is closed, and as a result, the code throws a LazyInitializationException.</code></p>\n<p>You have multiple choices to fix it:</p>\n<p><strong>Declare Fetch Type as Eager</strong>:</p>\n<pre><code>  @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n  private List&lt;UserRole&gt; userRoles;\n</code></pre>\n<p>But in my opinion EAGER fetch type is not a good idea, because it tells JPA to always fetch the data, even when this data is not necessary.</p>\n<p>Second solution is to use <strong>JOIN FETCH directive in JPQL</strong></p>\n<p>Declare a custom query into repository and then you can fetch it</p>\n<p>Instead of writing</p>\n<pre><code>User user = repository.findById(userId); // default method from repository\n</code></pre>\n<p>Do it (create custom method in repository something like this):\n<strong>Repository</strong>:</p>\n<pre><code>@Query(&quot;SELECT u FROM User u JOIN FETCH u.roles WHERE u.userId = :userId&quot;)\nList&lt;User&gt; findUserAndUserRolesByUserId(@Param(&quot;userId&quot;) Long userId)\n</code></pre>\n<p>And then in your method replace:</p>\n<pre><code>User user = repository.findById(userId);\n</code></pre>\n<p>TO:</p>\n<pre><code>User user = repository.findUserAndUserRolesByUserId(userId);\n</code></pre>\n<p>More ways to fix it you can find <a href=\"https://www.baeldung.com/hibernate-initialize-proxy-exception\" rel=\"nofollow noreferrer\">here</a> also here on stackoverflow are many Q/A about this topic because it is one of the most popular when is working with hibernate as ORM.</p>\n"}],"owner":{"account_id":22947648,"reputation":11,"user_id":17079402,"display_name":"Akbarhussain Aghariya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697192517,"creation_date":1697088057,"question_id":77277884,"body_markdown":"In our case there are two entities User and UserRole and relationship between those two entity are one to many relationship. We perform some operation like we get the user data using Hibernate and after that we get the UserRole from User entity lazily\r\n\r\n```java\r\npublic class User {\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;UserRole&gt; userRoles;\r\n}\r\n\r\npublic class UserRole {\r\n\r\n    @ManyToOne\r\n    User user;\r\n\r\n    String name;\r\n}\r\n\r\npublic String getUserRoleName(Long userId) {\r\n\r\n    User user = repository.findById(userId);\r\n\r\n    List&lt;UserRole&gt; userRoles = user.getUserRoles();\r\n       \r\n    String name = userRoles.stream().map(obj -&gt; obj.getName()).collect(Collectors.joining(&quot;, &quot;));\r\n\r\n    return name;\r\n}\r\n``` \r\nIn above code we get the below exception\r\n\r\n\r\nRuntime error message is:\r\n```none\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:\r\nco.entity.User.userRoles, could not initialize proxy - no Session\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\r\n  at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n  at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\r\n  at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821)\r\n  at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408)\r\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\r\n  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n  at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n  at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n  at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n  at co.service.UserService.getUserRoleName(UserService.java:20)\r\n  at co.controller.UserController.getUserRoleName(UserController.java:10)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) \r\n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n  at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n  at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nWe have used the @Transactional annotation to solve this issue.","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: in Spring boot","body":"<p>In our case there are two entities User and UserRole and relationship between those two entity are one to many relationship. We perform some operation like we get the user data using Hibernate and after that we get the UserRole from User entity lazily</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;UserRole&gt; userRoles;\n}\n\npublic class UserRole {\n\n    @ManyToOne\n    User user;\n\n    String name;\n}\n\npublic String getUserRoleName(Long userId) {\n\n    User user = repository.findById(userId);\n\n    List&lt;UserRole&gt; userRoles = user.getUserRoles();\n       \n    String name = userRoles.stream().map(obj -&gt; obj.getName()).collect(Collectors.joining(&quot;, &quot;));\n\n    return name;\n}\n</code></pre>\n<p>In above code we get the below exception</p>\n<p>Runtime error message is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:\nco.entity.User.userRoles, could not initialize proxy - no Session\n  at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\n  at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\n  at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\n  at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821)\n  at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408)\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\n  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n  at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n  at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n  at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n  at co.service.UserService.getUserRoleName(UserService.java:20)\n  at co.controller.UserController.getUserRoleName(UserController.java:10)\n  at jdk.internal.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) \n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>We have used the @Transactional annotation to solve this issue.</p>\n"},{"tags":["java","maven","jna","tess4j"],"answers":[{"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454104316,"creation_date":1454104316,"answer_id":35094685,"question_id":35012873,"body_markdown":"The problem was in temp folder - it does not contain all necessary dlls. \r\n\r\n\r\nInfo for community:\r\n1. Check temp folder under tomact - for me the path to it is:\r\n`D:\\Programs_Files\\apache-tomcat-8.0.27\\temp`\r\n\r\nThis temp folder MUST contain the directory tess4j\\win32-x86-64 with next 3 files: **gsdll64.dll, liblept171.dll, libtesseract304.dll** (or your version)\r\n\r\nI had my problem because the directory tess4j\\win32-x86-64 have never been created in temp.\r\n\r\n**BUT**\r\n\r\nMy app works ok under Intellij IDEA because another Temp folder (for IDEA) works ok - `C:\\Users\\Iuliia\\AppData\\Local\\Temp\\` \r\n\r\ncontains tess4j\\win32-x86-64\\gsdll64.dll, tess4j\\win32-x86-64\\liblept171.dll, tess4j\\win32-x86-64\\libtesseract304.dll as expected.\r\n\r\nNote, that this files are created in process of calling Tesseract in your code. Not early. \r\n\r\n**HOW I FIX THE PROBLEM with temp under Tomcat**\r\n\r\nI&#39;ve added win32-x86-64\\gsdll64.dll, win32-x86-64\\liblept171.dll, win32-x86-64\\libtesseract304.dll to the **resources** directory in my project.\r\n\r\nLook at my project structure:\r\n![](https://s18.postimg.org/72an8fdll/image.jpg)\r\n\r\n\r\nAfter deploying to tomcat, the necessary dlls is under classes directory (important!) - it means they are is in the scope.\r\n\r\n![](https://s10.postimg.org/wtkt2byax/image.jpg)\r\n\r\nNow it will be added to \r\n\r\nD:\\Programs_Files\\apache-tomcat-8.0.27\\temp\\tess4j\\win32-x86-64 as expected.\r\n","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>The problem was in temp folder - it does not contain all necessary dlls. </p>\n\n<p>Info for community:\n1. Check temp folder under tomact - for me the path to it is:\n<code>D:\\Programs_Files\\apache-tomcat-8.0.27\\temp</code></p>\n\n<p>This temp folder MUST contain the directory tess4j\\win32-x86-64 with next 3 files: <strong>gsdll64.dll, liblept171.dll, libtesseract304.dll</strong> (or your version)</p>\n\n<p>I had my problem because the directory tess4j\\win32-x86-64 have never been created in temp.</p>\n\n<p><strong>BUT</strong></p>\n\n<p>My app works ok under Intellij IDEA because another Temp folder (for IDEA) works ok - <code>C:\\Users\\Iuliia\\AppData\\Local\\Temp\\</code> </p>\n\n<p>contains tess4j\\win32-x86-64\\gsdll64.dll, tess4j\\win32-x86-64\\liblept171.dll, tess4j\\win32-x86-64\\libtesseract304.dll as expected.</p>\n\n<p>Note, that this files are created in process of calling Tesseract in your code. Not early. </p>\n\n<p><strong>HOW I FIX THE PROBLEM with temp under Tomcat</strong></p>\n\n<p>I've added win32-x86-64\\gsdll64.dll, win32-x86-64\\liblept171.dll, win32-x86-64\\libtesseract304.dll to the <strong>resources</strong> directory in my project.</p>\n\n<p>Look at my project structure:\n<img src=\"https://s18.postimg.org/72an8fdll/image.jpg\" alt=\"\"></p>\n\n<p>After deploying to tomcat, the necessary dlls is under classes directory (important!) - it means they are is in the scope.</p>\n\n<p><img src=\"https://s10.postimg.org/wtkt2byax/image.jpg\" alt=\"\"></p>\n\n<p>Now it will be added to </p>\n\n<p>D:\\Programs_Files\\apache-tomcat-8.0.27\\temp\\tess4j\\win32-x86-64 as expected.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536145547,"creation_date":1536145547,"answer_id":52183612,"question_id":35012873,"body_markdown":"Another fix for the `NoClassDefFoundError` is e.g. installing the respective [`Microsoft C++ Runtime`][1] (scroll to the bottom and expand `Other Tools and Frameworks`):\r\n\r\n&gt; Since the DLLs are built using Visual Studio 2015/2017, please ensure you have Visual C++ 2015 Redistributable or VC++ 2017 Redistributable installed.\r\n\r\nRefer to the [Tess4J][2] development tutorial for more details.\r\n\r\n  [1]: https://visualstudio.microsoft.com/downloads/\r\n  [2]: http://tess4j.sourceforge.net/tutorial/","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>Another fix for the <code>NoClassDefFoundError</code> is e.g. installing the respective <a href=\"https://visualstudio.microsoft.com/downloads/\" rel=\"nofollow noreferrer\"><code>Microsoft C++ Runtime</code></a> (scroll to the bottom and expand <code>Other Tools and Frameworks</code>):</p>\n\n<blockquote>\n  <p>Since the DLLs are built using Visual Studio 2015/2017, please ensure you have Visual C++ 2015 Redistributable or VC++ 2017 Redistributable installed.</p>\n</blockquote>\n\n<p>Refer to the <a href=\"http://tess4j.sourceforge.net/tutorial/\" rel=\"nofollow noreferrer\">Tess4J</a> development tutorial for more details.</p>\n"},{"tags":[],"owner":{"account_id":1929166,"reputation":1796,"user_id":1738961,"accept_rate":82,"display_name":"fergal_dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563701111,"creation_date":1563701111,"answer_id":57131877,"question_id":35012873,"body_markdown":"I upgraded to Windows 10 and all of a sudden tessarct no longer worked for my app.\r\n\r\nAs per the [Tess4J][1] docs, you need to have [VC++ 2017 Redistributable installed.][2]\r\n\r\nAfter I installed it on Windows 10, it all worked fine again.\r\n\r\nIf you&#39;ve upgraded to Windows 10, and you are having the above problem, and it worked before, then this is likely your issue.\r\n\r\n  [1]: http://tess4j.sourceforge.net/tutorial/\r\n  [2]: https://www.microsoft.com/en-us/download/details.aspx?id=53587","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>I upgraded to Windows 10 and all of a sudden tessarct no longer worked for my app.</p>\n\n<p>As per the <a href=\"http://tess4j.sourceforge.net/tutorial/\" rel=\"nofollow noreferrer\">Tess4J</a> docs, you need to have <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=53587\" rel=\"nofollow noreferrer\">VC++ 2017 Redistributable installed.</a></p>\n\n<p>After I installed it on Windows 10, it all worked fine again.</p>\n\n<p>If you've upgraded to Windows 10, and you are having the above problem, and it worked before, then this is likely your issue.</p>\n"}],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35094685,"answer_count":3,"score":1,"last_activity_date":1697192486,"creation_date":1453807967,"question_id":35012873,"body_markdown":"I have Spring boot Webserver project which works ok in my PC under Intellij IDEA, but it not works after distributing to the same PC as war file -  **NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI**.\r\n\r\nmy code:\r\n\r\n \r\n\r\n    ITesseract instance = new Tesseract(); // JNA Interface Mapping\r\n    \r\n     instance.setDatapath(new File(datapath).getPath()); \r\n     instance.setLanguage(&quot;eng&quot;);      \r\n     try {\r\n              String result = instance.doOCR(imageFile); \r\n     } catch (TesseractException e) {\r\n              System.err.println(e.getMessage());\r\n     }\r\n\r\n\r\nI have only one maven dependency, releted to Tess4J:\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve got the error after running my distributed war:\r\n\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    Could not initialize class net.sourceforge.tess4j.TessAPI\r\n\r\n\r\nFull Tomcat log:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\r\n            at net.sourceforge.tess4j.Tesseract.init(Tesseract.java:367) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:280) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:212) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:196) ~[tess4j-3.0.0.jar:3.0.0]\r\n            at ocr.OCRController.handleFileUpload(OCRController.java:127) ~[classes/:0.3.0]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_51]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_51]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_51]\r\n            at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_51]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n\r\n\r\nHow can I fix the error? I have the plan to host this app in Windows Azure under Tomcat. Thank you for any help, friends!\r\n      ","title":"Tess4J error after distributing as war NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI","body":"<p>I have Spring boot Webserver project which works ok in my PC under Intellij IDEA, but it not works after distributing to the same PC as war file -  <strong>NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI</strong>.</p>\n\n<p>my code:</p>\n\n<pre><code>ITesseract instance = new Tesseract(); // JNA Interface Mapping\n\n instance.setDatapath(new File(datapath).getPath()); \n instance.setLanguage(\"eng\");      \n try {\n          String result = instance.doOCR(imageFile); \n } catch (TesseractException e) {\n          System.err.println(e.getMessage());\n }\n</code></pre>\n\n<p>I have only one maven dependency, releted to Tess4J:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've got the error after running my distributed war:</p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nCould not initialize class net.sourceforge.tess4j.TessAPI\n</code></pre>\n\n<p>Full Tomcat log:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\n        at net.sourceforge.tess4j.Tesseract.init(Tesseract.java:367) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:280) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:212) ~[tess4j-3.0.0.jar:3.0.0]\n        at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:196) ~[tess4j-3.0.0.jar:3.0.0]\n        at ocr.OCRController.handleFileUpload(OCRController.java:127) ~[classes/:0.3.0]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_51]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_51]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_51]\n        at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_51]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n</code></pre>\n\n<p>How can I fix the error? I have the plan to host this app in Windows Azure under Tomcat. Thank you for any help, friends!</p>\n"},{"tags":["java","jdbc","jmx","pool","jolokia"],"answers":[{"tags":[],"owner":{"account_id":144435,"reputation":1,"user_id":353490,"display_name":"remix_tj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697192041,"creation_date":1697192041,"answer_id":77286901,"question_id":77221101,"body_markdown":"i had a similar problem and looks like you&#39;re not using the right escaping:\r\n\r\nTake a look at this doc page:\r\n\r\nhttps://jolokia.org/reference/html/protocol.html#escape-rules\r\n\r\nescaping / with ! helped me to get the metric i needed.\r\n\r\n","title":"Getting MBean values for JDBC pools by means of Jolokia","body":"<p>i had a similar problem and looks like you're not using the right escaping:</p>\n<p>Take a look at this doc page:</p>\n<p><a href=\"https://jolokia.org/reference/html/protocol.html#escape-rules\" rel=\"nofollow noreferrer\">https://jolokia.org/reference/html/protocol.html#escape-rules</a></p>\n<p>escaping / with ! helped me to get the metric i needed.</p>\n"}],"owner":{"account_id":2999441,"reputation":3025,"user_id":2545194,"accept_rate":50,"display_name":"Jdamian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697192041,"creation_date":1696325462,"question_id":77221101,"body_markdown":"I&#39;m trying to monitor the JDBC pools of some Java apps using Jolokia. I can get the full list of all attributes for the JDBC pools using:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;Catalina:type=DataSource,class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*&#39; | python -m json.tool\r\n    \r\n    {\r\n        &quot;request&quot;: {\r\n            &quot;mbean&quot;: &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*,type=DataSource&quot;,\r\n            &quot;type&quot;: &quot;read&quot;\r\n        },\r\n        &quot;status&quot;: 200,\r\n        &quot;timestamp&quot;: 1696324668,\r\n        &quot;value&quot;: {\r\n            &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;: {\r\n                &quot;AbandonedConfig&quot;: false,\r\n                &quot;BlockWhenExhausted&quot;: true,\r\n                &quot;BorrowedCount&quot;: 739850,\r\n                &quot;Closed&quot;: false,\r\n                &quot;CreatedCount&quot;: 36,\r\n    &#183;\r\n    &#183;\r\n    &#183;\r\n\r\nBut now I want to get only the maxIdle attribute (for instance) of just one JDBC pool and only get an `HTTP 400 error code`:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle&#39; -v\r\n    * About to connect() to 127.0.0.1 port 50147 (#0)\r\n    *   Trying 127.0.0.1...\r\n    * Connected to 127.0.0.1 (127.0.0.1) port 50147 (#0)\r\n    &gt; GET /jolokia/read/Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle HTTP/1.1\r\n    &gt; User-Agent: curl/7.29.0\r\n    &gt; Host: 127.0.0.1:50147\r\n    &gt; Accept: */*\r\n    &gt;\r\n    &lt; HTTP/1.1 400\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Tue, 03 Oct 2023 09:20:59 GMT\r\n    &lt; Connection: close\r\n    &lt;\r\n    * Closing connection 0\r\n\r\nI tried variations -- rearranging keywords, removing quotes and backslash... but only get 400.\r\n\r\nOther values are successfully retrieved:\r\n\r\n    # curl -k http://127.0.0.1:50147/jolokia/read/&#39;java.lang:type=Runtime/SystemProperties/java.version&#39;\r\n    {&quot;request&quot;:{&quot;path&quot;:&quot;java.version&quot;,&quot;mbean&quot;:&quot;java.lang:type=Runtime&quot;,&quot;attribute&quot;:&quot;SystemProperties&quot;,&quot;type&quot;:&quot;read&quot;},&quot;value&quot;:&quot;1.8.0_131&quot;,&quot;timestamp&quot;:1696325283,&quot;status&quot;:200}\r\n\r\nWhat am I doing wrong?\r\n\r\nBest regards\r\n","title":"Getting MBean values for JDBC pools by means of Jolokia","body":"<p>I'm trying to monitor the JDBC pools of some Java apps using Jolokia. I can get the full list of all attributes for the JDBC pools using:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'Catalina:type=DataSource,class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*' | python -m json.tool\n\n{\n    &quot;request&quot;: {\n        &quot;mbean&quot;: &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=*,host=*,name=*,type=DataSource&quot;,\n        &quot;type&quot;: &quot;read&quot;\n    },\n    &quot;status&quot;: 200,\n    &quot;timestamp&quot;: 1696324668,\n    &quot;value&quot;: {\n        &quot;Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;: {\n            &quot;AbandonedConfig&quot;: false,\n            &quot;BlockWhenExhausted&quot;: true,\n            &quot;BorrowedCount&quot;: 739850,\n            &quot;Closed&quot;: false,\n            &quot;CreatedCount&quot;: 36,\n\n\n\n</code></pre>\n<p>But now I want to get only the maxIdle attribute (for instance) of just one JDBC pool and only get an <code>HTTP 400 error code</code>:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle' -v\n* About to connect() to 127.0.0.1 port 50147 (#0)\n*   Trying 127.0.0.1...\n* Connected to 127.0.0.1 (127.0.0.1) port 50147 (#0)\n&gt; GET /jolokia/read/Catalina:class=javax.sql.DataSource,connectionpool=connections,context=/XXXXXX,host=localhost,name=\\&quot;jdbc/ZZZZZZ\\&quot;,type=DataSource&quot;/maxIdle HTTP/1.1\n&gt; User-Agent: curl/7.29.0\n&gt; Host: 127.0.0.1:50147\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 400\n&lt; Transfer-Encoding: chunked\n&lt; Date: Tue, 03 Oct 2023 09:20:59 GMT\n&lt; Connection: close\n&lt;\n* Closing connection 0\n</code></pre>\n<p>I tried variations -- rearranging keywords, removing quotes and backslash... but only get 400.</p>\n<p>Other values are successfully retrieved:</p>\n<pre><code># curl -k http://127.0.0.1:50147/jolokia/read/'java.lang:type=Runtime/SystemProperties/java.version'\n{&quot;request&quot;:{&quot;path&quot;:&quot;java.version&quot;,&quot;mbean&quot;:&quot;java.lang:type=Runtime&quot;,&quot;attribute&quot;:&quot;SystemProperties&quot;,&quot;type&quot;:&quot;read&quot;},&quot;value&quot;:&quot;1.8.0_131&quot;,&quot;timestamp&quot;:1696325283,&quot;status&quot;:200}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Best regards</p>\n"},{"tags":["java","windows","docker","kong"],"answers":[{"tags":[],"owner":{"account_id":1870469,"reputation":1803,"user_id":1692830,"accept_rate":75,"display_name":"donmartin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1697192015,"creation_date":1514898629,"answer_id":48061642,"question_id":48020283,"body_markdown":"I think you&#39;re running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your `localhost` **from inside the docker container**. The issue here is (most likely) that Kong (inside docker) tries to access `http://localhost:8080`. But for Kong, that&#39;s the container it is running on itself.\r\n\r\nTo do this kind of testing, you will have to find the IP address of your local machine and add that as the `upstream_url`. Depending on where your machine is, in a home network, or in a corporate network, that will be something like `10.x.y.z`, or `192.168.x.y`. The command `ifconfig` (macOS) or `ipconfig` (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer&#39;s port 8080, instead of going to its own port 8080.\r\n\r\nPlease note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it&#39;s a laptop, or if you use DHCP or such, this will be more or less often.\r\n\r\n---\r\n\r\ntl;dr: The upstream URL has to be an URL which enables Kong to resolve the target **as seen from inside the Docker container**.\r\n\r\n---\r\n\r\n**Update:** Instead of manually retrieving the IP adress, you can use [`host.docker.internal` if you&#39;re using Docker Desktop](https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host). Assuming Windows or macOS, this will just work out of the box.","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>I think you're running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your <code>localhost</code> <strong>from inside the docker container</strong>. The issue here is (most likely) that Kong (inside docker) tries to access <code>http://localhost:8080</code>. But for Kong, that's the container it is running on itself.</p>\n<p>To do this kind of testing, you will have to find the IP address of your local machine and add that as the <code>upstream_url</code>. Depending on where your machine is, in a home network, or in a corporate network, that will be something like <code>10.x.y.z</code>, or <code>192.168.x.y</code>. The command <code>ifconfig</code> (macOS) or <code>ipconfig</code> (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer's port 8080, instead of going to its own port 8080.</p>\n<p>Please note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it's a laptop, or if you use DHCP or such, this will be more or less often.</p>\n<hr />\n<p>tl;dr: The upstream URL has to be an URL which enables Kong to resolve the target <strong>as seen from inside the Docker container</strong>.</p>\n<hr />\n<p><strong>Update:</strong> Instead of manually retrieving the IP adress, you can use <a href=\"https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host\" rel=\"nofollow noreferrer\"><code>host.docker.internal</code> if you're using Docker Desktop</a>. Assuming Windows or macOS, this will just work out of the box.</p>\n"}],"owner":{"account_id":7468894,"reputation":115,"user_id":5677475,"accept_rate":33,"display_name":"Kamal Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15607,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697192015,"creation_date":1514539579,"question_id":48020283,"body_markdown":"Please help me as I am getting &quot;An invalid response was received from the upstream server&quot; error on getting the data from REST endpoint using Dockerized Kong.\r\n\r\nREST service that I am trying to access using Kong is running on my localhost.\r\n\r\nKong Request to add API :\r\n\r\n     curl -i -X POST \\\r\n    --url http://localhost:8001/apis/ \\\r\n    --data &#39;name=ping&#39; \\\r\n    --data &#39;upstream_url=http://localhost:8080/v1/employee/ping&#39; \\\r\n    --data &#39;hosts=localhost&#39;\r\n\r\nForward request through Kong :\r\n\r\n    curl -i -X GET \\\r\n    --url http://localhost:8000/ \\\r\n    --header &#39;Host:localhost&#39;\r\n\r\n\r\nError that I am getting on forwarding the request through Kong:\r\n\r\n    [root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\r\n    header &#39;Host:localhost&#39;\r\n    HTTP/1.1 502 Bad Gateway\r\n    Date: Fri, 29 Dec 2017 08:53:40 GMT\r\n    Content-Type: text/plain; charset=UTF-8\r\n    Transfer-Encoding: chunked\r\n    Connection: keep-alive\r\n    Server: kong/0.11.2\r\n\r\n    An invalid response was received from the upstream server\r\n\r\n\r\nPlease help me to solve this issue.\r\n\r\nThanks,\r\nKamal\r\n\r\n","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>Please help me as I am getting \"An invalid response was received from the upstream server\" error on getting the data from REST endpoint using Dockerized Kong.</p>\n\n<p>REST service that I am trying to access using Kong is running on my localhost.</p>\n\n<p>Kong Request to add API :</p>\n\n<pre><code> curl -i -X POST \\\n--url http://localhost:8001/apis/ \\\n--data 'name=ping' \\\n--data 'upstream_url=http://localhost:8080/v1/employee/ping' \\\n--data 'hosts=localhost'\n</code></pre>\n\n<p>Forward request through Kong :</p>\n\n<pre><code>curl -i -X GET \\\n--url http://localhost:8000/ \\\n--header 'Host:localhost'\n</code></pre>\n\n<p>Error that I am getting on forwarding the request through Kong:</p>\n\n<pre><code>[root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\nheader 'Host:localhost'\nHTTP/1.1 502 Bad Gateway\nDate: Fri, 29 Dec 2017 08:53:40 GMT\nContent-Type: text/plain; charset=UTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nServer: kong/0.11.2\n\nAn invalid response was received from the upstream server\n</code></pre>\n\n<p>Please help me to solve this issue.</p>\n\n<p>Thanks,\nKamal</p>\n"},{"tags":["java","forgerock"],"owner":{"account_id":3533522,"reputation":2687,"user_id":2952395,"accept_rate":67,"display_name":"Subhrajyoti Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697191736,"creation_date":1697191736,"question_id":77286862,"body_markdown":"I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.\r\n\r\n```java\r\n@Override\r\n    public Action process(TreeContext context) throws NodeProcessException {\r\n        try {\r\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\r\n            \r\n    }\r\n```\r\n\r\nMy problem:\r\n\r\nHow do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (`context.request.servletRequest`), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!\r\n\r\nI am posting data to the URL `https://myserverurl.com/openam/XUI/`","title":"How to retrieve POST request body in Forgerock openam","body":"<p>I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Action process(TreeContext context) throws NodeProcessException {\n        try {\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\n            \n    }\n</code></pre>\n<p>My problem:</p>\n<p>How do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (<code>context.request.servletRequest</code>), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!</p>\n<p>I am posting data to the URL <code>https://myserverurl.com/openam/XUI/</code></p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649227970,"post_id":71761858,"comment_id":126819422,"body_markdown":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?","body":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697191706,"creation_date":1649230408,"answer_id":71762737,"question_id":71761858,"body_markdown":"It states, on the [ActiveMQ home page](https://activemq.apache.org/), that ActiveMQ 5.17.0 release requires JDK 11+.\r\n\r\nYour error message indicates the class [version number](https://en.wikipedia.org/wiki/Java_class_file) of Java 11, i.e. 55.\r\n\r\nEither migrate your code to Java 11 or use ActiveMQ [5.16.4 release](https://activemq.apache.org/activemq-5016004-release) which is compatible with Java 8.\r\n\r\n#### UPDATE (13 October 2023)\r\nThere are two versions of ActiveMQ\r\n- Artemis\r\n- Classic\r\n\r\nAs stated on the download page of both [Classic][1] (version 5.18.2 at time of writing) and [Artemis][2] (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/classic/download/\r\n  [2]: https://activemq.apache.org/components/artemis/download/","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>It states, on the <a href=\"https://activemq.apache.org/\" rel=\"nofollow noreferrer\">ActiveMQ home page</a>, that ActiveMQ 5.17.0 release requires JDK 11+.</p>\n<p>Your error message indicates the class <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">version number</a> of Java 11, i.e. 55.</p>\n<p>Either migrate your code to Java 11 or use ActiveMQ <a href=\"https://activemq.apache.org/activemq-5016004-release\" rel=\"nofollow noreferrer\">5.16.4 release</a> which is compatible with Java 8.</p>\n<h4>UPDATE (13 October 2023)</h4>\n<p>There are two versions of ActiveMQ</p>\n<ul>\n<li>Artemis</li>\n<li>Classic</li>\n</ul>\n<p>As stated on the download page of both <a href=\"https://activemq.apache.org/components/classic/download/\" rel=\"nofollow noreferrer\">Classic</a> (version 5.18.2 at time of writing) and <a href=\"https://activemq.apache.org/components/artemis/download/\" rel=\"nofollow noreferrer\">Artemis</a> (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.</p>\n"}],"owner":{"account_id":4373352,"reputation":53,"user_id":3566999,"display_name":"Simon Dreyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7915,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71762737,"answer_count":1,"score":1,"last_activity_date":1697191706,"creation_date":1649225823,"question_id":71761858,"body_markdown":"I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:\r\n```none\r\nWarning: JAVA_HOME environment variable is not set.\r\n\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\r\n```\r\n\r\nThe JAVA_HOME variable is set:\r\n[Java home variable][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5VY2.png\r\n\r\nWhen I run\r\n```none\r\necho %JAVA_HOME%\r\n```\r\nI get \r\n```none\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\r\n```\r\nFrom that I would infer that it is correct?\r\n\r\nAny ideas please?","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Warning: JAVA_HOME environment variable is not set.\n\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\n</code></pre>\n<p>The JAVA_HOME variable is set:\n<a href=\"https://i.stack.imgur.com/V5VY2.png\" rel=\"nofollow noreferrer\">Java home variable</a></p>\n<p>When I run</p>\n<pre class=\"lang-none prettyprint-override\"><code>echo %JAVA_HOME%\n</code></pre>\n<p>I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\n</code></pre>\n<p>From that I would infer that it is correct?</p>\n<p>Any ideas please?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9892,"page":125,"page_size":100}
