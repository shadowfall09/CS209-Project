{"items":[{"tags":["java","hierarchy"],"comments":[{"owner":{"account_id":4235012,"reputation":3147,"user_id":3466415,"display_name":"David K"},"score":0,"creation_date":1450737496,"post_id":34405497,"comment_id":56552835,"body_markdown":"Why do you think you have to work from the bottom of the hierarchy up?","body":"Why do you think you have to work from the bottom of the hierarchy up?"},{"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1450737645,"post_id":34405497,"comment_id":56552905,"body_markdown":"Sure why not. What&#39;s the problem?","body":"Sure why not. What&#39;s the problem?"},{"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"score":0,"creation_date":1450738183,"post_id":34405497,"comment_id":56553125,"body_markdown":"@DavidK the problem I ran into was that, the property that determines the next level in the hierarchy is determined in the constructor of the class itself. Therefore, as it is now, I dont know how to move down the hierarchy once the next path is determined. I&#39;ll update the question","body":"@DavidK the problem I ran into was that, the property that determines the next level in the hierarchy is determined in the constructor of the class itself. Therefore, as it is now, I dont know how to move down the hierarchy once the next path is determined. I&#39;ll update the question"},{"owner":{"account_id":4235012,"reputation":3147,"user_id":3466415,"display_name":"David K"},"score":0,"creation_date":1450801196,"post_id":34405497,"comment_id":56581570,"body_markdown":"The code that chooses the random subclass can execute prior to calling the constructor of the object you&#39;re going to create. When you have randomly chosen a class, then you construct it. At least two of the answers are based on this.","body":"The code that chooses the random subclass can execute prior to calling the constructor of the object you&#39;re going to create. When you have randomly chosen a class, then you construct it. At least two of the answers are based on this."}],"answers":[{"tags":[],"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450738894,"creation_date":1450738894,"answer_id":34405832,"question_id":34405497,"body_markdown":"You can get a list of all your enums from the enum class - the order is the order in which they are declared so if you declare them in hierarchy order, you can traverse the list however you want. The relevant oracle doc is here: \r\n\r\nhttps://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html","title":"Randomly moving down a class hierarchy","body":"<p>You can get a list of all your enums from the enum class - the order is the order in which they are declared so if you declare them in hierarchy order, you can traverse the list however you want. The relevant oracle doc is here: </p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html</a></p>\n"},{"tags":[],"owner":{"account_id":5174460,"reputation":1070,"user_id":4142084,"display_name":"Raul Santelices"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450739349,"creation_date":1450739349,"answer_id":34405918,"question_id":34405497,"body_markdown":"If you want to work your way from the top down, especially if the subclass selection depends on the choices made when constructing the superclass, then it&#39;s probably much better to favor composition over inheritance. So, if for `Item` you have `Type` specific information, you could make `Type` contain all the properties you could possibly want, including references to subsequent objects down this (conceptual) hierarchy.\n\nAt any point, of course, you can in addition make a small class hierarchy out of `Item`,  `Type`, and so on as long as you know before creating the object the specific subclass it should be. Otherwise, composition would be the only way to create your item in the fashion you describe.","title":"Randomly moving down a class hierarchy","body":"<p>If you want to work your way from the top down, especially if the subclass selection depends on the choices made when constructing the superclass, then it's probably much better to favor composition over inheritance. So, if for <code>Item</code> you have <code>Type</code> specific information, you could make <code>Type</code> contain all the properties you could possibly want, including references to subsequent objects down this (conceptual) hierarchy.</p>\n\n<p>At any point, of course, you can in addition make a small class hierarchy out of <code>Item</code>,  <code>Type</code>, and so on as long as you know before creating the object the specific subclass it should be. Otherwise, composition would be the only way to create your item in the fashion you describe.</p>\n"},{"tags":[],"owner":{"account_id":3332716,"reputation":2082,"user_id":2801237,"display_name":"mawalker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450739368,"creation_date":1450739368,"answer_id":34405924,"question_id":34405497,"body_markdown":"You could have a static method in each class that determines the &#39;next transition&#39;(thinking of the package of &#39;items&#39; as a tree. \r\n\r\nSo \r\n \r\n\r\n    // untested code\r\n    \r\n    String nextClass = &quot;Item&quot;;\r\n    \r\n    // define a helper method\r\n    \r\n    Class x = getClass(nextClass);\r\n    \r\n    while( x.hasMore() == true )\r\n    {\r\n        nextClass = x.getNextClass();\r\n        x = getClass(nextClass);\r\n    \r\n    } \r\n    // reflection here on Class &#39;x&#39; (whatever that is...)\r\n\r\nThen you can use reflection to instantiate the last class. \r\n\r\nThis probably is a bad idea. But it would &#39;walk&#39; a tree of well formed classes \r\n","title":"Randomly moving down a class hierarchy","body":"<p>You could have a static method in each class that determines the 'next transition'(thinking of the package of 'items' as a tree. </p>\n\n<p>So </p>\n\n<pre><code>// untested code\n\nString nextClass = \"Item\";\n\n// define a helper method\n\nClass x = getClass(nextClass);\n\nwhile( x.hasMore() == true )\n{\n    nextClass = x.getNextClass();\n    x = getClass(nextClass);\n\n} \n// reflection here on Class 'x' (whatever that is...)\n</code></pre>\n\n<p>Then you can use reflection to instantiate the last class. </p>\n\n<p>This probably is a bad idea. But it would 'walk' a tree of well formed classes </p>\n"},{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450740429,"creation_date":1450740429,"answer_id":34406089,"question_id":34405497,"body_markdown":"If I understand your goal, and try to reformulate:\r\n\r\n- you have a top type: Item\r\n\r\n- you have (or create now, or further perhaps ?) subclasses of Item, by adding some property: Equipable, then Weapon, etc.\r\n\r\n- from top (Item), you want to random select a subclass (Equipable ? yes/no ? if yes =&gt; equip Type, etc.\r\n\r\nWhat I suggest:\r\n\r\n- dont break notion of subclass: a parent doesnt need to know by advance his children\r\n\r\n- then take a class (1st: item, and so on), search subclasses by reflection\r\n\r\n- select between children: at this point you must define how you categorize between children: any new variable, or any variable begining by a prefix. For example, you can define \tfinal static int category_weapon=1; (or true, false, ...)\r\n\r\n- then to iterate, you go from top, get children, get these static variables and value, and choose at random between these children, and do it again\r\n\r\nAnother way to caracterize: use Interfaces (weapon, equipable, ...): the benefit is you can then apply predefined method (for weapon, ...)\r\n\r\nCheaper : dont use any variable, just use the name of the children class to choose the next. \r\n\r\nA good way to choose: define precisely what you&#39;ll do with these objects.\r\n\r\nHope it helps.","title":"Randomly moving down a class hierarchy","body":"<p>If I understand your goal, and try to reformulate:</p>\n\n<ul>\n<li><p>you have a top type: Item</p></li>\n<li><p>you have (or create now, or further perhaps ?) subclasses of Item, by adding some property: Equipable, then Weapon, etc.</p></li>\n<li><p>from top (Item), you want to random select a subclass (Equipable ? yes/no ? if yes => equip Type, etc.</p></li>\n</ul>\n\n<p>What I suggest:</p>\n\n<ul>\n<li><p>dont break notion of subclass: a parent doesnt need to know by advance his children</p></li>\n<li><p>then take a class (1st: item, and so on), search subclasses by reflection</p></li>\n<li><p>select between children: at this point you must define how you categorize between children: any new variable, or any variable begining by a prefix. For example, you can define   final static int category_weapon=1; (or true, false, ...)</p></li>\n<li><p>then to iterate, you go from top, get children, get these static variables and value, and choose at random between these children, and do it again</p></li>\n</ul>\n\n<p>Another way to caracterize: use Interfaces (weapon, equipable, ...): the benefit is you can then apply predefined method (for weapon, ...)</p>\n\n<p>Cheaper : dont use any variable, just use the name of the children class to choose the next. </p>\n\n<p>A good way to choose: define precisely what you'll do with these objects.</p>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1670735371,"creation_date":1450737339,"question_id":34405497,"body_markdown":"I&#39;m currently working on an &quot;item drop&quot; system, where items (and their properties) are randomly generated upon slaying an enemy. The current system I have is a hierarchy of classes, with **Item** being the root super class. Each class has specific properties common to all subclasses.\r\n\r\nIdeally upon dropping an item, program will randomly select one property of the item and move down the hierarchy tree accordingly. For example, the process is as follows:\r\n\r\n*Class* | *Randomly Selected Property determining path in tree:*\r\n\r\n**Item | ItemType** -&gt; **Equipable | EquipType** -&gt; **Weapon | WeaponType** -&gt; etc.\r\n\r\nExample code:\r\n\r\n    abstract class Item \r\n    {\t\r\n    \tprivate Type itemType;\r\n    \tprivate String itemName;\r\n    \tprivate int itemLevel;\r\n    \tprivate Rarity itemRarity;\r\n    \tprivate boolean questItem;\r\n    \tprivate int itemPrice;\r\n\r\n    \tpublic Item(String name)\r\n    \t{\r\n    \t\titemType = Type.randomize();\r\n    \t\titemName = name;\r\n    \t\titemLevel = randomizeLevel(pLvl, eLvl);\r\n    \t\titemRarity = Rarity.randomize(bonus, pLvl, eLvl, iLvl);\r\n    \t\tquestItem = false;\r\n    \t\titemPrice = determinePrice();\r\n    \t}\r\n    }\r\n\r\n**Type** is an enum deciding the next level in the hierarchy. With this system, I dont know how to let the program determine the next level, and then proceed to it.\r\n\r\nThe problem I&#39;ve run into is that I&#39;ve realized in order for this to work, I have to work from the bottom of the hierarchy, up. Is there a way for me to work from the top-down, meaning I can start with a basic **Item** class and procedurally work my way down (using the methods I created to randomly select the properties). \r\n\r\nIf not, is there a specific way I should implement this system?","title":"Randomly moving down a class hierarchy","body":"<p>I'm currently working on an \"item drop\" system, where items (and their properties) are randomly generated upon slaying an enemy. The current system I have is a hierarchy of classes, with <strong>Item</strong> being the root super class. Each class has specific properties common to all subclasses.</p>\n\n<p>Ideally upon dropping an item, program will randomly select one property of the item and move down the hierarchy tree accordingly. For example, the process is as follows:</p>\n\n<p><em>Class</em> | <em>Randomly Selected Property determining path in tree:</em></p>\n\n<p><strong>Item | ItemType</strong> -> <strong>Equipable | EquipType</strong> -> <strong>Weapon | WeaponType</strong> -> etc.</p>\n\n<p>Example code:</p>\n\n<pre><code>abstract class Item \n{   \n    private Type itemType;\n    private String itemName;\n    private int itemLevel;\n    private Rarity itemRarity;\n    private boolean questItem;\n    private int itemPrice;\n\n    public Item(String name)\n    {\n        itemType = Type.randomize();\n        itemName = name;\n        itemLevel = randomizeLevel(pLvl, eLvl);\n        itemRarity = Rarity.randomize(bonus, pLvl, eLvl, iLvl);\n        questItem = false;\n        itemPrice = determinePrice();\n    }\n}\n</code></pre>\n\n<p><strong>Type</strong> is an enum deciding the next level in the hierarchy. With this system, I dont know how to let the program determine the next level, and then proceed to it.</p>\n\n<p>The problem I've run into is that I've realized in order for this to work, I have to work from the bottom of the hierarchy, up. Is there a way for me to work from the top-down, meaning I can start with a basic <strong>Item</strong> class and procedurally work my way down (using the methods I created to randomly select the properties). </p>\n\n<p>If not, is there a specific way I should implement this system?</p>\n"},{"tags":["java","android","device"],"comments":[{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1361455542,"post_id":15004133,"comment_id":21076590,"body_markdown":"And did you compare the completely different display to the Android ID instead of the Build.SERIAL?","body":"And did you compare the completely different display to the Android ID instead of the Build.SERIAL?"},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1361459678,"post_id":15004133,"comment_id":21079200,"body_markdown":"Of course I did. Android ID and Android serial are two different 16-digits alphanumeric lowercase codes.","body":"Of course I did. Android ID and Android serial are two different 16-digits alphanumeric lowercase codes."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":1,"creation_date":1361461041,"post_id":15004133,"comment_id":21080022,"body_markdown":"I hope you don&#39;t rely on this 16 char observation too much because I have seen different ones. ;) But anyways, I presume you need this for support requests, and the general recommendation in this regard is to generate an own installation UUID and use that, because neither Build.SERIAL nor ANDROID_ID are reliable enough. Your app could show the installation ID to the user. But of course, that&#39;s also a solution for your current calamity; if you decide to live with SERIAL&#39;s lack of reliability, that is.","body":"I hope you don&#39;t rely on this 16 char observation too much because I have seen different ones. ;) But anyways, I presume you need this for support requests, and the general recommendation in this regard is to generate an own installation UUID and use that, because neither Build.SERIAL nor ANDROID_ID are reliable enough. Your app could show the installation ID to the user. But of course, that&#39;s also a solution for your current calamity; if you decide to live with SERIAL&#39;s lack of reliability, that is."},{"owner":{"account_id":1546820,"reputation":361,"user_id":1440187,"display_name":"Carsten"},"score":0,"creation_date":1361463858,"post_id":15004133,"comment_id":21081931,"body_markdown":"I think my answer in this Question (http://stackoverflow.com/questions/13248481/settings-secure-android-id-always-the-same-on-each-device/13248925#13248925) helps you.","body":"I think my answer in this Question (<a href=\"http://stackoverflow.com/questions/13248481/settings-secure-android-id-always-the-same-on-each-device/13248925#13248925\" title=\"settings secure android id always the same on each device\">stackoverflow.com/questions/13248481/&hellip;</a>) helps you."},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1361482698,"post_id":15004133,"comment_id":21091799,"body_markdown":"Class Stacker: I know, I&#39;ve seen different kinds of serials myself ;) they seem to behave differently on each device family. Unfortunately I need to know an ID, and I need to know it before installing my app.\nBandits: thanks, I had already seen your answer googling around! ;) I was going to use the ANDROID_ID in fact, but I have to explain my user where to find it, and I haven&#39;t seen this code anywhere in the phone settings","body":"Class Stacker: I know, I&#39;ve seen different kinds of serials myself ;) they seem to behave differently on each device family. Unfortunately I need to know an ID, and I need to know it before installing my app. Bandits: thanks, I had already seen your answer googling around! ;) I was going to use the ANDROID_ID in fact, but I have to explain my user where to find it, and I haven&#39;t seen this code anywhere in the phone settings"}],"answers":[{"tags":[],"owner":{"account_id":1471493,"reputation":284,"user_id":4047078,"display_name":"Peter Bauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411112225,"creation_date":1411112225,"answer_id":25928744,"question_id":15004133,"body_markdown":"The app &quot;Android id&quot; on google play(free) shows different ID&#39;s like:\r\n \r\n - android_ID\r\n - android.os.build.serial\r\n - telephonyManager deviceID\r\n - wifi mac","title":"How to get Android Serial or Android ID from Setting menu (or somewhere else in the UI)","body":"<p>The app \"Android id\" on google play(free) shows different ID's like:</p>\n\n<ul>\n<li>android_ID</li>\n<li>android.os.build.serial</li>\n<li>telephonyManager deviceID</li>\n<li>wifi mac</li>\n</ul>\n"}],"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7847,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1670735130,"creation_date":1361455176,"question_id":15004133,"body_markdown":"I obtained the Android serial number by code using\r\n\r\n    android.os.Build.SERIAL\r\n\r\nI then compare it to the serial number found in the Settings menu (Settings-&gt; About device-&gt; Status-&gt; Serial number).\r\n\r\nI&#39;ve tested it, and it seems that on some devices (e.g. Nexus) the two codes are the same, while on others (e.g. Galaxy Note) the two codes are completely different: The Java code returns me a 16-digit alphanumeric (lowercase) code, while on screen I can see an 11-digit alphanumeric (uppercase) code.\r\n\r\n- How is it possible? Are these two codes the same, or something completely different?\r\n\r\n- If they are the same, is there a way to convert from one of the two to the other?\r\n\r\n- Is there a better way to identify the device? I know that I can use&#160;\r\n\r\n  1. the phone device ID (IMEI, MEID,...), which can be obtained  \r\n\r\n     ```java\r\n     TelephonyManager tManager = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n     tManager.getDeviceId();\r\n     ```\r\n\r\n     but not all devices are phones, and not all of them have this code;\r\n \r\n  2. The Android ID, retrievable by  \r\n\r\n     ```java\r\n     Secure.getString(context.getContentResolver(),Secure.ANDROID_ID);\r\n     ```\r\n\r\n     But I cannot find it anywhere in the Settings menu, and I need my user to tell me its code by reading it from the user interface.","title":"How to get Android Serial or Android ID from Setting menu (or somewhere else in the UI)","body":"<p>I obtained the Android serial number by code using</p>\n<pre><code>android.os.Build.SERIAL\n</code></pre>\n<p>I then compare it to the serial number found in the Settings menu (Settings-&gt; About device-&gt; Status-&gt; Serial number).</p>\n<p>I've tested it, and it seems that on some devices (e.g. Nexus) the two codes are the same, while on others (e.g. Galaxy Note) the two codes are completely different: The Java code returns me a 16-digit alphanumeric (lowercase) code, while on screen I can see an 11-digit alphanumeric (uppercase) code.</p>\n<ul>\n<li><p>How is it possible? Are these two codes the same, or something completely different?</p>\n</li>\n<li><p>If they are the same, is there a way to convert from one of the two to the other?</p>\n</li>\n<li><p>Is there a better way to identify the device? I know that I can useÂ </p>\n<ol>\n<li><p>the phone device ID (IMEI, MEID,...), which can be obtained</p>\n<pre class=\"lang-java prettyprint-override\"><code>TelephonyManager tManager = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\ntManager.getDeviceId();\n</code></pre>\n<p>but not all devices are phones, and not all of them have this code;</p>\n</li>\n<li><p>The Android ID, retrievable by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Secure.getString(context.getContentResolver(),Secure.ANDROID_ID);\n</code></pre>\n<p>But I cannot find it anywhere in the Settings menu, and I need my user to tell me its code by reading it from the user interface.</p>\n</li>\n</ol>\n</li>\n</ul>\n"},{"tags":["java","android","kotlin","android-room","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":1498636,"reputation":3817,"user_id":1403997,"accept_rate":70,"display_name":"4gus71n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670732256,"creation_date":1670732256,"answer_id":74758313,"question_id":74757666,"body_markdown":"Try removing the `abstract` and the `open`, your DAO is an `interface`, right? If not, that might be the issue, but I don&#39;t see any problem with your `@Transaction` there. Check this [example][1].\r\n\r\nAlso, what&#39;s the context behind the usage of `GlobalScope.future`? I think you should be using `GlobalScope.launch`, but even so, if you are doing this in a `ViewModel` I would recommend that you use the _actual_ correct way that is `viewModelScope.launch {...` \r\n\r\n  [1]: https://github.com/android/trackr/blob/9b7c22d6e7b2782959389ed115730efcfcddc790/shared/src/main/java/com/example/android/trackr/db/dao/TaskDao.kt#L185","title":"How to save data in room with coroutines in java?","body":"<p>Try removing the <code>abstract</code> and the <code>open</code>, your DAO is an <code>interface</code>, right? If not, that might be the issue, but I don't see any problem with your <code>@Transaction</code> there. Check this <a href=\"https://github.com/android/trackr/blob/9b7c22d6e7b2782959389ed115730efcfcddc790/shared/src/main/java/com/example/android/trackr/db/dao/TaskDao.kt#L185\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>Also, what's the context behind the usage of <code>GlobalScope.future</code>? I think you should be using <code>GlobalScope.launch</code>, but even so, if you are doing this in a <code>ViewModel</code> I would recommend that you use the <em>actual</em> correct way that is <code>viewModelScope.launch {...</code></p>\n"}],"owner":{"account_id":25447242,"reputation":89,"user_id":19249278,"display_name":"chrisChris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670732256,"creation_date":1670720512,"question_id":74757666,"body_markdown":"I have response from backend in java file:\r\n\r\nthis is kotlin file\r\n```\r\nclass ResponseData {\r\n    val data: List&lt;DataRoom&gt;? = null\r\n    }\r\n\r\n```\r\n\r\nthis is my code in java, saving response\r\n```\r\n                repo.getValue().saveDataToRoom(response.body().getData());\r\n```\r\n\r\nsaveDataToRoom\r\n```\r\n            GlobalScope.future {\r\ninsertAllDataUseCase.build(data)\r\n}\r\n```\r\n\r\n```\r\nclass InsertAllDataUseCase (private val dataDao: DataDao):\r\nBaseUseCase&lt;List&lt;DataRoom&gt;, Unit&gt;() {\r\n    override suspend fun create(params: List&lt;DataRoom&gt;) {\r\n        dataDao.setNewDataListWithDelete(params)\r\n    }\r\n}\r\n```\r\n\r\ndao\r\n```\r\n    @Transaction\r\n    open suspend fun setNewDataListWithDelete(datas: List&lt;DataRoom&gt;) {\r\n        deleteAllData()\r\n        insertAllData(data)\r\n    }\r\n\r\n    @Query(&quot;DELETE FROM data&quot;)\r\n    abstract suspend fun deleteAllData()\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    abstract suspend fun insertAllData(dataItems:List&lt;DataRoom&gt;)\r\n```\r\n\r\nIt doesn&#39;t work, it doesn&#39;t save there. I check with getting the data, checking App Inspection, it is just empty. As well I can log response from backend, it works. Why it does not work?","title":"How to save data in room with coroutines in java?","body":"<p>I have response from backend in java file:</p>\n<p>this is kotlin file</p>\n<pre><code>class ResponseData {\n    val data: List&lt;DataRoom&gt;? = null\n    }\n\n</code></pre>\n<p>this is my code in java, saving response</p>\n<pre><code>                repo.getValue().saveDataToRoom(response.body().getData());\n</code></pre>\n<p>saveDataToRoom</p>\n<pre><code>            GlobalScope.future {\ninsertAllDataUseCase.build(data)\n}\n</code></pre>\n<pre><code>class InsertAllDataUseCase (private val dataDao: DataDao):\nBaseUseCase&lt;List&lt;DataRoom&gt;, Unit&gt;() {\n    override suspend fun create(params: List&lt;DataRoom&gt;) {\n        dataDao.setNewDataListWithDelete(params)\n    }\n}\n</code></pre>\n<p>dao</p>\n<pre><code>    @Transaction\n    open suspend fun setNewDataListWithDelete(datas: List&lt;DataRoom&gt;) {\n        deleteAllData()\n        insertAllData(data)\n    }\n\n    @Query(&quot;DELETE FROM data&quot;)\n    abstract suspend fun deleteAllData()\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    abstract suspend fun insertAllData(dataItems:List&lt;DataRoom&gt;)\n</code></pre>\n<p>It doesn't work, it doesn't save there. I check with getting the data, checking App Inspection, it is just empty. As well I can log response from backend, it works. Why it does not work?</p>\n"},{"tags":["java","compilation","package"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1432303393,"post_id":30398646,"comment_id":48885205,"body_markdown":"Are the different filesystems compatible enough so that package names can be reliably inferred from them across any platform?","body":"Are the different filesystems compatible enough so that package names can be reliably inferred from them across any platform?"}],"answers":[{"tags":[],"owner":{"account_id":2764445,"reputation":3146,"user_id":2380618,"display_name":"Phil Anderson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1432303912,"creation_date":1432303419,"answer_id":30398812,"question_id":30398646,"body_markdown":"Turn the question on its head:\r\n\r\nAssume that the package statement is the important thing - It represents the namespace of the class and belongs in the class file.\r\n\r\nSo now the question is - Why do classes have to be in folders that match their package? \r\n\r\nThe answer is that it makes finding them much easier - it is just a good way to organize them.\r\n\r\nDoes that help?","title":"Why do java source files require package declarations?","body":"<p>Turn the question on its head:</p>\n\n<p>Assume that the package statement is the important thing - It represents the namespace of the class and belongs in the class file.</p>\n\n<p>So now the question is - Why do classes have to be in folders that match their package? </p>\n\n<p>The answer is that it makes finding them much easier - it is just a good way to organize them.</p>\n\n<p>Does that help?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1670731670,"creation_date":1432303760,"answer_id":30398930,"question_id":30398646,"body_markdown":"As you (implicitly) acknowledged, you are not *required* to declare the name of a package in the case of the default package.  Let us put that quibble aside ... \r\n\r\nThe reason for this seeming redundancy is that without a `package` declaration, the meaning of Java&lt;sup&gt;1&lt;/sup&gt; source code would be ambiguous.  For example, a source file whose pathname was &quot;/home/steve/project/src/com/example/Main.java&quot; could have 7 different fully qualified names, depending on how you compiled the code.  Most likely, only one of those will be the &quot;correct&quot; one.  But you wouldn&#39;t be able to tell which FQN is correct by looking at (just) the one source file.\r\n\r\n--------------\r\n\r\nIt should also be noted that the Java language specification does not *require* you to organize the source code tree according to the packages.  That is a requirement of a (large) family of Java compilers, but a conformant compiler could be written that did not require this.  For example:\r\n\r\n  - The source code could be held in a database.\r\n  - The source code could be held in a file tree with random file names&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nIn such eventualities, the `package` declaration would not be duplicative of file pathnames, or (necessarily) of anything.  However, unless there was some redundancy, finding the correct source &quot;file&quot; for a class would be expensive for the compiler ... and problematic for the programmer.\r\n\r\nConsiderations like the above are the practical reason that most Java tool chains rely on file tree structure to locate source and compiled classes. \r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - By this, I mean hypothetical dialect of Java which didn&#39;t require `package` declarations.&lt;br&gt;\r\n2 - The compiler would need to scan the file tree to find all Java files, and parse them to work out which file defined which class.  Possible, but not very practical.&lt;/sup&gt;","title":"Why do java source files require package declarations?","body":"<p>As you (implicitly) acknowledged, you are not <em>required</em> to declare the name of a package in the case of the default package.  Let us put that quibble aside ...</p>\n<p>The reason for this seeming redundancy is that without a <code>package</code> declaration, the meaning of Java<sup>1</sup> source code would be ambiguous.  For example, a source file whose pathname was &quot;/home/steve/project/src/com/example/Main.java&quot; could have 7 different fully qualified names, depending on how you compiled the code.  Most likely, only one of those will be the &quot;correct&quot; one.  But you wouldn't be able to tell which FQN is correct by looking at (just) the one source file.</p>\n<hr />\n<p>It should also be noted that the Java language specification does not <em>require</em> you to organize the source code tree according to the packages.  That is a requirement of a (large) family of Java compilers, but a conformant compiler could be written that did not require this.  For example:</p>\n<ul>\n<li>The source code could be held in a database.</li>\n<li>The source code could be held in a file tree with random file names<sup>2</sup>.</li>\n</ul>\n<p>In such eventualities, the <code>package</code> declaration would not be duplicative of file pathnames, or (necessarily) of anything.  However, unless there was some redundancy, finding the correct source &quot;file&quot; for a class would be expensive for the compiler ... and problematic for the programmer.</p>\n<p>Considerations like the above are the practical reason that most Java tool chains rely on file tree structure to locate source and compiled classes.</p>\n<hr />\n<p><sup>1 - By this, I mean hypothetical dialect of Java which didn't require <code>package</code> declarations.<br>\n2 - The compiler would need to scan the file tree to find all Java files, and parse them to work out which file defined which class.  Possible, but not very practical.</sup></p>\n"},{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432304358,"creation_date":1432303913,"answer_id":30398988,"question_id":30398646,"body_markdown":"You have to keep in mind that packages do not just indicate the folder structure. The folder structure is the convention Java adopted to match the package names, just like the convention that the class name must match the filename. \r\n\r\nA package is required to disambiguate a class from other classes with the same name. For instance `java.util.Date` is different from `java.sql.Date`.\r\nThe package also gives access to methods or members which are `package-private`, to other classes in the same package.\r\n\r\nYou have to see it the other way round. The class has all the information about itself, the class name and the package name. Then when the program needs it, and the class is not loaded yet, the JVM knows where to look for it by looking at the folder structure that matches the package name and the class with the filename matching its class name. \r\n\r\n\r\n","title":"Why do java source files require package declarations?","body":"<p>You have to keep in mind that packages do not just indicate the folder structure. The folder structure is the convention Java adopted to match the package names, just like the convention that the class name must match the filename. </p>\n\n<p>A package is required to disambiguate a class from other classes with the same name. For instance <code>java.util.Date</code> is different from <code>java.sql.Date</code>.\nThe package also gives access to methods or members which are <code>package-private</code>, to other classes in the same package.</p>\n\n<p>You have to see it the other way round. The class has all the information about itself, the class name and the package name. Then when the program needs it, and the class is not loaded yet, the JVM knows where to look for it by looking at the folder structure that matches the package name and the class with the filename matching its class name. </p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432305405,"creation_date":1432304884,"answer_id":30399344,"question_id":30398646,"body_markdown":"In fact there&#39;s no such obligation at all.\r\n\r\nOracle JDKs `javac` (and I believe most other implementations too) will happily compile your `HelloWorld` class, no matter what directory it is in and what package you declare in the source file.\r\n\r\nWhere the directory structure comes into the picture is when you compile **multiple source files** that refer to each other. At this point the compiler must be able to look them up somehow. But all it has in the source code is the fully qualified name of the referred class (which may not even have been compiled yet). \r\n\r\nAt runtime the story is similar: when a class needs to be loaded, its fully qualified name is the starting point. Now the class loader&#39;s job is to find a `.class` file (or an entry in a ZIP file, or any other imaginable source) based on the FQN alone, and again the simplest thing in a hierarchical file system is to translate the package name into a directory structure.\r\n\r\nThe only difference is that at runtime your &quot;standalone&quot; class too has to be loaded by the VM, therefore it needs to be looked up, therefore it should be in the correct folder structure (because that&#39;s how the bootstrap class loader works).","title":"Why do java source files require package declarations?","body":"<p>In fact there's no such obligation at all.</p>\n\n<p>Oracle JDKs <code>javac</code> (and I believe most other implementations too) will happily compile your <code>HelloWorld</code> class, no matter what directory it is in and what package you declare in the source file.</p>\n\n<p>Where the directory structure comes into the picture is when you compile <strong>multiple source files</strong> that refer to each other. At this point the compiler must be able to look them up somehow. But all it has in the source code is the fully qualified name of the referred class (which may not even have been compiled yet). </p>\n\n<p>At runtime the story is similar: when a class needs to be loaded, its fully qualified name is the starting point. Now the class loader's job is to find a <code>.class</code> file (or an entry in a ZIP file, or any other imaginable source) based on the FQN alone, and again the simplest thing in a hierarchical file system is to translate the package name into a directory structure.</p>\n\n<p>The only difference is that at runtime your \"standalone\" class too has to be loaded by the VM, therefore it needs to be looked up, therefore it should be in the correct folder structure (because that's how the bootstrap class loader works).</p>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4270,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":30398930,"answer_count":4,"score":20,"last_activity_date":1670731670,"creation_date":1432303027,"question_id":30398646,"body_markdown":"I think I am failing to understand java package structure, it seemed redundant to me that java files have a package declaration within, and then are also required to be present in a directory that matches the package name.  For example, if I have a `MyClass.java` file:\r\n\r\n    package com.example;\r\n\r\n    public class MyClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\nThen I would be required to have this file located in `com/example`, relative to the base directory, and I would execute `java com.example.MyClass` from the base directory to run it.\r\n\r\nWhy wouldn&#39;t the compiler be able to infer the package name by looking at the directory structure?  For example, if I compiled the file from the base directory `javac com\\example\\MyClass.java`, I am not understanding why the MyClass.java wouldn&#39;t implicity belong to the `com.example` package.\r\n\r\nI understand there is a default package, but it still seems that the package declaration in the source file is redundant information?\r\n\r\n","title":"Why do java source files require package declarations?","body":"<p>I think I am failing to understand java package structure, it seemed redundant to me that java files have a package declaration within, and then are also required to be present in a directory that matches the package name.  For example, if I have a <code>MyClass.java</code> file:</p>\n\n<pre><code>package com.example;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<p>Then I would be required to have this file located in <code>com/example</code>, relative to the base directory, and I would execute <code>java com.example.MyClass</code> from the base directory to run it.</p>\n\n<p>Why wouldn't the compiler be able to infer the package name by looking at the directory structure?  For example, if I compiled the file from the base directory <code>javac com\\example\\MyClass.java</code>, I am not understanding why the MyClass.java wouldn't implicity belong to the <code>com.example</code> package.</p>\n\n<p>I understand there is a default package, but it still seems that the package declaration in the source file is redundant information?</p>\n"},{"tags":["java","multithreading","object","serialization","threadpool"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670726286,"creation_date":1670717192,"answer_id":74757458,"question_id":74757376,"body_markdown":"Spawn three threads and let them do the work, taking tasks from a queue. There will be no more threads than the number that you spawn to work on the tasks.\r\n\r\nBut a simpler way to do this is to use the  Java standard class [ThreadPoolExecutor][1] that takes care of the thread spawning and pool management for you.\r\n\r\nThere is also a nice tutorial on executors at https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html","title":"Is there a way to limit number of Threads running at the same time","body":"<p>Spawn three threads and let them do the work, taking tasks from a queue. There will be no more threads than the number that you spawn to work on the tasks.</p>\n<p>But a simpler way to do this is to use the  Java standard class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> that takes care of the thread spawning and pool management for you.</p>\n<p>There is also a nice tutorial on executors at <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670722605,"creation_date":1670721786,"answer_id":74757742,"question_id":74757376,"body_markdown":"# Executors framework\r\n\r\nJava 5 brought the Executors framework to greatly simplify threaded work. See the links in [Answer by Chaudhuri][1]. \r\n\r\n## `Runnable`\r\n\r\nDefine your task as a [`Runnable`][2] or [`Callable`][3].\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Reporter implements Runnable\r\n{\r\n    private Integer reportId;\r\n\r\n    public Reporter ( final Integer reportId )\r\n    {\r\n        this.reportId = reportId;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        // Simulate doing hard work by sleeping this thread a random number of milliseconds.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 5 , 100 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        String message = Thread.currentThread().getName() + &quot; reporting id: &quot; + this.reportId + &quot; at &quot; + Instant.now();\r\n        System.out.println( message );\r\n    }\r\n}\r\n```\r\n\r\n## `ExecutorService`\r\n\r\nInstantiate a bunch of those tasks. Instantiate an [executor service][4], **backed by your specified three threads**. Wait for tasks to complete, and shutdown the executor service.\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        List &lt; Reporter &gt; tasks =\r\n                IntStream\r\n                        .range( 100 , 200 )           // Generate a range of numbers from 100 through 199. \r\n                        .mapToObj( Reporter :: new )  // Method reference for the constructor of our `Reporter` class.\r\n                        .toList();                    // Collect all the newly instantiated `Reporter` objects into a `List`. \r\n        ExecutorService executorService = Executors.newFixedThreadPool( 3 ); // Hard-code to three, per the Stack Overflow Question&#39;s requirements.\r\n        tasks.stream().forEach( executorService :: submit );  // Submit to our executor service each of the collected tasks in our list.\r\n        this.shutdownAndAwaitTermination( executorService );\r\n    }\r\n\r\n    // Slightly modified version of boilerplate taken from Javadoc:\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\npool-1-thread-2 reporting id: 101 at 2022-12-11T01:20:49.336052Z\r\npool-1-thread-1 reporting id: 100 at 2022-12-11T01:20:49.342575Z\r\npool-1-thread-3 reporting id: 102 at 2022-12-11T01:20:49.350614Z\r\npool-1-thread-2 reporting id: 103 at 2022-12-11T01:20:49.371866Z\r\npool-1-thread-1 reporting id: 104 at 2022-12-11T01:20:49.392103Z\r\npool-1-thread-2 reporting id: 106 at 2022-12-11T01:20:49.430291Z\r\npool-1-thread-3 reporting id: 105 at 2022-12-11T01:20:49.437875Z\r\npool-1-thread-3 reporting id: 109 at 2022-12-11T01:20:49.450208Z\r\npool-1-thread-3 reporting id: 110 at 2022-12-11T01:20:49.478506Z\r\npool-1-thread-1 reporting id: 107 at 2022-12-11T01:20:49.488794Z\r\npool-1-thread-1 reporting id: 112 at 2022-12-11T01:20:49.501638Z\r\npool-1-thread-2 reporting id: 108 at 2022-12-11T01:20:49.512510Z\r\npool-1-thread-3 reporting id: 111 at 2022-12-11T01:20:49.516905Z\r\npool-1-thread-1 reporting id: 113 at 2022-12-11T01:20:49.602825Z\r\npool-1-thread-2 reporting id: 114 at 2022-12-11T01:20:49.614678Z\r\npool-1-thread-3 reporting id: 115 at 2022-12-11T01:20:49.621172Z\r\npool-1-thread-1 reporting id: 116 at 2022-12-11T01:20:49.659485Z\r\npool-1-thread-2 reporting id: 117 at 2022-12-11T01:20:49.668028Z\r\npool-1-thread-3 reporting id: 118 at 2022-12-11T01:20:49.715350Z\r\npool-1-thread-2 reporting id: 120 at 2022-12-11T01:20:49.740292Z\r\npool-1-thread-1 reporting id: 119 at 2022-12-11T01:20:49.740722Z\r\npool-1-thread-2 reporting id: 122 at 2022-12-11T01:20:49.765576Z\r\npool-1-thread-3 reporting id: 121 at 2022-12-11T01:20:49.779553Z\r\npool-1-thread-2 reporting id: 124 at 2022-12-11T01:20:49.801574Z\r\npool-1-thread-1 reporting id: 123 at 2022-12-11T01:20:49.833277Z\r\npool-1-thread-3 reporting id: 125 at 2022-12-11T01:20:49.838785Z\r\npool-1-thread-2 reporting id: 126 at 2022-12-11T01:20:49.861583Z\r\npool-1-thread-1 reporting id: 127 at 2022-12-11T01:20:49.884080Z\r\npool-1-thread-2 reporting id: 129 at 2022-12-11T01:20:49.895801Z\r\npool-1-thread-3 reporting id: 128 at 2022-12-11T01:20:49.922937Z\r\npool-1-thread-1 reporting id: 130 at 2022-12-11T01:20:49.922936Z\r\npool-1-thread-2 reporting id: 131 at 2022-12-11T01:20:49.927722Z\r\npool-1-thread-1 reporting id: 133 at 2022-12-11T01:20:49.978305Z\r\npool-1-thread-3 reporting id: 132 at 2022-12-11T01:20:50.000371Z\r\npool-1-thread-2 reporting id: 134 at 2022-12-11T01:20:50.025637Z\r\npool-1-thread-1 reporting id: 135 at 2022-12-11T01:20:50.025969Z\r\npool-1-thread-1 reporting id: 138 at 2022-12-11T01:20:50.078081Z\r\npool-1-thread-3 reporting id: 136 at 2022-12-11T01:20:50.089295Z\r\npool-1-thread-2 reporting id: 137 at 2022-12-11T01:20:50.116680Z\r\npool-1-thread-3 reporting id: 140 at 2022-12-11T01:20:50.142114Z\r\npool-1-thread-2 reporting id: 141 at 2022-12-11T01:20:50.144543Z\r\npool-1-thread-2 reporting id: 143 at 2022-12-11T01:20:50.173864Z\r\npool-1-thread-1 reporting id: 139 at 2022-12-11T01:20:50.177693Z\r\npool-1-thread-1 reporting id: 145 at 2022-12-11T01:20:50.193305Z\r\npool-1-thread-3 reporting id: 142 at 2022-12-11T01:20:50.213100Z\r\npool-1-thread-2 reporting id: 144 at 2022-12-11T01:20:50.258059Z\r\npool-1-thread-1 reporting id: 146 at 2022-12-11T01:20:50.281883Z\r\npool-1-thread-3 reporting id: 147 at 2022-12-11T01:20:50.295357Z\r\npool-1-thread-2 reporting id: 148 at 2022-12-11T01:20:50.297879Z\r\npool-1-thread-3 reporting id: 150 at 2022-12-11T01:20:50.310537Z\r\npool-1-thread-2 reporting id: 151 at 2022-12-11T01:20:50.334702Z\r\npool-1-thread-1 reporting id: 149 at 2022-12-11T01:20:50.366817Z\r\npool-1-thread-2 reporting id: 153 at 2022-12-11T01:20:50.388458Z\r\npool-1-thread-1 reporting id: 154 at 2022-12-11T01:20:50.410089Z\r\npool-1-thread-3 reporting id: 152 at 2022-12-11T01:20:50.410866Z\r\npool-1-thread-2 reporting id: 155 at 2022-12-11T01:20:50.438706Z\r\npool-1-thread-2 reporting id: 158 at 2022-12-11T01:20:50.457866Z\r\npool-1-thread-3 reporting id: 157 at 2022-12-11T01:20:50.483979Z\r\npool-1-thread-1 reporting id: 156 at 2022-12-11T01:20:50.509379Z\r\npool-1-thread-2 reporting id: 159 at 2022-12-11T01:20:50.528403Z\r\npool-1-thread-1 reporting id: 161 at 2022-12-11T01:20:50.528355Z\r\npool-1-thread-3 reporting id: 160 at 2022-12-11T01:20:50.540466Z\r\npool-1-thread-3 reporting id: 164 at 2022-12-11T01:20:50.553258Z\r\npool-1-thread-3 reporting id: 165 at 2022-12-11T01:20:50.563534Z\r\npool-1-thread-1 reporting id: 163 at 2022-12-11T01:20:50.573721Z\r\npool-1-thread-3 reporting id: 166 at 2022-12-11T01:20:50.611714Z\r\npool-1-thread-2 reporting id: 162 at 2022-12-11T01:20:50.630698Z\r\npool-1-thread-1 reporting id: 167 at 2022-12-11T01:20:50.647767Z\r\npool-1-thread-3 reporting id: 168 at 2022-12-11T01:20:50.704881Z\r\npool-1-thread-2 reporting id: 169 at 2022-12-11T01:20:50.706819Z\r\npool-1-thread-1 reporting id: 170 at 2022-12-11T01:20:50.738498Z\r\npool-1-thread-2 reporting id: 172 at 2022-12-11T01:20:50.761919Z\r\npool-1-thread-1 reporting id: 173 at 2022-12-11T01:20:50.789843Z\r\npool-1-thread-2 reporting id: 174 at 2022-12-11T01:20:50.800720Z\r\npool-1-thread-3 reporting id: 171 at 2022-12-11T01:20:50.800720Z\r\npool-1-thread-3 reporting id: 177 at 2022-12-11T01:20:50.812244Z\r\npool-1-thread-1 reporting id: 175 at 2022-12-11T01:20:50.819188Z\r\npool-1-thread-2 reporting id: 176 at 2022-12-11T01:20:50.856135Z\r\npool-1-thread-1 reporting id: 179 at 2022-12-11T01:20:50.865442Z\r\npool-1-thread-1 reporting id: 181 at 2022-12-11T01:20:50.875508Z\r\npool-1-thread-3 reporting id: 178 at 2022-12-11T01:20:50.908384Z\r\npool-1-thread-2 reporting id: 180 at 2022-12-11T01:20:50.911297Z\r\npool-1-thread-3 reporting id: 183 at 2022-12-11T01:20:50.922288Z\r\npool-1-thread-2 reporting id: 184 at 2022-12-11T01:20:50.934034Z\r\npool-1-thread-1 reporting id: 182 at 2022-12-11T01:20:50.947619Z\r\npool-1-thread-3 reporting id: 185 at 2022-12-11T01:20:50.955411Z\r\npool-1-thread-1 reporting id: 187 at 2022-12-11T01:20:50.973815Z\r\npool-1-thread-3 reporting id: 188 at 2022-12-11T01:20:50.980241Z\r\npool-1-thread-1 reporting id: 189 at 2022-12-11T01:20:50.989099Z\r\npool-1-thread-2 reporting id: 186 at 2022-12-11T01:20:51.037188Z\r\npool-1-thread-3 reporting id: 190 at 2022-12-11T01:20:51.067505Z\r\npool-1-thread-2 reporting id: 192 at 2022-12-11T01:20:51.083379Z\r\npool-1-thread-1 reporting id: 191 at 2022-12-11T01:20:51.092831Z\r\npool-1-thread-1 reporting id: 195 at 2022-12-11T01:20:51.099644Z\r\npool-1-thread-2 reporting id: 194 at 2022-12-11T01:20:51.110563Z\r\npool-1-thread-3 reporting id: 193 at 2022-12-11T01:20:51.110563Z\r\npool-1-thread-2 reporting id: 197 at 2022-12-11T01:20:51.153739Z\r\npool-1-thread-3 reporting id: 198 at 2022-12-11T01:20:51.194933Z\r\npool-1-thread-1 reporting id: 196 at 2022-12-11T01:20:51.201879Z\r\npool-1-thread-2 reporting id: 199 at 2022-12-11T01:20:51.205119Z\r\n```\r\n\r\nBe aware that output to `System.out` does *not* necessarily appear on the console chronologically. If you care, always include a timestamp such as `Instant.now`. \r\n\r\nAll this has been covered before on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74757458/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"Is there a way to limit number of Threads running at the same time","body":"<h1>Executors framework</h1>\n<p>Java 5 brought the Executors framework to greatly simplify threaded work. See the links in <a href=\"https://stackoverflow.com/a/74757458/642706\">Answer by Chaudhuri</a>.</p>\n<h2><code>Runnable</code></h2>\n<p>Define your task as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Instant;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Reporter implements Runnable\n{\n    private Integer reportId;\n\n    public Reporter ( final Integer reportId )\n    {\n        this.reportId = reportId;\n    }\n\n    @Override\n    public void run ( )\n    {\n        // Simulate doing hard work by sleeping this thread a random number of milliseconds.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 5 , 100 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        String message = Thread.currentThread().getName() + &quot; reporting id: &quot; + this.reportId + &quot; at &quot; + Instant.now();\n        System.out.println( message );\n    }\n}\n</code></pre>\n<h2><code>ExecutorService</code></h2>\n<p>Instantiate a bunch of those tasks. Instantiate an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a>, <strong>backed by your specified three threads</strong>. Wait for tasks to complete, and shutdown the executor service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        List &lt; Reporter &gt; tasks =\n                IntStream\n                        .range( 100 , 200 )           // Generate a range of numbers from 100 through 199. \n                        .mapToObj( Reporter :: new )  // Method reference for the constructor of our `Reporter` class.\n                        .toList();                    // Collect all the newly instantiated `Reporter` objects into a `List`. \n        ExecutorService executorService = Executors.newFixedThreadPool( 3 ); // Hard-code to three, per the Stack Overflow Question's requirements.\n        tasks.stream().forEach( executorService :: submit );  // Submit to our executor service each of the collected tasks in our list.\n        this.shutdownAndAwaitTermination( executorService );\n    }\n\n    // Slightly modified version of boilerplate taken from Javadoc:\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>pool-1-thread-2 reporting id: 101 at 2022-12-11T01:20:49.336052Z\npool-1-thread-1 reporting id: 100 at 2022-12-11T01:20:49.342575Z\npool-1-thread-3 reporting id: 102 at 2022-12-11T01:20:49.350614Z\npool-1-thread-2 reporting id: 103 at 2022-12-11T01:20:49.371866Z\npool-1-thread-1 reporting id: 104 at 2022-12-11T01:20:49.392103Z\npool-1-thread-2 reporting id: 106 at 2022-12-11T01:20:49.430291Z\npool-1-thread-3 reporting id: 105 at 2022-12-11T01:20:49.437875Z\npool-1-thread-3 reporting id: 109 at 2022-12-11T01:20:49.450208Z\npool-1-thread-3 reporting id: 110 at 2022-12-11T01:20:49.478506Z\npool-1-thread-1 reporting id: 107 at 2022-12-11T01:20:49.488794Z\npool-1-thread-1 reporting id: 112 at 2022-12-11T01:20:49.501638Z\npool-1-thread-2 reporting id: 108 at 2022-12-11T01:20:49.512510Z\npool-1-thread-3 reporting id: 111 at 2022-12-11T01:20:49.516905Z\npool-1-thread-1 reporting id: 113 at 2022-12-11T01:20:49.602825Z\npool-1-thread-2 reporting id: 114 at 2022-12-11T01:20:49.614678Z\npool-1-thread-3 reporting id: 115 at 2022-12-11T01:20:49.621172Z\npool-1-thread-1 reporting id: 116 at 2022-12-11T01:20:49.659485Z\npool-1-thread-2 reporting id: 117 at 2022-12-11T01:20:49.668028Z\npool-1-thread-3 reporting id: 118 at 2022-12-11T01:20:49.715350Z\npool-1-thread-2 reporting id: 120 at 2022-12-11T01:20:49.740292Z\npool-1-thread-1 reporting id: 119 at 2022-12-11T01:20:49.740722Z\npool-1-thread-2 reporting id: 122 at 2022-12-11T01:20:49.765576Z\npool-1-thread-3 reporting id: 121 at 2022-12-11T01:20:49.779553Z\npool-1-thread-2 reporting id: 124 at 2022-12-11T01:20:49.801574Z\npool-1-thread-1 reporting id: 123 at 2022-12-11T01:20:49.833277Z\npool-1-thread-3 reporting id: 125 at 2022-12-11T01:20:49.838785Z\npool-1-thread-2 reporting id: 126 at 2022-12-11T01:20:49.861583Z\npool-1-thread-1 reporting id: 127 at 2022-12-11T01:20:49.884080Z\npool-1-thread-2 reporting id: 129 at 2022-12-11T01:20:49.895801Z\npool-1-thread-3 reporting id: 128 at 2022-12-11T01:20:49.922937Z\npool-1-thread-1 reporting id: 130 at 2022-12-11T01:20:49.922936Z\npool-1-thread-2 reporting id: 131 at 2022-12-11T01:20:49.927722Z\npool-1-thread-1 reporting id: 133 at 2022-12-11T01:20:49.978305Z\npool-1-thread-3 reporting id: 132 at 2022-12-11T01:20:50.000371Z\npool-1-thread-2 reporting id: 134 at 2022-12-11T01:20:50.025637Z\npool-1-thread-1 reporting id: 135 at 2022-12-11T01:20:50.025969Z\npool-1-thread-1 reporting id: 138 at 2022-12-11T01:20:50.078081Z\npool-1-thread-3 reporting id: 136 at 2022-12-11T01:20:50.089295Z\npool-1-thread-2 reporting id: 137 at 2022-12-11T01:20:50.116680Z\npool-1-thread-3 reporting id: 140 at 2022-12-11T01:20:50.142114Z\npool-1-thread-2 reporting id: 141 at 2022-12-11T01:20:50.144543Z\npool-1-thread-2 reporting id: 143 at 2022-12-11T01:20:50.173864Z\npool-1-thread-1 reporting id: 139 at 2022-12-11T01:20:50.177693Z\npool-1-thread-1 reporting id: 145 at 2022-12-11T01:20:50.193305Z\npool-1-thread-3 reporting id: 142 at 2022-12-11T01:20:50.213100Z\npool-1-thread-2 reporting id: 144 at 2022-12-11T01:20:50.258059Z\npool-1-thread-1 reporting id: 146 at 2022-12-11T01:20:50.281883Z\npool-1-thread-3 reporting id: 147 at 2022-12-11T01:20:50.295357Z\npool-1-thread-2 reporting id: 148 at 2022-12-11T01:20:50.297879Z\npool-1-thread-3 reporting id: 150 at 2022-12-11T01:20:50.310537Z\npool-1-thread-2 reporting id: 151 at 2022-12-11T01:20:50.334702Z\npool-1-thread-1 reporting id: 149 at 2022-12-11T01:20:50.366817Z\npool-1-thread-2 reporting id: 153 at 2022-12-11T01:20:50.388458Z\npool-1-thread-1 reporting id: 154 at 2022-12-11T01:20:50.410089Z\npool-1-thread-3 reporting id: 152 at 2022-12-11T01:20:50.410866Z\npool-1-thread-2 reporting id: 155 at 2022-12-11T01:20:50.438706Z\npool-1-thread-2 reporting id: 158 at 2022-12-11T01:20:50.457866Z\npool-1-thread-3 reporting id: 157 at 2022-12-11T01:20:50.483979Z\npool-1-thread-1 reporting id: 156 at 2022-12-11T01:20:50.509379Z\npool-1-thread-2 reporting id: 159 at 2022-12-11T01:20:50.528403Z\npool-1-thread-1 reporting id: 161 at 2022-12-11T01:20:50.528355Z\npool-1-thread-3 reporting id: 160 at 2022-12-11T01:20:50.540466Z\npool-1-thread-3 reporting id: 164 at 2022-12-11T01:20:50.553258Z\npool-1-thread-3 reporting id: 165 at 2022-12-11T01:20:50.563534Z\npool-1-thread-1 reporting id: 163 at 2022-12-11T01:20:50.573721Z\npool-1-thread-3 reporting id: 166 at 2022-12-11T01:20:50.611714Z\npool-1-thread-2 reporting id: 162 at 2022-12-11T01:20:50.630698Z\npool-1-thread-1 reporting id: 167 at 2022-12-11T01:20:50.647767Z\npool-1-thread-3 reporting id: 168 at 2022-12-11T01:20:50.704881Z\npool-1-thread-2 reporting id: 169 at 2022-12-11T01:20:50.706819Z\npool-1-thread-1 reporting id: 170 at 2022-12-11T01:20:50.738498Z\npool-1-thread-2 reporting id: 172 at 2022-12-11T01:20:50.761919Z\npool-1-thread-1 reporting id: 173 at 2022-12-11T01:20:50.789843Z\npool-1-thread-2 reporting id: 174 at 2022-12-11T01:20:50.800720Z\npool-1-thread-3 reporting id: 171 at 2022-12-11T01:20:50.800720Z\npool-1-thread-3 reporting id: 177 at 2022-12-11T01:20:50.812244Z\npool-1-thread-1 reporting id: 175 at 2022-12-11T01:20:50.819188Z\npool-1-thread-2 reporting id: 176 at 2022-12-11T01:20:50.856135Z\npool-1-thread-1 reporting id: 179 at 2022-12-11T01:20:50.865442Z\npool-1-thread-1 reporting id: 181 at 2022-12-11T01:20:50.875508Z\npool-1-thread-3 reporting id: 178 at 2022-12-11T01:20:50.908384Z\npool-1-thread-2 reporting id: 180 at 2022-12-11T01:20:50.911297Z\npool-1-thread-3 reporting id: 183 at 2022-12-11T01:20:50.922288Z\npool-1-thread-2 reporting id: 184 at 2022-12-11T01:20:50.934034Z\npool-1-thread-1 reporting id: 182 at 2022-12-11T01:20:50.947619Z\npool-1-thread-3 reporting id: 185 at 2022-12-11T01:20:50.955411Z\npool-1-thread-1 reporting id: 187 at 2022-12-11T01:20:50.973815Z\npool-1-thread-3 reporting id: 188 at 2022-12-11T01:20:50.980241Z\npool-1-thread-1 reporting id: 189 at 2022-12-11T01:20:50.989099Z\npool-1-thread-2 reporting id: 186 at 2022-12-11T01:20:51.037188Z\npool-1-thread-3 reporting id: 190 at 2022-12-11T01:20:51.067505Z\npool-1-thread-2 reporting id: 192 at 2022-12-11T01:20:51.083379Z\npool-1-thread-1 reporting id: 191 at 2022-12-11T01:20:51.092831Z\npool-1-thread-1 reporting id: 195 at 2022-12-11T01:20:51.099644Z\npool-1-thread-2 reporting id: 194 at 2022-12-11T01:20:51.110563Z\npool-1-thread-3 reporting id: 193 at 2022-12-11T01:20:51.110563Z\npool-1-thread-2 reporting id: 197 at 2022-12-11T01:20:51.153739Z\npool-1-thread-3 reporting id: 198 at 2022-12-11T01:20:51.194933Z\npool-1-thread-1 reporting id: 196 at 2022-12-11T01:20:51.201879Z\npool-1-thread-2 reporting id: 199 at 2022-12-11T01:20:51.205119Z\n</code></pre>\n<p>Be aware that output to <code>System.out</code> does <em>not</em> necessarily appear on the console chronologically. If you care, always include a timestamp such as <code>Instant.now</code>.</p>\n<p>All this has been covered before on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670728134,"creation_date":1670727827,"answer_id":74758086,"question_id":74757376,"body_markdown":"&gt; Is there a way to limit number of Threads running at the same time.\r\n\r\nNot directly, no.  There are no thread scheduler hooks for doing this kind of thing.\r\n\r\nYour realistic options are to create a pool of 3 threads:\r\n\r\n  - *by hand*, \r\n  - using an `ExecutorService` with a bounded thread pool, or\r\n  - using a 3rd-party thread pool library.\r\n\r\nThen you arrange to have the tasks handed out to the threads in the pool via a queue.\r\n\r\nFWIW: the `ExecutorService` approach is the simplest because it taks care of both the thread pool management and the task queuing.  See the other answers for details. \r\n\r\n---------------\r\n\r\nIf you didn&#39;t have a hard requirement of 3 threads, another potential option would be to use a `Stream` with a `parallel` step.  This would use the JVM&#39;s  common fork-join pool&lt;sup&gt;1&lt;/sup&gt; to do the tasks in parallel.  The problem is that you don&#39;t get to directly control that pool&#39;s size, and other tasks may be queued for that pool.  Also, doing potentially blocking I/O in a fork-join pool can be problematic for parts of your application that are using the common pool; see the [ForkJoinPool](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html) javadoc.\r\n\r\nIn theory, you *could* create a thread for each task and write the tasks to use (say) a shared `Semaphore` to limit the number of threads that are running the tasks at any given time.  But creating threads is expensive, and they use a substantial amount of memory (even when they are blocked) so this is not a practical solution.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - This is how the current implementation does it.  AFAIK, this is not stated in the javadoc ...&lt;/sup&gt;","title":"Is there a way to limit number of Threads running at the same time","body":"<blockquote>\n<p>Is there a way to limit number of Threads running at the same time.</p>\n</blockquote>\n<p>Not directly, no.  There are no thread scheduler hooks for doing this kind of thing.</p>\n<p>Your realistic options are to create a pool of 3 threads:</p>\n<ul>\n<li><em>by hand</em>,</li>\n<li>using an <code>ExecutorService</code> with a bounded thread pool, or</li>\n<li>using a 3rd-party thread pool library.</li>\n</ul>\n<p>Then you arrange to have the tasks handed out to the threads in the pool via a queue.</p>\n<p>FWIW: the <code>ExecutorService</code> approach is the simplest because it taks care of both the thread pool management and the task queuing.  See the other answers for details.</p>\n<hr />\n<p>If you didn't have a hard requirement of 3 threads, another potential option would be to use a <code>Stream</code> with a <code>parallel</code> step.  This would use the JVM's  common fork-join pool<sup>1</sup> to do the tasks in parallel.  The problem is that you don't get to directly control that pool's size, and other tasks may be queued for that pool.  Also, doing potentially blocking I/O in a fork-join pool can be problematic for parts of your application that are using the common pool; see the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">ForkJoinPool</a> javadoc.</p>\n<p>In theory, you <em>could</em> create a thread for each task and write the tasks to use (say) a shared <code>Semaphore</code> to limit the number of threads that are running the tasks at any given time.  But creating threads is expensive, and they use a substantial amount of memory (even when they are blocked) so this is not a practical solution.</p>\n<hr />\n<p><sup>1 - This is how the current implementation does it.  AFAIK, this is not stated in the javadoc ...</sup></p>\n"}],"owner":{"account_id":21737372,"reputation":25,"user_id":16045179,"display_name":"Peter Sarateanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74757742,"answer_count":3,"score":0,"last_activity_date":1670728134,"creation_date":1670716052,"question_id":74757376,"body_markdown":"I have a list of objects `List&lt;EventuelleDestination&gt; ev` and I need to create a thread that will serialize the data for each element of the list. However, only 3 threads are allowed to run at the same time. I have done a fair share of research on ThreadPools and other classes, but I still have no idea how to implement these this limit in my method.\r\n\r\nIf it can be of any help, here is the task each thread must accomplish until the List is iterated through. \r\n\r\n        public void serializeDestinationEmploye(EventuelleDestination e) {\r\n        Gson gson = new Gson();\r\n        String filename = &quot;/&quot; + employeDao.getEmploye().getId() + &quot;_&quot; + entrepriseDao.retrouveEmplacementIdParDepartementId(e.getEventuelAcceuillant().getId()) + &quot;_&quot; + e.getEventuelAcceuillant().getId() + &quot;.json&quot;;\r\n\r\n        try {\r\n            Writer writer = new FileWriter(dossierSoumissions.toString() + filename);\r\n\r\n            new Gson().toJson(e, writer);\r\n            writer.close();\r\n\r\n            System.out.println(e + &quot; has been serialized...&quot;);\r\n        } catch (IOException fileNotFoundException) {\r\n            fileNotFoundException.printStackTrace();\r\n        }\r\n    }","title":"Is there a way to limit number of Threads running at the same time","body":"<p>I have a list of objects <code>List&lt;EventuelleDestination&gt; ev</code> and I need to create a thread that will serialize the data for each element of the list. However, only 3 threads are allowed to run at the same time. I have done a fair share of research on ThreadPools and other classes, but I still have no idea how to implement these this limit in my method.</p>\n<p>If it can be of any help, here is the task each thread must accomplish until the List is iterated through.</p>\n<pre><code>    public void serializeDestinationEmploye(EventuelleDestination e) {\n    Gson gson = new Gson();\n    String filename = &quot;/&quot; + employeDao.getEmploye().getId() + &quot;_&quot; + entrepriseDao.retrouveEmplacementIdParDepartementId(e.getEventuelAcceuillant().getId()) + &quot;_&quot; + e.getEventuelAcceuillant().getId() + &quot;.json&quot;;\n\n    try {\n        Writer writer = new FileWriter(dossierSoumissions.toString() + filename);\n\n        new Gson().toJson(e, writer);\n        writer.close();\n\n        System.out.println(e + &quot; has been serialized...&quot;);\n    } catch (IOException fileNotFoundException) {\n        fileNotFoundException.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":9349119,"reputation":38,"user_id":6939423,"display_name":"Shubham Choudhary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605425066,"creation_date":1605425066,"answer_id":64842077,"question_id":64841599,"body_markdown":"**@RestControllerAdvice** is kind of interceptor of exceptions thrown by class annotated with @RestController, that&#39;s why exception handler method is not being invoked for your test schenario.\r\n\r\nTo test that, you should write a test for your the controller, Use the mockMvc and register your exceptionHandler class with it like below. hope, it helps.\r\n\r\n    this.mockMvc = MockMvcBuilders.standaloneSetup(new YourController()).setControllerAdvice(ExceptionHandler.class)\r\n                    .build();","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p><strong>@RestControllerAdvice</strong> is kind of interceptor of exceptions thrown by class annotated with @RestController, that's why exception handler method is not being invoked for your test schenario.</p>\n<p>To test that, you should write a test for your the controller, Use the mockMvc and register your exceptionHandler class with it like below. hope, it helps.</p>\n<pre><code>this.mockMvc = MockMvcBuilders.standaloneSetup(new YourController()).setControllerAdvice(ExceptionHandler.class)\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670726968,"creation_date":1670726968,"answer_id":74758044,"question_id":64841599,"body_markdown":"[Very late answer] You don&#39;t need to explicitly call your `@RestControllerAdvice` as it will be called as soon as an exception is rised in your code. You should try to handle your exception this way:\r\n\r\n    @GetMapping(&quot;/personality&quot;)\r\n    public ResponseEntity&lt;Response&gt; computePersonality(@Valid @RequestBody Dto dto) throws BadRequestException {\r\n        try {\r\n                // any other mapping or code\r\n                var response = yourService.yourMethod(dto);\r\n                // any other mapping or code\r\n                return ResponseEntity.status(HttpStatus.OK).body(response);\r\n        } catch (NumerologyValidationException exception) {\r\n            throw new BadRequestException(&quot;An error occurs...&quot;, exception);\r\n        }\r\n    }\r\n\r\nHere, your controller only understand HTTP Code response and all your exception should be redirect to the `@RestControllerAdvice`.\r\nCheck this [link][1] for more details about **4XX** and **5XX** error code management.\r\n\r\n\r\n  [1]: https://mathieu.fenniak.net/the-api-checklist/","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p>[Very late answer] You don't need to explicitly call your <code>@RestControllerAdvice</code> as it will be called as soon as an exception is rised in your code. You should try to handle your exception this way:</p>\n<pre><code>@GetMapping(&quot;/personality&quot;)\npublic ResponseEntity&lt;Response&gt; computePersonality(@Valid @RequestBody Dto dto) throws BadRequestException {\n    try {\n            // any other mapping or code\n            var response = yourService.yourMethod(dto);\n            // any other mapping or code\n            return ResponseEntity.status(HttpStatus.OK).body(response);\n    } catch (NumerologyValidationException exception) {\n        throw new BadRequestException(&quot;An error occurs...&quot;, exception);\n    }\n}\n</code></pre>\n<p>Here, your controller only understand HTTP Code response and all your exception should be redirect to the <code>@RestControllerAdvice</code>.\nCheck this <a href=\"https://mathieu.fenniak.net/the-api-checklist/\" rel=\"nofollow noreferrer\">link</a> for more details about <strong>4XX</strong> and <strong>5XX</strong> error code management.</p>\n"}],"owner":{"account_id":5788820,"reputation":193,"user_id":4567083,"accept_rate":60,"display_name":"Nahid Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64842077,"answer_count":2,"score":1,"last_activity_date":1670726968,"creation_date":1605419714,"question_id":64841599,"body_markdown":"I have a REST webservice application. I am handling exceptions by exception handler using the annotation  @ExceptionHandler and @RestControllerAdvice. My exceptions are thrown in the Service layer. Now I am writing unit tests for the service layer. I am checking the exceptions using Assert.assertThrows. The exception is thrown, and the test passes. However, the exception handler method is not called when an exception is thrown. I need the exception handler method to be called during the unit test. Test class and the ExceptionHandler class are like the following.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class ServiceTest {\r\n    \r\n      @InjectMocks\r\n      private Service testService = new ServiceImpl();\r\n    \r\n      @Mock\r\n      private Repository repository; \r\n     \r\n    \r\n      @Test\r\n      public void testException() {\r\n        assertThrows(\r\n            Exception.class, ()-&gt;{\r\n              // Code that throws exception.\r\n            });\r\n      }\r\n    }\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionHandler {\r\n    \r\n      @ExceptionHandler(Exception.class)\r\n      public ResponseEntity&lt;Object&gt; handleUnknownException(Exception ex) {\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                   .body(&quot;Body Here&quot;);\r\n      }\r\n    \r\n    }","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p>I have a REST webservice application. I am handling exceptions by exception handler using the annotation  @ExceptionHandler and @RestControllerAdvice. My exceptions are thrown in the Service layer. Now I am writing unit tests for the service layer. I am checking the exceptions using Assert.assertThrows. The exception is thrown, and the test passes. However, the exception handler method is not called when an exception is thrown. I need the exception handler method to be called during the unit test. Test class and the ExceptionHandler class are like the following.</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class ServiceTest {\n\n  @InjectMocks\n  private Service testService = new ServiceImpl();\n\n  @Mock\n  private Repository repository; \n \n\n  @Test\n  public void testException() {\n    assertThrows(\n        Exception.class, ()-&gt;{\n          // Code that throws exception.\n        });\n  }\n}\n\n@RestControllerAdvice\npublic class ExceptionHandler {\n\n  @ExceptionHandler(Exception.class)\n  public ResponseEntity&lt;Object&gt; handleUnknownException(Exception ex) {\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n               .body(&quot;Body Here&quot;);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","exit","producer-consumer"],"answers":[{"tags":[],"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670645020,"creation_date":1670645020,"answer_id":74750284,"question_id":74749745,"body_markdown":"It&#39;s because the consumer&#39;s desire is unlimited.\r\nThat&#39;s the main problem in the world. ^^\r\n\r\nIn the class Producer, there is the limitation for the production. \r\n\r\n    static int productionSize=5; //Total no of items to be produced by each producer\r\n\r\nand the loop is finite.\r\n\r\n    for (int i = 1; i &lt;= productionSize; i++) { //produce products. \r\n\r\nBut in the class Consumer, there is no such kind of limitation.\r\n\r\nAnd the loop is infinite, so the program cannot be finished.  \r\n\r\n    while (true)\r\n\r\nMaybe we can add variables, wants and gets, in the Consumer class\r\n\r\nto limit the run loop as below.\r\n\r\n    static int wants = 5;\r\n    int gets = 0;\r\n\r\n    @Override\r\n    public void run() {\r\n        gets = 0;\r\n        while (gets &lt; wants) {\r\n            try {\r\n                consume();\r\n                gets++;\r\n                Thread.sleep(100);\r\n\r\n            } catch (InterruptedException e) {  e.printStackTrace(); }\r\n        }\r\n    }\r\n\r\n","title":"I need help I want to exit the program","body":"<p>It's because the consumer's desire is unlimited.\nThat's the main problem in the world. ^^</p>\n<p>In the class Producer, there is the limitation for the production.</p>\n<pre><code>static int productionSize=5; //Total no of items to be produced by each producer\n</code></pre>\n<p>and the loop is finite.</p>\n<pre><code>for (int i = 1; i &lt;= productionSize; i++) { //produce products. \n</code></pre>\n<p>But in the class Consumer, there is no such kind of limitation.</p>\n<p>And the loop is infinite, so the program cannot be finished.</p>\n<pre><code>while (true)\n</code></pre>\n<p>Maybe we can add variables, wants and gets, in the Consumer class</p>\n<p>to limit the run loop as below.</p>\n<pre><code>static int wants = 5;\nint gets = 0;\n\n@Override\npublic void run() {\n    gets = 0;\n    while (gets &lt; wants) {\n        try {\n            consume();\n            gets++;\n            Thread.sleep(100);\n\n        } catch (InterruptedException e) {  e.printStackTrace(); }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670649526,"creation_date":1670648356,"answer_id":74750491,"question_id":74749745,"body_markdown":"There are a number of approaches to solving this problem ... in general.\r\n\r\nUsing Counters\r\n--------------\r\n\r\nIf you know beforehand how many items will need to be consumed then the consumers can maintain a (shared) counter and stop themselves when the counter hits the limit.  The problems with this are:\r\n\r\n  - If may be hard or impossible to predict the number of items that will be produced.\r\n\r\n  - Given the following (hypothetical) consumer implementation:\r\n\r\n        while (atomicCounter.get() &lt; limit) {\r\n            product = queue.take();   // this blocks until something \r\n                                      // is available to be consumed.\r\n            atomicCounter.increment();\r\n            process(product);\r\n        }\r\n\r\n    ... there is a the problem of getting *all* of the consumers to *notice* that the limit has been reached.  So you need to use `poll` and a retry mechanism ... which means busy waiting; e.g.\r\n\r\n\r\n        while (atomicCounter.get() &lt; limit) {\r\n            product = queue.poll(timeout, unit);\r\n            if (product != null) {\r\n                atomicCounter.increment();\r\n                process(product);\r\n            }\r\n        }\r\n\r\n    The astute reader will notice that consumers don&#39;t terminate immediately.  They need to wait for the `poll` timeout to expire before they will notice that the limit has been reached.\r\n\r\nUsing a Poison Pill.\r\n--------------------\r\n\r\nIf the producers (or something else) knows when they have produced the last &quot;product&quot; and added it to the queue, they add a [poison pill][1] to object to the queue.  When a consumer gets this poison pill, it &quot;consumes&quot; it and dies.  In practice it might look like this:\r\n\r\n        while (true) {\r\n            product = queue.take();\r\n            if (product == POISON_PILL) {\r\n                break;\r\n            }\r\n            process(product);\r\n        }\r\n\r\nIt is slightly more complicated when there are multiple consumers:\r\n\r\n  - You could provide one pill for each consumer, or enqueue the same pill multiple times.\r\n  - You could have the consumer re-enqueue the poison pill as its last action before dying.\r\n\r\nOther approaches\r\n----------------\r\n\r\nThere should be a way to do this using `Thread.interrupt` but it will be complicated.  There needs to be something &quot;in charge&quot; that can figure out when to interrupt the consumer threads ... and they need to respond correctly.\r\n\r\nIt *might* be possible to do this using daemon thread semantics.  However, if you simply mark the consumer threads as daemon, the JVM will shut down as soon as the producers terminate.  That is too soon.\r\n\r\n------------------\r\n\r\nIn your example, I would use the poison pill approach.  But there are other things that you should fix first.  For example, use a `Queue` class (e.g. `BlockingArrayQueue`) rather than an a bare `List` as your queue.  And avoid doing low-level `wait` and `notify` if possible.\r\n\r\n\r\n  [1]: https://java-design-patterns.com/patterns/poison-pill/","title":"I need help I want to exit the program","body":"<p>There are a number of approaches to solving this problem ... in general.</p>\n<h2>Using Counters</h2>\n<p>If you know beforehand how many items will need to be consumed then the consumers can maintain a (shared) counter and stop themselves when the counter hits the limit.  The problems with this are:</p>\n<ul>\n<li><p>If may be hard or impossible to predict the number of items that will be produced.</p>\n</li>\n<li><p>Given the following (hypothetical) consumer implementation:</p>\n<pre><code>while (atomicCounter.get() &lt; limit) {\n    product = queue.take();   // this blocks until something \n                              // is available to be consumed.\n    atomicCounter.increment();\n    process(product);\n}\n</code></pre>\n<p>... there is a the problem of getting <em>all</em> of the consumers to <em>notice</em> that the limit has been reached.  So you need to use <code>poll</code> and a retry mechanism ... which means busy waiting; e.g.</p>\n<pre><code>while (atomicCounter.get() &lt; limit) {\n    product = queue.poll(timeout, unit);\n    if (product != null) {\n        atomicCounter.increment();\n        process(product);\n    }\n}\n</code></pre>\n<p>The astute reader will notice that consumers don't terminate immediately.  They need to wait for the <code>poll</code> timeout to expire before they will notice that the limit has been reached.</p>\n</li>\n</ul>\n<h2>Using a Poison Pill.</h2>\n<p>If the producers (or something else) knows when they have produced the last &quot;product&quot; and added it to the queue, they add a <a href=\"https://java-design-patterns.com/patterns/poison-pill/\" rel=\"nofollow noreferrer\">poison pill</a> to object to the queue.  When a consumer gets this poison pill, it &quot;consumes&quot; it and dies.  In practice it might look like this:</p>\n<pre><code>    while (true) {\n        product = queue.take();\n        if (product == POISON_PILL) {\n            break;\n        }\n        process(product);\n    }\n</code></pre>\n<p>It is slightly more complicated when there are multiple consumers:</p>\n<ul>\n<li>You could provide one pill for each consumer, or enqueue the same pill multiple times.</li>\n<li>You could have the consumer re-enqueue the poison pill as its last action before dying.</li>\n</ul>\n<h2>Other approaches</h2>\n<p>There should be a way to do this using <code>Thread.interrupt</code> but it will be complicated.  There needs to be something &quot;in charge&quot; that can figure out when to interrupt the consumer threads ... and they need to respond correctly.</p>\n<p>It <em>might</em> be possible to do this using daemon thread semantics.  However, if you simply mark the consumer threads as daemon, the JVM will shut down as soon as the producers terminate.  That is too soon.</p>\n<hr />\n<p>In your example, I would use the poison pill approach.  But there are other things that you should fix first.  For example, use a <code>Queue</code> class (e.g. <code>BlockingArrayQueue</code>) rather than an a bare <code>List</code> as your queue.  And avoid doing low-level <code>wait</code> and <code>notify</code> if possible.</p>\n"},{"tags":[],"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670725627,"creation_date":1670725627,"answer_id":74757972,"question_id":74749745,"body_markdown":"One of the problems with coordinating multiple producers and multiple consumers is the problem that the consumers may execute faster than the producers. Thus, detecting an empty buffer cannot always be an indication that the producers have ended production. \r\n\r\nAs long as a producer is producing this problem needs the consumers to continue consuming, while at the same time finding a way to terminate all the consumers once the producers are terminated and all the data is read from the buffer.\r\n\r\nThe following solution is provided using the Ada programming language. \r\nThe solution is spread across three files.\r\n\r\nFile: prod_con_shut_down.ads\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    package prod_con_shut_down is\r\n       task type Producer;\r\n       task type Consumer;\r\n    end prod_con_shut_down;\r\n\r\nThe Ada package specification above exposes only two items, the Producer task type and the Consumer task type.\r\n\r\nThe implementation of the prod_con_shut_down package is in the second file:\r\nFile: prod_con_shut_down.adb\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with Ada.Numerics.Discrete_Random;\r\n    with Ada.Text_IO; use Ada.Text_IO;\r\n    \r\n    package body prod_con_shut_down is\r\n    \r\n       type Buf_Idx is mod 4;\r\n       type Buf_arr is array (Buf_Idx) of Integer;\r\n    \r\n       ------------\r\n       -- buffer --\r\n       ------------\r\n    \r\n       protected buffer is\r\n          entry Write (Item : in Integer);\r\n          entry Read (Item : out Integer);\r\n          entry Register_Consumer;\r\n          procedure Register_Producer;\r\n          procedure Producer_Done;\r\n          function Producers_Done return Boolean;\r\n          function Is_Empty return Boolean;\r\n       private\r\n          Buf            : Buf_arr;\r\n          Write_Idx      : Buf_Idx := 0;\r\n          Read_Idx       : Buf_Idx := 0;\r\n          Count          : Natural := 0;\r\n          Producer_Count : Natural := 0;\r\n       end buffer;\r\n    \r\n       protected body buffer is\r\n          -----------\r\n          -- Write --\r\n          -----------\r\n    \r\n          entry Write (Item : in Integer) when Count &lt; Buf&#39;Length is\r\n          begin\r\n             Buf (Write_Idx) := Item;\r\n             Write_Idx       := Write_Idx + 1;\r\n             Count           := Count + 1;\r\n          end Write;\r\n    \r\n          ----------\r\n          -- Read --\r\n          ----------\r\n    \r\n          entry Read (Item : out Integer) when Count &gt; 0 is\r\n          begin\r\n             Item     := Buf (Read_Idx);\r\n             Read_Idx := Read_Idx + 1;\r\n             Count    := Count - 1;\r\n          end Read;\r\n    \r\n          -----------------------\r\n          -- Register_Consumer --\r\n          -----------------------\r\n    \r\n          entry Register_Consumer when Producer_Count &gt; 0 is\r\n          begin\r\n             null;\r\n          end Register_Consumer;\r\n    \r\n          -----------------------\r\n          -- Register_Producer --\r\n          -----------------------\r\n    \r\n          procedure Register_Producer is\r\n          begin\r\n             Producer_Count := Producer_Count + 1;\r\n          end Register_Producer;\r\n    \r\n          -------------------\r\n          -- Producer_Done --\r\n          -------------------\r\n    \r\n          procedure Producer_Done is\r\n          begin\r\n             Producer_Count := Producer_Count - 1;\r\n          end Producer_Done;\r\n    \r\n          --------------------\r\n          -- Producers_Done --\r\n          --------------------\r\n    \r\n          function Producers_Done return Boolean is\r\n          begin\r\n             return Producer_Count = 0;\r\n          end Producers_Done;\r\n    \r\n          --------------\r\n          -- Is_Empty --\r\n          --------------\r\n    \r\n          function Is_Empty return Boolean is\r\n          begin\r\n             return Count = 0;\r\n          end Is_Empty;\r\n    \r\n       end buffer;\r\n    \r\n       --------------\r\n       -- Producer --\r\n       --------------\r\n    \r\n       task body Producer is\r\n          subtype Nums is Integer range 1 .. 1_000;\r\n          package Rand_Nums is new Ada.Numerics.Discrete_Random (Nums);\r\n          use Rand_Nums;\r\n          Seed : Generator;\r\n          Num  : Nums;\r\n       begin\r\n          Reset (Seed);\r\n          buffer.Register_Producer;\r\n          for I in 1 .. 5 loop\r\n             Num := Random (Seed);\r\n             buffer.Write (Num);\r\n             Put_Line (&quot;Producer produced&quot; &amp; Num&#39;Image);\r\n          end loop;\r\n          buffer.Producer_Done;\r\n       end Producer;\r\n    \r\n       --------------\r\n       -- Consumer --\r\n       --------------\r\n    \r\n       task body Consumer is\r\n          Num : Integer;\r\n       begin\r\n          buffer.Register_Consumer;\r\n          loop\r\n             select\r\n                buffer.Read (Num);\r\n                Put_Line (&quot;Consumed&quot; &amp; Num&#39;Image);\r\n                delay 0.1;\r\n             or\r\n                delay 0.001;\r\n             end select;\r\n             exit when buffer.Producers_Done and buffer.Is_Empty;\r\n          end loop;\r\n    \r\n       end Consumer;\r\n    \r\n    end prod_con_shut_down;\r\n\r\n\r\nThe Register_Producer procedure increments the Producer_Count member of the Buffer protected object. The Register_Consumer entry simply forces the Consumers to wait for a producer to register before doing anything else. The Producers_Done function returns True when all producers have called Producer_Done.\r\nThe loop within the Consumer exits when Producers_Done is true and Is_Empty is true.\r\n\r\nThe third file is the program entry point. Ada allows the program entry point to have any name the programmer chooses. In this example I chose &quot;main&quot;.\r\n\r\nFile: main.adb\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with prod_con_shut_down; use Prod_con_shut_down;\r\n    \r\n    procedure Main is\r\n      \r\n       P : array (1..2) of Producer;\r\n       C : array (1..2) of Consumer;\r\n    \r\n    begin\r\n       null;\r\n    end Main;\r\n\r\nThe main procedure creates an array of Producers containing two producers, then it creates an array of Consumers containing two Consumers. After that the main procedure simply suspends until all the producer and consumer tasks complete.\r\n\r\nA sample execution of this program, with the producers running much slower than the consumers is:\r\n\r\n    Producer produced 157\r\n    Consumed 157\r\n    Producer produced 924\r\n    Producer produced 544\r\n    Producer produced 365\r\n    Producer produced 653\r\n    Consumed 653\r\n    Producer produced 940\r\n    Consumed 924\r\n    Producer produced 523\r\n    Producer produced 660\r\n    Consumed 544\r\n    Consumed 940\r\n    Consumed 365\r\n    Producer produced 431\r\n    Producer produced 733\r\n    Consumed 523\r\n    Consumed 660\r\n    Consumed 431\r\n    Consumed 733","title":"I need help I want to exit the program","body":"<p>One of the problems with coordinating multiple producers and multiple consumers is the problem that the consumers may execute faster than the producers. Thus, detecting an empty buffer cannot always be an indication that the producers have ended production.</p>\n<p>As long as a producer is producing this problem needs the consumers to continue consuming, while at the same time finding a way to terminate all the consumers once the producers are terminated and all the data is read from the buffer.</p>\n<p>The following solution is provided using the Ada programming language.\nThe solution is spread across three files.</p>\n<p>File: prod_con_shut_down.ads</p>\n<pre class=\"lang-ada prettyprint-override\"><code>package prod_con_shut_down is\n   task type Producer;\n   task type Consumer;\nend prod_con_shut_down;\n</code></pre>\n<p>The Ada package specification above exposes only two items, the Producer task type and the Consumer task type.</p>\n<p>The implementation of the prod_con_shut_down package is in the second file:\nFile: prod_con_shut_down.adb</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Ada.Numerics.Discrete_Random;\nwith Ada.Text_IO; use Ada.Text_IO;\n\npackage body prod_con_shut_down is\n\n   type Buf_Idx is mod 4;\n   type Buf_arr is array (Buf_Idx) of Integer;\n\n   ------------\n   -- buffer --\n   ------------\n\n   protected buffer is\n      entry Write (Item : in Integer);\n      entry Read (Item : out Integer);\n      entry Register_Consumer;\n      procedure Register_Producer;\n      procedure Producer_Done;\n      function Producers_Done return Boolean;\n      function Is_Empty return Boolean;\n   private\n      Buf            : Buf_arr;\n      Write_Idx      : Buf_Idx := 0;\n      Read_Idx       : Buf_Idx := 0;\n      Count          : Natural := 0;\n      Producer_Count : Natural := 0;\n   end buffer;\n\n   protected body buffer is\n      -----------\n      -- Write --\n      -----------\n\n      entry Write (Item : in Integer) when Count &lt; Buf'Length is\n      begin\n         Buf (Write_Idx) := Item;\n         Write_Idx       := Write_Idx + 1;\n         Count           := Count + 1;\n      end Write;\n\n      ----------\n      -- Read --\n      ----------\n\n      entry Read (Item : out Integer) when Count &gt; 0 is\n      begin\n         Item     := Buf (Read_Idx);\n         Read_Idx := Read_Idx + 1;\n         Count    := Count - 1;\n      end Read;\n\n      -----------------------\n      -- Register_Consumer --\n      -----------------------\n\n      entry Register_Consumer when Producer_Count &gt; 0 is\n      begin\n         null;\n      end Register_Consumer;\n\n      -----------------------\n      -- Register_Producer --\n      -----------------------\n\n      procedure Register_Producer is\n      begin\n         Producer_Count := Producer_Count + 1;\n      end Register_Producer;\n\n      -------------------\n      -- Producer_Done --\n      -------------------\n\n      procedure Producer_Done is\n      begin\n         Producer_Count := Producer_Count - 1;\n      end Producer_Done;\n\n      --------------------\n      -- Producers_Done --\n      --------------------\n\n      function Producers_Done return Boolean is\n      begin\n         return Producer_Count = 0;\n      end Producers_Done;\n\n      --------------\n      -- Is_Empty --\n      --------------\n\n      function Is_Empty return Boolean is\n      begin\n         return Count = 0;\n      end Is_Empty;\n\n   end buffer;\n\n   --------------\n   -- Producer --\n   --------------\n\n   task body Producer is\n      subtype Nums is Integer range 1 .. 1_000;\n      package Rand_Nums is new Ada.Numerics.Discrete_Random (Nums);\n      use Rand_Nums;\n      Seed : Generator;\n      Num  : Nums;\n   begin\n      Reset (Seed);\n      buffer.Register_Producer;\n      for I in 1 .. 5 loop\n         Num := Random (Seed);\n         buffer.Write (Num);\n         Put_Line (&quot;Producer produced&quot; &amp; Num'Image);\n      end loop;\n      buffer.Producer_Done;\n   end Producer;\n\n   --------------\n   -- Consumer --\n   --------------\n\n   task body Consumer is\n      Num : Integer;\n   begin\n      buffer.Register_Consumer;\n      loop\n         select\n            buffer.Read (Num);\n            Put_Line (&quot;Consumed&quot; &amp; Num'Image);\n            delay 0.1;\n         or\n            delay 0.001;\n         end select;\n         exit when buffer.Producers_Done and buffer.Is_Empty;\n      end loop;\n\n   end Consumer;\n\nend prod_con_shut_down;\n</code></pre>\n<p>The Register_Producer procedure increments the Producer_Count member of the Buffer protected object. The Register_Consumer entry simply forces the Consumers to wait for a producer to register before doing anything else. The Producers_Done function returns True when all producers have called Producer_Done.\nThe loop within the Consumer exits when Producers_Done is true and Is_Empty is true.</p>\n<p>The third file is the program entry point. Ada allows the program entry point to have any name the programmer chooses. In this example I chose &quot;main&quot;.</p>\n<p>File: main.adb</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with prod_con_shut_down; use Prod_con_shut_down;\n\nprocedure Main is\n  \n   P : array (1..2) of Producer;\n   C : array (1..2) of Consumer;\n\nbegin\n   null;\nend Main;\n</code></pre>\n<p>The main procedure creates an array of Producers containing two producers, then it creates an array of Consumers containing two Consumers. After that the main procedure simply suspends until all the producer and consumer tasks complete.</p>\n<p>A sample execution of this program, with the producers running much slower than the consumers is:</p>\n<pre><code>Producer produced 157\nConsumed 157\nProducer produced 924\nProducer produced 544\nProducer produced 365\nProducer produced 653\nConsumed 653\nProducer produced 940\nConsumed 924\nProducer produced 523\nProducer produced 660\nConsumed 544\nConsumed 940\nConsumed 365\nProducer produced 431\nProducer produced 733\nConsumed 523\nConsumed 660\nConsumed 431\nConsumed 733\n</code></pre>\n"}],"owner":{"account_id":27206884,"reputation":1,"user_id":20738297,"display_name":"HM Try"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670725627,"creation_date":1670636230,"question_id":74749745,"body_markdown":"**I need help in this code its simple code about bounded buffer problem using multiple producers and consumers\r\nits working and there are no issues with it .... but when the producers finished the consumers still waiting and the program running forever so how can I solve this **```\r\n\r\n```\r\n\r\n\r\n//main class\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\npublic class MULTIPLE_ProducerConsumerWaitNotify {\r\n\r\n public static void main(String args[]) {\r\n  List&lt;Integer&gt; sharedQueue = new LinkedList&lt;Integer&gt;(); //Creating shared object\r\n   \r\n  Producer producer0=new Producer(sharedQueue, 0);\r\n  Consumer consumer0=new Consumer(sharedQueue);\r\n\r\n     Thread producerThread0 = new Thread(producer0, &quot;ProducerThread0&quot;);\r\n     Thread consumerThread0 = new Thread(consumer0, &quot;ConsumerThread0&quot;);\r\n     producerThread0.start();\r\n     consumerThread0.start();\r\n     \r\n     \r\n  Producer producer1=new Producer(sharedQueue, 1);\r\n  Consumer consumer1=new Consumer(sharedQueue);\r\n\r\n     Thread producerThread1 = new Thread(producer1, &quot;ProducerThread1&quot;);\r\n     Thread consumerThread1 = new Thread(consumer1, &quot;ConsumerThread1&quot;);\r\n     producerThread1.start();\r\n     consumerThread1.start();\r\n } \r\n    \r\n}\r\n\r\n//producer class\r\n\r\n\r\nclass Producer implements Runnable {\r\n private List&lt;Integer&gt; sharedQueue;\r\n private int maxSize=4; //maximum number of products which sharedQueue can hold at a time.\r\n  static int productionSize=5; //Total no of items to be produced by each producer\r\n int producerNo;\r\n public Producer(List&lt;Integer&gt; sharedQueue, int producerNo) {\r\n     this.sharedQueue = sharedQueue;\r\n     this.producerNo = producerNo;\r\n }\r\n\r\n @Override\r\n public void run() {\r\n     for (int i = 1; i &lt;= productionSize; i++) { //produce products.\r\n         try {\r\n             produce(i);\r\n\r\n         } catch (InterruptedException e) {  e.printStackTrace(); }\r\n     }\r\n     \r\n}\r\n\r\n private void produce(int i) throws InterruptedException {\r\n  \r\n    synchronized (sharedQueue) {            \r\n\r\n       //if sharedQuey is full wait until consumer consumes.\r\n       while (sharedQueue.size() == maxSize) {\r\n             System.out.println(Thread.currentThread().getName()+&quot;, Queue is full, producerThread is waiting for &quot;\r\n                    + &quot;consumerThread to consume, sharedQueue&#39;s size= &quot;+maxSize);\r\n             sharedQueue.wait();\r\n\r\n         }\r\n\r\n       //Bcz each producer must produce unique product\r\n             //Ex= producer0 will produce 1-5  and producer1 will produce 6-10 in random order\r\n       int producedItem = (productionSize*producerNo)+ i;  \r\n       \r\n       System.out.println(Thread.currentThread().getName() +&quot; Produced : &quot; + producedItem);\r\n       sharedQueue.add(producedItem);\r\n         Thread.sleep((long)(Math.random() * 1000));\r\n         sharedQueue.notify();\r\n     }\r\n }\r\n\r\n    \r\n}\r\n\r\n\r\n//consumer class\r\n\r\n\r\nclass Consumer implements Runnable {\r\n    private List&lt;Integer&gt; sharedQueue;\r\n public Consumer(List&lt;Integer&gt; sharedQueue) {\r\n     this.sharedQueue = sharedQueue;\r\n }\r\n \r\n    @Override\r\n public void run() {\r\n     while (true) {\r\n         try {\r\n             consume();\r\n    \r\n             Thread.sleep(100);\r\n             \r\n         } catch (InterruptedException e) {  e.printStackTrace(); }\r\n     }\r\n }\r\n\r\n private void consume() throws InterruptedException {\r\n                \r\n\r\n    synchronized (sharedQueue) {\r\n       //if sharedQuey is empty wait until producer produces.\r\n       while (sharedQueue.size() == 0) {\r\n           System.out.println(Thread.currentThread().getName()+&quot;, Queue is empty, consumerThread is waiting for &quot;\r\n                           + &quot;producerThread to produce, sharedQueue&#39;s size= 0&quot;);  \r\n           sharedQueue.wait();\r\n            \r\n         }\r\n\r\n       Thread.sleep((long)(Math.random() * 2000));\r\n         System.out.println(Thread.currentThread().getName()+&quot;, CONSUMED : &quot;+ sharedQueue.remove(0));\r\n         sharedQueue.notify();\r\n     }\r\n    \r\n }\r\n \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\ni tried to make a shared counter when it&#39;s done the code exit ()","title":"I need help I want to exit the program","body":"<p>**I need help in this code its simple code about bounded buffer problem using multiple producers and consumers\nits working and there are no issues with it .... but when the producers finished the consumers still waiting and the program running forever so how can I solve this **```</p>\n<pre><code>\n\n//main class\nimport java.util.LinkedList;\nimport java.util.List;\npublic class MULTIPLE_ProducerConsumerWaitNotify {\n\n public static void main(String args[]) {\n  List&lt;Integer&gt; sharedQueue = new LinkedList&lt;Integer&gt;(); //Creating shared object\n   \n  Producer producer0=new Producer(sharedQueue, 0);\n  Consumer consumer0=new Consumer(sharedQueue);\n\n     Thread producerThread0 = new Thread(producer0, &quot;ProducerThread0&quot;);\n     Thread consumerThread0 = new Thread(consumer0, &quot;ConsumerThread0&quot;);\n     producerThread0.start();\n     consumerThread0.start();\n     \n     \n  Producer producer1=new Producer(sharedQueue, 1);\n  Consumer consumer1=new Consumer(sharedQueue);\n\n     Thread producerThread1 = new Thread(producer1, &quot;ProducerThread1&quot;);\n     Thread consumerThread1 = new Thread(consumer1, &quot;ConsumerThread1&quot;);\n     producerThread1.start();\n     consumerThread1.start();\n } \n    \n}\n\n//producer class\n\n\nclass Producer implements Runnable {\n private List&lt;Integer&gt; sharedQueue;\n private int maxSize=4; //maximum number of products which sharedQueue can hold at a time.\n  static int productionSize=5; //Total no of items to be produced by each producer\n int producerNo;\n public Producer(List&lt;Integer&gt; sharedQueue, int producerNo) {\n     this.sharedQueue = sharedQueue;\n     this.producerNo = producerNo;\n }\n\n @Override\n public void run() {\n     for (int i = 1; i &lt;= productionSize; i++) { //produce products.\n         try {\n             produce(i);\n\n         } catch (InterruptedException e) {  e.printStackTrace(); }\n     }\n     \n}\n\n private void produce(int i) throws InterruptedException {\n  \n    synchronized (sharedQueue) {            \n\n       //if sharedQuey is full wait until consumer consumes.\n       while (sharedQueue.size() == maxSize) {\n             System.out.println(Thread.currentThread().getName()+&quot;, Queue is full, producerThread is waiting for &quot;\n                    + &quot;consumerThread to consume, sharedQueue's size= &quot;+maxSize);\n             sharedQueue.wait();\n\n         }\n\n       //Bcz each producer must produce unique product\n             //Ex= producer0 will produce 1-5  and producer1 will produce 6-10 in random order\n       int producedItem = (productionSize*producerNo)+ i;  \n       \n       System.out.println(Thread.currentThread().getName() +&quot; Produced : &quot; + producedItem);\n       sharedQueue.add(producedItem);\n         Thread.sleep((long)(Math.random() * 1000));\n         sharedQueue.notify();\n     }\n }\n\n    \n}\n\n\n//consumer class\n\n\nclass Consumer implements Runnable {\n    private List&lt;Integer&gt; sharedQueue;\n public Consumer(List&lt;Integer&gt; sharedQueue) {\n     this.sharedQueue = sharedQueue;\n }\n \n    @Override\n public void run() {\n     while (true) {\n         try {\n             consume();\n    \n             Thread.sleep(100);\n             \n         } catch (InterruptedException e) {  e.printStackTrace(); }\n     }\n }\n\n private void consume() throws InterruptedException {\n                \n\n    synchronized (sharedQueue) {\n       //if sharedQuey is empty wait until producer produces.\n       while (sharedQueue.size() == 0) {\n           System.out.println(Thread.currentThread().getName()+&quot;, Queue is empty, consumerThread is waiting for &quot;\n                           + &quot;producerThread to produce, sharedQueue's size= 0&quot;);  \n           sharedQueue.wait();\n            \n         }\n\n       Thread.sleep((long)(Math.random() * 2000));\n         System.out.println(Thread.currentThread().getName()+&quot;, CONSUMED : &quot;+ sharedQueue.remove(0));\n         sharedQueue.notify();\n     }\n    \n }\n \n}\n\n\n\n\n\n\n\n</code></pre>\n<p>i tried to make a shared counter when it's done the code exit ()</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1670592457,"post_id":74743245,"comment_id":131915475,"body_markdown":"I tried that as well. But same response.","body":"I tried that as well. But same response."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670593771,"post_id":74743245,"comment_id":131915917,"body_markdown":"*I tried that as well. But same response* Please edit your question to show that code you tried. Also call `inheritIO` on the builder","body":"<i>I tried that as well. But same response</i> Please edit your question to show that code you tried. Also call <code>inheritIO</code> on the builder"}],"answers":[{"tags":[],"owner":{"account_id":366852,"reputation":161775,"user_id":712649,"accept_rate":100,"display_name":"Mathias R. Jessen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590529,"creation_date":1670590529,"answer_id":74743458,"question_id":74743245,"body_markdown":"The problem here is likely that `|` is interpreted by the default shell (eg. cmd.exe) before being passed to `powershell.exe`.\r\n\r\nTo work around this, use the `-EncodedCommand` command line switch to safely pass the command to `powershell.exe`:\r\n\r\n    public String disableIndexing(String driveLetter) {\r\n        String driveLetter = &quot;D&quot;;\r\n        String powerShellCommand = &quot;Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;&quot; + driveLetter + &quot;:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}&quot;;\r\n\r\n        // Base64-encode the UTF16LE representation of the command\r\n        byte[] powerShellBytes = powerShellCommand.getBytes(StandardCharsets.UTF_16LE);\r\n        String encodedCmd = new String(Base64.getEncoder().encode(powerShellBytes));\r\n\r\n        String command = &quot;powershell.exe -EncodedCommand &quot; + encodedCmd;\r\n\r\n        try {\r\n            // proceed the same as before ...\r\n        }\r\n        catch (Exception e) {\r\n            // ...\r\n        }\r\n\r\n        return returnVal;\r\n    }","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>The problem here is likely that <code>|</code> is interpreted by the default shell (eg. cmd.exe) before being passed to <code>powershell.exe</code>.</p>\n<p>To work around this, use the <code>-EncodedCommand</code> command line switch to safely pass the command to <code>powershell.exe</code>:</p>\n<pre><code>public String disableIndexing(String driveLetter) {\n    String driveLetter = &quot;D&quot;;\n    String powerShellCommand = &quot;Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='&quot; + driveLetter + &quot;:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}&quot;;\n\n    // Base64-encode the UTF16LE representation of the command\n    byte[] powerShellBytes = powerShellCommand.getBytes(StandardCharsets.UTF_16LE);\n    String encodedCmd = new String(Base64.getEncoder().encode(powerShellBytes));\n\n    String command = &quot;powershell.exe -EncodedCommand &quot; + encodedCmd;\n\n    try {\n        // proceed the same as before ...\n    }\n    catch (Exception e) {\n        // ...\n    }\n\n    return returnVal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670725192,"creation_date":1670725192,"answer_id":74757944,"question_id":74743245,"body_markdown":"hey guys I got the solution. But even I didn&#39;t understand how this worked. So, what I did is while coping my command from one method to another method I accidently left the 2 extra slashes on my String command and executed it. And it worked.\r\nActual Command : `String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;H:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`&quot; It was not working.\r\n\r\nCommand which worked : `String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\\\\\&quot;DriveLetter=&#39;H:&#39;\\\\\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`&quot; \r\nI still not able to understand how it worked. because in actual PowerShell command it shouldn&#39;t have that back slash before and after DriveLetter.","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>hey guys I got the solution. But even I didn't understand how this worked. So, what I did is while coping my command from one method to another method I accidently left the 2 extra slashes on my String command and executed it. And it worked.\nActual Command : <code>String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='H:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code>&quot; It was not working.</p>\n<p>Command which worked : <code>String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\\\\\&quot;DriveLetter='H:'\\\\\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code>&quot;\nI still not able to understand how it worked. because in actual PowerShell command it shouldn't have that back slash before and after DriveLetter.</p>\n"}],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670725192,"creation_date":1670589354,"question_id":74743245,"body_markdown":"I am trying to execute below command using java Process class but it&#39;s not giving me any response or neither its effecting which it should do.\r\n\r\nBut when I am executing the command directly on PowerShell its working fine only it&#39;s not working using java code. I have tried other PowerShell commands, and all are working fine accept this one.\r\n\r\nIt&#39;s a command to disable indexing of a drive.\r\n\r\nOutput its only printing the command and in response of isAlive() method call it replies with false.\r\n\r\nCommand: `powershell.exe Get-WmiObject -Class Win32_Volume -Filter &quot;DriveLetter=&#39;I:&#39;&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`\r\n\r\n&gt; isAlive : false\r\n\r\nThere is nothing more in the code I am just calling this method from my main class that&#39;s it like `classObject.disableIndexing(&quot;D&quot;)`\r\n\r\nNote I am executing the same using admin rights only.\r\nPlease help.\r\n\r\n```\r\npublic String disableIndexing(String driveLetter) {\r\n\t\t\r\n\tString returnVal=&quot;&quot;;\r\n\tString command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;&quot;+driveLetter+&quot;:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False} &quot;;\r\n\ttry {\t\r\n\t\tSystem.out.println(command);\r\n\t\tProcess p = Runtime.getRuntime().exec(command);\r\n\t\tp.waitFor();\r\n\t\tString line1=&quot;&quot;;\r\n\t\tString line=&quot;&quot;;\r\n\t\tBufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\twhile ((line1 = br.readLine()) != null) {\r\n    \t\t        System.out.println(line1);\r\n\t\t\tif(!line1.isEmpty())\r\n\t\t\tSystem.err.println(line1);\r\n\t\t}\r\n\t\tSystem.out.println(p.isAlive());\r\n\t\tif(p.exitValue()==0) {\r\n\t\t\treturnVal=&quot;Indexing changed Successfully&quot;;\r\n    \t        }else {\r\n\t\t\treturnVal=&quot;Your Drive is Not Responding Try After Some Time&quot;;\r\n\t        }\r\n\t}catch(Exception e) {\r\n\t\te.printStackTrace();\r\n\t\t\t\r\n\t}\r\n\treturn returnVal;\r\n\t\t\r\n}\r\n```","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>I am trying to execute below command using java Process class but it's not giving me any response or neither its effecting which it should do.</p>\n<p>But when I am executing the command directly on PowerShell its working fine only it's not working using java code. I have tried other PowerShell commands, and all are working fine accept this one.</p>\n<p>It's a command to disable indexing of a drive.</p>\n<p>Output its only printing the command and in response of isAlive() method call it replies with false.</p>\n<p>Command: <code>powershell.exe Get-WmiObject -Class Win32_Volume -Filter &quot;DriveLetter='I:'&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code></p>\n<blockquote>\n<p>isAlive : false</p>\n</blockquote>\n<p>There is nothing more in the code I am just calling this method from my main class that's it like <code>classObject.disableIndexing(&quot;D&quot;)</code></p>\n<p>Note I am executing the same using admin rights only.\nPlease help.</p>\n<pre><code>public String disableIndexing(String driveLetter) {\n        \n    String returnVal=&quot;&quot;;\n    String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='&quot;+driveLetter+&quot;:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False} &quot;;\n    try {   \n        System.out.println(command);\n        Process p = Runtime.getRuntime().exec(command);\n        p.waitFor();\n        String line1=&quot;&quot;;\n        String line=&quot;&quot;;\n        BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while ((line1 = br.readLine()) != null) {\n                    System.out.println(line1);\n            if(!line1.isEmpty())\n            System.err.println(line1);\n        }\n        System.out.println(p.isAlive());\n        if(p.exitValue()==0) {\n            returnVal=&quot;Indexing changed Successfully&quot;;\n                }else {\n            returnVal=&quot;Your Drive is Not Responding Try After Some Time&quot;;\n            }\n    }catch(Exception e) {\n        e.printStackTrace();\n            \n    }\n    return returnVal;\n        \n}\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670722604,"creation_date":1670722604,"answer_id":74757779,"question_id":74757734,"body_markdown":"This code will take the parameter into account:\r\n```java\r\npublic Fruta[] generarCombinacion(int cantidadCasillas) {\r\n    Random random = new Random();\r\n    Fruta[] combinacion = new Fruta[cantidadCasillas];\r\n    for (int i = 0; i &lt; cantidadCasillas; i++) {\r\n        combinacion[i] = Fruta.values()[random.nextInt(cantidadCasillas)];\r\n    }\r\n    return combinacion;\r\n}\r\n```\r\n\r\nThere are multiple ways in java to create an array. In your code you chose the way to directly instantiate the array with values, there you had no chance of making its size depend on the parameter.\r\n\r\n`new Fruta[cantidadCasillas]` creates an array of the length of variable `cantidadCasillas` and the for-loop sets the values one-by-one.","title":"Java - Generate random array with length given by input","body":"<p>This code will take the parameter into account:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Fruta[] generarCombinacion(int cantidadCasillas) {\n    Random random = new Random();\n    Fruta[] combinacion = new Fruta[cantidadCasillas];\n    for (int i = 0; i &lt; cantidadCasillas; i++) {\n        combinacion[i] = Fruta.values()[random.nextInt(cantidadCasillas)];\n    }\n    return combinacion;\n}\n</code></pre>\n<p>There are multiple ways in java to create an array. In your code you chose the way to directly instantiate the array with values, there you had no chance of making its size depend on the parameter.</p>\n<p><code>new Fruta[cantidadCasillas]</code> creates an array of the length of variable <code>cantidadCasillas</code> and the for-loop sets the values one-by-one.</p>\n"}],"owner":{"account_id":22889814,"reputation":9,"user_id":17030107,"display_name":"webussy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670722604,"creation_date":1670721681,"question_id":74757734,"body_markdown":"I&#39;m working on a school project of a Casino Java App using OOP and Swing for GUI. &lt;br/&gt;\r\nI have to build a slot machine which receives a number of boxes by user input and when user hits the &quot;play&quot; button, It needs to retrieve a random combination of fruits with the length of the input. &lt;br/&gt;\r\nFor example, if user wants the slot machine to have 3 boxes, there should be a random combination of 3 fruits out of all the fruits I have in my array. &lt;br/&gt;Lets say I have 20 fruits available, I need to use only as many fruits as boxes. If user wants 5 boxes in the slot machine, I need to retrieve 5 fruit combination. \r\nI hope i explained myself\r\n\r\n\r\nFor this project I created a Fruit enum class, and I mapped the name of the fruit with a picture of it to show it in the slot machine. \r\n\r\n\r\n```\r\npublic enum Fruta {\r\n\r\n    PERA(&quot;pera.png&quot;, &quot;pera&quot;),\r\n    BANANA(&quot;banana.png&quot;, &quot;banana&quot;),\r\n    FRUTILLA(&quot;frutilla.png&quot;, &quot;frutilla&quot;);\r\n\r\n    private String archivo;\r\n    private String descripcion;\r\n\r\n    Fruta(String archivo, String descripcion) {\r\n        this.archivo = archivo;\r\n        this.descripcion = descripcion;\r\n    }\r\n\r\n    public String getArchivo() {\r\n        return archivo;\r\n    }\r\n\r\n    public static Fruta obtenerPorValor(String text){\r\n        for (Fruta f : Fruta.values()) {\r\n            if (f.descripcion.equalsIgnoreCase(text)) {\r\n                return f;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my controller class, &#39;Casino&#39;, I built the &#39;play&#39; method:\r\n\r\n\r\n```\r\npublic Fruta[] jugar(TicketView ticket,MaquinaTragamonedasView maquinaView) {\r\n    MaquinaTragamonedas maquina = buscarMaquina(maquinaView.getIdMaquina());\r\n    if(ticket.getCredito() &gt;= maquina.getCosteJugada() &amp;&amp; ticket != null) {\r\n        Fruta[] combinacion = maquina.jugar();\r\n        return combinacion;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nPlay method inside my MaquinaTragamonedas (slot machine) class:\r\n\r\n\r\n```\r\npublic Fruta[] jugar () {\r\n\r\n    if(verificarRecaudacionMinima()){\r\n        mostrarMensaje();\r\n    };\r\n    return generarCombinacion(cantidadCasillas);\r\n\r\n}\r\n```\r\n\r\nThis is how i generate the random combination of fruits inside the Slot machine class: \r\n\r\n\r\n```\r\npublic Fruta[] generarCombinacion(int cantidadCasillas) {\r\n    Random random = new Random();\r\n    Fruta[] combinacion = {Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)]};\r\n    return combinacion;\r\n}\r\n```\r\n\r\nAs you can see I need the numer of boxes (cantidadCasillas) to retrieve the combination, but cant get my head to achieve this. \r\n\r\n\r\n\r\n","title":"Java - Generate random array with length given by input","body":"<p>I'm working on a school project of a Casino Java App using OOP and Swing for GUI. <br/>\nI have to build a slot machine which receives a number of boxes by user input and when user hits the &quot;play&quot; button, It needs to retrieve a random combination of fruits with the length of the input. <br/>\nFor example, if user wants the slot machine to have 3 boxes, there should be a random combination of 3 fruits out of all the fruits I have in my array. <br/>Lets say I have 20 fruits available, I need to use only as many fruits as boxes. If user wants 5 boxes in the slot machine, I need to retrieve 5 fruit combination.\nI hope i explained myself</p>\n<p>For this project I created a Fruit enum class, and I mapped the name of the fruit with a picture of it to show it in the slot machine.</p>\n<pre><code>public enum Fruta {\n\n    PERA(&quot;pera.png&quot;, &quot;pera&quot;),\n    BANANA(&quot;banana.png&quot;, &quot;banana&quot;),\n    FRUTILLA(&quot;frutilla.png&quot;, &quot;frutilla&quot;);\n\n    private String archivo;\n    private String descripcion;\n\n    Fruta(String archivo, String descripcion) {\n        this.archivo = archivo;\n        this.descripcion = descripcion;\n    }\n\n    public String getArchivo() {\n        return archivo;\n    }\n\n    public static Fruta obtenerPorValor(String text){\n        for (Fruta f : Fruta.values()) {\n            if (f.descripcion.equalsIgnoreCase(text)) {\n                return f;\n            }\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>In my controller class, 'Casino', I built the 'play' method:</p>\n<pre><code>public Fruta[] jugar(TicketView ticket,MaquinaTragamonedasView maquinaView) {\n    MaquinaTragamonedas maquina = buscarMaquina(maquinaView.getIdMaquina());\n    if(ticket.getCredito() &gt;= maquina.getCosteJugada() &amp;&amp; ticket != null) {\n        Fruta[] combinacion = maquina.jugar();\n        return combinacion;\n    }\n    return null;\n}\n</code></pre>\n<p>Play method inside my MaquinaTragamonedas (slot machine) class:</p>\n<pre><code>public Fruta[] jugar () {\n\n    if(verificarRecaudacionMinima()){\n        mostrarMensaje();\n    };\n    return generarCombinacion(cantidadCasillas);\n\n}\n</code></pre>\n<p>This is how i generate the random combination of fruits inside the Slot machine class:</p>\n<pre><code>public Fruta[] generarCombinacion(int cantidadCasillas) {\n    Random random = new Random();\n    Fruta[] combinacion = {Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)]};\n    return combinacion;\n}\n</code></pre>\n<p>As you can see I need the numer of boxes (cantidadCasillas) to retrieve the combination, but cant get my head to achieve this.</p>\n"},{"tags":["java","quartz-scheduler","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1670764838,"post_id":74757695,"comment_id":131944102,"body_markdown":"Try updating to the latest version (5.0.0-beta.2)","body":"Try updating to the latest version (5.0.0-beta.2)"},{"owner":{"account_id":27214875,"reputation":1,"user_id":20745057,"display_name":"123period"},"score":0,"creation_date":1670768096,"post_id":74757695,"comment_id":131944736,"body_markdown":"@Minn updated it and it was resolved. Thank you!","body":"@Minn updated it and it was resolved. Thank you!"}],"owner":{"account_id":27214875,"reputation":1,"user_id":20745057,"display_name":"123period"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670720994,"creation_date":1670720994,"question_id":74757695,"body_markdown":"I send an image file to a specific discord channel every minute with Quartz Scheduler.\r\nHowever, when image file is sent, my bot&#39;s console outputs the log below.\r\n\r\n\r\n```\r\n[Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance, closing on finalization step!\r\n```\r\n\r\n\r\n\r\n\r\nIs it possible to disable log? Or did I do something wrong?\r\n\r\nFiles are sent well, but this log is very annoying because it prints out every time a file is sent to the console.\r\n\r\n\r\n\r\nHere is my code (If you need):\r\n\r\n\r\nImageSendingJob.java\r\n```\r\npublic class ImageSendingJob implements Job {\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n        TextChannel textChannel = JDA.guild.getTextChannelById(&quot;ID&quot;);\r\n        InputStream image = // Image\r\n        textChannel\r\n                .sendFile(image, String.format(&quot;%s.png&quot;, context.getFireTime()))\r\n                .complete();\r\n    }\r\n}\r\n```\r\n\r\nSchedulerManager.java\r\n```\r\nprivate void startScheduler() {\r\n    SchedulerFactory schedulerFactory = new StdSchedulerFactory();\r\n    try {\r\n        Scheduler scheduler = schedulerFactory.getScheduler();\r\n\r\n        JobDetail job = newJob(ImageSendingJob.class)\r\n                .withIdentity(&quot;Job&quot;, Scheduler.DEFAULT_GROUP)\r\n                .build();\r\n        Trigger trigger = TriggerBuilder.newTrigger()\r\n                .withIdentity(&quot;JobTrigger&quot;, Scheduler.DEFAULT_GROUP)\r\n                .withSchedule(SimpleScheduleBuilder.simpleSchedule()\r\n                        .withIntervalInSeconds(60)\r\n                        .repeatForever())\r\n                .build();\r\n        scheduler.scheduleJob(job, trigger);\r\n        scheduler.start();\r\n    } catch (SchedulerException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n","title":"Discord JDA keeps printing [Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance","body":"<p>I send an image file to a specific discord channel every minute with Quartz Scheduler.\nHowever, when image file is sent, my bot's console outputs the log below.</p>\n<pre><code>[Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance, closing on finalization step!\n</code></pre>\n<p>Is it possible to disable log? Or did I do something wrong?</p>\n<p>Files are sent well, but this log is very annoying because it prints out every time a file is sent to the console.</p>\n<p>Here is my code (If you need):</p>\n<p>ImageSendingJob.java</p>\n<pre><code>public class ImageSendingJob implements Job {\n    @Override\n    public void execute(JobExecutionContext context) {\n        TextChannel textChannel = JDA.guild.getTextChannelById(&quot;ID&quot;);\n        InputStream image = // Image\n        textChannel\n                .sendFile(image, String.format(&quot;%s.png&quot;, context.getFireTime()))\n                .complete();\n    }\n}\n</code></pre>\n<p>SchedulerManager.java</p>\n<pre><code>private void startScheduler() {\n    SchedulerFactory schedulerFactory = new StdSchedulerFactory();\n    try {\n        Scheduler scheduler = schedulerFactory.getScheduler();\n\n        JobDetail job = newJob(ImageSendingJob.class)\n                .withIdentity(&quot;Job&quot;, Scheduler.DEFAULT_GROUP)\n                .build();\n        Trigger trigger = TriggerBuilder.newTrigger()\n                .withIdentity(&quot;JobTrigger&quot;, Scheduler.DEFAULT_GROUP)\n                .withSchedule(SimpleScheduleBuilder.simpleSchedule()\n                        .withIntervalInSeconds(60)\n                        .repeatForever())\n                .build();\n        scheduler.scheduleJob(job, trigger);\n        scheduler.start();\n    } catch (SchedulerException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["naming-conventions","java"],"comments":[{"owner":{"account_id":12090,"reputation":10338,"user_id":23637,"accept_rate":83,"display_name":"Alvin"},"score":1,"creation_date":1333523980,"post_id":10006293,"comment_id":12792266,"body_markdown":"Where is Joshua Bloch? Maybe it used to be Sun&#39;s coding standard.","body":"Where is Joshua Bloch? Maybe it used to be Sun&#39;s coding standard."}],"answers":[{"tags":[],"owner":{"account_id":1036572,"reputation":8785,"user_id":1043683,"accept_rate":78,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1333523541,"creation_date":1333523541,"answer_id":10006488,"question_id":10006293,"body_markdown":"I believe they are named like that because equivalent functions with same names exist in the code and just to distinguish between native helper functions and public functions they decided to suffix them with 0.\r\n\r\nin `java.util.Properties` both `load`, `store` and `load0`, `store0` exist.","title":"Why some java methods in core libraries end with numbers?","body":"<p>I believe they are named like that because equivalent functions with same names exist in the code and just to distinguish between native helper functions and public functions they decided to suffix them with 0.</p>\n\n<p>in <code>java.util.Properties</code> both <code>load</code>, <code>store</code> and <code>load0</code>, <code>store0</code> exist.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670720118,"creation_date":1333525682,"answer_id":10006932,"question_id":10006293,"body_markdown":"The use of zero suffixes on method names is just a convention to deal with cases where you have a public API method and a corresponding private method.  In the Java SE libraries, this is commonly used for  the `native` methods that provide the underlying functionality implemented by the classes.  (You can see what is going on by looking at the OpenJDK source code.)\r\n\r\nBut your questions are:\r\n\r\n&gt; Why some java methods in core libraries end with numbers?\r\n\r\nBecause someone thought it would be a good idea.  It is not strictly necessary since they *typically* could have overloaded the public methods instead.  And since the zero suffix matters are private, the naming of methods should not be relevant beyond the class and its native implementation.\r\n\r\n&gt; I&#39;m just curious if anybody know if there is any history behind that.\r\n\r\nThere is no mention of this convention in the original Java Style Guide.  In fact, I think it predates Java.  I vaguely recall seeing it in C libraries in 4.x BSD Unix.  That was the mid 1980&#39;s.  And I wouldn&#39;t be surprised if they adopted it from somewhere else.","title":"Why some java methods in core libraries end with numbers?","body":"<p>The use of zero suffixes on method names is just a convention to deal with cases where you have a public API method and a corresponding private method.  In the Java SE libraries, this is commonly used for  the <code>native</code> methods that provide the underlying functionality implemented by the classes.  (You can see what is going on by looking at the OpenJDK source code.)</p>\n<p>But your questions are:</p>\n<blockquote>\n<p>Why some java methods in core libraries end with numbers?</p>\n</blockquote>\n<p>Because someone thought it would be a good idea.  It is not strictly necessary since they <em>typically</em> could have overloaded the public methods instead.  And since the zero suffix matters are private, the naming of methods should not be relevant beyond the class and its native implementation.</p>\n<blockquote>\n<p>I'm just curious if anybody know if there is any history behind that.</p>\n</blockquote>\n<p>There is no mention of this convention in the original Java Style Guide.  In fact, I think it predates Java.  I vaguely recall seeing it in C libraries in 4.x BSD Unix.  That was the mid 1980's.  And I wouldn't be surprised if they adopted it from somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1333528368,"creation_date":1333526171,"answer_id":10007027,"question_id":10006293,"body_markdown":"The 0 after the method name is done so to distinguish between **public** and **private** methods having same name .\r\n\r\n`Start` function will call the `start0` function.\r\nThose functions which ends with 0 is private method. \r\nAnd those which are not ending with number is public.\r\nYou can check in any of the library.","title":"Why some java methods in core libraries end with numbers?","body":"<p>The 0 after the method name is done so to distinguish between <strong>public</strong> and <strong>private</strong> methods having same name .</p>\n\n<p><code>Start</code> function will call the <code>start0</code> function.\nThose functions which ends with 0 is private method. \nAnd those which are not ending with number is public.\nYou can check in any of the library.</p>\n"}],"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2125,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":10006932,"answer_count":3,"score":29,"last_activity_date":1670720118,"creation_date":1333522641,"question_id":10006293,"body_markdown":"It&#39;s common in a lot of classes in JDK, just a few examples:\r\n\r\n 1. [java.util.Properties][1]\r\n    - load0\r\n    - store0\r\n 2. [java.lang.Thread][2]\r\n    - start0\r\n    - stop0\r\n    - setPriority0\r\n\r\nUsually they are private native methods (like in Thread class), but sometimes they are just private (Properties class) \r\n\r\nI&#39;m just curious if anybody know if there is any history behind that.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java","title":"Why some java methods in core libraries end with numbers?","body":"<p>It's common in a lot of classes in JDK, just a few examples:</p>\n\n<ol>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java\" rel=\"noreferrer\">java.util.Properties</a>\n\n<ul>\n<li>load0</li>\n<li>store0</li>\n</ul></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java\" rel=\"noreferrer\">java.lang.Thread</a>\n\n<ul>\n<li>start0</li>\n<li>stop0</li>\n<li>setPriority0</li>\n</ul></li>\n</ol>\n\n<p>Usually they are private native methods (like in Thread class), but sometimes they are just private (Properties class) </p>\n\n<p>I'm just curious if anybody know if there is any history behind that.</p>\n"},{"tags":["java","algorithm","breadth-first-search"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1670614485,"post_id":74746860,"comment_id":131922203,"body_markdown":"Can you add the code that defines some input, then calls the function, making it run for too long?","body":"Can you add the code that defines some input, then calls the function, making it run for too long?"},{"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"score":0,"creation_date":1670615436,"post_id":74746860,"comment_id":131922409,"body_markdown":"I am confused... do you want the code that initializes the files?","body":"I am confused... do you want the code that initializes the files?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1670615498,"post_id":74746860,"comment_id":131922421,"body_markdown":"The code that we can run and see that indeed it takes too long. You&#39;ve only provided a swap function. That is hardly enough for us to reproduce your performance problem.","body":"The code that we can run and see that indeed it takes too long. You&#39;ve only provided a swap function. That is hardly enough for us to reproduce your performance problem."},{"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"score":0,"creation_date":1670615870,"post_id":74746860,"comment_id":131922513,"body_markdown":"I see, I will add it","body":"I see, I will add it"},{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":0,"creation_date":1670869246,"post_id":74746860,"comment_id":131968339,"body_markdown":"Please don&#39;t link to a third-party for your complete code + example. Take the time to create a minimum reproducible example and post it in as simple a format (i.e. text) in your question. The easier you make it for others to understand and run your code the more likely you are to receive a high-quality answer. Please see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please don&#39;t link to a third-party for your complete code + example. Take the time to create a minimum reproducible example and post it in as simple a format (i.e. text) in your question. The easier you make it for others to understand and run your code the more likely you are to receive a high-quality answer. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670720065,"creation_date":1670609565,"question_id":74746860,"body_markdown":"There are 6 different tile colors that are arranged on a 2D rectangular grid. What is the minimum number of adjacent swaps (horizontal and vertical, not diagonal) that will result in no same colored tiles being adjacent? **The program must support grid sizes up to 15 x 15 and must return &quot;no solution&quot; if none exists**\r\n\r\nMy solution appears to work, but for no more than 16 - 20 tiles in the file. Otherwise it runs out of memory and/or takes too long.\r\n\r\nMy program looks for every tile that has another same colored one adjacent to it, and attempts to swap in all four directions (up, down, left, right). Those newly swapped grids are sent to a queue, which the program iterates through (as per the breadth-first-search method) and then applies the four way swap to each. The number of moves simultaneously are being tracked in another array. ArrayLists representing the grid are one dimensional and use integer values rather than Strings (to conserve memory) and the program uses math to determine adjacencies. It also tracks any before seen grids to terminate some unnecessary processing. This program does not account for a possibility of no solution occurring.\r\n\r\nBelow is the four way swap method (repeatedly called with iteration):\r\n\r\n```\r\npublic static boolean minSwaps(ArrayList&lt;Integer&gt; tiles, int moves) {\r\n    boolean solved = true;\r\n    for (int i = 0; i &lt; tiles.size(); i++) {\r\n      if (hasAdjacent(tiles, i)) {\r\n        solved = false;\r\n        try {\r\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n          Collections.swap(tilesNew, i, i - length);\r\n          queue.add(tilesNew);\r\n          Main.moves.add(moves + 1);\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n          Collections.swap(tilesNew, i, i + length);\r\n          queue.add(tilesNew);\r\n          Main.moves.add(moves + 1);\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          if (i + 1 % length != 0) {\r\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n            Collections.swap(tilesNew, i, i + 1);\r\n            queue.add(tilesNew);\r\n            Main.moves.add(moves + 1);\r\n          }\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          if (i % length != 0) {\r\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n            Collections.swap(tilesNew, i, i - 1);\r\n            queue.add(tilesNew);\r\n            Main.moves.add(moves + 1);\r\n          }\r\n        }\r\n        catch(Exception e) {}\r\n      }\r\n    }\r\n    return solved;\r\n  }\r\n```\r\n\r\n\r\nAdditionally, here is a link to the program in its entirety with the file (replit.com) \r\nhttps://replit.com/join/quivtthrqo-roya3\r\n\r\n","title":"How can I make a minimum moves algorithm more efficient?","body":"<p>There are 6 different tile colors that are arranged on a 2D rectangular grid. What is the minimum number of adjacent swaps (horizontal and vertical, not diagonal) that will result in no same colored tiles being adjacent? <strong>The program must support grid sizes up to 15 x 15 and must return &quot;no solution&quot; if none exists</strong></p>\n<p>My solution appears to work, but for no more than 16 - 20 tiles in the file. Otherwise it runs out of memory and/or takes too long.</p>\n<p>My program looks for every tile that has another same colored one adjacent to it, and attempts to swap in all four directions (up, down, left, right). Those newly swapped grids are sent to a queue, which the program iterates through (as per the breadth-first-search method) and then applies the four way swap to each. The number of moves simultaneously are being tracked in another array. ArrayLists representing the grid are one dimensional and use integer values rather than Strings (to conserve memory) and the program uses math to determine adjacencies. It also tracks any before seen grids to terminate some unnecessary processing. This program does not account for a possibility of no solution occurring.</p>\n<p>Below is the four way swap method (repeatedly called with iteration):</p>\n<pre><code>public static boolean minSwaps(ArrayList&lt;Integer&gt; tiles, int moves) {\n    boolean solved = true;\n    for (int i = 0; i &lt; tiles.size(); i++) {\n      if (hasAdjacent(tiles, i)) {\n        solved = false;\n        try {\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n          Collections.swap(tilesNew, i, i - length);\n          queue.add(tilesNew);\n          Main.moves.add(moves + 1);\n        }\n        catch(Exception e) {}\n        try {\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n          Collections.swap(tilesNew, i, i + length);\n          queue.add(tilesNew);\n          Main.moves.add(moves + 1);\n        }\n        catch(Exception e) {}\n        try {\n          if (i + 1 % length != 0) {\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n            Collections.swap(tilesNew, i, i + 1);\n            queue.add(tilesNew);\n            Main.moves.add(moves + 1);\n          }\n        }\n        catch(Exception e) {}\n        try {\n          if (i % length != 0) {\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n            Collections.swap(tilesNew, i, i - 1);\n            queue.add(tilesNew);\n            Main.moves.add(moves + 1);\n          }\n        }\n        catch(Exception e) {}\n      }\n    }\n    return solved;\n  }\n</code></pre>\n<p>Additionally, here is a link to the program in its entirety with the file (replit.com)\n<a href=\"https://replit.com/join/quivtthrqo-roya3\" rel=\"nofollow noreferrer\">https://replit.com/join/quivtthrqo-roya3</a></p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670716175,"post_id":74757366,"comment_id":131938318,"body_markdown":"&quot;*Why does super.hashCode() give different results for el1 and el2?*&quot; Because the default hash is based on object identity.","body":"&quot;<i>Why does super.hashCode() give different results for el1 and el2?</i>&quot; Because the default hash is based on object identity."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1670716390,"post_id":74757366,"comment_id":131938353,"body_markdown":"You overrode `equals`. You *must* override `hashCode` with corresponding behavior. Simply overriding it to call `super.hashCode` is superfluous and does nothing","body":"You overrode <code>equals</code>. You <i>must</i> override <code>hashCode</code> with corresponding behavior. Simply overriding it to call <code>super.hashCode</code> is superfluous and does nothing"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":0,"creation_date":1670716430,"post_id":74757366,"comment_id":131938358,"body_markdown":"@Michael I see, so `super.hashCode()` is only to be used when extending a class other than `Object`?","body":"@Michael I see, so <code>super.hashCode()</code> is only to be used when extending a class other than <code>Object</code>?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670718640,"creation_date":1670718640,"answer_id":74757570,"question_id":74757366,"body_markdown":"1. Because the default implementations of the `equals` and `hashCode` methods (which go hand in hand - you always override both or neither) treat any 2 different instances as not equal to each other. If you want different behaviour, you override equals and hashCode, and __do not__ invoke `super.equals` / `super.hashCode`, or there&#39;d be no point.\r\n\r\n2. HashSets work as follows: They use `.hashCode()` to know which &#39;bucket&#39; to put the object into, and if 2 objects end up in the same bucket, `equals` is used only on those very few objects to double check.\r\n\r\nIn other words, these are the rules:\r\n\r\n1. If `a.equals(b)`, then `b.equals(a)` must be true.\r\n2. `a.equals(a)` must always be true.\r\n3. If `a.equals(b)` and `b.equals(c)`, `a.equals(c)` must be true.\r\n4. If `a.equals(b)`, `a.hashCode() == b.hashCode()` must be true.\r\n5. The reverse of 4 __does not__ hold: If `a.hashCode() == b.hashCode()`, that doesn&#39;t mean `a.equals(b)`, and hashset does not require it.\r\n6. Therefore, `return 1;` is a legal implementation of hashCode.\r\n7. If a class has really bad hashcode spread (such as the idiotic but legal option listed in bullet 6), then the performance of hashset will be very bad. e.g. `set.containsKey(k)` which ordinarily takes constant time, will take linear time instead if your objects are all not-equal _but_ have the same hashCode. Hence, do try to ensure hashcodes are as different as they can be.\r\n8. HashSet and HashMap require stable objects, meaning, their behaviour when calling hashCode and equals cannot change over time.\r\n9. From the above it naturally follows that overriding equals and not hashCode or vice versa is necessarily broken.\r\n\r\nBreaking any of the above rules does not, generally, result in a compiler error. It often doesn&#39;t even result in an exception. But instead it results in bizarre behaviour with hashsets and hashmaps: You put an k/v pair in the map, and then _immediately_ ask for the value back and you get `null` back instead of what you put in, or something completely different. Just an example.\r\n\r\n---\r\n\r\nNB: One weird effect of all this is that you __cannot add equality-affecting state to subclasses__, unless you apply a caveat that most classes including all classes in the core libraries don&#39;t apply.\r\n\r\nImagine as an example that we invent the notion of a &#39;coloured&#39; arraylist. You could have a red &#39;[&quot;Hello&quot;, &quot;World&quot;]&#39; list, and a blue one:\r\n\r\n```\r\nclass ColoredArrayList extends ArrayList {\r\n  Color color;\r\n\r\n  public ColoredArrayList(Color c) {\r\n    this.color = color;\r\n  }\r\n}\r\n```\r\n\r\nYou&#39;d probably want an empty red list to _not_ equal an empty blue one. However, __that is impossible__ if you intend to follow the rules. That&#39;s because the equals/hashCode impl of `ArrayList` itself considers any other list equal to itself if it has the same items in the same order. Therefore:\r\n\r\n```\r\nList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\nColoredList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\r\n\r\na.equals(b); // this is true, and you can&#39;t change that!\r\n```\r\n\r\nTherefore, `b.equals(a)` must also be true (your impl of `equals` has to say that an empty red list is equal to an empty plain arraylist), and given that an empty arraylist is also equal to an empty blue one, given that `a.equals(b)` and `b.equals(c)` implies that `a.equals(c)`, a red empty list __has to__ be equal to a blue empty list.\r\n\r\nThere is an easy solution for this that brings in new problems, and a hard solution that is objectively better.\r\n\r\nThe easy solution is to define that you can&#39;t be equal to anything except _exact_ instances of yourself, as in, any subclass is insta-disqualified. Imagine `ArrayList`&#39;s equals method returns false if you call it with an instance of a subclass of ArrayList. Then you could make your colored list just fine. But, this isn&#39;t necessarily great, for example, you probably want an empty `LinkedList` and an empty `ArrayList` to be equal.\r\n\r\nThe harder solution is to introduce a second method, `canEqual`, and call it. You override `canEqual` to return &#39;if other is `instanceof` the nearest class in my hierarchy that introduces equality-relevant state&#39;. Thus, your ColoredList should have `@Override public boolean canEqual(Object other) { return other instanceof ColoredList; }`.\r\n\r\nThe problem is, all classes need to have that and use it, or it&#39;s not going to work, and `ArrayList` does not have it. And you can&#39;t change that.\r\n\r\n[Project Lombok](https://projectlombok.org/features/EqualsAndHashCode) can generate this for you if you prefer. It&#39;s not particularly common; I&#39;d only use it if you really know you need it.","title":"Why does super.hashCode give different results on objects from the same Class?","body":"<ol>\n<li><p>Because the default implementations of the <code>equals</code> and <code>hashCode</code> methods (which go hand in hand - you always override both or neither) treat any 2 different instances as not equal to each other. If you want different behaviour, you override equals and hashCode, and <strong>do not</strong> invoke <code>super.equals</code> / <code>super.hashCode</code>, or there'd be no point.</p>\n</li>\n<li><p>HashSets work as follows: They use <code>.hashCode()</code> to know which 'bucket' to put the object into, and if 2 objects end up in the same bucket, <code>equals</code> is used only on those very few objects to double check.</p>\n</li>\n</ol>\n<p>In other words, these are the rules:</p>\n<ol>\n<li>If <code>a.equals(b)</code>, then <code>b.equals(a)</code> must be true.</li>\n<li><code>a.equals(a)</code> must always be true.</li>\n<li>If <code>a.equals(b)</code> and <code>b.equals(c)</code>, <code>a.equals(c)</code> must be true.</li>\n<li>If <code>a.equals(b)</code>, <code>a.hashCode() == b.hashCode()</code> must be true.</li>\n<li>The reverse of 4 <strong>does not</strong> hold: If <code>a.hashCode() == b.hashCode()</code>, that doesn't mean <code>a.equals(b)</code>, and hashset does not require it.</li>\n<li>Therefore, <code>return 1;</code> is a legal implementation of hashCode.</li>\n<li>If a class has really bad hashcode spread (such as the idiotic but legal option listed in bullet 6), then the performance of hashset will be very bad. e.g. <code>set.containsKey(k)</code> which ordinarily takes constant time, will take linear time instead if your objects are all not-equal <em>but</em> have the same hashCode. Hence, do try to ensure hashcodes are as different as they can be.</li>\n<li>HashSet and HashMap require stable objects, meaning, their behaviour when calling hashCode and equals cannot change over time.</li>\n<li>From the above it naturally follows that overriding equals and not hashCode or vice versa is necessarily broken.</li>\n</ol>\n<p>Breaking any of the above rules does not, generally, result in a compiler error. It often doesn't even result in an exception. But instead it results in bizarre behaviour with hashsets and hashmaps: You put an k/v pair in the map, and then <em>immediately</em> ask for the value back and you get <code>null</code> back instead of what you put in, or something completely different. Just an example.</p>\n<hr />\n<p>NB: One weird effect of all this is that you <strong>cannot add equality-affecting state to subclasses</strong>, unless you apply a caveat that most classes including all classes in the core libraries don't apply.</p>\n<p>Imagine as an example that we invent the notion of a 'coloured' arraylist. You could have a red '[&quot;Hello&quot;, &quot;World&quot;]' list, and a blue one:</p>\n<pre><code>class ColoredArrayList extends ArrayList {\n  Color color;\n\n  public ColoredArrayList(Color c) {\n    this.color = color;\n  }\n}\n</code></pre>\n<p>You'd probably want an empty red list to <em>not</em> equal an empty blue one. However, <strong>that is impossible</strong> if you intend to follow the rules. That's because the equals/hashCode impl of <code>ArrayList</code> itself considers any other list equal to itself if it has the same items in the same order. Therefore:</p>\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;String&gt;();\nColoredList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\n\na.equals(b); // this is true, and you can't change that!\n</code></pre>\n<p>Therefore, <code>b.equals(a)</code> must also be true (your impl of <code>equals</code> has to say that an empty red list is equal to an empty plain arraylist), and given that an empty arraylist is also equal to an empty blue one, given that <code>a.equals(b)</code> and <code>b.equals(c)</code> implies that <code>a.equals(c)</code>, a red empty list <strong>has to</strong> be equal to a blue empty list.</p>\n<p>There is an easy solution for this that brings in new problems, and a hard solution that is objectively better.</p>\n<p>The easy solution is to define that you can't be equal to anything except <em>exact</em> instances of yourself, as in, any subclass is insta-disqualified. Imagine <code>ArrayList</code>'s equals method returns false if you call it with an instance of a subclass of ArrayList. Then you could make your colored list just fine. But, this isn't necessarily great, for example, you probably want an empty <code>LinkedList</code> and an empty <code>ArrayList</code> to be equal.</p>\n<p>The harder solution is to introduce a second method, <code>canEqual</code>, and call it. You override <code>canEqual</code> to return 'if other is <code>instanceof</code> the nearest class in my hierarchy that introduces equality-relevant state'. Thus, your ColoredList should have <code>@Override public boolean canEqual(Object other) { return other instanceof ColoredList; }</code>.</p>\n<p>The problem is, all classes need to have that and use it, or it's not going to work, and <code>ArrayList</code> does not have it. And you can't change that.</p>\n<p><a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">Project Lombok</a> can generate this for you if you prefer. It's not particularly common; I'd only use it if you really know you need it.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74757570,"answer_count":1,"score":-1,"last_activity_date":1670718640,"creation_date":1670715941,"question_id":74757366,"body_markdown":"I have a class `DebugTo` where if I have two equal instances `el1`, `el2` a HashSet of `el1` will not regard `el2` as contained.\r\n\r\n```\r\nimport java.util.Objects;\r\n\r\npublic class DebugTo {\r\n\r\n  public String foo;\r\n\r\n  public DebugTo(String foo) {\r\n    this.foo = foo;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    System.out.println(super.hashCode());\r\n    return Objects.hash(super.hashCode(), foo);\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    DebugTo that = (DebugTo) o;\r\n    return Objects.equals(foo, that.foo);\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\nvar el1 = new DebugTo(&quot;a&quot;);\r\nvar el2 = new DebugTo(&quot;a&quot;);\r\nSystem.out.println(&quot;Objects.equals(el1, el2): &quot; + Objects.equals(el1, el2));\r\nSystem.out.println(&quot;Objects.equals(el2, el1): &quot; + Objects.equals(el2, el1));\r\nSystem.out.println(&quot;el1.hashCode(): &quot; + el1.hashCode());\r\nSystem.out.println(&quot;el2.hashCode(): &quot; + el2.hashCode());\r\n```\r\n\r\n```\r\nObjects.equals(el1, el2): true\r\nObjects.equals(el2, el1): true\r\n1205483858\r\nel1.hashCode(): -1284705008\r\n1373949107\r\nel2.hashCode(): -357249585\r\n```\r\nFrom my analysis I have gathered that:\r\n - `HashSet::contains` calls `hashCode` not `equals` (relying on the `Objects.equals(a, b)` =&gt; `a.hashSet() == b.hashSet()`)\r\n - `super.hashCode()` gives a different value both times.\r\n\r\nWhy does `super.hashCode()` give different results for `el1` and `el2`? since they are of the same class, they have the same super class and so I expect `super.hashCode()` to give the same result for both.\r\n\r\nThe hashCode method was probably autogenerated by eclipse. If not answered above, why is super.hashCode used wrong here?","title":"Why does super.hashCode give different results on objects from the same Class?","body":"<p>I have a class <code>DebugTo</code> where if I have two equal instances <code>el1</code>, <code>el2</code> a HashSet of <code>el1</code> will not regard <code>el2</code> as contained.</p>\n<pre><code>import java.util.Objects;\n\npublic class DebugTo {\n\n  public String foo;\n\n  public DebugTo(String foo) {\n    this.foo = foo;\n  }\n\n  @Override\n  public int hashCode() {\n    System.out.println(super.hashCode());\n    return Objects.hash(super.hashCode(), foo);\n  }\n\n  @Override\n  public boolean equals(Object o) {\n\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    DebugTo that = (DebugTo) o;\n    return Objects.equals(foo, that.foo);\n  }\n\n}\n</code></pre>\n<pre><code>var el1 = new DebugTo(&quot;a&quot;);\nvar el2 = new DebugTo(&quot;a&quot;);\nSystem.out.println(&quot;Objects.equals(el1, el2): &quot; + Objects.equals(el1, el2));\nSystem.out.println(&quot;Objects.equals(el2, el1): &quot; + Objects.equals(el2, el1));\nSystem.out.println(&quot;el1.hashCode(): &quot; + el1.hashCode());\nSystem.out.println(&quot;el2.hashCode(): &quot; + el2.hashCode());\n</code></pre>\n<pre><code>Objects.equals(el1, el2): true\nObjects.equals(el2, el1): true\n1205483858\nel1.hashCode(): -1284705008\n1373949107\nel2.hashCode(): -357249585\n</code></pre>\n<p>From my analysis I have gathered that:</p>\n<ul>\n<li><code>HashSet::contains</code> calls <code>hashCode</code> not <code>equals</code> (relying on the <code>Objects.equals(a, b)</code> =&gt; <code>a.hashSet() == b.hashSet()</code>)</li>\n<li><code>super.hashCode()</code> gives a different value both times.</li>\n</ul>\n<p>Why does <code>super.hashCode()</code> give different results for <code>el1</code> and <code>el2</code>? since they are of the same class, they have the same super class and so I expect <code>super.hashCode()</code> to give the same result for both.</p>\n<p>The hashCode method was probably autogenerated by eclipse. If not answered above, why is super.hashCode used wrong here?</p>\n"},{"tags":["java","spring-boot","intellij-idea","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670752379,"post_id":74757380,"comment_id":131942020,"body_markdown":"do you have public getters/setters for the Students class ? Also, you haven&#39;t shown us the code for the students/save endpoint and that&#39;s where the problem seems to be.","body":"do you have public getters/setters for the Students class ? Also, you haven&#39;t shown us the code for the students/save endpoint and that&#39;s where the problem seems to be."},{"owner":{"account_id":11106613,"reputation":3,"user_id":8153608,"display_name":"Kevin"},"score":0,"creation_date":1670779472,"post_id":74757380,"comment_id":131947343,"body_markdown":"I think I forgot to include getters/setters in my model class. I just added that and that seem to have resolved the issue. Can&#39;t believe I spent an entire night on this. Thanks alot!!","body":"I think I forgot to include getters/setters in my model class. I just added that and that seem to have resolved the issue. Can&#39;t believe I spent an entire night on this. Thanks alot!!"}],"owner":{"account_id":11106613,"reputation":3,"user_id":8153608,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670716095,"creation_date":1670716095,"question_id":74757380,"body_markdown":"So I am working on a small project (I&#39;m a newbie) and I have been unable to access my fields declared in my model class from my view in Thymeleaf. I checked the documentation and I am certain I am doing everything as it should be but for some reason, IntelliJ gives me a &quot;cannot resolve field&quot; error. I checked here and there online and saw that It used to be an issue with IntelliJ which was supposedly fixed in their 2017.X version but I still get a similar error(I am using IntelliJ 2022.2.4). Can anyone please help?\r\n\r\nThis is my view page and I get an error at the level of **th:field=&quot;*{loginDate}&quot;**\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; &gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;ADD NEW RECORD&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href = &quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n    &lt;div&gt;&lt;h2&gt;ADD NEW RECORD&lt;/h2&gt;&lt;/div&gt;\r\n\r\n    &lt;form th:action=&quot;@{students/save}&quot; th:object=&quot;${newStudent}&quot; method=&quot;post&quot; &gt;\r\n        &lt;div class =&quot;border&quot;&gt;\r\n            &lt;div class=&quot;form-group row&quot;&gt;\r\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Date&lt;/label&gt;\r\n                &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                    &lt;input type=&quot;date&quot; **th:field=&quot;*{loginDate}&quot;** class=&quot;form-control&quot;&gt;\r\n\r\n\r\n                &lt;/div&gt;\r\n\r\n\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is my controller:\r\n\r\n```\r\npackage com.sfsb.studentsSFSB.students.controller;\r\n\r\nimport com.sfsb.studentsSFSB.students.model.Students;\r\nimport com.sfsb.studentsSFSB.students.service.StudentsServiceImpl;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class StudentController {\r\n    private StudentsServiceImpl service;\r\n\r\n    public StudentController(StudentsServiceImpl service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public String showHomePage(){\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/students/new&quot;)\r\n    public String showForm(Model model){\r\n        model.addAttribute(&quot;newStudent&quot;, new Students());\r\n        return &quot;student_form&quot;;\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/students&quot;)\r\n    public String showStudentsList(Model model){\r\n        List&lt;Students&gt; listStudents =  service.findAll();\r\n        model.addAttribute(&quot;listStudents&quot;, listStudents);\r\n\r\n        return &quot;students&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nAnd here is my model class\r\n\r\n```\r\npackage com.sfsb.studentsSFSB.students.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport java.time.Duration;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\n@Entity\r\n@Table(name = &quot;students&quot;)\r\npublic class Students {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;FirstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;LastName&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;Date&quot;)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate loginDate;\r\n\r\n    @Column(name = &quot;LoginTime&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime loginTime;\r\n\r\n    @Column(name = &quot;BreakPeriod&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime breakPeriod;\r\n\r\n    @Column(name = &quot;LogoutTime&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime logoutTime;\r\n\r\n    @Column(name = &quot;HoursWorkedPerDay&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime workHoursPerDay;\r\n\r\n    @Column(name = &quot;Task&quot;)\r\n    private String task;\r\n\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime workHoursPerWeek;\r\n\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime totalHoursForCurrentContract;\r\n\r\n    //@DateTimeFormat(iso = DateTimeFormat.ISO.TIME) if above does not work\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime hoursLeftOnCurrentContract;\r\n\r\n\r\n    //Method to calculate work hours per day based on login,break and logout values\r\n    public LocalTime calculateWorkHoursPerDay(){\r\n        //DateTimeFormatter Formatter = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\r\n        Duration breakDuration = Duration.between(LocalTime.MIDNIGHT, breakPeriod);\r\n        Duration workDuration = Duration.between(loginTime,logoutTime).minus(breakDuration);\r\n        String workHoursInString = LocalTime.MIDNIGHT.plus(workDuration).toString();\r\n        workHoursPerDay = LocalTime.parse(workHoursInString);\r\n        return workHoursPerDay;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Cannot resolve fields declared in my Model in my view. Using thymleaf+Springboot+IntelliJ","body":"<p>So I am working on a small project (I'm a newbie) and I have been unable to access my fields declared in my model class from my view in Thymeleaf. I checked the documentation and I am certain I am doing everything as it should be but for some reason, IntelliJ gives me a &quot;cannot resolve field&quot; error. I checked here and there online and saw that It used to be an issue with IntelliJ which was supposedly fixed in their 2017.X version but I still get a similar error(I am using IntelliJ 2022.2.4). Can anyone please help?</p>\n<p>This is my view page and I get an error at the level of <strong>th:field=&quot;*{loginDate}&quot;</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;ADD NEW RECORD&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href = &quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container-fluid text-center&quot;&gt;\n    &lt;div&gt;&lt;h2&gt;ADD NEW RECORD&lt;/h2&gt;&lt;/div&gt;\n\n    &lt;form th:action=&quot;@{students/save}&quot; th:object=&quot;${newStudent}&quot; method=&quot;post&quot; &gt;\n        &lt;div class =&quot;border&quot;&gt;\n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Date&lt;/label&gt;\n                &lt;div class=&quot;col-sm-8&quot;&gt;\n                    &lt;input type=&quot;date&quot; **th:field=&quot;*{loginDate}&quot;** class=&quot;form-control&quot;&gt;\n\n\n                &lt;/div&gt;\n\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n    &lt;/form&gt;\n\n\n\n\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my controller:</p>\n<pre><code>package com.sfsb.studentsSFSB.students.controller;\n\nimport com.sfsb.studentsSFSB.students.model.Students;\nimport com.sfsb.studentsSFSB.students.service.StudentsServiceImpl;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@Controller\npublic class StudentController {\n    private StudentsServiceImpl service;\n\n    public StudentController(StudentsServiceImpl service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;&quot;)\n    public String showHomePage(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/students/new&quot;)\n    public String showForm(Model model){\n        model.addAttribute(&quot;newStudent&quot;, new Students());\n        return &quot;student_form&quot;;\n\n    }\n\n    @GetMapping(&quot;/students&quot;)\n    public String showStudentsList(Model model){\n        List&lt;Students&gt; listStudents =  service.findAll();\n        model.addAttribute(&quot;listStudents&quot;, listStudents);\n\n        return &quot;students&quot;;\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>And here is my model class</p>\n<pre><code>package com.sfsb.studentsSFSB.students.model;\n\nimport jakarta.persistence.*;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.time.Duration;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\n@Entity\n@Table(name = &quot;students&quot;)\npublic class Students {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;FirstName&quot;)\n    private String firstName;\n\n    @Column(name = &quot;LastName&quot;)\n    private String lastName;\n\n    @Column(name = &quot;Date&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate loginDate;\n\n    @Column(name = &quot;LoginTime&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime loginTime;\n\n    @Column(name = &quot;BreakPeriod&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime breakPeriod;\n\n    @Column(name = &quot;LogoutTime&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime logoutTime;\n\n    @Column(name = &quot;HoursWorkedPerDay&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime workHoursPerDay;\n\n    @Column(name = &quot;Task&quot;)\n    private String task;\n\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime workHoursPerWeek;\n\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime totalHoursForCurrentContract;\n\n    //@DateTimeFormat(iso = DateTimeFormat.ISO.TIME) if above does not work\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime hoursLeftOnCurrentContract;\n\n\n    //Method to calculate work hours per day based on login,break and logout values\n    public LocalTime calculateWorkHoursPerDay(){\n        //DateTimeFormatter Formatter = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\n        Duration breakDuration = Duration.between(LocalTime.MIDNIGHT, breakPeriod);\n        Duration workDuration = Duration.between(loginTime,logoutTime).minus(breakDuration);\n        String workHoursInString = LocalTime.MIDNIGHT.plus(workDuration).toString();\n        workHoursPerDay = LocalTime.parse(workHoursInString);\n        return workHoursPerDay;\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27214592,"reputation":11,"user_id":20744827,"display_name":"CodersLife2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670715624,"creation_date":1670715624,"question_id":74757343,"body_markdown":"I have a file named &quot;EE.txt&quot; that contains the string: &quot;E R R O R&quot;. As you can see in the compiler notes I have posted, I&#39;m trying to call Huffman Tree and pass EE.txt along with it, for the filename. Anyone have any suggestions?\r\n\r\nHuffmanNode.java\r\n\r\n\r\n```\r\npublic class HuffmanNode implements Comparable\r\n{\r\n    public String letter;\r\n    public Double frequency;\r\n    public HuffmanNode left, right;\r\n\r\n    // - add constructors to initialize letter and frequency, etc.\r\n    public HuffmanNode(String letter, Double frequency)\r\n    {\r\n        this.letter = letter;\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public HuffmanNode(String letter, Double frequency)\r\n    {\r\n        Double freq = Double.parseDouble( frequency );\r\n        this.letter = letter;\r\n        this.frequency = freq;\r\n    }\r\n\r\n    public HuffmanNode(HuffmanNode left, HuffmanNode right)\r\n    {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.letter = left.letter + right.letter;\r\n        this.frequency = left.frequency + right.frequency;\r\n    }\r\n\r\n    public String toString()\r\n    {\r\n        return &quot;&lt;&quot; + this.letter + &quot;, &quot; + this.frequency + &quot;&gt;&quot;;\r\n    }\r\n\r\n    public int compareTo(Object o)\r\n    {\r\n        HuffmanNode huff = (HuffmanNode) o;\r\n        return this.frequency.compareTo( huff.frequency );\r\n    }\r\n}\r\n```\r\n\r\nHuffmanTree\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class HuffmanTree {\r\n\r\n    HuffmanNode root;\r\n\r\n    // - add a constructor to init the Tree from a HuffmanNode\r\n    public HuffmanTree(HuffmanNode huff)\r\n    {\r\n        this.root = huff;\r\n    }\r\n\r\n    // print legend\r\n    public void printLegend()\r\n    {\r\n        this.printLegend(this.root, &quot;&quot;);\r\n    }\r\n\r\n    private void printLegend(HuffmanNode t, String s)\r\n    {\r\n        if( t.letter.length() &gt; 1 )\r\n        {\r\n            this.printLegend( t.left, s + &quot;0&quot;);\r\n            this.printLegend( t.right, s + &quot;1&quot; );\r\n        }\r\n        else\r\n        {\r\n            System.out.print( t.letter + &quot;=&quot; + s );\r\n        }\r\n    }\r\n\r\n    // takes a String for the file name containing our input (letter &amp; frequency data).\r\n    // The letters and frequencies are all in the first line of the file, with spaces as separators.\r\n    // (You may assume each separator is a single space).\r\n    public static BinaryHeap fileToHeap(String filename)\r\n    {\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader( filename ));\r\n\r\n            String line = br.readLine();\r\n            br.close();\r\n\r\n            String[] key = line.split(&quot; &quot;);\r\n            HuffmanNode[] huffs = new HuffmanNode[ key.length / 2];\r\n            int i = 0;\r\n            int j = 0;\r\n            while( i &lt; key.length )\r\n            {\r\n                huffs[ j ] = new HuffmanNode( key[i], key[i + 1]);\r\n//          System.out.println( key[i] + &quot; &quot; + key[i + 1 ] );\r\n\r\n                i = i + 2;\r\n                j++;\r\n            }\r\n\r\n            BinaryHeap heap = new BinaryHeap( huffs );\r\n            return heap;\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static HuffmanTree createFromHeap(BinaryHeap b)\r\n    {\r\n        try {\r\n            while( b.getSize() &gt; 1 )\r\n            {\r\n                HuffmanNode huff1 = (HuffmanNode) b.deleteMin();\r\n                HuffmanNode huff2 = (HuffmanNode) b.deleteMin();\r\n                HuffmanNode huff = new HuffmanNode( huff1, huff2 );\r\n                b.insert( huff );\r\n            }\r\n            HuffmanTree tree = new HuffmanTree( (HuffmanNode) b.deleteMin() );\r\n            return tree;\r\n        } catch (Underflow e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // - the main method will go here, as well as code to take\r\n    //   a command-line argument for the input file name\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        **// TODO Auto-generated method stub\r\n        BinaryHeap bheap = HuffmanTree.fileToHeap( &quot;EE.txt&quot;);\r\n\r\n        bheap.printHeap();\r\n        HuffmanTree htree = HuffmanTree.createFromHeap( bheap );\r\n        htree.printLegend();\r\n    }**\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI believe it is the main method that is causing all of the problems. I just am not quite sure how to edit it.\r\n\r\n\r\nCompiler:\r\n\r\n\r\n```\r\nHuffmanEncoder % java HuffmanTree EE.txt\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;R&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n\tat java.base/java.lang.Double.parseDouble(Double.java:735)\r\n\tat HuffmanNode.&lt;init&gt;(HuffmanNode.java:16)\r\n\tat HuffmanTree.fileToHeap(HuffmanTree.java:53)\r\n\tat HuffmanTree.main(HuffmanTree.java:99)\r\n \r\n\r\n```\r\n","title":"Huffman Encoder, trying to pass a string from a txt file with no luck. &lt;3 lines needed","body":"<p>I have a file named &quot;EE.txt&quot; that contains the string: &quot;E R R O R&quot;. As you can see in the compiler notes I have posted, I'm trying to call Huffman Tree and pass EE.txt along with it, for the filename. Anyone have any suggestions?</p>\n<p>HuffmanNode.java</p>\n<pre><code>public class HuffmanNode implements Comparable\n{\n    public String letter;\n    public Double frequency;\n    public HuffmanNode left, right;\n\n    // - add constructors to initialize letter and frequency, etc.\n    public HuffmanNode(String letter, Double frequency)\n    {\n        this.letter = letter;\n        this.frequency = frequency;\n    }\n\n    public HuffmanNode(String letter, Double frequency)\n    {\n        Double freq = Double.parseDouble( frequency );\n        this.letter = letter;\n        this.frequency = freq;\n    }\n\n    public HuffmanNode(HuffmanNode left, HuffmanNode right)\n    {\n        this.left = left;\n        this.right = right;\n        this.letter = left.letter + right.letter;\n        this.frequency = left.frequency + right.frequency;\n    }\n\n    public String toString()\n    {\n        return &quot;&lt;&quot; + this.letter + &quot;, &quot; + this.frequency + &quot;&gt;&quot;;\n    }\n\n    public int compareTo(Object o)\n    {\n        HuffmanNode huff = (HuffmanNode) o;\n        return this.frequency.compareTo( huff.frequency );\n    }\n}\n</code></pre>\n<p>HuffmanTree</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class HuffmanTree {\n\n    HuffmanNode root;\n\n    // - add a constructor to init the Tree from a HuffmanNode\n    public HuffmanTree(HuffmanNode huff)\n    {\n        this.root = huff;\n    }\n\n    // print legend\n    public void printLegend()\n    {\n        this.printLegend(this.root, &quot;&quot;);\n    }\n\n    private void printLegend(HuffmanNode t, String s)\n    {\n        if( t.letter.length() &gt; 1 )\n        {\n            this.printLegend( t.left, s + &quot;0&quot;);\n            this.printLegend( t.right, s + &quot;1&quot; );\n        }\n        else\n        {\n            System.out.print( t.letter + &quot;=&quot; + s );\n        }\n    }\n\n    // takes a String for the file name containing our input (letter &amp; frequency data).\n    // The letters and frequencies are all in the first line of the file, with spaces as separators.\n    // (You may assume each separator is a single space).\n    public static BinaryHeap fileToHeap(String filename)\n    {\n        try {\n            BufferedReader br = new BufferedReader(new FileReader( filename ));\n\n            String line = br.readLine();\n            br.close();\n\n            String[] key = line.split(&quot; &quot;);\n            HuffmanNode[] huffs = new HuffmanNode[ key.length / 2];\n            int i = 0;\n            int j = 0;\n            while( i &lt; key.length )\n            {\n                huffs[ j ] = new HuffmanNode( key[i], key[i + 1]);\n//          System.out.println( key[i] + &quot; &quot; + key[i + 1 ] );\n\n                i = i + 2;\n                j++;\n            }\n\n            BinaryHeap heap = new BinaryHeap( huffs );\n            return heap;\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public static HuffmanTree createFromHeap(BinaryHeap b)\n    {\n        try {\n            while( b.getSize() &gt; 1 )\n            {\n                HuffmanNode huff1 = (HuffmanNode) b.deleteMin();\n                HuffmanNode huff2 = (HuffmanNode) b.deleteMin();\n                HuffmanNode huff = new HuffmanNode( huff1, huff2 );\n                b.insert( huff );\n            }\n            HuffmanTree tree = new HuffmanTree( (HuffmanNode) b.deleteMin() );\n            return tree;\n        } catch (Underflow e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    // - the main method will go here, as well as code to take\n    //   a command-line argument for the input file name\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        **// TODO Auto-generated method stub\n        BinaryHeap bheap = HuffmanTree.fileToHeap( &quot;EE.txt&quot;);\n\n        bheap.printHeap();\n        HuffmanTree htree = HuffmanTree.createFromHeap( bheap );\n        htree.printLegend();\n    }**\n\n}\n</code></pre>\n<p>I believe it is the main method that is causing all of the problems. I just am not quite sure how to edit it.</p>\n<p>Compiler:</p>\n<pre><code>HuffmanEncoder % java HuffmanTree EE.txt\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;R&quot;\n    at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\n    at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n    at java.base/java.lang.Double.parseDouble(Double.java:735)\n    at HuffmanNode.&lt;init&gt;(HuffmanNode.java:16)\n    at HuffmanTree.fileToHeap(HuffmanTree.java:53)\n    at HuffmanTree.main(HuffmanTree.java:99)\n \n\n</code></pre>\n"},{"tags":["java","html","json"],"answers":[{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670541233,"creation_date":1670541233,"answer_id":74737340,"question_id":74728253,"body_markdown":"Use `request.getParameterMap().get(&quot;fruit&quot;)` in your `POST` method, it will return a string array with all values.","title":"Retrieve Multiple values from same Input tag using Java","body":"<p>Use <code>request.getParameterMap().get(&quot;fruit&quot;)</code> in your <code>POST</code> method, it will return a string array with all values.</p>\n"}],"owner":{"account_id":27187956,"reputation":1,"user_id":20722171,"display_name":"cruzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670715332,"creation_date":1670492592,"question_id":74728253,"body_markdown":"I&#39;m having problem retrieving multiple values from the input tag. Im retrieving the value from a JSONArray file.\r\n\r\nUnder my post method, how am I able to retrieve more than 1 values from the input tag and store inside a JSONArray variable?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table id=&quot;myTable&quot; class=&quot;table table-bordered&quot; style=&quot;width: 100%; max-width: none;&quot;&gt;\r\n      &lt;!-- values are the data inside the JSON Array --&gt;\r\n      &lt;c:forEach items=&quot;${values}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\r\n        &lt;tbody&gt;\r\n          &lt;tr&gt;\r\n            &lt;td&gt;\r\n              &lt;div class=&quot; form-group&quot; style=&quot;margin-bottom: 0px;&quot;&gt;\r\n                &lt;!-- //for example, the for loop generate 2 input tag --&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruit}&quot;&gt;\r\n              &lt;/div&gt;\r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m only able to retrieve just one of the values by doing this,\r\n``` java\r\nString apple = request.getParameter(&quot;fruit&quot;);\r\n\r\nJSONObject newOutput = new JSONObject();\r\nnewOutput.put(&quot;fruit&quot;, apple);\r\nJSONArray arr_Output = new JSONArray();\r\narr_Output.add(newOutput);\r\n```\r\nI expect to read more than 1 input.\r\n","title":"Retrieve Multiple values from same Input tag using Java","body":"<p>I'm having problem retrieving multiple values from the input tag. Im retrieving the value from a JSONArray file.</p>\n<p>Under my post method, how am I able to retrieve more than 1 values from the input tag and store inside a JSONArray variable?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"myTable\" class=\"table table-bordered\" style=\"width: 100%; max-width: none;\"&gt;\n  &lt;!-- values are the data inside the JSON Array --&gt;\n  &lt;c:forEach items=\"${values}\" var=\"val\" varStatus=\"count\"&gt;\n    &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n          &lt;div class=\" form-group\" style=\"margin-bottom: 0px;\"&gt;\n            &lt;!-- //for example, the for loop generate 2 input tag --&gt;\n            &lt;input type=\"text\" name=\"fruit\" id=\"fruit\" value=\"${val.fruit}\"&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm only able to retrieve just one of the values by doing this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>String apple = request.getParameter(&quot;fruit&quot;);\n\nJSONObject newOutput = new JSONObject();\nnewOutput.put(&quot;fruit&quot;, apple);\nJSONArray arr_Output = new JSONArray();\narr_Output.add(newOutput);\n</code></pre>\n<p>I expect to read more than 1 input.</p>\n"},{"tags":["java","spring","design-patterns","architecture","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":213898,"reputation":908,"user_id":467545,"display_name":"Wahid Sadik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670715277,"creation_date":1670712680,"answer_id":74757105,"question_id":74756817,"body_markdown":"Assuming a DB exists in `App B`, you can simulate the queuing behavior.\r\n\r\nHere is a naive implementation idea. Let&#39;s say you have a table like the following in `App B` to track all the calls to be made to `App A`.\r\n\r\n|task_id|call_status|last_retry_ts|\r\n|-------|-----------|-------------|\r\n|001|NOT_CALLED|null|\r\n|002|WIP|2022-12-10T10:00:01|\r\n|003|COMPLETE|2022-12-10T10:00:01|\r\n\r\nYou can have a thread that will take all tasks that do not have a `COMPLETE` status and retry. Once a call is successful, the thread marks them in the DB. You may want to introduce some delay in between the delays.\r\n\r\nNote: You may have to build some more bells and whistles to make it robust.\r\n\r\nHope this will give you some inspiration.\r\n","title":"how to handle server downtime for webhook requests in java","body":"<p>Assuming a DB exists in <code>App B</code>, you can simulate the queuing behavior.</p>\n<p>Here is a naive implementation idea. Let's say you have a table like the following in <code>App B</code> to track all the calls to be made to <code>App A</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>task_id</th>\n<th>call_status</th>\n<th>last_retry_ts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>001</td>\n<td>NOT_CALLED</td>\n<td>null</td>\n</tr>\n<tr>\n<td>002</td>\n<td>WIP</td>\n<td>2022-12-10T10:00:01</td>\n</tr>\n<tr>\n<td>003</td>\n<td>COMPLETE</td>\n<td>2022-12-10T10:00:01</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can have a thread that will take all tasks that do not have a <code>COMPLETE</code> status and retry. Once a call is successful, the thread marks them in the DB. You may want to introduce some delay in between the delays.</p>\n<p>Note: You may have to build some more bells and whistles to make it robust.</p>\n<p>Hope this will give you some inspiration.</p>\n"}],"owner":{"account_id":9182254,"reputation":21,"user_id":6825693,"display_name":"Krishna Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670715277,"creation_date":1670709464,"question_id":74756817,"body_markdown":"My application(A) gets file processing details from another java application(B) through rest api.\r\nApp B  sends the status with real-time processing details (Inprogess, Generated, Transfered).\r\nApplication reads this info and displays it to the user. when the status is Transfered.. App A performs some task.\r\n\r\nApp A is completely dependent on App B for performing future task.\r\n\r\nThe Communication between two application is one-way. App B -&gt; App A.\r\nAs of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.  \r\n\r\nLooking for best practise to handle the request from App B during my app A downtime. \r\n\r\nI found that message queue is best solution for this usecase. Unfortunately we cant have any new infrastructure for message queue. \r\n\r\nIs there any other solution that we can implement in java without having any infra level changes. I appreciate your time for going through this query. Thankyou","title":"how to handle server downtime for webhook requests in java","body":"<p>My application(A) gets file processing details from another java application(B) through rest api.\nApp B  sends the status with real-time processing details (Inprogess, Generated, Transfered).\nApplication reads this info and displays it to the user. when the status is Transfered.. App A performs some task.</p>\n<p>App A is completely dependent on App B for performing future task.</p>\n<p>The Communication between two application is one-way. App B -&gt; App A.\nAs of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.</p>\n<p>Looking for best practise to handle the request from App B during my app A downtime.</p>\n<p>I found that message queue is best solution for this usecase. Unfortunately we cant have any new infrastructure for message queue.</p>\n<p>Is there any other solution that we can implement in java without having any infra level changes. I appreciate your time for going through this query. Thankyou</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1670714073,"post_id":74755960,"comment_id":131938045,"body_markdown":"For [example](https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857); [a bit more brute force](https://stackoverflow.com/questions/71304272/changing-icon-color-in-java/71305300#71305300)","body":"For <a href=\"https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857\">example</a>; <a href=\"https://stackoverflow.com/questions/71304272/changing-icon-color-in-java/71305300#71305300\">a bit more brute force</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670714876,"creation_date":1670714876,"answer_id":74757293,"question_id":74755960,"body_markdown":"No, Swing does not contain a native &quot;tint&quot; feature, but you can create one (with a bit of effort).\r\n\r\nSo, based on https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857, you can do something like this...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis example makes use of a `MouseListener` and will display the tinted image for 1 second, but you get the idea\r\n\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsConfiguration;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Transparency;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage masterImage;\r\n            private BufferedImage paintImage;\r\n            private BufferedImage tintedImage;\r\n\r\n            public TestPane() throws IOException {\r\n                masterImage = ImageIO.read(getClass().getResource(&quot;/images/DVDLogo.png&quot;));\r\n                paintImage = masterImage;\r\n                tintedImage = ImageUtils.generateMask(masterImage, Color.YELLOW, 1f);\r\n\r\n                addMouseListener(new MouseAdapter() {\r\n                    private Timer timer = new Timer(1000, new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            paintImage = masterImage;\r\n                            repaint();\r\n                        }\r\n                    });\r\n\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (timer != null) {\r\n                            timer.stop();\r\n                        }\r\n                        paintImage = tintedImage;\r\n                        repaint();\r\n                        timer.start();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(paintImage.getWidth() + 100, paintImage.getHeight() + 100);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = (getWidth() - paintImage.getWidth()) / 2;\r\n                int y = (getHeight() - paintImage.getHeight()) / 2;\r\n                g2d.drawImage(paintImage, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class ImageUtils {\r\n            public static BufferedImage generateMask(BufferedImage imgSource, Color color, float alpha) {\r\n                int imgWidth = imgSource.getWidth();\r\n                int imgHeight = imgSource.getHeight();\r\n\r\n                BufferedImage imgMask = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\r\n                Graphics2D g2 = imgMask.createGraphics();\r\n                applyQualityRenderingHints(g2);\r\n\r\n                g2.drawImage(imgSource, 0, 0, null);\r\n                g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_IN, alpha));\r\n                g2.setColor(color);\r\n\r\n                g2.fillRect(0, 0, imgSource.getWidth(), imgSource.getHeight());\r\n                g2.dispose();\r\n\r\n                return imgMask;\r\n            }\r\n\r\n            public static GraphicsConfiguration getGraphicsConfiguration() {\r\n                return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\r\n            }\r\n\r\n            public static BufferedImage createCompatibleImage(int width, int height, int transparency) {\r\n                BufferedImage image = getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\r\n                image.coerceData(true);\r\n                return image;\r\n            }\r\n\r\n            public static void applyQualityRenderingHints(Graphics2D g2d) {\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n            }\r\n\r\n            public BufferedImage tint(BufferedImage master, BufferedImage tint) {\r\n                int imgWidth = master.getWidth();\r\n                int imgHeight = master.getHeight();\r\n\r\n                BufferedImage tinted = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\r\n                Graphics2D g2 = tinted.createGraphics();\r\n                applyQualityRenderingHints(g2);\r\n                g2.drawImage(master, 0, 0, null);\r\n                g2.drawImage(tint, 0, 0, null);\r\n                g2.dispose();\r\n\r\n                return tinted;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qP20X.gif","title":"Bouncing DVD logo","body":"<p>No, Swing does not contain a native &quot;tint&quot; feature, but you can create one (with a bit of effort).</p>\n<p>So, based on <a href=\"https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857\">Tinting Image in Java improvement</a>, you can do something like this...</p>\n<p><a href=\"https://i.stack.imgur.com/qP20X.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qP20X.gif\" alt=\"enter image description here\" /></a></p>\n<p>This example makes use of a <code>MouseListener</code> and will display the tinted image for 1 second, but you get the idea</p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsConfiguration;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.RenderingHints;\nimport java.awt.Transparency;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage masterImage;\n        private BufferedImage paintImage;\n        private BufferedImage tintedImage;\n\n        public TestPane() throws IOException {\n            masterImage = ImageIO.read(getClass().getResource(&quot;/images/DVDLogo.png&quot;));\n            paintImage = masterImage;\n            tintedImage = ImageUtils.generateMask(masterImage, Color.YELLOW, 1f);\n\n            addMouseListener(new MouseAdapter() {\n                private Timer timer = new Timer(1000, new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        paintImage = masterImage;\n                        repaint();\n                    }\n                });\n\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (timer != null) {\n                        timer.stop();\n                    }\n                    paintImage = tintedImage;\n                    repaint();\n                    timer.start();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(paintImage.getWidth() + 100, paintImage.getHeight() + 100);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = (getWidth() - paintImage.getWidth()) / 2;\n            int y = (getHeight() - paintImage.getHeight()) / 2;\n            g2d.drawImage(paintImage, x, y, this);\n            g2d.dispose();\n        }\n\n    }\n\n    public class ImageUtils {\n        public static BufferedImage generateMask(BufferedImage imgSource, Color color, float alpha) {\n            int imgWidth = imgSource.getWidth();\n            int imgHeight = imgSource.getHeight();\n\n            BufferedImage imgMask = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\n            Graphics2D g2 = imgMask.createGraphics();\n            applyQualityRenderingHints(g2);\n\n            g2.drawImage(imgSource, 0, 0, null);\n            g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_IN, alpha));\n            g2.setColor(color);\n\n            g2.fillRect(0, 0, imgSource.getWidth(), imgSource.getHeight());\n            g2.dispose();\n\n            return imgMask;\n        }\n\n        public static GraphicsConfiguration getGraphicsConfiguration() {\n            return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\n        }\n\n        public static BufferedImage createCompatibleImage(int width, int height, int transparency) {\n            BufferedImage image = getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\n            image.coerceData(true);\n            return image;\n        }\n\n        public static void applyQualityRenderingHints(Graphics2D g2d) {\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n        }\n\n        public BufferedImage tint(BufferedImage master, BufferedImage tint) {\n            int imgWidth = master.getWidth();\n            int imgHeight = master.getHeight();\n\n            BufferedImage tinted = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\n            Graphics2D g2 = tinted.createGraphics();\n            applyQualityRenderingHints(g2);\n            g2.drawImage(master, 0, 0, null);\n            g2.drawImage(tint, 0, 0, null);\n            g2.dispose();\n\n            return tinted;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27213331,"reputation":11,"user_id":20743779,"display_name":"gloomyside3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670758232,"answer_count":1,"score":1,"last_activity_date":1670714876,"creation_date":1670700674,"question_id":74755960,"body_markdown":"I am writing a program with a bouncing DVD logo but I have one issue: I want this logo to change color but it is not working. The logo is supposed to change color when it hits an edge. I know that `tint()` exists for JavaScript. \r\n\r\nIs there something similar for Java? \r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    \r\n    public class MyPanel extends JPanel implements ActionListener{\r\n    \r\n        final int PANEL_WIDTH = 500;\r\n        final int PANEL_HEIGHT = 500;\r\n        Image dvd;\r\n        Timer timer;\r\n        int xVelocity = 1;\r\n        int yVelocity = 1;\r\n        int x = 0;\r\n        int y = 0;\r\n    \r\n        int r = (int)(Math.random() * 255);\r\n        int g = (int)(Math.random() * 255);\r\n        int b = (int)(Math.random() * 255);\r\n    \r\n        MyPanel(){\r\n            this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\r\n            this.setBackground(Color.BLACK);\r\n            dvd = new ImageIcon(&quot;dvdlogo-01.png&quot;).getImage();\r\n            timer = new Timer(10, this);\r\n            timer.start();\r\n    \r\n        }\r\n    \r\n        public void paint(Graphics g){\r\n            super.paint(g); // paint background\r\n            Graphics2D gr = (Graphics2D) g;\r\n            gr.drawImage(dvd, x, y,null );\r\n    \r\n            \r\n        }\r\n    \r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n    \r\n            if(x &gt;= PANEL_WIDTH - dvd.getWidth(null) || x &lt; 0){\r\n                xVelocity = xVelocity * -1;\r\n            }\r\n            x = x + xVelocity;\r\n    \r\n            if(y &gt;= PANEL_HEIGHT - dvd.getHeight(null) || y &lt; 0){\r\n                yVelocity = yVelocity * -1;\r\n            }\r\n            y = y + yVelocity;\r\n            repaint();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/HSJ4I.png)\r\n\r\n\r\n\r\n\r\n","title":"Bouncing DVD logo","body":"<p>I am writing a program with a bouncing DVD logo but I have one issue: I want this logo to change color but it is not working. The logo is supposed to change color when it hits an edge. I know that <code>tint()</code> exists for JavaScript.</p>\n<p>Is there something similar for Java?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\n\npublic class MyPanel extends JPanel implements ActionListener{\n\n    final int PANEL_WIDTH = 500;\n    final int PANEL_HEIGHT = 500;\n    Image dvd;\n    Timer timer;\n    int xVelocity = 1;\n    int yVelocity = 1;\n    int x = 0;\n    int y = 0;\n\n    int r = (int)(Math.random() * 255);\n    int g = (int)(Math.random() * 255);\n    int b = (int)(Math.random() * 255);\n\n    MyPanel(){\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\n        this.setBackground(Color.BLACK);\n        dvd = new ImageIcon(&quot;dvdlogo-01.png&quot;).getImage();\n        timer = new Timer(10, this);\n        timer.start();\n\n    }\n\n    public void paint(Graphics g){\n        super.paint(g); // paint background\n        Graphics2D gr = (Graphics2D) g;\n        gr.drawImage(dvd, x, y,null );\n\n        \n    }\n\n\n    public void actionPerformed(ActionEvent e){\n\n        if(x &gt;= PANEL_WIDTH - dvd.getWidth(null) || x &lt; 0){\n            xVelocity = xVelocity * -1;\n        }\n        x = x + xVelocity;\n\n        if(y &gt;= PANEL_HEIGHT - dvd.getHeight(null) || y &lt; 0){\n            yVelocity = yVelocity * -1;\n        }\n        y = y + yVelocity;\n        repaint();\n\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/HSJ4I.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring-boot","http-status-code-403","spring-cloud-gateway"],"comments":[{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1670595110,"post_id":74743749,"comment_id":131916387,"body_markdown":"The CORS error is probably only a consequence of the 403 error. If the POST request is authenticated with a session cookie, this might be blocked as a third-party cookie if your frontend and backend have different top-level domains (`myfrontendsite.com` vs. `mybackendsite.com`). This would explain the behavior.","body":"The CORS error is probably only a consequence of the 403 error. If the POST request is authenticated with a session cookie, this might be blocked as a third-party cookie if your frontend and backend have different top-level domains (<code>myfrontendsite.com</code> vs. <code>mybackendsite.com</code>). This would explain the behavior."},{"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"score":0,"creation_date":1670742596,"post_id":74743749,"comment_id":131940839,"body_markdown":"Yes the POST request is authenticated via a session cookie but I donât think that cookie is being blocked because the same endpoint works when sending a different xml file","body":"Yes the POST request is authenticated via a session cookie but I donât think that cookie is being blocked because the same endpoint works when sending a different xml file"}],"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670713936,"creation_date":1670592216,"question_id":74743749,"body_markdown":"I have a frontend which is sending a POST request to an endpoint using XMLHttpRequest. It has some data and xml file sent in form data. My backend has a spring cloud gateway which has CORS enabled.\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;https://myFrontEndSite.com&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowCredentials: true\r\n```\r\n\r\nthe weird problem one of my user is facing is that when sending a specific file in the post request, they get a CORS error in console and 403 error when checking the call in the network tab of inspector. i can&#39;t seem to see if it is a red herring. I am able to import the file which the user cannot to that endpoint. the user is able to import other files to that endpoint.\r\n\r\nI have checked the network tab in the inspector. the preflight succeeds but the actual request fails with 403 error. i opened the request but it&#39;s response says nothing to preview","title":"CORS Preflight Request succeeded but the request fails","body":"<p>I have a frontend which is sending a POST request to an endpoint using XMLHttpRequest. It has some data and xml file sent in form data. My backend has a spring cloud gateway which has CORS enabled.</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;https://myFrontEndSite.com&quot;\n            allowedMethods: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n            allowCredentials: true\n</code></pre>\n<p>the weird problem one of my user is facing is that when sending a specific file in the post request, they get a CORS error in console and 403 error when checking the call in the network tab of inspector. i can't seem to see if it is a red herring. I am able to import the file which the user cannot to that endpoint. the user is able to import other files to that endpoint.</p>\n<p>I have checked the network tab in the inspector. the preflight succeeds but the actual request fails with 403 error. i opened the request but it's response says nothing to preview</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1670755536,"post_id":74748760,"comment_id":131942519,"body_markdown":"why dont you just flatMap after the switchIfEmpty and do your database insert then?","body":"why dont you just flatMap after the switchIfEmpty and do your database insert then?"}],"owner":{"account_id":3624367,"reputation":376,"user_id":3022395,"display_name":"md_rasler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670713743,"creation_date":1670624041,"question_id":74748760,"body_markdown":"I have a spring r2dbc repository like:\r\n\r\n    Mono&lt;Foo&gt; findFooByString(String string);\r\n    Mono&lt;Foo&gt; save(Foo foo);\r\n\r\n\r\nI have a service class that currently does:\r\n\r\n    public Mono&lt;Foo&gt; createFoo(Foo foo) {\r\n      repository.save(foo);\r\n    }\r\n\r\nThis works fine, though I have a unique constraint on the foo table string column, such that I would like to proactively check that the string column uniqueness is not violated before calling save.  I have an exception: DataIntegrityViolationException that I would like to return in this case.  Currently, the db layer returns more information that I would like to return to the user in the exception (sql that violates the integrity constraint).  This is trivial in tradition java + jpa:\r\n\r\n    Optional&lt;Foo&gt; fooOpt = repository.findFooByString(foo.getString());\r\n    if (fooOpt.isPresent()) {\r\n      //do not add another with string otherwise db exception will occur\r\n      throw new DataIntegrityViolationException(&quot;Don&#39;t do this!&quot;);\r\n    }\r\n\r\nBut given my lack of experience in webflux/reactive/non-blocking programming, I don&#39;t understand how to &quot;chain&quot; these two actions together appropriately.  \r\n\r\nThis makes sense to me for the first part:\r\n\r\n    repository.findFooByString(foo.getString())\r\n                    .switchIfEmpty(Mono.error(new DataIntegrityViolationException(&quot;Don&#39;t do this!&quot;)))\r\n\r\nBut not sure how to then do the &quot;else&quot; condition for normal cases and return the repository.save(foo);\r\n\r\nAny help would be appreciated.\r\n\r\nEdit 1:\r\nSo this seems to get me closer, though the return of Mono&lt;Foo&gt; to the caller isn&#39;t the same (no data on response through controller, but http status code correct), previously with just repository.save(foo) the Foo was returned to the caller correctly:\r\n\r\n    return repository.findFooByString(foo.getString())\r\n            .flatMap(foo1 -&gt; repository.save(foo))\r\n            .onErrorResume(e -&gt; Mono.error(new DataIntegrityViolationException(&quot;Don&#39;t Do this!&quot;)));\r\n\r\n","title":"Webflux + R2DBC return exception if element exists/breaks integrity constraint and return element otherwise","body":"<p>I have a spring r2dbc repository like:</p>\n<pre><code>Mono&lt;Foo&gt; findFooByString(String string);\nMono&lt;Foo&gt; save(Foo foo);\n</code></pre>\n<p>I have a service class that currently does:</p>\n<pre><code>public Mono&lt;Foo&gt; createFoo(Foo foo) {\n  repository.save(foo);\n}\n</code></pre>\n<p>This works fine, though I have a unique constraint on the foo table string column, such that I would like to proactively check that the string column uniqueness is not violated before calling save.  I have an exception: DataIntegrityViolationException that I would like to return in this case.  Currently, the db layer returns more information that I would like to return to the user in the exception (sql that violates the integrity constraint).  This is trivial in tradition java + jpa:</p>\n<pre><code>Optional&lt;Foo&gt; fooOpt = repository.findFooByString(foo.getString());\nif (fooOpt.isPresent()) {\n  //do not add another with string otherwise db exception will occur\n  throw new DataIntegrityViolationException(&quot;Don't do this!&quot;);\n}\n</code></pre>\n<p>But given my lack of experience in webflux/reactive/non-blocking programming, I don't understand how to &quot;chain&quot; these two actions together appropriately.</p>\n<p>This makes sense to me for the first part:</p>\n<pre><code>repository.findFooByString(foo.getString())\n                .switchIfEmpty(Mono.error(new DataIntegrityViolationException(&quot;Don't do this!&quot;)))\n</code></pre>\n<p>But not sure how to then do the &quot;else&quot; condition for normal cases and return the repository.save(foo);</p>\n<p>Any help would be appreciated.</p>\n<p>Edit 1:\nSo this seems to get me closer, though the return of Mono to the caller isn't the same (no data on response through controller, but http status code correct), previously with just repository.save(foo) the Foo was returned to the caller correctly:</p>\n<pre><code>return repository.findFooByString(foo.getString())\n        .flatMap(foo1 -&gt; repository.save(foo))\n        .onErrorResume(e -&gt; Mono.error(new DataIntegrityViolationException(&quot;Don't Do this!&quot;)));\n</code></pre>\n"},{"tags":["java","bitwise-operators"],"answers":[{"tags":[],"owner":{"account_id":457475,"reputation":1759,"user_id":856823,"display_name":"Johnny C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483979493,"creation_date":1483917108,"answer_id":41538917,"question_id":41538838,"body_markdown":"These kinds of operators are used for lots of things, but these days in higher level languages they are most commonly used with flags. It&#39;s a holdover from lower level languages like C, in which memory allocation and deallocation is not always trivial, and which was developed at a time where hardware resources were scarce.\r\n\r\nLet&#39;s say there are 3 possible flags for some operation, and they can be provided in any given combination.  A quick, easy, and efficient way to supply a flag is to assign each flag to a bit in an integer. \r\n\r\n    public static final int FLAG_1 = 1;       // 00000001\r\n    public static final int FLAG_2 = 1 &lt;&lt; 1;  // 00000010\r\n    public static final int FLAG_3 = 1 &lt;&lt; 2;  // 00000100\r\n\r\nThen to send multiple flags, I can use the bitwise or &quot;|&quot; operator.  \r\n\r\n    someFunc(FLAG_1 | FLAG_3).\r\n\r\nTo read the flags that are passed, I can use the bitwise &amp; operator.\r\n\r\n    public void someFunc(int flags) {\r\n        if ((flags &amp; FLAG_1) == FLAG_1 /*Or (flags &amp; FLAG_1) != 0 */) { \r\n          // Passed in flag 1.\r\n        }\r\n    }\r\n\r\nThere are other ways that this can be done, but this is very efficient, easy to read, and results in zero object allocations on the heap. If you think of other ways you&#39;d accomplish this in Java, let&#39;s say with an array or collection of enums/ints, or with each flag being a separate method parameter, it&#39;s clear why this pattern is used instead.","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>These kinds of operators are used for lots of things, but these days in higher level languages they are most commonly used with flags. It's a holdover from lower level languages like C, in which memory allocation and deallocation is not always trivial, and which was developed at a time where hardware resources were scarce.</p>\n\n<p>Let's say there are 3 possible flags for some operation, and they can be provided in any given combination.  A quick, easy, and efficient way to supply a flag is to assign each flag to a bit in an integer. </p>\n\n<pre><code>public static final int FLAG_1 = 1;       // 00000001\npublic static final int FLAG_2 = 1 &lt;&lt; 1;  // 00000010\npublic static final int FLAG_3 = 1 &lt;&lt; 2;  // 00000100\n</code></pre>\n\n<p>Then to send multiple flags, I can use the bitwise or \"|\" operator.  </p>\n\n<pre><code>someFunc(FLAG_1 | FLAG_3).\n</code></pre>\n\n<p>To read the flags that are passed, I can use the bitwise &amp; operator.</p>\n\n<pre><code>public void someFunc(int flags) {\n    if ((flags &amp; FLAG_1) == FLAG_1 /*Or (flags &amp; FLAG_1) != 0 */) { \n      // Passed in flag 1.\n    }\n}\n</code></pre>\n\n<p>There are other ways that this can be done, but this is very efficient, easy to read, and results in zero object allocations on the heap. If you think of other ways you'd accomplish this in Java, let's say with an array or collection of enums/ints, or with each flag being a separate method parameter, it's clear why this pattern is used instead.</p>\n"},{"tags":[],"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483918290,"creation_date":1483918290,"answer_id":41539081,"question_id":41538838,"body_markdown":"For a very basic example in an if-statement :\r\n\r\n    if ( (65280 &amp; 1) == 0 ){\r\n      // 65280 is even!\r\n    }\r\n\r\n  - `x &amp; 1` is `0` if `x` is even\r\n  - `x &amp; 1` is `1` if `x` is odd","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>For a very basic example in an if-statement :</p>\n\n<pre><code>if ( (65280 &amp; 1) == 0 ){\n  // 65280 is even!\n}\n</code></pre>\n\n<ul>\n<li><code>x &amp; 1</code> is <code>0</code> if <code>x</code> is even</li>\n<li><code>x &amp; 1</code> is <code>1</code> if <code>x</code> is odd</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483920504,"creation_date":1483920067,"answer_id":41539267,"question_id":41538838,"body_markdown":"I think that if you need to implement a small array of `boolean`, it could be a good idea to represent it as an `int` or `long`, with each bit representing one array element:\r\n\r\n - if there is a huge number of those arrays, so that memory usage is a concern; or\r\n - if you are doing a huge number of calculations.\r\n\r\nIn that case, you&#39;d use the shift operators and `&amp;`, `|`, `&amp;=`, `|=`, or `^=` to test, clear, set, or flip elements of the array.  (Note also that this can be used on multiple elements of array in parallel.)\r\n\r\nIt&#39;s rare that this case comes up.  For readability, it&#39;s much better to use a regular `array` or `ArrayList`.  However, I&#39;ve had both use cases come up at least once.  One was writing a Sudoku solver using a brute-force backtracking algorithm; I don&#39;t remember the details, but I think I used 9 bits of an `int` to represent whether the cells in a row, column, or square were occupied.  If I recall correctly, some of my code tested multiple cells simultaneously, which I could do with one `&amp;` operator.  Since solving by backtracking can involve a huge number of combinations, I believe that using this mechanism made a noticeable difference in the running time.  The other case involved a table of items that kept information on whether items had certain properties.  The number of properties was relatively small (between 10 and 20), but the number of items could run into the tens of millions.  A `Set` would have been the natural choice for representing the set of properties, but with the huge number of `HashSet`s I&#39;d need to keep, memory was a concern.\r\n\r\nI wouldn&#39;t recommend this unless there is a big difference in memory or time.  It smacks of &quot;trickiness&quot;, and I prefer straightforward code that expresses what you&#39;re trying to accomplish. ","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I think that if you need to implement a small array of <code>boolean</code>, it could be a good idea to represent it as an <code>int</code> or <code>long</code>, with each bit representing one array element:</p>\n\n<ul>\n<li>if there is a huge number of those arrays, so that memory usage is a concern; or</li>\n<li>if you are doing a huge number of calculations.</li>\n</ul>\n\n<p>In that case, you'd use the shift operators and <code>&amp;</code>, <code>|</code>, <code>&amp;=</code>, <code>|=</code>, or <code>^=</code> to test, clear, set, or flip elements of the array.  (Note also that this can be used on multiple elements of array in parallel.)</p>\n\n<p>It's rare that this case comes up.  For readability, it's much better to use a regular <code>array</code> or <code>ArrayList</code>.  However, I've had both use cases come up at least once.  One was writing a Sudoku solver using a brute-force backtracking algorithm; I don't remember the details, but I think I used 9 bits of an <code>int</code> to represent whether the cells in a row, column, or square were occupied.  If I recall correctly, some of my code tested multiple cells simultaneously, which I could do with one <code>&amp;</code> operator.  Since solving by backtracking can involve a huge number of combinations, I believe that using this mechanism made a noticeable difference in the running time.  The other case involved a table of items that kept information on whether items had certain properties.  The number of properties was relatively small (between 10 and 20), but the number of items could run into the tens of millions.  A <code>Set</code> would have been the natural choice for representing the set of properties, but with the huge number of <code>HashSet</code>s I'd need to keep, memory was a concern.</p>\n\n<p>I wouldn't recommend this unless there is a big difference in memory or time.  It smacks of \"trickiness\", and I prefer straightforward code that expresses what you're trying to accomplish. </p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670713032,"creation_date":1670713032,"answer_id":74757136,"question_id":41538838,"body_markdown":"I&#39;m looking at some source code written in Java (it was originally ported from C):\r\n\r\n    int dest = y * width + (x &amp; 0xfffc);\r\n\r\nTook me a while to realize what it means:\r\n \r\n0xfffc is 65532 or 1111111111111100\r\n\r\ndest is the offset in an array of size 65536.\r\n\r\nSo what does the expression above actually say?\r\n\r\nI think it says:\r\n\r\n    int dest = y * width + (x&lt;=65532?x:65532);\r\n","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I'm looking at some source code written in Java (it was originally ported from C):</p>\n<pre><code>int dest = y * width + (x &amp; 0xfffc);\n</code></pre>\n<p>Took me a while to realize what it means:</p>\n<p>0xfffc is 65532 or 1111111111111100</p>\n<p>dest is the offset in an array of size 65536.</p>\n<p>So what does the expression above actually say?</p>\n<p>I think it says:</p>\n<pre><code>int dest = y * width + (x&lt;=65532?x:65532);\n</code></pre>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":41538917,"answer_count":4,"score":0,"last_activity_date":1670713032,"creation_date":1483916511,"question_id":41538838,"body_markdown":"I don&#39;t understand, given the information below, why you would ever want to evaluate, for example, 2 hex integers with the `&amp;` operator. I understand the inversion pattern explained below, and I can calculate it myself, but it&#39;s hard to deduce *why* (from posts I see on the internet). What is the real world scenario that might give me insight here?\r\n\r\n      0xff00 &amp; 0xf0f0 is 0xf000\r\n      0xff00 ^ 0xf0f0 is 0x0ff0\r\n      0xff00 | 0xf0f0 is 0xfff0\r\n    For &amp;, the result value is the bitwise AND of the operand values.\r\n    For ^, the result value is the bitwise exclusive OR of the operand values.\r\n    For |, the result value is the bitwise inclusive OR of the operand values.\r\n\r\nIn my own head, I currently think of it like this:\r\n\r\n    if ( 65280 &amp; 61680 )  // evaluates to 61440, not boolean?","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I don't understand, given the information below, why you would ever want to evaluate, for example, 2 hex integers with the <code>&amp;</code> operator. I understand the inversion pattern explained below, and I can calculate it myself, but it's hard to deduce <em>why</em> (from posts I see on the internet). What is the real world scenario that might give me insight here?</p>\n\n<pre><code>  0xff00 &amp; 0xf0f0 is 0xf000\n  0xff00 ^ 0xf0f0 is 0x0ff0\n  0xff00 | 0xf0f0 is 0xfff0\nFor &amp;, the result value is the bitwise AND of the operand values.\nFor ^, the result value is the bitwise exclusive OR of the operand values.\nFor |, the result value is the bitwise inclusive OR of the operand values.\n</code></pre>\n\n<p>In my own head, I currently think of it like this:</p>\n\n<pre><code>if ( 65280 &amp; 61680 )  // evaluates to 61440, not boolean?\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1670761171,"post_id":74757065,"comment_id":131943459,"body_markdown":"`Could not find method implementation() for arguments [project &#39;:common&#39;]` â you need to apply either the [Application](https://docs.gradle.org/current/userguide/application_plugin.html), [Java Library](https://docs.gradle.org/current/userguide/java_library_plugin.html), or [Java](https://docs.gradle.org/current/userguide/java_plugin.html) plugin to the `:common` project. (Probably the Java Library plugin.)","body":"<code>Could not find method implementation() for arguments [project &#39;:common&#39;]</code> â you need to apply either the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Application</a>, <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">Java Library</a>, or <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow noreferrer\">Java</a> plugin to the <code>:common</code> project. (Probably the Java Library plugin.)"}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670712244,"creation_date":1670712244,"question_id":74757065,"body_markdown":"I am working on a multi-module gradle java project where it has three project modules \r\n1.webapp \r\n2.common\r\n3.data-client\r\n\r\nI have four build.gradle files. Three inside these projects and one file in the root folder. \r\n\r\nI am trying to add a dependency between webapp and common project inside the build.gradle of root project. Below is my build.gradle file but when I run gradle build. I am getting an error mentioned below. I know I can add the dependency directly in the sub-project but I want to know why this is not working. **My gradle version is 7.6**\r\n             \r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;web-app-gradle-local&#39;.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [project &#39;:common&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\r\n    \tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:93)\r\n\r\n**Build.gradle**\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:3.0.0&#39;\r\n        implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    }\r\n    \r\n    \r\n    project(&#39;:web-app&#39;) {\r\n        dependencies {\r\n            implementation project (&#39;:common&#39;)\r\n        }\r\n    }\r\n\r\n\r\n","title":"Gradle How to add dependencies between subprojects in root project&#39;s build.gradle","body":"<p>I am working on a multi-module gradle java project where it has three project modules\n1.webapp\n2.common\n3.data-client</p>\n<p>I have four build.gradle files. Three inside these projects and one file in the root folder.</p>\n<p>I am trying to add a dependency between webapp and common project inside the build.gradle of root project. Below is my build.gradle file but when I run gradle build. I am getting an error mentioned below. I know I can add the dependency directly in the sub-project but I want to know why this is not working. <strong>My gradle version is 7.6</strong></p>\n<pre><code>org.gradle.api.GradleScriptException: A problem occurred evaluating root project 'web-app-gradle-local'.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [project ':common'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\n    at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:93)\n</code></pre>\n<p><strong>Build.gradle</strong></p>\n<pre><code>plugins {\n    id 'application'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'org.springframework.boot:spring-boot-starter-security:3.0.0'\n    implementation 'com.google.guava:guava:31.1-jre'\n}\n\n\nproject(':web-app') {\n    dependencies {\n        implementation project (':common')\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670712244,"creation_date":1670712244,"answer_id":74757067,"question_id":74749740,"body_markdown":"SOLVED\r\n\r\nI solved the error I use in the document an interface follows the updated classes:\r\n\r\nclass AuditMetadata.java:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class AuditMetadata {\r\n    \r\n        @CreatedDate\r\n        private LocalDateTime createdDate;\r\n    \r\n        @LastModifiedDate\r\n        private LocalDateTime lastModifiedDate;\r\n    \r\n        @Version \r\n        private Long version;\r\n    \r\n        protected boolean persisted;\r\n    \r\n        // @CreatedBy\r\n        // private String createdByUser;\r\n    \r\n        // @LastModifiedBy\r\n        // private String modifiedByUser;\r\n      \r\n      //...getters and setters omitted\r\n    }\r\n\r\nclass Document CategoryMongo.java:\r\n\r\n    @Getter \r\n    @Setter \r\n    @NoArgsConstructor\r\n    @Document(collection = &quot;category&quot;)\r\n    public class CategoryMongo extends AuditMetadata implements Persistable&lt;String&gt;{\r\n        @Id\r\n        @JsonProperty(&quot;category_id&quot;)\r\n        private String category_id;\r\n        \r\n        @JsonProperty(&quot;id_colletion&quot;)\r\n        private String emberId;\r\n    \r\n        public String getEmberId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @JsonProperty(&quot;category_name&quot;)\r\n        private String name;\r\n    \r\n     \r\n        @JsonProperty(&quot;category_active&quot;)\r\n        private ProductEnum active = ProductEnum.ativo;\r\n    \r\n        @JsonProperty(&quot;category_slug&quot;)\r\n        private String slug;\r\n    \r\n        @Override\r\n        @Nullable\r\n        public String getId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isNew() {\r\n             return !persisted;\r\n        }\r\n     \r\n        // @JsonProperty(&quot;category_updateAt&quot;)\r\n        // @LastModifiedDate\r\n        // private Date updateAt;\r\n    \r\n        // @JsonProperty(&quot;category_createdAt&quot;)\r\n        // @CreatedDate\r\n        // private Date createdAt;\r\n    \r\n    }\r\n\r\nsave method:\r\n\r\n\r\n        CategoryMongo catm = new CategoryMongo();\r\n        catm.setName(category.getName());\r\n        catm.setSlug(category.getSlug());\r\n        catm.setActive(category.getActive());\r\n        catm.setCategory_id(category.getCategory_id().toString());\r\n        catm.setPersisted(true);\r\n        categoryRepositoryMongo.save(catm);\r\n\r\nBut something happens that I didn&#39;t want to happen: the @CreatedDate field disappears when I update it and only @LastModifiedDate appears in the result. if anyone knows how to solve this post here","title":"spring boot mongodb audit gives duplicate collection error","body":"<p>SOLVED</p>\n<p>I solved the error I use in the document an interface follows the updated classes:</p>\n<p>class AuditMetadata.java:</p>\n<pre><code>@Setter\n@Getter\npublic class AuditMetadata {\n\n    @CreatedDate\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    private LocalDateTime lastModifiedDate;\n\n    @Version \n    private Long version;\n\n    protected boolean persisted;\n\n    // @CreatedBy\n    // private String createdByUser;\n\n    // @LastModifiedBy\n    // private String modifiedByUser;\n  \n  //...getters and setters omitted\n}\n</code></pre>\n<p>class Document CategoryMongo.java:</p>\n<pre><code>@Getter \n@Setter \n@NoArgsConstructor\n@Document(collection = &quot;category&quot;)\npublic class CategoryMongo extends AuditMetadata implements Persistable&lt;String&gt;{\n    @Id\n    @JsonProperty(&quot;category_id&quot;)\n    private String category_id;\n    \n    @JsonProperty(&quot;id_colletion&quot;)\n    private String emberId;\n\n    public String getEmberId() {\n        return category_id;\n    }\n\n    @JsonProperty(&quot;category_name&quot;)\n    private String name;\n\n \n    @JsonProperty(&quot;category_active&quot;)\n    private ProductEnum active = ProductEnum.ativo;\n\n    @JsonProperty(&quot;category_slug&quot;)\n    private String slug;\n\n    @Override\n    @Nullable\n    public String getId() {\n        return category_id;\n    }\n\n    @Override\n    public boolean isNew() {\n         return !persisted;\n    }\n \n    // @JsonProperty(&quot;category_updateAt&quot;)\n    // @LastModifiedDate\n    // private Date updateAt;\n\n    // @JsonProperty(&quot;category_createdAt&quot;)\n    // @CreatedDate\n    // private Date createdAt;\n\n}\n</code></pre>\n<p>save method:</p>\n<pre><code>    CategoryMongo catm = new CategoryMongo();\n    catm.setName(category.getName());\n    catm.setSlug(category.getSlug());\n    catm.setActive(category.getActive());\n    catm.setCategory_id(category.getCategory_id().toString());\n    catm.setPersisted(true);\n    categoryRepositoryMongo.save(catm);\n</code></pre>\n<p>But something happens that I didn't want to happen: the @CreatedDate field disappears when I update it and only @LastModifiedDate appears in the result. if anyone knows how to solve this post here</p>\n"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670712244,"creation_date":1670636157,"question_id":74749740,"body_markdown":"spring boot mongodb audit gives duplicate collection error. I&#39;m trying to create dateCreate and dateUpdate fields when I insert and update a collection but when updated it gives the error:\r\n\r\n&gt; org.springframework.dao.DuplicateKeyException: Write operation error\r\n&gt; on server user.domain.com:27017. Write error: WriteError{code=11000,\r\n&gt; message=&#39;E11000 duplicate key error collection: springboot.category\r\n&gt; index: _id_ dup key: { _id: &quot;21&quot; }&#39;, details={}}.\r\n\r\nthe execution is duplicating the key, below is my structure\r\n\r\nMy class AuditingConfig.java:\r\n\r\n    Configuration\r\n    @EnableMongoAuditing\r\n    public class AuditingConfig {\r\n    \r\n        @Bean\r\n        public AuditorAware&lt;String&gt; myAuditorProvider() {\r\n            return new AuditorAwareImpl();\r\n        }\r\n    }\r\n\r\nMy class AuditMetadata.java:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class AuditMetadata {\r\n    \r\n        @CreatedDate\r\n        private LocalDateTime createdDate;\r\n    \r\n        @LastModifiedDate\r\n        private LocalDateTime lastModifiedDate;\r\n    \r\n        @Version \r\n        private Long version;\r\n    \r\n        // @CreatedBy\r\n        // private String createdByUser;\r\n    \r\n        // @LastModifiedBy\r\n        // private String modifiedByUser;\r\n      \r\n      //...getters and setters omitted\r\n    }\r\n\r\nMy class AuditorAwareImpl.java:\r\n\r\n    public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\r\n        @Override\r\n        public Optional&lt;String&gt; getCurrentAuditor() {\r\n            return Optional.of(&quot;Admin&quot;);\r\n        }\r\n    }\r\n\r\nMy class entity CategoryMongo.java:\r\n\r\n    Getter \r\n    @Setter \r\n    @NoArgsConstructor\r\n    @Document(collection = &quot;category&quot;)\r\n    public class CategoryMongo extends AuditMetadata{\r\n        @Id\r\n        @JsonProperty(&quot;category_id&quot;)\r\n        private String category_id;\r\n        \r\n        @JsonProperty(&quot;id_colletion&quot;)\r\n        private String emberId;\r\n    \r\n        public String getEmberId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @JsonProperty(&quot;category_name&quot;)\r\n        private String name;\r\n    \r\n     \r\n        @JsonProperty(&quot;category_active&quot;)\r\n        private ProductEnum active = ProductEnum.ativo;\r\n    \r\n        @JsonProperty(&quot;category_slug&quot;)\r\n        private String slug;\r\n     \r\n        // @JsonProperty(&quot;category_updateAt&quot;)\r\n        // @LastModifiedDate\r\n        // private Date updateAt;\r\n    \r\n        // @JsonProperty(&quot;category_createdAt&quot;)\r\n        // @CreatedDate\r\n        // private Date createdAt;\r\n    \r\n    }\r\n\r\n\r\nMy method save:\r\n\r\n       \r\n\r\n         CategoryMongo catm = new CategoryMongo();\r\n                catm.setName(category.getName());\r\n                catm.setSlug(category.getSlug());\r\n                catm.setActive(category.getActive());\r\n                catm.setCategory_id(category.getCategory_id().toString());\r\n                catm.setEmberId(category.getCategory_id().toString());\r\n    categoryRepositoryMongo.save(catm);","title":"spring boot mongodb audit gives duplicate collection error","body":"<p>spring boot mongodb audit gives duplicate collection error. I'm trying to create dateCreate and dateUpdate fields when I insert and update a collection but when updated it gives the error:</p>\n<blockquote>\n<p>org.springframework.dao.DuplicateKeyException: Write operation error\non server user.domain.com:27017. Write error: WriteError{code=11000,\nmessage='E11000 duplicate key error collection: springboot.category\nindex: <em>id</em> dup key: { _id: &quot;21&quot; }', details={}}.</p>\n</blockquote>\n<p>the execution is duplicating the key, below is my structure</p>\n<p>My class AuditingConfig.java:</p>\n<pre><code>Configuration\n@EnableMongoAuditing\npublic class AuditingConfig {\n\n    @Bean\n    public AuditorAware&lt;String&gt; myAuditorProvider() {\n        return new AuditorAwareImpl();\n    }\n}\n</code></pre>\n<p>My class AuditMetadata.java:</p>\n<pre><code>@Setter\n@Getter\npublic class AuditMetadata {\n\n    @CreatedDate\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    private LocalDateTime lastModifiedDate;\n\n    @Version \n    private Long version;\n\n    // @CreatedBy\n    // private String createdByUser;\n\n    // @LastModifiedBy\n    // private String modifiedByUser;\n  \n  //...getters and setters omitted\n}\n</code></pre>\n<p>My class AuditorAwareImpl.java:</p>\n<pre><code>public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        return Optional.of(&quot;Admin&quot;);\n    }\n}\n</code></pre>\n<p>My class entity CategoryMongo.java:</p>\n<pre><code>Getter \n@Setter \n@NoArgsConstructor\n@Document(collection = &quot;category&quot;)\npublic class CategoryMongo extends AuditMetadata{\n    @Id\n    @JsonProperty(&quot;category_id&quot;)\n    private String category_id;\n    \n    @JsonProperty(&quot;id_colletion&quot;)\n    private String emberId;\n\n    public String getEmberId() {\n        return category_id;\n    }\n\n    @JsonProperty(&quot;category_name&quot;)\n    private String name;\n\n \n    @JsonProperty(&quot;category_active&quot;)\n    private ProductEnum active = ProductEnum.ativo;\n\n    @JsonProperty(&quot;category_slug&quot;)\n    private String slug;\n \n    // @JsonProperty(&quot;category_updateAt&quot;)\n    // @LastModifiedDate\n    // private Date updateAt;\n\n    // @JsonProperty(&quot;category_createdAt&quot;)\n    // @CreatedDate\n    // private Date createdAt;\n\n}\n</code></pre>\n<p>My method save:</p>\n<pre><code>     CategoryMongo catm = new CategoryMongo();\n            catm.setName(category.getName());\n            catm.setSlug(category.getSlug());\n            catm.setActive(category.getActive());\n            catm.setCategory_id(category.getCategory_id().toString());\n            catm.setEmberId(category.getCategory_id().toString());\ncategoryRepositoryMongo.save(catm);\n</code></pre>\n"},{"tags":["java","parameterized"],"comments":[{"owner":{"account_id":999849,"reputation":40077,"user_id":1014979,"accept_rate":78,"display_name":"dnc253"},"score":0,"creation_date":1334680439,"post_id":10194855,"comment_id":13088894,"body_markdown":"With what I&#39;m doing, it isn&#39;t critical that I ensure this. I was just wanting to know if it was possible. It&#39;s good to know all this for future reference though.","body":"With what I&#39;m doing, it isn&#39;t critical that I ensure this. I was just wanting to know if it was possible. It&#39;s good to know all this for future reference though."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1467929051,"creation_date":1334678852,"answer_id":10194891,"question_id":10194855,"body_markdown":"Java&#39;s type system is simply not strong enough to enforce the type constraint you&#39;re describing directly, and you&#39;ll need to do some unsafe casts to make this work -- or wrap the `Map` in some other API that enforces the type safety.  [Guava&#39;s][1] [`ClassToInstanceMap`][2] does just that for exactly this use case, providing an externally safe API that imposes additional restrictions on the `Map` interface to make it work.  (Disclosure: I contribute to Guava.)\r\n\r\nThe only time this can cause a memory leak is if there&#39;s some classes you&#39;re using here that would not be retained for the life of the application.  This isn&#39;t a concern for many users, especially if you&#39;re writing a &quot;server side&quot; application that isn&#39;t as concerned about unloading unused classes.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java","title":"Java map, key = class, value = instance of that class","body":"<p>Java's type system is simply not strong enough to enforce the type constraint you're describing directly, and you'll need to do some unsafe casts to make this work -- or wrap the <code>Map</code> in some other API that enforces the type safety.  <a href=\"http://guava-libraries.googlecode.com\" rel=\"noreferrer\">Guava's</a> <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java\" rel=\"noreferrer\"><code>ClassToInstanceMap</code></a> does just that for exactly this use case, providing an externally safe API that imposes additional restrictions on the <code>Map</code> interface to make it work.  (Disclosure: I contribute to Guava.)</p>\n\n<p>The only time this can cause a memory leak is if there's some classes you're using here that would not be retained for the life of the application.  This isn't a concern for many users, especially if you're writing a \"server side\" application that isn't as concerned about unloading unused classes.</p>\n"},{"tags":[],"owner":{"display_name":"user130076"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334678965,"creation_date":1334678965,"answer_id":10194917,"question_id":10194855,"body_markdown":"This isn&#39;t possible due to type erasure. \r\n\r\nHowever, you could subclass `HashMap` and write some logic into the `put` method which will do this for you:\r\n\r\n    public void put(K key, V value) {\r\n\r\n        if  ( // value is an instance of key using .getClass()) { \r\n            super.put(key, value)\r\n        }\r\n        throw new Exception();\r\n    }\r\n\r\n(Code for illustrative purposes only)","title":"Java map, key = class, value = instance of that class","body":"<p>This isn't possible due to type erasure. </p>\n\n<p>However, you could subclass <code>HashMap</code> and write some logic into the <code>put</code> method which will do this for you:</p>\n\n<pre><code>public void put(K key, V value) {\n\n    if  ( // value is an instance of key using .getClass()) { \n        super.put(key, value)\n    }\n    throw new Exception();\n}\n</code></pre>\n\n<p>(Code for illustrative purposes only)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1334679200,"creation_date":1334679200,"answer_id":10194981,"question_id":10194855,"body_markdown":"You can hide the collection and only allow it to be accessed via accessor methods.\r\n\r\n    private final Map&lt;Class, Object&gt; myMap = new HashMap&lt;Class, Object&gt;();\r\n\r\n    public &lt;T&gt; void putMap(Class&lt;T&gt; tClass, T t) {\r\n         myMap.put(tClass, t);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; T getMap(Class&lt;T&gt; tClass) {\r\n        return (T) myMap.get(tClass);\r\n    }\r\n\r\nThe warning can be ignored as you know the cast in the last method is safe even if the compiler does not.\r\n","title":"Java map, key = class, value = instance of that class","body":"<p>You can hide the collection and only allow it to be accessed via accessor methods.</p>\n\n<pre><code>private final Map&lt;Class, Object&gt; myMap = new HashMap&lt;Class, Object&gt;();\n\npublic &lt;T&gt; void putMap(Class&lt;T&gt; tClass, T t) {\n     myMap.put(tClass, t);\n}\n\n@SuppressWarnings(\"unchecked\")\npublic &lt;T&gt; T getMap(Class&lt;T&gt; tClass) {\n    return (T) myMap.get(tClass);\n}\n</code></pre>\n\n<p>The warning can be ignored as you know the cast in the last method is safe even if the compiler does not.</p>\n"},{"tags":[],"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1334680594,"creation_date":1334679893,"answer_id":10195163,"question_id":10194855,"body_markdown":"What you are using is a **[heterogeneous container](https://stackoverflow.com/questions/6139325/heterogeneous-container-to-store-genericly-typed-objects-in-java)**. These **can** be made typesafe by using type tokens (as you already do) and `Class.cast()` with the correct application logic: So there is an unchecked suppressWarning within `Class.cast()`, but the application logic guarantees correctness. \r\n\r\nI advise you read Josh Bloch&#39;s Effective Java Item 29: Consider typesafe heterogeneous containers. His example is:\r\n\r\n    // Typesafe heterogeneous container pattern - implementation\r\n    public class Favorites {\r\n      private Map&lt;Class&lt;?&gt;, Object&gt; favorites =\r\n        new HashMap&lt;Class&lt;?&gt;, Object&gt;();\r\n  \r\n      public &lt;T&gt; void putFavorite(Class&lt;T&gt; type, T instance) {\r\n        if (type == null)\r\n          throw new NullPointerException(&quot;Type is null&quot;);\r\n        favorites.put(type, instance);\r\n      }\r\n \r\n      public &lt;T&gt; T getFavorite(Class&lt;T&gt; type) {\r\n        return type.cast(favorites.get(type));\r\n      }\r\n    }\r\n\r\n----------------\r\n\r\nI only see a possibility for **memory leakage** if you hold arbitrarily many different types you actually no longer need.\r\n\r\n\r\n\r\n\r\n","title":"Java map, key = class, value = instance of that class","body":"<p>What you are using is a <strong><a href=\"https://stackoverflow.com/questions/6139325/heterogeneous-container-to-store-genericly-typed-objects-in-java\">heterogeneous container</a></strong>. These <strong>can</strong> be made typesafe by using type tokens (as you already do) and <code>Class.cast()</code> with the correct application logic: So there is an unchecked suppressWarning within <code>Class.cast()</code>, but the application logic guarantees correctness. </p>\n\n<p>I advise you read Josh Bloch's Effective Java Item 29: Consider typesafe heterogeneous containers. His example is:</p>\n\n<pre><code>// Typesafe heterogeneous container pattern - implementation\npublic class Favorites {\n  private Map&lt;Class&lt;?&gt;, Object&gt; favorites =\n    new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n\n  public &lt;T&gt; void putFavorite(Class&lt;T&gt; type, T instance) {\n    if (type == null)\n      throw new NullPointerException(\"Type is null\");\n    favorites.put(type, instance);\n  }\n\n  public &lt;T&gt; T getFavorite(Class&lt;T&gt; type) {\n    return type.cast(favorites.get(type));\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>I only see a possibility for <strong>memory leakage</strong> if you hold arbitrarily many different types you actually no longer need.</p>\n"},{"tags":[],"owner":{"account_id":13182025,"reputation":470,"user_id":9521107,"display_name":"truekiller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530020934,"creation_date":1530020934,"answer_id":51044526,"question_id":10194855,"body_markdown":"I had the same requirement. I solved it using the below code : \r\n\r\n    interface Service { }\r\n\r\n    class ServiceCache {\r\n\tprivate HashMap&lt;Class&lt;? extends Service&gt;, Service&gt; services;\r\n\r\n\tpublic ServiceCache() {\r\n\t\tservices = new HashMap&lt;&gt;();\r\n\t}\r\n\r\n\tpublic &lt;T extends Service&gt; T getService(Class&lt;T&gt; service) {\r\n\t\tif (services.containsKey(service))\r\n\t\t\treturn (T) services.get(service);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic &lt;T extends Service&gt; void addService(T service, Class&lt;? extends Service&gt; serviceInterface) {\r\n\t\tservices.put(serviceInterface, service);\r\n\t }\r\n    }","title":"Java map, key = class, value = instance of that class","body":"<p>I had the same requirement. I solved it using the below code : </p>\n\n<pre><code>interface Service { }\n\nclass ServiceCache {\nprivate HashMap&lt;Class&lt;? extends Service&gt;, Service&gt; services;\n\npublic ServiceCache() {\n    services = new HashMap&lt;&gt;();\n}\n\npublic &lt;T extends Service&gt; T getService(Class&lt;T&gt; service) {\n    if (services.containsKey(service))\n        return (T) services.get(service);\n    return null;\n}\n\npublic &lt;T extends Service&gt; void addService(T service, Class&lt;? extends Service&gt; serviceInterface) {\n    services.put(serviceInterface, service);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9682830,"reputation":101,"user_id":7183818,"display_name":"celikz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670712025,"creation_date":1670712025,"answer_id":74757046,"question_id":10194855,"body_markdown":"`clazz.isInstance(TypeClass.class)` can be used to compare types.\r\nAccording to the documentation `public native boolean isInstance(Object obj)` method\r\n\r\n&gt; Determines if the specified Object is assignment-compatible with the object represented by this Class. This method is the dynamic equivalent of the Java language **instanceof** operator. The method returns true if the specified Object argument is non-null and can be cast to the reference type represented by this Class object without raising a ClassCastException. It returns false otherwise.\r\n\r\n`clazz.isAssignableFrom(TypeClass.class)` can be used to compare both super and sub types.\r\nAccording to the documentation `public native boolean isAssignableFrom(Class&lt;?&gt; cls)` method\r\n\r\n&gt; Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false. If this Class object represents a primitive type, this method returns true if the specified Class parameter is exactly this Class object; otherwise it returns false.\r\n\r\n","title":"Java map, key = class, value = instance of that class","body":"<p><code>clazz.isInstance(TypeClass.class)</code> can be used to compare types.\nAccording to the documentation <code>public native boolean isInstance(Object obj)</code> method</p>\n<blockquote>\n<p>Determines if the specified Object is assignment-compatible with the object represented by this Class. This method is the dynamic equivalent of the Java language <strong>instanceof</strong> operator. The method returns true if the specified Object argument is non-null and can be cast to the reference type represented by this Class object without raising a ClassCastException. It returns false otherwise.</p>\n</blockquote>\n<p><code>clazz.isAssignableFrom(TypeClass.class)</code> can be used to compare both super and sub types.\nAccording to the documentation <code>public native boolean isAssignableFrom(Class&lt;?&gt; cls)</code> method</p>\n<blockquote>\n<p>Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false. If this Class object represents a primitive type, this method returns true if the specified Class parameter is exactly this Class object; otherwise it returns false.</p>\n</blockquote>\n"}],"owner":{"account_id":999849,"reputation":40077,"user_id":1014979,"accept_rate":78,"display_name":"dnc253"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32083,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":10194891,"answer_count":6,"score":28,"last_activity_date":1670712025,"creation_date":1334678712,"question_id":10194855,"body_markdown":"I&#39;m not sure what I want to do is possible, but if it is, I want to find out how. Basically, I want to create a Map where the key is a class (`java.lang.Class`), and value for that entry is an instance of that class. Currently I have\r\n\r\n    private Map&lt;Class&lt;?&gt;, Object&gt; myMap = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\r\n\r\nHowever, this means any Object can be placed in the Map. If it is possible, I want to make it, so only an instance of the class in the key can be placed in the map. Is there any way to use the ? parametrization on the Class&lt;?&gt; to ensure this?\r\n\r\nAlso, I found there could be a [possible memory leak][1] when doing something like this. I&#39;m not sure I fully understand how this happens. I will only be sticking singleton objects into the map, so would there still be concern for a memory leak? If so, how do I prevent it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2625546/is-using-the-class-instance-as-a-map-key-a-best-practice","title":"Java map, key = class, value = instance of that class","body":"<p>I'm not sure what I want to do is possible, but if it is, I want to find out how. Basically, I want to create a Map where the key is a class (<code>java.lang.Class</code>), and value for that entry is an instance of that class. Currently I have</p>\n\n<pre><code>private Map&lt;Class&lt;?&gt;, Object&gt; myMap = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n</code></pre>\n\n<p>However, this means any Object can be placed in the Map. If it is possible, I want to make it, so only an instance of the class in the key can be placed in the map. Is there any way to use the ? parametrization on the Class to ensure this?</p>\n\n<p>Also, I found there could be a <a href=\"https://stackoverflow.com/questions/2625546/is-using-the-class-instance-as-a-map-key-a-best-practice\">possible memory leak</a> when doing something like this. I'm not sure I fully understand how this happens. I will only be sticking singleton objects into the map, so would there still be concern for a memory leak? If so, how do I prevent it?</p>\n"},{"tags":["java","string","variables","methods","return"],"comments":[{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1670710773,"post_id":74756911,"comment_id":131937480,"body_markdown":"you compare string with equals method https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object) and your method need a return statement after the for loop","body":"you compare string with equals method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> and your method need a return statement after the for loop"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670711560,"post_id":74756911,"comment_id":131937638,"body_markdown":"Declare the variable before the if block","body":"Declare the variable before the if block"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670711832,"post_id":74756911,"comment_id":131937691,"body_markdown":"The central problem here is that not all paths lead to a return statement. Incidentally, yes, the string compare is _also_ wrong. Point is, reopen - that&#39;s not the pertinent problem here. Admittedly, OP, you really should include the compiler error message in your SO questions.","body":"The central problem here is that not all paths lead to a return statement. Incidentally, yes, the string compare is <i>also</i> wrong. Point is, reopen - that&#39;s not the pertinent problem here. Admittedly, OP, you really should include the compiler error message in your SO questions."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1670712042,"post_id":74756911,"comment_id":131937722,"body_markdown":"close -&gt; missing debugging information, like, well, what the actual error is...","body":"close -&gt; missing debugging information, like, well, what the actual error is..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670711948,"creation_date":1670711948,"answer_id":74757040,"question_id":74756911,"body_markdown":"_All_ paths through the code _must_ lead to a `return` statement. Some analysis of this code indicates that it should always do so, but this requires knowing that `for (int i = 0; i &lt; 1; i++)` will loop at least once.\r\n\r\nThe compiler isn&#39;t going to go that far. Hence, this won&#39;t compile. Just reorder a few things and it will. Separately, you _also_ have a second issue - `==` checks reference identity, it doesn&#39;t do value comparison. Unless the left and right hand side are primitives (i.e. _not_ references, and thus &#39;reference identity&#39; wouldnt apply in the first place). You use equals instead, or in this case, more idiomatic, `.isEmpty()`. Fixing both issues:\r\n\r\n```java\r\npublic static String agregarMain() {\r\n    Scanner in = new Scanner(System.in);\r\n    String mainSeleccion = &quot;&quot;;\r\n    for (int i = 0; i &lt; 1; i++) {\r\n        System.out.println(&quot;Ingresar nombre del software/topico&quot;);\r\n        mainSeleccion = in.nextLine();\r\n        if (mainSeleccion.isEmpty()) {\r\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\r\n            i--;\r\n        }\r\n    }\r\n    return mainSeleccion;\r\n}\r\n```\r\n\r\nNB: When asking question on stack overflow, include all pertinent errors. You didnt which led to some confusion in the comments and got your question closed.","title":"Why the String input variable won&#39;t be saved using return?","body":"<p><em>All</em> paths through the code <em>must</em> lead to a <code>return</code> statement. Some analysis of this code indicates that it should always do so, but this requires knowing that <code>for (int i = 0; i &lt; 1; i++)</code> will loop at least once.</p>\n<p>The compiler isn't going to go that far. Hence, this won't compile. Just reorder a few things and it will. Separately, you <em>also</em> have a second issue - <code>==</code> checks reference identity, it doesn't do value comparison. Unless the left and right hand side are primitives (i.e. <em>not</em> references, and thus 'reference identity' wouldnt apply in the first place). You use equals instead, or in this case, more idiomatic, <code>.isEmpty()</code>. Fixing both issues:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String agregarMain() {\n    Scanner in = new Scanner(System.in);\n    String mainSeleccion = &quot;&quot;;\n    for (int i = 0; i &lt; 1; i++) {\n        System.out.println(&quot;Ingresar nombre del software/topico&quot;);\n        mainSeleccion = in.nextLine();\n        if (mainSeleccion.isEmpty()) {\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\n            i--;\n        }\n    }\n    return mainSeleccion;\n}\n</code></pre>\n<p>NB: When asking question on stack overflow, include all pertinent errors. You didnt which led to some confusion in the comments and got your question closed.</p>\n"}],"owner":{"account_id":26969799,"reputation":1,"user_id":20535984,"display_name":"Floatingunknown"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670759040,"answer_count":1,"score":-3,"last_activity_date":1670711948,"creation_date":1670710665,"question_id":74756911,"body_markdown":"The method won&#39;t take the variable that I assigned in return.\r\n\r\n\r\n```\r\npublic static String agregarMain() {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tfor (int i = 0; i &lt; 1; i++) {\r\n\t\t\tSystem.out.println(&quot;Ingresar nombre del software/topico&quot;);\r\n\t\t\tString mainSeleccion = in.nextLine();\r\n\t\tif (mainSeleccion == &quot;&quot;) {\r\n\t\t\tSystem.out.println(&quot;Invalid Selection, please try again&quot;);\r\n\t\t\ti--;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\treturn mainSeleccion;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m expecting to save the input response in mainSeleccion variable.","title":"Why the String input variable won&#39;t be saved using return?","body":"<p>The method won't take the variable that I assigned in return.</p>\n<pre><code>public static String agregarMain() {\n        Scanner in = new Scanner(System.in);\n        for (int i = 0; i &lt; 1; i++) {\n            System.out.println(&quot;Ingresar nombre del software/topico&quot;);\n            String mainSeleccion = in.nextLine();\n        if (mainSeleccion == &quot;&quot;) {\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\n            i--;\n            continue;\n        }\n        return mainSeleccion;\n        }\n    }\n</code></pre>\n<p>I'm expecting to save the input response in mainSeleccion variable.</p>\n"},{"tags":["java","android","checkbox","sharedpreferences","submenu"],"answers":[{"tags":[],"owner":{"account_id":1765886,"reputation":2876,"user_id":1611779,"accept_rate":92,"display_name":"iOSAndroidWindowsMobileAppsDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670711932,"creation_date":1462260764,"answer_id":36998250,"question_id":36939380,"body_markdown":"One way is to call the `.clear()` method before `.commit()`.\r\n\r\nAnother is to retrieve the last stored value in shared preferences. However, to do this, one has to understand the lifecycle of an activity\r\n\r\nAfter storing the checked state of user preferences, as below:\r\nDeclare variables\r\n\r\n    /**Checkable Login Persist Shared Prefs Declarations Start*/\r\n    private static final String PREFS_NAME = &quot;IsCheckedState&quot;;\r\n    String string;\r\n    SharedPreferences.Editor editor;\r\n    /**Checkable Login Persist Shared Prefs Declarations End*/\r\n\r\nAfter setting the layout, assign the string (boolean or int in whatever your case may be) variable to shared preferences.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n         setContentView(R.layout.activity_main);\r\n         /**\r\n          Persistent Checkable Menu Start\r\n          **/\r\n         SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n         string = settings.getString(&quot;preference&quot;, string);\r\n         //Log.e(&quot;User Subscription&quot;, string);\r\n         /**\r\n          Persistent Checkable Menu End\r\n          **/}\r\n\t@Override\r\n    public boolean onPrepareOptionsMenu(Menu menu) {\r\n        super.onPrepareOptionsMenu(menu);\r\n        SharedPreferences settings = this.getSharedPreferences(PREFS_NAME, 0);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n        if (string.equals(&quot;Vibrate&quot;)) {\r\n            menu.findItem(R.id.start_action).setChecked(true);\r\n            Log.e(&quot;Vibrate&quot;, string);\r\n        }\r\n        else if (string.equals(&quot;Disable&quot;)){\r\n            menu.findItem(R.id.my_cancel_action).setChecked(true);\r\n            Log.e(&quot;Disable&quot;, string);\r\n        }\r\n        return true;\r\n    }\r\n    // Menu options to set and cancel the alarm.\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        /*persistent checkable item logic start*/\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        editor = settings.edit();\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n         /*persistent checkable item logic end*/\r\n        int id = item.getItemId();\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        switch (id) {\r\n\r\n            // When the user clicks START ALARM, set the alarm.\r\n            case R.id.start_action:\r\n                alarm.setAlarm();\r\n                item.setChecked(true);\r\n                string= &quot;Vibrate&quot;;\r\n                editor.putString(&quot;preference&quot;, string);\r\n                editor.commit();\r\n                // invalidateOptionsMenu();\r\n                return true;\r\n            // When the user clicks CANCEL ALARM, cancel the alarm.\r\n            case R.id.my_cancel_action:\r\n                alarm.cancelAlarm(this, 1);\r\n                item.setChecked(true);\r\n                string=&quot;Disable&quot;;\r\n                editor.putString(&quot;preference&quot;, &quot;Disable&quot;);\r\n                editor.commit();\r\n                //invalidateOptionsMenu();\r\n                return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nYou have to retrieve the previously stored string from shared preferences, when the app is paused, stopped, resumed visible (started). So, in addition to the code above, you will need to add the following:\r\n\r\n\t}\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n    @Override\r\n    protected void onRestart() {\r\n        super.onRestart();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\nThat is, if you really want to have the checked option stored at all times.","title":"Android Persistent Checkable Menu in Custom Widget After Reboot Android","body":"<p>One way is to call the <code>.clear()</code> method before <code>.commit()</code>.</p>\n<p>Another is to retrieve the last stored value in shared preferences. However, to do this, one has to understand the lifecycle of an activity</p>\n<p>After storing the checked state of user preferences, as below:\nDeclare variables</p>\n<pre><code>/**Checkable Login Persist Shared Prefs Declarations Start*/\nprivate static final String PREFS_NAME = &quot;IsCheckedState&quot;;\nString string;\nSharedPreferences.Editor editor;\n/**Checkable Login Persist Shared Prefs Declarations End*/\n</code></pre>\n<p>After setting the layout, assign the string (boolean or int in whatever your case may be) variable to shared preferences.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.activity_main);\n     /**\n      Persistent Checkable Menu Start\n      **/\n     SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n     string = settings.getString(&quot;preference&quot;, string);\n     //Log.e(&quot;User Subscription&quot;, string);\n     /**\n      Persistent Checkable Menu End\n      **/}\n@Override\npublic boolean onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    SharedPreferences settings = this.getSharedPreferences(PREFS_NAME, 0);\n    string = settings.getString(&quot;preference&quot;, string);\n    if (string.equals(&quot;Vibrate&quot;)) {\n        menu.findItem(R.id.start_action).setChecked(true);\n        Log.e(&quot;Vibrate&quot;, string);\n    }\n    else if (string.equals(&quot;Disable&quot;)){\n        menu.findItem(R.id.my_cancel_action).setChecked(true);\n        Log.e(&quot;Disable&quot;, string);\n    }\n    return true;\n}\n// Menu options to set and cancel the alarm.\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    /*persistent checkable item logic start*/\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    editor = settings.edit();\n    string = settings.getString(&quot;preference&quot;, string);\n     /*persistent checkable item logic end*/\n    int id = item.getItemId();\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    switch (id) {\n\n        // When the user clicks START ALARM, set the alarm.\n        case R.id.start_action:\n            alarm.setAlarm();\n            item.setChecked(true);\n            string= &quot;Vibrate&quot;;\n            editor.putString(&quot;preference&quot;, string);\n            editor.commit();\n            // invalidateOptionsMenu();\n            return true;\n        // When the user clicks CANCEL ALARM, cancel the alarm.\n        case R.id.my_cancel_action:\n            alarm.cancelAlarm(this, 1);\n            item.setChecked(true);\n            string=&quot;Disable&quot;;\n            editor.putString(&quot;preference&quot;, &quot;Disable&quot;);\n            editor.commit();\n            //invalidateOptionsMenu();\n            return true;\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>You have to retrieve the previously stored string from shared preferences, when the app is paused, stopped, resumed visible (started). So, in addition to the code above, you will need to add the following:</p>\n<pre><code>}\n@Override\npublic void onResume() {\n    super.onResume();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n@Override\nprotected void onRestart() {\n    super.onRestart();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n@Override\nprotected void onStop() {\n    super.onStop();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n</code></pre>\n<p>That is, if you really want to have the checked option stored at all times.</p>\n"}],"owner":{"account_id":1765886,"reputation":2876,"user_id":1611779,"accept_rate":92,"display_name":"iOSAndroidWindowsMobileAppsDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36998250,"answer_count":1,"score":1,"last_activity_date":1670711932,"creation_date":1461935765,"question_id":36939380,"body_markdown":"Hi I designed a custom toolbar to replace the action bar with a popup menu, using the hints from \r\n\r\nhttps://stackoverflow.com/questions/21972930/how-to-save-menuitem-visibility-state-through-sharedpreferences\r\n\r\nand\r\n\r\nhttps://stackoverflow.com/questions/29122447/checkbox-item-state-on-menu-android\r\n\r\nand\r\n\r\nhttp://developer.android.com/guide/topics/ui/menus.html#checkable\r\n\r\nThe most effective way is to store the state in shared preferences as in the stackoverflow answers. \r\n\r\nMy question is: How do I keep the checked option selected even after restarting my android?","title":"Android Persistent Checkable Menu in Custom Widget After Reboot Android","body":"<p>Hi I designed a custom toolbar to replace the action bar with a popup menu, using the hints from </p>\n\n<p><a href=\"https://stackoverflow.com/questions/21972930/how-to-save-menuitem-visibility-state-through-sharedpreferences\">how to save menuitem visibility state through sharedpreferences?</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29122447/checkbox-item-state-on-menu-android\">Checkbox item state on menu android</a></p>\n\n<p>and</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/menus.html#checkable\" rel=\"nofollow noreferrer\">http://developer.android.com/guide/topics/ui/menus.html#checkable</a></p>\n\n<p>The most effective way is to store the state in shared preferences as in the stackoverflow answers. </p>\n\n<p>My question is: How do I keep the checked option selected even after restarting my android?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","executable-jar"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1670632599,"post_id":74749246,"comment_id":131925493,"body_markdown":"What happens if you specify the `--module-path` etc., for [example](https://stackoverflow.com/a/71288497/230513).","body":"What happens if you specify the <code>--module-path</code> etc., for <a href=\"https://stackoverflow.com/a/71288497/230513\">example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670636619,"post_id":74749246,"comment_id":131925996,"body_markdown":"Your options: jlink it (recommended) using the maven-javafx-plugin (it is modular, so that may work), if it doesn&#39;t work then jpackage it.  If you really want to just deploy a jar (not recommended), then use the [unsupported shade config](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) for a single jar, or, better provide an unshaded jar for your app and place the dependent libraries in a lib directory, run with module settings like trashgod&#39;s sample but for all your modules, not just javafx modules, and zip everything up for distribution.","body":"Your options: jlink it (recommended) using the maven-javafx-plugin (it is modular, so that may work), if it doesn&#39;t work then jpackage it.  If you really want to just deploy a jar (not recommended), then use the <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">unsupported shade config</a> for a single jar, or, better provide an unshaded jar for your app and place the dependent libraries in a lib directory, run with module settings like trashgod&#39;s sample but for all your modules, not just javafx modules, and zip everything up for distribution."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670636768,"post_id":74749246,"comment_id":131926010,"body_markdown":"Also note that an executable [modular jar](https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class) does not use the class path and main class settings in the manifest which might be used for an executable non-modular jar.","body":"Also note that an executable <a href=\"https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class\" rel=\"nofollow noreferrer\">modular jar</a> does not use the class path and main class settings in the manifest which might be used for an executable non-modular jar."},{"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"score":0,"creation_date":1670686303,"post_id":74749246,"comment_id":131932831,"body_markdown":"I added in VM options in &#39;Run &gt; configuration &gt; Jar Application &gt; MyAppliaction.jar&#39;\n\n&#39;--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml&#39;\n\nand the error message is gone when I run the jar file in IntelliJ !\n\nHowever, I still have it when I try to open it from the Terminal with the &#39;java -jar&#39; and the &#39;java -cp&#39;\n\nSo it solved the issue only in the IDE.","body":"I added in VM options in &#39;Run &gt; configuration &gt; Jar Application &gt; MyAppliaction.jar&#39;  &#39;--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml&#39;  and the error message is gone when I run the jar file in IntelliJ !  However, I still have it when I try to open it from the Terminal with the &#39;java -jar&#39; and the &#39;java -cp&#39;  So it solved the issue only in the IDE."}],"answers":[{"tags":[],"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670710466,"creation_date":1670710466,"answer_id":74756889,"question_id":74749246,"body_markdown":"I found the solution !\r\n\r\nSo if you are using IntelliJ with a Maven Project, you have to add :\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nand run the exe jar in the terminal with the cmd :\r\n\r\n    java --module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar myproject-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nIt worked for me ! \r\n\r\nHope it helps :)","title":"Error: Could not find or load main class ... Caused by: java.lang.NoClassDefFoundError: javafx/application/Application","body":"<p>I found the solution !</p>\n<p>So if you are using IntelliJ with a Maven Project, you have to add :</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>and run the exe jar in the terminal with the cmd :</p>\n<pre><code>java --module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar myproject-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>It worked for me !</p>\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670710466,"creation_date":1670629238,"question_id":74749246,"body_markdown":"Can&#39;t open an executable jar from Maven project in IntelliJ\r\n\r\n\r\nHello everyone\r\n\r\nSo I am currently working on a Maven project using JavaFX interface on the IDE IntelliJ. Everything works fine except when I try to export the project in an executable jar file.\r\n\r\nEverytime I try the &quot;java -jar myproject-1.0-SNAPSHOT.jar&quot; command in the terminal it shows this error\r\n\r\n`Error: Could not find or load main class mypackage.myproject.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application`\r\n\r\nI also tried to generate a .jar with artifact in project structure but when I try to open it, I get another error which is :\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n\tat java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\r\n\tat java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\r\n\tat java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:327)\r\n\tat java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\r\n\tat java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:760)\r\n\tat java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1058)\r\n\tat java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\r\n\tat java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:495)\r\n\tat java.base/java.lang.Class.forName(Class.java:474)\r\n\tat java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\r\n\tat java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\r\n```\r\n\r\n\r\nMy JDK is version 19.\r\nIn the MANIFEST FILE, the Main-Class is specified. \r\n\r\nHere is my pom.xml file :\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;mypackage&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PearCar&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PearCar&lt;/name&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\r\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\r\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.0&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.cssbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdf2dom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;21.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject/mypackage.myproject.Main&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nhere is my module-info.java file :\r\n\r\n\r\n```\r\nmodule mypackage.myproject {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires java.sql;\r\n    requires org.apache.pdfbox;\r\n    requires java.desktop;\r\n    requires layout;\r\n    requires kernel;\r\n    requires io;\r\n    //requires aspose.pdf;\r\n    requires net.sf.cssbox.pdf2dom;\r\n    requires aspose.pdf;\r\n    requires forms;\r\n    requires commons.lang3;\r\n\r\n\r\n    opens mypackage.myproject to javafx.fxml;\r\n    exports mypackage.myproject;\r\n    exports Controller;\r\n    opens Controller to javafx.fxml;\r\n}\r\n```\r\n\r\nThank you !\r\n\r\n\r\n","title":"Error: Could not find or load main class ... Caused by: java.lang.NoClassDefFoundError: javafx/application/Application","body":"<p>Can't open an executable jar from Maven project in IntelliJ</p>\n<p>Hello everyone</p>\n<p>So I am currently working on a Maven project using JavaFX interface on the IDE IntelliJ. Everything works fine except when I try to export the project in an executable jar file.</p>\n<p>Everytime I try the &quot;java -jar myproject-1.0-SNAPSHOT.jar&quot; command in the terminal it shows this error</p>\n<p><code>Error: Could not find or load main class mypackage.myproject.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application</code></p>\n<p>I also tried to generate a .jar with artifact in project structure but when I try to open it, I get another error which is :</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n    at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\n    at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\n    at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:327)\n    at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\n    at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:760)\n    at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1058)\n    at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\n    at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:495)\n    at java.base/java.lang.Class.forName(Class.java:474)\n    at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\n    at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\n</code></pre>\n<p>My JDK is version 19.\nIn the MANIFEST FILE, the Main-Class is specified.</p>\n<p>Here is my pom.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;mypackage&lt;/groupId&gt;\n    &lt;artifactId&gt;PearCar&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PearCar&lt;/name&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.0&lt;/junit.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.cssbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdf2dom&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n            &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\n            &lt;version&gt;21.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;mypackage.myproject/mypackage.myproject.Main&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>here is my module-info.java file :</p>\n<pre><code>module mypackage.myproject {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.kordamp.bootstrapfx.core;\n    requires java.sql;\n    requires org.apache.pdfbox;\n    requires java.desktop;\n    requires layout;\n    requires kernel;\n    requires io;\n    //requires aspose.pdf;\n    requires net.sf.cssbox.pdf2dom;\n    requires aspose.pdf;\n    requires forms;\n    requires commons.lang3;\n\n\n    opens mypackage.myproject to javafx.fxml;\n    exports mypackage.myproject;\n    exports Controller;\n    opens Controller to javafx.fxml;\n}\n</code></pre>\n<p>Thank you !</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1669449252,"post_id":74580337,"comment_id":131646897,"body_markdown":"Targeting android versions 10+ needs additional permissions for reading files. Did you try giving permission from the App Settings?","body":"Targeting android versions 10+ needs additional permissions for reading files. Did you try giving permission from the App Settings?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669449443,"post_id":74580337,"comment_id":131646919,"body_markdown":"Use File.exists() and File.canRead() before you try to upload a file.","body":"Use File.exists() and File.canRead() before you try to upload a file."},{"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"score":0,"creation_date":1669471988,"post_id":74580337,"comment_id":131650354,"body_markdown":"@SambhavKhandelwal could you please guide me to the additional permission check ?","body":"@SambhavKhandelwal could you please guide me to the additional permission check ?"},{"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"score":0,"creation_date":1669472070,"post_id":74580337,"comment_id":131650367,"body_markdown":"@blackapps i did try File.canRead() and surprisingly it returns true. However the same file could not be uploaded to firebase","body":"@blackapps i did try File.canRead() and surprisingly it returns true. However the same file could not be uploaded to firebase"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1669526862,"post_id":74580337,"comment_id":131658678,"body_markdown":"@AnirudhdhsinhJadeja im not really sure about it for I havent been in using files based applications. But, you may look at [this](https://developer.android.com/training/data-storage/shared/photopicker) documentation. This will work on Android 10+(API 30). For older devices, your existing code will work due to less limitations.","body":"@AnirudhdhsinhJadeja im not really sure about it for I havent been in using files based applications. But, you may look at <a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">this</a> documentation. This will work on Android 10+(API 30). For older devices, your existing code will work due to less limitations."}],"answers":[{"tags":[],"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670710338,"creation_date":1670710338,"answer_id":74756885,"question_id":74580337,"body_markdown":"This was bit tricky to understand why file was not getting uploaded. But as @SambhavKhandelwal suggested to have an additional permission check, It made sense that there is a permission issue.\r\n\r\nSo, I did not find the exact solution but, I then saved the file into application specific media directory and it started working\r\n","title":"Java | Could not upload file to firebase storage","body":"<p>This was bit tricky to understand why file was not getting uploaded. But as @SambhavKhandelwal suggested to have an additional permission check, It made sense that there is a permission issue.</p>\n<p>So, I did not find the exact solution but, I then saved the file into application specific media directory and it started working</p>\n"}],"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74756885,"answer_count":1,"score":0,"last_activity_date":1670710338,"creation_date":1669446028,"question_id":74580337,"body_markdown":"I am trying to upload a pdf file to firebase storage. I have referred official documentation (*[click here][1]*) and modified code for my needs.\r\n\r\n***What I am trying to achieve here***\r\n1. A file named &quot;mypdf.pdf&quot; is located at &quot;/storage/emulated/0/downloads&quot; (Basically Public Downloads directory)\r\n2. Uploading that exact file to the storage.\r\n\r\n***I tried***\r\n\r\nI tried to access that file using `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;` and then converting it to Uri and feeding it to the firebase `putFile()` function. But, It is giving me an exception of `PERMISSION DENIED` even though I have mentioned the permissions in manifest and asked for permission at the runtime. And application is also given permission by the user.\r\n\r\n**Called inside `onCreate()`**\r\n```\r\nif (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;);\r\n            if (file.exists()) {\r\n                uploadFileFromFirebaseTut();\r\n                Log.d(&quot;FileLog&quot;, &quot;onCreate: found the file&quot;);\r\n            } else Log.d(&quot;MainActivity.this&quot;, &quot;onCreate: could not find file&quot;);\r\n\r\n        } else\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 81);\r\n```\r\n**A function to upload the file**\r\n\r\n```\r\nprivate void uploadFileFromFirebaseTut() {\r\n\r\n        StorageReference storageRef = storage.getReference();\r\n        UploadTask uploadTask;\r\n\r\n        Uri file = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() + &quot;/mypdf.pdf&quot;));\r\n        StorageReference riversRef = storageRef.child(&quot;uploads/mypdf.pdf&quot;);\r\n        uploadTask = riversRef.putFile(file);\r\n\r\n        // Register observers to listen for when the download is done or if it fails\r\n        uploadTask.addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception exception) {\r\n                Log.d(&quot;File Upload failed&quot;, &quot;onFailure: &quot;+exception);\r\n                Toast.makeText(MainActivity.this, &quot;File Upload Failed...&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                // taskSnapshot.getMetadata() contains file metadata such as size, content-type, etc.\r\n                // ...\r\n                Toast.makeText(MainActivity.this, &quot;File Uploaded..&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n**Logs**\r\n```\r\nAn unknown error occurred, please check the HTTP result code and inner exception for server response.\r\n                             Code: -13000 HttpResult: 0\r\nStorageException         E  /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\r\n                            java.io.FileNotFoundException: /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\r\n                            \tat libcore.io.IoBridge.open(IoBridge.java:492)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\r\n                            \tat android.content.ContentResolver.openInputStream(ContentResolver.java:1484)\r\n                            \tat com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)\r\n                            \tat com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\r\n                            \tat com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)\r\n                            \tat com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)\r\n                            \tat android.app.Activity.performCreate(Activity.java:8153)\r\n                            \tat android.app.Activity.performCreate(Activity.java:8137)\r\n                            \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n                            \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)\r\n                            \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)\r\n                            \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                            \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\r\n                            \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\r\n                            \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)\r\n                            \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                            \tat android.os.Looper.loop(Looper.java:263)\r\n                            \tat android.app.ActivityThread.main(ActivityThread.java:8296)\r\n                            \tat java.lang.reflect.Method.invoke(Native Method)\r\n                            \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n                            \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\n                            Caused by: android.system.ErrnoException: open failed: EACCES (Permission denied)\r\n                            \tat libcore.io.Linux.open(Native Method)\r\n                            \tat libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n                            \tat libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n                            \tat libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n                            \tat android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8178)\r\n                            \tat libcore.io.IoBridge.open(IoBridge.java:478)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)&#160;\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)&#160;\r\n                            \tat android.content.ContentResolver.openInputStream(ContentResolver.java:1484)&#160;\r\n                            \tat com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)&#160;\r\n                            \tat com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)&#160;\r\n                            \tat com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)&#160;\r\n                            \tat com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)&#160;\r\n                            \tat android.app.Activity.performCreate(Activity.java:8153)&#160;\r\n                            \tat android.app.Activity.performCreate(Activity.java:8137)&#160;\r\n                            \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)&#160;\r\n                            \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)&#160;\r\n                            \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)&#160;\r\n                            \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n                            \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)&#160;\r\n                            \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)&#160;\r\n                            \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)&#160;\r\n                            \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                            \tat android.os.Looper.loop(Looper.java:263)&#160;\r\n                            \tat android.app.ActivityThread.main(ActivityThread.java:8296)&#160;\r\n                            \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                            \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)&#160;\r\n                            \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)&#160;\r\nStorageException         E  StorageException has occurred.\r\n\r\n```\r\n**Manifest have these mentions**\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n```\r\n  [1]: https://firebase.google.com/docs/storage/android/upload-files","title":"Java | Could not upload file to firebase storage","body":"<p>I am trying to upload a pdf file to firebase storage. I have referred official documentation (<em><a href=\"https://firebase.google.com/docs/storage/android/upload-files\" rel=\"nofollow noreferrer\">click here</a></em>) and modified code for my needs.</p>\n<p><em><strong>What I am trying to achieve here</strong></em></p>\n<ol>\n<li>A file named &quot;mypdf.pdf&quot; is located at &quot;/storage/emulated/0/downloads&quot; (Basically Public Downloads directory)</li>\n<li>Uploading that exact file to the storage.</li>\n</ol>\n<p><em><strong>I tried</strong></em></p>\n<p>I tried to access that file using <code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;</code> and then converting it to Uri and feeding it to the firebase <code>putFile()</code> function. But, It is giving me an exception of <code>PERMISSION DENIED</code> even though I have mentioned the permissions in manifest and asked for permission at the runtime. And application is also given permission by the user.</p>\n<p><strong>Called inside <code>onCreate()</code></strong></p>\n<pre><code>if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;);\n            if (file.exists()) {\n                uploadFileFromFirebaseTut();\n                Log.d(&quot;FileLog&quot;, &quot;onCreate: found the file&quot;);\n            } else Log.d(&quot;MainActivity.this&quot;, &quot;onCreate: could not find file&quot;);\n\n        } else\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 81);\n</code></pre>\n<p><strong>A function to upload the file</strong></p>\n<pre><code>private void uploadFileFromFirebaseTut() {\n\n        StorageReference storageRef = storage.getReference();\n        UploadTask uploadTask;\n\n        Uri file = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() + &quot;/mypdf.pdf&quot;));\n        StorageReference riversRef = storageRef.child(&quot;uploads/mypdf.pdf&quot;);\n        uploadTask = riversRef.putFile(file);\n\n        // Register observers to listen for when the download is done or if it fails\n        uploadTask.addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception exception) {\n                Log.d(&quot;File Upload failed&quot;, &quot;onFailure: &quot;+exception);\n                Toast.makeText(MainActivity.this, &quot;File Upload Failed...&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                // taskSnapshot.getMetadata() contains file metadata such as size, content-type, etc.\n                // ...\n                Toast.makeText(MainActivity.this, &quot;File Uploaded..&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>An unknown error occurred, please check the HTTP result code and inner exception for server response.\n                             Code: -13000 HttpResult: 0\nStorageException         E  /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\n                            java.io.FileNotFoundException: /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\n                                at libcore.io.IoBridge.open(IoBridge.java:492)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\n                                at android.content.ContentResolver.openInputStream(ContentResolver.java:1484)\n                                at com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)\n                                at com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\n                                at com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)\n                                at com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)\n                                at android.app.Activity.performCreate(Activity.java:8153)\n                                at android.app.Activity.performCreate(Activity.java:8137)\n                                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\n                                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)\n                                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)\n                                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n                                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\n                                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\n                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)\n                                at android.os.Handler.dispatchMessage(Handler.java:106)\n                                at android.os.Looper.loop(Looper.java:263)\n                                at android.app.ActivityThread.main(ActivityThread.java:8296)\n                                at java.lang.reflect.Method.invoke(Native Method)\n                                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\n                            Caused by: android.system.ErrnoException: open failed: EACCES (Permission denied)\n                                at libcore.io.Linux.open(Native Method)\n                                at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n                                at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n                                at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n                                at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8178)\n                                at libcore.io.IoBridge.open(IoBridge.java:478)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)Â \n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)Â \n                                at android.content.ContentResolver.openInputStream(ContentResolver.java:1484)Â \n                                at com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)Â \n                                at com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)Â \n                                at com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)Â \n                                at com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)Â \n                                at android.app.Activity.performCreate(Activity.java:8153)Â \n                                at android.app.Activity.performCreate(Activity.java:8137)Â \n                                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)Â \n                                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)Â \n                                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)Â \n                                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)Â \n                                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)Â \n                                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)Â \n                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)Â \n                                at android.os.Handler.dispatchMessage(Handler.java:106)Â \n                                at android.os.Looper.loop(Looper.java:263)Â \n                                at android.app.ActivityThread.main(ActivityThread.java:8296)Â \n                                at java.lang.reflect.Method.invoke(Native Method)Â \n                                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)Â \n                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)Â \nStorageException         E  StorageException has occurred.\n\n</code></pre>\n<p><strong>Manifest have these mentions</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n</code></pre>\n"},{"tags":["java","macos","activemq"],"answers":[{"tags":[],"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1246299444,"creation_date":1246292562,"answer_id":1059203,"question_id":1059180,"body_markdown":"This looks like the exception is being caused by a `NoClassDefFoundError` for `org.apache.log4j.Category`.  You should make sure that the `log4j` jar is on the classpath.\r\n\r\n**Edit:** Is there any way that you can inspect the value of the `ACTIVEMQ_CLASSPATH` variable?  If you&#39;re invoking this through a script that is setting the variable, you might need to dig into the script to make sure it&#39;s adding all the directories you think it is to the classpath.  ","title":"ActiveMQ: No suitable Log constructor","body":"<p>This looks like the exception is being caused by a <code>NoClassDefFoundError</code> for <code>org.apache.log4j.Category</code>.  You should make sure that the <code>log4j</code> jar is on the classpath.</p>\n\n<p><strong>Edit:</strong> Is there any way that you can inspect the value of the <code>ACTIVEMQ_CLASSPATH</code> variable?  If you're invoking this through a script that is setting the variable, you might need to dig into the script to make sure it's adding all the directories you think it is to the classpath.  </p>\n"},{"tags":[],"owner":{"account_id":28010,"reputation":32017,"user_id":74389,"accept_rate":71,"display_name":"brad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1246299792,"creation_date":1246299792,"answer_id":1059717,"question_id":1059180,"body_markdown":"So, it was definitely a conflict with another log4j jar file.  I think it&#39;s probably my eclipse plugin log4j that was conflicting.  When i delete the log4j from activemq lib/optional it works.","title":"ActiveMQ: No suitable Log constructor","body":"<p>So, it was definitely a conflict with another log4j jar file.  I think it's probably my eclipse plugin log4j that was conflicting.  When i delete the log4j from activemq lib/optional it works.</p>\n"}],"owner":{"account_id":28010,"reputation":32017,"user_id":74389,"accept_rate":71,"display_name":"brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1059717,"answer_count":2,"score":1,"last_activity_date":1670708027,"creation_date":1246292265,"question_id":1059180,"body_markdown":"I&#39;m trying to run ActiveMQ on Mac OSX 10.5.7. I have Java version 1.5.0_19 and ActiveMQ 5.2.0. Below is the exception I get when running `bin/activemq`. It seems to be unable to find Log4j which is odd considering it comes with ActiveMQ and is definitely in the `lib/optional` directory. The only thing I can think of is that I have a conflict somewhere, but I can&#39;t imagine how this is possible. If anyone has any tips whatsoever I&#39;m all ears. Googling produced almost no results with the same error, and the one person who has the exact error doesn&#39;t have a solution.\r\n```\r\nbrad-robertsons-macbook-pro:apache-activemq-5.2.0\r\nbradrobertson$ ./bin/activemq\r\nACTIVEMQ_HOME: /Users/bradrobertson/Java/apache-activemq-5.2.0\r\nACTIVEMQ_BASE: /Users/bradrobertson/Java/apache-activemq-5.2.0\r\nLoading message broker from: xbean:activemq.xml\r\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:98)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n  at java.lang.reflect.Method.invoke(Method.java:585)\r\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\r\n  at org.apache.activemq.console.Main.main(Main.java:106)\r\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\r\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\r\n  ... 10 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\r\n  at java.lang.Class.newInstance0(Class.java:350)\r\n  at java.lang.Class.newInstance(Class.java:303)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\r\n  ... 14 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError:org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\r\n  ... 23 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n  ... 27 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\r\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\r\n  at java.lang.Class.getConstructor0(Class.java:2671)\r\n  at java.lang.Class.getConstructor(Class.java:1629)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\r\n  ... 28 more\r\nERROR: java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:99)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n  at java.lang.reflect.Method.invoke(Method.java:585)\r\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\r\n  at org.apache.activemq.console.Main.main(Main.java:106)\r\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\r\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\r\n  ... 10 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\r\n  at java.lang.Class.newInstance0(Class.java:350)\r\n  at java.lang.Class.newInstance(Class.java:303)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\r\n  ... 14 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\r\n  ... 23 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n  ... 27 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\r\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\r\n  at java.lang.Class.getConstructor0(Class.java:2671)\r\n  at java.lang.Class.getConstructor(Class.java:1629)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\r\n  ... 28 more\r\n```","title":"ActiveMQ: No suitable Log constructor","body":"<p>I'm trying to run ActiveMQ on Mac OSX 10.5.7. I have Java version 1.5.0_19 and ActiveMQ 5.2.0. Below is the exception I get when running <code>bin/activemq</code>. It seems to be unable to find Log4j which is odd considering it comes with ActiveMQ and is definitely in the <code>lib/optional</code> directory. The only thing I can think of is that I have a conflict somewhere, but I can't imagine how this is possible. If anyone has any tips whatsoever I'm all ears. Googling produced almost no results with the same error, and the one person who has the exact error doesn't have a solution.</p>\n<pre><code>brad-robertsons-macbook-pro:apache-activemq-5.2.0\nbradrobertson$ ./bin/activemq\nACTIVEMQ_HOME: /Users/bradrobertson/Java/apache-activemq-5.2.0\nACTIVEMQ_BASE: /Users/bradrobertson/Java/apache-activemq-5.2.0\nLoading message broker from: xbean:activemq.xml\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:98)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:585)\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\n  at org.apache.activemq.console.Main.main(Main.java:106)\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n  ... 10 more\nCaused by: java.lang.ExceptionInInitializerError\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n  at java.lang.Class.newInstance0(Class.java:350)\n  at java.lang.Class.newInstance(Class.java:303)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\n  ... 14 more\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError:org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\n  ... 23 more\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n  ... 27 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n  at java.lang.Class.getConstructor0(Class.java:2671)\n  at java.lang.Class.getConstructor(Class.java:1629)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\n  ... 28 more\nERROR: java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:99)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:585)\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\n  at org.apache.activemq.console.Main.main(Main.java:106)\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n  ... 10 more\nCaused by: java.lang.ExceptionInInitializerError\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n  at java.lang.Class.newInstance0(Class.java:350)\n  at java.lang.Class.newInstance(Class.java:303)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\n  ... 14 more\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\n  ... 23 more\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n  ... 27 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n  at java.lang.Class.getConstructor0(Class.java:2671)\n  at java.lang.Class.getConstructor(Class.java:1629)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\n  ... 28 more\n</code></pre>\n"},{"tags":["java","prometheus","grafana","metrics","prometheus-java"],"comments":[{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1670314528,"post_id":74699087,"comment_id":131841687,"body_markdown":"did you check the recording rues?https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/#recording-rules","body":"did you check the recording rues?<a href=\"https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/#recording-rules\" rel=\"nofollow noreferrer\">prometheus.io/docs/prometheus/latest/configuration/&hellip;</a>"},{"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"score":0,"creation_date":1670327628,"post_id":74699087,"comment_id":131846113,"body_markdown":"@star67, According to recording rules, it seems like its some sort of a cache for frequently used computations on queries , but how will those results will be further sent to Grafana after computation? Are the picked up from the rules files or what ?","body":"@star67, According to recording rules, it seems like its some sort of a cache for frequently used computations on queries , but how will those results will be further sent to Grafana after computation? Are the picked up from the rules files or what ?"},{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1670328068,"post_id":74699087,"comment_id":131846251,"body_markdown":"they would be stored in Prometheus as regular metrics, and Grafana would pick then up the same way as any other metrics. Pls check &amp; upvote (if it&#39;s useful) this answer\nhttps://stackoverflow.com/questions/74605310/gcp-recommendations-for-reducing-time-series-samples-gmp/74641661#74641661.\n\nThere&#39;re some Google-Managed-Prometheus&#39; specifics but still general enough","body":"they would be stored in Prometheus as regular metrics, and Grafana would pick then up the same way as any other metrics. Pls check &amp; upvote (if it&#39;s useful) this answer <a href=\"https://stackoverflow.com/questions/74605310/gcp-recommendations-for-reducing-time-series-samples-gmp/74641661#74641661\" title=\"gcp recommendations for reducing time series samples gmp\">stackoverflow.com/questions/74605310/&hellip;</a>.  There&#39;re some Google-Managed-Prometheus&#39; specifics but still general enough"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670707056,"creation_date":1670313598,"question_id":74699087,"body_markdown":"I am working with creating metrics using Pushgateway+Prometheus. Question is that prometheus received metrics along with labels, In Prometheus query language we make use of many operators or inbuilt functions such as increase(), rate(), sort() . These are used in querying the data incoming . Now, i apply these functions and query my incoming data (metrics), can the results of my queries be stored somewhere and further sent to GRAFANA(or any where for that matter). Or these functions can just be used for querying and viewing results in prometheus interface only. Does prometheus have any kind of inbuilt support for my requirement?\r\n\r\nAlso, I suppose We can use Prometheus functions directly in Grafana and create queries in Grafana to meet the above requirement? Please correct me and provide insights.","title":"Can Prometheus Queries be stored and the results be sent further to Grafana?","body":"<p>I am working with creating metrics using Pushgateway+Prometheus. Question is that prometheus received metrics along with labels, In Prometheus query language we make use of many operators or inbuilt functions such as increase(), rate(), sort() . These are used in querying the data incoming . Now, i apply these functions and query my incoming data (metrics), can the results of my queries be stored somewhere and further sent to GRAFANA(or any where for that matter). Or these functions can just be used for querying and viewing results in prometheus interface only. Does prometheus have any kind of inbuilt support for my requirement?</p>\n<p>Also, I suppose We can use Prometheus functions directly in Grafana and create queries in Grafana to meet the above requirement? Please correct me and provide insights.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":169062,"reputation":8025,"user_id":394933,"accept_rate":86,"display_name":"Brian"},"score":0,"creation_date":1313828331,"post_id":7130619,"comment_id":8547476,"body_markdown":"Can you be a bit more specific in terms of what you&#39;re trying to achieve overall?","body":"Can you be a bit more specific in terms of what you&#39;re trying to achieve overall?"}],"answers":[{"tags":[],"owner":{"account_id":437303,"reputation":8115,"user_id":824914,"display_name":"David Olsson"},"down_vote_count":6,"up_vote_count":263,"is_accepted":true,"score":257,"last_activity_date":1465299983,"creation_date":1313828693,"answer_id":7130661,"question_id":7130619,"body_markdown":"\r\n  [1]: http://developer.android.com/resources/faq/commontasks.html#selectingtext\r\n\r\nYou could basically use html tags in your string resource like: \r\n\r\n    &lt;resource&gt;\r\n        &lt;string name=&quot;styled_welcome_message&quot;&gt;We are &lt;b&gt;&lt;i&gt;so&lt;/i&gt;&lt;/b&gt; glad to see you.&lt;/string&gt;\r\n    &lt;/resources&gt;\r\nAnd use Html.fromHtml or use spannable, check the link I posted. \r\n\r\nOld similar question: https://stackoverflow.com/questions/1529068/is-it-possible-to-have-multiple-styles-inside-a-textview","title":"Bold words in a string of strings.xml in Android","body":"<p>You could basically use html tags in your string resource like: </p>\n\n<pre><code>&lt;resource&gt;\n    &lt;string name=\"styled_welcome_message\"&gt;We are &lt;b&gt;&lt;i&gt;so&lt;/i&gt;&lt;/b&gt; glad to see you.&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>And use Html.fromHtml or use spannable, check the link I posted. </p>\n\n<p>Old similar question: <a href=\"https://stackoverflow.com/questions/1529068/is-it-possible-to-have-multiple-styles-inside-a-textview\">Is it possible to have multiple styles inside a TextView?</a></p>\n"},{"tags":[],"owner":{"account_id":9486451,"reputation":1460,"user_id":7052710,"display_name":"Sagar Chorage"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1505128690,"creation_date":1505128690,"answer_id":46154445,"question_id":7130619,"body_markdown":"Use html tag inside string resources :- \r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;string_resource_name&quot;&gt;&lt;![CDATA[&lt;b&gt; Your text &lt;/b&gt;]]&gt; &lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nAnd get bold text from string resources like :-\r\n\r\n    private Spanned getSpannedText(String text) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                return Html.fromHtml(text, Html.FROM_HTML_MODE_COMPACT);\r\n            } else {\r\n                return Html.fromHtml(text);\r\n            }\r\n        }\r\n\r\n\r\n     String s = format(context.getResources().getString(R.string.string_resource_name));\r\n     textView.setText(getSpannedText(s));\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>Use html tag inside string resources :- </p>\n\n<pre><code>&lt;resources&gt;\n&lt;string name=\"string_resource_name\"&gt;&lt;![CDATA[&lt;b&gt; Your text &lt;/b&gt;]]&gt; &lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>And get bold text from string resources like :-</p>\n\n<pre><code>private Spanned getSpannedText(String text) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            return Html.fromHtml(text, Html.FROM_HTML_MODE_COMPACT);\n        } else {\n            return Html.fromHtml(text);\n        }\n    }\n\n\n String s = format(context.getResources().getString(R.string.string_resource_name));\n textView.setText(getSpannedText(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3098,"reputation":6938,"user_id":4397,"accept_rate":89,"display_name":"andygeers"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1541005868,"creation_date":1511348036,"answer_id":47432876,"question_id":7130619,"body_markdown":"As David Olsson has said, you can use HTML in your string resources:\r\n\r\n    &lt;resource&gt;\r\n        &lt;string name=&quot;my_string&quot;&gt;A string with &lt;i&gt;actual&lt;/i&gt; &lt;b&gt;formatting&lt;/b&gt;!&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen if you use `getText(R.string.my_string)` rather than `getString(R.string.my_string)` you get back a `CharSequence` rather than a `String` that contains the formatting embedded.","title":"Bold words in a string of strings.xml in Android","body":"<p>As David Olsson has said, you can use HTML in your string resources:</p>\n\n<pre><code>&lt;resource&gt;\n    &lt;string name=\"my_string\"&gt;A string with &lt;i&gt;actual&lt;/i&gt; &lt;b&gt;formatting&lt;/b&gt;!&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then if you use <code>getText(R.string.my_string)</code> rather than <code>getString(R.string.my_string)</code> you get back a <code>CharSequence</code> rather than a <code>String</code> that contains the formatting embedded.</p>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543210739,"creation_date":1543210739,"answer_id":53475276,"question_id":7130619,"body_markdown":"You can do it from string \r\n\r\n     &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n     &lt;string name=&quot;total_review&quot;&gt;&lt;b&gt;Total Review: &lt;/b&gt; &lt;/string&gt;\r\n\r\n     &lt;/resources&gt;\r\nand can access it from the java code like \r\n\r\n    proDuctReviewNumber.setText(getResources().getString(R.string.total_review)+productDetailsSuccess.getProductTotalReview());\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>You can do it from string </p>\n\n<pre><code> &lt;resources xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n &lt;string name=\"total_review\"&gt;&lt;b&gt;Total Review: &lt;/b&gt; &lt;/string&gt;\n\n &lt;/resources&gt;\n</code></pre>\n\n<p>and can access it from the java code like </p>\n\n<pre><code>proDuctReviewNumber.setText(getResources().getString(R.string.total_review)+productDetailsSuccess.getProductTotalReview());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6246406,"reputation":3972,"user_id":4858147,"accept_rate":70,"display_name":"svkaka"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1562334020,"creation_date":1562334020,"answer_id":56904208,"question_id":7130619,"body_markdown":"In kotlin, you can create extensions functions on resources (activities|fragments |context) that will convert your string to an html span\r\n\r\ne.g.\r\n\r\n\r\n    fun Resources.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Resources.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = getQuantityString(id, quantity).toHtmlSpan()\r\n\r\n    fun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    fun String.toHtmlSpan(): Spanned = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\r\n    } else {\r\n        Html.fromHtml(this)\r\n    }\r\n\r\n**Usage**\r\n\r\n    //your strings.xml\r\n    &lt;string name=&quot;greeting&quot;&gt;&lt;![CDATA[&lt;b&gt;Hello %s!&lt;/b&gt;&lt;br&gt;]]&gt;This is newline&lt;/string&gt;\r\n\r\n    //in your fragment or activity\r\n    resources.getHtmlSpannedString(R.string.greeting, &quot;World&quot;)\r\n\r\n**EDIT even more extensions**\r\n\r\n    fun Context.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Context.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    \r\n    fun Activity.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Activity.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    \r\n    fun Fragment.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Fragment.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>In kotlin, you can create extensions functions on resources (activities|fragments |context) that will convert your string to an html span</p>\n\n<p>e.g.</p>\n\n<pre><code>fun Resources.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Resources.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = getQuantityString(id, quantity).toHtmlSpan()\n\nfun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\nfun String.toHtmlSpan(): Spanned = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\n} else {\n    Html.fromHtml(this)\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>//your strings.xml\n&lt;string name=\"greeting\"&gt;&lt;![CDATA[&lt;b&gt;Hello %s!&lt;/b&gt;&lt;br&gt;]]&gt;This is newline&lt;/string&gt;\n\n//in your fragment or activity\nresources.getHtmlSpannedString(R.string.greeting, \"World\")\n</code></pre>\n\n<p><strong>EDIT even more extensions</strong></p>\n\n<pre><code>fun Context.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Context.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\n\nfun Activity.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Activity.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\n\nfun Fragment.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Fragment.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1606313037,"creation_date":1576051846,"answer_id":59281328,"question_id":7130619,"body_markdown":"strings.xml\r\n\r\n    &lt;string name=&quot;sentence&quot;&gt;This price is &lt;b&gt;%1$s&lt;/b&gt; USD&lt;/string&gt;\r\n    \r\npage.java\r\n\r\n    String successMessage = getText(R.string.message,&quot;5.21&quot;);\r\n\r\n\r\nThis price **5.21** USD\r\n\r\n\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>strings.xml</p>\n<pre><code>&lt;string name=&quot;sentence&quot;&gt;This price is &lt;b&gt;%1$s&lt;/b&gt; USD&lt;/string&gt;\n</code></pre>\n<p>page.java</p>\n<pre><code>String successMessage = getText(R.string.message,&quot;5.21&quot;);\n</code></pre>\n<p>This price <strong>5.21</strong> USD</p>\n"},{"tags":[],"owner":{"account_id":12595953,"reputation":875,"user_id":9160591,"display_name":"kunal khedkar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598361561,"creation_date":1585930502,"answer_id":61016091,"question_id":7130619,"body_markdown":"Strings.xml\r\n\r\n    &lt;string name=&quot;my_text&quot;&gt;&lt;Data&gt;&lt;![CDATA[&lt;b&gt;Your text&lt;/b&gt;]]&gt;&lt;/Data&gt;&lt;/string&gt;\r\n\r\nTo set\r\n\r\n    textView.setText(Html.fromHtml(getString(R.string.activity_completed_text)));","title":"Bold words in a string of strings.xml in Android","body":"<p>Strings.xml</p>\n<pre><code>&lt;string name=&quot;my_text&quot;&gt;&lt;Data&gt;&lt;![CDATA[&lt;b&gt;Your text&lt;/b&gt;]]&gt;&lt;/Data&gt;&lt;/string&gt;\n</code></pre>\n<p>To set</p>\n<pre><code>textView.setText(Html.fromHtml(getString(R.string.activity_completed_text)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10755660,"reputation":80,"user_id":7913696,"display_name":"Adriel Iclodean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601324240,"creation_date":1601324240,"answer_id":64109058,"question_id":7130619,"body_markdown":"I was having a text something like:\r\n\r\nForgot Password? &lt;b&gt;Reset here.&lt;b&gt;\r\n\r\nTo implement this the easy way I used the existing android:textStyle=&quot;bold&quot;\r\n\r\n    &lt;LinearLayout\r\n            android:id=&quot;@+id/forgotPassword&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;center&quot;\r\n            &gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoLink=&quot;all&quot;\r\n                android:linksClickable=&quot;false&quot;\r\n                android:selectAllOnFocus=&quot;false&quot;\r\n\r\n                android:text=&quot;Forgot password? &quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                /&gt;\r\n\r\n            &lt;TextView\r\n\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoLink=&quot;all&quot;\r\n                android:linksClickable=&quot;false&quot;\r\n                android:selectAllOnFocus=&quot;false&quot;\r\n\r\n                android:text=&quot;Reset here&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\nMaybe it helps someone","title":"Bold words in a string of strings.xml in Android","body":"<p>I was having a text something like:</p>\n<p>Forgot Password? Reset here.</p>\n<p>To implement this the easy way I used the existing android:textStyle=&quot;bold&quot;</p>\n<pre><code>&lt;LinearLayout\n        android:id=&quot;@+id/forgotPassword&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;center&quot;\n        &gt;\n\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoLink=&quot;all&quot;\n            android:linksClickable=&quot;false&quot;\n            android:selectAllOnFocus=&quot;false&quot;\n\n            android:text=&quot;Forgot password? &quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            /&gt;\n\n        &lt;TextView\n\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoLink=&quot;all&quot;\n            android:linksClickable=&quot;false&quot;\n            android:selectAllOnFocus=&quot;false&quot;\n\n            android:text=&quot;Reset here&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>Maybe it helps someone</p>\n"},{"tags":[],"owner":{"account_id":13106442,"reputation":533,"user_id":9469090,"display_name":"PeterPazmandi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606624639,"creation_date":1606624639,"answer_id":65057055,"question_id":7130619,"body_markdown":"In Kotlin I have created an extension function for the Context. It takes a **@StringRes** and optionally you can provide parameters as well.\r\n\r\n\r\n    fun Context.fromHtmlWithParams(@StringRes stringRes: Int, parameter : String? = null) : Spanned {\r\n\r\n        val stringText = if (parameter.isNullOrEmpty()) {\r\n                        this.getString(stringRes)\r\n                    } else {\r\n                        this.getString(stringRes, parameter)\r\n                    }\r\n\r\n        return Html.fromHtml(stringText, Html.FROM_HTML_MODE_LEGACY)\r\n\r\n    }\r\n\r\n**Usage**\r\n\r\n    tv_directors.text = context?.fromHtmlWithParams(R.string.directors, movie.Director)","title":"Bold words in a string of strings.xml in Android","body":"<p>In Kotlin I have created an extension function for the Context. It takes a <strong>@StringRes</strong> and optionally you can provide parameters as well.</p>\n<pre><code>fun Context.fromHtmlWithParams(@StringRes stringRes: Int, parameter : String? = null) : Spanned {\n\n    val stringText = if (parameter.isNullOrEmpty()) {\n                    this.getString(stringRes)\n                } else {\n                    this.getString(stringRes, parameter)\n                }\n\n    return Html.fromHtml(stringText, Html.FROM_HTML_MODE_LEGACY)\n\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>tv_directors.text = context?.fromHtmlWithParams(R.string.directors, movie.Director)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612432406,"creation_date":1612432406,"answer_id":66043218,"question_id":7130619,"body_markdown":"If you want to store formatted as a string variable and reuse it to text view isn&#39;t possible\r\n\r\n\r\n&gt; If you aren&#39;t applying formatting, you can set TextView text directly\r\n&gt; by calling setText(java.lang.CharSequence). In some cases, however,\r\n&gt; **you may want to create a styled text resource that is also used as a format string**. Normally, this doesn&#39;t work because the\r\n&gt; format(String, Object...) and getString(int, Object...) methods\r\n&gt; **strip** all the style information from the string. The work-around to this is to write the HTML tags with escaped entities, which are\r\n&gt; then recovered with fromHtml(String), after the formatting takes\r\n&gt; place.\r\n\r\nby from docs so alternatively store the string id and everyttime bind get string from using Htlm.fromHtml().. method.\r\n\r\nex:\r\n\r\nKotlin extention\r\n   \r\n    fun Context.getStringFromResource(stringId: Int): Spanned {\r\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Html.fromHtml(java.lang.String.format(resources.getString(stringId)), \r\n     Html.FROM_HTML_MODE_COMPACT)\r\n        } else {\r\n            Html.fromHtml(java.lang.String.format(resources.getString(stringId)))\r\n        }\r\n    }\r\n\r\n\r\nIn code:\r\n\r\n    getStringFromResource(id)\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>If you want to store formatted as a string variable and reuse it to text view isn't possible</p>\n<blockquote>\n<p>If you aren't applying formatting, you can set TextView text directly\nby calling setText(java.lang.CharSequence). In some cases, however,\n<strong>you may want to create a styled text resource that is also used as a format string</strong>. Normally, this doesn't work because the\nformat(String, Object...) and getString(int, Object...) methods\n<strong>strip</strong> all the style information from the string. The work-around to this is to write the HTML tags with escaped entities, which are\nthen recovered with fromHtml(String), after the formatting takes\nplace.</p>\n</blockquote>\n<p>by from docs so alternatively store the string id and everyttime bind get string from using Htlm.fromHtml().. method.</p>\n<p>ex:</p>\n<p>Kotlin extention</p>\n<pre><code>fun Context.getStringFromResource(stringId: Int): Spanned {\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Html.fromHtml(java.lang.String.format(resources.getString(stringId)), \n Html.FROM_HTML_MODE_COMPACT)\n    } else {\n        Html.fromHtml(java.lang.String.format(resources.getString(stringId)))\n    }\n}\n</code></pre>\n<p>In code:</p>\n<pre><code>getStringFromResource(id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9335977,"reputation":350,"user_id":9543418,"display_name":"Muhammed Haris"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1624880532,"creation_date":1613645331,"answer_id":66258433,"question_id":7130619,"body_markdown":"here it&#39;s the solution for if there have any assigned values inside the string.xml file.\r\n\r\n     &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;\r\n\r\nset in to TextView:\r\n\r\n    textView?.setText(HtmlCompat.fromHtml(getString(R.string.styled_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)\r\n\r\n**PS: don&#39;t forget to wrap your text (in String Resources) within:**\r\n```\r\n&lt;![CDATA[ YOUR TEXT HERE ]]&gt;\r\n```","title":"Bold words in a string of strings.xml in Android","body":"<p>here it's the solution for if there have any assigned values inside the string.xml file.</p>\n<pre><code> &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;\n</code></pre>\n<p>set in to TextView:</p>\n<pre><code>textView?.setText(HtmlCompat.fromHtml(getString(R.string.styled_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)\n</code></pre>\n<p><strong>PS: don't forget to wrap your text (in String Resources) within:</strong></p>\n<pre><code>&lt;![CDATA[ YOUR TEXT HERE ]]&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20710892,"reputation":1,"user_id":15207542,"display_name":"user15207542"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630043928,"creation_date":1630043928,"answer_id":68948651,"question_id":7130619,"body_markdown":"If you want to use basic HTML tags in a string resource, it is necessary to escape the tags, otherwise they are ignored.\r\nSimply, replace &#39;&lt;&#39; with \\&amp;lt; and &#39;&gt;&#39; with &#39;\\&amp;gt;&#39;\r\ne.g:\r\n\r\n    &lt;string name=&quot;bold_statement&quot;&gt;This is a &amp;lt;bold&amp;gt; statement&lt;/string&gt;\r\nWill produce: This is a **bold** statement.\r\nWhen loading the String resource, make sure to use \r\n\r\n    HtmlCompat.fromHtml(stringFromResource, HtmlCompat.FROM_HTML_MODE_COMPACT)","title":"Bold words in a string of strings.xml in Android","body":"<p>If you want to use basic HTML tags in a string resource, it is necessary to escape the tags, otherwise they are ignored.\nSimply, replace '&lt;' with &amp;lt; and '&gt;' with '&amp;gt;'\ne.g:</p>\n<pre><code>&lt;string name=&quot;bold_statement&quot;&gt;This is a &amp;lt;bold&amp;gt; statement&lt;/string&gt;\n</code></pre>\n<p>Will produce: This is a <strong>bold</strong> statement.\nWhen loading the String resource, make sure to use</p>\n<pre><code>HtmlCompat.fromHtml(stringFromResource, HtmlCompat.FROM_HTML_MODE_COMPACT)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10585373,"reputation":1217,"user_id":7797911,"display_name":"Mahmoud Ayman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1660563808,"creation_date":1660563808,"answer_id":73360544,"question_id":7130619,"body_markdown":"**Simple and Latest answer** from the official Android site: [source][1]\r\n\r\nFirst, you will add the string in your `strings.xml` like this:\r\n\r\n    &lt;string name=&quot;welcome&quot;&gt;Welcome to &lt;b&gt;Android&lt;/b&gt;!&lt;/string&gt;\r\n\r\nHere you will replace the `&lt;` before the b with `&amp;lt;`\r\n\r\nTo be like this:\r\n\r\n    &lt;string name=&quot;welcome&quot;&gt;Welcome to &amp;lt;b&gt;Android&amp;lt;/b&gt;!&lt;/string&gt;\r\n\r\n\r\nIn kotlin code you will make an extension to parse strings from html:\r\n\r\n    fun String.fromHtml(): Spanned {\r\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        // FROM_HTML_MODE_LEGACY is the behaviour that was used for versions below android N\r\n        // we are using this flag to give a consistent behaviour\r\n        Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\r\n    } else {\r\n        Html.fromHtml(this)\r\n     }\r\n    }\r\n\r\nThen use it like this:\r\n\r\n    getString(R.string.welcome).fromHtml()\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML","title":"Bold words in a string of strings.xml in Android","body":"<p><strong>Simple and Latest answer</strong> from the official Android site: <a href=\"https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML\" rel=\"noreferrer\">source</a></p>\n<p>First, you will add the string in your <code>strings.xml</code> like this:</p>\n<pre><code>&lt;string name=&quot;welcome&quot;&gt;Welcome to &lt;b&gt;Android&lt;/b&gt;!&lt;/string&gt;\n</code></pre>\n<p>Here you will replace the <code>&lt;</code> before the b with <code>&amp;lt;</code></p>\n<p>To be like this:</p>\n<pre><code>&lt;string name=&quot;welcome&quot;&gt;Welcome to &amp;lt;b&gt;Android&amp;lt;/b&gt;!&lt;/string&gt;\n</code></pre>\n<p>In kotlin code you will make an extension to parse strings from html:</p>\n<pre><code>fun String.fromHtml(): Spanned {\nreturn if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    // FROM_HTML_MODE_LEGACY is the behaviour that was used for versions below android N\n    // we are using this flag to give a consistent behaviour\n    Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\n} else {\n    Html.fromHtml(this)\n }\n}\n</code></pre>\n<p>Then use it like this:</p>\n<pre><code>getString(R.string.welcome).fromHtml()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669239590,"creation_date":1669239217,"answer_id":74553228,"question_id":7130619,"body_markdown":"Imagine you want nicely formatted string like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5iYgw.png\r\n\r\nI do this:\r\n\r\n        &lt;string name=&quot;dialog_upgrade_item_fx_output_text&quot;&gt;\r\n     &quot;[B]Unlimited support for up to 5 audio effects per audio track[/B]\\n\r\n     - Multiple high quality effects available Reverb, Delay, Distortion, Compressor, Equalizer\\n\r\n     - Each comes with various presets or create your own&quot;\r\n        &lt;/string&gt;\r\n\r\n    fun Context.formatted(resId: Int): Spanned =\r\n        Html.fromHtml(getString(resId).replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;)\r\n            .replace(&quot;[B]&quot;, &quot;&lt;b&gt;&quot;).replace(&quot;[/B]&quot;, &quot;&lt;/b&gt;&quot;), 0)\r\n\r\n    textView(R.id.dialog_upgrade_item_text)\r\n                .text(formatted(R.string.dialog_upgrade_item_fx_output_text))","title":"Bold words in a string of strings.xml in Android","body":"<p>Imagine you want nicely formatted string like this:</p>\n<p><a href=\"https://i.stack.imgur.com/5iYgw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5iYgw.png\" alt=\"enter image description here\" /></a></p>\n<p>I do this:</p>\n<pre><code>    &lt;string name=&quot;dialog_upgrade_item_fx_output_text&quot;&gt;\n &quot;[B]Unlimited support for up to 5 audio effects per audio track[/B]\\n\n - Multiple high quality effects available Reverb, Delay, Distortion, Compressor, Equalizer\\n\n - Each comes with various presets or create your own&quot;\n    &lt;/string&gt;\n\nfun Context.formatted(resId: Int): Spanned =\n    Html.fromHtml(getString(resId).replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;)\n        .replace(&quot;[B]&quot;, &quot;&lt;b&gt;&quot;).replace(&quot;[/B]&quot;, &quot;&lt;/b&gt;&quot;), 0)\n\ntextView(R.id.dialog_upgrade_item_text)\n            .text(formatted(R.string.dialog_upgrade_item_fx_output_text))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670706426,"creation_date":1670705085,"answer_id":74756418,"question_id":7130619,"body_markdown":"There is also native support for the same, where we don&#39;t have to hardcode any string or index and it plays way better in internalisation of the strings\r\n\r\nYou can define the strings like below in strings.xml as that will help in the translation of the string in other languages as well\r\n```xml\r\n&lt;string name=&quot;styled_hello_world&quot;&gt;&lt;annotation type=&quot;bold&quot;&gt;bold text&lt;/annotation&gt; Hello World&lt;/string&gt;\r\n```\r\nYou can apply string id in your `TextView` in your UI XML.\r\n\r\nAnd in the code, you can write something like below\r\n```kotlin\r\nval spannedText = textView.text as SpannedString\r\n// get all the annotation spans from the text\r\nval annotations = spannedText.getSpans(0, spannedText.length, android.text.Annotation::class.java)\r\nval spannableString = SpannableString(spannedText)\r\nannotations.forEach { annotation -&gt;\r\n    if (annotation.key == &quot;type&quot;) {\r\n        val styleValue = annotation.value\r\n        if (styleValue == &quot;bold&quot;) {\r\n            spannableString.setSpan(\r\n                StyleSpan(android.graphics.Typeface.BOLD),\r\n                spannedText.getSpanStart(annotation),\r\n                spannedText.getSpanEnd(annotation),\r\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n            )\r\n        }\r\n    }\r\n}\r\ntextView.text = spannableString\r\n```\r\n\r\nYou can find more details in the [blog post][1]\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/styling-internationalized-text-in-android-f99759fb7b8f","title":"Bold words in a string of strings.xml in Android","body":"<p>There is also native support for the same, where we don't have to hardcode any string or index and it plays way better in internalisation of the strings</p>\n<p>You can define the strings like below in strings.xml as that will help in the translation of the string in other languages as well</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=&quot;styled_hello_world&quot;&gt;&lt;annotation type=&quot;bold&quot;&gt;bold text&lt;/annotation&gt; Hello World&lt;/string&gt;\n</code></pre>\n<p>You can apply string id in your <code>TextView</code> in your UI XML.</p>\n<p>And in the code, you can write something like below</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val spannedText = textView.text as SpannedString\n// get all the annotation spans from the text\nval annotations = spannedText.getSpans(0, spannedText.length, android.text.Annotation::class.java)\nval spannableString = SpannableString(spannedText)\nannotations.forEach { annotation -&gt;\n    if (annotation.key == &quot;type&quot;) {\n        val styleValue = annotation.value\n        if (styleValue == &quot;bold&quot;) {\n            spannableString.setSpan(\n                StyleSpan(android.graphics.Typeface.BOLD),\n                spannedText.getSpanStart(annotation),\n                spannedText.getSpanEnd(annotation),\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n            )\n        }\n    }\n}\ntextView.text = spannableString\n</code></pre>\n<p>You can find more details in the <a href=\"https://medium.com/androiddevelopers/styling-internationalized-text-in-android-f99759fb7b8f\" rel=\"nofollow noreferrer\">blog post</a></p>\n"}],"owner":{"account_id":478594,"reputation":3823,"user_id":890775,"accept_rate":38,"display_name":"Caroline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179982,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":7130661,"answer_count":15,"score":168,"last_activity_date":1670706426,"creation_date":1313828152,"question_id":7130619,"body_markdown":"I have a long text in one of the strings at strings.xml. I want to make bold and change the color of some words in that text.\r\n\r\nHow can I do it?\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>I have a long text in one of the strings at strings.xml. I want to make bold and change the color of some words in that text.</p>\n\n<p>How can I do it?</p>\n"},{"tags":["java","locking","java.util.concurrent","reentrantreadwritelock"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675850629,"post_id":74743019,"comment_id":133015041,"body_markdown":"Short answer: `clear()` modifies the map, so of course, you need a write lock. Long answer: just think of it, the read lock allows concurrent executions of `drainCache(â¦)` with one thread being in the middle of `destination.putAll(agreements)` when the other is executing `agreements.clear()`. Thatâs, by the way, the only problematic race condition in your code. Since the other methods use the lock only to guard a single `put` or `get`, they would also work with a `ConcurrentHashMap` alone, without locking.","body":"Short answer: <code>clear()</code> modifies the map, so of course, you need a write lock. Long answer: just think of it, the read lock allows concurrent executions of <code>drainCache(â¦)</code> with one thread being in the middle of <code>destination.putAll(agreements)</code> when the other is executing <code>agreements.clear()</code>. Thatâs, by the way, the only problematic race condition in your code. Since the other methods use the lock only to guard a single <code>put</code> or <code>get</code>, they would also work with a <code>ConcurrentHashMap</code> alone, without locking."}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670706093,"creation_date":1670588163,"question_id":74743019,"body_markdown":"In my code I&#39;m using `ReentrantReadWriteLock` to guard some paired read/write operations:\r\n```java\r\npublic class AgreementCache {\r\n\t\r\n\tprivate final ConcurrentMap&lt;String, Agreement&gt; agreements = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tprivate final ReadWriteLock readWriteLock = new ReentrantReadWriteLock();\r\n\r\n\r\n\tpublic Agreement putIntoCache(String key, Function&lt;String, Agreement&gt; valueSupplyingFunction) {\r\n\t\tLock lock = readWriteLock.writeLock();\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\treturn agreements.put(key, valueSupplyingFunction.apply(key));\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void drainCache(Map&lt;String, Agreement&gt; destination) {\r\n\t\tLock lock = readWriteLock.readLock(); // &lt;--- !!!\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\tdestination.putAll(agreements);\r\n\t\t\tagreements.clear(); // &lt;--- !!!\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Agreement getFromCache(String key) {\r\n\t\tLock lock = readWriteLock.readLock();\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\treturn agreements.get(key);\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHere in `put()` method I need to ensure that mapping function is executed atomically along with putting the computed value into the map. At the same time I need to enforce raceless `drain()` operation, i.e. I need to make sure that no data will be put into the map while draining its contents. Currently I use `writeLock` in `put()` method and `readLock()` in `drain()` method, but I suspect this is wrong, because after `map.putAll()` I clear the map which is a modifying operation.\r\n\r\nSo my question is whether I need to use `writeLock` in `drain()` method or I can still rely on `readLock()`?","title":"Should I guard Map.clear() with readLock or writeLock of j.u.c.l.ReentrantReadWriteLock","body":"<p>In my code I'm using <code>ReentrantReadWriteLock</code> to guard some paired read/write operations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AgreementCache {\n    \n    private final ConcurrentMap&lt;String, Agreement&gt; agreements = new ConcurrentHashMap&lt;&gt;();\n\n    private final ReadWriteLock readWriteLock = new ReentrantReadWriteLock();\n\n\n    public Agreement putIntoCache(String key, Function&lt;String, Agreement&gt; valueSupplyingFunction) {\n        Lock lock = readWriteLock.writeLock();\n        try {\n            lock.lock();\n            return agreements.put(key, valueSupplyingFunction.apply(key));\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void drainCache(Map&lt;String, Agreement&gt; destination) {\n        Lock lock = readWriteLock.readLock(); // &lt;--- !!!\n        try {\n            lock.lock();\n            destination.putAll(agreements);\n            agreements.clear(); // &lt;--- !!!\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public Agreement getFromCache(String key) {\n        Lock lock = readWriteLock.readLock();\n        try {\n            lock.lock();\n            return agreements.get(key);\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>Here in <code>put()</code> method I need to ensure that mapping function is executed atomically along with putting the computed value into the map. At the same time I need to enforce raceless <code>drain()</code> operation, i.e. I need to make sure that no data will be put into the map while draining its contents. Currently I use <code>writeLock</code> in <code>put()</code> method and <code>readLock()</code> in <code>drain()</code> method, but I suspect this is wrong, because after <code>map.putAll()</code> I clear the map which is a modifying operation.</p>\n<p>So my question is whether I need to use <code>writeLock</code> in <code>drain()</code> method or I can still rely on <code>readLock()</code>?</p>\n"},{"tags":["java","yaml","openshift"],"comments":[{"owner":{"account_id":5631321,"reputation":125,"user_id":4458204,"display_name":"Vladimir Glinskikh"},"score":0,"creation_date":1670677038,"post_id":74752973,"comment_id":131930974,"body_markdown":"Try exchange file name from `Deployment.yaml` to `deployment.yml`","body":"Try exchange file name from <code>Deployment.yaml</code> to <code>deployment.yml</code>"},{"owner":{"account_id":25691035,"reputation":11,"user_id":19452452,"display_name":"SEBDA"},"score":0,"creation_date":1670705382,"post_id":74752973,"comment_id":131936606,"body_markdown":"@VladimirGlinskikh explain why please?","body":"@VladimirGlinskikh explain why please?"}],"answers":[{"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670695706,"creation_date":1670695104,"answer_id":74755342,"question_id":74752973,"body_markdown":"Your ConfigMap is not valid\r\n\r\nCheck the [k8s ConfigMap doc][1]\r\n\r\nA valid ConfigMap would be (with the`&quot;data&quot;`stanza):\r\n\r\n    kind: ConfigMap\r\n    apiVersion: v1\r\n    metadata:\r\n      name: my-service\r\n      namespace: my-namespace\r\n      .....\r\n      labels:\r\n        app: my-service\r\n    data:\r\n      SPECIAL_NAME: Tom\r\n      .....\r\n\r\nYour deployment is not valid either. it should be:\r\n\r\n    - name: Users.specialone\r\n      valueFrom:\r\n        configMapKeyRef:\r\n              name: my-service\r\n              key: SPECIAL_NAME\r\n\r\nAlso, depending on where you run k8s,`&quot;Users.specialone&quot;`could not be a valid environment variable name (because of the dot &#39;.&#39;)\r\n\r\nCheck https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924 \r\n\r\nand https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/configuration/configmap/","title":"Openshift - How do I append ConfigMap value inside my YAML block chomping indicator","body":"<p>Your ConfigMap is not valid</p>\n<p>Check the <a href=\"https://kubernetes.io/docs/concepts/configuration/configmap/\" rel=\"nofollow noreferrer\">k8s ConfigMap doc</a></p>\n<p>A valid ConfigMap would be (with the<code>&quot;data&quot;</code>stanza):</p>\n<pre><code>kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: my-service\n  namespace: my-namespace\n  .....\n  labels:\n    app: my-service\ndata:\n  SPECIAL_NAME: Tom\n  .....\n</code></pre>\n<p>Your deployment is not valid either. it should be:</p>\n<pre><code>- name: Users.specialone\n  valueFrom:\n    configMapKeyRef:\n          name: my-service\n          key: SPECIAL_NAME\n</code></pre>\n<p>Also, depending on where you run k8s,<code>&quot;Users.specialone&quot;</code>could not be a valid environment variable name (because of the dot '.')</p>\n<p>Check <a href=\"https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924</a></p>\n<p>and <a href=\"https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46</a></p>\n"}],"owner":{"account_id":25691035,"reputation":11,"user_id":19452452,"display_name":"SEBDA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670705346,"creation_date":1670675845,"question_id":74752973,"body_markdown":"I have a ConfigMap like this:\r\n\r\n```\r\nkind: ConfigMap\r\napiVersion: v1\r\nmetadata:\r\n  name: my-service\r\n  namespace: my-namespace\r\n  .....\r\n  labels:\r\n    app: my-service\r\ndata:\r\n  SPECIAL_NAME: Tom\r\n  .....\r\n```\r\n\r\nI am trying to use the value of `SPECIAL_NAME` in my Deployment.yaml container which holds a block chomping indicator string like below but not able to do it successfully:\r\n\r\n```\r\nkind: Deployment\r\napiVersion: apps/v1\r\nmetadata:\r\n  namespace: my-namespace\r\n  labels:\r\n    app: my-service\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      ...\r\n  template:\r\n    metadata:\r\n      ...\r\n    spec:\r\n      containers:\r\n        - name: my-service\r\n          image: &#39;myservice.myrepo.com/my-service:latest&#39;\r\n          env:\r\n            - name: USERS\r\n              value: &gt;-\r\n                -javaagent:/opt/project/javaagent.jar\r\n                -Users.exist=true\r\n                -Users.first=John\r\n                -Users.specialone=SPECIAL_NAME\r\n                ...\r\n```\r\n\r\n\r\n\r\nI tried like this but it doesn&#39;t work and I believe it shouldn&#39;t either.\r\n\r\n```\r\nkind: Deployment\r\napiVersion: apps/v1\r\nmetadata:\r\n  namespace: my-namespace\r\n  labels:\r\n    app: my-service\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      ...\r\n  template:\r\n    metadata:\r\n      ...\r\n    spec:\r\n      containers:\r\n        - name: my-service\r\n          image: &#39;myservice.myrepo.com/my-service:latest&#39;\r\n          env:\r\n            - name: USERS\r\n              value: &gt;-\r\n                -javaagent:/opt/project/javaagent.jar\r\n                -Users.exist=true\r\n                -Users.first=John\r\n                ...\r\n            - name: Users.specialone\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: my-service\r\n                  key: SPECIAL_NAME\r\n\r\n```\r\n","title":"Openshift - How do I append ConfigMap value inside my YAML block chomping indicator","body":"<p>I have a ConfigMap like this:</p>\n<pre><code>kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: my-service\n  namespace: my-namespace\n  .....\n  labels:\n    app: my-service\ndata:\n  SPECIAL_NAME: Tom\n  .....\n</code></pre>\n<p>I am trying to use the value of <code>SPECIAL_NAME</code> in my Deployment.yaml container which holds a block chomping indicator string like below but not able to do it successfully:</p>\n<pre><code>kind: Deployment\napiVersion: apps/v1\nmetadata:\n  namespace: my-namespace\n  labels:\n    app: my-service\nspec:\n  selector:\n    matchLabels:\n      ...\n  template:\n    metadata:\n      ...\n    spec:\n      containers:\n        - name: my-service\n          image: 'myservice.myrepo.com/my-service:latest'\n          env:\n            - name: USERS\n              value: &gt;-\n                -javaagent:/opt/project/javaagent.jar\n                -Users.exist=true\n                -Users.first=John\n                -Users.specialone=SPECIAL_NAME\n                ...\n</code></pre>\n<p>I tried like this but it doesn't work and I believe it shouldn't either.</p>\n<pre><code>kind: Deployment\napiVersion: apps/v1\nmetadata:\n  namespace: my-namespace\n  labels:\n    app: my-service\nspec:\n  selector:\n    matchLabels:\n      ...\n  template:\n    metadata:\n      ...\n    spec:\n      containers:\n        - name: my-service\n          image: 'myservice.myrepo.com/my-service:latest'\n          env:\n            - name: USERS\n              value: &gt;-\n                -javaagent:/opt/project/javaagent.jar\n                -Users.exist=true\n                -Users.first=John\n                ...\n            - name: Users.specialone\n              valueFrom:\n                configMapKeyRef:\n                  name: my-service\n                  key: SPECIAL_NAME\n\n</code></pre>\n"},{"tags":["java","swing","recursion","jpanel"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670705075,"post_id":74756403,"comment_id":131936571,"body_markdown":"I might be missing something: `while (w &gt; CUTOFF || h &gt; CUTOFF)` where are w and h modified so this loop will end?","body":"I might be missing something: <code>while (w &gt; CUTOFF || h &gt; CUTOFF)</code> where are w and h modified so this loop will end?"}],"owner":{"account_id":26061935,"reputation":29,"user_id":19763110,"display_name":"Snowbird2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1670705257,"creation_date":1670704929,"question_id":74756403,"body_markdown":"I am trying to create a Mondrian Generator in which a rectangle is recursively subdivided until its size meets a certain threshold. Within this program, I am trying to call a recursive method with defined values\r\n\r\n```\r\npublic class Mondrian extends JPanel {\r\n    private static final int CUTOFF = 40;\r\n    private Random rng = new Random();\r\n    static private Image mondrian;\r\n\r\n    public Mondrian(int w, int h) {\r\n        mondrian = new BufferedImage(w, h, TYPE_INT_RGB);\r\n        Graphics2D g2 = (Graphics2D) mondrian.getGraphics();\r\n        subdivide(0, 0, 800, 1000, g2);\r\n    }\r\n```\r\n\r\nwhich is subsequently calling on this method\r\n\r\n```\r\nprivate void subdivide(int tx, int ty, int w, int h, Graphics2D g2) {\r\n    g2.setColor(Color.white);\r\n    g2.fillRect(0,0, mondrian.getHeight(null), mondrian.getWidth(null));\r\n    while (w &gt; CUTOFF || h &gt; CUTOFF) {\r\n        System.out.println(w);\r\n        Random randomSize = new Random();\r\n        double size = randomSize.nextDouble();\r\n        if (size &lt; 0.6){\r\n                int rndColour = rng.nextInt(COLORS.length);\r\n                Color colour = COLORS[rndColour];\r\n                g2.setColor(colour);\r\n                subdivide(tx, ty, (w * (int) size), (h * (int) size), g2);\r\n                g2.fillRect(tx, ty, tx-w, ty-h);\r\n                g2.setColor(colour);\r\n                subdivide(tx, ty, (w * (int) (1 - size)), (h * (int) (1 - size)), g2);\r\n                g2.fillRect(tx, ty, tx-w, ty-h);\r\n            g2.drawLine((w * (int) size), (h * (int) size), (w * (int) (1 - size)), (h * (int) (1 - size)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, this function runs forever, as even though the values of w and h are set in the original method call, they are set to zero for some reason.\r\n\r\nThis is the main method, however I don&#39;t think there is anything wrong with it, I think its mostly to do with the class\r\n\r\n```\r\npublic static void main(String[] args){\r\n    JFrame frame = new JFrame();\r\n    Mondrian mondrian = new Mondrian(800, 1000);\r\n    frame.add(mondrian);\r\n    frame.setSize(800, 1000);\r\n    frame.setVisible(true);\r\n}\r\n```\r\n\r\nFor what I have tried, I have tried to set the values of w and h within the recursive function itself, but it never shrinks. I have also tried setting explicit vlaues of w and h within the initial call, but the values are still set to 0. I don&#39;t know where else to go with this as something has to fundamentally be wrong with my code.","title":"Trying to call recursive method with parameters, but parameters not holding","body":"<p>I am trying to create a Mondrian Generator in which a rectangle is recursively subdivided until its size meets a certain threshold. Within this program, I am trying to call a recursive method with defined values</p>\n<pre><code>public class Mondrian extends JPanel {\n    private static final int CUTOFF = 40;\n    private Random rng = new Random();\n    static private Image mondrian;\n\n    public Mondrian(int w, int h) {\n        mondrian = new BufferedImage(w, h, TYPE_INT_RGB);\n        Graphics2D g2 = (Graphics2D) mondrian.getGraphics();\n        subdivide(0, 0, 800, 1000, g2);\n    }\n</code></pre>\n<p>which is subsequently calling on this method</p>\n<pre><code>private void subdivide(int tx, int ty, int w, int h, Graphics2D g2) {\n    g2.setColor(Color.white);\n    g2.fillRect(0,0, mondrian.getHeight(null), mondrian.getWidth(null));\n    while (w &gt; CUTOFF || h &gt; CUTOFF) {\n        System.out.println(w);\n        Random randomSize = new Random();\n        double size = randomSize.nextDouble();\n        if (size &lt; 0.6){\n                int rndColour = rng.nextInt(COLORS.length);\n                Color colour = COLORS[rndColour];\n                g2.setColor(colour);\n                subdivide(tx, ty, (w * (int) size), (h * (int) size), g2);\n                g2.fillRect(tx, ty, tx-w, ty-h);\n                g2.setColor(colour);\n                subdivide(tx, ty, (w * (int) (1 - size)), (h * (int) (1 - size)), g2);\n                g2.fillRect(tx, ty, tx-w, ty-h);\n            g2.drawLine((w * (int) size), (h * (int) size), (w * (int) (1 - size)), (h * (int) (1 - size)));\n        }\n    }\n}\n</code></pre>\n<p>However, this function runs forever, as even though the values of w and h are set in the original method call, they are set to zero for some reason.</p>\n<p>This is the main method, however I don't think there is anything wrong with it, I think its mostly to do with the class</p>\n<pre><code>public static void main(String[] args){\n    JFrame frame = new JFrame();\n    Mondrian mondrian = new Mondrian(800, 1000);\n    frame.add(mondrian);\n    frame.setSize(800, 1000);\n    frame.setVisible(true);\n}\n</code></pre>\n<p>For what I have tried, I have tried to set the values of w and h within the recursive function itself, but it never shrinks. I have also tried setting explicit vlaues of w and h within the initial call, but the values are still set to 0. I don't know where else to go with this as something has to fundamentally be wrong with my code.</p>\n"},{"tags":["java","inverse","apache-commons-math","beta-distribution"],"answers":[{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501593800,"creation_date":1501593800,"answer_id":45439115,"question_id":42657889,"body_markdown":"The inverse CDF for the Beta Distribution has a range of [0, 1].  Since both R and Apache Commons Math are returning negative values there are obviously some numerical errors in computing the inverse CDF for such small probabilities.\r\n\r\nThere likely is no numerical solution to your problem.  Instead, it should be sufficient to treat all negative output from the inverse CDF as zero.","title":"Inverse cumulative beta distribution function in Java with smaller Double value","body":"<p>The inverse CDF for the Beta Distribution has a range of [0, 1].  Since both R and Apache Commons Math are returning negative values there are obviously some numerical errors in computing the inverse CDF for such small probabilities.</p>\n\n<p>There likely is no numerical solution to your problem.  Instead, it should be sufficient to treat all negative output from the inverse CDF as zero.</p>\n"}],"owner":{"account_id":4869367,"reputation":143,"user_id":3926445,"accept_rate":89,"display_name":"K.Liaqat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670704721,"creation_date":1488919175,"question_id":42657889,"body_markdown":"I am using apache-commons-math for Inverse cumulative beta distribution function but it gives incorrect results for values smaller than 2E-15. Up to values 2E-15, results are correct and are also verified from R.\r\n\r\n    Value 2E-15\r\n    Result in R = -7.854929\r\n    Result in Java  = -7.8529\r\n    \r\n    Value 2E-16\r\n    Result in R = -8.1385\r\n    Result in Java  = -35355339.059\r\n\r\nCan anyone please suggest me any solution","title":"Inverse cumulative beta distribution function in Java with smaller Double value","body":"<p>I am using apache-commons-math for Inverse cumulative beta distribution function but it gives incorrect results for values smaller than 2E-15. Up to values 2E-15, results are correct and are also verified from R.</p>\n\n<pre><code>Value 2E-15\nResult in R = -7.854929\nResult in Java  = -7.8529\n\nValue 2E-16\nResult in R = -8.1385\nResult in Java  = -35355339.059\n</code></pre>\n\n<p>Can anyone please suggest me any solution</p>\n"},{"tags":["java","azure-aks","java-threads","azure-sdk-for-java"],"owner":{"account_id":8486613,"reputation":31,"user_id":6364487,"display_name":"Anish Nagaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670704385,"creation_date":1670704385,"question_id":74756337,"body_markdown":"I am writing test cases for an IaaC project. The use case is like the following:\r\n\r\n\r\n```\r\nGiven I do not have a AKS cluster\r\nAnd I call an api to create a cluster\r\nThen I have a cluster up and running\r\n```\r\n\r\nIn the above scenario for 3rd step, I would like to implement two things, which are as follows:\r\n1. First wait for the AKS resource to be created and\r\n2. Once the resource is created, wait for the its provisioning state to be success  \r\n\r\nI searched the Azure documentation to see if there are any out of the box Watchers that azure provides as a part of it&#39;s azure-sdk-for-java. But did not find any. Could somebody share your knowledge or experience is solving such a problem statement?","title":"Azure-aks: programatically watch AKS creation status using Java","body":"<p>I am writing test cases for an IaaC project. The use case is like the following:</p>\n<pre><code>Given I do not have a AKS cluster\nAnd I call an api to create a cluster\nThen I have a cluster up and running\n</code></pre>\n<p>In the above scenario for 3rd step, I would like to implement two things, which are as follows:</p>\n<ol>\n<li>First wait for the AKS resource to be created and</li>\n<li>Once the resource is created, wait for the its provisioning state to be success</li>\n</ol>\n<p>I searched the Azure documentation to see if there are any out of the box Watchers that azure provides as a part of it's azure-sdk-for-java. But did not find any. Could somebody share your knowledge or experience is solving such a problem statement?</p>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1569929994,"post_id":58174921,"comment_id":102747640,"body_markdown":"We can use same argument for many fields, it is supported and it works fine.\nYou have some other error with the query you are writing examine it correctly.\nOr you post the complete query here.","body":"We can use same argument for many fields, it is supported and it works fine. You have some other error with the query you are writing examine it correctly. Or you post the complete query here."},{"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"score":0,"creation_date":1569937906,"post_id":58174921,"comment_id":102752230,"body_markdown":"@Lucia I updated the question, take a look on the second condition in the OR operator the ?5 turns in &quot;value with a 5 in the end&quot;. That&#39;s the error. I&#39;m using Spring-Data 1.10.0.","body":"@Lucia I updated the question, take a look on the second condition in the OR operator the ?5 turns in &quot;value with a 5 in the end&quot;. That&#39;s the error. I&#39;m using Spring-Data 1.10.0."}],"answers":[{"tags":[],"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569949443,"creation_date":1569949443,"answer_id":58189374,"question_id":58174921,"body_markdown":"I found the solution after debugging the binding process.\r\n\r\nI just need to add single quotes in the parameter that I need to repeat, like this:\r\n\r\n```\r\n&quot;$or: [{ $or: [{ $or: [{ $or: [{ requestPayload.sponsorGovernmentId: ?5 }, &quot; +\r\n            &quot;{requestPayload.buyerGovernmentId: &#39;?5&#39;}] }, {requestPayload.supplierGovernmentId: &#39;?5&#39;}] }, &quot; +\r\n            &quot;{requestPayload.invoiceNumber: ?6}]}, {requestPayload.externalId: ?7}]\r\n```\r\n\r\nSo the parameter number five could be use more than once.","title":"How to use the same parameter for multiple conditions","body":"<p>I found the solution after debugging the binding process.</p>\n\n<p>I just need to add single quotes in the parameter that I need to repeat, like this:</p>\n\n<pre><code>\"$or: [{ $or: [{ $or: [{ $or: [{ requestPayload.sponsorGovernmentId: ?5 }, \" +\n            \"{requestPayload.buyerGovernmentId: '?5'}] }, {requestPayload.supplierGovernmentId: '?5'}] }, \" +\n            \"{requestPayload.invoiceNumber: ?6}]}, {requestPayload.externalId: ?7}]\n</code></pre>\n\n<p>So the parameter number five could be use more than once.</p>\n"},{"tags":[],"owner":{"account_id":24291827,"reputation":1,"user_id":18236713,"display_name":"Vinay Gajra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670704197,"creation_date":1670703287,"answer_id":74756231,"question_id":58174921,"body_markdown":"As suggested by Guilherme, that solution can only work for string parameters as using &#39;?0&#39; will convert parameter of any type to string and will give incorrect results.\r\nPassing an extra parameter in the method will same value did the work for me.","title":"How to use the same parameter for multiple conditions","body":"<p>As suggested by Guilherme, that solution can only work for string parameters as using '?0' will convert parameter of any type to string and will give incorrect results.\nPassing an extra parameter in the method will same value did the work for me.</p>\n"}],"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58189374,"answer_count":2,"score":1,"last_activity_date":1670704197,"creation_date":1569875424,"question_id":58174921,"body_markdown":"I&#39;m trying to compare a value with multiples fields with Spring-Data-MongoDB 1.10.0, I&#39;m using @Query because the nested document is an Object with dynamic fields.\r\n\r\nBut if I use the same identifier like ?5 in all the conditions, I got an error:\r\n\r\n```\r\nexception=&quot;com.mongodb.util.JSONParseException: \r\n{ companyType: &quot;SPONSOR&quot;, companyId: 6710890, delivered: false, createdAt: { $gt: { &quot;$date&quot; : &quot;2019-09-01T03:00:00.000Z&quot;}, $lt: { &quot;$date&quot; : &quot;2019-09-26T02:59:59.999Z&quot;} }, $or:[ {requestPayload.sponsorGovernmentId: &quot;73068519000185&quot;}, {requestPayload.buyerGovernmentId: &quot;73068519000185&quot;5} ] }\r\n```\r\n\r\n\r\nI&#39;m trying like this:\r\n\r\n```\r\n@Query(value = &quot;{ companyType: ?0, companyId: ?1, delivered: ?2, &quot; +\r\n            &quot;createdAt: { $gt: ?3, $lt: ?4 }, $or:[ {requestPayload.sponsorGovernmentId: ?5}, {requestPayload.buyerGovernmentId: ?5} ] }&quot;)\r\n    Page&lt;WebHookDelivery&gt; findByCompanyTypeAndCompanyIdAndDeliveredAndCreatedAtIsBetweenAndAnyKey(String companyType,\r\n                                                                                                  Integer companyId,\r\n                                                                                                  Boolean delivered,\r\n                                                                                                  Date createdAtStart,\r\n                                                                                                  Date createdAtEnd,\r\n                                                                                                  String governmentId,                  \r\n                                                                                                  Pageable pageable);\r\n```\r\n\r\nI&#39;ve tried with only ? and [5].\r\n\r\nIs it possible and could anyone explain how to do this?","title":"How to use the same parameter for multiple conditions","body":"<p>I'm trying to compare a value with multiples fields with Spring-Data-MongoDB 1.10.0, I'm using @Query because the nested document is an Object with dynamic fields.</p>\n\n<p>But if I use the same identifier like ?5 in all the conditions, I got an error:</p>\n\n<pre><code>exception=\"com.mongodb.util.JSONParseException: \n{ companyType: \"SPONSOR\", companyId: 6710890, delivered: false, createdAt: { $gt: { \"$date\" : \"2019-09-01T03:00:00.000Z\"}, $lt: { \"$date\" : \"2019-09-26T02:59:59.999Z\"} }, $or:[ {requestPayload.sponsorGovernmentId: \"73068519000185\"}, {requestPayload.buyerGovernmentId: \"73068519000185\"5} ] }\n</code></pre>\n\n<p>I'm trying like this:</p>\n\n<pre><code>@Query(value = \"{ companyType: ?0, companyId: ?1, delivered: ?2, \" +\n            \"createdAt: { $gt: ?3, $lt: ?4 }, $or:[ {requestPayload.sponsorGovernmentId: ?5}, {requestPayload.buyerGovernmentId: ?5} ] }\")\n    Page&lt;WebHookDelivery&gt; findByCompanyTypeAndCompanyIdAndDeliveredAndCreatedAtIsBetweenAndAnyKey(String companyType,\n                                                                                                  Integer companyId,\n                                                                                                  Boolean delivered,\n                                                                                                  Date createdAtStart,\n                                                                                                  Date createdAtEnd,\n                                                                                                  String governmentId,                  \n                                                                                                  Pageable pageable);\n</code></pre>\n\n<p>I've tried with only ? and [5].</p>\n\n<p>Is it possible and could anyone explain how to do this?</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1466157974,"post_id":37877195,"comment_id":63212493,"body_markdown":"Possible duplicate of [this](http://stackoverflow.com/q/37841987/230513). Synchronize multiple `SwingWorker` instances like [this](http://stackoverflow.com/a/11372932/230513).","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/37841987/230513\">this</a>. Synchronize multiple <code>SwingWorker</code> instances like <a href=\"http://stackoverflow.com/a/11372932/230513\">this</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1466173751,"post_id":37877195,"comment_id":63222916,"body_markdown":"If the events block the EDT then don&#39;t execute them on the EDT. You still have not provided a concrete example of what you are attempting to do. I have never used it but did you try invokeAndWait(...)?","body":"If the events block the EDT then don&#39;t execute them on the EDT. You still have not provided a concrete example of what you are attempting to do. I have never used it but did you try invokeAndWait(...)?"},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1466180691,"post_id":37877195,"comment_id":63227064,"body_markdown":"Yes, I had done it. `InvokeLater` and `InvokeAndWait` is used for the new event respect to the thread it was called.","body":"Yes, I had done it. <code>InvokeLater</code> and <code>InvokeAndWait</code> is used for the new event respect to the thread it was called."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1466192192,"post_id":37877195,"comment_id":63232768,"body_markdown":"EDT is designated to paint, repaint, refresh value, set value, apply changes, just for methods implemented in Swing API, all those events are dome in then same time, in one moment, all events thats contains queue in EDT, everything else is wrong idea, as aside invokeAndWait required false from EDT,","body":"EDT is designated to paint, repaint, refresh value, set value, apply changes, just for methods implemented in Swing API, all those events are dome in then same time, in one moment, all events thats contains queue in EDT, everything else is wrong idea, as aside invokeAndWait required false from EDT,"},{"owner":{"account_id":3696638,"reputation":1927,"user_id":3077801,"accept_rate":91,"display_name":"Junbang Huang"},"score":0,"creation_date":1466356310,"post_id":37877195,"comment_id":63271582,"body_markdown":"I never use it before,  but I think solution to the problem is simple. You can simply put short tasks in a queue that feed tasks to the EDT. But I guess you have no control of it due to mechanism of Swing.","body":"I never use it before,  but I think solution to the problem is simple. You can simply put short tasks in a queue that feed tasks to the EDT. But I guess you have no control of it due to mechanism of Swing."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1696359808,"post_id":37877195,"comment_id":136142069,"body_markdown":"Bad idea. Part of the purpose of having the EventQueue is to order things for concurrency control. Inserting something at the beginning of the queue is asking for concurrency problems. If you can give a good _reason_ to do this, I may rescind my judgement. The EDT should essentially always be available and ready to execute code because all the things going on to it are short tasks. Therefore, whatever you want to put at the front could just as well go at the end and execute essentially at the same time... but in a known good order. Be sure only the correct things are going on the EDT.","body":"Bad idea. Part of the purpose of having the EventQueue is to order things for concurrency control. Inserting something at the beginning of the queue is asking for concurrency problems. If you can give a good <i>reason</i> to do this, I may rescind my judgement. The EDT should essentially always be available and ready to execute code because all the things going on to it are short tasks. Therefore, whatever you want to put at the front could just as well go at the end and execute essentially at the same time... but in a known good order. Be sure only the correct things are going on the EDT."}],"answers":[{"tags":[],"owner":{"account_id":7308564,"reputation":1533,"user_id":6257469,"display_name":"Beniton Fernando"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466394995,"creation_date":1466357427,"answer_id":37909938,"question_id":37877195,"body_markdown":"**My initial thought was**\r\n\r\nI do not think we can control the tasks which needs to be picked up by Event Dispatch Thread, but in certain ways we can try to set the priority like below\r\n\r\n    SwingUtilities.invokeAndWait(new Runnable() {\r\n      public void run() {\r\n         Thread.currentThread().setPriority(Thread.MAX_PRIORITY);\r\n         // The task which need immediate attention.\r\n    }});\r\n\r\nAgain there is no guarantee that this would be picked up for immediate execution by EDT.\r\n\r\nBut the above code is wrong. By the time run gets called it is already executing the tasks. Thanks for the comments Onur.\r\n\r\nSo the code below should help.\r\n\r\n       EventQueue queue = Toolkit.getDefaultToolkit().getSystemEventQueue();\r\n       Runnable runnable = new Runnable() {\r\n        \r\n             @Override\r\n             public void run() {\r\n                //My high priority task\r\n             }\r\n       };\r\n       PeerEvent event = new PeerEvent(this, runnable, PeerEvent.ULTIMATE_PRIORITY_EVENT);\r\n       queue.postEvent(event);\r\n\r\nBut there is one point we need to notice.\r\n\r\n        private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\r\n    \r\n        /*\r\n         * We maintain one Queue for each priority that the EventQueue supports.\r\n         * That is, the EventQueue object is actually implemented as\r\n         * NUM_PRIORITIES queues and all Events on a particular internal Queue\r\n         * have identical priority. Events are pulled off the EventQueue starting\r\n         * with the Queue of highest priority. We progress in decreasing order\r\n         * across all Queues.\r\n         */\r\n        private Queue[] queues = new Queue[NUM_PRIORITIES];\r\n    \r\n        public EventQueue() {\r\n            for (int i = 0; i &lt; NUM_PRIORITIES; i++) {\r\n                queues[i] = new Queue();\r\n            }\r\n        ....\r\n        }\r\n\r\nSo if we are setting too many **ULTIMATE_PRIORITY** tasks, there is no guarantee that the latest task would be executed immediately.","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p><strong>My initial thought was</strong></p>\n\n<p>I do not think we can control the tasks which needs to be picked up by Event Dispatch Thread, but in certain ways we can try to set the priority like below</p>\n\n<pre><code>SwingUtilities.invokeAndWait(new Runnable() {\n  public void run() {\n     Thread.currentThread().setPriority(Thread.MAX_PRIORITY);\n     // The task which need immediate attention.\n}});\n</code></pre>\n\n<p>Again there is no guarantee that this would be picked up for immediate execution by EDT.</p>\n\n<p>But the above code is wrong. By the time run gets called it is already executing the tasks. Thanks for the comments Onur.</p>\n\n<p>So the code below should help.</p>\n\n<pre><code>   EventQueue queue = Toolkit.getDefaultToolkit().getSystemEventQueue();\n   Runnable runnable = new Runnable() {\n\n         @Override\n         public void run() {\n            //My high priority task\n         }\n   };\n   PeerEvent event = new PeerEvent(this, runnable, PeerEvent.ULTIMATE_PRIORITY_EVENT);\n   queue.postEvent(event);\n</code></pre>\n\n<p>But there is one point we need to notice.</p>\n\n<pre><code>    private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\n\n    /*\n     * We maintain one Queue for each priority that the EventQueue supports.\n     * That is, the EventQueue object is actually implemented as\n     * NUM_PRIORITIES queues and all Events on a particular internal Queue\n     * have identical priority. Events are pulled off the EventQueue starting\n     * with the Queue of highest priority. We progress in decreasing order\n     * across all Queues.\n     */\n    private Queue[] queues = new Queue[NUM_PRIORITIES];\n\n    public EventQueue() {\n        for (int i = 0; i &lt; NUM_PRIORITIES; i++) {\n            queues[i] = new Queue();\n        }\n    ....\n    }\n</code></pre>\n\n<p>So if we are setting too many <strong>ULTIMATE_PRIORITY</strong> tasks, there is no guarantee that the latest task would be executed immediately.</p>\n"},{"tags":[],"owner":{"account_id":4673462,"reputation":6110,"user_id":3784643,"display_name":"T. Neidhart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466365465,"creation_date":1466365465,"answer_id":37911162,"question_id":37877195,"body_markdown":"You can create and use your own Event Queue that inserts new events in the way you want it. See the code snippet below how to setup a custom Event Queue:\r\n\r\n    public class QueueTest {\r\n        public static void main(String[] args) throws InterruptedException, InvocationTargetException {\r\n            EventQueue eventQueue = Toolkit.getDefaultToolkit().getSystemEventQueue();\r\n            eventQueue.push(new MyEventQueue());\r\n    \r\n            EventQueue.invokeAndWait(new Runnable() {\r\n                public void run() {\r\n                    System.out.println(&quot;Run&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static class MyEventQueue extends EventQueue {\r\n            public void postEvent(AWTEvent theEvent) {\r\n                System.out.println(&quot;Event Posted&quot;);\r\n                super.postEvent(theEvent);\r\n            }\r\n        }\r\n    }\r\n\r\nYour custom Event Queue could then post specific events that you want to be prepended to the queue with the highest priority. This might not ensure that it is the next event to be processed, but would probably fit best into the existing design.","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>You can create and use your own Event Queue that inserts new events in the way you want it. See the code snippet below how to setup a custom Event Queue:</p>\n\n<pre><code>public class QueueTest {\n    public static void main(String[] args) throws InterruptedException, InvocationTargetException {\n        EventQueue eventQueue = Toolkit.getDefaultToolkit().getSystemEventQueue();\n        eventQueue.push(new MyEventQueue());\n\n        EventQueue.invokeAndWait(new Runnable() {\n            public void run() {\n                System.out.println(\"Run\");\n            }\n        });\n    }\n\n    private static class MyEventQueue extends EventQueue {\n        public void postEvent(AWTEvent theEvent) {\n            System.out.println(\"Event Posted\");\n            super.postEvent(theEvent);\n        }\n    }\n}\n</code></pre>\n\n<p>Your custom Event Queue could then post specific events that you want to be prepended to the queue with the highest priority. This might not ensure that it is the next event to be processed, but would probably fit best into the existing design.</p>\n"},{"tags":[],"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670704107,"creation_date":1466380038,"answer_id":37912986,"question_id":37877195,"body_markdown":"Although replacing the `EventQueue` is a right approach, it&#39;s not really necessary since built-in `EventQueue` already supports prioritizing. Only thing is it only supports it for inner API use so we only need to understand how that works;\r\n\r\n    //from EventQueue.java...\r\n\r\n    private static final int LOW_PRIORITY = 0;\r\n    private static final int NORM_PRIORITY = 1;\r\n    private static final int HIGH_PRIORITY = 2;\r\n    private static final int ULTIMATE_PRIORITY = 3;\r\n\r\n    private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\r\n\r\n    /*\r\n     * We maintain one Queue for each priority that the EventQueue supports.\r\n     * That is, the EventQueue object is actually implemented as\r\n     * NUM_PRIORITIES queues and all Events on a particular internal Queue\r\n     * have identical priority. Events are pulled off the EventQueue starting\r\n     * with the Queue of highest priority. We progress in decreasing order\r\n     * across all Queues.\r\n     */\r\n    private Queue[] queues = new Queue[NUM_PRIORITIES];\r\n\r\n    //...skipped some parts...\r\n\r\n    /**\r\n     * Causes &lt;code&gt;runnable&lt;/code&gt; to have its &lt;code&gt;run&lt;/code&gt;\r\n     * method called in the {@link #isDispatchThread dispatch thread} of\r\n     * {@link Toolkit#getSystemEventQueue the system EventQueue}.\r\n     * This will happen after all pending events are processed.\r\n     *\r\n     * @param runnable  the &lt;code&gt;Runnable&lt;/code&gt; whose &lt;code&gt;run&lt;/code&gt;\r\n     *                  method should be executed\r\n     *                  asynchronously in the\r\n     *                  {@link #isDispatchThread event dispatch thread}\r\n     *                  of {@link Toolkit#getSystemEventQueue the system EventQueue}\r\n     * @see             #invokeAndWait\r\n     * @see             Toolkit#getSystemEventQueue\r\n     * @see             #isDispatchThread\r\n     * @since           1.2\r\n     */\r\n    public static void invokeLater(Runnable runnable) {\r\n        Toolkit.getEventQueue().postEvent(\r\n            new InvocationEvent(Toolkit.getDefaultToolkit(), runnable));\r\n    }\r\n\r\n    /**\r\n     * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\r\n     * If there is an existing event on the queue with the same ID\r\n     * and event source, the source &lt;code&gt;Component&lt;/code&gt;&#39;s\r\n     * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     * @throws NullPointerException if &lt;code&gt;theEvent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    public void postEvent(AWTEvent theEvent) {\r\n        SunToolkit.flushPendingEvents(appContext);\r\n        postEventPrivate(theEvent);\r\n    }\r\n\r\n    /**\r\n     * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\r\n     * If there is an existing event on the queue with the same ID\r\n     * and event source, the source &lt;code&gt;Component&lt;/code&gt;&#39;s\r\n     * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     */\r\n    private final void postEventPrivate(AWTEvent theEvent) {\r\n        theEvent.isPosted = true;\r\n        pushPopLock.lock();\r\n        try {\r\n            if (nextQueue != null) {\r\n                // Forward the event to the top of EventQueue stack\r\n                nextQueue.postEventPrivate(theEvent);\r\n                return;\r\n            }\r\n            if (dispatchThread == null) {\r\n                if (theEvent.getSource() == AWTAutoShutdown.getInstance()) {\r\n                    return;\r\n                } else {\r\n                    initDispatchThread();\r\n                }\r\n            }\r\n            postEvent(theEvent, getPriority(theEvent));\r\n        } finally {\r\n            pushPopLock.unlock();\r\n        }\r\n    }\r\n\r\n    private static int getPriority(AWTEvent theEvent) {\r\n        if (theEvent instanceof PeerEvent) {\r\n            PeerEvent peerEvent = (PeerEvent)theEvent;\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.ULTIMATE_PRIORITY_EVENT) != 0) {\r\n                return ULTIMATE_PRIORITY;\r\n            }\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.PRIORITY_EVENT) != 0) {\r\n                return HIGH_PRIORITY;\r\n            }\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.LOW_PRIORITY_EVENT) != 0) {\r\n                return LOW_PRIORITY;\r\n            }\r\n        }\r\n        int id = theEvent.getID();\r\n        if ((id &gt;= PaintEvent.PAINT_FIRST) &amp;&amp; (id &lt;= PaintEvent.PAINT_LAST)) {\r\n            return LOW_PRIORITY;\r\n        }\r\n        return NORM_PRIORITY;\r\n    }\r\n\r\n    /**\r\n     * Posts the event to the internal Queue of specified priority,\r\n     * coalescing as appropriate.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     * @param priority  the desired priority of the event\r\n     */\r\n    private void postEvent(AWTEvent theEvent, int priority) {\r\n        if (coalesceEvent(theEvent, priority)) {\r\n            return;\r\n        }\r\n\r\n        EventQueueItem newItem = new EventQueueItem(theEvent);\r\n\r\n        cacheEQItem(newItem);\r\n\r\n        boolean notifyID = (theEvent.getID() == this.waitForID);\r\n\r\n        if (queues[priority].head == null) {\r\n            boolean shouldNotify = noEvents();\r\n            queues[priority].head = queues[priority].tail = newItem;\r\n\r\n            if (shouldNotify) {\r\n                if (theEvent.getSource() != AWTAutoShutdown.getInstance()) {\r\n                    AWTAutoShutdown.getInstance().notifyThreadBusy(dispatchThread);\r\n                }\r\n                pushPopCond.signalAll();\r\n            } else if (notifyID) {\r\n                pushPopCond.signalAll();\r\n            }\r\n        } else {\r\n            // The event was not coalesced or has non-Component source.\r\n            // Insert it at the end of the appropriate Queue.\r\n            queues[priority].tail.next = newItem;\r\n            queues[priority].tail = newItem;\r\n            if (notifyID) {\r\n                pushPopCond.signalAll();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAs you can see `EventQueue` have 4 different queues as `LOW`, `NORM`, `HIGH` and `ULTIMATE`, `SwingUtilities.invokeLater(Runnable)` or `EventQueue.invokeLater(Runnable)` wraps your `Runnable` into an `InvocationEvent` and calls `postEvent(AWTEvent)` method. This method does some syncronizing between threads and calls `postEvent(AWTEvent, int)` like this `postEvent(theEvent, getPriority(theEvent));` Now the interesting part is how `getPriority(AWTEvent)` works, basicly it gives normal priority to the every event except some `PaintEvent`s and `PeerEvent`s.\r\n\r\nSo what you need to do is wrap your `Runnable` into a `PeerEvent` with `ULTIMATE_PRIORTY` instead of a `InvocationEvent` like this;\r\n\r\n    Toolkit.getDefaultToolkit().getSystemEventQueue()\r\n       .postEvent(new PeerEvent(Toolkit.getDefaultToolkit(), () -&gt; {\r\n\r\n\r\n    \t//execute your high priority task here!\r\n    \tSystem.out.println(&quot;I&#39;m ultimate prioritized in EventQueue!&quot;);\r\n\r\n\r\n    }, PeerEvent.ULTIMATE_PRIORITY_EVENT));\r\n\r\n\r\nYou can check the full source code of [EventQueue][1] and [PeerEvent][2] .\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/awt/EventQueue.java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/sun/awt/PeerEvent.java","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>Although replacing the <code>EventQueue</code> is a right approach, it's not really necessary since built-in <code>EventQueue</code> already supports prioritizing. Only thing is it only supports it for inner API use so we only need to understand how that works;</p>\n<pre><code>//from EventQueue.java...\n\nprivate static final int LOW_PRIORITY = 0;\nprivate static final int NORM_PRIORITY = 1;\nprivate static final int HIGH_PRIORITY = 2;\nprivate static final int ULTIMATE_PRIORITY = 3;\n\nprivate static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\n\n/*\n * We maintain one Queue for each priority that the EventQueue supports.\n * That is, the EventQueue object is actually implemented as\n * NUM_PRIORITIES queues and all Events on a particular internal Queue\n * have identical priority. Events are pulled off the EventQueue starting\n * with the Queue of highest priority. We progress in decreasing order\n * across all Queues.\n */\nprivate Queue[] queues = new Queue[NUM_PRIORITIES];\n\n//...skipped some parts...\n\n/**\n * Causes &lt;code&gt;runnable&lt;/code&gt; to have its &lt;code&gt;run&lt;/code&gt;\n * method called in the {@link #isDispatchThread dispatch thread} of\n * {@link Toolkit#getSystemEventQueue the system EventQueue}.\n * This will happen after all pending events are processed.\n *\n * @param runnable  the &lt;code&gt;Runnable&lt;/code&gt; whose &lt;code&gt;run&lt;/code&gt;\n *                  method should be executed\n *                  asynchronously in the\n *                  {@link #isDispatchThread event dispatch thread}\n *                  of {@link Toolkit#getSystemEventQueue the system EventQueue}\n * @see             #invokeAndWait\n * @see             Toolkit#getSystemEventQueue\n * @see             #isDispatchThread\n * @since           1.2\n */\npublic static void invokeLater(Runnable runnable) {\n    Toolkit.getEventQueue().postEvent(\n        new InvocationEvent(Toolkit.getDefaultToolkit(), runnable));\n}\n\n/**\n * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\n * If there is an existing event on the queue with the same ID\n * and event source, the source &lt;code&gt;Component&lt;/code&gt;'s\n * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n * @throws NullPointerException if &lt;code&gt;theEvent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;\n */\npublic void postEvent(AWTEvent theEvent) {\n    SunToolkit.flushPendingEvents(appContext);\n    postEventPrivate(theEvent);\n}\n\n/**\n * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\n * If there is an existing event on the queue with the same ID\n * and event source, the source &lt;code&gt;Component&lt;/code&gt;'s\n * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n */\nprivate final void postEventPrivate(AWTEvent theEvent) {\n    theEvent.isPosted = true;\n    pushPopLock.lock();\n    try {\n        if (nextQueue != null) {\n            // Forward the event to the top of EventQueue stack\n            nextQueue.postEventPrivate(theEvent);\n            return;\n        }\n        if (dispatchThread == null) {\n            if (theEvent.getSource() == AWTAutoShutdown.getInstance()) {\n                return;\n            } else {\n                initDispatchThread();\n            }\n        }\n        postEvent(theEvent, getPriority(theEvent));\n    } finally {\n        pushPopLock.unlock();\n    }\n}\n\nprivate static int getPriority(AWTEvent theEvent) {\n    if (theEvent instanceof PeerEvent) {\n        PeerEvent peerEvent = (PeerEvent)theEvent;\n        if ((peerEvent.getFlags() &amp; PeerEvent.ULTIMATE_PRIORITY_EVENT) != 0) {\n            return ULTIMATE_PRIORITY;\n        }\n        if ((peerEvent.getFlags() &amp; PeerEvent.PRIORITY_EVENT) != 0) {\n            return HIGH_PRIORITY;\n        }\n        if ((peerEvent.getFlags() &amp; PeerEvent.LOW_PRIORITY_EVENT) != 0) {\n            return LOW_PRIORITY;\n        }\n    }\n    int id = theEvent.getID();\n    if ((id &gt;= PaintEvent.PAINT_FIRST) &amp;&amp; (id &lt;= PaintEvent.PAINT_LAST)) {\n        return LOW_PRIORITY;\n    }\n    return NORM_PRIORITY;\n}\n\n/**\n * Posts the event to the internal Queue of specified priority,\n * coalescing as appropriate.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n * @param priority  the desired priority of the event\n */\nprivate void postEvent(AWTEvent theEvent, int priority) {\n    if (coalesceEvent(theEvent, priority)) {\n        return;\n    }\n\n    EventQueueItem newItem = new EventQueueItem(theEvent);\n\n    cacheEQItem(newItem);\n\n    boolean notifyID = (theEvent.getID() == this.waitForID);\n\n    if (queues[priority].head == null) {\n        boolean shouldNotify = noEvents();\n        queues[priority].head = queues[priority].tail = newItem;\n\n        if (shouldNotify) {\n            if (theEvent.getSource() != AWTAutoShutdown.getInstance()) {\n                AWTAutoShutdown.getInstance().notifyThreadBusy(dispatchThread);\n            }\n            pushPopCond.signalAll();\n        } else if (notifyID) {\n            pushPopCond.signalAll();\n        }\n    } else {\n        // The event was not coalesced or has non-Component source.\n        // Insert it at the end of the appropriate Queue.\n        queues[priority].tail.next = newItem;\n        queues[priority].tail = newItem;\n        if (notifyID) {\n            pushPopCond.signalAll();\n        }\n    }\n}\n</code></pre>\n<p>As you can see <code>EventQueue</code> have 4 different queues as <code>LOW</code>, <code>NORM</code>, <code>HIGH</code> and <code>ULTIMATE</code>, <code>SwingUtilities.invokeLater(Runnable)</code> or <code>EventQueue.invokeLater(Runnable)</code> wraps your <code>Runnable</code> into an <code>InvocationEvent</code> and calls <code>postEvent(AWTEvent)</code> method. This method does some syncronizing between threads and calls <code>postEvent(AWTEvent, int)</code> like this <code>postEvent(theEvent, getPriority(theEvent));</code> Now the interesting part is how <code>getPriority(AWTEvent)</code> works, basicly it gives normal priority to the every event except some <code>PaintEvent</code>s and <code>PeerEvent</code>s.</p>\n<p>So what you need to do is wrap your <code>Runnable</code> into a <code>PeerEvent</code> with <code>ULTIMATE_PRIORTY</code> instead of a <code>InvocationEvent</code> like this;</p>\n<pre><code>Toolkit.getDefaultToolkit().getSystemEventQueue()\n   .postEvent(new PeerEvent(Toolkit.getDefaultToolkit(), () -&gt; {\n\n\n    //execute your high priority task here!\n    System.out.println(&quot;I'm ultimate prioritized in EventQueue!&quot;);\n\n\n}, PeerEvent.ULTIMATE_PRIORITY_EVENT));\n</code></pre>\n<p>You can check the full source code of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/awt/EventQueue.java\" rel=\"nofollow noreferrer\">EventQueue</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/sun/awt/PeerEvent.java\" rel=\"nofollow noreferrer\">PeerEvent</a> .</p>\n"}],"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2530,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37912986,"answer_count":3,"score":12,"last_activity_date":1670704107,"creation_date":1466153741,"question_id":37877195,"body_markdown":"I already know how [Event Dispatch thread][1] works. If there be short and long events in Event Dispatch thread like below, the application can&#39;t be responsive.     \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor the Sake of responsiveness in Swing, Event Dispatch thread should only be used for short events. while long events should be executed on SwingWorkers.    \r\n\r\n[![enter image description here][3]][3]\r\n\r\nImagine that there is a lot of short events.     \r\n\r\n[![enter image description here][4]][4]\r\nThe events should be executed in Event Dispatch thread and you have a special event which you want to be executed before other events existing in Event Dispatch Thread queue. But, events will be enqueued to the end of the queue by default and even `InvokeLater` do the same.     \r\n\r\n**So, is there any solution to enqueue an event to the beginning of the Event Dispatch Thread?**\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\r\n  [2]: http://i.stack.imgur.com/9j3mR.png\r\n  [3]: http://i.stack.imgur.com/z737P.png\r\n  [4]: http://i.stack.imgur.com/5ctPi.png","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>I already know how <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"noreferrer\">Event Dispatch thread</a> works. If there be short and long events in Event Dispatch thread like below, the application can't be responsive.     </p>\n\n<p><a href=\"https://i.stack.imgur.com/9j3mR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9j3mR.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the Sake of responsiveness in Swing, Event Dispatch thread should only be used for short events. while long events should be executed on SwingWorkers.    </p>\n\n<p><a href=\"https://i.stack.imgur.com/z737P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z737P.png\" alt=\"enter image description here\"></a></p>\n\n<p>Imagine that there is a lot of short events.     </p>\n\n<p><a href=\"https://i.stack.imgur.com/5ctPi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5ctPi.png\" alt=\"enter image description here\"></a>\nThe events should be executed in Event Dispatch thread and you have a special event which you want to be executed before other events existing in Event Dispatch Thread queue. But, events will be enqueued to the end of the queue by default and even <code>InvokeLater</code> do the same.     </p>\n\n<p><strong>So, is there any solution to enqueue an event to the beginning of the Event Dispatch Thread?</strong></p>\n"},{"tags":["java","comments","assert"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670700616,"post_id":74755901,"comment_id":131935811,"body_markdown":"Depends on what you want to have happen.  If the assert triggers (i.e. the condition evaluates to `false`), an `AssertionError` (unchecked exception) is thrown and unless you handle it somewhere up the stack chain, the thread terminates.  IOW, `assert` is for checking conditions that should NEVER be violated, and where violation is cause to take drastic action.  It is NOT for conditions that may occur during normal execution.","body":"Depends on what you want to have happen.  If the assert triggers (i.e. the condition evaluates to <code>false</code>), an <code>AssertionError</code> (unchecked exception) is thrown and unless you handle it somewhere up the stack chain, the thread terminates.  IOW, <code>assert</code> is for checking conditions that should NEVER be violated, and where violation is cause to take drastic action.  It is NOT for conditions that may occur during normal execution."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670712531,"post_id":74755901,"comment_id":131937796,"body_markdown":"`assert` is useful for checking your own code, to make sure you yourself didnât make a mistake.  The method in your question is `private`, so assert is probably appropriate, since only your own code can call it.  For public methods that might be called by other code that you donât control, assert should not be used;  in that case code should check the argument and throw IllegalArgumentException if thereâs a problem (or NullPointerException if the argument was null but the method does not allow it to be null).","body":"<code>assert</code> is useful for checking your own code, to make sure you yourself didnât make a mistake.  The method in your question is <code>private</code>, so assert is probably appropriate, since only your own code can call it.  For public methods that might be called by other code that you donât control, assert should not be used;  in that case code should check the argument and throw IllegalArgumentException if thereâs a problem (or NullPointerException if the argument was null but the method does not allow it to be null)."}],"answers":[{"tags":[],"owner":{"account_id":22581504,"reputation":100,"user_id":16766083,"display_name":"LarsJaeger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670703462,"creation_date":1670701080,"answer_id":74755988,"question_id":74755901,"body_markdown":"Short answer:\r\n\r\nAssert should not be used for other purposes than debugging, especially not in production code. The reason for this is that these assert checks can be disabled. They are disabled by default and need to be enabled by using the `-ae` compiler flag (thanks @user16320675 for pointing this out).\r\n\r\nFor long answer and further information, see here: https://stackoverflow.com/questions/2758224/what-does-the-java-assert-keyword-do-and-when-should-it-be-used","title":"Where should I use the assert keyword in Java?","body":"<p>Short answer:</p>\n<p>Assert should not be used for other purposes than debugging, especially not in production code. The reason for this is that these assert checks can be disabled. They are disabled by default and need to be enabled by using the <code>-ae</code> compiler flag (thanks @user16320675 for pointing this out).</p>\n<p>For long answer and further information, see here: <a href=\"https://stackoverflow.com/questions/2758224/what-does-the-java-assert-keyword-do-and-when-should-it-be-used\">What does the Java assert keyword do, and when should it be used?</a></p>\n"},{"tags":[],"owner":{"account_id":27208444,"reputation":1,"user_id":20739642,"display_name":"Gagan Narang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670701211,"creation_date":1670701211,"answer_id":74756008,"question_id":74755901,"body_markdown":"The assert keyword is used when debugging code. The assert keyword lets you test if a condition in your code returns True, if not, the program will raise an AssertionError. ","title":"Where should I use the assert keyword in Java?","body":"<p>The assert keyword is used when debugging code. The assert keyword lets you test if a condition in your code returns True, if not, the program will raise an AssertionError.</p>\n"}],"owner":{"account_id":20363989,"reputation":5,"user_id":14937743,"display_name":"Giopav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755988,"answer_count":2,"score":0,"last_activity_date":1670703462,"creation_date":1670700012,"question_id":74755901,"body_markdown":"I know that the assert keyword should be used when we want to make a bug come out, but is it ok to use it in situations like the one that follows? The redirectAdd method only receives args whose length is more than 3, I added it for anyone who will read the method in the future to give some logical context, is it ok or it&#39;s better if I remove it and add a comment instead?\r\n\r\nThe code I&#39;m referring to:\r\n```\r\nprivate static boolean redirectAdd(Player player, String[] args, ItemStack mainHandItem) {\r\n    assert args.length &gt; 3;\r\n    if (args.length == 4) {\r\n        //more actions &amp; another return\r\n    } else if (args.length == 5) {\r\n        //more actions &amp; another return\r\n    } else if (args.length == 6) {\r\n        //more actions &amp; another return\r\n    } else {\r\n        player.sendMessage(ChatColor.RED + &quot;There are too many arguments! The last should be &quot; + args[5] + &quot;&quot;);\r\n        return false;\r\n    }\r\n}\r\n```","title":"Where should I use the assert keyword in Java?","body":"<p>I know that the assert keyword should be used when we want to make a bug come out, but is it ok to use it in situations like the one that follows? The redirectAdd method only receives args whose length is more than 3, I added it for anyone who will read the method in the future to give some logical context, is it ok or it's better if I remove it and add a comment instead?</p>\n<p>The code I'm referring to:</p>\n<pre><code>private static boolean redirectAdd(Player player, String[] args, ItemStack mainHandItem) {\n    assert args.length &gt; 3;\n    if (args.length == 4) {\n        //more actions &amp; another return\n    } else if (args.length == 5) {\n        //more actions &amp; another return\n    } else if (args.length == 6) {\n        //more actions &amp; another return\n    } else {\n        player.sendMessage(ChatColor.RED + &quot;There are too many arguments! The last should be &quot; + args[5] + &quot;&quot;);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","input","menu","keyboard","jnativehook"],"owner":{"account_id":27213496,"reputation":1,"user_id":20743915,"display_name":"Ifini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670702934,"creation_date":1670702726,"question_id":74756176,"body_markdown":"I want to be able to navigate through my menu with the arrows and I don&#39;t know how to apply it on my program.\r\n\r\nI have a simple menu\r\n\r\n```\r\nprivate static String[] options = {&quot;1- Plus 1&quot;,\r\n            &quot;2- Minus 1&quot;,\r\n            &quot;3- Exit&quot;,\r\n    };\r\n\t\t\r\n\t    public void printMenu(){\r\n\t        for (String option : options){\r\n\t            System.out.println(option);\r\n\t        }\r\n\t        System.out.print(&quot;Choose an option : &quot;);\r\n\t    }\r\n\t    \r\n\t    public void main(String[] args) {\r\n\t        \r\n\t    \tint option = 1;\r\n\t        int a = 0;\r\n\t        Scanner scan = new Scanner(System.in);\r\n\t       \r\n\t        while (option != options.length=){\r\n\t            printMenu();\r\n\t            try {\r\n\t                option = scan.nextInt();\r\n\t                switch (option){\r\n\t                    case 1: a++; break;\r\n\t                    case 2: a--; break;\r\n\t                    case 3: exit(0);\r\n\t                }\r\n\t            }\r\n\t            catch (Exception ex){\r\n\t                System.out.println(&quot;Input a number between 1 and  &quot; + options.length);\r\n\t                scan.next();\r\n\t            }\r\n\t        }\r\n\t    }\r\n```\r\n\r\nand have a Class for the JNativeHook with the keys i want to use (UP, DOWN and ENTER) and I want to be able to move through the options up and down and use the Enter to select the one I want. The problem is that I don&#39;t have any idea how to do it, is there any way to do it?\r\nPS: Here is my JNativeHook class:\r\n\r\n```\r\n\r\npublic class GlobalKeyListenerExample implements NativeKeyListener {\r\n\t\r\n\tpublic void nativeKeyPressed(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t\t\r\n\t\tswitch(e.getKeyCode()) {\r\n\t\tcase NativeKeyEvent.VC_UP:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\tcase NativeKeyEvent.VC_DOWN:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\tcase NativeKeyEvent.VC_ENTER:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void nativeKeyReleased(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t}\r\n\r\n\tpublic void nativeKeyTyped(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t}\r\n\r\n}\r\n```","title":"How can I use the keyboard arrows to navigate in my menu with JNativeHook?","body":"<p>I want to be able to navigate through my menu with the arrows and I don't know how to apply it on my program.</p>\n<p>I have a simple menu</p>\n<pre><code>private static String[] options = {&quot;1- Plus 1&quot;,\n            &quot;2- Minus 1&quot;,\n            &quot;3- Exit&quot;,\n    };\n        \n        public void printMenu(){\n            for (String option : options){\n                System.out.println(option);\n            }\n            System.out.print(&quot;Choose an option : &quot;);\n        }\n        \n        public void main(String[] args) {\n            \n            int option = 1;\n            int a = 0;\n            Scanner scan = new Scanner(System.in);\n           \n            while (option != options.length=){\n                printMenu();\n                try {\n                    option = scan.nextInt();\n                    switch (option){\n                        case 1: a++; break;\n                        case 2: a--; break;\n                        case 3: exit(0);\n                    }\n                }\n                catch (Exception ex){\n                    System.out.println(&quot;Input a number between 1 and  &quot; + options.length);\n                    scan.next();\n                }\n            }\n        }\n</code></pre>\n<p>and have a Class for the JNativeHook with the keys i want to use (UP, DOWN and ENTER) and I want to be able to move through the options up and down and use the Enter to select the one I want. The problem is that I don't have any idea how to do it, is there any way to do it?\nPS: Here is my JNativeHook class:</p>\n<pre><code>\npublic class GlobalKeyListenerExample implements NativeKeyListener {\n    \n    public void nativeKeyPressed(NativeKeyEvent e) {\n        System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n        \n        switch(e.getKeyCode()) {\n        case NativeKeyEvent.VC_UP:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        case NativeKeyEvent.VC_DOWN:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        case NativeKeyEvent.VC_ENTER:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        }\n    }\n\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        System.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    public void nativeKeyTyped(NativeKeyEvent e) {\n        System.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1489223519,"post_id":42733366,"comment_id":72585234,"body_markdown":"Just google for &quot;Java enum tutorial&quot;, click on the first link, and read.","body":"Just google for &quot;Java enum tutorial&quot;, click on the first link, and read."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Î¦XocÄ ì Ðepe&#250;pa ã"},"score":0,"creation_date":1489223573,"post_id":42733366,"comment_id":72585252,"body_markdown":"enums can have a constructor and its own fields.... consider that too please","body":"enums can have a constructor and its own fields.... consider that too please"},{"owner":{"display_name":"user6446529"},"score":0,"creation_date":1489223617,"post_id":42733366,"comment_id":72585260,"body_markdown":"I would like to do this without a constructor","body":"I would like to do this without a constructor"},{"owner":{"account_id":10332275,"reputation":10473,"user_id":7621674,"accept_rate":100,"display_name":"m7913d"},"score":0,"creation_date":1489223625,"post_id":42733366,"comment_id":72585262,"body_markdown":"Possible duplicate of [Can I add a function to enums in Java?](http://stackoverflow.com/questions/2457076/can-i-add-a-function-to-enums-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2457076/can-i-add-a-function-to-enums-in-java\">Can I add a function to enums in Java?</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1489223946,"post_id":42733366,"comment_id":72585332,"body_markdown":"@RubenOktay you can do it with an abstract method overridden in each enum, or your get() method could use a switch statement to test the value of `this`, but a field and a constructor is way simpler. Why wouldn&#39;t you use that?","body":"@RubenOktay you can do it with an abstract method overridden in each enum, or your get() method could use a switch statement to test the value of <code>this</code>, but a field and a constructor is way simpler. Why wouldn&#39;t you use that?"},{"owner":{"display_name":"user6446529"},"score":0,"creation_date":1489224213,"post_id":42733366,"comment_id":72585392,"body_markdown":"Well, i cannot use a constructor as the string will be updated often..","body":"Well, i cannot use a constructor as the string will be updated often.."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1489224332,"post_id":42733366,"comment_id":72585427,"body_markdown":"That&#39;s probably a bad idea, but anyway, I don&#39;t see how that prevents you from using a constructor. To the contrary. If the string s updated, you *need* a field to contain the new value, and you thus need a constructor to initialize the field.","body":"That&#39;s probably a bad idea, but anyway, I don&#39;t see how that prevents you from using a constructor. To the contrary. If the string s updated, you <i>need</i> a field to contain the new value, and you thus need a constructor to initialize the field."}],"answers":[{"tags":[],"owner":{"account_id":10202826,"reputation":499,"user_id":7532453,"accept_rate":25,"display_name":"Jayanand Raghuwanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489223619,"creation_date":1489223619,"answer_id":42733411,"question_id":42733366,"body_markdown":"    enum Auth{\r\n    private enum Auth{\r\n    String value;\r\n    KEY(&quot;mykey&quot;), PASSWORD(&quot;mypassword&quot;),    MAIL(mymail&quot;);    \r\n\r\n    Auth(String value){\r\n    thia.value=value;\r\n    }\r\n    public String get(){\r\n        return value;\r\n    }\r\n    }","title":"Executing action depending on enum value","body":"<pre><code>enum Auth{\nprivate enum Auth{\nString value;\nKEY(\"mykey\"), PASSWORD(\"mypassword\"),    MAIL(mymail\");    \n\nAuth(String value){\nthia.value=value;\n}\npublic String get(){\n    return value;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2211023,"reputation":2409,"user_id":1952879,"display_name":"hmatar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489223623,"creation_date":1489223623,"answer_id":42733413,"question_id":42733366,"body_markdown":"You need to have a string which holds the name of of enum and a constructor which sets it. Then get method returns the name as below.\r\n\r\n     private enum Auth{\r\n    \r\n        KEY, PASSWORD, MAIL;    \r\n        string name;\r\n        public Auth(string nm) {\r\n          name = nm;\r\n        }\r\n        public String get(){\r\n            return name;\r\n        }\r\n     }","title":"Executing action depending on enum value","body":"<p>You need to have a string which holds the name of of enum and a constructor which sets it. Then get method returns the name as below.</p>\n\n<pre><code> private enum Auth{\n\n    KEY, PASSWORD, MAIL;    \n    string name;\n    public Auth(string nm) {\n      name = nm;\n    }\n    public String get(){\n        return name;\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489312898,"creation_date":1489223625,"answer_id":42733414,"question_id":42733366,"body_markdown":"Just add a field and constructor, as explained in the [java-docs][1]\r\n\r\nExample code:\r\n\r\n    enum Auth {\r\n    \r\n        KEY(&quot;myKey&quot;), PASSWORD(&quot;myPass&quot;), MAIL(&quot;myMail&quot;);    \r\n    \r\n        private final String identifier;\r\n    \r\n        Auth(String identifier) {\r\n            this.identifier = identifier;\r\n        }\r\n    \r\n        public String get(){\r\n            return identifier;\r\n        }\r\n    }\r\n\r\nAlso note, that there is [name()][2] and [toString()][3] which may be useful: see also [java-enum-why-use-tostring-instead-of-name][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#name()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#toString()\r\n  [4]: https://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name","title":"Executing action depending on enum value","body":"<p>Just add a field and constructor, as explained in the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">java-docs</a></p>\n\n<p>Example code:</p>\n\n<pre><code>enum Auth {\n\n    KEY(\"myKey\"), PASSWORD(\"myPass\"), MAIL(\"myMail\");    \n\n    private final String identifier;\n\n    Auth(String identifier) {\n        this.identifier = identifier;\n    }\n\n    public String get(){\n        return identifier;\n    }\n}\n</code></pre>\n\n<p>Also note, that there is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\">name()</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#toString()\" rel=\"nofollow noreferrer\">toString()</a> which may be useful: see also <a href=\"https://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name\">java-enum-why-use-tostring-instead-of-name</a></p>\n"},{"tags":[],"owner":{"account_id":10259245,"reputation":1507,"user_id":7571148,"display_name":"Markus Benko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1489261349,"creation_date":1489261349,"answer_id":42739762,"question_id":42733366,"body_markdown":"Although I strongly advise not to use the following mechanism for getting something simple like a hardcoded `String` from an enum value and rather use it for associating particular behavior like in `java.util.concurrent.TimeUnit`, this is how it can be achieved:\r\n\r\n    private enum Auth {\r\n        \r\n        KEY {\r\n            public String get() {\r\n                return &quot;mykey&quot;;\r\n            } \r\n        },\r\n        \r\n        PASSWORD {\r\n            public String get() {\r\n                return &quot;mypassword&quot;;\r\n            } \r\n        },\r\n        \r\n        MAIL {\r\n            public String get() {\r\n                return &quot;mymail&quot;;\r\n            } \r\n        };\r\n        \r\n        public abstract String get();\r\n        \r\n    }\r\n","title":"Executing action depending on enum value","body":"<p>Although I strongly advise not to use the following mechanism for getting something simple like a hardcoded <code>String</code> from an enum value and rather use it for associating particular behavior like in <code>java.util.concurrent.TimeUnit</code>, this is how it can be achieved:</p>\n\n<pre><code>private enum Auth {\n\n    KEY {\n        public String get() {\n            return \"mykey\";\n        } \n    },\n\n    PASSWORD {\n        public String get() {\n            return \"mypassword\";\n        } \n    },\n\n    MAIL {\n        public String get() {\n            return \"mymail\";\n        } \n    };\n\n    public abstract String get();\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user6446529"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":42739762,"answer_count":4,"score":0,"last_activity_date":1670701896,"creation_date":1489223225,"question_id":42733366,"body_markdown":"I&#39;m trying to retrieving a value depending on the enum value.\r\nBasically, let&#39;s say I have the following enum:\r\n\r\n    \tprivate enum Auth{\r\n\r\n\t\tKEY, PASSWORD, MAIL;\t\r\n\r\n\t\tpublic String get(){\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\nBy doing Auth.KEY.get() it would return &quot;mykey&quot;, while Auth.MAIL.get() would return &quot;mymail&quot;\r\nI googled a bit but I couldn&#39;t find an answer, I didn&#39;t try anything before because I totally hadn&#39;t an idea on how I could start.","title":"Executing action depending on enum value","body":"<p>I'm trying to retrieving a value depending on the enum value.\nBasically, let's say I have the following enum:</p>\n<pre><code>    private enum Auth{\n\n    KEY, PASSWORD, MAIL;    \n\n    public String get(){\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>By doing Auth.KEY.get() it would return &quot;mykey&quot;, while Auth.MAIL.get() would return &quot;mymail&quot;\nI googled a bit but I couldn't find an answer, I didn't try anything before because I totally hadn't an idea on how I could start.</p>\n"},{"tags":["java","kotlin","jvm","bytecode","byte-buddy"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670694432,"post_id":74755182,"comment_id":131934530,"body_markdown":"How are you measuring this?  It&#39;d be perfectly normal for classes loaded later to be eligible for JIT later.","body":"How are you measuring this?  It&#39;d be perfectly normal for classes loaded later to be eligible for JIT later."},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670694791,"post_id":74755182,"comment_id":131934612,"body_markdown":"Hey @LouisWasserman I&#39;m using KotlinX benchmark (JMH under the hood if unfamiliar), you can find the benchmarks [here](https://github.com/seppukudevelopment/seppuku2/tree/ecs-optimize/seppuku-sdk/ecs-codegen/src/test/kotlin/pw/seppuku/ecs/codegen)","body":"Hey @LouisWasserman I&#39;m using KotlinX benchmark (JMH under the hood if unfamiliar), you can find the benchmarks <a href=\"https://github.com/seppukudevelopment/seppuku2/tree/ecs-optimize/seppuku-sdk/ecs-codegen/src/test/kotlin/pw/seppuku/ecs/codegen\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1670710372,"post_id":74755182,"comment_id":131937424,"body_markdown":"I do not think that there is any particular reason. Are you running the latest JVM?","body":"I do not think that there is any particular reason. Are you running the latest JVM?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670835580,"post_id":74755182,"comment_id":131956849,"body_markdown":"Questions about benchmark results without showing the benchmark are pointless. Besides that, both variants look convoluted to me. `Class` instances can be compared by reference (i.e. you can compare and branch with a single [`if_acmp` instruction](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.if_acmp_cond), instead of calling another method like `Intrinsics.areEqual(â¦)`, followed by `ifeq`). Also, there is no point in casting a reference to `java.lang.Object`. So you can shorten the entire method to 15 bytes. Though this might not have an effect on the performanceâ¦","body":"Questions about benchmark results without showing the benchmark are pointless. Besides that, both variants look convoluted to me. <code>Class</code> instances can be compared by reference (i.e. you can compare and branch with a single <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.if_acmp_cond\" rel=\"nofollow noreferrer\"><code>if_acmp</code> instruction</a>, instead of calling another method like <code>Intrinsics.areEqual(â¦)</code>, followed by <code>ifeq</code>). Also, there is no point in casting a reference to <code>java.lang.Object</code>. So you can shorten the entire method to 15 bytes. Though this might not have an effect on the performanceâ¦"},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670924967,"post_id":74755182,"comment_id":131980203,"body_markdown":"@Holger using `if_acmpne` had close to no performance impact, I think it was how `JvmClassMappingKt#getJavaClass` works (maybe?) since I don&#39;t use it and am getting similar speeds to expected now","body":"@Holger using <code>if_acmpne</code> had close to no performance impact, I think it was how <code>JvmClassMappingKt#getJavaClass</code> works (maybe?) since I don&#39;t use it and am getting similar speeds to expected now"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670925943,"post_id":74755182,"comment_id":131980550,"body_markdown":"Well, I already said that I donât expect an effect on performance (loading and verification time is outside the benchmark and still tiny for a single method). The two javap outputs youâve posted both contain a `JvmClassMappingKt.getJavaClass` call, so thatâs not explaining a difference in the outcome.","body":"Well, I already said that I donât expect an effect on performance (loading and verification time is outside the benchmark and still tiny for a single method). The two javap outputs youâve posted both contain a <code>JvmClassMappingKt.getJavaClass</code> call, so thatâs not explaining a difference in the outcome."},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670930558,"post_id":74755182,"comment_id":131982112,"body_markdown":"Hey @Holger [here](https://gist.github.com/wine/66a14672330f28ce55a54951a1fce7bf) is the javap output of the current generated code","body":"Hey @Holger <a href=\"https://gist.github.com/wine/66a14672330f28ce55a54951a1fce7bf\" rel=\"nofollow noreferrer\">here</a> is the javap output of the current generated code"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671043682,"post_id":74755182,"comment_id":132014696,"body_markdown":"Well, yes, the new code not containing a `JvmClassMappingKt.getJavaClass` call is faster than the previous version containing it. But that doesnât explain why the manual implementation also containing the `JvmClassMappingKt.getJavaClass` call is faster.","body":"Well, yes, the new code not containing a <code>JvmClassMappingKt.getJavaClass</code> call is faster than the previous version containing it. But that doesnât explain why the manual implementation also containing the <code>JvmClassMappingKt.getJavaClass</code> call is faster."}],"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670701219,"creation_date":1670693819,"question_id":74755182,"body_markdown":"I&#39;m using ByteBuddy to implement `hasComponent(KClass): Boolean` and `&lt;T&gt; findComponentOrNull(KClass): T?` for child classes of an `Entity` interface.\r\n\r\nI&#39;ve got it working, but it&#39;s around half the speed compared to a manual implementation.\r\nHere&#39;s some simple benchmark results (codegen benchmark doesn&#39;t include the time it takes to generate the bytecode)\r\n\r\n```\r\nBenchmark                                                     Mode  Cnt          Score        Error  Units\r\nCodegenBranchEntityBenchmark.findComponentOrNullBenchmark    thrpt    5   93353925.859 &#177; 626597.466  ops/s\r\nManualBranchEntityBenchmark.findComponentOrNullBenchmark     thrpt    5  213006529.660 &#177; 638025.482  ops/s\r\nMapLookupEntityBenchmark.findComponentOrNullBenchmark        thrpt    5  168355957.091 &#177; 633810.959  ops/s\r\n```\r\n\r\nI&#39;ve compared the bytecode of the generated implementation and the manual implementation and they&#39;re *almost* identical. I&#39;m guessing the generated class isn&#39;t being processed by the JIT at all for some reason?\r\n\r\n[`javap -c` output of manual implementation](https://gist.github.com/wine/48bc96641a19243d62e3f7c13821a8b9)\r\n\r\n[`javap -c` output of generated implementation](https://gist.github.com/wine/29c14a67692bf326d9f275d8b7a0042b)\r\n\r\nThe only significant difference from what I can tell is that the Kotlin compiler creates a `PropertyReference1Impl` which shouldn&#39;t affect performance this much?\r\n\r\nEDIT:\r\nI changed `findComponentOrNull` to take in a regular Java `Class` (can skip invoking `JvmClassMappingKt#getJavaClass`) and it&#39;s now running at the same speed. Seems like the JIT doesn&#39;t optimize `KClass` on dynamically loaded types? I have no clue why, but works as expected now.","title":"ByteBuddy loaded class is slower than expected","body":"<p>I'm using ByteBuddy to implement <code>hasComponent(KClass): Boolean</code> and <code>&lt;T&gt; findComponentOrNull(KClass): T?</code> for child classes of an <code>Entity</code> interface.</p>\n<p>I've got it working, but it's around half the speed compared to a manual implementation.\nHere's some simple benchmark results (codegen benchmark doesn't include the time it takes to generate the bytecode)</p>\n<pre><code>Benchmark                                                     Mode  Cnt          Score        Error  Units\nCodegenBranchEntityBenchmark.findComponentOrNullBenchmark    thrpt    5   93353925.859 Â± 626597.466  ops/s\nManualBranchEntityBenchmark.findComponentOrNullBenchmark     thrpt    5  213006529.660 Â± 638025.482  ops/s\nMapLookupEntityBenchmark.findComponentOrNullBenchmark        thrpt    5  168355957.091 Â± 633810.959  ops/s\n</code></pre>\n<p>I've compared the bytecode of the generated implementation and the manual implementation and they're <em>almost</em> identical. I'm guessing the generated class isn't being processed by the JIT at all for some reason?</p>\n<p><a href=\"https://gist.github.com/wine/48bc96641a19243d62e3f7c13821a8b9\" rel=\"nofollow noreferrer\"><code>javap -c</code> output of manual implementation</a></p>\n<p><a href=\"https://gist.github.com/wine/29c14a67692bf326d9f275d8b7a0042b\" rel=\"nofollow noreferrer\"><code>javap -c</code> output of generated implementation</a></p>\n<p>The only significant difference from what I can tell is that the Kotlin compiler creates a <code>PropertyReference1Impl</code> which shouldn't affect performance this much?</p>\n<p>EDIT:\nI changed <code>findComponentOrNull</code> to take in a regular Java <code>Class</code> (can skip invoking <code>JvmClassMappingKt#getJavaClass</code>) and it's now running at the same speed. Seems like the JIT doesn't optimize <code>KClass</code> on dynamically loaded types? I have no clue why, but works as expected now.</p>\n"},{"tags":["java","eclipse","vlcj","module-info"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1670669183,"post_id":74751852,"comment_id":131929644,"body_markdown":"Did  you also move things from the Classpath to the Modulepath in build path settings? They will need to be in the Classpath now.","body":"Did  you also move things from the Classpath to the Modulepath in build path settings? They will need to be in the Classpath now."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670671650,"post_id":74751852,"comment_id":131930034,"body_markdown":"I see that all my ressources/external libraries are listed below the Modulepath. The Classpath has nothing in it. I am not sure how this looked before tbh., but moving the vlcj libraries to the Classpath solved the issue for me. Thank you!","body":"I see that all my ressources/external libraries are listed below the Modulepath. The Classpath has nothing in it. I am not sure how this looked before tbh., but moving the vlcj libraries to the Classpath solved the issue for me. Thank you!"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670671922,"post_id":74751852,"comment_id":131930073,"body_markdown":"Btw., I found out that the problem can also be solved by exposing the missing internal vlcj packages in the &quot;Module Dependencies&quot; tab! With this, it is okay for the libraries to remain in the Module Path. It seems this could be an alternate solution. Thanks again for your help.","body":"Btw., I found out that the problem can also be solved by exposing the missing internal vlcj packages in the &quot;Module Dependencies&quot; tab! With this, it is okay for the libraries to remain in the Module Path. It seems this could be an alternate solution. Thanks again for your help."},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1670679727,"post_id":74751852,"comment_id":131931566,"body_markdown":"vlcj&#39;s adoption of modules is quite recent, it&#39;s possible there are issues, posting at the GitHub project page with specific examples might be helpful.","body":"vlcj&#39;s adoption of modules is quite recent, it&#39;s possible there are issues, posting at the GitHub project page with specific examples might be helpful."}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670699998,"creation_date":1670665569,"question_id":74751852,"body_markdown":"I have recently migrated my project from Java8 to Java17. I wanted to try out the module system and added a `module-info.java` to my existing Eclipse project. As it caused several issues, I decided to revert back the change and to proceed without declaring modules. I deleted the file, but now I am getting compile errors. It is stated that `LibX11` and `libvlc_instance_t` cannot be resolved to be a type and that they are not accessible. Why is that? It was working fine before. It seems that adding and removing the `module-info.java` has somehow messed up my configuration.&lt;br&gt;&lt;br&gt;\r\nI need to access `libvlc_instance_t` because I need to subclass `MediaPlayer`, which requires a reference to `libvlc_instance_t` in the constructor. If `libvlc_instance_t` is really not meant to be used, how can I solve this? Thank you!","title":"vlcj: libvlc_instance_t not accessible after module creation","body":"<p>I have recently migrated my project from Java8 to Java17. I wanted to try out the module system and added a <code>module-info.java</code> to my existing Eclipse project. As it caused several issues, I decided to revert back the change and to proceed without declaring modules. I deleted the file, but now I am getting compile errors. It is stated that <code>LibX11</code> and <code>libvlc_instance_t</code> cannot be resolved to be a type and that they are not accessible. Why is that? It was working fine before. It seems that adding and removing the <code>module-info.java</code> has somehow messed up my configuration.<br><br>\nI need to access <code>libvlc_instance_t</code> because I need to subclass <code>MediaPlayer</code>, which requires a reference to <code>libvlc_instance_t</code> in the constructor. If <code>libvlc_instance_t</code> is really not meant to be used, how can I solve this? Thank you!</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1670699618,"post_id":74755785,"comment_id":131935637,"body_markdown":"do you mean the &quot;Step Over (F8)&quot; function? Or more like the &quot;Do not step into the classes&quot; settings?","body":"do you mean the &quot;Step Over (F8)&quot; function? Or more like the &quot;Do not step into the classes&quot; settings?"},{"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"score":0,"creation_date":1670796844,"post_id":74755785,"comment_id":131950818,"body_markdown":"I guess you have a breakpoint in your function, and the debugger stops there every time this code is executed, which means in every recursive call, even if you select the &quot;Step Over&quot; option. If you want to control when to go into a call, disable/remove the breakpoint and use the &quot;Step Into&quot; and &quot;Step Over&quot; options.","body":"I guess you have a breakpoint in your function, and the debugger stops there every time this code is executed, which means in every recursive call, even if you select the &quot;Step Over&quot; option. If you want to control when to go into a call, disable/remove the breakpoint and use the &quot;Step Into&quot; and &quot;Step Over&quot; options."}],"owner":{"account_id":7104841,"reputation":19,"user_id":5434848,"display_name":"Aris Emery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670698793,"creation_date":1670698793,"question_id":74755785,"body_markdown":"I am trying to debug recursive functions and it automatically steps into every recursive call. Why would it ever do that when it has a step into button and it doesn&#39;t do that with other function calls? I know you can see the call stack and manually revert back, but that is very time consuming and easy to mess up. Is there a way to make it just not decide to automatically step into recursive calls that I haven&#39;t told it to step into?","title":"Is there a way to make intellij debugger not step into every recursive call?","body":"<p>I am trying to debug recursive functions and it automatically steps into every recursive call. Why would it ever do that when it has a step into button and it doesn't do that with other function calls? I know you can see the call stack and manually revert back, but that is very time consuming and easy to mess up. Is there a way to make it just not decide to automatically step into recursive calls that I haven't told it to step into?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670698970,"post_id":74755749,"comment_id":131935501,"body_markdown":"Save merges what you pass in into the managed instance if there is one, so that all references are kept intact. As long as you are part of the same entityManager context, it maintains the cache of the entity. It will return the &#39;existing&#39; value, but if you think something has changed out from under your entity since the find call - you can flush and try to refresh the entity using em.refresh.","body":"Save merges what you pass in into the managed instance if there is one, so that all references are kept intact. As long as you are part of the same entityManager context, it maintains the cache of the entity. It will return the &#39;existing&#39; value, but if you think something has changed out from under your entity since the find call - you can flush and try to refresh the entity using em.refresh."}],"owner":{"account_id":10146758,"reputation":15,"user_id":7968394,"display_name":"Paramsmit Sanghani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670698420,"creation_date":1670698420,"question_id":74755749,"body_markdown":"I ve a method to first get the instance (here Organization) of the hibernate entity and then update it with some value.\r\n\r\n```\r\n    public Organization update(Organization organization) throws RecordNotFoundException {\r\n\r\n      // verify organization exist or not\r\n\r\n      Organization currentOrganization = getById(organization.getId());\r\n      // getById internally calls findById of CrudRepository of JPA\r\n\r\n      Organization updatedOrg = getRepository().save(organization);\r\n      // this calls internally save method of CrudRepository of JPA\r\n\r\n      return updatedOrg;\r\n\r\n    }\r\n```\r\n\r\nMy query is why currentOrganization and updateOrg references points to the same object in the memory? i checked it by printing hashcodes of both the references.   \r\n\r\n\r\n\r\n\r\nI ve an createdAt field in organization object. It will automatically populated when first time organization is stored in db. But when i update it using the save() method i want to return the existing value rather than whatever is set the request object. \r\n\r\n\r\n```\r\n public Organization update(Organization organization) throws RecordNotFoundException {\r\n\r\n      // verify organization exist or not\r\n\r\n      Organization currentOrganization = getById(organization.getId());\r\n      Organization updatedOrg = getRepository().save(organization);\r\n      updatedOrg.setCreatedAt(currentOrganization.getCreatedAt());\r\n      return updatedOrg;\r\n\r\n    }\r\n```\r\n\r\nbut this is not working. After creating updatedOrg object, currentOrganzation is also some how points to the same object which updatedOrg is referencing. ","title":"references return by findById() and save() method calls of spring JPA points to same object","body":"<p>I ve a method to first get the instance (here Organization) of the hibernate entity and then update it with some value.</p>\n<pre><code>    public Organization update(Organization organization) throws RecordNotFoundException {\n\n      // verify organization exist or not\n\n      Organization currentOrganization = getById(organization.getId());\n      // getById internally calls findById of CrudRepository of JPA\n\n      Organization updatedOrg = getRepository().save(organization);\n      // this calls internally save method of CrudRepository of JPA\n\n      return updatedOrg;\n\n    }\n</code></pre>\n<p>My query is why currentOrganization and updateOrg references points to the same object in the memory? i checked it by printing hashcodes of both the references.</p>\n<p>I ve an createdAt field in organization object. It will automatically populated when first time organization is stored in db. But when i update it using the save() method i want to return the existing value rather than whatever is set the request object.</p>\n<pre><code> public Organization update(Organization organization) throws RecordNotFoundException {\n\n      // verify organization exist or not\n\n      Organization currentOrganization = getById(organization.getId());\n      Organization updatedOrg = getRepository().save(organization);\n      updatedOrg.setCreatedAt(currentOrganization.getCreatedAt());\n      return updatedOrg;\n\n    }\n</code></pre>\n<p>but this is not working. After creating updatedOrg object, currentOrganzation is also some how points to the same object which updatedOrg is referencing.</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1692272813,"post_id":63011695,"comment_id":135602301,"body_markdown":"Did you ever figure out how to migrate TokenStore, TokenServices etc to the new Spring Security version?","body":"Did you ever figure out how to migrate TokenStore, TokenServices etc to the new Spring Security version?"}],"answers":[{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607073242,"creation_date":1607073242,"answer_id":65140801,"question_id":63011695,"body_markdown":"In spring security&#39;s current release they have not given support of authorization server. They are working on authorization server support but the project is under experimental mode. Besides spring security team already integrated resource server as well as Oauth2 client support in spring security 5 as single spring security project. Until, they don&#39;t release the support of latest spring&#39;s authorization server you can use your old authorization server but you won&#39;t be able to keep your resource server auth server because latest resource server and client configuration comes in different dependency and the configurations will conflict with old oauth2 support .\r\n\r\nI would recommend you to use any other authorization server meanwhile they release spring&#39;s latest auth server. I would suggest you to use keyclock auth server that I am personally using.\r\n\r\nSee [this](https://github.com/spring-projects-experimental/spring-authorization-server)","title":"Migration guide for Spring security 5","body":"<p>In spring security's current release they have not given support of authorization server. They are working on authorization server support but the project is under experimental mode. Besides spring security team already integrated resource server as well as Oauth2 client support in spring security 5 as single spring security project. Until, they don't release the support of latest spring's authorization server you can use your old authorization server but you won't be able to keep your resource server auth server because latest resource server and client configuration comes in different dependency and the configurations will conflict with old oauth2 support .</p>\n<p>I would recommend you to use any other authorization server meanwhile they release spring's latest auth server. I would suggest you to use keyclock auth server that I am personally using.</p>\n<p>See <a href=\"https://github.com/spring-projects-experimental/spring-authorization-server\" rel=\"noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670698015,"creation_date":1670698015,"answer_id":74755704,"question_id":63011695,"body_markdown":"For everyone, who wants to use the newest solution the Spring already released [the authorization server][1].\r\n\r\n  [1]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\r\n\r\nMaven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Migration guide for Spring security 5","body":"<p>For everyone, who wants to use the newest solution the Spring already released <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\" rel=\"nofollow noreferrer\">the authorization server</a>.</p>\n<p>Maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11037,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":74755704,"answer_count":2,"score":9,"last_activity_date":1670698015,"creation_date":1595324578,"question_id":63011695,"body_markdown":"I have multi-module maven project Spring boot 2.3.1.RELEASE, there I use spring security over OAuth 2.0. One of my modules contains configuration for security:\r\n\r\nAuthorization server config\r\n``` java\r\n@Configuration\r\n@EnableAuthorizationServer //deprecated\r\npublic class AuthorizationServerOAuth2Config extends AuthorizationServerConfigurerAdapter { //deprecated\r\n\r\n    private static final String SINGING_KEY = &quot;&quot;;\r\n    private static final String CLIENT_ID = &quot;&quot;;\r\n    private static final String CLIENT_SECRET = &quot;&quot;;\r\n    private static final String[] AUTHORIZED_GRANT_TYPES = {&quot;password&quot;, &quot;refresh_token&quot;};\r\n    private static final String[] SCOPES = {&quot;read&quot;, &quot;write&quot;};\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;authenticationManagerBean&quot;)\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerSecurityConfigurer security) { //deprecated\r\n        security\r\n                .tokenKeyAccess(&quot;permitAll()&quot;)\r\n                .checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception { //deprecated\r\n\r\n        clients.inMemory()\r\n                .withClient(CLIENT_ID)\r\n                .secret(passwordEncoder.encode(CLIENT_SECRET))\r\n                .authorizedGrantTypes(AUTHORIZED_GRANT_TYPES)\r\n                .scopes(SCOPES)\r\n                .accessTokenValiditySeconds(1800)\r\n                .refreshTokenValiditySeconds(9600);\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) { //deprecated\r\n\r\n        endpoints\r\n                .tokenStore(tokenStore())\r\n                .authenticationManager(authenticationManager)\r\n                .accessTokenConverter(accessTokenConverter());\r\n    }\r\n\r\n    @Bean\r\n    public JwtAccessTokenConverter accessTokenConverter() { //deprecated\r\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\r\n        converter.setSigningKey(SINGING_KEY);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public TokenStore tokenStore() { //deprecated\r\n        return new JwtTokenStore(accessTokenConverter());\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public DefaultTokenServices tokenServices() { //deprecated\r\n        DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\r\n        defaultTokenServices.setTokenStore(tokenStore());\r\n        defaultTokenServices.setSupportRefreshToken(true);\r\n        return defaultTokenServices;\r\n    }\r\n}\r\n\r\n```\r\nResource server config\r\n``` java\r\n@Configuration\r\n@EnableResourceServer //deprecated\r\npublic class ResourceServerOAuth2Config extends ResourceServerConfigurerAdapter { //deprecated\r\n}\r\n```\r\n\r\npom.xml\r\n``` xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.skill.improvement&lt;/groupId&gt;\r\n        &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;security&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;!-- 2.3.1.RELEASE --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;!-- 2.3.1.RELEASE --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMain security config \r\n``` java\r\n\r\n@Order(1)\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final String ADMIN_PASSWORD = &quot;&quot;;\r\n    private static final String USER_PASSWORD = &quot;&quot;;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic().disable()\r\n                .csrf().disable()\r\n                .anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/v1/**&quot;).authenticated()\r\n                .and().exceptionHandling().authenticationEntryPoint(new JwtAuthenticationEntryPoint())\r\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler()) //deprecated\r\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;/webjars/**&quot;)\r\n        .antMatchers(HttpMethod.GET, &quot;/v1/**&quot;)\r\n        .antMatchers(HttpMethod.PATCH, &quot;/v1/**&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(inMemoryUserDetailsManager());\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager() {\r\n\r\n        return new InMemoryUserDetailsManager(getDefaultUsers());\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public OncePerRequestFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    private List&lt;UserDetails&gt; getDefaultUsers() {\r\n\r\n        List&lt;UserDetails&gt; userDetailsList = new ArrayList&lt;&gt;();\r\n        userDetailsList.add(User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(ADMIN_PASSWORD))\r\n                .roles(&quot;ADMIN&quot;).build());\r\n        userDetailsList.add(User.withUsername(&quot;user&quot;).password(passwordEncoder().encode(USER_PASSWORD))\r\n                .roles(&quot;USER&quot;).build());\r\n        return userDetailsList;\r\n    }\r\n}\r\n\r\n```\r\nEverything works fine, but almost everything is deprecated since Spring Security 5.2.x. I read [this guide][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\r\n\r\nbut I am not sure how to successfully finish the migration. Is there any understandable guide on how to do it?","title":"Migration guide for Spring security 5","body":"<p>I have multi-module maven project Spring boot 2.3.1.RELEASE, there I use spring security over OAuth 2.0. One of my modules contains configuration for security:</p>\n<p>Authorization server config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAuthorizationServer //deprecated\npublic class AuthorizationServerOAuth2Config extends AuthorizationServerConfigurerAdapter { //deprecated\n\n    private static final String SINGING_KEY = &quot;&quot;;\n    private static final String CLIENT_ID = &quot;&quot;;\n    private static final String CLIENT_SECRET = &quot;&quot;;\n    private static final String[] AUTHORIZED_GRANT_TYPES = {&quot;password&quot;, &quot;refresh_token&quot;};\n    private static final String[] SCOPES = {&quot;read&quot;, &quot;write&quot;};\n\n    @Autowired\n    @Qualifier(&quot;authenticationManagerBean&quot;)\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) { //deprecated\n        security\n                .tokenKeyAccess(&quot;permitAll()&quot;)\n                .checkTokenAccess(&quot;isAuthenticated()&quot;);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception { //deprecated\n\n        clients.inMemory()\n                .withClient(CLIENT_ID)\n                .secret(passwordEncoder.encode(CLIENT_SECRET))\n                .authorizedGrantTypes(AUTHORIZED_GRANT_TYPES)\n                .scopes(SCOPES)\n                .accessTokenValiditySeconds(1800)\n                .refreshTokenValiditySeconds(9600);\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) { //deprecated\n\n        endpoints\n                .tokenStore(tokenStore())\n                .authenticationManager(authenticationManager)\n                .accessTokenConverter(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() { //deprecated\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SINGING_KEY);\n        return converter;\n    }\n\n    @Bean\n    public TokenStore tokenStore() { //deprecated\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    @Primary\n    public DefaultTokenServices tokenServices() { //deprecated\n        DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\n        defaultTokenServices.setTokenStore(tokenStore());\n        defaultTokenServices.setSupportRefreshToken(true);\n        return defaultTokenServices;\n    }\n}\n\n</code></pre>\n<p>Resource server config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableResourceServer //deprecated\npublic class ResourceServerOAuth2Config extends ResourceServerConfigurerAdapter { //deprecated\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.skill.improvement&lt;/groupId&gt;\n        &lt;artifactId&gt;app&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;security&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;!-- 2.3.1.RELEASE --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- 2.3.1.RELEASE --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main security config</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Order(1)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String ADMIN_PASSWORD = &quot;&quot;;\n    private static final String USER_PASSWORD = &quot;&quot;;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable()\n                .anonymous().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/v1/**&quot;).authenticated()\n                .and().exceptionHandling().authenticationEntryPoint(new JwtAuthenticationEntryPoint())\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler()) //deprecated\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(\n                &quot;/v2/api-docs&quot;,\n                &quot;/configuration/ui&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/configuration/security&quot;,\n                &quot;/swagger-ui.html&quot;,\n                &quot;/webjars/**&quot;)\n        .antMatchers(HttpMethod.GET, &quot;/v1/**&quot;)\n        .antMatchers(HttpMethod.PATCH, &quot;/v1/**&quot;);\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(inMemoryUserDetailsManager());\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager() {\n\n        return new InMemoryUserDetailsManager(getDefaultUsers());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public OncePerRequestFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    private List&lt;UserDetails&gt; getDefaultUsers() {\n\n        List&lt;UserDetails&gt; userDetailsList = new ArrayList&lt;&gt;();\n        userDetailsList.add(User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(ADMIN_PASSWORD))\n                .roles(&quot;ADMIN&quot;).build());\n        userDetailsList.add(User.withUsername(&quot;user&quot;).password(passwordEncoder().encode(USER_PASSWORD))\n                .roles(&quot;USER&quot;).build());\n        return userDetailsList;\n    }\n}\n\n</code></pre>\n<p>Everything works fine, but almost everything is deprecated since Spring Security 5.2.x. I read <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"noreferrer\">this guide</a></p>\n<p>but I am not sure how to successfully finish the migration. Is there any understandable guide on how to do it?</p>\n"},{"tags":["java","spring-boot","maven","spring-boot-starter"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1669204671,"post_id":74546399,"comment_id":131590458,"body_markdown":"Please show your pom file of both project of the consuming project as well as of the magic-lib-1 project...","body":"Please show your pom file of both project of the consuming project as well as of the magic-lib-1 project..."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1669208434,"post_id":74546399,"comment_id":131591732,"body_markdown":"You could check the scope of the maven dependency in the starter component.","body":"You could check the scope of the maven dependency in the starter component."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1669214222,"post_id":74546399,"comment_id":131594060,"body_markdown":"@Mena, it is default (compile)","body":"@Mena, it is default (compile)"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1669215100,"post_id":74546399,"comment_id":131594432,"body_markdown":"@VeryNiceArgumentException nevermind then. As hinted by others, you probably want to produce an MVCE at this point.","body":"@VeryNiceArgumentException nevermind then. As hinted by others, you probably want to produce an MVCE at this point."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1669220441,"post_id":74546399,"comment_id":131596526,"body_markdown":"I&#39;ll provide it soon","body":"I&#39;ll provide it soon"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1670077590,"post_id":74546399,"comment_id":131791466,"body_markdown":"done. please let me know if you need something else","body":"done. please let me know if you need something else"},{"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"score":0,"creation_date":1670245127,"post_id":74546399,"comment_id":131824214,"body_markdown":"have you tried `mvn dependency:tree`","body":"have you tried <code>mvn dependency:tree</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670245358,"post_id":74546399,"comment_id":131824291,"body_markdown":"compile time dependencies will be downloaded automatically, whereas `runtime` and `provided` aren&#39;t. So your reasoning doesn&#39;t make sense. Something makes it either `optional` or changes the scope to `provided`.","body":"compile time dependencies will be downloaded automatically, whereas <code>runtime</code> and <code>provided</code> aren&#39;t. So your reasoning doesn&#39;t make sense. Something makes it either <code>optional</code> or changes the scope to <code>provided</code>."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1670246154,"post_id":74546399,"comment_id":131824605,"body_markdown":"you right @M.Deinum. I removed my last update","body":"you right @M.Deinum. I removed my last update"}],"answers":[{"tags":[],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670696584,"creation_date":1670696584,"answer_id":74755523,"question_id":74546399,"body_markdown":"It turned out to be a Nexus publishing issue. The starter component was being published with a generated pom.xml file without any dependency (without Kafka)\r\n\r\nThe issue was fixed when I published a new version pointing to a complete pom.xml file.\r\n\r\nhttps://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html","title":"Maven - transient dependency not being resolved","body":"<p>It turned out to be a Nexus publishing issue. The starter component was being published with a generated pom.xml file without any dependency (without Kafka)</p>\n<p>The issue was fixed when I published a new version pointing to a complete pom.xml file.</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html</a></p>\n"},{"tags":[],"owner":{"account_id":26548160,"reputation":1,"user_id":20177936,"display_name":"Abhishek Kumar Nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670697791,"creation_date":1670697791,"answer_id":74755675,"question_id":74546399,"body_markdown":"&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;component-starter&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;","title":"Maven - transient dependency not being resolved","body":"<p>\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.0\n \n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.starter&lt;/groupId&gt;\n&lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n&lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;component-starter&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755523,"answer_count":2,"score":0,"last_activity_date":1670697791,"creation_date":1669204503,"question_id":74546399,"body_markdown":"I created a `Spring Boot Starter Component` that depends on Kafka. \r\n\r\nWhen I use the `Starter Component` as one of the dependencies in other project it fails to start due a missing class from Kafka library:\r\n\r\n`Caused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory`\r\n\r\nIf I explicitly put Kafka as a dependency in the other project it works, but I would expect it not being necessary since Kafka is a dependency from the `Starter Component` and it should be resolved transiently \r\n\r\n\r\n**EXCEPTION**\r\n```\r\n2022-12-03T14:05:42,321 DEBUG [main] o.s.b.StartupInfoLogger: Running with Spring Boot v2.7.0, Spring v5.3.20\r\n2022-12-03T14:05:42,323 INFO  [main] o.s.b.SpringApplication: The following 1 profile is active: &quot;docker&quot;\r\n2022-12-03T14:05:43,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-03T14:05:43,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.\r\n2022-12-03T14:05:43,500 ERROR [main] o.s.b.SpringApplication: Application run failed\r\njava.lang.IllegalStateException: Error processing condition on org.starter.autoconfigure.AppConfiguration.kafkaListenerContainerFactory\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.foo.bar.Application.main(Application.java:11)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean&#39;s type failed\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n        ... 25 more\r\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.starter.autoconfigure.AppConfiguration.kafkaLi\r\nstenerContainerFactory\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\r\n        ... 27 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.getReturnType(OnBeanCondition.java:532)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:520)\r\n        ... 29 more\r\n\r\n```\r\n\r\n\r\n\r\n**STARTER COMPONENT**\r\n\r\n```\r\npackage org.starter.autoconfigure;\r\n\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\nimport org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.listener.ContainerProperties;\r\nimport org.springframework.kafka.listener.KafkaMessageListenerContainer;\r\nimport org.starter.message.MyListener;\r\n\r\n@Configuration\r\n@EnableKafka\r\npublic class AppConfiguration\r\n{\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory)\r\n    {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public KafkaMessageListenerContainer&lt;String, String&gt; messageListenerContainer(\r\n        ConsumerFactory&lt;String, String&gt; cf)\r\n    {\r\n        ContainerProperties containerProps = new ContainerProperties(&quot;my-topic&quot;);\r\n\r\n        containerProps.setMessageListener(new MyListener());\r\n\r\n        return new KafkaMessageListenerContainer&lt;&gt;(cf, containerProps);\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;component-starter&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**OTHER PROJECT**\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;main-app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;main-app&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Maven - transient dependency not being resolved","body":"<p>I created a <code>Spring Boot Starter Component</code> that depends on Kafka.</p>\n<p>When I use the <code>Starter Component</code> as one of the dependencies in other project it fails to start due a missing class from Kafka library:</p>\n<p><code>Caused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory</code></p>\n<p>If I explicitly put Kafka as a dependency in the other project it works, but I would expect it not being necessary since Kafka is a dependency from the <code>Starter Component</code> and it should be resolved transiently</p>\n<p><strong>EXCEPTION</strong></p>\n<pre><code>2022-12-03T14:05:42,321 DEBUG [main] o.s.b.StartupInfoLogger: Running with Spring Boot v2.7.0, Spring v5.3.20\n2022-12-03T14:05:42,323 INFO  [main] o.s.b.SpringApplication: The following 1 profile is active: &quot;docker&quot;\n2022-12-03T14:05:43,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-03T14:05:43,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.\n2022-12-03T14:05:43,500 ERROR [main] o.s.b.SpringApplication: Application run failed\njava.lang.IllegalStateException: Error processing condition on org.starter.autoconfigure.AppConfiguration.kafkaListenerContainerFactory\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.foo.bar.Application.main(Application.java:11)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean's type failed\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 25 more\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.starter.autoconfigure.AppConfiguration.kafkaLi\nstenerContainerFactory\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\n        ... 27 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.getReturnType(OnBeanCondition.java:532)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:520)\n        ... 29 more\n\n</code></pre>\n<p><strong>STARTER COMPONENT</strong></p>\n<pre><code>package org.starter.autoconfigure;\n\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.listener.ContainerProperties;\nimport org.springframework.kafka.listener.KafkaMessageListenerContainer;\nimport org.starter.message.MyListener;\n\n@Configuration\n@EnableKafka\npublic class AppConfiguration\n{\n    @Bean\n    @ConditionalOnMissingBean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory)\n    {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n\n        return factory;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public KafkaMessageListenerContainer&lt;String, String&gt; messageListenerContainer(\n        ConsumerFactory&lt;String, String&gt; cf)\n    {\n        ContainerProperties containerProps = new ContainerProperties(&quot;my-topic&quot;);\n\n        containerProps.setMessageListener(new MyListener());\n\n        return new KafkaMessageListenerContainer&lt;&gt;(cf, containerProps);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;component-starter&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>OTHER PROJECT</strong></p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;main-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;main-app&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.starter&lt;/groupId&gt;\n            &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670696857,"post_id":74755517,"comment_id":131935047,"body_markdown":"Do you expect `[1, 3, 4, 5]` ?","body":"Do you expect <code>[1, 3, 4, 5]</code> ?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670696919,"post_id":74755517,"comment_id":131935059,"body_markdown":"What the does `sum` comes to do here ?","body":"What the does <code>sum</code> comes to do here ?"},{"owner":{"account_id":27212831,"reputation":3,"user_id":20743363,"display_name":"PDLIF"},"score":0,"creation_date":1670697286,"post_id":74755517,"comment_id":131935140,"body_markdown":"1. Right. That&#39;s what I expect.\n\n2. The &quot;sum&quot; stands for, I&#39;d say, the difference of indexes of the elements of the initial and new arrays","body":"1. Right. That&#39;s what I expect.  2. The &quot;sum&quot; stands for, I&#39;d say, the difference of indexes of the elements of the initial and new arrays"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1670703115,"post_id":74755517,"comment_id":131936267,"body_markdown":"Does this answer your question? [Remove duplicates from integer array](https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array\">Remove duplicates from integer array</a>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1670704589,"post_id":74755517,"comment_id":131936498,"body_markdown":"Another option is to do a two pass system. In the first pass, you just count the number of items to be deleted (or not deleted), so you know how big to make your new array. Then do a second pass and copy the items that won&#39;t be deleted to the new array.","body":"Another option is to do a two pass system. In the first pass, you just count the number of items to be deleted (or not deleted), so you know how big to make your new array. Then do a second pass and copy the items that won&#39;t be deleted to the new array."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670704720,"post_id":74755517,"comment_id":131936526,"body_markdown":"Being able to use a debugger will help you now and in the long run. A debugger allows you follow the code execution step-by-step, and watch how the variables change.","body":"Being able to use a debugger will help you now and in the long run. A debugger allows you follow the code execution step-by-step, and watch how the variables change."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670697035,"creation_date":1670697035,"answer_id":74755578,"question_id":74755517,"body_markdown":"You need a position int for the new array, so you go further only when you set a new value\r\n\r\n    int[] original = {1, 2, 3, 4, 5};\r\n    int dNumber = 2;\r\n\r\n    int[] newArr = new int[original.length];\r\n    int j = 0;\r\n    for (int val : original) {\r\n        if (val != dNumber) {\r\n            newArr[j] = val;\r\n            j++;\r\n        }\r\n    }\r\n    newArr = Arrays.copyOf(newArr, j); // truncate\r\n    System.out.println(Arrays.toString(newArr));\r\n    // [1, 3, 4, 5]\r\n\r\n\r\n","title":"Program that deletes one integer (or more if there&#39;s duplicates) from an array by it&#39;s value","body":"<p>You need a position int for the new array, so you go further only when you set a new value</p>\n<pre><code>int[] original = {1, 2, 3, 4, 5};\nint dNumber = 2;\n\nint[] newArr = new int[original.length];\nint j = 0;\nfor (int val : original) {\n    if (val != dNumber) {\n        newArr[j] = val;\n        j++;\n    }\n}\nnewArr = Arrays.copyOf(newArr, j); // truncate\nSystem.out.println(Arrays.toString(newArr));\n// [1, 3, 4, 5]\n</code></pre>\n"}],"owner":{"account_id":27212831,"reputation":3,"user_id":20743363,"display_name":"PDLIF"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74755578,"answer_count":1,"score":-1,"last_activity_date":1670697575,"creation_date":1670696535,"question_id":74755517,"body_markdown":"I need to write a program, which deletes a number of elements from an int array that are equal to some int value. Eventually I should get an array that isn&#39;t bigger than the initial one.\r\n\r\nI mustn&#39;t use lists or any methods that do the deletion directly.\r\n\r\n\r\nI tried to do this this way and I can&#39;t trace the flaw. I suppose, it should be in the last &quot;for&quot; construction but I&#39;m not sure.\r\n\r\n```\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\npublic static void main(String\\[\\] args) {\r\nScanner scan = new Scanner(System.in);\r\nSystem.out.print(&quot;Array size: &quot;);\r\nint sizeInput = scan.nextInt();\r\n\r\n        int[] original = new int[sizeInput];\r\n    \r\n        System.out.print(&quot;Array itself: &quot;);\r\n        for (int i = 0; i &lt; sizeInput; i++) {\r\n            original[i] = scan.nextInt();\r\n        }\r\n    \r\n        System.out.println(&quot;Number to be deleted: &quot;);\r\n        int dNumber = scan.nextInt();\r\n    \r\n        int[] newArr = new int[original.length];\r\n    \r\n        for (int i = 0; i &lt; original.length - 1; i++) {\r\n            int sum = 0;\r\n            if (original[i] == dNumber) {\r\n                newArr[i] = original[i + 1];\r\n                sum = sum + 1;\r\n            } else if (original[i] != dNumber) {\r\n                newArr[i] = original[i + sum];\r\n            } \r\n        }\r\n        System.out.println(Arrays.toString(newArr));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand here&#39;s what I got in my console eventually:\r\n\r\n    Array size: 5\r\n    Array itself: 1 2 3 4 5\r\n    Number to be deleted: 2\r\n    \\[1, 3, 3, 4, 0\\]\r\n\r\nYou see? In the output I get the second &quot;3&quot; for some reason and I also don&#39;t get why there&#39;s no last element of the initial array.\r\n\r\nPlease, explain what wrote wrong so that my code doesn&#39;t solve the problem. And please explain ho can I solve It. Thanks!\r\n","title":"Program that deletes one integer (or more if there&#39;s duplicates) from an array by it&#39;s value","body":"<p>I need to write a program, which deletes a number of elements from an int array that are equal to some int value. Eventually I should get an array that isn't bigger than the initial one.</p>\n<p>I mustn't use lists or any methods that do the deletion directly.</p>\n<p>I tried to do this this way and I can't trace the flaw. I suppose, it should be in the last &quot;for&quot; construction but I'm not sure.</p>\n<pre><code>\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class App {\npublic static void main(String\\[\\] args) {\nScanner scan = new Scanner(System.in);\nSystem.out.print(&quot;Array size: &quot;);\nint sizeInput = scan.nextInt();\n\n        int[] original = new int[sizeInput];\n    \n        System.out.print(&quot;Array itself: &quot;);\n        for (int i = 0; i &lt; sizeInput; i++) {\n            original[i] = scan.nextInt();\n        }\n    \n        System.out.println(&quot;Number to be deleted: &quot;);\n        int dNumber = scan.nextInt();\n    \n        int[] newArr = new int[original.length];\n    \n        for (int i = 0; i &lt; original.length - 1; i++) {\n            int sum = 0;\n            if (original[i] == dNumber) {\n                newArr[i] = original[i + 1];\n                sum = sum + 1;\n            } else if (original[i] != dNumber) {\n                newArr[i] = original[i + sum];\n            } \n        }\n        System.out.println(Arrays.toString(newArr));\n    }\n\n}\n\n</code></pre>\n<p>and here's what I got in my console eventually:</p>\n<pre><code>Array size: 5\nArray itself: 1 2 3 4 5\nNumber to be deleted: 2\n\\[1, 3, 3, 4, 0\\]\n</code></pre>\n<p>You see? In the output I get the second &quot;3&quot; for some reason and I also don't get why there's no last element of the initial array.</p>\n<p>Please, explain what wrote wrong so that my code doesn't solve the problem. And please explain ho can I solve It. Thanks!</p>\n"},{"tags":["java","permutation"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670696901,"post_id":74754510,"comment_id":131935055,"body_markdown":"It not clear should all the resulting permutations include a substring `CE`, or those that contain `EC` also required. Please add the desired output, as well as the output your code produces.","body":"It not clear should all the resulting permutations include a substring <code>CE</code>, or those that contain <code>EC</code> also required. Please add the desired output, as well as the output your code produces."}],"owner":{"account_id":27212033,"reputation":1,"user_id":20742693,"display_name":"Suhayb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670697237,"creation_date":1670688413,"question_id":74754510,"body_markdown":"I am trying to find a way to get all permutations of ABCDEF but C and E should be side by side of each other how can I do so using Java?\r\n\r\nI tried using this method but I am not getting the desired op\r\n\r\n    public class PUJ {\r\n    \r\n    \t\r\n    \t{\r\n    \r\n    \t\t// If string is empty\r\n    \t\tif (str.length() == 0) {\r\n    \t\t\tSystem.out.print(ans + &quot; &quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \r\n    \t\t\t// ith character of str\r\n    \t\t\tchar ch = str.charAt(i);\r\n    \r\n    \t\t\t// Rest of the string after excluding\r\n    \t\t\t// the ith character\r\n    \t\t\t\r\n    \t\t\tString ros = str.substring(0, i) +\r\n    \t\t\t\t\t\tstr.substring(i + 1);\r\n    \r\n    \t\t\t// Recursive call\r\n    \t\t\tprintPermutn(ros, ans + ch);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Driver code\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString s = &quot;ABCDEF&quot;;\r\n    \t\tif(s.charAt(i)==C &amp;&amp; s.charAt(i+1)==E){\r\n    \t\tprintPermutn(s, &quot;&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Permutations in Java with Conditions","body":"<p>I am trying to find a way to get all permutations of ABCDEF but C and E should be side by side of each other how can I do so using Java?</p>\n<p>I tried using this method but I am not getting the desired op</p>\n<pre><code>public class PUJ {\n\n    \n    {\n\n        // If string is empty\n        if (str.length() == 0) {\n            System.out.print(ans + &quot; &quot;);\n            return;\n        }\n\n        for (int i = 0; i &lt; str.length(); i++) {\n\n            // ith character of str\n            char ch = str.charAt(i);\n\n            // Rest of the string after excluding\n            // the ith character\n            \n            String ros = str.substring(0, i) +\n                        str.substring(i + 1);\n\n            // Recursive call\n            printPermutn(ros, ans + ch);\n            \n        }\n    }\n\n    // Driver code\n    public static void main(String[] args)\n    {\n        String s = &quot;ABCDEF&quot;;\n        if(s.charAt(i)==C &amp;&amp; s.charAt(i+1)==E){\n        printPermutn(s, &quot;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":2,"creation_date":1670797283,"post_id":74755503,"comment_id":131950885,"body_markdown":"I think wiremock is the thing you&#39;re looking for. https://wiremock.org/","body":"I think wiremock is the thing you&#39;re looking for. <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock.org</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1670840119,"post_id":74755503,"comment_id":131958152,"body_markdown":"As Lucas mentioned, you need some sort of mocking framework to return predifined response in this case. Wiremock or Mockito are both fine for this case.","body":"As Lucas mentioned, you need some sort of mocking framework to return predifined response in this case. Wiremock or Mockito are both fine for this case."}],"owner":{"account_id":13546114,"reputation":73,"user_id":10944459,"display_name":"Jonathan Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670696448,"creation_date":1670696448,"question_id":74755503,"body_markdown":"I&#39;m using rest assured to develop test integrations, inside these there are calls to other microservices.\r\nThere are test scenarios where I really wouldn&#39;t want to call these microservices and for those cases I would like to simulate the return in a file with the expected json.\r\nIs there any way to do this?","title":"Rest assured - Create Json file with expected return from an API called internally in test","body":"<p>I'm using rest assured to develop test integrations, inside these there are calls to other microservices.\nThere are test scenarios where I really wouldn't want to call these microservices and for those cases I would like to simulate the return in a file with the expected json.\nIs there any way to do this?</p>\n"},{"tags":["java","selenium","interface"],"answers":[{"tags":[],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670696258,"creation_date":1670696258,"answer_id":74755487,"question_id":74754516,"body_markdown":"I found the solution. There were two IReporter classes. I simply had to cast the procedures to the correct IReporter, like so:\r\n```\r\n((automation.IReporter)Browser.getReporter().reportDone(String.format(...\r\n```","title":"Cannot resolve method in calling class, but method exists (and compiles) in both the interface and implementation classes","body":"<p>I found the solution. There were two IReporter classes. I simply had to cast the procedures to the correct IReporter, like so:</p>\n<pre><code>((automation.IReporter)Browser.getReporter().reportDone(String.format(...\n</code></pre>\n"}],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670696258,"creation_date":1670688433,"question_id":74754516,"body_markdown":"I&#39;m writing a suite of Selenium tests in Java. Part of the program relies on a class called ```ResponseInterceptor.java```, which uses methods from both my ```IReporter.java``` interface and ```Reporter.java``` implementation class. I am getting a ```Cannot resolve method &quot;reportDone&quot; in &quot;IReporter&quot;``` error. The problem is that ```reportDone()``` exists, and compiles, in both the interface and the implementation class. I have made sure the given paramenters match the method signature. I have also tried importing ```IReporter``` and ```Reporter```, but this did not work either. In addition, I created a new method in the interface, implemented it, and called it from ```ResponseInterceptor```, and the new method works just fine. This made me think that if I just copied the method and gave it a new name, implementing and calling it the same way as ```reportDone()```, that would work. It did not. The files are all in the same directory, if that matters.\r\n\r\nHere is the method call in ```ResponseInterceptor```:\r\n```\r\nBrowser.getReporter().reportDone(String.format(&quot;Response: %s&quot;, responseCode),\r\n    String.format(&quot;StatusCode= %s :: URL= %s :: Header= %s :: Body= %s&quot;, statusCode, url, headers, responseBody));\r\n```\r\n\r\nHere is its definition in ```IReporter```:\r\n```\r\nvoid reportDone(String stepName, String stepDescription);\r\n```\r\n\r\nHere is its implementation in ```Reporter```:\r\n```\r\npublic void reportDone(String stepName, String stepDescription) {\r\n    report.updateTestLog(stepName, stepDescription, Status.DONE);\r\n}\r\n```","title":"Cannot resolve method in calling class, but method exists (and compiles) in both the interface and implementation classes","body":"<p>I'm writing a suite of Selenium tests in Java. Part of the program relies on a class called <code>ResponseInterceptor.java</code>, which uses methods from both my <code>IReporter.java</code> interface and <code>Reporter.java</code> implementation class. I am getting a <code>Cannot resolve method &quot;reportDone&quot; in &quot;IReporter&quot;</code> error. The problem is that <code>reportDone()</code> exists, and compiles, in both the interface and the implementation class. I have made sure the given paramenters match the method signature. I have also tried importing <code>IReporter</code> and <code>Reporter</code>, but this did not work either. In addition, I created a new method in the interface, implemented it, and called it from <code>ResponseInterceptor</code>, and the new method works just fine. This made me think that if I just copied the method and gave it a new name, implementing and calling it the same way as <code>reportDone()</code>, that would work. It did not. The files are all in the same directory, if that matters.</p>\n<p>Here is the method call in <code>ResponseInterceptor</code>:</p>\n<pre><code>Browser.getReporter().reportDone(String.format(&quot;Response: %s&quot;, responseCode),\n    String.format(&quot;StatusCode= %s :: URL= %s :: Header= %s :: Body= %s&quot;, statusCode, url, headers, responseBody));\n</code></pre>\n<p>Here is its definition in <code>IReporter</code>:</p>\n<pre><code>void reportDone(String stepName, String stepDescription);\n</code></pre>\n<p>Here is its implementation in <code>Reporter</code>:</p>\n<pre><code>public void reportDone(String stepName, String stepDescription) {\n    report.updateTestLog(stepName, stepDescription, Status.DONE);\n}\n</code></pre>\n"},{"tags":["java","spring","authentication"],"owner":{"account_id":25879453,"reputation":21,"user_id":19608811,"display_name":"Petar Petrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670696226,"creation_date":1670696226,"question_id":74755485,"body_markdown":"I&#39;m building a website with Spring Security and when I click on the login button on my custom login page, a new tab ALWAYS opens where the user is redirected to Homepage.\r\n\r\n\r\n\r\n\r\nI want the login button to redirect to the home page in the same tab.\r\n\r\nWhat I&#39;ve tried:\r\n\r\n1. Checking if I have set target=&#39;_blank&#39; on the form or the button. - No, nowhere!\r\n2. Manually setting target=_self\r\n3. Opening from 3 different browsers\r\n\r\nIt started out of the blue without me seemingly changing any configs or the login page itself.\r\n\r\nI guess it could be something non code-related but I can&#39;t figure it out.","title":"Clicking the login button always loads the page in new tab - Spring Security","body":"<p>I'm building a website with Spring Security and when I click on the login button on my custom login page, a new tab ALWAYS opens where the user is redirected to Homepage.</p>\n<p>I want the login button to redirect to the home page in the same tab.</p>\n<p>What I've tried:</p>\n<ol>\n<li>Checking if I have set target='_blank' on the form or the button. - No, nowhere!</li>\n<li>Manually setting target=_self</li>\n<li>Opening from 3 different browsers</li>\n</ol>\n<p>It started out of the blue without me seemingly changing any configs or the login page itself.</p>\n<p>I guess it could be something non code-related but I can't figure it out.</p>\n"},{"tags":["java","dictionary","nlp","lexical","pluralize"],"comments":[{"owner":{"display_name":"user557219"},"score":1,"creation_date":1304661117,"post_id":5907296,"comment_id":6799984,"body_markdown":"For which natural languages, and which programming languages?","body":"For which natural languages, and which programming languages?"},{"owner":{"display_name":"user557219"},"score":3,"creation_date":1304661407,"post_id":5907296,"comment_id":6800032,"body_markdown":"Also, the plural forms of cactus are cacti (single i) and cactuses according to the New Oxford American Dictionary.","body":"Also, the plural forms of cactus are cacti (single i) and cactuses according to the New Oxford American Dictionary."},{"owner":{"account_id":46092,"reputation":14701,"user_id":136088,"accept_rate":76,"display_name":"Joe"},"score":0,"creation_date":1304661556,"post_id":5907296,"comment_id":6800067,"body_markdown":"We are looking at words in the English language and our programming environment is based on Java","body":"We are looking at words in the English language and our programming environment is based on Java"},{"owner":{"display_name":"user557219"},"score":1,"creation_date":1304661966,"post_id":5907296,"comment_id":6800132,"body_markdown":"Iâm not sure whether there is a library for Java. In case there isnât, a good starting point is the Lingua::EN::Inflect Perl module, available [here](http://search.cpan.org/~dconway/Lingua-EN-Inflect-1.893/lib/Lingua/EN/Inflect.pm). Hopefully someoneâs ported Inflect to Java.","body":"Iâm not sure whether there is a library for Java. In case there isnât, a good starting point is the Lingua::EN::Inflect Perl module, available <a href=\"http://search.cpan.org/~dconway/Lingua-EN-Inflect-1.893/lib/Lingua/EN/Inflect.pm\" rel=\"nofollow noreferrer\">here</a>. Hopefully someoneâs ported Inflect to Java."}],"answers":[{"tags":[],"owner":{"account_id":380333,"reputation":758,"user_id":734276,"display_name":"Nirmit Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304664988,"creation_date":1304664988,"answer_id":5907858,"question_id":5907296,"body_markdown":"Its hard to find this kind of API. rather you need to find out some websservice which can serve your purpose. Check [this][1]. I am not sure if this can help you..\r\n(I tried to put word cacti and got cactus somewhere in the response).\r\n\r\n\r\n  [1]: http://services.aonaware.com/DictService/","title":"Java API for plural forms of English words","body":"<p>Its hard to find this kind of API. rather you need to find out some websservice which can serve your purpose. Check <a href=\"http://services.aonaware.com/DictService/\" rel=\"nofollow\">this</a>. I am not sure if this can help you..\n(I tried to put word cacti and got cactus somewhere in the response).</p>\n"},{"tags":[],"owner":{"account_id":300494,"reputation":13934,"user_id":607655,"accept_rate":81,"display_name":"Meng Lu"},"down_vote_count":6,"up_vote_count":6,"is_accepted":true,"score":0,"last_activity_date":1424899278,"creation_date":1307596452,"answer_id":6288368,"question_id":5907296,"body_markdown":"Wolfram|Alpha return a list of inflection forms for a given word.\r\n\r\nSee this as an example:\r\n\r\n   http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms\r\n\r\nAnd here is their API:\r\n\r\n   http://products.wolframalpha.com/api/","title":"Java API for plural forms of English words","body":"<p>Wolfram|Alpha return a list of inflection forms for a given word.</p>\n\n<p>See this as an example:</p>\n\n<p><a href=\"http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms\" rel=\"nofollow\">http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms</a></p>\n\n<p>And here is their API:</p>\n\n<p><a href=\"http://products.wolframalpha.com/api/\" rel=\"nofollow\">http://products.wolframalpha.com/api/</a></p>\n"},{"tags":[],"owner":{"account_id":90664,"reputation":18330,"user_id":249460,"accept_rate":97,"display_name":"Gabriel Å Äerb&#225;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309002194,"creation_date":1309002194,"answer_id":6477502,"question_id":5907296,"body_markdown":"I know there is simple pluralize() function in Ruby on Rails, maybe you could get that through JRuby. The problem really isn&#39;t easy, I saw pages of rules on how to pluralize and it wasn&#39;t even complete. Some rules are not algorithmic - they depend on stem origin etc. which isn&#39;t easily obtained. So you have to decide how perfect you want to be.","title":"Java API for plural forms of English words","body":"<p>I know there is simple pluralize() function in Ruby on Rails, maybe you could get that through JRuby. The problem really isn't easy, I saw pages of rules on how to pluralize and it wasn't even complete. Some rules are not algorithmic - they depend on stem origin etc. which isn't easily obtained. So you have to decide how perfect you want to be.</p>\n"},{"tags":[],"owner":{"account_id":1129788,"reputation":1470,"user_id":1116153,"display_name":"SÅawek"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1527061418,"creation_date":1326180610,"answer_id":8799906,"question_id":5907296,"body_markdown":"Check [Evo Inflector][1] which implements English pluralization algorithm based on Damian Conway paper &quot;[An Algorithmic Approach to English Pluralization][2]&quot;.\r\nThe library is tested against data from Wiktionary and reports 100% success rate for 1000 most used English words and 70% success rate for all the words listed in Wiktionary.\r\n\r\nIf you want even more accuracy you can take Wiktionary dump and parse it to create the database of singular to plural mappings. Take into account that due to the open nature of Wiktionary some data there might by incorrect.\r\n\r\n## Example Usage:\r\n\r\n    English.plural(&quot;Facility&quot;, 1)); // == &quot;Facility&quot;\r\n    English.plural(&quot;Facility&quot;, 2)); // == &quot;Facilities&quot;\r\n\r\n\r\n  [1]: https://github.com/atteo/evo-inflector &quot;Evo Inflector&quot;\r\n  [2]: http://users.monash.edu/~damian/papers/HTML/Plurals.html\r\n ","title":"Java API for plural forms of English words","body":"<p>Check <a href=\"https://github.com/atteo/evo-inflector\" rel=\"noreferrer\" title=\"Evo Inflector\">Evo Inflector</a> which implements English pluralization algorithm based on Damian Conway paper \"<a href=\"http://users.monash.edu/~damian/papers/HTML/Plurals.html\" rel=\"noreferrer\">An Algorithmic Approach to English Pluralization</a>\".\nThe library is tested against data from Wiktionary and reports 100% success rate for 1000 most used English words and 70% success rate for all the words listed in Wiktionary.</p>\n\n<p>If you want even more accuracy you can take Wiktionary dump and parse it to create the database of singular to plural mappings. Take into account that due to the open nature of Wiktionary some data there might by incorrect.</p>\n\n<h2>Example Usage:</h2>\n\n<pre><code>English.plural(\"Facility\", 1)); // == \"Facility\"\nEnglish.plural(\"Facility\", 2)); // == \"Facilities\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541424,"reputation":443,"user_id":909962,"accept_rate":100,"display_name":"Sebastian Schmitt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326206589,"creation_date":1326206589,"answer_id":8805079,"question_id":5907296,"body_markdown":"considering java, have a look at [modeshapes][1] Inflector-Class as member of the package *org.modeshape.common.text*. Or google for &quot;inflector&quot; and &quot;randall hauch&quot;.\r\n \r\n\r\n\r\n[1]: http://www.jboss.org/modeshape","title":"Java API for plural forms of English words","body":"<p>considering java, have a look at <a href=\"http://www.jboss.org/modeshape\" rel=\"nofollow\">modeshapes</a> Inflector-Class as member of the package <em>org.modeshape.common.text</em>. Or google for \"inflector\" and \"randall hauch\".</p>\n"},{"tags":[],"owner":{"account_id":240022,"reputation":27037,"user_id":510017,"accept_rate":88,"display_name":"Jonathan Schneider"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388178771,"creation_date":1388178771,"answer_id":20807898,"question_id":5907296,"body_markdown":"[jibx-tools][1] provides a convenient pluralizer/depluralizer.\r\n\r\n**Groovy test:**\r\n\r\n    NameConverter nameTools = new DefaultNameConverter();\r\n    assert nameTools.depluralize(&quot;apples&quot;) == &quot;apple&quot;\r\n    nameTools.pluralize(&quot;apple&quot;) == &quot;apples&quot;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.jibx/jibx-tools","title":"Java API for plural forms of English words","body":"<p><a href=\"http://mvnrepository.com/artifact/org.jibx/jibx-tools\" rel=\"noreferrer\">jibx-tools</a> provides a convenient pluralizer/depluralizer.</p>\n\n<p><strong>Groovy test:</strong></p>\n\n<pre><code>NameConverter nameTools = new DefaultNameConverter();\nassert nameTools.depluralize(\"apples\") == \"apple\"\nnameTools.pluralize(\"apple\") == \"apples\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5863967,"reputation":17161,"user_id":4797603,"accept_rate":62,"display_name":"Ronnie Royston"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504576745,"creation_date":1504576745,"answer_id":46045995,"question_id":5907296,"body_markdown":"If you can harness javascript, I created a lightweight (7.19 KB) javascript for this. Or you could port my script over to Java. Very easy to use:\r\n\r\n    pluralizer.run(&#39;goose&#39;) --&gt; &#39;geese&#39;\r\n    pluralizer.run(&#39;deer&#39;) --&gt; &#39;deer&#39;\r\n    pluralizer.run(&#39;can&#39;) --&gt; &#39;cans&#39;\r\n\r\nhttps://github.com/rhroyston/pluralizer-js\r\n\r\nBTW: It looks like cacti to cactus is a super special conversion (most ppl are going to say &#39;1 cactus&#39; anyway). Easy to add that if you want to. The source code is easy to read / update.","title":"Java API for plural forms of English words","body":"<p>If you can harness javascript, I created a lightweight (7.19 KB) javascript for this. Or you could port my script over to Java. Very easy to use:</p>\n\n<pre><code>pluralizer.run('goose') --&gt; 'geese'\npluralizer.run('deer') --&gt; 'deer'\npluralizer.run('can') --&gt; 'cans'\n</code></pre>\n\n<p><a href=\"https://github.com/rhroyston/pluralizer-js\" rel=\"nofollow noreferrer\">https://github.com/rhroyston/pluralizer-js</a></p>\n\n<p>BTW: It looks like cacti to cactus is a super special conversion (most ppl are going to say '1 cactus' anyway). Easy to add that if you want to. The source code is easy to read / update.</p>\n"}],"owner":{"account_id":46092,"reputation":14701,"user_id":136088,"accept_rate":76,"display_name":"Joe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21921,"favorite_count":0,"down_vote_count":3,"up_vote_count":36,"accepted_answer_id":6288368,"answer_count":7,"score":33,"last_activity_date":1670694908,"creation_date":1304660989,"question_id":5907296,"body_markdown":"Are there any Java API(s) which will provide plural form of English words (e.g. `cacti` for `cactus`)?","title":"Java API for plural forms of English words","body":"<p>Are there any Java API(s) which will provide plural form of English words (e.g. <code>cacti</code> for <code>cactus</code>)?</p>\n"},{"tags":["java","spring","sftp","spring-integration-sftp"],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670694550,"creation_date":1670694550,"question_id":74755272,"body_markdown":"I have a ResourceFileDownloader for sftpAdapter in Spring and i want to past different filename to get different file. \r\n\r\n```\r\n@Configuration\r\n@EnableIntegration\r\npublic class ResourceFileDownloader\r\n{\r\n   private final String host;\r\n   private final int port;\r\n   private final String username;\r\n   private final String password;\r\n   private final String fileDirectory;\r\n\r\n   public ResourceFileDownloader(@Value(&quot;${resourceprovider.host}&quot;) String host,\r\n                                 @Value(&quot;${resourceprovider.port}&quot;) String port,\r\n                                 @Value(&quot;${resourceprovider.user}&quot;) String username,\r\n                                 @Value(&quot;${resourceprovider.password}&quot;) String password,\r\n                                 @Value(&quot;${resourceprovider.directory}&quot;) String fileDirectory)\r\n   {\r\n      this.host = host;\r\n      this.port = Integer.parseInt(port);\r\n      this.username = username;\r\n      this.password = password;\r\n      this.fileDirectory = fileDirectory;\r\n   }\r\n\r\n   @Bean\r\n   public SessionFactory&lt;ChannelSftp.LsEntry&gt; sftpSessionFactory()\r\n   {\r\n      DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n      factory.setHost(this.host);\r\n      factory.setPort(this.port);\r\n      factory.setUser(this.username);\r\n      factory.setPassword(this.password);\r\n      factory.setAllowUnknownKeys(true);\r\n      return new CachingSessionFactory&lt;&gt;(factory);\r\n   }\r\n\r\n   @Bean\r\n   public SftpRemoteFileTemplate template()\r\n   {\r\n      return new SftpRemoteFileTemplate(sftpSessionFactory());\r\n   }\r\n\r\n   @Bean\r\n   @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;30000&quot;))\r\n   public MessageSource&lt;InputStream&gt; sftpMessageSource()\r\n   {\r\n      SftpStreamingMessageSource source = new SftpStreamingMessageSource(template());\r\n      source.setRemoteDirectory(this.fileDirectory);\r\n      source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));\r\n      source.setMaxFetchSize(1);\r\n      return source;\r\n   }\r\n\r\n   @Bean(name = &quot;sftpChannel&quot;)\r\n   public MessageChannel fromSftpChannel()\r\n   {\r\n      return new PublishSubscribeChannel();\r\n   }\r\n```\r\n\r\nHow to configure sftpAdapter to past different fileName into `source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));`\r\n\r\ni use: `implementation &quot;org.springframework.integration:spring-integration-sftp:5.5.15&quot;`","title":"sftpAdapter past different filename","body":"<p>I have a ResourceFileDownloader for sftpAdapter in Spring and i want to past different filename to get different file.</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class ResourceFileDownloader\n{\n   private final String host;\n   private final int port;\n   private final String username;\n   private final String password;\n   private final String fileDirectory;\n\n   public ResourceFileDownloader(@Value(&quot;${resourceprovider.host}&quot;) String host,\n                                 @Value(&quot;${resourceprovider.port}&quot;) String port,\n                                 @Value(&quot;${resourceprovider.user}&quot;) String username,\n                                 @Value(&quot;${resourceprovider.password}&quot;) String password,\n                                 @Value(&quot;${resourceprovider.directory}&quot;) String fileDirectory)\n   {\n      this.host = host;\n      this.port = Integer.parseInt(port);\n      this.username = username;\n      this.password = password;\n      this.fileDirectory = fileDirectory;\n   }\n\n   @Bean\n   public SessionFactory&lt;ChannelSftp.LsEntry&gt; sftpSessionFactory()\n   {\n      DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n      factory.setHost(this.host);\n      factory.setPort(this.port);\n      factory.setUser(this.username);\n      factory.setPassword(this.password);\n      factory.setAllowUnknownKeys(true);\n      return new CachingSessionFactory&lt;&gt;(factory);\n   }\n\n   @Bean\n   public SftpRemoteFileTemplate template()\n   {\n      return new SftpRemoteFileTemplate(sftpSessionFactory());\n   }\n\n   @Bean\n   @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;30000&quot;))\n   public MessageSource&lt;InputStream&gt; sftpMessageSource()\n   {\n      SftpStreamingMessageSource source = new SftpStreamingMessageSource(template());\n      source.setRemoteDirectory(this.fileDirectory);\n      source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));\n      source.setMaxFetchSize(1);\n      return source;\n   }\n\n   @Bean(name = &quot;sftpChannel&quot;)\n   public MessageChannel fromSftpChannel()\n   {\n      return new PublishSubscribeChannel();\n   }\n</code></pre>\n<p>How to configure sftpAdapter to past different fileName into <code>source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));</code></p>\n<p>i use: <code>implementation &quot;org.springframework.integration:spring-integration-sftp:5.5.15&quot;</code></p>\n"},{"tags":["java","mysql","database","export"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670695809,"post_id":74755080,"comment_id":131934827,"body_markdown":"Export to csv, spreadsheet are quite different from export to sql. In the first case, you&#39;re getting the data. In the second case, if you use something like mysqldump, you are getting the data *and* the metadata, such that the table/database can be recreated in such a way that it can be reused","body":"Export to csv, spreadsheet are quite different from export to sql. In the first case, you&#39;re getting the data. In the second case, if you use something like mysqldump, you are getting the data <i>and</i> the metadata, such that the table/database can be recreated in such a way that it can be reused"}],"answers":[{"tags":[],"owner":{"account_id":17123397,"reputation":137,"user_id":12391137,"display_name":"Rashmi Shehana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670693669,"creation_date":1670693669,"answer_id":74755172,"question_id":74755080,"body_markdown":"You can run your .sql file with [ScriptRunner][1].\r\n\r\n\r\n  [1]: https://ibatis.apache.org/docs/java/dev/com/ibatis/common/jdbc/ScriptRunner.html\r\n\r\nHere is the way you can use it.\r\n\r\n    Connection conn=getConnection();//some method to get a Connection\r\n    ScriptRunner runner=new ScriptRunner(conn, false, false);\r\n    InputStreamReader reader = new InputStreamReader(new \r\n    FileInputStream(&quot;foo.sql&quot;));\r\n    runner.runScript(reader);\r\n    reader.close();\r\n    conn.close();","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>You can run your .sql file with <a href=\"https://ibatis.apache.org/docs/java/dev/com/ibatis/common/jdbc/ScriptRunner.html\" rel=\"nofollow noreferrer\">ScriptRunner</a>.</p>\n<p>Here is the way you can use it.</p>\n<pre><code>Connection conn=getConnection();//some method to get a Connection\nScriptRunner runner=new ScriptRunner(conn, false, false);\nInputStreamReader reader = new InputStreamReader(new \nFileInputStream(&quot;foo.sql&quot;));\nrunner.runScript(reader);\nreader.close();\nconn.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26737356,"reputation":26,"user_id":20338708,"display_name":"Akhil suryam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670693961,"creation_date":1670693961,"answer_id":74755202,"question_id":74755080,"body_markdown":"you can use mysqldump command this can be used via Runtime.getRuntime().exec()\r\n\r\n    String command = &quot;mysqldump -u username -p password database_name table_name&quot;;\r\n    \r\n    Process p = Runtime.getRuntime().exec(command);\r\n\r\n    $command = &quot;mysqldump -u username -p password database_name table_name&quot;;\r\n    \r\n    system($command);\r\n\r\nor else u can go for mysqli approach\r\n\r\n    // Connect to the database\r\n    $mysqli = new mysqli(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;, &quot;database_name&quot;);\r\n    \r\n    // Check for errors\r\n    if ($mysqli-&gt;connect_error) {\r\n        die(&quot;Connection failed: &quot; . $mysqli-&gt;connect_error);\r\n    }\r\n    \r\n    // Get the data from the table\r\n    $result = $mysqli-&gt;query(&quot;SELECT * FROM table_name&quot;);\r\n    \r\n    // Loop through the data and write it to a file or format it as desired\r\n    while ($row = $result-&gt;fetch_assoc()) {\r\n        // Write the data to a file or format it as desired\r\n    }\r\n    \r\n    // Close the connection\r\n    $mysqli-&gt;close();\r\n\r\n","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>you can use mysqldump command this can be used via Runtime.getRuntime().exec()</p>\n<pre><code>String command = &quot;mysqldump -u username -p password database_name table_name&quot;;\n\nProcess p = Runtime.getRuntime().exec(command);\n\n$command = &quot;mysqldump -u username -p password database_name table_name&quot;;\n\nsystem($command);\n</code></pre>\n<p>or else u can go for mysqli approach</p>\n<pre><code>// Connect to the database\n$mysqli = new mysqli(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;, &quot;database_name&quot;);\n\n// Check for errors\nif ($mysqli-&gt;connect_error) {\n    die(&quot;Connection failed: &quot; . $mysqli-&gt;connect_error);\n}\n\n// Get the data from the table\n$result = $mysqli-&gt;query(&quot;SELECT * FROM table_name&quot;);\n\n// Loop through the data and write it to a file or format it as desired\nwhile ($row = $result-&gt;fetch_assoc()) {\n    // Write the data to a file or format it as desired\n}\n\n// Close the connection\n$mysqli-&gt;close();\n</code></pre>\n"}],"owner":{"account_id":23554378,"reputation":36,"user_id":17596593,"display_name":"Kaput"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755202,"answer_count":2,"score":0,"last_activity_date":1670693961,"creation_date":1670692961,"question_id":74755080,"body_markdown":"Before anything, thanks you, english isn&#39;t my native language and i&#39;m sorry for any mitsake i would make. If my question is stupid, i&#39;m sorry too.\r\n\r\nI&#39;m making an application, that allow to export some tables in different format csv: no problem, xls: same, however SQL require more than putting some &quot;,&quot;, Using PHPMyAdmin i noticed i can export the db directly in SQL, is their a way to directly get this sql code? I said in java as the app is in java, but ofc it might required something else and that&#39;s not an issue.\r\n\r\nAnyways, thanks for going through my messy explanation, have a nice day.\r\n","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>Before anything, thanks you, english isn't my native language and i'm sorry for any mitsake i would make. If my question is stupid, i'm sorry too.</p>\n<p>I'm making an application, that allow to export some tables in different format csv: no problem, xls: same, however SQL require more than putting some &quot;,&quot;, Using PHPMyAdmin i noticed i can export the db directly in SQL, is their a way to directly get this sql code? I said in java as the app is in java, but ofc it might required something else and that's not an issue.</p>\n<p>Anyways, thanks for going through my messy explanation, have a nice day.</p>\n"},{"tags":["javascript","java","html","calculation"],"comments":[{"owner":{"account_id":280047,"reputation":118293,"user_id":575527,"accept_rate":86,"display_name":"Joseph"},"score":1,"creation_date":1670692210,"post_id":74754959,"comment_id":131934080,"body_markdown":"Need more information on what you mean by &quot;without decimals&quot;. Do you intend to Round up? Round down? Round off?","body":"Need more information on what you mean by &quot;without decimals&quot;. Do you intend to Round up? Round down? Round off?"},{"owner":{"account_id":22068492,"reputation":1,"user_id":16329919,"display_name":"Rafael Fu"},"score":0,"creation_date":1670692444,"post_id":74754959,"comment_id":131934117,"body_markdown":"Check out this answer: https://stackoverflow.com/questions/7641818/how-can-i-remove-the-decimal-part-from-javascript-number","body":"Check out this answer: <a href=\"https://stackoverflow.com/questions/7641818/how-can-i-remove-the-decimal-part-from-javascript-number\" title=\"how can i remove the decimal part from javascript number\">stackoverflow.com/questions/7641818/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27209150,"reputation":1,"user_id":20740229,"display_name":"Julien Poirier WebDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670693219,"creation_date":1670693070,"answer_id":74755094,"question_id":74754959,"body_markdown":"In Javascript, you could remove decimals with severals solutions !\r\n\r\nThe parseInt() function is the slower (!).\r\n\r\n```js\r\nlet myNumber = 5.0214;\r\nlet myOtherNumber = 5.9;\r\n\r\n// With Math.floor() method \r\nlet myNymberWithoutDecimals = Math.floor(myNumber) // 5\r\nlet myOtherWithoutDecimals = Math.floor(myOtherNumber)  // 5\r\n\r\n// With Math.round() method\r\nlet myNymberWithoutDecimals = Math.round(myNumber) // 5\r\nlet myOtherWithoutDecimals = Math.round(myOtherNumber)  // 6\r\n\r\n// with parseInt()\r\nlet myNymberWithoutDecimals = parseInt(myNumber) // 5\r\nlet myOtherWithoutDecimals = parseInt(myOtherNumber)  // 5\r\n\r\n// with toFixed(number)\r\nmyNumber.toFixed(2) // 5.02\r\nmyNumber.toFixed(1) // 5.0\r\nmyNumber.toFixed() // 5\r\n\r\n\r\n```\r\n\r\nWith your example : \r\n\r\n```js\r\n function do_on_range_change_pages() {\r\n\r\n      $(&#39;.betrag&#39;).text(pages);\r\n\r\n  $(&#39;.name1&#39;).text((pages * 0.001).toFixed());\r\n  $(&#39;.name2&#39;).text((pages * 0.03).toFixed());\r\n  $(&#39;.name3&#39;).text((pages / 22).toFixed());\r\n\r\n  }\r\n\r\n```\r\n\r\nBetter advice : new to JS ? Try to use google. \r\n\r\nMy research : https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/\r\n\r\nTry https://beta.sayhello.so/, this search engine could find snippets :) !\r\n\r\nHave a nice day :)\r\n","title":"How can i make the calculation not display decimals?","body":"<p>In Javascript, you could remove decimals with severals solutions !</p>\n<p>The parseInt() function is the slower (!).</p>\n<pre class=\"lang-js prettyprint-override\"><code>let myNumber = 5.0214;\nlet myOtherNumber = 5.9;\n\n// With Math.floor() method \nlet myNymberWithoutDecimals = Math.floor(myNumber) // 5\nlet myOtherWithoutDecimals = Math.floor(myOtherNumber)  // 5\n\n// With Math.round() method\nlet myNymberWithoutDecimals = Math.round(myNumber) // 5\nlet myOtherWithoutDecimals = Math.round(myOtherNumber)  // 6\n\n// with parseInt()\nlet myNymberWithoutDecimals = parseInt(myNumber) // 5\nlet myOtherWithoutDecimals = parseInt(myOtherNumber)  // 5\n\n// with toFixed(number)\nmyNumber.toFixed(2) // 5.02\nmyNumber.toFixed(1) // 5.0\nmyNumber.toFixed() // 5\n\n\n</code></pre>\n<p>With your example :</p>\n<pre class=\"lang-js prettyprint-override\"><code> function do_on_range_change_pages() {\n\n      $('.betrag').text(pages);\n\n  $('.name1').text((pages * 0.001).toFixed());\n  $('.name2').text((pages * 0.03).toFixed());\n  $('.name3').text((pages / 22).toFixed());\n\n  }\n\n</code></pre>\n<p>Better advice : new to JS ? Try to use google.</p>\n<p>My research : <a href=\"https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/\" rel=\"nofollow noreferrer\">https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/</a></p>\n<p>Try <a href=\"https://beta.sayhello.so/\" rel=\"nofollow noreferrer\">https://beta.sayhello.so/</a>, this search engine could find snippets :) !</p>\n<p>Have a nice day :)</p>\n"}],"owner":{"account_id":27212171,"reputation":1,"user_id":20742810,"display_name":"dadagaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670711150,"answer_count":1,"score":-1,"last_activity_date":1670693219,"creation_date":1670692016,"question_id":74754959,"body_markdown":"How can i make the result of the calculation to display no decimals - for all the results ? \r\n\r\nnow the number is variable on a slider that gives a number from : 5000 - 100000 \r\nand is then divided or multiplied with : X \r\n\r\nthe problem if X is somthing like : * 0.0001097 the number i is a mile long \r\n\r\ni just want the result to be wihtout decimals\r\n\r\ni am a real amateur in this field.. have mercy with me hahah\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n  function do_on_range_change_pages() {\r\n\r\n      $(&#39;.betrag&#39;).text(pages);\r\n\r\n  $(&#39;.name1&#39;).text((pages * 0.001));\r\n  $(&#39;.name2&#39;).text((pages * 0.03));\r\n  $(&#39;.name3&#39;).text((pages / 22));\r\n\r\n  }\r\n\r\n*how can i make the result of this display no decimals ?*\r\n\r\n  $(&#39;.name3&#39;).text((pages / 22 **?????**));\r\n\r\n```\r\n","title":"How can i make the calculation not display decimals?","body":"<p>How can i make the result of the calculation to display no decimals - for all the results ?</p>\n<p>now the number is variable on a slider that gives a number from : 5000 - 100000\nand is then divided or multiplied with : X</p>\n<p>the problem if X is somthing like : * 0.0001097 the number i is a mile long</p>\n<p>i just want the result to be wihtout decimals</p>\n<p>i am a real amateur in this field.. have mercy with me hahah</p>\n<pre><code>\n  function do_on_range_change_pages() {\n\n      $('.betrag').text(pages);\n\n  $('.name1').text((pages * 0.001));\n  $('.name2').text((pages * 0.03));\n  $('.name3').text((pages / 22));\n\n  }\n\n*how can i make the result of this display no decimals ?*\n\n  $('.name3').text((pages / 22 **?????**));\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670693102,"creation_date":1670693102,"answer_id":74755100,"question_id":74754865,"body_markdown":"A bean implementing UserDetailsService in which you inject a DAO (Repository, ... as you like) that connects to the external DB configured by specific properties (login, password, url, ...) will do the job. You don&#39;t anything complex to retrieve user information, a basic JdbcTemplate in the DAO will do the job.","title":"How do you log in with a external database in Spring Security 6?","body":"<p>A bean implementing UserDetailsService in which you inject a DAO (Repository, ... as you like) that connects to the external DB configured by specific properties (login, password, url, ...) will do the job. You don't anything complex to retrieve user information, a basic JdbcTemplate in the DAO will do the job.</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755100,"answer_count":1,"score":0,"last_activity_date":1670693102,"creation_date":1670691246,"question_id":74754865,"body_markdown":"after researching a few hours I couldn&#39;t find anything on how to log in when you are using a external database that contains the credentials in Spring Security 6. \r\n```java\r\npackage de.gabriel.vertretungsplan.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/account&quot;).hasAnyRole(&quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/administration&quot;).hasRole(&quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin();\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\nThis currently is my SecurityConfiguration but I can&#39;t figure out how to retrieve user information and compare it with the username and password. In my [last project](https://github.com/github-gabriel/spring-security-applications/tree/main/JPA%20Authentication) I used a UserDetailsService like this\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n         auth.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/user&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;)\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and().formLogin();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder getPasswordEncoder(){\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n}\r\n```\r\nbut the ```WebSecurityConfigurerAdapter``` is outdated so I want to use the new method, which I guess, also uses a UserDetailsService in some way, but I just can&#39;t find anything on the internet. I [read](https://www.baeldung.com/spring-security-authentication-provider) [some](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) [articles](https://docs.spring.io/spring-security/reference/migration/index.html) and watched [some](https://www.youtube.com/watch?v=EfaQp3OS5yI) [videos](https://www.youtube.com/watch?v=b9O9NI-RJ3o), but I can&#39;t find anything, which is why I wanted to ask here if someone knows how to use the external db for login (and yes, the entity that I am using has no relationships inside the db, if that matters)","title":"How do you log in with a external database in Spring Security 6?","body":"<p>after researching a few hours I couldn't find anything on how to log in when you are using a external database that contains the credentials in Spring Security 6.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/account&quot;).hasAnyRole(&quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/administration&quot;).hasRole(&quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>This currently is my SecurityConfiguration but I can't figure out how to retrieve user information and compare it with the username and password. In my <a href=\"https://github.com/github-gabriel/spring-security-applications/tree/main/JPA%20Authentication\" rel=\"nofollow noreferrer\">last project</a> I used a UserDetailsService like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n         auth.userDetailsService(userDetailsService);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/user&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;)\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and().formLogin();\n    }\n\n    @Bean\n    public PasswordEncoder getPasswordEncoder(){\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n}\n</code></pre>\n<p>but the <code>WebSecurityConfigurerAdapter</code> is outdated so I want to use the new method, which I guess, also uses a UserDetailsService in some way, but I just can't find anything on the internet. I <a href=\"https://www.baeldung.com/spring-security-authentication-provider\" rel=\"nofollow noreferrer\">read</a> <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">some</a> <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">articles</a> and watched <a href=\"https://www.youtube.com/watch?v=EfaQp3OS5yI\" rel=\"nofollow noreferrer\">some</a> <a href=\"https://www.youtube.com/watch?v=b9O9NI-RJ3o\" rel=\"nofollow noreferrer\">videos</a>, but I can't find anything, which is why I wanted to ask here if someone knows how to use the external db for login (and yes, the entity that I am using has no relationships inside the db, if that matters)</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-orm"],"owner":{"account_id":21145103,"reputation":51,"user_id":15546614,"display_name":"Prathamesh Tamte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670692674,"creation_date":1670692674,"question_id":74755042,"body_markdown":"I&#39;m using hibernate 5.3.20 version, using hibernateTemplate I&#39;m querying the result\r\n\r\n    getHibernateTemplate().bulkUpdate(&quot;UPDATE MessagingLog ml SET ml.retryAttempts = 1, ml.status = ? WHERE ml.retryAttempts &gt; 0&quot;) \r\n\r\nbut with above query I&#39;m getting a below error\r\n\r\n    org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\r\n\r\nIf I change the &quot;?&quot; with ?1 then it is throwing error as &quot;ordinal paramter [0] not found&quot;\r\n\r\nas hibernate internally mapping the bulkUpdate setParameter starting from index 0\r\n\r\nas shown in the below snippet\r\n\r\n    public int bulkUpdate(String queryString, @Nullable Object... values) throws DataAccessException {\r\n        Integer result = (Integer)this.executeWithNativeSession((session) -&gt; {\r\n            Query queryObject = queryObject(ReflectionUtils.invokeMethod(createQueryMethod, session, new Object[]{queryString}));\r\n            this.prepareQuery(queryObject);\r\n            if (values != null) {\r\n                for(int i = 0; i &lt; values.length; ++i) {\r\n                    queryObject.setParameter(i, values[i]);\r\n                }\r\n            }\r\n\r\n            return queryObject.executeUpdate();\r\n        });\r\n        Assert.state(result != null, &quot;No update count&quot;);\r\n        return result;\r\n    }\r\n\r\nis there a way I can use setNamed parameters or any other way I achieve the bulkUpate starting from index 0 ??\r\n \r\n","title":"Hibernate 5 getHibernateTemplate().bulkUpdate() with named parameters","body":"<p>I'm using hibernate 5.3.20 version, using hibernateTemplate I'm querying the result</p>\n<pre><code>getHibernateTemplate().bulkUpdate(&quot;UPDATE MessagingLog ml SET ml.retryAttempts = 1, ml.status = ? WHERE ml.retryAttempts &gt; 0&quot;) \n</code></pre>\n<p>but with above query I'm getting a below error</p>\n<pre><code>org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\n</code></pre>\n<p>If I change the &quot;?&quot; with ?1 then it is throwing error as &quot;ordinal paramter [0] not found&quot;</p>\n<p>as hibernate internally mapping the bulkUpdate setParameter starting from index 0</p>\n<p>as shown in the below snippet</p>\n<pre><code>public int bulkUpdate(String queryString, @Nullable Object... values) throws DataAccessException {\n    Integer result = (Integer)this.executeWithNativeSession((session) -&gt; {\n        Query queryObject = queryObject(ReflectionUtils.invokeMethod(createQueryMethod, session, new Object[]{queryString}));\n        this.prepareQuery(queryObject);\n        if (values != null) {\n            for(int i = 0; i &lt; values.length; ++i) {\n                queryObject.setParameter(i, values[i]);\n            }\n        }\n\n        return queryObject.executeUpdate();\n    });\n    Assert.state(result != null, &quot;No update count&quot;);\n    return result;\n}\n</code></pre>\n<p>is there a way I can use setNamed parameters or any other way I achieve the bulkUpate starting from index 0 ??</p>\n"},{"tags":["java","testing","flakyness"],"comments":[{"owner":{"account_id":1257024,"reputation":909,"user_id":1216281,"accept_rate":67,"display_name":"Big_Boulard"},"score":0,"creation_date":1670698236,"post_id":74754987,"comment_id":131935351,"body_markdown":"Could you please explicit the error you get","body":"Could you please explicit the error you get"}],"owner":{"account_id":18446826,"reputation":11,"user_id":13437904,"display_name":"TheGreatRandall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670692227,"creation_date":1670692227,"question_id":74754987,"body_markdown":"I am solving the fixing flaky test, the test looks like this:\r\n\r\n```\r\n    @Test\r\n    public void testButtonSignatureWithJSONObject() throws Exception {\r\n        System.out.println(&quot;1&quot;);\r\n        // final String payload1 = &quot;{\\&quot;storeId\\&quot;:\\&quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\&quot;,\\&quot;webCheckoutDetails\\&quot;:{\\&quot;checkoutReviewReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutReview.php\\&quot;,\\&quot;checkoutResultReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutResult.php\\&quot;}}&quot;;\r\n        // final String signatureString1 = client.generateButtonSignature(payload);\r\n        final JSONObject payload = new JSONObject();\r\n        payload.put(&quot;storeId&quot;, &quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\r\n        final JSONObject webCheckoutDetails = new JSONObject();\r\n        webCheckoutDetails.put(&quot;checkoutReviewReturnUrl&quot;, &quot;https://localhost/test/CheckoutReview.php&quot;);\r\n        webCheckoutDetails.put(&quot;checkoutResultReturnUrl&quot;, &quot;https://localhost/test/CheckoutResult.php&quot;);\r\n        payload.put(&quot;webCheckoutDetails&quot;, webCheckoutDetails);\r\n\r\n\r\n        //String temp = payload.toString();\r\n        final String signatureString = client.generateButtonSignature(payload);\r\n        signature.update(PLAIN_TEXT.getBytes());\r\n        Assert.assertTrue(signature.verify(Base64.decode(signatureString)));\r\n    }\r\n```\r\nIt gives the assertion error. According to some research, I assume it is because when the objects are put into JSONObject, the order is non-deterministic. I am kinda get stuck about how to fix it. I would very appreciate your advice. Thank you!\r\n\r\nSince it&#39;s about fixing some test open sourced. It&#39;s really nothing I can do more here. I tried to switch payload to String but it won&#39;t work. Thank you!","title":"How to output the JSONObject ordered","body":"<p>I am solving the fixing flaky test, the test looks like this:</p>\n<pre><code>    @Test\n    public void testButtonSignatureWithJSONObject() throws Exception {\n        System.out.println(&quot;1&quot;);\n        // final String payload1 = &quot;{\\&quot;storeId\\&quot;:\\&quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\&quot;,\\&quot;webCheckoutDetails\\&quot;:{\\&quot;checkoutReviewReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutReview.php\\&quot;,\\&quot;checkoutResultReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutResult.php\\&quot;}}&quot;;\n        // final String signatureString1 = client.generateButtonSignature(payload);\n        final JSONObject payload = new JSONObject();\n        payload.put(&quot;storeId&quot;, &quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\n        final JSONObject webCheckoutDetails = new JSONObject();\n        webCheckoutDetails.put(&quot;checkoutReviewReturnUrl&quot;, &quot;https://localhost/test/CheckoutReview.php&quot;);\n        webCheckoutDetails.put(&quot;checkoutResultReturnUrl&quot;, &quot;https://localhost/test/CheckoutResult.php&quot;);\n        payload.put(&quot;webCheckoutDetails&quot;, webCheckoutDetails);\n\n\n        //String temp = payload.toString();\n        final String signatureString = client.generateButtonSignature(payload);\n        signature.update(PLAIN_TEXT.getBytes());\n        Assert.assertTrue(signature.verify(Base64.decode(signatureString)));\n    }\n</code></pre>\n<p>It gives the assertion error. According to some research, I assume it is because when the objects are put into JSONObject, the order is non-deterministic. I am kinda get stuck about how to fix it. I would very appreciate your advice. Thank you!</p>\n<p>Since it's about fixing some test open sourced. It's really nothing I can do more here. I tried to switch payload to String but it won't work. Thank you!</p>\n"},{"tags":["java","arraylist","domparser"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670691869,"post_id":74754905,"comment_id":131934001,"body_markdown":"Just a quick observation: in the Song class, you should copy the array that you pass in, because this could be a source of the sort of error you are seeing.  `genre = g;` change to `genre = new ArrayList&lt;&gt;( g );`","body":"Just a quick observation: in the Song class, you should copy the array that you pass in, because this could be a source of the sort of error you are seeing.  <code>genre = g;</code> change to <code>genre = new ArrayList&lt;&gt;( g );</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670691997,"post_id":74754905,"comment_id":131934033,"body_markdown":"Your code creates one `ArrayList&lt;String&gt; auxArray` and shares that between all songs. Either create a new `ArrayList&lt;String&gt; auxArray` for each new `Song` or do as @markspace suggested and copy the list of genres in the `Song` constructor.","body":"Your code creates one <code>ArrayList&lt;String&gt; auxArray</code> and shares that between all songs. Either create a new <code>ArrayList&lt;String&gt; auxArray</code> for each new <code>Song</code> or do as @markspace suggested and copy the list of genres in the <code>Song</code> constructor."},{"owner":{"account_id":27211435,"reputation":11,"user_id":20742196,"display_name":"Monstruo"},"score":0,"creation_date":1670692403,"post_id":74754905,"comment_id":131934114,"body_markdown":"Yes, you are both right that was the problem. It&#180;s working fine now. Thank you very much. You just saved my ass.","body":"Yes, you are both right that was the problem. It&#180;s working fine now. Thank you very much. You just saved my ass."}],"owner":{"account_id":27211435,"reputation":11,"user_id":20742196,"display_name":"Monstruo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670692163,"creation_date":1670691632,"question_id":74754905,"body_markdown":"First of all English is not my first language, so sorry in advance for the mistakes.\r\n\r\nThe thing is I need some help understanding why I&#180;m overwriting some values inside my array list. \r\n\r\nI know this question has been asked before but all solutions I found about this issue are related to variables declared static when they shouldn&#180;t be, which I think is not my case.\r\n\r\nThe code is searching in two different .xml documents for pop songs contained in a especific album, and returning the array with the title and genres of each song.\r\n\r\nFirst I have a Song defined as:\r\n\r\n```\r\npublic class Song {\r\n    private String title;\r\n    private ArrayList&lt;String&gt; genre;\r\n    public Song (String t, ArrayList&lt;String&gt; g) {\r\n        title = t;\r\n        genre = g;\r\n    }\r\n    public String getTitle () { return title; }\r\n    public ArrayList&lt;String&gt; getGenre () { return genre; }\r\n}\r\n```\r\nThen I&#180;m searching trough the .xml documents for the required album and country. \r\nIt correctly finds the songs and the genres, but I&#180;m having trouble adding them into an array.\r\nThe code is the following:\r\nIn this example the required album is called &quot;titulo5&quot; and thecountry is &quot;england&quot;. \r\n\r\n```\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\nimport org.xml.sax.SAXException;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n    private static ArrayList&lt;Song&gt; Songs = new ArrayList&lt;Song&gt;();\r\n    static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    static DocumentBuilder db;\r\n    static {\r\n        try {\r\n            db = dbf.newDocumentBuilder();\r\n        } catch (ParserConfigurationException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\r\n\r\n        String nextURL = run(&quot;tmvl_01.xml&quot;,&quot;england&quot;,&quot;titulo5&quot;);\r\n        nextURL = run(nextURL,&quot;england&quot;,&quot;titulo5&quot;);\r\n\r\n    }\r\n    private static String run(String filename, String country, String album)throws ParserConfigurationException, IOException, SAXException\r\n    {\r\n        String nextURL = null;\r\n        ArrayList&lt;String&gt; auxArray = new ArrayList&lt;String&gt;();\r\n        try\r\n        {\r\n            Document doc = db.parse(new File(filename));\r\n            Boolean test = false;\r\n\r\n            NodeList nl = doc.getElementsByTagName(&quot;Album&quot;);\r\n            Element elem;\r\n\r\n            for (int x=0; x &lt; nl.getLength(); x++)\r\n            {\r\n                elem = (Element)nl.item(x);\r\n                NodeList nlTitles = elem.getElementsByTagName(&quot;Titulo&quot;);\r\n                NodeList nlSongs = elem.getElementsByTagName(&quot;Song&quot;);\r\n                Element elemAlbumTitle = (Element)nlTitles.item(0);\r\n                String albumName = elemAlbumTitle.getTextContent().trim();\r\n                if (albumName.equals(album)){\r\n                    for(int i= 0; i &lt; nlSongs.getLength();i++)\r\n                    {\r\n                        Element elemSongs = (Element)nlSongs.item(i);\r\n                        NodeList nlSongTitle = elem.getElementsByTagName(&quot;Title&quot;);\r\n                        Element elemSongTItle = (Element) nlSongTitle.item(i);\r\n                        String songTItle = elemSongTItle.getTextContent().trim();\r\n                        NodeList nlGenre = elemSongs.getElementsByTagName(&quot;Genre&quot;);\r\n                        auxArray.clear();\r\n                        for (int e = 0; e&lt; nlGenre.getLength(); e++)\r\n                        {\r\n                            Element elemGenre = (Element) nlGenre.item(e);\r\n                            String genreName = elemGenre.getTextContent().trim();\r\n\r\n                            auxArray.add(genreName);\r\n                            if(genreName.equals(&quot;pop&quot;))\r\n                            {\r\n                                test = true;\r\n                            }\r\n                        }\r\n\r\n                        if(test == true)\r\n                        {\r\n                            System.out.println(&quot;Array: &quot; + auxArray);\r\n                            System.out.println(&quot;Titulo: &quot; +songTItle);\r\n\r\n                            Song check = new Song(songTItle,auxArray);\r\n\r\n                            System.out.println(&quot;Check SOng: &quot; + check.getGenre());\r\n                            Songs.add(check); //Here is the issue\r\n                            System.out.println(&quot;ArraySize: &quot; + Songs.size());\r\n\r\n                            for(int z = 0; z&lt;Songs.size();z++) {\r\n                                String songTitle = Songs.get(z).getTitle();\r\n                                System.out.println(&quot;ArrayTitulo: &quot; + songTitle);\r\n                                String songGenres;\r\n                                for (int p = 0  ; p &lt; Songs.get(z).getGenre().size();p++)\r\n                                {\r\n                                    songGenres = Songs.get(z).getGenre().get(p);\r\n                                    System.out.println(&quot;ArrayGenreP: &quot;+p + &quot;  ArrayGenreZ: &quot; + z +  &quot;  Item: &quot;+songGenres);\r\n\r\n                                }\r\n                            }\r\n                            System.out.println(&quot;Genres: &quot; + Songs.get(0).getGenre());\r\n                            if(Songs.size()&gt;1){\r\n                                System.out.println(&quot;Genres: &quot; + Songs.get(1).getGenre());\r\n\r\n                            }\r\n                            auxArray.clear();\r\n                            test = false;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n            NodeList nl_TVMLs = doc.getElementsByTagName(&quot;TVML&quot;);\r\n            Element elemnt;\r\n\r\n            for (int x=0; x &lt; nl_TVMLs.getLength(); x++)\r\n            {\r\n                elemnt = (Element)nl_TVMLs.item(x);\r\n                nextURL = elemnt.getTextContent().trim();\r\n                System.out.println(&quot;Siguiente URL: &quot; + nextURL);\r\n            }\r\n        }\r\n        catch(SAXException e)\r\n        {\r\n            System.out.println(&quot;Excepction no well formed&quot;);\r\n        }\r\n        return nextURL;\r\n    }\r\n\r\n}\r\n```\r\nThis, I think, it should add in the Songs array two songs, with two titles and, two genres the first one and three genres the second one, resulting in something like this: \r\n\r\nSong Title: 8 Genres:[metal,pop,balad]\r\n\r\nSong Title: 11 Genres:[funk,pop]\r\n\r\nBut the output I&#180;m getting is:\r\n\r\nSong Title: 8 Genres: [funk,pop]\r\n\r\nSong Title: 11 Genres:[funk,pop]\r\n\r\nTitles are correct, but genres are beeing overwrited by the last search in the loop.\r\n\r\nMy System.out.println() results are:\r\n```\r\nArray: [metal, pop, ballad]                 --&gt; *First genre extracted array*\r\n\r\nTitle: 8\r\nCheck SOng: [metal, pop, ballad]            --&gt; *Genres inside the Song object*\r\n\r\nArraySize: 1\r\n\r\nArrayTitulo: 8 --&gt; Title is OK\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 0  Item: metal  --&gt; *P = genres index and Z = title index*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop\r\n\r\nArrayGenreP: 2  ArrayGenreZ: 0  Item: ballad\r\n\r\nGenres: [metal, pop, ballad]                 *--&gt; Here is OK: Title 8 should have this 3 genres*\r\n\r\nArray: [funk, pop]                           *--&gt; This is the second array which is correct*\r\n\r\nTitle: 11                                    *--&gt; This is the second title which is also ok*\r\n\r\nCheck SOng: [funk, pop]                      *--&gt; This is the array stored in the new song object*\r\n\r\nArraySize: 2                                 *--&gt; The new updated array size*\r\n\r\nArrayTitle: 8                                *--&gt; The first title is correct*\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 0  Item: funk   *--&gt; Here is the problem, it overwrites the previous genres*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop    * --&gt; (but not the previous title)*\r\n\r\nArrayTitle: 11                                 --&gt; Second title is also correct\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 1  Item: funk  *--&gt;These are the correct genres for song with title 11*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 1  Item: pop\r\nGenres: [funk, pop]                         *--&gt; Here should be [metal, pop, ballad] *\r\n\r\nGenres: [funk, pop]                         *--&gt; Here is OK*\r\n\r\n```\r\n\r\nAnd I&#180;m completely stuck, I don&#180;t know what else I can try, so some help would be very appreciated. \r\n\r\nMaybe is something that has already beeing answered, if is the case I&#180;m sorry, not my intention to waste anyones time.\r\n\r\nJust in case I&#180;m showing next the 2 .xml documents I created. The first one is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;Music&gt;\r\n   &lt;Year&gt;2001&lt;/Year&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;uno&lt;/Name&gt;\r\n      &lt;Country&gt;spain&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo1&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;1&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;2&lt;/Title&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;dos&lt;/Name&gt;\r\n      &lt;Country&gt;england&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo2&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;3&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n         &lt;Genre&gt;soul&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;TVML&gt;tmvl_02.xml&lt;/TVML&gt;\r\n&lt;/Music&gt;\r\n```\r\nAnd the second one:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;Music&gt;\r\n   &lt;Year&gt;2003&lt;/Year&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;tres&lt;/Name&gt;\r\n      &lt;Country&gt;morocco&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo3&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;4&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;soul&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;5&lt;/Title&gt;\r\n         &lt;Genre&gt;reggae&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;6&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;cuatro&lt;/Name&gt;\r\n      &lt;Country&gt;france&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo4&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;7&lt;/Title&gt;\r\n         &lt;Genre&gt;inide&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;cinco&lt;/Name&gt;\r\n      &lt;Country&gt;england&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo5&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;10&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;8&lt;/Title&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;ballad&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;9&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;11&lt;/Title&gt;\r\n         &lt;Genre&gt;funk&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n&lt;/Music&gt;   \r\n```\r\nThx in advance for your help and merry christmas.","title":"ArrayList partially overwrites stored values (but not all of them) when adding new object to the list (object variables aren&#180;t static)","body":"<p>First of all English is not my first language, so sorry in advance for the mistakes.</p>\n<p>The thing is I need some help understanding why IÂ´m overwriting some values inside my array list.</p>\n<p>I know this question has been asked before but all solutions I found about this issue are related to variables declared static when they shouldnÂ´t be, which I think is not my case.</p>\n<p>The code is searching in two different .xml documents for pop songs contained in a especific album, and returning the array with the title and genres of each song.</p>\n<p>First I have a Song defined as:</p>\n<pre><code>public class Song {\n    private String title;\n    private ArrayList&lt;String&gt; genre;\n    public Song (String t, ArrayList&lt;String&gt; g) {\n        title = t;\n        genre = g;\n    }\n    public String getTitle () { return title; }\n    public ArrayList&lt;String&gt; getGenre () { return genre; }\n}\n</code></pre>\n<p>Then IÂ´m searching trough the .xml documents for the required album and country.\nIt correctly finds the songs and the genres, but IÂ´m having trouble adding them into an array.\nThe code is the following:\nIn this example the required album is called &quot;titulo5&quot; and thecountry is &quot;england&quot;.</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Main {\n    private static ArrayList&lt;Song&gt; Songs = new ArrayList&lt;Song&gt;();\n    static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    static DocumentBuilder db;\n    static {\n        try {\n            db = dbf.newDocumentBuilder();\n        } catch (ParserConfigurationException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\n\n        String nextURL = run(&quot;tmvl_01.xml&quot;,&quot;england&quot;,&quot;titulo5&quot;);\n        nextURL = run(nextURL,&quot;england&quot;,&quot;titulo5&quot;);\n\n    }\n    private static String run(String filename, String country, String album)throws ParserConfigurationException, IOException, SAXException\n    {\n        String nextURL = null;\n        ArrayList&lt;String&gt; auxArray = new ArrayList&lt;String&gt;();\n        try\n        {\n            Document doc = db.parse(new File(filename));\n            Boolean test = false;\n\n            NodeList nl = doc.getElementsByTagName(&quot;Album&quot;);\n            Element elem;\n\n            for (int x=0; x &lt; nl.getLength(); x++)\n            {\n                elem = (Element)nl.item(x);\n                NodeList nlTitles = elem.getElementsByTagName(&quot;Titulo&quot;);\n                NodeList nlSongs = elem.getElementsByTagName(&quot;Song&quot;);\n                Element elemAlbumTitle = (Element)nlTitles.item(0);\n                String albumName = elemAlbumTitle.getTextContent().trim();\n                if (albumName.equals(album)){\n                    for(int i= 0; i &lt; nlSongs.getLength();i++)\n                    {\n                        Element elemSongs = (Element)nlSongs.item(i);\n                        NodeList nlSongTitle = elem.getElementsByTagName(&quot;Title&quot;);\n                        Element elemSongTItle = (Element) nlSongTitle.item(i);\n                        String songTItle = elemSongTItle.getTextContent().trim();\n                        NodeList nlGenre = elemSongs.getElementsByTagName(&quot;Genre&quot;);\n                        auxArray.clear();\n                        for (int e = 0; e&lt; nlGenre.getLength(); e++)\n                        {\n                            Element elemGenre = (Element) nlGenre.item(e);\n                            String genreName = elemGenre.getTextContent().trim();\n\n                            auxArray.add(genreName);\n                            if(genreName.equals(&quot;pop&quot;))\n                            {\n                                test = true;\n                            }\n                        }\n\n                        if(test == true)\n                        {\n                            System.out.println(&quot;Array: &quot; + auxArray);\n                            System.out.println(&quot;Titulo: &quot; +songTItle);\n\n                            Song check = new Song(songTItle,auxArray);\n\n                            System.out.println(&quot;Check SOng: &quot; + check.getGenre());\n                            Songs.add(check); //Here is the issue\n                            System.out.println(&quot;ArraySize: &quot; + Songs.size());\n\n                            for(int z = 0; z&lt;Songs.size();z++) {\n                                String songTitle = Songs.get(z).getTitle();\n                                System.out.println(&quot;ArrayTitulo: &quot; + songTitle);\n                                String songGenres;\n                                for (int p = 0  ; p &lt; Songs.get(z).getGenre().size();p++)\n                                {\n                                    songGenres = Songs.get(z).getGenre().get(p);\n                                    System.out.println(&quot;ArrayGenreP: &quot;+p + &quot;  ArrayGenreZ: &quot; + z +  &quot;  Item: &quot;+songGenres);\n\n                                }\n                            }\n                            System.out.println(&quot;Genres: &quot; + Songs.get(0).getGenre());\n                            if(Songs.size()&gt;1){\n                                System.out.println(&quot;Genres: &quot; + Songs.get(1).getGenre());\n\n                            }\n                            auxArray.clear();\n                            test = false;\n                        }\n\n                    }\n                }\n            }\n            NodeList nl_TVMLs = doc.getElementsByTagName(&quot;TVML&quot;);\n            Element elemnt;\n\n            for (int x=0; x &lt; nl_TVMLs.getLength(); x++)\n            {\n                elemnt = (Element)nl_TVMLs.item(x);\n                nextURL = elemnt.getTextContent().trim();\n                System.out.println(&quot;Siguiente URL: &quot; + nextURL);\n            }\n        }\n        catch(SAXException e)\n        {\n            System.out.println(&quot;Excepction no well formed&quot;);\n        }\n        return nextURL;\n    }\n\n}\n</code></pre>\n<p>This, I think, it should add in the Songs array two songs, with two titles and, two genres the first one and three genres the second one, resulting in something like this:</p>\n<p>Song Title: 8 Genres:[metal,pop,balad]</p>\n<p>Song Title: 11 Genres:[funk,pop]</p>\n<p>But the output IÂ´m getting is:</p>\n<p>Song Title: 8 Genres: [funk,pop]</p>\n<p>Song Title: 11 Genres:[funk,pop]</p>\n<p>Titles are correct, but genres are beeing overwrited by the last search in the loop.</p>\n<p>My System.out.println() results are:</p>\n<pre><code>Array: [metal, pop, ballad]                 --&gt; *First genre extracted array*\n\nTitle: 8\nCheck SOng: [metal, pop, ballad]            --&gt; *Genres inside the Song object*\n\nArraySize: 1\n\nArrayTitulo: 8 --&gt; Title is OK\n\nArrayGenreP: 0  ArrayGenreZ: 0  Item: metal  --&gt; *P = genres index and Z = title index*\n\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop\n\nArrayGenreP: 2  ArrayGenreZ: 0  Item: ballad\n\nGenres: [metal, pop, ballad]                 *--&gt; Here is OK: Title 8 should have this 3 genres*\n\nArray: [funk, pop]                           *--&gt; This is the second array which is correct*\n\nTitle: 11                                    *--&gt; This is the second title which is also ok*\n\nCheck SOng: [funk, pop]                      *--&gt; This is the array stored in the new song object*\n\nArraySize: 2                                 *--&gt; The new updated array size*\n\nArrayTitle: 8                                *--&gt; The first title is correct*\n\nArrayGenreP: 0  ArrayGenreZ: 0  Item: funk   *--&gt; Here is the problem, it overwrites the previous genres*\n\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop    * --&gt; (but not the previous title)*\n\nArrayTitle: 11                                 --&gt; Second title is also correct\n\nArrayGenreP: 0  ArrayGenreZ: 1  Item: funk  *--&gt;These are the correct genres for song with title 11*\n\nArrayGenreP: 1  ArrayGenreZ: 1  Item: pop\nGenres: [funk, pop]                         *--&gt; Here should be [metal, pop, ballad] *\n\nGenres: [funk, pop]                         *--&gt; Here is OK*\n\n</code></pre>\n<p>And IÂ´m completely stuck, I donÂ´t know what else I can try, so some help would be very appreciated.</p>\n<p>Maybe is something that has already beeing answered, if is the case IÂ´m sorry, not my intention to waste anyones time.</p>\n<p>Just in case IÂ´m showing next the 2 .xml documents I created. The first one is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;Music&gt;\n   &lt;Year&gt;2001&lt;/Year&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;uno&lt;/Name&gt;\n      &lt;Country&gt;spain&lt;/Country&gt;\n      &lt;Titulo&gt;titulo1&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;1&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;2&lt;/Title&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;dos&lt;/Name&gt;\n      &lt;Country&gt;england&lt;/Country&gt;\n      &lt;Titulo&gt;titulo2&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;3&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n         &lt;Genre&gt;soul&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;TVML&gt;tmvl_02.xml&lt;/TVML&gt;\n&lt;/Music&gt;\n</code></pre>\n<p>And the second one:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;Music&gt;\n   &lt;Year&gt;2003&lt;/Year&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;tres&lt;/Name&gt;\n      &lt;Country&gt;morocco&lt;/Country&gt;\n      &lt;Titulo&gt;titulo3&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;4&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;soul&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;5&lt;/Title&gt;\n         &lt;Genre&gt;reggae&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;6&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;cuatro&lt;/Name&gt;\n      &lt;Country&gt;france&lt;/Country&gt;\n      &lt;Titulo&gt;titulo4&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;7&lt;/Title&gt;\n         &lt;Genre&gt;inide&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;cinco&lt;/Name&gt;\n      &lt;Country&gt;england&lt;/Country&gt;\n      &lt;Titulo&gt;titulo5&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;10&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;8&lt;/Title&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;ballad&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;9&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;11&lt;/Title&gt;\n         &lt;Genre&gt;funk&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n&lt;/Music&gt;   \n</code></pre>\n<p>Thx in advance for your help and merry christmas.</p>\n"},{"tags":["java","inheritance","constructor","extends"],"answers":[{"tags":[],"owner":{"account_id":22831679,"reputation":13,"user_id":16980020,"display_name":"Marcus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670691832,"creation_date":1670691832,"answer_id":74754933,"question_id":74754864,"body_markdown":"The problem was solved with the help of this question. [Similar content][1]\r\n\r\nI create another constructor with super(), this resolved the error.\r\n\r\n    public Square (String t,String n, String c, double w, double h ){\r\n                super(t,n,c,w,h);\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2319817/how-to-inherit-constructor-from-super-class-to-sub-class#:~:text=Constructors%20are%20not%20inherited%2C%20you,matching%20constructor%20in%20the%20superclass.","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<p>The problem was solved with the help of this question. <a href=\"https://stackoverflow.com/questions/2319817/how-to-inherit-constructor-from-super-class-to-sub-class#:%7E:text=Constructors%20are%20not%20inherited%2C%20you,matching%20constructor%20in%20the%20superclass.\">Similar content</a></p>\n<p>I create another constructor with super(), this resolved the error.</p>\n<pre><code>public Square (String t,String n, String c, double w, double h ){\n            super(t,n,c,w,h);\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670691866,"creation_date":1670691866,"answer_id":74754940,"question_id":74754864,"body_markdown":"1. All classes __must__ contain at least one constructor. They cannot be compiled without having one.\r\n2. All constructors __must__ begin with a `super()` call of some sort (invoking a constructor in the parent class), unless they start with a `this()` call (redirect to another constructor).\r\n3. ... However, if you fail to add a `super()` call, the compiler will simply assume you meant to and acts as if you wrote `super();` at the top of it.\r\n4. ... However, if you fail to add a constructor, the compiler will simply assume you meant to write one, and acts as if you wrote: `public MyClassName() { super(); }`.\r\n\r\nWith these facts in mind, `super()` is not going to work in your case, because `Rectangle` does not have a no-args constructor.\r\n\r\nAll you need:\r\n\r\n```\r\npublic class Square extends Rectangle {\r\n  public Square(String t, String n, String c, double w) {\r\n    super(t, n, c, w, w);\r\n  }\r\n}\r\n```\r\n\r\nThis means Square has 1 constructor, taking &#39;t&#39;, &#39;n&#39;, and &#39;c&#39;, whatever those are, as well as a single double indicating the length of any edge. (NB: This is __bad code style__, parameters should have clear names, _especially_ if the type of the parameter isn&#39;t particularly enlightening. &#39;String c&#39; means nothing. `Color c` - you can get away with that)\r\n\r\nIt then calls the Rectangle constructor, passing that &#39;edge length&#39; value for _both_ the width and height dimensions.\r\n","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<ol>\n<li>All classes <strong>must</strong> contain at least one constructor. They cannot be compiled without having one.</li>\n<li>All constructors <strong>must</strong> begin with a <code>super()</code> call of some sort (invoking a constructor in the parent class), unless they start with a <code>this()</code> call (redirect to another constructor).</li>\n<li>... However, if you fail to add a <code>super()</code> call, the compiler will simply assume you meant to and acts as if you wrote <code>super();</code> at the top of it.</li>\n<li>... However, if you fail to add a constructor, the compiler will simply assume you meant to write one, and acts as if you wrote: <code>public MyClassName() { super(); }</code>.</li>\n</ol>\n<p>With these facts in mind, <code>super()</code> is not going to work in your case, because <code>Rectangle</code> does not have a no-args constructor.</p>\n<p>All you need:</p>\n<pre><code>public class Square extends Rectangle {\n  public Square(String t, String n, String c, double w) {\n    super(t, n, c, w, w);\n  }\n}\n</code></pre>\n<p>This means Square has 1 constructor, taking 't', 'n', and 'c', whatever those are, as well as a single double indicating the length of any edge. (NB: This is <strong>bad code style</strong>, parameters should have clear names, <em>especially</em> if the type of the parameter isn't particularly enlightening. 'String c' means nothing. <code>Color c</code> - you can get away with that)</p>\n<p>It then calls the Rectangle constructor, passing that 'edge length' value for <em>both</em> the width and height dimensions.</p>\n"}],"owner":{"account_id":22831679,"reputation":13,"user_id":16980020,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74754940,"answer_count":2,"score":1,"last_activity_date":1670691866,"creation_date":1670691243,"question_id":74754864,"body_markdown":"The other questions I have seen are about intentionally referencing a superclass constructor method and failing. I am not referencing a constructor yet; just trying to extend a class.\r\n\r\nI am creating the class Square.java, which extends Rectangle.java.\r\n\r\nSquare.java is the subclass of Rectangle.java.\r\n\r\nInterface.java\r\n\r\n\\-Abstract.java - abstract class Abstract implements Interface.java\r\n\r\n\\--Rectangle.java - public class Rectangle extends Abstract\r\n\r\n\\---Square.java - public class Square extends Rectangle.\r\n\r\nWhen compiling Square.java, I received the error message.\r\n\r\n```\r\nSquare.java:3: error: constructor Rectangle in class Rectangle cannot be applied to given types;\r\npublic class Square extends Rectangle {\r\n       ^\r\n  required: String,String,String,double,double\r\n  found:    no arguments\r\n  reason: actual and formal argument lists differ in length\r\n1 error\r\n```\r\n\r\nThe content of Square.java is\r\n\r\n```\r\npublic class Square extends Rectangle {\r\n       //no code is in the body\r\n\r\n        }\r\n```\r\n\r\nThe constructor method of rectangle is:\r\n\r\n```\r\npublic Rectangle (String t,String n, String c, double w, double h ){\r\nwidth = w;\r\nheight = h;\r\ncolor = c;\r\nname = n;\r\ntype = t;\r\n    };\r\n```\r\n\r\nI want to create Square.java. Within this file, I would like to modify the Rectangle constructor method. But for right now, I just want the file to compile.\r\n\r\nI have tried\r\n\r\n- Copying the Rectangle constructor method into Square.java. That resulted in the same error message.\r\n- Copying in the Rectangle constructor method and changing the name of the constructor method to Square. This resulted in the same error message.\r\n- Commenting out the Rectangle constructor method within Rectangle.java. Square.java compiled without a problem. But... I need the Rectangle constructor in Rectangle.java.\r\n- Creating a new Square constructor method and ran into more errors. Eventually, I want the Square constructor method to be a modified Rectangle constructor method.\r\n\r\nFrom my understanding, constructor methods are not passed on to subclasses. I have not written code to intentionally reference the Rectangle constructor.\r\n\r\nI am getting the feeling that the compiler is interpreting &quot;... extends Rectangle { &quot; as an attempt to reference the constructor instead of the class. I have run out of ideas on how to resolve this.\r\n\r\nThank you for any help.","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<p>The other questions I have seen are about intentionally referencing a superclass constructor method and failing. I am not referencing a constructor yet; just trying to extend a class.</p>\n<p>I am creating the class Square.java, which extends Rectangle.java.</p>\n<p>Square.java is the subclass of Rectangle.java.</p>\n<p>Interface.java</p>\n<p>-Abstract.java - abstract class Abstract implements Interface.java</p>\n<p>--Rectangle.java - public class Rectangle extends Abstract</p>\n<p>---Square.java - public class Square extends Rectangle.</p>\n<p>When compiling Square.java, I received the error message.</p>\n<pre><code>Square.java:3: error: constructor Rectangle in class Rectangle cannot be applied to given types;\npublic class Square extends Rectangle {\n       ^\n  required: String,String,String,double,double\n  found:    no arguments\n  reason: actual and formal argument lists differ in length\n1 error\n</code></pre>\n<p>The content of Square.java is</p>\n<pre><code>public class Square extends Rectangle {\n       //no code is in the body\n\n        }\n</code></pre>\n<p>The constructor method of rectangle is:</p>\n<pre><code>public Rectangle (String t,String n, String c, double w, double h ){\nwidth = w;\nheight = h;\ncolor = c;\nname = n;\ntype = t;\n    };\n</code></pre>\n<p>I want to create Square.java. Within this file, I would like to modify the Rectangle constructor method. But for right now, I just want the file to compile.</p>\n<p>I have tried</p>\n<ul>\n<li>Copying the Rectangle constructor method into Square.java. That resulted in the same error message.</li>\n<li>Copying in the Rectangle constructor method and changing the name of the constructor method to Square. This resulted in the same error message.</li>\n<li>Commenting out the Rectangle constructor method within Rectangle.java. Square.java compiled without a problem. But... I need the Rectangle constructor in Rectangle.java.</li>\n<li>Creating a new Square constructor method and ran into more errors. Eventually, I want the Square constructor method to be a modified Rectangle constructor method.</li>\n</ul>\n<p>From my understanding, constructor methods are not passed on to subclasses. I have not written code to intentionally reference the Rectangle constructor.</p>\n<p>I am getting the feeling that the compiler is interpreting &quot;... extends Rectangle { &quot; as an attempt to reference the constructor instead of the class. I have run out of ideas on how to resolve this.</p>\n<p>Thank you for any help.</p>\n"},{"tags":["java","javac","java-module","java-17","patch-module"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670534462,"post_id":74736383,"comment_id":131903142,"body_markdown":"âThe algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.â  Are you sure?  [java.util.Base64](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Base64.html) has three decoder factory methods.  What other base64 variations are there?","body":"âThe algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.â  Are you sure?  <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\">java.util.Base64</a> has three decoder factory methods.  What other base64 variations are there?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1670535616,"post_id":74736383,"comment_id":131903424,"body_markdown":"&quot;It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module&quot;. I think the issue here is split packages. i.e. 2 modules can not both define a package with the same name.","body":"&quot;It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module&quot;. I think the issue here is split packages. i.e. 2 modules can not both define a package with the same name."},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":0,"creation_date":1670535902,"post_id":74736383,"comment_id":131903497,"body_markdown":"@VGR The java.util.Base64 MIME decoder is the one most similar, but the sun.misc.BASE64Decoder class has some idiosyncracies that make some strings work for it but fail to parse with the java.util.Base64 MIME decoder. For one example, &quot;AAAAAAAAAAAAAAAAAAAAKxhT:Dqw41vO7TqahhN/epcK7Sk=&quot; successfully parses with the Sun implementation, but errors with &quot;Input byte array has wrong 4-byte ending unit&quot; in the java.util implementation.","body":"@VGR The java.util.Base64 MIME decoder is the one most similar, but the sun.misc.BASE64Decoder class has some idiosyncracies that make some strings work for it but fail to parse with the java.util.Base64 MIME decoder. For one example, &quot;AAAAAAAAAAAAAAAAAAAAKxhT:Dqw41vO7TqahhN/epcK7Sk=&quot; successfully parses with the Sun implementation, but errors with &quot;Input byte array has wrong 4-byte ending unit&quot; in the java.util implementation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1670536352,"post_id":74736383,"comment_id":131903607,"body_markdown":"Why is there a `:` in your base 64 string?","body":"Why is there a <code>:</code> in your base 64 string?"},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":0,"creation_date":1670542097,"post_id":74736383,"comment_id":131904852,"body_markdown":"Because sun.misc.BASE64Encoder put it there! Iâm not sure why it produced invalid base 64, but unfortunately I need to parse it.","body":"Because sun.misc.BASE64Encoder put it there! Iâm not sure why it produced invalid base 64, but unfortunately I need to parse it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670589360,"post_id":74736383,"comment_id":131914507,"body_markdown":"â*Because sun.misc.BASE64Encoder put it there*â So, in other words, you âneedâ to use the sun.misc decoder, because you are using the sun.misc encoderâ¦","body":"â<i>Because sun.misc.BASE64Encoder put it there</i>â So, in other words, you âneedâ to use the sun.misc decoder, because you are using the sun.misc encoderâ¦"},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":1,"creation_date":1670591562,"post_id":74736383,"comment_id":131915218,"body_markdown":"@Holger Dealing with maintaining legacy data. :) I&#39;m only using the Decoder now, not the Encoder, but I still have the old data that I have to deal with.","body":"@Holger Dealing with maintaining legacy data. :) I&#39;m only using the Decoder now, not the Encoder, but I still have the old data that I have to deal with."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670691838,"creation_date":1670539098,"answer_id":74737089,"question_id":74736383,"body_markdown":"As mentioned in the comments, the problem is split packages. i.e. you can&#39;t have 2 modules that define the same package (java.time.zone in this case).\r\n\r\nIf you want to go the `--patch-module` route, you can not use the whole `rt.jar`. You will have to create a jar file with just the classes in `sun.misc` that you need.\r\n\r\nFor the base 64 encoder/decoder, it seems that at least `BASE64Decoder`, `BASE64Encoder`, `CharacterDecoder`, `CharacterEncoder`, and `CSStreamExhausted` are needed, all in the `sun.misc` package. If I create a jar with just those classes, and use that jar as an argument to `--patch-module`, I&#39;m able to decode the string from your comment. (but, more classes might be needed for a more complex use case. I didn&#39;t test that far).\r\n\r\n---\r\n\r\nBut, I&#39;ll also note that, as tgdavies pointed out, your string is not a valid base 64 string, according to the alphabet table in the spec: https://www.rfc-editor.org/rfc/rfc2045#page-25 (the same spec followed by the MIME encoder/decoder). The `:` is illegal, and it is ignored by the decoder, which means the trailing `=` used for padding is causing issue (you can also remove the `=` at the end to get the string to decode).\r\n\r\nI&#39;d recommend trying to sanitize your base 64 string and using the public base 64 API. That will probably be less of a hassle to keep working in the long term.","title":"Patch jdk.unsupported module in Java 17","body":"<p>As mentioned in the comments, the problem is split packages. i.e. you can't have 2 modules that define the same package (java.time.zone in this case).</p>\n<p>If you want to go the <code>--patch-module</code> route, you can not use the whole <code>rt.jar</code>. You will have to create a jar file with just the classes in <code>sun.misc</code> that you need.</p>\n<p>For the base 64 encoder/decoder, it seems that at least <code>BASE64Decoder</code>, <code>BASE64Encoder</code>, <code>CharacterDecoder</code>, <code>CharacterEncoder</code>, and <code>CSStreamExhausted</code> are needed, all in the <code>sun.misc</code> package. If I create a jar with just those classes, and use that jar as an argument to <code>--patch-module</code>, I'm able to decode the string from your comment. (but, more classes might be needed for a more complex use case. I didn't test that far).</p>\n<hr />\n<p>But, I'll also note that, as tgdavies pointed out, your string is not a valid base 64 string, according to the alphabet table in the spec: <a href=\"https://www.rfc-editor.org/rfc/rfc2045#page-25\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc2045#page-25</a> (the same spec followed by the MIME encoder/decoder). The <code>:</code> is illegal, and it is ignored by the decoder, which means the trailing <code>=</code> used for padding is causing issue (you can also remove the <code>=</code> at the end to get the string to decode).</p>\n<p>I'd recommend trying to sanitize your base 64 string and using the public base 64 API. That will probably be less of a hassle to keep working in the long term.</p>\n"}],"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74737089,"answer_count":1,"score":0,"last_activity_date":1670691838,"creation_date":1670533952,"question_id":74736383,"body_markdown":"For various reasons, I need to continue to use some `sun.misc` classes in Java 17, specifically the BASE64Decoder class. (The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.) I&#39;m planning to use the rt.jar file, provided in OpenJDK 8, as the source for these classes, and I&#39;m patching the `jdk.unsupported` module.\r\n\r\nWith the following example class, I&#39;m able to compile it using `javac --patch-module=jdk.unsupported=/path/to/rt.jar TestDecoder.java`\r\n\r\n```java\r\nimport sun.misc.BASE64Encoder;\r\n\r\npublic class TestDecoder {\r\n\r\n  public static void main(String[] args) {\r\n      System.out.println(new BASE64Encoder().encode(new byte[0]));\r\n  }\r\n}\r\n```\r\n\r\nIt [seems that][1] in versions of Java prior to Java 17, it was possible to then run it with patch-module:\r\n\r\n```\r\njava --patch-module=jdk.unsupported=/path/to/rt.jar \\ \r\n     -cp /path/to/rt.jar \\\r\n     TestDecoder.class\r\n```\r\n\r\nHowever, in Java 17, this fails with `java.lang.module.ResolutionException: Module jdk.unsupported contains package java.time.zone, module java.base exports package java.time.zone to jdk.unsupported`. It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module. Is there any way to work around this?\r\n\r\nVersions:\r\n```\r\n$ java --version\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment (build 17.0.2+8-86)\r\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\r\n$ javac --version\r\njavac 17.0.2\r\n```\r\n\r\n(The Java 11 version of this question is https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes, this is *not* a duplicate of that question.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes/56409662#56409662","title":"Patch jdk.unsupported module in Java 17","body":"<p>For various reasons, I need to continue to use some <code>sun.misc</code> classes in Java 17, specifically the BASE64Decoder class. (The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.) I'm planning to use the rt.jar file, provided in OpenJDK 8, as the source for these classes, and I'm patching the <code>jdk.unsupported</code> module.</p>\n<p>With the following example class, I'm able to compile it using <code>javac --patch-module=jdk.unsupported=/path/to/rt.jar TestDecoder.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import sun.misc.BASE64Encoder;\n\npublic class TestDecoder {\n\n  public static void main(String[] args) {\n      System.out.println(new BASE64Encoder().encode(new byte[0]));\n  }\n}\n</code></pre>\n<p>It <a href=\"https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes/56409662#56409662\">seems that</a> in versions of Java prior to Java 17, it was possible to then run it with patch-module:</p>\n<pre><code>java --patch-module=jdk.unsupported=/path/to/rt.jar \\ \n     -cp /path/to/rt.jar \\\n     TestDecoder.class\n</code></pre>\n<p>However, in Java 17, this fails with <code>java.lang.module.ResolutionException: Module jdk.unsupported contains package java.time.zone, module java.base exports package java.time.zone to jdk.unsupported</code>. It seems like since java.base exports to jdk.unsupported, it's not possible to patch the jdk.unsupported module. Is there any way to work around this?</p>\n<p>Versions:</p>\n<pre><code>$ java --version\nopenjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-86)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\n$ javac --version\njavac 17.0.2\n</code></pre>\n<p>(The Java 11 version of this question is <a href=\"https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes\">Why is the Java 11 runtime ignoring my jar containing sun.misc classes?</a>, this is <em>not</em> a duplicate of that question.)</p>\n"},{"tags":["java","interface"],"owner":{"account_id":27212421,"reputation":1,"user_id":20743011,"display_name":"0xKnR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670694877,"answer_count":0,"score":0,"last_activity_date":1670691730,"creation_date":1670691730,"question_id":74754915,"body_markdown":"I have an assignment to create a game in Java, so right now I&#39;m making the stub implementations for classes. I want to make them as rigorously as possible, so that&#39;s why I&#39;m asking: \r\n\r\n\r\nWhat is the difference between an Interface declared in a class and an Interface declared as a file? Let&#39;s say, I have the following 2 pieces of code:\r\n\r\n\r\n```\r\npublic class Test {\r\n\r\nprivate int firstNumber;\r\nprivate int secondNumber;\r\n\r\npublic void testMethod() {}\r\n\r\n**public interface Interface1{\r\n// some methods\r\n}**\r\n```\r\n\r\nand \r\n\r\n```\r\npublic Interface Interface2 {\r\n// some methods \r\n}\r\n```\r\n\r\nCan I do something more ( i.e. access ) with Interface1 that I cannot do with Interface2 or vice versa?\r\n\r\nP.S.: Started OOP a couple of weeks ago, take me easy :-)! \r\n\r\nI made a class  in which I declared an interface and an interface as a file and they seem to have the same functionalities, but maybe I&#39;m missing something important here.","title":"Difference between Interface declared in Class and Interface declared as a file","body":"<p>I have an assignment to create a game in Java, so right now I'm making the stub implementations for classes. I want to make them as rigorously as possible, so that's why I'm asking:</p>\n<p>What is the difference between an Interface declared in a class and an Interface declared as a file? Let's say, I have the following 2 pieces of code:</p>\n<pre><code>public class Test {\n\nprivate int firstNumber;\nprivate int secondNumber;\n\npublic void testMethod() {}\n\n**public interface Interface1{\n// some methods\n}**\n</code></pre>\n<p>and</p>\n<pre><code>public Interface Interface2 {\n// some methods \n}\n</code></pre>\n<p>Can I do something more ( i.e. access ) with Interface1 that I cannot do with Interface2 or vice versa?</p>\n<p>P.S.: Started OOP a couple of weeks ago, take me easy :-)!</p>\n<p>I made a class  in which I declared an interface and an interface as a file and they seem to have the same functionalities, but maybe I'm missing something important here.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2517927,"reputation":1079,"user_id":2188893,"accept_rate":75,"display_name":"PragmaticProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670546353,"creation_date":1670546353,"answer_id":74737804,"question_id":74731267,"body_markdown":"This is a consumer level config which means you would need a brand new consumer instance with a different config and subscribe to only that topic (assuming you want more time to process a set of messages from a specific topic but not the rest you subscribe to).","title":"Configure max.poll.interval.ms for a specified topic","body":"<p>This is a consumer level config which means you would need a brand new consumer instance with a different config and subscribe to only that topic (assuming you want more time to process a set of messages from a specific topic but not the rest you subscribe to).</p>\n"}],"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670691546,"creation_date":1670507332,"question_id":74731267,"body_markdown":"As I can see in this document &lt;https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms&gt; there is a parameter in kafka which controls the maximum time between poll invocations before the consumer will proactively leave the group.\r\n\r\nIs there anyway to configure this parameter to apply to only a specific topic ?","title":"Configure max.poll.interval.ms for a specified topic","body":"<p>As I can see in this document <a href=\"https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms</a> there is a parameter in kafka which controls the maximum time between poll invocations before the consumer will proactively leave the group.</p>\n<p>Is there anyway to configure this parameter to apply to only a specific topic ?</p>\n"},{"tags":["java","spring-boot","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"score":0,"creation_date":1670691811,"post_id":74754888,"comment_id":131933987,"body_markdown":"Try removing `src/main/java/` from the start of the excluded class.","body":"Try removing <code>src&#47;main&#47;java&#47;</code> from the start of the excluded class."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670691984,"post_id":74754888,"comment_id":131934030,"body_markdown":"Can you please share your requirement why you want to do this?","body":"Can you please share your requirement why you want to do this?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670692861,"post_id":74754888,"comment_id":131934192,"body_markdown":"Based on your configuration this is a class which you have added to your project.. If you don&#39;t like to have it there.. just simply remove it... furthermore based on the given spring-boot-maven-plugin it does not makes sense to use maven-shade-plugin use the spring-boot-maven-plugin instead...","body":"Based on your configuration this is a class which you have added to your project.. If you don&#39;t like to have it there.. just simply remove it... furthermore based on the given spring-boot-maven-plugin it does not makes sense to use maven-shade-plugin use the spring-boot-maven-plugin instead..."}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670691430,"creation_date":1670691430,"question_id":74754888,"body_markdown":"I am working with a Spring Boot application, where I have added one dependency in pom.xml, but I would like to remove one specific class from one of the dependencies as follows:\r\n\r\n**pom.xml**\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.anotherapp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.10-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalOptions&gt;\r\n                            &lt;additionalOption&gt;-Xdoclint:none&lt;/additionalOption&gt;\r\n                        &lt;/additionalOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.14.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;com.anotherapp:java-commons&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;src/main/java/com/anotherapp/exception/TcInternalExceptionAspect.*&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                        &lt;/filters&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;\r\n                                            com.myapp.MainClass\r\n                                        &lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;prod&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;filesets&gt;\r\n                                    &lt;fileset&gt;\r\n                                        &lt;directory&gt;target/classes/static/&lt;/directory&gt;\r\n                                    &lt;/fileset&gt;\r\n                                &lt;/filesets&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plug&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nHere, in this project, as you can see in the above pom, I would like to exclude the class: `TcInternalExceptionAspect` from the dependency `java-commons`. As recommended in a few posts here, I included the `shade` plugin.\r\n\r\nBut, after the build is complete, I am still able to see the `TcInternalExceptionAspect` class in the final jar file. I am not able to understand, what I am missing here.\r\n\r\nIn this context, I have gone through this: https://stackoverflow.com/questions/59537306/how-to-exclude-specific-class-from-a-maven-dependency-jar-dependency-at-runti, but it did not help.\r\n\r\nCould anyone please help here? Thanks.","title":"Exclude a specific class from Maven dependency at runtime","body":"<p>I am working with a Spring Boot application, where I have added one dependency in pom.xml, but I would like to remove one specific class from one of the dependencies as follows:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.anotherapp&lt;/groupId&gt;\n            &lt;artifactId&gt;java-commons&lt;/artifactId&gt;\n            &lt;version&gt;0.0.10-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;additionalOptions&gt;\n                        &lt;additionalOption&gt;-Xdoclint:none&lt;/additionalOption&gt;\n                    &lt;/additionalOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.14.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;com.anotherapp:java-commons&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;src/main/java/com/anotherapp/exception/TcInternalExceptionAspect.*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;\n                                        com.myapp.MainClass\n                                    &lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;filesets&gt;\n                                &lt;fileset&gt;\n                                    &lt;directory&gt;target/classes/static/&lt;/directory&gt;\n                                &lt;/fileset&gt;\n                            &lt;/filesets&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-info&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plug&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here, in this project, as you can see in the above pom, I would like to exclude the class: <code>TcInternalExceptionAspect</code> from the dependency <code>java-commons</code>. As recommended in a few posts here, I included the <code>shade</code> plugin.</p>\n<p>But, after the build is complete, I am still able to see the <code>TcInternalExceptionAspect</code> class in the final jar file. I am not able to understand, what I am missing here.</p>\n<p>In this context, I have gone through this: <a href=\"https://stackoverflow.com/questions/59537306/how-to-exclude-specific-class-from-a-maven-dependency-jar-dependency-at-runti\">How to exclude specific class from a Maven dependency ( Jar dependency) at runtime</a>, but it did not help.</p>\n<p>Could anyone please help here? Thanks.</p>\n"},{"tags":["java"],"owner":{"account_id":4169156,"reputation":3,"user_id":3417390,"display_name":"user3417390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670691322,"creation_date":1670691070,"question_id":74754847,"body_markdown":"I have a Document Generator class that takes in the values that need to be written, writes them to the document using a third party document creation tool and returns the generated document. \r\n\r\nThe thing is, the class can load 1 of 2 templates, depending on if one of the values passed in is positive or negative.  Both templates write to mostly the same fields, but the negative template is missing a few of these, so they do not need to be written given the negative case.\r\n\r\nWhat would be the best way to go about this?  My solution was to just use if statements to load the different template and set the appropriate values.  But this doesn&#39;t feel very extensible to me, adding additional templates would make the code messier.  \r\n\r\nOne solution I had considered was using an Interface and creating separate classes for both templates, and have them set their own fields.  But both templates are nearly identical, so I feel like this would add too much code duplication.\r\n\r\nHere&#39;s roughly what my code looks like:\r\n\r\nClass that calls the document generator:\r\n\r\n    public class DocumentService {\r\n\r\n    private final DocumentGenerator documentGenerator;\r\n\r\n    public Document getDocument(DocumentValues documentValues) {\r\n          return documentGenerator.createDocument(documentValues)\r\n      }\r\n    }\r\n\r\nDocument generator class:\r\n\r\n    public class DocumentGenerator {\r\n            \r\n    public Document createDocument(DocumentValues documentValues) {\r\n            ThirdPartyDocumentTool document;\r\n            \r\n            if (documentValues.invoiceAmount &gt;= 0)\r\n                document.setTemplate(&quot;Positive-Invoice.pdf&quot;)\r\n            else\r\n                document.setTemplate(&quot;Negative-Invoice.pdf&quot;)\r\n            \r\n            document.setField(&quot;key1&quot;, documentValues.value1)\r\n            document.setField(&quot;key2&quot;, documentValues.value2)\r\n            document.setField(&quot;key3&quot;, documentValues.value3)\r\n            ...\r\n        \r\n            if (documentValues.invoiceAmount &gt;= 0) {\r\n               document.setField(&quot;key8&quot;, documentValues.value8)\r\n               document.setField(&quot;key9&quot;, documentValues.value9)\r\n            }\r\n\r\n            return document.createDocument()\r\n                  }\r\n                }\r\n\r\nThank you for your time!","title":"Best way to create two large objects with similar fields in Java","body":"<p>I have a Document Generator class that takes in the values that need to be written, writes them to the document using a third party document creation tool and returns the generated document.</p>\n<p>The thing is, the class can load 1 of 2 templates, depending on if one of the values passed in is positive or negative.  Both templates write to mostly the same fields, but the negative template is missing a few of these, so they do not need to be written given the negative case.</p>\n<p>What would be the best way to go about this?  My solution was to just use if statements to load the different template and set the appropriate values.  But this doesn't feel very extensible to me, adding additional templates would make the code messier.</p>\n<p>One solution I had considered was using an Interface and creating separate classes for both templates, and have them set their own fields.  But both templates are nearly identical, so I feel like this would add too much code duplication.</p>\n<p>Here's roughly what my code looks like:</p>\n<p>Class that calls the document generator:</p>\n<pre><code>public class DocumentService {\n\nprivate final DocumentGenerator documentGenerator;\n\npublic Document getDocument(DocumentValues documentValues) {\n      return documentGenerator.createDocument(documentValues)\n  }\n}\n</code></pre>\n<p>Document generator class:</p>\n<pre><code>public class DocumentGenerator {\n        \npublic Document createDocument(DocumentValues documentValues) {\n        ThirdPartyDocumentTool document;\n        \n        if (documentValues.invoiceAmount &gt;= 0)\n            document.setTemplate(&quot;Positive-Invoice.pdf&quot;)\n        else\n            document.setTemplate(&quot;Negative-Invoice.pdf&quot;)\n        \n        document.setField(&quot;key1&quot;, documentValues.value1)\n        document.setField(&quot;key2&quot;, documentValues.value2)\n        document.setField(&quot;key3&quot;, documentValues.value3)\n        ...\n    \n        if (documentValues.invoiceAmount &gt;= 0) {\n           document.setField(&quot;key8&quot;, documentValues.value8)\n           document.setField(&quot;key9&quot;, documentValues.value9)\n        }\n\n        return document.createDocument()\n              }\n            }\n</code></pre>\n<p>Thank you for your time!</p>\n"},{"tags":["java","eclipse","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670413916,"creation_date":1670413916,"answer_id":74716258,"question_id":74714425,"body_markdown":"Normally all unimplemented step definitions should throw an exception unless somebody deleted them intentionally. Of course this might depend on the version of cucumber you use.\r\nAlso IDE should color unimplemented step definitions differently. Intellij does it for sure.","title":"How to check that each gherkin has a java code associated?","body":"<p>Normally all unimplemented step definitions should throw an exception unless somebody deleted them intentionally. Of course this might depend on the version of cucumber you use.\nAlso IDE should color unimplemented step definitions differently. Intellij does it for sure.</p>\n"},{"tags":[],"owner":{"account_id":27175488,"reputation":1,"user_id":20711544,"display_name":"Oscar Le Carlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670690983,"creation_date":1670690983,"answer_id":74754843,"question_id":74714425,"body_markdown":"I found 2 solutions.\r\n\r\n 1. During editing on eclipse\r\n\r\nMy Cucumber Plugin was not working properly on eclipse. I had to do this : **right click on my-project &gt; configure &gt; Convert to cucumber project** ([see screenshot][1])\r\n. Then the gherkin synthax is highlighted ([see screenshot][1]). That&#39;s better.\r\n\r\n 2. During compilation\r\n\r\nWhen using --dry-run, the compilation ONLY CHECKS that gherkin code has a corresponding function. You can execute it directly on the folder of all features files.\r\n\r\n    mvn clean test -DbaseUrl=&quot;xxx&quot; -Dselenium.url=&quot;xx&quot; -Dcucumber.options=&quot;--dry-run classpath:features/&quot; -Dtest=Runner\r\n\r\nResult\r\n\r\n    1120 Scenarios (1119 skipped, 1 undefined)\r\n    7616 Steps (7615 skipped, 1 undefined)\r\n    0m0,000s\r\n    \r\n    \r\n    You can implement missing steps with the snippets below:\r\n    \r\n    @Then(&quot;^I am on login page$&quot;)\r\n    public void IAmOnLoginPage() throws Throwable {\r\n        // Write code here that turns the phrase above into concrete actions\r\n        throw new PendingException();\r\n    }\r\n\r\nThat&#39;s perfect !\r\n\r\n  [1]: https://i.stack.imgur.com/JpTDV.png","title":"How to check that each gherkin has a java code associated?","body":"<p>I found 2 solutions.</p>\n<ol>\n<li>During editing on eclipse</li>\n</ol>\n<p>My Cucumber Plugin was not working properly on eclipse. I had to do this : <strong>right click on my-project &gt; configure &gt; Convert to cucumber project</strong> (<a href=\"https://i.stack.imgur.com/JpTDV.png\" rel=\"nofollow noreferrer\">see screenshot</a>)\n. Then the gherkin synthax is highlighted (<a href=\"https://i.stack.imgur.com/JpTDV.png\" rel=\"nofollow noreferrer\">see screenshot</a>). That's better.</p>\n<ol start=\"2\">\n<li>During compilation</li>\n</ol>\n<p>When using --dry-run, the compilation ONLY CHECKS that gherkin code has a corresponding function. You can execute it directly on the folder of all features files.</p>\n<pre><code>mvn clean test -DbaseUrl=&quot;xxx&quot; -Dselenium.url=&quot;xx&quot; -Dcucumber.options=&quot;--dry-run classpath:features/&quot; -Dtest=Runner\n</code></pre>\n<p>Result</p>\n<pre><code>1120 Scenarios (1119 skipped, 1 undefined)\n7616 Steps (7615 skipped, 1 undefined)\n0m0,000s\n\n\nYou can implement missing steps with the snippets below:\n\n@Then(&quot;^I am on login page$&quot;)\npublic void IAmOnLoginPage() throws Throwable {\n    // Write code here that turns the phrase above into concrete actions\n    throw new PendingException();\n}\n</code></pre>\n<p>That's perfect !</p>\n"}],"owner":{"account_id":27175488,"reputation":1,"user_id":20711544,"display_name":"Oscar Le Carlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670690983,"creation_date":1670405510,"question_id":74714425,"body_markdown":"I&#39;m writing automated tests in eclipse through cucumber, java and selnium. All works.\r\n\r\nMy question is : Is there a way to check that each &#39;gherkin&#39; of all features files has a &#39;java code&#39; associated  ? Before running it ?\r\n\r\nGherkin:\r\n\r\n```\r\nScenario: TNR - Login journey\r\n  Given I am on login page\r\n  When I fill my login\r\n  And I fill my password\r\n  And I click on submit \r\n  Then I am on my personal space\r\n```\r\n\r\nJava with error : \r\n\r\n```\r\n@Given(&quot;^I am on login pageeeeeee$&quot;) \r\npublic void goToLoginPage() { \r\ndriver.get(&quot;http://www.myfoowebsite.com&quot;)\r\n}\r\n```\r\n\r\nI expect to know if a gherkin has no java code associated BEFORE RUNNNING. Or, at last, at the beginning of the running. The purpose is to know it sooner to correct it.\r\n\r\n","title":"How to check that each gherkin has a java code associated?","body":"<p>I'm writing automated tests in eclipse through cucumber, java and selnium. All works.</p>\n<p>My question is : Is there a way to check that each 'gherkin' of all features files has a 'java code' associated  ? Before running it ?</p>\n<p>Gherkin:</p>\n<pre><code>Scenario: TNR - Login journey\n  Given I am on login page\n  When I fill my login\n  And I fill my password\n  And I click on submit \n  Then I am on my personal space\n</code></pre>\n<p>Java with error :</p>\n<pre><code>@Given(&quot;^I am on login pageeeeeee$&quot;) \npublic void goToLoginPage() { \ndriver.get(&quot;http://www.myfoowebsite.com&quot;)\n}\n</code></pre>\n<p>I expect to know if a gherkin has no java code associated BEFORE RUNNNING. Or, at last, at the beginning of the running. The purpose is to know it sooner to correct it.</p>\n"},{"tags":["java","android","android-studio","android-mediaplayer","android-imageview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670699723,"post_id":74754488,"comment_id":131935650,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25369067,"reputation":11,"user_id":19183195,"display_name":"Ashile The Great"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670690468,"creation_date":1670688211,"question_id":74754488,"body_markdown":"I have an app that has a `fragment` with chat to admin. View is represented by a `recyclerView`. Ofc I&#39;m at the beginning of app, but I have some problems.\r\n\r\n1- Here is the view. If we press `&quot;play button&quot;` in a message, its goes invisible and `&quot;pause button&quot;` appears and vice versa. After recording two audio and trying to `&quot;play&quot;` the second message after first one,  first message button view stays as a `&quot;pause button&quot;` and don&#39;t reset. I want `&quot;pause button&quot;` of first message change back to `&quot;play button&quot;` (like it&#39;s ready to play from start) and there is my `seekBar` that has to reset too. `Mediaplayer` works fine. How can I depend my second message as an item of RecyclerView to first message and do the toggle properly?\r\n\r\n2- My second question is more general. When I scroll down my messages list and scroll back up while my `audio message is playing`, it&#39;s stop playing. I know how `RecyclerView` works about recycle messages on scroll but how can I prevent or deal with it?\r\n\r\nSearched a lot but couldn&#39;t find a proper answer to my problem. Here is a part of my code (sorry if it&#39;s messy):\r\n\r\n\r\n\r\n\r\n```\r\nimport android.media.MediaPlayer;\r\nimport android.os.Handler;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.SeekBar;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\nimport saman.zamani.persiandate.PersianDate;\r\nimport saman.zamani.persiandate.PersianDateFormat;\r\n\r\npublic class ChatMessageRecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    //message kinds\r\n    final int DATE_MESSAGE = 1;\r\n    final int SENT_TEXT_MESSAGE = 2;\r\n    final int RECEIVED_TEXT_MESSAGE = 3;\r\n    final int SENT_AUDIO_MESSAGE = 4;\r\n    final int RECEIVED_AUDIO_MESSAGE = 5;\r\n    final int SENT_REPLY_MESSAGE = 6;\r\n    final int RECEIVED_REPLY_MESSAGE = 7;\r\n    final int SENT_REPLY_AUDIO = 8;\r\n    final int RECEIVED_REPLY_AUDIO = 9;\r\n\r\n    ArrayList&lt;ChatMessageBuilder&gt; messageList;\r\n    static String lastPlayed = &quot;&quot;, currentlyPlaying = &quot;&quot;;\r\n    static Handler handler = new Handler();\r\n    static final int delay = 50;\r\n\r\n    public ChatMessageRecyclerViewAdapter(ArrayList&lt;ChatMessageBuilder&gt; messageList) {\r\n        this.messageList = messageList;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return messageList.size();\r\n    }\r\n\r\n    // Determines the appropriate ViewType according to the sender or receiver of the message.\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        if (messageList.get(position).getMessageType() == SENT_TEXT_MESSAGE)\r\n            return SENT_TEXT_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == RECEIVED_TEXT_MESSAGE)\r\n            return RECEIVED_TEXT_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == SENT_AUDIO_MESSAGE)\r\n            return SENT_AUDIO_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == RECEIVED_AUDIO_MESSAGE)\r\n            return RECEIVED_AUDIO_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == RECEIVED_REPLY_MESSAGE)\r\n            return RECEIVED_REPLY_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == SENT_REPLY_MESSAGE)\r\n            return SENT_REPLY_MESSAGE;\r\n\r\n        else if (messageList.get(position).getMessageType() == SENT_REPLY_AUDIO)\r\n            return SENT_REPLY_AUDIO;\r\n\r\n        else if (messageList.get(position).getMessageType() == RECEIVED_REPLY_AUDIO)\r\n            return RECEIVED_REPLY_AUDIO;\r\n\r\n        else\r\n            return DATE_MESSAGE;\r\n    }\r\n\r\n    // Inflates the appropriate layout according to the ViewType.\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view;\r\n\r\n        if (viewType == SENT_TEXT_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_sent_message_layout, parent, false);\r\n            return new SentMessageHolder(view);\r\n        } else if (viewType == RECEIVED_TEXT_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_received_message_layout, parent, false);\r\n            return new ReceivedMessageHolder(view);\r\n        } else if (viewType == SENT_AUDIO_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_sent_recording_message_layout, parent, false);\r\n            return new SentAudioMessageHolder(view);\r\n        } else if (viewType == RECEIVED_AUDIO_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_received_recording_message_layout, parent, false);\r\n            return new ReceivedAudioMessageHolder(view);\r\n        } else if (viewType == SENT_REPLY_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_sent_reply_message_message_layout, parent, false);\r\n            return new SentReplyMessageHolder(view);\r\n        } else if (viewType == RECEIVED_REPLY_MESSAGE) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_received_reply_message_message_layout, parent, false);\r\n            return new ReceivedReplyMessageHolder(view);\r\n        } else if (viewType == SENT_REPLY_AUDIO) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_sent_reply_message_audio_layout, parent, false);\r\n            return new SentReplyAudioHolder(view);\r\n        } else if (viewType == RECEIVED_REPLY_AUDIO) {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_received_reply_message_audio_layout, parent, false);\r\n            return new ReceivedReplyAudioHolder(view);\r\n        } else {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.custom_chat_date_message_layout, parent, false);\r\n            return new DateMessageHolder(view);\r\n        }\r\n\r\n    }\r\n\r\n    // Passes the message object to a ViewHolder so that the contents can be bound to UI.\r\n    @Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n        ChatMessageBuilder message = messageList.get(position);\r\n\r\n        switch (holder.getItemViewType()) {\r\n            case SENT_TEXT_MESSAGE:\r\n                ((SentMessageHolder) holder).bind(message);\r\n                break;\r\n            case RECEIVED_TEXT_MESSAGE:\r\n                ((ReceivedMessageHolder) holder).bind(message);\r\n                break;\r\n            case SENT_AUDIO_MESSAGE:\r\n                ((SentAudioMessageHolder) holder).bind(message);\r\n                break;\r\n            case RECEIVED_AUDIO_MESSAGE:\r\n                ((ReceivedAudioMessageHolder) holder).bind(message);\r\n                break;\r\n            case SENT_REPLY_MESSAGE:\r\n                ((SentReplyMessageHolder) holder).bind(message);\r\n                break;\r\n            case RECEIVED_REPLY_MESSAGE:\r\n                ((ReceivedReplyMessageHolder) holder).bind(message);\r\n                break;\r\n            case SENT_REPLY_AUDIO:\r\n                ((SentReplyAudioHolder) holder).bind(message);\r\n                break;\r\n            case RECEIVED_REPLY_AUDIO:\r\n                ((ReceivedReplyAudioHolder) holder).bind(message);\r\n                break;\r\n            case DATE_MESSAGE:\r\n                ((DateMessageHolder) holder).bind(message);\r\n                break;\r\n        }\r\n    }\r\n\r\n//...\r\n\r\n//type of send an Audio Message\r\n    private static class SentAudioMessageHolder extends RecyclerView.ViewHolder {\r\n        TextView messageTime, messageDuration, messageCurrentPosition;\r\n        ImageView messageStatus, play, pause;\r\n        SeekBar seekBar;\r\n\r\n        public SentAudioMessageHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            messageTime = itemView.findViewById(R.id.messageTime);\r\n            messageStatus = itemView.findViewById(R.id.messageStatus);\r\n            play = itemView.findViewById(R.id.play);\r\n            pause = itemView.findViewById(R.id.pause);\r\n            seekBar = itemView.findViewById(R.id.recordSeekBar);\r\n            messageDuration = itemView.findViewById(R.id.messageDuration);\r\n            messageCurrentPosition = itemView.findViewById(R.id.messageCurrentPosition);\r\n        }\r\n\r\n        void bind(ChatMessageBuilder message) {\r\n            messageTime.setText(message.getMessageTime().substring(message.getMessageTime().length() - 5));\r\n            messageStatus.setImageResource(R.drawable.ic_message_sent);\r\n            final int[] currentTime = {0};\r\n\r\n            if (!message.getMessageText().equals(lastPlayed)) {\r\n                try {\r\n                    ChatMessageInterfaceFragment.audioPlayer.reset();\r\n                    ChatMessageInterfaceFragment.audioPlayer.setDataSource(message.getMessageText());\r\n                    ChatMessageInterfaceFragment.audioPlayer.prepare();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                seekBar.setProgress(0);\r\n                messageDuration.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getDuration()));\r\n                lastPlayed = message.getMessageText();\r\n            }\r\n\r\n            seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {}\r\n\r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {}\r\n\r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n                    ChatMessageInterfaceFragment.audioPlayer.seekTo(seekBar.getProgress());\r\n                }\r\n            });\r\n\r\n\r\n            play.setOnClickListener(view -&gt; {\r\n                handler.removeCallbacksAndMessages(null);\r\n\r\n                if (!message.getMessageText().equals(currentlyPlaying)) {\r\n                    try {\r\n                        ChatMessageInterfaceFragment.audioPlayer.reset();\r\n                        ChatMessageInterfaceFragment.audioPlayer.setDataSource(message.getMessageText());\r\n                        ChatMessageInterfaceFragment.audioPlayer.prepare();\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    seekBar.setMax(ChatMessageInterfaceFragment.audioPlayer.getDuration());\r\n                    messageDuration.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getDuration()));\r\n                    currentlyPlaying = message.getMessageText();\r\n                }\r\n\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        messageCurrentPosition.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition()));\r\n                        seekBar.setProgress(ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition());\r\n                        handler.postDelayed(this, delay);\r\n                    }\r\n                }, delay);\r\n\r\n                messageCurrentPosition.setVisibility(View.INVISIBLE);\r\n                messageDuration.setVisibility(View.VISIBLE);\r\n                ChatMessageInterfaceFragment.audioPlayer.seekTo(currentTime[0]);\r\n                messageCurrentPosition.setText(createTime(currentTime[0]));\r\n                ChatMessageInterfaceFragment.audioPlayer.start();\r\n                play.setVisibility(View.INVISIBLE);\r\n                pause.setVisibility(View.VISIBLE);\r\n                messageCurrentPosition.setVisibility(View.VISIBLE);\r\n                messageDuration.setVisibility(View.INVISIBLE);\r\n\r\n                ChatMessageInterfaceFragment.audioPlayer.setOnCompletionListener(mp -&gt; {\r\n                    seekBar.setProgress(0);\r\n                    currentTime[0] = 0;\r\n                    ChatMessageInterfaceFragment.audioPlayer.seekTo(0);\r\n                    pause.setVisibility(View.INVISIBLE);\r\n                    play.setVisibility(View.VISIBLE);\r\n                    messageCurrentPosition.setVisibility(View.INVISIBLE);\r\n                    messageDuration.setVisibility(View.VISIBLE);\r\n                    handler.removeCallbacksAndMessages(null);\r\n                });\r\n\r\n            });\r\n\r\n            pause.setOnClickListener(view -&gt; {\r\n                if (currentlyPlaying.equals(message.getMessageText())) {\r\n                    currentTime[0] = ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition();\r\n                    ChatMessageInterfaceFragment.audioPlayer.pause();\r\n                }\r\n                play.setVisibility(View.VISIBLE);\r\n                pause.setVisibility(View.INVISIBLE);\r\n            });\r\n        }\r\n    }\r\n\r\n//...\r\n\r\n    public static String createTime(int duration) {\r\n        String time = &quot;&quot;;\r\n        int min = duration / 1000 / 60;\r\n        int sec = duration / 1000 % 60;\r\n        if (min &lt; 10) {\r\n            time += &quot;0&quot;;\r\n        }\r\n        time += min + &quot;:&quot;;\r\n\r\n        if (sec &lt; 10) {\r\n            time += &quot;0&quot;;\r\n        }\r\n        time += sec;\r\n        return time;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI removed extra codes to be more clear. Thanks in advance.\r\n\r\n","title":"Proper toggling between play/pause buttons in chat app with audio messages defined","body":"<p>I have an app that has a <code>fragment</code> with chat to admin. View is represented by a <code>recyclerView</code>. Ofc I'm at the beginning of app, but I have some problems.</p>\n<p>1- Here is the view. If we press <code>&quot;play button&quot;</code> in a message, its goes invisible and <code>&quot;pause button&quot;</code> appears and vice versa. After recording two audio and trying to <code>&quot;play&quot;</code> the second message after first one,  first message button view stays as a <code>&quot;pause button&quot;</code> and don't reset. I want <code>&quot;pause button&quot;</code> of first message change back to <code>&quot;play button&quot;</code> (like it's ready to play from start) and there is my <code>seekBar</code> that has to reset too. <code>Mediaplayer</code> works fine. How can I depend my second message as an item of RecyclerView to first message and do the toggle properly?</p>\n<p>2- My second question is more general. When I scroll down my messages list and scroll back up while my <code>audio message is playing</code>, it's stop playing. I know how <code>RecyclerView</code> works about recycle messages on scroll but how can I prevent or deal with it?</p>\n<p>Searched a lot but couldn't find a proper answer to my problem. Here is a part of my code (sorry if it's messy):</p>\n<pre><code>import android.media.MediaPlayer;\nimport android.os.Handler;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport saman.zamani.persiandate.PersianDate;\nimport saman.zamani.persiandate.PersianDateFormat;\n\npublic class ChatMessageRecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    //message kinds\n    final int DATE_MESSAGE = 1;\n    final int SENT_TEXT_MESSAGE = 2;\n    final int RECEIVED_TEXT_MESSAGE = 3;\n    final int SENT_AUDIO_MESSAGE = 4;\n    final int RECEIVED_AUDIO_MESSAGE = 5;\n    final int SENT_REPLY_MESSAGE = 6;\n    final int RECEIVED_REPLY_MESSAGE = 7;\n    final int SENT_REPLY_AUDIO = 8;\n    final int RECEIVED_REPLY_AUDIO = 9;\n\n    ArrayList&lt;ChatMessageBuilder&gt; messageList;\n    static String lastPlayed = &quot;&quot;, currentlyPlaying = &quot;&quot;;\n    static Handler handler = new Handler();\n    static final int delay = 50;\n\n    public ChatMessageRecyclerViewAdapter(ArrayList&lt;ChatMessageBuilder&gt; messageList) {\n        this.messageList = messageList;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public int getItemCount() {\n        return messageList.size();\n    }\n\n    // Determines the appropriate ViewType according to the sender or receiver of the message.\n    @Override\n    public int getItemViewType(int position) {\n        if (messageList.get(position).getMessageType() == SENT_TEXT_MESSAGE)\n            return SENT_TEXT_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == RECEIVED_TEXT_MESSAGE)\n            return RECEIVED_TEXT_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == SENT_AUDIO_MESSAGE)\n            return SENT_AUDIO_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == RECEIVED_AUDIO_MESSAGE)\n            return RECEIVED_AUDIO_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == RECEIVED_REPLY_MESSAGE)\n            return RECEIVED_REPLY_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == SENT_REPLY_MESSAGE)\n            return SENT_REPLY_MESSAGE;\n\n        else if (messageList.get(position).getMessageType() == SENT_REPLY_AUDIO)\n            return SENT_REPLY_AUDIO;\n\n        else if (messageList.get(position).getMessageType() == RECEIVED_REPLY_AUDIO)\n            return RECEIVED_REPLY_AUDIO;\n\n        else\n            return DATE_MESSAGE;\n    }\n\n    // Inflates the appropriate layout according to the ViewType.\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view;\n\n        if (viewType == SENT_TEXT_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_sent_message_layout, parent, false);\n            return new SentMessageHolder(view);\n        } else if (viewType == RECEIVED_TEXT_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_received_message_layout, parent, false);\n            return new ReceivedMessageHolder(view);\n        } else if (viewType == SENT_AUDIO_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_sent_recording_message_layout, parent, false);\n            return new SentAudioMessageHolder(view);\n        } else if (viewType == RECEIVED_AUDIO_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_received_recording_message_layout, parent, false);\n            return new ReceivedAudioMessageHolder(view);\n        } else if (viewType == SENT_REPLY_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_sent_reply_message_message_layout, parent, false);\n            return new SentReplyMessageHolder(view);\n        } else if (viewType == RECEIVED_REPLY_MESSAGE) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_received_reply_message_message_layout, parent, false);\n            return new ReceivedReplyMessageHolder(view);\n        } else if (viewType == SENT_REPLY_AUDIO) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_sent_reply_message_audio_layout, parent, false);\n            return new SentReplyAudioHolder(view);\n        } else if (viewType == RECEIVED_REPLY_AUDIO) {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_received_reply_message_audio_layout, parent, false);\n            return new ReceivedReplyAudioHolder(view);\n        } else {\n            view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.custom_chat_date_message_layout, parent, false);\n            return new DateMessageHolder(view);\n        }\n\n    }\n\n    // Passes the message object to a ViewHolder so that the contents can be bound to UI.\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        ChatMessageBuilder message = messageList.get(position);\n\n        switch (holder.getItemViewType()) {\n            case SENT_TEXT_MESSAGE:\n                ((SentMessageHolder) holder).bind(message);\n                break;\n            case RECEIVED_TEXT_MESSAGE:\n                ((ReceivedMessageHolder) holder).bind(message);\n                break;\n            case SENT_AUDIO_MESSAGE:\n                ((SentAudioMessageHolder) holder).bind(message);\n                break;\n            case RECEIVED_AUDIO_MESSAGE:\n                ((ReceivedAudioMessageHolder) holder).bind(message);\n                break;\n            case SENT_REPLY_MESSAGE:\n                ((SentReplyMessageHolder) holder).bind(message);\n                break;\n            case RECEIVED_REPLY_MESSAGE:\n                ((ReceivedReplyMessageHolder) holder).bind(message);\n                break;\n            case SENT_REPLY_AUDIO:\n                ((SentReplyAudioHolder) holder).bind(message);\n                break;\n            case RECEIVED_REPLY_AUDIO:\n                ((ReceivedReplyAudioHolder) holder).bind(message);\n                break;\n            case DATE_MESSAGE:\n                ((DateMessageHolder) holder).bind(message);\n                break;\n        }\n    }\n\n//...\n\n//type of send an Audio Message\n    private static class SentAudioMessageHolder extends RecyclerView.ViewHolder {\n        TextView messageTime, messageDuration, messageCurrentPosition;\n        ImageView messageStatus, play, pause;\n        SeekBar seekBar;\n\n        public SentAudioMessageHolder(@NonNull View itemView) {\n            super(itemView);\n            messageTime = itemView.findViewById(R.id.messageTime);\n            messageStatus = itemView.findViewById(R.id.messageStatus);\n            play = itemView.findViewById(R.id.play);\n            pause = itemView.findViewById(R.id.pause);\n            seekBar = itemView.findViewById(R.id.recordSeekBar);\n            messageDuration = itemView.findViewById(R.id.messageDuration);\n            messageCurrentPosition = itemView.findViewById(R.id.messageCurrentPosition);\n        }\n\n        void bind(ChatMessageBuilder message) {\n            messageTime.setText(message.getMessageTime().substring(message.getMessageTime().length() - 5));\n            messageStatus.setImageResource(R.drawable.ic_message_sent);\n            final int[] currentTime = {0};\n\n            if (!message.getMessageText().equals(lastPlayed)) {\n                try {\n                    ChatMessageInterfaceFragment.audioPlayer.reset();\n                    ChatMessageInterfaceFragment.audioPlayer.setDataSource(message.getMessageText());\n                    ChatMessageInterfaceFragment.audioPlayer.prepare();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                seekBar.setProgress(0);\n                messageDuration.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getDuration()));\n                lastPlayed = message.getMessageText();\n            }\n\n            seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n                @Override\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {}\n\n                @Override\n                public void onStartTrackingTouch(SeekBar seekBar) {}\n\n                @Override\n                public void onStopTrackingTouch(SeekBar seekBar) {\n                    ChatMessageInterfaceFragment.audioPlayer.seekTo(seekBar.getProgress());\n                }\n            });\n\n\n            play.setOnClickListener(view -&gt; {\n                handler.removeCallbacksAndMessages(null);\n\n                if (!message.getMessageText().equals(currentlyPlaying)) {\n                    try {\n                        ChatMessageInterfaceFragment.audioPlayer.reset();\n                        ChatMessageInterfaceFragment.audioPlayer.setDataSource(message.getMessageText());\n                        ChatMessageInterfaceFragment.audioPlayer.prepare();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    seekBar.setMax(ChatMessageInterfaceFragment.audioPlayer.getDuration());\n                    messageDuration.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getDuration()));\n                    currentlyPlaying = message.getMessageText();\n                }\n\n                handler.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        messageCurrentPosition.setText(createTime(ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition()));\n                        seekBar.setProgress(ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition());\n                        handler.postDelayed(this, delay);\n                    }\n                }, delay);\n\n                messageCurrentPosition.setVisibility(View.INVISIBLE);\n                messageDuration.setVisibility(View.VISIBLE);\n                ChatMessageInterfaceFragment.audioPlayer.seekTo(currentTime[0]);\n                messageCurrentPosition.setText(createTime(currentTime[0]));\n                ChatMessageInterfaceFragment.audioPlayer.start();\n                play.setVisibility(View.INVISIBLE);\n                pause.setVisibility(View.VISIBLE);\n                messageCurrentPosition.setVisibility(View.VISIBLE);\n                messageDuration.setVisibility(View.INVISIBLE);\n\n                ChatMessageInterfaceFragment.audioPlayer.setOnCompletionListener(mp -&gt; {\n                    seekBar.setProgress(0);\n                    currentTime[0] = 0;\n                    ChatMessageInterfaceFragment.audioPlayer.seekTo(0);\n                    pause.setVisibility(View.INVISIBLE);\n                    play.setVisibility(View.VISIBLE);\n                    messageCurrentPosition.setVisibility(View.INVISIBLE);\n                    messageDuration.setVisibility(View.VISIBLE);\n                    handler.removeCallbacksAndMessages(null);\n                });\n\n            });\n\n            pause.setOnClickListener(view -&gt; {\n                if (currentlyPlaying.equals(message.getMessageText())) {\n                    currentTime[0] = ChatMessageInterfaceFragment.audioPlayer.getCurrentPosition();\n                    ChatMessageInterfaceFragment.audioPlayer.pause();\n                }\n                play.setVisibility(View.VISIBLE);\n                pause.setVisibility(View.INVISIBLE);\n            });\n        }\n    }\n\n//...\n\n    public static String createTime(int duration) {\n        String time = &quot;&quot;;\n        int min = duration / 1000 / 60;\n        int sec = duration / 1000 % 60;\n        if (min &lt; 10) {\n            time += &quot;0&quot;;\n        }\n        time += min + &quot;:&quot;;\n\n        if (sec &lt; 10) {\n            time += &quot;0&quot;;\n        }\n        time += sec;\n        return time;\n    }\n\n}\n\n</code></pre>\n<p>I removed extra codes to be more clear. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1669636855,"post_id":74585604,"comment_id":131679871,"body_markdown":"You can find a section in the Spring Security reference documentation describing exactly this https://docs.spring.io/spring-security/reference/5.8/servlet/configuration/java.html#_multiple_httpsecurity","body":"You can find a section in the Spring Security reference documentation describing exactly this <a href=\"https://docs.spring.io/spring-security/reference/5.8/servlet/configuration/java.html#_multiple_httpsecurity\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/servlet/&hellip;</a>"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1669657809,"post_id":74585604,"comment_id":131687360,"body_markdown":"@EleftheriaStein-Kousathana ohhh, thanks so much!!! Idk why Iâm not found it before :c Thanks :)","body":"@EleftheriaStein-Kousathana ohhh, thanks so much!!! Idk why Iâm not found it before :c Thanks :)"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1670690006,"creation_date":1669497086,"question_id":74585604,"body_markdown":"I have a problems with new Spring Security API for my MVC and REST client\r\n\r\nHi, I knew that`WebSecurityConfigurerAdapter` is deprecated and now I need use `SecurityFilterChain` and other components of Spring API.\r\nI have Spring-Security application with REST API and MVC. Before this moment I used two instances (Component) of `WebSecurityConfigurerAdapter` for MVC and REST. First has `HttpSecurity` for `formLogin()` authorisation (MVC). Second - for `httpBasic()` authorisation (REST). And now `WebSecurityConfigurerAdapter` is deprecated. How I can use my mechanism with new API? Thanks!\r\n","title":"Alternate for WebSecurityConfigurerAdapter","body":"<p>I have a problems with new Spring Security API for my MVC and REST client</p>\n<p>Hi, I knew that<code>WebSecurityConfigurerAdapter</code> is deprecated and now I need use <code>SecurityFilterChain</code> and other components of Spring API.\nI have Spring-Security application with REST API and MVC. Before this moment I used two instances (Component) of <code>WebSecurityConfigurerAdapter</code> for MVC and REST. First has <code>HttpSecurity</code> for <code>formLogin()</code> authorisation (MVC). Second - for <code>httpBasic()</code> authorisation (REST). And now <code>WebSecurityConfigurerAdapter</code> is deprecated. How I can use my mechanism with new API? Thanks!</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":0,"creation_date":1670690812,"post_id":74754685,"comment_id":131933809,"body_markdown":"If you store anything in the database when user uploads a file, you can maybe have a record for each file, so that you store to whom this file belongs to / who created it. When the user then tries to download the file, you can check if there is a record in the db where created_by = user trying to download.\nThis is just the first thing that came to mind. I am certain there are much better ways to handle what you are trying to do.","body":"If you store anything in the database when user uploads a file, you can maybe have a record for each file, so that you store to whom this file belongs to / who created it. When the user then tries to download the file, you can check if there is a record in the db where created_by = user trying to download. This is just the first thing that came to mind. I am certain there are much better ways to handle what you are trying to do."}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670689754,"creation_date":1670689754,"question_id":74754685,"body_markdown":"how I can secure user files in spring ?\r\n\r\nFor example: I have registered users, and they upload documents into server and stored to some location of the server.\r\nHow I can secure user files by username (Or any param) that another user does not access the files of the current (authorized)?","title":"Securing request for files in Spring","body":"<p>how I can secure user files in spring ?</p>\n<p>For example: I have registered users, and they upload documents into server and stored to some location of the server.\nHow I can secure user files by username (Or any param) that another user does not access the files of the current (authorized)?</p>\n"},{"tags":["java","android","sqlite"],"owner":{"account_id":27210246,"reputation":1,"user_id":20741170,"display_name":"yamyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670689530,"creation_date":1670683835,"question_id":74753947,"body_markdown":"```\r\nSQLiteDatabase db = helper.getReadableDatabase();\r\ndb.execSQL(&quot;BEGIN DEFERRED&quot;);\r\nThread thread = new Thread(() -&gt; {\r\n  db.execSQL(&quot;BEGIN DEFERRED&quot;);\r\n  db.execSQL(&quot;END&quot;);\r\n});\r\nthread.start();\r\ntry {\r\n  thread.join();\r\n} catch (InterruptedException e) {\r\n}\r\ndb.execSQL(&quot;END&quot;);\r\n```\r\n\r\nI expect the 2 transactions run simultaneously but thread.join() never returns.\r\nCould someone explain why?\r\n(Tested on Android 12 emulator)\r\n\r\nEdit:\r\n```\r\nimport sqlite3\r\nimport threading\r\n\r\ndef begin_transaction():\r\n  con = sqlite3.connect(&quot;test.db&quot;)\r\n  con.execute(&quot;BEGIN DEFERRED&quot;)\r\n  con.execute(&quot;END&quot;)\r\n  con.close()\r\n\r\ncon = sqlite3.connect(&quot;test.db&quot;)\r\ncon.execute(&quot;BEGIN DEFERRED&quot;)\r\nthread = threading.Thread(target=begin_transaction)\r\nthread.start()\r\nthread.join()\r\ncon.execute(&quot;END&quot;)\r\ncon.close()\r\n```\r\nThis is an equivalent code in Python, which works properly.\r\nWhat is the difference between the two?","title":"Android SQLite: a deferred transaction acquires some lock without any queries","body":"<pre><code>SQLiteDatabase db = helper.getReadableDatabase();\ndb.execSQL(&quot;BEGIN DEFERRED&quot;);\nThread thread = new Thread(() -&gt; {\n  db.execSQL(&quot;BEGIN DEFERRED&quot;);\n  db.execSQL(&quot;END&quot;);\n});\nthread.start();\ntry {\n  thread.join();\n} catch (InterruptedException e) {\n}\ndb.execSQL(&quot;END&quot;);\n</code></pre>\n<p>I expect the 2 transactions run simultaneously but thread.join() never returns.\nCould someone explain why?\n(Tested on Android 12 emulator)</p>\n<p>Edit:</p>\n<pre><code>import sqlite3\nimport threading\n\ndef begin_transaction():\n  con = sqlite3.connect(&quot;test.db&quot;)\n  con.execute(&quot;BEGIN DEFERRED&quot;)\n  con.execute(&quot;END&quot;)\n  con.close()\n\ncon = sqlite3.connect(&quot;test.db&quot;)\ncon.execute(&quot;BEGIN DEFERRED&quot;)\nthread = threading.Thread(target=begin_transaction)\nthread.start()\nthread.join()\ncon.execute(&quot;END&quot;)\ncon.close()\n</code></pre>\n<p>This is an equivalent code in Python, which works properly.\nWhat is the difference between the two?</p>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647261664,"post_id":71467684,"comment_id":126319199,"body_markdown":"What doesn&#39;t work? What do you get, please add that information to the question. Also the fact that there is `Date` and `Time` I suspect you are using `java.sql.Time`. Don&#39;t use that, stay far from it. Use `javax.time.LocalTime` (and `LocalDate` instead). Finally use an object for the form to bind the parameters instead of individual parameters.","body":"What doesn&#39;t work? What do you get, please add that information to the question. Also the fact that there is <code>Date</code> and <code>Time</code> I suspect you are using <code>java.sql.Time</code>. Don&#39;t use that, stay far from it. Use <code>javax.time.LocalTime</code> (and <code>LocalDate</code> instead). Finally use an object for the form to bind the parameters instead of individual parameters."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647332706,"post_id":71467684,"comment_id":126338302,"body_markdown":"If you can, avoid `Date` and `Time`. Those classes are poorly designed and long outdated and were only meant for use with SQL databases. Instead see if `LocalDate` and `LocalTime` work. Both are from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"If you can, avoid <code>Date</code> and <code>Time</code>. Those classes are poorly designed and long outdated and were only meant for use with SQL databases. Instead see if <code>LocalDate</code> and <code>LocalTime</code> work. Both are from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":20949059,"reputation":1,"user_id":15391177,"display_name":"StudentB"},"score":0,"creation_date":1647525426,"post_id":71467684,"comment_id":126396644,"body_markdown":"Hey guys, thank you for your suggestions. You both were right i was using java.sql.Time. I fixed the problem with Date. I changed it to LocaleDate. But still don&#39;t know how to fix the problem with geting the time.","body":"Hey guys, thank you for your suggestions. You both were right i was using java.sql.Time. I fixed the problem with Date. I changed it to LocaleDate. But still don&#39;t know how to fix the problem with geting the time."}],"answers":[{"tags":[],"owner":{"account_id":20949059,"reputation":1,"user_id":15391177,"display_name":"StudentB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647529717,"creation_date":1647529717,"answer_id":71514659,"question_id":71467684,"body_markdown":" Here is the solution how to pass the time while passing it by field input with type=time\r\n\r\n\r\n       @PostMapping(&quot;/book&quot;)\r\n            public String makeReservation(Model model,\r\n                                          @RequestParam Long objectId,\r\n                                          @RequestParam Integer numPersons,\r\n                                          @RequestParam String date,\r\n                                          @RequestParam String time) {\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n                LocalDate localDate = LocalDate.parse(date, formatter);\r\n                LocalTime localTime = LocalTime.parse(time);\r\n        \r\n                return &quot;redirect:/home&quot;;\r\n            }\r\n\r\n","title":"How to take the time from Java Thymeleaf and send it to the controller? What is the type of parameter?","body":"<p>Here is the solution how to pass the time while passing it by field input with type=time</p>\n<pre><code>   @PostMapping(&quot;/book&quot;)\n        public String makeReservation(Model model,\n                                      @RequestParam Long objectId,\n                                      @RequestParam Integer numPersons,\n                                      @RequestParam String date,\n                                      @RequestParam String time) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n            LocalDate localDate = LocalDate.parse(date, formatter);\n            LocalTime localTime = LocalTime.parse(time);\n    \n            return &quot;redirect:/home&quot;;\n        }\n</code></pre>\n"}],"owner":{"account_id":20949059,"reputation":1,"user_id":15391177,"display_name":"StudentB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670689341,"creation_date":1647260383,"question_id":71467684,"body_markdown":"I am new to Java spring and I am learning how to make reservations. I have assignment to make a web application that helps clients to make reservation in certain coffee that they choose.\r\n\r\nI have booking form where there is an input for date, time and for how many people is the reservation. \r\n\r\nHere is the input field in HTML where I insert only the time.\r\n\r\n    &lt;input type=&quot;time&quot; id=&quot;appt&quot; min=&quot;09:00&quot; max=&quot;21:00&quot;  \r\n           class=&quot;form-control&quot; step=&quot;60&quot; name=&quot;time&quot;&gt;\r\n\r\nMy question is what type should I make the time parameter in the controller.\r\n\r\nHere is also example of the format that is passed for time parameter when I insert 12:00 PM to the input field: **time=12:00**\r\n\r\nWhat should I change in my controller to make it working?\r\n\r\n       @PostMapping( &quot;/book&quot;)\r\n        public String makeReservation(Model model,\r\n                                  @RequestParam Long objectId,\r\n                                  @RequestParam Integer numPersons,\r\n                                  @RequestParam  String date,\r\n                                   @RequestParam   String  time) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate localDate=LocalDate.parse(date,formatter);\r\n            LocalDateTime localDateTime = LocalDateTime.parse(time);\r\n    \r\n            return &quot;master-template&quot;;\r\n        }\r\n\r\nPreviously, I was using java.sql.Time but now I am trying to parse the string time to LocalDateTime but I get this error:\r\n\r\n&gt; java.time.format.DateTimeParseException: Text &#39;12:00&#39; could not be parsed at index 0","title":"How to take the time from Java Thymeleaf and send it to the controller? What is the type of parameter?","body":"<p>I am new to Java spring and I am learning how to make reservations. I have assignment to make a web application that helps clients to make reservation in certain coffee that they choose.</p>\n<p>I have booking form where there is an input for date, time and for how many people is the reservation.</p>\n<p>Here is the input field in HTML where I insert only the time.</p>\n<pre><code>&lt;input type=&quot;time&quot; id=&quot;appt&quot; min=&quot;09:00&quot; max=&quot;21:00&quot;  \n       class=&quot;form-control&quot; step=&quot;60&quot; name=&quot;time&quot;&gt;\n</code></pre>\n<p>My question is what type should I make the time parameter in the controller.</p>\n<p>Here is also example of the format that is passed for time parameter when I insert 12:00 PM to the input field: <strong>time=12:00</strong></p>\n<p>What should I change in my controller to make it working?</p>\n<pre><code>   @PostMapping( &quot;/book&quot;)\n    public String makeReservation(Model model,\n                              @RequestParam Long objectId,\n                              @RequestParam Integer numPersons,\n                              @RequestParam  String date,\n                               @RequestParam   String  time) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate localDate=LocalDate.parse(date,formatter);\n        LocalDateTime localDateTime = LocalDateTime.parse(time);\n\n        return &quot;master-template&quot;;\n    }\n</code></pre>\n<p>Previously, I was using java.sql.Time but now I am trying to parse the string time to LocalDateTime but I get this error:</p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '12:00' could not be parsed at index 0</p>\n</blockquote>\n"},{"tags":["java","maven","intellij-idea","terminal","executable-jar"],"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670688393,"creation_date":1670688393,"question_id":74754507,"body_markdown":"My .executable jar do not show me the same in the IDE console and the Terminal\r\n\r\nHi guys,\r\n\r\nSo I am working on a Maven project with JavaFX in IntelliJ and I need to open the application by using a .executable jar file.\r\n\r\nWhen I run the jar file from the IDE, the console show me my project but when I type `java -jar myproject-1.0-SNAPSHOT.jar`, I get this error :\r\n\r\n\r\n```\r\nError: Could not find or load main class mypackage.myproject.Main     \r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n\r\n```\r\n\r\nI used to have the same error when I would click on run in the IDE but I added in the Run &gt; Config &gt; VM options `--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml`.\r\n\r\nI don&#39;t understand why it would run on IntelliJ but not in the Terminal since I added this. I also cleaned, recompiled, build...\r\n\r\nPlease help me ! Thank you","title":"My Executable Jar file of Maven project run in IDE but not in the Terminal","body":"<p>My .executable jar do not show me the same in the IDE console and the Terminal</p>\n<p>Hi guys,</p>\n<p>So I am working on a Maven project with JavaFX in IntelliJ and I need to open the application by using a .executable jar file.</p>\n<p>When I run the jar file from the IDE, the console show me my project but when I type <code>java -jar myproject-1.0-SNAPSHOT.jar</code>, I get this error :</p>\n<pre><code>Error: Could not find or load main class mypackage.myproject.Main     \nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n\n</code></pre>\n<p>I used to have the same error when I would click on run in the IDE but I added in the Run &gt; Config &gt; VM options <code>--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml</code>.</p>\n<p>I don't understand why it would run on IntelliJ but not in the Terminal since I added this. I also cleaned, recompiled, build...</p>\n<p>Please help me ! Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670688332,"creation_date":1670628669,"answer_id":74749183,"question_id":74748003,"body_markdown":"When `authorizeHttpRequests` is used instead of `authorizeRequests`, then `AuthorizationFilter` is used instead of `FilterSecurityInterceptor`.\r\n\r\nAnd as I understand, prior to Spring Security 6, `AuthorizationFilter` and `FilterSecurityInterceptor` were performing authorization checks on the first request only, but since Spring Security 6, it seems to be applied to every request (i.e. on all dispatcher types) at least for `AuthorizationFilter` (`FilterSecurityInterceptor` is now deprecated).\r\n\r\nSo my guess is that it actually works while your request is non-dispatched but then fail as soon as your request is forwarded to another resource.\r\n\r\nMaybe try to explicitly indicate that you do not want to apply the authorization rules to all dispatcher types, either by using `shouldFilterAllDispatcherTypes` or `dispatcherTypeMatchers`.\r\n\r\nFor example to grant all access on requests with dispatcher type `ASYNC` or `FORWARD` :\r\n\r\n```java\r\nhttp\r\n...\r\n.authorizeHttpRequests()\r\n.dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD).permitAll()\r\n...\r\n```\r\n\r\nOf course you can also customize it to require a specific role (`hasRole`) instead of `permitAll` if needed.\r\n\r\nSee the [documentation](https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html#_tabs_6) for more information.","title":"Unauthorized error: Full authentication is required to access this resource with spring.security v.6","body":"<p>When <code>authorizeHttpRequests</code> is used instead of <code>authorizeRequests</code>, then <code>AuthorizationFilter</code> is used instead of <code>FilterSecurityInterceptor</code>.</p>\n<p>And as I understand, prior to Spring Security 6, <code>AuthorizationFilter</code> and <code>FilterSecurityInterceptor</code> were performing authorization checks on the first request only, but since Spring Security 6, it seems to be applied to every request (i.e. on all dispatcher types) at least for <code>AuthorizationFilter</code> (<code>FilterSecurityInterceptor</code> is now deprecated).</p>\n<p>So my guess is that it actually works while your request is non-dispatched but then fail as soon as your request is forwarded to another resource.</p>\n<p>Maybe try to explicitly indicate that you do not want to apply the authorization rules to all dispatcher types, either by using <code>shouldFilterAllDispatcherTypes</code> or <code>dispatcherTypeMatchers</code>.</p>\n<p>For example to grant all access on requests with dispatcher type <code>ASYNC</code> or <code>FORWARD</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n...\n.authorizeHttpRequests()\n.dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD).permitAll()\n...\n</code></pre>\n<p>Of course you can also customize it to require a specific role (<code>hasRole</code>) instead of <code>permitAll</code> if needed.</p>\n<p>See the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html#_tabs_6\" rel=\"nofollow noreferrer\">documentation</a> for more information.</p>\n"}],"owner":{"account_id":20632808,"reputation":43,"user_id":15147264,"display_name":"Daria MihÄilÄ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74749183,"answer_count":1,"score":2,"last_activity_date":1670688332,"creation_date":1670617546,"question_id":74748003,"body_markdown":"So I am new to Spring Security and I tried to build a Spring Boot app with REST services and also implement Spring Security with JWT. I have followed a security tutorial for the most part and I got the app running but when I try to call an authentication(/auth/**) endpoint I just get the 401 Unauthorized error. Since spring has updated to v 3.0.0 and now `WebSecurityConfigurerAdapter` is deprecated I have changed the configurations accordingly.\r\n\r\n\r\nThis is my configuration file\r\n\r\n```\r\nimport com.example.myshroombackend.security.JwtAuthenticationEntryPoint;\r\nimport com.example.myshroombackend.security.JwtAuthenticationFilter;\r\nimport com.example.myshroombackend.service.AuthServiceImpl;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig{\r\n\r\n    @Autowired\r\n    AuthServiceImpl authService;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Bean JwtAuthenticationFilter jwtAuthenticationFilter(){\r\n        return  new JwtAuthenticationFilter();\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(authService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\r\n        return authConfiguration.getAuthenticationManager();\r\n    }\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/js/**&quot;, &quot;/images/**&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .and()\r\n                .cors()\r\n                .disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/**&quot;).permitAll()  //every /auth/login or /auth/register are permitted\r\n                .anyRequest().authenticated(); //all other requests must be authenticated ==&gt;\r\n                // you first have to authenticate yourself to perform the other requests\r\n\r\n            http.authenticationProvider(authenticationProvider());\r\n http.addFilterBefore(jwtAuthenticationFilter(),UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nmy custom filter\r\n\r\n\r\n```\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    AuthServiceImpl authService;\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NotNull HttpServletRequest request, @NotNull HttpServletResponse response,@NotNull FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        try {\r\n            String jwt = parseJwt(request);\r\n            if (jwt != null &amp;&amp; jwtTokenProvider.validateToken(jwt)) {\r\n                String username = jwtTokenProvider.getUserNameFromToken(jwt);\r\n\r\n                UserDetails userDetails = authService.loadUserByUsername(username);\r\n\r\n                UsernamePasswordAuthenticationToken authentication =\r\n                        new UsernamePasswordAuthenticationToken(userDetails,\r\n                                null,\r\n                                userDetails.getAuthorities());\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n\r\n    }\r\n\r\n    private String parseJwt(HttpServletRequest request) {\r\n        String jwt = jwtTokenProvider.getJwtFromCookies(request);\r\n        return jwt;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nmy token service\r\n\r\n```\r\n\r\nimport com.example.myshroombackend.exception.JwtAuthenticationException;\r\nimport com.example.myshroombackend.service.AuthServiceImpl;\r\nimport com.example.myshroombackend.service.UserDetailsImpl;\r\nimport io.jsonwebtoken.*;\r\nimport jakarta.servlet.http.Cookie;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.ResponseCookie;\r\nimport org.springframework.security.authentication.AuthenticationCredentialsNotFoundException;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport org.springframework.web.util.WebUtils;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.Date;\r\nimport java.util.Optional;\r\n\r\n@Component\r\n@Slf4j\r\npublic class JwtTokenService {\r\n    @Value(&quot;${application.secret&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${application.jwtCookieName}&quot;)\r\n    private String jwtCookie;\r\n\r\n    private AuthServiceImpl authService;\r\n    private static final Instant EXPIRATIONTIME = Instant.now().plus(20, ChronoUnit.HOURS);\r\n\r\n    public String generateToken(String userName) {\r\n        Instant now = Instant.now();\r\n        return Jwts.builder()\r\n                .setSubject(userName)\r\n                .setIssuedAt(Date.from(now))\r\n                .setExpiration(Date.from(EXPIRATIONTIME))\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes(StandardCharsets.UTF_8))\r\n                .compact();\r\n    }\r\n\r\n    public boolean validateToken(String token) {\r\n\r\n        if ((token != null) &amp;&amp; (!&quot;&quot;.equals(token))) {\r\n\r\n            Jws&lt;Claims&gt; claimsJws;\r\n            try{\r\n            claimsJws = Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token);\r\n            if (claimsJws != null) {\r\n                final String userId = Optional\r\n                        .ofNullable(claimsJws.getBody().get(new String(&quot;id&quot;)))\r\n                        .map(Object::toString)//\r\n                        .orElseThrow(\r\n                                () -&gt; new AuthenticationCredentialsNotFoundException(&quot;No username given in jwt&quot;));\r\n            }\r\n            return true;\r\n        } catch (ExpiredJwtException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (UnsupportedJwtException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (MalformedJwtException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (SignatureException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IllegalArgumentException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (AuthenticationCredentialsNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public String generateToken(Authentication authentication) {\r\n        User user = (User) authentication.getPrincipal();\r\n        return generateToken(user.getUsername());\r\n\r\n    }\r\n\r\n    public String getJwtFromCookies(HttpServletRequest request) {\r\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\r\n        if (cookie != null) {\r\n            return cookie.getValue();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    public String generateTokenFromUsername(String username) {\r\n        return Jwts.builder()\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date((new Date()).getTime() +  10000000))\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                .compact();\r\n    }\r\n\r\n    public ResponseCookie generateJwtCookie(UserDetailsImpl userPrincipal) {\r\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\r\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/auth&quot;).maxAge(24 * 60 * 60).httpOnly(true).build();\r\n        return cookie;\r\n    }\r\n\r\n\r\n    public String getUserNameFromToken(final String token) throws JwtAuthenticationException {\r\n        String userName = null;\r\n        try {\r\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(jwtSecret.getBytes(StandardCharsets.UTF_8)).parseClaimsJws(token);\r\n            if (claimsJws != null) {\r\n                userName = claimsJws.getBody().getSubject();\r\n            }\r\n        } catch (final SignatureException | MalformedJwtException | UnsupportedJwtException ex) {\r\n            log.error(&quot;Unsupported jwt token {} with exception {}&quot;,\r\n                    token,\r\n                    ex.getMessage());\r\n            throw new JwtAuthenticationException(ex);\r\n        } catch (final ExpiredJwtException ex) {\r\n            log.error(&quot;Expired jwt token {}&quot;,\r\n                    ex.getMessage());\r\n            throw new JwtAuthenticationException(ex);\r\n        } catch (final AuthenticationCredentialsNotFoundException ex) {\r\n            log.error(&quot;An error occured while trying to create authentication based on jwt token, missing credentials {}&quot;,\r\n                    ex.getMessage());\r\n            throw new JwtAuthenticationException(ex);\r\n        } catch (final Exception ex) {\r\n            log.error(&quot;Unexpected exception occured while parsing jwt {} exception: {}&quot;,\r\n                    token,\r\n                    ex.getMessage());\r\n            throw new JwtAuthenticationException(ex);\r\n        }\r\n        return userName;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nalso my RestController\r\n\r\n\r\n```\r\n\r\nimport com.example.myshroombackend.dto.LoginRequestDto;\r\nimport com.example.myshroombackend.entity.Rank;\r\nimport com.example.myshroombackend.entity.UserEntity;\r\nimport com.example.myshroombackend.repository.UserRepository;\r\nimport com.example.myshroombackend.security.JwtTokenService;\r\nimport com.example.myshroombackend.service.UserDetailsImpl;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.ResponseCookie;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.Optional;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@CrossOrigin\r\npublic class AuthController {\r\n\r\n    private final UserRepository userRepository;\r\n    private AuthenticationManager authenticationManager;\r\n    private JwtTokenService provider;\r\n    private PasswordEncoder encoder;\r\n\r\n    public AuthController(UserRepository userRepository, AuthenticationManager authenticationManager, JwtTokenService provider) {\r\n        this.userRepository = userRepository;\r\n        this.authenticationManager = authenticationManager;\r\n        this.provider = provider;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;LoginRequestDto&gt; loginUser(@RequestBody LoginRequestDto dto) {\r\n        Authentication authentication = authenticationManager\r\n                .authenticate(new UsernamePasswordAuthenticationToken(dto.getUserName(), dto.getPassword()));\r\n\r\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        ResponseCookie jwtCookie = provider.generateJwtCookie(userDetails);\r\n\r\n        return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\r\n                .body(new LoginRequestDto(\r\n                        userDetails.getUsername()));\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; registerUser( @RequestBody LoginRequestDto dto) {\r\n\r\n        Optional&lt;UserEntity&gt; optionalUserEntity = userRepository.findByUserName(dto.getUserName());\r\n\r\n        if (optionalUserEntity.isPresent()) {\r\n            return ResponseEntity.badRequest().body(&quot;User already in database&quot;);\r\n        }\r\n\r\n\r\n        // Create new user&#39;s account\r\n        UserEntity userEntity = new UserEntity();\r\n        userEntity.setUserName(dto.getUserName());\r\n        userEntity.setPassword(encoder.encode(dto.getUserName()));\r\n        userEntity.setRank(Rank.BEGINNER);\r\n\r\n        userRepository.save(userEntity);\r\n\r\n        return ResponseEntity.ok(&quot;User registered successfully!&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI use `requestMatchers()` instead of `antMatchers()` that is no longer in this security version and `authorizeHttpRequests()` instead of `authorizeRequests()`. I don&#39;t know if the problem is from there or it&#39;s something else","title":"Unauthorized error: Full authentication is required to access this resource with spring.security v.6","body":"<p>So I am new to Spring Security and I tried to build a Spring Boot app with REST services and also implement Spring Security with JWT. I have followed a security tutorial for the most part and I got the app running but when I try to call an authentication(/auth/**) endpoint I just get the 401 Unauthorized error. Since spring has updated to v 3.0.0 and now <code>WebSecurityConfigurerAdapter</code> is deprecated I have changed the configurations accordingly.</p>\n<p>This is my configuration file</p>\n<pre><code>import com.example.myshroombackend.security.JwtAuthenticationEntryPoint;\nimport com.example.myshroombackend.security.JwtAuthenticationFilter;\nimport com.example.myshroombackend.service.AuthServiceImpl;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n\n    @Autowired\n    AuthServiceImpl authService;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Bean JwtAuthenticationFilter jwtAuthenticationFilter(){\n        return  new JwtAuthenticationFilter();\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(authService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\n        return authConfiguration.getAuthenticationManager();\n    }\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/js/**&quot;, &quot;/images/**&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .and()\n                .cors()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/**&quot;).permitAll()  //every /auth/login or /auth/register are permitted\n                .anyRequest().authenticated(); //all other requests must be authenticated ==&gt;\n                // you first have to authenticate yourself to perform the other requests\n\n            http.authenticationProvider(authenticationProvider());\n http.addFilterBefore(jwtAuthenticationFilter(),UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n\n\n\n\n}\n</code></pre>\n<p>my custom filter</p>\n<pre><code>\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    AuthServiceImpl authService;\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    protected void doFilterInternal(@NotNull HttpServletRequest request, @NotNull HttpServletResponse response,@NotNull FilterChain filterChain) throws ServletException, IOException {\n\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtTokenProvider.validateToken(jwt)) {\n                String username = jwtTokenProvider.getUserNameFromToken(jwt);\n\n                UserDetails userDetails = authService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication =\n                        new UsernamePasswordAuthenticationToken(userDetails,\n                                null,\n                                userDetails.getAuthorities());\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n        }\n\n        filterChain.doFilter(request, response);\n\n    }\n\n    private String parseJwt(HttpServletRequest request) {\n        String jwt = jwtTokenProvider.getJwtFromCookies(request);\n        return jwt;\n    }\n\n}\n</code></pre>\n<p>my token service</p>\n<pre><code>\nimport com.example.myshroombackend.exception.JwtAuthenticationException;\nimport com.example.myshroombackend.service.AuthServiceImpl;\nimport com.example.myshroombackend.service.UserDetailsImpl;\nimport io.jsonwebtoken.*;\nimport jakarta.servlet.http.Cookie;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.ResponseCookie;\nimport org.springframework.security.authentication.AuthenticationCredentialsNotFoundException;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.stereotype.Component;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.springframework.web.util.WebUtils;\n\nimport java.nio.charset.StandardCharsets;\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Date;\nimport java.util.Optional;\n\n@Component\n@Slf4j\npublic class JwtTokenService {\n    @Value(&quot;${application.secret&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${application.jwtCookieName}&quot;)\n    private String jwtCookie;\n\n    private AuthServiceImpl authService;\n    private static final Instant EXPIRATIONTIME = Instant.now().plus(20, ChronoUnit.HOURS);\n\n    public String generateToken(String userName) {\n        Instant now = Instant.now();\n        return Jwts.builder()\n                .setSubject(userName)\n                .setIssuedAt(Date.from(now))\n                .setExpiration(Date.from(EXPIRATIONTIME))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes(StandardCharsets.UTF_8))\n                .compact();\n    }\n\n    public boolean validateToken(String token) {\n\n        if ((token != null) &amp;&amp; (!&quot;&quot;.equals(token))) {\n\n            Jws&lt;Claims&gt; claimsJws;\n            try{\n            claimsJws = Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token);\n            if (claimsJws != null) {\n                final String userId = Optional\n                        .ofNullable(claimsJws.getBody().get(new String(&quot;id&quot;)))\n                        .map(Object::toString)//\n                        .orElseThrow(\n                                () -&gt; new AuthenticationCredentialsNotFoundException(&quot;No username given in jwt&quot;));\n            }\n            return true;\n        } catch (ExpiredJwtException e) {\n                throw new RuntimeException(e);\n            } catch (UnsupportedJwtException e) {\n                throw new RuntimeException(e);\n            } catch (MalformedJwtException e) {\n                throw new RuntimeException(e);\n            } catch (SignatureException e) {\n                throw new RuntimeException(e);\n            } catch (IllegalArgumentException e) {\n                throw new RuntimeException(e);\n            } catch (AuthenticationCredentialsNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return false;\n    }\n\n    public String generateToken(Authentication authentication) {\n        User user = (User) authentication.getPrincipal();\n        return generateToken(user.getUsername());\n\n    }\n\n    public String getJwtFromCookies(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\n        if (cookie != null) {\n            return cookie.getValue();\n        } else {\n            return null;\n        }\n    }\n\n\n    public String generateTokenFromUsername(String username) {\n        return Jwts.builder()\n                .setSubject(username)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() +  10000000))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n\n    public ResponseCookie generateJwtCookie(UserDetailsImpl userPrincipal) {\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/auth&quot;).maxAge(24 * 60 * 60).httpOnly(true).build();\n        return cookie;\n    }\n\n\n    public String getUserNameFromToken(final String token) throws JwtAuthenticationException {\n        String userName = null;\n        try {\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(jwtSecret.getBytes(StandardCharsets.UTF_8)).parseClaimsJws(token);\n            if (claimsJws != null) {\n                userName = claimsJws.getBody().getSubject();\n            }\n        } catch (final SignatureException | MalformedJwtException | UnsupportedJwtException ex) {\n            log.error(&quot;Unsupported jwt token {} with exception {}&quot;,\n                    token,\n                    ex.getMessage());\n            throw new JwtAuthenticationException(ex);\n        } catch (final ExpiredJwtException ex) {\n            log.error(&quot;Expired jwt token {}&quot;,\n                    ex.getMessage());\n            throw new JwtAuthenticationException(ex);\n        } catch (final AuthenticationCredentialsNotFoundException ex) {\n            log.error(&quot;An error occured while trying to create authentication based on jwt token, missing credentials {}&quot;,\n                    ex.getMessage());\n            throw new JwtAuthenticationException(ex);\n        } catch (final Exception ex) {\n            log.error(&quot;Unexpected exception occured while parsing jwt {} exception: {}&quot;,\n                    token,\n                    ex.getMessage());\n            throw new JwtAuthenticationException(ex);\n        }\n        return userName;\n    }\n\n}\n</code></pre>\n<p>also my RestController</p>\n<pre><code>\nimport com.example.myshroombackend.dto.LoginRequestDto;\nimport com.example.myshroombackend.entity.Rank;\nimport com.example.myshroombackend.entity.UserEntity;\nimport com.example.myshroombackend.repository.UserRepository;\nimport com.example.myshroombackend.security.JwtTokenService;\nimport com.example.myshroombackend.service.UserDetailsImpl;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseCookie;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.Optional;\n\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n\n    private final UserRepository userRepository;\n    private AuthenticationManager authenticationManager;\n    private JwtTokenService provider;\n    private PasswordEncoder encoder;\n\n    public AuthController(UserRepository userRepository, AuthenticationManager authenticationManager, JwtTokenService provider) {\n        this.userRepository = userRepository;\n        this.authenticationManager = authenticationManager;\n        this.provider = provider;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;LoginRequestDto&gt; loginUser(@RequestBody LoginRequestDto dto) {\n        Authentication authentication = authenticationManager\n                .authenticate(new UsernamePasswordAuthenticationToken(dto.getUserName(), dto.getPassword()));\n\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        ResponseCookie jwtCookie = provider.generateJwtCookie(userDetails);\n\n        return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\n                .body(new LoginRequestDto(\n                        userDetails.getUsername()));\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; registerUser( @RequestBody LoginRequestDto dto) {\n\n        Optional&lt;UserEntity&gt; optionalUserEntity = userRepository.findByUserName(dto.getUserName());\n\n        if (optionalUserEntity.isPresent()) {\n            return ResponseEntity.badRequest().body(&quot;User already in database&quot;);\n        }\n\n\n        // Create new user's account\n        UserEntity userEntity = new UserEntity();\n        userEntity.setUserName(dto.getUserName());\n        userEntity.setPassword(encoder.encode(dto.getUserName()));\n        userEntity.setRank(Rank.BEGINNER);\n\n        userRepository.save(userEntity);\n\n        return ResponseEntity.ok(&quot;User registered successfully!&quot;);\n    }\n\n}\n\n</code></pre>\n<p>I use <code>requestMatchers()</code> instead of <code>antMatchers()</code> that is no longer in this security version and <code>authorizeHttpRequests()</code> instead of <code>authorizeRequests()</code>. I don't know if the problem is from there or it's something else</p>\n"},{"tags":["java","javascript","android","equivalent"],"comments":[{"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"score":3,"creation_date":1325960867,"post_id":8771963,"comment_id":10935017,"body_markdown":"possible duplicate of http://stackoverflow.com/q/4817933/776084","body":"possible duplicate of <a href=\"http://stackoverflow.com/q/4817933/776084\">stackoverflow.com/q/4817933/776084</a>"}],"answers":[{"tags":[],"owner":{"account_id":33704,"reputation":8964,"user_id":94557,"accept_rate":86,"display_name":"Matt Wolfe"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1428945361,"creation_date":1325960834,"answer_id":8771979,"question_id":8771963,"body_markdown":"You probably want to check out [TimerTask][1]\r\n\r\n\r\nSince you brought up this again I&#39;d like to make a different recommendation, which is a [Handler][2].  It is simpler to use than a TimerTask as you won&#39;t need to explicitely call runOnUiThread as the Handler will be associated with the UI thread so long as it&#39;s created on the UI thread or you create it using the main looper in it&#39;s constructor. It would work like this:\r\n\r\n    private Handler mHandler;\r\n    Runnable myTask = new Runnable() {\r\n      @Override\r\n      public void run() {\r\n         //do work\r\n         mHandler.postDelayed(this, 1000);\r\n      }\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedState) {\r\n      super.onCreate(savedState);\r\n      mHandler = new Handler(Looper.getMainLooper());\r\n    }\r\n    //just as an example, we&#39;ll start the task when the activity is started\r\n    @Override\r\n    public void onStart() { \r\n      super.onStart();\r\n      mHandler.postDelayed(myTask, 1000);\r\n    }\r\n\r\n    //at some point in your program you will probably want the handler to stop (in onStop is a good place)\r\n    @Override\r\n    public void onStop() {\r\n      super.onStop();\r\n      mHandler.removeCallbacks(myTask);\r\n    }\r\n   \r\n\r\nThere are some things to be aware of with handlers in your activity:\r\n\r\n 1. Your activity can be shutdown/non visible while your handler is still running if you don&#39;t stop it in onStop (or onPause if you started it in onResume), this will lead to problems if you try to update the UI\r\n 2. If your phone goes into deep sleep the handlers won&#39;t fire as often as you have specified. I know this as I&#39;ve done some extensive testing with bluetooth devices to test connectivity after many hours of operation and I had used handlers along with log prints every time they fired.\r\n 3. If you need this timer to be ongoing I recommend putting it in a service which will last longer than an activity. Register your activity with the service(by implementing an interface defined in the service for communication with the service).\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/TimerTask.html\r\n  [2]: http://developer.android.com/reference/android/os/Handler.html","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>You probably want to check out <a href=\"http://developer.android.com/reference/java/util/TimerTask.html\" rel=\"noreferrer\">TimerTask</a></p>\n\n<p>Since you brought up this again I'd like to make a different recommendation, which is a <a href=\"http://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Handler</a>.  It is simpler to use than a TimerTask as you won't need to explicitely call runOnUiThread as the Handler will be associated with the UI thread so long as it's created on the UI thread or you create it using the main looper in it's constructor. It would work like this:</p>\n\n<pre><code>private Handler mHandler;\nRunnable myTask = new Runnable() {\n  @Override\n  public void run() {\n     //do work\n     mHandler.postDelayed(this, 1000);\n  }\n}\n\n@Override\npublic void onCreate(Bundle savedState) {\n  super.onCreate(savedState);\n  mHandler = new Handler(Looper.getMainLooper());\n}\n//just as an example, we'll start the task when the activity is started\n@Override\npublic void onStart() { \n  super.onStart();\n  mHandler.postDelayed(myTask, 1000);\n}\n\n//at some point in your program you will probably want the handler to stop (in onStop is a good place)\n@Override\npublic void onStop() {\n  super.onStop();\n  mHandler.removeCallbacks(myTask);\n}\n</code></pre>\n\n<p>There are some things to be aware of with handlers in your activity:</p>\n\n<ol>\n<li>Your activity can be shutdown/non visible while your handler is still running if you don't stop it in onStop (or onPause if you started it in onResume), this will lead to problems if you try to update the UI</li>\n<li>If your phone goes into deep sleep the handlers won't fire as often as you have specified. I know this as I've done some extensive testing with bluetooth devices to test connectivity after many hours of operation and I had used handlers along with log prints every time they fired.</li>\n<li>If you need this timer to be ongoing I recommend putting it in a service which will last longer than an activity. Register your activity with the service(by implementing an interface defined in the service for communication with the service).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1151821,"reputation":432,"user_id":1133349,"display_name":"GiantRobot"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1325961145,"creation_date":1325961145,"answer_id":8772003,"question_id":8771963,"body_markdown":"This is the code that i used in my current project. I used TimerTask as Matt said.\r\n60000 is the milisec. = 60 sec. i used it to refresh match scores.\r\n\r\n    private void refreshTimer() {\r\n    \t\tautoUpdate = new Timer();\r\n    \t\tautoUpdate.schedule(new TimerTask() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\trunOnUiThread(new Runnable() {\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tadapter = Score.getScoreListAdapter(getApplicationContext());\r\n    \t\t\t\t\t\tadapter.forceReload();\r\n    \t\t\t\t\t\tsetListAdapter(adapter);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}\r\n    \t\t}, 0, 60000);","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>This is the code that i used in my current project. I used TimerTask as Matt said.\n60000 is the milisec. = 60 sec. i used it to refresh match scores.</p>\n\n<pre><code>private void refreshTimer() {\n        autoUpdate = new Timer();\n        autoUpdate.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                runOnUiThread(new Runnable() {\n                    public void run() {\n                        adapter = Score.getScoreListAdapter(getApplicationContext());\n                        adapter.forceReload();\n                        setListAdapter(adapter);\n                    }\n                });\n            }\n        }, 0, 60000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643696994,"creation_date":1459737104,"answer_id":36393746,"question_id":8771963,"body_markdown":"There is setTimeout() method in [underscore-java][1] library.\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.U;\r\n    import java.util.function.Supplier;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            final Integer[] counter = new Integer[] {0};\r\n            Supplier&lt;Void&gt; incr =\r\n                    () -&gt; {\r\n                        counter[0]++;\r\n                        return null;\r\n                    };\r\n            U.setTimeout(incr, 100);\r\n        }\r\n    }\r\n\r\nThe function will be started in 100 ms with a new thread.\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>There is setTimeout() method in <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library.</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.U;\nimport java.util.function.Supplier;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final Integer[] counter = new Integer[] {0};\n        Supplier&lt;Void&gt; incr =\n                () -&gt; {\n                    counter[0]++;\n                    return null;\n                };\n        U.setTimeout(incr, 100);\n    }\n}\n</code></pre>\n<p>The function will be started in 100 ms with a new thread.</p>\n"},{"tags":[],"owner":{"account_id":3216846,"reputation":4482,"user_id":2715306,"display_name":"noamtcohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472129439,"creation_date":1466588886,"answer_id":37964377,"question_id":8771963,"body_markdown":"As a continuation to Valentyn answer using java underscore:\r\n\r\nAdd dependency to gradle:\r\n\r\n    dependencies {\r\n        compile group: &#39;com.github.javadev&#39;, name: &#39;underscore&#39;, version: &#39;1.15&#39;\r\n    }\r\n\r\nJava:\r\n\r\n    import com.github.underscore.lodash.$;\r\n\r\n    $.setTimeout(new Function&lt;Void&gt;() {\r\n        public Void apply() {\r\n            // work\r\n            return null;\r\n        }\r\n    }, 1000); // 1 second\r\n","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>As a continuation to Valentyn answer using java underscore:</p>\n\n<p>Add dependency to gradle:</p>\n\n<pre><code>dependencies {\n    compile group: 'com.github.javadev', name: 'underscore', version: '1.15'\n}\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>import com.github.underscore.lodash.$;\n\n$.setTimeout(new Function&lt;Void&gt;() {\n    public Void apply() {\n        // work\n        return null;\n    }\n}, 1000); // 1 second\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670687386,"creation_date":1670627888,"answer_id":74749118,"question_id":8771963,"body_markdown":"More Android-ish way than dealing with Java `Thread` is to use Android Looper, considering now you have access to Kotlin,\r\n\r\n    Handler(Looper.getMainLooper()).postDelayed({ /* action */ }, 2000)\r\n\r\nOr, the more Kotlin-ish way to to use `androidx.core:core-ktx`&#39;s Kotlin extensions and then,\r\n\r\n    import androidx.core.os.postDelayed\r\n\r\n    Handler(Looper.getMainLooper()).postDelayed(2000) {\r\n        // action\r\n    }\r\n\r\nYou can use `TimeUnit.SECONDS.toMillis(2)` instead `2000`.","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>More Android-ish way than dealing with Java <code>Thread</code> is to use Android Looper, considering now you have access to Kotlin,</p>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed({ /* action */ }, 2000)\n</code></pre>\n<p>Or, the more Kotlin-ish way to to use <code>androidx.core:core-ktx</code>'s Kotlin extensions and then,</p>\n<pre><code>import androidx.core.os.postDelayed\n\nHandler(Looper.getMainLooper()).postDelayed(2000) {\n    // action\n}\n</code></pre>\n<p>You can use <code>TimeUnit.SECONDS.toMillis(2)</code> instead <code>2000</code>.</p>\n"}],"owner":{"account_id":1154071,"reputation":297,"user_id":1135151,"display_name":"Jos&#233; Francisco Lara Aguilar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35363,"favorite_count":0,"down_vote_count":3,"up_vote_count":27,"answer_count":5,"score":24,"last_activity_date":1670687386,"creation_date":1325960648,"question_id":8771963,"body_markdown":"I need the equivalent code of `setTimeOut(call function(),milliseconds);` for android.\r\n\r\n    setTimeOut(call function(),milliseconds);\r\n","title":"What is the equivalent of setTimeOut() javascript to Android?","body":"<p>I need the equivalent code of <code>setTimeOut(call function(),milliseconds);</code> for android.</p>\n\n<pre><code>setTimeOut(call function(),milliseconds);\n</code></pre>\n"},{"tags":["java","android","exception","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670686767,"creation_date":1670686767,"answer_id":74754321,"question_id":74747879,"body_markdown":"The support for Promise&#39;s (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) was introduced and enhanced in later versions of HtmlUnit.\r\nIt is highly recommended to use the latest HtmlUnit version.\r\n\r\n&gt; By the way, I am using an old version because with this one my app worked just fine until a few months ago.\r\n\r\nThat is common &#39;problem&#39; on the internet :-); the page vendor might change the pages to use new (javascript) features at every time.","title":"HtmlUnit - EcmaError: ScriptException: ReferenceError:&quot;Promise&quot; is not defined","body":"<p>The support for Promise's (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a>) was introduced and enhanced in later versions of HtmlUnit.\nIt is highly recommended to use the latest HtmlUnit version.</p>\n<blockquote>\n<p>By the way, I am using an old version because with this one my app worked just fine until a few months ago.</p>\n</blockquote>\n<p>That is common 'problem' on the internet :-); the page vendor might change the pages to use new (javascript) features at every time.</p>\n"}],"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670686767,"creation_date":1670616577,"question_id":74747879,"body_markdown":"I am using HtmlUnit on my android project:\r\n\r\n        implementation &#39;net.sourceforge.htmlunit:htmlunit:2.15&#39;\r\n\r\n\r\n\r\nI am simply try to get a webpage:\r\n\r\n    private final static String LOGIN_URL = &quot;https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin&quot;;\r\n        private final static WebClient webClient = new WebClient(BrowserVersion.FIREFOX.24);\r\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n        java.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\r\n        final HtmlPage page = webClient.getPage(LOGIN_URL);\r\n\r\nHowever this is the exception I get at runtime:\r\n\r\n  \r\n\r\n        2022-12-09 20:31:43.460 20894-24897/com.test.xxx I/System.out: ======= EXCEPTION START ========\r\n    2022-12-09 20:31:43.460 20894-24897/com.test.xxx I/System.out: EcmaError: lineNumber=[39] column=[0] lineSource=[&lt;no source&gt;] name=[ReferenceError] sourceName=[script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)] message=[ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)]\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out: com.gargoylesoftware.htmlunit.ScriptException: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:705)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:620)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:513)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:591)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:566)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptIfPossible(HtmlPage.java:975)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeInlineScriptIfNeeded(HtmlScript.java:349)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeScriptIfNeeded(HtmlScript.java:409)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript$3.execute(HtmlScript.java:274)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:288)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:741)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source:35)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:701)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1170)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1072)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.DefaultFilter.endElement(DefaultFilter.java:206)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.NamespaceBinder.endElement(NamespaceBinder.java:330)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3126)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2093)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner.scanDocument(HTMLScanner.java:920)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:499)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:452)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.XMLParser.parse(Unknown Source:5)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.parse(HTMLParser.java:965)\r\n    2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parse(HTMLParser.java:247)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parseHtml(HTMLParser.java:193)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:268)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:156)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out: Caused by: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3629)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3613)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3683)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1754)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1695)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:411)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3057)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.exec(InterpretedFunction.java:115)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:582)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:690)\r\n    2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out: \t... 32 more\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out: Enclosed exception: \r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3629)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3613)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3683)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1754)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1695)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:411)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3057)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.exec(InterpretedFunction.java:115)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:582)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:690)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:620)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:513)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:591)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:566)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptIfPossible(HtmlPage.java:975)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeInlineScriptIfNeeded(HtmlScript.java:349)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeScriptIfNeeded(HtmlScript.java:409)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript$3.execute(HtmlScript.java:274)\r\n    2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:288)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:741)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source:35)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:701)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1170)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1072)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.DefaultFilter.endElement(DefaultFilter.java:206)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.NamespaceBinder.endElement(NamespaceBinder.java:330)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3126)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2093)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner.scanDocument(HTMLScanner.java:920)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:499)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:452)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.XMLParser.parse(Unknown Source:5)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.parse(HTMLParser.java:965)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parse(HTMLParser.java:247)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parseHtml(HTMLParser.java:193)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:268)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:156)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\r\n    2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out: ======= EXCEPTION END ========\r\n\r\nI have no idea what `Promise` not being defined means, it sure looks like an error during the parsing of the script. By the way, I am using an old version because with this one my app worked just fine until a few months ago.","title":"HtmlUnit - EcmaError: ScriptException: ReferenceError:&quot;Promise&quot; is not defined","body":"<p>I am using HtmlUnit on my android project:</p>\n<pre><code>    implementation 'net.sourceforge.htmlunit:htmlunit:2.15'\n</code></pre>\n<p>I am simply try to get a webpage:</p>\n<pre><code>private final static String LOGIN_URL = &quot;https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin&quot;;\n    private final static WebClient webClient = new WebClient(BrowserVersion.FIREFOX.24);\n    java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n    java.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\n    final HtmlPage page = webClient.getPage(LOGIN_URL);\n</code></pre>\n<p>However this is the exception I get at runtime:</p>\n<pre><code>    2022-12-09 20:31:43.460 20894-24897/com.test.xxx I/System.out: ======= EXCEPTION START ========\n2022-12-09 20:31:43.460 20894-24897/com.test.xxx I/System.out: EcmaError: lineNumber=[39] column=[0] lineSource=[&lt;no source&gt;] name=[ReferenceError] sourceName=[script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)] message=[ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)]\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out: com.gargoylesoftware.htmlunit.ScriptException: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:705)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:620)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:513)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:591)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:566)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptIfPossible(HtmlPage.java:975)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeInlineScriptIfNeeded(HtmlScript.java:349)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeScriptIfNeeded(HtmlScript.java:409)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript$3.execute(HtmlScript.java:274)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:288)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:741)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source:35)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:701)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1170)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1072)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.DefaultFilter.endElement(DefaultFilter.java:206)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.NamespaceBinder.endElement(NamespaceBinder.java:330)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3126)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2093)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner.scanDocument(HTMLScanner.java:920)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:499)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:452)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.XMLParser.parse(Unknown Source:5)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.parse(HTMLParser.java:965)\n2022-12-09 20:31:43.461 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parse(HTMLParser.java:247)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parseHtml(HTMLParser.java:193)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:268)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:156)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out: Caused by: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3629)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3613)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3683)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1754)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1695)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:411)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3057)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.exec(InterpretedFunction.java:115)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:582)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:690)\n2022-12-09 20:31:43.462 20894-24897/com.test.xxx I/System.out:  ... 32 more\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out: Enclosed exception: \n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Promise&quot; is not defined. (script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994)#39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3629)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3613)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3683)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1754)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1695)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at script(script in https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin from (38, 32) to (39, 52994):39)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:411)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3057)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.exec(InterpretedFunction.java:115)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:582)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:690)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:620)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:513)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:591)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:566)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptIfPossible(HtmlPage.java:975)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeInlineScriptIfNeeded(HtmlScript.java:349)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.executeScriptIfNeeded(HtmlScript.java:409)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript$3.execute(HtmlScript.java:274)\n2022-12-09 20:31:43.463 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:288)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:741)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source:35)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.endElement(HTMLParser.java:701)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1170)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1072)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.DefaultFilter.endElement(DefaultFilter.java:206)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.filters.NamespaceBinder.endElement(NamespaceBinder.java:330)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3126)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2093)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLScanner.scanDocument(HTMLScanner.java:920)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:499)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.cyberneko.html.HTMLConfiguration.parse(HTMLConfiguration.java:452)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at org.apache.xerces.parsers.XMLParser.parse(Unknown Source:5)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser$HtmlUnitDOMBuilder.parse(HTMLParser.java:965)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parse(HTMLParser.java:247)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.html.HTMLParser.parseHtml(HTMLParser.java:193)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:268)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:156)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out:     at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\n2022-12-09 20:31:43.464 20894-24897/com.test.xxx I/System.out: ======= EXCEPTION END ========\n</code></pre>\n<p>I have no idea what <code>Promise</code> not being defined means, it sure looks like an error during the parsing of the script. By the way, I am using an old version because with this one my app worked just fine until a few months ago.</p>\n"},{"tags":["java","apache-kafka","apache-flink","continuous-query-notification"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1670689227,"post_id":74751848,"comment_id":131933460,"body_markdown":"You&#39;ll find several examples here: https://docs.immerok.cloud/docs/how-to-guides/development/introduction/ (note, I work for immerok).","body":"You&#39;ll find several examples here: <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/introduction/\" rel=\"nofollow noreferrer\">docs.immerok.cloud/docs/how-to-guides/development/introducti&zwnj;&#8203;on</a> (note, I work for immerok)."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1670689335,"post_id":74751848,"comment_id":131933489,"body_markdown":"This example -- https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/ -- might be the best place to start.","body":"This example -- <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/\" rel=\"nofollow noreferrer\">docs.immerok.cloud/docs/how-to-guides/development/&hellip;</a> -- might be the best place to start."},{"owner":{"account_id":15484767,"reputation":581,"user_id":11171084,"display_name":"Spevacus"},"score":0,"creation_date":1670955217,"post_id":74751848,"comment_id":131991158,"body_markdown":"You seem to be requesting outside sources (examples). Be advised that per our [on-topic guidance](https://stackoverflow.com/help/on-topic), requests for external resources (such as guides/examples and libraries, etc) are off-topic here.","body":"You seem to be requesting outside sources (examples). Be advised that per our <a href=\"https://stackoverflow.com/help/on-topic\">on-topic guidance</a>, requests for external resources (such as guides/examples and libraries, etc) are off-topic here."}],"answers":[{"tags":[],"owner":{"account_id":11543913,"reputation":313,"user_id":8458652,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670686415,"creation_date":1670686415,"answer_id":74754273,"question_id":74751848,"body_markdown":"For your use case, I&#39;m guessing you want to use kafka as source for continuous data. In this case you can use kafka-source-connector(linked below) and if you want to slice it with time you can use flink&#39;s Window Processing Function. This will group your kafka messages streamed in a particular timeframe like a list/map.\r\n\r\n[Flink Kafka source connector][1]\r\n\r\n[Flink Window Processing Function][2]\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/\r\n  [2]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/windows/","title":"create a continuous query using kafka and flink","body":"<p>For your use case, I'm guessing you want to use kafka as source for continuous data. In this case you can use kafka-source-connector(linked below) and if you want to slice it with time you can use flink's Window Processing Function. This will group your kafka messages streamed in a particular timeframe like a list/map.</p>\n<p><a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/\" rel=\"nofollow noreferrer\">Flink Kafka source connector</a></p>\n<p><a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/windows/\" rel=\"nofollow noreferrer\">Flink Window Processing Function</a></p>\n"}],"owner":{"account_id":27209493,"reputation":1,"user_id":20740519,"display_name":"user20740519"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670686415,"creation_date":1670665539,"question_id":74751848,"body_markdown":"I&#39;m new to the streaming community\r\nI&#39;m trying to create a continuous query using kafka topics and flink but I haven&#39;t found any examples so I can get an idea of how to get started\r\ncan you help me with some examples? \r\nthank you. \r\n\r\n","title":"create a continuous query using kafka and flink","body":"<p>I'm new to the streaming community\nI'm trying to create a continuous query using kafka topics and flink but I haven't found any examples so I can get an idea of how to get started\ncan you help me with some examples?\nthank you.</p>\n"},{"tags":["java","javafx","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1670662065,"post_id":74747586,"comment_id":131928624,"body_markdown":"On which code line do you get that exception? Also please supply the stack trace.","body":"On which code line do you get that exception? Also please supply the stack trace."}],"owner":{"account_id":25680347,"reputation":11,"user_id":19443232,"display_name":"AB Studio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670686253,"creation_date":1670614599,"question_id":74747586,"body_markdown":"I have a problem with loading a font inside a java application/PDF document.\r\nWhen I run the application through the IDE, the font is loaded. If I compile the code and run the application, I get the error &quot;Font...path..not found&quot;\r\n\r\n    public static void createPDF(OrderHeader invoice, ObservableList&lt;OrderItem&gt; invoiceArticles) throws FileNotFoundException {\r\n\r\n        String path1 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath());\r\n        String path2 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Bold.ttf&quot;).getPath());\r\n        String path3 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-SemiBold.ttf&quot;).getPath());\r\n\r\n        try {\r\n\r\n           PDFFont montserrant_font = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\r\n           PDFFont  montseerantBold = PdfFontFactory.createFont(path2, &quot;Identity-H&quot;, true);\r\n           PDFFont  montserrant_Semibold = PdfFontFactory.createFont(path3, &quot;Identity-H&quot;, true);\r\n\r\n            String path = &quot;invoice.pdf&quot;;\r\n            PdfWriter pdfWriter = new PdfWriter(path);\r\n            PdfDocument pdfDocument = new PdfDocument(pdfWriter);\r\n            pdfDocument.setDefaultPageSize(PageSize.A4);\r\n            Document document = new Document(pdfDocument);\r\n\r\n\r\n            PageXofY event = new PageXofY(CreatePDFInvoice.class, pdfDocument);\r\n            pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, event);\r\n\r\n\r\n            setHeader(document);\r\n            setCompanyData(document);\r\n            document.add(sp);\r\n            setInvoiceNo(document, invoice);\r\n            setCustomerAndPayment(document, invoice);\r\n            document.add(sp);\r\n            setArticles(document, invoiceArticles);\r\n            document.add(sp);\r\n            setNote(document);\r\n            document.add(sp);\r\n            document.add(sp);\r\n            setSignature(document);\r\n\r\n\r\n\r\n            event.writeTotal(pdfDocument);\r\n            document.close();\r\n\r\n\r\n            if (Desktop.isDesktopSupported()) {\r\n                try {\r\n                    File myFile = new File(path);\r\n                    Desktop.getDesktop().open(myFile);\r\n                } catch (IOException ex) {\r\n                    // no application registered for PDFs\r\n                }\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Greska &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nWith the command &quot;jar tf POS_main.jar&quot; I inspect the .jar and see that it contains the file/font Montserrat-Regular.ttf\r\n\r\nError from logs: Greska Font file jar:file:/C:/Users/Armin/Desktop/POS/out/artifacts/POS/bundles/POS_main.jar!/css/Montserrat-Regular.ttf not found.\r\n\r\n    An error appears at line: \r\n            montserrant_font = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\r\n\r\n\r\n\r\n[![Path][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o8TpE.png","title":"iText 7 PDF custom font not found","body":"<p>I have a problem with loading a font inside a java application/PDF document.\nWhen I run the application through the IDE, the font is loaded. If I compile the code and run the application, I get the error &quot;Font...path..not found&quot;</p>\n<pre><code>public static void createPDF(OrderHeader invoice, ObservableList&lt;OrderItem&gt; invoiceArticles) throws FileNotFoundException {\n\n    String path1 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath());\n    String path2 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Bold.ttf&quot;).getPath());\n    String path3 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-SemiBold.ttf&quot;).getPath());\n\n    try {\n\n       PDFFont montserrant_font = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\n       PDFFont  montseerantBold = PdfFontFactory.createFont(path2, &quot;Identity-H&quot;, true);\n       PDFFont  montserrant_Semibold = PdfFontFactory.createFont(path3, &quot;Identity-H&quot;, true);\n\n        String path = &quot;invoice.pdf&quot;;\n        PdfWriter pdfWriter = new PdfWriter(path);\n        PdfDocument pdfDocument = new PdfDocument(pdfWriter);\n        pdfDocument.setDefaultPageSize(PageSize.A4);\n        Document document = new Document(pdfDocument);\n\n\n        PageXofY event = new PageXofY(CreatePDFInvoice.class, pdfDocument);\n        pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, event);\n\n\n        setHeader(document);\n        setCompanyData(document);\n        document.add(sp);\n        setInvoiceNo(document, invoice);\n        setCustomerAndPayment(document, invoice);\n        document.add(sp);\n        setArticles(document, invoiceArticles);\n        document.add(sp);\n        setNote(document);\n        document.add(sp);\n        document.add(sp);\n        setSignature(document);\n\n\n\n        event.writeTotal(pdfDocument);\n        document.close();\n\n\n        if (Desktop.isDesktopSupported()) {\n            try {\n                File myFile = new File(path);\n                Desktop.getDesktop().open(myFile);\n            } catch (IOException ex) {\n                // no application registered for PDFs\n            }\n        }\n\n    } catch (Exception e) {\n        System.out.println(&quot;Greska &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>With the command &quot;jar tf POS_main.jar&quot; I inspect the .jar and see that it contains the file/font Montserrat-Regular.ttf</p>\n<p>Error from logs: Greska Font file jar:file:/C:/Users/Armin/Desktop/POS/out/artifacts/POS/bundles/POS_main.jar!/css/Montserrat-Regular.ttf not found.</p>\n<pre><code>An error appears at line: \n        montserrant_font = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o8TpE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8TpE.png\" alt=\"Path\" /></a></p>\n"},{"tags":["java","postgresql","docker","testcontainers","testcontainers-junit5"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1670902308,"post_id":74752772,"comment_id":131975382,"body_markdown":"Do you start postgres container manually inside the application?","body":"Do you start postgres container manually inside the application?"}],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670686031,"creation_date":1670686031,"answer_id":74754224,"question_id":74752772,"body_markdown":"There are two things to consider in this case. Both containers should be in the same network so they can talk with each other and the application container should wait on postgres container due it is a dependency. In the example below you can see a draft of how to work with those.\r\n\r\n```java\r\nNetwork network = Network.newNetwork();\r\n\r\nPostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;)\r\n    .withNetwork(network)\r\n    .withNetworkAliases(&quot;postgres&quot;);\r\n\r\nGenericContainer&lt;?&gt; app = new GenericContainer&lt;&gt;(&quot;my-app:0.0.1&quot;)\r\n    .withNetwork(network)\r\n    .withExposedPorts(8080)\r\n    .dependsOn(postgres);\r\n\r\npostgres.start();\r\napp.start();\r\n```\r\n\r\nWhen creating the application container, `jdbc:postgresql://postgres:5432/test` can be used because now that both containers are in the same network they can talk to each other using the network aliases and also we can use postgres&#39; port `5432` directly instead of the random port.\r\n\r\nNOTE: `PostgreSQLContainers` is still exposing a random port for `5432` but that should be used when you want to test against the database, which is not the case due the the goal is to test the containerized application which communicates with the database.","title":"How to load properties dynamically to application testcontainer?","body":"<p>There are two things to consider in this case. Both containers should be in the same network so they can talk with each other and the application container should wait on postgres container due it is a dependency. In the example below you can see a draft of how to work with those.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Network network = Network.newNetwork();\n\nPostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;)\n    .withNetwork(network)\n    .withNetworkAliases(&quot;postgres&quot;);\n\nGenericContainer&lt;?&gt; app = new GenericContainer&lt;&gt;(&quot;my-app:0.0.1&quot;)\n    .withNetwork(network)\n    .withExposedPorts(8080)\n    .dependsOn(postgres);\n\npostgres.start();\napp.start();\n</code></pre>\n<p>When creating the application container, <code>jdbc:postgresql://postgres:5432/test</code> can be used because now that both containers are in the same network they can talk to each other using the network aliases and also we can use postgres' port <code>5432</code> directly instead of the random port.</p>\n<p>NOTE: <code>PostgreSQLContainers</code> is still exposing a random port for <code>5432</code> but that should be used when you want to test against the database, which is not the case due the the goal is to test the containerized application which communicates with the database.</p>\n"}],"owner":{"account_id":4306342,"reputation":413,"user_id":3518619,"accept_rate":25,"display_name":"paraflou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670686031,"creation_date":1670674041,"question_id":74752772,"body_markdown":"I am trying to make an integration test of a Java application that uses a jdbc postgres connection.\r\n\r\nIn the integration test i spawn two testcontainers, an application one and a postgres one.\r\n\r\nHow can i inject in the application the `postgresDB.getJdbcUrl()`?\r\n\r\nCurrently I have a `datasource.properties` file that the application uses for the jdbc connection.\r\n\r\nIn integration test folder i have another `datasource-test.properties` file that is loaded to the application testcontainer. \r\n\r\nThe `datasource-test.properties` is created dynamically after the postgres testcontainer is started but the application container starts before the dynamic creation of the `datasource-test.properties`.\r\n\r\nCan i use this approach? How to load properties file in testcontainer after another testcontainer creates this file?\r\n\r\nIf not I need something similar to `@DynamicPropertySource` that Spring Boot has but my application is not Spring.\r\n\r\n\r\n","title":"How to load properties dynamically to application testcontainer?","body":"<p>I am trying to make an integration test of a Java application that uses a jdbc postgres connection.</p>\n<p>In the integration test i spawn two testcontainers, an application one and a postgres one.</p>\n<p>How can i inject in the application the <code>postgresDB.getJdbcUrl()</code>?</p>\n<p>Currently I have a <code>datasource.properties</code> file that the application uses for the jdbc connection.</p>\n<p>In integration test folder i have another <code>datasource-test.properties</code> file that is loaded to the application testcontainer.</p>\n<p>The <code>datasource-test.properties</code> is created dynamically after the postgres testcontainer is started but the application container starts before the dynamic creation of the <code>datasource-test.properties</code>.</p>\n<p>Can i use this approach? How to load properties file in testcontainer after another testcontainer creates this file?</p>\n<p>If not I need something similar to <code>@DynamicPropertySource</code> that Spring Boot has but my application is not Spring.</p>\n"},{"tags":["java","string","space"],"comments":[{"owner":{"account_id":109557,"reputation":14543,"user_id":290213,"accept_rate":43,"display_name":"dkarp"},"score":0,"creation_date":1294872686,"post_id":4674850,"comment_id":5152959,"body_markdown":"You may also want to look at the guava Splitter class: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Splitter.html","body":"You may also want to look at the guava Splitter class: <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Splitter.html\" rel=\"nofollow noreferrer\">guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1417292474,"creation_date":1294872428,"answer_id":4674887,"question_id":4674850,"body_markdown":"[String.split()][1] will do most of what you want. You may then need to loop over the words to pull out any punctuation.\r\n\r\nFor example:\r\n\r\n    String s = &quot;This is a sample sentence.&quot;;\r\n    String[] words = s.split(&quot;\\\\s+&quot;);\r\n    for (int i = 0; i &lt; words.length; i++) {\r\n        // You may want to check for a non-word character before blindly\r\n        // performing a replacement\r\n        // It may also be necessary to adjust the character class\r\n        words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)","title":"Converting a sentence string to a string array of words in Java","body":"<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\">String.split()</a> will do most of what you want. You may then need to loop over the words to pull out any punctuation.</p>\n\n<p>For example:</p>\n\n<pre><code>String s = \"This is a sample sentence.\";\nString[] words = s.split(\"\\\\s+\");\nfor (int i = 0; i &lt; words.length; i++) {\n    // You may want to check for a non-word character before blindly\n    // performing a replacement\n    // It may also be necessary to adjust the character class\n    words[i] = words[i].replaceAll(\"[^\\\\w]\", \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":276572,"reputation":5365,"user_id":570081,"accept_rate":100,"display_name":"James"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294872461,"creation_date":1294872461,"answer_id":4674897,"question_id":4674850,"body_markdown":"The easiest and best answer I can think of is to use the following method defined on the java string -\r\n\r\n    String[] split(String regex)\r\n\r\nAnd just do &quot;This is a sample sentence&quot;.split(&quot; &quot;).  Because it takes a regex, you can do more complicated splits as well, which can include removing unwanted punctuation and other such characters.","title":"Converting a sentence string to a string array of words in Java","body":"<p>The easiest and best answer I can think of is to use the following method defined on the java string -</p>\n\n<pre><code>String[] split(String regex)\n</code></pre>\n\n<p>And just do \"This is a sample sentence\".split(\" \").  Because it takes a regex, you can do more complicated splits as well, which can include removing unwanted punctuation and other such characters.</p>\n"},{"tags":[],"owner":{"account_id":269291,"reputation":10831,"user_id":558546,"accept_rate":91,"display_name":"helloworld922"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294872566,"creation_date":1294872566,"answer_id":4674909,"question_id":4674850,"body_markdown":"Use &lt;code&gt;string.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;,&quot;&quot;).split(&#39; &#39;)&lt;/code&gt; to split your code into an array with no periods, commas, question marks, or exclamation marks. You can add/remove as many replace calls as you want.","title":"Converting a sentence string to a string array of words in Java","body":"<p>Use <code>string.replace(\".\", \"\").replace(\",\", \"\").replace(\"?\", \"\").replace(\"!\",\"\").split(' ')</code> to split your code into an array with no periods, commas, question marks, or exclamation marks. You can add/remove as many replace calls as you want.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1294872616,"creation_date":1294872616,"answer_id":4674924,"question_id":4674850,"body_markdown":"You can also use &lt;code&gt;[BreakIterator.getWordInstance](http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html#getWordInstance%28%29)&lt;/code&gt;.","title":"Converting a sentence string to a string array of words in Java","body":"<p>You can also use <code><a href=\"http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html#getWordInstance%28%29\">BreakIterator.getWordInstance</a></code>.</p>\n"},{"tags":[],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294874008,"creation_date":1294872623,"answer_id":4674925,"question_id":4674850,"body_markdown":"Try this:\r\n\r\n    String[] stringArray = Pattern.compile(&quot;ian&quot;).split(\r\n    &quot;This is a sample sentence&quot;\r\n    .replaceAll(&quot;[^\\\\p{Alnum}]+&quot;, &quot;&quot;) //this will remove all non alpha numeric chars\r\n    );\r\n\r\n    for (int j=0; i&lt;stringArray .length; j++) {\r\n      System.out.println(i + &quot; \\&quot;&quot; + stringArray [j] + &quot;\\&quot;&quot;);\r\n    }\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>Try this:</p>\n\n<pre><code>String[] stringArray = Pattern.compile(\"ian\").split(\n\"This is a sample sentence\"\n.replaceAll(\"[^\\\\p{Alnum}]+\", \"\") //this will remove all non alpha numeric chars\n);\n\nfor (int j=0; i&lt;stringArray .length; j++) {\n  System.out.println(i + \" \\\"\" + stringArray [j] + \"\\\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243554,"reputation":11,"user_id":1977494,"display_name":"corvinusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358172296,"creation_date":1358172296,"answer_id":14319953,"question_id":4674850,"body_markdown":"&lt;p&gt;\nstring.replaceAll() doesn&#39;t correctly work with locale different from predefined. At least in jdk7u10.\n&lt;/p&gt;\n\nThis example creates a word dictionary from textfile with windows cyrillic charset CP1251\n\n        public static void main (String[] args) {\n        String fileName = &quot;Tolstoy_VoinaMir.txt&quot;;\n        try {\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\n                                                    Charset.forName(&quot;CP1251&quot;));\n            Set&lt;String&gt; words = new TreeSet&lt;&gt;();\n            for (String s: lines ) {\n                for (String w : s.split(&quot;\\\\s+&quot;)) {\n                    w = w.replaceAll(&quot;\\\\p{Punct}&quot;,&quot;&quot;);\n                    words.add(w);\n                }\n            }\n            for (String w: words) {\n                System.out.println(w);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }","title":"Converting a sentence string to a string array of words in Java","body":"<p>\nstring.replaceAll() doesn't correctly work with locale different from predefined. At least in jdk7u10.\n</p>\n<p>This example creates a word dictionary from textfile with windows cyrillic charset CP1251</p>\n<pre><code>    public static void main (String[] args) {\n    String fileName = &quot;Tolstoy_VoinaMir.txt&quot;;\n    try {\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\n                                                Charset.forName(&quot;CP1251&quot;));\n        Set&lt;String&gt; words = new TreeSet&lt;&gt;();\n        for (String s: lines ) {\n            for (String w : s.split(&quot;\\\\s+&quot;)) {\n                w = w.replaceAll(&quot;\\\\p{Punct}&quot;,&quot;&quot;);\n                words.add(w);\n            }\n        }\n        for (String w: words) {\n            System.out.println(w);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3677903,"reputation":91,"user_id":3063569,"display_name":"sofia"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1386112210,"creation_date":1386110242,"answer_id":20363152,"question_id":4674850,"body_markdown":"You can just split your string like that using this **regular** expression\r\n\r\n    String l = &quot;sofia, malgr&#233; tout aimait : la laitue et le choux !&quot; &lt;br/&gt;\r\n    l.split(&quot;[[ ]*|[,]*|[\\\\.]*|[:]*|[/]*|[!]*|[?]*|[+]*]+&quot;);\r\n\r\n\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>You can just split your string like that using this <strong>regular</strong> expression</p>\n\n<pre><code>String l = \"sofia, malgrÃ© tout aimait : la laitue et le choux !\" &lt;br/&gt;\nl.split(\"[[ ]*|[,]*|[\\\\.]*|[:]*|[/]*|[!]*|[?]*|[+]*]+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3707376,"reputation":217,"user_id":3085517,"accept_rate":0,"display_name":"Eagle"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1394811480,"creation_date":1394811480,"answer_id":22409526,"question_id":4674850,"body_markdown":"Following is a code snippet which splits a sentense to word and give its count too.\r\n\r\n  \r\n\r\n\r\n     import java.util.HashMap;\r\n     import java.util.Iterator;\r\n     import java.util.Map;\r\n\r\n     public class StringToword {\r\n\tpublic static void main(String[] args) {\r\n\t\tString s=&quot;a a a A A&quot;;\r\n\t\tString[] splitedString=s.split(&quot; &quot;);\r\n\t\tMap m=new HashMap();\r\n\t\tint count=1;\r\n\t\tfor(String s1 :splitedString){\r\n\t\t\t count=m.containsKey(s1)?count+1:1;\r\n\t\t\t  m.put(s1, count);\r\n\t\t\t}\r\n\t\tIterator&lt;StringToword&gt; itr=m.entrySet().iterator();\r\n\t\twhile(itr.hasNext()){\r\n\t\t\tSystem.out.println(itr.next());\t\t\t\r\n\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>Following is a code snippet which splits a sentense to word and give its count too.</p>\n\n<pre><code> import java.util.HashMap;\n import java.util.Iterator;\n import java.util.Map;\n\n public class StringToword {\npublic static void main(String[] args) {\n    String s=\"a a a A A\";\n    String[] splitedString=s.split(\" \");\n    Map m=new HashMap();\n    int count=1;\n    for(String s1 :splitedString){\n         count=m.containsKey(s1)?count+1:1;\n          m.put(s1, count);\n        }\n    Iterator&lt;StringToword&gt; itr=m.entrySet().iterator();\n    while(itr.hasNext()){\n        System.out.println(itr.next());         \n    }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408913682,"creation_date":1408913682,"answer_id":25476257,"question_id":4674850,"body_markdown":"I already did post this answer somewhere, i will do it here again. This version doesn&#39;t use any major inbuilt method. **You got the char array, convert it into a String.** Hope it helps!\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class SentenceToWord \r\n    {\r\n        public static int getNumberOfWords(String sentence)\r\n        {\r\n            int counter=0;\r\n            for(int i=0;i&lt;sentence.length();i++)\r\n            {\r\n                if(sentence.charAt(i)==&#39; &#39;)\r\n                counter++;\r\n            }\r\n            return counter+1;\r\n        }\r\n    \r\n        public static char[] getSubString(String sentence,int start,int end) //method to give substring, replacement of String.substring() \r\n        {\r\n            int counter=0;\r\n            char charArrayToReturn[]=new char[end-start];\r\n            for(int i=start;i&lt;end;i++)\r\n            {\r\n                charArrayToReturn[counter++]=sentence.charAt(i);\r\n            }\r\n            return charArrayToReturn;\r\n        }\r\n    \r\n        public static char[][] getWordsFromString(String sentence)\r\n        {\r\n            int wordsCounter=0;\r\n            int spaceIndex=0;\r\n            int length=sentence.length();\r\n            char wordsArray[][]=new char[getNumberOfWords(sentence)][]; \r\n            for(int i=0;i&lt;length;i++)\r\n            {\r\n                if(sentence.charAt(i)==&#39; &#39; || i+1==length)\r\n                {\r\n                wordsArray[wordsCounter++]=getSubString(sentence, spaceIndex,i+1); //get each word as substring\r\n                spaceIndex=i+1; //increment space index\r\n                }\r\n            }\r\n            return  wordsArray; //return the 2 dimensional char array\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) \r\n        {\r\n        System.out.println(&quot;Please enter the String&quot;);\r\n        Scanner input=new Scanner(System.in);\r\n        String userInput=input.nextLine().trim();\r\n        int numOfWords=getNumberOfWords(userInput);\r\n        char words[][]=new char[numOfWords+1][];\r\n        words=getWordsFromString(userInput);\r\n        System.out.println(&quot;Total number of words found in the String is &quot;+(numOfWords));\r\n        for(int i=0;i&lt;numOfWords;i++)\r\n        {\r\n            System.out.println(&quot; &quot;);\r\n            for(int j=0;j&lt;words[i].length;j++)\r\n            {\r\n            System.out.print(words[i][j]);//print out each char one by one\r\n            }\r\n        }\r\n        }\r\n    \r\n    }","title":"Converting a sentence string to a string array of words in Java","body":"<p>I already did post this answer somewhere, i will do it here again. This version doesn't use any major inbuilt method. <strong>You got the char array, convert it into a String.</strong> Hope it helps!</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class SentenceToWord \n{\n    public static int getNumberOfWords(String sentence)\n    {\n        int counter=0;\n        for(int i=0;i&lt;sentence.length();i++)\n        {\n            if(sentence.charAt(i)==' ')\n            counter++;\n        }\n        return counter+1;\n    }\n\n    public static char[] getSubString(String sentence,int start,int end) //method to give substring, replacement of String.substring() \n    {\n        int counter=0;\n        char charArrayToReturn[]=new char[end-start];\n        for(int i=start;i&lt;end;i++)\n        {\n            charArrayToReturn[counter++]=sentence.charAt(i);\n        }\n        return charArrayToReturn;\n    }\n\n    public static char[][] getWordsFromString(String sentence)\n    {\n        int wordsCounter=0;\n        int spaceIndex=0;\n        int length=sentence.length();\n        char wordsArray[][]=new char[getNumberOfWords(sentence)][]; \n        for(int i=0;i&lt;length;i++)\n        {\n            if(sentence.charAt(i)==' ' || i+1==length)\n            {\n            wordsArray[wordsCounter++]=getSubString(sentence, spaceIndex,i+1); //get each word as substring\n            spaceIndex=i+1; //increment space index\n            }\n        }\n        return  wordsArray; //return the 2 dimensional char array\n    }\n\n\n    public static void main(String[] args) \n    {\n    System.out.println(\"Please enter the String\");\n    Scanner input=new Scanner(System.in);\n    String userInput=input.nextLine().trim();\n    int numOfWords=getNumberOfWords(userInput);\n    char words[][]=new char[numOfWords+1][];\n    words=getWordsFromString(userInput);\n    System.out.println(\"Total number of words found in the String is \"+(numOfWords));\n    for(int i=0;i&lt;numOfWords;i++)\n    {\n        System.out.println(\" \");\n        for(int j=0;j&lt;words[i].length;j++)\n        {\n        System.out.print(words[i][j]);//print out each char one by one\n        }\n    }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1108404,"reputation":7584,"user_id":1099314,"display_name":"ninhjs.dev"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1415018290,"creation_date":1415018290,"answer_id":26714534,"question_id":4674850,"body_markdown":"You can use &lt;code&gt;[BreakIterator.getWordInstance](http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html#getWordInstance%28%29)&lt;/code&gt; to find all words in a string.\r\n\r\n    public static List&lt;String&gt; getWords(String text) {\r\n        List&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n        BreakIterator breakIterator = BreakIterator.getWordInstance();\r\n        breakIterator.setText(text);\r\n        int lastIndex = breakIterator.first();\r\n        while (BreakIterator.DONE != lastIndex) {\r\n            int firstIndex = lastIndex;\r\n            lastIndex = breakIterator.next();\r\n            if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex))) {\r\n                words.add(text.substring(firstIndex, lastIndex));\r\n            }\r\n        }\r\n    \r\n        return words;\r\n    }\r\n\r\nTest:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getWords(&quot;A PT CR M0RT BOUSG SABN NTE TR/GB/(G) = RAND(MIN(XXX, YY + ABC))&quot;));\r\n    }\r\n\r\nOuput:\r\n\r\n    [A, PT, CR, M0RT, BOUSG, SABN, NTE, TR, GB, G, RAND, MIN, XXX, YY, ABC]","title":"Converting a sentence string to a string array of words in Java","body":"<p>You can use <code><a href=\"http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html#getWordInstance%28%29\" rel=\"noreferrer\">BreakIterator.getWordInstance</a></code> to find all words in a string.</p>\n\n<pre><code>public static List&lt;String&gt; getWords(String text) {\n    List&lt;String&gt; words = new ArrayList&lt;String&gt;();\n    BreakIterator breakIterator = BreakIterator.getWordInstance();\n    breakIterator.setText(text);\n    int lastIndex = breakIterator.first();\n    while (BreakIterator.DONE != lastIndex) {\n        int firstIndex = lastIndex;\n        lastIndex = breakIterator.next();\n        if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex))) {\n            words.add(text.substring(firstIndex, lastIndex));\n        }\n    }\n\n    return words;\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(getWords(\"A PT CR M0RT BOUSG SABN NTE TR/GB/(G) = RAND(MIN(XXX, YY + ABC))\"));\n}\n</code></pre>\n\n<p>Ouput:</p>\n\n<pre><code>[A, PT, CR, M0RT, BOUSG, SABN, NTE, TR, GB, G, RAND, MIN, XXX, YY, ABC]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6147997,"reputation":81,"user_id":4793355,"display_name":"Dan Williams"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429125030,"creation_date":1429122324,"answer_id":29657947,"question_id":4674850,"body_markdown":"Try using the following:\r\n\r\n    String str = &quot;This is a simple sentence&quot;;\r\n    String[] strgs = str.split(&quot; &quot;);\r\n\r\nThat will create a substring at each index of the array of strings using the space as a split point. ","title":"Converting a sentence string to a string array of words in Java","body":"<p>Try using the following:</p>\n\n<pre><code>String str = \"This is a simple sentence\";\nString[] strgs = str.split(\" \");\n</code></pre>\n\n<p>That will create a substring at each index of the array of strings using the space as a split point. </p>\n"},{"tags":[],"owner":{"account_id":6941916,"reputation":666,"user_id":5327923,"display_name":"Ganapathi.D"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1459963390,"creation_date":1459959923,"answer_id":36456911,"question_id":4674850,"body_markdown":"Now, this can be accomplished just with `split` as it takes regex:\r\n\r\n    String s = &quot;This is a sample sentence with []s.&quot;;\r\n    String[] words = s.split(&quot;\\\\W+&quot;);\r\n\r\nthis will give words as: `{&quot;this&quot;,&quot;is&quot;,&quot;a&quot;,&quot;sample&quot;,&quot;sentence&quot;, &quot;s&quot;}`\r\n\r\nThe `\\\\W+` will match all non-alphabetic characters occurring one or more times. So there is no need to replace. You can check other patterns also.\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>Now, this can be accomplished just with <code>split</code> as it takes regex:</p>\n\n<pre><code>String s = \"This is a sample sentence with []s.\";\nString[] words = s.split(\"\\\\W+\");\n</code></pre>\n\n<p>this will give words as: <code>{\"this\",\"is\",\"a\",\"sample\",\"sentence\", \"s\"}</code></p>\n\n<p>The <code>\\\\W+</code> will match all non-alphabetic characters occurring one or more times. So there is no need to replace. You can check other patterns also.</p>\n"},{"tags":[],"owner":{"account_id":9153560,"reputation":126,"user_id":6807222,"display_name":"Nikunj Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473479416,"creation_date":1473479416,"answer_id":39422347,"question_id":4674850,"body_markdown":"Another way to do that is StringTokenizer.\r\nex:-\r\n\r\n     public static void main(String[] args) {\r\n\r\n\t\tString str = &quot;This is a sample string&quot;;\r\n\t\tStringTokenizer st = new StringTokenizer(str,&quot; &quot;);\r\n        String starr[]=new String[st.countTokens()];\r\n\t\twhile (st.hasMoreElements()) {\r\n\t\t\tstarr[i++]=st.nextElement();\r\n\t\t}\r\n    }","title":"Converting a sentence string to a string array of words in Java","body":"<p>Another way to do that is StringTokenizer.\nex:-</p>\n\n<pre><code> public static void main(String[] args) {\n\n    String str = \"This is a sample string\";\n    StringTokenizer st = new StringTokenizer(str,\" \");\n    String starr[]=new String[st.countTokens()];\n    while (st.hasMoreElements()) {\n        starr[i++]=st.nextElement();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7398732,"reputation":157,"user_id":5629830,"display_name":"Rashmi singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510207162,"creation_date":1510207162,"answer_id":47194872,"question_id":4674850,"body_markdown":"You can use simple following code\r\n\r\n    String str= &quot;This is a sample sentence.&quot;;\r\n\tString[] words = str.split(&quot;[[ ]*|[//.]]&quot;);\r\n\tfor(int i=0;i&lt;words.length;i++)\r\n\tSystem.out.print(words[i]+&quot; &quot;);","title":"Converting a sentence string to a string array of words in Java","body":"<p>You can use simple following code</p>\n\n<pre><code>String str= \"This is a sample sentence.\";\nString[] words = str.split(\"[[ ]*|[//.]]\");\nfor(int i=0;i&lt;words.length;i++)\nSystem.out.print(words[i]+\" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551910455,"creation_date":1551910455,"answer_id":55033028,"question_id":4674850,"body_markdown":"Most of the answers here convert String to String Array as the question asked. But Generally we use List , so more useful will be -\r\n\r\n    String dummy = &quot;This is a sample sentence.&quot;;\r\n    List&lt;String&gt; wordList= Arrays.asList(dummy.split(&quot; &quot;));","title":"Converting a sentence string to a string array of words in Java","body":"<p>Most of the answers here convert String to String Array as the question asked. But Generally we use List , so more useful will be -</p>\n\n<pre><code>String dummy = \"This is a sample sentence.\";\nList&lt;String&gt; wordList= Arrays.asList(dummy.split(\" \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187253,"reputation":269,"user_id":8209106,"display_name":"R.singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573458363,"creation_date":1573458363,"answer_id":58797347,"question_id":4674850,"body_markdown":"Here is a solution in plain and simple C++ code with no fancy function, use DMA to allocate a dynamic string array, and put data in array till you find a open space.\r\nplease refer code below with comments.\r\nI hope it helps.\r\n\r\n    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    \r\n    int main()\r\n    {\r\n    \r\n    string data=&quot;hello there how are you&quot;; // a_size=5, char count =23\r\n    //getline(cin,data); \r\n    int count=0; // initialize a count to count total number of spaces in string.\r\n    int len=data.length();\r\n    for (int i = 0; i &lt; (int)data.length(); ++i)\r\n    {\r\n    \tif(data[i]==&#39; &#39;)\r\n    \t{\r\n    \t\t++count;\r\n    \t}\r\n    }\r\n    //declare a string array +1 greater than the size \r\n    // num of space in string.\r\n    string* str = new string[count+1];\r\n    \r\n    int i, start=0;\r\n    for (int index=0; index&lt;count+1; ++index) // index array to increment index of string array and feed data.\r\n    {\tstring temp=&quot;&quot;;\r\n    \tfor ( i = start; i &lt;len; ++i)\r\n    \t{\t\r\n    \t\tif(data[i]!=&#39; &#39;) //increment temp stored word till you find a space.\r\n    \t\t{\r\n    \t\t\ttemp=temp+data[i];\r\n    \t\t}else{\r\n    \t\t\tstart=i+1; // increment i counter to next to the space\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}str[index]=temp;\r\n    }\r\n    \r\n    \r\n    //print data \r\n    for (int i = 0; i &lt; count+1; ++i)\r\n    {\r\n    \tcout&lt;&lt;str[i]&lt;&lt;&quot; &quot;;\r\n    }\r\n    \r\n    \treturn 0;\r\n    }","title":"Converting a sentence string to a string array of words in Java","body":"<p>Here is a solution in plain and simple C++ code with no fancy function, use DMA to allocate a dynamic string array, and put data in array till you find a open space.\nplease refer code below with comments.\nI hope it helps.</p>\n\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint main()\n{\n\nstring data=\"hello there how are you\"; // a_size=5, char count =23\n//getline(cin,data); \nint count=0; // initialize a count to count total number of spaces in string.\nint len=data.length();\nfor (int i = 0; i &lt; (int)data.length(); ++i)\n{\n    if(data[i]==' ')\n    {\n        ++count;\n    }\n}\n//declare a string array +1 greater than the size \n// num of space in string.\nstring* str = new string[count+1];\n\nint i, start=0;\nfor (int index=0; index&lt;count+1; ++index) // index array to increment index of string array and feed data.\n{   string temp=\"\";\n    for ( i = start; i &lt;len; ++i)\n    {   \n        if(data[i]!=' ') //increment temp stored word till you find a space.\n        {\n            temp=temp+data[i];\n        }else{\n            start=i+1; // increment i counter to next to the space\n            break;\n        }\n    }str[index]=temp;\n}\n\n\n//print data \nfor (int i = 0; i &lt; count+1; ++i)\n{\n    cout&lt;&lt;str[i]&lt;&lt;\" \";\n}\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16125206,"reputation":1,"user_id":11640117,"display_name":"Swapnil Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606893621,"creation_date":1606893621,"answer_id":65103767,"question_id":4674850,"body_markdown":"This should help,\r\n\r\n     String s = &quot;This is a sample sentence&quot;;\r\n     String[] words = s.split(&quot; &quot;);\r\n\r\nthis will make an array with elements as the string separated by &quot; &quot;.\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>This should help,</p>\n<pre><code> String s = &quot;This is a sample sentence&quot;;\n String[] words = s.split(&quot; &quot;);\n</code></pre>\n<p>this will make an array with elements as the string separated by &quot; &quot;.</p>\n"},{"tags":[],"owner":{"account_id":15545833,"reputation":11,"user_id":11215095,"display_name":"rusiru madauranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630565876,"creation_date":1630515783,"answer_id":69017966,"question_id":4674850,"body_markdown":"TRY THIS....\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class test {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner t = new Scanner(System.in);\r\n            String x = t.nextLine();\r\n    \r\n            System.out.println(x);\r\n    \r\n            String[] starr = x.split(&quot; &quot;);\r\n    \r\n            System.out.println(&quot;reg no: &quot;+ starr[0]);\r\n            System.out.println(&quot;name: &quot;+ starr[1]);\r\n            System.out.println(&quot;district: &quot;+ starr[2]);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Converting a sentence string to a string array of words in Java","body":"<p>TRY THIS....</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n    public static void main(String[] args) {\n\n        Scanner t = new Scanner(System.in);\n        String x = t.nextLine();\n\n        System.out.println(x);\n\n        String[] starr = x.split(&quot; &quot;);\n\n        System.out.println(&quot;reg no: &quot;+ starr[0]);\n        System.out.println(&quot;name: &quot;+ starr[1]);\n        System.out.println(&quot;district: &quot;+ starr[2]);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":233289,"reputation":1889,"user_id":498680,"accept_rate":97,"display_name":"AnimatedRNG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359371,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":4674887,"answer_count":18,"score":66,"last_activity_date":1670685526,"creation_date":1294872247,"question_id":4674850,"body_markdown":"I need my Java program to take a string like:\r\n\r\n    &quot;This is a sample sentence.&quot;\r\n\r\nand turn it into a string array like:\r\n\r\n    {&quot;this&quot;,&quot;is&quot;,&quot;a&quot;,&quot;sample&quot;,&quot;sentence&quot;}\r\n\r\nNo periods, or punctuation (preferably). By the way, the string input is always one sentence.\r\n\r\nIs there an easy way to do this that I&#39;m not seeing? Or do we really have to search for spaces a lot and create new strings from the areas between the spaces (which are words)?","title":"Converting a sentence string to a string array of words in Java","body":"<p>I need my Java program to take a string like:</p>\n\n<pre><code>\"This is a sample sentence.\"\n</code></pre>\n\n<p>and turn it into a string array like:</p>\n\n<pre><code>{\"this\",\"is\",\"a\",\"sample\",\"sentence\"}\n</code></pre>\n\n<p>No periods, or punctuation (preferably). By the way, the string input is always one sentence.</p>\n\n<p>Is there an easy way to do this that I'm not seeing? Or do we really have to search for spaces a lot and create new strings from the areas between the spaces (which are words)?</p>\n"},{"tags":["java","javafx","java-8","java-17"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":5,"creation_date":1636665884,"post_id":69934727,"comment_id":123624894,"body_markdown":"You can compile your Java 17 code to a Java 8 standard for it to run on Java 1.8.  Otherwise, your understanding is correct.","body":"You can compile your Java 17 code to a Java 8 standard for it to run on Java 1.8.  Otherwise, your understanding is correct."},{"owner":{"account_id":17747386,"reputation":107,"user_id":12886377,"display_name":"Filippo"},"score":0,"creation_date":1636666131,"post_id":69934727,"comment_id":123624969,"body_markdown":"So basically there&#39;s not a JRE for java 17?","body":"So basically there&#39;s not a JRE for java 17?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1636670032,"post_id":69934727,"comment_id":123625993,"body_markdown":"@Filippo &quot;So basically there&#39;s not a JRE for java 17?&quot; -&gt; no, that is not what is meant.  There are JRE implementations for Java 17.  All JDK implementations of Java 17 include a JRE for Java 17. There are also JREs for Java 17 available in a standalone format, separate from JDK implementations, these are provided by various vendors, such as Oracle, Bellsoft, Azul, Adoptium, etc.","body":"@Filippo &quot;So basically there&#39;s not a JRE for java 17?&quot; -&gt; no, that is not what is meant.  There are JRE implementations for Java 17.  All JDK implementations of Java 17 include a JRE for Java 17. There are also JREs for Java 17 available in a standalone format, separate from JDK implementations, these are provided by various vendors, such as Oracle, Bellsoft, Azul, Adoptium, etc."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1636681073,"creation_date":1636666353,"answer_id":69935166,"question_id":69934727,"body_markdown":"Yes, you understand the problem correctly: An app **compiled for Java 17 cannot be run on a Java 8** runtime.\r\n\r\nYou have choices:\r\n\r\n - Change your runtime to Java 17.\r\n - Compile your app for Java 8, if your codebase does not use features from Java 9 and later.\r\n - Bundle a Java runtime within your app. This way at compile-time you have complete control, so you can compile for Java 17 while also running on Java 17. \r\n\r\nModern Java offers the [*jlink*][1] &amp; [*jpackage*][2] tooling to assist with bundling a Java runtime into your app. The [*Java Platform Module System*][3] make it possible to strip the Java runtime down to only the parts actually used by your app. \r\n\r\nIf you feel the need and have the nerve, the cutting edge approach is to compile a native app using [GraalVM][4] technology from Oracle.\r\n\r\nYou commented:\r\n\r\n&gt;So basically there&#39;s not a JRE for java 17? \r\n\r\nThe JRE (Java Runtime Environment) is becoming pass&#233; as Oracle no longer expects end users in general to have a Java runtime installed on their systems. The JRE was just a subset of a JDK, with some of the tools removed. \r\n\r\nIf you bundle a Java runtime as discussed above, the JRE is irrelevant as the new modern tooling will include only the parts necessary for your app.\r\n\r\nYou can obtain Java 17 implementations from any of several vendors. These vendors include, off the top of my head, Amazon, Azul Systems, Oracle, Microsoft, Adoptium, SAP, BellSoft, Pivotal, Red Hat/IBM, FreeBSD Ports &amp; Packages. Some vendors offer support, some do not. Some charge a fee, some do not. \r\n\r\nBy the way, another option is to build your JavaFX app without a bundled Java runtime, and without the OpenJFX/JavaFX libraries. At least two vendors supply versions of their Java runtimes that include the OpenJFX/JavaFX libraries: Azul Systems (ZuluFX), and BellSoft (LibericaFX). This approach is feasible only where you or your client have control over usersâ machines such as a corporate environment, a school, etc.\r\n\r\nI suggest reading these two white papers:\r\n\r\n - [*Java Client Roadmap Update*][5], by *Oracle*, 2020-05.\r\n - [*Java Is Still Free 3.0.0 (Oct 2021)*][6] by the *Java Champions* (pillars of the Java community). \r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/282\r\n  [2]: https://openjdk.java.net/jeps/392\r\n  [3]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [4]: https://www.graalvm.org/\r\n  [5]: https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\r\n  [6]: https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b","title":"Cannot run JAR with JRE 1.8_311 compiled with Java 17","body":"<p>Yes, you understand the problem correctly: An app <strong>compiled for Java 17 cannot be run on a Java 8</strong> runtime.</p>\n<p>You have choices:</p>\n<ul>\n<li>Change your runtime to Java 17.</li>\n<li>Compile your app for Java 8, if your codebase does not use features from Java 9 and later.</li>\n<li>Bundle a Java runtime within your app. This way at compile-time you have complete control, so you can compile for Java 17 while also running on Java 17.</li>\n</ul>\n<p>Modern Java offers the <a href=\"http://openjdk.java.net/jeps/282\" rel=\"noreferrer\"><em>jlink</em></a> &amp; <a href=\"https://openjdk.java.net/jeps/392\" rel=\"noreferrer\"><em>jpackage</em></a> tooling to assist with bundling a Java runtime into your app. The <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"noreferrer\"><em>Java Platform Module System</em></a> make it possible to strip the Java runtime down to only the parts actually used by your app.</p>\n<p>If you feel the need and have the nerve, the cutting edge approach is to compile a native app using <a href=\"https://www.graalvm.org/\" rel=\"noreferrer\">GraalVM</a> technology from Oracle.</p>\n<p>You commented:</p>\n<blockquote>\n<p>So basically there's not a JRE for java 17?</p>\n</blockquote>\n<p>The JRE (Java Runtime Environment) is becoming passÃ© as Oracle no longer expects end users in general to have a Java runtime installed on their systems. The JRE was just a subset of a JDK, with some of the tools removed.</p>\n<p>If you bundle a Java runtime as discussed above, the JRE is irrelevant as the new modern tooling will include only the parts necessary for your app.</p>\n<p>You can obtain Java 17 implementations from any of several vendors. These vendors include, off the top of my head, Amazon, Azul Systems, Oracle, Microsoft, Adoptium, SAP, BellSoft, Pivotal, Red Hat/IBM, FreeBSD Ports &amp; Packages. Some vendors offer support, some do not. Some charge a fee, some do not.</p>\n<p>By the way, another option is to build your JavaFX app without a bundled Java runtime, and without the OpenJFX/JavaFX libraries. At least two vendors supply versions of their Java runtimes that include the OpenJFX/JavaFX libraries: Azul Systems (ZuluFX), and BellSoft (LibericaFX). This approach is feasible only where you or your client have control over usersâ machines such as a corporate environment, a school, etc.</p>\n<p>I suggest reading these two white papers:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"noreferrer\"><em>Java Client Roadmap Update</em></a>, by <em>Oracle</em>, 2020-05.</li>\n<li><a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"noreferrer\"><em>Java Is Still Free 3.0.0 (Oct 2021)</em></a> by the <em>Java Champions</em> (pillars of the Java community).</li>\n</ul>\n"}],"owner":{"account_id":17747386,"reputation":107,"user_id":12886377,"display_name":"Filippo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17551,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":69935166,"answer_count":1,"score":0,"last_activity_date":1670685320,"creation_date":1636663568,"question_id":69934727,"body_markdown":"I&#39;m creating a JavaFX Application using IntelliJ and **OpenJDK 17**. The **project language level is set to 17**. After creating the JAR (building the artifact) I try to execute it with the **JRE 1.8.0_311**. When I do that I get this error:\r\n\r\n```\r\njava.lang.UnsupportedClassVersionError: Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot;\r\n```\r\n\r\nTo my understanding, this error means that my code is compiled with Java 17 but my JRE can run only Java 8 code. I tried running the .jar with the OpenJDK and it works.\r\n\r\nThanks in advance.","title":"Cannot run JAR with JRE 1.8_311 compiled with Java 17","body":"<p>I'm creating a JavaFX Application using IntelliJ and <strong>OpenJDK 17</strong>. The <strong>project language level is set to 17</strong>. After creating the JAR (building the artifact) I try to execute it with the <strong>JRE 1.8.0_311</strong>. When I do that I get this error:</p>\n<pre><code>java.lang.UnsupportedClassVersionError: Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot;\n</code></pre>\n<p>To my understanding, this error means that my code is compiled with Java 17 but my JRE can run only Java 8 code. I tried running the .jar with the OpenJDK and it works.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1670688745,"post_id":74754106,"comment_id":131933346,"body_markdown":"How are you launching the two containers?  Where does the magic hex hostname come from?  (I don&#39;t think you can ever use a container ID as a hostname.)  What error are you getting, from which process?  Can you [edit] the question to remove the unnecessary commented code, leaving a [mcve]?","body":"How are you launching the two containers?  Where does the magic hex hostname come from?  (I don&#39;t think you can ever use a container ID as a hostname.)  What error are you getting, from which process?  Can you <a href=\"https://stackoverflow.com/posts/74754106/edit\">edit</a> the question to remove the unnecessary commented code, leaving a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1670695228,"post_id":74754106,"comment_id":131934724,"body_markdown":"Does the same code run outside of Docker? If so, you could narrow the issue to being a Docker networking issue.","body":"Does the same code run outside of Docker? If so, you could narrow the issue to being a Docker networking issue."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670767664,"post_id":74754106,"comment_id":131944665,"body_markdown":"I am just answer a question like this, and give a example code all. You can visit https://stackoverflow.com/questions/74756501/why-docker-java-server-clients-doesnt-work/74759917#74759917","body":"I am just answer a question like this, and give a example code all. You can visit <a href=\"https://stackoverflow.com/questions/74756501/why-docker-java-server-clients-doesnt-work/74759917#74759917\" title=\"why docker java server clients doesnt work\">stackoverflow.com/questions/74756501/&hellip;</a>"}],"owner":{"account_id":21197428,"reputation":13,"user_id":15588722,"display_name":"Yash Gadgil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670684990,"creation_date":1670684990,"question_id":74754106,"body_markdown":"I have two containers connected on same network. I am able to ping containers. I am trying to share data using java socket programming. How can I connect using java and share data between containers.\r\n\r\nBelow I have attached code for client and server. Both files are running on same host machine and on the same container(ntu-vm-soft40051).HostName is the container ID to whom I have to share data and port I have mapped.\r\n\r\n5071de43f576   22/tcp, 0.0.0.0:3390-&gt;3389/tcp   ntu-vm-soft40051\r\na6d4bc5dadf0   0.0.0.0:4848-&gt;22/tcp             soft40051-simple-container1\r\n```\r\npublic class Client\r\n{\r\n   \r\n    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException {\r\n       \r\n        try (Socket socket = new Socket(&quot;a6d4bc5dadf0&quot;, 22))\r\n        {\r\n            //InputStream input=socket.getInputStream();\r\n           \r\n            //BufferedReader reader=new BufferedReader(new InputStreamReader(input));\r\n            //TODO add code here\r\n \r\n            //String line;\r\n            //System.out.println(&quot;Print received the following message:\\n&quot;);\r\n           \r\n            //while((line=reader.readLine())!= null)\r\n            {\r\n                //System.out.println(line);\r\n            }\r\n\r\n        } catch (UnknownHostException ex) {\r\n \r\n            System.out.println(&quot;Server not found: &quot; + ex.getMessage());\r\n \r\n        } catch (IOException ex) {\r\n \r\n            System.out.println(&quot;I/O error: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npublic class Server {\r\n   \r\n    //socket server port on which it will listen\r\n   \r\n    public static void main(String[] args) throws IOException, ClassNotFoundException\r\n    {\r\n        int port = 22;\r\n        try (ServerSocket serverSocket = new ServerSocket(port))\r\n        {\r\n \r\n           \r\n           \r\n \r\n            while (true)\r\n            {\r\n               \r\n                //ServerSocket serversoc=new ServerSocket(port);\r\n                Socket socket=serverSocket.accept();\r\n                //System.out.println(&quot;Hi&quot;);\r\n                System.out.println(&quot;New Client is connected&quot;);\r\n               \r\n                //OutputStream output= socket.getOutputStream();\r\n               \r\n                //PrintWriter writer=new PrintWriter(output, true);\r\n                //writer.println(&quot;Hello this is a message sent by the server!&quot;);\r\n                //writer.println(&quot;This is second string sent by server&quot;);\r\n                //writer.println(&quot;Third string&quot;);\r\n                //writer.println(new Date().toString());\r\n            }\r\n \r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n            ex.printStackTrace();\r\n        }\r\n\r\n    }\r\n   \r\n}\r\n```\r\n","title":"Connect Multiple docker containers using Java Socket Programming","body":"<p>I have two containers connected on same network. I am able to ping containers. I am trying to share data using java socket programming. How can I connect using java and share data between containers.</p>\n<p>Below I have attached code for client and server. Both files are running on same host machine and on the same container(ntu-vm-soft40051).HostName is the container ID to whom I have to share data and port I have mapped.</p>\n<p>5071de43f576   22/tcp, 0.0.0.0:3390-&gt;3389/tcp   ntu-vm-soft40051\na6d4bc5dadf0   0.0.0.0:4848-&gt;22/tcp             soft40051-simple-container1</p>\n<pre><code>public class Client\n{\n   \n    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException {\n       \n        try (Socket socket = new Socket(&quot;a6d4bc5dadf0&quot;, 22))\n        {\n            //InputStream input=socket.getInputStream();\n           \n            //BufferedReader reader=new BufferedReader(new InputStreamReader(input));\n            //TODO add code here\n \n            //String line;\n            //System.out.println(&quot;Print received the following message:\\n&quot;);\n           \n            //while((line=reader.readLine())!= null)\n            {\n                //System.out.println(line);\n            }\n\n        } catch (UnknownHostException ex) {\n \n            System.out.println(&quot;Server not found: &quot; + ex.getMessage());\n \n        } catch (IOException ex) {\n \n            System.out.println(&quot;I/O error: &quot; + ex.getMessage());\n        }\n    }\n}\n\n</code></pre>\n<pre><code>public class Server {\n   \n    //socket server port on which it will listen\n   \n    public static void main(String[] args) throws IOException, ClassNotFoundException\n    {\n        int port = 22;\n        try (ServerSocket serverSocket = new ServerSocket(port))\n        {\n \n           \n           \n \n            while (true)\n            {\n               \n                //ServerSocket serversoc=new ServerSocket(port);\n                Socket socket=serverSocket.accept();\n                //System.out.println(&quot;Hi&quot;);\n                System.out.println(&quot;New Client is connected&quot;);\n               \n                //OutputStream output= socket.getOutputStream();\n               \n                //PrintWriter writer=new PrintWriter(output, true);\n                //writer.println(&quot;Hello this is a message sent by the server!&quot;);\n                //writer.println(&quot;This is second string sent by server&quot;);\n                //writer.println(&quot;Third string&quot;);\n                //writer.println(new Date().toString());\n            }\n \n        } catch (IOException ex) {\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        }\n\n    }\n   \n}\n</code></pre>\n"},{"tags":["java","html","css"],"comments":[{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1670682884,"post_id":74753766,"comment_id":131932135,"body_markdown":"first java is not javascript they different and for your issue use the background-image attribute check this one https://developer.mozilla.org/en-US/docs/Web/CSS/background-image and happy coding :)","body":"first java is not javascript they different and for your issue use the background-image attribute check this one <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/background-image</a> and happy coding :)"}],"answers":[{"tags":[],"owner":{"account_id":23885677,"reputation":113,"user_id":17885863,"display_name":"Jason"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670682823,"creation_date":1670682823,"answer_id":74753829,"question_id":74753766,"body_markdown":"Hi Utsav Vishnoito to do this it is pretty simple, you use &lt;br&gt;\r\n`background-image: url(&quot;Put your desired image path here&quot;)`\r\n\r\nEXAMPLE: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    body {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        \r\n        /*IMAGE GOES HERE*/\r\n        background-image: url(&quot;https://coolbackgrounds.io/images/backgrounds/index/sea-edge-79ab30e2.png&quot;);\r\n    }\r\n\r\n    /* .login-form{\r\n        width: 400px;\r\n    } */\r\n\r\n    /* Full-width input fields */\r\n    input[type=text],\r\n    input[type=password] {\r\n        width: 100%;\r\n        padding: 12px 20px;\r\n        margin: 8px 0;\r\n        display: inline-block;\r\n        border: 1px solid #ccc;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Hi&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;!-- end snippet --&gt;","title":"How to add a background image in css?","body":"<p>Hi Utsav Vishnoito to do this it is pretty simple, you use <br>\n<code>background-image: url(&quot;Put your desired image path here&quot;)</code></p>\n<p>EXAMPLE:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\n    font-family: Arial, Helvetica, sans-serif;\n    \n    /*IMAGE GOES HERE*/\n    background-image: url(\"https://coolbackgrounds.io/images/backgrounds/index/sea-edge-79ab30e2.png\");\n}\n\n/* .login-form{\n    width: 400px;\n} */\n\n/* Full-width input fields */\ninput[type=text],\ninput[type=password] {\n    width: 100%;\n    padding: 12px 20px;\n    margin: 8px 0;\n    display: inline-block;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\n&lt;h1&gt;Hi&lt;/h1&gt;\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27187636,"reputation":1,"user_id":20721902,"display_name":"Utsav Vishnoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670683651,"answer_count":1,"score":-1,"last_activity_date":1670683730,"creation_date":1670682455,"question_id":74753766,"body_markdown":"\r\nI was trying to get a background image in css\r\ni tried\r\nbut could not get that\r\n\r\n\r\n\r\n```\r\nbody {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n/* .login-form{\r\n    width: 400px;\r\n} */\r\n\r\n/* Full-width input fields */\r\ninput[type=text],\r\ninput[type=password] {\r\n    width: 100%;\r\n    padding: 12px 20px;\r\n    margin: 8px 0;\r\n    display: inline-block;\r\n    border: 1px solid #ccc;\r\n    box-sizing: border-box;\r\n}\r\n```\r\n","title":"How to add a background image in css?","body":"<p>I was trying to get a background image in css\ni tried\nbut could not get that</p>\n<pre><code>body {\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n/* .login-form{\n    width: 400px;\n} */\n\n/* Full-width input fields */\ninput[type=text],\ninput[type=password] {\n    width: 100%;\n    padding: 12px 20px;\n    margin: 8px 0;\n    display: inline-block;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n}\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670708325,"post_id":74753905,"comment_id":131937061,"body_markdown":"The dependency tree is the dependency tree for your app, not the contents of a shaded jar.  The shaded jar does not include test code or test dependencies or compile only dependencies but does include resources, which are not dependencies.  So he shaded jar is not the same as the dependency tree.  To see what is in the jar, run jar tvf on it.","body":"The dependency tree is the dependency tree for your app, not the contents of a shaded jar.  The shaded jar does not include test code or test dependencies or compile only dependencies but does include resources, which are not dependencies.  So he shaded jar is not the same as the dependency tree.  To see what is in the jar, run jar tvf on it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670708747,"post_id":74753905,"comment_id":131937133,"body_markdown":"âcould it be some necessary module that was not included?â -&gt; yes a module must be a jar file or encoded in a linked image. The jar file can only contain a single module, so it is impossible for a shaded jar to contain multiple modules, and JavaFX needs multiple modules to work.","body":"âcould it be some necessary module that was not included?â -&gt; yes a module must be a jar file or encoded in a linked image. The jar file can only contain a single module, so it is impossible for a shaded jar to contain multiple modules, and JavaFX needs multiple modules to work."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670709093,"post_id":74753905,"comment_id":131937194,"body_markdown":"Only classify dependencies if you decide to continue shading regardless.  If you do that then classify all JavaFX dependencies not just some and provide all needed classifiers for all required JavaFX dependencies regardless of transitivity.","body":"Only classify dependencies if you decide to continue shading regardless.  If you do that then classify all JavaFX dependencies not just some and provide all needed classifiers for all required JavaFX dependencies regardless of transitivity."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670709161,"post_id":74753905,"comment_id":131937209,"body_markdown":"I do not understand why every day people ask this same question. No documentation recommends using shade to package a JavaFX application. For simple apps like this, with only JavaFX dependencies, use the javafx-maven-plugin to create a zip of a jlink image for distribution, it is simple, reliable and easy","body":"I do not understand why every day people ask this same question. No documentation recommends using shade to package a JavaFX application. For simple apps like this, with only JavaFX dependencies, use the javafx-maven-plugin to create a zip of a jlink image for distribution, it is simple, reliable and easy"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670709212,"post_id":74753905,"comment_id":131937215,"body_markdown":"Donât mix JavaFX versions for different JavaFX modules in the same app. Donât use ea versions.","body":"Donât mix JavaFX versions for different JavaFX modules in the same app. Donât use ea versions."}],"owner":{"account_id":24220834,"reputation":11,"user_id":18176039,"display_name":"Gionata Donati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670709605,"answer_count":0,"score":0,"last_activity_date":1670683482,"creation_date":1670683482,"question_id":74753905,"body_markdown":"I am trying to generate a jar file by embedding within it the javaFx dependencies needed to run my program.\r\n\r\nBelow is my pom.xml file that includes the shave plugin which should do exactly that.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SoftwareRtf&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;SoftwareRtf&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;com.example.softwarertf.MenuExample&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nLater from the command line I ran:\r\n`mvn package`\r\n\r\nIn doing so, two files are generated:\r\noriginal-SoftwareRtf-1.0-SNAPSHOT.jar and SoftwareRtf-1.0-SNAPSHOT.jar\r\n\r\nThat by executing them using the command:\r\n`java -jar ....`\r\nproduce this error\r\n\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n\r\nUsing the following command I was able to see what is contained in the jar file and I see the JavaFx files inside them.\r\n\r\n`mvn dependency:tree -Ddetail=true `\r\n\r\n```\r\ncom.example:SoftwareRtf:jar:1.0-SNAPSHOT\r\n\\[INFO\\] +- org.openjfx:javafx-controls:jar:17.0.2:compile\r\n\\[INFO\\] |  +- org.openjfx:javafx-controls:jar:mac-aarch64:17.0.2:compile\r\n\\[INFO\\] |  - org.openjfx:javafx-graphics:jar:17.0.2:compile\r\n\\[INFO\\] |     +- org.openjfx:javafx-graphics:jar:mac-aarch64:17.0.2:compile\r\n\\[INFO\\] |     - org.openjfx:javafx-base:jar:17.0.2:compile\r\n\\[INFO\\] |        - org.openjfx:javafx-base:jar:mac-aarch64:17.0.2:compile\r\n\\[INFO\\] +- org.openjfx:javafx-media:jar:20-ea+9:compile\r\n\\[INFO\\] |  - org.openjfx:javafx-media:jar:mac-aarch64:20-ea+9:compile\r\n\\[INFO\\] +- org.openjfx:javafx-fxml:jar:17.0.2:compile\r\n\\[INFO\\] |  - org.openjfx:javafx-fxml:jar:mac-aarch64:17.0.2:compile\r\n\\[INFO\\] +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n\\[INFO\\] |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n\\[INFO\\] |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n\\[INFO\\] |  - org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n\\[INFO\\] - org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n\\[INFO\\]    - org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n```\r\n\r\nI don&#39;t understand what I am doing wrong, could it be some necessary module that was not included? Any input is welcome. Thank you!","title":"Error: JavaFX runtime components are missing using shade","body":"<p>I am trying to generate a jar file by embedding within it the javaFx dependencies needed to run my program.</p>\n<p>Below is my pom.xml file that includes the shave plugin which should do exactly that.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SoftwareRtf&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SoftwareRtf&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n            &lt;classifier&gt;linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n            &lt;classifier&gt;mac&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.example.softwarertf.MenuExample&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Later from the command line I ran:\n<code>mvn package</code></p>\n<p>In doing so, two files are generated:\noriginal-SoftwareRtf-1.0-SNAPSHOT.jar and SoftwareRtf-1.0-SNAPSHOT.jar</p>\n<p>That by executing them using the command:\n<code>java -jar ....</code>\nproduce this error</p>\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n<p>Using the following command I was able to see what is contained in the jar file and I see the JavaFx files inside them.</p>\n<p><code>mvn dependency:tree -Ddetail=true </code></p>\n<pre><code>com.example:SoftwareRtf:jar:1.0-SNAPSHOT\n\\[INFO\\] +- org.openjfx:javafx-controls:jar:17.0.2:compile\n\\[INFO\\] |  +- org.openjfx:javafx-controls:jar:mac-aarch64:17.0.2:compile\n\\[INFO\\] |  - org.openjfx:javafx-graphics:jar:17.0.2:compile\n\\[INFO\\] |     +- org.openjfx:javafx-graphics:jar:mac-aarch64:17.0.2:compile\n\\[INFO\\] |     - org.openjfx:javafx-base:jar:17.0.2:compile\n\\[INFO\\] |        - org.openjfx:javafx-base:jar:mac-aarch64:17.0.2:compile\n\\[INFO\\] +- org.openjfx:javafx-media:jar:20-ea+9:compile\n\\[INFO\\] |  - org.openjfx:javafx-media:jar:mac-aarch64:20-ea+9:compile\n\\[INFO\\] +- org.openjfx:javafx-fxml:jar:17.0.2:compile\n\\[INFO\\] |  - org.openjfx:javafx-fxml:jar:mac-aarch64:17.0.2:compile\n\\[INFO\\] +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n\\[INFO\\] |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n\\[INFO\\] |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n\\[INFO\\] |  - org.apiguardian:apiguardian-api:jar:1.1.2:test\n\\[INFO\\] - org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n\\[INFO\\]    - org.junit.platform:junit-platform-engine:jar:1.8.2:test\n</code></pre>\n<p>I don't understand what I am doing wrong, could it be some necessary module that was not included? Any input is welcome. Thank you!</p>\n"},{"tags":["java","android","performance","android-recyclerview"],"comments":[{"owner":{"account_id":3149313,"reputation":24760,"user_id":2738565,"accept_rate":29,"display_name":"Haresh Chhelana"},"score":1,"creation_date":1417177663,"post_id":27188536,"comment_id":42863523,"body_markdown":"Try to use ViewHolder design pattern for scrolling performance : http://developer.android.com/training/improving-layouts/smooth-scrolling.html","body":"Try to use ViewHolder design pattern for scrolling performance : <a href=\"http://developer.android.com/training/improving-layouts/smooth-scrolling.html\" rel=\"nofollow noreferrer\">developer.android.com/training/improving-layouts/&hellip;</a>"},{"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"score":0,"creation_date":1417178261,"post_id":27188536,"comment_id":42863876,"body_markdown":"@HareshChhelana thanks for you answer! But I&#39;m already using ViewHolder pattern, according the link: https://developer.android.com/training/material/lists-cards.html","body":"@HareshChhelana thanks for you answer! But I&#39;m already using ViewHolder pattern, according the link: <a href=\"https://developer.android.com/training/material/lists-cards.html\" rel=\"nofollow noreferrer\">developer.android.com/training/material/lists-cards.html</a>"},{"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"score":2,"creation_date":1417236718,"post_id":27188536,"comment_id":42882243,"body_markdown":"Can you share some code about your adapter setup and the XML file for your layouts. This does not look normal.\nAlso, did you profile and see where the time is spent?","body":"Can you share some code about your adapter setup and the XML file for your layouts. This does not look normal. Also, did you profile and see where the time is spent?"},{"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"score":0,"creation_date":1420911217,"post_id":27188536,"comment_id":44159758,"body_markdown":"@yigit thanks for you comment. But my adapter and XML setup are identical to the link mentioned in my question: [Creating Lists and Cards](https://developer.android.com/training/material/lists-cards.html). I believe that unfortunately is a bug in recycleview.","body":"@yigit thanks for you comment. But my adapter and XML setup are identical to the link mentioned in my question: <a href=\"https://developer.android.com/training/material/lists-cards.html\" rel=\"nofollow noreferrer\">Creating Lists and Cards</a>. I believe that unfortunately is a bug in recycleview."},{"owner":{"account_id":4243628,"reputation":358,"user_id":3472905,"display_name":"Servus7"},"score":2,"creation_date":1422481676,"post_id":27188536,"comment_id":44772141,"body_markdown":"I am facing allmost the same problems. Except its fast in pre Lollipop and incredible(really) slow in Android L.","body":"I am facing allmost the same problems. Except its fast in pre Lollipop and incredible(really) slow in Android L."},{"owner":{"account_id":4140802,"reputation":3464,"user_id":3396197,"accept_rate":65,"display_name":"Droidekas"},"score":1,"creation_date":1459946899,"post_id":27188536,"comment_id":60515936,"body_markdown":"can you also share the version of the library you are importing.","body":"can you also share the version of the library you are importing."},{"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"score":0,"creation_date":1459952856,"post_id":27188536,"comment_id":60520789,"body_markdown":"@Droidekas, thanks for you comment! The performance problem was identified in version 21 lib, but even at 23 the problem still exists.","body":"@Droidekas, thanks for you comment! The performance problem was identified in version 21 lib, but even at 23 the problem still exists."},{"owner":{"account_id":4140802,"reputation":3464,"user_id":3396197,"accept_rate":65,"display_name":"Droidekas"},"score":0,"creation_date":1459952904,"post_id":27188536,"comment_id":60520825,"body_markdown":"So you are still facing the issue?","body":"So you are still facing the issue?"},{"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"score":0,"creation_date":1459954153,"post_id":27188536,"comment_id":60521847,"body_markdown":"Yes, there was a slight improvement but the problem is still noticeable.","body":"Yes, there was a slight improvement but the problem is still noticeable."},{"owner":{"account_id":4140802,"reputation":3464,"user_id":3396197,"accept_rate":65,"display_name":"Droidekas"},"score":0,"creation_date":1459954251,"post_id":27188536,"comment_id":60521933,"body_markdown":"Adding your code would help.I use a much more complicated recycler view and manage to keep it above 30 fps consistently.Adding your code would help.","body":"Adding your code would help.I use a much more complicated recycler view and manage to keep it above 30 fps consistently.Adding your code would help."}],"answers":[{"tags":[],"owner":{"account_id":4174907,"reputation":838,"user_id":3421738,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459933088,"creation_date":1422623901,"answer_id":28236828,"question_id":27188536,"body_markdown":"I see in the comments that you are already implementing the `ViewHolder` pattern, but I will post an example adapter here that uses the `RecyclerView.ViewHolder` pattern so you can verify that you are integrating it in a similar way, again your constructor can vary depending on your needs, here is an example:\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n    \r\n        Context mContext;\r\n        List&lt;String&gt; mNames;\r\n    \r\n        public RecyclerAdapter(Context context, List&lt;String&gt; names) {\r\n            mContext = context;\r\n            mNames = names;\r\n        }\r\n    \r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n            View view = LayoutInflater.from(viewGroup.getContext())\r\n                    .inflate(android.R.layout.simple_list_item_1, viewGroup, false);\r\n    \r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(ViewHolder viewHolder, int position) {\r\n            //Populate.\r\n            if (mNames != null) {\r\n                String name = mNames.get(position);\r\n    \r\n                viewHolder.name.setText(name);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n    \r\n            if (mNames != null)\r\n                return mNames.size();\r\n            else\r\n                return 0;\r\n        }\r\n    \r\n        /**\r\n         * Static Class that holds the RecyclerView views. \r\n         */\r\n        static class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView name;\r\n    \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                name = (TextView) itemView.findViewById(android.R.id.text1);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIf you have any trouble working with `RecyclerView.ViewHolder` make sure you have the appropriate dependencies which you can verify always at [Gradle Please][1]\r\n\r\nHope it resolves your problem.\r\n\r\n\r\n  [1]: http://gradleplease.appspot.com/","title":"Android RecyclerView Scrolling Performance","body":"<p>I see in the comments that you are already implementing the <code>ViewHolder</code> pattern, but I will post an example adapter here that uses the <code>RecyclerView.ViewHolder</code> pattern so you can verify that you are integrating it in a similar way, again your constructor can vary depending on your needs, here is an example:</p>\n\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n\n    Context mContext;\n    List&lt;String&gt; mNames;\n\n    public RecyclerAdapter(Context context, List&lt;String&gt; names) {\n        mContext = context;\n        mNames = names;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n        View view = LayoutInflater.from(viewGroup.getContext())\n                .inflate(android.R.layout.simple_list_item_1, viewGroup, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, int position) {\n        //Populate.\n        if (mNames != null) {\n            String name = mNames.get(position);\n\n            viewHolder.name.setText(name);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n\n        if (mNames != null)\n            return mNames.size();\n        else\n            return 0;\n    }\n\n    /**\n     * Static Class that holds the RecyclerView views. \n     */\n    static class ViewHolder extends RecyclerView.ViewHolder {\n        TextView name;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(android.R.id.text1);\n        }\n    }\n}\n</code></pre>\n\n<p>If you have any trouble working with <code>RecyclerView.ViewHolder</code> make sure you have the appropriate dependencies which you can verify always at <a href=\"http://gradleplease.appspot.com/\" rel=\"nofollow\">Gradle Please</a></p>\n\n<p>Hope it resolves your problem.</p>\n"},{"tags":[],"owner":{"account_id":5915731,"reputation":433,"user_id":4654596,"accept_rate":62,"display_name":"waclaw"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1453206188,"creation_date":1429090870,"answer_id":29646809,"question_id":27188536,"body_markdown":"I solved this problem by adding the following flag:\r\n\r\nhttps://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#setHasStableIds(boolean)","title":"Android RecyclerView Scrolling Performance","body":"<p>I solved this problem by adding the following flag:</p>\n\n<p><a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#setHasStableIds(boolean)\" rel=\"noreferrer\">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#setHasStableIds(boolean)</a></p>\n"},{"tags":[],"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1477316447,"creation_date":1465574715,"answer_id":37752666,"question_id":27188536,"body_markdown":"I discovered at least one pattern that can kill your performance.  Remember that `onBindViewHolder()` is called **frequently**.  So anything you do in that code has the potential to slam your performance to halt. If your RecyclerView does any customization, it&#39;s very easy to accidentally put some slow code in this method.\r\n\r\nI was changing the background images of each RecyclerView depending on the position. But loading images takes a bit of work, causing my RecyclerView to be sluggish and jerky.\r\n\r\nCreating a cache for the images worked wonders; `onBindViewHolder()` now just modifies a reference to a cached image instead of loading it from scratch. Now the RecyclerView zips along.\r\n\r\nI know that not everyone will have this exact problem, so I&#39;m not bothering to load code. But please consider any work that is done in your `onBindViewHolder()` as a potential bottle-neck for poor RecyclerView performance.","title":"Android RecyclerView Scrolling Performance","body":"<p>I discovered at least one pattern that can kill your performance.  Remember that <code>onBindViewHolder()</code> is called <strong>frequently</strong>.  So anything you do in that code has the potential to slam your performance to halt. If your RecyclerView does any customization, it's very easy to accidentally put some slow code in this method.</p>\n\n<p>I was changing the background images of each RecyclerView depending on the position. But loading images takes a bit of work, causing my RecyclerView to be sluggish and jerky.</p>\n\n<p>Creating a cache for the images worked wonders; <code>onBindViewHolder()</code> now just modifies a reference to a cached image instead of loading it from scratch. Now the RecyclerView zips along.</p>\n\n<p>I know that not everyone will have this exact problem, so I'm not bothering to load code. But please consider any work that is done in your <code>onBindViewHolder()</code> as a potential bottle-neck for poor RecyclerView performance.</p>\n"},{"tags":[],"owner":{"account_id":2776979,"reputation":6304,"user_id":3657198,"accept_rate":100,"display_name":"Galya"},"down_vote_count":0,"up_vote_count":249,"is_accepted":true,"score":249,"last_activity_date":1502783713,"creation_date":1476947121,"answer_id":40147626,"question_id":27188536,"body_markdown":"I&#39;ve recently faced the same issue, so this is what I&#39;ve done with the latest RecyclerView support library:\r\n\r\n1. **Replace a complex layout** (nested views, RelativeLayout) with the new optimized ConstraintLayout. Activate it in Android Studio: Go to SDK Manager -&gt; SDK Tools tab -&gt; Support Repository -&gt; check ConstraintLayout for Android &amp; Solver for ConstraintLayout. Add to the dependencies:\r\n\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n2. If possible, make all elements of the RecyclerView with the **same height**. And add:\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n3. Use the default RecyclerView **drawing cache** methods and tweak them according to your case. You don&#39;t need third party library to do so:\r\n\r\n        recyclerView.setItemViewCacheSize(20);\r\n        recyclerView.setDrawingCacheEnabled(true);\r\n        recyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\r\n\r\n4. If you use many **images**, make sure their **size and compression are optimal**. Scaling images may also affect the performance. There are two sides of the problem - the source image used and the decoded Bitmap. The following example gives you a hint how to decode Ð°n image, downloaded from the web:\r\n\r\n        InputStream is = (InputStream) url.getContent();\r\n        BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inPreferredConfig = Bitmap.Config.RGB_565;\r\n        Bitmap image = BitmapFactory.decodeStream(is, null, options);\r\n\r\nThe most important part is specifying `inPreferredConfig` - it defines how many bytes will be used for each pixel of the image. Keep in mind that this is a *preferred* option. If the source image has more colors, it will still be decoded with a different config.\r\n\r\n5. Make sure **onBindViewHolder()** is as **cheap** as possible. You can set OnClickListener once in `onCreateViewHolder()` and call through an interface a listener outside of the Adapter, passing the clicked item. This way you don&#39;t create extra objects all the time. Also check flags and states, before making any changes to the view here.\r\n\r\n        viewHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View view) {\r\n                  Item item = getItem(getAdapterPosition());\r\n                  outsideClickListener.onItemClicked(item);\r\n              }\r\n        });\r\n\r\n6. When data gets changed, try to **update only the affected items**. For example instead of invalidating the whole data set with `notifyDataSetChanged()`, when adding / loading more items, just use:\r\n\r\n        adapter.notifyItemRangeInserted(rangeStart, rangeEnd);\r\n        adapter.notifyItemRemoved(position);\r\n        adapter.notifyItemChanged(position);\r\n        adapter.notifyItemInserted(position);\r\n\r\n7. From [Android Developer Web Site][1] :\r\n\r\n&gt; Rely on notifyDataSetChanged() as a last resort.\r\n\r\nBut if you need to use it, maintain your items with **unique ids**:\r\n\r\n        adapter.setHasStableIds(true);\r\n\r\n&gt; RecyclerView will attempt to synthesize visible structural change\r\n&gt; events for adapters that report that they have stable IDs when this\r\n&gt; method is used. This can help for the purposes of animation and visual\r\n&gt; object persistence but individual item views will still need to be\r\n&gt; rebound and relaid out.\r\n\r\nEven if you do everything right, chances are that the RecyclerView is still not performing as smoothly as you would like.\r\n    \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html","title":"Android RecyclerView Scrolling Performance","body":"<p>I've recently faced the same issue, so this is what I've done with the latest RecyclerView support library:</p>\n\n<ol>\n<li><p><strong>Replace a complex layout</strong> (nested views, RelativeLayout) with the new optimized ConstraintLayout. Activate it in Android Studio: Go to SDK Manager -> SDK Tools tab -> Support Repository -> check ConstraintLayout for Android &amp; Solver for ConstraintLayout. Add to the dependencies:</p>\n\n<pre><code>compile 'com.android.support.constraint:constraint-layout:1.0.2'\n</code></pre></li>\n<li><p>If possible, make all elements of the RecyclerView with the <strong>same height</strong>. And add:</p>\n\n<pre><code>recyclerView.setHasFixedSize(true);\n</code></pre></li>\n<li><p>Use the default RecyclerView <strong>drawing cache</strong> methods and tweak them according to your case. You don't need third party library to do so:</p>\n\n<pre><code>recyclerView.setItemViewCacheSize(20);\nrecyclerView.setDrawingCacheEnabled(true);\nrecyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\n</code></pre></li>\n<li><p>If you use many <strong>images</strong>, make sure their <strong>size and compression are optimal</strong>. Scaling images may also affect the performance. There are two sides of the problem - the source image used and the decoded Bitmap. The following example gives you a hint how to decode Ð°n image, downloaded from the web:</p>\n\n<pre><code>InputStream is = (InputStream) url.getContent();\nBitmapFactory.Options options = new BitmapFactory.Options();\noptions.inPreferredConfig = Bitmap.Config.RGB_565;\nBitmap image = BitmapFactory.decodeStream(is, null, options);\n</code></pre></li>\n</ol>\n\n<p>The most important part is specifying <code>inPreferredConfig</code> - it defines how many bytes will be used for each pixel of the image. Keep in mind that this is a <em>preferred</em> option. If the source image has more colors, it will still be decoded with a different config.</p>\n\n<ol start=\"5\">\n<li><p>Make sure <strong>onBindViewHolder()</strong> is as <strong>cheap</strong> as possible. You can set OnClickListener once in <code>onCreateViewHolder()</code> and call through an interface a listener outside of the Adapter, passing the clicked item. This way you don't create extra objects all the time. Also check flags and states, before making any changes to the view here.</p>\n\n<pre><code>viewHolder.itemView.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View view) {\n          Item item = getItem(getAdapterPosition());\n          outsideClickListener.onItemClicked(item);\n      }\n});\n</code></pre></li>\n<li><p>When data gets changed, try to <strong>update only the affected items</strong>. For example instead of invalidating the whole data set with <code>notifyDataSetChanged()</code>, when adding / loading more items, just use:</p>\n\n<pre><code>adapter.notifyItemRangeInserted(rangeStart, rangeEnd);\nadapter.notifyItemRemoved(position);\nadapter.notifyItemChanged(position);\nadapter.notifyItemInserted(position);\n</code></pre></li>\n<li><p>From <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html\" rel=\"noreferrer\">Android Developer Web Site</a> :</p></li>\n</ol>\n\n<blockquote>\n  <p>Rely on notifyDataSetChanged() as a last resort.</p>\n</blockquote>\n\n<p>But if you need to use it, maintain your items with <strong>unique ids</strong>:</p>\n\n<pre><code>    adapter.setHasStableIds(true);\n</code></pre>\n\n<blockquote>\n  <p>RecyclerView will attempt to synthesize visible structural change\n  events for adapters that report that they have stable IDs when this\n  method is used. This can help for the purposes of animation and visual\n  object persistence but individual item views will still need to be\n  rebound and relaid out.</p>\n</blockquote>\n\n<p>Even if you do everything right, chances are that the RecyclerView is still not performing as smoothly as you would like.</p>\n"},{"tags":[],"owner":{"account_id":5028902,"reputation":1028,"user_id":4039908,"display_name":"Wei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477118756,"creation_date":1477118756,"answer_id":40189168,"question_id":27188536,"body_markdown":"In my case, I found out that the notable cause of the lag is frequent drawable loading inside `#onBindViewHolder()` method. I solved it just by loading the images as **Bitmap** once inside the **ViewHolder** and access it from the mentioned method. That is all I did.","title":"Android RecyclerView Scrolling Performance","body":"<p>In my case, I found out that the notable cause of the lag is frequent drawable loading inside <code>#onBindViewHolder()</code> method. I solved it just by loading the images as <strong>Bitmap</strong> once inside the <strong>ViewHolder</strong> and access it from the mentioned method. That is all I did.</p>\n"},{"tags":[],"owner":{"account_id":3722424,"reputation":700,"user_id":3097137,"display_name":"Pedro Vicente G&#243;mez S&#225;nchez"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1477477921,"creation_date":1477477921,"answer_id":40259895,"question_id":27188536,"body_markdown":"I&#39;m not really sure if the usage of ``setHasStableId`` flag is going to fix your issue. Based on the information you provide your performance issue could be related to a memory issue. Your application performance in terms of user interface and memory is quite related.\r\n\r\nLast week I discovered my app was leaking memory. I discovered this because after 20 minutes using my app I noticed the UI was performing really slow. Closing/opening an activity or scrolling a RecyclerView with a bunch of elements was really slow. After monitoring some of my users in production using http://flowup.io/ I found this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe frame time was really really high and the frames per second really really low. You can see that some frames needed about 2 seconds to render :S.\r\n\r\nTrying to figure it out what was causing this bad frame time/fps I discovered I had a memory issue as you can see here:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nEven when the average memory consumption was close to the 15MB at the same time the app was dropping frames.\r\n\r\nThat&#39;s how I discovered the UI issue. I had a memory leak in my app causing a lot of garbage collector events and that&#39;s was causing the bad UI performance because the Android VM had to stop my app to collect memory every single frame.\r\n\r\nLooking at the code I had a leak inside a custom view because I was not unregistering a listener from the Android Choreographer instance. After releasing the fix, everything became normal :)\r\n\r\nIf your app is dropping frames due to a memory issue you should review two common errors:\r\n\r\nReview if your app is allocating objects inside a method invoked multiple times per second. Even if this allocation can be performed in a different place where your application is becoming slow. An example could be creating new instances of an object inside a onDraw custom view method on onBindViewHolder in your recycler view view holder.\r\nReview if your app is registering an instance into the Android SDK but not releasing it. Registering a listener into a bus event could also be possible leak.\r\n\r\n**Disclaimer: The tool I&#39;ve been using to monitor my app is under development. I have access to this tool because I&#39;m one of the developers :) If you want access to this tool we will release a beta version soon! You can join in our web site: http://flowup.io/.**\r\n\r\nIf you want to use different tools you can use: traveview, dmtracedump, systrace or the Andorid performance monitor integrated into Android Studio. But remember that this tools will monitor your connected device and not the rest of your user devices or Android OS installations.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9O6Ik.png\r\n  [2]: https://i.stack.imgur.com/QGbeI.png","title":"Android RecyclerView Scrolling Performance","body":"<p>I'm not really sure if the usage of <code>setHasStableId</code> flag is going to fix your issue. Based on the information you provide your performance issue could be related to a memory issue. Your application performance in terms of user interface and memory is quite related.</p>\n\n<p>Last week I discovered my app was leaking memory. I discovered this because after 20 minutes using my app I noticed the UI was performing really slow. Closing/opening an activity or scrolling a RecyclerView with a bunch of elements was really slow. After monitoring some of my users in production using <a href=\"http://flowup.io/\" rel=\"noreferrer\">http://flowup.io/</a> I found this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9O6Ik.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9O6Ik.png\" alt=\"enter image description here\"></a></p>\n\n<p>The frame time was really really high and the frames per second really really low. You can see that some frames needed about 2 seconds to render :S.</p>\n\n<p>Trying to figure it out what was causing this bad frame time/fps I discovered I had a memory issue as you can see here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QGbeI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QGbeI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even when the average memory consumption was close to the 15MB at the same time the app was dropping frames.</p>\n\n<p>That's how I discovered the UI issue. I had a memory leak in my app causing a lot of garbage collector events and that's was causing the bad UI performance because the Android VM had to stop my app to collect memory every single frame.</p>\n\n<p>Looking at the code I had a leak inside a custom view because I was not unregistering a listener from the Android Choreographer instance. After releasing the fix, everything became normal :)</p>\n\n<p>If your app is dropping frames due to a memory issue you should review two common errors:</p>\n\n<p>Review if your app is allocating objects inside a method invoked multiple times per second. Even if this allocation can be performed in a different place where your application is becoming slow. An example could be creating new instances of an object inside a onDraw custom view method on onBindViewHolder in your recycler view view holder.\nReview if your app is registering an instance into the Android SDK but not releasing it. Registering a listener into a bus event could also be possible leak.</p>\n\n<p><strong>Disclaimer: The tool I've been using to monitor my app is under development. I have access to this tool because I'm one of the developers :) If you want access to this tool we will release a beta version soon! You can join in our web site: <a href=\"http://flowup.io/\" rel=\"noreferrer\">http://flowup.io/</a>.</strong></p>\n\n<p>If you want to use different tools you can use: traveview, dmtracedump, systrace or the Andorid performance monitor integrated into Android Studio. But remember that this tools will monitor your connected device and not the rest of your user devices or Android OS installations.</p>\n"},{"tags":[],"owner":{"account_id":2183144,"reputation":6276,"user_id":2308720,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504009598,"creation_date":1504009598,"answer_id":45939145,"question_id":27188536,"body_markdown":"I had a talk about `RecyclerView`&#39;s performance. Here are [slides in English][1] and [recorded video in Russian][2].\r\n\r\nIt contains a set of techniques (some of them are already covered by [@Darya&#39;s answer][3]).\r\n\r\nHere is a brief summary:\r\n\r\n- If `Adapter` items have fixed size then set: &lt;br/&gt;\r\n`recyclerView.setHasFixedSize(true);`\r\n\r\n- If data entities can be represented by long (`hashCode()` for instance) then set:&lt;br&gt;\r\n`adapter.hasStableIds(true);`&lt;br&gt;\r\nand implement:&lt;br&gt;\r\n`// YourAdapter.java`&lt;br&gt;\r\n`@Override`&lt;br&gt;\r\n`public long getItemId(int position) {`&lt;br&gt;\r\n`return items.get(position).hashcode(); //id()`&lt;br&gt;\r\n`}`&lt;br&gt;\r\nIn this case `Item.id()` would not work, because it would stay the same even if `Item`&#39;s content has changed.&lt;br&gt;\r\n**P.S. This is not necessary if you are using DiffUtil!**\r\n\r\n- Use correctly scaled bitmap. Don&#39;t reinvent the wheel and use libraries. &lt;br&gt;More info how to choose [here][4]. \r\n\r\n- Always use the latest version of `RecyclerView`. For instance, there were huge performance improvements in `25.1.0` - prefetch. &lt;br&gt; More info [here][5].\r\n\r\n- **Use DiffUtill.**&lt;br&gt;\r\n[DiffUtil is a must][6].&lt;br&gt;\r\n[Official documentation][7].\r\n\r\n- Simplify your item&#39;s layout!&lt;br&gt;\r\nTiny library to enrich TextViews - [TextViewRichDrawable][8]\r\n\r\nSee [slides][1] for more detailed explanation.\r\n\r\n  [1]: https://speakerdeck.com/oleksandrtolstykh/recyclerview-performance-tuning-eng-codefest-2017-novosibirsk\r\n  [2]: https://youtu.be/QjFa5dEzh28\r\n  [3]: https://stackoverflow.com/a/40147626/2308720\r\n  [4]: http://stackoverflow.com/q/29363321/2308720\r\n  [5]: https://medium.com/google-developers/c2f269075710\r\n  [6]: https://proandroiddev.com/797502bc1149\r\n  [7]: https://developer.android.com/reference/android/support/v7/util/DiffUtil.html\r\n  [8]: https://github.com/a-tolstykh/textview-rich-drawable","title":"Android RecyclerView Scrolling Performance","body":"<p>I had a talk about <code>RecyclerView</code>'s performance. Here are <a href=\"https://speakerdeck.com/oleksandrtolstykh/recyclerview-performance-tuning-eng-codefest-2017-novosibirsk\" rel=\"noreferrer\">slides in English</a> and <a href=\"https://youtu.be/QjFa5dEzh28\" rel=\"noreferrer\">recorded video in Russian</a>.</p>\n\n<p>It contains a set of techniques (some of them are already covered by <a href=\"https://stackoverflow.com/a/40147626/2308720\">@Darya's answer</a>).</p>\n\n<p>Here is a brief summary:</p>\n\n<ul>\n<li><p>If <code>Adapter</code> items have fixed size then set: <br/>\n<code>recyclerView.setHasFixedSize(true);</code></p></li>\n<li><p>If data entities can be represented by long (<code>hashCode()</code> for instance) then set:<br>\n<code>adapter.hasStableIds(true);</code><br>\nand implement:<br>\n<code>// YourAdapter.java</code><br>\n<code>@Override</code><br>\n<code>public long getItemId(int position) {</code><br>\n<code>return items.get(position).hashcode(); //id()</code><br>\n<code>}</code><br>\nIn this case <code>Item.id()</code> would not work, because it would stay the same even if <code>Item</code>'s content has changed.<br>\n<strong>P.S. This is not necessary if you are using DiffUtil!</strong></p></li>\n<li><p>Use correctly scaled bitmap. Don't reinvent the wheel and use libraries. <br>More info how to choose <a href=\"http://stackoverflow.com/q/29363321/2308720\">here</a>. </p></li>\n<li><p>Always use the latest version of <code>RecyclerView</code>. For instance, there were huge performance improvements in <code>25.1.0</code> - prefetch. <br> More info <a href=\"https://medium.com/google-developers/c2f269075710\" rel=\"noreferrer\">here</a>.</p></li>\n<li><p><strong>Use DiffUtill.</strong><br>\n<a href=\"https://proandroiddev.com/797502bc1149\" rel=\"noreferrer\">DiffUtil is a must</a>.<br>\n<a href=\"https://developer.android.com/reference/android/support/v7/util/DiffUtil.html\" rel=\"noreferrer\">Official documentation</a>.</p></li>\n<li><p>Simplify your item's layout!<br>\nTiny library to enrich TextViews - <a href=\"https://github.com/a-tolstykh/textview-rich-drawable\" rel=\"noreferrer\">TextViewRichDrawable</a></p></li>\n</ul>\n\n<p>See <a href=\"https://speakerdeck.com/oleksandrtolstykh/recyclerview-performance-tuning-eng-codefest-2017-novosibirsk\" rel=\"noreferrer\">slides</a> for more detailed explanation.</p>\n"},{"tags":[],"owner":{"account_id":5656040,"reputation":3154,"user_id":4475206,"accept_rate":80,"display_name":"Roar Gr&#248;nmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512674432,"creation_date":1512674432,"answer_id":47702290,"question_id":27188536,"body_markdown":"This helped me getting more smooth scrolling:\r\n\r\noverride the onFailedToRecycleView(ViewHolder holder) in the adapter\r\n\r\nand stop any ongoing animations (if any) \r\n    holder.&quot;animateview&quot;.clearAnimation();\r\n\r\nremember to \r\nreturn true;","title":"Android RecyclerView Scrolling Performance","body":"<p>This helped me getting more smooth scrolling:</p>\n\n<p>override the onFailedToRecycleView(ViewHolder holder) in the adapter</p>\n\n<p>and stop any ongoing animations (if any) \n    holder.\"animateview\".clearAnimation();</p>\n\n<p>remember to \nreturn true;</p>\n"},{"tags":[],"owner":{"account_id":9163276,"reputation":2731,"user_id":6813907,"display_name":"Sajjad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513273086,"creation_date":1513265459,"answer_id":47816939,"question_id":27188536,"body_markdown":"In my RecyclerView, I use Bitmap Images For background of my item_layout.  \r\nEverything @Galya said is true (and I thank him for his great answer). But they didn&#39;t work for me.\r\n\r\nThis is what solved my problem:\r\n\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.inSampleSize = 2;\r\n    Bitmap bitmap = BitmapFactory.decodeStream(stream, null, options);\r\n\r\nFor more information please read \r\n[this Answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11820266/android-bitmapfactory-decodestream-out-of-memory-with-a-400kb-file-with-2mb-f","title":"Android RecyclerView Scrolling Performance","body":"<p>In my RecyclerView, I use Bitmap Images For background of my item_layout.<br>\nEverything @Galya said is true (and I thank him for his great answer). But they didn't work for me.</p>\n\n<p>This is what solved my problem:</p>\n\n<pre><code>BitmapFactory.Options options = new BitmapFactory.Options();\noptions.inSampleSize = 2;\nBitmap bitmap = BitmapFactory.decodeStream(stream, null, options);\n</code></pre>\n\n<p>For more information please read \n<a href=\"https://stackoverflow.com/questions/11820266/android-bitmapfactory-decodestream-out-of-memory-with-a-400kb-file-with-2mb-f\">this Answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":5454661,"reputation":560,"user_id":4338478,"display_name":"blastervla"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516908207,"creation_date":1516908207,"answer_id":48450411,"question_id":27188536,"body_markdown":"In addition to @Galya&#39;s detailed answer, I want to state that even though it may be an optimization issue, it is also true that having the debugger enabled can slow things down a lot. \r\n\r\nIf you do everything to optimize your `RecyclerView` and it still doesn&#39;t work smoothly, try switching your build variant to `release`, and check how it works in a non-development environment (with the debugger disabled).\r\n\r\nIt happened to me that my app was performing slowly in `debug` build variant, but as soon as I switched to the `release` variant it worked smoothly. This doesn&#39;t mean that you should develop with the `release` build variant, but it is good to know that whenever you are ready to ship your app, it will work just fine.","title":"Android RecyclerView Scrolling Performance","body":"<p>In addition to @Galya's detailed answer, I want to state that even though it may be an optimization issue, it is also true that having the debugger enabled can slow things down a lot. </p>\n\n<p>If you do everything to optimize your <code>RecyclerView</code> and it still doesn't work smoothly, try switching your build variant to <code>release</code>, and check how it works in a non-development environment (with the debugger disabled).</p>\n\n<p>It happened to me that my app was performing slowly in <code>debug</code> build variant, but as soon as I switched to the <code>release</code> variant it worked smoothly. This doesn't mean that you should develop with the <code>release</code> build variant, but it is good to know that whenever you are ready to ship your app, it will work just fine.</p>\n"},{"tags":[],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519220205,"creation_date":1519220205,"answer_id":48907364,"question_id":27188536,"body_markdown":"In mycase I have complex recyclerview childs. So It affected the activity loading time (~5 sec for activity rendering)\r\n\r\nI load the adapter with postDelayed() -&gt; this will give the good result for activity rendering. after activity rendering my recyclerview load with smooth.\r\n\r\nTry this answer,\r\n\r\n\r\n        recyclerView.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                recyclerView.setAdapter(mAdapter);\r\n            }\r\n        },100); ","title":"Android RecyclerView Scrolling Performance","body":"<p>In mycase I have complex recyclerview childs. So It affected the activity loading time (~5 sec for activity rendering)</p>\n\n<p>I load the adapter with postDelayed() -> this will give the good result for activity rendering. after activity rendering my recyclerview load with smooth.</p>\n\n<p>Try this answer,</p>\n\n<pre><code>    recyclerView.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            recyclerView.setAdapter(mAdapter);\n        }\n    },100); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863205,"reputation":1631,"user_id":3922262,"accept_rate":89,"display_name":"saintjab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529794276,"creation_date":1529794276,"answer_id":51005659,"question_id":27188536,"body_markdown":"Its also important to check the parent layout in which you put in your Recyclerview. I had a similar scrolling issues when I testing recyclerView in a nestedscrollview. A view that scrolls in another view that scroll can suffer in performance during scrolling","title":"Android RecyclerView Scrolling Performance","body":"<p>Its also important to check the parent layout in which you put in your Recyclerview. I had a similar scrolling issues when I testing recyclerView in a nestedscrollview. A view that scrolls in another view that scroll can suffer in performance during scrolling</p>\n"},{"tags":[],"owner":{"account_id":8405479,"reputation":8659,"user_id":7098524,"accept_rate":0,"display_name":"eli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534534980,"creation_date":1534534980,"answer_id":51901956,"question_id":27188536,"body_markdown":"I solved it by this line of code\r\n\r\n    recyclerView.setNestedScrollingEnabled(false);","title":"Android RecyclerView Scrolling Performance","body":"<p>I solved it by this line of code</p>\n\n<pre><code>recyclerView.setNestedScrollingEnabled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9675007,"reputation":76,"user_id":7178793,"display_name":"Sami Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547798479,"creation_date":1547798479,"answer_id":54249806,"question_id":27188536,"body_markdown":"Adding to @Galya&#39;s answer, in bind viewHolder,I was using Html.fromHtml() method. apparently this has performance impact.","title":"Android RecyclerView Scrolling Performance","body":"<p>Adding to @Galya's answer, in bind viewHolder,I was using Html.fromHtml() method. apparently this has performance impact.</p>\n"},{"tags":[],"owner":{"account_id":15590353,"reputation":75,"user_id":11247619,"display_name":"Hamza Regardless"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595171002,"creation_date":1595171002,"answer_id":62981958,"question_id":27188536,"body_markdown":"i Solve this issue by using the only one line in with Picasso library \r\n\r\n**.fit()**\r\n \r\n\r\n    Picasso.get().load(currentItem.getArtist_image())\r\n\r\n                        .fit()//this wil auto get the size of image and reduce it \r\n\r\n                        .placeholder(R.drawable.ic_doctor)\r\n                        .into(holder.img_uploaderProfile, new Callback() {\r\n                            @Override\r\n                            public void onSuccess() {\r\n    \r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onError(Exception e) {\r\n                                Toast.makeText(context, &quot;Something Happend Wrong Uploader Image&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        });","title":"Android RecyclerView Scrolling Performance","body":"<p>i Solve this issue by using the only one line in with Picasso library</p>\n<p><strong>.fit()</strong></p>\n<pre><code>Picasso.get().load(currentItem.getArtist_image())\n\n                    .fit()//this wil auto get the size of image and reduce it \n\n                    .placeholder(R.drawable.ic_doctor)\n                    .into(holder.img_uploaderProfile, new Callback() {\n                        @Override\n                        public void onSuccess() {\n\n\n                        }\n\n                        @Override\n                        public void onError(Exception e) {\n                            Toast.makeText(context, &quot;Something Happend Wrong Uploader Image&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9653069,"reputation":146,"user_id":7163567,"display_name":"khoshrang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670683468,"creation_date":1670683468,"answer_id":74753904,"question_id":27188536,"body_markdown":"if you are using images in recycler view try using the function below to make images more lightweight \r\n\r\n            fun getImageThumbnail(context: Context, imageFileName: String): Bitmap? {\r\n\r\n            val options = BitmapFactory.Options()\r\n            options.inSampleSize = 2\r\n            options.inPreferredConfig = Bitmap.Config.RGB_565;\r\n\r\n            val directory = context.filesDir\r\n            val file = File(directory, imageFileName)\r\n            if(!file.exists()) return null\r\n            val bitmap:Bitmap = BitmapFactory.decodeStream(FileInputStream(file),null, options)!!\r\n            var bigger = bitmap.width\r\n            if(bitmap.width&lt;bitmap.height) bigger = bitmap.height\r\n            val zarib = (200.toDouble()/bigger)\r\n            val width = (bitmap.width * zarib).toInt()\r\n            val height = (bitmap.height * zarib).toInt()\r\n\r\n            return ThumbnailUtils.extractThumbnail(bitmap,width,height)\r\n        }\r\n","title":"Android RecyclerView Scrolling Performance","body":"<p>if you are using images in recycler view try using the function below to make images more lightweight</p>\n<pre><code>        fun getImageThumbnail(context: Context, imageFileName: String): Bitmap? {\n\n        val options = BitmapFactory.Options()\n        options.inSampleSize = 2\n        options.inPreferredConfig = Bitmap.Config.RGB_565;\n\n        val directory = context.filesDir\n        val file = File(directory, imageFileName)\n        if(!file.exists()) return null\n        val bitmap:Bitmap = BitmapFactory.decodeStream(FileInputStream(file),null, options)!!\n        var bigger = bitmap.width\n        if(bitmap.width&lt;bitmap.height) bigger = bitmap.height\n        val zarib = (200.toDouble()/bigger)\n        val width = (bitmap.width * zarib).toInt()\n        val height = (bitmap.height * zarib).toInt()\n\n        return ThumbnailUtils.extractThumbnail(bitmap,width,height)\n    }\n</code></pre>\n"}],"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77267,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":40147626,"answer_count":16,"score":97,"last_activity_date":1670683468,"creation_date":1417177183,"question_id":27188536,"body_markdown":"I have created RecyclerView example basing on [Creating Lists and Cards][1] guide. My adapter have a pattern implementation only for inflate the layout. \r\n\r\n**The problem is the poor scrolling performance.** This in a RecycleView with only 8 items.\r\n\r\nIn some tests I verified that in Android L this problem does not occurs. But in the KitKat version the decreasing of performance is evident.\r\n\r\n  [1]: https://developer.android.com/training/material/lists-cards.html","title":"Android RecyclerView Scrolling Performance","body":"<p>I have created RecyclerView example basing on <a href=\"https://developer.android.com/training/material/lists-cards.html\" rel=\"noreferrer\">Creating Lists and Cards</a> guide. My adapter have a pattern implementation only for inflate the layout. </p>\n\n<p><strong>The problem is the poor scrolling performance.</strong> This in a RecycleView with only 8 items.</p>\n\n<p>In some tests I verified that in Android L this problem does not occurs. But in the KitKat version the decreasing of performance is evident.</p>\n"},{"tags":["java","https","keycloak","spring-cloud-gateway","self-signed-certificate"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670644486,"post_id":74748444,"comment_id":131926760,"body_markdown":"Just to be sure, you add the certificate to Keycloak or Gateway image?","body":"Just to be sure, you add the certificate to Keycloak or Gateway image?"}],"answers":[{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670683388,"creation_date":1670675072,"answer_id":74752882,"question_id":74748444,"body_markdown":"The error messages refer to the Java truststore, while you have imported the certificates to the openssl truststore. Unfortunately, they are not the same. \r\n\r\nYou will need to import the certificate to the Java truststore. See [How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?](https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail/68214137#68214137) for instructions.\r\n\r\n","title":"Why Spring Cloud Gateway is unable to find valid certification path to requested target?","body":"<p>The error messages refer to the Java truststore, while you have imported the certificates to the openssl truststore. Unfortunately, they are not the same.</p>\n<p>You will need to import the certificate to the Java truststore. See <a href=\"https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail/68214137#68214137\">How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?</a> for instructions.</p>\n"}],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74752882,"answer_count":1,"score":1,"last_activity_date":1670683388,"creation_date":1670621172,"question_id":74748444,"body_markdown":"I have Spring Cloud Gateway secured with Keycloak.\r\n\r\nKeycloak has a self-signed certificate that I generated with these commands:\r\n```bash\r\nopenssl genrsa -out ca.key 2048\r\nopenssl req -new -x509 -days 365 -key ca.key -subj &quot;/C=CN/ST=GD/L=SZ/O=Acme, Inc./CN=Acme Root CA&quot; -out ca.crt\r\nopenssl req -newkey rsa:2048 -nodes -keyout server.key -subj &quot;/C=CN/ST=GD/L=SZ/O=Acme, Inc./CN=*my-site.com&quot; -out server.csr\r\nopenssl x509 -req -extfile &lt;(printf &quot;subjectAltName=DNS:my-site.com&quot;) -days 365 -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt\r\n```\r\n\r\nIn Dockerfile, for Spring Cloud Gateway, I added the CA of the self-signed certificate:\r\n```Dockerfile\r\nUSER root\r\n\r\n# Copy the certificate file into the image\r\nCOPY --from=build /app/certs/ca.crt /usr/local/share/ca-certificates/ca.crt\r\n\r\n# Change the permissions of the /etc/ssl/certs directory\r\nRUN chmod a+w /etc/ssl/certs\r\n\r\n# Update the certificate store\r\nRUN update-ca-certificates\r\n```\r\n\r\nBut when I attempt to login, after enter the credentials, the Spring Cloud Gateway give me the error:\r\n```logs\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.Validator.validate(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   ... 30 common frames omitted\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/java.security.cert.CertPathBuilder.build(Unknown Source) ~[na:na]\r\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   ... 36 common frames omitted\r\n```\r\n\r\nWhy? How can I solve?","title":"Why Spring Cloud Gateway is unable to find valid certification path to requested target?","body":"<p>I have Spring Cloud Gateway secured with Keycloak.</p>\n<p>Keycloak has a self-signed certificate that I generated with these commands:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl genrsa -out ca.key 2048\nopenssl req -new -x509 -days 365 -key ca.key -subj &quot;/C=CN/ST=GD/L=SZ/O=Acme, Inc./CN=Acme Root CA&quot; -out ca.crt\nopenssl req -newkey rsa:2048 -nodes -keyout server.key -subj &quot;/C=CN/ST=GD/L=SZ/O=Acme, Inc./CN=*my-site.com&quot; -out server.csr\nopenssl x509 -req -extfile &lt;(printf &quot;subjectAltName=DNS:my-site.com&quot;) -days 365 -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt\n</code></pre>\n<p>In Dockerfile, for Spring Cloud Gateway, I added the CA of the self-signed certificate:</p>\n<pre><code>USER root\n\n# Copy the certificate file into the image\nCOPY --from=build /app/certs/ca.crt /usr/local/share/ca-certificates/ca.crt\n\n# Change the permissions of the /etc/ssl/certs directory\nRUN chmod a+w /etc/ssl/certs\n\n# Update the certificate store\nRUN update-ca-certificates\n</code></pre>\n<p>But when I attempt to login, after enter the credentials, the Spring Cloud Gateway give me the error:</p>\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.validator.Validator.validate(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   ... 30 common frames omitted\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   at java.base/java.security.cert.CertPathBuilder.build(Unknown Source) ~[na:na]\ncore_api-gateway.1.4z2matjvgalf@ws002cfw    |   ... 36 common frames omitted\n</code></pre>\n<p>Why? How can I solve?</p>\n"},{"tags":["java","kotlin","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":1911686,"reputation":429,"user_id":1725347,"display_name":"wax911"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670683294,"creation_date":1670683294,"answer_id":74753889,"question_id":74752049,"body_markdown":"You should be able to achieve that by simply adding &quot;/&quot; in your post arg \r\n\r\n    //interface\r\n    @Multipart\r\n    @POST(&quot;/&quot;)\r\n    fun updateProfile(\r\n            @Part(&quot;tile_mode&quot;)\r\n            fullName : Int,\r\n            @Part(&quot;raw_image&quot;)\r\n            image : RequestBody,\r\n                     ) : Call&lt;Result&gt;","title":"can i use post with retrofit but i don&#39;t put any url on @POST","body":"<p>You should be able to achieve that by simply adding &quot;/&quot; in your post arg</p>\n<pre><code>//interface\n@Multipart\n@POST(&quot;/&quot;)\nfun updateProfile(\n        @Part(&quot;tile_mode&quot;)\n        fullName : Int,\n        @Part(&quot;raw_image&quot;)\n        image : RequestBody,\n                 ) : Call&lt;Result&gt;\n</code></pre>\n"}],"owner":{"account_id":22745511,"reputation":1,"user_id":16906352,"display_name":"banned"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670683294,"creation_date":1670667532,"question_id":74752049,"body_markdown":"I want to post a url likes &quot;https://blog.banned.top:2054&quot; without any subpath, how can i do?\r\n\r\nWhen I run code like this:\r\n\r\n```kotlin\r\n//interface\r\n@Multipart\r\n@POST(&quot;&quot;)\r\nfun updateProfile(\r\n        @Part(&quot;tile_mode&quot;)\r\n        fullName : Int,\r\n        @Part(&quot;raw_image&quot;)\r\n        image : RequestBody,\r\n                 ) : Call&lt;Result&gt;\r\n```\r\n\r\n```kotlin\r\nval retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;https://blog.banned.top:2054&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.create()).build()\r\nval request = retrofit.create(GetRequestInterface::class.java)\r\nval call : Call&lt;Result&gt; = request.updateProfile(some parameter)\r\n```\r\n\r\nit will shows wrong code:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid URL host: &quot;&quot;\r\n\tat okhttp3.HttpUrl$Builder.parse(HttpUrl.java:1402)\r\n\tat okhttp3.HttpUrl.get(HttpUrl.java:917)\r\n\tat retrofit2.Retrofit$Builder.baseUrl(Retrofit.java:506)\r\n\tat MainKt.main(Main.kt:19)\r\n\tat MainKt.main(Main.kt)\r\n```\r\n\r\nhow can I solve this problemï¼","title":"can i use post with retrofit but i don&#39;t put any url on @POST","body":"<p>I want to post a url likes &quot;https://blog.banned.top:2054&quot; without any subpath, how can i do?</p>\n<p>When I run code like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>//interface\n@Multipart\n@POST(&quot;&quot;)\nfun updateProfile(\n        @Part(&quot;tile_mode&quot;)\n        fullName : Int,\n        @Part(&quot;raw_image&quot;)\n        image : RequestBody,\n                 ) : Call&lt;Result&gt;\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val retrofit = Retrofit.Builder()\n            .baseUrl(&quot;https://blog.banned.top:2054&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.create()).build()\nval request = retrofit.create(GetRequestInterface::class.java)\nval call : Call&lt;Result&gt; = request.updateProfile(some parameter)\n</code></pre>\n<p>it will shows wrong code:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid URL host: &quot;&quot;\n    at okhttp3.HttpUrl$Builder.parse(HttpUrl.java:1402)\n    at okhttp3.HttpUrl.get(HttpUrl.java:917)\n    at retrofit2.Retrofit$Builder.baseUrl(Retrofit.java:506)\n    at MainKt.main(Main.kt:19)\n    at MainKt.main(Main.kt)\n</code></pre>\n<p>how can I solve this problemï¼</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","java-17"],"answers":[{"tags":[],"owner":{"account_id":2088824,"reputation":1426,"user_id":1859100,"accept_rate":27,"display_name":"Vivek Panday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670682786,"creation_date":1670678778,"answer_id":74753322,"question_id":74542175,"body_markdown":"Finally I got the solution , below are required changes in publishing task \r\n\r\n```lang-groovy\r\npublications {\r\n        product(MavenPublication) {\r\n            artifactId &quot;$project.name&quot;\r\n            artifact bootWar\r\n```","title":"Gradle 7 war publishing to artifactory not working","body":"<p>Finally I got the solution , below are required changes in publishing task</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>publications {\n        product(MavenPublication) {\n            artifactId &quot;$project.name&quot;\n            artifact bootWar\n</code></pre>\n"}],"owner":{"account_id":2088824,"reputation":1426,"user_id":1859100,"accept_rate":27,"display_name":"Vivek Panday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74753322,"answer_count":1,"score":0,"last_activity_date":1670682786,"creation_date":1669181496,"question_id":74542175,"body_markdown":"I have upgraded my project from JDK 8 to JDK 17 and from Gradle 4 to Gradle 7.\r\n\r\nI am able to build war properly in my local and able to run the application but while doing publish war to Artifactory I do not see complete files chunks which i used to see with gradle 4 and below errors are visible in log .\r\n\r\nBelow is publishing task definition :\r\n\r\n```lang-groovy\r\npublishing {\r\n    publications {\r\n        product(MavenPublication) {\r\n            artifactId &quot;$project.name&quot;\r\n            artifact war\r\n            \r\n            pom.withXml {\r\n                def dependenciesNode = asNode().appendNode(&#39;dependencies&#39;)\r\n\r\n                configurations.compileClasspath.allDependencies.each {\r\n                    def dependencyNode = dependenciesNode.appendNode(&#39;dependency&#39;)\r\n                    dependencyNode.appendNode(&#39;groupId&#39;, it.group)\r\n                    dependencyNode.appendNode(&#39;artifactId&#39;, it.name)\r\n                    dependencyNode.appendNode(&#39;version&#39;, it.version)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlugin used \r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.4&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;eclipse&#39;\r\n}\r\n```\r\n\r\nError :\r\n\r\n```none\r\n&gt; Task :project.package:publishProductPublicationToArtifactoryRepository\r\nExecution optimizations have been disabled for task &#39;:project.package:publishProductPublicationToArtifactoryRepository&#39; to ensure correctness due to the following reasons:\r\n  - Gradle detected a problem with the following location: &#39;project-name-1.3.18-SNAPSHOT.war&#39;. Reason: Task &#39;:project.package:publishProductPublicationToArtifactoryRepository&#39; uses this output of task &#39;:project.package:bootWar&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\r\n Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#implicit_dependency for more details about this problem.\r\nCannot upload checksum for snapshot-maven-metadata.xml because the remote repository doesn&#39;t support SHA-512. This will not fail the build.\r\nCannot upload checksum for module-maven-metadata.xml because the remote repository doesn&#39;t support SHA-512. This will not fail the build.\r\n```","title":"Gradle 7 war publishing to artifactory not working","body":"<p>I have upgraded my project from JDK 8 to JDK 17 and from Gradle 4 to Gradle 7.</p>\n<p>I am able to build war properly in my local and able to run the application but while doing publish war to Artifactory I do not see complete files chunks which i used to see with gradle 4 and below errors are visible in log .</p>\n<p>Below is publishing task definition :</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>publishing {\n    publications {\n        product(MavenPublication) {\n            artifactId &quot;$project.name&quot;\n            artifact war\n            \n            pom.withXml {\n                def dependenciesNode = asNode().appendNode('dependencies')\n\n                configurations.compileClasspath.allDependencies.each {\n                    def dependencyNode = dependenciesNode.appendNode('dependency')\n                    dependencyNode.appendNode('groupId', it.group)\n                    dependencyNode.appendNode('artifactId', it.name)\n                    dependencyNode.appendNode('version', it.version)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Plugin used</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'org.springframework.boot' version '2.7.4'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n    id 'war'\n    id 'idea'\n    id 'eclipse'\n}\n</code></pre>\n<p>Error :</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :project.package:publishProductPublicationToArtifactoryRepository\nExecution optimizations have been disabled for task ':project.package:publishProductPublicationToArtifactoryRepository' to ensure correctness due to the following reasons:\n  - Gradle detected a problem with the following location: 'project-name-1.3.18-SNAPSHOT.war'. Reason: Task ':project.package:publishProductPublicationToArtifactoryRepository' uses this output of task ':project.package:bootWar' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\n Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#implicit_dependency for more details about this problem.\nCannot upload checksum for snapshot-maven-metadata.xml because the remote repository doesn't support SHA-512. This will not fail the build.\nCannot upload checksum for module-maven-metadata.xml because the remote repository doesn't support SHA-512. This will not fail the build.\n</code></pre>\n"},{"tags":["java","spring","jpa","constraints","unique"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1670319658,"post_id":74700084,"comment_id":131843336,"body_markdown":"As far as I can tell, that is not possible without querying the database for every record you want to insert. A unique constraint is limited to the column. And a composite key checks that the combination of both columns is unique","body":"As far as I can tell, that is not possible without querying the database for every record you want to insert. A unique constraint is limited to the column. And a composite key checks that the combination of both columns is unique"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670681608,"post_id":74700084,"comment_id":131931933,"body_markdown":"Furthermore the behavior of uniqueness on compound set of columns where NULL may appear may be database vendor specific.","body":"Furthermore the behavior of uniqueness on compound set of columns where NULL may appear may be database vendor specific."}],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670682516,"creation_date":1670682516,"answer_id":74753776,"question_id":74700084,"body_markdown":"One solution could be to have another table with a unique column with unique constraint that you will fill via a trigger on the &quot;Company&quot; table with not null and distinct values of the pair(name, code).  ","title":"How to set up unique constraint in database for one value in multiple columns in JPA","body":"<p>One solution could be to have another table with a unique column with unique constraint that you will fill via a trigger on the &quot;Company&quot; table with not null and distinct values of the pair(name, code).</p>\n"}],"owner":{"account_id":26109986,"reputation":41,"user_id":19804077,"display_name":"Adam Jedrzejko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670682516,"creation_date":1670318784,"question_id":74700084,"body_markdown":"I have a database with an entity company:\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\npublic class Company {\r\nprivate String name;\r\nprivate String code;\r\n}\r\n```\r\nI want to have a unique constraint for both fields but in special way. If I will add any value in e.g. name, I want to check unique through name and code columns.\r\n\r\nExample:\r\n    \r\n```\r\nnew Company(&quot;Company 1&quot;, &quot;123&quot;) - OK\r\nnew Company(&quot;Comp&quot;, null) - OK\r\nnew Company(&quot;CocaCola&quot;, &quot;Comp&quot;) - not OK\r\nnew Company(&quot;Pepsi&quot;, null) - OK\r\n```\r\n\r\nIs it even possible? \r\n\r\nNo idea how to set it up. Normal constraints will not work in that scenario","title":"How to set up unique constraint in database for one value in multiple columns in JPA","body":"<p>I have a database with an entity company:</p>\n<pre><code>@Entity\n@AllArgsConstructor\npublic class Company {\nprivate String name;\nprivate String code;\n}\n</code></pre>\n<p>I want to have a unique constraint for both fields but in special way. If I will add any value in e.g. name, I want to check unique through name and code columns.</p>\n<p>Example:</p>\n<pre><code>new Company(&quot;Company 1&quot;, &quot;123&quot;) - OK\nnew Company(&quot;Comp&quot;, null) - OK\nnew Company(&quot;CocaCola&quot;, &quot;Comp&quot;) - not OK\nnew Company(&quot;Pepsi&quot;, null) - OK\n</code></pre>\n<p>Is it even possible?</p>\n<p>No idea how to set it up. Normal constraints will not work in that scenario</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670683559,"post_id":74753739,"comment_id":131932257,"body_markdown":"That is expected HBN behaviour/optimization: https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/","body":"That is expected HBN behaviour/optimization: <a href=\"https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/\" rel=\"nofollow noreferrer\">vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimize&zwnj;&#8203;r</a>"}],"owner":{"account_id":16695822,"reputation":73,"user_id":12067082,"display_name":"The Deep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670682191,"creation_date":1670682191,"question_id":74753739,"body_markdown":"It&#39;s about persistence with SpringDataJPA, using `strategy = GenerationType.SEQUENCE`, my database is created through a sql script.\r\n\r\n\r\nMy problem is SpringData&#39;s persist methods **doesn&#39;t return the expected id** after being executed.\r\n\r\n\r\nI&#39;ve configured it to have the **sequence incremented by 50. But when I persist a new entity, the increment is only 1.**\r\n\r\nOk so here&#39;s the entity id (ommited allocationSize = 50 caused it&#39;s the defaut value) :\r\n\r\n```hibernate\r\n\r\n@Entity\r\n@Table(name = &quot;theme&quot;, schema = &quot;public&quot;)\r\npublic class Theme {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;theme_seq_gen&quot;)\r\n    @SequenceGenerator(name = &quot;theme_seq_gen&quot;, sequenceName = &quot;theme_sequence&quot;, initialValue = 100)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    // other fields\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the persistence related properties\r\n\r\n```properties\r\n# ===============================\r\n# = DATA SOURCE\r\n# ===============================\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/game-library-dev-db\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\n\r\n\r\n# ===============================\r\n# = JPA / HIBERNATE\r\n# ===============================\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.sql.init.mode=always\r\nspring.jpa.hibernate.ddl-auto=validate\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.open-in-view=false\r\n\r\n# JPA configuration - development (with statistics)\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n# useful to detect n+1 issues\r\n# do not use in production\r\nspring.jpa.properties.hibernate.generate_statistics=false\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation = true\r\n\r\n# create and fill db\r\nspring.sql.init.schema-locations=classpath:sql/schema.sql\r\nspring.sql.init.data-locations=classpath:sql/data.sql\r\n```\r\n\r\nAnd this is an extract from the `script.sql`\r\n\r\n```sql\r\nDROP SCHEMA IF EXISTS public CASCADE;\r\nCREATE SCHEMA public;\r\n\r\nCREATE SEQUENCE theme_sequence START 100 INCREMENT BY 50;\r\n\r\nCREATE TABLE IF NOT EXISTS theme\r\n(\r\n    id              BIGINT      NOT NULL DEFAULT nextval(&#39;theme_sequence&#39;),\r\n    name            VARCHAR(50) NOT NULL,\r\n    CONSTRAINT theme_pkey\r\n        PRIMARY KEY (id)\r\n);\r\nALTER TABLE theme\r\n    OWNER TO postgres;\r\n\r\n```\r\n\r\nAnd now a part of the `data.sql`\r\n\r\n```sql \r\nINSERT INTO public.theme(id, name)\r\nVALUES (nextval(&#39;theme_sequence&#39;), &#39;M&#233;di&#233;val&#39;),\r\n       (nextval(&#39;theme_sequence&#39;), &#39;Urbanisme&#39;),\r\n       (nextval(&#39;theme_sequence&#39;), &#39;Espace&#39;),\r\n       (nextval(&#39;theme_sequence&#39;), &#39;Espionnage&#39;),\r\n       (nextval(&#39;theme_sequence&#39;) &#39;Commerce&#39;),\r\n# and so on...\r\n```\r\n\r\n\r\nWhen the db is filled with `data.sql` it&#39;s all good and the increment is 50 :\r\n\r\n[![ok table][1]][1]\r\n\r\nValue goes from 100 to 650, good.\r\n\r\nBut when I use the following persist method (I&#39;ve typed a Hibernate methods but SpringData Repo&#39;s methods behave the same : wrong nextval)\r\n\r\n```java\r\n\r\n    @Override\r\n    public Theme saveTheme(Theme theme) {\r\n        entityManager.persist(theme);\r\n        entityManager.flush();\r\n\r\n        return new Theme(theme.getId(), theme.getName());\r\n    }\r\n\r\n```\r\n\r\nFor example I persist a theme called &quot;NEW THEME&quot;\r\n\r\n[![app log image][2]][2]\r\n\r\nIt got the ID 651, so the increment is wrong.\r\n\r\nAm I missing something ?\r\n\r\n  [1]: https://i.stack.imgur.com/muE6q.png\r\n  [2]: https://i.stack.imgur.com/AfJYw.png","title":"JPA persist methods return unexpected ID on nextval(sequence)","body":"<p>It's about persistence with SpringDataJPA, using <code>strategy = GenerationType.SEQUENCE</code>, my database is created through a sql script.</p>\n<p>My problem is SpringData's persist methods <strong>doesn't return the expected id</strong> after being executed.</p>\n<p>I've configured it to have the <strong>sequence incremented by 50. But when I persist a new entity, the increment is only 1.</strong></p>\n<p>Ok so here's the entity id (ommited allocationSize = 50 caused it's the defaut value) :</p>\n<pre><code>\n@Entity\n@Table(name = &quot;theme&quot;, schema = &quot;public&quot;)\npublic class Theme {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;theme_seq_gen&quot;)\n    @SequenceGenerator(name = &quot;theme_seq_gen&quot;, sequenceName = &quot;theme_sequence&quot;, initialValue = 100)\n    private Long id;\n\n    private String name;\n\n    // other fields\n}\n\n</code></pre>\n<p>Here's the persistence related properties</p>\n<pre><code># ===============================\n# = DATA SOURCE\n# ===============================\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/game-library-dev-db\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n\n\n# ===============================\n# = JPA / HIBERNATE\n# ===============================\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nspring.sql.init.mode=always\nspring.jpa.hibernate.ddl-auto=validate\n\n\nspring.jpa.show-sql=true\nspring.jpa.open-in-view=false\n\n# JPA configuration - development (with statistics)\nspring.jpa.properties.hibernate.format_sql=true\n\n# useful to detect n+1 issues\n# do not use in production\nspring.jpa.properties.hibernate.generate_statistics=false\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation = true\n\n# create and fill db\nspring.sql.init.schema-locations=classpath:sql/schema.sql\nspring.sql.init.data-locations=classpath:sql/data.sql\n</code></pre>\n<p>And this is an extract from the <code>script.sql</code></p>\n<pre class=\"lang-sql prettyprint-override\"><code>DROP SCHEMA IF EXISTS public CASCADE;\nCREATE SCHEMA public;\n\nCREATE SEQUENCE theme_sequence START 100 INCREMENT BY 50;\n\nCREATE TABLE IF NOT EXISTS theme\n(\n    id              BIGINT      NOT NULL DEFAULT nextval('theme_sequence'),\n    name            VARCHAR(50) NOT NULL,\n    CONSTRAINT theme_pkey\n        PRIMARY KEY (id)\n);\nALTER TABLE theme\n    OWNER TO postgres;\n\n</code></pre>\n<p>And now a part of the <code>data.sql</code></p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO public.theme(id, name)\nVALUES (nextval('theme_sequence'), 'MÃ©diÃ©val'),\n       (nextval('theme_sequence'), 'Urbanisme'),\n       (nextval('theme_sequence'), 'Espace'),\n       (nextval('theme_sequence'), 'Espionnage'),\n       (nextval('theme_sequence') 'Commerce'),\n# and so on...\n</code></pre>\n<p>When the db is filled with <code>data.sql</code> it's all good and the increment is 50 :</p>\n<p><a href=\"https://i.stack.imgur.com/muE6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muE6q.png\" alt=\"ok table\" /></a></p>\n<p>Value goes from 100 to 650, good.</p>\n<p>But when I use the following persist method (I've typed a Hibernate methods but SpringData Repo's methods behave the same : wrong nextval)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    public Theme saveTheme(Theme theme) {\n        entityManager.persist(theme);\n        entityManager.flush();\n\n        return new Theme(theme.getId(), theme.getName());\n    }\n\n</code></pre>\n<p>For example I persist a theme called &quot;NEW THEME&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AfJYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AfJYw.png\" alt=\"app log image\" /></a></p>\n<p>It got the ID 651, so the increment is wrong.</p>\n<p>Am I missing something ?</p>\n"},{"tags":["java","spring-boot","docker","security","passwords"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670682761,"post_id":74753599,"comment_id":131932120,"body_markdown":"Does anybody have any idea about the usage scenario of Jasypt for Production (the steps that customer should follow)?","body":"Does anybody have any idea about the usage scenario of Jasypt for Production (the steps that customer should follow)?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670685102,"post_id":74753599,"comment_id":131932567,"body_markdown":"JaSypt appears to be insecure crud you should definitely not be using. Its main page is __not__ https, the documentation is badly written, it touts &#39;sane defaults&#39; everywhere without explaining what they are, and when you then delve into code to see them, the defaults are very much not sane. It appears to be very easy to write well-below state-of-the-art setups with this library unless you really know what you are doing. Given that this library _actively steers_ into the notion that you don&#39;t really need to figure it all out, that is very bad.","body":"JaSypt appears to be insecure crud you should definitely not be using. Its main page is <b>not</b> https, the documentation is badly written, it touts &#39;sane defaults&#39; everywhere without explaining what they are, and when you then delve into code to see them, the defaults are very much not sane. It appears to be very easy to write well-below state-of-the-art setups with this library unless you really know what you are doing. Given that this library <i>actively steers</i> into the notion that you don&#39;t really need to figure it all out, that is very bad."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670685166,"post_id":74753599,"comment_id":131932585,"body_markdown":"More generally you misunderstand what it is for. &quot;secure passwords in property files&quot; is __not possible__. What &#39;secure passwords&#39; in JaSypt terms is doing, is: You are writing, say, stackoverflow.com, there are useraccounts, they have passwords, how do you store these in the DB. That is a very different concept.","body":"More generally you misunderstand what it is for. &quot;secure passwords in property files&quot; is <b>not possible</b>. What &#39;secure passwords&#39; in JaSypt terms is doing, is: You are writing, say, stackoverflow.com, there are useraccounts, they have passwords, how do you store these in the DB. That is a very different concept."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670685225,"post_id":74753599,"comment_id":131932596,"body_markdown":"If you don&#39;t want API keys and the like to be in your docker images, there are ways you can tell docker to &#39;send&#39; properties from your local machine into the virtual host. That&#39;s generally how you do it. Various tutorials exist, I&#39;m not familiar enough with docker to write an answer for you.","body":"If you don&#39;t want API keys and the like to be in your docker images, there are ways you can tell docker to &#39;send&#39; properties from your local machine into the virtual host. That&#39;s generally how you do it. Various tutorials exist, I&#39;m not familiar enough with docker to write an answer for you."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670696041,"post_id":74753599,"comment_id":131934886,"body_markdown":"@rzwitserloot Thanks for help, actually I am looking for a proper way to hide password on the app props and compos files. I also could not find a better option :(","body":"@rzwitserloot Thanks for help, actually I am looking for a proper way to hide password on the app props and compos files. I also could not find a better option :("}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670681843,"creation_date":1670681105,"question_id":74753599,"body_markdown":"As far as I see, there are some approaches for keeping passwords in Spring Boot apps e.g. Jasypt. I read some documentation for Jasypt, but could not understand some points. Could you clarify me on these points? \r\n\r\n1- I want to secure passwords especially in `application.properties.yml`, `docker-compose.yml` files. I don&#39;t want to use Cloud services and for this situation, is Jasypt the best option for me? Or would you suggest a more proper approach for this purpose? \r\n\r\n2- I am wondering how to use the app after I secure using Jasypt in PRODUCTION environment on Docker container. For example, the customer create app and database containers on Docker using the provided jar file and necessary commands. In that case, should I provide them the same commands modified for Jasypt with the necessary key used in Jasypt command? I am confused with this scenario. \r\n\r\n","title":"Secure passwords in Spring Boot apps for Production using Jasypt?","body":"<p>As far as I see, there are some approaches for keeping passwords in Spring Boot apps e.g. Jasypt. I read some documentation for Jasypt, but could not understand some points. Could you clarify me on these points?</p>\n<p>1- I want to secure passwords especially in <code>application.properties.yml</code>, <code>docker-compose.yml</code> files. I don't want to use Cloud services and for this situation, is Jasypt the best option for me? Or would you suggest a more proper approach for this purpose?</p>\n<p>2- I am wondering how to use the app after I secure using Jasypt in PRODUCTION environment on Docker container. For example, the customer create app and database containers on Docker using the provided jar file and necessary commands. In that case, should I provide them the same commands modified for Jasypt with the necessary key used in Jasypt command? I am confused with this scenario.</p>\n"},{"tags":["java","javafx","nodes","box"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1670679673,"post_id":74752953,"comment_id":131931556,"body_markdown":"A complete example is examined [here](https://stackoverflow.com/q/39185306/230513).","body":"A complete example is examined <a href=\"https://stackoverflow.com/q/39185306/230513\">here</a>."},{"owner":{"account_id":23969355,"reputation":27,"user_id":17958294,"display_name":"king cannibal"},"score":0,"creation_date":1670680033,"post_id":74752953,"comment_id":131931642,"body_markdown":"thanks, could you say that as a answer so i can set it as a answer?","body":"thanks, could you say that as a answer so i can set it as a answer?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1670680813,"post_id":74752953,"comment_id":131931787,"body_markdown":"Glad it helped. If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"Glad it helped. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/74752953/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."}],"owner":{"account_id":23969355,"reputation":27,"user_id":17958294,"display_name":"king cannibal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670696311,"answer_count":0,"score":1,"last_activity_date":1670681821,"creation_date":1670675704,"question_id":74752953,"body_markdown":"I&#39;ve been coding with javafx recently and I&#39;ve rendered a cube and another cube, one cube is connected to the camera which moves when the user presses &#39;w&#39;, (connected as the cube  moves when the camera moves). I&#39;m trying to detect when one node collides with the other, I&#39;ve tried taking the translation of &#39;x&#39; on the cube connect to the camera and the translation of the other &#39;x&#39; on the other cube which works but the &#39;z&#39; doesn&#39;t work because the world moves and rotates instead of the camera so i cannot do that.\r\n\r\n\r\n\r\nHow can I use the attribute intersects of one javafx box to another javafx box to detect the collision. I&#39;ve tried multiple ways of detecting collision, most seemed to have intersects to be the answer but they had 2d shapes instead of 3d boxes. This is what I have, either they never execute or they execute when the statement is called (getbBoundsInParent, getBoundsInLocal, getLayoutBounds). This isn&#39;t all the code, I put what I thought was relevant. How can i detect collision with intersect of a 3d javafx box?\r\n````\r\n if(eyes.getBoundsInParent().intersects(cube.getBoundsInParent())){  \r\n          System.exit(0);\r\n}\r\n````\r\n\r\n","title":"execute when Javafx box collides with another box","body":"<p>I've been coding with javafx recently and I've rendered a cube and another cube, one cube is connected to the camera which moves when the user presses 'w', (connected as the cube  moves when the camera moves). I'm trying to detect when one node collides with the other, I've tried taking the translation of 'x' on the cube connect to the camera and the translation of the other 'x' on the other cube which works but the 'z' doesn't work because the world moves and rotates instead of the camera so i cannot do that.</p>\n<p>How can I use the attribute intersects of one javafx box to another javafx box to detect the collision. I've tried multiple ways of detecting collision, most seemed to have intersects to be the answer but they had 2d shapes instead of 3d boxes. This is what I have, either they never execute or they execute when the statement is called (getbBoundsInParent, getBoundsInLocal, getLayoutBounds). This isn't all the code, I put what I thought was relevant. How can i detect collision with intersect of a 3d javafx box?</p>\n<pre><code> if(eyes.getBoundsInParent().intersects(cube.getBoundsInParent())){  \n          System.exit(0);\n}\n</code></pre>\n"},{"tags":["java","android","flutter","apk"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670683756,"post_id":74753625,"comment_id":131932300,"body_markdown":"The Android version of the `Deflater` class doesn&#39;t have a `reset(long)` native method.  The method is called `resetImpl`.  See https://android.googlesource.com/platform/libcore.git/+/android-4.2.2_r1/luni/src/main/java/java/util/zip/Deflater.java line 362.","body":"The Android version of the <code>Deflater</code> class doesn&#39;t have a <code>reset(long)</code> native method.  The method is called <code>resetImpl</code>.  See <a href=\"https://android.googlesource.com/platform/libcore.git/+/android-4.2.2_r1/luni/src/main/java/java/util/zip/Deflater.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/libcore.git/+/&hellip;</a> line 362."}],"owner":{"account_id":18716308,"reputation":151,"user_id":13645230,"display_name":"ayushkadbe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670681293,"creation_date":1670681293,"question_id":74753625,"body_markdown":"I am trying to generate a signed apk for flutter project in android studio. But build is failing to due following error:\r\n\r\n    Build Output:\r\n    &gt; Task :flutter_inappwebview:minifyReleaseWithR8 FAILED\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.UnsatisfiedLinkError: &#39;void java.util.zip.Deflater.reset(long)&#39;&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;R8&quot;}\r\n    java.lang.UnsatisfiedLinkError: &#39;void java.util.zip.Deflater.reset(long)&#39;\r\n\r\nCan someone please tell how to solve the following error:\r\n\r\n&gt; java.lang.UnsatisfiedLinkError: &#39;void\r\n&gt; java.util.zip.Deflater.reset(long)&#39;","title":"How to solve this error &quot;java.lang.UnsatisfiedLinkError: &#39;void java.util.zip.Deflater.reset(long)&#39; &quot;?","body":"<p>I am trying to generate a signed apk for flutter project in android studio. But build is failing to due following error:</p>\n<pre><code>Build Output:\n&gt; Task :flutter_inappwebview:minifyReleaseWithR8 FAILED\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.UnsatisfiedLinkError: 'void java.util.zip.Deflater.reset(long)'&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;R8&quot;}\njava.lang.UnsatisfiedLinkError: 'void java.util.zip.Deflater.reset(long)'\n</code></pre>\n<p>Can someone please tell how to solve the following error:</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError: 'void\njava.util.zip.Deflater.reset(long)'</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670680676,"post_id":74753500,"comment_id":131931759,"body_markdown":"Why would you use an &quot;array&quot;?","body":"Why would you use an &quot;array&quot;?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670683437,"post_id":74753500,"comment_id":131932228,"body_markdown":"Without an array: `usersName.stream().forEach(n -&gt; System.out.printf(&quot;- %s%n&quot;, n));`","body":"Without an array: <code>usersName.stream().forEach(n -&gt; System.out.printf(&quot;- %s%n&quot;, n));</code>"}],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670680990,"creation_date":1670680990,"answer_id":74753581,"question_id":74753500,"body_markdown":"Use \r\n\r\n    for(String user: userName){\r\n        System.out.println(&quot;- &quot;+user);\r\n    }\r\nHope this helps","title":"Display all value with character","body":"<p>Use</p>\n<pre><code>for(String user: userName){\n    System.out.println(&quot;- &quot;+user);\n}\n</code></pre>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":27095362,"reputation":1,"user_id":20642646,"display_name":"Karl Parneix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670680990,"creation_date":1670680295,"question_id":74753500,"body_markdown":"I have a list containing Strings. I want to display all the values of this list in an array of strings with a line break after each value and start with -.\r\n\r\n\r\n```\r\nprivate List&lt;String&gt; usersName = new ArrayList&lt;&gt;();\r\n\r\nprivate void setUsersTest(){\r\n    usersName.add(&quot;1&quot;);\r\n    usersName.add(&quot;2&quot;);\r\n    usersName.add(&quot;3&quot;);\r\n    usersName.add(&quot;4&quot;);\r\n    usersName.add(&quot;5&quot;);\r\n    usersName.add(&quot;6&quot;);\r\n    usersName.add(&quot;7&quot;);\r\n    usersName.add(&quot;8&quot;);\r\n    usersName.add(&quot;9&quot;);\r\n\r\n    //Exemple\r\n    /**\r\n     * List of users:\r\n     * - 1\r\n     * - 2\r\n     * - 3\r\n     * - 4\r\n     * - 5\r\n     * - 6\r\n     * - 7\r\n     * - 8\r\n     * - 9\r\n     */\r\n}\r\n```\r\n","title":"Display all value with character","body":"<p>I have a list containing Strings. I want to display all the values of this list in an array of strings with a line break after each value and start with -.</p>\n<pre><code>private List&lt;String&gt; usersName = new ArrayList&lt;&gt;();\n\nprivate void setUsersTest(){\n    usersName.add(&quot;1&quot;);\n    usersName.add(&quot;2&quot;);\n    usersName.add(&quot;3&quot;);\n    usersName.add(&quot;4&quot;);\n    usersName.add(&quot;5&quot;);\n    usersName.add(&quot;6&quot;);\n    usersName.add(&quot;7&quot;);\n    usersName.add(&quot;8&quot;);\n    usersName.add(&quot;9&quot;);\n\n    //Exemple\n    /**\n     * List of users:\n     * - 1\n     * - 2\n     * - 3\n     * - 4\n     * - 5\n     * - 6\n     * - 7\n     * - 8\n     * - 9\n     */\n}\n</code></pre>\n"},{"tags":["java","datetime-format","java-time"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1670678392,"post_id":74753234,"comment_id":131931269,"body_markdown":"So why do you need this to work? This might be an [XY problem](https://xyproblem.info).","body":"So why do you need this to work? This might be an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1670678783,"post_id":74753234,"comment_id":131931344,"body_markdown":"If one needed to change the format of a Temporal without knowing the formats head of time, eg from yyyyMM to MMM-yyyy, you would need two different DateTimeFormatters. The formatters would be completely compatible in terms of the fields that they parse and the temporal objects they produce. But if one of them can&#39;t format its own result then it certainly won&#39;t be able to format a result from the other.\n\nEdit: Enforcing /  handling compatibility failures would be on the user/caller to handle. But this isn&#39;t a compatibility failure, it&#39;s my use/understanding of the API.","body":"If one needed to change the format of a Temporal without knowing the formats head of time, eg from yyyyMM to MMM-yyyy, you would need two different DateTimeFormatters. The formatters would be completely compatible in terms of the fields that they parse and the temporal objects they produce. But if one of them can&#39;t format its own result then it certainly won&#39;t be able to format a result from the other.  Edit: Enforcing /  handling compatibility failures would be on the user/caller to handle. But this isn&#39;t a compatibility failure, it&#39;s my use/understanding of the API."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1670679145,"post_id":74753234,"comment_id":131931441,"body_markdown":"I realize this could be done by literally checking the presence of fields to ensure compatibility of LocalDateTime, YearMonth, LocalDate, etc. But that seems like avoidable complexity and it feels like there must be a way to get a DateTimeFormatter to understand that the temporal has all the fields necessary to format the object.","body":"I realize this could be done by literally checking the presence of fields to ensure compatibility of LocalDateTime, YearMonth, LocalDate, etc. But that seems like avoidable complexity and it feels like there must be a way to get a DateTimeFormatter to understand that the temporal has all the fields necessary to format the object."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670679472,"post_id":74753234,"comment_id":131931513,"body_markdown":"So you are allowing the user to send in a year, an hour of day, an offset from UTC, and you expect them all to be handled uniformly? You may still want to give us a hint why you need this.","body":"So you are allowing the user to send in a year, an hour of day, an offset from UTC, and you expect them all to be handled uniformly? You may still want to give us a hint why you need this."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1670679720,"post_id":74753234,"comment_id":131931564,"body_markdown":"The input is pairs - e.g. (&quot;yyyyMM&quot;,&quot;MMM-yyyy&quot;) , (&quot;MMMdd&quot;,ddMM&quot;). Both of those pairs meet the requirements that I stated in that they are compatible with one another. The &#39;why&#39; is that I need to change the date format from a large set of possible formats to a smaller set of standard formats. Neither set is defined at compile time.","body":"The input is pairs - e.g. (&quot;yyyyMM&quot;,&quot;MMM-yyyy&quot;) , (&quot;MMMdd&quot;,ddMM&quot;). Both of those pairs meet the requirements that I stated in that they are compatible with one another. The &#39;why&#39; is that I need to change the date format from a large set of possible formats to a smaller set of standard formats. Neither set is defined at compile time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670679740,"post_id":74753234,"comment_id":131931571,"body_markdown":"You may solve it by using `DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;).withResolverStyle(ResolverStyle.STRICT)`. Not sure whether it will give you problems with other inputs, though. What happened was that the default âsmartâ resolver style interpreted 2001 as ISO year (signed), so java.time was not able to extract a year-of-era from it after that. The âstrictâ resolver style prevents such an interpretation.","body":"You may solve it by using <code>DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;).withResolverStyle(Reso&zwnj;&#8203;lverStyle.STRICT)</code>. Not sure whether it will give you problems with other inputs, though. What happened was that the default âsmartâ resolver style interpreted 2001 as ISO year (signed), so java.time was not able to extract a year-of-era from it after that. The âstrictâ resolver style prevents such an interpretation."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1670680358,"post_id":74753234,"comment_id":131931694,"body_markdown":"@OleV.V. That does indeed solve it! I was aware of the LENIENT style but I was not aware of the Year/YearOfEra differences between SMART and STRICT styles. Strict is actually what I need anyway because the Era field is not supported, thus the years can be assumed to be in the same Era.","body":"@OleV.V. That does indeed solve it! I was aware of the LENIENT style but I was not aware of the Year/YearOfEra differences between SMART and STRICT styles. Strict is actually what I need anyway because the Era field is not supported, thus the years can be assumed to be in the same Era."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670680436,"post_id":74753234,"comment_id":131931713,"body_markdown":"Doesn&#39;t happen with uuuuMM","body":"Doesn&#39;t happen with uuuuMM"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1670680580,"post_id":74753234,"comment_id":131931741,"body_markdown":"@g00se That&#39;s a good point, that I could simply use &quot;u&quot; instead of &quot;y&quot;. It was just a bit confusing that a Formatter could not format its own result, but that&#39;s due to the SMART ResolverStyle mentioned above.","body":"@g00se That&#39;s a good point, that I could simply use &quot;u&quot; instead of &quot;y&quot;. It was just a bit confusing that a Formatter could not format its own result, but that&#39;s due to the SMART ResolverStyle mentioned above."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670680134,"creation_date":1670680134,"answer_id":74753483,"question_id":74753234,"body_markdown":"What is happening here is that when you parse the string, an additional [resolution][1] phase happens, and turns the `yyyy` format specifier representing the &quot;Year Of Era&quot; temporal field into a &quot;Year&quot; temporal field in the returned `TemporalAccessor`, and you end up with (`yearMonthTemp.toString()`):\r\n\r\n    {Year=2001, MonthOfYear=2},ISO\r\n\r\nWhen you format, the `yyyy` format specifier expects to format a &quot;Year Of Era&quot; temporal field, but the temporal accessor doesn&#39;t have it, as you can clearly see above.\r\n\r\n&gt; If one needed to change the format of a Temporal without knowing the formats head of time, eg from yyyyMM to MMM-yyyy, you would need two different DateTimeFormatters. The formatters would be completely compatible in terms of the fields that they parse and the temporal objects they produce. \r\n\r\nIf all you want to do is changing formats, you can set the resolver style to `STRICT` (by default this is `SMART`):\r\n\r\n    DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;)\r\n        .withResolverStyle(ResolverStyle.STRICT);\r\n\r\nThough I cannot find documentation for this, I have found that this will prevent it from automatically changing &quot;Year Of Era&quot; to &quot;Year&quot; (which is typically denoted `uuuu`). From my testing, every parsed temporal field will be present in the result. Assuming that you have the same format specifiers in the formatting `DateFormatter`, it will get the same temporal fields successfully.\r\n\r\nNote that this also means that you cannot easily get something like a `YearMonth` from this `DateTimeFormatter`, because `YearMonth.parse`/`YearMonth.from` expects a &quot;Year&quot;. not &quot;Year Of Era&quot;.\r\n\r\n    // does not work\r\n    System.out.println(YearMonth.from(yearMonthTemp));\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html#resolving","title":"Java DateTimeFormatter can&#39;t format its own parsed TemporalAccessor","body":"<p>What is happening here is that when you parse the string, an additional <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html#resolving\" rel=\"nofollow noreferrer\">resolution</a> phase happens, and turns the <code>yyyy</code> format specifier representing the &quot;Year Of Era&quot; temporal field into a &quot;Year&quot; temporal field in the returned <code>TemporalAccessor</code>, and you end up with (<code>yearMonthTemp.toString()</code>):</p>\n<pre><code>{Year=2001, MonthOfYear=2},ISO\n</code></pre>\n<p>When you format, the <code>yyyy</code> format specifier expects to format a &quot;Year Of Era&quot; temporal field, but the temporal accessor doesn't have it, as you can clearly see above.</p>\n<blockquote>\n<p>If one needed to change the format of a Temporal without knowing the formats head of time, eg from yyyyMM to MMM-yyyy, you would need two different DateTimeFormatters. The formatters would be completely compatible in terms of the fields that they parse and the temporal objects they produce.</p>\n</blockquote>\n<p>If all you want to do is changing formats, you can set the resolver style to <code>STRICT</code> (by default this is <code>SMART</code>):</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;)\n    .withResolverStyle(ResolverStyle.STRICT);\n</code></pre>\n<p>Though I cannot find documentation for this, I have found that this will prevent it from automatically changing &quot;Year Of Era&quot; to &quot;Year&quot; (which is typically denoted <code>uuuu</code>). From my testing, every parsed temporal field will be present in the result. Assuming that you have the same format specifiers in the formatting <code>DateFormatter</code>, it will get the same temporal fields successfully.</p>\n<p>Note that this also means that you cannot easily get something like a <code>YearMonth</code> from this <code>DateTimeFormatter</code>, because <code>YearMonth.parse</code>/<code>YearMonth.from</code> expects a &quot;Year&quot;. not &quot;Year Of Era&quot;.</p>\n<pre><code>// does not work\nSystem.out.println(YearMonth.from(yearMonthTemp));\n</code></pre>\n"}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74753483,"answer_count":1,"score":0,"last_activity_date":1670680899,"creation_date":1670678042,"question_id":74753234,"body_markdown":"I&#39;m creating a simply DateTimeFormatter, but it can&#39;t seem to read it&#39;s own output. The reason I need to use the DateTimeFormatter directly and not LocalDate.format or YearMonth.format is that the code needs to be generic enough to handle different instances of DateTimeFormatter with completely different fields. The code below fails with: `java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: YearOfEra`\r\n\r\n    DateTimeFormatter yearMonthFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;);\r\n    TemporalAccessor yearMonthTemp = yearMonthFormatter.parse(&quot;200102&quot;);\r\n    String formatted = yearMonthFormatter.format(yearMonthTemp); //fails here trying to format its own output\r\n\r\nIs there any way to accomplish the above without having to know the contents of the datetime pattern? i.e. the string &quot;yyyyMM&quot; is not static, it will be passed as a parameter.\r\n\r\nEdit: Dang, asked and solved in 40 minutes, on a Saturday.","title":"Java DateTimeFormatter can&#39;t format its own parsed TemporalAccessor","body":"<p>I'm creating a simply DateTimeFormatter, but it can't seem to read it's own output. The reason I need to use the DateTimeFormatter directly and not LocalDate.format or YearMonth.format is that the code needs to be generic enough to handle different instances of DateTimeFormatter with completely different fields. The code below fails with: <code>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: YearOfEra</code></p>\n<pre><code>DateTimeFormatter yearMonthFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;);\nTemporalAccessor yearMonthTemp = yearMonthFormatter.parse(&quot;200102&quot;);\nString formatted = yearMonthFormatter.format(yearMonthTemp); //fails here trying to format its own output\n</code></pre>\n<p>Is there any way to accomplish the above without having to know the contents of the datetime pattern? i.e. the string &quot;yyyyMM&quot; is not static, it will be passed as a parameter.</p>\n<p>Edit: Dang, asked and solved in 40 minutes, on a Saturday.</p>\n"},{"tags":["java","spring-boot","kubernetes","jvm"],"comments":[{"owner":{"account_id":11104921,"reputation":13,"user_id":8152365,"display_name":"AMU"},"score":0,"creation_date":1670958165,"post_id":74753510,"comment_id":131992084,"body_markdown":"Any update on it?","body":"Any update on it?"}],"owner":{"account_id":11104921,"reputation":13,"user_id":8152365,"display_name":"AMU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670680733,"creation_date":1670680355,"question_id":74753510,"body_markdown":"Curranty our application is running on k8s with openjedk version8.\r\nwe already setup resource limit and request for application. when traffic goes high memory consumption increases but when traffic cool down pod/JVM is not releasing the occupied memory. it always runs on high limit.  \r\n\r\nPlease help me into how release memory when traffic will cool down form application","title":"JVM/pod is not releasing memory even traffic cool down on k8s","body":"<p>Curranty our application is running on k8s with openjedk version8.\nwe already setup resource limit and request for application. when traffic goes high memory consumption increases but when traffic cool down pod/JVM is not releasing the occupied memory. it always runs on high limit.</p>\n<p>Please help me into how release memory when traffic will cool down form application</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1670680397,"post_id":74753488,"comment_id":131931703,"body_markdown":"If you are testing this on Android 11 or higher, your real problem may be [package visibility rules](https://developer.android.com/training/package-visibility). FWIW, in addition to that documentation, I cover package visibility in [this chapter](https://commonsware.com/R/pages/chap-package-001.html) of [this free book](https://commonsware.com/R).","body":"If you are testing this on Android 11 or higher, your real problem may be <a href=\"https://developer.android.com/training/package-visibility\" rel=\"nofollow noreferrer\">package visibility rules</a>. FWIW, in addition to that documentation, I cover package visibility in <a href=\"https://commonsware.com/R/pages/chap-package-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/R\" rel=\"nofollow noreferrer\">this free book</a>."}],"owner":{"account_id":27135170,"reputation":1,"user_id":20676787,"display_name":"El Green"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670680365,"creation_date":1670680172,"question_id":74753488,"body_markdown":"```\r\npublic void getallapps(View view) {\r\n    List&lt;ApplicationInfo&gt; packList = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\r\n    for (ApplicationInfo packageInfo : packList) {\r\n        if ((packageInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) == ApplicationInfo.FLAG_SYSTEM) {\r\n            String currAppName = getPackageManager().getApplicationLabel(packageInfo).toString();\r\n            Log.d(&quot;System&quot;, currAppName);\r\n        } else {\r\n            String currAppName = getPackageManager().getApplicationLabel(packageInfo).toString();\r\n            Log.d(&quot;Games&quot;, currAppName);\r\n        }\r\n    }\r\n}\r\n```\r\nThe code prints system apps and non-system apps; however, it only finds some of the apps. How can I change the file directory?\r\n\r\n\r\nI have found that apps are stored in the &quot;android/data&quot; portion of the device yet cannot change Android Studio","title":"Android Studio finding apps in the wrong file directory","body":"<pre><code>public void getallapps(View view) {\n    List&lt;ApplicationInfo&gt; packList = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\n    for (ApplicationInfo packageInfo : packList) {\n        if ((packageInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) == ApplicationInfo.FLAG_SYSTEM) {\n            String currAppName = getPackageManager().getApplicationLabel(packageInfo).toString();\n            Log.d(&quot;System&quot;, currAppName);\n        } else {\n            String currAppName = getPackageManager().getApplicationLabel(packageInfo).toString();\n            Log.d(&quot;Games&quot;, currAppName);\n        }\n    }\n}\n</code></pre>\n<p>The code prints system apps and non-system apps; however, it only finds some of the apps. How can I change the file directory?</p>\n<p>I have found that apps are stored in the &quot;android/data&quot; portion of the device yet cannot change Android Studio</p>\n"},{"tags":["java","liferay"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1631354398,"post_id":69134661,"comment_id":122202943,"body_markdown":"I don&#39;t understand: utf8 is an encoding, and while in the input field, I&#39;m not aware of them being encoded. Make sure your server and browser communicate with utf8 encoding. No need or option for this in the input field","body":"I don&#39;t understand: utf8 is an encoding, and while in the input field, I&#39;m not aware of them being encoded. Make sure your server and browser communicate with utf8 encoding. No need or option for this in the input field"},{"owner":{"account_id":17005906,"reputation":1,"user_id":12302116,"display_name":"king"},"score":0,"creation_date":1631519450,"post_id":69134661,"comment_id":122234025,"body_markdown":"sometimes users input some unwanted characters due to which calling to services break down so my task is to force user not to input such kind of characters which are non utf-8","body":"sometimes users input some unwanted characters due to which calling to services break down so my task is to force user not to input such kind of characters which are non utf-8"}],"owner":{"account_id":17005906,"reputation":1,"user_id":12302116,"display_name":"king"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670680108,"creation_date":1631288115,"question_id":69134661,"body_markdown":"Here is the code - there are many pre-defined validators but I need a custom tag to check if the input is not utf-8 then it should show error\r\n\r\n    &lt;div&gt;\r\n      &lt;aui:validator name=&quot;custom&quot; errorMessage=&quot;error.message&quot;&gt;\r\n                 function (val, fieldNode, ruleValue) {\r\n    \t\t\t\t var pattern = &#39;/^.*[^\\x{00}-\\x{00FF}]+.*$/u&#39;;\r\n    \t\t\t\t return pattern.test(val);\r\n                    }\r\n            &lt;/aui:validator&gt;\r\n    &lt;/div&gt;","title":"How to make a custom &lt;aui:validator.... to check if the input is not utf-8 , it should show an error message. I am working on liferay and java","body":"<p>Here is the code - there are many pre-defined validators but I need a custom tag to check if the input is not utf-8 then it should show error</p>\n<pre><code>&lt;div&gt;\n  &lt;aui:validator name=&quot;custom&quot; errorMessage=&quot;error.message&quot;&gt;\n             function (val, fieldNode, ruleValue) {\n                 var pattern = '/^.*[^\\x{00}-\\x{00FF}]+.*$/u';\n                 return pattern.test(val);\n                }\n        &lt;/aui:validator&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1516912982,"post_id":48451460,"comment_id":83896061,"body_markdown":"Can you post the stacktrace, and what you are trying to accomplish?","body":"Can you post the stacktrace, and what you are trying to accomplish?"},{"owner":{"account_id":6489390,"reputation":469,"user_id":5023926,"accept_rate":90,"display_name":"Niels"},"score":0,"creation_date":1516913383,"post_id":48451460,"comment_id":83896259,"body_markdown":"@mkobit updated the Question. I am trying to build a jar of the project including the external dependencys.","body":"@mkobit updated the Question. I am trying to build a jar of the project including the external dependencys."}],"answers":[{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1670679870,"creation_date":1516914032,"answer_id":48451846,"question_id":48451460,"body_markdown":"I think you are running into method scoping issues here.\r\n\r\nIn your block here:\r\n\r\n&lt;!-- language-all: lang-groovy --&gt;\r\n\r\n    jar {\r\n      manifest {\r\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        attributes &#39;Main-Class&#39;: &#39;de.to.main.class.itv.Main&#39;\r\n      }\r\n    }\r\n\r\nYou are first calling the [`manifest(Action&lt;? super Manifest&gt; configureAction)`][1] method in the `jar` task. Inside of that body, you are calling [`from(Object... mergePath)`][2] on the `Manifest` type. \r\n\r\n&gt; Specifies other manifests to be merged into this manifest. \r\n\r\nThe method name `from` on `Manifest` shadows the various `from` methods that come from [`AbstractCopyTask`][3] (which [`Jar`][4] inherits from).\r\n\r\nWhat you should be doing if you want to configure the things bundle with the artifact is to call the `from` on the task type. Just move the `from` outside of that `manifest` and you should see a clearer message or things will work out.\r\n\r\n    jar {\r\n      from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;de.to.main.class.itv.Main&#39;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/jvm/tasks/Jar.html#manifest-org.gradle.api.Action-\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/java/archives/Manifest.html#from-java.lang.Object...-\r\n  [3]: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/AbstractCopyTask.html\r\n  [4]: https://docs.gradle.org/current/javadoc/org/gradle/jvm/tasks/Jar.html","title":"Gradle-Build: Cannot convert the provided notation to a File or URI","body":"<p>I think you are running into method scoping issues here.</p>\n<p>In your block here:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>jar {\n  manifest {\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    attributes 'Main-Class': 'de.to.main.class.itv.Main'\n  }\n}\n</code></pre>\n<p>You are first calling the <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/jvm/tasks/Jar.html#manifest-org.gradle.api.Action-\" rel=\"nofollow noreferrer\"><code>manifest(Action&lt;? super Manifest&gt; configureAction)</code></a> method in the <code>jar</code> task. Inside of that body, you are calling <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/java/archives/Manifest.html#from-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>from(Object... mergePath)</code></a> on the <code>Manifest</code> type.</p>\n<blockquote>\n<p>Specifies other manifests to be merged into this manifest.</p>\n</blockquote>\n<p>The method name <code>from</code> on <code>Manifest</code> shadows the various <code>from</code> methods that come from <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/AbstractCopyTask.html\" rel=\"nofollow noreferrer\"><code>AbstractCopyTask</code></a> (which <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/jvm/tasks/Jar.html\" rel=\"nofollow noreferrer\"><code>Jar</code></a> inherits from).</p>\n<p>What you should be doing if you want to configure the things bundle with the artifact is to call the <code>from</code> on the task type. Just move the <code>from</code> outside of that <code>manifest</code> and you should see a clearer message or things will work out.</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>jar {\n  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n  manifest {\n    attributes 'Main-Class': 'de.to.main.class.itv.Main'\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6489390,"reputation":469,"user_id":5023926,"accept_rate":90,"display_name":"Niels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16024,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48451846,"answer_count":1,"score":4,"last_activity_date":1670679870,"creation_date":1516912547,"question_id":48451460,"body_markdown":"When building with Gradle in IntelliJ with the follwoing gradle.build file:\r\n\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        // https://mvnrepository.com/artifact/org.jdom/jdom\r\n        compile (\r\n                [group: &#39;org.jdom&#39;, name: &#39;jdom&#39;, version: &#39;2.0.0&#39;],\r\n                [group: &#39;org.controlsfx&#39;, name: &#39;controlsfx&#39;, version: &#39;8.40.14&#39;],\r\n                [group: &#39;net.java.openjfx.backport&#39;, name: &#39;openjfx-78-backport-compat&#39;, version: &#39;1.8.0.1&#39;]\r\n        )\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n            attributes &#39;Main-Class&#39;: &#39;de.to.main.class.itv.Main&#39;\r\n        }\r\n    }\r\n\r\nI get the following error:\r\n\r\n    9:44:43 PM: Executing task &#39;build&#39;...\r\n    \r\n    Note: Some input files use unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    :compileJava\r\n    :processResources\r\n    :classes\r\n    :jar FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not copy MANIFEST.MF to &#39;C:\\Users\\pre name\\Java\\Uni\\SWP\\ITV\\build\\tmp\\jar\\MANIFEST.MF&#39;.\r\n    &gt; Cannot convert the provided notation to a File or URI: [ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.jdom\\jdom\\2.0.0\\e03447aa5a53e7ee9f0ebb9da64c5c178900173d\\jdom-2.0.0.jar&#39;, ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.controlsfx\\controlsfx\\8.40.14\\7338f13794b82c77ea152803df56a15d376c3b0e\\controlsfx-8.40.14.jar&#39;, ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\net.java.openjfx.backport\\openjfx-78-backport-compat\\1.8.0.1\\7cb8f4c47f25736b099d0db2a0c518e909ed6e4d\\openjfx-78-backport-compat-1.8.0.1.jar&#39;].\r\n      The following types/formats are supported:\r\n        - A String or CharSequence path, for example &#39;src/main/java&#39; or &#39;/usr/include&#39;.\r\n        - A String or CharSequence URI, for example &#39;file:/usr/include&#39;.\r\n        - A File instance.\r\n        - A Path instance.\r\n        - A URI or URL instance.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED in 1s\r\n    3 actionable tasks: 3 executed\r\n    Cannot convert the provided notation to a File or URI: [ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.jdom\\jdom\\2.0.0\\e03447aa5a53e7ee9f0ebb9da64c5c178900173d\\jdom-2.0.0.jar&#39;, ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.controlsfx\\controlsfx\\8.40.14\\7338f13794b82c77ea152803df56a15d376c3b0e\\controlsfx-8.40.14.jar&#39;, ZIP &#39;D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\net.java.openjfx.backport\\openjfx-78-backport-compat\\1.8.0.1\\7cb8f4c47f25736b099d0db2a0c518e909ed6e4d\\openjfx-78-backport-compat-1.8.0.1.jar&#39;].\r\n    The following types/formats are supported:\r\n      - A String or CharSequence path, for example &#39;src/main/java&#39; or &#39;/usr/include&#39;.\r\n      - A String or CharSequence URI, for example &#39;file:/usr/include&#39;.\r\n      - A File instance.\r\n      - A Path instance.\r\n      - A URI or URL instance.\r\n    9:44:44 PM: Task execution finished &#39;build&#39;.\r\n\r\nI guessed it would be a whitspace error in the path, but after changing the service directory path to one without whitspaces, the error keeps to be the same.\r\n\r\nThe goal is to build a jar of the project including the external dependencys.\r\nThe question is, what is wrong with the provided annotation?","title":"Gradle-Build: Cannot convert the provided notation to a File or URI","body":"<p>When building with Gradle in IntelliJ with the follwoing gradle.build file:</p>\n\n<pre><code>version '1.0-SNAPSHOT'\napply plugin: 'java'\napply plugin: 'idea'\n\nsourceCompatibility = 1.8\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    // https://mvnrepository.com/artifact/org.jdom/jdom\n    compile (\n            [group: 'org.jdom', name: 'jdom', version: '2.0.0'],\n            [group: 'org.controlsfx', name: 'controlsfx', version: '8.40.14'],\n            [group: 'net.java.openjfx.backport', name: 'openjfx-78-backport-compat', version: '1.8.0.1']\n    )\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\njar {\n    manifest {\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n        attributes 'Main-Class': 'de.to.main.class.itv.Main'\n    }\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>9:44:43 PM: Executing task 'build'...\n\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n:compileJava\n:processResources\n:classes\n:jar FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not copy MANIFEST.MF to 'C:\\Users\\pre name\\Java\\Uni\\SWP\\ITV\\build\\tmp\\jar\\MANIFEST.MF'.\n&gt; Cannot convert the provided notation to a File or URI: [ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.jdom\\jdom\\2.0.0\\e03447aa5a53e7ee9f0ebb9da64c5c178900173d\\jdom-2.0.0.jar', ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.controlsfx\\controlsfx\\8.40.14\\7338f13794b82c77ea152803df56a15d376c3b0e\\controlsfx-8.40.14.jar', ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\net.java.openjfx.backport\\openjfx-78-backport-compat\\1.8.0.1\\7cb8f4c47f25736b099d0db2a0c518e909ed6e4d\\openjfx-78-backport-compat-1.8.0.1.jar'].\n  The following types/formats are supported:\n    - A String or CharSequence path, for example 'src/main/java' or '/usr/include'.\n    - A String or CharSequence URI, for example 'file:/usr/include'.\n    - A File instance.\n    - A Path instance.\n    - A URI or URL instance.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED in 1s\n3 actionable tasks: 3 executed\nCannot convert the provided notation to a File or URI: [ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.jdom\\jdom\\2.0.0\\e03447aa5a53e7ee9f0ebb9da64c5c178900173d\\jdom-2.0.0.jar', ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\org.controlsfx\\controlsfx\\8.40.14\\7338f13794b82c77ea152803df56a15d376c3b0e\\controlsfx-8.40.14.jar', ZIP 'D:\\Development\\.gradle\\caches\\modules-2\\files-2.1\\net.java.openjfx.backport\\openjfx-78-backport-compat\\1.8.0.1\\7cb8f4c47f25736b099d0db2a0c518e909ed6e4d\\openjfx-78-backport-compat-1.8.0.1.jar'].\nThe following types/formats are supported:\n  - A String or CharSequence path, for example 'src/main/java' or '/usr/include'.\n  - A String or CharSequence URI, for example 'file:/usr/include'.\n  - A File instance.\n  - A Path instance.\n  - A URI or URL instance.\n9:44:44 PM: Task execution finished 'build'.\n</code></pre>\n\n<p>I guessed it would be a whitspace error in the path, but after changing the service directory path to one without whitspaces, the error keeps to be the same.</p>\n\n<p>The goal is to build a jar of the project including the external dependencys.\nThe question is, what is wrong with the provided annotation?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670679811,"creation_date":1670679811,"answer_id":74753444,"question_id":74711740,"body_markdown":"The difference between the two is that `y` in `Flux.groupJoin` is a *Flux* of all elements from `f2` with overlapping windows (in this case all 6 elements). Thus the `resultSelector` will receive the following elements:\r\n\r\n```\r\n(1, Flux.just(10,12,13,14,15,16))\r\n(2, Flux.just(10,12,13,14,15,16))\r\n(3, Flux.just(10,12,13,14,15,16))\r\n(10, Flux.just(10,12,13,14,15,16))\r\n(11, Flux.just(10,12,13,14,15,16))\r\n(12, Flux.just(10,12,13,14,15,16))\r\n(13, Flux.just(10,12,13,14,15,16))\r\n(14, Flux.just(10,12,13,14,15,16))\r\n```\r\n\r\nMeanwhile, `Flux.join` will emit an element for every window between f1 and f2 that overlaps, for a total of 8 &#215; 6 = 48 elements. These are then send to the `resultSelector`:\r\n\r\n```\r\n(1, 10)\r\n(1, 11)\r\n...\r\n(14, 15)\r\n(14, 16)\r\n```\r\n\r\nTo get the desired result using groupJoin, you have to process the Flux received by the resultSelector, for example:\r\n\r\n```java\r\n@Test\r\npublic void testGroupJoin() {\r\n    Flux&lt;Integer&gt; f1 = Flux.just(1, 2, 3, 10, 11, 12, 13, 14);\r\n    Flux&lt;Integer&gt; f2 = Flux.just(10, 12, 13, 14, 15, 16);\r\n    f1.groupJoin(f2, x -&gt; Flux.never(), y -&gt; Flux.never(),\r\n                    (x, yFlux) -&gt; yFlux.map(y -&gt; x + &quot;,&quot; + y))\r\n            .concatMap(flux -&gt; flux)\r\n            .subscribe(System.out::println);\r\n}\r\n```","title":"in groupJoin method,the param &#39;TrightEnd&#39; is type UnicastProcessor but size = 0","body":"<p>The difference between the two is that <code>y</code> in <code>Flux.groupJoin</code> is a <em>Flux</em> of all elements from <code>f2</code> with overlapping windows (in this case all 6 elements). Thus the <code>resultSelector</code> will receive the following elements:</p>\n<pre><code>(1, Flux.just(10,12,13,14,15,16))\n(2, Flux.just(10,12,13,14,15,16))\n(3, Flux.just(10,12,13,14,15,16))\n(10, Flux.just(10,12,13,14,15,16))\n(11, Flux.just(10,12,13,14,15,16))\n(12, Flux.just(10,12,13,14,15,16))\n(13, Flux.just(10,12,13,14,15,16))\n(14, Flux.just(10,12,13,14,15,16))\n</code></pre>\n<p>Meanwhile, <code>Flux.join</code> will emit an element for every window between f1 and f2 that overlaps, for a total of 8 Ã 6 = 48 elements. These are then send to the <code>resultSelector</code>:</p>\n<pre><code>(1, 10)\n(1, 11)\n...\n(14, 15)\n(14, 16)\n</code></pre>\n<p>To get the desired result using groupJoin, you have to process the Flux received by the resultSelector, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testGroupJoin() {\n    Flux&lt;Integer&gt; f1 = Flux.just(1, 2, 3, 10, 11, 12, 13, 14);\n    Flux&lt;Integer&gt; f2 = Flux.just(10, 12, 13, 14, 15, 16);\n    f1.groupJoin(f2, x -&gt; Flux.never(), y -&gt; Flux.never(),\n                    (x, yFlux) -&gt; yFlux.map(y -&gt; x + &quot;,&quot; + y))\n            .concatMap(flux -&gt; flux)\n            .subscribe(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":27168820,"reputation":3,"user_id":20705861,"display_name":"Mr.Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74753444,"answer_count":1,"score":0,"last_activity_date":1670679811,"creation_date":1670387034,"question_id":74711740,"body_markdown":"```\r\npublic static void testGroupJoin(){\r\n    Flux&lt;Integer&gt; f1 = Flux.just(1,2,3,10,11,12,13,14);\r\n    Flux&lt;Integer&gt; f2 = Flux.just(10,12,13,14,15,16);\r\n    f1.groupJoin(f2,x-&gt;Flux.never(),y-&gt; Flux.never(),(x,y)-&gt;{\r\n        return x+&quot;,&quot;+y;\r\n    }).subscribe(System.out::println);\r\n}\r\n```\r\nthe y.size = 0  i dont know why;\r\n\r\ni try use method  join() , is running well;\r\n\r\n```\r\npublic static void testJoin(){\r\n    Flux&lt;Integer&gt; f1 = Flux.just(1,2,3,10,11,12,13,14);\r\n    Flux&lt;Integer&gt; f2 = Flux.just(10,12,13,14,15,16);\r\n    f1.join(f2,x-&gt;Flux.never(),y-&gt; Flux.never(),(x,y)-&gt;{\r\n        return x+&quot;,&quot;+y;\r\n    }).subscribe(System.out::println);\r\n}\r\n```\r\n\r\ni want get data {1:(10,12,13,14,15,16)},{2:(10,12,13,14,15,16)}....\r\nand i know achieve the effect by use method join() and groupBy()\r\ni just want know groupJoin how to work","title":"in groupJoin method,the param &#39;TrightEnd&#39; is type UnicastProcessor but size = 0","body":"<pre><code>public static void testGroupJoin(){\n    Flux&lt;Integer&gt; f1 = Flux.just(1,2,3,10,11,12,13,14);\n    Flux&lt;Integer&gt; f2 = Flux.just(10,12,13,14,15,16);\n    f1.groupJoin(f2,x-&gt;Flux.never(),y-&gt; Flux.never(),(x,y)-&gt;{\n        return x+&quot;,&quot;+y;\n    }).subscribe(System.out::println);\n}\n</code></pre>\n<p>the y.size = 0  i dont know why;</p>\n<p>i try use method  join() , is running well;</p>\n<pre><code>public static void testJoin(){\n    Flux&lt;Integer&gt; f1 = Flux.just(1,2,3,10,11,12,13,14);\n    Flux&lt;Integer&gt; f2 = Flux.just(10,12,13,14,15,16);\n    f1.join(f2,x-&gt;Flux.never(),y-&gt; Flux.never(),(x,y)-&gt;{\n        return x+&quot;,&quot;+y;\n    }).subscribe(System.out::println);\n}\n</code></pre>\n<p>i want get data {1:(10,12,13,14,15,16)},{2:(10,12,13,14,15,16)}....\nand i know achieve the effect by use method join() and groupBy()\ni just want know groupJoin how to work</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9174,"page":818,"page_size":100}
